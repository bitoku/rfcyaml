- contents:
  - '            IS-IS Traffic Engineering (TE) Metric Extensions

    '
  title: __initial_text__
- contents:
  - "Abstract\n   In certain networks, such as, but not limited to, financial\n   information
    networks (e.g., stock market data providers), network-\n   performance criteria
    (e.g., latency) are becoming as critical to\n   data-path selection as other metrics.\n
    \  This document describes extensions to IS-IS Traffic Engineering\n   Extensions
    (RFC 5305).  These extensions provide a way to distribute\n   and collect network-performance
    information in a scalable fashion.\n   The information distributed using IS-IS
    TE Metric Extensions can then\n   be used to make path-selection decisions based
    on network\n   performance.\n   Note that this document only covers the mechanisms
    with which\n   network-performance information is distributed.  The mechanisms
    for\n   measuring network performance or acting on that information, once\n   distributed,
    are outside the scope of this document.\n   This document obsoletes RFC 7810.\n"
  title: Abstract
- contents:
  - "Status of This Memo\n   This is an Internet Standards Track document.\n   This
    document is a product of the Internet Engineering Task Force\n   (IETF).  It represents
    the consensus of the IETF community.  It has\n   received public review and has
    been approved for publication by the\n   Internet Engineering Steering Group (IESG).
    \ Further information on\n   Internet Standards is available in Section 2 of RFC
    7841.\n   Information about the current status of this document, any errata,\n
    \  and how to provide feedback on it may be obtained at\n   https://www.rfc-editor.org/info/rfc8570.\n"
  title: Status of This Memo
- contents:
  - "Copyright Notice\n   Copyright (c) 2019 IETF Trust and the persons identified
    as the\n   document authors.  All rights reserved.\n   This document is subject
    to BCP 78 and the IETF Trust's Legal\n   Provisions Relating to IETF Documents\n
    \  (https://trustee.ietf.org/license-info) in effect on the date of\n   publication
    of this document.  Please review these documents\n   carefully, as they describe
    your rights and restrictions with respect\n   to this document.  Code Components
    extracted from this document must\n   include Simplified BSD License text as described
    in Section 4.e of\n   the Trust Legal Provisions and are provided without warranty
    as\n   described in the Simplified BSD License.\n"
  title: Copyright Notice
- contents:
  - "Table of Contents\n   1. Introduction ....................................................3\n
    \     1.1. Requirements Language ......................................4\n   2.
    TE Metric Extensions to IS-IS ...................................5\n   3. Interface
    and Neighbor Addresses ................................6\n   4. Sub-TLV Details
    .................................................7\n      4.1. Unidirectional
    Link Delay Sub-TLV ..........................7\n      4.2. Min/Max Unidirectional
    Link Delay Sub-TLV ..................8\n      4.3. Unidirectional Delay Variation
    Sub-TLV .....................9\n      4.4. Unidirectional Link Loss Sub-TLV ..........................10\n
    \     4.5. Unidirectional Residual Bandwidth Sub-TLV .................11\n      4.6.
    Unidirectional Available Bandwidth Sub-TLV ................12\n      4.7. Unidirectional
    Utilized Bandwidth Sub-TLV .................13\n   5. Announcement Thresholds
    and Filters ............................13\n   6. Announcement Suppression .......................................14\n
    \  7. Network Stability and Announcement Periodicity .................15\n   8.
    Enabling and Disabling Sub-TLVs ................................15\n   9. Static
    Metric Override .........................................15\n   10. Compatibility
    .................................................15\n   11. Security Considerations
    .......................................15\n   12. IANA Considerations ...........................................16\n
    \  13. References ....................................................17\n      13.1.
    Normative References .....................................17\n      13.2. Informative
    References ...................................18\n   Appendix A. Changes from
    RFC 7810 .................................19\n   Acknowledgements ..................................................20\n
    \  Contributors ......................................................20\n   Authors'
    Addresses ................................................21\n"
  title: Table of Contents
- contents:
  - "1.  Introduction\n   In certain networks, such as, but not limited to, financial\n
    \  information networks (e.g., stock market data providers), network-\n   performance
    information (e.g., latency) is becoming as critical to\n   data-path selection
    as other metrics.\n   In these networks, extremely large amounts of money rest
    on the\n   ability to access market data in \"real time\" and to predictably make\n
    \  trades faster than the competition.  Because of this, using metrics\n   such
    as hop count or cost as routing metrics is becoming only\n   tangentially important.
    \ Rather, it would be beneficial to be able to\n   make path-selection decisions
    based on performance data (such as\n   latency) in a cost-effective and scalable
    way.\n   This document describes extensions (hereafter called \"IS-IS TE Metric\n
    \  Extensions\") to the Extended IS Reachability TLV defined in\n   [RFC5305];
    these extensions can be used to distribute network-\n   performance information
    (such as link delay, delay variation, packet\n   loss, residual bandwidth, and
    available bandwidth).\n   The data distributed by the IS-IS TE Metric Extensions
    described in\n   this document is meant to be used as part of the operation of
    the\n   routing protocol (e.g., by replacing cost with latency or considering\n
    \  bandwidth as well as cost), to enhance Constrained Shortest Path\n   First
    (CSPF), or for other uses such as supplementing the data used\n   by an Application-Layer
    Traffic Optimization (ALTO) server [RFC7285].\n   With respect to CSPF, the data
    distributed by IS-IS TE Metric\n   Extensions can be used to set up, fail over,
    and fail back data paths\n   using protocols such as RSVP-TE [RFC3209].\n   Note
    that the mechanisms described in this document only disseminate\n   performance
    information.  The methods for initially gathering that\n   performance information
    (such as the methods described in [RFC6375])\n   or how to act on the information
    once it is distributed are outside\n   the scope of this document.  Example mechanisms
    to measure latency,\n   delay variation, and loss in an MPLS network are given
    in [RFC6374].\n   While this document does not specify how the performance information\n
    \  should be obtained, the measurement of delay SHOULD NOT vary\n   significantly
    based upon the offered traffic load.  Thus, queuing\n   delays SHOULD NOT be included
    in the delay measurement.  For links\n   such as forwarding adjacencies [RFC4206],
    care must be taken that\n   measurement of the associated delay avoids significant
    queuing\n   delays; that could be accomplished in a variety of ways, including\n
    \  either (1) measuring with a traffic class that experiences minimal\n   queuing
    or (2) summing the measured link delays of the components of\n   the link's path.\n
    \  This document obsoletes [RFC7810].\n"
  - contents:
    - "1.1.  Requirements Language\n   The key words \"MUST\", \"MUST NOT\", \"REQUIRED\",
      \"SHALL\", \"SHALL NOT\",\n   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"NOT
      RECOMMENDED\", \"MAY\", and\n   \"OPTIONAL\" in this document are to be interpreted
      as described in\n   BCP 14 [RFC2119] [RFC8174] when, and only when, they appear
      in all\n   capitals, as shown here.\n"
    title: 1.1.  Requirements Language
  title: 1.  Introduction
- contents:
  - "2.  TE Metric Extensions to IS-IS\n   This document registers new IS-IS TE sub-TLVs
    in the \"Sub-TLVs for\n   TLVs 22, 23, 141, 222, and 223\" registry.  These new
    sub-TLVs provide\n   ways to distribute network-performance information.  The
    extensions\n   in this document build on the extensions provided in IS-IS TE\n
    \  [RFC5305] and GMPLS [RFC4203].\n   The Extended IS Reachability TLV (type 22)
    (defined in [RFC5305]),\n   Inter-AS Reachability TLV (also called \"inter-AS
    reachability\n   information TLV\") (type 141) (defined in [RFC5316]), and MT-ISN
    TLV\n   (type 222) (defined in [RFC5120]) have nested sub-TLVs that permit\n   the
    TLVs to be readily extended.  This document registers several\n   sub-TLVs:\n
    \     Type    Description\n      ----------------------------------------------------\n
    \      33     Unidirectional Link Delay\n       34     Min/Max Unidirectional
    Link Delay\n       35     Unidirectional Delay Variation\n       36     Unidirectional
    Link Loss\n       37     Unidirectional Residual Bandwidth\n       38     Unidirectional
    Available Bandwidth\n       39     Unidirectional Utilized Bandwidth\n   As can
    be seen in the list above, the sub-TLVs described in this\n   document carry different
    types of network-performance information.\n   The new sub-TLVs include a bit called
    the Anomalous (or \"A\") bit.\n   When the A bit is clear (or when the sub-TLV
    does not include an\n   A bit), the sub-TLV describes steady-state link performance.
    \ This\n   information could conceivably be used to construct a steady-state\n
    \  performance topology for initial tunnel-path computation or to verify\n   alternative
    failover paths.\n   When network performance violates configurable link-local
    thresholds,\n   a sub-TLV with the A bit set is advertised.  That sub-TLV could
    be\n   used by the receiving node to determine whether to (1) fail traffic\n   to
    a backup path or (2) calculate an entirely new path.  From an MPLS\n   perspective,
    the intent of the A bit is to permit label switched path\n   ingress nodes to
    determine whether the link referenced in the sub-TLV\n   affects any of the label
    switched paths for which it is ingress.  If\n   they are affected, then they can
    determine whether those label\n   switched paths still meet end-to-end performance
    objectives.  If not,\n   then the node could conceivably move affected traffic
    to a\n   pre-established protection label switched path or establish a new\n   label
    switched path and place the traffic in it.\n   If link performance then improves
    beyond a configurable minimum value\n   (reuse threshold), that sub-TLV can be
    re-advertised with the A bit\n   cleared.  In this case, a receiving node can
    conceivably do whatever\n   re-optimization (or failback) it wishes to do (including
    nothing).\n   Note that when a sub-TLV does not include the A bit, that sub-TLV\n
    \  cannot be used for failover purposes.  The A bit was intentionally\n   omitted
    from some sub-TLVs to help mitigate oscillations.  See\n   Section 5 for more
    information.\n   Consistent with the existing IS-IS TE specification [RFC5305],
    the\n   bandwidth advertisements defined in this document MUST be encoded as\n
    \  IEEE floating-point values [IEEE754].  The delay and delay-variation\n   advertisements
    defined in this document MUST be encoded as integer\n   values.  Delay values
    MUST be quantified in units of microseconds,\n   packet loss MUST be quantified
    as a percentage of packets sent, and\n   bandwidth MUST be sent as bytes per second.
    \ All values (except\n   residual bandwidth) MUST be calculated as rolling averages,
    where the\n   averaging period MUST be a configurable period of time.  See\n   Section
    5 for more information.\n"
  title: 2.  TE Metric Extensions to IS-IS
- contents:
  - "3.  Interface and Neighbor Addresses\n   The use of IS-IS TE Metric Extensions
    sub-TLVs is not confined to the\n   TE context.  In other words, IS-IS TE Metric
    Extensions sub-TLVs\n   defined in this document can also be used for computing
    paths in the\n   absence of a TE subsystem.\n   However, as for the TE case, Interface
    Address and Neighbor Address\n   sub-TLVs (IPv4 or IPv6) MUST be present.  The
    encoding is defined in\n   [RFC5305] for IPv4 and in [RFC6119] for IPv6.\n"
  title: 3.  Interface and Neighbor Addresses
- contents:
  - '4.  Sub-TLV Details

    '
  - contents:
    - "4.1.  Unidirectional Link Delay Sub-TLV\n   This sub-TLV advertises the average
      link delay between two directly\n   connected IS-IS neighbors.  The delay advertised
      by this sub-TLV MUST\n   be the delay from the local neighbor to the remote
      neighbor (i.e.,\n   the forward-path latency).  The format of this sub-TLV is
      shown in\n   the following diagram:\n     0                   1                   2
      \                  3\n     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4
      5 6 7 8 9 0 1\n    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n    |   Type        |
      \    Length    |\n    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \   |A|  RESERVED   |                   Delay                       |\n    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \                                Figure 1\n   where:\n   Type:  33\n   Length:
      \ 4\n   A bit:  This field represents the Anomalous (A) bit.  The A bit is\n
      \     set when the measured value of this parameter exceeds its\n      configured
      maximum threshold.  The A bit is cleared when the\n      measured value falls
      below its configured reuse threshold.  If the\n      A bit is cleared, the sub-TLV
      represents steady-state link\n      performance.\n   RESERVED:  This field is
      reserved for future use.  It MUST be set\n      to 0 when sent and MUST be ignored
      when received.\n   Delay:  This 24-bit field carries the average link delay
      over a\n      configurable interval in microseconds, encoded as an integer\n
      \     value.  When set to the maximum value 16,777,215\n      (16.777215 seconds),
      then the delay is at least that value and may\n      be larger.\n"
    title: 4.1.  Unidirectional Link Delay Sub-TLV
  - contents:
    - "4.2.  Min/Max Unidirectional Link Delay Sub-TLV\n   This sub-TLV advertises
      the minimum and maximum delay values between\n   two directly connected IS-IS
      neighbors.  The delay advertised by this\n   sub-TLV MUST be the delay from
      the local neighbor to the remote\n   neighbor (i.e., the forward-path latency).
      \ The format of this\n   sub-TLV is shown in the following diagram:\n     0
      \                  1                   2                   3\n     0 1 2 3 4
      5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \   |   Type        |     Length    |\n    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \   |A| RESERVED    |                   Min Delay                   |\n    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \   |   RESERVED    |                   Max Delay                   |\n    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \                                Figure 2\n   where:\n   Type:  34\n   Length:
      \ 8\n   A bit:  This field represents the Anomalous (A) bit.  The A bit is\n
      \     set when one or more measured values exceed a configured maximum\n      threshold.
      \ The A bit is cleared when the measured value falls\n      below its configured
      reuse threshold.  If the A bit is cleared,\n      the sub-TLV represents steady-state
      link performance.\n   RESERVED:  This field is reserved for future use.  It
      MUST be set\n      to 0 when sent and MUST be ignored when received.\n   Min
      Delay:  This 24-bit field carries the minimum measured link delay\n      value
      (in microseconds) over a configurable interval, encoded as\n      an integer
      value.\n   Max Delay:  This 24-bit field carries the maximum measured link delay\n
      \     value (in microseconds) over a configurable interval, encoded as\n      an
      integer value.\n   Implementations MAY also permit the configuration of an offset
      value\n   (in microseconds) to be added to the measured delay value, to\n   facilitate
      the communication of operator-specific delay constraints.\n   It is possible
      for Min Delay and Max Delay to be the same value.\n   When the delay value (Min
      Delay or Max Delay) is set to the maximum\n   value 16,777,215 (16.777215 seconds),
      then the delay is at least that\n   value and may be larger.\n"
    title: 4.2.  Min/Max Unidirectional Link Delay Sub-TLV
  - contents:
    - "4.3.  Unidirectional Delay Variation Sub-TLV\n   This sub-TLV advertises the
      average link delay variation between two\n   directly connected IS-IS neighbors.
      \ The delay variation advertised\n   by this sub-TLV MUST be the delay from
      the local neighbor to the\n   remote neighbor (i.e., the forward-path latency).
      \ The format of this\n   sub-TLV is shown in the following diagram:\n     0
      \                  1                   2                   3\n     0 1 2 3 4
      5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \   |   Type        |     Length    |\n    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \   |  RESERVED     |               Delay Variation                 |\n    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \                                Figure 3\n   where:\n   Type:  35\n   Length:
      \ 4\n   RESERVED:  This field is reserved for future use.  It MUST be set\n
      \     to 0 when sent and MUST be ignored when received.\n   Delay Variation:
      \ This 24-bit field carries the average link delay\n      variation over a configurable
      interval in microseconds, encoded as\n      an integer value.  When set to 0,
      it has not been measured.  When\n      set to the maximum value 16,777,215 (16.777215
      seconds), then the\n      delay is at least that value and may be larger.\n"
    title: 4.3.  Unidirectional Delay Variation Sub-TLV
  - contents:
    - "4.4.  Unidirectional Link Loss Sub-TLV\n   This sub-TLV advertises the loss
      (as a packet percentage) between two\n   directly connected IS-IS neighbors.
      \ The link loss advertised by this\n   sub-TLV MUST be the packet loss from
      the local neighbor to the remote\n   neighbor (i.e., the forward-path loss).
      \ The format of this sub-TLV\n   is shown in the following diagram:\n     0
      \                  1                   2                   3\n     0 1 2 3 4
      5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \   |   Type        |     Length    |\n    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \   |A|  RESERVED   |                    Link Loss                  |\n    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \                                Figure 4\n   where:\n   Type:  36\n   Length:
      \ 4\n   A bit:  This field represents the Anomalous (A) bit.  The A bit is\n
      \     set when the measured value of this parameter exceeds its\n      configured
      maximum threshold.  The A bit is cleared when the\n      measured value falls
      below its configured reuse threshold.  If the\n      A bit is cleared, the sub-TLV
      represents steady-state link\n      performance.\n   RESERVED:  This field is
      reserved for future use.  It MUST be set\n      to 0 when sent and MUST be ignored
      when received.\n   Link Loss:  This 24-bit field carries link packet loss as
      a\n      percentage of the total traffic sent over a configurable interval.\n
      \     The basic unit is 0.000003%, where (2^24 - 2) is 50.331642%.  This\n      value
      is the highest packet-loss percentage that can be expressed\n      (the assumptions
      being that (1) precision is more important on\n      high-speed links than the
      ability to advertise loss rates greater\n      than this and (2) high-speed
      links with over 50% loss are\n      unusable).  Therefore, measured values that
      are larger than the\n      field maximum SHOULD be encoded as the maximum value.\n"
    title: 4.4.  Unidirectional Link Loss Sub-TLV
  - contents:
    - "4.5.  Unidirectional Residual Bandwidth Sub-TLV\n   This sub-TLV advertises
      the residual bandwidth between two directly\n   connected IS-IS neighbors.  The
      residual bandwidth advertised by this\n   sub-TLV MUST be the residual bandwidth
      from the system originating\n   the Link State Advertisement (LSA) to its neighbor.\n
      \    0                   1                   2                   3\n     0 1
      2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \   |   Type        |     Length    |\n    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \   |                          Residual Bandwidth                   |\n    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \                                Figure 5\n   where:\n   Type:  37\n   Length:
      \ 4\n   Residual Bandwidth:  This field carries the residual bandwidth on a\n
      \     link, forwarding adjacency [RFC4206], or bundled link in IEEE\n      floating-point
      format with units of bytes per second.  For a link\n      or forwarding adjacency,
      residual bandwidth is defined to be the\n      maximum bandwidth [RFC5305] minus
      the bandwidth currently\n      allocated to RSVP-TE label switched paths.  For
      a bundled link,\n      residual bandwidth is defined to be the sum of the component
      link\n      residual bandwidths.\n      The calculation of residual bandwidth
      is different than that of\n      unreserved bandwidth [RFC5305].  This calculation
      subtracts tunnel\n      reservations from maximum bandwidth (i.e., the link
      capacity)\n      [RFC5305] and provides an aggregated remainder across priorities.\n
      \     Unreserved bandwidth, on the other hand, is subtracted from the\n      maximum
      reservable bandwidth (the bandwidth that can theoretically\n      be reserved)
      and provides per-priority remainders.  Residual\n      bandwidth and unreserved
      bandwidth [RFC5305] can be used\n      concurrently, and each has a separate
      use case (e.g., the former\n      can be used for applications like Weighted
      ECMP, while the latter\n      can be used for call admission control).\n"
    title: 4.5.  Unidirectional Residual Bandwidth Sub-TLV
  - contents:
    - "4.6.  Unidirectional Available Bandwidth Sub-TLV\n   This sub-TLV advertises
      the available bandwidth between two directly\n   connected IS-IS neighbors.
      \ The available bandwidth advertised by\n   this sub-TLV MUST be the available
      bandwidth from the system\n   originating this sub-TLV.  The format of this
      sub-TLV is shown in the\n   following diagram:\n     0                   1                   2
      \                  3\n     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4
      5 6 7 8 9 0 1\n    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n    |   Type        |
      \    Length    |\n    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \   |                      Available Bandwidth                      |\n    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \                                Figure 6\n   where:\n   Type:  38\n   Length:
      \ 4\n   Available Bandwidth:  This field carries the available bandwidth on
      a\n      link, forwarding adjacency, or bundled link in IEEE floating-point\n
      \     format with units of bytes per second.  For a link or forwarding\n      adjacency,
      available bandwidth is defined to be residual bandwidth\n      (see Section
      4.5) minus the measured bandwidth used for the actual\n      forwarding of non-RSVP-TE
      label switched path packets.  For a\n      bundled link, available bandwidth
      is defined to be the sum of the\n      component link available bandwidths.\n"
    title: 4.6.  Unidirectional Available Bandwidth Sub-TLV
  - contents:
    - "4.7.  Unidirectional Utilized Bandwidth Sub-TLV\n   This sub-TLV advertises
      the bandwidth utilization between two\n   directly connected IS-IS neighbors.
      \ The bandwidth utilization\n   advertised by this sub-TLV MUST be the bandwidth
      from the system\n   originating this sub-TLV.  The format of this sub-TLV is
      shown in the\n   following diagram:\n     0                   1                   2
      \                  3\n     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4
      5 6 7 8 9 0 1\n    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n    |   Type        |
      \    Length    |\n    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \   |                     Utilized Bandwidth                        |\n    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \                                Figure 7\n   where:\n   Type:  39\n   Length:
      \ 4\n   Utilized Bandwidth:  This field carries the bandwidth utilization on\n
      \     a link, forwarding adjacency, or bundled link in IEEE\n      floating-point
      format with units of bytes per second.  For a link\n      or forwarding adjacency,
      bandwidth utilization represents the\n      actual utilization of the link (i.e.,
      as measured by the\n      advertising node).  For a bundled link, bandwidth
      utilization is\n      defined to be the sum of the component link bandwidth\n
      \     utilizations.\n"
    title: 4.7.  Unidirectional Utilized Bandwidth Sub-TLV
  title: 4.  Sub-TLV Details
- contents:
  - "5.  Announcement Thresholds and Filters\n   The values advertised in all sub-TLVs
    (except minimum/maximum delay\n   and residual bandwidth) MUST represent an average
    over a period of\n   time or be obtained by a filter that is reasonably representative
    of\n   an average.  For example, a rolling average is one such filter.\n   Minimum
    and maximum delay MUST each be derived in one of the\n   following ways: by taking
    the lowest and/or highest measured value\n   over a measurement interval or by
    making use of a filter or other\n   technique to obtain a reasonable representation
    of a minimum value\n   and a maximum value representative of the interval, with
    compensation\n   for outliers.\n   The measurement interval, any filter coefficients,
    and any\n   advertisement intervals MUST be configurable per sub-TLV.\n   In addition
    to the measurement intervals governing re-advertisement,\n   implementations SHOULD
    provide configurable accelerated advertisement\n   thresholds per sub-TLV, such
    that:\n   1.  If the measured parameter falls outside a configured upper bound\n
    \      for all but the minimum delay metric (or lower bound for the\n       minimum
    delay metric only) and the advertised sub-TLV is not\n       already outside that
    bound, or\n   2.  If the difference between the last advertised value and current\n
    \      measured value exceeds a configured threshold, then\n   3.  The advertisement
    is made immediately.\n   4.  For sub-TLVs that include an A bit, an additional
    threshold\n       SHOULD be included corresponding to the threshold for which
    the\n       performance is considered anomalous (and sub-TLVs with the A bit\n
    \      are sent).  The A bit is cleared when the sub-TLV's performance\n       has
    been below (or re-crosses) this threshold for one or more\n       advertisement
    intervals to permit failback.\n   To prevent oscillations, only the high threshold
    or the low threshold\n   (but not both) may be used to trigger any given sub-TLV
    that\n   supports both.\n   Additionally, once outside the bounds of the threshold,
    any\n   re-advertisement of a measurement within the bounds would remain\n   governed
    solely by the measurement interval for that sub-TLV.\n"
  title: 5.  Announcement Thresholds and Filters
- contents:
  - "6.  Announcement Suppression\n   When link-performance values change by small
    amounts that fall under\n   thresholds that would cause the announcement of a
    sub-TLV,\n   implementations SHOULD suppress sub-TLV re-advertisement and/or\n
    \  lengthen the period within which the sub-TLVs are refreshed.\n   Only the accelerated
    advertisement threshold mechanism described in\n   Section 5 may shorten the re-advertisement
    interval.  All suppression\n   and re-advertisement interval backoff timer features
    SHOULD be\n   configurable.\n"
  title: 6.  Announcement Suppression
- contents:
  - "7.  Network Stability and Announcement Periodicity\n   Sections 5 and 6 provide
    configurable mechanisms to bound the number\n   of re-advertisements.  Instability
    might occur in very large networks\n   if measurement intervals are set low enough
    to overwhelm the\n   processing of flooded information at some of the routers
    in the\n   topology.  Therefore, care should be taken in setting these values.\n
    \  Additionally, the default measurement interval for all sub-TLVs\n   SHOULD
    be 30 seconds.\n   Announcements MUST also be able to be throttled using configurable\n
    \  inter-update throttle timers.  The minimum announcement periodicity\n   is
    one announcement per second.  The default value SHOULD be set to\n   120 seconds.\n
    \  Implementations SHOULD NOT permit the inter-update timer to be lower\n   than
    the measurement interval.\n   Furthermore, it is RECOMMENDED that any underlying
    performance-\n   measurement mechanisms not include any significant buffer delay,
    any\n   significant buffer-induced delay variation, or any significant loss\n
    \  due to buffer overflow or due to active queue management.\n"
  title: 7.  Network Stability and Announcement Periodicity
- contents:
  - "8.  Enabling and Disabling Sub-TLVs\n   Implementations MUST make it possible
    to individually enable or\n   disable each sub-TLV based on configuration.\n"
  title: 8.  Enabling and Disabling Sub-TLVs
- contents:
  - "9.  Static Metric Override\n   Implementations SHOULD permit static configuration
    and/or manual\n   override of dynamic measurements for each sub-TLV in order to\n
    \  simplify migration and to mitigate scenarios where dynamic\n   measurements
    are not possible.\n"
  title: 9.  Static Metric Override
- contents:
  - "10.  Compatibility\n   As per [RFC5305], unrecognized sub-TLVs should be silently
    ignored.\n"
  title: 10.  Compatibility
- contents:
  - "11.  Security Considerations\n   The sub-TLVs introduced in this document allow
    an operator to\n   advertise state information of links (bandwidth, delay) that
    could be\n   sensitive and that an operator may not want to disclose.\n   Section
    7 describes a mechanism to ensure network stability when the\n   new sub-TLVs
    defined in this document are advertised.\n   Implementations SHOULD follow the
    described guidelines to mitigate\n   the risk of instability.\n   [RFC5304] describes
    an authentication method for IS-IS Link State\n   PDUs that allows cryptographic
    authentication of IS-IS Link State\n   PDUs.\n   It is anticipated that in most
    deployments, the IS-IS protocol is\n   used within an infrastructure entirely
    under the control of the same\n   operator.  However, it is worth considering
    that the effect of\n   sending IS-IS Traffic Engineering sub-TLVs over insecure
    links could\n   include a man-in-the-middle attacker delaying real-time data to
    a\n   given site or destination; this could negatively affect the value of\n   the
    data for that site or destination.  The use of Link State PDU\n   cryptographic
    authentication allows mitigation of the risk of\n   man-in-the-middle attacks.\n"
  title: 11.  Security Considerations
- contents:
  - "12.  IANA Considerations\n   IANA maintains the registry for the sub-TLVs.  IANA
    has registered\n   the following sub-TLVs in the \"Sub-TLVs for TLVs 22, 23, 141,
    222,\n   and 223\" registry:\n      Type    Description\n      ----------------------------------------------------\n
    \      33     Unidirectional Link Delay\n       34     Min/Max Unidirectional
    Link Delay\n       35     Unidirectional Delay Variation\n       36     Unidirectional
    Link Loss\n       37     Unidirectional Residual Bandwidth\n       38     Unidirectional
    Available Bandwidth\n       39     Unidirectional Utilized Bandwidth\n"
  title: 12.  IANA Considerations
- contents:
  - '13.  References

    '
  - contents:
    - "13.1.  Normative References\n   [IEEE754]  Institute of Electrical and Electronics
      Engineers, \"IEEE\n              Standard for Floating-Point Arithmetic\", IEEE\n
      \             Std 754-2008.\n   [RFC2119]  Bradner, S., \"Key words for use
      in RFCs to Indicate\n              Requirement Levels\", BCP 14, RFC 2119,\n
      \             DOI 10.17487/RFC2119, March 1997,\n              <https://www.rfc-editor.org/info/rfc2119>.\n
      \  [RFC4206]  Kompella, K. and Y. Rekhter, \"Label Switched Paths (LSP)\n              Hierarchy
      with Generalized Multi-Protocol Label Switching\n              (GMPLS) Traffic
      Engineering (TE)\", RFC 4206,\n              DOI 10.17487/RFC4206, October 2005,\n
      \             <https://www.rfc-editor.org/info/rfc4206>.\n   [RFC5120]  Przygienda,
      T., Shen, N., and N. Sheth, \"M-ISIS: Multi\n              Topology (MT) Routing
      in Intermediate System to\n              Intermediate Systems (IS-ISs)\", RFC
      5120,\n              DOI 10.17487/RFC5120, February 2008,\n              <https://www.rfc-editor.org/info/rfc5120>.\n
      \  [RFC5304]  Li, T. and R. Atkinson, \"IS-IS Cryptographic\n              Authentication\",
      RFC 5304, DOI 10.17487/RFC5304,\n              October 2008, <https://www.rfc-editor.org/info/rfc5304>.\n
      \  [RFC5305]  Li, T. and H. Smit, \"IS-IS Extensions for Traffic\n              Engineering\",
      RFC 5305, DOI 10.17487/RFC5305,\n              October 2008, <https://www.rfc-editor.org/info/rfc5305>.\n
      \  [RFC5316]  Chen, M., Zhang, R., and X. Duan, \"ISIS Extensions in\n              Support
      of Inter-Autonomous System (AS) MPLS and GMPLS\n              Traffic Engineering\",
      RFC 5316, DOI 10.17487/RFC5316,\n              December 2008, <https://www.rfc-editor.org/info/rfc5316>.\n
      \  [RFC6119]  Harrison, J., Berger, J., and M. Bartlett, \"IPv6 Traffic\n              Engineering
      in IS-IS\", RFC 6119, DOI 10.17487/RFC6119,\n              February 2011, <https://www.rfc-editor.org/info/rfc6119>.\n
      \  [RFC7471]  Giacalone, S., Ward, D., Drake, J., Atlas, A., and S.\n              Previdi,
      \"OSPF Traffic Engineering (TE) Metric\n              Extensions\", RFC 7471,
      DOI 10.17487/RFC7471, March 2015,\n              <https://www.rfc-editor.org/info/rfc7471>.\n
      \  [RFC7810]  Previdi, S., Ed., Giacalone, S., Ward, D., Drake, J., and\n              Q.
      Wu, \"IS-IS Traffic Engineering (TE) Metric Extensions\",\n              RFC
      7810, DOI 10.17487/RFC7810, May 2016,\n              <https://www.rfc-editor.org/info/rfc7810>.\n
      \  [RFC8174]  Leiba, B., \"Ambiguity of Uppercase vs Lowercase in\n              RFC
      2119 Key Words\", BCP 14, RFC 8174,\n              DOI 10.17487/RFC8174, May
      2017,\n              <https://www.rfc-editor.org/info/rfc8174>.\n"
    title: 13.1.  Normative References
  - contents:
    - "13.2.  Informative References\n   [RFC3209]  Awduche, D., Berger, L., Gan,
      D., Li, T., Srinivasan, V.,\n              and G. Swallow, \"RSVP-TE: Extensions
      to RSVP for LSP\n              Tunnels\", RFC 3209, DOI 10.17487/RFC3209, December
      2001,\n              <https://www.rfc-editor.org/info/rfc3209>.\n   [RFC4203]
      \ Kompella, K., Ed. and Y. Rekhter, Ed., \"OSPF Extensions in\n              Support
      of Generalized Multi-Protocol Label Switching\n              (GMPLS)\", RFC
      4203, DOI 10.17487/RFC4203, October 2005,\n              <https://www.rfc-editor.org/info/rfc4203>.\n
      \  [RFC6374]  Frost, D. and S. Bryant, \"Packet Loss and Delay\n              Measurement
      for MPLS Networks\", RFC 6374,\n              DOI 10.17487/RFC6374, September
      2011,\n              <https://www.rfc-editor.org/info/rfc6374>.\n   [RFC6375]
      \ Frost, D., Ed. and S. Bryant, Ed., \"A Packet Loss and\n              Delay
      Measurement Profile for MPLS-Based Transport\n              Networks\", RFC
      6375, DOI 10.17487/RFC6375, September 2011,\n              <https://www.rfc-editor.org/info/rfc6375>.\n
      \  [RFC7285]  Alimi, R., Ed., Penno, R., Ed., Yang, Y., Ed., Kiesel, S.,\n              Previdi,
      S., Roome, W., Shalunov, S., and R. Woundy,\n              \"Application-Layer
      Traffic Optimization (ALTO) Protocol\",\n              RFC 7285, DOI 10.17487/RFC7285,
      September 2014,\n              <https://www.rfc-editor.org/info/rfc7285>.\n
      \  [RFC8571]  Ginsberg, L., Ed., Previdi, S., Wu, Q., Tantsura, J., and\n              C.
      Filsfils, \"BGP - Link State (BGP-LS) Advertisement of\n              IGP Traffic
      Engineering Performance Metric Extensions\",\n              RFC 8571, DOI 10.17487/RFC8571,
      March 2019,\n              <https://www.rfc-editor.org/info/rfc8571>.\n"
    title: 13.2.  Informative References
  title: 13.  References
- contents:
  - "Appendix A.  Changes from RFC 7810\n   Errata ID 5293 (https://www.rfc-editor.org/errata/eid5293)
    correctly\n   identified that in [RFC7810] the length associated with the following\n
    \  sub-TLVs did not match the figures associated with each:\n      37    Unidirectional
    Residual Bandwidth\n      38    Unidirectional Available Bandwidth\n      39    Unidirectional
    Utilized Bandwidth\n   The length specified was 4, which did not include the RESERVED
    field\n   shown in the figures.  Subsequent investigation revealed that some\n
    \  implementations had used the specified length (4) and omitted the\n   RESERVED
    field while other implementations included the specified\n   RESERVED field and
    used a length of 5.\n   Because these different implementation choices are not
    interoperable,\n   it was decided that a bis version should be generated to resolve
    this\n   ambiguity.\n   The choice made here is to omit the unused RESERVED field
    from these\n   sub-TLVs and use the length of 4.  This matches the corresponding\n
    \  advertisements specified in the equivalent OSPF TE specification\n   [RFC7471]
    and the corresponding BGP - Link State (BGP-LS)\n   specification [RFC8571].\n
    \  Some minor editorial corrections have also been made.\n   Errata ID 5486 (https://www.rfc-editor.org/errata/eid5486)
    identified\n   that in Section 4.6 of [RFC7810] the definition of available\n
    \  bandwidth on bundled links used a circular definition, i.e., it used\n   \"sum
    of the component link available bandwidths\" when it should have\n   used \"sum
    of the component link residual bandwidths\".  This has been\n   corrected and
    clarified.\n"
  title: Appendix A.  Changes from RFC 7810
- contents:
  - "Acknowledgements\n   In [RFC7810], the authors recognized Ayman Soliman, Nabil
    Bitar,\n   David McDysan, Edward Crabbe, Don Fedyk, Hannes Gredler, Uma\n   Chunduri,
    Alvaro Retana, Brian Weis, and Barry Leiba for their\n   contributions and reviews
    of this document.\n   The authors also recognized Curtis Villamizar for significant\n
    \  comments and direct content collaboration.\n   For this document, the authors
    thank Jeff Haas for identifying and\n   reporting the incorrect encoding of the
    bandwidth-related sub-TLVs.\n"
  title: Acknowledgements
- contents:
  - "Contributors\n   The following people contributed substantially to the content
    of this\n   document and should be considered coauthors:\n      Alia Atlas\n      Juniper
    Networks\n      United States of America\n      Email: akatlas@juniper.net\n      Clarence
    Filsfils\n      Cisco Systems, Inc.\n      Belgium\n      Email: cfilsfil@cisco.com\n"
  title: Contributors
- contents:
  - "Authors' Addresses\n   Les Ginsberg (editor)\n   Cisco Systems, Inc.\n   Email:
    ginsberg@cisco.com\n   Stefano Previdi (editor)\n   Huawei\n   Email: stefano@previdi.net\n
    \  Spencer Giacalone\n   Microsoft\n   Email: spencer.giacalone@gmail.com\n   Dave
    Ward\n   Cisco Systems, Inc.\n   Email: wardd@cisco.com\n   John Drake\n   Juniper
    Networks\n   1194 N. Mathilda Ave.\n   Sunnyvale, CA  94089\n   United States
    of America\n   Email: jdrake@juniper.net\n   Qin Wu\n   Huawei\n   101 Software
    Avenue, Yuhua District\n   Nanjing, Jiangsu  210012\n   China\n   Email: bill.wu@huawei.com\n"
  title: Authors' Addresses
