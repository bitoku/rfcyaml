Abstract This document specifies the Intermediate System to Intermediate System (IS IS) extensions necessary to support link state routing for any protocols running directly over Layer 2.
While supporting this concept involves several pieces, this document only describes extensions to IS IS.
Furthermore, the Type, Length, Value pairs (TLVs) described in this document are generic Layer 2 additions, and specific ones as needed are defined in the IS
We leave it to the systems using these IS IS extensions to explain how the information carried in IS IS is used.
There are a number of systems (for example, [RBRIDGES], [802.1aq], and [OTV])
that use Layer 2 addresses carried in a link state routing protocol, specifically Intermediate System to Intermediate System
[RFC1195], to provide true Layer 2 routing.
In almost all the technologies mentioned above, classical Layer 2 packets are encapsulated with an outer header.
The outer header format varies across all these technologies.
This outer header is used to route the encapsulated packets to their destination.
Each Intermediate System (IS) advertises one or more IS
IS Link State Protocol Data Units (PDUs) with routing information.
Each Link State PDU (LSP) is composed of a fixed header and a number of tuples, each consisting of a Type, a Length, and a Value.
Such tuples are commonly known as TLVs.
In this document, we specify a set of TLVs to be added to [IS IS] PDUs, to support these proposed systems.
The TLVs are generic Layer 2 additions, and specific ones, as needed, are defined in the IS IS technology specific extensions.
This document does not propose any new forwarding mechanisms using this additional information carried within IS IS.
The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in RFC 2119
TLV Enhancements to IS IS This section specifies the enhancements for the TLVs that are needed in common by Layer 2 technologies.
Multi Topology Aware Port Capability TLV
The Multi Topology aware Port Capability (MT PORT CAP) is IS
Length: Total number of bytes contained in the value field, including the length of the sub TLVs carried in this TLV.
: Reserved 4 bits, MUST be sent as zero and ignored on receipt.
Topology Identifier: MT ID is a 12 bit field containing the MT ID of the topology being announced.
This field when set to zero implies that it is being used to carry base topology information.
Sub TLVs: The MT PORT CAP TLV value contains sub TLVs formatted as described in [RFC5305].
They are defined in the technology  specific documents.
The MT PORT CAP TLV may occur multiple times and is carried within an IS
IS Hello (IIH) PDU. 2.2.
The MAC Reachability (MAC RI)
Type: TLV Type, set to 147 (MAC RI).
Length: Total number of bytes contained in the value field given by 5   6 n bytes.
Depending on the technology in which it is used, this carries the topology id or nickname.
When this field is set to zero, this implies that the Media Access Control (MAC) addresses are reachable across all topologies or across all nicknames of the originating IS.
Confidence: This carries an 8 bit quantity indicating the confidence level in the MAC addresses being transported.
Whether this field is used, and its semantics if used, are further defined by the specific protocol using Layer 2 IS IS.
If not used, it MUST be set to zero on transmission and be ignored on receipt.
RESV: (4 bits) MUST be sent as zero and ignored on receipt.
: This carries a 12 bit VLAN identifier that is valid for all subsequent MAC addresses in this TLV, or the value zero if no VLAN is specified.
: This is the 48 bit MAC address reachable from the IS that is announcing this TLV.
The MAC RI TLV is carried in a standard Link State PDU (LSP).
This TLV can be carried multiple times in an LSP and in multiple LSPs.
It MUST contain only unicast addresses.
The manner in which these TLVs are generated by the various Layer 2 routing technologies and the manner in which they are consumed are detailed in the technology  specific documents.
In most of the technologies, these MAC RI TLVs will translate to populating the hardware with these entries and with appropriate next  hop information as derived from the advertising IS.
This document adds no additional security risks to IS IS, nor does it provide any additional security for IS IS.
This document specifies the definition of a set of new IS IS TLVs
the Port Capability TLV (type 143) and the MAC Reachability TLV (type 147).
They are listed in the IS
SNP MT Port Cap TLV (143)
