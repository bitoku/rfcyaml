- title: __initial_text__
  contents:
  - '        Location Conveyance for the Session Initiation Protocol

    '
- title: Abstract
  contents:
  - "Abstract\n   This document defines an extension to the Session Initiation Protocol\n\
    \   (SIP) to convey geographic location information from one SIP entity\n   to\
    \ another SIP entity.  The SIP extension covers end-to-end\n   conveyance as well\
    \ as location-based routing, where SIP\n   intermediaries make routing decisions\
    \ based upon the location of the\n   Location Target.\n"
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This is an Internet Standards Track document.\n   This\
    \ document is a product of the Internet Engineering Task Force\n   (IETF).  It\
    \ represents the consensus of the IETF community.  It has\n   received public\
    \ review and has been approved for publication by the\n   Internet Engineering\
    \ Steering Group (IESG).  Further information on\n   Internet Standards is available\
    \ in Section 2 of RFC 5741.\n   Information about the current status of this document,\
    \ any errata,\n   and how to provide feedback on it may be obtained at\n   http://www.rfc-editor.org/info/rfc6442.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (c) 2011 IETF Trust and the persons identified\
    \ as the\n   document authors.  All rights reserved.\n   This document is subject\
    \ to BCP 78 and the IETF Trust's Legal\n   Provisions Relating to IETF Documents\n\
    \   (http://trustee.ietf.org/license-info) in effect on the date of\n   publication\
    \ of this document.  Please review these documents\n   carefully, as they describe\
    \ your rights and restrictions with respect\n   to this document.  Code Components\
    \ extracted from this document must\n   include Simplified BSD License text as\
    \ described in Section 4.e of\n   the Trust Legal Provisions and are provided\
    \ without warranty as\n   described in the Simplified BSD License.\n   This document\
    \ may contain material from IETF Documents or IETF\n   Contributions published\
    \ or made publicly available before November\n   10, 2008.  The person(s) controlling\
    \ the copyright in some of this\n   material may not have granted the IETF Trust\
    \ the right to allow\n   modifications of such material outside the IETF Standards\
    \ Process.\n   Without obtaining an adequate license from the person(s) controlling\n\
    \   the copyright in such materials, this document may not be modified\n   outside\
    \ the IETF Standards Process, and derivative works of it may\n   not be created\
    \ outside the IETF Standards Process, except to format\n   it for publication\
    \ as an RFC or to translate it into languages other\n   than English.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1. Introduction ....................................................3\n\
    \   2. Conventions and Terminology Used in This Document ...............4\n  \
    \ 3. Overview of SIP Location Conveyance .............................4\n    \
    \  3.1. Location Conveyed by Value .................................4\n      3.2.\
    \ Location Conveyed as a Location URI ........................5\n      3.3. Location\
    \ Conveyed though a SIP Intermediary ................6\n      3.4. SIP Intermediary\
    \ Replacing Bad Location ....................7\n   4. SIP Extensions for Geolocation\
    \ Conveyance .......................8\n      4.1. The Geolocation Header Field\
    \ ...............................8\n      4.2. The Geolocation-Routing Header\
    \ Field ......................11\n           4.2.1. Explaining Geolocation-Routing\
    \ Header-Value\n                  States .............................................12\n\
    \      4.3. 424 (Bad Location Information) Response Code ..............14\n  \
    \    4.4. The Geolocation-Error Header Field ........................15\n    \
    \  4.5. Location URIs in Message Bodies ...........................19\n      4.6.\
    \ Location Profile Negotiation ..............................19\n   5. Geolocation\
    \ Examples ...........................................20\n      5.1. Location-by-Value\
    \ (in Coordinate Format) ..................20\n      5.2. Two Locations Composed\
    \ in Same Location Object Example ....21\n   6. Geopriv Privacy Considerations\
    \ .................................23\n   7. Security Considerations ........................................24\n\
    \   8. IANA Considerations ............................................26\n  \
    \    8.1. IANA Registration for the SIP Geolocation Header Field ....26\n    \
    \  8.2. IANA Registration for the SIP Geolocation-Routing\n           Header Field\
    \ ..............................................26\n      8.3. IANA Registration\
    \ for Location Profiles ...................27\n      8.4. IANA Registration for\
    \ 424 Response Code ...................27\n      8.5. IANA Registration of New\
    \ Geolocation-Error Header Field ...28\n      8.6. IANA Registration for the SIP\
    \ Geolocation-Error Codes .....28\n   9. Acknowledgements ...............................................29\n\
    \   10. References ....................................................29\n  \
    \    10.1. Normative References .....................................29\n    \
    \  10.2. Informative References ...................................31\n   Appendix\
    \ A. Requirements for SIP Location Conveyance ..............32\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   Session Initiation Protocol (SIP) [RFC3261] creates, modifies\
    \ and\n   terminates multimedia sessions.  SIP carries certain information\n \
    \  related to a session while establishing or maintaining calls.  This\n   document\
    \ defines how SIP conveys geographic location information of a\n   Target to a\
    \ Location Recipient (LR).  SIP acts as a Using Protocol of\n   location information,\
    \ as defined in RFC 3693.\n   In order to convey location information, this document\
    \ specifies\n   three new SIP header fields, Geolocation, Geolocation-Routing,\
    \ and\n   Geolocation-Error, which carry a reference to a Location Object (LO),\n\
    \   grant permission to route a SIP request based on the location-value\n   and\
    \ provide error notifications specific to location errors,\n   respectively. \
    \ The Location Object (LO) may appear in a MIME body\n   attached to the SIP request,\
    \ or it may be a remote resource in the\n   network.\n   A Target is an entity\
    \ whose location is being conveyed, per RFC 3693.\n   Thus, a Target could be\
    \ a SIP user agent (UA), some other IP device\n   (a router or a PC) that does\
    \ not have a SIP stack, a non-IP device (a\n   person or a black phone), or even\
    \ a non-communications device (a\n   building or store front).  In no way does\
    \ this document assume that\n   the SIP user agent client that sends a request\
    \ containing a location\n   object is necessarily the Target.  The location of\
    \ a Target conveyed\n   within SIP typically corresponds to that of a device controlled\
    \ by\n   the Target, for example, a mobile phone, but such devices can be\n  \
    \ separated from their owners, and moreover, in some cases, the user\n   agent\
    \ may not know its own location.\n   In the SIP context, a location recipient\
    \ will most likely be a SIP\n   UA, but due to the mediated nature of SIP architectures,\
    \ location\n   information conveyed by a single SIP request may have multiple\n\
    \   recipients, as any SIP proxy server in the signaling path that\n   inspects\
    \ the location of the Target must also be considered a\n   Location Recipient.\
    \  In presence-like architectures, an intermediary\n   that receives publications\
    \ of location information and distributes\n   them to watchers acts as a Location\
    \ Server per RFC 3693.  This\n   location conveyance mechanism can also be used\
    \ to deliver URIs\n   pointing to such Location Servers where prospective Location\n\
    \   Recipients can request Location Objects.\n"
- title: 2.  Conventions and Terminology Used in This Document
  contents:
  - "2.  Conventions and Terminology Used in This Document\n   The key words \"MUST\"\
    , \"MUST NOT\", \"REQUIRED\", \"SHALL\", \"SHALL NOT\",\n   \"SHOULD\", \"SHOULD\
    \ NOT\", \"RECOMMENDED\", \"MAY\", and \"OPTIONAL\" in this\n   document are to\
    \ be interpreted as described in [RFC2119].\n   Furthermore, this document uses\
    \ numerous terms defined in [RFC3693],\n   including: Location Object, Location\
    \ Recipient, Location Server,\n   Target, Rule Maker, and Using Protocol.\n"
- title: 3.  Overview of SIP Location Conveyance
  contents:
  - "3.  Overview of SIP Location Conveyance\n   An operational overview of SIP location\
    \ conveyance can be shown in\n   four basic diagrams, with most applications falling\
    \ under one of the\n   following basic use cases.  Each is separated into its\
    \ own subsection\n   here in Section 3.\n   Each diagram has Alice and Bob as\
    \ UAs.  Alice is the Target, and Bob\n   is an LR.  A SIP intermediary appears\
    \ in some of the diagrams.  Any\n   SIP entity that receives and inspects location\
    \ information is an LR;\n   therefore, in any of the diagrams, the SIP intermediary\
    \ that receives\n   a SIP request is potentially an LR -- though that does not\
    \ mean such\n   an intermediary necessarily has to route the SIP request based\
    \ on the\n   location information.  In some use cases, location information passes\n\
    \   through the LS on the right of each diagram.\n"
- title: 3.1.  Location Conveyed by Value
  contents:
  - "3.1.  Location Conveyed by Value\n   We start with the simplest diagram of Location\
    \ Conveyance, Alice to\n   Bob, where no other Layer 7 entities are involved.\n\
    \      Alice          SIP Intermediary       Bob               LS\n        | \
    \               |                   |                 |\n        |       Request\
    \ w/Location           |                 |\n        |----------------------------------->|\
    \                 |\n        |                                    |          \
    \       |\n        |             Response               |                 |\n\
    \        |<-----------------------------------|                 |\n        | \
    \               |                   |                 |\n        Figure 1.  Location\
    \ Conveyed by Value\n   In Figure 1, Alice is both the Target and the LS that\
    \ is conveying\n   her location directly to Bob, who acts as an LR.  This conveyance\
    \ is\n   point-to-point: it does not pass through any SIP-layer intermediary.\n\
    \   A Location Object appears by-value in the initial SIP request as a\n   MIME\
    \ body, and Bob responds to that SIP request as appropriate.\n   There is a 'Bad\
    \ Location Information' response code introduced within\n   this document to specifically\
    \ inform Alice if she conveys bad\n   location to Bob (e.g., Bob \"cannot parse\
    \ the location provided\", or\n   \"there is not enough location information to\
    \ determine where Alice\n   is\").\n"
- title: 3.2.  Location Conveyed as a Location URI
  contents:
  - "3.2.  Location Conveyed as a Location URI\n   Here we make Figure 1 a little\
    \ more complicated by showing a diagram\n   of indirect Location Conveyance from\
    \ Alice to Bob, where Bob's entity\n   has to retrieve the location object from\
    \ a third party server.\n      Alice          SIP Intermediary       Bob     \
    \          LS\n        |                |                   |                \
    \ |\n        |      Request w/Location URI        |                 |\n      \
    \  |----------------------------------->|                 |\n        |       \
    \                             |    Dereference  |\n        |                 \
    \                   |        Request  |\n        |                           \
    \        (To: Location URI) |\n        |                                    |---------------->|\n\
    \        |                                    |                 |\n        | \
    \                                   |    Dereference  |\n        |           \
    \                         |       Response  |\n        |                     \
    \      (includes Location Object) |\n        |                               \
    \     |<----------------|\n        |             Response               |    \
    \             |\n        |<-----------------------------------|              \
    \   |\n        |                |                   |                 |\n    \
    \    Figure 2.  Location Conveyed as a Location URI\n   In Figure 2, location\
    \ is conveyed indirectly, via a Location URI\n   carried in the SIP request (more\
    \ of those details later).  If Alice\n   sends Bob this Location URI, Bob will\
    \ need to dereference the URI --\n   analogous to Content Indirection [RFC4483]\
    \ -- in order to request the\n   location information.  In general, the LS provides\
    \ the location value\n   to Bob instead of Alice directly for conveyance to Bob.\
    \  From a user\n   interface perspective, Bob the user won't know that this information\n\
    \   was gathered from an LS indirectly rather than culled from the SIP\n   request;\
    \ practically, this does not impact the operation of location-\n   based applications.\n\
    \   The example given in this section is only illustrative, not\n   normative.\
    \  In particular, applications can choose to dereference a\n   location URI at\
    \ any time, possibly several times, or potentially not\n   at all.  Applications\
    \ receiving a Location URI in a SIP transaction\n   need to be mindful of timers\
    \ used by different transactions.  In\n   particular, if the means of dereferencing\
    \ the Location URI might take\n   longer than the SIP transaction timeout (Timer\
    \ C for INVITE\n   transactions, Timer F for non-INVITE transactions), then it\
    \ needs to\n   rely on mechanisms other than the transaction's response code to\n\
    \   convey location errors, if returning such errors are necessary.\n"
- title: 3.3.  Location Conveyed though a SIP Intermediary
  contents:
  - "3.3.  Location Conveyed though a SIP Intermediary\n   In Figure 3, we introduce\
    \ the idea of a SIP intermediary into the\n   example to illustrate the role of\
    \ proxying in the location\n   architecture.  This intermediary can be a SIP proxy\
    \ or it can be a\n   back-to-back user agent (B2BUA).  In this message flow, the\
    \ SIP\n   intermediary could act as an LR, in addition to Bob.  The primary use\n\
    \   case for intermediaries consuming location information is location-\n   based\
    \ routing.  In this case, the intermediary chooses a next hop for\n   the SIP\
    \ request by consulting a specialized location service that\n   selects forwarding\
    \ destinations based on the geographical location\n   information contained in\
    \ the SIP request.\n      Alice          SIP Intermediary       Bob          \
    \     LS\n        |                |                   |                 |\n \
    \       |   Request      |                   |                 |\n        |  \
    \  w/Location  |                   |                 |\n        |--------------->|\
    \                   |                 |\n        |                |  Request \
    \         |                 |\n        |                |   w/Location      |\
    \                 |\n        |                |------------------>|          \
    \       |\n        |                |                   |                 |\n\
    \        |                |   Response        |                 |\n        | \
    \               |<------------------|                 |\n        |     Response\
    \   |                   |                 |\n        |<---------------|      \
    \             |                 |\n        |                |                \
    \   |                 |\n        Figure 3.  Location Conveyed though a SIP Intermediary\n\
    \   However, the most common case will be one in which the SIP\n   intermediary\
    \ receives a request with location information (conveyed\n   either by-value or\
    \ by-reference) and does not know or care about\n   Alice's location, or support\
    \ this extension, and merely passes it on\n   to Bob.  In this case, the intermediary\
    \ does not act as a Location\n   Recipient.  When the intermediary is not an LR,\
    \ this use case is the\n   same as the one described in Section 3.1.\n   Note\
    \ that an intermediary does not have to perform location-based\n   routing in\
    \ order to be a Location Recipient.  It could be the case\n   that a SIP intermediary\
    \ that does not perform location-based routing\n   does care when Alice includes\
    \ her location; for example, it could\n   care that the location information is\
    \ complete or that it correctly\n   identifies where Alice is.  The best example\
    \ of this is\n   intermediaries that verify location information for emergency\n\
    \   calling, but it could also be for any location based routing, e.g.,\n   contacting\
    \ your favorite local pizza delivery service, making sure\n   that organization\
    \ has Alice's proper location in the initial SIP\n   request.\n   There is another\
    \ scenario in which the SIP intermediary cares about\n   location and is not an\
    \ LR, one in which the intermediary inserts\n   another location of the Target,\
    \ Alice in this case, into the request,\n   and forwards it.  This secondary insertion\
    \ is generally not advisable\n   because downstream SIP entities will not be given\
    \ any guidance about\n   which location to believe is better, more reliable, less\
    \ prone to\n   error, more granular, worse than the other location or just plain\n\
    \   wrong.\n   This document takes a \"you break it, you bought it\" approach\
    \ to\n   dealing with second locations placed into a SIP request by an\n   intermediary\
    \ entity.  That entity becomes completely responsible for\n   all location within\
    \ that SIP request (more on this in Section 4).\n"
- title: 3.4.  SIP Intermediary Replacing Bad Location
  contents:
  - "3.4.  SIP Intermediary Replacing Bad Location\n   If the SIP intermediary rejects\
    \ the message due to unsuitable\n   location information, the SIP response will\
    \ indicate there was 'Bad\n   Location Information' in the SIP request and provide\
    \ a location-\n   specific error code indicating what Alice needs to do to send\
    \ an\n   acceptable request (see Figure 4 for this scenario).\n      Alice   \
    \       SIP Intermediary       Bob               LS\n        |               \
    \ |                   |                 |\n        |   Request      |        \
    \           |                 |\n        |    w/Location  |                  \
    \ |                 |\n        |--------------->|                   |        \
    \         |\n        |                |                   |                 |\n\
    \        |   Rejected     |                   |                 |\n        | w/New\
    \ Location |                   |                 |\n        |<---------------|\
    \                   |                 |\n        |                |          \
    \         |                 |\n        |   Request      |                   |\
    \                 |\n        | w/New Location |                   |          \
    \       |\n        |--------------->|                   |                 |\n\
    \        |                |    Request        |                 |\n        | \
    \               |  w/New Location   |                 |\n        |           \
    \     |------------------>|                 |\n        |                |    \
    \               |                 |\n        Figure 4.  SIP Intermediary Replacing\
    \ Bad Location\n   In this last use case, the SIP intermediary wishes to include\
    \ a\n   Location Object indicating where it understands Alice to be.  Thus,\n\
    \   it needs to inform her user agent of what location it will include in\n  \
    \ any subsequent SIP request that contains her location.  In this case,\n   the\
    \ intermediary can reject Alice's request and, through the SIP\n   response, convey\
    \ to her the best way to repair the request in order\n   for the intermediary\
    \ to accept it.\n   Overriding location information provided by the user requires\
    \ a\n   deployment where an intermediary necessarily knows better than an end\n\
    \   user -- after all, it could be that Alice has an on-board GPS, and\n   the\
    \ SIP intermediary only knows her nearest cell tower.  Which is\n   more accurate\
    \ location information? Currently, there is no way to\n   tell which entity is\
    \ more accurate or which is wrong, for that\n   matter.  This document will not\
    \ specify how to indicate which\n   location is more accurate than another.\n\
    \   As an aside, it is not envisioned that any SIP-based emergency\n   services\
    \ request (i.e., IP-911 or 112 type of call attempt) will\n   receive a corrective\
    \ 'Bad Location Information' response from an\n   intermediary.  Most likely,\
    \ in that scenario, the SIP intermediary\n   would act as a B2BUA and insert into\
    \ the request by-value any\n   appropriate location information for the benefit\
    \ of Public Safety\n   Answering Point (PSAP) call centers to expedite call reception\
    \ by the\n   emergency services personnel; thereby, minimizing any delay in call\n\
    \   establishment time.  The implementation of these specialized\n   deployments\
    \ is, however, outside the scope of this document.\n"
- title: 4.  SIP Extensions for Geolocation Conveyance
  contents:
  - "4.  SIP Extensions for Geolocation Conveyance\n   The following sections detail\
    \ the extensions to SIP for location\n   conveyance.\n"
- title: 4.1.  The Geolocation Header Field
  contents:
  - "4.1.  The Geolocation Header Field\n   This document defines \"Geolocation\"\
    \ as a new SIP header field\n   registered by IANA, with the following ABNF [RFC5234]:\n\
    \   message-header    =/ Geolocation-header\n                        ; (message-header\
    \ from RFC 3261)\n   Geolocation-header = \"Geolocation\" HCOLON locationValue\n\
    \                        *( COMMA locationValue )\n   locationValue      = LAQUOT\
    \ locationURI RAQUOT\n                        *(SEMI geoloc-param)\n   locationURI\
    \        = sip-URI / sips-URI / pres-URI\n                          / http-URI\
    \ / https-URI\n                          / cid-url ; (from RFC 2392)\n       \
    \                   / absoluteURI ; (from RFC 3261)\n   geoloc-param       = generic-param\
    \ ; (from RFC 3261)\n   HCOLON, COMMA, LAQUOT, RAQUOT, and SEMI are defined in\
    \ [RFC3261].\n   sip-URI, sips-URI, and absoluteURI are defined according to\n\
    \   [RFC3261].\n   The pres-URI is defined in [RFC3859].\n   http-URI and https-URI\
    \ are defined according to [RFC2616] and\n   [RFC2818], respectively.\n   The\
    \ cid-url is defined in [RFC2392] to locate message body parts.\n   This URI type\
    \ is present in a SIP request when location is conveyed\n   as a MIME body in\
    \ the SIP message.\n   GEO-URIs [RFC5870] are not appropriate for usage in the\
    \ SIP\n   Geolocation header because it does not include retention and\n   re-transmission\
    \ flags as part of the location information.  Other URI\n   schemes used in the\
    \ location URI MUST be reviewed against the\n   criteria in [RFC3693] for a Using\
    \ Protocol.  Section 4.6 discusses\n   how URI schemes are communicated using\
    \ this SIP extension and what to\n   do if a URI scheme is received that cannot\
    \ be supported.\n   The generic-param in the definition of locationValue is included\
    \ as a\n   mechanism for future extensions that might require parameters.  This\n\
    \   document defines no parameters for use with locationValue.  If a\n   Geolocation\
    \ header field is received that contains generic-params,\n   each parameter SHOULD\
    \ be ignored, and SHOULD NOT be removed when\n   forwarding the locationValue.\
    \  If a need arises to define parameters\n   for use with locationValue, a revision/extension\
    \ to this document is\n   required.\n   The Geolocation header field MUST have\
    \ at least one locationValue.  A\n   SIP intermediary SHOULD NOT add location\
    \ to a SIP request that\n   already contains location.  This will quite often\
    \ lead to confusion\n   within LRs.  However, if a SIP intermediary adds location,\
    \ even if\n   location was not previously present in a SIP request, that SIP\n\
    \   intermediary is fully responsible for addressing the concerns of any\n   424\
    \ (Bad Location Information) SIP response it receives about this\n   location\
    \ addition and MUST NOT pass on (upstream) the 424 response.\n   A SIP intermediary\
    \ that adds a locationValue MUST position the new\n   locationValue as the last\
    \ locationValue within the Geolocation header\n   field of the SIP request.\n\
    \   This document defines the Geolocation header field as valid in the\n   following\
    \ SIP requests:\n      INVITE [RFC3261]             REGISTER [RFC3261]\n     \
    \ OPTIONS [RFC3261]            BYE [RFC3261]\n      UPDATE [RFC3311]         \
    \    INFO [RFC6086]\n      MESSAGE [RFC3428]            REFER [RFC3515]\n    \
    \  SUBSCRIBE [RFC3265]          NOTIFY [RFC3265]\n      PUBLISH [RFC3903]\n  \
    \ The Geolocation header field MAY be included in any one of the above\n   listed\
    \ requests by a UA and a 424 response to any one of the requests\n   sent above.\
    \  Fully appreciating the caveats/warnings mentioned above,\n   a SIP intermediary\
    \ MAY add the Geolocation header field.\n   A SIP intermediary MAY add a Geolocation\
    \ header field if one is not\n   present -- for example, when a user agent does\
    \ not support the\n   Geolocation mechanism but their outbound proxy does and\
    \ knows the\n   Target's location, or any of a number of other use cases (see\
    \ Section\n   3).\n   The Geolocation header field MAY be present in a SIP request\
    \ or\n   response without the presence of a Geolocation-Routing header\n   (defined\
    \ in Section 4.2).  As stated in Section 4.2, the default\n   value of Geolocation-Routing\
    \ header-value is \"no\", meaning SIP\n   intermediaries MUST NOT view (i.e.,\
    \ process, inspect, or actively\n   dereference) any direct or indirect location\
    \ within this SIP message.\n   This is for at least two fundamental reasons:\n\
    \      1) to make the possibility of retention of the Target's location\n    \
    \     moot (because it was not viewed in the first place); and\n      2) to prevent\
    \ a different treatment of this SIP request based on\n         the contents of\
    \ the Location Information in the SIP request.\n   Any locationValue MUST be related\
    \ to the original Target.  This is\n   equally true for the location information\
    \ in a SIP response, i.e.,\n   from a SIP intermediary back to the Target as explained\
    \ in Section\n   3.4.  SIP intermediaries SHOULD NOT modify or delete any existing\n\
    \   locationValue(s).  A use case in which this would not apply would be\n   where\
    \ the SIP intermediary is an anonymizer.  The problem with this\n   scenario is\
    \ that the geolocation included by the Target then becomes\n   useless for the\
    \ purpose or service for which they wanted to use\n   (include) it.  For example,\
    \ 911/emergency calling or finding the\n   nearest (towing company/pizza delivery/dry\
    \ cleaning) service(s) will\n   not yield intended results if the Location Information\
    \ were to be\n   modified or deleted from the SIP request.\n"
- title: 4.2.  The Geolocation-Routing Header Field
  contents:
  - "4.2.  The Geolocation-Routing Header Field\n   This document defines \"Geolocation-Routing\"\
    \ as a new SIP header field\n   registered by IANA, with the following ABNF [RFC5234]:\n\
    \   message-header    =/ Georouting-header\n                        ; (message-header\
    \ from RFC 3261)\n   Georouting-header  = \"Geolocation-Routing\" HCOLON\n   \
    \                     ( \"yes\" / \"no\" / generic-value )\n   generic-value \
    \     = generic-param;  (from RFC 3261)\n   HCOLON is defined in [RFC3261].\n\
    \   The only defined values for the Geolocation-Routing header field are\n   \"\
    yes\" or \"no\".  When the value is \"yes\", the locationValue can be\n   used\
    \ for routing decisions along the downstream signaling path by\n   intermediaries.\
    \  Values other than \"yes\" or \"no\" are permitted for\n   future extensions.\
    \  Implementations not aware of an extension MUST\n   treat any other received\
    \ value the same as \"no\".\n   If no Geolocation-Routing header field is present\
    \ in a SIP request, a\n   SIP intermediary MAY insert this header.  Without knowledge\
    \ from a\n   Rule Maker, the SIP intermediary inserting this header-value SHOULD\n\
    \   NOT set the value to \"yes\", as this may be more permissive than the\n  \
    \ originating party intends.  An easy way around this is to have the\n   Target\
    \ always insert this header-value as \"no\".\n   When this Geolocation-Routing\
    \ header-value is set to \"no\", this means\n   no locationValue (inserted by\
    \ the originating User Agent Client (UAC)\n   or any intermediary along the signaling\
    \ path) can be used by any SIP\n   intermediary to make routing decisions.  Intermediaries\
    \ that attempt\n   to use the location information for routing purposes in spite\
    \ of this\n   counter indication could end up routing the request improperly as\
    \ a\n   result.  Section 4.4 gives the details on what a routing intermediary\n\
    \   does if it determines it needs to use the location in the SIP request\n  \
    \ in order to process the message further.  The practical implication\n   is that\
    \ when the Geolocation-Routing header-value is set to \"no\", if\n   a cid:url\
    \ is present in the SIP request, intermediaries MUST NOT view\n   the location\
    \ (because it is not for intermediaries to consider when\n   processing the request);\
    \ if a location URI is present, intermediaries\n   MUST NOT dereference it.  UAs\
    \ are allowed to view location in the SIP\n   request even when the Geolocation-Routing\
    \ header-value is set to\n   \"no\".  An LR MUST by default consider the Geolocation-Routing\
    \ header-\n   value as set to \"no\", with no exceptions, unless the header field\n\
    \   value is set to \"yes\".\n   A Geolocation-Routing header-value that is set\
    \ to \"no\" has no special\n   security properties.  At most, it is a request\
    \ for behavior within\n   SIP intermediaries.  That said, if the Geolocation-Routing\
    \ header-\n   value is set to \"no\", SIP intermediaries are still to process\
    \ the SIP\n   request and send it further downstream within the signaling path\
    \ if\n   there are no errors present in this SIP request.\n   The Geolocation-Routing\
    \ header field satisfies the recommendations\n   made in Section 3.5 of RFC 5606\
    \ [RFC5606] regarding indication of\n   permission to use location-based routing\
    \ in SIP.\n   SIP implementations are advised to pay special attention to the\n\
    \   policy elements for location retransmission and retention described\n   in\
    \ RFC 4119.\n   The Geolocation-Routing header field cannot appear without a header-\n\
    \   value in a SIP request or response (i.e., a null value is not\n   allowed).\
    \  The absence of a Geolocation-Routing header-value in a SIP\n   request is always\
    \ the same as the following header field:\n      Geolocation-Routing: no\n   The\
    \ Geolocation-Routing header field MAY be present without a\n   Geolocation header\
    \ field in the same SIP request.  This concept is\n   further explored in Section\
    \ 4.2.1.\n"
- title: 4.2.1.  Explaining Geolocation-Routing Header-Value States
  contents:
  - "4.2.1.  Explaining Geolocation-Routing Header-Value States\n   The Geolocation\
    \ header field contains a Target's location, and it\n   MUST NOT be present if\
    \ there is no location information in this SIP\n   request.  The location information\
    \ is contained in one or more\n   locationValues.  These locationValues MAY be\
    \ contained in a single\n   Geolocation header field or distributed among multiple\
    \ Geolocation\n   header fields.  (See Section 7.3.1 of RFC 3261.)\n   The Geolocation-Routing\
    \ header field indicates whether or not SIP\n   intermediaries can view and then\
    \ route this SIP request based on the\n   included (directly or indirectly) location\
    \ information.  The\n   Geolocation-Routing header field MUST NOT appear more\
    \ than once in\n   any SIP request, and MUST NOT lack a header-value.  The default\
    \ or\n   implied policy of a SIP request that does not have a Geolocation-\n \
    \  Routing header field is the same as if one were present and the\n   header-value\
    \ were set to \"no\".\n   There are only three possible states regarding the Geolocation-\n\
    \   Routing header field:\n   - \"no\"\n   - \"yes\"\n   - no header-field present\
    \ in this SIP request\n   The expected results in each state are as follows:\n\
    \   If the Geolocation-Routing    Only possible interpretations:\n   --------------------------\
    \    -----------------------------\n   \"no\"                          SIP intermediaries\
    \ MUST NOT process\n                                 included geolocation information\n\
    \                                 within this SIP request.\n                 \
    \                SIP intermediaries inserting a\n                            \
    \     locationValue into a Geolocation\n                                 header\
    \ field (whether adding to an\n                                 existing header-value\
    \ or inserting the\n                                 Geolocation header field\
    \ for the first\n                                 time) MUST NOT modify or delete\
    \ the\n                                 received \"no\" header-value.\n   \"yes\"\
    \                         SIP intermediaries can process\n                   \
    \              included geolocation information\n                            \
    \     within this SIP request and can\n                                 change\
    \ the policy to \"no\" for\n                                 intermediaries further\
    \ downstream.\n   Geolocation-Routing absent    If a Geolocation header field\
    \ exists\n                                 (meaning a locationValue is already\n\
    \                                 present), a SIP intermediary MUST\n        \
    \                         interpret the lack of a\n                          \
    \       Geolocation-Routing header field as if\n                             \
    \    there were one present and the\n                                 header-value\
    \ is set to \"no\".\n                                 If there is no Geolocation\
    \ header\n                                 field in this SIP request, the default\n\
    \                                 Geolocation-Routing is open and can be\n   \
    \                              set by a SIP intermediary or not at\n         \
    \                        all.\n"
- title: 4.3.  424 (Bad Location Information) Response Code
  contents:
  - "4.3.  424 (Bad Location Information) Response Code\n   This SIP extension creates\
    \ a new location-specific response code,\n   defined as follows:\n      424 (Bad\
    \ Location Information)\n   The 424 (Bad Location Information) response code is\
    \ a rejection of\n   the request due to its location contents, indicating location\n\
    \   information that was malformed or not satisfactory for the\n   recipient's\
    \ purpose or could not be dereferenced.\n   A SIP intermediary can also reject\
    \ a location it receives from a\n   Target when it understands the Target to be\
    \ in a different location.\n   The proper handling of this scenario, described\
    \ in Section 3.4, is\n   for the SIP intermediary to include the proper location\
    \ in the 424\n   response.  This SHOULD be included in the response as a MIME\
    \ message\n   body (i.e., a location value) rather than as a URI; however, in\
    \ cases\n   where the intermediary is willing to share location with recipients\n\
    \   but not with a user agent, a reference might be necessary.\n   As mentioned\
    \ in Section 3.4, it might be the case that the\n   intermediary does not want\
    \ to chance providing less accurate location\n   information than the user agent;\
    \ thus, it will compose its\n   understanding of where the user agent is in a\
    \ separate <geopriv>\n   element of the same Presence Information Data Format\
    \ Location Object\n   (PIDF-LO) [RFC4119] message body in the SIP response (which\
    \ also\n   contains the Target's version of where it is).  Therefore, both\n \
    \  locations are included -- each with different <method> elements.  The\n   proper\
    \ reaction of the user agent is to generate a new SIP request\n   that includes\
    \ this composed location object, and send it towards the\n   original LR.  SIP\
    \ intermediaries can verify that subsequent requests\n   properly insert the suggested\
    \ location information before forwarding\n   said requests.\n   SIP intermediaries\
    \ that are forwarding (as opposed to generating) a\n   424 response MUST NOT add,\
    \ modify, or delete any location appearing\n   in that response.  This specifically\
    \ applies to intermediaries that\n   are between the 424 response generator and\
    \ the original UAC.\n   Geolocation and Geolocation-Error header fields and PIDF-LO\
    \ body\n   parts MUST remain unchanged, never added to or deleted.\n   Section\
    \ 4.4 describes a Geolocation-Error header field to provide\n   more detail about\
    \ what was wrong with the location information in the\n   request.  This header\
    \ field MUST be included in the 424 response.\n   It is only appropriate to generate\
    \ a 424 response when the responding\n   entity needs a locationValue and there\
    \ are no values in the request\n   that are usable by the responder, or when the\
    \ responder has\n   additional location information to provide.  The latter case\
    \ is shown\n   in Figure 4 of Section 3.4.  There, a SIP intermediary is informing\n\
    \   the upstream UA which location to include in the next SIP request.\n   A 424\
    \ response MUST NOT be sent in response to a request that lacks a\n   Geolocation\
    \ header entirely, as the user agent in that case may not\n   support this extension\
    \ at all.  If a SIP intermediary inserted a\n   locationValue into a SIP request\
    \ where one was not previously\n   present, it MUST take any and all responsibility\
    \ for the corrective\n   action if it receives a 424 response to a SIP request\
    \ it sent.\n   A 424 (Bad Location Information) response is a final response within\n\
    \   a transaction and MUST NOT terminate an existing dialog.\n"
- title: 4.4.  The Geolocation-Error Header Field
  contents:
  - "4.4.  The Geolocation-Error Header Field\n   As discussed in Section 4.3, more\
    \ granular error notifications\n   specific to location errors within a received\
    \ request are required if\n   the location inserting entity is to know what was\
    \ wrong within the\n   original request.  The Geolocation-Error header field is\
    \ used for\n   this purpose.\n   The Geolocation-Error header field is used to\
    \ convey location-\n   specific errors within a response.  The Geolocation-Error\
    \ header\n   field has the following ABNF [RFC5234]:\n   message-header      \
    \     =/ Geolocation-Error\n                               ; (message-header from\
    \ RFC 3261)\n   Geolocation-Error        =  \"Geolocation-Error\" HCOLON\n   \
    \                            locationErrorValue\n   locationErrorValue       =\
    \  location-error-code\n                                *(SEMI location-error-params)\n\
    \   location-error-code      =  1*3DIGIT\n   location-error-params    =  location-error-code-text\n\
    \                               / generic-param ; from RFC 3261\n   location-error-code-text\
    \ =  \"code\" EQUAL quoted-string\n                               ; from RFC 3261\n\
    \   HCOLON, SEMI, and EQUAL are defined in [RFC3261].  DIGIT is defined\n   in\
    \ [RFC5234].\n   The Geolocation-Error header field MUST contain only one\n  \
    \ locationErrorValue to indicate what was wrong with the locationValue\n   the\
    \ Location Recipient determined was bad.  The locationErrorValue\n   contains\
    \ a 3-digit error code indicating what was wrong with the\n   location in the\
    \ request.  This error code has a corresponding quoted\n   error text string that\
    \ is human understandable.  The text string is\n   OPTIONAL, but RECOMMENDED for\
    \ human readability, similar to the\n   string phrase used for SIP response codes.\
    \  That said, the strings\n   are complete enough for rendering to the user, if\
    \ so desired.  The\n   strings in this document are recommendations, and are not\n\
    \   standardized -- meaning an operator can change the strings -- but\n   MUST\
    \ NOT change the meaning of the error code.  Similar to how RFC\n   3261 specifies,\
    \ there MUST NOT be more than one string per error\n   code.\n   The Geolocation-Error\
    \ header field MAY be included in any response to\n   one of the SIP Methods mentioned\
    \ in Section 4.1, so long as a\n   locationValue was in the request part of the\
    \ same transaction.  For\n   example, Alice includes her location in an INVITE\
    \ to Bob.  Bob can\n   accept this INVITE, thus creating a dialog, even though\
    \ his UA\n   determined the location contained in the INVITE was bad.  Bob merely\n\
    \   includes a Geolocation-Error header value in the 200 OK response to\n   the\
    \ INVITE informing Alice the INVITE was accepted but the location\n   provided\
    \ was bad.\n   If, on the other hand, Bob cannot accept Alice's INVITE without\
    \ a\n   suitable location, a 424 (Bad Location Information) response is sent.\n\
    \   This message flow is shown in Figures 1, 2, or 3 in Sections 3.1,\n   3.2,\
    \ and 3.3, respectively.\n   If Alice is deliberately leaving location information\
    \ out of the LO\n   because she does not want Bob to have this additional information,\n\
    \   implementations should be aware that Bob could repeatedly error in\n   order\
    \ to receive more location information about Alice in a\n   subsequent SIP request.\
    \  Implementations MUST be on guard for this,\n   by not allowing continually\
    \ more information to be revealed unless it\n   is clear that any LR is permitted\
    \ by Alice to know all that Alice\n   knows about her location.  A limit on the\
    \ number of such rejections\n   to learn more location information SHOULD be configurable,\
    \ with a\n   RECOMMENDED maximum of three times for each related transaction.\n\
    \   A SIP intermediary that requires Alice's location in order to\n   properly\
    \ process Alice's INVITE also sends a 424 response with a\n   Geolocation-Error\
    \ code.  This message flow is shown in Figure 4 of\n   Section 3.4.\n   If more\
    \ than one locationValue is present in a SIP request and at\n   least one locationValue\
    \ is determined to be valid by the LR, the\n   location in that SIP request MUST\
    \ be considered good as far as\n   location is concerned, and no Geolocation-Error\
    \ is to be sent.\n   Here is an initial list of location-based error code ranges\
    \ for any\n   SIP response, including provisional responses (other than 100 Trying)\n\
    \   and the new 424 (Bad Location Information) response.  These error\n   codes\
    \ are divided into three categories, based on how the response\n   receiver should\
    \ react to these errors.  There MUST be no more than\n   one Geolocation-Error\
    \ code in a SIP response, regardless of how many\n   locationValues there are\
    \ in the correlating SIP request.  When more\n   than one locationValue is present\
    \ in a SIP request, this mechanism\n   provides no indication to which one the\
    \ Geolocation-Error code\n   corresponds.  If multiple errors are present, the\
    \ LR applies local\n   policy to select one.\n   o  1XX errors mean the LR cannot\
    \ process the location within the\n      request:\n      A non-exclusive list\
    \ of reasons for returning a 1XX is as follows:\n      - the location was not\
    \ present or could not be found in the SIP\n        request,\n      - there was\
    \ not enough location information to determine where the\n        Target was,\n\
    \      - the location information was corrupted or known to be\n        inaccurate.\n\
    \   o  2XX errors mean some specific permission is necessary to process\n    \
    \  the included location information.\n   o  3XX errors mean there was trouble\
    \ dereferencing the Location URI\n      sent.\n   Dereference attempts to the\
    \ same request SHOULD be limited to 10\n   attempts within a few minutes.  This\
    \ number SHOULD be configurable,\n   but result in a Geolocation-Error: 300 error\
    \ once reached.\n   It should be noted that for non-INVITE transactions, the SIP\
    \ response\n   will likely be sent before the dereference response has been\n\
    \   received.  This document does not alter that SIP protocol reality.\n   This\
    \ means the receiver of any non-INVITE response to a request\n   containing location\
    \ SHOULD NOT consider a 200 OK response to mean the\n   act of dereferencing has\
    \ concluded and the dereferencer  (i.e., the\n   LR) has successfully received\
    \ and parsed the PIDF-LO for errors and\n   found none.  The end of Section 3.2\
    \ discusses how transaction timing\n   considerations lead to this requirement.\n\
    \   Additionally, if an LR cannot or chooses not to process location from\n  \
    \ a SIP request, a 500 (Server Internal Error) SHOULD be used with or\n   without\
    \ a configurable Retry-After header field.  There is no special\n   location error\
    \ code for what already exists within SIP today.\n   Within each of these ranges,\
    \ there is a top-level error as follows:\n   Geolocation-Error: 100 ; code=\"\
    Cannot Process Location\"\n   Geolocation-Error: 200 ; code=\"Permission To Use\
    \ Location\n                                  Information\"\n   Geolocation-Error:\
    \ 300 ; code=\"Dereference Failure\"\n   If an error recipient cannot process\
    \ a specific error code (such as\n   the 201 or 202 below), perhaps because it\
    \ does not understand that\n   specific error code, the error recipient SHOULD\
    \ process the error\n   code as if it originally were a top-level error code where\
    \ the X in\n   X00 matches the specific error code.  If the error recipient cannot\n\
    \   process a non-100 error code, for whatever reason, then the error\n   code\
    \ 100 MUST be processed.\n   There are two specific Geolocation-Error codes necessary\
    \ to include\n   in this document, both have to do with permissions necessary\
    \ to\n   process the SIP request; they are\n   Geolocation-Error: 201 ; code=\"\
    Permission To Retransmit Location\n                                  Information\
    \ to a Third Party\"\n   This location error is specific to having the PIDF-LO\
    \ [RFC4119]\n   <retransmission-allowed> element set to \"no\".  This location\
    \ error is\n   stating it requires permission (i.e., PIDF-LO <retransmission-\n\
    \   allowed> element set to \"yes\") to process this SIP request further.\n  \
    \ If the LS sending the location information does not want to give this\n   permission,\
    \ it will not change this permission in a new request.  If\n   the LS wants this\
    \ message processed with the <retransmission-allowed>\n   element set to \"yes\"\
    , it MUST choose another logical path (if one\n   exists) for this SIP request.\n\
    \   Geolocation-Error: 202 ; code=\"Permission to Route based on Location\n  \
    \                                Information\"\n   This location error is specific\
    \ to having the Geolocation-Routing\n   header value set to \"no\".  This location\
    \ error is stating it requires\n   permission (i.e., the Geolocation-Routing header\
    \ value set to \"yes\")\n   to process this SIP request further.  If the LS sending\
    \ the location\n   information does not want to give this permission, it will\
    \ not change\n   this permission in a new request.  If the LS wants this message\n\
    \   processed with the <retransmission-allowed> element set to \"yes\", it\n \
    \  MUST choose another logical path (if one exists) for this SIP\n   request.\n"
- title: 4.5.  Location URIs in Message Bodies
  contents:
  - "4.5.  Location URIs in Message Bodies\n   In the case where an LR sends a 424\
    \ response and wishes to\n   communicate suitable location-by-reference rather\
    \ than location-by-\n   value, the 424 response MUST include a content-indirection\
    \ body per\n   RFC 4483.\n"
- title: 4.6.  Location Profile Negotiation
  contents:
  - "4.6.  Location Profile Negotiation\n   The following is part of the discussion\
    \ started in Section 3, Figure\n   2, which introduced the concept of sending\
    \ location indirectly.\n   If a location URI is included in a SIP request, the\
    \ sending user\n   agent MUST also include a Supported header field indicating\
    \ which\n   location profiles it supports.  Two option tags for location profiles\n\
    \   are defined by this document: \"geolocation-sip\" and \"geolocation-\n   http\"\
    .  Future specifications MAY define further location profiles\n   per the IANA\
    \ policy described in Section 8.3.\n   The \"geolocation-sip\" option tag signals\
    \ support for acquiring\n   location information via the presence event package\
    \ of SIP [RFC3856].\n   A location recipient who supports this option can send\
    \ a SUBSCRIBE\n   request and parse a resulting NOTIFY containing a PIDF-LO object.\n\
    \   The URI schemes supported by this option include \"sip\", \"sips\", and\n\
    \   \"pres\".\n   The \"geolocation-http\" option tag signals support for acquiring\n\
    \   location information via HTTP [RFC2616].  A location recipient who\n   supports\
    \ this option can request location with an HTTP GET and parse\n   a resulting\
    \ 200 response containing a PIDF-LO object.  The URI\n   schemes supported by\
    \ this option include \"http\" and \"https\".  A\n   failure to parse the 200\
    \ response, for whatever reason, will return a\n   \"Dereference Failure\" indication\
    \ to the original location sending\n   user agent to inform it that location was\
    \ not delivered as intended.\n   If the location URI receiver does not understand\
    \ the URI scheme sent\n   to it, it will return an Unsupported header value of\
    \ the option tag\n   from the SIP request, and include the option tag of the preferred\
    \ URI\n   scheme in the response's Supported header field.\n   See [GEO-FILTERS]\
    \ or [HELD-DEREF] for more details on dereferencing\n   location information.\n"
- title: 5.  Geolocation Examples
  contents:
  - '5.  Geolocation Examples

    '
- title: 5.1.  Location-by-Value (in Coordinate Format)
  contents:
  - "5.1.  Location-by-Value (in Coordinate Format)\n   This example shows an INVITE\
    \ message with a coordinate location.  In\n   this example, the SIP request uses\
    \ a sips-URI [RFC3261], meaning this\n   message is protected using Transport\
    \ Layer Security (TLS) on a hop-\n   by-hop basis.\n   INVITE sips:bob@biloxi.example.com\
    \ SIP/2.0\n   Via: SIPS/2.0/TLS pc33.atlanta.example.com;branch=z9hG4bK74bf9\n\
    \   Max-Forwards: 70\n   To: Bob <sips:bob@biloxi.example.com>\n   From: Alice\
    \ <sips:alice@atlanta.example.com>;tag=9fxced76sl\n   Call-ID: 3848276298220188511@atlanta.example.com\n\
    \   Geolocation: <cid:target123@atlanta.example.com>\n   Geolocation-Routing:\
    \ no\n   Accept: application/sdp, application/pidf+xml\n   CSeq: 31862 INVITE\n\
    \   Contact: <sips:alice@atlanta.example.com>\n   Content-Type: multipart/mixed;\
    \ boundary=boundary1\n   Content-Length: ...\n   --boundary1\n   Content-Type:\
    \ application/sdp\n   ...Session Description Protocol (SDP) goes here\n   --boundary1\n\
    \   Content-Type: application/pidf+xml\n   Content-ID: <target123@atlanta.example.com>\n\
    \   <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n       <presence\n          xmlns=\"\
    urn:ietf:params:xml:ns:pidf\"\n          xmlns:gp=\"urn:ietf:params:xml:ns:pidf:geopriv10\"\
    \n          xmlns:gbp=\"urn:ietf:params:xml:ns:pidf:geopriv10:basicPolicy\"\n\
    \          xmlns:cl=\"urn:ietf:params:xml:ns:pidf:geopriv10:civicAddr\"\n    \
    \      xmlns:gml=\"http://www.opengis.net/gml\"\n          xmlns:dm=\"urn:ietf:params:xml:ns:pidf:data-model\"\
    \n          entity=\"pres:alice@atlanta.example.com\">\n        <dm:device id=\"\
    target123-1\">\n          <gp:geopriv>\n            <gp:location-info>\n     \
    \         <gml:location>\n                <gml:Point srsName=\"urn:ogc:def:crs:EPSG::4326\"\
    >\n                  <gml:pos>32.86726 -97.16054</gml:pos>\n                </gml:Point>\n\
    \             </gml:location>\n            </gp:location-info>\n            <gp:usage-rules>\n\
    \              <gbp:retransmission-allowed>false\n              </gbp:retransmission-allowed>\n\
    \              <gbp:retention-expiry>2010-11-14T20:00:00Z\n              </gbp:retention-expiry>\n\
    \            </gp:usage-rules>\n            <gp:method>802.11</gp:method>\n  \
    \        </gp:geopriv>\n          <dm:deviceID>mac:1234567890ab</dm:deviceID>\n\
    \          <dm:timestamp>2010-11-04T20:57:29Z</dm:timestamp>\n        </dm:device>\n\
    \      </presence>\n   --boundary1--\n   The Geolocation header field from the\
    \ above INVITE:\n      Geolocation: <cid:target123@atlanta.example.com>\n   ...\
    \ indicates the content-ID location [RFC2392] within the multipart\n   message\
    \ body of where location information is.  The other message\n   body part is SDP.\
    \  The \"cid:\" eases message body parsing and\n   disambiguates multiple parts\
    \ of the same type.\n   If the Geolocation header field did not contain a \"cid:\"\
    \ scheme, for\n   example, it could look like this location URI:\n      Geolocation:\
    \ <sips:target123@server5.atlanta.example.com>\n   ...  the existence of a non-\"\
    cid:\" scheme indicates this is a\n   location URI, to be dereferenced to learn\
    \ the Target's location.  Any\n   node wanting to know where the target is located\
    \ would subscribe to\n   the SIP presence event package [RFC3856] at:\n      sips:target123@server5.atlanta.example.com\n\
    \   (see Figure 2 in Section 3.2 for this message flow).\n"
- title: 5.2.  Two Locations Composed in Same Location Object Example
  contents:
  - "5.2.  Two Locations Composed in Same Location Object Example\n   This example\
    \ shows the INVITE message after a SIP intermediary\n   rejected the original\
    \ INVITE (say, the one in Section 5.1).  This\n   INVITE contains the composed\
    \ LO sent by the SIP intermediary that\n   includes where the intermediary understands\
    \ Alice to be.  The rules\n   of RFC 5491 [RFC5491] are followed in this construction.\n\
    \   This example is here, but ought not be taken as occurring very often.\n  \
    \ In fact, this example is believed to be a corner case of location\n   conveyance\
    \ applicability.\n   INVITE sips:bob@biloxi.example.com SIP/2.0\n   Via: SIPS/2.0/TLS\
    \ pc33.atlanta.example.com;branch=z9hG4bK74bf0\n   Max-Forwards: 70\n   To: Bob\
    \ <sips:bob@biloxi.example.com>\n   From: Alice <sips:alice@atlanta.example.com>;tag=9fxced76sl\n\
    \   Call-ID: 3848276298220188512@atlanta.example.com\n   Geolocation: <cid:target123@atlanta.example.com>\n\
    \   Geolocation-Routing: no\n   Accept: application/sdp, application/pidf+xml\n\
    \   CSeq: 31863 INVITE\n   Contact: <sips:alice@atlanta.example.com>\n   Content-Type:\
    \ multipart/mixed; boundary=boundary1\n   Content-Length: ...\n   --boundary1\n\
    \   Content-Type: application/sdp\n   ...SDP goes here\n   --boundary1\n   Content-Type:\
    \ application/pidf+xml\n   Content-ID: <target123@atlanta.example.com>\n   <?xml\
    \ version=\"1.0\" encoding=\"UTF-8\"?>\n       <presence\n          xmlns=\"urn:ietf:params:xml:ns:pidf\"\
    \n          xmlns:gp=\"urn:ietf:params:xml:ns:pidf:geopriv10\"\n          xmlns:gbp=\"\
    urn:ietf:params:xml:ns:pidf:geopriv10:basicPolicy\"\n          xmlns:dm=\"urn:ietf:params:xml:ns:pidf:data-model\"\
    \n          xmlns:cl=\"urn:ietf:params:xml:ns:pidf:geopriv10:civicAddr\"\n   \
    \       xmlns:gml=\"http://www.opengis.net/gml\"\n          entity=\"pres:alice@atlanta.example.com\"\
    >\n        <dm:device id=\"target123-1\">\n          <gp:geopriv>\n          \
    \  <gp:location-info>\n              <gml:location>\n                <gml:Point\
    \ srsName=\"urn:ogc:def:crs:EPSG::4326\">\n                  <gml:pos>32.86726\
    \ -97.16054</gml:pos>\n                </gml:Point>\n              </gml:location>\n\
    \            </gp:location-info>\n            <gp:usage-rules>\n             \
    \ <gbp:retransmission-allowed>false\n              </gbp:retransmission-allowed>\n\
    \             <gbp:retention-expiry>2010-11-14T20:00:00Z\n              </gbp:retention-expiry>\n\
    \            </gp:usage-rules>\n            <gp:method>802.11</gp:method>\n  \
    \        </gp:geopriv>\n          <dm:deviceID>mac:1234567890ab</dm:deviceID>\n\
    \          <dm:timestamp>2010-11-04T20:57:29Z</dm:timestamp>\n        </dm:device>\n\
    \        <dm:person id=\"target123\">\n          <gp:geopriv>\n            <gp:location-info>\n\
    \              <cl:civicAddress>\n                <cl:country>US</cl:country>\n\
    \                <cl:A1>Texas</cl:A1>\n                <cl:A3>Colleyville</cl:A3>\n\
    \                <cl:RD>Treemont</cl:RD>\n                <cl:STS>Circle</cl:STS>\n\
    \                <cl:HNO>3913</cl:HNO>\n                <cl:FLR>1</cl:FLR>\n \
    \               <cl:NAM>Haley's Place</cl:NAM>\n                <cl:PC>76034</cl:PC>\n\
    \              </cl:civicAddress>\n            </gp:location-info>\n         \
    \   <gp:usage-rules>\n              <gbp:retransmission-allowed>false\n      \
    \        </gbp:retransmission-allowed>\n              <gbp:retention-expiry>2010-11-14T20:00:00Z\n\
    \              </gbp:retention-expiry>\n            </gp:usage-rules>\n      \
    \      <gp:method>triangulation</gp:method>\n          </gp:geopriv>\n       \
    \   <dm:timestamp>2010-11-04T12:28:04Z</dm:timestamp>\n        </dm:person>\n\
    \      </presence>\n   --boundary1--\n"
- title: 6.  Geopriv Privacy Considerations
  contents:
  - "6.  Geopriv Privacy Considerations\n   Location information is considered by\
    \ most to be highly sensitive\n   information, requiring protection from eavesdropping\
    \ and altering in\n   transit.  [RFC3693] originally articulated rules to be followed\
    \ by\n   any protocol wishing to be considered a \"Using Protocol\", specifying\n\
    \   how a transport protocol meets those rules.  [RFC6280] updates the\n   guidance\
    \ in RFC 3693 to include subsequently introduced entities and\n   concepts in\
    \ the geolocation architecture.\n   RFC 5606 explores the difficulties inherent\
    \ in mapping the GEOPRIV\n   architecture onto SIP elements.  In particular, the\
    \ difficulties of\n   defining and identifying recipients of location information\
    \ are given\n   in that document, along with guidance in Section 3.3.2 on the\
    \ use of\n   location-by-reference mechanisms to preserve confidentiality of\n\
    \   location information from unauthorized recipients.\n   In a SIP deployment,\
    \ location information may be added by any of\n   several elements, including\
    \ the originating user agent or a proxy\n   server.  In all cases, the Rule Maker\
    \ associated with that location\n   information decides which entity adds location\
    \ information and what\n   access control rules apply.  For example, a SIP user\
    \ agent that does\n   not support the Geolocation header may rely on a proxy server\
    \ under\n   the direction of the Rule Maker adding a Geolocation header with a\n\
    \   reference to location information.  The manner in which the Rule\n   Maker\
    \ operates on these devices is outside the scope of this\n   document.\n   The\
    \ manner in which SIP implementations honor the Rule Maker's\n   stipulations\
    \ for access control rules (including retention and\n   retransmission) is application\
    \ specific and not within the scope of\n   SIP protocol operations.  Entities\
    \ in SIP networks that fulfill the\n   architectural roles of the Location Server\
    \ or Location Recipient\n   treat the privacy rules associated with location information\
    \ per the\n   guidance in [RFC6280], Section 4.2.1.  In particular, RFC 4119\n\
    \   (especially Section 2.2.2) gives guidance for handling access control\n  \
    \ rules; SIP implementations should furthermore consult the\n   recommendations\
    \ in RFC 5606.\n"
- title: 7.  Security Considerations
  contents:
  - "7.  Security Considerations\n   Conveyance of physical location of a UA raises\
    \ privacy concerns, and\n   depending on use, there probably will be authentication\
    \ and integrity\n   concerns.  This document calls for conveyance to be accomplished\n\
    \   through secure mechanisms, like Secure/Multipurpose Internet Mail\n   Extensions\
    \ (S/MIME) encrypting message bodies (although this is not\n   widely deployed),\
    \ TLS protecting the overall signaling or conveyance\n   location-by-reference\
    \ and requiring all entities that dereference\n   location to authenticate themselves.\
    \  In location-based routing\n   cases, encrypting the location payload with an\
    \ end-to-end mechanism\n   such as S/MIME is problematic because one or more proxies\
    \ on the path\n   need the ability to read the location information to retarget\
    \ the\n   message to the appropriate new destination User Agent Server (UAS).\n\
    \   Data can only be encrypted to a particular, anticipated target, and\n   thus\
    \ if multiple recipients need to inspect a piece of data, and\n   those recipients\
    \ cannot be predicted by the sender of data,\n   encryption is not a very feasible\
    \ choice.  Securing the location hop-\n   by-hop, using TLS, protects the message\
    \ from eavesdropping and\n   modification in transit, but exposes the information\
    \ to all proxies\n   on the path as well as the endpoint.  In most cases, the\
    \ UA has no\n   trust relationship with the proxy or proxies providing location-based\n\
    \   routing services, so such end-to-middle solutions might not be\n   appropriate\
    \ either.\n   When location information is conveyed by reference, however, one\
    \ can\n   properly authenticate and authorize each entity that wishes to\n   inspect\
    \ location information.  This does not require that the sender\n   of data anticipate\
    \ who will receive data, and it does permit multiple\n   entities to receive it\
    \ securely; however, it does not obviate the\n   need for pre-association between\
    \ the sender of data and any\n   prospective recipients.  Obviously, in some contexts,\
    \ this pre-\n   association cannot be presumed; when it is not, effectively\n\
    \   unauthenticated access to location information MUST be permitted.  In\n  \
    \ this case, choosing pseudorandom URIs for location-by-reference,\n   coupled\
    \ with path encryption like Session Initiation Protocol Secure\n   (SIPS), can\
    \ help to ensure that only entities on the SIP signaling\n   path learn the URI,\
    \ and thus restores rough parity with sending\n   location-by-value.\n   Location\
    \ information is especially sensitive when the identity of its\n   Target is obvious.\
    \  Note that there is the ability, according to\n   [RFC3693], to have an anonymous\
    \ identity for the Target's location.\n   This is accomplished by the use of an\
    \ unlinkable pseudonym in the\n   \"entity=\" attribute of the <presence> element\
    \ [RFC4479].  Though,\n   this can be problematic for routing messages based on\
    \ location\n   (covered in [RFC4479]).  Moreover, anyone fishing for information\n\
    \   would correlate the identity at the SIP layer with that of the\n   location\
    \ information referenced by SIP signaling.\n   When a UA inserts location, the\
    \ UA sets the policy on whether to\n   reveal its location along the signaling\
    \ path -- as discussed in\n   Section 4, as well as flags in the PIDF-LO [RFC4119].\
    \  UAC\n   implementations MUST make such capabilities conditional on explicit\n\
    \   user permission, and MUST alert the user that location is being\n   conveyed.\n\
    \   This SIP extension offers the default ability to require permission\n   to\
    \ process location while the SIP request is in transit.  The default\n   for this\
    \ is set to \"no\".  There is an error explicitly describing how\n   an intermediary\
    \ asks for permission to view the Target's location,\n   plus a rule stating the\
    \ user has to be made aware of this permission\n   request.\n   There is no end-to-end\
    \ integrity on any locationValue or\n   locationErrorValue header field parameter\
    \ (or middle-to-end if the\n   value was inserted by a intermediary), so recipients\
    \ of either header\n   field need to implicitly trust the header field contents,\
    \ and take\n   whatever precautions each entity deems appropriate given this\n\
    \   situation.\n"
- title: 8.  IANA Considerations
  contents:
  - "8.  IANA Considerations\n   The following are the IANA considerations made by\
    \ this SIP extension.\n   Modifications and additions to all these registrations\
    \ require a\n   Standards Track RFC (Standards Action).\n"
- title: 8.1.  IANA Registration for the SIP Geolocation Header Field
  contents:
  - "8.1.  IANA Registration for the SIP Geolocation Header Field\n   The SIP Geolocation\
    \ header field is created by this document, with\n   its definition and rules\
    \ in Section 4.1 of this document, and it has\n   been added to the IANA sip-parameters\
    \ registry as follows:\n   The Header Fields registry has been updated with:\n\
    \     Header Name        Compact    Reference\n     -----------------  -------\
    \    ---------\n     Geolocation                   [RFC6442]\n"
- title: 8.2.  IANA Registration for the SIP Geolocation-Routing Header Field
  contents:
  - "8.2.  IANA Registration for the SIP Geolocation-Routing Header Field\n   The\
    \ SIP Geolocation-Routing header field is created by this document,\n   with its\
    \ definition and rules in Section 4.2 of this document, and it\n   has been added\
    \ to the IANA sip-parameters registry as follows.\n   The Header Fields registry\
    \ has been updated with:\n     Header Name          Compact    Reference\n   \
    \  -----------------    -------    ---------\n     Geolocation-Routing       \
    \      [RFC6442]\n"
- title: 8.3.  IANA Registration for Location Profiles
  contents:
  - "8.3.  IANA Registration for Location Profiles\n   This document defines two new\
    \ SIP option tags: \"geolocation-sip\" and\n   \"geolocation-http\" that have\
    \ been added to the IANA sip-parameters\n   Options Tags registry as follows.\n"
- title: Name             Description                                 Reference
  contents:
  - 'Name             Description                                 Reference

    '
- title: '-----------      ------------------------------------------  ---------'
  contents:
  - '-----------      ------------------------------------------  ---------

    '
- title: geolocation-sip  The "geolocation-sip" option tag signals    [RFC6442]
  contents:
  - "geolocation-sip  The \"geolocation-sip\" option tag signals    [RFC6442]\n  \
    \               support for acquiring location information\n                 via\
    \ the presence event package of SIP\n                 (RFC 3856).  A location\
    \ recipient who\n                 supports this option can send a SUBSCRIBE\n\
    \                 request and parse a resulting NOTIFY\n                 containing\
    \ a PIDF-LO object.  The URI\n                 schemes supported by this option\
    \ include\n                 \"sip\", \"sips\", and \"pres\".\n"
- title: geolocation-http The "geolocation-http" option tag signals   [RFC6442]
  contents:
  - "geolocation-http The \"geolocation-http\" option tag signals   [RFC6442]\n  \
    \               support for acquiring location information\n                 via\
    \ HTTP (RFC 2616).  A location\n                 recipient who supports this option\
    \ can\n                 request location with an HTTP GET and\n              \
    \   parse a resulting 200 response containing\n                 a PIDF-LO object.\
    \  The URI schemes\n                 supported by this option include \"http\"\
    \n                 and \"https\".\n   The names of profiles are SIP option tags,\
    \ and the guidance in this\n   document does not supersede the option tag assignment\
    \ guidance in\n   [RFC3261] (which requires a Standards Action for the assignment\
    \ of a\n   new option tag).  However, this document does stipulate that option\n\
    \   tags included to convey the name of a location profile per this\n   definition\
    \ MUST begin with the string \"geolocation\" followed by a\n   dash.  All such\
    \ option tags should describe protocols used to acquire\n   location by reference:\
    \ these tags have no relevance to location\n   carried in SIP requests by value,\
    \ which use standard MIME typing and\n   negotiation.\n"
- title: 8.4.  IANA Registration for 424 Response Code
  contents:
  - "8.4.  IANA Registration for 424 Response Code\n   In the SIP Response Codes registry,\
    \ the following is added\n   Reference: RFC 6442\n   Response code: 424 (recommended\
    \ number to assign)\n   Default reason phrase: Bad Location Information\n   Registry:\n\
    \     Response Code                               Reference\n     ------------------------------------------\
    \  ---------\n     Request Failure 4xx\n       424 Bad Location Information  \
    \            [RFC6442]\n   This SIP Response code is defined in Section 4.3 of\
    \ this document.\n"
- title: 8.5.  IANA Registration of New Geolocation-Error Header Field
  contents:
  - "8.5.  IANA Registration of New Geolocation-Error Header Field\n   The SIP Geolocation-Error\
    \ header field is created by this document,\n   with its definition and rules\
    \ in Section 4.4 of this document, to be\n   added to the IANA sip-parameters\
    \ registry with two actions\n   1.  Update the Header Fields registry with:\n\
    \   Registry:\n     Header Name        Compact    Reference\n     -----------------\
    \  -------    ---------\n     Geolocation-Error             [RFC6442]\n   2. \
    \ In the portion titled \"Header Field Parameters and Parameter\n       Values\"\
    , add:\n                                            Predefined\n   Header Field\
    \        Parameter Name       Values      Reference\n   -----------------   -------------------\
    \  ----------  ---------\n   Geolocation-Error   code                 yes    \
    \     [RFC6442]\n"
- title: 8.6.  IANA Registration for the SIP Geolocation-Error Codes
  contents:
  - "8.6.  IANA Registration for the SIP Geolocation-Error Codes\n   This document\
    \ creates a new registry for SIP, called \"Geolocation-\n   Error Codes\".  Geolocation-Error\
    \ codes provide reason for the error\n   discovered by Location Recipients, categorized\
    \ by action to be taken\n   by error recipient.  The initial values for this registry\
    \ are shown\n   below.\n   Registry Name: Geolocation-Error Codes\n   Reference:\
    \ [RFC6442]\n   Registration Procedures: Specification Required\n   Code Default\
    \ Reason Phrase                                Reference\n   ---- ---------------------------------------------------\
    \  ---------\n   100  \"Cannot Process Location\"                            [RFC6442]\n\
    \   200  \"Permission To Use Location Information\"             [RFC6442]\n  \
    \ 201  \"Permission To Retransmit Location Information\n         to a Third Party\"\
    \                                   [RFC6442]\n   202  \"Permission to Route based\
    \ on Location Information\"  [RFC6442]\n   300  \"Dereference Failure\"      \
    \                          [RFC6442]\n   Details of these error codes are in Section\
    \ 4.4 of this document.\n"
- title: 9.  Acknowledgements
  contents:
  - "9.  Acknowledgements\n   To Dave Oran for helping to shape this idea.\n   To\
    \ Dean Willis for guidance of the effort.\n   To Allison Mankin, Dick Knight,\
    \ Hannes Tschofenig, Henning\n   Schulzrinne, James Winterbottom, Jeroen van Bemmel,\
    \ Jean-Francois\n   Mule, Jonathan Rosenberg, Keith Drage, Marc Linsner, Martin\
    \ Thomson,\n   Mike Hammer, Ted Hardie, Shida Shubert, Umesh Sharma, Richard Barnes,\n\
    \   Dan Wing, Matt Lepinski, John Elwell, Thomas Stach, Jacqueline Lee,\n   and\
    \ Adam Roach for constructive feedback and nit checking.\n   Special thanks to\
    \ Paul Kyzivat for his help with the ABNF in this\n   document and to Robert Sparks\
    \ for many helpful comments and the\n   proper construction of the Geolocation-Error\
    \ header field.\n   And finally, to Spencer Dawkins for giving this document a\
    \ good\n   scrubbing to make it more readable.\n"
- title: 10.  References
  contents:
  - '10.  References

    '
- title: 10.1.  Normative References
  contents:
  - "10.1.  Normative References\n   [RFC3261]  Rosenberg, J., Schulzrinne, H., Camarillo,\
    \ G., Johnston,\n              A., Peterson, J., Sparks, R., Handley, M., and\
    \ E.\n              Schooler, \"SIP: Session Initiation Protocol\", RFC 3261,\n\
    \              June 2002.\n   [RFC4119]  Peterson, J., \"A Presence-based GEOPRIV\
    \ Location Object\n              Format\", RFC 4119, December 2005.\n   [RFC2119]\
    \  Bradner, S., \"Key words for use in RFCs to Indicate\n              Requirement\
    \ Levels\", BCP 14, RFC 2119, March 1997.\n   [RFC2392]  Levinson, E., \"Content-ID\
    \ and Message-ID Uniform Resource\n              Locators\", RFC 2392, August\
    \ 1998.\n   [RFC3856]  Rosenberg, J., \"A Presence Event Package for the Session\n\
    \              Initiation Protocol (SIP)\", RFC 3856, August 2004.\n   [RFC3859]\
    \  Peterson, J., \"Common Profile for Presence (CPP)\", RFC\n              3859,\
    \ August 2004.\n   [RFC3428]  Campbell, B., Ed., Rosenberg, J., Schulzrinne, H.,\n\
    \              Huitema, C., and D. Gurle, \"Session Initiation Protocol\n    \
    \          (SIP) Extension for Instant Messaging\", RFC 3428, December\n     \
    \         2002.\n   [RFC3311]  Rosenberg, J., \"The Session Initiation Protocol\
    \ (SIP)\n              UPDATE Method\", RFC 3311, October 2002.\n   [RFC3265]\
    \  Roach, A., \"Session Initiation Protocol (SIP)-Specific\n              Event\
    \ Notification\", RFC 3265, June 2002.\n   [RFC6086]  Holmberg, C., Burger, E.,\
    \ and H. Kaplan, \"Session\n              Initiation Protocol (SIP) INFO Method\
    \ and Package\n              Framework\", RFC 6086, January 2011.\n   [RFC3515]\
    \  Sparks, R., \"The Session Initiation Protocol (SIP) Refer\n              Method\"\
    , RFC 3515, April 2003.\n   [RFC3903]  Niemi, A., Ed., \"Session Initiation Protocol\
    \ (SIP)\n              Extension for Event State Publication\", RFC 3903, October\n\
    \              2004.\n   [RFC5234]  Crocker, D., Ed., and P. Overell, \"Augmented\
    \ BNF for\n              Syntax Specifications: ABNF\", STD 68, RFC 5234, January\n\
    \              2008.\n   [RFC4479]  Rosenberg, J., \"A Data Model for Presence\"\
    , RFC 4479, July\n              2006.\n   [RFC4483]  Burger, E., Ed., \"A Mechanism\
    \ for Content Indirection in\n              Session Initiation Protocol (SIP)\
    \ Messages\", RFC 4483, May\n              2006.\n   [RFC5491]  Winterbottom,\
    \ J., Thomson, M., and H. Tschofenig, \"GEOPRIV\n              Presence Information\
    \ Data Format Location Object (PIDF-LO)\n              Usage Clarification, Considerations,\
    \ and Recommendations\",\n              RFC 5491, March 2009.\n   [RFC5870]  Mayrhofer,\
    \ A. and C. Spanring, \"A Uniform Resource\n              Identifier for Geographic\
    \ Locations ('geo' URI)\", RFC\n              5870, June 2010.\n   [RFC2616] \
    \ Fielding, R., Gettys, J., Mogul, J., Frystyk, H.,\n              Masinter, L.,\
    \ Leach, P., and T. Berners-Lee, \"Hypertext\n              Transfer Protocol\
    \ -- HTTP/1.1\", RFC 2616, June 1999.\n"
- title: 10.2.  Informative References
  contents:
  - "10.2.  Informative References\n   [RFC3693]  Cuellar, J., Morris, J., Mulligan,\
    \ D., Peterson, J., and\n              J. Polk, \"Geopriv Requirements\", RFC\
    \ 3693, February 2004.\n   [RFC2818]  Rescorla, E., \"HTTP Over TLS\", RFC 2818,\
    \ May 2000.\n   [RFC5606]  Peterson, J., Hardie, T., and J. Morris, \"Implications\
    \ of\n              'retransmission-allowed' for SIP Location Conveyance\", RFC\n\
    \              5606, August 2009.\n   [GEO-FILTERS]\n              Mahy, R., Rosen,\
    \ B., and H. Tschofenig, \"Filtering\n              Location Notifications in\
    \ SIP\", Work in Progress, March\n              2010.\n   [HELD-DEREF]\n     \
    \         Winterbottom, J., Tschofenig, H., Schulzrinne, H.,\n              Thomson,\
    \ M., and M. Dawson, \"A Location Dereferencing\n              Protocol Using\
    \ HELD\", Work in Progress, October 2011.\n   [RFC6280]  Barnes, R., Lepinski,\
    \ M., Cooper, A., Morris, J.,\n              Tschofenig, H., and H. Schulzrinne,\
    \ \"An Architecture for\n              Location and Location Privacy in Internet\
    \ Applications\",\n              BCP 160, RFC 6280, July 2011.\n"
- title: Appendix A.  Requirements for SIP Location Conveyance
  contents:
  - "Appendix A.  Requirements for SIP Location Conveyance\n   The following subsections\
    \ address the requirements placed on the UAC,\n   the UAS, as well as SIP proxies\
    \ when conveying location.  This text\n   is from a draft version of the location\
    \ conveyance requirements that\n   has since evolved into this document (RFC 6442).\
    \  It has been kept\n   for historical reasons.\n   If a requirement is not obvious\
    \ in intent, a motivational statement\n   is included below it.\n"
- title: A.1.  Requirements for a UAC Conveying Location
  contents:
  - "A.1.  Requirements for a UAC Conveying Location\n   UAC-1  The SIP INVITE Method\
    \ [RFC3261] must support location\n          conveyance.\n   UAC-2  The SIP MESSAGE\
    \ method [RFC3428] must support location\n          conveyance.\n   UAC-3  SIP\
    \ Requests within a dialog should support location\n          conveyance.\n  \
    \ UAC-4  Other SIP Requests may support location conveyance.\n   UAC-5  There\
    \ must be one, mandatory-to-implement means of\n          transmitting location\
    \ confidentially.\n          Motivation:\n          To guarantee interoperability.\n\
    \   UAC-6  It must be possible for a UAC to update location conveyed at\n    \
    \      any time in a dialog, including during dialog establishment.\n        \
    \  Motivation:\n          If a UAC has moved prior to the establishment of a dialog\n\
    \          between UAs, the UAC must be able to send location\n          information.\
    \  If location has been conveyed, and the UA moves,\n          the UAC must be\
    \ able to update the location previously\n          conveyed to other parties.\n\
    \   UAC-7  The privacy and security rules established within [RFC3693]\n     \
    \     that would categorize SIP as a 'Using Protocol' MUST be met.\n   UAC-8 \
    \ The PIDF-LO [RFC4119] is a mandatory-to-implement format for\n          location\
    \ conveyance within SIP.\n          Motivation:\n          Interoperability with\
    \ other IETF location protocols and\n          Mechanisms.\n   UAC-9  There must\
    \ be a mechanism for the UAC to request the UAS send\n          its location.\n\
    \          UAC-9 has been DEPRECATED by the SIP WG, due to the many\n        \
    \  problems this requirement would have caused if implemented.\n          The\
    \ solution is for the above UAS to send a new request to the\n          original\
    \ UAC with the UAS's location.\n   UAC-10 There must be a mechanism to differentiate\
    \ the ability of the\n          UAC to convey location from the UACs lack of knowledge\
    \ of its\n          location.\n          Motivation:\n          Failure to receive\
    \ location when it is expected can happen\n          because the UAC does not\
    \ implement this extension, or because\n          the UAC implements the extension,\
    \ but does not know where the\n          Target is.  This may be, for example,\
    \ due to the failure of\n          the access network to provide a location acquisition\
    \ mechanism\n          the UAC supports.  These cases must be differentiated.\n\
    \   UAC-11  It must be possible to convey location to proxy servers along\n  \
    \        the path.\n          Motivation:\n          Location-based routing.\n"
- title: A.2.  Requirements for a UAS Receiving Location
  contents:
  - "A.2.  Requirements for a UAS Receiving Location\n   The following are the requirements\
    \ for location conveyance by a UAS:\n   UAS-1  SIP Responses must support location\
    \ conveyance.\n          The SIPCORE WG reached consensus that this be allowed,\
    \ but not\n          to communicate the UAS's location; rather for a SIP\n   \
    \       intermediary to inform the UAC which location to include in\n        \
    \  its next SIP request (as a matter of correcting what was\n          originally\
    \ sent by the UAC).\n   UAS-2  There must be a unique 4XX response informing the\
    \ UAC it did\n          not provide applicable location information.\n   In addition,\
    \ requirements UAC-5, 6, 7, and 8 also apply to the UAS.\n"
- title: A.3.  Requirements for SIP Proxies and Intermediaries
  contents:
  - "A.3.  Requirements for SIP Proxies and Intermediaries\n   The following are the\
    \ requirements for location conveyance by a SIP\n   proxies and intermediaries:\n\
    \   Proxy-1  Proxy servers must be capable of adding a Location header\n     \
    \       field during processing of SIP requests.\n            Motivation:\n  \
    \          Provide network assertion of location when UACs are unable\n      \
    \      to do so, or when network assertion is more reliable than\n           \
    \ UAC assertion of location\n   Note:    Because UACs connected to SIP signaling\
    \ networks can have\n            widely varying access network arrangements, including\
    \ VPN\n            tunnels and roaming mechanisms, it can be difficult for a\n\
    \            network to reliably know the location of the endpoint.\n        \
    \    Proxies SHOULD NOT assert location of an endpoint unless the\n          \
    \  SIP signaling network has reliable knowledge of the actual\n            location\
    \ of the Targets.\n   Proxy-2  There must be a unique 4XX response informing the\
    \ UAC it did\n            not provide applicable location information.\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   James Polk\n   Cisco Systems\n   3913 Treemont Circle\n\
    \   Colleyville, Texas  76034\n   33.00111N\n   96.68142W\n   Phone: +1-817-271-3552\n\
    \   EMail: jmpolk@cisco.com\n   Brian Rosen\n   NeuStar, Inc.\n   470 Conrad Dr.\n\
    \   Mars, PA  16046\n   40.70497N\n   80.01252W\n   Phone: +1 724 382 1051\n \
    \  EMail: br@brianrosen.net\n   Jon Peterson\n   NeuStar, Inc.\n   EMail: jon.peterson@neustar.biz\n"
