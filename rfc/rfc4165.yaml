- title: __initial_text__
  contents:
  - "       Signaling System 7 (SS7) Message Transfer Part 2 (MTP2) -\n          \
    \     User Peer-to-Peer Adaptation Layer (M2PA)\n"
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This document specifies an Internet standards track protocol\
    \ for the\n   Internet community, and requests discussion and suggestions for\n\
    \   improvements.  Please refer to the current edition of the \"Internet\n   Official\
    \ Protocol Standards\" (STD 1) for the standardization state\n   and status of\
    \ this protocol.  Distribution of this memo is unlimited.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (C) The Internet Society (2005).\n"
- title: Abstract
  contents:
  - "Abstract\n   This document defines a protocol supporting the transport of\n \
    \  Signaling System Number 7 (SS7) Message Transfer Part (MTP) Level 3\n   signaling\
    \ messages over Internet Protocol (IP) using the services of\n   the Stream Control\
    \ Transmission Protocol (SCTP).  This protocol would\n   be used between SS7 Signaling\
    \ Points using the MTP Level 3 protocol.\n   The SS7 Signaling Points may also\
    \ use standard SS7 links using the\n   SS7 MTP Level 2 to provide transport of\
    \ MTP Level 3 signaling\n   messages.  The protocol operates in a manner similar\
    \ to MTP Level 2\n   so as to provide peer-to-peer communication between SS7 endpoints.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1. Introduction ....................................................3\n\
    \      1.1. Scope ......................................................3\n  \
    \    1.2. Terminology ................................................3\n    \
    \  1.3. Abbreviations ..............................................4\n      1.4.\
    \ Conventions ................................................5\n      1.5. Signaling\
    \ Transport Architecture ...........................5\n      1.6. Services Provided\
    \ by M2PA ..................................7\n      1.7. Functions Provided by\
    \ M2PA .................................9\n      1.8. Definition of the M2PA Boundaries\
    \ .........................10\n      1.9. Differences Between M2PA and M2UA .........................10\n\
    \   2. Protocol Elements ..............................................12\n  \
    \    2.1. Common Message Header .....................................12\n    \
    \  2.2. M2PA Header ...............................................13\n      2.3.\
    \ M2PA Messages .............................................14\n   3. State Control\
    \ ..................................................17\n      3.1. SCTP Association\
    \ State Control ............................17\n      3.2. M2PA Link State Control\
    \ ...................................18\n   4. Procedures .....................................................19\n\
    \      4.1. Procedures to Support MTP2 Features .......................19\n  \
    \    4.2. Procedures to Support the MTP3/MTP2 Interface .............30\n    \
    \  4.3. SCTP Considerations .......................................33\n   5. Examples\
    \ of M2PA Procedures ....................................34\n      5.1. Link Initialization\
    \ (Alignment) ...........................34\n      5.2. Message Transmission and\
    \ Reception ........................37\n      5.3. Link Status Indication ....................................37\n\
    \      5.4. Link Status Message (Processor Outage) ....................38\n  \
    \    5.5. Level 2 Flow Control ......................................42\n    \
    \  5.6. MTP3 Signaling Link Congestion ............................44\n      5.7.\
    \ Link Deactivation .........................................45\n      5.8. Link\
    \ Changeover ...........................................45\n   6. Security Considerations\
    \ ........................................47\n   7. IANA Considerations ............................................47\n\
    \      7.1. SCTP Payload Protocol Identifier ..........................47\n  \
    \    7.2. M2PA Protocol Extensions ..................................48\n   8.\
    \ Acknowledgements ...............................................49\n   9. References\
    \ .....................................................50\n      9.1. Normative\
    \ References ......................................50\n      9.2. Informative\
    \ References ....................................51\n"
- title: 1.  Introduction
  contents:
  - '1.  Introduction

    '
- title: 1.1.  Scope
  contents:
  - "1.1.  Scope\n   There is a need for Switched Circuit Network (SCN) signaling\
    \ protocol\n   delivery over an IP network.  This includes message transfer between\n\
    \   the following:\n      - a Signaling Gateway (SG) and a Media Gateway Controller\
    \ (MGC)\n        [RFC2719]\n      - a SG and an IP Signaling Point (IPSP)\n  \
    \    - an IPSP and an IPSP\n   This could allow for convergence of some signaling\
    \ and data networks.\n   SCN signaling nodes would have access to databases and\
    \ other devices\n   in the IP network domain that do not use SS7 signaling links.\n\
    \   Likewise, IP telephony applications would have access to SS7\n   services.\
    \  There may also be operational cost and performance\n   advantages when traditional\
    \ signaling links are replaced by IP\n   network \"connections\".\n   The delivery\
    \ mechanism described in this document allows for full\n   MTP3 message handling\
    \ and network management capabilities between any\n   two SS7 nodes communicating\
    \ over an IP network.  An SS7 node equipped\n   with an IP network connection\
    \ is called an IP Signaling Point (IPSP).\n   The IPSPs function as traditional\
    \ SS7 nodes using the IP network\n   instead of SS7 links.\n   The delivery mechanism\
    \ should:\n      - Support seamless operation of MTP3 protocol peers over an IP\n\
    \        network connection.\n      - Support the MTP Level 2 / MTP Level 3 interface\
    \ boundary.\n      - Support management of SCTP transport associations and traffic\n\
    \        instead of MTP2 Links.\n      - Support asynchronous reporting of status\
    \ changes to management.\n"
- title: 1.2.  Terminology
  contents:
  - "1.2.  Terminology\n   MTP  - The Message Transfer Part of the SS7 protocol [Q.700]\
    \ [Q.701]\n   [Q.702] [Q.703] [Q.704] [Q.705] [T1.111].\n   MTP2 - MTP Level 2,\
    \ the MTP signaling link layer.\n   MTP3 - MTP Level 3, the MTP signaling network\
    \ layer.\n   MTP2-User - A protocol that normally uses the services of MTP Level\n\
    \   2.  The only MTP2 user is MTP3.  The MTP2 user is equivalent to the\n   M2PA\
    \ user.\n   Signaling End Point (SEP) - An SS7 Signaling Point that originates\
    \ or\n   terminates signaling messages.  One example is a central office\n   switch.\
    \  [RFC2719]\n   IP Signaling Point (IPSP) - An SS7 Signaling Point with an IP\
    \ network\n   connection used for SS7 over IP.\n   Signaling Gateway (SG) - A\
    \ signaling agent that receives/sends SCN\n   native signaling at the edge of\
    \ the IP network [RFC2719].  In this\n   context, an SG is an SS7 Signaling Point\
    \ that has both an IP network\n   connection used for SS7 over IP, and a traditional\
    \ (non-IP) link to\n   an SS7 network.\n   Signal Transfer Point (STP) - A Signal\
    \ Transfer Point as defined by\n   MTP standards, e.g., [Q.700].\n   Signaling\
    \ Point (STP) - A Signaling Point as defined by MTP\n   standards, e.g., [Q.700].\n\
    \   Association - An association refers to an SCTP association [RFC2960].\n  \
    \ The association provides the transport for MTP3 protocol data units\n   and\
    \ M2PA adaptation layer peer messages.\n   Network Byte Order - Most significant\
    \ byte first, also known as \"Big\n   Endian\".  See [RFC791], Appendix B \"Data\
    \ Transmission Order\".\n   Stream - A stream refers to an SCTP stream [RFC2960].\n"
- title: 1.3.  Abbreviations
  contents:
  - "1.3.  Abbreviations\n   BSNT   - Backward Sequence Number to be Transmitted\n\
    \   FSNC   - Forward Sequence Number of last message accepted by remote\n    \
    \        level 2\n   LI     - Length Indicator\n   MSU    - Message Signal Unit\n\
    \   SCCP   - Signaling Connection Control Part\n   SCN    - Switched Circuit Network\n\
    \   SCTP   - Stream Control Transmission Protocol\n   SIF    - Signaling Information\
    \ Field\n   SIO    - Service Information Octet\n   SLC    - Signaling Link Code\n\
    \   SS7    - Signaling System Number 7\n   SSN    - Stream Sequence Number\n \
    \  STP    - Signal Transfer Point\n"
- title: 1.4.  Conventions
  contents:
  - "1.4.  Conventions\n   The key words \"MUST\", \"MUST NOT\", \"REQUIRED\", \"\
    SHALL\", \"SHALL NOT\",\n   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"MAY\"\
    , and \"OPTIONAL\" in this\n   document are to be interpreted as described in\
    \ [RFC2119].\n"
- title: 1.5.  Signaling Transport Architecture
  contents:
  - "1.5.  Signaling Transport Architecture\n   The architecture that has been defined\
    \ [RFC2719] for Switched Circuit\n   Network (SCN) signaling transport over IP\
    \ uses multiple components,\n   including an IP transport protocol, the Stream\
    \ Control Transmission\n   Protocol (SCTP), and an adaptation module to support\
    \ the services\n   expected by a particular SCN signaling protocol from its underlying\n\
    \   protocol layer.\n   Within this framework architecture, this document defines\
    \ an SCN\n   adaptation module that is suitable for the transport of SS7 MTP3\n\
    \   messages.  The adaptation layer, known as the MTP2 User Peer-to-peer\n   Adaptation\
    \ Layer (M2PA), provides MTP3 with an interface and services\n   similar to MTP2.\
    \  In effect, MTP2 and lower layers of the traditional\n   SS7 protocol stack\
    \ are replaced by an IP equivalent.\n   Figure 1 shows the seamless interworking\
    \ at the MTP3 layer.  MTP3 is\n   adapted to the SCTP layer using the MTP2 User\
    \ Peer-to-peer Adaptation\n   Layer (M2PA).  All the primitives between MTP3 and\
    \ MTP2 are supported\n   by M2PA.  The SCTP association acts as one SS7 link between\
    \ the\n   IPSPs.  An IPSP may have the Signaling Connection Control Part (SCCP)\n\
    \   and other SS7 layers above MTP3.\n               ********   IP   ********\n\
    \               * IPSP *--------* IPSP *\n               ********        ********\n\
    \               +------+        +------+\n               | TCAP |        | TCAP\
    \ |\n               +------+        +------+\n               | SCCP |        |\
    \ SCCP |\n               +------+        +------+\n               | MTP3 |   \
    \     | MTP3 |\n               +------+        +------+\n               | M2PA\
    \ |        | M2PA |\n               +------+        +------+\n               |\
    \ SCTP |        | SCTP |\n               +------+        +------+\n          \
    \     | IP   |        | IP   |\n               +------+        +------+\n    \
    \    IP    - Internet Protocol\n        IPSP  - IP Signaling Point\n        SCTP\
    \  - Stream Control Transmission Protocol [RFC2960]\n        Figure 1.  M2PA Symmetrical\
    \ Peer-to-Peer Architecture\n   Figure 2 shows an example of M2PA used in a Signaling\
    \ Gateway (SG).\n   The SG is an IPSP that is equipped with both traditional SS7\
    \ and IP\n   network connections.\n   The SEP and the SG communicate through a\
    \ traditional SS7 link, which\n   follows a protocol such as [Q.702].  The SG\
    \ and the IPSP communicate\n   through an IP link using the M2PA protocol.  Messages\
    \ sent from the\n   SEP to the IPSP (and vice versa) are routed by the SG.\n \
    \  Any of the nodes in the diagram could have SCCP or other SS7 layers\n   above\
    \ MTP3.  The Signaling Gateway acts as a Signal Transfer Point\n   (STP).  Other\
    \ STPs MAY be present in the SS7 path between the SEP and\n   the SG.\n      \
    \ ********  SS7   ***************   IP   ********\n       * SEP  *--------*  \
    \   SG      *--------* IPSP *\n       ********        ***************        ********\n\
    \       +------+                               +------+\n       | TCAP |     \
    \                          | TCAP |\n       +------+                         \
    \      +------+\n       | SCCP |                               | SCCP |\n    \
    \   +------+        +-------------+        +------+\n       | MTP3 |        |\
    \    MTP3     |        | MTP3 |\n       +------+        +------+------+      \
    \  +------+\n       | MTP2 |        | MTP2 | M2PA |        | M2PA |\n       |\
    \      |        |      +------+        +------+\n       |      |        |    \
    \  | SCTP |        | SCTP |\n       +------+        +------+------+        +------+\n\
    \       | MTP1 |        | MTP1 | IP   |        | IP   |\n       +------+     \
    \   +------+------+        +------+\n        SEP   - SS7 Signaling Endpoint\n\
    \            Figure 2.  M2PA in IP Signaling Gateway\n   Figure 2 is only an example.\
    \  Other configurations are possible.  In\n   short, M2PA uses the SCTP association\
    \ as an SS7 link.  The\n   M2PA/SCTP/IP stack can be used in place of an MTP2/MTP1\
    \ stack.\n"
- title: 1.5.1.  Point Code Representation
  contents:
  - "1.5.1.  Point Code Representation\n   MTP requires that each node with an MTP3\
    \ layer is identified by an\n   SS7 point code.  In particular, each IPSP MUST\
    \ have its own SS7 point\n   code.\n"
- title: 1.6.  Services Provided by M2PA
  contents:
  - "1.6.  Services Provided by M2PA\n   The SS7 MTP3/MTP2 (MTP2-User) interface is\
    \ retained in the IPSP.  The\n   M2PA protocol layer is required to provide a\
    \ set of services to its\n   user equivalent to that provided by MTP Level 2 to\
    \ MTP Level 3.\n   These services are described in the following subsections.\n"
- title: 1.6.1.  Support for MTP Level 2 / MTP Level 3 Interface Boundary
  contents:
  - "1.6.1.  Support for MTP Level 2 / MTP Level 3 Interface Boundary\n   This interface\
    \ is the same as the MTP2/MTP3 interface described in\n   the applicable SS7 standards\
    \ [Q.703] [Q.704] [T1.111] [Q.2140], with\n   the addition of support for the\
    \ larger sequence numbers found in\n   [T1.111] and [Q.2210].\n   M2PA receives\
    \ the primitives sent from MTP3 to its lower layer.  M2PA\n   processes these\
    \ primitives or maps them to appropriate primitives at\n   the M2PA/SCTP interface.\
    \  Likewise, M2PA sends primitives to MTP3\n   similar to those used in the MTP3/MTP2\
    \ interface.\n   Because M2PA uses larger sequence numbers than MTP2, the MTP3\n\
    \   Changeover procedure MUST use the Extended Changeover Order and\n   Extended\
    \ Changeover Acknowledgement messages described in [Q.2210]\n   and [T1.111].\n\
    \   Also, the following MTP3/MTP2 primitives must use the larger sequence\n  \
    \ numbers:\n      - BSNT Confirmation\n      - Retrieval Request and FSNC\n"
- title: 1.6.2.  Support for Peer-to-Peer Communication
  contents:
  - "1.6.2.  Support for Peer-to-Peer Communication\n   In SS7, MTP Level 2 sends\
    \ three types of messages, known as signal\n   units: Message Signal Units (MSUs),\
    \ Link Status Signal Units (LSSUs),\n   and Fill-In Signal Units (FISUs).\n  \
    \ MSUs originate at a higher level than MTP2, and are destined for a\n   peer\
    \ at another node.  Likewise, M2PA passes these messages from MTP3\n   to SCTP\
    \ as data for transport across a link.  These are called User\n   Data messages\
    \ in M2PA.\n   LSSUs allow peer MTP2 layers to exchange status information.\n\
    \   Analogous messages are needed for M2PA.  The Link Status message\n   serves\
    \ this purpose.\n   FISUs are transmitted continuously when no other signal units\
    \ are\n   waiting to be sent.  FISUs also carry acknowledgement of messages.\n\
    \   Since an IP network is a shared resource, it would be undesirable to\n   have\
    \ a message type that is sent continuously as is the case with\n   FISUs.  Furthermore,\
    \ SCTP does not require its upper layer to\n   continuously transmit messages.\
    \  Therefore, M2PA does not provide a\n   protocol data unit like the FISU.  The\
    \ M2PA User Data message is used\n   to carry acknowledgement of messages.  If\
    \ M2PA needs to acknowledge a\n   message, and it has no MTP3 message of its own\
    \ to send, an empty User\n   Data message can be sent.\n"
- title: 1.7.  Functions Provided by M2PA
  contents:
  - '1.7.  Functions Provided by M2PA

    '
- title: 1.7.1.  MTP2 Functionality
  contents:
  - "1.7.1.  MTP2 Functionality\n   M2PA provides MTP2 functionality that is not provided\
    \ by SCTP; thus,\n   together M2PA and SCTP provide functionality similar to that\
    \ of MTP2.\n   SCTP provides reliable, sequenced delivery of messages.\n   M2PA\
    \ functionality includes:\n      - Data retrieval to support the MTP3 changeover\
    \ procedure\n      - Reporting of link status changes to MTP3\n      - Processor\
    \ outage procedure\n      - Link alignment procedure\n"
- title: 1.7.2.  Mapping of SS7 and IP Entities
  contents:
  - "1.7.2.  Mapping of SS7 and IP Entities\n   The M2PA layer must maintain a map\
    \ of each of its SS7 links to the\n   corresponding SCTP association.\n"
- title: 1.7.3.  SCTP Association Management
  contents:
  - "1.7.3.  SCTP Association Management\n   SCTP allows a user-specified number of\
    \ streams to be opened during\n   the initialization.  It is the responsibility\
    \ of the M2PA layer to\n   ensure proper management of the streams allowed within\
    \ each\n   association.\n   M2PA uses two streams in each direction for each association.\
    \  Stream\n   0 in each direction is designated for Link Status messages.  Stream\
    \ 1\n   is designated for User Data messages, as well as Link Status messages\n\
    \   that must remain in sequence with the User Data messages.  Separating\n  \
    \ the Link Status and User Data messages into separate streams allows\n   M2PA\
    \ to prioritize the messages in a manner similar to MTP2.\n   Notifications received\
    \ from SCTP are processed by M2PA or translated\n   into an appropriate notification\
    \ to be sent to the upper layer MTP3.\n"
- title: 1.7.4.  Retention of MTP3 in the SS7 Network
  contents:
  - "1.7.4.  Retention of MTP3 in the SS7 Network\n   M2PA allows MTP3 to perform\
    \ all of its Message Handling and Network\n   Management functions with IPSPs\
    \ as it does with other SS7 nodes.\n"
- title: 1.8.  Definition of the M2PA Boundaries
  contents:
  - '1.8.  Definition of the M2PA Boundaries

    '
- title: 1.8.1.  Definition of the M2PA / MTP Level 3 Boundary
  contents:
  - "1.8.1.  Definition of the M2PA / MTP Level 3 Boundary\n   The upper layer primitives\
    \ provided by M2PA are the same as those\n   provided by MTP2 to MTP3.  These\
    \ primitives are described in the\n   applicable SS7 standards [Q.703] [Q.704]\
    \ [T1.111] [Q.2140].\n"
- title: 1.8.2.  Definition of the Lower Layer Boundary between M2PA and SCTP
  contents:
  - "1.8.2.  Definition of the Lower Layer Boundary between M2PA and SCTP\n   The\
    \ upper layer primitives provided by SCTP are described in\n   [RFC2960] Section\
    \ 10 \"Interface with Upper Layer\".\n"
- title: 1.9.  Differences Between M2PA and M2UA
  contents:
  - "1.9.  Differences Between M2PA and M2UA\n   The MTP2 User Adaptation Layer (M2UA)\
    \ [M2UA] also adapts the MTP3\n   layer to the SCTP/IP stack.  It does so through\
    \ a backhauling\n   architecture [RFC2719].  This section is intended to clarify\
    \ some of\n   the differences between the M2PA and M2UA approaches.\n   A possible\
    \ M2PA architecture is shown in Figure 3.  Here the IPSP's\n   MTP3 uses its underlying\
    \ M2PA as a replacement for MTP2.\n   Communication between the two layers MTP3/M2PA\
    \ is defined by the same\n   primitives as in SS7 MTP3/MTP2.  M2PA performs functions\
    \ similar to\n   MTP2.\n       ********  SS7   ***************   IP   ********\n\
    \       * SEP  *--------*     SG      *--------* IPSP *\n       ********     \
    \   ***************        ********\n       +------+        +-------------+  \
    \      +------+\n       | SCCP |        |    SCCP     |        | SCCP |\n    \
    \   +------+        +-------------+        +------+\n       | MTP3 |        |\
    \    MTP3     |        | MTP3 |\n       +------+        +------+------+      \
    \  +------+\n       | MTP2 |        | MTP2 | M2PA |        | M2PA |\n       |\
    \      |        |      +------+        +------+\n       |      |        |    \
    \  | SCTP |        | SCTP |\n       +------+        +------+------+        +------+\n\
    \       | MTP1 |        | MTP1 | IP   |        | IP   |\n       +------+     \
    \   +------+------+        +------+\n                  Figure 3.  M2PA in IP Signaling\
    \ Gateway\n   A comparable architecture for M2UA is shown in Figure 4.  In M2UA,\n\
    \   the MGC's MTP3 uses the SG's MTP2 as its lower SS7 layer.  Likewise,\n   the\
    \ SG's MTP2 uses the MGC's MTP3 as its upper SS7 layer.  In SS7,\n   communication\
    \ between the MTP3 and MTP2 layers is defined by\n   primitives.  In M2UA, the\
    \ MTP3/MTP2 communication is defined as M2UA\n   messages and sent over the IP\
    \ connection.\n       ********  SS7   ***************   IP   ********\n      \
    \ * SEP  *--------*     SG      *--------* MGC  *\n       ********        ***************\
    \        ********\n       +------+                               +------+\n  \
    \     | SCCP |                               | SCCP |\n       +------+       \
    \                        +------+\n       | MTP3 |             (NIF)         \
    \    | MTP3 |\n       +------+        +------+------+        +------+\n      \
    \ | MTP2 |        | MTP2 | M2UA |        | M2UA |\n       |      |        |  \
    \    +------+        +------+\n       |      |        |      | SCTP |        |\
    \ SCTP |\n       +------+        +------+------+        +------+\n       | MTP1\
    \ |        | MTP1 | IP   |        | IP   |\n       +------+        +------+------+\
    \        +------+\n        NIF   - Nodal Interworking Function\n             \
    \     Figure 4.  M2UA in IP Signaling Gateway\n   M2PA and M2UA are similar in\
    \ that:\n      a. Both transport MTP3 data messages.\n      b. Both present an\
    \ MTP2 upper interface to MTP3.\n   Differences between M2PA and M2UA include:\n\
    \      a. M2PA: IPSP processes MTP3/MTP2 primitives.\n         M2UA: MGC transports\
    \ MTP3/MTP2 primitives between the SG's MTP2\n               and the MGC's MTP3\
    \ (via the NIF) for processing.\n      b. M2PA: SG-IPSP connection is an SS7 link.\n\
    \         M2UA: SG-MGC connection is not an SS7 link.  It is an\n            \
    \   extension of MTP to a remote entity.\n      c. M2PA: SG is an SS7 node with\
    \ a point code.\n         M2UA: SG is not an SS7 node and has no point code.\n\
    \      d. M2PA: SG can have upper SS7 layers, e.g., SCCP.\n         M2UA: SG does\
    \ not have upper SS7 layers since it has no MTP3.\n      e. M2PA: relies on MTP3\
    \ for management procedures.\n         M2UA: uses M2UA management procedures.\n\
    \   Potential users of M2PA and M2UA should be aware of these differences\n  \
    \ when deciding how to use them for SS7 signaling transport over IP\n   networks.\n"
- title: 2.  Protocol Elements
  contents:
  - "2.  Protocol Elements\n   This section describes the format of various messages\
    \ used in this\n   protocol.\n   All fields in an M2PA message must be transmitted\
    \ in the network byte\n   order, i.e., most significant byte first, unless otherwise\
    \ stated.\n"
- title: 2.1.  Common Message Header
  contents:
  - "2.1.  Common Message Header\n   The protocol messages for M2PA require a message\
    \ header structure\n   that contains a version, message class, message type, and\
    \ message\n   length.  The header structure is shown in Figure 5.\n       0  \
    \                 1                   2                   3\n       0 1 2 3 4\
    \ 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \      |    Version    |     Spare     | Message Class | Message Type  |\n   \
    \   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n      |\
    \                        Message Length                         |\n      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \                     Figure 5.  Common Message Header\n"
- title: 2.1.1.  Version
  contents:
  - "2.1.1.  Version\n   The version field contains the version of M2PA.  The supported\n\
    \   versions are:\n            Value\n          (decimal)  Version\n         \
    \ ---------  -------\n              1      Release 1.0 of M2PA protocol\n"
- title: 2.1.2.  Spare
  contents:
  - "2.1.2.  Spare\n   The Spare field SHOULD be set to all zeroes (0's) by the sender\
    \ and\n   ignored by the receiver.  The Spare field SHOULD NOT be used for\n \
    \  proprietary information.\n"
- title: 2.1.3.  Message Class
  contents:
  - "2.1.3.  Message Class\n   The following List contains the valid Message Classes:\n\
    \            Value\n          (decimal)  Message Class\n          ---------  -------------\n\
    \             11      M2PA Messages\n   Other values are invalid for M2PA.\n"
- title: 2.1.4.  Message Type
  contents:
  - "2.1.4.  Message Type\n   The following list contains the message types for the\
    \ defined\n   messages.\n            Value\n          (decimal)  Message Type\n\
    \          ---------  -------------\n              1      User Data\n        \
    \      2      Link Status\n   Other values are invalid.\n"
- title: 2.1.5.  Message Length
  contents:
  - "2.1.5.  Message Length\n   The Message Length defines the length of the message\
    \ in octets,\n   including the Common Header.\n"
- title: 2.2.  M2PA Header
  contents:
  - "2.2.  M2PA Header\n   All protocol messages for M2PA require an M2PA-specific\
    \ header.  The\n   header structure is shown in Figure 6.\n       0          \
    \         1                   2                   3\n       0 1 2 3 4 5 6 7 8\
    \ 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \      |     unused    |                      BSN                      |\n   \
    \   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n      |\
    \     unused    |                      FSN                      |\n      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \                  Figure 6.  M2PA-specific Message Header\n"
- title: 2.2.1.  Backward Sequence Number (BSN)
  contents:
  - "2.2.1.  Backward Sequence Number (BSN)\n   This is the FSN of the message last\
    \ received from the peer.\n"
- title: 2.2.2.  Forward Sequence Number (FSN)
  contents:
  - "2.2.2.  Forward Sequence Number (FSN)\n   This is the M2PA sequence number of\
    \ the User Data message being sent.\n   The FSN and BSN values range from 0 to\
    \ 16,777,215.\n"
- title: 2.3.  M2PA Messages
  contents:
  - "2.3.  M2PA Messages\n   The following section defines the messages and parameter\
    \ contents.\n   An M2PA message consists of a Common Message Header and M2PA Header,\n\
    \   followed by the data appropriate to the message.\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   \\                                                               \\\n   /\
    \                     Common Message Header                     /\n   \\     \
    \                                                          \\\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   \\                                                               \\\n   /\
    \                  M2PA-specific Message Header                 /\n   \\     \
    \                                                          \\\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   \\                                                               \\\n   /\
    \                         Message Data                          /\n   \\     \
    \                                                          \\\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   The field \"Message Data\" contains either:\n      - a User Data message (Section\
    \ 2.3.1), or\n      - a Link State message (Section 2.3.2)\n"
- title: 2.3.1.  User Data
  contents:
  - "2.3.1.  User Data\n   The User Data is the data sent from MTP3.  The User Data\
    \ is an\n   optional field.  It need not be included in an acknowledgement-only\n\
    \   message.\n   The format of the User Data message is as follows:\n    0   \
    \                1                   2                   3\n    0 1 2 3 4 5 6\
    \ 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   \\                                                               \\\n   /\
    \                            Data                               /\n   \\     \
    \                                                          \\\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   The Data field contains the following fields of the MTP Message\n   Signal\
    \ Unit (MSU):\n      - the Message Priority field (PRI)\n      - Service Information\
    \ Octet (SIO)\n      - Signaling Information Field (SIF)\n   The MTP MSU is described\
    \ in Q.703 [Q.703], Section 2.2, \"Signal Unit\n   Format\", and T1.111.3 [T1.111],\
    \ Section 2.2, \"Signal Unit Format\".\n   The Japanese TTC standard uses the\
    \ PRI field as an MTP3 Message\n   Priority field [JT-Q703] [JT-Q704].  For versions\
    \ of MTP that do not\n   use these two bits, the entire first octet of the Data\
    \ field is\n   spare.\n   The format of the first octet of the Data field is:\n\
    \       0\n       0 1 2 3 4 5 6 7\n      +-+-+-+-+-+-+-+-+\n      |PRI|   spare\
    \   | (followed by SIO, SIF)\n      +-+-+-+-+-+-+-+-+\n      PRI - Priority used\
    \ only in national MTP defined in [JT-Q703] and\n            [JT-Q704].  These\
    \ bits are spare for other MTP versions.\n   Note that the Data field SHALL NOT\
    \ contain other components of the\n   MTP MSU format:\n      - Flag\n      - Backward\
    \ Sequence Number (BSN)\n      - Backward Indicator Bit (BIB)\n      - Forward\
    \ Sequence Number (FSN)\n      - Forward Indicator Bit (FIB)\n      - Length Indicator\
    \ (LI)\n      - Check bits (CK)\n   The Data field SHALL be transmitted in the\
    \ byte order as defined by\n   MTP3.\n   M2PA SHALL NOT add padding to the MTP3\
    \ message.\n   Note: In the SS7 Recommendations, the format of the messages and\n\
    \   fields within the messages are based on bit transmission order.  In\n   these\
    \ recommendations, the Least Significant Bit (LSB) of each field\n   is positioned\
    \ to the right.  The received SS7 fields are populated\n   octet by octet as received\
    \ into the 4-octet word, as shown below.\n   As an example, in the ANSI MTP protocol,\
    \ the Data field format is\n   shown below:\n      |MSB---------------------------------------------------------LSB|\n\
    \       0                   1                   2                   3\n      \
    \ 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \      |PRI|   spare   |      SIO      |   SIF octet   |      ...      |\n   \
    \   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n      \\\
    \                                                               \\\n      /  \
    \                             :                               /\n      \\    \
    \                                                           \\\n      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \      |      ...      |      ...      |      ...      |   SIF octet   |\n   \
    \   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   Within\
    \ each octet, the Least Significant Bit (LSB) per the SS7\n   Recommendations\
    \ is to the right (e.g., bit 15 of SIO is the LSB).\n"
- title: 2.3.2.  Link Status
  contents:
  - "2.3.2.  Link Status\n   The MTP2 Link Status message can be sent between M2PA\
    \ peers to\n   indicate link status.  This message performs a function similar\
    \ to\n   the Link Status Signal Unit in MTP2.  The format of the Link Status\n\
    \   message is as follows:\n       0                   1                   2 \
    \                  3\n       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4\
    \ 5 6 7 8 9 0 1\n      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \      |                            State                              |\n   \
    \   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   The\
    \ valid values for State are shown in the following table.\n            Value\n\
    \          (decimal)  Description\n          ---------  -----------\n        \
    \      1      Alignment\n              2      Proving Normal\n              3\
    \      Proving Emergency\n              4      Ready\n              5      Processor\
    \ Outage\n              6      Processor Recovered\n              7      Busy\n\
    \              8      Busy Ended\n              9      Out of Service (OOS)\n"
- title: 2.3.2.1.  Link Status Proving
  contents:
  - "2.3.2.1.  Link Status Proving\n   The Link Status Proving message may optionally\
    \ carry additional\n   bytes.  If the optional bytes are used, the format of the\
    \ message is\n   as follows.\n       0                   1                   2\
    \                   3\n       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3\
    \ 4 5 6 7 8 9 0 1\n      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \      |                            State                              |\n   \
    \   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n      \\\
    \                                                               \\\n      /  \
    \                          filler                             /\n      \\    \
    \                                                           \\\n      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   It is RECOMMENDED that the length of the Link Status Proving message\n   be\
    \ similar to the size of the User Data messages that will be carried\n   on the\
    \ link.\n   It is RECOMMENDED that the filler field contain a number pattern that\n\
    \   varies among the Link Status Proving messages, and that allows the\n   SCTP\
    \ checksum [RFC3309] to be used to verify the accuracy of\n   transmission.\n"
- title: 3.  State Control
  contents:
  - '3.  State Control

    '
- title: 3.1.  SCTP Association State Control
  contents:
  - "3.1.  SCTP Association State Control\n   Figure 7 illustrates state changes in\
    \ the M2PA management of the SCTP\n   association, together with the causing events.\
    \  Note that some of the\n   error conditions are not shown in the state diagram.\n\
    \   Following is a list of the M2PA Association States and a description\n   of\
    \ each.\n   IDLE - State of the association during power-up initialization.\n\
    \   ASSOCIATING - M2PA is attempting to establish an SCTP association.\n   ESTABLISHED\
    \ - SCTP association is established.\n                         +-----------+\n\
    \                         |   IDLE    |\n                         +-----------+\n\
    \                               |\n                               | Associate\n\
    \                               | (Issue SCTP associate)\n                   \
    \            |\n                               |   +----------------------+\n\
    \                               |   |         (Issue SCTP  |\n               \
    \                V   V          associate)  |\n                         +-------------+\
    \                  |\n                         | ASSOCIATING |----------------->+\n\
    \                         +-------------+  SCTP Comm Error |\n               \
    \                |                          |\n                              \
    \ |                          |\n                               | SCTP Comm Up\
    \             |\n                               |                          |\n\
    \                               V                          |\n               \
    \          +-------------+                  |\n                         | ESTABLISHED\
    \ |----------------->+\n                         +-------------+   SCTP Comm Error\n\
    \                                        OR SCTP Comm Lost\n           Figure\
    \ 7.  M2PA Association State Transition Diagram\n"
- title: 3.2.  M2PA Link State Control
  contents:
  - "3.2.  M2PA Link State Control\n   The M2PA link moves from one state to another\
    \ in response to various\n   events.  The events that may result in a change of\
    \ state include:\n      - MTP3 primitive requests\n      - Receipt of messages\
    \ from the peer M2PA\n      - Expiration of timers\n      - SCTP notifications\n\
    \   These events affect the M2PA link state in a manner similar to MTP2.\n"
- title: 4.  Procedures
  contents:
  - "4.  Procedures\n   Because M2PA provides MTP3 with an interface and functionality\
    \ like\n   MTP2, its internal functioning is similar to that of MTP2.\n   Except\
    \ as modified in this document, M2PA SHOULD follow the\n   requirements of the\
    \ applicable MTP2 specification.  These may include\n   [Q.703] or [T1.111]. \
    \ The same standard MUST be followed on both ends\n   of the M2PA link.\n   In\
    \ particular, the corresponding applicable timer value defaults and\n   ranges\
    \ specified for the applicable MTP2 standard should be used for\n   the M2PA timers.\n\
    \   When referring to MTP2 terminology in this document, the terminology\n   of\
    \ [Q.703] is used.  This does not imply that the requirements of\n   [Q.703] are\
    \ to be followed.\n"
- title: 4.1.  Procedures to Support MTP2 Features
  contents:
  - '4.1.  Procedures to Support MTP2 Features

    '
- title: 4.1.1.  Signal Unit Format, Delimitation, Acceptance
  contents:
  - "4.1.1.  Signal Unit Format, Delimitation, Acceptance\n   Messages for transmission\
    \ across the network must follow the format\n   described in Section 2.\n   SCTP\
    \ provides reliable, in-sequence delivery of user messages.\n   Therefore the\
    \ related functionality of MTP2 is not needed.  SCTP does\n   not provide functions\
    \ related to Link State Control in MTP2.  These\n   functions must be provided\
    \ by M2PA.\n   Since SCTP provides delivery of messages, there is no need for\
    \ M2PA\n   to delimit its messages with a flag, as is done in MTP2.\n   Furthermore,\
    \ M2PA does not need to perform zero bit insertion and\n   deletion on its messages.\n\
    \   Since SCTP uses a checksum to detect transmission errors, there is no\n  \
    \ need for an M2PA checksum, as is needed in MTP2.  This also\n   eliminates the\
    \ need for the error rate monitors of MTP2.\n   Since SCTP provides reliable delivery\
    \ and ordered delivery, M2PA does\n   not perform retransmissions.  This eliminates\
    \ the need for the\n   forward and backward indicator bits in MTP2 signal units.\n\
    \   Acceptance of a message is indicated by a successful receipt of the\n   message\
    \ from SCTP.\n"
- title: 4.1.2.  MTP and SCTP Entities
  contents:
  - "4.1.2.  MTP and SCTP Entities\n   This section describes how M2PA relates MTP\
    \ and SCTP entities.\n   Each MTP link corresponds to an SCTP association.  To\
    \ prevent\n   duplicate associations from being established, it is RECOMMENDED\
    \ that\n   each endpoint know the IP address (or IP addresses, if multi-homing\n\
    \   is used) and port number of both endpoints.  SCTP prevents two\n   associations\
    \ with the same IP addresses and port numbers from being\n   established.\n  \
    \ It is necessary for at least one of the endpoints to be listening on\n   the\
    \ port on which the other endpoint is trying to establish the\n   association.\
    \  Therefore, at least one of the port numbers SHOULD be\n   the M2PA registered\
    \ port.\n   If only one association is to be established between these two IP\n\
    \   addresses, then the association SHOULD be established using the M2PA\n   registered\
    \ port at each endpoint.\n   If it is desirable to create multiple associations\
    \ (for multiple\n   links) between the two IP addresses, different port numbers\
    \ can be\n   used for each association.  Nevertheless, the M2PA registered port\n\
    \   number SHOULD be used at one end of each association.\n   Each combination\
    \ of IP address/port for the two endpoints (i.e., each\n   association) MUST be\
    \ mapped to the same Signaling Link Code (SLC) at\n   each endpoint, so that each\
    \ endpoint knows which link is being\n   created at the time the SCTP association\
    \ is established.  However,\n   M2PA does not do any processing based on the SLC.\n\
    \   Following are examples of the relationships between associations and\n   links.\
    \  Note that a link is an SCTP association identified by two\n   endpoints.  Each\
    \ endpoint is identified by an IP address and port\n   number.  Each association\
    \ is mapped to an SLC.\n   Figure 8 shows a case with two IPSPs, each with two\
    \ IP addresses.\n   Two associations are the links that connect the two IPSPs.\
    \  Since\n   these links are in the same link set, they MUST have different SLCs.\n\
    \   Table 1 shows the relationships in tabular form.  Table 1 is only\n   conceptual.\
    \  The actual method for mapping the SCTP associations to\n   the SLCs is implementation\
    \ dependent.\n                   IPSP X                        IPSP Y\n      \
    \         +-------------+               +-------------+\n               |    \
    \         |     SCTP      |             |\n               |         IPA | association\
    \ 1 | IPB         |\n               |   port = PW +---------------+ port = PW\
    \   |\n               |     SLC = a |               | SLC = a     |\n        \
    \       |             |               |             |\n               |      \
    \       |               |             |\n               |             |     SCTP\
    \      |             |\n               |         IPC | association 2 | IPD   \
    \      |\n               |   port = PW +---------------+ port = PW   |\n     \
    \          |     SLC = b |               | SLC = b     |\n               |   \
    \          |               |             |\n               |             |   \
    \            |             |\n               +-------------+               +-------------+\n\
    \            IPx = IP address\n            PW  = Registered port number for M2PA\n\
    \               Figure 8.  Two IPSPs with Two IP Addresses Each\n        +-------------+---------------------------------------+-----+\n\
    \        | Association |      IPSP X       |      IPSP Y       | SLC |\n     \
    \   |             +------------+------+------------+------+     |\n        | \
    \            | IP address | Port | IP address | Port |     |\n        +=============+============+======+============+======+=====+\n\
    \        |      1      |    IPA     |  PW  |    IPB     |  PW  |  a  |\n     \
    \   +-------------+------------+------+------------+------+-----+\n        | \
    \     2      |    IPC     |  PW  |    IPD     |  PW  |  b  |\n        +-------------+------------+------+------------+------+-----+\n\
    \              Table 1.  Two IPSPs with Two IP Addresses Each\n   Figure 9 and\
    \ Table 2 show an example with three IPSPs.  Note that in\n   this example, the\
    \ two links are in different link sets.  Therefore,\n   it is possible that the\
    \ SLC values a and b MAY be equal.\n                   IPSP X                \
    \        IPSP Y\n               +-------------+               +-------------+\n\
    \               |             |     SCTP      |             |\n              \
    \ |         IPA | association 1 | IPB         |\n               |   port = PW\
    \ +---------------+ port = PW   |\n               |     SLC = a |            \
    \   | SLC = a     |\n               |             |               |          \
    \   |\n               |             |               |             |\n        \
    \       |             |     SCTP      |             |\n               |      \
    \   IPC | association 2 |             |\n               |   port = PW +-------+\
    \       |             |\n               |     SLC = b |       |       |      \
    \       |\n               |             |       |       |             |\n    \
    \           |             |       |       |             |\n               +-------------+\
    \       |       +-------------+\n                                     |\n    \
    \                                 |\n                                     |  \
    \         IPSP Z\n                                     |\n                   \
    \                  |       +-------------+\n                                 \
    \    |       |             |\n                                     |       | IPD\
    \         |\n                                     +-------+ port = PW   |\n  \
    \                                           | SLC = b     |\n                \
    \                             |             |\n                              \
    \               |             |\n                                            \
    \ |             |\n                                             |            \
    \ |\n                                             |             |\n          \
    \                                   |             |\n                        \
    \                     |             |\n                                      \
    \       |             |\n                                             +-------------+\n\
    \            IPx = IP address\n            PW  = Registered port number for M2PA\n\
    \                 Figure 9.  One IPSP Connected to Two IPSPs\n        +-------------+---------------------------------------+-----+\n\
    \        | Association |      IPSP X       |     IPSP Y/Z      | SLC |\n     \
    \   |             +------------+------+------------+------+     |\n        | \
    \            | IP address | Port | IP address | Port |     |\n        +=============+============+======+============+======+=====+\n\
    \        |      1      |    IPA     |  PW  |    IPB     |  PW  |  a  |\n     \
    \   +-------------+------------+------+------------+------+-----+\n        | \
    \     2      |    IPC     |  PW  |    IPD     |  PW  |  b  |\n        +-------------+------------+------+------------+------+-----+\n\
    \                 Table 2.  One IPSP Connected to Two IPSPs\n   Figure 10 and\
    \ Table 3 show two associations between the same IP\n   addresses.  This is accomplished\
    \ by using different port numbers for\n   each association at one endpoint.\n\
    \                   IPSP X                        IPSP Y\n               +-------------+\
    \               +-------------+\n               |             |     SCTP     \
    \ |             |\n               |         IPA | association 1 | IPB        \
    \ |\n               |   port = P1 +---------------+ port = PW   |\n          \
    \     |     SLC = a |               | SLC = a     |\n               |        \
    \     |               |             |\n               |             |        \
    \       |             |\n               |             |     SCTP      |      \
    \       |\n               |         IPA | association 2 | IPB         |\n    \
    \           |   port = PW +---------------+ port = PW   |\n               |  \
    \   SLC = b |               | SLC = b     |\n               |             |  \
    \             |             |\n               |             |               |\
    \             |\n               +-------------+               +-------------+\n\
    \            IPx = IP address\n            P1  = Pre-selected port number\n  \
    \          PW  = Registered port number for M2PA\n             Figure 10.  Multiple\
    \ Associations Between Two IP Addresses\n        +-------------+---------------------------------------+-----+\n\
    \        | Association |      IPSP X       |      IPSP Y       | SLC |\n     \
    \   |             +------------+------+------------+------+     |\n        | \
    \            | IP address | Port | IP address | Port |     |\n        +=============+============+======+============+======+=====+\n\
    \        |      1      |    IPA     |  P1  |    IPB     |  PW  |  a  |\n     \
    \   +-------------+------------+------+------------+------+-----+\n        | \
    \     2      |    IPA     |  PW  |    IPB     |  PW  |  b  |\n        +-------------+------------+------+------------+------+-----+\n\
    \           Table 3.  Multiple Associations Between Two IP Addresses\n   The association\
    \ SHALL contain two streams in each direction.  Stream\n   0 is designated for\
    \ Link Status messages.  Stream 1 is designated for\n   User Data messages, as\
    \ well as Link Status messages that must remain\n   in sequence with the User\
    \ Data messages.\n   The following Link Status messages SHALL be sent on the Link\
    \ Status\n   stream (stream 0):\n      - Alignment\n      - Proving Normal\n \
    \     - Proving Emergency\n      - Ready (when sent during alignment)\n      -\
    \ Busy\n      - Busy Ended\n      - Out of Service\n   The following Link Status\
    \ messages SHALL be sent on the User Data\n   stream (stream 1):\n      - Processor\
    \ Outage\n      - Processor Recovered\n      - Ready (when sent at the end of\
    \ processor outage)\n"
- title: 4.1.3.  Link Alignment
  contents:
  - "4.1.3.  Link Alignment\n   The purposes of the alignment procedure are:\n   \
    \   (1) To provide a handshaking procedure so that both endpoints are\n      \
    \    prepared to send SS7 traffic, and to prevent traffic from\n          being\
    \ sent before the other end is ready.\n      (2) To verify that the SCTP association\
    \ is suitable for use as an\n          SS7 link.\n   Link alignment takes place\
    \ after the association is established.  If\n   SCTP fails to establish the association,\
    \ and M2PA has received a\n   Start Request from its MTP3, then M2PA SHALL report\
    \ to MTP3 that the\n   link is out of service.\n   The Link Status Out of Service\
    \ message replaces the SIOS message of\n   MTP2.  Unlike MTP2, the message SHOULD\
    \ NOT be transmitted\n   continuously.  After the association is established,\
    \ M2PA SHALL send\n   a Link Status Out of Service message to its peer.  Prior\
    \ to the\n   beginning of alignment, M2PA MAY send additional Link Status Out\
    \ of\n   Service messages.\n   The Link Status Alignment message replaces the\
    \ SIO message of MTP2.\n   This message is sent to signal the beginning of the\
    \ alignment\n   procedure.  The Link Status Alignment message SHOULD NOT be\n\
    \   transmitted continuously.  M2PA MAY send additional Link Status\n   Alignment\
    \ until it receives Link Status Alignment, Link Status\n   Proving Normal, or\
    \ Link Status Proving Emergency from the peer.\n   The Link Status Proving Normal\
    \ message replaces the SIN message of\n   MTP2.  The Link Status Proving Emergency\
    \ message replaces the SIE\n   message of MTP2.\n   The proving period MAY be\
    \ omitted if this is allowed by the\n   applicable MTP2 standard (e.g., [Q.2140]).\n\
    \   If proving is performed, then during the proving period (i.e., after\n   M2PA\
    \ starts the proving period timer T4), M2PA SHALL send Link Status\n   Proving\
    \ messages to its peer at an interval defined by the protocol\n   parameter Proving_Interval.\
    \  It is RECOMMENDED that Proving_Interval\n   be set so that the traffic load\
    \ generated with the Link Status\n   Proving messages during the proving period\
    \ is comparable to the\n   normal traffic load expected when the link is in service.\n\
    \   The Link Status Ready message replaces the FISU of MTP2 that is sent\n   at\
    \ the end of the proving period.  The Link Status Ready message is\n   used to\
    \ verify that both ends have completed proving.  When M2PA\n   starts timer T1,\
    \ it SHALL send a Link Status Ready message to its\n   peer in the case where\
    \ MTP2 would send a FISU after proving is\n   complete.  If the Link Status Ready\
    \ message is sent, then M2PA MAY\n   send additional Link Status Ready messages\
    \ while timer T1 is running.\n   These Link Status Ready messages are sent on\
    \ the Link Status stream.\n   In the case that MTP2 sends an MSU or SIPO message\
    \ at the end of\n   proving, M2PA SHALL send (respectively) a User Data or Link\
    \ Status\n   Processor Outage message.\n"
- title: 4.1.4.  Processor Outage
  contents:
  - "4.1.4.  Processor Outage\n   The Link Status Processor Outage message replaces\
    \ the SIPO message of\n   MTP2.  Unlike MTP2, the message SHOULD NOT be transmitted\n\
    \   continuously.  M2PA SHALL send a Link Status Processor Outage message\n  \
    \ to its peer at the beginning of a processor outage condition where\n   MTP2\
    \ would send SIPO.  M2PA MAY send additional Link Status Processor\n   Outage\
    \ messages as long as that condition persists.  The Link Status\n   Processor\
    \ Outage message SHALL be sent on the User Data stream.\n   While in a local processor\
    \ outage (LPO) condition:\n      (a) Any User Data messages received from the\
    \ peer MUST NOT be\n          acknowledged and MUST be buffered.\n      (b) M2PA\
    \ SHOULD continue to acknowledge User Data messages\n          received and accepted\
    \ by MTP3 before the local processor\n          outage.\n      (c) M2PA SHOULD\
    \ continue to transmit messages that have been sent\n          by its upper layer\
    \ MTP3.\n   While there is a remote processor outage (RPO) condition:\n      (a)\
    \ M2PA SHOULD continue to acknowledge User Data messages\n          received and\
    \ accepted by MTP3, regardless of the remote\n          processor outage.\n  \
    \    (b) If any User Data messages received from the peer after the\n        \
    \  Link Status Processor Outage cannot be delivered to MTP3, then\n          these\
    \ messages MUST NOT be acknowledged and MUST be buffered.\n   If M2PA receives\
    \ a Flush command from MTP3,\n      (a) M2PA SHALL discard any incoming messages\
    \ that were queued and\n          unacknowledged during the processor outage condition.\n\
    \      (b) M2PA SHALL discard messages in the transmit and retransmit\n      \
    \    queues as required by MTP2.\n   If M2PA receives a Continue command from\
    \ MTP3, M2PA SHALL begin\n   processing the incoming messages that were queued\
    \ and unacknowledged\n   during the processor outage condition.\n   When the local\
    \ processor outage condition ends, M2PA SHALL send a\n   Link Status Processor\
    \ Recovered message to its peer on the User Data\n   stream.  This message is\
    \ used to signal the end of the processor\n   outage condition, instead of an\
    \ MSU or FISU, as is used in MTP2.  The\n   BSN in the Link Status Processor Recovered\
    \ message is set to the FSN\n   of the last User Data message received (and not\
    \ discarded) from the\n   peer M2PA.  M2PA SHALL cease transmitting User Data\
    \ messages after\n   sending the Link Status Processor Recovered message, until\
    \ it has\n   received the Link Status Ready message (see below).\n   Upon receiving\
    \ the Link Status Processor Recovered message, the M2PA\n   in RPO SHALL respond\
    \ with a Link Status Ready message on the User\n   Data stream.  The BSN in the\
    \ Link Status Ready message is set to the\n   FSN of the last User Data message\
    \ received (and not discarded) from\n   the peer M2PA.\n   Upon receiving the\
    \ Link Status Ready message, the M2PA formerly in\n   LPO SHALL respond with a\
    \ Link Status Ready message on the User Data\n   stream.  The BSN in the Link\
    \ Status Ready message is set to the FSN\n   of the last User Data message received\
    \ (and not discarded) from the\n   peer M2PA.\n   M2PA (at both the LPO and RPO\
    \ ends) uses the BSN value in the\n   received Link Status Ready message to resynchronize\
    \ its sequence\n   numbers, if this is required by MTP2.  M2PA SHALL NOT resume\n\
    \   transmitting User Data messages until it has sent the Link Status\n   Ready\
    \ message.\n   During resynchronization, M2PA SHALL NOT discard any received User\n\
    \   Data messages that were sent after the processor outage ended.\n   When M2PA\
    \ experiences a local processor outage, it MAY put the link\n   out of service\
    \ by sending a Link Status Out of Service message, if\n   this is allowed by the\
    \ applicable MTP2 standard (e.g., [Q.2140]).\n   In other respects, M2PA SHOULD\
    \ follow the same procedures as MTP2 in\n   processor outage.\n"
- title: 4.1.5.  Level 2 Flow Control
  contents:
  - "4.1.5.  Level 2 Flow Control\n   The Link Status Busy message replaces the SIB\
    \ message of MTP2.  The\n   message SHOULD NOT be transmitted continuously.  M2PA\
    \ SHALL send a\n   Link Status Busy message to its peer at the beginning of a\
    \ receive\n   congestion condition where MTP2 would send SIB.  M2PA MAY send\n\
    \   additional Link Status Busy messages as long as that condition\n   persists.\
    \  When the condition ends, M2PA SHALL send a Link Status\n   Busy Ended message\
    \ to its peer.\n   M2PA SHALL continue transmitting messages while it is in receive\n\
    \   congestion, but MUST NOT acknowledge the message that triggered the\n   sending\
    \ of the Link Status Busy message, nor any messages received\n   before the sending\
    \ of Link Status Busy Ended.\n   When the peer M2PA receives the first Link Status\
    \ Busy message, it\n   SHALL start the Remote Congestion timer T6 if there are\
    \ messages in\n   the retransmission buffer awaiting acknowledgement (i.e., T7\
    \ is\n   running).  M2PA SHALL stop the T7 timer if it is running.  Additional\n\
    \   Link Status Busy messages received while T6 is running do not cause\n   T6\
    \ to be reset and do not cause T7 to be started.  While T6 is\n   running, T7\
    \ SHALL NOT be started.\n   When the peer M2PA receives the Link Status Busy Ended\
    \ message and T6\n   has not expired, it SHALL stop T6 (if T6 is running) and\
    \ start T7 (if\n   there are messages awaiting acknowledgement in the retransmission\n\
    \   buffer).\n   The peer M2PA SHOULD continue receiving and acknowledging messages\n\
    \   while the other end is busy, but MUST NOT send User Data messages\n   after\
    \ receiving Link Status Busy and before receiving Link Status\n   Busy Ended.\n"
- title: 4.1.6.  Link Out of Service
  contents:
  - "4.1.6.  Link Out of Service\n   The Link Status Out of Service message replaces\
    \ the SIOS message of\n   MTP2.  Unlike MTP2, the message SHOULD NOT be transmitted\n\
    \   continuously.  M2PA SHALL send a Link Status Out of Service message\n   to\
    \ its peer at the beginning of a condition where MTP2 would send\n   SIOS.  M2PA\
    \ MAY send additional Link Status Out of Service messages\n   as long as that\
    \ condition persists.\n   When M2PA places a link in the OUT OF SERVICE state,\
    \ M2PA SHOULD NOT\n   terminate the SCTP association.\n"
- title: 4.1.7.  SCTP Association Problems
  contents:
  - "4.1.7.  SCTP Association Problems\n   The SCTP association for a link may become\
    \ unusable, such as when one\n   of the following occurs:\n      - SCTP sends\
    \ a Send Failure notification to M2PA.\n      - SCTP sends a Communication Lost\
    \ notification to M2PA.\n      - SCTP sends a Communication Error notification\
    \ to M2PA.\n      - The SCTP association is lost.\n   If the SCTP association\
    \ for a link becomes unable to transmit or\n   receive messages, M2PA SHALL report\
    \ to MTP3 that the link is out of\n   service and enter the OUT OF SERVICE state.\n"
- title: 4.1.8.  Transmission and Reception Priorities
  contents:
  - "4.1.8.  Transmission and Reception Priorities\n   In MTP, Link Status messages\
    \ have priority over User Data messages\n   ([Q.703], Section 11.2).  To achieve\
    \ this in M2PA, M2PA uses separate\n   streams in its SCTP association for Link\
    \ Status messages and User\n   Data messages.\n   M2PA SHALL send all messages\
    \ using the ordered delivery option of\n   SCTP.\n   M2PA SHOULD give higher priority\
    \ to messages sent on the Link Status\n   stream than to messages sent on the\
    \ User Data stream when sending\n   messages to SCTP.\n   M2PA SHOULD give higher\
    \ priority to reading the Link Status stream\n   than to reading the User Data\
    \ stream.\n   M2PA SHOULD give higher priority to receiving notifications from\
    \ SCTP\n   than to reading either the Link Status stream or the User Data\n  \
    \ stream.\n"
- title: 4.1.9.  M2PA Version Control
  contents:
  - "4.1.9.  M2PA Version Control\n   A node upgraded to a newer version of M2PA SHOULD\
    \ support the older\n   versions used on other nodes with which it is communicating.\
    \  If that\n   is the case, then alignment can proceed normally.\n   In particular,\
    \ it is recommended that for future modifications to\n   this protocol:\n    \
    \  - Any newer version SHOULD be able to process the messages from an\n      \
    \  older version.\n      - A newer version of M2PA SHOULD refrain from sending\
    \ messages to\n        an older version of M2PA messages that the older version\
    \ cannot\n        process.\n      - If an older version of M2PA receives a message\
    \ that it cannot\n        process, it SHOULD discard the message.\n      - In\
    \ cases where different processing is done in two versions for\n        the same\
    \ format of a message, then the newer version SHOULD\n        contain procedures\
    \ to recognize and handle this appropriately.\n   In case a newer version of M2PA\
    \ is incompatible with an older\n   version, the newer version SHOULD recognize\
    \ this and prevent the\n   alignment of the link.  If a Link Status Alignment\
    \ message with an\n   unsupported version is received by the newer version, the\
    \ receiving\n   end's M2PA SHOULD reply with a Link Status Out of Service message\
    \ and\n   not complete the alignment procedure.\n"
- title: 4.2.  Procedures to Support the MTP3/MTP2 Interface
  contents:
  - '4.2.  Procedures to Support the MTP3/MTP2 Interface

    '
- title: 4.2.1.  Sending and Receiving Messages
  contents:
  - "4.2.1.  Sending and Receiving Messages\n   When MTP3 sends a message for transmission\
    \ to M2PA, M2PA passes the\n   corresponding M2PA message to SCTP using the SEND\
    \ primitive.\n   User Data messages SHALL be sent via the User Data stream (stream\
    \ 1)\n   of the association.\n   M2PA Link Status messages are passed to SCTP\
    \ using the SEND\n   primitive.\n   The following Link Status messages SHALL be\
    \ sent on the Link Status\n   stream (stream 0):\n      - Alignment\n      - Proving\
    \ Normal\n      - Proving Emergency\n      - Ready (when sent during alignment)\n\
    \      - Busy\n      - Busy Ended\n      - Out of Service\n   The following Link\
    \ Status messages SHALL be sent on the User Data\n   stream (stream 1):\n    \
    \  - Processor Outage\n      - Processor Recovered\n      - Ready (when sent at\
    \ the end of processor outage)\n   If M2PA receives a message from SCTP with an\
    \ invalid Message Class or\n   unsupported Message Type in the Common Message\
    \ Header, M2PA SHALL\n   discard the message.\n   For message types other than\
    \ User Data, the Forward Sequence Number\n   is set to the FSN of the last User\
    \ Data message sent.\n   If M2PA receives a User Data message with an FSN that\
    \ is out of\n   order, M2PA SHALL discard the message.\n   Note: In all calculations\
    \ involving FSN and BSN, the programmer\n   should be aware that the value wraps\
    \ around to 0 after reaching its\n   maximum value.\n   When there is a message\
    \ to acknowledge, M2PA MUST acknowledge the\n   message with the next User Data\
    \ message sent.  If there is no User\n   Data message available to be sent when\
    \ there is a message to\n   acknowledge, M2PA SHOULD generate and send a User\
    \ Data message with\n   no data payload, without delay.  (In other words, in the\
    \ case where\n   MTP2 would acknowledge a message with a FISU, M2PA SHOULD acknowledge\n\
    \   the message with an empty User Data message.)  The FSN for this empty\n  \
    \ User Data message is not incremented.  It MUST contain the same FSN\n   as the\
    \ most recently sent User Data message that contains data.\n   Delaying of acknowledgements\
    \ can result in poor SS7 performance.\n   If M2PA receives an empty User Data\
    \ message, it SHALL NOT send an\n   acknowledgement of that message.\n   Note\
    \ that there is no reason to place Link Status messages or empty\n   User Data\
    \ messages in the M2PA retransmit buffer, since these\n   messages are not retrieved\
    \ for changeover and timer T7 does not apply\n   to them.\n   Note that since\
    \ SCTP provides reliable delivery and ordered delivery\n   within the stream,\
    \ M2PA does not perform retransmissions.\n   Nevertheless, M2PA SHALL retain transmitted\
    \ User Data messages in a\n   retransmit queue until they are acknowledged.  These\
    \ messages are\n   needed in case MTP3 performs data retrieval as part of a changeover\n\
    \   procedure.\n   Because propagation delays in IP networks are more variable\
    \ than in\n   traditional SS7 networks, a single T7 timer (excessive delay of\n\
    \   acknowledgement), as in MTP2, is inadequate.  If any message is\n   unacknowledged\
    \ after a period equal to the T7 value, the T7 timer\n   SHALL expire.\n"
- title: 4.2.2.  MTP3 Signaling Link Congestion
  contents:
  - "4.2.2.  MTP3 Signaling Link Congestion\n   M2PA SHALL detect transmit congestion\
    \ in its buffers according to the\n   requirements for signaling link transmit\
    \ congestion in MTP3, e.g.,\n   Q.704 [Q.704], Section 3.8.\n"
- title: 4.2.3.  Changeover
  contents:
  - "4.2.3.  Changeover\n   The objective of the changeover is to ensure that signaling\
    \ traffic\n   carried by the unavailable signaling link is diverted to the\n \
    \  alternative signaling link(s) as quickly as possible while avoiding\n   message\
    \ loss, duplication, or mis-sequencing.  For this purpose, the\n   changeover\
    \ procedure includes data retrieval, which is performed\n   before opening the\
    \ alternative signaling links to the diverted\n   traffic.  Data retrieval consists\
    \ of these steps:\n      (1) buffer updating, i.e., identifying all those User\
    \ Data\n          messages in the retransmission buffer of the unavailable\n \
    \         signaling link which have not been received by the far end\n       \
    \   M2PA, as well as untransmitted messages, and\n      (2) transferring those\
    \ messages to the transmission buffers of the\n          alternate links.\n  \
    \ Note that only User Data messages containing data are retrieved and\n   transmitted\
    \ over the alternate links.  Link Status messages and empty\n   User Data messages\
    \ SHALL NOT be retrieved and transmitted over the\n   alternate links.\n   M2PA's\
    \ Sequence Numbers are 24 bits long.  MTP2's Forward and\n   Backward Sequence\
    \ Numbers are only seven bits long.  Hence, it is\n   necessary for MTP3 to accommodate\
    \ the larger sequence numbers.  This\n   is done through the use of the Extended\
    \ Changeover Order (XCO) and\n   Extended Changeover Acknowledgement (XCA) messages\
    \ instead of the\n   Changeover Order (COO) and Changeover Acknowledgement (COA)\
    \ messages.\n   The XCO and XCA messages are specified in [Q.2210] Section 9.8.1\
    \ and\n   T1.111.4 [T1.111], Section 15.4.  Only the XCO and XCA messages from\n\
    \   [Q.2210] or [T1.111] are required.  The BSN is placed in the XCO/XCA\n   message\
    \ as explained in [Q.2210] and [T1.111].\n   Also, the following MTP3/MTP2 primitives\
    \ MUST use the larger sequence\n   numbers:\n      - BSNT Confirmation\n     \
    \ - Retrieval Request and FSNC\n   If M2PA receives a Retrieval Request and FSNC\
    \ request from MTP3, M2PA\n   SHALL retrieve from its buffers and deliver to MTP3\
    \ in order:\n      (a) any transmitted User Data messages beginning with the first\n\
    \          unacknowledged message with FSN greater than FSNC.\n      (b) any untransmitted\
    \ User Data messages.\n   For emergency changeover, MTP3 retrieves only the unsent\
    \ messages for\n   transmission on the alternate link(s).  If M2PA receives a\
    \ Retrieval\n   Request and FSNC request with no FSNC value, or with an invalid\
    \ FSNC,\n   then M2PA SHALL retrieve from its buffers and deliver to MTP3 in\n\
    \   order:\n      (a) any untransmitted User Data messages.\n   The Japanese TTC\
    \ version of MTP defined in [JT-Q703] and [JT-Q704]\n   has a Retrieval Request\
    \ (as well as Retrieval Request and FSNC).  The\n   Retrieval allows MTP3 to retrieve\
    \ both unsent and unacknowledged\n   messages for transmission on the alternate\
    \ link(s).  In this version\n   of MTP, if M2PA receives a Retrieval Request,\
    \ then M2PA SHALL\n   retrieve from its buffers and deliver to MTP3 in order:\n\
    \      (a) any transmitted but unacknowledged User Data messages.\n      (b) any\
    \ untransmitted User Data messages.\n"
- title: 4.2.3.1.  Multiple User Data Streams and Changeover
  contents:
  - "4.2.3.1.  Multiple User Data Streams and Changeover\n   The changeover procedure\
    \ makes it problematic for M2PA to have\n   multiple User Data streams in one\
    \ direction for a link.  Buffer\n   updating would have to be done separately\
    \ for each User Data stream\n   to avoid duplication or loss of messages.  But\
    \ MTP3 provides for only\n   one XCO/XCA message for sending the last-received\
    \ sequence number.\n   Even with sequence numbering of User Data messages at the\
    \ M2PA layer,\n   it is necessary to perform buffer updating on each stream. \
    \ Since the\n   M2PA messages would be delivered over multiple streams, there\
    \ could\n   be a gap in the M2PA sequence numbers at the receiving end when the\n\
    \   changeover procedure begins.  If only the M2PA sequence number is\n   used\
    \ in the XCO/XCA message, there would be a possibility of losing\n   the messages\
    \ in the gap, or duplicating messages after the gap.\n   M2PA links with multiple\
    \ User Data streams would be possible if a\n   multiple-BSNT XCO/XCA message is\
    \ defined in MTP3, or if MTP3 allows\n   multiple XCO/XCA messages (one for each\
    \ User Data stream) to be sent\n   during a changeover.  This is beyond the scope\
    \ of this document.\n"
- title: 4.3.  SCTP Considerations
  contents:
  - "4.3.  SCTP Considerations\n   Some M2PA procedures may be affected by the use\
    \ of SCTP as a\n   transport layer.  These considerations are discussed in this\
    \ section.\n"
- title: 4.3.1.  SCTP Slow Start
  contents:
  - "4.3.1.  SCTP Slow Start\n   SCTP contains a slow start algorithm to control the\
    \ amount of data\n   being injected into the network.  The algorithm allows SCTP\
    \ to probe\n   the network to determine the available capacity.  The algorithm\
    \ is\n   invoked in these cases: when transmission begins on an association,\n\
    \   after a sufficiently long idle period, or after repairing loss\n   detected\
    \ by the SCTP retransmission timer.\n   It is possible that transmission of M2PA\
    \ messages MAY be delayed by\n   SCTP slow start under certain conditions, including\
    \ the following:\n      (a) Link Alignment.  Link alignment takes place after\
    \ an\n          association is established.  SCTP invokes the slow start\n   \
    \       algorithm since transmission is beginning on the association.\n      (b)\
    \ Changeover.  Messages are retrieved from one link\n          (association) and\
    \ transferred to another for transmission.  If\n          the second link had\
    \ previously been idle, or is in the process\n          of link alignment, SCTP\
    \ may invoke the slow start algorithm.\n      (c) Path failure (multi-homing).\
    \  If SCTP switches from a failed\n          path to a new path, and the new path\
    \ had previously been idle,\n          SCTP may invoke the slow start algorithm.\n\
    \      (d) Reduced traffic volume.  Any time that M2PA sends a low volume\n  \
    \        of traffic on a link and then the volume increases, SCTP may\n      \
    \    invoke the slow start algorithm.\n   Programmers should be aware of this\
    \ condition and how it may affect\n   M2PA performance.  In some cases, it may\
    \ be possible to avoid the\n   negative effects of slow start.  For example, the\
    \ Link Status Proving\n   messages sent during the proving period may be used\
    \ to complete slow\n   start before the link is placed in service.\n"
- title: 5.  Examples of M2PA Procedures
  contents:
  - "5.  Examples of M2PA Procedures\n   In general, messages passed between MTP3\
    \ and M2PA are the same as\n   those passed between MTP3 and MTP2.  M2PA interprets\
    \ messages from\n   MTP3 and sends the appropriate message to SCTP.  Likewise,\
    \ messages\n   from SCTP are used to generate a meaningful message to MTP3.\n\
    \   Note that throughout this section, the primitives between MTP3 and\n   M2PA\
    \ are named using the MTP terminology [Q.700] [Q.701] [Q.702]\n   [Q.703] [Q.704]\
    \ [Q.705].  Communications between M2PA and SCTP are\n   named using SCTP terminology.\n"
- title: 5.1.  Link Initialization (Alignment)
  contents:
  - "5.1.  Link Initialization (Alignment)\n   An example of the message flow used\
    \ to bring an SS7 link in service\n   is shown in Figures 11 and 12.  Alignment\
    \ is done by both ends of the\n   link.  To simplify the diagram, alignment is\
    \ shown on one end only.\n   Some messages from the remote end are not shown.\
    \  It is assumed in\n   this example that SCTP has been initialized.\n       MTP3\
    \        M2PA        SCTP        SCTP        M2PA        MTP3\n       ----   \
    \     ----        ----        ----        ----        ----\n        .        \
    \   .           .           .           .           .\n        .           Associate\
    \   .           .           .           .\n        .           ------------> \
    \          .           .           .\n        .           .           .      \
    \     .           .           .\n        .           .           (SCTP Association\
    \       .           .\n        .           .            procedure)           \
    \  .           .\n        .           .           .           .           .  \
    \         .\n        .           Communication Up        Communication Up    \
    \    .\n        .           <------------           ------------>           .\n\
    \        .           .           .           .           .           .\n     \
    \   .           Link Status Out of Service          .           .\n        . \
    \          ------------------------------------>           .\n        .      \
    \     .           .           .           .           .\n        Emergency OR\
    \            .           .           .           .\n        Emergency Ceases \
    \       .           .           .           .\n        ------------>         \
    \  .           .           .           .\n        .           .           .  \
    \         .           .           .\n        Start       .           .       \
    \    .           .           .\n        ------------>           .           .\
    \           .           .\n        .           .           .           .     \
    \      .           .\n        .           .           .           .          \
    \ .           .\n        .           Link Status Alignment   .           .   \
    \        .\n        .           ------------------------------------>        \
    \   .\n        .           .           .           .           .           .\n\
    \        .           Start timer T2          .           .           .\n     \
    \   .           .           .           .           .           .\n        . \
    \          .           .   Link Status Alignment           .\n        .      \
    \     <------------------------------------           .\n        .           .\
    \           .           .           .           .\n        .           Stop timer\
    \ T2           .           .           .\n        .           .           .  \
    \         .           .           .\n        Proving period begins.\n        \
    \   Figure 11.  Example: Link Initialization - Alignment\n       MTP3        M2PA\
    \        SCTP        SCTP        M2PA        MTP3\n       ----        ----   \
    \     ----        ----        ----        ----\n        .           .        \
    \   .           .           .           .\n        .           Start timer T3\
    \          .           .           .\n        .           Link Status Proving\
    \     .           .           .\n        .           ------------------------------------>\
    \           .\n        .           .           .           .           .     \
    \      .\n        .           .           .     Link Status Proving          \
    \ .\n        .           <------------------------------------           .\n \
    \       .           .           .           .           .           .\n      \
    \  .           Stop timer T3           .           .           .\n        .  \
    \         .           .           .           .           .\n        .       \
    \    Start timer T4          .           .           .\n        .           Link\
    \ Status Proving     .           .           .\n        .           ------------------------------------>\
    \           .\n        .           ------------------------------------>     \
    \      .\n        .           ------------------------------------>          \
    \ .\n        .           ------------------------------------>           .\n \
    \       .           ------------------------------------>           .\n      \
    \  .           ------------------------------------>           .\n        .  \
    \         .           .           .           .           .\n        .       \
    \    Timer T4 expires        .           .           .\n        .           .\
    \           .           .           .           .\n        Send Link Status Ready\
    \ (one or more) and wait for the remote end\n        to complete its proving period.\n\
    \        .           .           .           .           .           .\n     \
    \   .           Start timer T1          .           .           .\n        . \
    \          .           .           .           .           .\n        .      \
    \     Link Status Ready       .           .           .\n        .           ------------------------------------>\
    \           .\n        .           .           .           .           .     \
    \      .\n        .           .           .           .           .          \
    \ .\n        .           .           .       Link Status Ready           .\n \
    \       .           <------------------------------------           .\n      \
    \  .           .           .           .           .           .\n        .  \
    \         Stop timer T1           .           .           .\n        .       \
    \    .           .           .           .           .\n        In Service   \
    \           .           .           In Service\n        <------------        \
    \   .           .           ------------>\n        .           .           . \
    \          .           .           .\n        MTP3 MAY begin sending data messages.\n\
    \            Figure 12.  Example: Link Initialization - Proving\n"
- title: 5.2.  Message Transmission and Reception
  contents:
  - "5.2.  Message Transmission and Reception\n   Messages are transmitted using the\
    \ Data Request primitive from MTP3\n   to M2PA.  Figure 13 shows the case where\
    \ the Link is In Service.  The\n   message is passed from MTP3 of the source to\
    \ MTP3 of the destination.\n       MTP3        M2PA        SCTP        SCTP  \
    \      M2PA        MTP3\n       ----        ----        ----        ----     \
    \   ----        ----\n        .           .           .           .          \
    \ .           .\n        Message for             .           .           .   \
    \        .\n        transmission            .           .           .        \
    \   .\n        ------------>           .           .           .           .\n\
    \        .           .           .           .           .           .\n     \
    \   .           Send        .           .           .           .\n        . \
    \          (Data Message)          .           .           .\n        .      \
    \     ------------>           .           .           .\n        .           .\
    \           .           .           .           .\n        .           .     \
    \      (SCTP sends message)    .           .\n        .           .          \
    \ .           .           .           .\n        .           .           .   \
    \        Receive                 .\n        .           .           .        \
    \   ------------>           .\n        .           .           .           . \
    \          .           .\n        .           .           .           .      \
    \  Received message\n        .           .           .           .           ------------>\n\
    \        .           .           .           .           .           .\n     \
    \       Figure 13.  Example: Link Initialization - In Service\n"
- title: 5.3.  Link Status Indication
  contents:
  - "5.3.  Link Status Indication\n   An example of a Link Status Indication is shown\
    \ in Figure 14.  If\n   SCTP sends a Communication Lost primitive to M2PA, M2PA\
    \ notifies MTP3\n   that the link is out of service.  MTP3 responds in its usual\
    \ way.\n       MTP3        M2PA        SCTP        SCTP        M2PA        MTP3\n\
    \       ----        ----        ----        ----        ----        ----\n   \
    \     .           .           .           .           .           .\n        .\
    \           Communication Lost      .           .           .\n        .     \
    \      <------------           .           .           .\n        .          \
    \ .           .           .           .           .\n        Out of Service  \
    \        .           .           .           .\n        <------------        \
    \   .           .           .           .\n        .           .           . \
    \          .           .           .\n                Figure 14.  Example: Link\
    \ Status Indication\n"
- title: 5.4.  Link Status Message (Processor Outage)
  contents:
  - "5.4.  Link Status Message (Processor Outage)\n   Figure 15 shows how M2PA responds\
    \ to a local processor outage.  M2PA\n   sends a Link Status message to its peer.\
    \  The peer M2PA notifies MTP3\n   of the outage.  MTP3 can then follow the processor\
    \ outage procedures\n   as in [Q.703].\n       MTP3        M2PA        SCTP  \
    \      SCTP        M2PA        MTP3\n       ----        ----        ----     \
    \   ----        ----        ----\n        .           .           .          \
    \ .           .           .\n        .       M2PA detects    .           .   \
    \        .           .\n        .       Local Processor .           .        \
    \   .           .\n        .       Outage          .           .           . \
    \          .\n        .           .           .           .           .      \
    \     .\n        .           Link Status .           .           .           .\n\
    \        .           Processor Outage        .           .           .\n     \
    \   .           ------------------------------------>           .\n        . \
    \          .           .           .           .           .\n        .      \
    \     .           .           .        Remote Processor\n        .           .\
    \           .           .        Outage         .\n        .           .     \
    \      .           .           ------------>\n        .           .          \
    \ .           .           .           .\n        .           Link Status     \
    \        .           .           .\n        .           Processor            \
    \   .           .           .\n        .           Recovered               . \
    \          .           .\n        .           ------------------------------------>\
    \           .\n        .           .           .           .           .     \
    \      .\n        .           .           .           .        Remote Processor\n\
    \        .           .           .           .        Outage Ceases\n        .\
    \           .           .           .           ------------>\n        .     \
    \      .           .           .           .           .\n        .          \
    \ .           .       Link Status Ready           .\n        .           <------------------------------------\
    \           .\n        .           .           .           .           .     \
    \      .\n        .           Link Status Ready       .           .          \
    \ .\n        .           ------------------------------------>           .\n \
    \       .           .           .           .           .           .\n      \
    \  Message for             .           .           .           .\n        transmission\
    \            .           .           .           .\n        ------------>    \
    \       .           .           .           .\n        .           .         \
    \  .           .           .           .\n        .           User Data      \
    \         .           .           .\n        .           ------------------------------------>\
    \           .\n        .           .           .           .           .     \
    \      .\n        Figure 15.  Example: Link Status Message - Processor Outage\n\
    \   Figure 16 shows an example of processor outage in more detail.  All\n   M2PA\
    \ messages in this example are sent on the Data stream (stream 1).\n         \
    \           A                                   B\n       ----------------------------\
    \        ----------------------------\n       MTP3        M2PA        SCTP   \
    \     SCTP        M2PA        MTP3\n       ----        ----        ----      \
    \  ----        ----        ----\n        .           .           .           .\
    \           .           .\n        6 Messages for          .           .     \
    \      .           .\n        transmission            .           .          \
    \ .           .\n        ------------>           .           .          6 Messages\
    \ for\n        .           .           .           .            transmission\n\
    \        .           .           .           .           <------------\n     \
    \   .           User Data FSN=1         .           .           .\n        . \
    \          ------------------------------------>           .\n        .      \
    \     User Data FSN=2         .           .           .\n        .           ------------------------------------>\
    \           .\n        .           User Data FSN=3         .           .     \
    \      .\n        .           ------------------------------------>          \
    \ .\n        .           .           .        User Data FSN=11           .\n \
    \       .           <------------------------------------           .\n      \
    \  .           .           .        User Data FSN=12           .\n        .  \
    \         <------------------------------------           .\n        .       \
    \    .           .        User Data FSN=13           .\n        .           <------------------------------------\
    \           .\n   Side A detects LPO.\n        .           .           .     \
    \      .           .           .\n        .           .           .  User Data\
    \ FSN=14 BSN=3           .\n        .           <------------------------------------\
    \           .\n        .           .           .  User Data FSN=15 BSN=3     \
    \      .\n        .           <------------------------------------          \
    \ .\n        .           .           .  User Data FSN=16 BSN=3           .\n \
    \       .           <------------------------------------           .\n      \
    \  .           LS PO FSN=3 BSN=11      .           .           .\n        .  \
    \         ------------------------------------>           .\n        .       \
    \    .           .           .        Remote Processor\n        .           .\
    \           .           .        Outage         .\n        .           .     \
    \      .           .           ------------>\n   While in LPO, A must buffer messages\
    \ 14-16 without acknowledging\n   them.  A may continue transmitting messages\
    \ from MTP3, and\n   acknowledging messages that were received before LPO.\n \
    \       .           .           .           .           .           .\n      \
    \  .           User Data FSN=4 BSN=13  .           .           .\n        .  \
    \         ------------------------------------>           .\n        .       \
    \    User Data FSN=5 BSN=13  .           .           .\n        .           ------------------------------------>\
    \           .\n        .           User Data FSN=6 BSN=13  .           .     \
    \      .\n        .           ------------------------------------>          \
    \ .\n        .           .           .           .           .           .\n \
    \   While in RPO, B may continue acknowledging messages.  Suppose that\n    B\
    \ receives message 4 and 5, but has not processed 6 yet.\n         .         \
    \  .           .           .           .           .\n         .             \
    \     (empty) User Data FSN=16 BSN=4\n         .           <------------------------------------\
    \           .\n         .                  (empty) User Data FSN=16 BSN=5\n  \
    \       .           <------------------------------------           .\n    LPO\
    \ ends at A.  A flushes 14-16 (the messages that were buffered\n    without acknowledgement).\n\
    \         .           .           .           .           .           .\n    \
    \     .           LS PR FSN=6 BSN=13      .           .           .\n        \
    \ .           ------------------------------------>           .\n         .  \
    \         .           .           .        Remote Processor\n         .      \
    \     .           .           .        Outage Ceases\n         .           . \
    \          .           .           ------------>\n         .           .     \
    \      .           .           .           .\n    Suppose that B processed message\
    \ 5, but never processed message 6.\n    B flushes message 6 from its Receive\
    \ Buffer.  B notifies A of this\n    using the Link Status Ready message setting\
    \ BSN=5, the last message\n    that was processed at B.\n         .          \
    \ .           .           .           .           .\n         .           .  \
    \         .           .           .           .\n         .           .      \
    \     .   LS Ready FSN=13 BSN=5           .\n         .           <------------------------------------\
    \           .\n         .           .           .           .           .    \
    \       .\n    B has completed synchronization of sequence numbers and has sent\n\
    \    an LS Ready, so it is able to resume sending data at this point\n    with\
    \ the new sequence numbers (starting with FSN=14).\n         .           .   \
    \        .           .           .           .\n         .           .       \
    \    .           .           . Message for\n         .           .           .\
    \           .            transmission\n         .           .           .    \
    \       .           <------------\n         .           .           .  User Data\
    \ FSN=14 BSN=5           .\n         .           <------------------------------------\
    \           .\n         .           .           .           .           .    \
    \       .\n    A can use the Link Status Ready information to resynchronize its\n\
    \    sequence numbers to begin with FSN=6 in the next User Data message.\n   \
    \      .           .           .           .           .           .\n       \
    \  .           LS Ready FSN=5 BSN=13   .           .           .\n         . \
    \          ------------------------------------>           .\n         .     \
    \      .           .           .           .           .\n    A has completed\
    \ synchronization of sequence number and has both\n    received and sent an LS\
    \ Ready, so it is able to resume sending data\n    at this point with the new\
    \ sequence numbers and acknowledging data\n    received after receiving LS Ready.\n\
    \         .           .           .           .           .           .\n    \
    \     .           .           .           .           .           .\n        \
    \ .           User Data FSN=5 BSN=14 (empty)      .           .\n         .  \
    \         ------------------------------------>           .\n         .      \
    \     .           .           .           .           .\n         Message for\
    \             .           .           . Message for\n         transmission   \
    \         .           .            transmission\n         ------------>      \
    \     .           .           <------------\n         .           User Data FSN=6\
    \ BSN=14  .           .           .\n         .           ------------------------------------>\
    \           .\n         .           .           .  User Data FSN=15 BSN=5    \
    \       .\n         .           <------------------------------------        \
    \   .\n         .           .           .           .           .           .\n\
    \         .           .      (empty) User Data FSN=15 BSN=6           .\n    \
    \     .           <------------------------------------           .\n        \
    \ .           User Data FSN=6 BSN=15 (empty)      .           .\n         .  \
    \         ------------------------------------>           .\n         .      \
    \     .           .           .           .           .\n         .          \
    \ .           .           .           .           .\n         .           .  \
    \         .           .           .           .\n            Figure 16.  Example:\
    \ Processor Outage and Recovery\n"
- title: 5.5.  Level 2 Flow Control
  contents:
  - "5.5.  Level 2 Flow Control\n   Figures 17 and 18 illustrate the Level 2 Flow\
    \ Control procedure.  In\n   Figure 17, congestion ceases before timer T6 expires.\
    \  Figure 18\n   shows the case where T6 expires.\n       MTP3        M2PA   \
    \     SCTP        SCTP        M2PA        MTP3\n       ----        ----      \
    \  ----        ----        ----        ----\n        .           .           .\
    \           .           .           .\n        .           Implementation dependent\
    \            .           .\n        .           determination of M2PA        \
    \       .           .\n        .           receive congestion onset          \
    \  .           .\n        .           .           .           .           .  \
    \         .\n        .           Link Status Busy        .           .       \
    \    .\n        .           ------------------------------------>           .\n\
    \        .           .           .           .           .           .\n     \
    \   .           .           .           .          Start        .\n        . \
    \          .           .           .          Timer T6     .\n        .      \
    \     .           .           .           .           .\n        .           Implementation\
    \ dependent            .           .\n        .           determination of M2PA\
    \               .           .\n        .           receive congestion abatement\
    \        .           .\n        .           .           .           .        \
    \   .           .\n        .           Link Status Busy Ended  .           . \
    \          .\n        .           ------------------------------------>      \
    \     .\n        .           .           .           .           .           .\n\
    \        .           .           .           .          Stop         .\n     \
    \   .           .           .           .          Timer T6     .\n        . \
    \          .           .           .           .           .\n       Figure 17.\
    \  Example: Level 2 Flow Control - Congestion Ceases\n       MTP3        M2PA\
    \        SCTP        SCTP        M2PA        MTP3\n       ----        ----   \
    \     ----        ----        ----        ----\n        .           .        \
    \   .           .           .           .\n        .           Implementation\
    \ dependent            .           .\n        .           determination of M2PA\
    \               .           .\n        .           receive congestion onset  \
    \          .           .\n        .           .           .           .      \
    \     .           .\n        .           Link Status Busy        .           .\
    \           .\n        .           ------------------------------------>     \
    \      .\n        .           .           .           .           .          \
    \ .\n        .           .           .           .          Start        .\n \
    \       .           .           .           .          Timer T6     .\n      \
    \  .           .           .           .            :          .\n        .  \
    \         .           .           .            :          .\n        .       \
    \    .           .           .          Timer T6     .\n        .           .\
    \           .           .          Expires      .\n        .           .     \
    \      .           .           .           .\n        .           .          Link\
    \ Status Out of Service           .\n        .           <------------------------------------\
    \           .\n        .           .           .           .           .     \
    \      .\n        .           .           .           .          Out of Service\n\
    \        .           .           .           .           ------------>\n     \
    \   .           .           .           .           .           .\n       Figure\
    \ 18.  Example: Level 2 Flow Control - Timer T6 Expires\n"
- title: 5.6.  MTP3 Signaling Link Congestion
  contents:
  - "5.6.  MTP3 Signaling Link Congestion\n   In Figure 19, M2PA notifies MTP3 of\
    \ congestion onset and abatement.\n   The notification includes the congestion\
    \ level, if there are levels\n   of congestion defined.\n       MTP3        M2PA\
    \        SCTP        SCTP        M2PA        MTP3\n       ----        ----   \
    \     ----        ----        ----        ----\n        .           .        \
    \   .           .           .           .\n        .           Implementation\
    \ dependent            .           .\n        .           determination of M2PA\
    \   .           .           .\n        .           transmit congestion     . \
    \          .           .\n        .           onset (level)           .      \
    \     .           .\n        .           .           .           .           .\
    \           .\n        Congestion Indication   .           .           .     \
    \      .\n        (level)     .           .           .           .          \
    \ .\n        <------------           .           .           .           .\n \
    \       .           .           .           .           .           .\n      \
    \  .           Implementation dependent            .           .\n        .  \
    \         determination of M2PA   .           .           .\n        .       \
    \    transmit congestion     .           .           .\n        .           abatement\
    \ (level)       .           .           .\n        .           .           . \
    \          .           .           .\n        Congestion Indication   .      \
    \     .           .           .\n        (level)     .           .           .\
    \           .           .\n        <------------           .           .     \
    \      .           .\n        .           .           .           .          \
    \ .           .\n            Figure 19.  Example: MTP3 Signaling Link Congestion\n"
- title: 5.7.  Link Deactivation
  contents:
  - "5.7.  Link Deactivation\n   Figure 20 shows an example of link deactivation.\
    \  MTP3 can request\n   that a link be taken out of service.\n       MTP3    \
    \    M2PA        SCTP        SCTP        M2PA        MTP3\n       ----       \
    \ ----        ----        ----        ----        ----\n        .           .\
    \           .           .           .           .\n        Stop        .     \
    \      .           .           .           .\n        ------------>          \
    \ .           .           .           .\n        .           .           .   \
    \        .           .           .\n        .           Link Status Out of Service\
    \          .           .\n        .           ------------------------------------>\
    \           .\n        .           .           .           .           .     \
    \      .\n        Out of Service          .           .           .          \
    \ .\n        <------------           .           .           .           .\n \
    \       .           .           .           .           .           .\n      \
    \            Figure 20.  Example: Link Deactivation\n"
- title: 5.8.  Link Changeover
  contents:
  - "5.8.  Link Changeover\n   In Figure 21, MTP3 performs a changeover because the\
    \ link went out of\n   service.  MTP3 selects a different link to retransmit the\n\
    \   unacknowledged and unsent messages.\n       MTP3        M2PA        SCTP \
    \       SCTP        M2PA        MTP3\n       ----        ----        ----    \
    \    ----        ----        ----\n        .           .           .         \
    \  .           .           .\n        .           Communication Lost      .  \
    \         .           .\n        .           <------------           .       \
    \    .           .\n        .           .           .           .           .\
    \           .\n        Out of Service          .           .           .     \
    \      .\n        <------------           .           .           .          \
    \ .\n        .           .           .           .           .           .\n \
    \       Retrieve BSNT           .           .           .           .\n      \
    \  ------------>           .           .           .           .\n        .  \
    \         .           .           .           .           .\n        BSNT Confirmation\
    \       .           .           .           .\n        <------------         \
    \  .           .           .           .\n        .           .           .  \
    \         .           .           .\n        XCO (BSNT) on another link      \
    \    .           .           .\n        ------------------------------------------------------------>\n\
    \        .           .           .           .           .           .\n     \
    \   .           .           .           .           Retrieve BSNT\n        . \
    \          .           .           .           <------------\n        .      \
    \     .           .           .           .           .\n        .           .\
    \           .           .       BSNT Confirmation\n        .           .     \
    \      .           .           ------------>\n        .           .          \
    \ .           .           .           .\n        .           .           .   \
    \        .           .  XCA (BSNT)\n        <------------------------------------------------------------\n\
    \        .           .           .           .           .           .\n     \
    \   Retrieval Request       .           .           .           .\n        and\
    \ FSNC    .           .           .           .           .\n        ------------>\
    \           .           .           .           .\n        .           .     \
    \      .           .           .           .\n        Retrieved Message      \
    \ .           .           .           .\n        <------------           .   \
    \        .           .           .\n        .  :        .           .        \
    \   .           .           .\n        .  :        .           .           . \
    \          .           .\n        <------------           .           .      \
    \     .           .\n        .           .           .           .           .\
    \           .\n        Retrieval Complete      .           .           .     \
    \      .\n        <------------           .           .           .          \
    \ .\n        .           .           .           .           .           .\n \
    \       Send messages on another link.\n                   Figure 21.  Example:\
    \ Link Changeover\n"
- title: 6.  Security Considerations
  contents:
  - "6.  Security Considerations\n   M2PA is designed to carry signaling messages\
    \ for telephony services.\n   As such, M2PA MUST involve the security needs of\
    \ several parties:\n      - the end users of the services\n      - the network\
    \ providers\n      - the applications involved\n   Additional requirements MAY\
    \ come from local regulation.\n   While these parties may have some overlapping\
    \ security needs, their\n   needs may not be identical.  Any security solution\
    \ SHOULD fulfill all\n   of the different parties' needs.\n   Consult [RFC3788]\
    \ for a discussion of security requirements and for\n   guidance on the use of\
    \ security protocols.  Implementers of M2PA MUST\n   follow the guidelines in\
    \ [RFC3788].\n"
- title: 7.  IANA Considerations
  contents:
  - '7.  IANA Considerations

    '
- title: 7.1.  SCTP Payload Protocol Identifier
  contents:
  - "7.1.  SCTP Payload Protocol Identifier\n   The SCTP Registered User Port Number\
    \ Assignment for M2PA is 3565.\n   The TCP Registered User Port Number 3565 is\
    \ also assigned to M2PA, in\n   case a specification for M2PA over TCP is created.\n\
    \   The value assigned by IANA for the Payload Protocol Identifier in the\n  \
    \ SCTP Payload Data chunk is\n        M2PA     5\n   The SCTP Payload Protocol\
    \ Identifier is included in each SCTP Data\n   chunk, to indicate which protocol\
    \ the SCTP is carrying.  This Payload\n   Protocol Identifier is not directly\
    \ used by SCTP but may be used by\n   certain network entities to identify the\
    \ type of information being\n   carried in a Data chunk.\n   The User Adaptation\
    \ peer may use the Payload Protocol Identifier as a\n   way of determining additional\
    \ information about the data being\n   presented to it by SCTP.\n"
- title: 7.2.  M2PA Protocol Extensions
  contents:
  - "7.2.  M2PA Protocol Extensions\n   This protocol may be extended through IANA\
    \ in three ways:\n      - through definition of additional message classes,\n\
    \      - through definition of additional message types, and\n      - through\
    \ definition of additional message parameters.\n   The definition and use of new\
    \ message classes, types, and parameters\n   is an integral part of SIGTRAN adaptation\
    \ layers.  Thus, these\n   extensions are assigned by IANA through an IETF Consensus\
    \ action as\n   defined in [RFC2434].\n   The proposed extension must in no way\
    \ adversely affect the general\n   working of the protocol.\n   The defined values\
    \ for the message classes, types, and parameters are\n   listed in the Signaling\
    \ User Adaptation Layer registry\n   (sigtran-adapt).\n"
- title: 7.2.1.  IETF Defined Message Classes
  contents:
  - "7.2.1.  IETF Defined Message Classes\n   The documentation for a new message\
    \ class MUST include the following\n   information:\n      (a) A long and short\
    \ name for the message class.\n      (b) A detailed description of the purpose\
    \ of the message class.\n"
- title: 7.2.2 IETF Defined Message Types
  contents:
  - "7.2.2 IETF Defined Message Types\n   Documentation of the message type MUST contain\
    \ the following\n   information:\n      (a) A long and short name for the new\
    \ message type.\n      (b) A detailed description of the structure of the message.\n\
    \      (c) A detailed definition and description of the intended use of\n    \
    \      each field within the message.\n      (d) A detailed procedural description\
    \ of the use of the new\n          message type within the operation of the protocol.\n\
    \      (e) A detailed description of error conditions when receiving this\n  \
    \        message type.\n   When an implementation receives a message type that\
    \ it does not\n   support, it MUST discard the message.\n"
- title: 7.2.3.  IETF-defined Parameter Extension
  contents:
  - "7.2.3.  IETF-defined Parameter Extension\n   Documentation of the message parameter\
    \ MUST contain the following\n   information:\n      (a) Name of the parameter\
    \ type.\n      (b) Detailed description of the structure of the parameter field.\n\
    \      (c) Detailed definition of each component of the parameter value.\n   \
    \   (d) Detailed description of the intended use of this parameter\n         \
    \ type, and an indication of whether, and under what\n          circumstances,\
    \ multiple instances of this parameter type may\n          be found within the\
    \ same message type.\n"
- title: 7.2.4.  Defined Values
  contents:
  - "7.2.4.  Defined Values\n   This section lists the values defined in this document\
    \ that should be\n   included in the Signaling User Adaptation Layer registry\n\
    \   (sigtran-adapt).\n   The following values for Message Class are defined in\
    \ this document:\n            Value\n          (decimal)  Message Class\n    \
    \      ---------  -------------\n             11      M2PA Messages\n   The following\
    \ values for Message Type are defined in this document:\n            Value\n \
    \         (decimal)  Message Type\n          ---------  -------------\n      \
    \        1      User Data\n              2      Link Status\n"
- title: 8.  Acknowledgements
  contents:
  - "8.  Acknowledgements\n   The authors would like to thank the following for their\
    \ valuable\n   comments and suggestions: Brian Tatum, Wayne Davis, Cliff Thomas,\n\
    \   Jeff Copley, Monique Bernard, Malleswar Kalla, Ian Rytina, Greg\n   Sidebottom,\
    \ Al Varney, Jeff Craig, and Andrew Booth.\n"
- title: 9.  References
  contents:
  - '9.  References

    '
- title: 9.1.  Normative References
  contents:
  - "9.1.  Normative References\n   [JT-Q703]  TTC, \"Message Transfer Part Signalling\
    \ Link,\" TTC Standard\n              JT-Q703, Telecommunication Technology Committee\
    \ (TTC),\n              version 3 (April 27, 1994).\n   [JT-Q704]  TTC, \"Message\
    \ Transfer Part Signalling Network Functions,\"\n              TTC Standard JT-Q704,\
    \ Telecommunication Technology\n              Committee (TTC), version 4 (May\
    \ 30, 2002).\n   [Q.703]    ITU, \"Signalling System No. 7 - Signalling Link,\"\
    \ ITU-T\n              Recommendation Q.703, ITU-T Telecommunication\n       \
    \       Standardization Sector of ITU (July 1996).\n   [Q.704]    ITU, \"Message\
    \ Transfer Part - Signalling Network Functions\n              and Messages,\"\
    \ ITU-T Recommendation Q.704, ITU-T\n              Telecommunication Standardization\
    \ Sector of ITU (July\n              1996).\n   [Q.2140]   ITU, \"B-ISDN ATM Adaptation\
    \ Layer - Service Specific\n              Coordination Function for Signalling\
    \ at the Network Node\n              Interface (SSCF at NNI),\" ITU-T Recommendation\
    \ Q.2140,\n              ITU-T Telecommunication Standardization Sector of ITU\n\
    \              (February 1995).\n   [Q.2210]   ITU, \"Message Transfer Part Level\
    \ 3 Functions and Messages\n              Using the Services of ITU-T Recommendation\
    \ Q.2140,\" ITU-T\n              Recommendation Q.2210, ITU-T Telecommunication\n\
    \              Standardization Sector of ITU (July 1996).\n   [RFC791]   Postel,\
    \ J., \"Internet Protocol\", STD 5, RFC 791, September\n              1981.\n\
    \   [RFC2119]  Bradner, S., \"Key words for use in RFCs to Indicate\n        \
    \      Requirement Levels\", BCP 14, RFC 2119, March 1997.\n   [RFC2434]  Narten,\
    \ T. and H. Alvestrand, \"Guidelines for Writing an\n              IANA Considerations\
    \ Section in RFCs\", BCP 26, RFC 2434,\n              October 1998.\n   [RFC2960]\
    \  Stewart, R., Xie, Q., Morneault, K., Sharp, C.,\n              Schwarzbauer,\
    \ H., Taylor, T., Rytina, I., Kalla, M.,\n              Zhang, L., and V. Paxson,\
    \ \"Stream Control Transmission\n              Protocol\", RFC 2960, October 2000.\n\
    \   [RFC3309]  Stone, J., Stewart, R., and D. Otis, \"Stream Control\n       \
    \       Transmission Protocol (SCTP) Checksum Change\", RFC 3309,\n          \
    \    September 2002.\n   [RFC3788]  Loughney, J., Tuexen, M., and J. Pastor-Balbas,\
    \ \"Security\n              Considerations for Signaling Transport (SIGTRAN)\n\
    \              Protocols\", RFC 3788, June 2004.\n   [T1.111]   ANSI, \"American\
    \ National Standard for Telecommunications -\n              Signaling System Number\
    \ 7 (SS7) - Message Transfer Part\n              (MTP),\" ANSI T1.111-2001, American\
    \ National Standards\n              Institute (February 2001).\n"
- title: 9.2.  Informative References
  contents:
  - "9.2.  Informative References\n   [M2UA]     K. Morneault, et. al., \"Signaling\
    \ System 7 (SS7) Message\n              Transfer Part 2 (MTP2) - User Adaptation\
    \ Layer,\" RFC 3331,\n              Internet Engineering Task Force - Signalling\
    \ Transport\n              Working Group (September, 2002).\n   [Q.700]    ITU,\
    \ \"Introduction to CCITT Signalling System No. 7,\"\n              ITU-T Recommendation\
    \ Q.700, ITU-T Telecommunication\n              Standardization Sector of ITU\
    \ (March 1993).\n   [Q.701]    ITU, \"Functional Description of the Message Transfer\
    \ Part\n              (MTP) of Signalling System No. 7,\" ITU-T Recommendation\n\
    \              Q.701, ITU-T Telecommunication Standardization Sector of\n    \
    \          ITU (March 1993).\n   [Q.702]    ITU, \"Signalling Data Link,\" ITU-T\
    \ Recommendation Q.702,\n              ITU-T Telecommunication Standardization\
    \ Sector of ITU\n              (November 1988).\n   [Q.705]    ITU, \"Signalling\
    \ System No. 7 - Signalling Network\n              Structure,\" ITU-T Recommendation\
    \ Q.705, ITU-T\n              Telecommunication Standardization Sector of ITU\
    \ (March\n              1993).\n   [RFC2719]  Ong, L., Rytina, I., Garcia, M.,\
    \ Schwarzbauer, H., Coene,\n              L., Lin, H., Juhasz, I., Holdrege, M.,\
    \ and C. Sharp,\n              \"Framework Architecture for Signaling Transport\"\
    , RFC\n              2719, October 1999.\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Tom George\n   Plano, TX\n   USA\n   Phone: +1-972-985-4594\n\
    \   EMail: tgeorge_tx@verizon.net\n   Brian Bidulock\n   OpenSS7 Corporation\n\
    \   1469 Jeffreys Crescent\n   Edmonton, AB  T6L 6T1\n   Canada\n   Phone: +1-780-490-1141\n\
    \   EMail: bidulock@openss7.org\n   Ram Dantu, Ph.D.\n   Assistant Professor\n\
    \   Department of Computer Science\n   University of North Texas\n   Denton, TX\
    \ 76203\n   USA\n   Phone: +1-940-565-2822\n   EMail: rdantu@unt.edu\n   Hanns\
    \ Juergen Schwarzbauer\n   SIEMENS AG\n   Hofmannstr. 51\n   81359 Munich\n  \
    \ Germany\n   Phone: +49-89-722-24236\n   EMail: HannsJuergen.Schwarzbauer@Siemens.com\n\
    \   Ken Morneault\n   Cisco Systems Inc.\n   13615 Dulles Technology Drive\n \
    \  Herndon, VA 20171\n   USA\n   Phone: +1-703-484-3323\n   EMail: kmorneau@cisco.com\n"
- title: Full Copyright Statement
  contents:
  - "Full Copyright Statement\n   Copyright (C) The Internet Society (2005).\n   This\
    \ document is subject to the rights, licenses and restrictions\n   contained in\
    \ BCP 78, and except as set forth therein, the authors\n   retain all their rights.\n\
    \   This document and the information contained herein are provided on an\n  \
    \ \"AS IS\" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS\n  \
    \ OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET\n   ENGINEERING\
    \ TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED,\n   INCLUDING BUT NOT\
    \ LIMITED TO ANY WARRANTY THAT THE USE OF THE\n   INFORMATION HEREIN WILL NOT\
    \ INFRINGE ANY RIGHTS OR ANY IMPLIED\n   WARRANTIES OF MERCHANTABILITY OR FITNESS\
    \ FOR A PARTICULAR PURPOSE.\n"
- title: Intellectual Property
  contents:
  - "Intellectual Property\n   The IETF takes no position regarding the validity or\
    \ scope of any\n   Intellectual Property Rights or other rights that might be\
    \ claimed to\n   pertain to the implementation or use of the technology described\
    \ in\n   this document or the extent to which any license under such rights\n\
    \   might or might not be available; nor does it represent that it has\n   made\
    \ any independent effort to identify any such rights.  Information\n   on the\
    \ procedures with respect to rights in RFC documents can be\n   found in BCP 78\
    \ and BCP 79.\n   Copies of IPR disclosures made to the IETF Secretariat and any\n\
    \   assurances of licenses to be made available, or the result of an\n   attempt\
    \ made to obtain a general license or permission for the use of\n   such proprietary\
    \ rights by implementers or users of this\n   specification can be obtained from\
    \ the IETF on-line IPR repository at\n   http://www.ietf.org/ipr.\n   The IETF\
    \ invites any interested party to bring to its attention any\n   copyrights, patents\
    \ or patent applications, or other proprietary\n   rights that may cover technology\
    \ that may be required to implement\n   this standard.  Please address the information\
    \ to the IETF at ietf-\n   ipr@ietf.org.\n"
- title: Acknowledgement
  contents:
  - "Acknowledgement\n   Funding for the RFC Editor function is currently provided\
    \ by the\n   Internet Society.\n"
