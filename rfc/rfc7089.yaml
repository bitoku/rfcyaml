- title: __initial_text__
  contents:
  - ''
- title: Independent Submission                                  H. Van de Sompel
  contents:
  - "Independent Submission                                  H. Van de Sompel\n  \
    \ HTTP Framework for Time-Based Access to Resource States -- Memento\n"
- title: Abstract
  contents:
  - "Abstract\n   The HTTP-based Memento framework bridges the present and past Web.\n\
    \   It facilitates obtaining representations of prior states of a given\n   resource\
    \ by introducing datetime negotiation and TimeMaps.  Datetime\n   negotiation\
    \ is a variation on content negotiation that leverages the\n   given resource's\
    \ URI and a user agent's preferred datetime.  TimeMaps\n   are lists that enumerate\
    \ URIs of resources that encapsulate prior\n   states of the given resource. \
    \ The framework also facilitates\n   recognizing a resource that encapsulates\
    \ a frozen prior state of\n   another resource.\n"
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This document is not an Internet Standards Track specification;\
    \ it is\n   published for informational purposes.\n   This is a contribution to\
    \ the RFC Series, independently of any other\n   RFC stream.  The RFC Editor has\
    \ chosen to publish this document at\n   its discretion and makes no statement\
    \ about its value for\n   implementation or deployment.  Documents approved for\
    \ publication by\n   the RFC Editor are not a candidate for any level of Internet\n\
    \   Standard; see Section 2 of RFC 5741.\n   Information about the current status\
    \ of this document, any errata,\n   and how to provide feedback on it may be obtained\
    \ at\n   http://www.rfc-editor.org/info/rfc7089.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (c) 2013 IETF Trust and the persons identified\
    \ as the\n   document authors.  All rights reserved.\n   This document is subject\
    \ to BCP 78 and the IETF Trust's Legal\n   Provisions Relating to IETF Documents\n\
    \   (http://trustee.ietf.org/license-info) in effect on the date of\n   publication\
    \ of this document.  Please review these documents\n   carefully, as they describe\
    \ your rights and restrictions with respect\n   to this document.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1. Introduction ....................................................4\n\
    \      1.1. Terminology ................................................4\n  \
    \    1.2. Notational Conventions .....................................4\n    \
    \  1.3. Purpose ....................................................5\n   2. HTTP\
    \ Headers, Link Relation Types ...............................7\n      2.1. HTTP\
    \ Headers ...............................................7\n           2.1.1.\
    \ Accept-Datetime and Memento-Datetime ................7\n           2.1.2. Vary\
    \ ................................................8\n           2.1.3. Link ................................................8\n\
    \      2.2. Link Relation Types ........................................9\n  \
    \         2.2.1. Link Relation Type \"original\" .......................9\n  \
    \         2.2.2. Link Relation Type \"timegate\" .......................9\n  \
    \         2.2.3. Link Relation Type \"timemap\" ........................9\n  \
    \         2.2.4. Link Relation Type \"memento\" .......................10\n  \
    \ 3. Overview of the Memento Framework ..............................11\n    \
    \  3.1. Datetime Negotiation ......................................11\n      3.2.\
    \ TimeMaps ..................................................13\n   4. Datetime\
    \ Negotiation: HTTP Interactions ........................14\n      4.1. Pattern\
    \ 1 - The Original Resource Acts as Its Own\n           TimeGate ..................................................15\n\
    \           4.1.1. Pattern 1.1 - URI-R=URI-G; 302-Style\n                  Negotiation;\
    \ Distinct URI-M  for Mementos ..........16\n           4.1.2. Pattern 1.2 - URI-R=URI-G;\
    \ 200-Style\n                  Negotiation; Distinct URI-M for Mementos ...........18\n\
    \           4.1.3. Pattern 1.3 - URI-R=URI-G; 200-Style\n                  Negotiation;\
    \ No Distinct URI-M for Mementos ........19\n      4.2. Pattern 2 - A Remote Resource\
    \ Acts as a TimeGate\n           for the Original Resource .................................20\n\
    \           4.2.1. Pattern 2.1 - URI-R<>URI-G; 302-Style\n                  Negotiation;\
    \ Distinct URI-M for Mementos ...........22\n           4.2.2. Pattern 2.2 - URI-R<>URI-G;\
    \ 200-Style\n                  Negotiation; Distinct URI-M for Mementos ...........24\n\
    \           4.2.3. Pattern 2.3 - URI-R<>URI-G; 200-Style\n                  Negotiation;\
    \ No Distinct URI-M for Mementos ........25\n      4.3. Pattern 3 - The Original\
    \ Resource is a Fixed Resource .....26\n      4.4. Pattern 4 - Mementos without\
    \ a TimeGate ...................27\n      4.5. Special Cases .............................................29\n\
    \           4.5.1. Original Resource Provides No \"timegate\" Link ......29\n\
    \           4.5.2. Server Exists but Original Resource No\n                  Longer\
    \ Does ........................................29\n           4.5.3. Issues with\
    \ Accept-Datetime ........................30\n           4.5.4. Memento of a 3XX\
    \ Response ..........................30\n           4.5.5. Memento of Responses\
    \ with 4XX or 5XX HTTP\n                  Status Codes .......................................32\n\
    \           4.5.6. Sticky \"Memento-Datetime\" and \"original\"\n            \
    \      Link for Mementos ..................................33\n           4.5.7.\
    \ Intermediate Resources .............................34\n           4.5.8. Resources\
    \ Excluded from Datetime Negotiation .......35\n   5. TimeMaps: Content and Serialization\
    \ ............................36\n      5.1. Special Cases .............................................38\n\
    \           5.1.1. Index and Paging TimeMaps ..........................38\n  \
    \         5.1.2. Mementos for TimeMaps ..............................39\n   6.\
    \ IANA Considerations ............................................40\n      6.1.\
    \ HTTP Headers ..............................................40\n      6.2. Link\
    \ Relation Types .......................................40\n   7. Security Considerations\
    \ ........................................41\n   8. Acknowledgements ...............................................42\n\
    \   9. References .....................................................42\n  \
    \    9.1. Normative References ......................................42\n    \
    \  9.2. Informative References ....................................42\n   Appendix\
    \ A. Use of Headers and Relation Types per Pattern .........43\n"
- title: 1.  Introduction
  contents:
  - '1.  Introduction

    '
- title: 1.1.  Terminology
  contents:
  - "1.1.  Terminology\n   This specification uses the terms \"resource\", \"request\"\
    , \"response\",\n   \"entity-body\", \"content negotiation\", \"user agent\",\
    \ and \"server\" as\n   described in [RFC2616], and it uses the terms \"representation\"\
    \ and\n   \"resource state\" as described in [W3C.REC-aww-20041215].\n   In addition,\
    \ the following terms specific to the Memento framework\n   are introduced:\n\
    \   o  Original Resource: An Original Resource is a resource that exists\n   \
    \   or used to exist, and for which access to one of its prior states\n      may\
    \ be required.\n   o  Memento: A Memento for an Original Resource is a resource\
    \ that\n      encapsulates a prior state of the Original Resource.  A Memento\n\
    \      for an Original Resource as it existed at time T is a resource\n      that\
    \ encapsulates the state the Original Resource had at time T.\n   o  TimeGate:\
    \ A TimeGate for an Original Resource is a resource that\n      is capable of\
    \ datetime negotiation to support access to prior\n      states of the Original\
    \ Resource.\n   o  TimeMap: A TimeMap for an Original Resource is a resource from\n\
    \      which a list of URIs of Mementos of the Original Resource is\n      available.\n"
- title: 1.2.  Notational Conventions
  contents:
  - "1.2.  Notational Conventions\n   The key words \"MUST\", \"MUST NOT\", \"REQUIRED\"\
    , \"SHALL\", \"SHALL NOT\",\n   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"\
    MAY\", and \"OPTIONAL\" in this\n   document are to be interpreted as described\
    \ in [RFC2119].\n   When needed for extra clarity, the following conventions are\
    \ used:\n   o  URI-R is used to denote the URI of an Original Resource.\n   o\
    \  URI-G is used to denote the URI of a TimeGate.\n   o  URI-M is used to denote\
    \ the URI of a Memento.\n   o  URI-T is used to denote the URI of a TimeMap.\n"
- title: 1.3.  Purpose
  contents:
  - "1.3.  Purpose\n   The state of an Original Resource may change over time.\n \
    \  Dereferencing its URI at any specific moment yields a response that\n   reflects\
    \ the resource's state at that moment: a representation of the\n   resource's\
    \ state (e.g., \"200 OK\" HTTP status code), an indication of\n   its nonexistence\
    \ (e.g., \"404 Not Found\" HTTP status code), a relation\n   to another resource\
    \ (e.g., \"302 Found\" HTTP status code), etc.\n   However, responses may also\
    \ exist that reflect prior states of an\n   Original Resource: a representation\
    \ of a prior state of the Original\n   Resource, an indication that the Original\
    \ Resource did not exist at\n   some time in the past, a relation that the Original\
    \ Resource had to\n   another resource at some time in the past, etc.  Mementos\
    \ that\n   provide such responses exist in Web archives, content management\n\
    \   systems, or revision control systems, among others.  For any given\n   Original\
    \ Resource several Mementos may exist, each one reflecting a\n   frozen prior\
    \ state of the Original Resource.\n   Examples are:\n   Mementos for Original\
    \ Resource http://www.ietf.org/ are as follows:\n   o  http://web.archive.org/web/19970107171109/http://www.ietf.org/\n\
    \   o  http://webarchive.nationalarchives.gov.uk/20080906200044/http://\n    \
    \  www.ietf.org/\n   Mementos for Original Resource\n   http://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol\
    \ are as\n   follows:\n   o  http://en.wikipedia.org/w/\n      index.php?title=Hypertext_Transfer_Protocol&oldid=366806574\n\
    \   o  http://en.wikipedia.org/w/\n      index.php?title=Hypertext_Transfer_Protocol&oldid=33912\n\
    \   o  http://web.archive.org/web/20071011153017/http://en.wikipedia.org/\n  \
    \    wiki/Hypertext_Transfer_Protocol\n   Mementos for Original Resource http://www.w3.org/TR/webarch/\
    \ are as\n   follows:\n   o  http://www.w3.org/TR/2004/PR-webarch-20041105/\n\
    \   o  http://www.w3.org/TR/2002/WD-webarch-20020830/\n   o  http://archive.is/20120527002537/http://www.w3.org/TR/webarch/\n\
    \   In the abstract, the Memento framework introduces a mechanism to\n   access\
    \ versions of Web resources that:\n   o  Is fully distributed in the sense that\
    \ resource versions may\n      reside on multiple servers, and that any such server\
    \ is likely\n      only aware of the versions it holds;\n   o  Uses the global\
    \ notion of datetime as a resource version indicator\n      and access key;\n\
    \   o  Leverages the following primitives of [W3C.REC-aww-20041215]:\n      resource,\
    \ resource state, representation, content negotiation, and\n      link.\n   The\
    \ core components of Memento's mechanism to access resource\n   versions are:\n\
    \   1.  The abstract notion of the state of an Original Resource (URI-R)\n   \
    \    as it existed at datetime T.  Note the relationship with the\n       ability\
    \ to identify the state of a resource at datetime T by\n       means of a URI\
    \ as intended by the proposed Dated URI scheme\n       [DATED-URI].\n   2.  A\
    \ \"bridge\" from the present to the past, consisting of:\n       o  The existence\
    \ of a TimeGate (URI-G), which is aware of (at\n          least part of the) version\
    \ history of the Original Resource\n          (URI-R);\n       o  The ability\
    \ to negotiate in the datetime dimension with that\n          TimeGate (URI-G),\
    \ as a means to access the state that the\n          Original Resource (URI-R)\
    \ had at datetime T.\n   3.  A \"bridge\" from the past to the present, consisting\
    \ of an\n       appropriately typed link from a Memento (URI-M), which\n     \
    \  encapsulates the state the Original Resource (URI-R) had at\n       datetime\
    \ T, to the Original Resource (URI-R).\n   4.  The existence of a TimeMap (URI-T)\
    \ from which a list of all\n       Mementos that encapsulate a prior state of\
    \ the Original Resource\n       (URI-R) can be obtained.\n   This document is\
    \ concerned with specifying an instantiation of these\n   abstractions for resources\
    \ that are identified by HTTP(S) URIs.\n"
- title: 2.  HTTP Headers, Link Relation Types
  contents:
  - "2.  HTTP Headers, Link Relation Types\n   The Memento framework is concerned\
    \ with HEAD and GET interactions\n   with Original Resources, TimeGates, Mementos,\
    \ and TimeMaps that are\n   identified by HTTP or HTTPS URIs.  Details are only\
    \ provided for\n   resources identified by HTTP URIs but apply similarly to those\
    \ with\n   HTTPS URIs.\n"
- title: 2.1.  HTTP Headers
  contents:
  - "2.1.  HTTP Headers\n   The Memento framework operates at the level of HTTP request\
    \ and\n   response headers.  It introduces two new headers (\"Accept-Datetime\"\
    \n   and \"Memento-Datetime\") and introduces new values for two existing\n  \
    \ headers (\"Vary\" and \"Link\").  Other HTTP headers are present or\n   absent\
    \ in Memento response/request cycles as specified by [RFC2616].\n"
- title: 2.1.1.  Accept-Datetime and Memento-Datetime
  contents:
  - "2.1.1.  Accept-Datetime and Memento-Datetime\n   The \"Accept-Datetime\" request\
    \ header is transmitted by a user agent\n   to indicate it wants to access a past\
    \ state of an Original Resource.\n   To that end, the \"Accept-Datetime\" header\
    \ is conveyed in an HTTP\n   request issued against a TimeGate for an Original\
    \ Resource, and its\n   value indicates the datetime of the desired past state\
    \ of the\n   Original Resource.\n   Example of an \"Accept-Datetime\" request\
    \ header:\n   Accept-Datetime: Thu, 31 May 2007 20:35:00 GMT\n   The \"Memento-Datetime\"\
    \ response header is used by a server to\n   indicate that a response reflects\
    \ a prior state of an Original\n   Resource.  Its value expresses the datetime\
    \ of that state.  The URI\n   of the Original Resource for which the response\
    \ reflects a prior\n   state is provided as the Target IRI of a link provided\
    \ in the HTTP\n   \"Link\" header that has a Relation Type of \"original\" (see\n\
    \   Section 2.2).\n   The presence of a \"Memento-Datetime\" header and associated\
    \ value for\n   a given response constitutes a promise that the resource state\n\
    \   reflected in the response will no longer change (see Section 4.5.6).\n   Example\
    \ of a \"Memento-Datetime\" response header:\n   Memento-Datetime: Wed, 30 May\
    \ 2007 18:47:52 GMT\n   Values for the \"Accept-Datetime\" and \"Memento-Datetime\"\
    \ headers\n   consist of a MANDATORY datetime expressed according to the [RFC1123]\n\
    \   format, which is formalized by the rfc1123-date construction rule of\n   the\
    \ BNF in Figure 1.  This BNF is derived from the HTTP-date\n   construction of\
    \ the BNF for Full Dates provided in [RFC2616].  The\n   datetime is case sensitive\
    \ with names for days and months exactly as\n   shown in the wkday and month construction\
    \ rules of the BNF,\n   respectively.  The datetime MUST be represented in Greenwich\
    \ Mean\n   Time (GMT).\n   accept-dt-value = rfc1123-date\n   rfc1123-date = wkday\
    \ \",\" SP date1 SP time SP \"GMT\"\n   date1        = 2DIGIT SP month SP 4DIGIT\n\
    \                     ; day month year (e.g., 20 Mar 1957)\n   time         =\
    \ 2DIGIT \":\" 2DIGIT \":\" 2DIGIT\n                     ; 00:00:00 - 23:59:59\
    \ (e.g., 14:33:22)\n   wkday        = \"Mon\" | \"Tue\" | \"Wed\" | \"Thu\" |\
    \ \"Fri\" | \"Sat\" |\n                  \"Sun\"\n   month        = \"Jan\" |\
    \ \"Feb\" | \"Mar\" | \"Apr\" | \"May\" | \"Jun\" |\n                  \"Jul\"\
    \ | \"Aug\" | \"Sep\" | \"Oct\" | \"Nov\" | \"Dec\"\n                   Figure\
    \ 1: BNF for the Datetime Format\n"
- title: 2.1.2.  Vary
  contents:
  - "2.1.2.  Vary\n   Generally, the \"Vary\" header is used in HTTP responses to\
    \ indicate\n   the dimensions in which content negotiation is possible.  In the\n\
    \   Memento framework, a TimeGate uses the \"Vary\" header with a value\n   that\
    \ includes \"accept-datetime\" to convey that datetime negotiation\n   is possible.\n\
    \   For example, this use of the \"Vary\" header indicates that datetime is\n\
    \   the only dimension in which negotiation is possible:\n   Vary: accept-datetime\n\
    \   The use of the \"Vary\" header in this example shows that both datetime\n\
    \   negotiation and media type content negotiation are possible:\n   Vary: accept-datetime,\
    \ accept\n"
- title: 2.1.3.  Link
  contents:
  - "2.1.3.  Link\n   The Memento framework defines the \"original\", \"timegate\"\
    , \"timemap\",\n   and \"memento\" Relation Types to convey typed links among\
    \ Original\n   Resources, TimeGates, Mementos, and TimeMaps.  They are defined\
    \ in\n   Section 2.2, below.  In addition, existing Relation Types may be\n  \
    \ used, for example, to support navigating among Mementos.  Examples\n   are \"\
    first\", \"last\", \"prev\", \"next\", \"predecessor-version\", and\n   \"successor-version\"\
    \ as detailed in [RFC5988] and [RFC5829].\n"
- title: 2.2.  Link Relation Types
  contents:
  - "2.2.  Link Relation Types\n   This section introduces the Relation Types used\
    \ in the Memento\n   framework.  They are defined in a general way, and their\
    \ use in HTTP\n   \"Link\" headers [RFC5988] is described in detail.  The use\
    \ of these\n   Relation Types in TimeMaps is described in Section 5.\n"
- title: 2.2.1.  Link Relation Type "original"
  contents:
  - "2.2.1.  Link Relation Type \"original\"\n   \"original\" -- A link with an \"\
    original\" Relation Type is used to\n   point from a TimeGate or a Memento to\
    \ its associated Original\n   Resource.\n   Use in HTTP \"Link\" headers: Responses\
    \ to HTTP HEAD/GET requests\n   issued against a TimeGate or a Memento MUST include\
    \ exactly one link\n   with an \"original\" Relation Type in their HTTP \"Link\"\
    \ header.\n"
- title: 2.2.2.  Link Relation Type "timegate"
  contents:
  - "2.2.2.  Link Relation Type \"timegate\"\n   \"timegate\" -- A link with a \"\
    timegate\" Relation Type is used to point\n   from the Original Resource, as well\
    \ as from a Memento associated with\n   the Original Resource, to a TimeGate for\
    \ the Original Resource.\n   Use in HTTP \"Link\" headers: If there is a TimeGate\
    \ associated with an\n   Original Resource or Memento that is preferred for use,\
    \ then\n   responses to HTTP HEAD/GET requests issued against these latter\n \
    \  resources MUST include a link with a \"timegate\" Relation Type in\n   their\
    \ HTTP \"Link\" header.  Since multiple TimeGates can exist for any\n   Original\
    \ Resource, multiple \"timegate\" links MAY occur, each with a\n   distinct Target\
    \ IRI.\n"
- title: 2.2.3.  Link Relation Type "timemap"
  contents:
  - "2.2.3.  Link Relation Type \"timemap\"\n   \"timemap\" -- A link with a \"timemap\"\
    \ Relation Type is used to point\n   from a TimeGate or a Memento associated with\
    \ an Original Resource, as\n   well as from the Original Resource itself, to a\
    \ TimeMap for the\n   Original Resource.\n   Attributes: A link with a \"timemap\"\
    \ Relation Type SHOULD use the\n   \"type\" attribute to convey the MIME type\
    \ of the TimeMap\n   serialization.  The \"from\" and \"until\" attributes may\
    \ be used to\n   express the start and end of the temporal interval covered by\n\
    \   Mementos listed in the TimeMap.  That is, the linked TimeMap will not\n  \
    \ contain Mementos with archival datetimes outside of the expressed\n   temporal\
    \ interval.  Attempts SHOULD be made to convey this interval\n   as accurately\
    \ as possible.  The value for the these attributes MUST\n   be a datetime expressed\
    \ according to the rfc1123-date construction\n   rule of the BNF in Figure 1,\
    \ and it MUST be represented in Greenwich\n   Mean Time (GMT).\n   Use in HTTP\
    \ \"Link\" headers: If there is a TimeMap associated with an\n   Original Resource,\
    \ a TimeGate, or a Memento that is preferred for\n   use, then responses to HTTP\
    \ HEAD/GET requests issued against these\n   latter resources MUST include a link\
    \ with a \"timemap\" Relation Type\n   in their HTTP \"Link\" header.  Multiple\
    \ such links, each with a\n   distinct Target IRI, MAY be expressed as a means\
    \ to point to\n   different TimeMaps or to different serializations of the same\n\
    \   TimeMap.  In all cases, use of the \"from\" and \"until\" attributes is\n\
    \   OPTIONAL.\n"
- title: 2.2.4.  Link Relation Type "memento"
  contents:
  - "2.2.4.  Link Relation Type \"memento\"\n   \"memento\" -- A link with a \"memento\"\
    \ Relation Type is used to point\n   from a TimeGate or a Memento for an Original\
    \ Resource, as well as\n   from the Original Resource itself, to a Memento for\
    \ the Original\n   Resource.\n   Attributes: A link with a \"memento\" Relation\
    \ Type MUST include a\n   \"datetime\" attribute with a value that matches the\
    \ \"Memento-Datetime\"\n   of the Memento that is the target of the link; that\
    \ is, the value of\n   the \"Memento-Datetime\" header that is returned when the\
    \ URI of the\n   linked Memento is dereferenced.  The value for the \"datetime\"\
    \n   attribute MUST be a datetime expressed according to the rfc1123-date\n  \
    \ construction rule of the BNF in Figure 1, and it MUST be represented\n   in\
    \ Greenwich Mean Time (GMT).  This link MAY include a \"license\"\n   attribute\
    \ to associate a license with the Memento; the value for the\n   \"license\" attribute\
    \ MUST be a URI.\n   Use in HTTP \"Link\" headers: Responses to HTTP HEAD/GET\
    \ requests\n   issued against an Original Resource, a TimeGate, and a Memento\
    \ MAY\n   include links in their HTTP \"Link\" headers with a \"memento\" Relation\n\
    \   Type.  For responses in which a Memento is selected, the provision of\n  \
    \ navigational links that lead to Mementos other than the selected one\n   can\
    \ be beneficial to the user agent.  Of special importance are links\n   that lead\
    \ to the temporally first and last Memento known to the\n   responding server,\
    \ as well as links leading to Mementos that are\n   temporally adjacent to the\
    \ selected one.\n"
- title: 3.  Overview of the Memento Framework
  contents:
  - "3.  Overview of the Memento Framework\n   The Memento framework defines two complementary\
    \ approaches to support\n   obtaining representations of prior states of an Original\
    \ Resource:\n   o  Datetime Negotiation: Datetime negotiation is a variation on\n\
    \      content negotiation by which a user agent expresses a datetime\n      preference\
    \ pertaining to the representation of an Original\n      Resource, instead of,\
    \ for example, a media type preference.  Based\n      on the responding server's\
    \ knowledge of the past of the Original\n      Resource, it selects a Memento\
    \ of the Original Resource that best\n      meets the user agent's datetime preference.\
    \  An overview is\n      provided in Section 3.1; details are in Section 4.\n\
    \   o  TimeMaps: A TimeMap is a resource from which a list can be\n      obtained\
    \ that provides a comprehensive overview of the past of an\n      Original Resource.\
    \  A server makes a TimeMap available that\n      enumerates all Mementos that\
    \ the server is aware of, along with\n      their archival datetime.  A user agent\
    \ can obtain the TimeMap and\n      select Mementos from it.  An overview is provided\
    \ in Section 3.2;\n      details are in Section 5.\n"
- title: 3.1.  Datetime Negotiation
  contents:
  - "3.1.  Datetime Negotiation\n   Figure 2 provides a schematic overview of a successful\
    \ request/\n   response chain that involves datetime negotiation.  Dashed lines\n\
    \   depict HTTP transactions between user agent and server.  The\n   interactions\
    \ are for a scenario where the Original Resource resides\n   on one server, whereas\
    \ both its TimeGate and Mementos reside on\n   another (Pattern 2.1 (Section 4.2.1)\
    \ in Section 4).  Scenarios also\n   exist in which all these resources are on\
    \ the same server (for\n   example, content management systems) or all are on\
    \ different servers\n   (for example, an aggregator of TimeGates).\n   1: UA ---\
    \ HTTP HEAD/GET; Accept-Datetime: T ----------------> URI-R\n   2: UA <-- HTTP\
    \ 200; Link: URI-G ----------------------------- URI-R\n   3: UA --- HTTP HEAD/GET;\
    \ Accept-Datetime: T ----------------> URI-G\n   4: UA <-- HTTP 302; Location:\
    \ URI-M; Vary; Link:\n         URI-R,URI-T ------------------------------------------>\
    \ URI-G\n   5: UA --- HTTP GET URI-M; Accept-Datetime: T ---------------> URI-M\n\
    \   6: UA <-- HTTP 200; Memento-Datetime: T; Link:\n         URI-R,URI-T,URI-G\
    \ ------------------------------------- URI-M\n          Figure 2: A Datetime\
    \ Negotiation Request/Response Chain\n   Step 1:  The user agent that wants to\
    \ access a prior state of the\n            Original Resource issues an HTTP HEAD/GET\
    \ against URI-R that\n            has an \"Accept-Datetime\" HTTP header with\
    \ a value of the\n            datetime of the desired state.\n   Step 2:  The\
    \ response from URI-R includes an HTTP \"Link\" header with\n            a Relation\
    \ Type of \"timegate\" pointing at a TimeGate (URI-G)\n            for the Original\
    \ Resource.\n   Step 3:  The user agent starts the datetime negotiation process\
    \ with\n            the TimeGate by issuing an HTTP GET request against URI-G\n\
    \            that has an \"Accept-Datetime\" HTTP header with a value of\n   \
    \         the datetime of the desired prior state of the Original\n          \
    \  Resource.\n   Step 4:  The response from URI-G includes a \"Location\" header\n\
    \            pointing at a Memento (URI-M) for the Original Resource.  In\n  \
    \          addition, the response contains an HTTP \"Link\" header with a\n  \
    \          Relation Type of \"original\" pointing at the Original\n          \
    \  Resource (URI-R), and an HTTP \"Link\" header with a Relation\n           \
    \ Type of \"timemap\" pointing at a TimeMap (URI-T).\n   Step 5:  The user agent\
    \ issues an HTTP GET request against URI-M.\n   Step 6:  The response from URI-M\
    \ includes a \"Memento-Datetime\" HTTP\n            header with a value of the\
    \ archival datetime of the Memento.\n            It also contains an HTTP \"Link\"\
    \ header with a Relation Type\n            of \"original\" pointing at the Original\
    \ Resource (URI-R),\n            with a Relation Type of \"timegate\" pointing\
    \ at a TimeGate\n            (URI-G) for the Original Resource, and with a Relation\
    \ Type\n            of \"timemap\" pointing at a TimeMap (URI-T) for the Original\n\
    \            Resource.  The state that is expressed by the response is\n     \
    \       the state the Original Resource had at the archival datetime\n       \
    \     expressed in the \"Memento-Datetime\" header.\n   In order to respond to\
    \ a datetime negotiation request, the server\n   uses an internal algorithm to\
    \ select the Memento that best meets the\n   user agent's datetime preference.\
    \  The exact nature of the selection\n   algorithm is at the server's discretion\
    \ but is intended to be\n   consistent, for example, always selecting the Memento\
    \ that is nearest\n   in time relative to the requested datetime, always selecting\
    \ the\n   Memento that is nearest in the past relative to the requested\n   datetime,\
    \ etc.\n   Due to the sparseness of Mementos in most systems, the value of the\n\
    \   \"Memento-Datetime\" header returned by a server may differ\n   (significantly)\
    \ from the value conveyed by the user agent in \"Accept-\n   Datetime\".\n   Although\
    \ a Memento encapsulates a prior state of an Original\n   Resource, the entity-body\
    \ returned in response to an HTTP GET request\n   issued against a Memento may\
    \ very well not be byte-to-byte the same\n   as an entity-body that was previously\
    \ returned by that Original\n   Resource.  Various reasons exist why there are\
    \ significant chances\n   these would be different yet do convey substantially\
    \ the same\n   information.  These include format migrations as part of a digital\n\
    \   preservation strategy, URI-rewriting as applied by some Web archives,\n  \
    \ and the addition of banners as a means to brand Web archives.\n   When negotiating\
    \ in the datetime dimension, the regular content\n   negotiation dimensions (media\
    \ type, character encoding, language, and\n   compression) remain available. \
    \ It is the TimeGate server's\n   responsibility to honor (or not) such content\
    \ negotiation, and in\n   doing so it MUST always first select a Memento that\
    \ meets the user\n   agent's datetime preference, and then consider honoring regular\n\
    \   content negotiation for it.  As a result of this approach, the\n   returned\
    \ Memento will not necessarily meet the user agent's regular\n   content negotiation\
    \ preferences.  Therefore, it is RECOMMENDED that\n   the server provides \"memento\"\
    \ links in the HTTP \"Link\" header\n   pointing at Mementos that do meet the\
    \ user agent's regular content\n   negotiation requests and that have a value\
    \ for the \"Memento-Datetime\"\n   header in the temporal vicinity of the user\
    \ agent's preferred\n   datetime value.\n   A user agent that engages in datetime\
    \ negotiation with a resource\n   typically starts by issuing an HTTP HEAD, not\
    \ GET, request with an\n   \"Accept-Datetime\" header in order to determine how\
    \ to proceed.  This\n   strategy is related to the existence of various server\
    \ implementation\n   patterns as will become clear in Section 4.\n   Details about\
    \ the HTTP interactions involved in datetime negotiation\n   are provided in Section\
    \ 4.\n"
- title: 3.2.  TimeMaps
  contents:
  - "3.2.  TimeMaps\n   Figure 3 provides a schematic overview of a successful request/\n\
    \   response chain that shows a user agent obtaining a TimeMap.  The\n   pictorial\
    \ conventions are the same as the ones used in Figure 2, as\n   is the scenario.\
    \  Note that, in addition to a TimeGate, an Original\n   Resource and a Memento\
    \ can also provide a link to a TimeMap.\n   1: UA --- HTTP HEAD/GET ------------------------------------>\
    \ URI-R\n   2: UA <-- HTTP 200; Link: URI-G ----------------------------- URI-R\n\
    \   3: UA --- HTTP HEAD/GET ------------------------------------> URI-G\n   4:\
    \ UA <-- HTTP 302; Location: URI-M; Vary; Link:\n         URI-R,URI-T ------------------------------------------>\
    \ URI-G\n   5: UA --- HTTP GET URI-T -----------------------------------> URI-T\n\
    \   6: UA <-- HTTP 200 ------------------------------------------ URI-T\n    \
    \      Figure 3: A Request/Response Chain to Obtain a TimeMap\n   Step 1:  The\
    \ user agent that wants to access a TimeMap for the\n            Original Resource\
    \ issues an HTTP HEAD/GET against URI-R.\n            This can be done with or\
    \ without an \"Accept-Datetime\" HTTP\n            header.\n   Step 2:  Irrespective\
    \ of the use of an \"Accept-Datetime\" HTTP header\n            in Step 1, the\
    \ response from URI-R includes an HTTP \"Link\"\n            header with a Relation\
    \ Type of \"timegate\" pointing at a\n            TimeGate (URI-G) for the Original\
    \ Resource.\n   Step 3:  The user agent issues an HTTP GET request against URI-G.\n\
    \            This can be done with or without an \"Accept-Datetime\" HTTP\n  \
    \          header.\n   Step 4:  Irrespective of the use of an \"Accept-Datetime\"\
    \ HTTP header\n            in Step 1, the response contains an HTTP \"Link\" header\
    \ with\n            a Relation Type of \"timemap\" pointing at a TimeMap (URI-T).\n\
    \   Step 5:  The user agent issues an HTTP GET request against URI-T.\n   Step\
    \ 6:  The response from URI-T has an entity-body that lists all\n            Mementos\
    \ for the Original Resource known to the responding\n            server, as well\
    \ as their archival datetimes.\n   Details about the content and serialization\
    \ of TimeMaps are provided\n   in Section 5.\n"
- title: '4.  Datetime Negotiation: HTTP Interactions'
  contents:
  - "4.  Datetime Negotiation: HTTP Interactions\n   Figure 2 depicts a specific pattern\
    \ to implement the Memento\n   framework.  Multiple patterns exist, and they can\
    \ be grouped as\n   follows:\n   o  Pattern 1 (Section 4.1) - The Original Resource\
    \ acts as its own\n      TimeGate\n   o  Pattern 2 (Section 4.2) - A remote resource\
    \ acts as a TimeGate for\n      the Original Resource\n   o  Pattern 3 (Section\
    \ 4.3) - The Original Resource is a Fixed\n      Resource\n   o  Pattern 4 (Section\
    \ 4.4) - Mementos without a TimeGate\n   Details of the HTTP interactions for\
    \ common cases for each of those\n   patterns are provided in Sections 4.1 through\
    \ 4.4.  Appendix A\n   summarizes the use of the \"Vary\", \"Memento-Datetime\"\
    , and \"Link\"\n   headers in responses from Original Resources, TimeGates, and\
    \ Mementos\n   for the various patterns.  Special cases are described in\n   Section\
    \ 4.5.  Note that in the following sections, the HTTP status\n   code of the responses\
    \ with an entity-body is shown as \"200 OK\", but a\n   series of \"206 Partial\
    \ Content\" responses could be substituted.\n   Figure 4 shows a user agent that\
    \ attempts to datetime negotiate with\n   the Original Resource http://a.example.org/\
    \ by including an \"Accept-\n   Datetime\" header in its HTTP HEAD request.  This\
    \ initiating request\n   is the same for Pattern 1 (Section 4.1) through Pattern\
    \ 3\n   (Section 4.3).\n   HEAD / HTTP/1.1\n   Host: a.example.org\n   Accept-Datetime:\
    \ Tue, 20 Mar 2001 20:35:00 GMT\n   Connection: close\n            Figure 4: User\
    \ Agent Attempts Datetime Negotiation\n                          with Original\
    \ Resource\n"
- title: 4.1.  Pattern 1 - The Original Resource Acts as Its Own TimeGate
  contents:
  - "4.1.  Pattern 1 - The Original Resource Acts as Its Own TimeGate\n   In this\
    \ implementation pattern, the Original Resource acts as its own\n   TimeGate,\
    \ which means that URI-R and URI-G coincide.  Content\n   management systems and\
    \ revision control systems can support datetime\n   negotiation in this way as\
    \ they are commonly aware of the version\n   history of their own resources.\n\
    \   The response to this request when datetime negotiation for this\n   resource\
    \ is supported depends on the negotiation style it uses (200-\n   style or 302-style)\
    \ and on the existence or absence of a URI-M for\n   Mementos that is distinct\
    \ from the URI-R of the associated Original\n   Resource.  The various cases are\
    \ summarized in the below table, and\n   the server responses for each are detailed\
    \ in the remainder of this\n   section.\n   +-------------------+------------+----------+---------+-------------+\n\
    \   |      Pattern      |  Original  | TimeGate | Memento | Negotiation |\n  \
    \ |                   |  Resource  |          |         |    Style    |\n   +-------------------+------------+----------+---------+-------------+\n\
    \   |    Pattern 1.1    |    URI-R   |   URI-R  |  URI-M  |     302     |\n  \
    \ |  (Section 4.1.1)  |            |          |         |             |\n   |\
    \    Pattern 1.2    |    URI-R   |   URI-R  |  URI-M  |     200     |\n   |  (Section\
    \ 4.1.2)  |            |          |         |             |\n   |    Pattern 1.3\
    \    |    URI-R   |   URI-R  |  URI-R  |     200     |\n   |  (Section 4.1.3)\
    \  |            |          |         |             |\n   +-------------------+------------+----------+---------+-------------+\n\
    \                            Table 1: Pattern 1\n"
- title: 4.1.1.  Pattern 1.1 - URI-R=URI-G; 302-Style Negotiation; Distinct URI-M
  contents:
  - "4.1.1.  Pattern 1.1 - URI-R=URI-G; 302-Style Negotiation; Distinct URI-M\n  \
    \ In this case, the response to the user agent's request of Figure 4\n   has a\
    \ \"302 Found\" HTTP status code, and the \"Location\" header conveys\n   the\
    \ URI-M of the selected Memento.  The use of Memento response\n   headers and\
    \ links in the response from URI-R=URI-G is as follows:\n   o  The \"Vary\" header\
    \ MUST be provided, and it MUST include the\n      \"accept-datetime\" value.\n\
    \   o  The response MUST NOT contain a \"Memento-Datetime\" header.\n   o  The\
    \ \"Link\" header MUST be provided, and it MUST contain at least a\n      link\
    \ with the \"original\" Relation Type that has the URI-R of the\n      Original\
    \ Resource as Target IRI.  The provision of other links is\n      encouraged and\
    \ is subject to the considerations described in\n      Section 2.2.\n   The server's\
    \ response to the request of Figure 4 is shown in\n   Figure 5.  Note the inclusion\
    \ of the recommended link to the TimeGate\n   that, in this case, has a Target\
    \ IRI that is the URI-R of the\n   Original Resource.\n   HTTP/1.1 302 Found\n\
    \   Date: Thu, 21 Jan 2010 00:06:50 GMT\n   Server: Apache\n   Vary: accept-datetime\n\
    \   Location:\n    http://a.example.org/?version=20010320133610\n   Link: <http://a.example.org/>;\
    \ rel=\"original timegate\"\n   Content-Length: 0\n   Content-Type: text/plain;\
    \ charset=UTF-8\n   Connection: close\n            Figure 5: Response from URI-R=URI-G\
    \ for Pattern 1.1\n   In a subsequent request, shown in Figure 6, the user agent\
    \ can obtain\n   the selected Memento by issuing an HTTP GET request against the\
    \ URI-M\n   that was provided in the \"Location\" header.  The inclusion of the\n\
    \   \"Accept-Datetime\" header in this request is not needed but will\n   typically\
    \ occur as the user agent is in datetime negotiation mode.\n   GET /?version=20010320133610\
    \ HTTP/1.1\n   Host: a.example.org\n   Accept-Datetime: Tue, 20 Mar 2001 20:35:00\
    \ GMT\n   Connection: close\n              Figure 6: User Agent Requests Selected\
    \ Memento\n   The response has a \"200 OK\" HTTP status code, and the entity-body\
    \ of\n   the response contains the representation of the selected Memento.\n \
    \  The use of Memento response headers and links in the response from\n   URI-M\
    \ is as follows:\n   o  A \"Vary\" header that includes an \"accept-datetime\"\
    \ value MUST NOT\n      be provided.\n   o  The response MUST include a \"Memento-Datetime\"\
    \ header.  Its value\n      expresses the archival datetime of the Memento.\n\
    \   o  The \"Link\" header MUST be provided, and it MUST contain at least a\n\
    \      link with the \"original\" Relation Type that has the URI-R of the\n  \
    \    Original Resource as Target IRI.  The provision of other links is\n     \
    \ encouraged and is subject to the considerations described in\n      Section\
    \ 2.2.\n   The server's response to the request of Figure 6 is shown in\n   Figure\
    \ 7.  Note the provision of the required \"original\", and the\n   recommended\
    \ \"timegate\" and \"timemap\" links.  The former two point to\n   the Original\
    \ Resource, which acts as its own TimeGate.  The latter\n   has \"from\" and \"\
    until\" attributes to indicate the temporal interval\n   covered by Mementos listed\
    \ in the linked TimeMap.\n   HTTP/1.1 200 OK\n   Date: Thu, 21 Jan 2010 00:06:51\
    \ GMT\n   Server: Apache-Coyote/1.1\n   Memento-Datetime: Tue, 20 Mar 2001 13:36:10\
    \ GMT\n   Link: <http://a.example.org/>; rel=\"original timegate\",\n    <http://a.example.org/?version=all&style=timemap>\n\
    \      ; rel=\"timemap\"; type=\"application/link-format\"\n      ; from=\"Tue,\
    \ 15 Sep 2000 11:28:26 GMT\"\n      ; until=\"Wed, 20 Jan 2010 09:34:33 GMT\"\n\
    \   Content-Length: 23364\n   Content-Type: text/html;charset=utf-8\n   Connection:\
    \ close\n               Figure 7: Response from URI-M for Pattern 1.1\n"
- title: 4.1.2.  Pattern 1.2 - URI-R=URI-G; 200-Style Negotiation; Distinct URI-M
  contents:
  - "4.1.2.  Pattern 1.2 - URI-R=URI-G; 200-Style Negotiation; Distinct URI-M\n  \
    \ In this case, the response to the user agent's request of Figure 4\n   has a\
    \ \"200 OK\" HTTP status code, and the \"Content-Location\" header\n   conveys\
    \ the URI-M of the selected Memento.  The use of Memento\n   response headers\
    \ and links in the response from URI-R=URI-G is as\n   follows:\n   o  The \"\
    Vary\" header MUST be provided, and it MUST include the\n      \"accept-datetime\"\
    \ value.\n   o  The response MUST include a \"Memento-Datetime\" header.  Its\
    \ value\n      expresses the archival datetime of the selected Memento.\n   o\
    \  The \"Link\" header MUST be provided, and it MUST contain at least a\n    \
    \  link with the \"original\" Relation Type that has the URI-R of the\n      Original\
    \ Resource as Target IRI.  The provision of other links is\n      encouraged and\
    \ is subject to the considerations described in\n      Section 2.2.\n   The server's\
    \ response to the request of Figure 4 is shown in\n   Figure 8.  Note the provision\
    \ of optional \"memento\" links pointing at\n   the oldest and most recent Memento\
    \ for the Original Resource known to\n   the responding server.\n   HTTP/1.1 200\
    \ OK\n   Date: Thu, 21 Jan 2010 00:06:50 GMT\n   Server: Apache\n   Vary: accept-datetime\n\
    \   Content-Location:\n    http://a.example.org/?version=20010320133610\n   Memento-Datetime:\
    \ Tue, 20 Mar 2001 13:36:10 GMT\n   Link: <http://a.example.org/>; rel=\"original\
    \ timegate\",\n    <http://a.example.org/?version=20000915112826>\n    ; rel=\"\
    memento first\"; datetime=\"Tue, 15 Sep 2000 11:28:26 GMT\",\n    <http://a.example.org/?version=20100120093433>\n\
    \    ; rel=\"memento last\"; datetime=\"Wed, 20 Jan 2010 09:34:33 GMT\",\n   \
    \ <http://a.example.org/?version=all&style=timemap>\n    ; rel=\"timemap\"; type=\"\
    application/link-format\"\n   Content-Length: 23364\n   Content-Type: text/html;charset=utf-8\n\
    \   Connection: close\n            Figure 8: Response from URI-R=URI-G for Pattern\
    \ 1.2\n   In a subsequent request, which is the same as Figure 4 but with HTTP\n\
    \   GET instead of HEAD, the user agent can obtain the representation of\n   the\
    \ selected Memento.  It will be provided as the entity-body of a\n   response\
    \ that has the same Memento headers as in Figure 8.\n"
- title: 4.1.3.  Pattern 1.3 - URI-R=URI-G; 200-Style Negotiation; No Distinct
  contents:
  - "4.1.3.  Pattern 1.3 - URI-R=URI-G; 200-Style Negotiation; No Distinct\n     \
    \   URI-M\n   In this case, the response to the user agent's request of Figure\
    \ 4\n   has a \"200 OK\" HTTP status code, and it does not contain a \"Content-\n\
    \   Location\" nor a \"Location\" header as there is no URI-M of the\n   selected\
    \ Memento to convey.  The use of Memento response headers and\n   links in the\
    \ response from URI-R=URI-G is as follows:\n   o  The \"Vary\" header MUST be\
    \ provided, and it MUST include the\n      \"accept-datetime\" value.\n   o  The\
    \ response MUST include a \"Memento-Datetime\" header.  Its value\n      expresses\
    \ the archival datetime of the selected Memento.\n   o  The \"Link\" header MUST\
    \ be provided, and it MUST contain at least a\n      link with the \"original\"\
    \ Relation Type that has the URI-R of the\n      Original Resource as Target IRI.\
    \  The provision of other links is\n      encouraged and is subject to the considerations\
    \ described in\n      Section 2.2.\n   The server's response to the request of\
    \ Figure 4 is shown in\n   Figure 9.  The recommended \"timemap\" and \"timegate\"\
    \ links are\n   included in addition to the mandatory \"original\" link.\n   HTTP/1.1\
    \ 200 OK\n   Date: Thu, 21 Jan 2010 00:06:50 GMT\n   Server: Apache\n   Vary:\
    \ accept-datetime\n   Memento-Datetime: Tue, 20 Mar 2001 13:36:10 GMT\n   Link:\
    \ <http://a.example.org/>; rel=\"original timegate\",\n    <http://a.example.org/?version=all&style=timemap>\n\
    \      ; rel=\"timemap\"; type=\"application/link-format\"\n   Content-Length:\
    \ 23364\n   Content-Type: text/html;charset=utf-8\n   Connection: close\n    \
    \        Figure 9: Response from URI-R=URI-G for Pattern 1.3\n   In a subsequent\
    \ request, which is the same as Figure 4 but with HTTP\n   GET instead of HEAD,\
    \ the user agent can obtain the representation of\n   the selected Memento.  It\
    \ will be provided as the entity-body of a\n   response that has the same Memento\
    \ headers as in Figure 9.\n"
- title: 4.2.  Pattern 2 - A Remote Resource Acts as a TimeGate for the Original
  contents:
  - "4.2.  Pattern 2 - A Remote Resource Acts as a TimeGate for the Original\n   \
    \   Resource\n   In this implementation pattern, the Original Resource does not\
    \ act as\n   its own TimeGate, which means that URI-R and URI-G are different.\n\
    \   This pattern is typically implemented by servers for which the\n   history\
    \ of their resources is recorded in remote systems such as Web\n   archives and\
    \ transactional archives [Fitch].  But servers that\n   maintain their own history,\
    \ such as content management systems and\n   version control systems, may also\
    \ implement this pattern, for\n   example, to distribute the load involved in\
    \ responding to requests\n   for current and prior representations of resources\
    \ between different\n   servers.\n   This pattern is summarized in the below table\
    \ and is detailed in the\n   remainder of this section.  Three cases exist that\
    \ differ regarding\n   the negotiation style that is used by the remote TimeGate\
    \ and\n   regarding the existence of a URI-M for Mementos that is distinct from\n\
    \   the URI-G of the TimeGate.\n   +-------------------+------------+----------+---------+-------------+\n\
    \   |      Pattern      |  Original  | TimeGate | Memento | Negotiation |\n  \
    \ |                   |  Resource  |          |         |    Style    |\n   +-------------------+------------+----------+---------+-------------+\n\
    \   |    Pattern 2.1    |    URI-R   |   URI-G  |  URI-M  |     302     |\n  \
    \ |  (Section 4.2.1)  |            |          |         |             |\n   |\
    \    Pattern 2.2    |    URI-R   |   URI-G  |  URI-M  |     200     |\n   |  (Section\
    \ 4.2.2)  |            |          |         |             |\n   |    Pattern 2.3\
    \    |    URI-R   |   URI-G  |  URI-G  |     200     |\n   |  (Section 4.2.3)\
    \  |            |          |         |             |\n   +-------------------+------------+----------+---------+-------------+\n\
    \                            Table 2: Pattern 2\n   The response by the Original\
    \ Resource to the request shown in\n   Figure 4 is the same for all three cases.\
    \  The use of headers and\n   links in the response from URI-R is as follows:\n\
    \   o  A \"Vary\" header that includes an \"accept-datetime\" value MUST NOT\n\
    \      be provided.\n   o  The response MUST NOT contain a \"Memento-Datetime\"\
    \ header.\n   o  The \"Link\" header SHOULD be provided.  It MUST NOT include\
    \ a link\n      with an \"original\" Relation Type.  If a preferred TimeGate is\n\
    \      associated with the Original Resource, then it MUST include a link\n  \
    \    with a \"timegate\" Relation Type that has the URI-G of the TimeGate\n  \
    \    as Target IRI.  If a preferred TimeMap is associated with the\n      Original\
    \ Resource, then it SHOULD include a link with a \"timemap\"\n      Relation Type\
    \ that has the URI-T of the TimeGate as Target IRI.\n      Multiple \"timegate\"\
    \ and \"timemap\" links can be provided to\n      accommodate situations in which\
    \ the server is aware of multiple\n      TimeGates or TimeMaps for the Original\
    \ Resource.\n   Figure 10 shows such a response.  Note the absence of an \"original\"\
    \n   link as the responding resource is neither a TimeGate nor a Memento.\n  \
    \ HTTP/1.1 200 OK\n   Date: Thu, 21 Jan 2010 00:02:12 GMT\n   Server: Apache\n\
    \   Link: <http://arxiv.example.net/timegate/http://a.example.org/>\n      ; rel=\"\
    timegate\"\n   Content-Length: 255\n   Connection: close\n   Content-Type: text/html;\
    \ charset=iso-8859-1\n            Figure 10: Response from URI-R<>URI-G for Pattern\
    \ 2\n   Once a user agent has obtained the URI-G of a remote TimeGate for the\n\
    \   Original Resource, it can engage in datetime negotiation with that\n   TimeGate.\
    \  Figure 11 shows the request issued against the TimeGate,\n   whereas Sections\
    \ 4.2.1 through 4.2.3 detail the responses for various\n   TimeGate implementation\
    \ patterns.\n   HEAD /timegate/http://a.example.org/ HTTP/1.1\n   Host: arxiv.example.net\n\
    \   Accept-Datetime: Tue, 20 Mar 2001 20:35:00 GMT\n   Connection: close\n   \
    \        Figure 11: User Agent Engages in Datetime Negotiation\n             \
    \              with Remote TimeGate\n"
- title: 4.2.1.  Pattern 2.1 - URI-R<>URI-G; 302-Style Negotiation; Distinct
  contents:
  - "4.2.1.  Pattern 2.1 - URI-R<>URI-G; 302-Style Negotiation; Distinct\n       \
    \ URI-M\n   In case the TimeGate uses a 302 negotiation style, the response to\n\
    \   the user agent's request of Figure 11 has a \"302 Found\" HTTP status\n  \
    \ code, and the \"Location\" header conveys the URI-M of the selected\n   Memento.\
    \  The use of Memento response headers and links in the\n   response from URI-G\
    \ is as follows:\n   o  The \"Vary\" header MUST be provided, and it MUST include\
    \ the\n      \"accept-datetime\" value.\n   o  The response MUST NOT contain a\
    \ \"Memento-Datetime\" header.\n   o  The \"Link\" header MUST be provided, and\
    \ it MUST contain at least a\n      link with the \"original\" Relation Type that\
    \ has the URI-R of the\n      Original Resource as Target IRI.  The provision\
    \ of other links is\n      encouraged and is subject to the considerations described\
    \ in\n      Section 2.2.\n   The server's response to the request of Figure 11\
    \ is shown in\n   Figure 12.  It contains the mandatory \"original\" link that\
    \ points\n   back to the Original Resource associated with this TimeGate, and\
    \ it\n   shows the recommended \"timemap\" link that includes \"from\" and \"\
    until\"\n   attributes.\n   HTTP/1.1 302 Found\n   Date: Thu, 21 Jan 2010 00:02:14\
    \ GMT\n   Server: Apache\n   Vary: accept-datetime\n   Location:\n    http://arxiv.example.net/web/20010321203610/http://a.example.org/\n\
    \   Link: <http://a.example.org/>; rel=\"original\",\n    <http://arxiv.example.net/timemap/http://a.example.org/>\n\
    \      ; rel=\"timemap\"; type=\"application/link-format\"\n      ; from=\"Tue,\
    \ 15 Sep 2000 11:28:26 GMT\"\n      ; until=\"Wed, 20 Jan 2010 09:34:33 GMT\"\n\
    \   Content-Length: 0\n   Content-Type: text/plain; charset=UTF-8\n   Connection:\
    \ close\n           Figure 12: Response from URI-G<>URI-R for Pattern 2.1\n  \
    \ In a subsequent HTTP GET request, shown in Figure 13, the user agent\n   can\
    \ obtain the selected Memento by issuing an HTTP GET request\n   against the URI-M\
    \ that was provided in the \"Location\" header.  The\n   inclusion of the \"Accept-Datetime\"\
    \ header in this request is not\n   needed but will typically occur as the user\
    \ agent is in datetime\n   negotiation mode.\n   GET /web/20010321203610/http://a.example.org/\
    \ HTTP/1.1\n   Host: arxiv.example.net/\n   Accept-Datetime: Tue, 20 Mar 2001\
    \ 20:35:00 GMT\n   Connection: close\n              Figure 13: User Agent Requests\
    \ Selected Memento\n   The response has a \"200 OK\" HTTP status code.  The use\
    \ of Memento\n   response headers and links in the response from URI-M is as follows:\n\
    \   o  A \"Vary\" header that includes an \"accept-datetime\" value MUST NOT\n\
    \      be provided.\n   o  The response MUST include a \"Memento-Datetime\" header.\
    \  Its value\n      expresses the archival datetime of the Memento.\n   o  The\
    \ \"Link\" header MUST be provided, and it MUST contain at least a\n      link\
    \ with the \"original\" Relation Type that has the URI-R of the\n      Original\
    \ Resource as Target IRI.  The provision of other links is\n      encouraged and\
    \ is subject to the considerations described in\n      Section 2.2.\n   The server's\
    \ response to the request of Figure 13 is shown in\n   Figure 14.  Note the provision\
    \ of the recommended \"timegate\" and\n   \"timemap\" links.\n   HTTP/1.1 200\
    \ OK\n   Date: Thu, 21 Jan 2010 00:02:15 GMT\n   Server: Apache-Coyote/1.1\n \
    \  Memento-Datetime: Wed, 21 Mar 2001 20:36:10 GMT\n   Link: <http://a.example.org/>;\
    \ rel=\"original\",\n    <http://arxiv.example.net/timemap/http://a.example.org/>\n\
    \      ; rel=\"timemap\"; type=\"application/link-format\",\n    <http://arxiv.example.net/timegate/http://a.example.org/>\n\
    \      ; rel=\"timegate\"\n   Content-Length: 25532\n   Content-Type: text/html;charset=utf-8\n\
    \   Connection: close\n              Figure 14: Response from URI-M for Pattern\
    \ 2.1\n"
- title: 4.2.2.  Pattern 2.2 - URI-R<>URI-G; 200-Style Negotiation; Distinct
  contents:
  - "4.2.2.  Pattern 2.2 - URI-R<>URI-G; 200-Style Negotiation; Distinct\n       \
    \ URI-M\n   In case the TimeGate uses a 200 negotiation style, and each Memento\n\
    \   has a distinct URI-M, the response to the user agent's request of\n   Figure\
    \ 11 has a \"200 OK\" HTTP status code, and the \"Content-Location\"\n   header\
    \ conveys the URI-M of the selected Memento.  The use of Memento\n   response\
    \ headers and links in the response from URI-G is as follows:\n   o  The \"Vary\"\
    \ header MUST be provided, and it MUST include the\n      \"accept-datetime\"\
    \ value.\n   o  The response MUST include a \"Memento-Datetime\" header.  Its\
    \ value\n      expresses the archival datetime of the Memento.\n   o  The \"Link\"\
    \ header MUST be provided, and it MUST contain at least a\n      link with the\
    \ \"original\" Relation Type that has the URI-R of the\n      Original Resource\
    \ as Target IRI.  The provision of other links is\n      encouraged and is subject\
    \ to the considerations described in\n      Section 2.2.\n   The server's response\
    \ to the request of Figure 11 is shown in\n   Figure 15.\n   HTTP/1.1 200 OK\n\
    \   Date: Thu, 21 Jan 2010 00:09:40 GMT\n   Server: Apache-Coyote/1.1\n   Vary:\
    \ accept-datetime\n   Content-Location:\n    http://arxiv.example.net/web/20010321203610/http://a.example.org/\n\
    \   Memento-Datetime: Wed, 21 Mar 2001 20:36:10 GMT\n   Link: <http://a.example.org/>;\
    \ rel=\"original\",\n    <http://arxiv.example.net/timemap/http://a.example.org/>\n\
    \      ; rel=\"timemap\"; type=\"application/link-format\",\n    <http://arxiv.example.net/timegate/http://a.example.org/>\n\
    \      ; rel=\"timegate\"\n   Content-Length: 25532\n   Content-Type: text/html;charset=utf-8\n\
    \   Connection: close\n           Figure 15: Response from URI-G<>URI-R for Pattern\
    \ 2.2\n   In a subsequent request, which is the same as Figure 11 but with HTTP\n\
    \   GET instead of HEAD, the user agent can obtain the representation of\n   the\
    \ selected Memento.  It will be provided as the entity-body of a\n   response\
    \ that has the same Memento headers as Figure 15.\n"
- title: 4.2.3.  Pattern 2.3 - URI-R<>URI-G; 200-Style Negotiation; No Distinct
  contents:
  - "4.2.3.  Pattern 2.3 - URI-R<>URI-G; 200-Style Negotiation; No Distinct\n    \
    \    URI-M\n   In case the TimeGate uses a 200 negotiation style, but Mementos\
    \ have\n   no distinct URIs, the response to the user agent's request of\n   Figure\
    \ 11 has a \"200 OK\" HTTP status code, and it does not contain a\n   \"Content-Location\"\
    \ nor \"Location\" header as there is no URI-M of the\n   selected Memento to\
    \ convey.  The use of Memento response headers and\n   links in the response from\
    \ URI-G is as follows:\n   o  The \"Vary\" header MUST be provided, and it MUST\
    \ include the\n      \"accept-datetime\" value.\n   o  The response MUST include\
    \ a \"Memento-Datetime\" header.  Its value\n      expresses the archival datetime\
    \ of the Memento.\n   o  The \"Link\" header MUST be provided, and it MUST contain\
    \ at least a\n      link with the \"original\" Relation Type that has the URI-R\
    \ of the\n      Original Resource as Target IRI.  The provision of other links\
    \ is\n      encouraged and is subject to the considerations described in\n   \
    \   Section 2.2.\n   The server's response to the request of Figure 11 is shown\
    \ in\n   Figure 16.\n   HTTP/1.1 200 OK\n   Date: Thu, 21 Jan 2010 00:09:40 GMT\n\
    \   Server: Apache-Coyote/1.1\n   Vary: accept-datetime\n   Memento-Datetime:\
    \ Wed, 21 Mar 2001 20:36:10 GMT\n   Link: <http://a.example.org/>; rel=\"original\"\
    ,\n    <http://arxiv.example.net/timemap/http://a.example.org/>\n      ; rel=\"\
    timemap\"; type=\"application/link-format\",\n    <http://arxiv.example.net/timegate/http://a.example.org/>\n\
    \      ; rel=\"timegate\"\n   Content-Length: 25532\n   Content-Type: text/html;charset=utf-8\n\
    \   Connection: close\n           Figure 16: Response from URI-G<>URI-R for Pattern\
    \ 2.3\n   In a subsequent request, which is the same as Figure 11 but with HTTP\n\
    \   GET instead of HEAD, the user agent can obtain the representation of\n   the\
    \ selected Memento.  It will be provided as the entity-body of a\n   response\
    \ that has the same Memento headers as Figure 16.\n"
- title: 4.3.  Pattern 3 - The Original Resource is a Fixed Resource
  contents:
  - "4.3.  Pattern 3 - The Original Resource is a Fixed Resource\n   This pattern\
    \ does not involve datetime negotiation with a TimeGate,\n   but it can be implemented\
    \ for Original Resources that never change\n   state or do not change anymore\
    \ past a certain point in their\n   existence, meaning that URI-R and URI-M coincide\
    \ either from the\n   outset or starting at some point in time.  This pattern\
    \ is summarized\n   in the below table.  Examples are tweets or stable media resources\
    \ on\n   news sites.\n   +----------+----------------+----------+---------+------------------+\n\
    \   |  Pattern |    Original    | TimeGate | Memento |    Negotiation   |\n  \
    \ |          |    Resource    |          |         |       Style      |\n   +----------+----------------+----------+---------+------------------+\n\
    \   |  Pattern |      URI-R     |     -    |  URI-R  |         -        |\n  \
    \ |     3    |                |          |         |                  |\n   +----------+----------------+----------+---------+------------------+\n\
    \                            Table 3: Pattern 3\n   Servers that host such resources\
    \ can support the Memento framework by\n   treating the stable resource (FixedResource\
    \ as per\n   [W3C.gen-ont-20090420]) as a Memento.  The use of Memento response\n\
    \   headers and links in responses from such a stable resource is as\n   follows:\n\
    \   o  A \"Vary\" header that includes an \"accept-datetime\" value MUST NOT\n\
    \      be provided.\n   o  The response MUST include a \"Memento-Datetime\" header.\
    \  Its value\n      expresses the datetime at which the resource became stable.\n\
    \      Providing this value includes a promise that the resource has not\n   \
    \   changed since this datetime and will not change anymore beyond it.\n   o \
    \ The \"Link\" header MUST be provided and MUST have a link with the\n      \"\
    original\" Relation Type that has the URI-R of the stable resource\n      itself\
    \ as Target IRI.\n   Figure 17 shows a response to an HTTP HEAD request for the\
    \ resource\n   with URI-R http://a.example.org/ that has been stable since March\
    \ 20,\n   2009.\n   HTTP/1.1 200 OK\n   Date: Thu, 21 Jan 2010 00:09:40 GMT\n\
    \   Server: Apache-Coyote/1.1\n   Memento-Datetime: Fri, 20 Mar 2009 11:00:00\
    \ GMT\n   Link: <http://a.example.org/>; rel=\"original\"\n   Content-Length:\
    \ 875\n   Content-Type: text/html;charset=utf-8\n   Connection: close\n      \
    \      Figure 17: Response from URI-R=URI-M for Pattern 3\n"
- title: 4.4.  Pattern 4 - Mementos without a TimeGate
  contents:
  - "4.4.  Pattern 4 - Mementos without a TimeGate\n   Cases may occur in which a\
    \ server hosts Mementos but does not expose\n   a TimeGate for them.  This can,\
    \ for example, be the case if the\n   server's Mementos result from taking a snapshot\
    \ of the state of a set\n   of Original Resources from another server as it is\
    \ being retired.  As\n   a result, only a single Memento per Original Resource\
    \ is hosted,\n   making the introduction of a TimeGate unnecessary.  But it may\
    \ also\n   be the case for servers that host multiple Mementos for an Original\n\
    \   Resource but consider exposing TimeGates too expensive.  In this\n   case,\
    \ URI-R and URI-M are distinct, but a TimeGate is absent.  This\n   case is summarized\
    \ in the below table.\n   +----------+----------------+----------+---------+------------------+\n\
    \   |  Pattern |    Original    | TimeGate | Memento |    Negotiation   |\n  \
    \ |          |    Resource    |          |         |       Style      |\n   +----------+----------------+----------+---------+------------------+\n\
    \   |  Pattern |      URI-R     |     -    |  URI-M  |         -        |\n  \
    \ |     4    |                |          |         |                  |\n   +----------+----------------+----------+---------+------------------+\n\
    \                            Table 4: Pattern 4\n   Servers that host such Mementos\
    \ without TimeGates can still support\n   the Memento framework by providing the\
    \ appropriate Memento headers\n   and links.  Their use is as follows for a response\
    \ from URI-M:\n   o  A \"Vary\" header that includes an \"accept-datetime\" value\
    \ MUST NOT\n      be provided.\n   o  The response MUST include a \"Memento-Datetime\"\
    \ header.  Its value\n      expresses the archival datetime of the Memento.\n\
    \   o  The \"Link\" header MUST be provided, and it MUST have a link with\n  \
    \    the \"original\" Relation Type that has the URI-R of the associated\n   \
    \   Original Resource as Target IRI.  The provision of other links is\n      encouraged\
    \ and is subject to the considerations described in\n      Section 2.2.\n   Figure\
    \ 18 shows a response to an HTTP HEAD request for the Memento\n   with URI-M\n\
    \   http://arxiv.example.net/web/20010321203610/http://a.example.org/.\n   Note\
    \ the use of links: three links have the URI-M of the Memento as\n   Target IRI\
    \ and have respective Relation Types \"memento\", \"first\", and\n   \"last\"\
    .  This combination indicates that this is the only Memento for\n   the Original\
    \ Resource with Target IRI provided by the \"original\" link\n   (http://a.example.org/)\
    \ of which the server is aware.  Note also that\n   such a response does not imply\
    \ that there is no server whatsoever\n   that exposes a TimeGate; it merely means\
    \ that the responding server\n   neither provides nor is aware of the location\
    \ of a TimeGate.\n   HTTP/1.1 200 OK\n   Date: Thu, 21 Jan 2010 00:09:40 GMT\n\
    \   Server: Apache-Coyote/1.1\n   Memento-Datetime: Wed, 21 Mar 2001 20:36:10\
    \ GMT\n   Link: <http://a.example.org/>; rel=\"original\",\n    <http://arxiv.example.net/web/20010321203610/http://a.example.org/>\n\
    \      ; rel=\"first last memento\"\n      ; datetime=\"Wed, 21 Mar 2001 20:36:10\
    \ GMT\"\n   Content-Length: 25532\n   Content-Type: text/html;charset=utf-8\n\
    \   Connection: close\n            Figure 18: Response from URI-M<>URI-R for Pattern\
    \ 4\n"
- title: 4.5.  Special Cases
  contents:
  - '4.5.  Special Cases

    '
- title: 4.5.1.  Original Resource Provides No "timegate" Link
  contents:
  - "4.5.1.  Original Resource Provides No \"timegate\" Link\n   Cases exist in which\
    \ the response from the Original Resource does not\n   contain a \"timegate\"\
    \ link, including:\n   o  The Original Resource's server does not support the\
    \ Memento\n      framework;\n   o  The Original Resource no longer exists, and\
    \ the responding server\n      is not aware of its prior existence;\n   o  The\
    \ server that hosted the Original Resource no longer exists.\n   In all these\
    \ cases, the user agent should attempt to determine an\n   appropriate TimeGate\
    \ for the Original Resource, either automatically\n   or interactively supported\
    \ by the user.\n"
- title: 4.5.2.  Server Exists but Original Resource No Longer Does
  contents:
  - "4.5.2.  Server Exists but Original Resource No Longer Does\n   Cases exist in\
    \ which the server knows that an Original Resource used\n   to exist, but no longer\
    \ provides a current representation.  If there\n   is a preferred TimeGate for\
    \ such a discontinued Original Resource,\n   then the server MUST include a \"\
    timegate\" link in responses to\n   requests for it.  This may allow access to\
    \ Mementos for the Original\n   Resource even if it no longer exists.  A server's\
    \ response to a\n   request for the discontinued resource http://a.example.org/pic\
    \ is\n   illustrated in Figure 19.\n   HTTP/1.1 404 Not Found\n   Date: Thu, 21\
    \ Jan 2010 00:02:12 GMT\n   Server: Apache\n   Link:\n    <http://arxiv.example.net/timegate/http://a.example.org/pic>\n\
    \     ; rel=\"timegate\"\n   Content-Length: 255\n   Content-Type: text/html;\
    \ charset=iso-8909-1\n   Connection: close\n    Figure 19: Response from an Original\
    \ Resource That No Longer Exists\n"
- title: 4.5.3.  Issues with Accept-Datetime
  contents:
  - "4.5.3.  Issues with Accept-Datetime\n   The following special cases may occur\
    \ regarding the \"Accept-Datetime\"\n   header when a user agent issues a request\
    \ against a TimeGate:\n   o  If the value of the \"Accept-Datetime\" is either\
    \ earlier than the\n      datetime of the first Memento or later than the datetime\
    \ of the\n      most recent Memento known to the TimeGate, the first or most\n\
    \      recent Memento MUST be selected, respectively.\n   o  If the value of the\
    \ \"Accept-Datetime\" does not conform to the\n      rfc1123-date construction\
    \ rule of the BNF in Figure 1, the\n      response MUST have a \"400 Bad Request\"\
    \ HTTP status code.\n   o  If a user agent issues a request against a TimeGate\
    \ and fails to\n      include an \"Accept-Datetime\" request header, the most\
    \ recent\n      Memento SHOULD be selected.\n   In all cases, the use of headers\
    \ and links in responses is as\n   described for TimeGates in the respective scenarios.\n"
- title: 4.5.4.  Memento of a 3XX Response
  contents:
  - "4.5.4.  Memento of a 3XX Response\n   Cases exist in which HTTP responses with\
    \ 3XX status codes are\n   archived.  For example, crawl-based Web archives commonly\
    \ archive\n   responses with HTTP status codes \"301 Moved Permanently\" and \"\
    302\n   Found\", whereas Linked Data archives hold on to \"303 See Other\"\n \
    \  responses.\n   If the Memento requested by the user agent is an archived version\
    \ of\n   an HTTP response with a 3XX status code, the server's response MUST\n\
    \   have the same 3XX HTTP status code.  The use of other Memento headers\n  \
    \ is as described for Mementos in the respective scenarios.\n   The user agent's\
    \ handling of an HTTP response with a 3XX status code\n   is not affected by the\
    \ presence of a \"Memento-Datetime\" header.  The\n   user agent MUST behave in\
    \ the same manner as it does with HTTP\n   responses with a 3XX status code that\
    \ do not have a \"Memento-\n   Datetime\" header.\n   However, the user agent\
    \ MUST be aware that the URI that was selected\n   from the \"Location\" header\
    \ of an HTTP response with a 3XX status code\n   might not be that of a Memento\
    \ but rather of an Original Resource.\n   In the latter case, it SHOULD proceed\
    \ by looking for a Memento of the\n   selected Original Resource.\n   For example,\
    \ Figure 20 shows the response to an HTTP GET request for\n   http://a.example.org\
    \ issued on April 11, 2008.  This response is\n   archived as a Memento of http://a.example.org\
    \ that has as URI-M\n   http://arxiv.example.net/web/20080411000650/http://a.example.org.\n\
    \   The response to an HTTP GET on this URI-M is shown in Figure 21.  It\n   is\
    \ a replay of the original response with \"Memento-Datetime\" and\n   \"Link\"\
    \ headers added, to allow a user agent to understand the\n   response is a Memento.\
    \  In Figure 21, the value of the \"Location\"\n   header is the same as in the\
    \ original response; it identifies an\n   Original Resource.  The user agent proceeds\
    \ with finding a Memento\n   for this Original Resource.  Web archives sometimes\
    \ overwrite the\n   value that was originally provided in the \"Location\" header\
    \ in order\n   to point at a Memento they hold of the resource to which the redirect\n\
    \   originally led.  This is shown in Figure 22.  In this case, the user\n   agent\
    \ may decide it found an appropriate Memento.\n   HTTP/1.1 301 Moved Permanently\n\
    \   Date: Fri, 11 Apr 2008 00:06:50 GMT\n   Server: Apache\n   Location: http://b.example.org\n\
    \   Content-Length: 0\n   Content-Type: text/plain; charset=UTF-8\n   Connection:\
    \ close\n                     Figure 20: Response Is a Redirect\n   HTTP/1.1 301\
    \ Moved Permanently\n   Date: Thu, 21 Jan 2010 00:09:40 GMT\n   Server: Apache-Coyote/1.1\n\
    \   Memento-Datetime: Fri, 11 Apr 2008 00:06:50 GMT\n   Location: http://b.example.org\n\
    \   Link: <http://a.example.org>; rel=\"original\",\n    <http://arxiv.example.net/timemap/http://a.example.org>\n\
    \      ; rel=\"timemap\"; type=\"application/link-format\",\n    <http://arxiv.example.net/timegate/http://a.example.org>\n\
    \      ; rel=\"timegate\"\n   Content-Length: 0\n   Content-Type: text/plain;\
    \ charset=UTF-8\n   Connection: close\n           Figure 21: Response is a Memento\
    \ of a Redirect; Leads\n                          to an Original Resource\n  \
    \ HTTP/1.1 301 Moved Permanently\n   Date: Thu, 21 Jan 2010 00:09:40 GMT\n   Server:\
    \ Apache-Coyote/1.1\n   Memento-Datetime: Fri, 11 Apr 2008 00:06:50 GMT\n   Location:\n\
    \    http://arxiv.example.net/web/20080411000655/http://b.example.org\n   Link:\
    \ <http://a.example.org>; rel=\"original\",\n    <http://arxiv.example.net/timemap/http://a.example.org>\n\
    \      ; rel=\"timemap\"; type=\"application/link-format\",\n    <http://arxiv.example.net/timegate/http://a.example.org>\n\
    \      ; rel=\"timegate\"\n   Content-Length: 0\n   Content-Type: text/plain;\
    \ charset=UTF-8\n   Connection: close\n    Figure 22: Response is a Memento of\
    \ a Redirect; Leads to a Memento\n"
- title: 4.5.5.  Memento of Responses with 4XX or 5XX HTTP Status Codes
  contents:
  - "4.5.5.  Memento of Responses with 4XX or 5XX HTTP Status Codes\n   Cases exist\
    \ in which responses with 4XX and 5XX HTTP status codes are\n   archived.  If\
    \ the Memento requested by the user agent is an archived\n   version of such an\
    \ HTTP response, the server's response MUST have the\n   same 4XX or 5XX HTTP\
    \ status code.  The use of headers and links in\n   responses is as described\
    \ for Mementos in the respective scenarios.\n   For example, Figure 23 shows the\
    \ 404 response to an HTTP GET request\n   for http://a.example.org issued on April\
    \ 11, 2008.  This response is\n   archived as a Memento of http://a.example.org\
    \ that has as URI-M\n   http://arxiv.example.net/web/20080411000650/http://a.example.org.\n\
    \   The response to an HTTP HEAD on this URI-M is shown in Figure 24.  It\n  \
    \ is a replay of the original response with \"Memento-Datetime\" and\n   \"Link\"\
    \ headers added, to allow a user agent to understand the\n   response is a Memento.\n\
    \   HTTP/1.1 404 Not Found\n   Date: Fri, 11 Apr 2008 00:06:50 GMT\n   Server:\
    \ Apache\n   Content-Length: 255\n   Content-Type: text/plain; charset=UTF-8\n\
    \   Connection: close\n                       Figure 23: Response Is a 404\n \
    \  HTTP/1.1 404 Not Found\n   Date: Thu, 21 Jan 2010 00:09:40 GMT\n   Server:\
    \ Apache-Coyote/1.1\n   Memento-Datetime: Fri, 11 Apr 2008 00:06:50 GMT\n   Link:\
    \ <http://a.example.org>; rel=\"original\",\n    <http://arxiv.example.net/timemap/http://a.example.org>\n\
    \      ; rel=\"timemap\"; type=\"application/link-format\",\n    <http://arxiv.example.net/timegate/http://a.example.org>\n\
    \      ; rel=\"timegate\"\n   Content-Length: 255\n   Content-Type: text/plain;\
    \ charset=UTF-8\n   Connection: close\n                 Figure 24: Response Is\
    \ a Memento of a 404\n"
- title: 4.5.6.  Sticky "Memento-Datetime" and "original" Link for Mementos
  contents:
  - "4.5.6.  Sticky \"Memento-Datetime\" and \"original\" Link for Mementos\n   A\
    \ response to an HTTP HEAD/GET request issued against a Memento:\n   o  Includes\
    \ a \"Memento-Datetime\" header that entails a promise that\n      the response\
    \ is archived, frozen in time.  The value of the header\n      expresses the archival\
    \ datetime of the Memento.\n   o  Includes a link in the HTTP \"Link\" header\
    \ with an \"original\"\n      Relation Type that unambiguously points to the Original\
    \ Resource\n      associated with the Memento.  The Target IRI of the link is\
    \ the\n      URI-R of that Original Resource.\n   Both the \"Memento-Datetime\"\
    \ header and the \"original\" link MUST be\n   \"sticky\" in the following ways:\n\
    \   o  The server that originally assigns them MUST retain them in all\n     \
    \ responses to HTTP requests (with or without an \"Accept-Datetime\"\n      request\
    \ header) that occur against the Memento after the time of\n      their original\
    \ assignment, and the server MUST NOT change the\n      value of the \"Memento-Datetime\"\
    \ header nor the Target IRI of the\n      \"original\" link.\n   o  Applications\
    \ that mirror Mementos at a different URI MUST retain\n      them and MUST NOT\
    \ change them unless mirroring involves a\n      meaningful state change.  This\
    \ allows, among others, duplicating a\n      Web archive at a new location while\
    \ preserving the value of the\n      \"Memento-Datetime\" header and the link\
    \ with the \"original\"\n      Relation Type for the archived resources.  For\
    \ example, when\n      mirroring, the \"Last-Modified\" header will be updated\
    \ to reflect\n      the time of mirroring at the new URI, whereas the value for\n\
    \      \"Memento-Datetime\" will be maintained.\n"
- title: 4.5.7.  Intermediate Resources
  contents:
  - "4.5.7.  Intermediate Resources\n   An intermediate resource is a resource that\
    \ issues a redirect to a\n   TimeGate, to a Memento, or to another intermediate\
    \ resource, and thus\n   plays an active role in the Memento infrastructure. \
    \ Intermediate\n   resources commonly exist in Web archives on the path from a\
    \ TimeGate\n   to an appropriate Memento.\n   A response of an intermediate resource\
    \ has an HTTP status code\n   indicative of HTTP redirection (e.g., 302) and uses\
    \ Memento headers\n   and links that allow user agents to recognize that the resource\
    \ plays\n   a role in the Memento framework:\n   o  A \"Vary\" header that includes\
    \ an \"accept-datetime\" value MUST NOT\n      be provided.\n   o  The response\
    \ MUST NOT include a \"Memento-Datetime\" header.\n   o  The \"Link\" header MUST\
    \ be provided, and it MUST have a link with\n      the \"original\" Relation Type\
    \ that has the URI-R of the associated\n      Original Resource as Target IRI.\
    \  Links with \"timegate\",\n      \"timemap\", and \"memento\" Relation Types\
    \ are OPTIONAL and, if\n      provided, MUST pertain to the Original Resource\
    \ for which the user\n      agent is trying to obtain a Memento.\n   A user agent\
    \ MUST follow a redirection provided by an intermediate\n   resource; multiple\
    \ such redirections can be chained.\n   Consider the case where a user agent follows\
    \ the \"timegate\" link\n   provided in Figure 10 and engages in datetime negotiation\
    \ with the\n   assumed TimeGate in the manner shown in Figure 11.  But instead\
    \ of\n   receiving a response as shown in Figure 12, it receives the one shown\n\
    \   below in Figure 25.  Such a response is unambiguously recognizable as\n  \
    \ coming from an intermediate resource.\n   HTTP/1.1 302 Found\n   Date: Thu,\
    \ 21 Jan 2010 00:06:50 GMT\n   Server: Apache\n   Location:\n    http://arxiv.example.net/new-timegate/http://a.example.org/\n\
    \   Link: <http://a.example.org>; rel=\"original\"\n   Content-Length: 0\n   Content-Type:\
    \ text/plain; charset=UTF-8\n   Connection: close\n          Figure 25: Redirecting\
    \ Resource Redirects to a TimeGate\n"
- title: 4.5.8.  Resources Excluded from Datetime Negotiation
  contents:
  - "4.5.8.  Resources Excluded from Datetime Negotiation\n   When delivering a Memento\
    \ to a user agent, a Web archive commonly\n   enhances that Memento's archived\
    \ content, for example, by including a\n   banner that provides branding and highlights\
    \ the archival status of\n   the Memento.  The resources that are involved in\
    \ providing such\n   system-specific functionality, many times JavaScript or images,\
    \ must\n   be used in their current state.\n   A server that generally supports\
    \ datetime negotiation should make\n   resources that need to be excluded from\
    \ datetime negotiation\n   recognizable.  Doing so allows a user agent to refrain\
    \ from\n   attempting to access a Memento for them.  In order to achieve this,\n\
    \   the server SHOULD include a special-purpose link in the HTTP \"Link\"\n  \
    \ header when responding to an HTTP HEAD/GET request to a resource\n   excluded\
    \ from datetime negotiation.  This link has\n   \"http://mementoweb.org/terms/donotnegotiate\"\
    \ as Target IRI and\n   \"type\", defined in [RFC6903], as the value of the \"\
    rel\" attribute.\n   Other Memento headers as defined in Section 2.1 SHOULD NOT\
    \ be\n   provided.\n   Figure 26 shows the response to an HTTP HEAD request from\
    \ a resource\n   excluded from datetime negotiation.\n   HTTP/1.1 200 OK\n   Date:\
    \ Thu, 21 Jan 2010 00:09:40 GMT\n   Server: Apache-Coyote/1.1\n   Link: <http://mementoweb.org/terms/donotnegotiate>;\
    \ rel=\"type\"\n   Content-Length: 238\n   Content-Type: application/javascript;\
    \ charset=UTF-8\n   Connection: close\n   Figure 26: Response to an HTTP HEAD\
    \ Request from a Resource Excluded\n                         from Datetime Negotiation\n"
- title: '5.  TimeMaps: Content and Serialization'
  contents:
  - "5.  TimeMaps: Content and Serialization\n   A TimeMap is introduced to support\
    \ retrieving a comprehensive list of\n   all Mementos for a specific Original\
    \ Resource known to a server.  The\n   entity-body of a response to an HTTP GET\
    \ request issued against a\n   TimeMap's URI-T:\n   o  MUST list the URI-R of\
    \ the Original Resource that the TimeMap is\n      about;\n   o  MUST list the\
    \ URI-M and archival datetime of each Memento for the\n      Original Resource\
    \ known to the server, preferably in a single\n      document, or, alternatively\
    \ in multiple documents that can be\n      gathered by following contained links\
    \ with a \"timemap\" Relation\n      Type;\n   o  SHOULD list the URI-G of one\
    \ or more TimeGates for the Original\n      Resource known to the responding server;\n\
    \   o  SHOULD, for self-containment, list the URI-T of the TimeMap\n      itself;\n\
    \   o  MUST unambiguously type listed resources as being Original\n      Resource,\
    \ TimeGate, Memento, or TimeMap.\n   The entity-body of a response from a TimeMap\
    \ MAY be serialized in\n   various ways, but the link-value format serialization\
    \ described here\n   MUST be supported.  In this serialization, the entity-body\
    \ MUST be\n   formatted in the same way as the value of an HTTP \"Link\" header,\
    \ and\n   hence MUST comply to the \"link-value\" construction rule of Section\
    \ 5.\n   The Link header field of [RFC5988], and the media type of the entity-\n\
    \   body MUST be \"application/link-format\" as introduced in [RFC6690].\n   Links\
    \ contained in the entity-body MUST be interpreted as follows:\n   o  The Context\
    \ IRI is set to the anchor parameter, when specified;\n   o  The Context IRI of\
    \ links with the \"self\" Relation Types is the\n      URI-T of the TimeMap, i.e.,\
    \ the URI of the resource from which the\n      TimeMap was requested;\n   o \
    \ The Context IRI of all other links is the URI-R of the Original\n      Resource,\
    \ which is provided as the Target IRI of the link with an\n      \"original\"\
    \ Relation Type.\n   In order to retrieve the link-value serialization of a TimeMap,\
    \ a\n   user agent uses an \"Accept\" request header with a value set to\n   \"\
    application/link-format\".  This is shown in Figure 27.\n   GET /timemap/http://a.example.org/\
    \ HTTP/1.1\n   Host: arxiv.example.net\n   Accept: application/link-format;q=1.0\n\
    \   Connection: close\n                     Figure 27: Request for a TimeMap\n\
    \   If the TimeMap requested by the user agent exists, the server's\n   response\
    \ has a \"200 OK\" HTTP status code and the list of Mementos is\n   provided in\
    \ the entity-body of the response.  Such a response is\n   shown in Figure 28.\n\
    \   HTTP/1.1 200 OK\n   Date: Thu, 21 Jan 2010 00:06:50 GMT\n   Server: Apache\n\
    \   Content-Length: 4883\n   Content-Type: application/link-format\n   Connection:\
    \ close\n    <http://a.example.org>;rel=\"original\",\n    <http://arxiv.example.net/timemap/http://a.example.org>\n\
    \      ; rel=\"self\";type=\"application/link-format\"\n      ; from=\"Tue, 20\
    \ Jun 2000 18:02:59 GMT\"\n      ; until=\"Wed, 09 Apr 2008 20:30:51 GMT\",\n\
    \    <http://arxiv.example.net/timegate/http://a.example.org>\n      ; rel=\"\
    timegate\",\n    <http://arxiv.example.net/web/20000620180259/http://a.example.org>\n\
    \      ; rel=\"first memento\";datetime=\"Tue, 20 Jun 2000 18:02:59 GMT\"\n  \
    \    ; license=\"http://creativecommons.org/publicdomain/zero/1.0/\",\n    <http://arxiv.example.net/web/20091027204954/http://a.example.org>\n\
    \       ; rel=\"last memento\";datetime=\"Tue, 27 Oct 2009 20:49:54 GMT\"\n  \
    \     ; license=\"http://creativecommons.org/publicdomain/zero/1.0/\",\n    <http://arxiv.example.net/web/20000621011731/http://a.example.org>\n\
    \      ; rel=\"memento\";datetime=\"Wed, 21 Jun 2000 01:17:31 GMT\"\n      ; license=\"\
    http://creativecommons.org/publicdomain/zero/1.0/\",\n    <http://arxiv.example.net/web/20000621044156/http://a.example.org>\n\
    \      ; rel=\"memento\";datetime=\"Wed, 21 Jun 2000 04:41:56 GMT\"\n      ; license=\"\
    http://creativecommons.org/publicdomain/zero/1.0/\",\n    ...\n              \
    \      Figure 28: Response from a TimeMap\n"
- title: 5.1.  Special Cases
  contents:
  - '5.1.  Special Cases

    '
- title: 5.1.1.  Index and Paging TimeMaps
  contents:
  - "5.1.1.  Index and Paging TimeMaps\n   Cases exist in which a TimeMap points at\
    \ one or more other TimeMaps:\n   o  Index TimeMap - A TimeMap can merely point\
    \ at other TimeMaps and\n      not list any Mementos itself.  This can happen\
    \ when Mementos are\n      spread across several archives that share a front-end.\
    \  An example\n      is shown in Figure 29.\n   o  Paging TimeMap - The number\
    \ of available Mementos can require\n      introducing multiple TimeMaps that\
    \ can be paged.  An example is\n      shown in Figure 30.  Note that a Paging\
    \ TimeMap contains links to\n      other TimeMaps but actually also lists Mementos.\n\
    \   In both cases, including the \"from\" and \"until\" attributes for\n   \"\
    timemap\" links is RECOMMENDED as a means to express the temporal\n   span of\
    \ Mementos listed in each TimeMap.  Note that TimeMaps obtained\n   by following\
    \ a \"timemap\" link can contain links to further TimeMaps.\n   <http://a.example.org>;rel=\"\
    original\",\n    <http://arxiv.example.net/timegate/http://a.example.org>\n  \
    \    ; rel=\"timegate\",\n    <http://arxiv.example.net/timemap/http://a.example.org>\n\
    \      ; rel=\"self\";type=\"application/link-format\",\n    <http://arxiv1.example.net/timemap/http://a.example.org>\n\
    \      ; rel=\"timemap\";type=\"application/link-format\"\n      ; from=\"Wed,\
    \ 21 Jun 2000 04:41:56 GMT\"\n      ; until=\"Wed, 09 Apr 2008 20:30:51 GMT\"\
    ,\n    <http://arxiv2.example.net/timemap/http://a.example.org>\n      ; rel=\"\
    timemap\";type=\"application/link-format\"\n      ; from=\"Thu, 10 Apr 2008 20:30:51\
    \ GMT\"\n      ; until=\"Tue, 27 Oct 2009 20:49:54 GMT\",\n    <http://arxiv3.example.net/timemap/http://a.example.org>\n\
    \      ; rel=\"timemap\";type=\"application/link-format\"\n      ; from=\"Thu,\
    \ 29 Oct 2009 20:30:51 GMT\"\n                         Figure 29: Index TimeMap\n\
    \   <http://a.example.org>;rel=\"original\",\n    <http://arxiv.example.net/timegate/http://a.example.org>\n\
    \      ; rel=\"timegate\",\n    <http://arxiv.example.net/timemap/1/http://a.example.org>\n\
    \      ; rel=\"self\";type=\"application/link-format\"\n      ; from=\"Tue, 20\
    \ Jun 2000 18:02:59 GMT\"\n      ; until=\"Wed, 09 Apr 2008 20:30:51 GMT\",\n\
    \    <http://arxiv.example.net/timemap/2/http://a.example.org>\n      ; rel=\"\
    timemap\";type=\"application/link-format\"\n      ; from=\"Thu, 10 Apr 2008 20:30:51\
    \ GMT\"\n      ; until=\"Tue, 27 Oct 2009 20:49:54 GMT\",\n    <http://arxiv.example.net/timemap/3/http://a.example.org>\n\
    \      ; rel=\"timemap\";type=\"application/link-format\"\n      ; from=\"Thu,\
    \ 29 Oct 2009 20:30:51 GMT\"\n      ; until=\"Fri, 31 Aug 2012 12:22:34 GMT\"\n\
    \    <http://arxiv.example.net/web/20000620180259/http://a.example.org>\n    \
    \  ; rel=\"memento\";datetime=\"Tue, 20 Jun 2000 18:02:59 GMT\",\n    <http://arxiv.example.net/web/20000621011731/http://a.example.org>\n\
    \      ; rel=\"memento\";datetime=\"Wed, 21 Jun 2000 01:17:31 GMT\",\n    <http://arxiv.example.net/web/20000621044156/http://a.example.org>\n\
    \      ; rel=\"memento\";datetime=\"Wed, 21 Jun 2000 04:41:56 GMT\",\n    ...\n\
    \                         Figure 30: Paging TimeMap\n"
- title: 5.1.2.  Mementos for TimeMaps
  contents:
  - "5.1.2.  Mementos for TimeMaps\n   A TimeMap itself can act as an Original Resource\
    \ for which a TimeGate\n   and Mementos may exist.  Hence, the response from a\
    \ TimeMap could\n   include a \"timegate\" link to a TimeGate via which prior\
    \ TimeMap\n   versions are available.  And, in cases where URI-T=URI-R=URI-G (a\n\
    \   TimeMap is an Original Resource that acts as its own TimeGate), an\n   \"\
    original\" link pointing at the TimeMap URI-T would be included.\n   Therefore,\
    \ caution is required in cases where a TimeMap for an\n   Original Resource wants\
    \ to explicitly express in a \"Link\" header for\n   which Original Resource it\
    \ is a TimeMap.  It can do so by including a\n   \"timemap\" link that has the\
    \ URI-R of the Original Resource as Context\n   IRI and the URI-T of the TimeMap\
    \ as Target IRI.\n   Figure 31 shows the response to an HTTP HEAD request against\
    \ a\n   TimeMap that has\n   http://arxiv.example.net/timemap/http://a.example.org\
    \ as URI-T.  This\n   TimeMap provides information about Mementos for the Original\
    \ Resource\n   that has http://a.example.org as URI-R.  The response includes\
    \ an\n   \"original\" link pointing to the Original Resource that this TimeMap\n\
    \   is about.  Note the use of the \"anchor\" attribute in this link to\n   convey\
    \ the URI-R of that Original Resource.\n   HTTP/1.1 200 OK\n   Date: Thu, 21 Jan\
    \ 2010 00:06:50 GMT\n   Server: Apache\n   Link: <http://arxiv.example.net/timemap/http://a.example.org>\n\
    \             ; anchor=\"http://a.example.org\"; rel=\"timemap\"\n           \
    \  ; type=\"application/link-format\"\n   Content-Length: 0\n   Content-Type:\
    \ application/link-format; charset=UTF-8\n   Connection: close\n       Figure\
    \ 31: TimeMap Links to the Original Resource It Is about\n"
- title: 6.  IANA Considerations
  contents:
  - '6.  IANA Considerations

    '
- title: 6.1.  HTTP Headers
  contents:
  - "6.1.  HTTP Headers\n   IANA has registered the \"Accept-Datetime\" and \"Memento-Datetime\"\
    \ HTTP\n   headers (defined in Section 2.1.1) in the \"Permanent Message Header\n\
    \   Field Names\" registry:\n   o  Header field name: Accept-Datetime\n   o  Applicable\
    \ protocol: \"http\" (RFC 2616)\n   o  Status: informational\n   o  Author/Change\
    \ controller: Herbert Van de Sompel, Los Alamos\n      National Laboratory, hvdsomp@gmail.com\n\
    \   o  Specification document(s): this document\n   o  Header field name: Memento-Datetime\n\
    \   o  Applicable protocol: \"http\" (RFC 2616)\n   o  Status: informational\n\
    \   o  Author/Change controller: Herbert Van de Sompel, Los Alamos\n      National\
    \ Laboratory, hvdsomp@gmail.com\n   o  Specification document(s): this document\n"
- title: 6.2.  Link Relation Types
  contents:
  - "6.2.  Link Relation Types\n   IANA has registered the Relation Types \"original\"\
    , \"timegate\",\n   \"timemap\", and \"memento\" (defined in Section 2.2) in the\
    \ \"Link\n   Relation Types\" registry:\n   o  Relation Name: original\n   o \
    \ Description: The Target IRI points to an Original Resource.\n   o  Reference:\
    \ this document\n   o  Notes: An Original Resource is a resource that exists or\
    \ used to\n      exist, and for which access to one of its prior states may be\n\
    \      required.\n   o  Relation Name: timegate\n   o  Description: The Target\
    \ IRI points to a TimeGate for an Original\n      Resource.\n   o  Reference:\
    \ this document\n   o  Notes: A TimeGate for an Original Resource is a resource\
    \ that is\n      capable of datetime negotiation to support access to prior states\n\
    \      of the Original Resource.\n   o  Relation Name: timemap\n   o  Description:\
    \ The Target IRI points to a TimeMap for an Original\n      Resource.\n   o  Reference:\
    \ this document\n   o  Notes: A TimeMap for an Original Resource is a resource\
    \ from which\n      a list of URIs of Mementos of the Original Resource is available.\n\
    \   o  Relation Name: memento\n   o  Description: The Target IRI points to a Memento,\
    \ a fixed resource\n      that will not change state anymore.\n   o  Reference:\
    \ this document\n   o  Notes: A Memento for an Original Resource is a resource\
    \ that\n      encapsulates a prior state of the Original Resource.\n"
- title: 7.  Security Considerations
  contents:
  - "7.  Security Considerations\n   Provision of a \"timegate\" HTTP \"Link\" header\
    \ in responses to requests\n   for an Original Resource that is protected (e.g.,\
    \ 401 or 403 HTTP\n   response codes) is OPTIONAL.  The inclusion of this Link\
    \ when\n   requesting authentication is at the server's discretion; cases may\n\
    \   exist in which a server protects the current state of a resource, but\n  \
    \ supports open access to prior states and thus chooses to supply this\n   HTTP\
    \ \"Link\" header.  Conversely, the server may choose to not\n   advertise the\
    \ TimeGate URIs (e.g., they exist in an intranet archive)\n   for unauthenticated\
    \ requests.\n   The veracity of archives and the relationships between Original\n\
    \   Resources and Mementos is beyond the scope of this document.  Even in\n  \
    \ the absence of malice, it is possible for separate archives to have\n   different\
    \ Mementos for the same Original Resource at the same\n   datetime if the state\
    \ of the Original Resource was dependent on the\n   requesting archive's user\
    \ agent IP address, specific HTTP request\n   headers, and possibly other factors.\n\
    \   Further authentication, encryption, and other security-related issues\n  \
    \ are otherwise orthogonal to Memento.\n"
- title: 8.  Acknowledgements
  contents:
  - "8.  Acknowledgements\n   The Memento effort is funded by the Library of Congress.\
    \  Many thanks\n   to Kris Carpenter Negulescu, Michael Hausenblas, Erik Hetzner,\
    \ Larry\n   Masinter, Gordon Mohr, David Rosenthal, Ed Summers, James Anderson,\n\
    \   Tim Starling, Martin Klein, and Mark Nottingham for feedback.  Many\n   thanks\
    \ to Samuel Adams, Scott Ainsworth, Lyudmilla Balakireva, Frank\n   McCown, Harihar\
    \ Shankar, Brad Tofel, Andrew Jackson, Ahmed Alsum, Mat\n   Kelly, and Ilya Kreymer\
    \ for implementations that informed the\n   specification.\n"
- title: 9.  References
  contents:
  - '9.  References

    '
- title: 9.1.  Normative References
  contents:
  - "9.1.  Normative References\n   [RFC2119]   Bradner, S., \"Key words for use in\
    \ RFCs to Indicate\n               Requirement Levels\", BCP 14, RFC 2119, March\
    \ 1997.\n   [RFC2616]   Fielding, R., Gettys, J., Mogul, J., Frystyk, H.,\n  \
    \             Masinter, L., Leach, P., and T. Berners-Lee, \"Hypertext\n     \
    \          Transfer Protocol -- HTTP/1.1\", RFC 2616, June 1999.\n   [RFC5829]\
    \   Brown, A., Clemm, G., and J. Reschke, \"Link Relation\n               Types\
    \ for Simple Version Navigation between Web\n               Resources\", RFC 5829,\
    \ April 2010.\n   [RFC5988]   Nottingham, M., \"Web Linking\", RFC 5988, October\
    \ 2010.\n   [RFC6690]   Shelby, Z., \"Constrained RESTful Environments (CoRE)\
    \ Link\n               Format\", RFC 6690, August 2012.\n   [RFC6903]   Snell,\
    \ J., \"Additional Link Relation Types\", RFC 6903,\n               March 2013.\n"
- title: 9.2.  Informative References
  contents:
  - "9.2.  Informative References\n   [DATED-URI] Masinter, L., \"The 'tdb' and 'duri'\
    \ URI schemes, based on\n               dated URIs\", Work in Progress, January\
    \ 2012.\n   [Fitch]     Fitch, K., \"Web site archiving - an approach to recording\n\
    \               every materially different response produced by a\n          \
    \     website\", July 2003,\n               <http://ausweb.scu.edu.au/aw03/papers/fitch/paper.html>.\n\
    \   [RFC1123]   Braden, R., \"Requirements for Internet Hosts -\n            \
    \   Application and Support\", STD 3, RFC 1123, October 1989.\n   [W3C.REC-aww-20041215]\n\
    \               Jacobs, I. and N. Walsh, \"Architecture of the World Wide\n  \
    \             Web\", December 2004, <http://www.w3.org/TR/webarch/>.\n   [W3C.gen-ont-20090420]\n\
    \               Berners-Lee, T., \"Architecture of the World Wide Web\",\n   \
    \            April 2009, <http://www.w3.org/2006/gen/ont>.\n"
- title: Appendix A.  Use of Headers and Relation Types per Pattern
  contents:
  - "Appendix A.  Use of Headers and Relation Types per Pattern\n   +-----------------+-----------------+----------+----------+---------+\n\
    \   | Response Header |     Pattern     | Original | TimeGate | Memento |\n  \
    \ |                 |                 | Resource |          |         |\n   +-----------------+-----------------+----------+----------+---------+\n\
    \   |      Vary:      |   Pattern 1.1   |     1    |     1    |    0    |\n  \
    \ | accept-datetime | (Section 4.1.1) |          |          |         |\n   |\
    \                 |         &       |          |          |         |\n   |  \
    \               |    Pattern 1.2  |          |          |         |\n   |    \
    \             | (Section 4.1.2) |          |          |         |\n   |      \
    \           |                 |          |          |         |\n   |        \
    \         |   Pattern 1.3   |     1    |     1    |    1    |\n   |          \
    \       | (Section 4.1.3) |          |          |         |\n   |            \
    \     |                 |          |          |         |\n   |              \
    \   |   Pattern 2.1   |     0    |     1    |    0    |\n   |                \
    \ | (Section 4.2.1) |          |          |         |\n   |                 |\
    \         &       |          |          |         |\n   |                 |  \
    \  Pattern 2.2  |          |          |         |\n   |                 | (Section\
    \ 4.2.2) |          |          |         |\n   |                 |           \
    \      |          |          |         |\n   |                 |   Pattern 2.3\
    \   |     0    |     1    |    1    |\n   |                 | (Section 4.2.3)\
    \ |          |          |         |\n   |                 |                 |\
    \          |          |         |\n   |                 |    Pattern 3    |  \
    \   1    |    NA    |    1    |\n   |                 |  (Section 4.3)  |    \
    \      |          |         |\n   |                 |                 |      \
    \    |          |         |\n   |                 |    Pattern 4    |     0  \
    \  |    NA    |    1    |\n   |                 |  (Section 4.4)  |          |\
    \          |         |\n   +-----------------+-----------------+----------+----------+---------+\n"
- title: (cont.)
  contents:
  - "(cont.)\n   +-----------------+-----------------+----------+----------+---------+\n\
    \   | Response Header |     Pattern     | Original | TimeGate | Memento |\n  \
    \ |                 |                 | Resource |          |         |\n   +-----------------+-----------------+----------+----------+---------+\n\
    \   |     Vary:       |                 |          |          |         |\n  \
    \ | Memento-        |   Pattern 1.1   |     0    |     0    |    1    |\n   |\
    \    Datetime     | (Section 4.1.1) |          |          |         |\n   |  \
    \               |         &       |          |          |         |\n   |    \
    \             |    Pattern 1.2  |          |          |         |\n   |      \
    \           | (Section 4.1.2) |          |          |         |\n   |        \
    \         |                 |          |          |         |\n   |          \
    \       |   Pattern 1.3   |     1    |     1    |    1    |\n   |            \
    \     | (Section 4.1.3) |          |          |         |\n   |              \
    \   |                 |          |          |         |\n   |                \
    \ |   Pattern 2.1   |     0    |     0    |    1    |\n   |                 |\
    \ (Section 4.2.1) |          |          |         |\n   |                 |  \
    \       &       |          |          |         |\n   |                 |    Pattern\
    \ 2.2  |          |          |         |\n   |                 | (Section 4.2.2)\
    \ |          |          |         |\n   |                 |                 |\
    \          |          |         |\n   |                 |   Pattern 2.3   |  \
    \   0    |     1    |    1    |\n   |                 | (Section 4.2.3) |    \
    \      |          |         |\n   |                 |                 |      \
    \    |          |         |\n   |                 |    Pattern 3    |     1  \
    \  |    NA    |    1    |\n   |                 |  (Section 4.3)  |          |\
    \          |         |\n   |                 |                 |          |  \
    \        |         |\n   |                 |    Pattern 4    |     0    |    NA\
    \    |    1    |\n   |                 |  (Section 4.4)  |          |        \
    \  |         |\n   +-----------------+-----------------+----------+----------+---------+\n"
- title: (cont.)
  contents:
  - "(cont.)\n   +-----------------+-----------------+----------+----------+---------+\n\
    \   | Response Header |     Pattern     | Original | TimeGate | Memento |\n  \
    \ |                 |                 | Resource |          |         |\n   +-----------------+-----------------+----------+----------+---------+\n\
    \   |       Link:     |                 |          |          |         |\n  \
    \ |  rel=\"original\" |   Pattern 1.1   |     0    |     1    |    1    |\n  \
    \ |                 | (Section 4.1.1) |          |          |         |\n   |\
    \                 |         &       |          |          |         |\n   |  \
    \               |    Pattern 1.2  |          |          |         |\n   |    \
    \             | (Section 4.1.2) |          |          |         |\n   |      \
    \           |                 |          |          |         |\n   |        \
    \         |   Pattern 1.3   |     1    |     1    |    1    |\n   |          \
    \       | (Section 4.1.3) |          |          |         |\n   |            \
    \     |                 |          |          |         |\n   |              \
    \   |   Pattern 2.1   |     0    |     1    |    1    |\n   |                \
    \ | (Section 4.2.1) |          |          |         |\n   |                 |\
    \         &       |          |          |         |\n   |                 |  \
    \  Pattern 2.2  |          |          |         |\n   |                 | (Section\
    \ 4.2.2) |          |          |         |\n   |                 |           \
    \      |          |          |         |\n   |                 |   Pattern 2.3\
    \   |     0    |     1    |    1    |\n   |                 | (Section 4.2.3)\
    \ |          |          |         |\n   |                 |                 |\
    \          |          |         |\n   |                 |    Pattern 3    |  \
    \   1    |    NA    |    1    |\n   |                 |  (Section 4.3)  |    \
    \      |          |         |\n   |                 |                 |      \
    \    |          |         |\n   |                 |    Pattern 4    |     0  \
    \  |    NA    |    1    |\n   |                 |  (Section 4.4)  |          |\
    \          |         |\n   +-----------------+-----------------+----------+----------+---------+\n"
- title: (cont.)
  contents:
  - "(cont.)\n   +-----------------+-----------------+----------+----------+---------+\n\
    \   | Response Header |     Pattern     | Original | TimeGate | Memento |\n  \
    \ |                 |                 | Resource |          |         |\n   +-----------------+-----------------+----------+----------+---------+\n\
    \   |      Link:      |                 |          |          |         |\n  \
    \ |  rel=\"timegate\" |   Pattern 1.1   |    >=0   |    >=0   |   >=0   |\n  \
    \ |                 | (Section 4.1.1) |          |          |         |\n   |\
    \                 |         &       |          |          |         |\n   |  \
    \               |    Pattern 1.2  |          |          |         |\n   |    \
    \             | (Section 4.1.2) |          |          |         |\n   |      \
    \           |                 |          |          |         |\n   |        \
    \         |   Pattern 1.3   |    >=0   |    >=0   |   >=0   |\n   |          \
    \       | (Section 4.1.3) |          |          |         |\n   |            \
    \     |                 |          |          |         |\n   |              \
    \   |   Pattern 2.1   |    >=0   |     0    |   >=0   |\n   |                \
    \ | (Section 4.2.1) |          |          |         |\n   |                 |\
    \         &       |          |          |         |\n   |                 |  \
    \  Pattern 2.2  |          |          |         |\n   |                 | (Section\
    \ 4.2.2) |          |          |         |\n   |                 |           \
    \      |          |          |         |\n   |                 |   Pattern 2.3\
    \   |    >=0   |    >=0   |   >=0   |\n   |                 | (Section 4.2.3)\
    \ |          |          |         |\n   |                 |                 |\
    \          |          |         |\n   |                 |    Pattern 3    |  \
    \  NA    |    NA    |    NA   |\n   |                 |  (Section 4.3)  |    \
    \      |          |         |\n   |                 |                 |      \
    \    |          |         |\n   |                 |    Pattern 4    |    NA  \
    \  |    NA    |    NA   |\n   |                 |  (Section 4.4)  |          |\
    \          |         |\n   +-----------------+-----------------+----------+----------+---------+\n"
- title: (cont.)
  contents:
  - "(cont.)\n   +-----------------+-----------------+----------+----------+---------+\n\
    \   | Response Header |     Pattern     | Original | TimeGate | Memento |\n  \
    \ |                 |                 | Resource |          |         |\n   +-----------------+-----------------+----------+----------+---------+\n\
    \   |     Link:       |                 |          |          |         |\n  \
    \ |  rel=\"timemap\"  |   Pattern 1.1   |    >=0   |    >=0   |   >=0   |\n  \
    \ |                 | (Section 4.1.1) |          |          |         |\n   |\
    \                 |         &       |          |          |         |\n   |  \
    \               |    Pattern 1.2  |          |          |         |\n   |    \
    \             | (Section 4.1.2) |          |          |         |\n   |      \
    \           |                 |          |          |         |\n   |        \
    \         |   Pattern 1.3   |    >=0   |    >=0   |   >=0   |\n   |          \
    \       | (Section 4.1.3) |          |          |         |\n   |            \
    \     |                 |          |          |         |\n   |              \
    \   |   Pattern 2.1   |    >=0   |    >=0   |   >=0   |\n   |                \
    \ | (Section 4.2.1) |          |          |         |\n   |                 |\
    \         &       |          |          |         |\n   |                 |  \
    \  Pattern 2.2  |          |          |         |\n   |                 | (Section\
    \ 4.2.2) |          |          |         |\n   |                 |           \
    \      |          |          |         |\n   |                 |   Pattern 2.3\
    \   |    >=0   |    >=0   |   >=0   |\n   |                 | (Section 4.2.3)\
    \ |          |          |         |\n   |                 |                 |\
    \          |          |         |\n   |                 |    Pattern 3    |  \
    \  >=0   |    NA    |   >=0   |\n   |                 |  (Section 4.3)  |    \
    \      |          |         |\n   |                 |                 |      \
    \    |          |         |\n   |                 |    Pattern 4    |    >=0 \
    \  |    NA    |   >=0   |\n   |                 |  (Section 4.4)  |          |\
    \          |         |\n   |                 |                 |          |  \
    \        |         |\n   +-----------------+-----------------+----------+----------+---------+\n"
- title: (cont.)
  contents:
  - "(cont.)\n   +-----------------+-----------------+----------+----------+---------+\n\
    \   | Response Header |     Pattern     | Original | TimeGate | Memento |\n  \
    \ |                 |                 | Resource |          |         |\n   +-----------------+-----------------+----------+----------+---------+\n\
    \   |      Link:      |                 |          |          |         |\n  \
    \ |  rel=\"memento\"  |   Pattern 1.1   |    >=0   |    >=0   |   >=0   |\n  \
    \ |                 | (Section 4.1.1) |          |          |         |\n   |\
    \                 |         &       |          |          |         |\n   |  \
    \               |    Pattern 1.2  |          |          |         |\n   |    \
    \             | (Section 4.1.2) |          |          |         |\n   |      \
    \           |                 |          |          |         |\n   |        \
    \         |   Pattern 1.3   |    >=0   |    >=0   |   >=0   |\n   |          \
    \       | (Section 4.1.3) |          |          |         |\n   |            \
    \     |                 |          |          |         |\n   |              \
    \   |   Pattern 2.1   |    >=0   |    >=0   |   >=0   |\n   |                \
    \ | (Section 4.2.1) |          |          |         |\n   |                 |\
    \         &       |          |          |         |\n   |                 |  \
    \  Pattern 2.2  |          |          |         |\n   |                 | (Section\
    \ 4.2.2) |          |          |         |\n   |                 |           \
    \      |          |          |         |\n   |                 |   Pattern 2.3\
    \   |    >=0   |    >=0   |   >=0   |\n   |                 | (Section 4.2.3)\
    \ |          |          |         |\n   |                 |                 |\
    \          |          |         |\n   |                 |    Pattern 3    |  \
    \  >=0   |    NA    |   >=0   |\n   |                 |  (Section 4.3)  |    \
    \      |          |         |\n   |                 |                 |      \
    \    |          |         |\n   |                 |    Pattern 4    |    >=0 \
    \  |    NA    |   >=0   |\n   |                 |  (Section 4.4)  |          |\
    \          |         |\n   +-----------------+-----------------+----------+----------+---------+\n\
    \                         Table 5: Memento Headers\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Herbert Van de Sompel\n   Los Alamos National Laboratory\n\
    \   PO Box 1663\n   Los Alamos, New Mexico  87545\n   USA\n   Phone: +1 505 667\
    \ 1267\n   EMail: hvdsomp@gmail.com\n   URI:   http://public.lanl.gov/herbertv/\n\
    \   Michael Nelson\n   Old Dominion University\n   Norfolk, Virginia  23529\n\
    \   USA\n   Phone: +1 757 683 6393\n   EMail: mln@cs.odu.edu\n   URI:   http://www.cs.odu.edu/~mln/\n\
    \   Robert Sanderson\n   Los Alamos National Laboratory\n   PO Box 1663\n   Los\
    \ Alamos, New Mexico  87545\n   USA\n   Phone: +1 505 665 5804\n   EMail: azaroth42@gmail.com\n\
    \   URI:   http://public.lanl.gov/rsanderson/\n"
