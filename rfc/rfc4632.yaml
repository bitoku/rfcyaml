- title: __initial_text__
  contents:
  - "                Classless Inter-domain Routing (CIDR):\n          The Internet\
    \ Address Assignment and Aggregation Plan\n"
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This document specifies an Internet Best Current Practices\
    \ for the\n   Internet Community, and requests discussion and suggestions for\n\
    \   improvements.  Distribution of this memo is unlimited.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (C) The Internet Society (2006).\n"
- title: Abstract
  contents:
  - "Abstract\n   This memo discusses the strategy for address assignment of the\n\
    \   existing 32-bit IPv4 address space with a view toward conserving the\n   address\
    \ space and limiting the growth rate of global routing state.\n   This document\
    \ obsoletes the original Classless Inter-domain Routing\n   (CIDR) spec in RFC\
    \ 1519, with changes made both to clarify the\n   concepts it introduced and,\
    \ after more than twelve years, to update\n   the Internet community on the results\
    \ of deploying the technology\n   described.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1. Introduction ....................................................3\n\
    \   2. History and Problem Description .................................3\n  \
    \ 3. Classless Addressing as a Solution ..............................4\n    \
    \  3.1. Basic Concept and Prefix Notation ..........................5\n   4. Address\
    \ Assignment and Routing Aggregation ......................8\n      4.1. Aggregation\
    \ Efficiency and Limitations .....................8\n      4.2. Distributed Assignment\
    \ of Address Space ...................10\n   5. Routing Implementation Considerations\
    \ ..........................11\n      5.1. Rules for Route Advertisement .............................11\n\
    \      5.2. How the Rules Work ........................................12\n  \
    \    5.3. A Note on Prefix Filter Formats ...........................13\n    \
    \  5.4. Responsibility for and Configuration of Aggregation .......13\n      5.5.\
    \ Route Propagation and Routing Protocol Considerations .....15\n   6. Example\
    \ of New Address Assignments and Routing .................15\n      6.1. Address\
    \ Delegation ........................................15\n      6.2. Routing Advertisements\
    \ ....................................17\n   7. Domain Name Service Considerations\
    \ .............................18\n   8. Transition to a Long-Term Solution .............................18\n\
    \   9. Analysis of CIDR's Effect on Global Routing State ..............19\n  \
    \ 10. Conclusions and Recommendations ...............................20\n   11.\
    \ Status Updates to CIDR Documents ..............................21\n   12. Security\
    \ Considerations .......................................23\n   13. Acknowledgements\
    \ ..............................................24\n   14. References ....................................................25\n\
    \      14.1. Normative References .....................................25\n  \
    \    14.2. Informative References ...................................25\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   This memo discusses the strategy for address assignment\
    \ of the\n   existing 32-bit IPv4 address space with a view toward conserving\
    \ the\n   address space and limiting the growth rate of global routing state.\n\
    \   This document obsoletes the original CIDR spec [RFC1519], with\n   changes\
    \ made both to clarify the concepts it introduced and, after\n   more than twelve\
    \ years, to update the Internet community on the\n   results of deploying the\
    \ technology described.\n"
- title: 2.  History and Problem Description
  contents:
  - "2.  History and Problem Description\n   What is now known as the Internet started\
    \ as a research project in\n   the 1970s to design and develop a set of protocols\
    \ that could be used\n   with many different network technologies to provide a\
    \ seamless, end-\n   to-end facility for interconnecting a diverse set of end\
    \ systems.\n   When it was determined how the 32-bit address space would be used,\n\
    \   certain assumptions were made about the number of organizations to be\n  \
    \ connected, the number of end systems per organization, and total\n   number\
    \ of end systems on the network.  The end result was the\n   establishment (see\
    \ [RFC791]) of three classes of networks: Class A\n   (most significant address\
    \ bits '00'), with 128 possible networks each\n   and 16777216 end systems (minus\
    \ special bit values reserved for\n   network/broadcast addresses); Class B (MSB\
    \ '10'), with 16384 possible\n   networks each with 65536 end systems (less reserved\
    \ values); and\n   Class C (MSB '110'), and 2097152 possible networks each and\
    \ 254 end\n   systems (256 bit combinations minus the reserved all-zeros and all-\n\
    \   ones patterns).  The set of addresses with MSB '111' was reserved for\n  \
    \ future use; parts of this were eventually defined (MSB '1110') for\n   use with\
    \ IPv4 multicast and parts are still reserved as of the\n   writing of this document.\n\
    \   In the late 1980s, the expansion and commercialization of the former\n   research\
    \ network resulted in the connection of many new organizations\n   to the rapidly\
    \ growing Internet, and each new organization required\n   an address assignment\
    \ according to the Class A/B/C addressing plan.\n   As demand for new network\
    \ numbers (particularly in the Class B space)\n   took what appeared to be an\
    \ exponential growth rate, some members of\n   the operations and engineering\
    \ community started to have concerns\n   over the long-term scaling properties\
    \ of the class A/B/C system and\n   began thinking about how to modify network\
    \ number assignment policy\n   and routing protocols to accommodate the growth.\
    \  In November, 1991,\n   the Internet Engineering Task Force (IETF) created the\
    \ ROAD (Routing\n   and Addressing) group to examine the situation.  This group\
    \ met in\n   January 1992 and identified three major problems:\n   1.  Exhaustion\
    \ of the Class B network address space.  One fundamental\n       cause of this\
    \ problem is the lack of a network class of a size\n       that is appropriate\
    \ for mid-sized organization.  Class C, with a\n       maximum of 254 host addresses,\
    \ is too small, whereas Class B,\n       which allows up to 65534 host addresses,\
    \ is too large for most\n       organizations but was the best fit available for\
    \ use with\n       subnetting.\n   2.  Growth of routing tables in Internet routers\
    \ beyond the ability\n       of current software, hardware, and people to effectively\
    \ manage.\n   3.  Eventual exhaustion of the 32-bit IPv4 address space.\n    \
    \   It was clear that then-current rates of Internet growth would\n       cause\
    \ the first two problems to become critical sometime between\n       1993 and\
    \ 1995.  Work already in progress on topological\n       assignment of addressing\
    \ for Connectionless Network Service\n       (CLNS), which was presented to the\
    \ community at the Boulder IETF\n       in December of 1990, led to thoughts on\
    \ how to re-structure the\n       32-bit IPv4 address space to increase its lifespan.\
    \  Work in the\n       ROAD group followed and eventually resulted in the publication\
    \ of\n       [RFC1338], and later, [RFC1519].\n       The design and deployment\
    \ of CIDR was intended to solve these\n       problems by providing a mechanism\
    \ to slow the growth of global\n       routing tables and to reduce the rate of\
    \ consumption of IPv4\n       address space.  It did not and does not attempt\
    \ to solve the\n       third problem, which is of a more long-term nature; instead,\
    \ it\n       endeavors to ease enough of the short- to mid-term difficulties\n\
    \       to allow the Internet to continue to function efficiently while\n    \
    \   progress is made on a longer-term solution.\n       More historical background\
    \ on this effort and on the ROAD group\n       may be found in [RFC1380] and at\
    \ [LWRD].\n"
- title: 3.  Classless Addressing as a Solution
  contents:
  - "3.  Classless Addressing as a Solution\n   The solution that the community created\
    \ was to deprecate the Class\n   A/B/C network address assignment system in favor\
    \ of using\n   \"classless\", hierarchical blocks of IP addresses (referred to\
    \ as\n   prefixes).  The assignment of prefixes is intended to roughly follow\n\
    \   the underlying Internet topology so that aggregation can be used to\n   facilitate\
    \ scaling of the global routing system.  One implication of\n   this strategy\
    \ is that prefix assignment and aggregation is generally\n   done according to\
    \ provider-subscriber relationships, since that is\n   how the Internet topology\
    \ is determined.\n   When originally proposed in [RFC1338] and [RFC1519], this\
    \ addressing\n   plan was intended to be a relatively short-term response, lasting\n\
    \   approximately three to five years, during which a more permanent\n   addressing\
    \ and routing architecture would be designed and\n   implemented.  As can be inferred\
    \ from the dates on the original\n   documents, CIDR has far outlasted its anticipated\
    \ lifespan and has\n   become the mid-term solution to the problems described\
    \ above.\n   Note that in the following text we describe the current policies\
    \ and\n   procedures that have been put in place to implement the allocation\n\
    \   architecture discussed here.  This description is not intended to be\n   interpreted\
    \ as direction to IANA.\n   Coupled with address management strategies implemented\
    \ by the\n   Regional Internet Registries (see [NRO] for details), the deployment\n\
    \   of CIDR-style addressing has also reduced the rate at which IPv4\n   address\
    \ space has been consumed, thus providing short- to medium-term\n   relief to\
    \ problem #3, described above.\n   Note that, as defined, this plan neither requires\
    \ nor assumes the\n   re-assignment of those parts of the legacy \"Class C\" space\
    \ that are\n   not amenable to aggregation (sometimes called \"the swamp\"). \
    \ Doing so\n   would somewhat reduce routing table sizes (current estimate is\
    \ that\n   \"the swamp\" contains approximately 15,000 entries), though at a\n\
    \   significant renumbering cost.  Similarly, there is no hard\n   requirement\
    \ that any end site renumber when changing transit service\n   provider, but end\
    \ sites are encouraged do so to eliminate the need\n   for explicit advertisement\
    \ of their prefixes into the global routing\n   system.\n"
- title: 3.1.  Basic Concept and Prefix Notation
  contents:
  - "3.1.  Basic Concept and Prefix Notation\n   In the simplest sense, the change\
    \ from Class A/B/C network numbers to\n   classless prefixes is to make explicit\
    \ which bits in a 32-bit IPv4\n   address are interpreted as the network number\
    \ (or prefix) associated\n   with a site and which are the used to number individual\
    \ end systems\n   within the site.  In CIDR notation, a prefix is shown as a 4-octet\n\
    \   quantity, just like a traditional IPv4 address or network number,\n   followed\
    \ by the \"/\" (slash) character, followed by a decimal value\n   between 0 and\
    \ 32 that describes the number of significant bits.\n   For example, the legacy\
    \ \"Class B\" network 172.16.0.0, with an implied\n   network mask of 255.255.0.0,\
    \ is defined as the prefix 172.16.0.0/16,\n   the \"/16\" indicating that the\
    \ mask to extract the network portion of\n   the prefix is a 32-bit value where\
    \ the most significant 16 bits are\n   ones and the least significant 16 bits\
    \ are zeros.  Similarly, the\n   legacy \"Class C\" network number 192.168.99.0\
    \ is defined as the prefix\n   192.168.99.0/24; the most significant 24 bits are\
    \ ones and the least\n   significant 8 bits are zeros.\n   Using classless prefixes\
    \ with explicit prefix lengths allows much\n   more flexible matching of address\
    \ space blocks according to actual\n   need.  Where formerly only three network\
    \ sizes were available,\n   prefixes may be defined to describe any power of two-sized\
    \ block of\n   between one and 2^32 end system addresses.  In practice, the\n\
    \   unallocated pool of addresses is administered by the Internet\n   Assigned\
    \ Numbers Authority ([IANA]).  The IANA makes allocations from\n   this pool to\
    \ Regional Internet Registries, as required.  These\n   allocations are made in\
    \ contiguous bit-aligned blocks of 2^24\n   addresses (a.k.a. /8 prefixes).  The\
    \ Regional Internet Registries\n   (RIRs), in turn, allocate or assign smaller\
    \ address blocks to Local\n   Internet Registries (LIRs) or Internet Service Providers\
    \ (ISPs).\n   These entities may make direct use of the assignment (as would\n\
    \   commonly be the case for an ISP) or may make further sub-allocations\n   of\
    \ addresses to their customers.  These RIR address assignments vary\n   according\
    \ to the needs of each ISP or LIR.  For example, a large ISP\n   might be allocated\
    \ an address block of 2^17 addresses (a /15 prefix),\n   whereas a smaller ISP\
    \ may be allocated an address block of 2^11\n   addresses (a /21 prefix).\n  \
    \ Note that the terms \"allocate\" and \"assign\" have specific meaning in\n \
    \  the Internet address registry system; \"allocate\" refers to the\n   delegation\
    \ of a block of address space to an organization that is\n   expected to perform\
    \ further sub-delegations, and \"assign\" is used for\n   sites that directly\
    \ use (i.e., number individual hosts) the block of\n   addresses received.\n \
    \  The following table provides a convenient shortcut to all the CIDR\n   prefix\
    \ sizes, showing the number of addresses possible in each prefix\n   and the number\
    \ of prefixes of that size that may be numbered in the\n   32-bit IPv4 address\
    \ space:\n       notation       addrs/block      # blocks\n       --------   \
    \    -----------     ----------\n       n.n.n.n/32               1     4294967296\
    \    \"host route\"\n       n.n.n.x/31               2     2147483648    \"p2p\
    \ link\"\n       n.n.n.x/30               4     1073741824\n       n.n.n.x/29\
    \               8      536870912\n       n.n.n.x/28              16      268435456\n\
    \       n.n.n.x/27              32      134217728\n       n.n.n.x/26         \
    \     64       67108864\n       n.n.n.x/25             128       33554432\n  \
    \     n.n.n.0/24             256       16777216    legacy \"Class C\"\n      \
    \ n.n.x.0/23             512        8388608\n       n.n.x.0/22            1024\
    \        4194304\n       n.n.x.0/21            2048        2097152\n       n.n.x.0/20\
    \            4096        1048576\n       n.n.x.0/19            8192         524288\n\
    \       n.n.x.0/18           16384         262144\n       n.n.x.0/17         \
    \  32768         131072\n       n.n.0.0/16           65536          65536    legacy\
    \ \"Class B\"\n       n.x.0.0/15          131072          32768\n       n.x.0.0/14\
    \          262144          16384\n       n.x.0.0/13          524288          \
    \ 8192\n       n.x.0.0/12         1048576           4096\n       n.x.0.0/11  \
    \       2097152           2048\n       n.x.0.0/10         4194304           1024\n\
    \       n.x.0.0/9          8388608            512\n       n.0.0.0/8         16777216\
    \            256    legacy \"Class A\"\n       x.0.0.0/7         33554432    \
    \        128\n       x.0.0.0/6         67108864             64\n       x.0.0.0/5\
    \        134217728             32\n       x.0.0.0/4        268435456         \
    \    16\n       x.0.0.0/3        536870912              8\n       x.0.0.0/2  \
    \     1073741824              4\n       x.0.0.0/1       2147483648           \
    \   2\n       0.0.0.0/0       4294967296              1    \"default route\"\n\
    \   n is an 8-bit decimal octet value.  Point-to-point links are\n   discussed\
    \ in more detail in [RFC3021].\n   x is a 1- to 7-bit value, based on the prefix\
    \ length, shifted into\n   the most significant bits of the octet and converted\
    \ into decimal\n   form; the least significant bits of the octet are zero.\n \
    \  In practice, prefixes of length shorter than 8 have not been\n   allocated\
    \ or assigned to date, although routes to such short prefixes\n   may exist in\
    \ routing tables if or when aggressive aggregation is\n   performed.  As of the\
    \ writing of this document, no such routes are\n   seen in the global routing\
    \ system, but operator error and other\n   events have caused some of them (i.e.,\
    \ 128.0.0.0/1 and 192.0.0.0/2)\n   to be observed in some networks at some times\
    \ in the past.\n"
- title: 4.  Address Assignment and Routing Aggregation
  contents:
  - "4.  Address Assignment and Routing Aggregation\n   Classless addressing and routing\
    \ was initially developed primarily to\n   improve the scaling properties of routing\
    \ on the global Internet.\n   Because the scaling of routing is very tightly coupled\
    \ to the way\n   that addresses are used, deployment of CIDR had implications\
    \ for the\n   way in which addresses were assigned.\n"
- title: 4.1.  Aggregation Efficiency and Limitations
  contents:
  - "4.1.  Aggregation Efficiency and Limitations\n   The only commonly understood\
    \ method for reducing routing state on a\n   packet-switched network is through\
    \ aggregation of information.  For\n   CIDR to succeed in reducing the size and\
    \ growth rate of the global\n   routing system, the IPv4 address assignment process\
    \ needed to be\n   changed to make possible the aggregation of routing information\
    \ along\n   topological lines.  Since, in general, the topology of the network\
    \ is\n   determined by the service providers who have built it, topologically\n\
    \   significant address assignments are necessarily service-provider\n   oriented.\n\
    \   Aggregation is simple for an end site that is connected to one\n   service\
    \ provider: it uses address space assigned by its service\n   provider, and that\
    \ address space is a small piece of a larger block\n   allocated to the service\
    \ provider.  No explicit route is needed for\n   the end site; the service provider\
    \ advertises a single aggregate\n   route for the larger block.  This advertisement\
    \ provides reachability\n   and routeability for all the customers numbered in\
    \ the block.\n   There are two, more complex, situations that reduce the effectiveness\n\
    \   of aggregation:\n   o  An organization that is multi-homed.  Because a multi-homed\n\
    \      organization must be advertised into the system by each of its\n      service\
    \ providers, it is often not feasible to aggregate its\n      routing information\
    \ into the address space of any one of those\n      providers.  Note that the\
    \ organization still may receive its\n      address assignment out of a service\
    \ provider's address space\n      (which has other advantages), but that a route\
    \ to the\n      organization's prefix is, in the most general case, explicitly\n\
    \      advertised by all of its service providers.  For this reason, the\n   \
    \   global routing cost for a multi-homed organization is generally\n      the\
    \ same as it was prior to the adoption of CIDR.  A more detailed\n      consideration\
    \ of multi-homing practices can be found in [RFC4116].\n   o  An organization\
    \ that changes service provider but does not\n      renumber.  This has the effect\
    \ of \"punching a hole\" in one of the\n      original service provider's aggregated\
    \ route advertisements.  CIDR\n      handles this situation by requiring that\
    \ the newer service\n      provider to advertise a specific advertisement for\
    \ the re-homed\n      organization; this advertisement is preferred over provider\n\
    \      aggregates because it is a longer match.  To maintain efficiency\n    \
    \  of aggregation, it is recommended that an organization that\n      changes\
    \ service providers plan eventually to migrate its network\n      into a an prefix\
    \ assigned from its new provider's address space.\n      To this end, it is recommended\
    \ that mechanisms to facilitate such\n      migration, such as dynamic host address\
    \ assignment that uses\n      [RFC2131]), be deployed wherever possible, and that\
    \ additional\n      protocol work be done to develop improved technology for\n\
    \      renumbering.\n   Note that some aggregation efficiency gain can still be\
    \ had for\n   multi-homed sites (and, in general, for any site composed of\n \
    \  multiple, logical IPv4 networks); by allocating a contiguous power-\n   of-two\
    \ block address space to the site (as opposed to multiple,\n   independent prefixes),\
    \ the site's routing information may be\n   aggregated into a single prefix. \
    \ Also, since the routing cost\n   associated with assigning a multi-homed site\
    \ out of a service\n   provider's address space is no greater than the old method\
    \ of\n   sequential number assignment by a central authority, it makes sense\n\
    \   to assign all end-site address space out of blocks allocated to\n   service\
    \ providers.\n   It is also worthwhile to mention that since aggregation may occur\
    \ at\n   multiple levels in the system, it may still be possible to aggregate\n\
    \   these anomalous routes at higher levels of whatever hierarchy may be\n   present.\
    \  For example, if a site is multi-homed to two relatively\n   small providers\
    \ that both obtain connectivity and address space from\n   the same large provider,\
    \ then aggregation by the large provider of\n   routes from the smaller networks\
    \ will include all routes to the\n   multi-homed site.  The feasibility of this\
    \ sort of second-level\n   aggregation depends on whether topological hierarchy\
    \ exists among a\n   site, its directly-connected providers, and other providers\
    \ to which\n   they are connected; it may be practical in some regions of the\
    \ global\n   Internet but not in others.\n   Note: In the discussion and examples\
    \ that follow, prefix notation is\n   used to represent routing destinations.\
    \  This is used for\n   illustration only and does not require that routing protocols\
    \ use\n   this representation in their updates.\n"
- title: 4.2.  Distributed Assignment of Address Space
  contents:
  - "4.2.  Distributed Assignment of Address Space\n   In the early days of the Internet,\
    \ IPv4 address space assignment was\n   performed by the central Network Information\
    \ Center (NIC).  Class\n   A/B/C network numbers were assigned in essentially\
    \ arbitrary order,\n   roughly according to the size of the organizations that\
    \ requested\n   them.  All assignments were recorded centrally, and no attempt\
    \ was\n   made to assign network numbers in a manner that would allow routing\n\
    \   aggregation.\n   When CIDR was originally deployed, the central assignment\
    \ authority\n   continued to exist but changed its procedures to assign large\
    \ blocks\n   of \"Class C\" network numbers to each service provider.  Each service\n\
    \   provider, in turn, assigned bitmask-oriented subsets of the\n   provider's\
    \ address space to each customer.  This worked reasonably\n   well, as long as\
    \ the number of service providers was relatively small\n   and relatively constant,\
    \ but it did not scale well, as the number of\n   service providers grew at a\
    \ rapid rate.\n   As the Internet started to expand rapidly in the 1990s, it became\n\
    \   clear that a single, centralized address assignment authority was\n   problematic.\
    \  This function began being de-centralized when address\n   space assignment\
    \ for European Internet sites was delegated in bit-\n   aligned blocks of 16777216\
    \ addresses (what CIDR would later define as\n   a /8) to the RIPE NCC ([RIPE]),\
    \ effectively making it the first of\n   the RIRs.  Since then, address assignment\
    \ has been formally\n   distributed as a hierarchical function with IANA, the\
    \ RIRs, and the\n   service providers.  Removing the bottleneck of a single organization\n\
    \   having responsibility for the global Internet address space greatly\n   improved\
    \ the efficiency and response time for new assignments.\n   Hierarchical delegation\
    \ of addresses in this manner implies that\n   sites with addresses assigned out\
    \ of a given service provider are,\n   for routing purposes, part of that service\
    \ provider and will be\n   routed via its infrastructure.  This implies that routing\
    \ information\n   about multi-homed organizations (i.e., organizations connected\
    \ to\n   more than one network service provider) will still need to be known\n\
    \   by higher levels in the hierarchy.\n   A historical perspective on these issues\
    \ is described in [RFC1518].\n   Additional discussion may also be found in [RFC3221].\n"
- title: 5.  Routing Implementation Considerations
  contents:
  - "5.  Routing Implementation Considerations\n   With the change from classful network\
    \ numbers to classless prefixes,\n   it is not possible to infer the network mask\
    \ from the initial bit\n   pattern of an IPv4 address.  This has implications\
    \ for how routing\n   information is stored and propagated.  Network masks or\
    \ prefix\n   lengths must be explicitly carried in routing protocols.  Interior\n\
    \   routing protocols, such as OSPF [RFC2328], Intermediate System to\n   Intermediate\
    \ System (IS-IS) [RFC1195], RIPv2 [RFC2453], and Cisco\n   Enhanced Interior Gateway\
    \ Routing Protocol (EIGRP), and the BGP4\n   exterior routing protocol [RFC4271],\
    \ all support this functionality,\n   having been developed or modified as part\
    \ of the deployment of\n   classless inter-domain routing during the 1990s.\n\
    \   Older interior routing protocols, such as RIP [RFC1058], HELLO, and\n   Cisco\
    \ Interior Gateway Routing Protocol (IGRP), and older exterior\n   routing protocols,\
    \ such as Exterior Gateway Protocol (EGP) [RFC904],\n   do not support explicit\
    \ carriage of prefix length/mask and thus\n   cannot be effectively used on the\
    \ Internet other than in very limited\n   stub configurations.  Although their\
    \ use may be appropriate in simple\n   legacy end-site configurations, they are\
    \ considered obsolete and\n   should NOT be used in transit networks connected\
    \ to the global\n   Internet.\n   Similarly, routing and forwarding tables in\
    \ layer-3 network equipment\n   must be organized to store both prefix and prefix\
    \ length or mask.\n   Equipment that organizes its routing/forwarding information\
    \ according\n   to legacy Class A/B/C network/subnet conventions cannot be expected\n\
    \   to work correctly on networks connected to the global Internet; use\n   of\
    \ such equipment is not recommended.  Fortunately, very little such\n   equipment\
    \ is in use today.\n"
- title: 5.1.  Rules for Route Advertisement
  contents:
  - "5.1.  Rules for Route Advertisement\n   1.  Forwarding in the Internet is done\
    \ on a longest-match basis.\n       This implies that destinations that are multi-homed\
    \ relative to a\n       routing domain must always be explicitly announced into\
    \ that\n       routing domain (i.e., they cannot be summarized).  If a network\n\
    \       is multi-homed, all of its paths into a routing domain that is\n     \
    \  \"higher\" in the hierarchy of networks must be known to the\n       \"higher\"\
    \ network).\n   2.  A router that generates an aggregate route for multiple, more-\n\
    \       specific routes must discard packets that match the aggregate\n      \
    \ route, but not any of the more-specific routes.  In other words,\n       the\
    \ \"next hop\" for the aggregate route should be the null\n       destination.\
    \  This is necessary to prevent forwarding loops when\n       some addresses covered\
    \ by the aggregate are not reachable.\n   Note that during failures, partial routing\
    \ of traffic to a site that\n   takes its address space from one service provider\
    \ but that is\n   actually reachable only through another (i.e., the case of a\
    \ site\n   that has changed service providers) may occur because such traffic\n\
    \   will be forwarded along the path advertised by the aggregated route.\n   Rule\
    \ #2 will prevent packet misdelivery by causing such traffic to be\n   discarded\
    \ by the advertiser of the aggregated route, but the output\n   of \"traceroute\"\
    \ and other similar tools will suggest that a problem\n   exists within that network\
    \ rather than in the network that is no\n   longer advertising the more-specific\
    \ prefix.  This may be confusing\n   to those trying to diagnose connectivity\
    \ problems; see the example in\n   Section 6.2 for details.  A solution to this\
    \ perceived \"problem\" is\n   beyond the scope of this document; it lies with\
    \ better education of\n   the user/operator community, not in routing technology.\n\
    \   An implementation following these rules should also be generalized,\n   so\
    \ that an arbitrary network number and mask are accepted for all\n   routing destinations.\
    \  The only outstanding constraint is that the\n   mask must be left contiguous.\
    \  Note that the degenerate route to\n   prefix 0.0.0.0/0 is used as a default\
    \ route and MUST be accepted by\n   all implementations.  Further, to protect\
    \ against accidental\n   advertisements of this route via the inter-domain protocol,\
    \ this\n   route should only be advertised to another routing domain when a\n\
    \   router is explicitly configured to do so, never as a non-configured,\n   \"\
    default\" option.\n"
- title: 5.2.  How the Rules Work
  contents:
  - "5.2.  How the Rules Work\n   Rule #1 guarantees that the forwarding algorithm\
    \ used is consistent\n   across routing protocols and implementations.  Multi-homed\
    \ networks\n   are always explicitly advertised by every service provider through\n\
    \   which they are routed, even if they are a specific subset of one\n   service\
    \ provider's aggregate (if they are not, they clearly must be\n   explicitly advertised).\
    \  It may seem as if the \"primary\" service\n   provider could advertise the\
    \ multi-homed site implicitly as part of\n   its aggregate, but longest-match\
    \ forwarding causes this not to work.\n   More details are provided in [RFC4116].\n\
    \   Rule #2 guarantees that no routing loops form due to aggregation.\n   Consider\
    \ a site that has been assigned 192.168.64/19 by its \"parent\"\n   provider,\
    \ which has 192.168.0.0/16.  The \"parent\" network will\n   advertise 192.168.0.0/16\
    \ to the \"child\" network.  If the \"child\"\n   network were to lose internal\
    \ connectivity to 192.168.65.0/24 (which\n   is part of its aggregate), traffic\
    \ from the \"parent\" to the to the\n   \"child\" destined for 192.168.65.1 will\
    \ follow the \"child's\"\n   advertised route.  When that traffic gets to the\
    \ \"child\", however,\n   the child *must not* follow the route 192.168.0.0/16\
    \ back up to the\n   \"parent\", since that would result in a forwarding loop.\
    \  Rule #2 says\n   that the \"child\" may not follow a less-specific route for\
    \ a\n   destination that matches one of its own aggregated routes (typically,\n\
    \   this is implemented by installing a \"discard\" or \"null\" route for all\n\
    \   aggregated prefixes that one network advertises to another).  Note\n   that\
    \ handling of the \"default\" route (0.0.0.0/0) is a special case of\n   this\
    \ rule; a network must not follow the default to destinations that\n   are part\
    \ of one of its aggregated advertisements.\n"
- title: 5.3.  A Note on Prefix Filter Formats
  contents:
  - "5.3.  A Note on Prefix Filter Formats\n   Systems that process route announcements\
    \ must be able to verify that\n   information that they receive is acceptable\
    \ according to policy\n   rules.  Implementations that filter route advertisements\
    \ must allow\n   masks or prefix lengths in filter elements.  Thus, filter elements\n\
    \   that formerly were specified as\n      accept 172.16.0.0\n      accept 172.25.120.0.0\n\
    \      accept 172.31.0.0\n      deny 10.2.0.0\n      accept 10.0.0.0\n   now look\
    \ something like this:\n      accept 172.16.0.0/16\n      accept 172.25.0.0/16\n\
    \      accept 172.31.0.0/16\n      deny 10.2.0.0/16\n      accept 10.0.0.0/8\n\
    \   This is merely making explicit the network mask that was implied by\n   the\
    \ Class A/B/C classification of network numbers.  It is also useful\n   to enhance\
    \ filtering capability to allow the match of a prefix and\n   all more-specific\
    \ prefixes with the same bit pattern; fortunately,\n   this functionality has\
    \ been implemented by most vendors of equipment\n   used on the Internet.\n"
- title: 5.4.  Responsibility for and Configuration of Aggregation
  contents:
  - "5.4.  Responsibility for and Configuration of Aggregation\n   Under normal circumstances,\
    \ a routing domain (or \"Autonomous System\")\n   that has been allocated or assigned\
    \ a set of prefixes has sole\n   responsibility for aggregation of those prefixes.\
    \  In the usual case,\n   the AS will install configuration in one or more of\
    \ its routers to\n   generate aggregate routes based on more-specific routes known\
    \ to its\n   internal routing system.  These aggregate routes are advertised into\n\
    \   the global routing system by the border routers for the routing\n   domain.\
    \  The more-specific internal routes that overlap with the\n   aggregate routes\
    \ should not be advertised globally.  In some cases,\n   an AS may wish to delegate\
    \ aggregation responsibility to another AS\n   (for example, a customer may wish\
    \ for its service provider to\n   generate aggregated routing information on its\
    \ behalf); in such\n   cases, aggregation is performed by a router in the second\
    \ AS\n   according to the routes that it receives from the first, combined\n \
    \  with configured policy information describing how those routes should\n   be\
    \ aggregated.\n   Note that one provider may choose to perform aggregation on\
    \ the\n   routes it receives from another without explicit agreement; this is\n\
    \   termed \"proxy aggregation\".  This can be a useful tool for reducing\n  \
    \ the amount of routing state that an AS must carry and propagate to\n   its customers\
    \ and neighbors.  However, proxy aggregation can also\n   create unintended consequences\
    \ in traffic engineering.  Consider what\n   happens if both AS 2 and 3 receive\
    \ routes from AS 1 but AS 2 performs\n   proxy aggregation while AS 3 does not.\
    \  Other ASes that receive\n   transit routing information from both AS 2 and\
    \ AS 3 will see an\n   inconsistent view of the routing information originated\
    \ by AS 1.\n   This may cause an unexpected shift of traffic toward AS 1 through\
    \ AS\n   3 for AS 3's customers and any others receiving transit routes from\n\
    \   AS 3.  Because proxy aggregation can cause unanticipated consequences\n  \
    \ for parts of the Internet that have no relationship with either the\n   source\
    \ of the aggregated routes or the party providing aggregation,\n   it should be\
    \ used with extreme caution.\n   Configuration of the routes to be combined into\
    \ aggregates is an\n   implementation of routing policy and requires some manually\n\
    \   maintained information.  As an addition to the information that must\n   be\
    \ maintained for a set of routeable prefixes, aggregation\n   configuration is\
    \ typically just a line or two defining the range of\n   the block of IPv4 addresses\
    \ to be aggregated.  A site performing its\n   own aggregation is doing so for\
    \ address blocks that it has been\n   assigned; a site performing aggregation\
    \ on behalf of another knows\n   this information because of an agreement to delegate\
    \ aggregation.\n   Assuming that the best common practice for network administrators\
    \ is\n   to exchange lists of prefixes to accept from each other,\n   configuration\
    \ of aggregation information does not introduce\n   significant additional administrative\
    \ overhead.\n   The generation of an aggregate route is usually specified either\n\
    \   statically or in response to learning an active dynamic route for a\n   prefix\
    \ contained within the aggregate route.  If such dynamic\n   aggregate route advertisement\
    \ is done, care should be taken that\n   routes are not excessively added or withdrawn\
    \ (known as \"route\n   flapping\").  In general, a dynamic aggregate route advertisement\
    \ is\n   added when at least one component of the aggregate becomes reachable\n\
    \   and it is withdrawn only when all components become unreachable.\n   Properly\
    \ configured, aggregated routes are more stable than non-\n   aggregated routes\
    \ and thus improve global routing stability.\n   Implementation note: Aggregation\
    \ of the \"Class D\" (multicast) address\n   space is beyond the scope of this\
    \ document.\n"
- title: 5.5.  Route Propagation and Routing Protocol Considerations
  contents:
  - "5.5.  Route Propagation and Routing Protocol Considerations\n   Prior to the\
    \ original deployment of CIDR, common practice was to\n   propagate routes learned\
    \ via exterior routing protocols (i.e., EGP or\n   BGP) through a site's interior\
    \ routing protocol (typically, OSPF,\n   IS-IS, or RIP).  This was done to ensure\
    \ that consistent and correct\n   exit points were chosen for traffic to be sent\
    \ to a destination\n   learned through those protocols.  Four evolutionary effects\
    \ -- the\n   advent of CIDR, explosive growth of global routing state, widespread\n\
    \   adoption of BGP4, and a requirement to propagate full path\n   information\
    \ -- have combined to deprecate that practice.  To ensure\n   proper path propagation\
    \ and prevent inter-AS routing inconsistency\n   (BGP4's loop detection/prevention\
    \ mechanism requires full path\n   propagation), transit networks must use internal\
    \ BGP (iBGP) for\n   carrying routes learned from other providers both within\
    \ and through\n   their networks.\n"
- title: 6.  Example of New Address Assignments and Routing
  contents:
  - '6.  Example of New Address Assignments and Routing

    '
- title: 6.1.  Address Delegation
  contents:
  - "6.1.  Address Delegation\n   Consider the block of 524288 (2^19) addresses, beginning\
    \ with\n   10.24.0.0 and ending with 10.31.255.255, allocated to a single\n  \
    \ network provider, \"PA\".  This is equivalent in size to a block of\n   2048\
    \ legacy \"Class C\" network numbers (or /24s).  A classless route\n   to this\
    \ block would be described as 10.24.0.0 with a mask of\n   255.248.0.0 and the\
    \ prefix 10.24.0.0/13.\n   Assume that this service provider connects six sites\
    \ in the following\n   order (significant because it demonstrates how temporary\
    \ \"holes\" may\n   form in the service provider's address space):\n   o  \"C1\"\
    , requiring fewer than 2048 addresses (/21 or 8 x /24)\n   o  \"C2\", requiring\
    \ fewer than 4096 addresses (/20 or 16 x /24)\n   o  \"C3\", requiring fewer than\
    \ 1024 addresses (/22 or 4 x /24)\n   o  \"C4\", requiring fewer than 1024 addresses\
    \ (/22 or 4 x /24)\n   o  \"C5\", requiring fewer than 512 addresses (/23 or 2\
    \ x /24)\n   o  \"C6\", requiring fewer than 512 addresses (/23 or 2 x /24)\n\
    \   In all cases, the number of IPv4 addresses \"required\" by each site is\n\
    \   assumed to allow for significant growth.  The service provider\n   delegates\
    \ its address space as follows:\n   o  C1.  assign 10.24.0 through 10.24.7.  This\
    \ block of networks is\n      described by the route 10.24.0.0/21 (mask 255.255.248.0).\n\
    \   o  C2.  Assign 10.24.16 through 10.24.31.  This block is described by\n  \
    \    the route 10.24.16.0/20 (mask 255.255.240.0).\n   o  C3.  Assign 10.24.8\
    \ through 10.24.11.  This block is described by\n      the route 10.24.8.0/22\
    \ (mask 255.255.252.0).\n   o  C4.  Assign 10.24.12 through 10.24.15.  This block\
    \ is described by\n      the route 10.24.12.0/22 (mask 255.255.252.0).\n   o \
    \ C5.  Assign 10.24.32 and 10.24.33.  This block is described by the\n      route\
    \ 10.24.32.0/23 (mask 255.255.254.0).\n   o  C6.  Assign 10.24.34 and 10.24.35.\
    \  This block is described by the\n      route 10.24.34.0/23 (mask 255.255.254.0).\n\
    \   These six sites should be represented as six prefixes of varying size\n  \
    \ within the provider's IGP.  If, for some reason, the provider uses an\n   obsolete\
    \ IGP that doesn't support classless routing or variable-\n   length subnets,\
    \ then explicit routes for all /24s will have to be\n   carried.\n   To make this\
    \ example more realistic, assume that C4 and C5 are multi-\n   homed through some\
    \ other service provider, \"PB\".  Further assume the\n   existence of a site,\
    \ \"C7\", that was originally connected to \"RB\" but\n   that has moved to \"\
    PA\".  For this reason, it has a block of network\n   numbers that are assigned\
    \ out PB's block of (the next) 2048 x /24.\n   o  C7.  Assign 10.32.0 through\
    \ 10.32.15.  This block is described by\n      the route 10.32.0.0/20 (mask 255.255.240.0).\n\
    \   For the multi-homed sites, assume that C4 is advertised as primary\n   via\
    \ \"RA\" and secondary via \"RB\"; and that C5 is primary via \"RB\" and\n   secondary\
    \ via \"RA\".  In addition, assume that \"RA\" and \"RB\" are both\n   connected\
    \ to the same transit service provider, \"BB\".\n   Graphically, this topology\
    \ looks something like this:\n   10.24.0.0 -- 10.24.7.0__         __10.32.0.0\
    \ - 10.32.15.0\n   C1: 10.24.0.0/21        \\       /  C7: 10.32.0.0/20\n    \
    \                        \\     /\n                             +----+       \
    \                       +----+\n   10.24.16.0 - 10.24.31.0_  |    |          \
    \                    |    |\n   C2: 10.24.16.0/20       \\ |    |  _10.24.12.0\
    \ - 10.24.15.0__  |    |\n                            \\|    | / C4: 10.24.12.0/20\
    \        \\ |    |\n                             |    |/                     \
    \       \\|    |\n   10.24.8.0 - 10.24.11.0___/| PA |\\                      \
    \       | PB |\n   C3: 10.24.8.0/22          |    | \\__10.24.32.0 - 10.24.33.0___|\
    \    |\n                             |    |    C5: 10.24.32.0/23         |   \
    \ |\n                             |    |                              |    |\n\
    \   10.24.34.0 - 10.24.35.0__/|    |                              |    |\n   C6:\
    \ 10.24.34.0/23         |    |                              |    |\n         \
    \                    +----+                              +----+\n            \
    \                   ||                                  ||\n   routing advertisements:\
    \     ||                                  ||\n                               ||\
    \                                  ||\n           10.24.12.0/22 (C4)  ||     \
    \         10.24.12.0/22 (C4)  ||\n           10.32.0.0/20 (C7)   ||          \
    \    10.24.32.0/23 (C5)  ||\n           10.24.0.0/13 (PA)   ||              10.32.0.0/13\
    \ (PB)   ||\n                               ||                               \
    \   ||\n                               VV                                  VV\n\
    \                            +---------- BACKBONE NETWORK BB ----------+\n"
- title: 6.2.  Routing Advertisements
  contents:
  - "6.2.  Routing Advertisements\n   To follow rule #1, PA will need to advertise\
    \ the block of addresses\n   that it was given and C7.  Since C4 is multi-homed\
    \ and primary\n   through PA, it must also be advertised.  C5 is multi-homed and\n\
    \   primary through PB.  In principle (and in the example above), it need\n  \
    \ not be advertised, since longest match by PB will automatically\n   select PB\
    \ as primary and the advertisement of PA's aggregate will be\n   used as a secondary.\
    \  In actual practice, C5 will normally be\n   advertised via both providers.\n\
    \   Advertisements from \"PA\" to \"BB\" will be\n      10.24.12.0/22 primary\
    \    (advertises C4)\n      10.32.0.0/20 primary     (advertises C7)\n      10.24.0.0/13\
    \ primary     (advertises remainder of PA)\n   For PB, the advertisements must\
    \ also include C4 and C5, as well as\n   its block of addresses.\n   Advertisements\
    \ from \"PB\" to \"BB\" will be\n      10.24.12.0/22 secondary  (advertises C4)\n\
    \      10.24.32.0/23 primary    (advertises C5)\n      10.32.0.0/13 primary  \
    \   (advertises remainder of RB)\n   To illustrate the problem diagnosis issue\
    \ mentioned in Section 5.1,\n   consider what happens if PA loses connectivity\
    \ to C7 (the site that\n   is assigned out of PB's space).  In a stateful protocol,\
    \ PA will\n   announce to BB that 10.32.0.0/20 has become unreachable.  Now, when\n\
    \   BB flushes this information out of its routing table, any future\n   traffic\
    \ sent through it for this destination will be forwarded to PB\n   (where it will\
    \ be dropped according to Rule #2) by virtue of PB's\n   less-specific match,\
    \ 10.32.0.0/13.  Although this does not cause an\n   operational problem (C7 is\
    \ unreachable in any case), it does create\n   some extra traffic across \"BB\"\
    \ (and may also prove confusing to\n   someone trying to debug the outage with\
    \ \"traceroute\").  A mechanism\n   to cache such unreachable state might be nice,\
    \ but it is beyond the\n   scope of this document.\n"
- title: 7.  Domain Name Service Considerations
  contents:
  - "7.  Domain Name Service Considerations\n   One aspect of Internet services that\
    \ was notably affected by the move\n   to CIDR was the mechanism used for address-to-name\
    \ translation:  the\n   IN-ADDR.ARPA zone of the domain system.  Because this\
    \ zone is\n   delegated on octet boundaries only, the move to an address assignment\n\
    \   plan that uses bitmask-oriented addressing caused some increase in\n   work\
    \ for those who maintain parts of the IN-ADDR.ARPA zone.\n   A description of\
    \ techniques to populate the IN-ADDR.ARPA zone when\n   and used address that\
    \ blocks that do not align to octet boundaries is\n   described in [RFC2317].\n"
- title: 8.  Transition to a Long-Term Solution
  contents:
  - "8.  Transition to a Long-Term Solution\n   CIDR was designed to be a short-term\
    \ solution to the problems of\n   routing state and address depletion on the IPv4\
    \ Internet.  It does\n   not change the fundamental Internet routing or addressing\n\
    \   architectures.  It is not expected to affect any plans for transition\n  \
    \ to a more long-term solution except, perhaps, by delaying the urgency\n   of\
    \ developing such a solution.\n"
- title: 9.  Analysis of CIDR's Effect on Global Routing State
  contents:
  - "9.  Analysis of CIDR's Effect on Global Routing State\n   When CIDR was first\
    \ proposed in the early 1990s, the original authors\n   made some observations\
    \ about the growth rate of global routing state\n   and offered projections on\
    \ how CIDR deployment would, hopefully,\n   reduce what appeared to be exponential\
    \ growth to a more sustainable\n   rate.  Since that deployment, an ongoing effort,\
    \ called \"The CIDR\n   Report\" [CRPT], has attempted to quantify and track that\
    \ growth rate.\n   What follows is a brief summary of the CIDR report as of March\
    \ 2005,\n   with an attempt to explain the various patterns and changes of growth\n\
    \   rate that have occurred since measurements of the size of global\n   routing\
    \ state began in 1988.\n   When the graph of \"Active BGP Table Entries\" [CBGP]\
    \ is examined,\n   there appear to be several different growth trends with distinct\n\
    \   inflection points reflecting changes in policy and practice.  The\n   trends\
    \ and events that are believed to have caused them were as\n   follows:\n   1.\
    \  Exponential growth at the far left of the graph.  This represents\n       the\
    \ period of early expansion and commercialization of the former\n       research\
    \ network, from the late 1980s through approximately 1994.\n       The major driver\
    \ for this growth was a lack of aggregation\n       capability for transit providers,\
    \ and the widespread use of\n       legacy Class C allocations for end sites.\
    \  Each time a new site\n       was connected to the global Internet, one or more\
    \ new routing\n       entries were generated.\n   2.  Acceleration of the exponential\
    \ trend in late 1993 and early 1994\n       as CIDR \"supernet\" blocks were first\
    \ assigned by the NIC and\n       routed as separate legacy class-C networks by\
    \ service provider.\n   3.  A sharp drop in 1994 as BGP4 deployment by providers\
    \ allowed\n       aggregation of the \"supernet\" blocks.  Note that the periods\
    \ of\n       largest declines in the number of routing table entries typically\n\
    \       correspond to the weeks following each meeting of the IETF CIDR\n    \
    \   Deployment Working Group.\n   4.  Roughly linear growth from mid-1994 to early\
    \ 1999 as CIDR-based\n       address assignments were made and aggregated routes\
    \ added\n       throughout the network.\n   5.  A new period of exponential growth\
    \ again from early 1999 until\n       2001 as the \"high-tech bubble\" fueled\
    \ both rapid expansion of the\n       Internet, as well as a large increase in\
    \ more-specific route\n       advertisements for multi-homing and traffic engineering.\n\
    \   6.  Flattening of growth through 2001 caused by a combination of the\n   \
    \    \"dot-com bust\", which caused many organizations to cease\n       operations,\
    \ and the \"CIDR police\" [CPOL] work aimed at improving\n       aggregation efficiency.\n\
    \   7.  Roughly linear growth through 2002 and 2003.  This most likely\n     \
    \  represents a resumption of the \"normal\" growth rate observed\n       before\
    \ the \"bubble\", as well as an end to the \"CIDR Police\"\n       effort.\n \
    \  8.  A more recent trend of exponential growth beginning in 2004.  The\n   \
    \    best explanation would seem to be an improvement of the global\n       economy\
    \ driving increased expansion of the Internet and the\n       continued absence\
    \ of the \"CIDR Police\" effort, which previously\n       served as an educational\
    \ tool for new providers to improve\n       aggregation efficiency.  There have\
    \ also been some cases where\n       service providers have deliberately de-aggregated\
    \ prefixes in an\n       attempt to mitigate security problems caused by conflicting\
    \ route\n       advertisements (see Section 12).  Although this behavior may\n\
    \       solve the short-term problems seen by such providers, it is\n       fundamentally\
    \ non-scalable and quite detrimental to the community\n       as a whole.  In\
    \ addition, there appear to be many providers\n       advertising both their allocated\
    \ prefixes and all the /24\n       components thereof, probably due to a lack\
    \ of consistent current\n       information about recommended routing configuration.\n"
- title: 10.  Conclusions and Recommendations
  contents:
  - "10.  Conclusions and Recommendations\n   In 1992, when CIDR was first developed,\
    \ there were serious problems\n   facing the continued growth of the Internet.\
    \  Growth in routing state\n   complexity and the rapid increase in consumption\
    \ of address space\n   made it appear that one or both problems would preclude\
    \ continued\n   growth of the Internet within a few short years.\n   Deployment\
    \ of CIDR, in combination with BGP4's support for carrying\n   classless prefix\
    \ routes, alleviated the short-term crisis.  It was\n   only through a concerted\
    \ effort by both the equipment manufacturers\n   and the provider community that\
    \ this was achieved.  The threat (and,\n   perhaps in some cases, actual implementation\
    \ of) charging networks\n   for advertising prefixes may have offered an additional\
    \ incentive to\n   share the address space, and thus the associated costs of advertising\n\
    \   routes to service providers.\n   The IPv4 routing system architecture carries\
    \ topology information\n   based on aggregate address advertisements and a collection\
    \ of more-\n   specific advertisements that are associated with traffic engineering,\n\
    \   multi-homing, and local configuration.  As of March 2005, the base\n   aggregate\
    \ address load in the routing system has some 75,000 entries.\n   Approximately\
    \ 85,000 additional entries are more specific entries of\n   this base \"root\"\
    \ collection.  There is reason to believe that many of\n   these additional entries\
    \ exist to solve problems of regional or even\n   local scope and should not need\
    \ to be globally propagated.\n   An obvious question to ask is whether CIDR can\
    \ continue to be a\n   viable approach to keeping global routing state growth\
    \ and address\n   space depletion at sustainable rates.  Recent measurements indicate\n\
    \   that exponential growth has resumed, but further analysis suggests\n   that\
    \ this trend can be mitigated by a more active effort to educate\n   service providers\
    \ as to efficient aggregation strategies and proper\n   equipment configuration.\
    \  Looking farther forward, there is a clear\n   need for better multi-homing\
    \ technology that does not require global\n   routing state for each site and\
    \ for methods of performing traffic\n   load balancing that do not require adding\
    \ even more state.  Without\n   such developments and in the absence of major\
    \ architectural change,\n   aggregation is the only tool available for making\
    \ routing scale in\n   the global Internet.\n"
- title: 11.  Status Updates to CIDR Documents
  contents:
  - "11.  Status Updates to CIDR Documents\n   This memo renders obsolete and requests\
    \ re-classification as Historic\n   the following RFCs describing CIDR usage and\
    \ deployment:\n   o  RFC 1467: Status of CIDR Deployment in the Internet\n   \
    \   This Informational RFC described the status of CIDR deployment in\n      1993.\
    \  As of 2005, CIDR has been thoroughly deployed, so this\n      status note only\
    \ provides a historical data point.\n   o  RFC 1481: IAB Recommendation for an\
    \ Intermediate Strategy to\n      Address the Issue of Scaling\n      This very\
    \ short Informational RFC described the IAB's endorsement\n      of the use of\
    \ CIDR to address scaling issues.  Because the goal of\n      RFC 1481 has been\
    \ achieved, it is now only of historical value.\n   o  RFC 1482: Aggregation Support\
    \ in the NSFNET Policy-Based Routing\n      Database\n      This Informational\
    \ RFC describes plans for support of route\n      aggregation, as specified by\
    \ CIDR, on the NSFNET.  Because the\n      NSFNET has long since ceased to exist\
    \ and CIDR has been\n      ubiquitously deployed, RFC 1482 now only has historical\
    \ relevance.\n   o  RFC 1517: Applicability Statement for the Implementation of\n\
    \      Classless Inter-Domain Routing (CIDR)\n      This Standards Track RFC described\
    \ where CIDR was expected to be\n      required and where it was expected to be\
    \ (strongly) recommended.\n      With the full deployment of CIDR on the Internet,\
    \ situations where\n      CIDR is not required are of only historical interest.\n\
    \   o  RFC 1518: An Architecture for IP Address Allocation with CIDR\n      This\
    \ Standards Track RFC discussed routing and address aggregation\n      considerations\
    \ at some length.  Some of these issues are\n      summarized in this document\
    \ in section Section 3.1.  Because\n      address assignment policies and procedures\
    \ now reside mainly with\n      the RIRs, it is not appropriate to try to document\
    \ those practices\n      in a Standards Track RFC.  In addition, [RFC3221] also\
    \ describes\n      many of the same issues from point of view of the routing system.\n\
    \   o  RFC 1520: Exchanging Routing Information Across Provider\n      Boundaries\
    \ in the CIDR Environment\n      This Informational RFC described transition scenarios\
    \ where CIDR\n      was not fully supported for exchanging route information between\n\
    \      providers.  With the full deployment of CIDR on the Internet, such\n  \
    \    scenarios are no longer operationally relevant.\n   o  RFC 1817: CIDR and\
    \ Classful Routing\n      This Informational RFC described the implications of\
    \ CIDR\n      deployment in 1995; it notes that formerly-classful addresses were\n\
    \      to be allocated using CIDR mechanisms and describes the use of a\n    \
    \  default route for non-CIDR-aware sites.  With the full deployment\n      of\
    \ CIDR on the Internet, such scenarios are no longer\n      operationally relevant.\n\
    \   o  RFC 1878: Variable Length Subnet Table For IPv4\n      This Informational\
    \ RFC provided a table of pre-calculated subnet\n      masks and address counts\
    \ for each subnet size.  With the\n      incorporation of a similar table into\
    \ this document (see Section\n      3.1), it is no longer necessary to document\
    \ it in a separate RFC.\n   o  RFC 2036: Observations on the use of Components\
    \ of the Class A\n      Address Space within the Internet\n      This Informational\
    \ RFC described several operational issues\n      associated with the allocation\
    \ of classless prefixes from\n      previously-classful address space.  With the\
    \ full deployment of\n      CIDR on the Internet and more than half a dozen years\
    \ of\n      experience making classless prefix allocations out of historical\n\
    \      \"Class A\" address space, this RFC now has only historical value.\n"
- title: 12.  Security Considerations
  contents:
  - "12.  Security Considerations\n   The introduction of routing protocols that support\
    \ classless prefixes\n   and a move to a forwarding model that mandates that more-specific\n\
    \   (longest-match) routes be preferred when they overlap with routes to\n   less-specific\
    \ prefixes introduces at least two security concerns:\n   1.  Traffic can be hijacked\
    \ by advertising a prefix for a given\n       destination that is more specific\
    \ than the aggregate that is\n       normally advertised for that destination.\
    \  For example, assume\n       that a popular end system with the address 192.168.17.100\
    \ is\n       connected to a service provider that advertises 192.168.16.0/20.\n\
    \       A malicious network operator interested in intercepting traffic\n    \
    \   for this site might advertise, or at least attempt to advertise,\n       192.168.17.0/24\
    \ into the global routing system.  Because this\n       prefix is more specific\
    \ than the \"normal\" prefix, traffic will be\n       diverted away from the legitimate\
    \ end system and to the network\n       owned by the malicious operator.  Prior\
    \ to the advent of CIDR, it\n       was possible to induce traffic from some parts\
    \ of the network to\n       follow a false advertisement that exactly matched\
    \ a particular\n       network number; CIDR makes this problem somewhat worse,\
    \ since\n       longest-match routing generally causes all traffic to prefer\n\
    \       more-specific routes over less-specific routes.  The remedy for\n    \
    \   the CIDR-based attack, though, is the same as for a pre-CIDR-\n       based\
    \ attack: establishment of trust relationships between\n       providers, coupled\
    \ with and strong route policy filters at\n       provider borders.  Unfortunately,\
    \ the implementation of such\n       filters is difficult in the highly de-centralized\
    \ Internet.  As a\n       workaround, many providers do implement generic filters\
    \ that set\n       upper bounds, derived from RIR guidelines for the sizes of\
    \ blocks\n       that they allocate, on the lengths of prefixes that are accepted\n\
    \       from other providers.  Note that \"spammers\" have been observed\n   \
    \    using this sort of attack to hijack address space temporarily in\n      \
    \ order to hide the origin of the traffic (\"spam\" email messages)\n       that\
    \ they generate.\n   2.  Denial-of-service attacks can be launched against many\
    \ parts of\n       the Internet infrastructure by advertising a large number of\n\
    \       routes into the system.  Such an attack is intended to cause\n       router\
    \ failures by overflowing routing and forwarding tables.  A\n       good example\
    \ of a non-malicious incident that caused this sort of\n       failure was the\
    \ infamous \"AS 7007\" event [7007], where a router\n       mis-configuration\
    \ by an operator caused a huge number of invalid\n       routes to be propagated\
    \ through the global routing system.\n       Again, this sort of attack is not\
    \ really new with CIDR; using\n       legacy Class A/B/C routes, it was possible\
    \ to advertise a maximum\n       of 16843008 unique network numbers into the global\
    \ routing\n       system, a number that is sufficient to cause problems for even\n\
    \       the most modern routing equipment made in 2005.  What is\n       different\
    \ is that the moderate complexity of correctly\n       configuring routers in\
    \ the presence of CIDR tends to make\n       accidental \"attacks\" of this sort\
    \ more likely.  Measures to\n       prevent this sort of attack are much the same\
    \ as those described\n       above for the hijacking, with the addition that best\
    \ common\n       practice is also to configure a reasonable maximum number of\n\
    \       prefixes that a border router will accept from its neighbors.\n   Note\
    \ that this is not intended to be an exhaustive analysis of the\n   sorts of attacks\
    \ that CIDR makes easier; a more comprehensive\n   analysis of security vulnerabilities\
    \ in the global routing system is\n   beyond the scope of this document.\n"
- title: 13.  Acknowledgements
  contents:
  - "13.  Acknowledgements\n   The authors wish to express appreciation to the other\
    \ original\n   authors of RFC 1519 (Kannan Varadhan, Jessica Yu); to the ROAD\
    \ group,\n   with whom many of the ideas behind CIDR were inspired and developed;\n\
    \   and to the early reviewers of this re-spun version of the document\n   (Barry\
    \ Greene, Danny McPherson, Dave Meyer, Eliot Lear, Bill Norton,\n   Ted Seely,\
    \ Philip Smith, Pekka Savola), whose comments, corrections,\n   and suggestions\
    \ were invaluable.  We would especially like to thank\n   Geoff Huston for contributions\
    \ well above and beyond the call of\n   duty.\n"
- title: 14.  References
  contents:
  - '14.  References

    '
- title: 14.1.  Normative References
  contents:
  - "14.1.  Normative References\n   [RFC791]   Postel, J., \"Internet Protocol\"\
    , STD 5, RFC 791, September\n              1981.\n"
- title: 14.2.  Informative References
  contents:
  - "14.2.  Informative References\n   [7007]     \"NANOG mailing list discussion\
    \ of the \"AS 7007\" incident\",\n              <http://www.merit.edu/mail.archives/nanog/1997-04/\n\
    \              msg00340.html>.\n   [CBGP]     \"Graph: Active BGP Table Entries,\
    \ 1988 to Present\",\n              <http://bgp.potaroo.net/as4637/>.\n   [CPOL]\
    \     \"CIDR Police - Please Pull Over and Show Us Your BGP\",\n             \
    \ <http://www.nanog.org/mtg-0302/cidr.html>.\n   [CRPT]     \"The CIDR Report\"\
    , <http://www.cidr-report.org/>.\n   [IANA]     \"Internet Assigned Numbers Authority\"\
    ,\n              <http://www.iana.org>.\n   [LWRD]     \"The Long and Winding\
    \ Road\",\n              <http://rms46.vlsm.org/1/42.html>.\n   [NRO]      \"\
    Number Resource Organization\", <http://www.nro.net>.\n   [RFC904]   Mills, D.,\
    \ \"Exterior Gateway Protocol formal\n              specification\", RFC 904,\
    \ April 1 1984.\n   [RFC1058]  Hedrick, C., \"Routing Information Protocol\",\
    \ RFC 1058,\n              June 1988.\n   [RFC1195]  Callon, R., \"Use of OSI\
    \ IS-IS for routing in TCP/IP and\n              dual environments\", RFC 1195,\
    \ December 1990.\n   [RFC1338]  Fuller, V., Li, T., Yu, J., and K. Varadhan,\n\
    \              \"Supernetting: an Address Assignment and Aggregation\n       \
    \       Strategy\", RFC 1338, June 1992.\n   [RFC1380]  Gross, P. and P. Almquist,\
    \ \"IESG Deliberations on Routing\n              and Addressing\", RFC 1380, November\
    \ 1992.\n   [RFC1518]  Rekhter, Y. and T. Li, \"An Architecture for IP Address\n\
    \              Allocation with CIDR\", RFC 1518, September 1993.\n   [RFC1519]\
    \  Fuller, V., Li, T., Yu, J., and K. Varadhan, \"Classless\n              Inter-Domain\
    \ Routing (CIDR): an Address Assignment and\n              Aggregation Strategy\"\
    , RFC 1519, September 1993.\n   [RFC2131]  Droms, R., \"Dynamic Host Configuration\
    \ Protocol\", RFC\n              2131, March 1997.\n   [RFC2328]  Moy, J., \"\
    OSPF Version 2\", STD 54, RFC 2328, April 1998.\n   [RFC2317]  Eidnes, H., de\
    \ Groot, G., and P. Vixie, \"Classless IN-\n              ADDR.ARPA delegation\"\
    , BCP 20, RFC 2317, March 1998.\n   [RFC2453]  Malkin, G., \"RIP Version 2\",\
    \ STD 56, RFC 2453, November\n              1998.\n   [RFC3021]  Retana, A., White,\
    \ R., Fuller, V., and D. McPherson,\n              \"Using 31-Bit Prefixes on\
    \ IPv4 Point-to-Point Links\", RFC\n              3021, December 2000.\n   [RFC3221]\
    \  Huston, G., \"Commentary on Inter-Domain Routing in the\n              Internet\"\
    , RFC 3221, December 2001.\n   [RFC4116]  Abley, J., Lindqvist, K., Davies, E.,\
    \ Black, B., and V.\n              Gill, \"IPv4 Multihoming Practices and Limitations\"\
    , RFC\n              4116, July 2005.\n   [RFC4271]  Rekhter, Y., Li, T., and\
    \ S. Hares, \"A Border Gateway\n              Protocol 4 (BGP-4)\", RFC 4271,\
    \ January 2006.\n   [RIPE]     \"RIPE Network Coordination Centre\", <http://www.ripe.net>.\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Vince Fuller\n   170 W. Tasman Drive\n   San Jose, CA\
    \  95134\n   USA\n   EMail: vaf@cisco.com\n   Tony Li\n   555 Del Rey Avenue\n\
    \   Sunnyvale, CA 94085\n   Email: tli@tropos.com\n"
- title: Full Copyright Statement
  contents:
  - "Full Copyright Statement\n   Copyright (C) The Internet Society (2006).\n   This\
    \ document is subject to the rights, licenses and restrictions\n   contained in\
    \ BCP 78, and except as set forth therein, the authors\n   retain all their rights.\n\
    \   This document and the information contained herein are provided on an\n  \
    \ \"AS IS\" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS\n  \
    \ OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET\n   ENGINEERING\
    \ TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED,\n   INCLUDING BUT NOT\
    \ LIMITED TO ANY WARRANTY THAT THE USE OF THE\n   INFORMATION HEREIN WILL NOT\
    \ INFRINGE ANY RIGHTS OR ANY IMPLIED\n   WARRANTIES OF MERCHANTABILITY OR FITNESS\
    \ FOR A PARTICULAR PURPOSE.\n"
- title: Intellectual Property
  contents:
  - "Intellectual Property\n   The IETF takes no position regarding the validity or\
    \ scope of any\n   Intellectual Property Rights or other rights that might be\
    \ claimed to\n   pertain to the implementation or use of the technology described\
    \ in\n   this document or the extent to which any license under such rights\n\
    \   might or might not be available; nor does it represent that it has\n   made\
    \ any independent effort to identify any such rights.  Information\n   on the\
    \ procedures with respect to rights in RFC documents can be\n   found in BCP 78\
    \ and BCP 79.\n   Copies of IPR disclosures made to the IETF Secretariat and any\n\
    \   assurances of licenses to be made available, or the result of an\n   attempt\
    \ made to obtain a general license or permission for the use of\n   such proprietary\
    \ rights by implementers or users of this\n   specification can be obtained from\
    \ the IETF on-line IPR repository at\n   http://www.ietf.org/ipr.\n   The IETF\
    \ invites any interested party to bring to its attention any\n   copyrights, patents\
    \ or patent applications, or other proprietary\n   rights that may cover technology\
    \ that may be required to implement\n   this standard.  Please address the information\
    \ to the IETF at\n   ietf-ipr@ietf.org.\n"
- title: Acknowledgement
  contents:
  - "Acknowledgement\n   Funding for the RFC Editor function is provided by the IETF\n\
    \   Administrative Support Activity (IASA).\n"
