- title: __initial_text__
  contents:
  - '    Link-Layer Event Notifications for Detecting Network Attachments

    '
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This memo provides information for the Internet community.\
    \  It does\n   not specify an Internet standard of any kind.  Distribution of\
    \ this\n   memo is unlimited.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (C) The IETF Trust (2007).\n"
- title: Abstract
  contents:
  - "Abstract\n   Certain network access technologies are capable of providing various\n\
    \   types of link-layer status information to IP.  Link-layer event\n   notifications\
    \ can help IP expeditiously detect configuration changes.\n   This document provides\
    \ a non-exhaustive catalogue of information\n   available from well-known access\
    \ technologies.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1.  Introduction . . . . . . . . . . . . . . . . . . .\
    \ . . . . . .  3\n   2.  Terminology  . . . . . . . . . . . . . . . . . . . .\
    \ . . . . .  4\n   3.  Link-Layer Event Notifications . . . . . . . . . . . .\
    \ . . . .  5\n     3.1.  GPRS/3GPP  . . . . . . . . . . . . . . . . . . . . .\
    \ . . .  6\n     3.2.  cdma2000/3GPP2 . . . . . . . . . . . . . . . . . . . .\
    \ . .  7\n     3.3.  IEEE 802.11/WiFi . . . . . . . . . . . . . . . . . . . .\
    \ .  8\n     3.4.  IEEE 802.3 CSMA/CD . . . . . . . . . . . . . . . . . . . .\
    \  9\n       3.4.1.  Link Integrity Tests in 802.3 Networks . . . . . . . . 10\n\
    \       3.4.2.  IEEE 802.1D Bridging and Its Effects on Link-layer\n         \
    \      Event Notifications  . . . . . . . . . . . . . . . . . 11\n       3.4.3.\
    \  802.1AB Link-Layer Discovery Protocol  . . . . . . . . 12\n       3.4.4.  Other\
    \ Heuristics . . . . . . . . . . . . . . . . . . . 13\n       3.4.5.  Summary\
    \  . . . . . . . . . . . . . . . . . . . . . . . 13\n   4.  Security Considerations\
    \  . . . . . . . . . . . . . . . . . . . 13\n   5.  Contributors . . . . . . .\
    \ . . . . . . . . . . . . . . . . . . 14\n   6.  Acknowledgements . . . . . .\
    \ . . . . . . . . . . . . . . . . . 14\n   7.  References . . . . . . . . . .\
    \ . . . . . . . . . . . . . . . . 14\n     7.1.  Normative References . . . .\
    \ . . . . . . . . . . . . . . . 14\n     7.2.  Informative References . . . .\
    \ . . . . . . . . . . . . . . 16\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   It is not an uncommon occurrence for a node to change its\
    \ point of\n   attachment to the network.  This can happen due to mobile usage\n\
    \   (e.g., a mobile phone moving among base stations) or nomadic usage\n   (e.g.,\
    \ road-warrior case).\n   A node changing its point of attachment to the network\
    \ may end up\n   changing its IP subnet and therefore require reconfiguration\
    \ of IP-\n   layer parameters, such as IP address, default gateway information,\n\
    \   and DNS server address.  Detecting the subnet change can usually use\n   network-layer\
    \ indications (such as a change in the advertised\n   prefixes for IPv6).  But\
    \ such indications may not be always available\n   (e.g., Detecting Network Attachment\
    \ in IPv6 (DNAv6)) to the node upon\n   changing its point of attachment.\n  \
    \ Link-layer event notifications can help IP expeditiously detect\n   configuration\
    \ changes.  This document provides a non-exhaustive\n   catalog of information\
    \ available from some access technologies, and\n   discusses the interpretation\
    \ of this information at the IP layer.\n   This document is not intended to specify\
    \ or change the behavior of\n   these access technologies in any manner.\n   Additional\
    \ information can be conveyed along with the event, such as\n   the identifier\
    \ of the network attachment point (e.g., IEEE 802.11\n   Basic Service Set Identification\
    \ (BSSID) and Service Set Identifier\n   (SSID)), or network-layer configuration\
    \ parameters obtained via the\n   link-layer attachment process if available.\
    \  It is envisaged that\n   such event notifications can in certain circumstances\
    \ be used to\n   expedite the inter-subnet movement detection and reconfiguration\n\
    \   process.  For example, the notification indicating that the node has\n   established\
    \ a new link-layer connection may be used for immediately\n   probing the network\
    \ for a possible configuration change.  In the\n   absence of such a notification\
    \ from the link layer, IP has to wait\n   for indications that are not immediately\
    \ available, such as receipt\n   of the next scheduled router advertisement, unreachability\
    \ of the\n   default gateway, etc.\n   It should be noted that a link-layer event\
    \ notification does not\n   always translate into a subnet change.  Even if the\
    \ node has torn\n   down a link-layer connection with one attachment point and\n\
    \   established a new connection with another, it may still be attached\n   to\
    \ the same IP subnet.  For example, several IEEE 802.11 access\n   points can\
    \ be attached to the same IP subnet.  Moving among these\n   access points does\
    \ not warrant any IP-layer configuration change.\n   In order to enable an enhanced\
    \ scheme for detecting change of subnet,\n   we need to define link-layer event\
    \ notifications that can be\n   realistically expected from various access technologies.\
    \  The\n   objective of this document is to provide a catalogue of link-layer\n\
    \   events and notifications in various architectures.  While this\n   document\
    \ mentions the utility of this information for detecting\n   change of subnet\
    \ (or, detecting network attachment - DNA), the\n   detailed usage is left to\
    \ other documents, namely, DNA solution\n   specifications.\n   The document limits\
    \ itself to the minimum set of information that is\n   necessary for solving the\
    \ DNA problem [RFC4135].  A broader set of\n   information (e.g., signal strength,\
    \ packet loss, etc.) and events\n   (e.g. link down) may be used for other problem\
    \ spaces, such as\n   anticipation-based Mobile IP fast handovers [RFC4881], [RFC4068],\n\
    \   etc.\n   These event notifications are considered with hosts in mind, although\n\
    \   they may also be available on the network side (e.g., on the access\n   points\
    \ and routers).  An API or protocol-based standard interface may\n   be defined\
    \ between the link layer and IP for conveying this\n   information.  That activity\
    \ is beyond the scope of this document.\n"
- title: 2.  Terminology
  contents:
  - "2.  Terminology\n   Link: is a communication facility or medium over which network\
    \ nodes\n   can communicate.  Each link is associated with a minimum of two\n\
    \   endpoints.  An \"attachment point\" is the link endpoint on the link to\n\
    \   which the node is currently connected, such as an access point, a\n   base\
    \ station, or a wired switch.\n   Link up: is an event provided by the link layer\
    \ that signifies a\n   state change associated with the interface becoming capable\
    \ of\n   communicating data packets.  This event is associated with a link-\n\
    \   layer connection between the node and an attachment point.\n   BSSID: Basic\
    \ Service Set Identification\n   DNA: Detecting Network Attachment\n   GPRS: General\
    \ Packet Radio Service\n   PDP: Packet Data Protocol\n   SSID: Service Set Identifier\n"
- title: 3.  Link-Layer Event Notifications
  contents:
  - "3.  Link-Layer Event Notifications\n   Link-layer event notifications are considered\
    \ to be one of the inputs\n   to the DNA process.  A DNA process is likely to\
    \ take other inputs\n   (e.g., presence of advertised prefixes, reachability of\
    \ default\n   gateways) before determining whether IP-layer configuration must\
    \ be\n   updated.  It is expected that the DNA process can take advantage of\n\
    \   link-layer notifications when they are made available to IP.  While\n   by\
    \ itself a link-layer notification may not constitute all the input\n   DNA needs,\
    \ it can at least be useful for prompting the DNA process to\n   collect further\
    \ information (i.e., other inputs to the process).  For\n   example, the node\
    \ may send a router solicitation as soon as it learns\n   that a new link-layer\
    \ connection is established.\n   The link-layer event that is considered most\
    \ useful to DNA process is\n   the link up event.  The associated notifications\
    \ can be provided to\n   the IP-layer after the event concludes successfully.\
    \  The link up\n   events and notifications are associated with a network interface\
    \ on\n   the node.  The IP module may receive simultaneous independent\n   notifications\
    \ from each one of the network interfaces on the node.\n   The actual event is\
    \ managed by the link layer of the node through\n   execution of link-layer protocols\
    \ and mechanisms.  Once the event\n   successfully completes within the link layer,\
    \ its notification is\n   delivered to the IP-layer.  By the time the notification\
    \ is\n   delivered, the link layer of the node must be ready to accept IP\n  \
    \ packets from the IP and the physical layers.  Each time an interface\n   changes\
    \ its point of attachment, a link up event should be generated.\n   There is a\
    \ non-deterministic usage of the link up notification to\n   accommodate implementations\
    \ that desire to indicate the link is up,\n   but the data transmission may be\
    \ blocked in the network (see IEEE\n   802.3 discussion).  A link up notification\
    \ may be generated with an\n   appropriate attribute, conveying its non-deterministic\
    \ nature, to\n   convey the event.  Alternatively, the link-layer implementation\
    \ may\n   choose to delay the link up notification until the risk conditions\n\
    \   cease to exist.\n   If a non-deterministic link up was generated, another\
    \ link up must\n   follow as soon as the link layer is capable of generating a\n\
    \   deterministic notification.  The event attributes may indicate\n   whether\
    \ the packets transmitted since the previous notification were\n   presumed to\
    \ be blocked or allowed by the network, if the link layer\n   could determine\
    \ the exact conditions.\n   The deterministic link up event following a non-deterministic\
    \ link up\n   event can be treated differently by consumers of the link up event.\n\
    \   For example, the second link up event need not trigger a confirmation\n  \
    \ process, if the first one already did.\n   A node may have to change its IP-layer\
    \ configuration even when the\n   link-layer connection stays the same.  An example\
    \ scenario is the\n   IPv6 subnet renumbering [RFC2461].  Therefore, there exist\
    \ cases\n   where IP-layer configuration may have to change even without the IP\n\
    \   layer receiving a link up notification.  Therefore, a link-layer\n   notification\
    \ is not a mandatory indication of a subnet change.\n   A link up notification\
    \ may optionally deliver information relating to\n   the attachment point.  Such\
    \ auxiliary information may include the\n   identity of the attachment point (e.g.,\
    \ base station identifier), or\n   the IP-layer configuration parameters associated\
    \ with the attached\n   subnet (e.g., subnet prefix, default gateway address,\
    \ etc.).  While\n   merely knowing that a new link-layer connection is established\
    \ may\n   prompt the DNA process to immediately seek other clues for detecting\n\
    \   a network configuration change, auxiliary information may constitute\n   further\
    \ clues (and even the final answers sometimes).  In cases where\n   there is a\
    \ one-to-one mapping between the attachment point\n   identifiers and the IP-layer\
    \ configurations, learning the former can\n   reveal the latter.  Furthermore,\
    \ IP-layer configuration parameters\n   obtained during the link-layer connection\
    \ may be exactly what the DNA\n   process is trying to discover.\n   The link-layer\
    \ process leading to a link up event depend on the link\n   technology.  While\
    \ a link-layer notification must always indicate\n   that the link up event occurred,\
    \ the availability and types of\n   auxiliary information on the attachment point\
    \ depends on the link-\n   layer technology as well.  The following subsections\
    \ examine four\n   link-layer technologies and describe when a link-layer notification\n\
    \   is generated and what information is included in it.\n"
- title: 3.1.  GPRS/3GPP
  contents:
  - "3.1.  GPRS/3GPP\n   GSM Packet Radio System (GPRS) provides packet-switched data\n\
    \   transmission over a cellular network [GPRS][GPRS-LINK].\n   The GPRS architecture\
    \ consists of a Radio Access Network and a packet\n   domain Core Network.\n \
    \  -  The GPRS Radio Access Network is composed of Mobile Terminals\n      (MTs),\
    \ a Base Station Subsystem and Serving GPRS Support Nodes\n      (SGSNs).\n  \
    \ -  An IP Core Network that acts as the transport backbone of user\n      datagrams\
    \ between SGSNs and Gateway GPRS Support Nodes (GGSNs).\n      The GGSN ensures\
    \ the GPRS IP core network connectivity with\n      external networks, such as\
    \ the Internet or Local Area Networks.\n      The GGSN acts as the default IP\
    \ gateway for the MT.\n   A GPRS MT that wants to establish IP connectivity establishes\
    \ first a\n   connection to the GPRS network and one or more PDP Context\n   associations\
    \ between the MT and the GGSN.  It is only after the PDP\n   Context has been\
    \ established and after address autoconfiguration and\n   tunneling mechanism\
    \ have taken place that the MT's IP packets can be\n   forwarded to and from its\
    \ remote IP peers.  The aim of PDP Context\n   establishment is also to provide\
    \ IP-level configuration on top of the\n   GPRS link-layer attachment.\n   Successful\
    \ establishment of a PDP Context on a GPRS link signifies\n   the availability\
    \ of IP service to the MT.  Therefore, this link-layer\n   event generates a link\
    \ up event notification sent to the IP layer.\n   An MT may establish a secondary\
    \ PDP Context while reusing the IP\n   configuration acquired from a previously\
    \ established and active PDP\n   Context.  Such a secondary PDP Context does not\
    \ provide additional\n   information to the IP layer and only allows another quality-of-\n\
    \   service (QoS) profile to be used.  The activation of such a secondary\n  \
    \ PDP context does not usually generate a link up event since it does\n   not\
    \ require new IP parameters.  However, other additional PDP Context\n   activations\
    \ are to be treated as indicated earlier.\n   With IPv4, the auxiliary information\
    \ carried along with this\n   notification is the IPv4 address of the MT that\
    \ is obtained as part\n   of the PDP Context.  With IPv6, the PDP Context activation\
    \ response\n   does not come along with a usable IPv6 address.  Effectively, the\n\
    \   IPv6 address received from the GGSN in the PDP address field of the\n   message\
    \ does not contain a valid prefix.  The MN actually only uses\n   the interface\
    \ identifier extracted from that field to form a link-\n   local address that\
    \ it uses afterwards to obtain a valid prefix (e.g.,\n   by stateless [RFC2462][GPRS-CN]\
    \ or stateful [RFC3315] [GPRS-GSSA]\n   address configuration).  Therefore, no\
    \ IPv6-related auxiliary\n   information is provided to the IP layer.\n"
- title: 3.2.  cdma2000/3GPP2
  contents:
  - "3.2.  cdma2000/3GPP2\n   cdma2000-based 3GPP2 packet data services provide mobile\
    \ users wide\n   area high-speed access to packet switched networks [CDMA2K].\
    \  Some of\n   the major components of the 3GPP2 packet network architecture consist\n\
    \   of:\n   -  Mobile Station (MS), which allows mobile access to packet-switched\n\
    \      networks over a wireless connection.\n   -  Radio Access Network, which\
    \ consists of the Base Station\n      Transceivers, Base Station Controllers,\
    \ and the Packet Control\n      Function.\n   -  Network Access Server known as\
    \ the Packet Data Switching Node\n      (PDSN).  The PDSN also serves as default\
    \ IP gateway for the IP MS.\n   3GPP2 networks use the Point-to-Point Protocol\
    \ (PPP [RFC1661]) as the\n   link-layer protocol between the MS and the PDSN.\
    \  Before any IP\n   packets may be sent or received, PPP must reach the Network-Layer\n\
    \   Protocol phase, and the IP Control Protocol (IPCP [RFC1332], IPV6CP\n   [RFC2472])\
    \ must reach the Opened state.  When these states are\n   reached in PPP, a link\
    \ up event notification is delivered to the IP\n   layer.\n   When the PPP is\
    \ used for 3GPP2 Simple (i.e., non-Mobile) IPv4\n   Service, IPCP enables configuration\
    \ of an IPv4 address on the MS.\n   This IPv4 address is provided as the auxiliary\
    \ information along with\n   the link up notification.  IPV6CP used for Simple\
    \ IPv6 service does\n   not provide an IPv6 address, but the interface identifiers\
    \ for local\n   and remote endpoints of the PPP link.  Since there is no standards-\n\
    \   mandated correlation between the interface identifier and other IP-\n   layer\
    \ configuration parameters, this information is deemed not useful\n   for DNA\
    \ (nevertheless, it may be provided as auxiliary information\n   for other uses).\n"
- title: 3.3.  IEEE 802.11/WiFi
  contents:
  - "3.3.  IEEE 802.11/WiFi\n   IEEE 802.11-based WiFi networks are the wireless extension\
    \ of the\n   Local Area Networks.  Currently available standards are IEEE 802.11b\n\
    \   [IEEE-802.11b], IEEE 802.11g [IEEE-802.11g], and IEEE 802.11a\n   [IEEE-802.11a].\
    \  The specifications define both the MAC layer and the\n   physical layer.  The\
    \ MAC layer is the same for all these\n   technologies.\n   Two operating modes\
    \ are available in the IEEE 802.11 series, either\n   infrastructure mode or ad-hoc\
    \ mode.  In infrastructure mode, all\n   link-layer frames are transmitted to\
    \ an access point (AP) that then\n   forwards them to the final receiver.  A station\
    \ (STA) establishes an\n   IEEE 802.11 association with an AP in order to send\
    \ and receive IP\n   packets.  In a WiFi network that uses Robust Secure Network\
    \ (RSN\n   [IEEE-802.11i]), successful completion of the 4-way handshake between\n\
    \   the STA and AP commences the availability of IP service.  The link up\n  \
    \ event notification is generated upon this event.  In non-RSN-based\n   networks,\
    \ successful association or re-association events on the link\n   layer causes\
    \ a link up notification sent to the IP layer.\n   As part of the link establishment,\
    \ the STA learns the BSSID and SSID\n   associated with the AP.  The BSSID is\
    \ a unique identifier of the AP,\n   usually set to the MAC address of the wireless\
    \ interface of the AP.\n   The SSID carries the identifier of the Extended Service\
    \ Set (ESS) --\n   the set composed of APs and associated STAs that share a common\n\
    \   distribution system.  The BSSID and SSID may be provided as auxiliary\n  \
    \ information along with the link up notification.  Unfortunately, this\n   information\
    \ does not provide a deterministic indication of whether\n   the IP-layer configuration\
    \ must be changed upon movement.  There is\n   no standards-mandated one-to-one\
    \ relation between the BSSID/SSID\n   pairs and IP subnets.  An AP with a given\
    \ BSSID can connect a STA to\n   any one of multiple IP subnets.  Similarly, an\
    \ ESS with the given\n   SSID may span multiple IP subnets.  And finally, the\
    \ SSIDs are not\n   globally unique.  The same SSID may be used by multiple independent\n\
    \   ESSs.  Nevertheless, BSSID/SSID information may be used in a\n   probabilistic\
    \ way by the DNA process; hence, it is provided with the\n   link up event notification.\n\
    \   In ad-hoc mode, mobile stations (STA) in range may directly\n   communicate\
    \ with each other, i.e., without any infrastructure or\n   intermediate hop. \
    \ The set of communicating STAs is called IBSS for\n   Independent Basic Service\
    \ Set.  In an IBSS, only STA services are\n   available, i.e., authentication,\
    \ deauthentication, privacy, and MAC\n   Service Data Unit (MSDU) delivery.  STAs\
    \ do not associate with each\n   other, and therefore may exchange data frames\
    \ in state 2\n   (authenticated and not associated) or even in state 1\n   (unauthenticated\
    \ and unassociated) if the Distribution System is not\n   used (i.e., \"To DS\"\
    \ and \"From DS\" bits are clear).  If authentication\n   is performed, a link\
    \ up indication can be generated upon\n   authentication.  Concerning the link\
    \ layer identification, both the\n   BSSID (which is a random MAC address chosen\
    \ by a STA of the IBSS) and\n   SSID may be used to identify a link, but not to\
    \ make any assumptions\n   on the IP network configuration.\n"
- title: 3.4.  IEEE 802.3 CSMA/CD
  contents:
  - "3.4.  IEEE 802.3 CSMA/CD\n   IEEE 802.3 CSMA/CD (commonly referred to as Ethernet)\
    \ is the most\n   commonly deployed Local Area Network technology in use today.\
    \  As\n   deployed today, it is specified by a physical layer/medium access\n\
    \   control (MAC) layer specification [IEEE-802.3].  In order to provide\n   connection\
    \ of different LANs together into a larger network, 802.3\n   LANs are often bridged\
    \ together [IEEE-802.1D].\n   In this section, the terms 802.3 and Ethernet are\
    \ used\n   interchangeably.  This section describes some issues in providing\n\
    \   link-layer indications on Ethernet networks, and shows how bridging\n   affects\
    \ these indications.\n   In Ethernet networks, hosts are connected by wires or\
    \ by optic fibre\n   to a switch (bridge), a bus (e.g., coaxial cable), a repeater\
    \ (hub),\n   or directly to another Ethernet device.  Interfaces are symmetric,\
    \ in\n   that while many different physical layers may be present, medium\n  \
    \ access control is uniform for all devices.\n   In order to determine whether\
    \ the physical medium is ready for frame\n   transfer, IEEE 802.3 Ethernet specifies\
    \ its own link monitoring\n   mechanism, which is defined for some, but not all,\
    \ classes of media.\n   Where available, this Link Integrity Test operation is\
    \ used to\n   identify when packets are able to be received on an Ethernet segment.\n\
    \   It is applicable to both wired and optical physical layers, although\n   details\
    \ vary between technologies (link pulses in twisted pair\n   copper, light levels\
    \ in fibre).\n"
- title: 3.4.1.  Link Integrity Tests in 802.3 Networks
  contents:
  - "3.4.1.  Link Integrity Tests in 802.3 Networks\n   Link Integrity Tests in 802.3\
    \ networks typically occur at initial\n   physical connection time (for example,\
    \ at the auto-negotiation stage)\n   and periodically afterwards.  They make use\
    \ of physical-layer\n   specific operations to determine if a medium is able to\
    \ support link-\n   layer frames [IEEE-802.3].\n   The status of the link as determined\
    \ by the Link Integrity Test is\n   stored in the variable 'link_status'.  Changes\
    \ to the value of\n   link_status (for example due to Link Integrity Test failure)\
    \ will\n   generate link indications if the technology-dependent interface is\n\
    \   implemented on an Ethernet device [IEEE-802.3].\n   The link_status has possible\
    \ values of FAIL, READY, and OK.  In FAIL\n   state, Link Integrity Tests have\
    \ failed.  In READY state, the link\n   segment has passed integrity tests, but\
    \ auto-negotiation has not\n   completed.  In OK state, the medium is able to\
    \ send and receive\n   packets.\n   Upon transition to a particular state, the\
    \ Physical Medium Attachment\n   subsystems generates a PMA_LINK.indicate(link_status).\
    \  Indications\n   of OK state may be used to generate a link up event notification.\n\
    \   These indications do not definitively ensure that packets will be\n   able\
    \ to be received through the bridge domain, though (see the next\n   section).\
    \  Such operations are governed by bridging.\n"
- title: 3.4.2.  IEEE 802.1D Bridging and Its Effects on Link-layer Event
  contents:
  - "3.4.2.  IEEE 802.1D Bridging and Its Effects on Link-layer Event\n        Notifications\n\
    \   Ethernet networks commonly consist of LANs joined together by\n   transparent\
    \ bridges (usually implemented as switches).  Transparent\n   bridges require\
    \ the active topology to be loop free.  This is\n   achieved through the Spanning\
    \ Tree Protocol (STP) or the Rapid\n   Spanning Tree Protocol (RSTP).  These protocols\
    \ exchange Bridge\n   Protocol Data Units (BPDUs), as defined in [IEEE-802.1D];\
    \ this leads\n   to the blocking of ports (i.e., not forwarding), where required.\n\
    \   By default, the spanning tree protocol does not know whether a\n   particular\
    \ newly connected piece of Ethernet will cause a loop.\n   Therefore, it will\
    \ block all traffic from and to newly connected\n   ports with the exception of\
    \ some unbridged management frames.  The\n   STP will determine if the port can\
    \ be connected to the network in a\n   loop-free manner.\n   For these technologies,\
    \ even though the link layer appears available,\n   no data packet forwarding\
    \ will occur until it is determined that the\n   port can be connected to the\
    \ network in a loop-free environment.\n   For hosts that are providing indications\
    \ to upper-layer protocols,\n   even if the host itself does not implement bridging\
    \ or STP, packet\n   delivery across the network can be affected by the presence\
    \ of\n   bridges.\n   A host connected to a bridge port does not receive any explicit\n\
    \   indication that the bridge has started forwarding packets.\n   Therefore,\
    \ a host may not know when STP operations have completed, or\n   when it is safe\
    \ to inform upper layers to transmit packets.\n   Where it is not known that forwarding\
    \ operations are available, a\n   host should assume that RSTP or STP is being\
    \ performed.  Hosts may\n   listen to STP/RSTP and 802.1AB messages to gain further\
    \ information\n   about the timing of full connectivity on the link, for example,\
    \ to\n   override an existing indication.\n   Notably, though, it is not easy\
    \ for a host to distinguish between\n   disabled bridge ports and non-bridge ports\
    \ with no active\n   transmitters on them, as Disabled ports will have no traffic\
    \ on them,\n   and incur 100% sender loss.\n   If no bridge configuration messages\
    \ are received within the\n   Bridge_Max_Age interval (default 20s) then it is\
    \ likely that there is\n   no visible bridge whose port is enabled for bridging\
    \ (S8.4.5 of\n   [IEEE-802.1D]), since at least two BPDU hello messages would\
    \ have\n   been lost.  Upon this timeout, a link up notification is generated,\n\
    \   if one has not been already.\n   If a BPDU is received, and the adjacent bridge\
    \ is running the\n   original Spanning Tree Protocol, then a host cannot successfully\
    \ send\n   packets until at least twice the ForwardDelay value in the received\n\
    \   BPDU has elapsed.  After this time, a link up notification is\n   generated.\
    \  If the previous link up notification was non-\n   deterministic, then this\
    \ notification includes an attribute\n   signifying that the packets sent within\
    \ the prior interval were lost.\n   If the bridge is identified as performing\
    \ Rapid Spanning Tree\n   Protocol (RSTP), it instead waits Bridge_Max_Age after\
    \ packet\n   reception (advertised in the BPDU's Max Age field), before\n   forwarding.\
    \  For ports which are known to be point-to-point through\n   auto-negotiation,\
    \ this delay is abbreviated to 3 seconds after auto-\n   negotiation completes\
    \ [IEEE-802.1D].\n"
- title: 3.4.3.  802.1AB Link-Layer Discovery Protocol
  contents:
  - "3.4.3.  802.1AB Link-Layer Discovery Protocol\n   The recently defined 802.1AB\
    \ Link-Layer Discovery Protocol (LLDP)\n   provides information to devices that\
    \ are directly adjacent to them on\n   the local LAN [IEEE-802.1ab].\n   LLDP\
    \ sends information periodically and at link status change time to\n   indicate\
    \ the configuration parameters of the device.  Devices may\n   send or receive\
    \ these messages, or do both.\n   The LLDP message may contain a System Capabilities\
    \ TLV, which\n   describes the MAC- and IP-layer functions that a device is currently\n\
    \   using.  Where a host receives the System Capabilities TLV indicating\n   that\
    \ no Bridging is occurring on the LLDP transmitter, no delays for\n   STP calculation\
    \ will be applied to packets sent through this\n   transmitter.  This would allow\
    \ the generation of a link up\n   notification.\n   Additionally, if a host receives\
    \ a System Capabilities TLV indicating\n   that the LLDP transmitter is a bridge,\
    \ the host's advertisement that\n   it is an (end-host) Station-Only may tell\
    \ the bridge not to run STP\n   and may immediately allow forwarding.\n   Proprietary\
    \ extensions may also indicate that data forwarding is\n   already available on\
    \ such a port.  Discussion of such optimizations\n   is out of scope for this\
    \ document.\n   Because the protocol is new and not widely deployed, it is unclear\n\
    \   how this protocol will eventually affect DNA in IPv4 or IPv6\n   networks.\n"
- title: 3.4.4.  Other Heuristics
  contents:
  - "3.4.4.  Other Heuristics\n   In 802.3 networks, Network Interface Cards (NICs)\
    \ are often capable\n   of returning a speed and duplex indication to the host.\
    \  Changes in\n   these characteristics may indicate a connection to a new layer\
    \ 2\n   network.\n"
- title: 3.4.5.  Summary
  contents:
  - "3.4.5.  Summary\n   Link-layer indications in Ethernet-like networks are complicated\
    \ by\n   additional unadvertised delays due to spanning tree calculations.\n \
    \  This may cause re-indication or retraction of indications previously\n   sent\
    \ to upper layer protocols.\n"
- title: 4.  Security Considerations
  contents:
  - "4.  Security Considerations\n   Attackers may spoof various indications at the\
    \ link layer, or\n   manipulate the physical medium directly in an effort to confuse\
    \ the\n   host about the state of the link layer.  For instance, attackers may\n\
    \   spoof error messages or disturb the wireless medium to cause the host\n  \
    \ to move its connection elsewhere or even to disconnect.  Attackers\n   may also\
    \ spoof information to make the host believe it has a\n   connection when, in\
    \ reality, it does not.  In addition, wireless\n   networks such as 802.11 are\
    \ susceptible to an attack called the \"Evil\n   Twin\" attack where an attacker\
    \ sets up an Access Point with the same\n   SSID as a legitimate one and gets\
    \ the use to connect to the fake\n   access point instead of the real one.  These\
    \ attacks may cause use of\n   non-preferred networks or even denial of service.\n\
    \   This specification does not provide any protection of its own for the\n  \
    \ indications from the lower layers.  But the vulnerabilities can be\n   mitigated\
    \ through the use of techniques in other parts of the\n   protocol stack.  In\
    \ particular, it is recommended that\n   authentication, replay, and integrity\
    \ protection of link-layer\n   management messages are enabled when available.\
    \  For example, the\n   IEEE 802.1ae standard [IEEE-802.1ae] defines such mechanisms\
    \ for IEEE\n   802-compliant MAC layers.  Additionally, the protocol stack may\
    \ also\n   use some network-layer mechanisms to achieve partial protection.  For\n\
    \   instance, SEND [RFC3971] could be used to confirm secure reachability\n  \
    \ with a router.  However, network layer mechanisms are unable to deal\n   with\
    \ all problems, such as insecure lower-layer notifications that\n   lead to the\
    \ link not functioning properly.\n"
- title: 5.  Contributors
  contents:
  - "5.  Contributors\n   In addition to the people listed in the author list, text\
    \ for the\n   specific link-layer technologies covered by this document was\n\
    \   contributed by Thomas Noel (IEEE 802.11b) and Greg Daley (IEEE\n   802.3).\
    \  The authors would like to thank them for their efforts in\n   bringing this\
    \ document to fruition.\n"
- title: 6.  Acknowledgements
  contents:
  - "6.  Acknowledgements\n   The authors would like to acknowledge Bernard Aboba,\
    \ Sanjeev Athalye,\n   JinHyeock Choi, John Loughney, Pekka Nikander, Brett Pentland,\
    \ Tom\n   Petch, Dan Romascanu, Pekka Savola, Steve Bellovin, Thomas Narten,\n\
    \   Matt Mathis, Alfred Hoenes, and Muhammad Mukarram bin Tariq for their\n  \
    \ useful comments and suggestions.\n"
- title: 7.  References
  contents:
  - '7.  References

    '
- title: 7.1.  Normative References
  contents:
  - "7.1.  Normative References\n   [CDMA2K]        \"cdma2000 Wireless IP Network\
    \ Standard\",  ,\n                   December 2000.\n   [GPRS]          \"Digital\
    \ cellular telecommunications system (Phase\n                   2+); General Packet\
    \ Radio Service (GPRS) Service\n                   description; Stage 2\", 3GPP\
    \ TS 03.60 version 7.9.0\n                   Release 98.\n   [GPRS-LINK]     \"\
    Digital cellular telecommunications system (Phase\n                   2+); Radio\
    \ subsystem link control\", 3GPP GSM 03.05\n                   version 7.0.0 Release\
    \ 98.\n   [IEEE-802.11a]  Institute of Electrical and Electronics Engineers,\n\
    \                   \"IEEE Std 802.11a-1999, supplement to IEEE Std\n        \
    \           802.11-1999, Part 11: Wireless MAN Medium Access\n               \
    \    Control (MAC) and Physical Layer (PHY)\n                   specifications:\
    \ High-speed Physical Layer in the 5\n                   GHZ band\", IEEE Standard\
    \ 802.11a, September 1999.\n   [IEEE-802.11b]  Institute of Electrical and Electronics\
    \ Engineers,\n                   \"IEEE Std 802 Part 11, Information technology\
    \ -\n                   Telecomunications and information exchange between\n \
    \                  systems - Local and metropolitan area networks -\n        \
    \           Specific requirements - Part 11: Wireless Lan Medium\n           \
    \        Access Control (MAC) And Physical Layer (PHY)\n                   Specifications\"\
    , IEEE Standard 802.11b, August 1999.\n   [IEEE-802.11g]  Institute of Electrical\
    \ and Electronics Engineers,\n                   \"IEEE Std 802.11g-2003, Amendment\
    \ to IEEE Std 802.11,\n                   1999 edition, Part 11: Wireless MAN\
    \ Medium Access\n                   Control (MAC) and Physical Layer (PHY)\n \
    \                  specifications.  Amendment 4: Further Higher Data\n       \
    \            Rate Extension in the 2.4 GHz Band\", IEEE Standard\n           \
    \        802.11g, June 2003.\n   [IEEE-802.11i]  Institute of Electrical and Electronics\
    \ Engineers,\n                   \"Supplement to STANDARD FOR Telecommunications\
    \ and\n                   Information Exchange between Systems - LAN/MAN\n   \
    \                Specific Requirements - Part 11: Wireless Medium\n          \
    \         Access Control (MAC) and physical layer (PHY)\n                   specifications:\
    \ Specification for Enhanced Security\",\n                   IEEE 802.11i, December\
    \ 2004.\n   [IEEE-802.1D]   Institute of Electrical and Electronics Engineers,\n\
    \                   \"IEEE standard for local and metropolitan area\n        \
    \           networks - common  specifications - Media access\n               \
    \    control (MAC) Bridges\", ISO/IEC IEEE Std 802.1D,\n                   2004.\n\
    \   [IEEE-802.1ab]  Institute of Electrical and Electronics Engineers,\n     \
    \              \"Draft Standard for Local and Metropolitan Networks:\n       \
    \            Station and Media Access Control Connectivity\n                 \
    \  Discovery (Draft 13)\", IEEE draft Std 802.1AB, 2004.\n   [IEEE-802.1ae]  Institute\
    \ of Electrical and Electronics Engineers,\n                   \"IEEE Std 802.1AE,\
    \ Local and Metropolitan Area\n                   Networks - Media Access Control\
    \ (MAC) Security\",\n                   IEEE Standard 802.1ae, June 2006.\n  \
    \ [IEEE-802.3]    Institute of Electrical and Electronics Engineers,\n       \
    \            \"IEEE standard for local and metropolitan area\n               \
    \    networks -  Specific Requirements, Part 3: Carrier\n                   Sense\
    \ Multiple Access with Collision Detection\n                   (CSMA/CD) Access\
    \ Method and Physical Layer\n                   Specifications\", ISO/IEC IEEE\
    \ Std 802.3, 2002.\n   [RFC1332]       McGregor, G., \"The PPP Internet Protocol\
    \ Control\n                   Protocol (IPCP)\", RFC 1332, May 1992.\n   [RFC1661]\
    \       Simpson, W., \"The Point-to-Point Protocol (PPP)\",\n                \
    \   STD 51, RFC 1661, July 1994.\n   [RFC2462]       Thomson, S. and T. Narten,\
    \ \"IPv6 Stateless Address\n                   Autoconfiguration\", RFC 2462,\
    \ December 1998.\n   [RFC2472]       Haskin, D. and E. Allen, \"IP Version 6 over\
    \ PPP\",\n                   RFC 2472, December 1998.\n   [RFC3315]       Droms,\
    \ R., Bound, J., Volz, B., Lemon, T., Perkins,\n                   C., and M.\
    \ Carney, \"Dynamic Host Configuration\n                   Protocol for IPv6 (DHCPv6)\"\
    , RFC 3315, July 2003.\n   [RFC3971]       Arkko, J., Kempf, J., Zill, B., and\
    \ P. Nikander,\n                   \"SEcure Neighbor Discovery (SEND)\", RFC 3971,\n\
    \                   March 2005.\n   [RFC4135]       Choi, JH. and G. Daley, \"\
    Goals of Detecting Network\n                   Attachment in IPv6\", RFC 4135,\
    \ August 2005.\n"
- title: 7.2.  Informative References
  contents:
  - "7.2.  Informative References\n   [GPRS-CN]       \"Technical Specification Group\
    \ Core Network;\n                   Internetworking between the Public Land Mobile\n\
    \                   Network (PLMN) supporting packet based services and\n    \
    \               Packet Data Networks (PDN) (Release 6)\", 3GPP TS\n          \
    \         29.061 version 6.1.0 2004-06.\n   [GPRS-GSSA]     \"Technical Specification\
    \ Group Services and System\n                   Aspect; General Packet Radio Service\
    \ (GPRS) Service\n                   description; Stage 2 (Release 6)\", 3GPP\
    \ TS 23.060\n                   version 6.5.0 2004-06.\n   [RFC2461]       Narten,\
    \ T., Nordmark, E., and W. Simpson, \"Neighbor\n                   Discovery for\
    \ IP Version 6 (IPv6)\", RFC 2461,\n                   December 1998.\n   [RFC4068]\
    \       Koodli, R., \"Fast Handovers for Mobile IPv6\",\n                   RFC\
    \ 4068, July 2005.\n   [RFC4881]       El Malki, K., \"Low-Latency Handoffs in\
    \ Mobile IPv4\",\n                   RFC 4881, June 2007.\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Suresh Krishnan (editor)\n   Ericsson Research\n   8400\
    \ Decarie Blvd.\n   Town of Mount Royal, QC\n   Canada\n   EMail: suresh.krishnan@ericsson.com\n\
    \   Nicolas Montavont\n   GET ENST Bretagne\n   2, rue de la chataigneraie\n \
    \  Cesson-Sevigne  35576\n   France\n   Phone: (33) 2 99 12 70 23\n   EMail: nicolas.montavont@enst-bretagne.fr\n\
    \   Eric Njedjou\n   France Telecom\n   4, Rue du Clos Courtel BP 91226\n   Cesson\
    \ Sevigne  35512\n   France\n   Phone: +33 299124878\n   EMail: eric.njedjou@orange-ftgroup.com\n\
    \   Siva Veerepalli\n   Qualcomm\n   5775 Morehouse Drive\n   San Diego, CA  92131\n\
    \   USA\n   Phone: +1 858 658 4628\n   EMail: sivav@qualcomm.com\n   Alper E.\
    \ Yegin (editor)\n   Samsung\n   Istanbul\n   Turkey\n   Phone: +90 533 348 2402\n\
    \   EMail: a.yegin@partner.samsung.com\n"
- title: Full Copyright Statement
  contents:
  - "Full Copyright Statement\n   Copyright (C) The IETF Trust (2007).\n   This document\
    \ is subject to the rights, licenses and restrictions\n   contained in BCP 78,\
    \ and except as set forth therein, the authors\n   retain all their rights.\n\
    \   This document and the information contained herein are provided on an\n  \
    \ \"AS IS\" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS\n  \
    \ OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST AND\n   THE\
    \ INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS\n   OR IMPLIED,\
    \ INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF\n   THE INFORMATION\
    \ HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED\n   WARRANTIES OF MERCHANTABILITY\
    \ OR FITNESS FOR A PARTICULAR PURPOSE.\n"
- title: Intellectual Property
  contents:
  - "Intellectual Property\n   The IETF takes no position regarding the validity or\
    \ scope of any\n   Intellectual Property Rights or other rights that might be\
    \ claimed to\n   pertain to the implementation or use of the technology described\
    \ in\n   this document or the extent to which any license under such rights\n\
    \   might or might not be available; nor does it represent that it has\n   made\
    \ any independent effort to identify any such rights.  Information\n   on the\
    \ procedures with respect to rights in RFC documents can be\n   found in BCP 78\
    \ and BCP 79.\n   Copies of IPR disclosures made to the IETF Secretariat and any\n\
    \   assurances of licenses to be made available, or the result of an\n   attempt\
    \ made to obtain a general license or permission for the use of\n   such proprietary\
    \ rights by implementers or users of this\n   specification can be obtained from\
    \ the IETF on-line IPR repository at\n   http://www.ietf.org/ipr.\n   The IETF\
    \ invites any interested party to bring to its attention any\n   copyrights, patents\
    \ or patent applications, or other proprietary\n   rights that may cover technology\
    \ that may be required to implement\n   this standard.  Please address the information\
    \ to the IETF at\n   ietf-ipr@ietf.org.\n"
- title: Acknowledgement
  contents:
  - "Acknowledgement\n   Funding for the RFC Editor function is currently provided\
    \ by the\n   Internet Society.\n"
