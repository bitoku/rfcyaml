- title: __initial_text__
  contents:
  - "              Routing Coordination for X.400 MHS Services\n          Within a\
    \ Multi Protocol / Multi Network Environment\n                   Table Format\
    \ V3 for Static Routing\n"
- title: Status of this Memo
  contents:
  - "Status of this Memo\n   This memo defines an Experimental Protocol for the Internet\n\
    \   community.  Discussion and suggestions for improvement are requested.\n  \
    \ Please refer to the current edition of the \"IAB Official Protocol\n   Standards\"\
    \ for the standardization state and status of this protocol.\n   Distribution\
    \ of this memo is unlimited.\n"
- title: 1. Introduction
  contents:
  - "1. Introduction\n   The usage of the X.400 Message Handling System (MHS) is growing\n\
    \   rapidly, especially in the commercial world but much interest can\n   also\
    \ be found in the academic and research community.  New networks\n   and new addresses\
    \ come into use each and every day.  The underlying\n   technology for different\
    \ X.400 networks can vary depending on the\n   transport network and the X.400\
    \ MHS implementations used.  As a large\n   number of X.400 implementations now\
    \ support multiple stacks, this\n   offers the chance of implementing a world\
    \ wide message handling\n   service using the same electronic mail standard and,\
    \ therefore,\n   without the need of gateways with service reduction and without\
    \ the\n   restriction to a single common transport network.  This, however,\n\
    \   leads to several problems for the MHS manager, two of which are:\n   - Where\
    \ do I route new X.400 addresses and\n   - How do I connect to a MHS domain that\
    \ uses an underlying\n     technology that I do not support.\n   This document\
    \ proposes short term solutions to these problems.  It\n   proposes a strategy\
    \ for maintaining and distributing routing\n   information and shows how messages\
    \ can travel over different networks\n   by using multi stack MTAs as relays.\
    \  Document formats and\n   coordination procedures bridge the gap until an X.500\
    \ directory\n   service is ready to store the needed connectivity and routing\n\
    \   information.  The format has been designed to allow the information\n   to\
    \ be stored in an X.500 directory service while managers without\n   directory\
    \ service access may still use a table based approach.\n   The routing structure\
    \ proposed can be applied to a global MHS service\n   but may also be used at\
    \ a national level or even within an\n   organisation.\n   Many experts from IETF\
    \ X.400-Operations Group and RARE Working Group\n   1 on Message Handling Systems\
    \ have read drafts of this document and\n   contributed ideas and solutions. \
    \ I would especially like to thank\n   Harald Alvestrand, Erik Huizer, Marko Kaittola,\
    \ Allan Cargille and\n   Paul-Andre Pays.\n   This is the third version of a table\
    \ format.  The first one was in\n   use within COSINE-MHS for about two years.\
    \  A second version with\n   major enhancements was then proposed which has been\
    \ in use for the\n   past year.  The third version will probably be the last one\
    \ before it\n   will be possible to switch to dynamic, directory service based\n\
    \   routing.\n"
- title: 2. Terminology
  contents:
  - "2. Terminology\n   MHS community\n      One or more MHS domains form an MHS community.\
    \  Mail exchange\n      between these MHS domains is defined by the coordination\n\
    \      procedures within this document.  Examples of such communities are\n  \
    \    the Global Open MHS service GO-MHS and the COSINE-MHS service.\n   MHS domain\n\
    \      One or more MHS subtrees form an MHS domain.  This is a purely\n      administrative\
    \ grouping of MHS subtrees.  It is helpful, if\n      someone is responsible for\
    \ several MHS subtrees, to refer to an\n      MHS domain instead of listing all\
    \ the subtrees.\n   MHS subtree\n      An MHS subtree consists of the total of\
    \ the mailboxes addressable\n      within a subtree of the X.400 OR address space.\n\
    \        Example:  O=SWITCH; P=SWITCH; A=ARCOM; C=CH;\n        MHS domain of SWITCH\
    \ in Switzerland, consisting of all\n        mailboxes with O=SWITCH; P=SWITCH;\
    \ A=ARCOM; C=CH; in the OR\n        address.\n   RELAY-MTA\n      An X.400 MTA\
    \ serving one or several MHS domains.  Note that the\n      term WEP -Well Known\
    \ Entry Point- has been used since the early\n      X.400ies (1987/88) until now,\
    \ giving the wrong impression of a\n      single entry point (and therefore a\
    \ single point of failure).\n      This document proposes to use the term RELAY-MTA,\
    \ reflecting more\n      clearly the functionality of the MTA.\n   COSINE-MHS\n\
    \      The COSINE-MHS community is mainly formed by European X.400\n      service\
    \ providers from the academic and research area, each of\n      which is a member\
    \ of RARE.  The COSINE-MHS community is used in\n      the annex as an example\
    \ for the usage of this document in a\n      multinational environment.\n"
- title: 3. Requirements
  contents:
  - "3. Requirements\n   X.400 MTAs can communicate using different transport and\
    \ network\n   protocol stacks.  For this document the stacks used in a WAN\n \
    \  environment need to be considered:\n                           Stack 1    Stack\
    \ 2    Stack 3    Stack 4\n      Transport Layer 4    TP0        TP4        RFC1006\
    \    TP0\n      Networkservice 1-3   X.25       CLNS       TCP/IP     CONS\n \
    \  A common protocol stack is not the only requirement to enable\n   communication\
    \ between two MTAs.  The networks to which the MTAs\n   belong need to be interconnected.\
    \  Some well known networks are\n   listed together with the stacks they use.\n\
    \      Network                                Stack   Abbreviation\n      Public\
    \ Switched Packet Data Networks     1     Public-X.25\n      International X.25\
    \ Infrastructure EMPB   1,4   EMPB-X.25\n      US and European connectionless\
    \ pilot     2     Int-CLNS\n      Internet                                 2,3\
    \   Internet\n   Note that several stacks may be supported over a single network.\n\
    \   However communication between MTAs is only possible if the MTAs share\n  \
    \ at least a common stack AND a common network.\n   Unlike SMTP/TCP/IP systems,\
    \ there is no directory service available\n   which would allow an MTA to look\
    \ up the next MTA to which it should\n   submit a message.  Routing within X.400\
    \ will continue to be table\n   based until a solution using X.500 directory services\
    \ is available.\n   Furthermore it is not generally allowed to connect to any\
    \ MTA even on\n   the same network without being registered on the destination\
    \ MTA.\n   These restrictions require a large coordination effort and carefully\n\
    \   configured and updated systems.\n"
- title: 4. Outline of the proposal
  contents:
  - "4. Outline of the proposal\n   This proposal offers a solution for describing\
    \ information about\n   X.400 message routing within an MHS community in RELAY-MTA\
    \ and DOMAIN\n   documents.  Basic information on the MHS community is documented\
    \ in\n   the corresponding COMMUNITY document.  All contact persons and\n   RELAY-MTA\
    \ administrators can be found in PERSON documents.  A future\n   X.500 based solution\
    \ may need extended information to overcome still\n   unsolved problems like optimal\
    \ routing or traffic optimization for\n   messages with multiple recipients. \
    \ The information collected for the\n   intermediate solution however is very\
    \ basic.  All established\n   coordination procedures will help and even speed\
    \ up the future\n   introduction of an X.500 based solution.\n"
- title: 4.1 The COMMUNITY document
  contents:
  - "4.1 The COMMUNITY document\n   For each MHS community there exists one single\
    \ COMMUNITY document\n   containing basic information.  First the contact information\
    \ for the\n   central coordination point can be found together with the addresses\n\
    \   for the file server where all the documents are stored.  It also\n   lists\
    \ network names and stacks to be used in the RELAY-MTA and DOMAIN\n   documents.\
    \  An MHS community must agree on its own set of mandatory\n   and optional networks\
    \ and stacks.\n"
- title: 4.2 The RELAY-MTA document
  contents:
  - "4.2 The RELAY-MTA document\n   Every MHS domain in the community may designate\
    \ one or more MTAs as\n   RELAY-MTAs.  These RELAY-MTAs accept incoming connections\
    \ from the\n   RELAY-MTAs of the other MHS domains and in return are allowed to\
    \ send\n   messages to these RELAY-MTAs.  A RELAY-MTA is documented with all the\n\
    \   necessary connection information in the corresponding RELAY-MTA\n   document.\n"
- title: 4.3 The DOMAIN document
  contents:
  - "4.3 The DOMAIN document\n   An MHS domain has a responsible person who sets up\
    \ the routing\n   entries for the domain in the DOMAIN document.  The primary\
    \ RELAY-\n   MTAs listed in the DOMAIN document as serving this MHS domain must,\n\
    \   TOGETHER, offer at least connectivity to all networks and stacks\n   listed\
    \ as mandatory in the COMMUNITY document.  Optional RELAY-MTAs\n   may be added,\
    \ generally with higher priority, to allow more precise\n   routing.\n   An MHS\
    \ domain may also decide not to operate a RELAY-MTA.  It will\n   then only need\
    \ agreements with one or more RELAY-MTAs from other MHS\n   services which will\
    \ relay for this domain.  The domain itself,\n   however, must either create its\
    \ own DOMAIN document or document its\n   MHS subtrees jointly with another MHS\
    \ domain.\n   The structure of the DOMAIN document is very straightforward.  It\n\
    \   starts off with one or more MHS subtrees, each on its own line.\n   After\
    \ the domains follows a line indicating the responsible person\n   for the MHS\
    \ subtrees mentioned.  Finally the responsible RELAY-MTA(s)\n   are listed with\
    \ appropriate priorities.\n"
- title: 4.4 The PERSON document
  contents:
  - "4.4 The PERSON document\n   All administrators and responsible persons are documented\
    \ in PERSON\n   documents.  The RELAY-MTA and DOMAIN documents contain just keys\n\
    \   pointing to a PERSON document.  If such a person can already be found\n  \
    \ in an X.500 directory service, then the key consists of a\n   Distinguished\
    \ Name, else the key is just its OR address.\n"
- title: 4.5 Coordination
  contents:
  - "4.5 Coordination\n   This approach requires an identified coordination point.\
    \  It is up to\n   the MHS community to decide on the level of coordination and\
    \ support\n   to be provided and on the funding mechanisms for such activities.\n\
    \   Basic information can be found in the COMMUNITY document.  The\n   following\
    \ list of support activities is considered mandatory for an\n   operational service:\n\
    \    - New RELAY-MTAs joining the service are tested and support is\n      given\
    \ to create the RELAY-MTA document.\n    - New MHS domains joining the MHS community\
    \ get assistance to set\n      up RELAY-MTA(s) and/or find appropriate RELAY-MTA(s)\
    \ and to\n      create DOMAIN documents.\n    - Updated documents are announced\
    \ to the RELAY-MTA managers and\n      responsible persons for the DOMAIN documents\
    \ unless automatic\n      distribution is used.\n    - All the RELAY-MTA, DOMAIN\
    \ and PERSON documents are made\n      available on a file server together with\
    \ the COMMUNITY document.\n      The file server must at least be reachable via\
    \ email.  MHS\n      communities with a big number of documents may consider\n\
    \      additional access methods like ftp and FTAM.\n    - Tools should be made\
    \ available to manage routing tables for the\n      X.400 software used on the\
    \ RELAY-MTAs or to fill in and check\n      the documents.  The format of the\
    \ documents has specifically\n      been chosen to enable the use of automated\
    \ tools.\n   The RELAY-MTA managers must be aware that a large number of RELAY-\n\
    \   MTAs in an MHS community may require significant operational\n   resources\
    \ to keep the local routing tables up-to-date and to\n   constantly monitor the\
    \ correct functioning of the connections.  On\n   the other hand more than one\
    \ RELAY-MTA with a good connectivity to an\n   MHS domain improves the overall\
    \ robustness of the domain and thus the\n   QOS.\n   MHS communities may decide\
    \ on additional mandatory requirements for\n   the operation of a RELAY-MTA. \
    \ These may include a hot line, echo\n   services, exchange of statistics, response\
    \ time to problem reports,\n   uptime of the RELAY-MTA, etc.  This will ensure\
    \ a certain quality of\n   service for the end users.\n"
- title: 4.6 Routing
  contents:
  - "4.6 Routing\n   The proposal addresses MHS communities spanning several\n   organisations.\
    \  But it may also be used to manage routing within a\n   single organisation\
    \ or even a global MHS community.\n   Two kinds of mail relays are defined, the\
    \ primary RELAY-MTAs and the\n   secondary RELAY-MTAs.  A primary or secondary\
    \ RELAY-MTA must allow\n   incoming connections from all other primary and secondary\
    \ RELAY-MTAs\n   with a common stack.  Primary RELAY-MTAs must be able to connect\
    \ to\n   all other primary RELAY-MTAs which share a common stack.  A secondary\n\
    \   RELAY-MTA must connect to at least one primary RELAY-MTA.\n   Each MHS community\
    \ must define update procedures for the routing\n   based on the documentation.\
    \  Automated update has to be studied\n   carefully.\n   An MHS community should\
    \ also define procedures for new RELAY-MTAs and\n   MHS domains joining the service.\
    \  Since the usage of X.400 is growing\n   rapidly a flexible but well coordinated\
    \ way of integrating new\n   members into an MHS community is needed.  The proposed\
    \ documentation\n   format supports this by allowing primary and secondary RELAY-MTAs.\n\
    \   All RELAY-MTAs accept incoming connections from each other.  Sending\n   messages\
    \ can be done by using the primary RELAY-MTAs only.  This\n   allows new RELAY-MTAs\
    \ to join the community as secondary and to get\n   primary status when traffic\
    \ flow increases.  Secondary RELAY-MTAs may\n   also require a longer testing\
    \ period.\n"
- title: 5. The documents
  contents:
  - "5. The documents\n   The definition is given in BNF-like syntax.  The following\n\
    \   conventions are used:\n    |    means choice\n    \\    is used for continuation\
    \ of a definition over several lines\n    []   means optional\n    {}   means\
    \ repeated one or more times\n    ()   is used to group choices\n    \\\"   is\
    \ used for double quotes in a text string\n    <CR> is a Carriage Return and means\
    \ that the next section starts\n         on its own line.\n   The definition is\
    \ complete only to a certain level of detail.  Below\n   this level, all expressions\
    \ are to be replaced with text strings.\n   Expressions without more detailed\
    \ definition are marked with single\n   quotes '.  The format and semantics should\
    \ be clear from the names of\n   the expressions and the comments given.\n   Wherever\
    \ the BNF definition requires a single blank, multiple blanks\n   may be used\
    \ to increase the readability.  Please note that for some\n   field values the\
    \ number of spaces is significant.\n   Lines exceeding 80 characters should be\
    \ wrapped at any convenient\n   blank except at blanks which are significant.\
    \  The line is continued\n   with at least one leading blank.\n   Comments may\
    \ be placed anywhere in the document but only on separate\n   lines and without\
    \ splitting wrapped lines.  Such a comment line must\n   either start with a '#'\
    \ sign followed by white space and the comment\n   or consist of a single '#'\
    \ on a single line.\n   The documents must follow the case of the strings defined\
    \ in BNF.\n   Note that some values, especially connection parameters like TSEL\
    \ or\n   MTA password are case dependant too.\n   The BNF definitions are ordered\
    \ top-down.  See Appendix B for an\n   alphabetically sorted list.\n   A set of\
    \ one COMMUNITY document and several RELAY-MTA, DOMAIN and\n   PERSON documents\
    \ belong together.  The detailed definitions can be\n   found in the following\
    \ chapters.\n      <X.400 routing coordination document set> ::= \\\n        \
    \                    <COMMUNITY-document> \\\n                            { <RELAY-MTA-document>\
    \ } \\\n                            { <DOMAIN-document> } \\\n               \
    \             { <PERSON-document> }\n"
- title: 5.1 Common Definitions
  contents:
  - "5.1 Common Definitions\n      <DirectoryName> ::= 'Distinguished Name'\n    \
    \            The string representation of a Distinguished Name is\n          \
    \      defined in the RFCxxxx.  If a Distinguished Name is\n                used\
    \ as a key in the documents, then the information\n                can be fetched\
    \ from the directory instead of checking\n                the appropriate document.\
    \  But as long as not all\n                managers in the same community have\
    \ directory access,\n                the same information must also be present\
    \ in a\n                document.  Note that Distinguished Names in the context\n\
    \                of the routing documents are just used as key strings\n     \
    \           to point to other documents.\n      <Community-Identifier> ::= \"\
    Community: \" \\\n                            ('community name' | <DirectoryName>)\
    \ <CR>\n                The 'community name' is a string identifying the MHS\n\
    \                community to be used in the first line of all\n             \
    \   documents.\n      <UniqueRELAY-MTAkey> ::= (([ \"P=\" 'PRMDname' \"; \" ]\
    \ \\\n                            [\"A=\" 'ADMDname' \"; \" ] \\\n           \
    \                 \"C=\" <Country-Code> \"; \" \\\n                          \
    \  \"MTAname=\" 'MTAname')\n                            | <DirectoryName> )\n\
    \                A unique key is needed to identify the RELAY-MTA.  In\n     \
    \           addition to the MTA name itself, it is proposed to use\n         \
    \       OR address attributes of the management domain where\n               \
    \ the RELAY-MTA resides.  ADMD and PRMD fields are both\n                optional\
    \ and may be used to guarantee uniqueness of the\n                key.  The values\
    \ used are irrelevant.  Even non-\n                printable characters like @\
    \ or ! are acceptable.  The\n                result is not an address but a key\
    \ string.  A\n                Distinguished Name may be used instead.\n      <UniquePersonKey>\
    \ ::= (<X.400 address> | <DirectoryName> )\n                A unique key is necessary\
    \ to make the links from the\n                documents where a responsible person\
    \ or an\n                administrator is needed, to the PERSON documents.  It\n\
    \                is either the OR address of the person or a\n               \
    \ Distinguished Name (if the person is already registered\n                in\
    \ the directory).\n      <Country-Code> ::= 'Two Character Country Code ISO-3166'\n\
    \      <X.400 address> ::= 'OR address, ISO 10021-2 Annex F'\n               \
    \ It has been used consequently all over the document.\n                This explains\
    \ also the syntax of the\n                <UniqueRELAY-MTAkey> and the <MHS-subtree>.\
    \ Examples:\n                S=user; O=org ltd.; OU1=sect1; P=org; A=rel400; C=aq;\n\
    \                DDA:RFC-822=we(a)sell.it; P=internet; A= ; C=xx;\n          \
    \      G=john; I=w; S=doe; P=org; A=rel400; C=aq;\n      <EMail> ::= \"Address:\
    \ \" <X.400 address> <CR>\n      <tel-no-list> ::= <tel-number> [{\"; \" <tel-number>}]\n\
    \      <tel-number> ::=  {\"+\" <int-pref> \" \" <national number> \\\n      \
    \                      [\" x\" <extension>]}\n                This syntax follows\
    \ the attribute syntax of the X.500\n                directory based on CCITT\
    \ E.123.\n      <int-pref> ::= 'international prefix'\n      <national number>\
    \ ::= 'national telephone number'\n                A national number may be written\
    \ with spaces and\n                hyphens to group the figures.\n      <extension>\
    \ ::= 'local extension'\n      <Phone> ::= \"Phone: \" <tel-no-list> <CR>\n  \
    \              One or more phone numbers\n      <Fax> ::= \"Fax: \" <tel-no-list>\
    \ <CR>\n                One or more FAX numbers\n      <Mail> ::= \"Mail: \" 'postal\
    \ address information' <CR>\n                The items of the postal address are\
    \ separated by ' /'\n                wherever the next item goes onto the next\
    \ line for a\n                printed address label.  If the document is for an\n\
    \                international community, the address should include the\n   \
    \             person's country.\n                Example:\n                Mail:\
    \ SWITCH Head Office / Urs Eppenberger /\n                      Limmatquai 138\
    \ / CH-8001 Zurich / Switzerland\n                results in the following mailing\
    \ label:\n                SWITCH Head Office\n                Urs Eppenberger\n\
    \                Limmatquai 138\n                CH-8001 Zurich\n            \
    \    Switzerland\n      <Update-info> ::= \"Update: FORMAT=V3; DATE=\" 'yymmdd'\
    \ \\\n                            \"; START=\" 'yymmdd' \\\n                 \
    \           [\"; END=\" 'yymmdd'] <CR>\n                The <Update-info> contains\
    \ also the format identifier.\n                The date of the last update of\
    \ a document is given in\n                the form 'yymmdd'.\n               \
    \ A start date must be set.  A document can be published\n                this\
    \ way before the information in it is valid.  (This\n                is especially\
    \ useful in absence of automated tools.\n                RELAY-MTA managers get\
    \ more time to prepare their\n                systems.)\n                An end\
    \ date is used to set an expiration date for the\n                document.\n\
    \      <P-address> ::= 'String encoded Presentation Address'\n               \
    \ The format of this string follows RFC1278, A string\n                encoding\
    \ of Presentation Address and RFC1277, Encoding\n                Network Addresses\
    \ to support operation over non-OSI\n                layers.  See chapter 5.2\
    \ about the usage of macros in a\n                Presentation Address.\n    \
    \  <Service-type> ::= <Network-name> \"/\" \\\n                            <Network-service>\
    \ \"/\" \\\n                            <Transport-Protocol>\n               \
    \ The service type consists of a string with three parts\n                concatenated\
    \ with a \"/\": Network-name/Network-\n                service/Transport-Protocol.\n\
    \      <Network-name> ::= 'Name of a network'\n                The network-name\
    \ string identifies a network.  A well\n                known key word should\
    \ be chosen.  (No '/' character is\n                allowed.)\n              \
    \  Examples: Public-X.25, Internet, EMPB-X.25, Int-CLNS,\n                WIN,\
    \ Janet,\n      <Network-service> ::= 'Name of a network service'\n          \
    \      Examples: X.25, CONS, CLNS, TCP\n      <Transport-Protocol> ::= 'Name of\
    \ a transport protocol'\n                Examples: TP0, TP2, TP4, RFC1006\n  \
    \              Since network and stack information forms one string,\n       \
    \         it identifies in an easy way a connection possibility\n            \
    \    between two RELAY-MTAs.  The COMMUNITY document defines\n               \
    \ the strings to be used in the RELAY-MTA and DOMAIN\n                documents.\
    \  Some examples:\n                Internet/TCP/RFC1006\n                Public-X.25/X.25/TP0\n\
    \                RARE-IXI/CONS/TP0\n                RARE-CLNS/CLNS/TP4\n     \
    \           (It is probably important to mention here that this\n            \
    \    string has nothing to do with the format of a\n                presentation\
    \ address as defined by Steve Hardcastle-\n                Kille in RFC1278. \
    \ The problem of networks using the\n                same address structure (X.121\
    \ DTEs, 4 Byte Internet\n                addresses) but not being connected is\
    \ not addressed in\n                RFC1278 but solved by using the proposed service\n\
    \                identifier above in addition to the presentation\n          \
    \      address.  As long as there are network islands, there\n               \
    \ is no other way than the addition of an 'island'-\n                identifier.\n\
    \      <MHS-subtree> ::= [\"O=\" 'Organization-name' \"; \"] \\\n            \
    \                [\"OU1=\"'OrganizationalUnit'\"; \"\\\n                     \
    \       [\"OU2=\" 'OrganizationalUnit' \"; \" \\\n                           \
    \ [\"OU3=\" 'OrganizationalUnit' \"; \" \\\n                            [\"OU4=\"\
    \ 'OrganizationalUnit' \"; \"]]]] \\\n                            [\"P=\" 'PRMDname'\
    \ \"; \"] \\\n                            \"A=\" 'ADMDname' \"; \" \\\n      \
    \                      \"C=\" <Country-Code> \";\"\n      <Operation> ::= \"Reachable:\
    \ \"  {<time> \"-\" <time> \"; \"} \\\n                            <Time-zone>\
    \ <CR>\n      <time> ::= 'hh:mm'\n      <Time-zone> ::= (\"UTC+\" | \"UTC-\")\
    \ 'hhmm'\n                The operation information is needed to know the time\n\
    \                someone is reachable.  This information is important\n      \
    \          for communities spanning several time zones.\n                'hhmm'\
    \ is a four digit value, the first two digits\n                indicate hours,\
    \ the second two digits indicate minutes.\n                Use \"UTC+\" for time\
    \ zones east of Greenwich.  A simple\n                formula helps to calculate\
    \ the current time at the\n                remote place:\n                local-time\
    \ - local-displacement + remote-displacement =\n                remote-time\n\
    \                18:00 - (UTC + 0100) + (UTC - 0800) = 09:00\n               \
    \ The <Time-zone> entry may be followed by a comment line\n                indicating\
    \ when Daylight Saving Time is in effect.\n                This is especially\
    \ reasonable for MHS communities\n                spanning continents on the northern\
    \ and southern\n                hemisphere.\n"
- title: 5.2 The COMMUNITY document
  contents:
  - "5.2 The COMMUNITY document\n      <COMMUNITY-document> ::= <Community-Identifier>\
    \ \\\n                            <Update-info> \\\n                         \
    \   <COMMUNITY-document-body>\n                The first line of the COMMUNITY\
    \ document specifies the\n                <Community-Identifier> to be used in\
    \ the header of all\n                other documents belonging to the same community.\
    \  It is\n                recommended to add a few comment lines to describe the\n\
    \                members of this MHS community.\n      <COMMUNITY-document-body>\
    \ ::= <Coordination> \\\n                            [{<Macro-definition>}] \\\
    \n                            {<Connections>}\n      <Coordination> ::= <EMail>\
    \ <Phone> <FAX> \\\n                            <Mail> <Operation> <File-server>\n\
    \                Set of contact information for the coordination point\n     \
    \ <File-server> ::= <email-server> [{<FTP-server>}] \\\n                     \
    \       [{<FTAM-server>}]\n                All documents must be available at\
    \ least to the\n                managers of the MHS domains and the RELAY-MTAs\
    \ through\n                an email server.  If FTAM and FTP are also  available,\n\
    \                the generation of automated update tools is much\n          \
    \      easier.\n                It is suggested to have a single server.  If there\
    \ is\n                only one, knowing a single X.400 OR address will allow\n\
    \                you to reach the server.  However for FTP and FTAM more\n   \
    \             system addresses may be possible depending on the\n            \
    \    number of available network connections (or service\n                types\
    \ as they are called in this document).\n      <email-server> ::= \"Mail-server:\
    \ \"<X.400 address> <CR>\n                The email address of the file server.\n\
    \      <FTP-server> ::= \"FTP-server: \" 'domain name' \"; \" \\\n           \
    \                 'account-name' [\"; \" 'password'] <CR>\n                In\
    \ addition to the domain name of the server, an\n                account name\
    \ and a password is given.  In most cases\n                this will probably\
    \ be something like \"anonymous\" and\n                \"guest\".\n          \
    \      Some servers request the RFC822 address of the user.\n                This\
    \ is documented by using the string 'user@domain' as\n                password\
    \ entry.  The meaning is not to use\n                'user@domain' literally as\
    \ password while accessing the\n                server (even if this would generally\
    \ work too since the\n                software often just checks the presence\
    \ of an @ sign,)\n                but to use ones own RFC822 email address.\n\
    \      <FTAM-server> ::= \"FTAM-server: \" <P-address> \"; \"\\\n            \
    \                'account-name' [\"; \" 'password'] \\\n                     \
    \       [\"; X.500 \" <DirectoryName>] <CR>\n                The account name\
    \ is often case sensitive.  Some FTAM\n                servers offer anonymous\
    \ access with the account-name\n                ANON.  Documenting an FTAM server\
    \ with a Distinguished\n                Name is only allowed if the server is\
    \ registered in the\n                directory.\n      <Macro-definition> ::=\
    \ \"Macro: \" 'Macro name' \" \" \\\n                            'Macro value'\
    \ <CR>\n                Presentation addresses without the usage of macros are\n\
    \                generally unreadable.  RFC1278 suggests a few macros.\n     \
    \           All macros which are allowed in a community must be\n            \
    \    defined in the COMMUNITY document.  It is recommended\n                to\
    \ use the proposed macros in RFC1278 and add new ones\n                if necessary:\n\
    \                Macro: Int-X25(80)        TELEX+00728722+X.25(80)+01+\n     \
    \           Macro: Janet-X25(80)      TELEX+00728722+X.25(80)+02+\n          \
    \      Macro: Internet-RFC-1006  TELEX+00728722+RFC-1006+03+\n      <Connections>\
    \ ::= {<mandatory-service>} \\\n                            {[<optional-service>]}\n\
    \                Note that at least one mandatory service type is\n          \
    \      needed.\n      <mandatory-service> ::= \"Mandatory-Service: \" \\\n   \
    \                         <Service-type> <CR>\n      <optional-service> ::= \"\
    Optional-Service: \" \\\n                            <Service-type> <CR>\n"
- title: 5.3 The RELAY-MTA document
  contents:
  - "5.3 The RELAY-MTA document\n      <RELAY-MTA-document> ::= <Community-Identifier>\
    \ \\\n                            <Update-info> \\\n                         \
    \   <RELAY-MTA-document-Identifier> \\\n                            <RELAY-MTA-document-body>\n\
    \                A RELAY-MTA document contains the full description of a\n   \
    \             single RELAY-MTA.  Only one community is allowed.\n            \
    \    Since some of the information is community dependent,\n                it\
    \ would not be easily possible to have a single\n                RELAY-MTA document\
    \ used in different communities.\n      <RELAY-MTA-document-Identifier> ::= \\\
    \n                            \"RELAY-MTA: \" <UniqueRELAY-MTAkey> <CR>\n    \
    \  <RELAY-MTA-document-body> ::= <Status> <connection-info> \\\n             \
    \               <contact-info>\n      <Status> ::= \"Status: \" (\"primary\" |\
    \ \"secondary\") <CR>\n                This defines if the RELAY-MTA has 'primary'\
    \ or\n                'secondary' status.  See section 4.3 and 6 for more\n  \
    \              information.\n      <connection-info> ::= <password> <RTS> \\\n\
    \                            {<called-connection><calling-connection>}\\\n   \
    \                         [<system>] \\\n                            [<local-domain>]\
    \ \\\n                            [<echo-server>]\n                More than one\
    \ set of connection information may be\n                present for RELAY-MTAs\
    \ supporting several networks and\n                protocol stacks.\n      <password>\
    \ ::= \"Password: \" \\\n                            (\"secret\" | \"none\" |\
    \ \\\n                            \"value=\\\"\" 'password' \"\\\"\") <CR>\n \
    \               If the keyword none is present, then no password is\n        \
    \        sent with the MTAname when this MTA initiates an RTS\n              \
    \  connection or responds to an incoming connection.\n                Password:\
    \ none\n                If the keyword secret is present, then the connection\n\
    \                needs a password which is not made publicly available.\n    \
    \            (For example, a community might keep a list of the\n            \
    \    passwords at the central coordination point.  The list\n                would\
    \ then be faxed to the RELAY-MTA managers.)\n                Password: secret\n\
    \                A password must be documented using the\n                value=\"\
    password\" notation.  The double quotes around\n                the password are\
    \ needed, consider the case of a single\n                blank as a password.\n\
    \                Password: value=\" \"\n                Password: value=\"nume-n-ine\"\
    \n      <RTS> ::= <dialog-mode> \\\n                            [<checkpoint-size>\
    \ <window-size>]\n      <dialog-mode> ::= \"RTS-dialog-mode: \" \\\n         \
    \                   (\"TWA\" | \"MONOLOGUE\") <CR>\n      <checkpoint-size> ::=\
    \ \"RTS-checkpoint-size: \" \\\n                            'checkpoint size'\
    \ <CR>\n      <window-size> ::= \"RTS-window-size: \" \\\n                   \
    \         'window size' <CR>\n      <called-connection> ::= \"Called-address:\
    \ \" \\\n                            <Service-type> \"; \" \\\n              \
    \              <P-address> \"; \" <MTS> \\\n                            [\"; \"\
    \ <Service-priority>] <CR>\n      <MTS> ::= \"MTS-T\" | \"MTS-TP\" | \"MTS-TP-84\"\
    \n                MTS-T:     mts-transfer\n                MTS-TP:    mts-transfer-protocol\n\
    \                MTS-TP-84: mts-transfer-protocol-1984\n                See ISO\
    \ 10021-6, Section 3, chapter 11.1 for more\n                details on this matter.\
    \  X.400(84) systems only support\n                mts-transfer-protocol-1984.\n\
    \      <Service-priority> ::= 'Integer 0..99'\n                The lowest Integer\
    \ corresponds to the highest priority\n                as in DNS.  It is possible\
    \ to set different priorities\n                for each service type.  This may\
    \ be chosen, for\n                example, to distribute the load amongst different\n\
    \                networks according to their available bandwidth.\n      <calling-connection>\
    \ ::= \"Calling-address: \" \\\n                            <Service-type> \"\
    ; \" \\\n                            <P-address> <CR>\n                Since called\
    \ and calling network addresses may differ\n                in certain configurations\
    \ and some X.400 systems do\n                validation on calling network addresses,\
    \ it is\n                important to have this information in the RELAY-MTA\n\
    \                document.  (Note: a calling X.121 address might change\n    \
    \            if the X.25 switch is reconfigured.  This will stop a\n         \
    \       RELAY-MTA from connecting to other RELAY-MTAs using\n                address\
    \ validation without having changed anything at\n                the higher layers!)\n\
    \      <system> ::= \"System: HW=\" 'computer type' \"; \" \\\n              \
    \              \"OS=\" 'operating system' \"; \" \\\n                        \
    \    \"SW=\" 'MHS  software' <CR>\n                It is optional to provide HW/SW\
    \ information.\n                Experience, however, has shown that a number of\n\
    \                communication problems were more easily identified and\n    \
    \            solved with this information present and up-to-date.\n      <local-domain>\
    \ ::= \"LocalDomain: \" <MHS-subtree> <CR>\n                This is a useful but\
    \ optional extension to the\n                documentation.\n                The\
    \ <MHS-subtree> is local to the RELAY-MTA.  The <MHS-\n                subtree>\
    \ attributes might be used together with\n                S=nosuchuser; to do\
    \ connectivity and availability\n                tests.\n      <echo-server> ::=\
    \ \"EchoServer: \" <X.400 address> <CR>\n                Some of the RELAY-MTAs\
    \ might offer an echo server\n                functionality.  It does make sense\
    \ to document this in\n                the RELAY-MTA document for test purpose.\
    \  This field is\n                optional.\n      <contact-info> ::= {\"Administrator:\
    \ \" <UniquePersonKey> <CR>}\n                The contact details for the RELAY-MTA\
    \ administrator can\n                be found in the appropriate PERSON document.\
    \  It is\n                possible to document a whole team using a distribution\n\
    \                list if this is desired.  It is generally better to\n       \
    \         document one or more 'real' persons.\n"
- title: 5.4 The DOMAIN document
  contents:
  - "5.4 The DOMAIN document\n      <DOMAIN-document> ::= <Community-Identifier> \\\
    \n                            <Update-info> \\\n                            <DOMAIN-document-body>\n\
    \      <DOMAIN-document-body>::= {<Domain-entry>} <responsible> \\\n         \
    \                   {<Relay>}\n      <Domain-entry> ::= \"Domain: \" <OR-matching>\
    \ <MHS-subtree> <CR>\n                Note that it is not allowed to have equal\
    \ <Domain-\n                entry> lines in different DOMAIN documents belonging\
    \ to\n                the same MHS community.  A Domain-entry line can only\n\
    \                appear in one DOMAIN document.\n      <OR-matching> ::=  ( \"\
    * \" | \"= \" )\n                This qualifier defines how the following OR address\n\
    \                attributes should be handled for the routing algorithm.\n   \
    \             If a '*' is present, a destination address of a message\n      \
    \          is matched by the \"Domain:\" entry if at least the OR\n          \
    \      address attributes in the \"Domain:\" entry are equal to\n            \
    \    the destination address.\n                If a \"=\" is present, a destination\
    \ address of a message\n                is matched by the \"Domain:\" entry if\
    \ there are exactly\n                the same OR attributes in the destination\
    \ address as in\n                the \"Domain:\" entry.  (This restriction works\
    \ for OU4,\n                OU3, OU2, OU1, O, P, A and C only.)\n            \
    \    Example:\n                a) Domain: * P=switch; A=arcom; C=ch;\n       \
    \         b) Domain: = P=switch; A=arcom; C=ch;\n                The address S=eppenberger;\
    \ P=switch; A=arcom; C=ch;\n                matches both cases, a) and b).\n \
    \               The address S=eppenberger; O=unibe; P=switch; A=arcom;\n     \
    \           C=ch; matches only case a).\n      <responsible> ::= {\"Administrator:\
    \ \" <UniquePersonKey> <CR>}\n                This is the person responsible for\
    \ the listed domains.\n                His task is to get the agreement of the\
    \ relaying\n                RELAY-MTAs and keep the DOMAIN document up-to-date.\n\
    \                This person is the only one authorized to make changes\n    \
    \            to this document.  Note that multiple administrators\n          \
    \      may be listed.\n      <Relay> ::=         \"Relay: \" \\\n            \
    \                ( 'UniqueRELAY-MTAkey' | \\\n                            \"Internet-SMTP\"\
    \ ) \"; \" \\\n                            <RELAY-MTA-Priority> <CR>\n       \
    \         The priority is used to define the sequence in which\n             \
    \   different RELAY-MTAs may be tried in case of failure.\n                A lower\
    \ integer corresponds to a higher priority as in\n                DNS.  Priorities\
    \ 0..49 are used to indicate backup\n                RELAY-MTAs.  Priorities 50..99\
    \ are used for RELAY-MTAs\n                not acting as backup but as relay service\
    \ provider for\n                a network service type not supported by the main\n\
    \                RELAY-MTA.\n                The keyword \"Internet-SMTP\" is\
    \ a placeholder for an\n                RFC1327 gateway connected to Internet.\
    \ The RELAY-MTA\n                manager selects a gateway of his choice.\n  \
    \    <RELAY-MTA-Priority> ::= <Integer 0..99>\n"
- title: 5.5 The PERSON document
  contents:
  - "5.5 The PERSON document\n      <PERSON-document> ::= <Community-Identifier> \\\
    \n                            <Update-info> \\\n                            <PERSON-document-identifier>\
    \ \\\n                            <PERSON-document-body>\n      <PERSON-document-identifier>\
    \ ::= \"Key: \" <UniquePersonKey> <CR>\n      <PERSON-document-body>::= <Name>\
    \ {<EMail>} {<RFC822>} \\\n                            <Phone> <Fax> <Mail> <Operation>\n\
    \      <Name>  ::= \"Name: \" 'name of person' <CR>\n                The name\
    \ of the person is given.  The issue of the\n                character set problem\
    \ is not addressed in this\n                document.  Especially international\
    \ communities should\n                restrict themselves to IA5 or ASCII.\n \
    \     <RFC822> ::= \"RFC822: \" <RFC-822-address> <CR>\n                This is\
    \ the RFC-822 address of the person.  It is often\n                a big help\
    \ to know the RFC822 address of someone, for\n                example if the X.400\
    \ system is not reachable.  This is\n                also the reason why it is\
    \ possible to provide multiple\n                OR and RFC822 addresses.  The\
    \ first one is considered\n                the primary one.\n"
- title: 6. Routing rules
  contents:
  - "6. Routing rules\n   All the users within the MHS community have the right to\
    \ send\n   messages to each other.  The general agreement is that the RELAY-MTA\n\
    \   infrastructure is used according to the following routing rules.\n   More\
    \ direct connections based on bilateral agreements are fully\n   accepted.\n \
    \  A primary or secondary RELAY-MTA must allow incoming connections from\n   all\
    \ other primary and secondary RELAY-MTAs with a common stack.\n   Primary RELAY-MTAs\
    \ must be able to connect to all other primary\n   RELAY-MTAs which share a common\
    \ stack.  A secondary RELAY-MTA must\n   connect to at least one primary RELAY-MTA.\n\
    \   A message arriving at a RELAY-MTA must either be sent to the next\n   RELAY-MTA\
    \ based on the DOMAIN documents of the MHS community or it is\n   sent to an MTA\
    \ closer to the destination based on local routing\n   decisions.  The following\
    \ algorithm must be used when forwarding a\n   message to the next RELAY-MTA:\n\
    \      1) Select the relevant DOMAIN document by searching for a match of\n  \
    \    the Recipient address in the message with the entries in the\n      document.\n\
    \      If your own RELAY-MTA appears in this list, this indicates one of\n   \
    \   the following:\n      - You offered relay services for another RELAY-MTA with\
    \ higher\n        priority.  Continue with step 2 to decide on the next RELAY-MTA.\n\
    \      - Your RELAY-MTA is the final destination according the DOMAIN\n      \
    \  document of your community.  You need to forward the message to\n        the\
    \ final destination according local routing information.\n      2) From the list\
    \ of RELAY-MTAs select those that have at least one\n      common network service\
    \ type with your own RELAY-MTA.\n      3) Now delete all secondary RELAY-MTAs\
    \ from the list where no\n      direct connection is desired.  For remaining RELAY-MTAs\
    \ in the\n      list no difference is made anymore between primary and secondary\n\
    \      status.\n      4) Select from this reduced set of RELAY-MTAs the one with\
    \ the\n      highest RELAY-MTA-priority.  If there is more than one RELAY-MTA\n\
    \      having the same priority, then select a RELAY-MTA of your choice.\n   \
    \   If your own RELAY-MTA appears in that list, then you are not\n      allowed\
    \ to send to a RELAY-MTA with lower or equal priority.\n      5) If there are\
    \ no service-priorities set in the corresponding\n      RELAY-MTA document indicating\
    \ which service type to use, you are\n      free to choose the service type for\
    \ connecting to the RELAY-MTA.\n      However, if there are specific priorities\
    \ set then select the\n      service type with the highest priority.\n      6)\
    \ If the connection fails then try other service types in the\n      sequence\
    \ of descending priority.\n      7) If no connection works for the selected RELAY-MTA,\
    \ then check\n      in the list for the one with the same priority, if possible,\
    \ or\n      else select one with the next lower priority.  If there is another\n\
    \      RELAY-MTA with a RELAY-MTA-priority between 0..49, then select it\n   \
    \   and proceed at step 5.  Without another RELAY-MTA to try the\n      currently\
    \ selected RELAY-MTA will be retried.\n"
- title: 6.1 How to use RELAY-MTA-priorities
  contents:
  - "6.1 How to use RELAY-MTA-priorities\n   An example helps to explain the usage\
    \ of RELAY-MTA-priorities.\n   Internet/TCP/RFC1006 and Public-X.25/X.25/TP0 are\
    \ mandatory service\n   types in the community REMOTEmail.  The MHS domain P=REMOTE;\
    \ A=ARCOM;\n   C=CH; operates MTA-B, only connected to public X.25.  A second\n\
    \   RELAY-MTA which is connected to both, Internet and public X.25 is\n   needed\
    \ to offer relay services.  A connection using Internet is\n   considered cheap\
    \ in this example.  Both service types are available\n   at MTA-A.  Since MTA-B\
    \ is the only RELAY-MTA responsible for relaying\n   messages to P=REMOTE; A=ARCOM;\
    \ C=CH; to the final destination it must\n   have the highest priority.\n    \
    \  Community: REMOTEmail\n      Domain: * P=REMOTE; A=ARCOM; C=CH;\n      RELAY-MTA:\
    \ P=REMOTE; A=ARCOM; C=CH;MTAname=MTA-B; 20\n      RELAY-MTA:  P=MTA-C; A=ARCOM;\
    \ C=CH;MTAname=MTA-C; 80\n                                       __________________________\n\
    \      +-------+    X.25     +-------+ (                          )\n      | MTA-A\
    \ +-------------+ MTA-B +-( P=REMOTE; A=ARCOM; C=CH; )\n      +-------+      \
    \       +-------+ (__________________________)\n               \\           /\n\
    \         TCP/IP \\         /X.25\n                 +-------+\n              \
    \   | MTA-C |\n                 +-------+\n   If MTA-A needs to relay a message\
    \ for P=REMOTE; A=ARCOM; C=CH; then\n   the rules of chapter 6 are evaluated:\n\
    \        1. MTA-B and MTA-C are possible destinations\n        2. MTA-B and MTA-C\
    \ are reachable from MTA-A\n        3. MTA-B is a primary RELAY-MTA (not relevant\
    \ in this example)\n        4. MTA-B has the highest priority.\n        5. MTA-B\
    \ doesn't have specific service type lines documented.\n           MTA-A chooses\
    \ public X.25, since it is the only possibility\n           to connect to MTA-B.\n\
    \        6. No other service types are available if the connection\n         \
    \  fails.\n        7. MTA-C has a priority of 80, it is not a backup RELAY-MTA.\n\
    \           MTA-A must spool the message and try to connect directly to\n    \
    \       MTA-B.\n   The organisation running MTA-A could save money by sending\
    \ messages\n   for the MHS domain P=REMOTE; A=ARCOM; C=CH; via MTA-C.  Since the\n\
    \   connection between MTA-C and the destination MTA-B is also expensive,\n  \
    \ the organisation running MTA-C would have to pay for external relay\n   traffic.\
    \  Setting a lower priority for MTA-C forces the other RELAY-\n   MTAs with public\
    \ X.25 connectivity to take their share of the cost.\n   Note that forcing other\
    \ RELAY-MTAs to use a specific stack should be\n   avoided wherever possible by\
    \ offering RELAY-MTAs with equal priority\n   for all mandatory network services.\
    \  This can be an important\n   financial issue for MHS communities spanning several\
    \ organisations,\n   it is not relevant in general for an MHS community within\
    \ a single\n   organisation.\n"
- title: 6.2 How to use RELAY-MTA-priorities for backup RELAY-MTAS
  contents:
  - "6.2 How to use RELAY-MTA-priorities for backup RELAY-MTAS\n   Two RELAY-MTAs\
    \ offer real backup connectivity for the MHS domain\n   P=REMOTE; A=ARCOM; C=CH;.\
    \  It is therefore possible to set RELAY-MTA\n   priorities in the range of 0..49\
    \ for both RELAY-MTAs.  MTA-B will be\n   the preferred one since it has the higher\
    \ priority.  If the\n   connection to MTA-B fails, a sending RELAY-MTA may immediately\
    \ try to\n   connect to MTA-C.\n      Community: REMOTEmail\n      Domain: * P=REMOTE;\
    \ A=ARCOM; C=CH;\n      RELAY-MTA: P=REMOTE; A=ARCOM; C=CH;MTAname=MTA-B; 10\n\
    \      RELAY-MTA: P=REMOTE; A=ARCOM; C=CH;MTAname=MTA-C; 30\n                \
    \                       __________________________\n      +-------+          \
    \   +-------+ (                          )\n      | MTA-A +-------------+ MTA-B\
    \ +-( P=REMOTE; A=ARCOM; C=CH; )\n      +-------+             +-------+ (__________________________)\n\
    \               \\                     /\n                \\           +-------+\n\
    \                 -----------+ MTA-C |\n                            +-------+\n"
- title: 6.3 Load Sharing
  contents:
  - "6.3 Load Sharing\n   It is possible to set equal priorities to do some sort of\
    \ load\n   sharing.  However, most implementations are not able to do random\n\
    \   selection of RELAY-MTAs with equal priorities but have a fixed\n   configuration.\
    \  If load sharing is really needed then it is suggested\n   to split up the MHS\
    \ domain into several MHS subtrees and document\n   them separately with a set\
    \ of RELAY-MTAs with different priorities.\n   An example is provided for illustration\
    \ of the first possibility with\n   equal RELAY-MTA-priorities:\n      Community:\
    \ REMOTEmail\n      Domain: * P=REMOTE; A=ARCOM; C=CH;\n      RELAY-MTA: P=REMOTE;\
    \ A=ARCOM; C=CH;MTAname=MTA-B; 10\n      RELAY-MTA: P=REMOTE; A=ARCOM; C=CH;MTAname=MTA-C;\
    \ 10\n          _               __________________________\n           )  +-------+\
    \  (                          )\n           )--+ MTA-B +--( P=REMOTE; A=ARCOM;\
    \ C=CH; )\n           )  +-------+  (__________________________)\n           )\
    \            /\n           )  +-------+/\n           )--+ MTA-C |\n          _)\
    \  +-------+\n      And here is an example where the MHS domain\n    C=CH;ADMD=ARCOM;PRMD=REMOTE;O=Big-Org\
    \ is documented with its own\n    DOMAIN document: Note that in this example both\
    \ RELAY-MTAs serve\n    as backup RELAY-MTAs.\n      Community: REMOTEmail\n \
    \     Domain: * P=REMOTE; A=ARCOM; C=CH;\n      RELAY-MTA: P=REMOTE; A=ARCOM;\
    \ C=CH;MTAname=MTA-B; 10\n      RELAY-MTA: P=REMOTE; A=ARCOM; C=CH;MTAname=MTA-C;\
    \ 30\n      Community: REMOTEmail\n      Domain: * O=Big-Org; P=REMOTE; A=ARCOM;\
    \ C=CH;\n      RELAY-MTA: P=REMOTE; A=ARCOM; C=CH;MTAname=MTA-C; 10\n      RELAY-MTA:\
    \ P=REMOTE; A=ARCOM; C=CH;MTAname=MTA-B; 30\n          _               __________________________\n\
    \           )  +-------+  (                          )\n           )--+ MTA-B\
    \ +--( P=REMOTE; A=ARCOM; C=CH; )\n           )  +-------+  (__________________________)\n\
    \           )           \\/\n           )           /\\ _____________________________________\n\
    \           )  +-------+  (                                     )\n          \
    \ )--+ MTA-C |--( O=Big-Org; P=REMOTE; A=ARCOM; C=CH; )\n          _)  +-------+\
    \  (_____________________________________)\n"
- title: 7. Open issues
  contents:
  - "7. Open issues\n   Currently there are about 35 RELAY-MTAs within the COSINE-MHS\n\
    \   service.  A rough guess is that a network with about 60 RELAY-MTAs is\n  \
    \ still manageable provided there are automated tools for MTA\n   configuration.\
    \  If there are more MTAs applying for RELAY-MTA status\n   in an MHS community,\
    \ then either an X.500 based solution should be\n   ready or a core set of about\
    \ 30 well operated super-RELAY-MTAs should\n   form a backbone, documented within\
    \ a specific MHS community.\n   Since the RELAY-MTA document contains information\
    \ about the supported\n   X.400 version (84 or 88), it is possible for an X.400(88)\
    \ system to\n   select with higher priority an (88)RELAY-MTA.  The rules in chapter\
    \ 6\n   could be modified to select X.400(88) systems first if the sending\n \
    \  RELAY-MTA is an (88) system itself.  The issue of how to establish an\n   X.400(88)\
    \ RELAY-MTA infrastructure within an MHS community is for\n   further study.\n"
- title: 'Appendix A:  Document examples for the COSINE-MHS community'
  contents:
  - "Appendix A:  Document examples for the COSINE-MHS community\n   Instead of creating\
    \ artificial documents to show an example document\n   set, this appendix contains\
    \ extracts from a real operational X.400\n   service.  The research and development\
    \ community in Europe has used\n   X.400 for several years.  This proposal was\
    \ initially written to\n   address this community only and solve the urgent routing\
    \ and\n   coordination problems.  Contributions from different experts have\n\
    \   made it more flexible and therefore hopefully useful for other MHS\n   communities.\n"
- title: 'Appendix A1:  The COMMUNITY document'
  contents:
  - "Appendix A1:  The COMMUNITY document\n  Community: COSINE-MHS\n  # The COSINE-MHS\
    \ service is a MHS community formed by the European\n  # academic and research\
    \ networks with additional contacts in all\n  # other continents.\n  #\n  # The\
    \ coordination is done by the COSINE-MHS project team.\n  #\n  Update: FORMAT=V3;\
    \ DATE=921218; START=930201\n  #\n  Address: S=Project-Team; O=SWITCH; P=SWITCH;\
    \ A=ARCOM; C=CH;\n  #\n  Phone: +41 1-262-31-43\n  Fax:   +41 1-261-81-88\n  #\n\
    \  Mail:  SWITCH Head Office /\n         MHS Coordination Service /\n        \
    \ Limmatquai 138 /\n         CH-8001 Zurich /\n         Switzerland\n  #\n  Reachable:\
    \ 09:00-12:00; 14:00-17:30; UTC+1\n  #\n  Mail-server: S=mhs-server; O=switch;\
    \ OU1=nic;\n               P=SWITCH; A=ARCOM; C=CH;\n  FTP-server:  nic.switch.ch;\
    \ cosine; user@domain\n  #\n  Macro: Int-X25(80)        TELEX+00728722+X.25(80)+01+\n\
    \  Macro: Internet-RFC-1006  TELEX+00728722+RFC-1006+03+\n  Macro: IXI       \
    \         TELEX+00728722+X.25(80)+06+\n  #\n  Mandatory-Service: Public-X.25/X.25/TP0\n\
    \  # The public X.25 network.  X.25 is supported in most X.400\n  # applications\
    \ and mandatory in X.400 anyhow.\n  #\n  Mandatory-Service: Internet/TCP/RFC1006\n\
    \  # The Internet, standing for the global TCP/IP network of the\n  # research\
    \ and development community\n  # RFC1006 is considered a solution to ease migration\
    \ to OSI. It will\n  # be replaced by TP4/CLNS as soon as a reliable service is\n\
    \  # available.\n  #\n  Optional-Service: Int-CLNS/CLNS/TP4\n  # The RARE Connectionless\
    \ pilot service.  Current participants are\n  # NORDUnet, SURFnet, CERN, NSFnet\
    \ and SWITCH.\n  #\n  Optional-Service: EMPB-X.25/X.25/TP0\n  # The International\
    \ X.25 Infrastructure covering most countries in\n  # Europe.  The absence of\
    \ volume tariffs make it a preferred choice.\n"
- title: 'Appendix A2:  Example of a RELAY-MTA document'
  contents:
  - "Appendix A2:  Example of a RELAY-MTA document\n  Community: COSINE-MHS\n  #\n\
    \  Update: FORMAT=V3; DATE=921218; START=930201\n  #\n  RELAY-MTA: P=SWITCH; A=ARCOM;\
    \ C=CH; MTAname=chx400.switch.ch\n  #\n  Status: primary\n  #\n  Password: none\n\
    \  RTS-dialog-mode: MONOLOGUE\n  #\n  Called-address:  Public-X.25/X.25/TP0;\n\
    \                   \"591\"/Int-X25(80)=22847971014520+CUDF+03010100;\n      \
    \             MTS-TP-84\n  Calling-address: Public-X.25/X.25/TP0;\n          \
    \         Int-X25(80)=22847971014520;\n  #\n  Called-address:  Internet/TCP/RFC1006;\n\
    \                   \"591\"/Internet-RFC-1006=chx400.switch.ch;\n            \
    \       MTS-TP-84\n  Calling-address: Internet/TCP/RFC1006;\n                \
    \   Internet-RFC-1006=chx400.switch.ch\n  #\n  Called-address:  EMPB-X.25/X.25/TP0;\n\
    \                   \"591\"/IXI=20432840100520+CUDF+03010100;\n              \
    \     MTS-TP-84\n  Calling-address: EMPB-X.25/X.25/TP0;\n                   IXI=20432840100520;\n\
    \  #\n  Calling-address: Int-CLNS/CLNS/TP4;\n                   \"591\"/NS+39756F11111111010000014560AA00040005E100;\n\
    \                   MTS-TP-84\n  Called-address:  DCC+756+x11111111010000014560AA00040005E100\n\
    \  #\n  # For X.400(88) over CLNS\n  #\n  Calling-address: Int-CLNS/CLNS/TP4;\n\
    \                   \"592\"/NS+39756F11111111010000014560AA00040005E100;\n   \
    \                MTS-T\n  Called-address:  DCC+756+x11111111010000014560AA00040005E100\n\
    \  #\n  System: HW=SUN 4/690MP; OS=SunOS 4.1.1; SW=PP-6.0\n  #\n  LocalDomain:\
    \ O=switch; OU1=chx400; P=switch; A=arcom; C=ch;\n  #\n  EchoServer:  S=echo;\
    \ O=switch; OU1=chx400; P=switch; A=arcom; C=ch;\n  #\n  Administrator: CN=Felix\
    \ Kugler, O=SWITCH, C=CH\n  Administrator: CN=Christoph Graf, O=SWITCH, C=CH\n"
- title: 'Appendix A3:  Example of a DOMAIN document'
  contents:
  - "Appendix A3:  Example of a DOMAIN document\n  Community: COSINE-MHS\n  #\n  Update:\
    \ FORMAT=V3; DATE=921218; START=930201\n  ##\n  Domain: *     P=SWITCH; A=ARCOM;\
    \ C=CH;\n  Domain: *     P=SANDOZ; A=ARCOM; C=CH;\n  Domain: *        P=ABB; A=ARCOM;\
    \ C=CH;\n  Domain: *        P=UBS; A=ARCOM; C=CH;\n  Domain: *      P=ISREC; A=ARCOM;\
    \ C=CH;\n  Domain: *    P=ALCATEL; A=ARCOM; C=CH;\n  Domain: *        P=ITU; A=ARCOM;\
    \ C=CH;\n  Domain: * P=OSILABMAIL; A=ARCOM; C=CH;\n  Domain: *        P=WHO; A=ARCOM;\
    \ C=CH;\n  Domain: *       P=CERN; A=ARCOM; C=CH;\n  Domain: *   P=CERBERUS; A=ARCOM;\
    \ C=CH;\n  #\n  Administrator: CN=Christoph Graf, O=SWITCH, C=CH\n  Administrator:\
    \ S=postmaster; O=SWITCH; P=SWITCH; A=ARCOM; C=CH;\n  #\n  RELAY-MTA: P=SWITCH;\
    \ A=ARCOM; C=CH; MTAname=chx400.switch.ch; 0\n  #\n  RELAY-MTA: P=SWITCH; A=ARCOM;\
    \ C=CH; MTAname=vms.switch; 10\n"
- title: 'Appendix A4:  Example of a PERSON document'
  contents:
  - "Appendix A4:  Example of a PERSON document\n  Community: COSINE-MHS\n  #\n  Update:\
    \ FORMAT=V3; DATE=921218; START=930201\n  #\n  Key: CN=Christoph Graf, O=SWITCH,\
    \ C=CH\n  #\n  Name:    Christoph Graf\n  #\n  Address: S=Graf; O=SWITCH; P=SWITCH;\
    \ A=ARCOM; C=CH;\n  RFC822:  Graf@switch.ch\n  #\n  Phone:   +41 1 2565454\n \
    \ Fax:     +41 1 2618133\n  #\n  Mail:    SWITCH Head Office /\n           Christoph\
    \ Graf /\n           Limmatquai 138 /\n           CH-8001 Zurich /\n         \
    \  Switzerland\n  #\n  Reachable: 09:00-12:00; 14:00-17:30; UTC+0100\n"
- title: 'Appendix B:  BNF Definitions'
  contents:
  - "Appendix B:  BNF Definitions\n      <called-connection> ::= \"Called-address:\
    \ \" \\\n                            <Service-type> \"; \" \\\n              \
    \              <P-address> \"; \" <MTS> \\\n                            [\"; \"\
    \ <Service-priority>] <CR>\n      <calling-connection> ::= \"Calling-address:\
    \ \" \\\n                            <Service-type> \"; \" \\\n              \
    \              <P-address> <CR>\n      <checkpoint-size> ::= \"RTS-checkpoint-size:\
    \ \" \\\n                            'checkpoint size' <CR>\n      <COMMUNITY-document>\
    \ ::= <Community-Identifier> \\\n                            <Update-info> \\\n\
    \                            <COMMUNITY-document-body>\n      <COMMUNITY-document-body>\
    \ ::= <Coordination> \\\n                            [{<Macro-definition>}] \\\
    \n                            {<Connections>}\n      <Community-Identifier> ::=\
    \ \"Community: \" \\\n                            ('community name' | <DirectoryName>)\
    \ <CR>\n      <connection-info> ::= <password> <RTS> \\\n                    \
    \        {<called-connection><calling-connection>}\\\n                       \
    \     [<system>] \\\n                            [<local-domain>] \\\n       \
    \                     [<echo-server>]\n      <Connections> ::= {<mandatory-service>}\
    \ \\\n                            {[<optional-service>]}\n      <contact-info>\
    \ ::= {\"Administrator: \" <UniquePersonKey> <CR>}\n      <Coordination> ::= <EMail>\
    \ <Phone> <FAX> \\\n                            <Mail> <Operation> <File-server>\n\
    \      <Country-Code> ::= 'Two Character Country Code ISO-3166'\n      <dialog-mode>\
    \ ::= \"RTS-dialog-mode: \" \\\n                            (\"TWA\" | \"MONOLOGUE\"\
    ) <CR>\n      <DirectoryName> ::= 'Distinguished Name'\n      <DOMAIN-document>\
    \ ::= <Community-Identifier> \\\n                            <Update-info> \\\n\
    \                            <DOMAIN-document-body>\n      <DOMAIN-document-body>::=\
    \ {<Domain-entry>} <responsible> \\\n                            {<Relay>}\n \
    \     <Domain-entry> ::= \"Domain: \" <OR-matching> <MHS-subtree> <CR>\n     \
    \ <echo-server> ::= \"EchoServer: \" <X.400 address> <CR>\n      <EMail> ::= \"\
    Address: \" <X.400 address> <CR>\n      <email-server> ::= \"Mail-server: \"<X.400\
    \ address> <CR>\n      <extension> ::= 'local extension'\n      <Fax> ::= \"Fax:\
    \ \" <tel-no-list> <CR>\n      <File-server> ::= <email-server> [{<FTP-server>}]\
    \ \\\n                            [{<FTAM-server>]}\n      <FTAM-server> ::= \"\
    FTAM-server: \" <P-address> \"; \"\\\n                            'account-name'\
    \ [\"; \" 'password'] \\\n                            [\"; X.500 \" <DirectoryName>]\
    \ <CR>\n      <FTP-server> ::= \"FTP-server: \" 'domain name' \"; \" \\\n    \
    \                        'account-name' [\"; \" 'password'] <CR>\n      <int-pref>\
    \ ::= 'international prefix'\n      <local-domain> ::= \"LocalDomain: \" <MHS-subtree>\
    \ <CR>\n      <Macro-definition> ::= \"Macro: \" 'Macro name' \" \" \\\n     \
    \                       'Macro value' <CR>\n      <Mail> ::= \"Mail: \" 'postal\
    \ address information' <CR>\n      <mandatory-service> ::= \"Mandatory-Service:\
    \ \" \\\n                            <Service-type> <CR>\n      <MHS-subtree>\
    \ ::= [\"O=\" 'Organization-name' \"; \"] \\\n                            [\"\
    OU1=\"'OrganizationalUnit'\"; \"\\\n                            [\"OU2=\" 'OrganizationalUnit'\
    \ \"; \" \\\n                            [\"OU3=\" 'OrganizationalUnit' \"; \"\
    \ \\\n                            [\"OU4=\" 'OrganizationalUnit' \"; \"]]]] \\\
    \n                            [\"P=\" 'PRMDname' \"; \"] \\\n                \
    \            \"A=\" 'ADMDname' \"; \" \\\n                            \"C=\" <Country-Code>\
    \ \";\"\n      <MTS> ::= \"MTS-T\" | \"MTS-TP\" | \"MTS-TP-84\"\n      <Name>\
    \  ::= \"Name: \" 'name of person' <CR>\n      <national number> ::= 'national\
    \ telephone number'\n      <Network-name> ::= 'Name of a network'\n      <Network-service>\
    \ ::= 'Name of a network service'\n      <Operation> ::= \"Reachable: \"  {<time>\
    \ \"-\" <time> \"; \"} \\\n                            <Time-zone> <CR>\n    \
    \  <optional-service> ::= \"Optional-Service: \" \\\n                        \
    \    <Service-type> <CR>\n      <OR-matching> ::=  ( \"* \" | \"= \" )\n     \
    \ <P-address> ::= 'String encoded Presentation Address'\n      <password> ::=\
    \ \"Password: \" \\\n                            (\"secret\" | \"none\" | \\\n\
    \                            \"value=\\\"\" 'password' \"\\\"\") <CR>\n      <PERSON-document>\
    \ ::= <Community-Identifier> \\\n                            <Update-info> \\\n\
    \                            <PERSON-document-identifier> \\\n               \
    \             <PERSON-document-body>\n      <PERSON-document-identifier> ::= \"\
    Key: \" <UniquePersonKey> <CR>\n      <PERSON-document-body>::= <Name> {<EMail>}\
    \ {<RFC822>} \\\n      <Phone> ::= \"Phone: \" <tel-no-list> <CR>\n      <Relay>\
    \ ::=         \"Relay: \" \\\n                            'UniqueRELAY-MTAkey'\
    \ \"; \" \\\n                            <RELAY-MTA-Priority> <CR>\n      <RELAY-MTA-document>\
    \ ::= <Community-Identifier> \\\n                            <Update-info> \\\n\
    \                            <RELAY-MTA-document-Identifier> \\\n            \
    \                <RELAY-MTA-document-body>\n      <RELAY-MTA-document-body> ::=\
    \ <Status> <connection-info> \\\n                            <contact-info>\n\
    \      <RELAY-MTA-document-Identifier> ::= \\\n                            \"\
    RELAY-MTA: \" <UniqueRELAY-MTAkey> <CR>\n      <RELAY-MTA-Priority> ::= <Integer\
    \ 0..99>\n      <responsible> ::= {\"Administrator: \" <UniquePersonKey> <CR>}\n\
    \      <RFC822> ::= \"RFC822: \" <RFC-822-address> <CR>\n      <RTS> ::= <dialog-mode>\
    \ \\\n                            [<checkpoint-size> <window-size>]\n      <Service-priority>\
    \ ::= 'Integer 0..99'\n      <Service-type> ::= <Network-name> \"/\" \\\n    \
    \                        <Network-service> \"/\" \\\n                        \
    \    <Transport-Protocol>\n      <Status> ::= \"Status: \" (\"primary\" | \"secondary\"\
    ) <CR>\n      <system> ::= \"System: HW=\" 'computer type' \"; \" \\\n       \
    \                     \"OS=\" 'operating system' \"; \" \\\n                 \
    \           \"SW=\" 'MHS  software' <CR>\n      <tel-no-list> ::= <tel-number>\
    \ [{\"; \" <tel-number>}]\n      <tel-number> ::=  {\"+\" <int-pref> \" \" <national\
    \ number> \\\n                            [\" x\" <extension>]}\n      <time>\
    \ ::= 'hh:mm'\n      <Time-zone> ::= (\"UTC+\" | \"UTC-\") 'hhmm'\n      <Transport-Protocol>\
    \ ::= 'Name of a transport protocol'\n      <UniquePersonKey> ::= (<X.400 address>\
    \ | <DirectoryName> )\n      <UniqueRELAY-MTAkey> ::= (([ \"P=\" 'PRMDname' \"\
    ; \" ] \\\n                            [\"A=\" 'ADMDname' \"; \" ] \\\n      \
    \                      \"C=\" <Country-Code> \"; \" \\\n                     \
    \       \"MTAname=\" 'MTAname')\n                            | <DirectoryName>\
    \ )\n      <Update-info> ::= \"Update: FORMAT=V3; DATE=\" 'yymmdd' \\\n      \
    \                      \"; START=\" 'yymmdd' \\\n                            [\"\
    ; END=\" 'yymmdd'] <CR>\n      <window-size> ::= \"RTS-window-size: \" \\\n  \
    \                          'window size' <CR>\n      <X.400 address> ::= 'OR address,\
    \ ISO 10021-2 Annex F'\n      <X.400 routing coordination document set> ::= \\\
    \n                            <COMMUNITY-document> \\\n                      \
    \      { <RELAY-MTA-document> } \\\n                            { <DOMAIN-document>\
    \ } \\\n                            { <PERSON-document> }\n"
- title: Security Considerations
  contents:
  - "Security Considerations\n   Security issues are not discussed in this memo.\n"
- title: Author's Address
  contents:
  - "Author's Address\n   Urs Eppenberger\n   SWITCH Head Office\n   Limmatquai 138\n\
    \   CH-8001 Zurich\n   Switzerland\n   Phone: +41 1 261 8112\n   Fax:   +41 1\
    \ 261 8133\n   EMail: Eppenberger@switch.ch\n          S=Eppenberger; O=SWITCH;\
    \ P=SWITCH; A=ARCOM; C=CH;\n   Comments to the document may also be sent to the\
    \ distribution list\n   wg-msg@rare.nl of the RARE Working Group on Mail and Messaging.\n"
