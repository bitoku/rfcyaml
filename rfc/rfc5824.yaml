- title: __initial_text__
  contents:
  - "                      Requirements for Supporting\n             Customer Resource\
    \ ReSerVation Protocol (RSVP)\n     and RSVP Traffic Engineering (RSVP-TE) over\
    \ a BGP/MPLS IP-VPN\n"
- title: Abstract
  contents:
  - "Abstract\n   Today, customers expect to run triple-play services through BGP/MPLS\n\
    \   IP-VPNs.  Some service providers will deploy services that request\n   Quality\
    \ of Service (QoS) guarantees from a local Customer Edge (CE)\n   to a remote\
    \ CE across the network.  As a result, the application\n   (e.g., voice, video,\
    \ bandwidth-guaranteed data pipe, etc.)\n   requirements for an end-to-end QoS\
    \ and reserving an adequate\n   bandwidth continue to increase.\n   Service providers\
    \ can use both an MPLS and an MPLS Traffic\n   Engineering (MPLS-TE) Label Switched\
    \ Path (LSP) to meet their service\n   objectives.  This document describes service-provider\
    \ requirements\n   for supporting a customer Resource ReSerVation Protocol (RSVP)\
    \ and\n   RSVP-TE over a BGP/MPLS IP-VPN.\n"
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This document is not an Internet Standards Track specification;\
    \ it is\n   published for informational purposes.\n   This document is a product\
    \ of the Internet Engineering Task Force\n   (IETF).  It represents the consensus\
    \ of the IETF community.  It has\n   received public review and has been approved\
    \ for publication by the\n   Internet Engineering Steering Group (IESG).  Not\
    \ all documents\n   approved by the IESG are a candidate for any level of Internet\n\
    \   Standard; see Section 2 of RFC 5741.\n   Information about the current status\
    \ of this document, any errata,\n   and how to provide feedback on it may be obtained\
    \ at\n   http://www.rfc-editor.org/info/rfc5824.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (c) 2010 IETF Trust and the persons identified\
    \ as the\n   document authors.  All rights reserved.\n   This document is subject\
    \ to BCP 78 and the IETF Trust's Legal\n   Provisions Relating to IETF Documents\n\
    \   (http://trustee.ietf.org/license-info) in effect on the date of\n   publication\
    \ of this document.  Please review these documents\n   carefully, as they describe\
    \ your rights and restrictions with respect\n   to this document.  Code Components\
    \ extracted from this document must\n   include Simplified BSD License text as\
    \ described in Section 4.e of\n   the Trust Legal Provisions and are provided\
    \ without warranty as\n   described in the Simplified BSD License.\n   This document\
    \ may contain material from IETF Documents or IETF\n   Contributions published\
    \ or made publicly available before November\n   10, 2008.  The person(s) controlling\
    \ the copyright in some of this\n   material may not have granted the IETF Trust\
    \ the right to allow\n   modifications of such material outside the IETF Standards\
    \ Process.\n   Without obtaining an adequate license from the person(s) controlling\n\
    \   the copyright in such materials, this document may not be modified\n   outside\
    \ the IETF Standards Process, and derivative works of it may\n   not be created\
    \ outside the IETF Standards Process, except to format\n   it for publication\
    \ as an RFC or to translate it into languages other\n   than English.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1. Introduction ....................................................4\n\
    \   2. Requirements Language ...........................................4\n  \
    \ 3. Terminology .....................................................5\n   4.\
    \ Problem Statement ...............................................5\n   5. Application\
    \ Scenarios ...........................................7\n      5.1. Scenario\
    \ I: Fast Recovery over BGP/MPLS IP-VPNs ............8\n      5.2. Scenario II:\
    \ Strict C-TE LSP QoS Guarantees ................8\n      5.3. Scenario III: Load\
    \ Balance of CE-to-CE Traffic .............9\n      5.4. Scenario IV: RSVP Aggregation\
    \ over MPLS-TE Tunnels ........11\n      5.5. Scenario V: RSVP over Non-TE LSPs\
    \ .........................12\n      5.6. Scenario VI: RSVP-TE over Non-TE LSPs\
    \ .....................13\n   6. Detailed Requirements for C-TE LSP Model .......................14\n\
    \      6.1. Selective P-TE LSPs .......................................14\n  \
    \    6.2. Graceful Restart Support for C-TE LSPs ....................14\n    \
    \  6.3. Rerouting Support for C-TE LSPs ...........................15\n      6.4.\
    \ FRR Support for C-TE LSPs .................................15\n      6.5. Admission\
    \ Control Support on P-TE LSP Head-Ends ...........15\n      6.6. Admission Control\
    \ Support for C-TE LSPs in\n           LDP-Based Core Networks ...................................16\n\
    \      6.7. Policy Control Support for C-TE LSPs ......................16\n  \
    \    6.8. PCE Features Support for C-TE LSPs ........................16\n    \
    \  6.9. Diversely Routed C-TE LSP Support .........................16\n      6.10.\
    \ Optimal Path Support for C-TE LSPs .......................17\n      6.11. Reoptimization\
    \ Support for C-TE LSPs .....................17\n      6.12. DS-TE Support for\
    \ C-TE LSPs ..............................17\n   7. Detailed Requirements for\
    \ C-RSVP Path Model ....................18\n      7.1. Admission Control between\
    \ PE-CE for C-RSVP Paths ..........18\n      7.2. Aggregation of C-RSVP Paths\
    \ by P-TE LSPs ..................18\n      7.3. Non-TE LSP Support for C-RSVP\
    \ Paths .......................18\n      7.4. Transparency of C-RSVP Paths ..............................18\n\
    \   8. Commonly Detailed Requirements for Two Models ..................18\n  \
    \    8.1. CE-PE Routing .............................................18\n    \
    \  8.2. Complexity and Risks ......................................19\n      8.3.\
    \ Backward Compatibility ....................................19\n      8.4. Scalability\
    \ Considerations ................................19\n      8.5. Performance Considerations\
    \ ................................19\n      8.6. Management Considerations .................................20\n\
    \   9. Security Considerations ........................................20\n  \
    \ 10. References ....................................................21\n    \
    \  10.1. Normative References .....................................21\n      10.2.\
    \ Informative References ...................................22\n   Acknowledgments....................................................23\n\
    \   Appendix A. Reference Model........................................24\n  \
    \    A.1 End-to-End C-RSVP Path Model................................24\n    \
    \  A.2 End-to-End C-TE LSP Model...................................25\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   Some service providers want to build a service that guarantees\n\
    \   Quality of Service (QoS) and a bandwidth from a local Customer Edge\n   (CE)\
    \ to a remote CE through the network.  A CE includes the network\n   client equipment\
    \ owned and operated by the service provider.\n   However, the CE may not be part\
    \ of the MPLS provider network.\n   Today, customers expect to run triple-play\
    \ services such as Internet\n   access, telephone, and television through BGP/MPLS\
    \ IP-VPNs [RFC4364].\n   As these services evolve, the requirements for an end-to-end\
    \ QoS to\n   meet the application requirements also continue to grow.  Depending\n\
    \   on the application (e.g., voice, video, bandwidth-guaranteed data\n   pipe,\
    \ etc.), a native IP using an RSVP and/or an end-to-end\n   constrained MPLS Traffic\
    \ Engineering (MPLS-TE) Label Switched Path\n   (LSP) may be required.  The RSVP\
    \ path may be used to provide QoS\n   guarantees and reserve an adequate bandwidth\
    \ for the data.  An end-\n   to-end MPLS-TE LSP may also be used to guarantee\
    \ a bandwidth, and\n   provide extended functionality like MPLS fast reroute (FRR)\
    \ [RFC4090]\n   for maintaining the service continuity around node and link,\n\
    \   including the CE-PE link, failures.  It should be noted that an RSVP\n   session\
    \ between two CEs may also be mapped and tunneled into an MPLS-\n   TE LSP across\
    \ an MPLS provider network.\n   A number of advantages exist for deploying the\
    \ model previously\n   mentioned.  The first is that customers can use these network\n\
    \   services while being able to use both private addresses and global\n   addresses.\
    \  The second advantage is that the traffic is tunneled\n   through the service-provider\
    \ backbone so that customer traffic and\n   route confidentiality are maintained.\n\
    \   This document defines a reference model, example application\n   scenarios,\
    \ and detailed requirements for a solution supporting a\n   customer RSVP and\
    \ RSVP-TE over a BGP/MPLS IP-VPN.\n   A specification for a solution is out of\
    \ scope in this document.\n"
- title: 2.  Requirements Language
  contents:
  - "2.  Requirements Language\n   The key words \"MUST\", \"MUST NOT\", \"REQUIRED\"\
    , \"SHALL\", \"SHALL NOT\",\n   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"\
    MAY\", and \"OPTIONAL\" in this\n   document are to be interpreted as described\
    \ in [RFC2119].\n"
- title: 3.  Terminology
  contents:
  - "3.  Terminology\n   This document uses the BGP/MPLS IP-VPN terminology defined\
    \ in\n   [RFC4364] and also uses Path Computation Element (PCE) terms defined\n\
    \   in [RFC4655].\n   TE LSP: Traffic Engineering Label Switched Path\n   MPLS-TE\
    \ LSP: Multiprotocol Label Switching TE LSP\n   C-RSVP path: Customer RSVP path:\
    \ a native RSVP path with the\n                bandwidth reservation of X for\
    \ customers\n   C-TE LSP: Customer Traffic Engineering Label Switched Path: an\
    \ end-\n             to-end MPLS-TE LSP for customers\n   P-TE LSP: Provider Traffic\
    \ Engineering Label Switched Path: a\n             transport TE LSP between two\
    \ Provider Edges (PEs)\n   LSR: a Label Switched Router\n   Head-end LSR: an ingress\
    \ LSR\n   Tail-end LSR: an egress LSR\n"
- title: 4.  Problem Statement
  contents:
  - "4.  Problem Statement\n   Service providers want to deliver triple-play services\
    \ with QoS\n   guarantees to their customers.  Various techniques are available\
    \ to\n   achieve this.  Some service providers will wish to offer advanced\n \
    \  services using an RSVP signaling for native IP flows (C-RSVP) or an\n   RSVP-TE\
    \ signaling for Customer TE LSPs (C-TE LSPs) over BGP/MPLS\n   IP-VPNs.\n   The\
    \ following examples outline each method:\n   A C-RSVP path with the bandwidth\
    \ reservation of X can be used to\n   transport voice traffic.  In order to achieve\
    \ recovery in under 50 ms\n   during link, node, and Shared Risk Link Group (SRLG)\
    \ failures, and to\n   provide strict QoS guarantees, a C-TE LSP with bandwidth\
    \ X between\n   data centers or customer sites can be used to carry voice and\
    \ video\n   traffic.  Thus, service providers or customers can choose a C-RSVP\n\
    \   path or a C-TE LSP to meet their requirements.\n   When service providers\
    \ offer a C-RSVP path between hosts or CEs over\n   BGP/MPLS IP-VPNs, the CE/host\
    \ requests an end-to-end C-RSVP path with\n   the bandwidth reservation of X to\
    \ the remote CE/host.  However, if a\n   C-RSVP signaling is to send within a\
    \ VPN, the service-provider\n   network will face scalability issues because routers\
    \ need to retain\n   the RSVP state per a customer.  Therefore, in order to solve\n\
    \   scalability issues, multiple C-RSVP reservations can be aggregated at\n  \
    \ a PE, where a P-TE LSP head-end can perform admission control using\n   the\
    \ aggregated C-RSVP reservations.  The method that is described in\n   [RFC4804]\
    \ can be considered as a useful approach.  In this case, a\n   reservation request\
    \ from within the context of a Virtual Routing and\n   Forwarding (VRF) instance\
    \ can get aggregated onto a P-TE LSP.  The\n   P-TE LSP can be pre-established,\
    \ resized based on the request, or\n   triggered by the request.  Service providers,\
    \ however, cannot provide\n   a C-RSVP path over the VRF instance as defined in\
    \ [RFC4364].  The\n   current BGP/MPLS IP-VPN architecture also does not support\
    \ an RSVP\n   instance running in the context of a VRF to process RSVP messages\
    \ and\n   integrated services (int-serv) ([RFC1633], [RFC2210]).  One solution\n\
    \   is described in [RSVP-L3VPN].\n   If service providers offer a C-TE LSP from\
    \ a CE to a CE over the\n   BGP/MPLS IP-VPN, they require that an MPLS-TE LSP\
    \ from a local CE to\n   a remote CE be established.  However, if a C-TE LSP signaling\
    \ is to\n   send within the VPN, the service-provider network may face the\n \
    \  following scalability issues:\n   - A C-TE LSP can be aggregated by a P-TE\
    \ LSP at a PE (i.e.,\n     hierarchical LSPs).  In this case, only a PE maintains\
    \ the state of\n     customer RSVP sessions.\n   - A C-TE LSP cannot be aggregated\
    \ by a P-TE LSP at a PE, depending on\n     some policies (i.e., continuous LSPs).\
    \  In this case, both Ps and\n     PEs maintain the state of customer RSVP sessions.\n\
    \   - A C-TE LSP can be aggregated by the non-TE LSP (i.e., LDP).\n     In this\
    \ case, only a PE maintains the state of customer RSVP-TE\n     sessions.  Note\
    \ that it is assumed that there is always enough\n     bandwidth available in\
    \ the service-provider core network.\n   Furthermore, if service providers provide\
    \ the C-TE LSP over the\n   BGP/MPLS IP-VPN, they currently cannot provide it\
    \ over the VRF\n   instance as defined in [RFC4364].  Specifically, the current\
    \ BGP/MPLS\n   IP-VPN architecture does not support the RSVP-TE instance running\
    \ in\n   the context of a VRF to process RSVP messages and trigger the\n   establishment\
    \ of the C-TE LSP over the service-provider core network.\n   If every C-TE LSP\
    \ is to trigger the establishment or resizing of a\n   P-TE LSP, the service-provider\
    \ network will also face scalability\n   issues that arise from maintaining a\
    \ large number of P-TE LSPs and/or\n   the dynamic signaling of these P-TE LSPs.\
    \  Section 8.4 of this\n   document, \"Scalability Considerations\", provides\
    \ detailed scalability\n   requirements.\n   Two different models have been described\
    \ above.  The differences\n   between C-RSVP paths and C-TE LSPs are as follows:\n\
    \   - C-RSVP path model: data packets among CEs are forwarded by \"native\n  \
    \   IP packets\" (i.e., not labeled packets).\n   - C-TE LSP model: data packets\
    \ among CEs are forwarded by \"labeled IP\n     packets\".\n   Depending on the\
    \ service level and the need to meet specific\n   requirements, service providers\
    \ should be able to choose P-TE LSPs or\n   non-TE LSPs in the backbone network.\
    \  The selection may be dependent\n   on the service provider's policy and the\
    \ node's capability to support\n   the mechanisms described.\n   The items listed\
    \ below are selectively required to support C-RSVP\n   paths and C-TE LSPs over\
    \ BGP/MPLS IP-VPNs based on the service level.\n   For example, some service providers\
    \ need all of the following items\n   to provide a service, and some service providers\
    \ need only some of\n   them to provide the service.  It depends on the service\
    \ level and\n   policy of service providers.  Detailed requirements are described\
    \ in\n   Sections 6, 7, and 8.\n   - C-RSVP path QoS guarantees.\n   - Fast recovery\
    \ over the BGP/MPLS IP-VPN to protect traffic for the\n     C-TE LSP against CE-PE\
    \ link failure and PE node failure.\n   - Strict C-TE LSP bandwidth and QoS guarantees.\n\
    \   - Resource optimization for C-RSVP paths and C-TE LSPs.\n   - Scalability\
    \ for C-RSVP paths and C-TE LSPs.\n"
- title: 5.  Application Scenarios
  contents:
  - "5.  Application Scenarios\n   The following sections present a few application\
    \ scenarios for C-RSVP\n   paths and C-TE LSPs in BGP/MPLS IP-VPN environments.\
    \  Appendix A,\n   \"Reference Model\", describes a C-RSVP path, a C-TE LSP, and\
    \ a\n   P-TE LSP.\n   In all scenarios, it is the responsibility of the service\
    \ provider to\n   ensure that enough bandwidth is available to meet the customers'\n\
    \   application requirements.\n"
- title: '5.1.  Scenario I: Fast Recovery over BGP/MPLS IP-VPNs'
  contents:
  - "5.1.  Scenario I: Fast Recovery over BGP/MPLS IP-VPNs\n   In this scenario, as\
    \ shown in Figure 1, a customer uses a VoIP\n   application between its sites\
    \ (i.e., between CE1 and CE2).  H0 and H1\n   represent voice equipment.\n   In\
    \ this case, the customer establishes C-TE LSP1 as a primary path\n   and C-TE\
    \ LSP2 as a backup path.  If the link between PE1 and CE1 or\n   the node of PE1\
    \ fails, C-TE LSP1 needs C-TE LSP2 as a path\n   protection.\n   Generally speaking,\
    \ C-RSVP paths are used by customers, and P-TE LSPs\n   are used by service providers.\n\
    \                                C-TE LSP1\n             <---------------------------------------------->\n\
    \                                P-TE LSP1\n                      <--------------------------->\n\
    \   .............                                         .............\n   .\
    \ ---   --- .     ---      ---       ---      ---     . ---   --- .\n   .|H0 |\
    \ |CE1|-----|PE1|----|P1 |-----|P2 |----|PE2|-----|CE2| |H1 |.\n   . ---   ---\
    \ .     ---      ---       ---      ---     . ---   --- .\n   .........|...  \
    \   ---      ---       ---      ---     ...|.........\n            +-------|PE3|----|P3\
    \ |-----|P4 |----|PE4|-------+\n                     ---      ---       ---  \
    \    ---\n                      <--------------------------->\n              \
    \                  P-TE LSP2\n             <---------------------------------------------->\n\
    \                                C-TE LSP2\n   <--customer-->    <--------BGP/MPLS\
    \ IP-VPN------->    <--customer->\n      network                             \
    \                  network\n                           Figure 1.  Scenario I\n"
- title: '5.2.  Scenario II: Strict C-TE LSP QoS Guarantees'
  contents:
  - "5.2.  Scenario II: Strict C-TE LSP QoS Guarantees\n   In this scenario, as shown\
    \ in Figure 2, service provider B (SP B)\n   transports voice and video traffic\
    \ between its sites (i.e., between\n   CE1 and CE2).  In this case, service provider\
    \ B establishes C-TE LSP1\n   with preemption priority 0 and 100-Mbps bandwidth\
    \ for the voice\n   traffic, and C-TE LSP2 with preemption priority 1 and 200-Mbps\n\
    \   bandwidth for the unicast video traffic.  On the other hand, service\n   provider\
    \ A (SP A) also pre-establishes P-TE LSP1 with preemption\n   priority 0 and 1-Gbps\
    \ bandwidth for the voice traffic, and P-TE LSP2\n   with preemption priority\
    \ 1 and 2-Gbps bandwidth for the video\n   traffic.  In this scenario, P-TE LSP1\
    \ and P-TE LSP2 should support\n   Diffserv-aware MPLS Traffic Engineering (DS-TE)\
    \ [RFC4124].\n   PE1 and PE3 should choose an appropriate P-TE LSP based on the\n\
    \   preemption priority.  In this case, C-TE LSP1 must be associated with\n  \
    \ P-TE LSP1 at PE1, and C-TE LSP2 must be associated with P-TE LSP2 at\n   PE3.\n\
    \   Furthermore, PE1 and PE3 head-ends should control the bandwidth of\n   C-TE\
    \ LSPs.  In this case, PE1 and PE3 can choose C-TE LSPs by the\n   amount of maximum\
    \ available bandwidth for each P-TE LSP,\n   respectively.\n                 \
    \               C-TE LSP1\n             <---------------------------------------------->\n\
    \                                P-TE LSP1\n                      <--------------------------->\n\
    \   .............                                         .............\n   .\
    \ ---   --- .     ---      ---       ---      ---     . ---   --- .\n   .|CE0|\
    \ |CE1|-----|PE1|----|P1 |-----|P2 |----|PE2|-----|CE2| |CE3|.\n   . ---   ---\
    \ .     ---      ---       ---      ---     . ---   --- .\n   .........|...  \
    \   ---      ---       ---      ---     ...|.........\n            +-------|PE3|----|P3\
    \ |-----|P4 |----|PE4|-------+\n                     ---      ---       ---  \
    \    ---\n                      <--------------------------->\n              \
    \                  P-TE LSP2\n             <---------------------------------------------->\n\
    \                                C-TE LSP2\n    <---SP B---->    <--------BGP/MPLS\
    \ IP-VPN------->     <---SP B--->\n       network                 SP A network\
    \                 network\n                          Figure 2.  Scenario II\n\
    \   It's possible that the customer and the service provider have\n   differing\
    \ preemption priorities.  In this case, the PE policy will\n   override the customers.\
    \  In the case where the service provider does\n   not support preemption priorities,\
    \ then such priorities should be\n   ignored.\n"
- title: '5.3.  Scenario III: Load Balance of CE-to-CE Traffic'
  contents:
  - "5.3.  Scenario III: Load Balance of CE-to-CE Traffic\n   In this scenario, as\
    \ shown in Figure 3, service provider C (SP C)\n   uses voice and video traffic\
    \ between its sites (i.e., between CE0 and\n   CE5/CE7, between CE2 and CE5/CE7,\
    \ between CE5 and CE0/CE2, and\n   between CE7 and CE0/CE2).  H0 and H1 represent\
    \ voice and video\n   equipment.  In this case, service provider C establishes\
    \ C-TE LSP1,\n   C-TE LSP3, C-TE LSP5, and C-TE LSP7 with preemption priority\
    \ 0 and\n   100-Mbps bandwidth for the voice traffic, and establishes C-TE LSP2,\n\
    \   C-TE LSP4, C-TE LSP6, and C-TE LSP8 with preemption priority 1 and\n   200-Mbps\
    \ bandwidth for the video traffic.  On the other hand, service\n   provider A\
    \ also pre-establishes P-TE LSP1 and P-TE LSP3 with\n   preemption priority 0\
    \ and 1-Gbps bandwidth for the voice traffic, and\n   P-TE LSP2 and P-TE LSP4\
    \ with preemption priority 1 and 2-Gbps\n   bandwidth for the video traffic. \
    \ In this scenario, P-TE LSP1,\n   P-TE LSP2, P-TE LSP3, and P-TE LSP4 should\
    \ support DS-TE [RFC4124].\n   All PEs should choose an appropriate P-TE LSP based\
    \ on the preemption\n   priority.  To minimize the traffic disruption due to a\
    \ single network\n   failure, diversely routed C-TE LSPs are established.  In\
    \ this case,\n   the FRR [RFC4090] is not necessarily required.\n   Also, unconstrained\
    \ TE LSPs (i.e., C-TE LSPs/P-TE LSPs with\n   0 bandwidth) [RFC5330] are applicable\
    \ to this scenario.\n   Furthermore, the load balancing for any communication\
    \ between H0 and\n   H1 can be done by setting up full-mesh C-TE LSPs between\
    \ CE0/CE2 and\n   CE5/CE7.\n             C-TE LSP1(P=0),2(P=1) (CE0->CE1->...->CE4->CE5)\n\
    \                                   (CE0<-CE1<-...<-CE4<-CE5)\n            <---------------------------------------------->\n\
    \             C-TE LSP3(P=0),4(P=1) (CE2->CE1->...->CE4->CE7)\n              \
    \                     (CE2<-CE1<-...<-CE4<-CE7)\n            <---------------------------------------------->\n\
    \                             P-TE LSP1 (p=0)\n                         <-------------------->\n\
    \                             P-TE LSP2 (p=1)\n                         <-------------------->\n\
    \   ..................                             ..................\n   .  \
    \    ---   --- .  ---    ---     ---    ---  . ---   ---      .\n   .     |CE0|-|CE1|--|PE1|--|P1\
    \ |---|P2 |--|PE2|--|CE4|-|CE5|     .\n   . --- /---   --- .  ---     ---    ---\
    \    ---  . ---   ---\\ --- .\n   .|H0 |     +     .              +          \
    \    .     +     |H1 |.\n   . --- \\---   --- .  ---    ---     ---    ---  .\
    \ ---   ---/ --- .\n   .     |CE2|-|CE3|--|PE3|--|P3 |---|P4 |--|PE4|--|CE6|-|CE7|\
    \     .\n   .      ---   --- .  ---    ---     ---    ---  . ---   ---      .\n\
    \   ..................                             ..................\n      \
    \                   <-------------------->\n                             P-TE\
    \ LSP3 (p=0)\n                         <-------------------->\n              \
    \               P-TE LSP4 (p=1)\n            <---------------------------------------------->\n\
    \             C-TE LSP5(P=0),6(P=1)  (CE0->CE3->...->CE6->CE5)\n             \
    \                       (CE0<-CE3<-...<-CE6<-CE5)\n            <---------------------------------------------->\n\
    \             C-TE LSP7(P=0),8(P=1)  (CE2->CE3->...->CE6->CE7)\n             \
    \                       (CE2<-CE3<-...<-CE6<-CE7)\n    <-----SP C----->   <----BGP/MPLS\
    \ IP-VPN---->   <-----SP C----->\n         network               SP A network\
    \             network\n                          Figure 3.  Scenario III\n"
- title: '5.4.  Scenario IV: RSVP Aggregation over MPLS-TE Tunnels'
  contents:
  - "5.4.  Scenario IV: RSVP Aggregation over MPLS-TE Tunnels\n   In this scenario,\
    \ as shown in Figure 4, the customer has two hosts\n   connecting to CE1 and CE2,\
    \ respectively.  CE1 and CE2 are connected\n   to PE1 and PE2, respectively, within\
    \ a VRF instance belonging to the\n   same VPN.  The requesting host (H1) may\
    \ request from H2 an RSVP path\n   with the bandwidth reservation of X.  This\
    \ reservation request from\n   within the context of VRF will get aggregated onto\
    \ a pre-established\n   P-TE/DS-TE LSP based upon procedures similar to [RFC4804].\
    \  As in the\n   case of [RFC4804], there may be multiple P-TE LSPs belonging\
    \ to\n   different DS-TE class-types.  Local policies can be implemented to\n\
    \   map the incoming RSVP path request from H1 to the P-TE LSP with the\n   appropriate\
    \ class-type.  Please note that the end-to-end (e2e) RSVP\n   path request may\
    \ also be initiated by the CE devices themselves.\n                          \
    \      C-RSVP path\n        <----------------------------------------------------->\n\
    \                                P-TE LSP\n                     <--------------------------->\n\
    \    .............                                     .............\n    . ---\
    \   --- .   ---      ---       ---      ---   . ---   --- .\n    .|H1 | |CE1|---|PE1|----|P1\
    \ |-----|P2 |----|PE2|---|CE2| |H2 |.\n    . ---   --- .   ---      ---      \
    \ ---      ---   . ---   --- .\n    .............                            \
    \         .............\n                   ^                               ^\n\
    \                   |                               |\n               VRF instance\
    \                    VRF instance\n     <-customer->   <--------BGP/MPLS IP-VPN------->\
    \   <-customer->\n       network                                           network\n\
    \                          Figure 4.  Scenario IV\n"
- title: '5.5.  Scenario V: RSVP over Non-TE LSPs'
  contents:
  - "5.5.  Scenario V: RSVP over Non-TE LSPs\n   In this scenario, as shown in Figure\
    \ 5, a customer has two hosts\n   connecting to CE1 and CE2, respectively.  CE1\
    \ and CE2 are connected\n   to PE1 and PE2, respectively, within a VRF instance\
    \ belonging to the\n   same VPN.  The requesting host (H1) may request from H2\
    \ an RSVP path\n   with the bandwidth reservation of X.  In this case, a non-TE\
    \ LSP\n   (i.e., LDP, etc.) is provided between PEs and has LDP, which supports\n\
    \   MPLS Diffserv [RFC3270].\n   Note that this only provides Diffserv, and not\
    \ the bandwidth\n   reservation as is done with RSVP-TE.\n   Local policies can\
    \ be implemented to map the customer's reserved flow\n   to the LSP with the appropriate\
    \ Traffic Class [RFC5462] at PE1.\n                               C-RSVP path\n\
    \              <------------------------------------------>\n                \
    \               Non-TE LSP\n                     <--------------------------->\n\
    \    .............                                     .............\n    . ---\
    \   --- .   ---      ---       ---      ---   . ---   --- .\n    .|H1 | |CE1|---|PE1|----|P1\
    \ |-----|P2 |----|PE2|---|CE2| |H2 |.\n    . ---   --- .   ---      ---      \
    \ ---      ---   . ---   --- .\n    .............                            \
    \         .............\n                   ^                               ^\n\
    \                   |                               |\n               VRF instance\
    \                    VRF instance\n     <-customer->   <-------BGP/MPLS IP-VPN------->\
    \   <-customer->\n       network                                          network\n\
    \                           Figure 5.  Scenario V\n"
- title: '5.6.  Scenario VI: RSVP-TE over Non-TE LSPs'
  contents:
  - "5.6.  Scenario VI: RSVP-TE over Non-TE LSPs\n   In this scenario, as shown in\
    \ Figure 6, a customer uses a VoIP\n   application between its sites (i.e., between\
    \ CE1 and CE2).  H0 and H1\n   represent voice equipment.  In this case, a non-TE\
    \ LSP means LDP, and\n   the customer establishes C-TE LSP1 as a primary path\
    \ and C-TE LSP2 as\n   a backup path.  If the link between PE1 and CE1 or the\
    \ node of PE1\n   fails, C-TE LSP1 needs C-TE LSP2 as a path protection.\n   \
    \                            C-TE LSP1\n               <----------------------------------------->\n\
    \                               Non-TE LSP\n                      <-------------------------->\n\
    \     .............                                     .............\n     .\
    \ ---   --- .   ---      ---       ---      ---   . ---   --- .\n     .|H0 | |CE1|---|PE1|----|P1\
    \ |-----|P2 |----|PE2|---|CE2| |H1 |.\n     . ---   --- .   ---      ---     \
    \  ---      ---   . ---   --- .\n     .........|...   ---      ---       --- \
    \     ---   ...|.........\n              +-----|PE3|----|P3 |-----|P4 |----|PE4|-----+\n\
    \                     ---      ---       ---      ---\n                      <-------------------------->\n\
    \                               Non-TE LSP\n               <----------------------------------------->\n\
    \                               C-TE LSP2\n     <-customer->     <------BGP/MPLS\
    \ IP-VPN------>    <-customer->\n        network                             \
    \              network\n                          Figure 6.  Scenario VI\n"
- title: 6.  Detailed Requirements for the C-TE LSP Model
  contents:
  - "6.  Detailed Requirements for the C-TE LSP Model\n   This section describes detailed\
    \ requirements for C-TE LSPs in\n   BGP/MPLS IP-VPN environments.\n"
- title: 6.1.   Selective P-TE LSPs
  contents:
  - "6.1.   Selective P-TE LSPs\n   The solution MUST provide the ability to decide\
    \ which P-TE LSPs a PE\n   uses for a C-RSVP path and a C-TE LSP.  When a PE receives\
    \ a native\n   RSVP and/or a path message from a CE, it MUST be able to decide\
    \ which\n   P-TE LSPs it uses.  In this case, various kinds of P-TE LSPs exist\
    \ in\n   the service-provider network.  For example, the PE MUST choose an\n \
    \  appropriate P-TE LSP based on local policies such as:\n   1. preemption priority\n\
    \   2. affinity\n   3. class-type\n   4. on the data plane: (Differentiated Services\
    \ Code Point (DSCP) or\n      Traffic Class bits)\n"
- title: 6.2.  Graceful Restart Support for C-TE LSPs
  contents:
  - "6.2.  Graceful Restart Support for C-TE LSPs\n   The solution SHOULD support\
    \ the graceful restart capability, where\n   the C-TE LSP traffic continues to\
    \ be forwarded during a PE graceful\n   restart.  Graceful restart mechanisms\
    \ related to this architecture\n   are described in [RFC3473], [RFC3623], and\
    \ [RFC4781].\n"
- title: 6.3.  Rerouting Support for C-TE LSPs
  contents:
  - "6.3.  Rerouting Support for C-TE LSPs\n   The solution MUST provide the rerouting\
    \ of a C-TE LSP in case of\n   link, node, and SRLG failures, or in case of preemption.\
    \  Such\n   rerouting may be controlled by a CE or by a PE, depending on the\n\
    \   failure.  In a dual-homed environment, the ability to perform\n   rerouting\
    \ MUST be provided against a CE-PE link failure or a PE\n   failure, if another\
    \ CE-PE link or PE is available between the head-\n   end and the tail-end of\
    \ the C-TE LSP.\n"
- title: 6.4.  FRR Support for C-TE LSPs
  contents:
  - "6.4.  FRR Support for C-TE LSPs\n   The solution MUST support FRR [RFC4090] features\
    \ for a C-TE LSP over\n   a VRF instance.\n   In BGP/MPLS IP-VPN environments,\
    \ a C-TE LSP from a CE traverses\n   multiple PEs and Ps, albeit tunneled over\
    \ a P-TE LSP.  In order to\n   avoid PE-CE link/PE node/SRLG failures, a CE (a\
    \ customer's head-end\n   router) needs to support link protection or node protection.\n\
    \   The following protection MUST be supported:\n   1. CE link protection\n  \
    \ 2. PE node protection\n   3. CE node protection\n"
- title: 6.5.  Admission Control Support on P-TE LSP Head-Ends
  contents:
  - "6.5.  Admission Control Support on P-TE LSP Head-Ends\n   The solution MUST support\
    \ admission control on a P-TE LSP tunnel\n   head-end for C-TE LSPs.  C-TE LSPs\
    \ may potentially try to reserve the\n   bandwidth that exceeds the bandwidth\
    \ of the P-TE LSP.  The P-TE LSP\n   tunnel head-end SHOULD control the number\
    \ of C-TE LSPs and/or the\n   bandwidth of C-TE LSPs.  For example, the transport\
    \ TE LSP head-end\n   SHOULD have a configurable limit on the maximum number of\
    \ C-TE LSPs\n   that it can admit from a CE.  As for the amount of bandwidth that\
    \ can\n   be reserved by C-TE LSPs, there could be two situations:\n   1. Let\
    \ the P-TE LSP do its natural bandwidth admission\n   2. Set a cap on the amount\
    \ of bandwidth, and have the configuration\n      option to:\n      a. Reserve\
    \ the minimum cap bandwidth or the C-TE LSP bandwidth on\n         the P-TE LSP\
    \ if the required bandwidth is available\n      b. Reject the C-TE LSP if the\
    \ required bandwidth by the C-TE LSP\n         is not available\n"
- title: 6.6.  Admission Control Support for C-TE LSPs in LDP-Based Core
  contents:
  - "6.6.  Admission Control Support for C-TE LSPs in LDP-Based Core\n      Networks\n\
    \   The solution MUST support admission control for a C-TE LSP at a PE in\n  \
    \ the LDP-based core network.  Specifically, PEs MUST have a\n   configurable\
    \ limit on the maximum amount of bandwidth that can be\n   reserved by C-TE LSPs\
    \ for a given VRF instance (i.e., for a given\n   customer).  Also, a PE SHOULD\
    \ have a configurable limit on the total\n   amount of bandwidth that can be reserved\
    \ by C-TE LSPs between PEs.\n"
- title: 6.7.  Policy Control Support for C-TE LSPs
  contents:
  - "6.7.  Policy Control Support for C-TE LSPs\n   The solution MUST support the\
    \ policy control for a C-TE LSP at a PE.\n   The PE MUST be able to perform the\
    \ following:\n   1. Limit the rate of RSVP messages per CE link.\n   2. Accept\
    \ and map, or reject, requests for a given affinity.\n   3. Accept and map, or\
    \ reject, requests with a specified setup and/or\n      preemption priorities.\n\
    \   4. Accept or reject requests for fast reroutes.\n   5. Ignore the requested\
    \ setup and/or preemption priorities, and\n      select a P-TE LSP based on a\
    \ local policy that applies to the\n      CE-PE link or the VRF.\n   6. Ignore\
    \ the requested affinity, and select a P-TE LSP based on a\n      local policy\
    \ that applies to the CE-PE link or the VRF.\n   7. Perform mapping in the data\
    \ plane between customer Traffic Class\n      bits and transport P-TE LSP Traffic\
    \ Class bits, as signaled per\n      [RFC3270].\n"
- title: 6.8.  PCE Features Support for C-TE LSPs
  contents:
  - "6.8.  PCE Features Support for C-TE LSPs\n   The solution SHOULD support the\
    \ PCE architecture for a C-TE LSP\n   establishment in the context of a VRF instance.\
    \  When a C-TE LSP is\n   provided, CEs, PEs, and Ps may support PCE features\
    \ ([RFC4655],\n   [RFC5440]).\n   In this case, CE routers or PE routers may be\
    \ Path Computation\n   Clients (PCCs), and PE routers and/or P routers may be\
    \ PCEs.\n   Furthermore, the solution SHOULD support a mechanism for dynamic PCE\n\
    \   discovery.  Specifically, all PCEs are not necessarily discovered\n   automatically,\
    \ and only specific PCEs that know VPN routes should be\n   discovered automatically.\n"
- title: 6.9.  Diversely Routed C-TE LSP Support
  contents:
  - "6.9.  Diversely Routed C-TE LSP Support\n   The solution MUST provide for setting\
    \ up diversely routed C-TE LSPs\n   over the VRF instance.  These diverse C-TE\
    \ LSPs MAY be traversing\n   over two different P-TE LSPs that are fully disjoint\
    \ within a\n   service-provider network.  When a single CE has multiple uplinks\
    \ that\n   connect to different PEs, it is desirable that multiple C-TE LSPs\n\
    \   over the VRF instance be established between a pair of LSRs.  When\n   two\
    \ CEs have multiple uplinks that connect to different PEs, it is\n   desirable\
    \ that multiple C-TE LSPs over the VRF instance be\n   established between two\
    \ different pairs of LSRs.  In these cases, for\n   example, the following points\
    \ will be beneficial to customers.\n   1. load balance of the CE-to-CE traffic\
    \ across diverse C-TE LSPs so\n      as to minimize the traffic disruption in\
    \ case of a single network\n      element failure\n   2. path protection (e.g.,\
    \ 1:1, 1:N)\n"
- title: 6.10.  Optimal Path Support for C-TE LSPs
  contents:
  - "6.10.  Optimal Path Support for C-TE LSPs\n   The solution MUST support the optimal\
    \ path for a C-TE LSP over the\n   VRF instance.  Depending on an application\
    \ (e.g., voice and video),\n   an optimal path is needed for a C-TE LSP over the\
    \ VRF instance.  In\n   the case of a TE LSP, an optimal route may be the shortest\
    \ path based\n   on the TE metric applied.  For a non-TE LSP using LDP, the IGP\
    \ metric\n   may be used to compute optimal paths.\n"
- title: 6.11.  Reoptimization Support for C-TE LSPs
  contents:
  - "6.11.  Reoptimization Support for C-TE LSPs\n   The solution MUST support the\
    \ reoptimization of a C-TE LSP over the\n   VRF instance.  These LSPs MUST be\
    \ reoptimized using \"make-before-\n   break\" [RFC3209].\n   In this case, it\
    \ is desirable for a CE to be configured with regard\n   to the timer-based or\
    \ event-driven reoptimization.  Furthermore,\n   customers SHOULD be able to reoptimize\
    \ a C-TE LSP manually.  To\n   provide for delay-sensitive or jitter-sensitive\
    \ traffic (i.e., voice\n   traffic), C-TE LSP path computation and route selection\
    \ are expected\n   to be optimal for the specific application.\n"
- title: 6.12.  DS-TE Support for C-TE LSPs
  contents:
  - "6.12.  DS-TE Support for C-TE LSPs\n   The solution MUST support DS-TE [RFC4124]\
    \ for a C-TE LSP over the VRF\n   instance.  In the event that the service provider\
    \ and the customer\n   have differing bandwidth constraint models, then only the\
    \ service-\n   provider bandwidth model should be supported.\n   Applications,\
    \ which have different traffic characteristics, are used\n   in BGP/MPLS IP-VPN\
    \ environments.  Service providers try to achieve\n   the fine-grained optimization\
    \ of transmission resources, efficiency,\n   and further-enhanced network performance.\
    \  It may be desirable to\n   perform TE at a per-class level.\n   By mapping\
    \ the traffic from a given Diffserv class of service on a\n   separate C-TE LSP,\
    \ DS-TE allows this traffic to utilize resources\n   available to the given class\
    \ on both shortest paths and non-shortest\n   paths, and also to follow paths\
    \ that meet TE constraints that are\n   specific to the given class.\n"
- title: 7.  Detailed Requirements for the C-RSVP Path Model
  contents:
  - "7.  Detailed Requirements for the C-RSVP Path Model\n   This section describes\
    \ detailed requirements for C-RSVP paths in\n   BGP/MPLS IP-VPN environments.\n"
- title: 7.1.  Admission Control between PE and CE for C-RSVP Paths
  contents:
  - "7.1.  Admission Control between PE and CE for C-RSVP Paths\n   The solution MUST\
    \ support admission control at the ingress PE.  PEs\n   MUST control RSVP messages\
    \ per a VRF instance.\n"
- title: 7.2.  Aggregation of C-RSVP Paths by P-TE LSPs
  contents:
  - "7.2.  Aggregation of C-RSVP Paths by P-TE LSPs\n   The solution SHOULD support\
    \ C-RSVP paths aggregated by P-TE LSPs.\n   P-TE LSPs SHOULD be pre-established\
    \ manually or dynamically by\n   operators and MAY be established if triggered\
    \ by C-RSVP messages.\n   Also, the P-TE LSP SHOULD support DS-TE.\n"
- title: 7.3.  Non-TE LSP Support for C-RSVP Paths
  contents:
  - "7.3.  Non-TE LSP Support for C-RSVP Paths\n   The solution SHOULD support non-TE\
    \ LSPs (i.e., LDP-based LSP, etc.).\n   Non-TE LSPs are established by LDP [RFC5036]\
    \ between PEs and support\n   MPLS Diffserv [RFC3270].  The solution MAY support\
    \ local policies to\n   map the customer's reserved flow to the LSP with the appropriate\n\
    \   Traffic Class at the PE.\n"
- title: 7.4.  Transparency of C-RSVP Paths
  contents:
  - "7.4.  Transparency of C-RSVP Paths\n   The solution SHOULD NOT change RSVP messages\
    \ from the local CE to the\n   remote CE (Path, Resv, Path Error, Resv Error,\
    \ etc.).  The solution\n   SHOULD allow customers to receive RSVP messages transparently\
    \ between\n   CE sites.\n"
- title: 8.  Commonly Detailed Requirements for Two Models
  contents:
  - "8.  Commonly Detailed Requirements for Two Models\n   This section describes\
    \ commonly detailed requirements for C-TE LSPs\n   and C-RSVP paths in BGP/MPLS\
    \ IP-VPN environments.\n"
- title: 8.1.  CE-PE Routing
  contents:
  - "8.1.  CE-PE Routing\n   The solution SHOULD support the following routing configuration\
    \ on\n   the CE-PE links with either RSVP or RSVP-TE on the CE-PE link:\n   1.\
    \ static routing\n   2. BGP routing\n   3. OSPF\n   4. OSPF-TE (RSVP-TE case only)\n"
- title: 8.2.  Complexity and Risks
  contents:
  - "8.2.  Complexity and Risks\n   The solution SHOULD avoid introducing unnecessary\
    \ complexity to the\n   current operating network to such a degree that it would\
    \ affect the\n   stability and diminish the benefits of deploying such a solution\
    \ over\n   SP networks.\n"
- title: 8.3.  Backward Compatibility
  contents:
  - "8.3.  Backward Compatibility\n   The deployment of C-RSVP paths and C-TE LSPs\
    \ SHOULD avoid impacting\n   existing RSVP and MPLS-TE mechanisms, respectively,\
    \ but should allow\n   for a smooth migration or co-existence.\n"
- title: 8.4.  Scalability Considerations
  contents:
  - "8.4.  Scalability Considerations\n   The solution SHOULD minimize the impact\
    \ on network scalability from a\n   C-RSVP path and a C-TE LSP over the VRF instance.\
    \  As identified in\n   earlier sections, PCE provides a method for offloading\
    \ computation of\n   C-TE LSPs and helps with the solution scalability.\n   The\
    \ solution MUST address the scalability of C-RSVP paths and\n   C-TE LSPs for\
    \ the following protocols.\n   1. RSVP (e.g., number of RSVP messages, retained\
    \ state, etc.).\n   2. RSVP-TE (e.g., number of RSVP control messages, retained\
    \ state,\n      message size, etc.).\n   3. BGP (e.g., number of routes, flaps,\
    \ overload events, etc.).\n"
- title: 8.5.  Performance Considerations
  contents:
  - "8.5.  Performance Considerations\n   The solution SHOULD be evaluated with regard\
    \ to the following\n   criteria.\n   1. Degree of path optimality of the C-TE\
    \ LSP.\n   2. TE LSP setup time.\n   3. Failure and restoration time.\n   4. Impact\
    \ and scalability of the control plane due to added overhead.\n   5. Impact and\
    \ scalability of the data/forwarding plane due to added\n      overhead.\n"
- title: 8.6.  Management Considerations
  contents:
  - "8.6.  Management Considerations\n   The solution MUST address the manageability\
    \ of C-RSVP paths and\n   C-TE LSPs for the following considerations.\n   1. Need\
    \ for a MIB module for the control plane (including mapping of\n      P-TE LSPs\
    \ and C-TE LSPs) and bandwidth monitoring.\n   2. Need for diagnostic tools (this\
    \ includes traceroute and Ping).\n   The solution MUST allow routers to support\
    \ the MIB module for C-RSVP\n   paths and C-TE LSPs per a VRF instance.  If a\
    \ CE is managed by\n   service providers, the solution MUST allow service providers\
    \ to\n   collect MIB information for C-RSVP paths and C-TE LSPs from the CE\n\
    \   per a customer.\n   Diagnostic tools can detect failures of the control plane\
    \ and data\n   plane for general MPLS-TE LSPs [RFC4379].  The solution MUST allow\n\
    \   routers to be able to detect failures of the control plane and the\n   data\
    \ plane for C-TE LSPs over a VRF instance.\n   MPLS Operations, Administration,\
    \ and Maintenance (OAM) for C-TE LSPs\n   MUST be supported within the context\
    \ of VRF, except for the above.\n"
- title: 9.  Security Considerations
  contents:
  - "9.  Security Considerations\n   Any solution should consider the following general\
    \ security\n   requirements:\n   1. The solution SHOULD NOT divulge the service-provider\
    \ topology\n      information to the customer network.\n   2. The solution SHOULD\
    \ minimize the service-provider network's\n      vulnerability to Denial of Service\
    \ (DoS) attacks.\n   3. The solution SHOULD minimize the misconfiguration of DSCP\
    \ marking,\n      preemption, and holding priorities of the customer traffic.\n\
    \   The following additional security issues for C-TE LSPs relate to both\n  \
    \ the control plane and the data plane.\n   In terms of the control plane, in\
    \ both the C-RSVP path and C-TE LSP\n   models, a PE receives IPv4 or IPv6 RSVP\
    \ control packets from a CE.\n   If the CE is a router that is not trusted by\
    \ service providers, the\n   PE MUST be able to limit the rate and number of IPv4\
    \ or IPv6 RSVP\n   control packets.\n   In terms of the data plane, in the C-TE\
    \ LSP model, a PE receives\n   labeled IPv4 or IPv6 data packets from a CE.  If\
    \ the CE is a router\n   that is not trusted by service providers, the PE MUST\
    \ be able to\n   limit the rate of labeled IPv4 or IPv6 data packets.  If the\
    \ CE is a\n   trusted router for service providers, the PE MAY be able to limit\
    \ the\n   rate of labeled IPv4 or IPv6 data packets.  Specifically, the PE must\n\
    \   drop MPLS-labeled packets if the MPLS label was not assigned over the\n  \
    \ PE-CE link on which the packet was received.  The PE must also be\n   able to\
    \ police traffic to the traffic profile associated with the LSP\n   on which traffic\
    \ is received on the PE-CE link.\n   Moreover, flooding RSVP/RSVP-TE control packets\
    \ from malicious\n   customers must be avoided.  Therefore, a PE MUST isolate\
    \ the impact\n   of such customers' RSVP/RSVP-TE packets from other customers.\n\
    \   In the event that C-TE LSPs are diversely routed over VRF instances,\n   the\
    \ VRF should indicate to the CE how such diversity was provided.\n"
- title: 10.  References
  contents:
  - '10.  References

    '
- title: 10.1.  Normative References
  contents:
  - "10.1.  Normative References\n   [RFC1633]      Braden, R., Clark, D., and S.\
    \ Shenker, \"Integrated\n                  Services in the Internet Architecture:\
    \ an Overview\",\n                  RFC 1633, June 1994.\n   [RFC2119]      Bradner,\
    \ S., \"Key words for use in RFCs to Indicate\n                  Requirement Levels\"\
    , BCP 14, RFC 2119, March 1997.\n   [RFC2210]      Wroclawski, J., \"The Use of\
    \ RSVP with IETF Integrated\n                  Services\", RFC 2210, September\
    \ 1997.\n   [RFC3209]      Awduche, D., Berger, L., Gan, D., Li, T.,\n       \
    \           Srinivasan, V., and G. Swallow, \"RSVP-TE: Extensions\n          \
    \        to RSVP for LSP Tunnels\", RFC 3209, December 2001.\n   [RFC3270]   \
    \   Le Faucheur, F., Wu, L., Davie, B., Davari, S.,\n                  Vaananen,\
    \ P., Krishnan, R., Cheval, P., and\n                  J. Heinanen, \"Multi-Protocol\
    \ Label Switching (MPLS)\n                  Support of Differentiated Services\"\
    , RFC 3270,\n                  May 2002.\n   [RFC3473]      Berger, L., Ed., \"\
    Generalized Multi-Protocol Label\n                  Switching (GMPLS) Signaling\
    \ Resource ReserVation\n                  Protocol-Traffic Engineering (RSVP-TE)\
    \ Extensions\",\n                  RFC 3473, January 2003.\n   [RFC3623]     \
    \ Moy, J., Pillay-Esnault, P., and A. Lindem, \"Graceful\n                  OSPF\
    \ Restart\", RFC 3623, November 2003.\n   [RFC4090]      Pan, P., Ed., Swallow,\
    \ G., Ed., and A. Atlas, Ed.,\n                  \"Fast Reroute Extensions to\
    \ RSVP-TE for LSP Tunnels\",\n                  RFC 4090, May 2005.\n   [RFC4124]\
    \      Le Faucheur, F., Ed., \"Protocol Extensions for Support\n             \
    \     of Diffserv-aware MPLS Traffic Engineering\", RFC 4124,\n              \
    \    June 2005.\n   [RFC4364]      Rosen, E. and Y. Rekhter, \"BGP/MPLS IP Virtual\
    \ Private\n                  Networks (VPNs)\", RFC 4364, February 2006.\n   [RFC4379]\
    \      Kompella, K. and G. Swallow, \"Detecting Multi-Protocol\n             \
    \     Label Switched (MPLS) Data Plane Failures\", RFC 4379,\n               \
    \   February 2006.\n   [RFC4655]      Farrel, A., Vasseur, J.-P., and J. Ash,\
    \ \"A Path\n                  Computation Element (PCE)-Based Architecture\",\n\
    \                  RFC 4655, August 2006.\n   [RFC4781]      Rekhter, Y. and R.\
    \ Aggarwal, \"Graceful Restart\n                  Mechanism for BGP with MPLS\"\
    , RFC 4781, January 2007.\n   [RFC5036]      Andersson, L., Ed., Minei, I., Ed.,\
    \ and B. Thomas,\n                  Ed., \"LDP Specification\", RFC 5036, October\
    \ 2007.\n   [RFC5462]      Andersson, L. and R. Asati, \"Multiprotocol Label\n\
    \                  Switching (MPLS) Label Stack Entry: \"EXP\" Field\n       \
    \           Renamed to \"Traffic Class\" Field\", RFC 5462,\n                \
    \  February 2009.\n"
- title: 10.2.  Informative References
  contents:
  - "10.2.  Informative References\n   [RSVP-L3VPN]   Davie, B., Le Faucheur, F.,\
    \ and A. Narayanan, \"Support\n                  for RSVP in Layer 3 VPNs\", Work\
    \ in Progress,\n                  November 2009.\n   [RFC4804]      Le Faucheur,\
    \ F., Ed., \"Aggregation of Resource\n                  ReSerVation Protocol (RSVP)\
    \ Reservations over MPLS\n                  TE/DS-TE Tunnels\", RFC 4804, February\
    \ 2007.\n   [RFC5330]      Vasseur, JP., Ed., Meyer, M., Kumaki, K., and\n   \
    \               A. Bonda, \"A Link-Type sub-TLV to Convey the Number of\n    \
    \              Traffic Engineering Label Switched Paths Signalled\n          \
    \        with Zero Reserved Bandwidth across a Link\", RFC 5330,\n           \
    \       October 2008.\n   [RFC5440]      Vasseur, JP., Ed., and JL. Le Roux, Ed.,\
    \ \"Path\n                  Computation Element (PCE) Communication Protocol\n\
    \                  (PCEP)\", RFC 5440, March 2009.\n"
- title: 11.  Acknowledgments
  contents:
  - "11.  Acknowledgments\n   The authors would like to express thanks to Nabil Bitar,\n\
    \   David McDysan, and Daniel King for their helpful and useful comments\n   and\
    \ feedback.\n"
- title: Appendix A.  Reference Model
  contents:
  - "Appendix A.  Reference Model\n   In this appendix, a C-RSVP path, a C-TE LSP,\
    \ and a P-TE LSP are\n   explained.\n   All scenarios in this appendix assume\
    \ the following:\n   - A P-TE LSP is established between PE1 and PE2.  This LSP\
    \ is used by\n     the VRF instance to forward customer packets within a BGP/MPLS\n\
    \     IP-VPN.\n   - The service provider has ensured that enough bandwidth is\
    \ available\n     to meet the service requirements.\n"
- title: A.1.  End-to-End C-RSVP Path Model
  contents:
  - "A.1.  End-to-End C-RSVP Path Model\n   A C-RSVP path and a P-TE LSP are shown\
    \ in Figure 7, in the context of\n   a BGP/MPLS IP-VPN.  A P-TE LSP may be a non-TE\
    \ LSP (i.e., LDP) in\n   some cases.  In the case of a non-TE mechanism, however,\
    \ it may be\n   difficult to guarantee an end-to-end bandwidth, as resources are\n\
    \   shared.\n   CE0/CE1 requests an e2e C-RSVP path to CE3/CE2 with the bandwidth\n\
    \   reservation of X.  At PE1, this reservation request received in the\n   context\
    \ of a VRF will get aggregated onto a pre-established P-TE LSP,\n   or trigger\
    \ the establishment of a new P-TE LSP.  It should be noted\n   that C-RSVP sessions\
    \ across different BGP/MPLS IP-VPNs can be\n   aggregated onto the same P-TE LSP\
    \ between the same PE pair, achieving\n   further scalability.  [RFC4804] defines\
    \ this scenario in more detail.\n   The RSVP control messages (e.g., an RSVP PATH\
    \ message and an RSVP\n   RESV message) exchanged among CEs are forwarded by IP\
    \ packets through\n   the BGP/MPLS IP-VPN.  After CE0 and/or CE1 receive a reservation\n\
    \   message from CE2 and/or CE3, CE0/CE1 establishes a C-RSVP path\n   through\
    \ the BGP/MPLS IP-VPN.\n                              C-RSVP path\n          \
    \      <------------------------------------------>\n                        \
    \       P-TE LSP\n                     <--------------------------->\n    .............\
    \                                     .............\n    . ---   --- .   --- \
    \     ---       ---      ---   . ---   --- .\n    .|CE0| |CE1|---|PE1|----|P1\
    \ |-----|P2 |----|PE2|---|CE2| |CE3|.\n    . ---   --- .   ---      ---      \
    \ ---      ---   . ---   --- .\n    .............                            \
    \         .............\n                   ^                               ^\n\
    \                   |                               |\n              VRF instance\
    \                    VRF instance\n     <-customer->    <------BGP/MPLS IP-VPN------>\
    \     <-customer->\n       network                                           network\n\
    \         or                                                or\n       another\
    \                                           another\n   service-provider     \
    \                             service-provider\n       network               \
    \                            network\n                     Figure 7.  e2e C-RSVP\
    \ Path Model\n"
- title: A.2.  End-to-End C-TE LSP Model
  contents:
  - "A.2.  End-to-End C-TE LSP Model\n   A C-TE LSP and a P-TE LSP are shown in Figure\
    \ 8, in the context of a\n   BGP/MPLS IP-VPN.  A P-TE LSP may be a non-TE LSP\
    \ (i.e., LDP) in some\n   cases.  As described in the previous sub-section, it\
    \ may be difficult\n   to guarantee an end-to-end QoS in some cases.\n   CE0/CE1\
    \ requests an e2e TE LSP path to CE3/CE2 with the bandwidth\n   reservation of\
    \ X.  At PE1, this reservation request received in the\n   context of a VRF will\
    \ get aggregated onto a pre-established P-TE LSP,\n   or trigger the establishment\
    \ of a new P-TE LSP.  It should be noted\n   that C-TE LSPs across different BGP/MPLS\
    \ IP-VPNs can be aggregated\n   onto the same P-TE LSP between the same PE pair,\
    \ achieving further\n   scalability.\n   The RSVP-TE control messages (e.g., an\
    \ RSVP PATH message and an RSVP\n   RESV message) exchanged among CEs are forwarded\
    \ by a labeled packet\n   through the BGP/MPLS IP-VPN.  After CE0 and/or CE1 receive\
    \ a\n   reservation message from CE2 and/or CE3, CE0/CE1 establishes a\n   C-TE\
    \ LSP through the BGP/MPLS IP-VPN.\n   A P-TE LSP is established between PE1 and\
    \ PE2.  This LSP is used by\n   the VRF instance to forward customer packets within\
    \ the BGP/MPLS\n   IP-VPN.\n                                 C-TE LSP\n      \
    \  <------------------------------------------------------->\n               \
    \                     or\n                                 C-TE LSP\n        \
    \       <----------------------------------------->\n                        \
    \         P-TE LSP\n                      <--------------------------->\n    \
    \ .............                                     .............\n     . ---\
    \   --- .   ---      ---       ---      ---   . ---   --- .\n     .|CE0| |CE1|---|PE1|----|P1\
    \ |-----|P2 |----|PE2|---|CE2| |CE3|.\n     . ---   --- .   ---      ---     \
    \  ---      ---   . ---   --- .\n     .............                          \
    \           .............\n                    ^                             \
    \  ^\n                    |                               |\n               VRF\
    \ instance                    VRF instance\n      <-customer->   <-------BGP/MPLS\
    \ IP-VPN------->    <-customer->\n        network                            \
    \               network\n           or                                       \
    \         or\n        another                                           another\n\
    \    service-provider                                  service-provider\n    \
    \    network                                           network\n             \
    \          Figure 8.  e2e C-TE LSP Model\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Kenji Kumaki (Editor)\n   KDDI Corporation\n   Garden\
    \ Air Tower\n   Iidabashi, Chiyoda-ku\n   Tokyo 102-8460, JAPAN\n   EMail: ke-kumaki@kddi.com\n\
    \   Raymond Zhang\n   BT\n   Farady Building, PP1.21\n   1 Knightrider Street\n\
    \   London EC4V 5BT\n   UK\n   EMail: raymond.zhang@bt.com\n   Yuji Kamite\n \
    \  NTT Communications Corporation\n   Granpark Tower\n   3-4-1 Shibaura, Minato-ku\n\
    \   Tokyo  108-8118\n   Japan\n   EMail: y.kamite@ntt.com\n"
