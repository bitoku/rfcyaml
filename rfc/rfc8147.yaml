- title: __initial_text__
  contents:
  - '                   Next-Generation Pan-European eCall

    '
- title: Abstract
  contents:
  - "Abstract\n   This document describes how to use IP-based emergency services\n\
    \   mechanisms to support the next generation of the Pan-European in-\n   vehicle\
    \ emergency call service defined under the eSafety initiative\n   of the European\
    \ Commission (generally referred to as \"eCall\"). eCall\n   is a standardized\
    \ and mandated system for a special form of emergency\n   calls placed by vehicles,\
    \ providing real-time communications and an\n   integrated set of related data.\n\
    \   This document also registers MIME media types and an Emergency Call\n   Data\
    \ Type for the eCall vehicle data and metadata/control data, and\n   an INFO package\
    \ to enable carrying this data in SIP INFO requests.\n   Although this specification\
    \ is designed to meet the requirements of\n   next-generation Pan-European eCall\
    \ (NG-eCall), it is specified\n   generically such that the technology can be\
    \ reused or extended to\n   suit requirements across jurisdictions.\n"
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This is an Internet Standards Track document.\n   This\
    \ document is a product of the Internet Engineering Task Force\n   (IETF).  It\
    \ represents the consensus of the IETF community.  It has\n   received public\
    \ review and has been approved for publication by the\n   Internet Engineering\
    \ Steering Group (IESG).  Further information on\n   Internet Standards is available\
    \ in Section 2 of RFC 7841.\n   Information about the current status of this document,\
    \ any errata,\n   and how to provide feedback on it may be obtained at\n   http://www.rfc-editor.org/info/rfc8147.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (c) 2017 IETF Trust and the persons identified\
    \ as the\n   document authors.  All rights reserved.\n   This document is subject\
    \ to BCP 78 and the IETF Trust's Legal\n   Provisions Relating to IETF Documents\n\
    \   (http://trustee.ietf.org/license-info) in effect on the date of\n   publication\
    \ of this document.  Please review these documents\n   carefully, as they describe\
    \ your rights and restrictions with respect\n   to this document.  Code Components\
    \ extracted from this document must\n   include Simplified BSD License text as\
    \ described in Section 4.e of\n   the Trust Legal Provisions and are provided\
    \ without warranty as\n   described in the Simplified BSD License.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1.  Introduction  . . . . . . . . . . . . . . . . . . .\
    \ . . . . .   4\n   2.  Terminology . . . . . . . . . . . . . . . . . . . . .\
    \ . . . .   6\n   3.  Document Scope  . . . . . . . . . . . . . . . . . . . .\
    \ . . .   6\n   4.  eCall Requirements  . . . . . . . . . . . . . . . . . . .\
    \ . .   7\n   5.  Vehicle Data  . . . . . . . . . . . . . . . . . . . . . . .\
    \ .   7\n   6.  Data Transport  . . . . . . . . . . . . . . . . . . . . . . .\
    \   7\n   7.  Call Setup  . . . . . . . . . . . . . . . . . . . . . . . . .  10\n\
    \   8.  Test Calls  . . . . . . . . . . . . . . . . . . . . . . . . .  11\n  \
    \ 9.  The Metadata/Control Object . . . . . . . . . . . . . . . . .  11\n    \
    \ 9.1.  The Control Block . . . . . . . . . . . . . . . . . . . .  13\n      \
    \ 9.1.1.  The <ack> Element . . . . . . . . . . . . . . . . . .  14\n        \
    \ 9.1.1.1.  Attributes of the <ack> Element . . . . . . . . .  14\n         9.1.1.2.\
    \  Child Element of the <ack> Element  . . . . . . .  15\n         9.1.1.3.  Example\
    \ of the <ack> Element  . . . . . . . . . .  16\n       9.1.2.  The <capabilities>\
    \ Element  . . . . . . . . . . . . .  16\n         9.1.2.1.  Child Element of\
    \ the <capabilities> Element . . .  16\n         9.1.2.2.  Example of the <capabilities>\
    \ Element . . . . . .  17\n       9.1.3.  The <request> Element . . . . . . .\
    \ . . . . . . . . .  17\n         9.1.3.1.  Attributes of the <request> Element\
    \ . . . . . . .  17\n         9.1.3.2.  Child Element of the <request> Element\
    \  . . . . .  19\n         9.1.3.3.  Request Example . . . . . . . . . . . . .\
    \ . . . .  19\n   10. Examples  . . . . . . . . . . . . . . . . . . . . . . .\
    \ . . .  20\n   11. Security Considerations . . . . . . . . . . . . . . . . .\
    \ . .  25\n   12. Privacy Considerations  . . . . . . . . . . . . . . . . . .\
    \ .  27\n   13. XML Schema  . . . . . . . . . . . . . . . . . . . . . . . . .\
    \  27\n   14. IANA Considerations . . . . . . . . . . . . . . . . . . . . .  30\n\
    \     14.1.  The EmergencyCallData Media Subtree  . . . . . . . . . .  30\n  \
    \   14.2.  Service URN Registrations  . . . . . . . . . . . . . . .  31\n    \
    \ 14.3.  MIME Media Type Registration for\n            application/EmergencyCallData.eCall.MSD\
    \  . . . . . . . .  31\n     14.4.  MIME Media Type Registration for\n       \
    \     application/EmergencyCallData.Control+xml  . . . . . . .  32\n     14.5.\
    \  Registration of the \"eCall.MSD\" Entry in the Emergency\n            Call\
    \ Data Types Registry . . . . . . . . . . . . . . . .  34\n     14.6.  Registration\
    \ of the \"Control\" Entry in the Emergency\n            Call Data Types Registry\
    \ . . . . . . . . . . . . . . . .  34\n     14.7.  Registration for\n        \
    \    urn:ietf:params:xml:ns:EmergencyCallData:control . . . .  34\n     14.8.\
    \  Registry Creation  . . . . . . . . . . . . . . . . . . .  35\n       14.8.1.\
    \  Emergency Call Actions Registry  . . . . . . . . . .  35\n       14.8.2.  Emergency\
    \ Call Action Failure Reasons Registry . . .  36\n     14.9.  The EmergencyCallData.eCall.MSD\
    \ INFO Package . . . . . .  37\n       14.9.1.  Overall Description  . . . . .\
    \ . . . . . . . . . . .  37\n       14.9.2.  Applicability  . . . . . . . . .\
    \ . . . . . . . . . .  37\n       14.9.3.  INFO Package Name  . . . . . . . .\
    \ . . . . . . . . .  38\n       14.9.4.  INFO Package Parameters  . . . . . .\
    \ . . . . . . . .  38\n       14.9.5.  SIP Option-Tags  . . . . . . . . . . .\
    \ . . . . . . .  38\n       14.9.6.  INFO Request Body Parts  . . . . . . . .\
    \ . . . . . .  38\n       14.9.7.  INFO Package Usage Restrictions  . . . . .\
    \ . . . . .  39\n       14.9.8.  Rate of INFO Requests  . . . . . . . . . . .\
    \ . . . .  39\n       14.9.9.  INFO Package Security Considerations . . . . .\
    \ . . .  39\n       14.9.10. Implementation Details . . . . . . . . . . . . .\
    \ . .  39\n       14.9.11. Examples . . . . . . . . . . . . . . . . . . . . .\
    \ .  39\n   15. References  . . . . . . . . . . . . . . . . . . . . . . . . .\
    \  40\n     15.1.  Normative References . . . . . . . . . . . . . . . . . .  40\n\
    \     15.2.  Informative references . . . . . . . . . . . . . . . . .  41\n  \
    \ Acknowledgments . . . . . . . . . . . . . . . . . . . . . . . . .  42\n   Contributors\
    \  . . . . . . . . . . . . . . . . . . . . . . . . . .  42\n   Authors' Addresses\
    \  . . . . . . . . . . . . . . . . . . . . . . .  43\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   Emergency calls made from vehicles (e.g., in the event of\
    \ a crash)\n   assist in significantly reducing road deaths and injuries by allowing\n\
    \   emergency services to be aware of the incident, the state (condition)\n  \
    \ of the vehicle, and the location of the vehicle and to have a voice\n   communications\
    \ channel with the vehicle occupants.  This enables a\n   quick and appropriate\
    \ response.\n   The European Commission initiative of eCall was conceived in the\
    \ late\n   1990s and has evolved to a European Parliament decision requiring the\n\
    \   implementation of a compliant in-vehicle system (IVS) in new vehicles\n  \
    \ and the deployment of eCall in the European Member States in the very\n   near\
    \ future.  Other regions are developing eCall-compatible systems.\n   The Pan-European\
    \ eCall system is a standardized and mandated\n   mechanism for emergency calls\
    \ by vehicles, providing a voice channel\n   and transmission of data.  eCall\
    \ establishes procedures for such\n   calls to be placed by in-vehicle systems,\
    \ recognized and processed by\n   the mobile network, and routed to a specialized\
    \ Public Safety\n   Answering Point (PSAP) where the vehicle data is available\
    \ to assist\n   the call taker in assessing and responding to the situation. \
    \ eCall\n   provides a standard set of vehicle, sensor (e.g., crash-related),\
    \ and\n   location data.\n   An eCall can be either user initiated or automatically\
    \ triggered.\n   Automatically triggered eCalls indicate a car crash or some other\n\
    \   serious incident.  Manually triggered eCalls might be reports of\n   witnessed\
    \ crashes or serious hazards, a request for medical\n   assistance, etc.  PSAPs\
    \ might apply specific operational handling to\n   manual and automatic eCalls.\n\
    \   Legacy eCall is standardized (by 3GPP [SDO-3GPP] and the European\n   Committee\
    \ for Standardization (CEN) [CEN]) as a 3GPP circuit-switched\n   call over Global\
    \ System for Mobile communications (GSM) (2G) or\n   Universal Mobile Telecommunications\
    \ System (UMTS) (3G).  Flags in the\n   call setup mark the call as an eCall and\
    \ further indicate if the call\n   was automatically or manually triggered.  The\
    \ call is routed to an\n   eCall-capable PSAP, a voice channel is established\
    \ between the\n   vehicle and the PSAP, and an eCall in-band modem is used to\
    \ carry a\n   defined set of vehicle, sensor (e.g., crash-related), and location\n\
    \   data (the Minimum Set of Data or MSD) within the voice channel.  The\n   same\
    \ in-band mechanism is used for the PSAP to acknowledge successful\n   receipt\
    \ of the MSD and to request the vehicle to send a new MSD\n   (e.g., to check\
    \ if the state of or location of the vehicle or its\n   occupants has changed).\
    \  NG-eCall moves from circuit switched to\n   all-IP and carries the vehicle\
    \ data and eCall signaling as additional\n   data carried with the call.  This\
    \ document describes how IETF\n   mechanisms for IP-based emergency calls (including\
    \ [RFC6443] and\n   [RFC7852]) are used to provide the signaling and data exchange\
    \ of the\n   next generation of Pan-European eCall.\n   The European Telecommunications\
    \ Standards Institute (ETSI) [SDO-ETSI]\n   has published a Technical Report titled\
    \ \"Mobile Standards Group\n   (MSG); eCall for VoIP\" [MSG_TR] that presents\
    \ findings and\n   recommendations regarding support for eCall in an all-IP environment.\n\
    \   The recommendations include the use of 3GPP Internet Multimedia\n   System\
    \ (IMS) emergency calling with additional elements identifying\n   the call as\
    \ an eCall and as carrying eCall data and mechanisms for\n   carrying the data\
    \ and eCall signaling.  3GPP IMS emergency services\n   support multimedia, providing\
    \ the ability to carry voice, text, and\n   video.  This capability is referred\
    \ to within 3GPP as Multimedia\n   Emergency Services (MMES).\n   A transition\
    \ period will exist during which time the various entities\n   involved in initiating\
    \ and handling an eCall might support NG-eCall,\n   legacy eCall, or both.  The\
    \ issues of migration and co-existence\n   during the transition period are outside\
    \ the scope of this document.\n   This document indicates how to use IP-based\
    \ emergency services\n   mechanisms to support NG-eCall.\n   This document also\
    \ registers MIME media types and Emergency Call Data\n   Types for the eCall vehicle\
    \ data (MSD) and metadata/control data, and\n   an INFO package to enable carrying\
    \ this data in SIP INFO requests.\n   The MSD is carried in the MIME type application/\n\
    \   EmergencyCallData.eCall.MSD and the metadata/control block is carried\n  \
    \ in the MIME type application/EmergencyCallData.Control+xml (both of\n   which\
    \ are registered in Section 14).  An INFO package is defined (in\n   Section 14.9)\
    \ to enable these MIME types to be carried in SIP INFO\n   requests, per [RFC6086].\n"
- title: 2.  Terminology
  contents:
  - "2.  Terminology\n   The key words \"MUST\", \"MUST NOT\", \"REQUIRED\", \"SHALL\"\
    , \"SHALL NOT\",\n   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"MAY\", and\
    \ \"OPTIONAL\" in this\n   document are to be interpreted as described in [RFC2119].\n\
    \   This document reuses terminology defined in Section 3 of [RFC5012].\n   Additionally,\
    \ we use the following abbreviations:\n      3GPP:    3rd Generation Partnership\
    \ Project\n      CEN:     European Committee for Standardization\n      EENA:\
    \    European Emergency Number Association\n      ESInet:  Emergency Services\
    \ IP network\n      IMS:     IP Multimedia Subsystem\n      IVS:     In-Vehicle\
    \ System\n      MNO:     Mobile Network Operator\n      MSD:     Minimum Set of\
    \ Data\n      PSAP:    Public Safety Answering Point\n"
- title: 3.  Document Scope
  contents:
  - "3.  Document Scope\n   This document is focused on the signaling, data exchange,\
    \ and\n   protocol needs of NG-eCall (also referred to as packet-switched eCall\n\
    \   or all-IP eCall) within the SIP framework for emergency calls (as\n   described\
    \ in [RFC6443] and [RFC6881]).  eCall itself is specified by\n   3GPP and CEN,\
    \ and these specifications include far greater scope than\n   is covered here.\n\
    \   The eCall service operates over cellular wireless communication, but\n   this\
    \ document does not address cellular-specific details, nor client\n   domain selection\
    \ (e.g., circuit-switched versus packet-switched).\n   All such aspects are the\
    \ purview of their respective standards\n   bodies.  The scope of this document\
    \ is limited to eCall operating\n   within a SIP-based environment (e.g., 3GPP\
    \ IMS Emergency Calling\n   [TS23.167]).\n   Although this specification is designed\
    \ to meet the requirements of\n   Pan-European NG-eCall, it is specified generically\
    \ such that the\n   technology can be reused or extended to suit requirements\
    \ across\n   jurisdictions (see, e.g., [RFC8148]), and extension points are\n\
    \   provided to facilitate this.\n   Note that vehicles designed for multiple\
    \ regions might need to\n   support eCall and other Advanced Automatic Crash Notification\
    \ (AACN)\n   systems (such as described in [RFC8148]), but this is out of scope\
    \ of\n   this document.\n"
- title: 4.  eCall Requirements
  contents:
  - "4.  eCall Requirements\n   eCall requirements are specified by CEN in [EN_16072]\
    \ and by 3GPP in\n   [TS22.101], Section 10.7 and Annex A.27, and [TS24.229],\n\
    \   Section 4.7.6.  Requirements specific to vehicle data are contained\n   in\
    \ EN 15722 [MSD].\n"
- title: 5.  Vehicle Data
  contents:
  - "5.  Vehicle Data\n   Pan-European eCall provides a standardized and mandated\
    \ set of\n   vehicle-related data (including VIN, vehicle type, propulsion type,\n\
    \   current and optionally previous location coordinates, and the number\n   of\
    \ occupants) known as the Minimum Set of Data (MSD).  CEN has\n   specified this\
    \ data in EN 15722 [MSD], along with both ASN.1 and XML\n   encodings.  Both circuit-switched\
    \ eCall and this document use the\n   ASN.1 PER encoding, which is specified in\
    \ Annex A of EN 15722 [MSD]\n   (the XML encoding specified in Annex C is not\
    \ used in this document,\n   per 3GPP [SDO-3GPP]).\n   This document registers\
    \ the application/EmergencyCallData.eCall.MSD\n   MIME media type to enable the\
    \ MSD to be carried in SIP.  As an ASN.1\n   PER-encoded object, the data is binary\
    \ and transported using binary\n   content transfer encoding within SIP messages.\
    \  This document also\n   adds \"eCall.MSD\" to the \"Emergency Call Data Types\"\
    \ registry to\n   enable the MSD to be recognized as such in a SIP-based eCall\n\
    \   emergency call.  (See [RFC7852] for more information about the\n   registry\
    \ and how it is used.)\n   See Section 6 for a discussion of how the MSD vehicle\
    \ data is\n   conveyed in an NG-eCall.\n"
- title: 6.  Data Transport
  contents:
  - "6.  Data Transport\n   [RFC7852] establishes a general mechanism for conveying\
    \ blocks of\n   data within a SIP emergency call.  This document makes use of\
    \ that\n   mechanism to include vehicle data (the MSD; see Section 5) and\n  \
    \ metadata/control information (see Section 9) within SIP messages.\n   This document\
    \ also registers an INFO package (in Section 14.9) to\n   enable eCall-related\
    \ data blocks to be carried in SIP INFO requests\n   (per [RFC6086], new INFO\
    \ usages require the definition of an INFO\n   package).\n   Note that if other\
    \ data sets need to be transmitted in the future,\n   the appropriate signaling\
    \ mechanism for such data needs to be\n   evaluated, including factors such as\
    \ the size and frequency of such\n   data.\n   An IVS transmits an MSD (see Section\
    \ 5) by encoding it per Annex A of\n   EN 15722 [MSD] and including it as a MIME\
    \ body part within a SIP\n   message per [RFC7852].  The body part is identified\
    \ by its MIME media\n   type (application/EmergencyCallData.eCall.MSD) in the\
    \ Content-Type\n   header field of the body part.  The body part is assigned a\
    \ unique\n   identifier that is listed in a Content-ID header field in the body\n\
    \   part.  The SIP message is marked as containing the MSD by adding (or\n   appending\
    \ to) a Call-Info header field at the top level of the SIP\n   message.  This\
    \ Call-Info header field contains a Content Identifier\n   (CID) URL referencing\
    \ the body part's unique identifier and a\n   \"purpose\" parameter identifying\
    \ the data as the eCall MSD per the\n   entry in the \"Emergency Call Data Types\"\
    \ registry; the \"purpose\"\n   parameter's value is \"EmergencyCallData.eCall.MSD\"\
    .  Per [RFC6086],\n   an MSD is carried in a SIP INFO request by using the INFO\
    \ package\n   defined in Section 14.9.\n   A PSAP or IVS transmits a metadata/control\
    \ object (see Section 9) by\n   encoding it per the description in this document\
    \ and including it\n   within a SIP message as a MIME body part per [RFC7852].\
    \  The body\n   part is identified by its MIME media type (application/\n   EmergencyCallData.Control+xml)\
    \ in the Content-Type header field of\n   the body part.  The body part is assigned\
    \ a unique identifier, which\n   is listed in a Content-ID header field in the\
    \ body part.  The SIP\n   message is marked as containing the metadata/control\
    \ object by adding\n   (or appending to) a Call-Info header field at the top level\
    \ of the\n   SIP message.  This Call-Info header field contains a CID URL\n  \
    \ referencing the body part's unique identifier and a \"purpose\"\n   parameter\
    \ identifying the data as an eCall metadata/control block per\n   the entry in\
    \ the \"Emergency Call Data Types\" registry; the \"purpose\"\n   parameter's\
    \ value is \"EmergencyCallData.Control\".  Per [RFC6086], a\n   metadata/control\
    \ object is carried in a SIP INFO request by using the\n   INFO package defined\
    \ in Section 14.9.\n   An MSD or a metadata/control block is always enclosed in\
    \ a multipart\n   body part (even if it would otherwise be the only body part\
    \ in the\n   SIP message).\n   A body part containing an MSD or metadata/control\
    \ object has a\n   Content-Disposition header field value containing \"By-Reference\"\
    .\n   An IVS initiating an NG-eCall includes an MSD as a body part within\n  \
    \ the initial INVITE and optionally also includes a metadata/control\n   object\
    \ informing the PSAP of its capabilities as another body part.\n   The MSD body\
    \ part (and metadata/control and Presence Information Data\n   Format Location\
    \ Object (PIDF-LO) body parts, if included) have a\n   Content-Disposition header\
    \ field with the value \"By-Reference;\n   handling=optional\".  Specifying \"\
    handling=optional\" prevents the SIP\n   INVITE request from being rejected if\
    \ it is processed by a legacy\n   element (e.g., a gateway between SIP and circuit-switched\n\
    \   environments) that does not understand the MSD (or metadata/control\n   object\
    \ or PIDF-LO).\n   The PSAP creates a metadata/control object acknowledging receipt\
    \ of\n   the MSD and includes it as a body part within the SIP final response\n\
    \   to the SIP INVITE request per [RFC7852].  A metadata/control object\n   is\
    \ not included in provisional (e.g., 180) responses.\n   A PSAP is able to reject\
    \ a call while indicating that it is aware of\n   the situation by including a\
    \ metadata/control object acknowledging\n   the MSD and containing \"received=true\"\
    \ within a final response using\n   SIP response code 600 (Busy Everywhere), 486\
    \ (Busy Here), or 603\n   (Decline), per [RFC7852].\n   If the IVS receives an\
    \ acknowledgment for an MSD containing\n   \"received=false\", this indicates\
    \ that the PSAP was unable to properly\n   decode or process the MSD.  The IVS\
    \ action is not defined (e.g., it\n   might only log an error).  Since the PSAP\
    \ is able to request an\n   updated MSD during the call, if an initial MSD is\
    \ unsatisfactory in\n   any way, the PSAP can choose to request another one.\n\
    \   A PSAP can request that the vehicle send an updated MSD during a call\n  \
    \ (e.g., upon manual request of the PSAP call taker who suspects the\n   vehicle\
    \ state may have changed).  To do so, the PSAP creates a\n   metadata/control\
    \ object requesting an MSD and includes it within a\n   SIP INFO request sent\
    \ within the dialog.  The IVS then includes an\n   updated MSD within a SIP INFO\
    \ request and sends it within the dialog.\n   If the IVS is unable to send an\
    \ MSD, it instead sends a metadata/\n   control object acknowledging the request,\
    \ containing an\n   <actionResult> element with a \"success\" parameter set to\
    \ \"false\" and\n   a \"reason\" parameter (and optionally a \"details\" parameter)\n\
    \   indicating why the request could not be accomplished.  Per [RFC6086],\n  \
    \ metadata/control objects and MSDs are sent using the INFO package\n   defined\
    \ in Section 14.9.  In addition, to align with how an MSD or\n   metadata/control\
    \ block is transmitted in a SIP message other than an\n   INFO request, a Call-Info\
    \ header field is included in the SIP INFO\n   request to reference the MSD or\
    \ metadata/control block per [RFC7852].\n   See Section 14.9 for information about\
    \ the use of SIP INFO requests\n   to carry data within an eCall.\n   The IVS\
    \ is not expected to send an unsolicited MSD after the initial\n   INVITE.\n \
    \  This document does not mandate support for the data blocks defined in\n   [RFC7852].\n"
- title: 7.  Call Setup
  contents:
  - "7.  Call Setup\n   In a circuit-switched eCall, the IVS places a special form\
    \ of a 112\n   emergency call, which carries an eCall flag (indicating that the\
    \ call\n   is an eCall and also if the call was manually or automatically\n  \
    \ triggered); the mobile network operator (MNO) recognizes the eCall\n   flag\
    \ and routes the call to an eCall-capable PSAP, and vehicle data\n   is transmitted\
    \ to the PSAP via the eCall in-band modem (in the voice\n   channel).\n      ///-----\\\
    \\\\     112 voice call with eCall flag      +------+\n      ||| IVS |||---------------------------------------->|\
    \ PSAP |\n      \\\\\\-----///  vehicle data via eCall in-band modem   +------+\n\
    \                     Figure 1: Circuit-Switched eCall\n   For NG-eCall, the IVS\
    \ establishes an emergency call using a Request-\n   URI indicating a manual or\
    \ automatic eCall; the MNO (or ESInet)\n   recognizes the eCall URN and routes\
    \ the call to an NG-eCall-capable\n   PSAP; and the PSAP interprets the vehicle\
    \ data sent with the call and\n   makes it available to the call taker.\n    \
    \  ///-----\\\\\\    IMS emergency call with eCall URN    +------+\n      |||\
    \ IVS |||---------------------------------------->| PSAP |\n      \\\\\\-----///\
    \  vehicle data included in call setup    +------+\n                         \
    \   Figure 2: NG-eCall\n   See Section 6 for information on how the MSD is transported\
    \ within an\n   NG-eCall.\n   This document adds new service URN children within\
    \ the \"sos\"\n   subservice.  These URNs provide the mechanism by which an eCall\
    \ is\n   identified and differentiate between manually and automatically\n   triggered\
    \ eCalls (which might be subject to different treatment,\n   depending on policy).\
    \  The two service URNs are:\n   urn:service:sos.ecall.automatic and urn:service:sos.ecall.manual,\n\
    \   which request resources associated with an emergency call placed by\n   an\
    \ in-vehicle system, carrying a standardized set of data related to\n   the vehicle\
    \ and incident.  These are registered in Section 14.2.\n   Call routing is outside\
    \ the scope of this document.\n"
- title: 8.  Test Calls
  contents:
  - "8.  Test Calls\n   eCall requires the ability to place test calls (see [TS22.101],\n\
    \   clause 10.7 and [EN_16062], clause 7.2.2).  These are calls that are\n   recognized\
    \ and treated to some extent as eCalls but are not given\n   emergency call treatment\
    \ and are not handled by call takers.  The\n   specific handling of test eCalls\
    \ is outside the scope of this\n   document; typically, the test call facility\
    \ allows the IVS or user to\n   verify that an eCall can be successfully established\
    \ with voice\n   communication.  The IVS might also be able to verify that the\
    \ MSD was\n   successfully received.\n   A service URN starting with \"test.\"\
    \ indicates a test call.  For\n   eCall, \"urn:service:test.sos.ecall\" indicates\
    \ such a test feature.\n   The \"test\" service URN is defined in [RFC6881].\n\
    \   This document specifies \"urn:service:test.sos.ecall\" for eCall test\n  \
    \ calls.  This is registered in Section 14.2.\n   The circuit-switched eCall test\
    \ call facility is a non-emergency\n   number, so it does not get treated as an\
    \ emergency call.  For\n   NG-eCall, MNOs, emergency authorities, and PSAPs can\
    \ determine how to\n   treat a vehicle call requesting the \"test\" service URN\
    \ so that the\n   desired functionality is tested, but this is outside the scope\
    \ of\n   this document.\n"
- title: 9.  The Metadata/Control Object
  contents:
  - "9.  The Metadata/Control Object\n   eCall requires the ability for the PSAP to\
    \ acknowledge successful\n   receipt of an MSD sent by the IVS and for the PSAP\
    \ to request that\n   the IVS send an MSD (e.g., the call taker can initiate a\
    \ request for\n   a new MSD to see if there have been changes in the vehicle's\
    \ state,\n   such as location, direction, or number of fastened seat belts).\n\
    \   This document defines a block of metadata/control data as an XML\n   structure\
    \ containing elements used for eCall and other related\n   emergency call systems\
    \ and extension points.  (This metadata/control\n   block is in effect a high-level\
    \ protocol between the PSAP and IVS.)\n   This document registers the application/EmergencyCallData.Control+xml\n\
    \   MIME media type to enable the metadata/control data to be carried in\n   SIP.\
    \  This document also adds \"Control\" to the \"Emergency Call Data\n   Types\"\
    \ registry to enable the metadata/control block to be recognized\n   as such in\
    \ a SIP-based eCall emergency call.  (See [RFC7852] for more\n   information about\
    \ the registry and how it is used.)\n   See Section 6 for a discussion of how\
    \ the metadata/control data is\n   conveyed in an NG-eCall.\n   When the PSAP\
    \ sends a metadata/control block in response to data sent\n   by the IVS in a\
    \ SIP request other than INFO (e.g., the MSD in the\n   initial INVITE), the metadata/control\
    \ block is sent in the SIP\n   response to that request (e.g., the response to\
    \ the INVITE request).\n   When the PSAP sends a control block in other circumstances\
    \ (e.g., mid\n   call), the control block is transmitted from the PSAP to the\
    \ IVS in a\n   SIP INFO request within the established dialog.  The IVS sends\
    \ the\n   requested data (the MSD) in a new SIP INFO request (per [RFC6086]).\n\
    \   This mechanism flexibly allows the PSAP to send eCall-specific data\n   to\
    \ the IVS and the IVS to respond.  SIP INFO requests are sent using\n   an appropriate\
    \ INFO package.  See Section 6 for more information on\n   sending a metadata/control\
    \ block within a SIP message.  See\n   Section 14.9 for information about the\
    \ use of SIP INFO requests to\n   carry data within an eCall.\n   When the IVS\
    \ includes an unsolicited MSD in a SIP request (e.g., the\n   initial INVITE),\
    \ the PSAP sends a metadata/control block indicating\n   successful/unsuccessful\
    \ receipt of the MSD in the SIP response to the\n   request.  This also informs\
    \ the IVS that an NG-eCall is in operation.\n   If the IVS receives a SIP final\
    \ response without the metadata/control\n   block, it indicates that the SIP dialog\
    \ is not an NG-eCall (e.g.,\n   some part of the call is being handled as a legacy\
    \ call).  When the\n   IVS sends a solicited MSD (e.g., in a SIP INFO request\
    \ sent following\n   receipt of a SIP INFO request containing a metadata/control\
    \ block\n   requesting an MSD), the PSAP does not send a metadata/control block\n\
    \   indicating successful or unsuccessful receipt of the MSD.  (Normal\n   SIP\
    \ retransmission handles non-receipt of requested data; note that,\n   per [RFC6086],\
    \ a 200 OK response to a SIP INFO request indicates only\n   that the receiver\
    \ has successfully received and accepted the SIP INFO\n   request, and it says\
    \ nothing about the acceptability of the payload.)\n   If the IVS receives a request\
    \ to send an MSD but it is unable to do\n   so for any reason, the IVS instead\
    \ sends a metadata/control object\n   acknowledging the request, containing an\
    \ <actionResult> element with\n   a \"success\" parameter set to \"false\" and\
    \ a \"reason\" parameter (and\n   optionally a \"details\" parameter) indicating\
    \ why the request could\n   not be accomplished.\n   This provides flexibility\
    \ to handle various circumstances.  For\n   example, if a PSAP is unable to accept\
    \ an eCall (e.g., due to\n   overload or too many calls from the same location),\
    \ it can reject the\n   INVITE.  Since a metadata/control object is also included\
    \ in the SIP\n   response that rejects the call, the IVS knows if the PSAP received\n\
    \   the MSD and can inform the vehicle occupants that the PSAP\n   successfully\
    \ received the vehicle location and information but can't\n   talk to the occupants\
    \ at that time.  Especially for SIP response\n   codes that indicate an inability\
    \ to conduct a call (as opposed to a\n   technical inability to process the request),\
    \ the IVS can also\n   determine that the call was successful on a technical level\
    \ (e.g.,\n   not helpful to retry as circuit switched).  (Note that there could\
    \ be\n   edge cases where the PSAP response is not received by the IVS, e.g.,\n\
    \   if an intermediary sends a CANCEL, and an error response is forwarded\n  \
    \ towards the IVS before the error response from the PSAP is received,\n   the\
    \ response will be dropped, but these are unlikely to occur here.)\n   The metadata/control\
    \ block is carried in the MIME type application/\n   EmergencyCallData.Control+xml.\n\
    \   The metadata/control block is designed for use with Pan-European\n   eCall\
    \ and also eCall-like systems (i.e., in other regions), and it\n   has extension\
    \ points.  Note that eCall-like systems might define\n   their own vehicle data\
    \ blocks and might need to register a new INFO\n   package to accommodate the\
    \ new data MIME media type and the metadata/\n   control object.\n"
- title: 9.1.  The Control Block
  contents:
  - "9.1.  The Control Block\n   The control block is an XML data structure allowing\
    \ for\n   acknowledgments, requests, and capabilities information.  It is\n  \
    \ carried in a body part with a specific MIME media type.  Three\n   elements\
    \ are defined for use within a control block:\n   ack           Acknowledges receipt\
    \ of data or a request.\n   capabilities  Used in a control block sent from the\
    \ IVS to the PSAP\n                 (e.g., in the initial INVITE) to inform the\
    \ PSAP of the\n                 vehicle capabilities.  Child elements contain\
    \ all\n                 actions and data types supported by the vehicle.  It is\n\
    \                 OPTIONAL for the IVS to send this block.  Omitting the\n   \
    \              block indicates that the IVS supports only the\n              \
    \   mandatory functionality defined in this document.\n   request       Used in\
    \ a control block sent by the PSAP to the IVS to\n                 request the\
    \ vehicle to perform an action.\n   The <ack> element indicates the object being\
    \ acknowledged and reports\n   success or failure.\n   The <request> element contains\
    \ attributes to indicate the request and\n   to supply related information.  The\
    \ \"action\" attribute is mandatory\n   and indicates the specific action.  An\
    \ IANA registry is created in\n   Section 14.8.1 to contain the allowed values.\n\
    \   The <capabilities> element has child <request> elements to indicate\n   the\
    \ actions supported by the IVS.\n"
- title: 9.1.1.  The <ack> Element
  contents:
  - "9.1.1.  The <ack> Element\n   The <ack> element acknowledges receipt of an eCall\
    \ data object or\n   request.  An <ack> element references the Content-ID of the\
    \ object\n   being acknowledged.  The PSAP MUST send an <ack> element\n   acknowledging\
    \ receipt of an unsolicited MSD (e.g., sent by the IVS in\n   the INVITE); this\
    \ <ack> element indicates if the PSAP considers the\n   MSD successfully received\
    \ or not.  An <ack> element is not sent for a\n   <capabilities> element.\n"
- title: 9.1.1.1.  Attributes of the <ack> Element
  contents:
  - "9.1.1.1.  Attributes of the <ack> Element\n   The <ack> element has the following\
    \ attributes:\n   Name:         ref\n   Usage:        Mandatory\n   Type:    \
    \     anyURI\n   Direction:    Sent in either direction\n   Description:  References\
    \ the Content-ID of the body part being\n                 acknowledged.\n   Example:\
    \      <ack received=\"true\"\n                 ref=\"1234567890@atlanta.example.com\"\
    />\n   Name:         received\n   Usage:        Conditional: mandatory in an <ack>\
    \ element sent by a\n                 PSAP\n   Type:         boolean\n   Direction:\
    \    In this document, sent from the PSAP to the IVS\n   Description:  Indicates\
    \ if the referenced object was considered\n                 successfully received\
    \ or not.\n   Example:      <ack received=\"true\"\n                 ref=\"1234567890@atlanta.example.com\"\
    />\n"
- title: 9.1.1.2.  Child Element of the <ack> Element
  contents:
  - "9.1.1.2.  Child Element of the <ack> Element\n   For extensibility, the <ack>\
    \ element has the following child element:\n   Name:         actionResult\n  \
    \ Usage:        Optional\n   Direction:    Sent from the IVS to the PSAP\n   Description:\
    \  An <actionResult> element indicates the result of an\n      action (other than\
    \ a successfully executed \"send-data\" action).\n      The <ack> element contains\
    \ an <actionResult> element for each\n      <request> element that is not a successfully\
    \ executed \"send-data\"\n      action.  The <actionResult> element has the following\
    \ attributes:\n      Name:         action\n      Usage:        Mandatory\n   \
    \   Type:         token\n      Description:  Contains the value of the \"action\"\
    \ attribute of the\n         <request> element\n      Name:         success\n\
    \      Usage:        Mandatory\n      Type:         boolean\n      Description:\
    \  Indicates if the action was successfully\n         accomplished\n      Name:\
    \         reason\n      Usage:        Conditional\n      Type:         token\n\
    \      Description:  Used when \"success\" is \"false\", this attribute\n    \
    \     contains a reason code for a failure.  A registry for reason\n         codes\
    \ is defined in Section 14.8.2.  The initial values are:\n         damaged (required\
    \ components are damaged), data-unsupported\n         (the data item referenced\
    \ in a \"send-data\" request is not\n         supported), security-failure (the\
    \ authenticity of the request\n         or the authority of the requestor could\
    \ not be verified),\n         unable (a generic error for use when no other code\
    \ is\n         appropriate), and unsupported (the \"action\" value is not\n  \
    \       supported).\n      Name:         details\n      Usage:        optional\n\
    \      Type:         string\n      Description:  Contains further explanation\
    \ of the circumstances of\n         a success or failure.  The contents are implementation\
    \ specific\n         and human readable.  This is intended for internal use and\n\
    \         troubleshooting, not for display to vehicle occupants.\n"
- title: 9.1.1.3.  Example of the <ack> Element
  contents:
  - "9.1.1.3.  Example of the <ack> Element\n       <?xml version=\"1.0\" encoding=\"\
    UTF-8\"?>\n       <EmergencyCallData.Control\n           xmlns=\"urn:ietf:params:xml:ns:EmergencyCallData:control\"\
    \n           xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">\n      \
    \ <ack received=\"true\" ref=\"1234567890@atlanta.example.com\"/>\n       </EmergencyCallData.Control>\n\
    \                 Figure 3: <ack> Example from PSAP to IVS\n"
- title: 9.1.2.  The <capabilities> Element
  contents:
  - "9.1.2.  The <capabilities> Element\n   The <capabilities> element is transmitted\
    \ by the IVS to indicate its\n   capabilities to the PSAP.  No attributes for\
    \ this element are\n   currently defined.  There is one child element defined.\n"
- title: 9.1.2.1.  Child Element of the <capabilities> Element
  contents:
  - "9.1.2.1.  Child Element of the <capabilities> Element\n   The <capabilities>\
    \ element has the following child element:\n   Name:         request\n   Usage:\
    \        Mandatory\n   Description:  The <capabilities> element contains a <request>\
    \ child\n      element per action supported by the vehicle.\n   Example:\n   \
    \      <capabilities>\n            <request action=\"send-data\" supported-values=\"\
    eCall.MSD\" />\n         </capabilities>\n   It is OPTIONAL for the IVS to support\
    \ the <capabilities> element.  If\n   the IVS does not send a <capabilities> element,\
    \ this indicates that\n   the only <request> action supported by the IVS is \"\
    send-data\" with\n   \"datatype\" set to \"eCall.MSD\".\n"
- title: 9.1.2.2.  Example of the <capabilities> Element
  contents:
  - "9.1.2.2.  Example of the <capabilities> Element\n       <?xml version=\"1.0\"\
    \ encoding=\"UTF-8\"?>\n       <EmergencyCallData.Control\n           xmlns=\"\
    urn:ietf:params:xml:ns:EmergencyCallData:control\">\n       <capabilities>\n \
    \          <request action=\"send-data\" supported-values=\"eCall.MSD\"/>\n  \
    \     </capabilities>\n       </EmergencyCallData.Control>\n                 Figure\
    \ 4: <capabilities> Element Example\n"
- title: 9.1.3.  The <request> Element
  contents:
  - "9.1.3.  The <request> Element\n   A <request> element appears one or more times\
    \ on its own or as a\n   child of a <capabilities> element.  It allows the PSAP\
    \ to request\n   that the IVS perform an action.  The only action that MUST be\n\
    \   supported is to send an MSD.  The attributes and child elements are\n   defined\
    \ as follows.\n"
- title: 9.1.3.1.  Attributes of the <request> Element
  contents:
  - "9.1.3.1.  Attributes of the <request> Element\n   The <request> element has the\
    \ following attributes:\n   Name:         action\n   Usage:        Mandatory\n\
    \   Type:         token\n   Direction:    Sent in either direction\n   Description:\
    \  Identifies the action that the vehicle is requested to\n      perform (in a\
    \ <request> element within a <capabilities> element;\n      indicates an action\
    \ that the vehicle is capable of performing).\n      An IANA registry is established\
    \ in Section 14.8.1 to contain the\n      allowed values.\n   Example:      action=\"\
    send-data\"\n   Name:         int-id\n   Usage:        Conditional\n   Type: \
    \        unsignedInt\n   Direction:    Sent in either direction\n   Description:\
    \  Defined for extensibility.  Documents that make use of\n      it are expected\
    \ to explain when it is required and how it is used.\n   Example:      int-id=\"\
    3\"\n   Name:         persistence\n   Usage:        Optional\n   Type:       \
    \  duration\n   Direction:    Sent in either direction\n   Description:  Defined\
    \ for extensibility.  Specifies how long to carry\n      on the specified action.\
    \  If absent, the default is for the\n      duration of the call.\n   Example:\
    \      persistence=\"PT1H\"\n   Name:         datatype\n   Usage:        Conditional\n\
    \   Type:         token\n   Direction:    Sent in either direction\n   Description:\
    \  Mandatory with a \"send-data\" action within a <request>\n      element that\
    \ is not within a <capabilities> element.  Specifies\n      the data block that\
    \ the IVS is requested to transmit, using the\n      same identifier as in the\
    \ \"purpose\" attribute set in a Call-Info\n      header field to point to the\
    \ data block.  Permitted values are\n      contained in IANA's \"Emergency Call\
    \ Data Types\" registry\n      established in [RFC7852].  Only the \"eCall.MSD\"\
    \ value is mandatory\n      to support.\n   Example:      datatype=\"eCall.MSD\"\
    \n   Name:         supported-values\n   Usage:        Conditional\n   Type:  \
    \       string\n   Direction:    Sent from the IVS to the PSAP\n   Description:\
    \  Defined for extensibility.  Used in a <request> element\n      that is a child\
    \ of a <capability> element, this attribute lists\n      all supported values\
    \ of the action type.  Permitted values depend\n      on the action value.  Multiple\
    \ values are separated with a\n      semicolon.  White space is ignored.  Documents\
    \ that make use of it\n      are expected to explain when it is required, the\
    \ permitted values,\n      and how it is used.\n   Name:         requested-state\n\
    \   Usage:        Conditional\n   Type:         token\n   Direction:    Sent from\
    \ the PSAP to the IVS\n   Description:  Defined for extension.  Indicates the\
    \ requested state\n      of an element associated with the request type.  Permitted\
    \ values\n      depend on the request type.  Documents that make use of it are\n\
    \      expected to explain when it is required, the permitted values, and\n  \
    \    how it is used.\n   Name:         element-id\n   Usage:        Conditional\n\
    \   Type:         token\n   Direction:    Sent from the PSAP to the IVS\n   Description:\
    \  Defined for extension.  Identifies the element to be\n      acted on.  Permitted\
    \ values depend on the request type.  Documents\n      that make use of it are\
    \ expected to explain when it is required,\n      the permitted values, and how\
    \ it is used.\n"
- title: 9.1.3.2.  Child Element of the <request> Element
  contents:
  - "9.1.3.2.  Child Element of the <request> Element\n   For extensibility, the <request>\
    \ element has the following child\n   element:\n   Name:         text\n   Usage:\
    \        Optional\n   Type:         string\n   Direction:    Sent from the PSAP\
    \ to the IVS\n   Description:  Defined for extension.\n"
- title: 9.1.3.3.  Request Example
  contents:
  - "9.1.3.3.  Request Example\n       <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\
    \       <EmergencyCallData.Control\n           xmlns=\"urn:ietf:params:xml:ns:EmergencyCallData:control\"\
    >\n       <request action=\"send-data\" datatype=\"eCall.MSD\"/>\n       </EmergencyCallData.Control>\n\
    \                    Figure 5: <request> Element Example\n"
- title: 10.  Examples
  contents:
  - "10.  Examples\n   Figure 6 illustrates an eCall.  The call uses the request URI\n\
    \   urn:service:sos.ecall.automatic service URN and is recognized as an\n   eCall,\
    \ and further as one that was invoked automatically by the IVS\n   due to a crash\
    \ or other serious incident.  In this example, the\n   originating network routes\
    \ the call to an ESInet, which routes the\n   call to the appropriate NG-eCall-capable\
    \ PSAP.  The emergency call is\n   received by the ESInet's Emergency Services\
    \ Routing Proxy (ESRP), as\n   the entry point into the ESInet.  The ESRP routes\
    \ the call to a PSAP,\n   where it is received by a call taker.  In deployments\
    \ where there is\n   no ESInet, the originating network routes the call directly\
    \ to the\n   appropriate NG-eCall-capable PSAP, an illustration of which would\
    \ be\n   identical to the one below except without an ESInet or ESRP.\n      \
    \         +-----------+  +----------------------------------------+\n        \
    \       |           |  |                  +-------+             |\n          \
    \     |           |  |                  | PSAP2 |             |\n            \
    \   |           |  |                  +-------+             |\n              \
    \ |           |  |                                        |\n               |\
    \           |  |   +------+   +----------------------+  |\n     Vehicle-->|  \
    \         |--|-->| ESRP |-->| PSAP1 --> Call Taker |  |\n               |    \
    \       |  |   +------+   +----------------------+  |\n               |      \
    \     |  |                                        |\n               |        \
    \   |  |                  +-------+             |\n               |          \
    \ |  |                  | PSAP3 |             |\n               |Originating|\
    \  |                  +-------+             |\n               |  Mobile   |  |\
    \                                        |\n               |  Network  |  |  \
    \              ESInet                  |\n               +-----------+  +----------------------------------------+\n\
    \                Figure 6: Example of NG-eCall Message Flow\n   Figure 7 illustrates\
    \ an eCall call flow with a mid-call PSAP request\n   for an updated MSD.  The\
    \ call flow shows the IVS initiating an\n   emergency call, including the MSD\
    \ in the INVITE.  The PSAP includes\n   in the 200 OK response a metadata/control\
    \ object acknowledging\n   receipt of the MSD.  During the call, the PSAP sends\
    \ a request for an\n   MSD in an INFO request.  The IVS sends the requested MSD\
    \ in a new\n   INFO request.\n            IVS                                \
    \         PSAP\n             |(1) INVITE (eCall MSD)                      |\n\
    \             |------------------------------------------->|\n             | \
    \                                           |\n             |(2) 200 OK (eCall\
    \ metadata [ack MSD])       |\n             |<-------------------------------------------|\n\
    \             |                                            |\n             |(3)\
    \ start media stream(s)                   |\n             |............................................|\n\
    \             |                                            |\n             |(4)\
    \ INFO (eCall metadata [request MSD])     |\n             |<-------------------------------------------|\n\
    \             |                                            |\n             |(5)\
    \ 200 OK                                  |\n             |------------------------------------------->|\n\
    \             |                                            |\n             |(6)\
    \ INFO (eCall MSD)                        |\n             |------------------------------------------->|\n\
    \             |                                            |\n             |(7)\
    \ 200 OK                                  |\n             |<-------------------------------------------|\n\
    \             |                                            |\n             |(8)\
    \ BYE                                     |\n             |<-------------------------------------------|\n\
    \             |                                            |\n             |(9)\
    \ end media streams                       |\n             |............................................|\n\
    \             |                                            |\n             |(10)\
    \ 200 OK                                 |\n             |------------------------------------------->|\n\
    \                 Figure 7: NG-eCall Call Flow Illustration\n   Figure 8 illustrates\
    \ a SIP eCall INVITE request containing an MSD.\n   For simplicity, the example\
    \ does not show all SIP headers, nor the\n   Session Description Protocol (SDP)\
    \ contents, nor does it show any\n   additional data blocks added by the IVS or\
    \ the originating mobile\n   network.  Because the MSD is encoded in ASN.1 PER,\
    \ which is a binary\n   encoding, its contents cannot be included in a text document.\n\
    \      INVITE urn:service:sos.ecall.automatic SIP/2.0\n      To: urn:service:sos.ecall.automatic\n\
    \      From: <sip:+13145551111@example.com>;tag=9fxced76sl\n      Call-ID: 3848276298220188511@atlanta.example.com\n\
    \      Geolocation: <cid:target123@example.com>\n      Geolocation-Routing: no\n\
    \      Call-Info: <cid:1234567890@atlanta.example.com>;\n                 purpose=EmergencyCallData.eCall.MSD\n\
    \      Accept: application/sdp, application/pidf+xml,\n              application/EmergencyCallData.Control+xml\n\
    \      CSeq: 31862 INVITE\n      Recv-Info: EmergencyCallData.eCall.MSD\n    \
    \  Allow: INVITE, ACK, PRACK, INFO, OPTIONS, CANCEL, REFER, BYE,\n           \
    \  SUBSCRIBE, NOTIFY, UPDATE\n      Content-Type: multipart/mixed; boundary=boundary1\n\
    \      Content-Length: ...\n      --boundary1\n      Content-Type: application/sdp\n\
    \           ...Session Description Protocol (SDP) goes here...\n      --boundary1\n\
    \      Content-Type: application/pidf+xml\n      Content-ID: <target123@example.com>\n\
    \      Content-Disposition: by-reference;handling=optional\n            ...PIDF-LO\
    \ goes here...\n      --boundary1\n      Content-Type: application/EmergencyCallData.eCall.MSD\n\
    \      Content-ID: <1234567890@atlanta.example.com>\n      Content-Disposition:\
    \ by-reference;handling=optional\n           ...MSD in ASN.1 PER encoding goes\
    \ here...\n       --boundary1--\n                       Figure 8: SIP NG-eCall\
    \ INVITE\n   Continuing the example, Figure 9 illustrates a SIP 200 OK response\
    \ to\n   the INVITE request of Figure 8, containing a metadata/control block\n\
    \   acknowledging successful receipt of the eCall MSD.  (For simplicity,\n   the\
    \ example does not show all SIP headers.)\n      SIP/2.0 200 OK\n      To: urn:service:sos.ecall.automatic;tag=8gydfe65t0\n\
    \      From: <sip:+13145551111@example.com>;tag=9fxced76sl\n      Call-ID: 3848276298220188511@atlanta.example.com\n\
    \      Call-Info: <cid:2345678901@atlanta.example.com>;\n                 purpose=EmergencyCallData.Control\n\
    \      Accept: application/sdp, application/pidf+xml,\n              application/EmergencyCallData.Control+xml,\n\
    \              application/EmergencyCallData.eCall.MSD\n      CSeq: 31862 INVITE\n\
    \      Recv-Info: EmergencyCallData.eCall.MSD\n      Allow: INVITE, ACK, PRACK,\
    \ INFO, OPTIONS, CANCEL, REFER, BYE,\n             SUBSCRIBE, NOTIFY, UPDATE\n\
    \      Content-Type: multipart/mixed; boundary=boundaryX\n      Content-Length:\
    \ ...\n      --boundaryX\n      Content-Type: application/sdp\n           ...Session\
    \ Description Protocol (SDP) goes here...\n      --boundaryX\n      Content-Type:\
    \ application/EmergencyCallData.Control+xml\n      Content-ID: <2345678901@atlanta.example.com>\n\
    \      Content-Disposition: by-reference\n      <?xml version=\"1.0\" encoding=\"\
    UTF-8\"?>\n      <EmergencyCallData.Control\n          xmlns=\"urn:ietf:params:xml:ns:EmergencyCallData:control\"\
    >\n      <ack received=\"true\" ref=\"1234567890@atlanta.example.com\"/>\n   \
    \   </EmergencyCallData.Control>\n      --boundaryX--\n                    Figure\
    \ 9: 200 OK Response to INVITE\n   Figure 10 illustrates a SIP INFO request containing\
    \ a metadata/\n   control block requesting an eCall MSD.  (For simplicity, the\
    \ example\n   does not show all SIP headers.)\n    INFO sip:+13145551111@example.com\
    \ SIP/2.0\n    To: <sip:+13145551111@example.com>;tag=9fxced76sl\n    From: Exemplar\
    \ PSAP <urn:service:sos.ecall.automatic>;tag=8gydfe65t0\n    Call-ID: 3848276298220188511@atlanta.example.com\n\
    \    Call-Info: <cid:3456789012@atlanta.example.com>;\n               purpose=EmergencyCallData.Control\n\
    \    CSeq: 41862 INFO\n    Info-Package: EmergencyCallData.eCall.MSD\n    Allow:\
    \ INVITE, ACK, PRACK, INFO, OPTIONS, CANCEL, REFER, BYE,\n           SUBSCRIBE,\
    \ NOTIFY, UPDATE\n    Content-Type: multipart/mixed; boundary=boundaryZZZ\n  \
    \  Content-Disposition: Info-Package\n    Content-Length: ...\n    --boundaryZZZ\n\
    \    Content-Disposition: by-reference\n    Content-Type: application/EmergencyCallData.Control+xml\n\
    \    Content-ID: <3456789012@atlanta.example.com>\n    <?xml version=\"1.0\" encoding=\"\
    UTF-8\"?>\n    <EmergencyCallData.Control\n        xmlns=\"urn:ietf:params:xml:ns:EmergencyCallData:control\"\
    >\n    <request action=\"send-data\" datatype=\"eCall.MSD\"/>\n    </EmergencyCallData.Control>\n\
    \     --boundaryZZZ--\n                      Figure 10: INFO Requesting MSD\n\
    \   Figure 11 illustrates a SIP INFO request containing an MSD.  For\n   simplicity,\
    \ the example does not show all SIP headers.  Because the\n   MSD is encoded in\
    \ ASN.1 PER, which is a binary encoding, its contents\n   cannot be included in\
    \ a text document.\n      INFO urn:service:sos.ecall.automatic SIP/2.0\n     \
    \ To: urn:service:sos.ecall.automatic;tag=8gydfe65t0\n      From: <sip:+13145551111@example.com>;tag=9fxced76sl\n\
    \      Call-ID: 3848276298220188511@atlanta.example.com\n      Call-Info: <cid:4567890123@atlanta.example.com>;\n\
    \                 purpose=EmergencyCallData.eCall.MSD\n      CSeq: 51862 INFO\n\
    \      Info-Package: EmergencyCallData.eCall.MSD\n      Allow: INVITE, ACK, PRACK,\
    \ INFO, OPTIONS, CANCEL, REFER, BYE,\n             SUBSCRIBE, NOTIFY, UPDATE\n\
    \      Content-Type: multipart/mixed; boundary=boundaryLine\n      Content-Disposition:\
    \ Info-Package\n      Content-Length: ...\n      --boundaryLine\n      Content-Type:\
    \ application/EmergencyCallData.eCall.MSD\n      Content-ID: <4567890123@atlanta.example.com>\n\
    \      Content-Disposition: by-reference\n           ...MSD in ASN.1 PER encoding\
    \ goes here...\n      --boundaryLine--\n                      Figure 11: INFO\
    \ Containing MSD\n"
- title: 11.  Security Considerations
  contents:
  - "11.  Security Considerations\n   The security considerations described in [RFC5069]\
    \ (on marking and\n   routing emergency calls) apply here.\n   In addition to\
    \ any network-provided location (which might be\n   determined solely by the network\
    \ or in cooperation with or possibly\n   entirely by the originating device),\
    \ an eCall carries an IVS-supplied\n   location within the MSD.  This is likely\
    \ to be useful to the PSAP,\n   especially when no network-provided location is\
    \ included, or when the\n   two locations are independently determined.  Even\
    \ in situations where\n   the network-supplied location is limited to the cell\
    \ site, this can\n   be useful as a sanity check on the device-supplied location\
    \ contained\n   in the MSD.\n   The document [RFC7378] discusses trust issues\
    \ regarding location\n   provided by or determined in cooperation with end devices.\n\
    \   Security considerations specific to the mechanism by which the PSAP\n   sends\
    \ acknowledgments and requests to the vehicle are discussed in\n   the \"Security\
    \ Considerations\" block of Section 14.4.  Note that an\n   attacker that has\
    \ access to and is capable of generating a response\n   to the initial INVITE\
    \ request could generate a 600 (Busy Everywhere),\n   486 (Busy Here), or 603\
    \ (Decline) response that includes a metadata/\n   control object containing a\
    \ reference to the MSD in the initial\n   INVITE and a \"received=true\" field,\
    \ which could result in the IVS\n   perceiving the PSAP to be overloaded and hence\
    \ not attempting to\n   reinitiate the call.  The risk can be mitigated as discussed\
    \ in the\n   \"Security Considerations\" block of Section 14.4.\n   Data received\
    \ from external sources inherently carries implementation\n   risks.  For example,\
    \ depending on the platform, buffer overflows can\n   introduce remote code execution\
    \ vulnerabilities, null characters can\n   corrupt strings, numeric values used\
    \ for internal calculations can\n   result in underflow/overflow errors, malformed\
    \ XML objects can expose\n   parsing bugs, etc.  Implementations need to be cognizant\
    \ of the\n   potential risks, observe best practices (which might include\n  \
    \ sufficiently capable static code analysis, fuzz testing, component\n   isolation,\
    \ avoiding use of unsafe coding techniques, third-party\n   attack tests, signed\
    \ software, over-the-air updates, etc.), and have\n   multiple levels of protection.\
    \  Implementors need to be aware that,\n   potentially, the data objects described\
    \ here and elsewhere (including\n   the MSD and metadata/control objects) might\
    \ be malformed, contain\n   unexpected characters, have excessively long attribute\
    \ values and\n   elements, etc.\n   The security considerations discussed in [RFC7852]\
    \ apply here (see\n   especially the discussion of Transport Layer Security (TLS),\
    \ TLS\n   versions, cipher suites, and PKI).\n   When vehicle data or control/metadata\
    \ is contained in a signed or\n   encrypted body part, the enclosing multipart\
    \ (e.g., multipart/signed\n   or multipart/encrypted) has the same Content-ID\
    \ as the enclosed data\n   part.  This allows an entity to identify and access\
    \ the data blocks\n   it is interested in without having to dive deeply into the\
    \ message\n   structure or decrypt parts it is not interested in.  (The \"purpose\"\
    \n   parameter in a Call-Info header field identifies the data and\n   contains\
    \ a CID URL pointing to the data block in the body, which has\n   a matching Content-ID\
    \ body part header field.)\n"
- title: 12.  Privacy Considerations
  contents:
  - "12.  Privacy Considerations\n   The privacy considerations discussed in [RFC7852]\
    \ apply here.  The\n   MSD carries some identifying and personal information (mostly\
    \ about\n   the vehicle and less about the owner), as well as location\n   information,\
    \ so it needs to be protected against unauthorized\n   disclosure.  Local regulations\
    \ may impose additional privacy\n   protection requirements.\n   Privacy considerations\
    \ specific to the data structure containing\n   vehicle information are discussed\
    \ in the \"Security Considerations\"\n   block of Section 14.3.\n   Privacy considerations\
    \ specific to the mechanism by which the PSAP\n   sends acknowledgments and requests\
    \ to the vehicle are discussed in\n   the \"Security Considerations\" block of\
    \ Section 14.4.\n"
- title: 13.  XML Schema
  contents:
  - "13.  XML Schema\n   This section defines an XML schema for the control block.\
    \  The text\n   description of the control block in Section 9.1 is normative and\n\
    \   supersedes any conflicting aspect of this schema.\n    <?xml version=\"1.0\"\
    ?>\n    <xs:schema\n      targetNamespace=\"urn:ietf:params:xml:ns:EmergencyCallData:control\"\
    \n      xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"\n      xmlns:pi=\"urn:ietf:params:xml:ns:EmergencyCallData:control\"\
    \n      xmlns:xml=\"http://www.w3.org/XML/1998/namespace\"\n      elementFormDefault=\"\
    qualified\"\n      attributeFormDefault=\"unqualified\">\n        <xs:import namespace=\"\
    http://www.w3.org/XML/1998/namespace\"/>\n        <xs:element name=\"EmergencyCallData.Control\"\
    \n                    type=\"pi:controlType\"/>\n        <xs:complexType name=\"\
    controlType\">\n           <xs:complexContent>\n              <xs:restriction\
    \ base=\"xs:anyType\">\n                 <xs:choice>\n                    <xs:element\
    \ name=\"capabilities\"\n                                type=\"pi:capabilitiesType\"\
    />\n                    <xs:element name=\"request\" type=\"pi:requestType\"/>\n\
    \                    <xs:element name=\"ack\" type=\"pi:ackType\"/>\n        \
    \            <xs:any namespace=\"##any\" processContents=\"lax\"\n           \
    \                 minOccurs=\"0\"\n                            maxOccurs=\"unbounded\"\
    />\n                 </xs:choice>\n                 <xs:anyAttribute/>\n     \
    \         </xs:restriction>\n           </xs:complexContent>\n        </xs:complexType>\n\
    \        <xs:complexType name=\"ackType\">\n            <xs:complexContent>\n\
    \                <xs:restriction base=\"xs:anyType\">\n                    <xs:sequence\
    \ minOccurs=\"1\" maxOccurs=\"unbounded\">\n                        <xs:element\
    \ name=\"actionResult\" minOccurs=\"0\"\n                                    maxOccurs=\"\
    unbounded\">\n                            <xs:complexType>\n                 \
    \               <xs:attribute name=\"action\"\n                              \
    \                type=\"xs:token\"\n                                         \
    \     use=\"required\"/>\n                                <xs:attribute name=\"\
    success\"\n                                              type=\"xs:boolean\"\n\
    \                                              use=\"required\"/>\n          \
    \                      <xs:attribute name=\"reason\"\n                       \
    \                       type=\"xs:token\">\n                                 \
    \   <xs:annotation>\n                                        <xs:documentation>\n\
    \                                            conditionally mandatory\n       \
    \                                     when @success=\"false\"\n              \
    \                              to indicate reason code\n                     \
    \                       for a failure\n                                      \
    \  </xs:documentation>\n                                    </xs:annotation>\n\
    \                                </xs:attribute>\n                           \
    \     <xs:attribute name=\"details\"\n                                       \
    \       type=\"xs:string\"/>\n                                <xs:anyAttribute\n\
    \                                    processContents=\"skip\"/>\n            \
    \                </xs:complexType>\n                        </xs:element>\n  \
    \                      <xs:any namespace=\"##any\" processContents=\"lax\"\n \
    \                               minOccurs=\"0\"\n                            \
    \    maxOccurs=\"unbounded\"/>\n                    </xs:sequence>\n         \
    \           <xs:attribute name=\"ref\"\n                                  type=\"\
    xs:anyURI\"\n                                  use=\"required\"/>\n          \
    \          <xs:attribute name=\"received\"\n                                 \
    \ type=\"xs:boolean\"/>\n                    <xs:anyAttribute/>\n            \
    \    </xs:restriction>\n            </xs:complexContent>\n        </xs:complexType>\n\
    \        <xs:complexType name=\"capabilitiesType\">\n            <xs:complexContent>\n\
    \                <xs:restriction base=\"xs:anyType\">\n                    <xs:sequence\
    \ minOccurs=\"1\" maxOccurs=\"unbounded\">\n                        <xs:element\
    \ name=\"request\"\n                                    type=\"pi:requestType\"\
    \n                                    minOccurs=\"1\"\n                      \
    \      maxOccurs=\"unbounded\"/>\n                        <xs:any namespace=\"\
    ##any\" processContents=\"lax\"\n                                 minOccurs=\"\
    0\"\n                            maxOccurs=\"unbounded\"/>\n                 \
    \   </xs:sequence>\n                    <xs:anyAttribute/>\n                </xs:restriction>\n\
    \            </xs:complexContent>\n        </xs:complexType>\n        <xs:complexType\
    \ name=\"requestType\">\n           <xs:complexContent>\n                <xs:restriction\
    \ base=\"xs:anyType\">\n                    <xs:choice minOccurs=\"1\" maxOccurs=\"\
    unbounded\">\n                        <xs:element name=\"text\" minOccurs=\"0\"\
    \n                                    maxOccurs=\"unbounded\">\n             \
    \               <xs:complexType>\n                                <xs:simpleContent>\n\
    \                                    <xs:extension base=\"xs:string\">\n     \
    \                                   <xs:anyAttribute\n                       \
    \                     namespace=\"##any\"\n                                  \
    \          processContents=\"skip\"/>\n                                    </xs:extension>\n\
    \                                </xs:simpleContent>\n                       \
    \     </xs:complexType>\n                        </xs:element>\n             \
    \           <xs:any namespace=\"##any\" processContents=\"lax\"\n            \
    \                    minOccurs=\"0\"\n                                maxOccurs=\"\
    unbounded\"/>\n                    </xs:choice>\n                    <xs:attribute\
    \ name=\"action\" type=\"xs:token\"\n                                  use=\"\
    required\"/>\n                    <xs:attribute name=\"int-id\" type=\"xs:unsignedInt\"\
    />\n                    <xs:attribute name=\"persistence\"\n                 \
    \                 type=\"xs:duration\"/>\n                    <xs:attribute name=\"\
    datatype\" type=\"xs:token\"/>\n                    <xs:attribute name=\"supported-values\"\
    \n                                  type=\"xs:string\"/>\n                   \
    \ <xs:attribute name=\"element-id\" type=\"xs:token\"/>\n                    <xs:attribute\
    \ name=\"requested-state\"\n                                  type=\"xs:token\"\
    />\n                    <xs:anyAttribute/>\n                </xs:restriction>\n\
    \            </xs:complexContent>\n        </xs:complexType>\n    </xs:schema>\n\
    \                      Figure 12: Control Block Schema\n"
- title: 14.  IANA Considerations
  contents:
  - '14.  IANA Considerations

    '
- title: 14.1.  The EmergencyCallData Media Subtree
  contents:
  - "14.1.  The EmergencyCallData Media Subtree\n   This document establishes the\
    \ \"EmergencyCallData\" media (MIME)\n   subtype tree, a new media subtree rooted\
    \ at \"application/\n   EmergencyCallData\".  This subtree is used only for content\
    \ associated\n   with emergency communications.  New subtypes in this subtree\
    \ follow\n   the rules specified in Section 3.1 of [RFC6838], with the additional\n\
    \   restriction that the standards-related organization MUST be\n   responsible\
    \ for some aspect of emergency communications.\n   This subtree initially contains\
    \ the following subtypes (defined here\n   or in [RFC7852]):\n      EmergencyCallData.Comment+xml\n\
    \      EmergencyCallData.Control+xml\n      EmergencyCallData.DeviceInfo+xml\n\
    \      EmergencyCallData.eCall.MSD\n      EmergencyCallData.ProviderInfo+xml\n\
    \      EmergencyCallData.ServiceInfo+xml\n      EmergencyCallData.SubscriberInfo+xml\n"
- title: 14.2.  Service URN Registrations
  contents:
  - "14.2.  Service URN Registrations\n   IANA has registered the URN urn:service:sos.ecall\
    \ under the \"'sos'\n   Sub-Services\" registry defined in Section 4.2 of [RFC5031].\n\
    \   This service requests resources associated with an emergency call\n   placed\
    \ by an in-vehicle system, carrying a standardized set of data\n   related to\
    \ the vehicle and incident.  The \"Description\" registry\n   field is \"Vehicle-initiated\
    \ emergency calls\".  Two sub-services are\n   registered as well:\n   urn:service:sos.ecall.automatic\n\
    \      Used with an eCall invoked automatically, for example, due to a\n     \
    \ crash or other serious incident.  The \"Description\" registry field\n     \
    \ is \"Automatic vehicle-initiated emergency calls\".\n   urn:service:sos.ecall.manual\n\
    \      Used with an eCall invoked due to manual interaction by a vehicle\n   \
    \   occupant.  The \"Description\" registry field is \"Manual vehicle-\n     \
    \ initiated emergency calls\".\n   IANA has also registered the URN urn:service:test.sos.ecall\
    \ under the\n   \"'test' Sub-Services\" registry defined in Section 17.2 of [RFC6881].\n\
    \   This service requests resources associated with a test (non-\n   emergency)\
    \ call placed by an in-vehicle system.  See Section 8 for\n   more information\
    \ on the test eCall request URN.\n"
- title: 14.3.  MIME Media Type Registration for application/
  contents:
  - "14.3.  MIME Media Type Registration for application/\n       EmergencyCallData.eCall.MSD\n\
    \   IANA has added application/EmergencyCallData.eCall.MSD as a MIME\n   media\
    \ type, with a reference to this document, in accordance with the\n   procedures\
    \ of RFC 6838 [RFC6838] and guidelines in RFC 7303\n   [RFC7303].\n      MIME\
    \ media type name:  application\n      MIME subtype name:  EmergencyCallData.eCall.MSD\n\
    \      Mandatory parameters:  none\n      Optional parameters:  none\n      Encoding\
    \ scheme:  binary\n      Encoding considerations:\n         Uses ASN.1 PER, which\
    \ is a binary encoding; when transported in\n         SIP, binary content transfer\
    \ encoding is used.\n      Security considerations:\n         This media type\
    \ is designed to carry vehicle and incident-\n         related data during an\
    \ emergency call.  This data contains\n         personal information including\
    \ vehicle VIN, location,\n         direction, etc.  Appropriate precautions need\
    \ to be taken to\n         limit unauthorized access, inappropriate disclosure\
    \ to third\n         parties, and eavesdropping of this information.  Sections\
    \ 9 and\n         10 of [RFC7852] contain more discussion.\n      Interoperability\
    \ considerations:   None\n      Published specification:   Annex A of EN 15722\
    \ [MSD]\n      Applications which use this media type:\n         Pan-European\
    \ eCall compliant systems\n      Additional information:   None\n      Magic Number:\
    \   None\n      File Extension:   None\n      Macintosh file type code:   BINA\n\
    \      Person and email address for further information:\n         Randall Gellens,\
    \ rg+ietf@randy.pensive.org\n      Intended usage:   LIMITED USE\n      Author:\
    \   The MSD specification was produced by the European\n         Committee For\
    \ Standardization (CEN).  For contact information,\n         please see <http://www.cen.eu/cen/Pages/contactus.aspx>.\n\
    \      Change controller:   The European Committee For Standardization\n     \
    \    (CEN)\n"
- title: 14.4.  MIME Media Type Registration for application/
  contents:
  - "14.4.  MIME Media Type Registration for application/\n       EmergencyCallData.Control+xml\n\
    \   IANA has added application/EmergencyCallData.Control+xml as a MIME\n   media\
    \ type, with a reference to this document, in accordance to the\n   procedures\
    \ of RFC 6838 [RFC6838] and guidelines in RFC 7303\n   [RFC7303].\n      MIME\
    \ media type name:  application\n      MIME subtype name:  EmergencyCallData.Control+xml\n\
    \      Mandatory parameters:  none\n      Optional parameters:  charset\n    \
    \     Indicates the character encoding of the XML content.\n      Encoding considerations:\n\
    \         Uses XML, which can employ 8-bit characters, depending on the\n    \
    \     character encoding used.  See Section 3.2 of RFC 7303\n         [RFC7303].\n\
    \      Security considerations:\n         This media type carries metadata and\
    \ control information and\n         requests, such as from a Public Safety Answering\
    \ Point (PSAP)\n         to an In-Vehicle System (IVS) during an emergency call.\n\
    \         Metadata (such as an acknowledgment that data sent by the IVS\n    \
    \     to the PSAP was successfully received) has limited privacy and\n       \
    \  security implications.  Control information (such as requests\n         from\
    \ the PSAP that the vehicle perform an action) has some\n         privacy and\
    \ security implications.  The privacy concern arises\n         from the ability\
    \ to request the vehicle to transmit a data set,\n         which as described\
    \ in Section 14.3 can contain personal\n         information.  The security concern\
    \ is the ability to request\n         the vehicle to perform an action.  Control\
    \ information needs to\n         originate only from a PSAP or other emergency\
    \ services\n         providers and not be modified en route.  The level of integrity\n\
    \         of the cellular network over which the emergency call is placed\n  \
    \       is a consideration: when the IVS initiates an eCall over a\n         cellular\
    \ network, in most cases it relies on the MNO to route\n         the call to a\
    \ PSAP.  (Calls placed using other means, such as\n         Wi-Fi or over-the-top\
    \ services, generally incur somewhat higher\n         levels of risk than calls\
    \ placed \"natively\" using cellular\n         networks.)  A callback from a PSAP\
    \ merits additional\n         consideration, since current mechanisms are not\
    \ ideal for\n         verifying that such a call is indeed a callback from a PSAP\
    \ in\n         response to an emergency call placed by the IVS.  See the\n   \
    \      discussion in Section 11 and the PSAP Callback document\n         [RFC7090].\n\
    \         Sections 7 and 8 of [RFC7852] contain more discussion.\n      Interoperability\
    \ considerations:   None\n      Published specification:   This document\n   \
    \   Applications which use this media type:\n         Pan-European eCall compliant\
    \ systems\n      Additional information:   None\n      Magic Number:   None\n\
    \      File Extension:   .xml\n      Macintosh file type code:   TEXT\n      Person\
    \ and email address for further information:\n         Randall Gellens, rg+ietf@randy.pensive.org\n\
    \      Intended usage:   LIMITED USE\n      Author:   The IETF ECRIT working group\n\
    \      Change controller:   The IETF ECRIT working group\n"
- title: 14.5.  Registration of the "eCall.MSD" Entry in the Emergency Call Data
  contents:
  - "14.5.  Registration of the \"eCall.MSD\" Entry in the Emergency Call Data\n \
    \      Types Registry\n   IANA has added the \"eCall.MSD\" entry to the \"Emergency\
    \ Call Data\n   Types\" registry, with a reference to this document; the \"Data\
    \ About\"\n   value is \"The Call\".\n"
- title: 14.6.  Registration of the "Control" Entry in the Emergency Call Data
  contents:
  - "14.6.  Registration of the \"Control\" Entry in the Emergency Call Data\n   \
    \    Types Registry\n   IANA has added the \"Control\" entry to the \"Emergency\
    \ Call Data Types\"\n   registry, with a reference to this document; the \"Data\
    \ About\" value\n   is \"The Call\".\n"
- title: 14.7.  Registration for urn:ietf:params:xml:ns:EmergencyCallData:control
  contents:
  - "14.7.  Registration for urn:ietf:params:xml:ns:EmergencyCallData:control\n  \
    \ This section registers a new XML namespace, as per the guidelines in\n   RFC\
    \ 3688 [RFC3688].\n   URI:  urn:ietf:params:xml:ns:EmergencyCallData:control\n\
    \   Registrant Contact:  IETF, ECRIT working group, <ecrit@ietf.org>, as\n   \
    \   delegated by the IESG <iesg@ietf.org>.\n   XML:\n     BEGIN\n     <?xml version=\"\
    1.0\"?>\n     <!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML Basic 1.0//EN\"\n    \
    \      \"http://www.w3.org/TR/xhtml-basic/xhtml-basic10.dtd\">\n     <html xmlns=\"\
    http://www.w3.org/1999/xhtml\">\n     <head>\n          <meta http-equiv=\"content-type\"\
    \n                content=\"text/html;charset=iso-8859-1\"/>\n          <title>Namespace\
    \ for Emergency Call Data Control Block</title>\n     </head>\n     <body>\n \
    \         <h1>Namespace for Emergency Call Data Control Block</h1>\n     <p>See\
    \ RFC 8147</p>\n     </body>\n     </html>\n     END\n"
- title: 14.8.  Registry Creation
  contents:
  - "14.8.  Registry Creation\n   This document creates a new registry called \"Emergency\
    \ Call Metadata/\n   Control Data\".  The following sub-registries are created\
    \ for this\n   registry.\n"
- title: 14.8.1.  Emergency Call Actions Registry
  contents:
  - "14.8.1.  Emergency Call Actions Registry\n   This document creates a new sub-registry\
    \ called \"Emergency Call\n   Actions\".  As defined in [RFC5226], this registry\
    \ operates under\n   \"Expert Review\" rules.  The expert should determine that\
    \ the proposed\n   action is within the purview of a vehicle, is sufficiently\n\
    \   distinguishable from other actions, and is clearly and fully\n   described.\
    \  In most cases, a published and stable document is\n   referenced for the description\
    \ of the action.\n   The content of this registry includes:\n   Name:  The identifier\
    \ to be used in the \"action\" attribute of a\n      control <request> element.\n\
    \   Description:  A description of the action.  In most cases, this will\n   \
    \   be a reference to a published and stable document.  The\n      description\
    \ MUST specify if any attributes or child elements are\n      optional or mandatory\
    \ and describe the action to be taken by the\n      vehicle.\n   The initial set\
    \ of values is listed in Table 1.\n           +-----------+--------------------------------------+\n\
    \           |    Name   |             Description              |\n           +-----------+--------------------------------------+\n\
    \           | send-data | See Section 9.1.3.1 of this document |\n           +-----------+--------------------------------------+\n\
    \          Table 1: Emergency Call Actions Registry Initial Values\n"
- title: 14.8.2.  Emergency Call Action Failure Reasons Registry
  contents:
  - "14.8.2.  Emergency Call Action Failure Reasons Registry\n   This document creates\
    \ a new sub-registry called \"Emergency Call\n   Action Failure Reasons\", which\
    \ contains values for the \"reason\"\n   attribute of the <actionResult> element.\
    \  As defined in [RFC5226],\n   this registry operates under \"Expert Review\"\
    \ rules.  The expert\n   should determine that the proposed reason is sufficiently\n\
    \   distinguishable from other reasons and that the proposed description\n   is\
    \ understandable and correctly worded.\n   The content of this registry includes:\n\
    \   ID:  A short string identifying the reason, for use in the \"reason\"\n  \
    \    attribute of an <actionResult> element.\n   Description:  A description of\
    \ the reason.\n   The initial set of values is listed in Table 2.\n   +------------------+------------------------------------------------+\n\
    \   | ID               | Description                                    |\n  \
    \ +------------------+------------------------------------------------+\n   |\
    \ damaged          | Required components are damaged.               |\n   |  \
    \                |                                                |\n   | data-unsupported\
    \ | The data item referenced in a \"send-data\"      |\n   |                 \
    \ | request is not supported.                      |\n   |                  |\
    \                                                |\n   | security-failure | The\
    \ authenticity of the request or the         |\n   |                  | authority\
    \ of the requestor could not be        |\n   |                  | verified.  \
    \                                    |\n   |                  |              \
    \                                  |\n   | unable           | The action could\
    \ not be accomplished (a        |\n   |                  | generic error for use\
    \ when no other code is    |\n   |                  | appropriate).          \
    \                        |\n   |                  |                          \
    \                      |\n   | unsupported      | The \"action\" value is not\
    \ supported.           |\n   +------------------+------------------------------------------------+\n\
    \      Table 2: Emergency Call Action Failure Reasons Registry Initial\n     \
    \                             Values\n"
- title: 14.9.  The EmergencyCallData.eCall.MSD INFO Package
  contents:
  - "14.9.  The EmergencyCallData.eCall.MSD INFO Package\n   This document registers\
    \ the EmergencyCallData.eCall.MSD INFO package\n   in the \"Info Packages Registry\"\
    .\n   Both endpoints (the IVS and the PSAP equipment) include\n   EmergencyCallData.eCall.MSD\
    \ in a Recv-Info header field per [RFC6086]\n   to indicate the ability to receive\
    \ INFO requests carrying data as\n   described here.\n   Support for the EmergencyCallData.eCall.MSD\
    \ INFO package indicates\n   the ability to receive eCall related body parts as\
    \ specified in this\n   document.\n   An INFO request message carrying body parts\
    \ related to an emergency\n   call as described in this document has an Info-Package\
    \ header field\n   set to \"EmergencyCallData.eCall.MSD\" per [RFC6086].\n   The\
    \ requirements of Section 10 of [RFC6086] are addressed in the\n   following sections.\n"
- title: 14.9.1.  Overall Description
  contents:
  - "14.9.1.  Overall Description\n   This section describes what type of information\
    \ is carried in INFO\n   requests associated with the INFO package and for what\
    \ types of\n   applications and functionalities User Agents (UAs) can use the\
    \ INFO\n   package.\n   INFO requests associated with the EmergencyCallData.eCall.MSD\
    \ INFO\n   package carry data associated with emergency calls as defined in this\n\
    \   document.  The application is vehicle-initiated emergency calls\n   established\
    \ using SIP.  The functionality is to carry vehicle data\n   and metadata/control\
    \ information between vehicles and PSAPs.\n"
- title: 14.9.2.  Applicability
  contents:
  - "14.9.2.  Applicability\n   This section describes why the INFO package mechanism,\
    \ rather than\n   some other mechanism, has been chosen for the specific use case.\n\
    \   The use of the SIP INFO method is based on an analysis of the\n   requirements\
    \ against the intent and effects of the INFO method versus\n   other approaches\
    \ (which included the SIP MESSAGE method, the SIP\n   OPTIONS method, the SIP\
    \ re-INVITE method, media-plane transport, and\n   non-SIP protocols).  In particular,\
    \ the transport of emergency call\n   data blocks occurs within a SIP emergency\
    \ dialog, per Section 6, and\n   is normally carried in the initial INVITE request\
    \ and response; the\n   use of the SIP INFO method only occurs when emergency-call-related\n\
    \   data needs to be sent mid call.  While the SIP MESSAGE method could\n   be\
    \ used, it is not tied to a SIP dialog as is the SIP INFO method and\n   thus\
    \ might not be associated with the dialog.  Either SIP OPTIONS or\n   re-INVITE\
    \ methods could also be used, but they are seen as less clean\n   than the SIP\
    \ INFO method.  The SIP SUBSCRIBE/NOTIFY method could be\n   coerced into service,\
    \ but the semantics are not a good fit, e.g., the\n   subscribe/notify mechanism\
    \ provides one-way communication consisting\n   of (often multiple) notifications\
    \ from notifier to subscriber\n   indicating that certain events in notifier have\
    \ occurred, whereas\n   what's needed here is two-way communication of data related\
    \ to the\n   emergency dialog.  Use of media-plane mechanisms was discounted\n\
    \   because the number of messages needing to be exchanged in a dialog is\n  \
    \ normally zero or very few, and the size of the data is likewise very\n   small.\
    \  The overhead caused by user-plane setup (e.g., to use the\n   Message Session\
    \ Relay Protocol (MSRP) as transport) would be\n   disproportionately large.\n\
    \   Based on the analyses, the SIP INFO method was chosen to provide for\n   mid-call\
    \ data transport.\n"
- title: 14.9.3.  INFO Package Name
  contents:
  - "14.9.3.  INFO Package Name\n   The INFO package name is EmergencyCallData.eCall.MSD\n"
- title: 14.9.4.  INFO Package Parameters
  contents:
  - "14.9.4.  INFO Package Parameters\n   None\n"
- title: 14.9.5.  SIP Option-Tags
  contents:
  - "14.9.5.  SIP Option-Tags\n   None\n"
- title: 14.9.6.  INFO Request Body Parts
  contents:
  - "14.9.6.  INFO Request Body Parts\n   The body for an EmergencyCallData.eCall.MSD\
    \ INFO package is a\n   multipart (normally multipart/mixed) body containing zero\
    \ or one\n   application/EmergencyCallData.eCall.MSD parts (containing an MSD)\
    \ and\n   zero or more application/EmergencyCallData.Control+xml (containing a\n\
    \   metadata/control object) parts.  At least one MSD or metadata/control\n  \
    \ body part is expected; the behavior upon receiving an INFO request\n   with\
    \ neither is undefined.\n   The body parts are sent per [RFC6086], and in addition,\
    \ to align with\n   how these body parts are sent in SIP messages other than INFO\n\
    \   requests, each associated body part is referenced by a Call-Info\n   header\
    \ field at the top level of the SIP message.  The body part has\n   a Content-Disposition\
    \ header field set to \"By-Reference\".\n   An MSD or metadata/control block is\
    \ always enclosed in a multipart\n   body part (even if it would otherwise be\
    \ the only body part in the\n   SIP message).  The outermost multipart that contains\
    \ only body parts\n   associated with the INFO package has a Content-Disposition\
    \ value of\n   \"Info-Package\".\n"
- title: 14.9.7.  INFO Package Usage Restrictions
  contents:
  - "14.9.7.  INFO Package Usage Restrictions\n   Usage is limited to vehicle-initiated\
    \ emergency calls as defined in\n   this document.\n"
- title: 14.9.8.  Rate of INFO Requests
  contents:
  - "14.9.8.  Rate of INFO Requests\n   The SIP INFO request is used within an established\
    \ emergency call\n   dialog for the PSAP to request the IVS to send an updated\
    \ MSD and for\n   the IVS to send a requested MSD.  Because this is normally done\
    \ only\n   on manual request of the PSAP call taker (who suspects some aspect\
    \ of\n   the vehicle state has changed), the rate of SIP INFO requests\n   associated\
    \ with the EmergencyCallData.eCall.MSD INFO package is\n   normally quite low\
    \ (most dialogs are likely to contain zero INFO\n   requests, while others might\
    \ carry an occasional request).\n"
- title: 14.9.9.  INFO Package Security Considerations
  contents:
  - "14.9.9.  INFO Package Security Considerations\n   The MIME media type registrations\
    \ specified for use with this INFO\n   package (Sections 14.3 and 14.4) contain\
    \ a discussion of the security\n   and/or privacy considerations specific to that\
    \ data block.  See\n   Sections 11 and 12 for a discussion of the security and\
    \ privacy\n   considerations of the data carried in eCalls.\n"
- title: 14.9.10.  Implementation Details
  contents:
  - "14.9.10.  Implementation Details\n   See Sections 6 and 7 for protocol details.\n"
- title: 14.9.11.  Examples
  contents:
  - "14.9.11.  Examples\n   See Section 10 for protocol examples.\n"
- title: 15.  References
  contents:
  - '15.  References

    '
- title: 15.1.  Normative References
  contents:
  - "15.1.  Normative References\n   [MSD]      European Committee for Standardization,\
    \ \"Intelligent\n              transport systems - eSafety - eCall minimum set\
    \ of data\n              (MSD)\", Standard: CEN - EN 15722, April 2015.\n   [RFC2119]\
    \  Bradner, S., \"Key words for use in RFCs to Indicate\n              Requirement\
    \ Levels\", BCP 14, RFC 2119,\n              DOI 10.17487/RFC2119, March 1997,\n\
    \              <http://www.rfc-editor.org/info/rfc2119>.\n   [RFC3688]  Mealling,\
    \ M., \"The IETF XML Registry\", BCP 81, RFC 3688,\n              DOI 10.17487/RFC3688,\
    \ January 2004,\n              <http://www.rfc-editor.org/info/rfc3688>.\n   [RFC5031]\
    \  Schulzrinne, H., \"A Uniform Resource Name (URN) for\n              Emergency\
    \ and Other Well-Known Services\", RFC 5031,\n              DOI 10.17487/RFC5031,\
    \ January 2008,\n              <http://www.rfc-editor.org/info/rfc5031>.\n   [RFC5226]\
    \  Narten, T. and H. Alvestrand, \"Guidelines for Writing an\n              IANA\
    \ Considerations Section in RFCs\", BCP 26, RFC 5226,\n              DOI 10.17487/RFC5226,\
    \ May 2008,\n              <http://www.rfc-editor.org/info/rfc5226>.\n   [RFC6086]\
    \  Holmberg, C., Burger, E., and H. Kaplan, \"Session\n              Initiation\
    \ Protocol (SIP) INFO Method and Package\n              Framework\", RFC 6086,\
    \ DOI 10.17487/RFC6086, January 2011,\n              <http://www.rfc-editor.org/info/rfc6086>.\n\
    \   [RFC6838]  Freed, N., Klensin, J., and T. Hansen, \"Media Type\n         \
    \     Specifications and Registration Procedures\", BCP 13,\n              RFC\
    \ 6838, DOI 10.17487/RFC6838, January 2013,\n              <http://www.rfc-editor.org/info/rfc6838>.\n\
    \   [RFC6881]  Rosen, B. and J. Polk, \"Best Current Practice for\n          \
    \    Communications Services in Support of Emergency Calling\",\n            \
    \  BCP 181, RFC 6881, DOI 10.17487/RFC6881, March 2013,\n              <http://www.rfc-editor.org/info/rfc6881>.\n\
    \   [RFC7303]  Thompson, H. and C. Lilley, \"XML Media Types\", RFC 7303,\n  \
    \            DOI 10.17487/RFC7303, July 2014,\n              <http://www.rfc-editor.org/info/rfc7303>.\n\
    \   [RFC7852]  Gellens, R., Rosen, B., Tschofenig, H., Marshall, R., and\n   \
    \           J. Winterbottom, \"Additional Data Related to an Emergency\n     \
    \         Call\", RFC 7852, DOI 10.17487/RFC7852, July 2016,\n              <http://www.rfc-editor.org/info/rfc7852>.\n"
- title: 15.2.  Informative references
  contents:
  - "15.2.  Informative references\n   [CEN]      \"European Committee for Standardization\
    \ (CEN)\",\n              <http://www.cen.eu>.\n   [EN_16062] European Committee\
    \ for Standardization, \"Intelligent\n              transport systems - eSafety\
    \ - eCall High Level Application\n              Requirements (HLAP) Using GSM/UMTS\
    \ Circuit Switched\n              Networks\", Standard: CEN - EN 16062, April\
    \ 2015.\n   [EN_16072] European Committee for Standardization, \"Intelligent\n\
    \              transport systems - eSafety - Pan-European eCall operating\n  \
    \            requirements\", Standard: CEN - EN 16072, April 2015.\n   [MSG_TR]\
    \   ETSI, \"Mobile Standards Group (MSG); eCall for VoIP\",\n              ETSI\
    \ TR 103 140 V1.1.1, April 2014.\n   [RFC5012]  Schulzrinne, H. and R. Marshall,\
    \ Ed., \"Requirements for\n              Emergency Context Resolution with Internet\
    \ Technologies\",\n              RFC 5012, DOI 10.17487/RFC5012, January 2008,\n\
    \              <http://www.rfc-editor.org/info/rfc5012>.\n   [RFC5069]  Taylor,\
    \ T., Ed., Tschofenig, H., Schulzrinne, H., and M.\n              Shanmugam, \"\
    Security Threats and Requirements for\n              Emergency Call Marking and\
    \ Mapping\", RFC 5069,\n              DOI 10.17487/RFC5069, January 2008,\n  \
    \            <http://www.rfc-editor.org/info/rfc5069>.\n   [RFC6443]  Rosen, B.,\
    \ Schulzrinne, H., Polk, J., and A. Newton,\n              \"Framework for Emergency\
    \ Calling Using Internet\n              Multimedia\", RFC 6443, DOI 10.17487/RFC6443,\
    \ December\n              2011, <http://www.rfc-editor.org/info/rfc6443>.\n  \
    \ [RFC7090]  Schulzrinne, H., Tschofenig, H., Holmberg, C., and M.\n         \
    \     Patel, \"Public Safety Answering Point (PSAP) Callback\",\n            \
    \  RFC 7090, DOI 10.17487/RFC7090, April 2014,\n              <http://www.rfc-editor.org/info/rfc7090>.\n\
    \   [RFC7378]  Tschofenig, H., Schulzrinne, H., and B. Aboba, Ed.,\n         \
    \     \"Trustworthy Location\", RFC 7378, DOI 10.17487/RFC7378,\n            \
    \  December 2014, <http://www.rfc-editor.org/info/rfc7378>.\n   [RFC8148]  Gellens,\
    \ R., Rosen, B., and H. Tschofenig, \"Next-\n              Generation Vehicle-Initiated\
    \ Emergency Calls\", RFC 8148,\n              DOI 10.17487/RFC8148, May 2017,\n\
    \              <http://www.rfc-editor.org/info/rfc8148>.\n   [SDO-3GPP] \"3rd\
    \ Generation Partnership Project (3GPP)\",\n              <http://www.3gpp.org/>.\n\
    \   [SDO-ETSI] \"European Telecommunications Standards Institute (ETSI)\",\n \
    \             <http://www.etsi.org>.\n   [TS22.101] 3GPP, \"Universal Mobile Telecommunications\
    \ System (UMTS);\n              Service aspects; Service principles\", 3GPP TS\n\
    \              22.101, version 8.7.0, Release 8, January 2008.\n   [TS23.167]\
    \ 3GPP, \"IP Multimedia Subsystem (IMS) emergency sessions\",\n              3GPP\
    \ TS 23.167, version 9.6.0, Release 9, March 2011.\n   [TS24.229] 3GPP, \"IP multimedia\
    \ call control protocol based on\n              Session Initiation Protocol (SIP)\
    \ and Session Description\n              Protocol (SDP); Stage 3\", 3GPP TS 24.229,\
    \ version 12.6.0,\n              Release 12, October 2014.\n"
- title: Acknowledgments
  contents:
  - "Acknowledgments\n   We would like to thank Bob Williams and Ban Al-Bakri for\
    \ their\n   feedback and suggestions; Rex Buddenberg, Lena Chaponniere, Alissa\n\
    \   Cooper, Keith Drage, Stephen Edge, Wes George, Mirja Kuehlewind,\n   Allison\
    \ Mankin, Alexey Melnikov, Ivo Sedlacek, and James Winterbottom\n   for their\
    \ review and comments; Robert Sparks and Paul Kyzivat for\n   their help with\
    \ the SIP mechanisms; and Mark Baker and Ned Freed for\n   their help with the\
    \ media subtype registration issue.  We would like\n   to thank Michael Montag,\
    \ Arnoud van Wijk, Gunnar Hellstrom, and\n   Ulrich Dietz for their help with\
    \ the original document upon which\n   this document is based.  Christer Holmberg\
    \ deserves special mention\n   for his many detailed reviews.\n"
- title: Contributors
  contents:
  - "Contributors\n   Brian Rosen was a co-author of the original document upon which\
    \ this\n   document is based.\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Randall Gellens\n   Core Technology Consulting\n   Email:\
    \ rg+ietf@coretechnologyconsulting.com\n   URI:   http://www.coretechnologyconsulting.com\n\
    \   Hannes Tschofenig\n   Individual\n   Email: Hannes.Tschofenig@gmx.net\n  \
    \ URI:   http://www.tschofenig.priv.at\n"
