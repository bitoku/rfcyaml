- title: __initial_text__
  contents:
  - '     Multicast Mobility Routing Optimizations for Proxy Mobile IPv6

    '
- title: Abstract
  contents:
  - "Abstract\n   This document proposes some experimental enhancements to the base\n\
    \   solution to support IP multicasting in a Proxy Mobile IPv6 (PMIPv6)\n   domain.\
    \  These enhancements include the use of a multicast tree\n   mobility anchor\
    \ as the topological anchor point for multicast\n   traffic, as well as a direct\
    \ routing option where the Mobile Access\n   Gateway can provide access to multicast\
    \ content in the local network.\n   The goal of these enhancements is to provide\
    \ benefits such as\n   reducing multicast traffic replication and supporting different\n\
    \   PMIPv6 deployment scenarios.\n"
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This document is not an Internet Standards Track specification;\
    \ it is\n   published for examination, experimental implementation, and\n   evaluation.\n\
    \   This document defines an Experimental Protocol for the Internet\n   community.\
    \  This document is a product of the Internet Engineering\n   Task Force (IETF).\
    \  It represents the consensus of the IETF\n   community.  It has received public\
    \ review and has been approved for\n   publication by the Internet Engineering\
    \ Steering Group (IESG).  Not\n   all documents approved by the IESG are a candidate\
    \ for any level of\n   Internet Standard; see Section 2 of RFC 5741.\n   Information\
    \ about the current status of this document, any errata,\n   and how to provide\
    \ feedback on it may be obtained at\n   http://www.rfc-editor.org/info/rfc7028.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (c) 2013 IETF Trust and the persons identified\
    \ as the\n   document authors.  All rights reserved.\n   This document is subject\
    \ to BCP 78 and the IETF Trust's Legal\n   Provisions Relating to IETF Documents\n\
    \   (http://trustee.ietf.org/license-info) in effect on the date of\n   publication\
    \ of this document.  Please review these documents\n   carefully, as they describe\
    \ your rights and restrictions with respect\n   to this document.  Code Components\
    \ extracted from this document must\n   include Simplified BSD License text as\
    \ described in Section 4.e of\n   the Trust Legal Provisions and are provided\
    \ without warranty as\n   described in the Simplified BSD License.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1. Introduction ....................................................3\n\
    \   2. Terminology .....................................................4\n  \
    \ 3. Overview ........................................................5\n    \
    \  3.1. MTMA/Direct Routing Mode Selection .........................5\n      3.2.\
    \ Multicast Tree Mobility Anchor (Subscription via MTMA) .....5\n      3.3. Direct\
    \ Routing (Subscription via Direct Routing) ...........7\n   4. Mobile Access\
    \ Gateway Operation .................................9\n      4.1. Extensions\
    \ to Binding Update List Data Structure ...........9\n      4.2. MAG as MLD Proxy\
    \ ...........................................9\n           4.2.1. MTMA Mode (Subscription\
    \ via MTMA) ...................9\n           4.2.2. Direct Routing Mode (Subscription\
    \ via\n                  Direct Routing) ....................................11\n\
    \   5. Local Mobility Anchor Operation ................................14\n  \
    \    5.1. Dynamic IP Multicast Selector Option ......................14\n    \
    \       5.1.1. Option Application Rules ...........................14\n      \
    \     5.1.2. Option Format ......................................14\n   6. Multicast\
    \ Tree Mobility Anchor Operation .......................16\n      6.1. Conceptual\
    \ Data Structures ................................17\n   7. Mobile Node Operation\
    \ ..........................................17\n   8. IPv4 Support ...................................................17\n\
    \   9. IANA Considerations ............................................18\n  \
    \ 10. Security Considerations .......................................18\n   11.\
    \ Contributors ..................................................19\n   12. References\
    \ ....................................................20\n      12.1. Normative\
    \ References .....................................20\n      12.2. Informative\
    \ References ...................................21\n   Appendix A. MTMA Deployment\
    \ Use Cases .............................22\n     A.1. PMIPv6 Domain with Ratio\
    \ 1:1 ...............................22\n     A.2. PMIPv6 Domain with Ratio N:1\
    \ ...............................22\n     A.3. PMIPv6 Domain with Ratio 1:N ...............................24\n\
    \     A.4. PMIPv6 Domain with H-LMA ...................................26\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   Proxy Mobile IPv6 [RFC5213] is a network-based approach\
    \ to solving\n   the IP mobility problem.  In a Proxy Mobile IPv6 (PMIPv6) domain,\
    \ the\n   Mobile Access Gateway (MAG) behaves as a proxy mobility agent in the\n\
    \   network and performs the mobility management on behalf of the Mobile\n   Node\
    \ (MN).  The Local Mobility Anchor (LMA) is the home agent for the\n   MN and\
    \ the topological anchor point.  PMIPv6 was originally designed\n   for unicast\
    \ traffic.  However, a PMIPv6 domain may handle data from\n   both unicast and\
    \ multicast sources.\n   The Internet Group Management Protocol (IGMPv3) [RFC3376]\
    \ is used by\n   IPv4 hosts to report their IP multicast group memberships to\n\
    \   neighboring multicast routers.  Multicast Listener Discovery Version\n   2\
    \ (MLDv2) [RFC3810] is used in a similar way by IPv6 routers to\n   discover the\
    \ presence of IPv6 multicast hosts.  Also, the IGMP/MLD\n   proxy specification\
    \ [RFC4605] allows an intermediate (i.e., edge)\n   node to appear as a multicast\
    \ router to downstream hosts and as a\n   host to upstream multicast routers.\
    \  IGMP- and MLD-related protocols\n   however were not originally designed to\
    \ address the IP mobility of\n   multicast listeners (i.e., IGMP and MLD protocols\
    \ were originally\n   designed for fixed networks).\n   A base solution to support\
    \ both IPv4 and IPv6 multicast listener\n   mobility in a PMIPv6 domain is specified\
    \ in [RFC6224], which\n   describes deployment options without modifying mobility\
    \ and multicast\n   protocol standards.  PMIPv6 allows a mobile access gateway\
    \ to\n   establish multiple PMIPv6 tunnels with different local mobility\n   anchors,\
    \ e.g., up to one per mobile node.  In the presence of\n   multicast traffic,\
    \ multiple instances of the same traffic can\n   converge to the same MAG.  Hence,\
    \ when IP multicasting is applied\n   into PMIPv6, it may lead to redundant traffic\
    \ at a MAG.  This is the\n   tunnel convergence problem.\n   In order to address\
    \ this issue, this document proposes an\n   experimental solution, consisting\
    \ of two complementary enhancements:\n   multicast anchor and direct routing.\
    \  The first enhancement makes use\n   of a Multicast Tree Mobility Anchor (MTMA)\
    \ as the topological anchor\n   point for remotely delivering multicast traffic,\
    \ while the second\n   enhancement uses direct routing taking advantage of local\
    \ multicast\n   source availability, allowing a mobile access gateway to connect\n\
    \   directly to a multicast router for simple access to local content.\n   Neither\
    \ of the two schemes has any impact on the mobile node to\n   support IPv4 and\
    \ IPv6 multicast listener mobility, nor on the wider\n   Internet, as they only\
    \ affect the PMIPv6 domains where they are\n   deployed.  Although references\
    \ to \"MLD proxy\" are used in the\n   document, it should be understood to also\
    \ include \"IGMP/MLD proxy\"\n   functionality (see Section 8 for details).  The\
    \ status of this\n   proposal is Experimental.  The status of this proposal may\
    \ be\n   reconsidered in the future, once more implementation feedback and\n \
    \  deployment experience is gathered, reporting on the performance of\n   the\
    \ two proposed schemes as well as operational feedback on scheme\n   selection.\n"
- title: 2.  Terminology
  contents:
  - "2.  Terminology\n   The key words \"MUST\", \"MUST NOT\", \"REQUIRED\", \"SHALL\"\
    , \"SHALL NOT\",\n   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"MAY\", and\
    \ \"OPTIONAL\" in this\n   document are to be interpreted as described in [RFC2119].\n\
    \   This document uses the terminology defined in [RFC5213], [RFC6275],\n   and\
    \ [RFC3810].  Specifically, the definition of PMIPv6 domain is\n   reused from\
    \ [RFC5213] and reproduced here for completeness.\n   Proxy Mobile IPv6 Domain\
    \ (PMIPv6-Domain):  Proxy Mobile IPv6 domain\n      refers to the network where\
    \ the mobility management of a mobile\n      node is handled using the Proxy Mobile\
    \ IPv6 protocol as defined in\n      [RFC5213].  The Proxy Mobile IPv6 domain\
    \ includes local mobility\n      anchors and mobile access gateways between which\
    \ security\n      associations can be set up and authorization for sending proxy\n\
    \      binding updates on behalf of the mobile nodes can be ensured.\n   In this\
    \ document we refine the definition from the point of view of\n   the kind of\
    \ traffic served to the MN in the following way:\n   PMIPv6 unicast domain:  PMIPv6\
    \ unicast domain refers to the network\n      covered by one LMA for unicast service.\
    \  This service supports\n      mobility as the MN moves from one MAG to another\
    \ one, both\n      associated with the same LMA regarding the MN unicast traffic.\n\
    \   PMIPv6 multicast domain:  PMIPv6 multicast domain refers to the\n      network\
    \ covered by one network element named MTMA (defined below)\n      for multicast\
    \ service in such a way that an MN using that service\n      is not aware of mobility\
    \ as it moves from one MAG to another.\n   From the definitions above, it can\
    \ be stated that a PMIPv6 domain can\n   have several PMIPv6 unicast domains and\
    \ PMIPv6 multicast domains.\n   Additionally, some other definitions are introduced,\
    \ as follows.\n   MTMA or multicast tree mobility anchor:  An entity working as\n\
    \      topological anchor point for multicast traffic.  It manages the\n     \
    \ multicast groups subscribed by all (or a subset of) the MAGs in a\n      PMIPv6\
    \ multicast domain, on behalf of the MNs attached to them.\n      Hence, an MTMA\
    \ performs the functions of either a designated\n      multicast router or an\
    \ MLD proxy.\n   H-LMA or Hybrid-LMA:  An entity that is dedicated to both unicast\
    \ and\n      multicast services and able to work as both LMA and MTMA\n      simultaneously.\n\
    \   Direct routing:  This scheme uses the native multicast infrastructure\n  \
    \    for retrieving multicast data.  For an operator having its own\n      local\
    \ content, this technique also includes the case where the\n      content source\
    \ is directly connected to the MAG.\n   Subscription via MTMA:  Multicast subscription\
    \ mode in which the\n      content is retrieved from the remote (or home) MTMA.\n\
    \   Subscription via direct routing:  Multicast subscription mode in\n      which\
    \ the content is retrieved using direct routing from the local\n      domain.\n"
- title: 3.  Overview
  contents:
  - '3.  Overview

    '
- title: 3.1.  MTMA/Direct Routing Mode Selection
  contents:
  - "3.1.  MTMA/Direct Routing Mode Selection\n   This specification describes two\
    \ complementary operational modes that\n   can be used to deliver multicast traffic\
    \ in a PMIPv6 domain:\n   multicast tree mobility anchor and direct routing. \
    \ There are\n   different approaches that can be followed to perform this operational\n\
    \   mode selection, depending on the operator's preferences and PMIPv6\n   deployment\
    \ characteristics.  For example, the mode can be manually\n   configured at the\
    \ mobile access gateway, according to the multicast\n   tree deployment in the\
    \ PMIPv6 domain, following operator's\n   configuration of the multicast distribution\
    \ on it.  Another option is\n   the use of dynamic policies, conveyed in the PBU\
    \ (Proxy Binding\n   Update) / PBA (Proxy Binding Acknowledgement) signaling using\
    \ the\n   Dynamic IP Multicast Selector option described in Section 5.1.  Next,\n\
    \   each of the two operational modes is introduced.\n"
- title: 3.2.  Multicast Tree Mobility Anchor (Subscription via MTMA)
  contents:
  - "3.2.  Multicast Tree Mobility Anchor (Subscription via MTMA)\n   A multicast\
    \ tree mobility anchor is used to serve as the mobility\n   anchor for multicast\
    \ traffic.  The MTMA is either a designated\n   multicast router or an MLD proxy.\
    \  Typically, the MTMA will be used\n   to get access to remote multicast content.\n\
    \   The multicast tree mobility anchor connects to the mobile access\n   gateway,\
    \ as described in [RFC6224], and it can reuse native PMIPv6\n   features such\
    \ as tunnel establishment and security [RFC5213],\n   heartbeat [RFC5847], etc.\
    \  Unicast traffic will go normally to the\n   local mobility anchors in the PMIPv6\
    \ domain as described in\n   [RFC5213].  A MAG connecting to the MTMA acts as\
    \ an MLD proxy.\n   This section describes how the MTMA works in scenarios of\
    \ MN\n   attachment and multicast mobility.  It concentrates on the case of\n\
    \   both LMA and MTMA defining a unique PMIPv6 domain.  Some other\n   deployment\
    \ scenarios are presented in Appendix A.\n   Figure 1 shows an example of a PMIPv6\
    \ domain supporting multicast\n   mobility.  The local mobility anchor is dedicated\
    \ to unicast traffic,\n   and the multicast tree mobility anchor is dedicated\
    \ to multicast\n   traffic.  The MTMA can be considered to be a form of upstream\n\
    \   multicast router with tunnel interfaces allowing subscription via\n   MTMA\
    \ for the MNs.\n   As shown in Figure 1, MAG1 may connect to both unicast (LMA)\
    \ and\n   multicast (MTMA) entities.  Thus, a given MN may simultaneously\n  \
    \ receive both unicast and multicast traffic.  In Figure 1, MN1 and MN2\n   receive\
    \ unicast traffic, multicast traffic, or both, whereas MN3\n   receives multicast\
    \ traffic only.\n                                   +--------------+\n       \
    \                            |Content Source|   || - PMIPv6 Tunnel\n         \
    \                          +--------------+   |  - Multicast\n               \
    \                           |                Data Path\n                     \
    \                     |\n         ***  ***  ***  ***      ***  ***  ***  ***\n\
    \        *   **   **   **   *    *   **   **   **    *\n       *             \
    \       *  *                     *\n       *  Unicast Traffic   *  *  Multicast\
    \ Traffic  *\n       *                    *  *                     *\n       \
    \ *   **   **   **   *    *   **   **   **   *\n         ***  ***  ***  **   \
    \    ***  ***  ***  ***\n                 |                       |\n        \
    \         |                       |\n                 |                      \
    \ |\n              +-----+                 +------+\n     Unicast  | LMA |   \
    \              | MTMA |     Multicast\n      Anchor  +-----+                 +------+\
    \      Anchor\n                  \\\\                    // ||\n             \
    \      \\\\                  //  ||\n                    \\\\                //\
    \   ||\n                     \\\\              //    ||\n                    \
    \  \\\\            //     ||\n                       \\\\          //      ||\n\
    \                        \\\\        //       ||\n                         \\\\\
    \      //        ||\n                          \\\\    //         ||\n       \
    \                   +------+      +------+\n                          | MAG1 |\
    \      | MAG2 |   MLD Proxy\n                          +------+      +------+\n\
    \                          |     |          |\n                          |   \
    \  |          |\n                        {MN1} {MN2}      {MN3}\n      Figure\
    \ 1: Architecture of Multicast Tree Mobility Anchor (MTMA)\n"
- title: 3.3.  Direct Routing (Subscription via Direct Routing)
  contents:
  - "3.3.  Direct Routing (Subscription via Direct Routing)\n   Direct routing uses\
    \ a native multicast infrastructure, allowing a\n   mobile access gateway to directly\
    \ connect to a multicast router (as\n   next hop) in the PMIPv6 domain.  A MAG\
    \ acts as an MLD proxy.\n   The main purpose of direct routing is to provide optimal\
    \ connectivity\n   for local content.  As a consequence, it replaces the MTMA\
    \ of the\n   channel management and data delivery of locally available content.\n\
    \   Unicast traffic will go as normally to the LMAs in the PMIPv6 domain.\n  \
    \ This section describes how the direct routing works in scenarios of\n   MN attachment\
    \ and multicast mobility.\n                           Multicast Tree\n       \
    \                           :\n                                  :         ||\
    \ - PMIPv6 Tunnel\n       +----------+         +----------+    |  - Multicast\
    \ Data Path\n       |   LMA    |         |    MR    |\n       +----------+   \
    \      +----------+\n            ||  \\\\           /     |\n            ||  \
    \ \\\\         /      |\n            ||    \\\\       /       |\n            ||\
    \     \\\\     /        |\n            ||      \\\\   /         |\n          \
    \  ||       \\\\ /          |\n            ||        \\\\           |\n      \
    \      ||        /\\\\          |\n            ||       /  \\\\         |\n  \
    \          ||      /    \\\\        |\n            ||     /      \\\\       |\n\
    \            ||    /        \\\\      |\n         +--------+        +--------+\n\
    \         |  MAG1  |        |  MAG2  |    MLD proxy\n         +--------+     \
    \   +--------+\n            :                   :\n        +------+          \
    \   +------+\n        |  MN1 |   ----->    |  MN1 |\n        +------+        \
    \     +------+\n    Figure 2: Architecture for Direct-Routing-Based PMIPv6 Multicasting\n\
    \   Figure 2 shows the architecture for the local routing case using\n   native\
    \ multicasting infrastructure [PMIP6-REQ].\n   The local mobility anchor is dedicated\
    \ to unicast traffic, and the\n   multicast traffic is obtained from an upstream\
    \ multicast router\n   present in the PMIPv6 domain.  Note that there can be multiple\
    \ LMAs\n   for unicast traffic (not shown in Figure 1 for simplicity) in a given\n\
    \   PMIPv6 domain.\n   As shown in Figure 2, a mobile access gateway may connect\
    \ to both\n   unicast (LMA) and multicast routers (MRs).  Thus, a given mobile\
    \ node\n   may simultaneously receive both unicast and multicast traffic.\n  \
    \ As seen in Figure 2, each MAG has a direct connection (i.e., not\n   using the\
    \ PMIPv6 tunnel interface) with a multicast router.\n   Depending on the multicast\
    \ support on the visited network, different\n   schemas can be used to provide\
    \ this direct connection between the\n   MAGs and the multicast router(s), e.g.,\
    \ being connected to the same\n   shared link or using a tunneling approach, such\
    \ as Generic Routing\n   Encapsulation (GRE) tunnels [RFC2784] or Automatic Multicast\n\
    \   Tunneling (AMT) [AUTO].  To facilitate IGMP/MLD signaling and\n   multicast\
    \ traffic forwarding, an MLD proxy function defined in\n   [RFC4605] SHOULD be\
    \ implemented in the MAG.  There SHOULD be direct\n   connectivity between the\
    \ MAG and the local multicast router (or\n   additional MLD proxy).\n"
- title: 4.  Mobile Access Gateway Operation
  contents:
  - "4.  Mobile Access Gateway Operation\n   This section describes the operation\
    \ of the mobile access gateway,\n   considering that the MAG incorporates MLD\
    \ proxy functions as per\n   [RFC4605].\n"
- title: 4.1.  Extensions to Binding Update List Data Structure
  contents:
  - "4.1.  Extensions to Binding Update List Data Structure\n   A Binding Update List\
    \ (BUL) at the MAG, like the one specified in\n   [RFC5213], MUST be maintained\
    \ to handle the relationship between the\n   serving entities (e.g., MTMA and\
    \ LMA) and the mobile nodes for both\n   unicast and multicast traffic.\n"
- title: 4.2.  MAG as MLD Proxy
  contents:
  - '4.2.  MAG as MLD Proxy

    '
- title: 4.2.1.  MTMA Mode (Subscription via MTMA)
  contents:
  - "4.2.1.  MTMA Mode (Subscription via MTMA)\n   In case of subscription via MTMA,\
    \ all MAGs that are connected to the\n   MTMA must support the MLD proxy function\
    \ [RFC4605].  Specifically in\n   Figure 1, each of the MAG1-MTMA and MAG2-MTMA\
    \ tunnel interfaces\n   define an MLD proxy domain.  The mobile nodes are considered\
    \ to be on\n   the downstream interface of the MLD proxy (of the MAG), and the\
    \ MTMA\n   is considered to be on the upstream interface (of the MAG) as per\n\
    \   [RFC4605].  Note that the mobile access gateway could also be an IGMP\n  \
    \ proxy.\n   Figure 3 shows the procedure when MN1 attaches to a MAG, and\n  \
    \ establishes associations with the LMA (unicast) and the MTMA\n   (multicast).\n\
    \           MN1                  MAG1       LMA        MTMA\n           |    \
    \            (MLD proxy) (Unicast) (Multicast)\n           MN1 attaches to MAG1\
    \  |          |          |\n           |                     |          |    \
    \      |\n           |----Rtr Sol--------->|          |          |\n         \
    \  |                     |--PBU---->|          |\n           |               \
    \      |          |          |\n           |                     |<----PBA--|\
    \          |\n           |                     |          |          |\n     \
    \      |                     |=Unicast==|          |\n           |           \
    \          |  Tunnel  |          |\n           |<---------Rtr Adv----|       \
    \   |          |\n           |                     |          |          |\n \
    \          |< ------ Unicast Traffic------->|          |\n           |       \
    \              |          |          |\n           |                     |==Multicast\
    \ Tunnel===|\n           |                     |          |          |\n     \
    \      |<-------MLD Query----|          |          |\n           |           \
    \          |          |          |\n           MN1 requires          |       \
    \   |          |\n           multicast services    |          |          |\n \
    \          |                     |          |          |\n           |----MLD\
    \ Report (G)-->|          |          |\n           |                     |   \
    \       |          |\n           |                     |----Aggregated------>|\n\
    \           |                     |   MLD Report (G)    |\n           |      \
    \               |          |          |\n           |                     |  \
    \        |          |\n           |<-----------Multicast Traffic------------->|\n\
    \           |                     |          |          |\n   Figure 3: MN Attachment\
    \ and Multicast Service Establishment for MTMA\n   In Figure 3, the MAG first\
    \ establishes the PMIPv6 tunnel with LMA for\n   unicast traffic as defined in\
    \ [RFC5213] after being triggered by the\n   Router Solicitation message from\
    \ MN1.  Unicast traffic will then flow\n   between MN1 and LMA.\n   For multicast\
    \ traffic, a multicast tunnel may have been pre-\n   configured between MAG and\
    \ MTMA, or may be dynamically established\n   when the first MN appears at the\
    \ MAG.\n   MN1 sends the MLD report message (when required by its upper-layer\n\
    \   applications) as defined in [RFC3810] in response to an MLD Query\n   from\
    \ MAG (generated as defined by [RFC6224] upon handover).  The MAG,\n   acting\
    \ as an MLD proxy defined in [RFC4605], will then send an\n   Aggregated MLD Report\
    \ to the multicast anchor, MTMA (assuming that\n   this is a new multicast group\
    \ that the MAG had not previously\n   subscribed to).  Multicast traffic will\
    \ then flow from the MTMA\n   towards MN1.  The MTMA acts as an MLD Querier, so\
    \ it will\n   periodically query each mobile access gateway about the subscriptions\n\
    \   it maintains (not shown in Figure 3).\n   We next consider a mobility scenario\
    \ in which MN1 with an ongoing\n   multicast subscription moves from one MAG to\
    \ another MAG.  According\n   to the baseline solution signaling method described\
    \ in [RFC6224],\n   after MN1 mobility, the new mobile access gateway acting in\
    \ its role\n   of MLD proxy will send an MLD Query to the newly observed mobile\
    \ node\n   on its downlink.  Assuming that the subsequent MLD Report from MN1\n\
    \   requests membership for a new multicast group (from the new MAG's\n   point\
    \ of view), this will then result in an Aggregated MLD Report\n   being sent to\
    \ the MTMA from the new mobile access gateway.  This\n   message will be sent\
    \ through a multicast tunnel between the new MAG\n   and MTMA (pre-established\
    \ or dynamically established).\n   When MN1 detaches, the old MAG may keep the\
    \ multicast tunnel with the\n   multicast MTMA if there are still other MNs using\
    \ the multicast\n   tunnel.  Even if there are no mobile nodes currently on the\
    \ multicast\n   tunnel, the old MAG may decide to keep the multicast tunnel\n\
    \   temporarily for potential future use.\n   As discussed above, existing MLD\
    \ (and MLD proxy) signaling will\n   handle a large part of the multicast mobility\
    \ management for the\n   mobile node.\n"
- title: 4.2.2.  Direct Routing Mode (Subscription via Direct Routing)
  contents:
  - "4.2.2.  Direct Routing Mode (Subscription via Direct Routing)\n   In this case,\
    \ the MLD proxy instance is configured to obtain the\n   multicast traffic locally.\
    \  Figure 4 shows an example of multicast\n   service establishment.  The mobile\
    \ access gateway first establishes\n   the PMIPv6 tunnel with the local mobility\
    \ anchor for unicast traffic\n   as defined in [RFC5213] after being triggered\
    \ by the Router\n   Solicitation message from the mobile node.  Unicast traffic\
    \ will then\n   flow between the MN and LMA.\n   For multicast traffic, it is\
    \ assumed that the upstream interface of\n   the MLD proxy instance has been configured\
    \ pointing to a multicast\n   router internal to the PMIPv6 domain (or towards\
    \ an additional MLD\n   proxy node in the domain), for all the multicast channels\
    \ (which, in\n   consequence, have to be local).  There should be direct connectivity\n\
    \   between the MAG and the local multicast router (or additional MLD\n   proxy).\n\
    \        MN1                   MAG1          LMA            MR\n         |   \
    \             (MLD proxy)    (Unicast)    (Multicast)\n    MN1 attaches to MAG1\
    \       |             |             |\n         |                     |      \
    \       |             |\n         |----Rtr Sol--------->|             |      \
    \       |\n         |                     |--PBU------->|             |\n    \
    \     |                     |             |             |\n         |        \
    \             |<-------PBA--|             |\n         |                     |\
    \             |             |\n         |                     |===Unicast===|\
    \             |\n         |                     |   Tunnel    |             |\n\
    \         |<---------Rtr Adv----|             |             |\n         |    \
    \                 |             |             |\n         |<--------Unicast Traffic---------->|\
    \             |\n         |                     |             |             |\n\
    \         |                     |             |             |\n         |<-------MLD\
    \ Query----|<-------------MLD Query----|\n         |                     |   \
    \          |             |\n     MN1 requires              |             |   \
    \          |\n     multicast services        |             |             |\n \
    \        |                     |             |             |\n         |--MLD\
    \ Report (G)---->|             |             |\n         |                   \
    \  |             |             |\n         |                     |----Aggregated------------>|\n\
    \         |                     |   MLD Report (G)          |\n         |    \
    \                 |             |             |\n         |                  \
    \   |             |             |\n         |<-------------Multicast Traffic----------------->|\n\
    \         |                     |             |             |\n       Figure 4:\
    \ Multicast Service Establishment for Direct Routing\n   Upon detecting node attachment\
    \ from an incoming interface, the MAG\n   adds each downstream interface to the\
    \ MLD proxy instance with an\n   upstream link to an MR according to the standard\
    \ MLD proxy operations\n   [RFC4605] and sends an MLD Query message towards the\
    \ MN.  The mobile\n   node sends the MLD report message (when required by its\
    \ upper-layer\n   applications) in response to an MLD Query from the MAG.  Upon\n\
    \   receiving the MLD Report message from each incoming interface, the\n   MAG\
    \ checks the MLD proxy instance associated with the downstream\n   interface and\
    \ then the MLD Report messages will be aggregated and\n   forwarded to the upstream\
    \ link associated with the MR (assuming that\n   this is a new multicast group\
    \ that the MAG had not previously\n   subscribed to).  Multicast traffic will\
    \ then flow from the local\n   multicast router towards the mobile node.\n   \
    \      MN1          P-MAG       N-MAG        LMA        MR\n          |      \
    \       |           |           |          |\n          |             |      \
    \     |           |          |\n          |<------------|<-- Multicast Data----------------|\n\
    \          |             |       .   |           |          |\n          |   \
    \          |       .   |           |          |\n          |             |   \
    \    .   |           |          |\n       Link         Handover        |     \
    \      |          |\n    Disconnected    Detection       |           |       \
    \   |\n          |             |           |           |          |\n        \
    \  |             |           |           |          |\n          |           \
    \  |    MN Attachment      |          |\n          |             |           |\
    \           |          |\n          |             |           |           |  \
    \        |\n          |----Rtr Sol------------->|           |          |\n   \
    \       |             |           |           |          |\n          |      \
    \       |           |--PBU----->|          |\n          |             |      \
    \     |           |          |\n          |             |           |<-----PBA--|\
    \          |\n          |             |           |           |          |\n \
    \         |<-----------MLD Query----|           |          |\n          |    \
    \         |           |           |          |\n          |----MLD Report---------->|\
    \           |          |\n          |             |           |           |  \
    \        |\n          |             |           |----Aggregated------->|\n   \
    \       |             |           |    MLD Report        |\n          |      \
    \       |           |           |          |\n          |<------------------------|<---Multicast\
    \ Data----|\n          |             |           |           |          |\n  \
    \       Figure 5: Multicast Mobility Signaling for Direct Routing\n   Figure 5\
    \ shows the handover operation procedure for the direct\n   routing operation\
    \ mode.  When MN1 hands off to the next MAG (N-MAG)\n   from the previous MAG\
    \ (P-MAG), the N-MAG detects the newly arrived\n   attached mobile node and performs\
    \ binding update procedure by\n   exchanging PBU/PBA signaling messages with LMA.\
    \  At the same time, an\n   MLD proxy instance detecting MN1 transmits an MLD\
    \ query message to\n   the mobile node.  After receiving the MLD query message,\
    \ MN1 sends an\n   MLD report message that includes the multicast group information.\n\
    \   The N-MAG then sends an aggregated MLD report message to the upstream\n  \
    \ link associated with the MR.  An upstream interface of MLD proxy\n   instance\
    \ is chosen towards certain multicast router.  The upstream\n   interface selection\
    \ can be done according to dynamic policies\n   conveyed in the Dynamic IP Multicast\
    \ Selector option (as described in\n   Section 5.1) or according to manually configured\
    \ policies.  Note that\n   in the base solution defined in [RFC6224], the interface\
    \ selection is\n   determined for each MN based on the Binding Update List.  When\
    \ the\n   N-MAG receives the multicast packets from the MR, it then simply\n \
    \  forwards them without tunnel encapsulation.  The N-MAG updates MN1's\n   location\
    \ information to the LMA by exchanging PBU/PBA signaling\n   messages.\n"
- title: 5.  Local Mobility Anchor Operation
  contents:
  - "5.  Local Mobility Anchor Operation\n   This section includes a new mobility\
    \ option to support dynamic\n   policies on subscription via MTMA/direct routing\
    \ based on the local\n   mobility anchor conveying the required info to the mobile\
    \ access\n   gateway in the proxy binding acknowledgement message.\n"
- title: 5.1.  Dynamic IP Multicast Selector Option
  contents:
  - '5.1.  Dynamic IP Multicast Selector Option

    '
- title: 5.1.1.  Option Application Rules
  contents:
  - "5.1.1.  Option Application Rules\n   A new TLV-encoded mobility option, the Dynamic\
    \ IP Multicast Selector\n   option, is defined for use with the proxy binding\
    \ acknowledgement\n   message exchanged between an LMA and a MAG to convey dynamic\
    \ policies\n   on subscription via MTMA/direct routing.  This option is used for\n\
    \   exchanging the IP addresses of both the group subscribed to by the\n   MN,\
    \ and the source(s) delivering it, as well as the applicable filter\n   mode.\
    \  This information is carried by using directly the Multicast\n   Address Record\
    \ format defined in [RFC3810].  There can be multiple\n   \"Dynamic IP Multicast\
    \ Selector\" options present in the message, up to\n   one for each active subscription\
    \ maintained by the MN.\n"
- title: 5.1.2.  Option Format
  contents:
  - "5.1.2.  Option Format\n   The format of this new option is as follows:\n    0\
    \                   1                   2                   3\n    0 1 2 3 4 5\
    \ 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n                      \
    \             +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n                            \
    \       |      Type     |     Length    |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |     Protocol    |M| Reserved  |Nr of Mcast Address Records (N)|\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |                                                               |\n   +  \
    \                Multicast Address Record [1]                 +\n   |        \
    \                                                       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |                                                               |\n   +  \
    \                Multicast Address Record [2]                 +\n   |        \
    \                                                       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |                               .                               |\n   |  \
    \                             .                               |\n   |        \
    \                       .                               |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |                                                               |\n   +  \
    \                Multicast Address Record [N]                 +\n   |        \
    \                                                       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   Type:\n      54\n   Length:\n      8-bit unsigned integer indicating the length\
    \ of the option in\n      octets, excluding the type and length fields.\n   Protocol:\n\
    \      Field used to identify the multicast membership protocol in use,\n    \
    \  and the corresponding format of the next Multicast Address Record.\n      This\
    \ field maps the type codification used in the original MLD\n      specifications\
    \ for the Report message, namely for MLDv2 [RFC3810]\n      the Protocol value\
    \ MUST be 143, whereas for MLDv1 [RFC2710] the\n      Protocol value MUST be 131.\n\
    \   Dynamic IP Multicast Selector Mode Flag (M-bit):\n      This field indicates\
    \ the subscription via MTMA/direct routing\n      mode.  If the (M) flag value\
    \ is set to a value of (1), it is an\n      indication that the IP multicast traffic\
    \ associated with the\n      multicast group(s) identified by the Multicast Address\
    \ Record(s)\n      in this mobility option SHOULD be routed locally (subscription\
    \ via\n      direct routing mode).  If the (M) flag value is set to a value of\n\
    \      (0), it is an indication that IP multicast traffic associated with\n  \
    \    the multicast group(s) identified by the Multicast Address Record\n     \
    \ in this mobility option(s) SHOULD be routed to the home network,\n      via\
    \ the MTMA (subscription via MTMA mode).  The mobile access\n      gateway MAY\
    \ also choose to use static pre-established policies\n      instead of following\
    \ the indications provided by the local\n      mobility anchor.  All other IP\
    \ traffic associated with the mobile\n      node is managed according to a default\
    \ policy configured at the\n      PMIPv6 multicast domain.\n   Reserved:\n   \
    \   This field is unused for now.  The value MUST be initialized to 0\n      by\
    \ the sender and MUST be ignored by the receiver.\n   Nr of Mcast Address Records\
    \ (N)\n      16-bit unsigned integer indicating the number of Mcast Address\n\
    \      Records (N) present in this option.\n   Multicast Address Record:\n   \
    \   Multicast subscription information corresponding to a single\n      multicast\
    \ address as defined in [RFC3810], or as defined in\n      [RFC2710] for MLDv1.\n"
- title: 6.  Multicast Tree Mobility Anchor Operation
  contents:
  - "6.  Multicast Tree Mobility Anchor Operation\n   The MTMA provides connectivity\
    \ to the multicast infrastructure out of\n   the PMIPv6 domain.  The MTMA itself\
    \ either could act as an additional\n   MLD proxy (only in the case where all\
    \ the connected mobile access\n   gateways act also as MLD proxies), reporting\
    \ to a further node an\n   aggregated view of the subscriptions in a PMIPv6 multicast\
    \ domain, or\n   can act as a designated multicast router for all the MAGs in\
    \ a PMIPv6\n   multicast domain.  The multicast tree mobility anchor will then\n\
    \   request the multicast content on behalf of the MAGs (and mobile nodes\n  \
    \ behind them).  In addition, the MTMA will create and maintain the\n   corresponding\
    \ multicast forwarding states per each tunnel interface\n   towards the MAGs.\
    \  Whatever the role played, when the MAGs act as MLD\n   proxy, the MTMA becomes\
    \ the MLD querier of the MLD proxy instance\n   located in each MAG.\n"
- title: 6.1.  Conceptual Data Structures
  contents:
  - "6.1.  Conceptual Data Structures\n   The multicast tree mobility anchor does\
    \ not directly interact with\n   the mobile nodes attached to any of the mobile\
    \ access gateways.  The\n   MTMA only manages the multicast groups subscribed\
    \ per MAG on behalf\n   of the MNs attached to it.  Having this in mind, the relevant\n\
    \   information to be stored in the MTMA should be the tunnel interface\n   identifier\
    \ (tunnel-if-id) of the bidirectional tunnel for multicast\n   between the MTMA\
    \ and every MAG (e.g., similar to what is stated in\n   [RFC5213] for the unicast\
    \ case), the IP addresses of the multicast\n   group delivered per tunnel to each\
    \ of the MAGs, and the IP addresses\n   of the sources injecting the multicast\
    \ traffic per tunnel to the\n   multicast domain defined by the MTMA.\n"
- title: 7.  Mobile Node Operation
  contents:
  - "7.  Mobile Node Operation\n   The mobile node operation is not impacted by the\
    \ existence of an MTMA\n   as anchor for the multicast traffic being subscribed\
    \ or the use of\n   direct routing.  The MN will act according to the stated operations\n\
    \   in [RFC5213] and [RFC6224].\n   This document considers that every mobile\
    \ node requesting multicast-\n   only services is previously registered in a PMIPv6\
    \ unicast domain to\n   get a unicast IP address.  The registration can also be\
    \ required for\n   several purposes such as remote management, billing, multicast\n\
    \   configuration, etc.\n   A given mobile node's policy profile information must\
    \ be updated to\n   be able to store the IPv6 addresses of both the local mobility\
    \ anchor\n   and multicast tree mobility anchor, the later for the subscription\n\
    \   via MTMA case.\n"
- title: 8.  IPv4 Support
  contents:
  - "8.  IPv4 Support\n   This document does not introduce any IPv4-specific issue\
    \ regarding\n   [RFC5844].  In order for the solution to support IPv4, all the\n\
    \   described network elements (i.e., MAG, MTMA, and MR) must support\n   IGMP.\
    \  In this case, the functionalities of the MAG and MTMA would be\n   as described\
    \ in [RFC6224], with the MTMA replicating the requirements\n   described for the\
    \ LMA.  For the case of the MR, it must also be dual-\n   stack (i.e., IPv6/IPv4)\
    \ enabled.\n   Although references to \"MLD proxy\" have been used in the document,\
    \ it\n   should be understood to also include \"IGMP/MLD proxy\" functionality.\n\
    \   Regarding the Dynamic IP Multicast Selector Option format, it SHOULD\n   consider\
    \ IPv4 compatibility in the following way:\n   Protocol field:\n      For IPv4,\
    \ this field maps the type codification used in the\n      original IGMP specifications\
    \ for the Report message, in the\n      following way:\n      It MUST be 0x12\
    \ in case of using IGMPv1.\n      It MUST be 0x16 in case of using IGMPv2.\n \
    \     It MUST be 0x22 in case of using IGMPv3.\n   Multicast Address Record field:\n\
    \      This field takes different formats depending on the IGMP version\n    \
    \  being used by the MN, as follows:\n      *  For IGMPv1, it takes the format\
    \ given by the Group Address in\n         [RFC1112].\n      *  For IGMPv2, it\
    \ takes the format given by the Group Address in\n         [RFC2236].\n      *\
    \  For IGMPv3, it takes the format given by the Group Record in\n         [RFC3376].\n"
- title: 9.  IANA Considerations
  contents:
  - "9.  IANA Considerations\n   This document defines a new mobility option, the\
    \ Dynamic IP Multicast\n   Selector, which has been assigned the Type 54 by IANA.\
    \  The Type\n   value for these options has been assigned from the same numbering\n\
    \   space as allocated for the other mobility options, as defined in\n   [RFC6275]:\
    \ http://www.iana.org/assignments/mobility-parameters.\n"
- title: 10.  Security Considerations
  contents:
  - "10.  Security Considerations\n   This document describes two complementary operational\
    \ modes that can\n   be used to deliver multicast traffic in a PMIPv6 domain:\
    \ multicast\n   anchor and direct routing.  Different approaches are described\
    \ in the\n   document to decide which operational mode is selected: i) the use\
    \ of\n   pre-configured/pre-provisioned policies at the mobile access gateway,\n\
    \   or ii) the use of dynamic policies.  Approach ii) could introduce a\n   potential\
    \ security issue if the protocol signaling is not properly\n   secured.  The use\
    \ of the Dynamic IP Multicast Selector option\n   described in the document requires\
    \ message integrity protection and\n   source authentication.  Hence, the IPsec\
    \ security mechanism\n   recommended by Proxy Mobile IPv6 [RFC5213] MUST be used\
    \ to secure the\n   Dynamic IP Multicast Selector option conveyed in the PBA (Proxy\n\
    \   Binding Acknowledgement).\n   This document does not introduce any additional\
    \ security threats\n   beyond the current security considerations of PMIPv6 [RFC5213],\
    \ MLD\n   [RFC3810], IGMP [RFC3376], and IGMP/MLD Proxying [RFC4605].\n"
- title: 11.  Contributors
  contents:
  - "11.  Contributors\n   The following individuals made significant contributions\
    \ to this\n   document.\n   Akbar Rahman\n   InterDigital Communications, LLC\n\
    \   EMail: akbar.rahman@interdigital.com\n   Ignacio Soto\n   Universidad Carlos\
    \ III de Madrid\n   EMail: isoto@it.uc3m.es\n"
- title: 12.  References
  contents:
  - '12.  References

    '
- title: 12.1.  Normative References
  contents:
  - "12.1.  Normative References\n   [RFC1112]    Deering, S., \"Host extensions for\
    \ IP multicasting\",\n                STD 5, RFC 1112, August 1989.\n   [RFC2119]\
    \    Bradner, S., \"Key words for use in RFCs to Indicate\n                Requirement\
    \ Levels\", BCP 14, RFC 2119, March 1997.\n   [RFC2236]    Fenner, W., \"Internet\
    \ Group Management Protocol, Version\n                2\", RFC 2236, November\
    \ 1997.\n   [RFC2710]    Deering, S., Fenner, W., and B. Haberman, \"Multicast\n\
    \                Listener Discovery (MLD) for IPv6\", RFC 2710,\n            \
    \    October 1999.\n   [RFC2784]    Farinacci, D., Li, T., Hanks, S., Meyer, D.,\
    \ and P.\n                Traina, \"Generic Routing Encapsulation (GRE)\", RFC\
    \ 2784,\n                March 2000.\n   [RFC3376]    Cain, B., Deering, S., Kouvelas,\
    \ I., Fenner, B., and A.\n                Thyagarajan, \"Internet Group Management\
    \ Protocol,\n                Version 3\", RFC 3376, October 2002.\n   [RFC3810]\
    \    Vida, R. and L. Costa, \"Multicast Listener Discovery\n                Version\
    \ 2 (MLDv2) for IPv6\", RFC 3810, June 2004.\n   [RFC4605]    Fenner, B., He,\
    \ H., Haberman, B., and H. Sandick,\n                \"Internet Group Management\
    \ Protocol (IGMP) / Multicast\n                Listener Discovery (MLD)-Based\
    \ Multicast Forwarding\n                (\"IGMP/MLD Proxying\")\", RFC 4605, August\
    \ 2006.\n   [RFC5213]    Gundavelli, S., Leung, K., Devarapalli, V., Chowdhury,\n\
    \                K., and B. Patil, \"Proxy Mobile IPv6\", RFC 5213,\n        \
    \        August 2008.\n   [RFC5844]    Wakikawa, R. and S. Gundavelli, \"IPv4\
    \ Support for Proxy\n                Mobile IPv6\", RFC 5844, May 2010.\n   [RFC5847]\
    \    Devarapalli, V., Koodli, R., Lim, H., Kant, N.,\n                Krishnan,\
    \ S., and J. Laganier, \"Heartbeat Mechanism for\n                Proxy Mobile\
    \ IPv6\", RFC 5847, June 2010.\n   [RFC6275]    Perkins, C., Johnson, D., and\
    \ J. Arkko, \"Mobility\n                Support in IPv6\", RFC 6275, July 2011.\n"
- title: 12.2.  Informative References
  contents:
  - "12.2.  Informative References\n   [AUTO]       Bumgardner, G., \"Automatic Multicast\
    \ Tunneling\", Work in\n                Progress, July 2013.\n   [MLDPROXY]  \
    \ Asaeda, H. and S. Jeon, \"Multiple Upstream Interface\n                Support\
    \ for IGMP/MLD Proxy\", Work in Progress,\n                February 2013.\n  \
    \ [MUIIMP]     Zhang, H. and T. Schmidt, \"Multi-Upstream Interfaces\n       \
    \         IGMP/MLD Proxy\", Work in Progress, July 2013.\n   [MULTIMOB]   Schmidt,\
    \ T., Gao, S., Zhang, H., and M. Waehlisch,\n                \"Mobile Multicast\
    \ Sender Support in Proxy Mobile IPv6\n                (PMIPv6) Domains\", Work\
    \ in Progress, July 2013.\n   [PMIP6-REQ]  Deng, H., Chen, G., Schmidt, T., Seite,\
    \ P., and P. Yang,\n                \"Multicast Support Requirements for Proxy\
    \ Mobile IPv6\",\n                Work in Progress, July 2009.\n   [RFC6224] \
    \   Schmidt, T., Waehlisch, M., and S. Krishnan, \"Base\n                Deployment\
    \ for Multicast Listener Support in Proxy\n                Mobile IPv6 (PMIPv6)\
    \ Domains\", RFC 6224, April 2011.\n   [UPSTREAM]   Contreras, LM., Bernardos,\
    \ CJ., and JC. Zuniga,\n                \"Extension of the MLD proxy functionality\
    \ to support\n                multiple upstream interfaces\", Work in Progress,\n\
    \                February 2013.\n"
- title: Appendix A.  MTMA Deployment Use Cases
  contents:
  - "Appendix A.  MTMA Deployment Use Cases\n   This informative appendix describes,\
    \ from the network architecture\n   point of view, several deployment options\
    \ considering the MTMA.\n   These options can be distinguished in terms of the\
    \ number of LMAs and\n   MTMAs present in a PMIPv6 domain and the service relationship\
    \ that a\n   set of MNs gets from them, in the form of a \"LMA : MTMA\" ratio.\n\
    \   According to that, it is possible to differentiate the following\n   approaches:\n\
    \   o  A set of MNs is served in a PMIPv6 domain by two entities, one\n      MTMA\
    \ for multicast service, and one LMA for unicast, in such a way\n      that the\
    \ ratio is 1:1 (one common PMIPv6 unicast and multicast\n      domain).\n   o\
    \  A set of MNs is served in a PMIPv6 domain by several entities, one\n      MTMA\
    \ for multicast service, while the others (LMAs) for unicast,\n      in such a\
    \ way that the ratio is N:1 (N PMIPv6 unicast domains\n      coexist with a unique\
    \ multicast domain).\n   o  A set of MNs is served in a PMIPv6 domain by several\
    \ entities, one\n      LMA for unicast, while the others (MTMAs) are devoted to\
    \ multicast\n      service, in such a way that the ratio is 1:N (one single PMIPv6\n\
    \      unicast domain coexists with multiple multicast domains).\n   Scenarios\
    \ with an N:M ratio are considered to be a combination of the\n   previous ones.\n"
- title: A.1.  PMIPv6 Domain with Ratio 1:1
  contents:
  - "A.1.  PMIPv6 Domain with Ratio 1:1\n   This approach refers to the architecture\
    \ presented in Figure 1.\n   Within this approach, a common set of MNs is served\
    \ by a couple of\n   entities, one LMA for unicast and one MTMA for multicast.\
    \  All the\n   MNs of the set are served by these two elements as they move in\
    \ the\n   PMIPv6 domain.\n"
- title: A.2.  PMIPv6 Domain with Ratio N:1
  contents:
  - "A.2.  PMIPv6 Domain with Ratio N:1\n   This approach refers to the situation\
    \ where a common set of MNs is\n   served by a unique MTMA for multicast service,\
    \ but simultaneously\n   there are subsets from that group of MNs that are served\
    \ by distinct\n   LMAs for unicast service as they move in the PMIPv6 domain.\
    \  Each\n   particular MN association with the LMAs (unicast) and MTMA\n   (multicast)\
    \ remains always the same as it moves in the PMIPv6 domain.\n   Figure 6 shows\
    \ the scenario here described.\n            +----------------+       +----------------+\n\
    \            |Content Source A|       |Content Source B|\n            +----------------+\
    \       +----------------+\n                   |                      |\n    \
    \               |                      |\n         ***  ***  ***  ***  ***  ***\
    \  ***  *** *** *** ***\n        *   **   **   **   **  **   **   **   **   **\
    \  **  *\n       *                                                    *\n    \
    \   *                 Fixed Internet                     *\n       *        (Unicast\
    \ & Multicast Traffic)               *\n        *   **   **   **   **  **   **\
    \   **   **   **  **  *\n         ***  ***  ***  *** *** ***  ***  ***  ***  ***\
    \  ***\n           |                     |                      |\n          \
    \ |                     |                      |\n           |               \
    \      |                      |\n        +------+        +-----------------+ \
    \         +------+\n        | LMA1 |        |       MTMA2     |          | LMA3\
    \ |\n        +------+        +-----------------+          +------+\n         \
    \ || \\\\        oo    oo      oo   oo          //  ||\n          ||  \\\\   \
    \   oo     oo      oo    oo        //   ||\n          ||   \\\\    oo      oo\
    \      oo     oo      //    ||\n          ||    \\\\  oo       oo      oo    \
    \  oo    //     ||\n          ||     \\\\oo        oo      oo       oo  //   \
    \   ||\n          ||      \\\\         oo      oo        oo//       ||\n     \
    \     ||     oo\\\\        oo      oo         //        ||\n          ||    oo\
    \  \\\\       oo      oo        //oo       ||\n          ||   oo    \\\\     \
    \ oo      oo       //  oo      ||\n          ||  oo      \\\\     oo      oo \
    \     //    oo     ||\n        +------+      +--------+     +--------+     +--------+\n\
    \        | MAG1 |      |  MAG2  |     |  MAG3  |     |  MAG4  |\n        +------+\
    \      +--------+     +--------+     +--------+\n        |      |       |    \
    \  |       |      |       |      |\n        |      |       |      |       |  \
    \    |       |      |\n     {MN10}  {MN11}  {MN20} {MN21}  {MN30} {MN31} {MN40}\
    \ {MN41}\n                  Figure 6: PMIPv6 Domain with Ratio N:1\n   Figure\
    \ 6 proposes an architecture where there are two entities acting\n   as LMAs,\
    \ LMA1 and LMA3, while there is another one, named MTMA2,\n   working as multicast\
    \ tree mobility anchor.  LMA1 and LMA3 constitute\n   two distinct unicast domains,\
    \ whereas MTMA2 forms a single multicast\n   domain.  The tunnels among MAGs and\
    \ LMAs represented by lines (\"||\")\n   indicate a tunnel transporting unicast\
    \ traffic, while the tunnels\n   among MAGs and MTMA2 depicted with circles (\"\
    o\") show a tunnel\n   transporting multicast traffic.\n   In the figure, it can\
    \ be observed that all the MNs are served by\n   MTMA2 for the incoming multicast\
    \ traffic from sources A or B.\n   However, there are different subsets regarding\
    \ unicast traffic, which\n   maintain distinct associations within the PMIPv6\
    \ domain.  For\n   instance, the subset formed by MN10, MN11, MN20, and MN21 is\
    \ served\n   by LMA1 for unicast, and the rest of MNs are served by LMA3.  For\
    \ the\n   scenario described above, the association between each MN and the\n\
    \   corresponding LMA and MTMA is permanently maintained.\n"
- title: A.3.  PMIPv6 Domain with Ratio 1:N
  contents:
  - "A.3.  PMIPv6 Domain with Ratio 1:N\n   This approach is related to a scenario\
    \ where a common group of MNs is\n   served by a unique LMA for unicast service,\
    \ but simultaneously there\n   are subsets from that group of MNs that are served\
    \ by distinct MTMAs\n   for multicast service as they move in the PMIPv6 domain.\
    \  Different\n   MTMAs might be associated with serving different multicast groups.\n\
    \   These associations remain the same even if the MNs move within the\n   PMIPv6\
    \ domain.\n   Figure 7 shows the scenario here described.\n     +----------------+\
    \                    +----------------+\n     |Content Source A|             \
    \       |Content Source B|\n     +----------------+                    +----------------+\n\
    \            |                                       |\n            |        \
    \  ********************         |\n           ( )        *                   \
    \ *       ( )\n          (   )      *    Fixed Internet    *     (   )\n     \
    \    (     )     *   (Unicast Traffic)  *    (     )\n          (   )       *\
    \                    *      (   )\n           ( )         ********************\
    \        ( )\n            |                   |                   |\n        \
    \    |                   |                   |\n         +------+       +--------------+\
    \      +------+\n         | MTMA1|       |     LMA2     |      | MTMA3|\n    \
    \     +------+       +--------------+      +------+\n         oo      oo     \
    \      // \\\\          ^^     ^^\n          oo       oo        //   \\\\    \
    \   ^^      ^^\n           oo        oo     //     \\\\    ^^       ^^\n     \
    \       oo         oo  //       \\\\ ^^        ^^\n             oo          oo/\
    \         ^^         ^^\n              oo         //oo      ^^ \\\\       ^^\n\
    \               oo       //   oo  ^^    \\\\     ^^\n                oo     //\
    \      oo       \\\\   ^^\n                 oo   //      ^^ oo      \\\\ ^^\n\
    \                  oo //     ^^     oo     \\^^\n               +-------------+\
    \     +-------------+\n               |   \\      /  |     |  \\     |    |\n\
    \               |   ~o~~~~o~  |     |  ~o~~~~o~   |\n               |  ( MLD w\
    \  ) |     | (  MLD w )  |\n               |  ( multip ) |     | ( multip )  |\n\
    \               |  (  i/f   ) |     | (  i/f   )  |\n               |   ~~~~~~~~\
    \  |     |  ~~~~~~~~   |\n               |             |     |             |\n\
    \               |     MAG1    |     |     MAG2    |\n              /+-------------+\
    \     +-------------+\\\n             |       |       |     |        |      |\n\
    \             |       |       |     |        |      |\n          {MN10}   {MN11}\
    \ {MN12}  {MN20}  {MN21} {MN22}\n                  Figure 7: PMIPv6 Domain with\
    \ Ratio 1:N\n   Figure 7 proposes an architecture where the LMA2 is the unique\
    \ LMA\n   for a certain group of MNs, while there are two other entities, MTMA1\n\
    \   and MTMA3, acting as MTMAs for different subsets of multicast\n   content.\
    \  MTMA1 and MTMA3 constitute two distinct multicast domains,\n   whereas LMA2\
    \ forms a single unicast domain.  Each MTMA could be\n   devoted to carry on a\
    \ different content (for instance, MTMA1 for\n   source A and MTMA3 for source\
    \ B).  Looking at the figure, all MNs are\n   served by LMA2 for unicast, while\
    \ they might be simultaneously served\n   by MTMA1 and MTMA3, depending on the\
    \ multicast content.  For the\n   scenario described above, the association between\
    \ multicast content\n   and MTMA is permanently maintained.  Note that this scenario\
    \ would\n   require support for MLD proxy with multiple interfaces [MULTIMOB],\n\
    \   [UPSTREAM], [MLDPROXY], [MUIIMP] at the MAGs.\n"
- title: A.4.  PMIPv6 Domain with H-LMA
  contents:
  - "A.4.  PMIPv6 Domain with H-LMA\n   The H-LMA is defined as an entity that simultaneously\
    \ transports\n   unicast and multicast service, that is, it simultaneously works\
    \ as\n   LMA and MTMA.  In the context of the MTMA solution, an H-LMA can play\n\
    \   the role of MTMA for an entire group of MNs in a PMIPv6 domain, while\n  \
    \ acting simultaneously as LMA for a subset of them.  Figure 8 adapts\n   the\
    \ PMIPv6 domain with ratio N:1 scenario of Figure 6 to the case\n   where MTMA2\
    \ is an H-LMA, which serves multicast traffic to all the\n   MNs in the picture,\
    \ and simultaneously, it is able to serve unicast\n   traffic to the subset formed\
    \ by MN21 and MN30.\n            +----------------+       +----------------+\n\
    \            |Content Source A|       |Content Source B|\n            +----------------+\
    \       +----------------+\n                   |                      |\n    \
    \               |                      |\n         ***  ***  ***  ***  ***  ***\
    \  ***  *** *** *** ***\n        *   **   **   **   **  **   **   **   **   **\
    \  **  *\n       *                                                    *\n    \
    \   *                 Fixed Internet                     *\n       *        (Unicast\
    \ & Multicast Traffic)               *\n        *   **   **   **   **  **   **\
    \   **   **   **  **  *\n         ***  ***  ***  *** *** ***  ***  ***  ***  ***\
    \  ***\n           |                     |                      |\n          \
    \ |                     |                      |\n           |               \
    \      |                      |\n        +------+        +-----------------+ \
    \         +------+\n        | LMA1 |        |       H-LMA     |          | LMA3\
    \ |\n        +------+        +-----------------+          +------+\n         \
    \ || \\\\        oo    db      db   oo          //  ||\n          ||  \\\\   \
    \   oo     db      db    oo        //   ||\n          ||   \\\\    oo      db\
    \      db     oo      //    ||\n          ||    \\\\  oo       db      db    \
    \  oo    //     ||\n          ||     \\\\oo        db      db       oo  //   \
    \   ||\n          ||      \\\\         db      db        oo//       ||\n     \
    \     ||     oo\\\\        db      db         //        ||\n          ||    oo\
    \  \\\\       db      db        //oo       ||\n          ||   oo    \\\\     \
    \ db      db       //  oo      ||\n          ||  oo      \\\\     db      db \
    \     //    oo     ||\n        +------+      +--------+     +--------+     +--------+\n\
    \        | MAG1 |      |  MAG2  |     |  MAG3  |     |  MAG4  |\n        +------+\
    \      +--------+     +--------+     +--------+\n        |      |       |    \
    \  |       |      |       |      |\n        |      |       |      |       |  \
    \    |       |      |\n     {MN10}  {MN11}  {MN20} {MN21}  {MN30} {MN31} {MN40}\
    \ {MN41}\n                    Figure 8: PMIPv6 Domain with H-LMA\n   Figure 8\
    \ presents a PMIPv6 network where there are two pure unicast\n   LMAs, LMA1, and\
    \ LMA3, and a hybrid LMA, labeled as H-LMA in the\n   figure.  The H-LMA is an\
    \ MTMA from the perspective of MAG1 and MAG4.\n   The tunnels among MAGs and LMAs\
    \ represented by lines (\"||\") indicate\n   a tunnel transporting exclusively\
    \ unicast traffic, the tunnels\n   depicted with circles (\"o\") show a tunnel\
    \ transporting exclusively\n   multicast traffic, and the tunnels with mixed lines\
    \ and circles\n   (\"db\") describe a tunnel transporting both types of traffic\n\
    \   simultaneously.\n   All of the MNs in the figure receive the multicast traffic\
    \ from H-LMA\n   (one single multicast domain), but it is possible to distinguish\n\
    \   three subsets from the unicast service perspective (that is, three\n   unicast\
    \ domains).  The first subset is the one formed by MN10, MN11,\n   and MN20, which\
    \ receives unicast traffic from LMA1.  A second subset\n   is the one formed by\
    \ MN21 and MN30, which receives unicast traffic\n   from H-LMA.  And finally,\
    \ a third subset is built on MN31, MN40, and\n   MN41, which receives unicast\
    \ traffic from LMA3.  For the scenario\n   described above, the association between\
    \ each MN and the\n   corresponding LMA and H-LMA is permanently maintained.\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Juan Carlos Zuniga\n   InterDigital Communications, LLC\n\
    \   1000 Sherbrooke Street West, 10th floor\n   Montreal, Quebec  H3A 3G4\n  \
    \ Canada\n   EMail: JuanCarlos.Zuniga@InterDigital.com\n   URI:   http://www.InterDigital.com/\n\
    \   Luis M. Contreras\n   Telefonica I+D\n   Don Ramon de la Cruz, 82-84\n   Madrid\
    \  28006\n   Spain\n   EMail: lmcm@tid.es\n   Carlos J. Bernardos\n   Universidad\
    \ Carlos III de Madrid\n   Av. Universidad, 30\n   Leganes, Madrid  28911\n  \
    \ Spain\n   Phone: +34 91624 6236\n   EMail: cjbc@it.uc3m.es\n   URI:   http://www.it.uc3m.es/cjbc/\n\
    \   Seil Jeon\n   Instituto de Telecomunicacoes\n   Campus Universitario de Santiago\n\
    \   Aveiro  3810-193\n   Portugal\n   EMail: seiljeon@av.it.pt\n   URI:   https://atnog.av.it.pt/~sjeon/\n\
    \   Younghan Kim\n   Soongsil University\n   Sangdo-dong, Dongjak-gu\n   Seoul\
    \  511\n   Republic of Korea\n   EMail: yhkim@dcn.ssu.ac.kr\n   URI:   http://dcnlab.ssu.ac.kr/\n"
