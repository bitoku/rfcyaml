- title: __initial_text__
  contents:
  - '  Test Plan and Results for Advancing RFC 2680 on the Standards Track

    '
- title: Abstract
  contents:
  - "Abstract\n   This memo provides the supporting test plan and results to advance\n\
    \   RFC 2680, a performance metric RFC defining one-way packet loss\n   metrics,\
    \ along the Standards Track.  Observing that the metric\n   definitions themselves\
    \ should be the primary focus rather than the\n   implementations of metrics,\
    \ this memo describes the test procedures\n   to evaluate specific metric requirement\
    \ clauses to determine if the\n   requirement has been interpreted and implemented\
    \ as intended.  Two\n   completely independent implementations have been tested\
    \ against the\n   key specifications of RFC 2680.\n"
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This document is not an Internet Standards Track specification;\
    \ it is\n   published for informational purposes.\n   This document is a product\
    \ of the Internet Engineering Task Force\n   (IETF).  It represents the consensus\
    \ of the IETF community.  It has\n   received public review and has been approved\
    \ for publication by the\n   Internet Engineering Steering Group (IESG).  Not\
    \ all documents\n   approved by the IESG are a candidate for any level of Internet\n\
    \   Standard; see Section 2 of RFC 5741.\n   Information about the current status\
    \ of this document, any errata,\n   and how to provide feedback on it may be obtained\
    \ at\n   http://www.rfc-editor.org/info/rfc7290.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (c) 2014 IETF Trust and the persons identified\
    \ as the\n   document authors.  All rights reserved.\n   This document is subject\
    \ to BCP 78 and the IETF Trust's Legal\n   Provisions Relating to IETF Documents\n\
    \   (http://trustee.ietf.org/license-info) in effect on the date of\n   publication\
    \ of this document.  Please review these documents\n   carefully, as they describe\
    \ your rights and restrictions with respect\n   to this document.  Code Components\
    \ extracted from this document must\n   include Simplified BSD License text as\
    \ described in Section 4.e of\n   the Trust Legal Provisions and are provided\
    \ without warranty as\n   described in the Simplified BSD License.\n   This document\
    \ may contain material from IETF Documents or IETF\n   Contributions published\
    \ or made publicly available before November\n   10, 2008.  The person(s) controlling\
    \ the copyright in some of this\n   material may not have granted the IETF Trust\
    \ the right to allow\n   modifications of such material outside the IETF Standards\
    \ Process.\n   Without obtaining an adequate license from the person(s) controlling\n\
    \   the copyright in such materials, this document may not be modified\n   outside\
    \ the IETF Standards Process, and derivative works of it may\n   not be created\
    \ outside the IETF Standards Process, except to format\n   it for publication\
    \ as an RFC or to translate it into languages other\n   than English.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1. Introduction ....................................................3\n\
    \      1.1. Requirements Language ......................................4\n  \
    \    1.2. RFC 2680 Coverage ..........................................5\n   2.\
    \ A Definition-Centric Metric Advancement Process .................5\n   3. Test\
    \ Configuration ..............................................5\n   4. Error Calibration\
    \ and RFC 2680 ..................................9\n      4.1. Clock Synchronization\
    \ Calibration ..........................9\n      4.2. Packet Loss Determination\
    \ Error ...........................10\n   5. Predetermined Limits on Equivalence\
    \ ............................10\n   6. Tests to Evaluate RFC 2680 Specifications\
    \ ......................11\n      6.1. One-Way Loss: ADK Sample Comparison .......................11\n\
    \           6.1.1. 340B/Periodic Cross-Implementation Results .........12\n  \
    \         6.1.2. 64B/Periodic Cross-Implementation Results ..........14\n    \
    \       6.1.3. 64B/Poisson Cross-Implementation Results ...........15\n      \
    \     6.1.4. Conclusions on the ADK Results for One-Way\n                  Packet\
    \ Loss ........................................16\n      6.2. One-Way Loss: Delay\
    \ Threshold .............................16\n           6.2.1. NetProbe Results\
    \ for Loss Threshold ................17\n           6.2.2. Perfas+ Results for\
    \ Loss Threshold .................17\n           6.2.3. Conclusions for Loss Threshold\
    \ .....................17\n      6.3. One-Way Loss with Out-of-Order Arrival ....................17\n\
    \      6.4. Poisson Sending Process Evaluation ........................19\n  \
    \         6.4.1. NetProbe Results ...................................19\n    \
    \       6.4.2. Perfas+ Results ....................................20\n      \
    \     6.4.3. Conclusions for Goodness-of-Fit ....................22\n      6.5.\
    \ Implementation of Statistics for One-Way Loss .............23\n   7. Conclusions\
    \ for a Revision of RFC 2680 .........................23\n   8. Security Considerations\
    \ ........................................24\n   9. Acknowledgements ...............................................24\n\
    \   10. Appendix - Network Configuration and Sample Commands ..........25\n  \
    \ 11. References ....................................................28\n    \
    \  11.1. Normative References .....................................28\n      11.2.\
    \ Informative References ...................................29\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   The IETF IP Performance Metrics (IPPM) working group has\
    \ considered\n   how to advance their metrics along the Standards Track since\
    \ 2001.\n   The renewed work effort sought to investigate ways in which the\n\
    \   measurement variability could be reduced in order to thereby simplify\n  \
    \ the problem of comparison for equivalence.  As a result, there is\n   consensus\
    \ (captured in [RFC6576]) that equivalent results from\n   independent implementations\
    \ of metric specifications are sufficient\n   evidence that the specifications\
    \ themselves are clear and\n   unambiguous; it is the parallel concept of protocol\
    \ interoperability\n   for metric specifications.  The advancement process either\
    \ (1)\n   produces confidence that the metric definitions and supporting\n   material\
    \ are clearly worded and unambiguous or (2) identifies ways in\n   which the metric\
    \ definitions should be revised to achieve clarity.\n   It is a non-goal to compare\
    \ the specific implementations themselves.\n   The process also permits identification\
    \ of options described in the\n   metric RFC that were not implemented, so that\
    \ they can be removed\n   from the advancing specification (this is an aspect\
    \ more typical of\n   protocol advancement along the Standards Track).\n   This\
    \ memo's purpose is to implement the current approach for\n   [RFC2680] and document\
    \ the results.\n   In particular, this memo documents consensus on the extent\
    \ of\n   tolerable errors when assessing equivalence in the results.  In\n   discussions,\
    \ the IPPM working group agreed that the test plan\n   and procedures should include\
    \ the threshold for determining\n   equivalence, and this information should be\
    \ available in advance of\n   cross-implementation comparisons.  This memo includes\
    \ procedures for\n   same-implementation comparisons to help set the equivalence\n\
    \   threshold.\n   Another aspect of the metric RFC advancement process is the\n\
    \   requirement to document the work and results.  The procedures of\n   [RFC2026]\
    \ are expanded in [RFC5657], including sample implementation\n   and interoperability\
    \ reports.  This memo follows the template in\n   [RFC6808] for the report that\
    \ accompanies the protocol action request\n   submitted to the Area Director,\
    \ including a description of the test\n   setup, procedures, results for each\
    \ implementation, and conclusions.\n   The conclusion reached is that [RFC2680],\
    \ with modifications, should\n   be advanced on the Standards Track.  The revised\
    \ text of RFC 2680\n   [LOSS-METRIC] is ready for review but awaits work in progress\
    \ to\n   update the IPPM Framework [RFC2330].  Therefore, this memo documents\n\
    \   the information to support the advancement of [RFC2680], and the\n   approval\
    \ of a revision of RFC 2680 is left for future action.\n"
- title: 1.1.  Requirements Language
  contents:
  - "1.1.  Requirements Language\n   The key words \"MUST\", \"MUST NOT\", \"REQUIRED\"\
    , \"SHALL\", \"SHALL NOT\",\n   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"\
    MAY\", and \"OPTIONAL\" in this\n   document are to be interpreted as described\
    \ in RFC 2119 [RFC2119].\n   Some of these key words were used in [RFC2680], but\
    \ there are no\n   requirements specified in this memo.\n"
- title: 1.2.  RFC 2680 Coverage
  contents:
  - "1.2.  RFC 2680 Coverage\n   This plan is intended to cover all critical requirements\
    \ and sections\n   of [RFC2680].\n   Note that there are only five relevant instances\
    \ of the requirement\n   term \"MUST\" in [RFC2680], outside of the boilerplate\
    \ and [RFC2119]\n   reference; the instance of \"MUST\" in the Security Considerations\n\
    \   section of [RFC2680] is not a basis for implementation equivalence\n   comparisons.\n\
    \   Statements in RFC 2680 that have the character of requirements may be\n  \
    \ included if the community reaches consensus that the wording implies\n   a requirement.\
    \  At least one instance of an implied requirement has\n   been found in Section\
    \ 3.6 of [RFC2680].\n"
- title: 2.  A Definition-Centric Metric Advancement Process
  contents:
  - "2.  A Definition-Centric Metric Advancement Process\n   The process described\
    \ in Section 3.5 of [RFC6576] takes as a first\n   principle that the metric definitions,\
    \ embodied in the text of the\n   RFCs, are the objects that require evaluation\
    \ and possible revision\n   in order to advance to the next step on the Standards\
    \ Track.  This\n   memo follows that process.\n"
- title: 3.  Test Configuration
  contents:
  - "3.  Test Configuration\n   One metric implementation used was NetProbe version\
    \ 5.8.5 (an earlier\n   version is used in the WIPM system and deployed worldwide\
    \ [WIPM]).\n   NetProbe uses UDP packets of variable size and can produce test\n\
    \   streams with Periodic [RFC3432] or Poisson [RFC2330] sample\n   distributions.\n\
    \   The other metric implementation used was Perfas+ version 3.1,\n   developed\
    \ by Deutsche Telekom [Perfas].  Perfas+ uses UDP unicast\n   packets of variable\
    \ size (but also supports TCP and multicast).  Test\n   streams with Periodic,\
    \ Poisson, or uniform sample distributions may\n   be used.\n   Figure 1 shows\
    \ a view of the test path as each implementation's test\n   flows pass through\
    \ the Internet and the Layer 2 Tunneling Protocol\n   version 3 (L2TPv3) [RFC3931]\
    \ tunnel IDs (1 and 2), based on Figure 1\n   of [RFC6576].\n          +------------+\
    \                                +------------+\n          |   Imp 1    |    \
    \       ,---.                |    Imp 2   |\n          +------------+        \
    \  /     \\    +-------+  +------------+\n            | V100 ^ V200        / \
    \      \\   | Tunnel|   | V300  ^ V400\n            |      |            (    \
    \     )  | Head  |   |       |\n           +--------+  +------+ |         |__|\
    \ Router|  +----------+\n           |Ethernet|  |Tunnel| |Internet |  +---B---+\
    \  |Ethernet  |\n           |Switch  |--|Head  |-|         |      |      |Switch\
    \    |\n           +-+--+---+  |Router| |         |  +---+---+--+--+--+----+\n\
    \             |__|      +--A---+ (         )  |Network|     |__|\n           \
    \                      \\       /   |Emulat.|\n           U-turn             \
    \    \\     /    |\"netem\"|     U-turn\n           V300 to V400            `-+-'\
    \     +-------+     V100 to V200\n          Implementations                  ,---.\
    \       +--------+\n                              +~~~~~~~~~~~/     \\~~~~~~|\
    \ Remote |\n           +------->-----F2->-|          /       \\     |->---.  |\n\
    \           | +---------+      | Tunnel  (         )    |     |  |\n         \
    \  | | transmit|-F1->-|   ID 1  |         |    |->.  |  |\n           | | Imp\
    \ 1   |      +~~~~~~~~~|         |~~~~|  |  |  |\n           | | receive |-<--+\
    \           |         |    | F1  F2 |\n           | +---------+    |         \
    \  |Internet |    |  |  |  |\n           *-------<-----+  F1          |      \
    \   |    |  |  |  |\n             +---------+ |  | +~~~~~~~~~|         |~~~~|\
    \  |  |  |\n             | transmit|-*  *-|         |         |    |<-*  |  |\n\
    \             | Imp 2   |      | Tunnel  (         )    |     |  |\n         \
    \    | receive |-<-F2-|   ID 2   \\       /     |<----*  |\n             +---------+\
    \      +~~~~~~~~~~~\\     /~~~~~~| Switch |\n                                \
    \           `-+-'       +--------+\n          Illustrations of a test setup with\
    \ a bidirectional tunnel.\n          The upper diagram emphasizes the VLAN connectivity\
    \ and\n          geographical location (where \"Imp #\" is the sender and\n  \
    \        receiver of implementation 1 or 2 -- either Perfas+ or\n          NetProbe\
    \ in this test).  The lower diagram shows example\n          flows traveling between\
    \ two measurement implementations.\n          For simplicity, only two flows are\
    \ shown, and the netem\n          emulator is omitted (it would appear before\
    \ or after the\n          Internet, depending on the flow).\n                \
    \                 Figure 1\n   The testing employs the L2TPv3 [RFC3931] tunnel\
    \ between test sites on\n   the Internet.  The tunnel IP and L2TPv3 headers are\
    \ intended to\n   conceal the test equipment addresses and ports from hash functions\n\
    \   that would tend to spread different test streams across parallel\n   network\
    \ resources, with likely variation in performance as a result.\n   At each end\
    \ of the tunnel, one pair of VLANs encapsulated in the\n   tunnel are looped back\
    \ so that test traffic is returned to each test\n   site.  Thus, test streams\
    \ traverse the L2TP tunnel twice but appear\n   to be one-way tests from the point\
    \ of view of the test equipment.\n   The network emulator is a host running Fedora\
    \ 14 Linux [FEDORA], with\n   IP forwarding enabled and the \"netem\" Network\
    \ emulator as part of the\n   Fedora Kernel 2.6.35.11 [NETEM] loaded and operating.\
    \  The standard\n   kernel is \"tickless\", replacing the previous periodic timer\
    \ (250 Hz,\n   with 4 ms uncertainty) interrupts with on-demand interrupts.\n\
    \   Connectivity across the netem/Fedora host was accomplished by\n   bridging\
    \ Ethernet VLAN interfaces together with \"brctl\" commands\n   (e.g., eth1.100\
    \ <-> eth2.100).  The netem emulator was activated on\n   one interface (eth1)\
    \ and only operated on test streams traveling in\n   one direction.  In some tests,\
    \ independent netem instances operated\n   separately on each VLAN.  See the Appendix\
    \ for more details.\n   The links between the netem emulator host, the router,\
    \ and the switch\n   were found to be 100BaseTX-HD (100 Mbps half duplex), as\
    \ reported by\n   \"mii-tool\" [MII-TOOL] when testing was complete.  The use\
    \ of half\n   duplex was not intended but probably added a small amount of delay\n\
    \   variation that could have been avoided in full-duplex mode.\n   Each individual\
    \ test was run with common packet rates (1 pps, 10 pps)\n   Poisson/Periodic distributions,\
    \ and IP packet sizes of 64, 340, and\n   500 bytes.\n   For these tests, a stream\
    \ of at least 300 packets was sent from\n   source to destination in each implementation.\
    \  Periodic streams (as\n   per [RFC3432]) with 1-second spacing were used, except\
    \ as noted.\n   As required in Section 2.8.1 of [RFC2680], packet Type-P must\
    \ be\n   reported.  The packet Type-P for this test was IP-UDP with Best\n   Effort\
    \ Differentiated Services Code Point (DSCP).  These headers were\n   encapsulated\
    \ according to the L2TPv3 specification [RFC3931] and were\n   unlikely to influence\
    \ the treatment received as the packets traversed\n   the Internet.\n   With the\
    \ L2TPv3 tunnel in use, the metric name for the testing\n   configured here (with\
    \ respect to the IP header exposed to Internet\n   processing) is:\n   Type-IP-protocol-115-One-way-Packet-Loss-<StreamType>-Stream\n\
    \   With (Section 3.2 of [RFC2680]) metric parameters:\n   + Src, the IP address\
    \ of a host (12.3.167.16 or 193.159.144.8)\n   + Dst, the IP address of a host\
    \ (193.159.144.8 or 12.3.167.16)\n   + T0, a time\n   + Tf, a time\n   + lambda,\
    \ a rate in reciprocal seconds\n   + Thresh, a maximum waiting time in seconds\
    \ (see Section 2.8.2 of\n     [RFC2680])\n   Metric Units: A sequence of pairs;\
    \ the elements of each pair are:\n   + T, a time, and\n   + L, either a zero or\
    \ a one\n   The values of T in the sequence are monotonically increasing.\n  \
    \ Note that T would be a valid parameter of *singleton*\n   Type-P-One-way-Packet-Loss\
    \ and that L would be a valid value of\n   Type-P-One-way-Packet-Loss (see Section\
    \ 3.3 of [RFC2680]).\n   Also, Section 2.8.4 of [RFC2680] recommends that the\
    \ path SHOULD be\n   reported.  In this test setup, most of the path details will\
    \ be\n   concealed from the implementations by the L2TPv3 tunnels; thus, a\n \
    \  more informative path traceroute can be conducted by the routers at\n   each\
    \ location.\n   When NetProbe is used in production, a traceroute is conducted\
    \ in\n   parallel at the outset of measurements.\n   Perfas+ does not support\
    \ traceroute.\n IPLGW#traceroute 193.159.144.8\n Type escape sequence to abort.\n\
    \ Tracing the route to 193.159.144.8\n   1 12.126.218.245 [AS 7018] 0 msec 0 msec\
    \ 4 msec\n   2 cr84.n54ny.ip.att.net (12.123.2.158) [AS 7018] 4 msec 4 msec\n\
    \     cr83.n54ny.ip.att.net (12.123.2.26) [AS 7018] 4 msec\n   3 cr1.n54ny.ip.att.net\
    \ (12.122.105.49) [AS 7018] 4 msec\n     cr2.n54ny.ip.att.net (12.122.115.93)\
    \ [AS 7018] 0 msec\n     cr1.n54ny.ip.att.net (12.122.105.49) [AS 7018] 0 msec\n\
    \   4 n54ny02jt.ip.att.net (12.122.80.225) [AS 7018] 4 msec 0 msec\n     n54ny02jt.ip.att.net\
    \ (12.122.80.237) [AS 7018] 4 msec\n   5 192.205.34.182 [AS 7018] 0 msec\n   \
    \  192.205.34.150 [AS 7018] 0 msec\n     192.205.34.182 [AS 7018] 4 msec\n   6\
    \ da-rg12-i.DA.DE.NET.DTAG.DE (62.154.1.30) [AS 3320] 88 msec 88 msec\n 88 msec\n\
    \   7 217.89.29.62 [AS 3320] 88 msec 88 msec 88 msec\n   8 217.89.29.55 [AS 3320]\
    \ 88 msec 88 msec 88 msec\n   9  *  *  *\n   NetProbe Traceroute\n   It was only\
    \ possible to conduct the traceroute for the measured path\n   on one of the tunnel-head\
    \ routers (the normal trace facilities of the\n   measurement systems are confounded\
    \ by the L2TPv3 tunnel\n   encapsulation).\n"
- title: 4.  Error Calibration and RFC 2680
  contents:
  - "4.  Error Calibration and RFC 2680\n   An implementation is required to report\
    \ calibration results on clock\n   synchronization per Section 2.8.3 of [RFC2680]\
    \ (also required in\n   Section 3.7 of [RFC2680] for sample metrics).\n   Also,\
    \ it is recommended to report the probability that a packet\n   successfully arriving\
    \ at the destination network interface is\n   incorrectly designated as lost due\
    \ to resource exhaustion in\n   Section 2.8.3 of [RFC2680].\n"
- title: 4.1.  Clock Synchronization Calibration
  contents:
  - "4.1.  Clock Synchronization Calibration\n   For NetProbe and Perfas+ clock synchronization\
    \ test results, refer to\n   Section 4 of [RFC6808].\n"
- title: 4.2.  Packet Loss Determination Error
  contents:
  - "4.2.  Packet Loss Determination Error\n   Since both measurement implementations\
    \ have resource limitations, it\n   is theoretically possible that these limits\
    \ could be exceeded and a\n   packet that arrived at the destination successfully\
    \ might be\n   discarded in error.\n   In previous test efforts [ADV-METRICS],\
    \ NetProbe produced six\n   multicast streams with an aggregate bit rate over\
    \ 53 Mbit/s, in order\n   to characterize the one-way capacity of an emulator\
    \ based on NIST\n   Net.  Neither the emulator nor the pair of NetProbe implementations\n\
    \   used in this testing dropped any packets in these streams.\n   The maximum\
    \ load used here between any two NetProbe implementations\n   was 11.5 Mbit/s\
    \ divided equally among three unicast test streams.  We\n   concluded that steady\
    \ resource usage does not contribute error\n   (additional loss) to the measurements.\n"
- title: 5.  Predetermined Limits on Equivalence
  contents:
  - "5.  Predetermined Limits on Equivalence\n   In this section, we provide the numerical\
    \ limits on comparisons\n   between implementations in order to declare that the\
    \ results are\n   equivalent and that the tested specification is therefore clear.\n\
    \   A key point is that the allowable errors, corrections, and confidence\n  \
    \ levels only need to be sufficient to detect any misinterpretation of\n   the\
    \ tested specification that would indicate diverging\n   implementations.\n  \
    \ Also, the allowable error must be sufficient to compensate for\n   measured\
    \ path differences.  It was simply not possible to measure\n   fully identical\
    \ paths in the VLAN-loopback test configuration used,\n   and this practical compromise\
    \ must be taken into account.\n   For Anderson-Darling K-sample (ADK) [ADK] comparisons,\
    \ the required\n   confidence factor for the cross-implementation comparisons\
    \ SHALL be\n   the smallest of:\n   o  0.95 confidence factor at 1-packet resolution,\
    \ or\n   o  the smallest confidence factor (in combination with resolution) of\n\
    \      the two same-implementation comparisons for the same test\n      conditions\
    \ (if the number of streams is sufficient to allow such\n      comparisons).\n\
    \   For Anderson-Darling Goodness-of-Fit (ADGoF) [RADGOF] comparisons,\n   the\
    \ required level of significance for the same-implementation\n   Goodness-of-Fit\
    \ (GoF) SHALL be 0.05 or 5%, as specified in\n   Section 11.4 of [RFC2330].  This\
    \ is equivalent to a 95% confidence\n   factor.\n"
- title: 6.  Tests to Evaluate RFC 2680 Specifications
  contents:
  - "6.  Tests to Evaluate RFC 2680 Specifications\n   This section describes some\
    \ results from production network (cross-\n   Internet) tests with measurement\
    \ devices implementing IPPM metrics\n   and a network emulator to create relevant\
    \ conditions, to determine\n   whether the metric definitions were interpreted\
    \ consistently by\n   implementors.\n   The procedures are similar to those contained\
    \ in Appendix A.1 of\n   [RFC6576] for one-way delay.\n"
- title: '6.1.  One-Way Loss: ADK Sample Comparison'
  contents:
  - "6.1.  One-Way Loss: ADK Sample Comparison\n   This test determines if implementations\
    \ produce results that appear\n   to come from a common packet loss distribution,\
    \ as an overall\n   evaluation of Section 3 of [RFC2680] (\"A Definition for Samples\
    \ of\n   One-way Packet Loss\").  Same-implementation comparison results help\n\
    \   to set the threshold of equivalence that will be applied to cross-\n   implementation\
    \ comparisons.\n   This test is intended to evaluate measurements in Sections\
    \ 2, 3, and\n   4 of [RFC2680].\n   By testing the extent to which the counts\
    \ of one-way packet loss on\n   different test streams of two [RFC2680] implementations\
    \ appear to be\n   from the same loss process, we reduce comparison steps because\n\
    \   comparing the resulting summary statistics (as defined in Section 4\n   of\
    \ [RFC2680]) would require a redundant set of equivalence\n   evaluations.  We\
    \ can easily check whether the single statistic in\n   Section 4 of [RFC2680]\
    \ was implemented and report on that fact.\n   1.  Configure an L2TPv3 path between\
    \ test sites, and each pair of\n       measurement devices to operate tests in\
    \ their designated pair of\n       VLANs.\n   2.  Measure a sample of one-way\
    \ packet loss singletons with two or\n       more implementations, using identical\
    \ options and network\n       emulator settings (if used).\n   3.  Measure a sample\
    \ of one-way packet loss singletons with *four or\n       more* instances of the\
    \ *same* implementations, using identical\n       options, noting that connectivity\
    \ differences SHOULD be the same\n       as for cross-implementation testing.\n\
    \   4.  If less than ten test streams are available, skip to step 7.\n   5.  Apply\
    \ the ADK comparison procedures (see Appendix B of\n       [RFC6576]), and determine\
    \ the resolution and confidence factor\n       for distribution equivalence of\
    \ each same-implementation\n       comparison and each cross-implementation comparison.\n\
    \   6.  Take the coarsest resolution and confidence factor for\n       distribution\
    \ equivalence from the same-implementation pairs, or\n       the limit defined\
    \ in Section 5 above, as a limit on the\n       equivalence threshold for these\
    \ experimental conditions.\n   7.  Compare the cross-implementation ADK performance\
    \ with the\n       equivalence threshold determined in step 5 to determine if\n\
    \       equivalence can be declared.\n   The metric parameters varied for each\
    \ loss test, and they are listed\n   first in each sub-section below.\n   The\
    \ cross-implementation comparison uses a simple ADK analysis\n   [RTOOL] [RADK],\
    \ where all NetProbe loss counts are compared with all\n   Perfas+ loss results.\n\
    \   In the results analysis of this section:\n   o  All comparisons used 1-packet\
    \ resolution.\n   o  No correction factors were applied.\n   o  The 0.95 confidence\
    \ factor (and ADK criterion for t.obs < 1.960\n      for cross-implementation\
    \ comparison) was used.\n"
- title: 6.1.1.  340B/Periodic Cross-Implementation Results
  contents:
  - "6.1.1.  340B/Periodic Cross-Implementation Results\n   Tests described in this\
    \ section used:\n   o  IP header + payload = 340 octets\n   o  Periodic sampling\
    \ at 1 packet per second\n   o  Test duration = 1200 seconds (during April 7,\
    \ 2011, EDT)\n   The netem emulator was set for 100 ms constant delay, with a\
    \ 10% loss\n   ratio.  In this experiment, the netem emulator was configured to\n\
    \   operate independently on each VLAN; thus, the emulator itself is a\n   potential\
    \ source of error when comparing streams that traverse the\n   test path in different\
    \ directions.\n   =======================================\n   A07bps_loss <- c(114,\
    \ 175, 138, 142, 181, 105)  (NetProbe)\n   A07per_loss <- c(115, 128, 136, 127,\
    \ 139, 138)  (Perfas+)\n   > A07bps_loss <- c(114, 175, 138, 142, 181, 105)\n\
    \   > A07per_loss <- c(115, 128, 136, 127, 139, 138)\n   >\n   > A07cross_loss_ADK\
    \ <- adk.test(A07bps_loss, A07per_loss)\n   > A07cross_loss_ADK\n   Anderson-Darling\
    \ k-sample test.\n   Number of samples:  2\n   Sample sizes: 6 6\n   Total number\
    \ of values: 12\n   Number of unique values: 11\n   Mean of Anderson Darling Criterion:\
    \ 1\n   Standard deviation of Anderson Darling Criterion: 0.6569\n   T = (Anderson\
    \ Darling Criterion - mean)/sigma\n   Null Hypothesis: All samples come from a\
    \ common population.\n                       t.obs P-value extrapolation\n   not\
    \ adj. for ties 0.52043 0.20604             0\n   adj. for ties     0.62679 0.18607\
    \             0\n   >\n   =======================================\n   The cross-implementation\
    \ comparisons pass the ADK criterion\n   (t.obs < 1.960).\n"
- title: 6.1.2.  64B/Periodic Cross-Implementation Results
  contents:
  - "6.1.2.  64B/Periodic Cross-Implementation Results\n   Tests described in this\
    \ section used:\n   o  IP header + payload = 64 octets\n   o  Periodic sampling\
    \ at 1 packet per second\n   o  Test duration = 300 seconds (during March 24,\
    \ 2011, EDT)\n   The netem emulator was set for 0 ms constant delay, with a 10%\
    \ loss\n   ratio.\n   =======================================\n   > M24per_loss\
    \ <- c(42,34,35,35)         (Perfas+)\n   > M24apd_23BC_loss <- c(27,39,29,24)\
    \    (NetProbe)\n   > M24apd_loss23BC_ADK <- adk.test(M24apd_23BC_loss,M24per_loss)\n\
    \   > M24apd_loss23BC_ADK\n   Anderson-Darling k-sample test.\n   Number of samples:\
    \  2\n   Sample sizes: 4 4\n   Total number of values: 8\n   Number of unique\
    \ values: 7\n   Mean of Anderson Darling Criterion: 1\n   Standard deviation of\
    \ Anderson Darling Criterion: 0.60978\n   T = (Anderson Darling Criterion - mean)/sigma\n\
    \   Null Hypothesis: All samples come from a common population.\n            \
    \           t.obs P-value extrapolation\n   not adj. for ties 0.76921 0.16200\
    \             0\n   adj. for ties     0.90935 0.14113             0\n   Warning:\
    \ At least one sample size is less than 5.\n            p-values may not be very\
    \ accurate.\n   >\n   =======================================\n   The cross-implementation\
    \ comparisons pass the ADK criterion.\n"
- title: 6.1.3.  64B/Poisson Cross-Implementation Results
  contents:
  - "6.1.3.  64B/Poisson Cross-Implementation Results\n   Tests described in this\
    \ section used:\n   o  IP header + payload = 64 octets\n   o  Poisson sampling\
    \ at lambda = 1 packet per second\n   o  Test duration = 1200 seconds (during\
    \ April 27, 2011, EDT)\n   The netem configuration was 0 ms delay and 10% loss,\
    \ but there were\n   two passes through an emulator for each stream, and loss\
    \ emulation\n   was present for 18 minutes of the 20-minute (1200-second) test.\n\
    \   =======================================\n   A27aps_loss <- c(91,110,113,102,111,109,112,113)\
    \  (NetProbe)\n   A27per_loss <- c(95,123,126,114)                  (Perfas+)\n\
    \   A27cross_loss_ADK <- adk.test(A27aps_loss, A27per_loss)\n   > A27cross_loss_ADK\n\
    \   Anderson-Darling k-sample test.\n   Number of samples:  2\n   Sample sizes:\
    \ 8 4\n   Total number of values: 12\n   Number of unique values: 11\n   Mean\
    \ of Anderson Darling Criterion: 1\n   Standard deviation of Anderson Darling\
    \ Criterion: 0.65642\n   T = (Anderson Darling Criterion - mean)/sigma\n   Null\
    \ Hypothesis: All samples come from a common population.\n                   \
    \    t.obs P-value extrapolation\n   not adj. for ties 2.15099 0.04145       \
    \      0\n   adj. for ties     1.93129 0.05125             0\n   Warning: At least\
    \ one sample size is less than 5.\n            p-values may not be very accurate.\n\
    \   >\n   =======================================\n   The cross-implementation\
    \ comparisons barely pass the ADK criterion at\n   95% = 1.960 when adjusting\
    \ for ties.\n"
- title: 6.1.4.  Conclusions on the ADK Results for One-Way Packet Loss
  contents:
  - "6.1.4.  Conclusions on the ADK Results for One-Way Packet Loss\n   We conclude\
    \ that the two implementations are capable of producing\n   equivalent one-way\
    \ packet loss measurements based on their\n   interpretation of [RFC2680].\n"
- title: '6.2.  One-Way Loss: Delay Threshold'
  contents:
  - "6.2.  One-Way Loss: Delay Threshold\n   This test determines if implementations\
    \ use the same configured\n   maximum waiting time delay from one measurement\
    \ to another under\n   different delay conditions and correctly declare packets\
    \ arriving in\n   excess of the waiting time threshold as lost.\n   See Section\
    \ 2.8.2 of [RFC2680].\n   1.  Configure an L2TPv3 path between test sites, and\
    \ each pair of\n       measurement devices to operate tests in their designated\
    \ pair of\n       VLANs.\n   2.  Configure the network emulator to add 1 second\
    \ of one-way\n       constant delay in one direction of transmission.\n   3. \
    \ Measure (average) one-way delay with two or more implementations,\n       using\
    \ identical waiting time thresholds (Thresh) for loss set at\n       3 seconds.\n\
    \   4.  Configure the network emulator to add 3 seconds of one-way\n       constant\
    \ delay in one direction of transmission equivalent to\n       2 seconds of additional\
    \ one-way delay (or change the path delay\n       while the test is in progress,\
    \ when there are sufficient packets\n       at the first delay setting).\n   5.\
    \  Repeat/continue measurements.\n   6.  Observe that the increase measured in\
    \ step 5 caused all packets\n       with 2 seconds of additional delay to be declared\
    \ lost and that\n       all packets that arrive successfully in step 3 are assigned\
    \ a\n       valid one-way delay.\n   The common parameters used for tests in this\
    \ section are:\n   o  IP header + payload = 64 octets\n   o  Poisson sampling\
    \ at lambda = 1 packet per second\n   o  Test duration = 900 seconds total (March\
    \ 21, 2011 EDT)\n   The netem emulator settings added constant delays as specified\
    \ in the\n   procedure above.\n"
- title: 6.2.1.  NetProbe Results for Loss Threshold
  contents:
  - "6.2.1.  NetProbe Results for Loss Threshold\n   In NetProbe, the loss threshold\
    \ was implemented uniformly over all\n   packets as a post-processing routine.\
    \  With the loss threshold set at\n   3 seconds, all packets with one-way delay\
    \ >3 seconds were marked\n   \"Lost\" and included in the Lost Packet list with\
    \ their transmission\n   time (as required in Section 3.3 of [RFC2680]).  This\
    \ resulted in\n   342 packets designated as lost in one of the test streams (with\n\
    \   average delay = 3.091 sec).\n"
- title: 6.2.2.  Perfas+ Results for Loss Threshold
  contents:
  - "6.2.2.  Perfas+ Results for Loss Threshold\n   Perfas+ uses a fixed loss threshold,\
    \ which was not adjustable during\n   this study.  The loss threshold is approximately\
    \ one minute, and\n   emulation of a delay of this size was not attempted.  However,\
    \ it is\n   possible to implement any delay threshold desired with a\n   post-processing\
    \ routine and subsequent analysis.  Using this method,\n   195 packets would be\
    \ declared lost (with average delay = 3.091 sec).\n"
- title: 6.2.3.  Conclusions for Loss Threshold
  contents:
  - "6.2.3.  Conclusions for Loss Threshold\n   Both implementations assume that any\
    \ constant delay value desired can\n   be used as the loss threshold, since all\
    \ delays are stored as a pair\n   <Time, Delay> as required in [RFC2680].  This\
    \ is a simple way to\n   enforce the constant loss threshold envisioned in [RFC2680]\
    \ (see\n   Section 2.8.2 of [RFC2680]).  We take the position that the\n   assumption\
    \ of post-processing is compliant and that the text of the\n   revision of RFC\
    \ 2680 should be revised slightly to include this\n   point.\n"
- title: 6.3.  One-Way Loss with Out-of-Order Arrival
  contents:
  - "6.3.  One-Way Loss with Out-of-Order Arrival\n   Section 3.6 of [RFC2680] indicates,\
    \ with a lowercase \"must\" in the\n   text, that implementations need to ensure\
    \ that reordered packets are\n   handled correctly.  In essence, this is an implied\
    \ requirement\n   because the correct packet must be identified as lost if it\
    \ fails to\n   arrive before its delay threshold under all circumstances, and\n\
    \   reordering is always a possibility on IP network paths.  See\n   [RFC4737]\
    \ for the definition of reordering used in IETF\n   standard-compliant measurements.\n\
    \   The netem emulator can produce packet reordering because each\n   packet's\
    \ delay is drawn from an independent distribution.  Here,\n   significant delay\
    \ (2000 ms) and delay variation (1000 ms) were\n   sufficient to produce packet\
    \ reordering.  Using the procedure\n   described in Section 6.1, the netem emulator\
    \ was set to introduce 10%\n   loss while reordering was present.\n   The tests\
    \ described in this section used:\n   o  IP header + payload = 64 octets\n   o\
    \  Periodic sampling = 1 packet per second\n   o  Test duration = 600 seconds\
    \ (during May 2, 2011, EDT)\n   =======================================\n   >\
    \ Y02aps_loss <- c(53,45,67,55)      (NetProbe)\n   > Y02per_loss <- c(59,62,67,69)\
    \      (Perfas+)\n   > Y02cross_loss_ADK <- adk.test(Y02aps_loss, Y02per_loss)\n\
    \   > Y02cross_loss_ADK\n   Anderson-Darling k-sample test.\n   Number of samples:\
    \  2\n   Sample sizes: 4 4\n   Total number of values: 8\n   Number of unique\
    \ values: 7\n   Mean of Anderson Darling Criterion: 1\n   Standard deviation of\
    \ Anderson Darling Criterion: 0.60978\n   T = (Anderson Darling Criterion - mean)/sigma\n\
    \   Null Hypothesis: All samples come from a common population.\n            \
    \           t.obs P-value extrapolation\n   not adj. for ties 1.11282 0.11531\
    \             0\n   adj. for ties     1.19571 0.10616             0\n   Warning:\
    \ At least one sample size is less than 5.\n            p-values may not be very\
    \ accurate.\n   >\n   =======================================\n   The test results\
    \ indicate that extensive reordering was present.\n   Both implementations capture\
    \ the extensive delay variation between\n   adjacent packets.  In NetProbe, packet\
    \ arrival order is preserved in\n   the raw measurement files, so an examination\
    \ of arrival packet\n   sequence numbers also reveals reordering.\n   Despite\
    \ extensive continuous packet reordering present in the\n   transmission path,\
    \ the distributions of loss counts from the two\n   implementations pass the ADK\
    \ criterion at 95% = 1.960.\n"
- title: 6.4.  Poisson Sending Process Evaluation
  contents:
  - "6.4.  Poisson Sending Process Evaluation\n   Section 3.7 of [RFC2680] indicates\
    \ that implementations need to\n   ensure that their sending process is reasonably\
    \ close to a classic\n   Poisson distribution when used.  Much more detail on\
    \ sample\n   distribution generation and Goodness-of-Fit testing is specified\
    \ in\n   Section 11.4 of [RFC2330] and the Appendix of [RFC2330].\n   In this\
    \ section, each implementation's Poisson distribution is\n   compared with an\
    \ idealistic version of the distribution available in\n   the base functionality\
    \ of the R-tool for Statistical Analysis [RTOOL]\n   and performed using the Anderson-Darling\
    \ Goodness-of-Fit test package\n   (ADGofTest) [RADGOF].  The Goodness-of-Fit\
    \ criterion derived from\n   [RFC2330] requires a test statistic value AD <= 2.492\
    \ for 5%\n   significance.  The Appendix of [RFC2330] also notes that there may\
    \ be\n   difficulty satisfying the ADGofTest when the sample includes many\n \
    \  packets (when 8192 were used, the test always failed, but smaller\n   sets\
    \ of the stream passed).\n   Both implementations were configured to produce Poisson\
    \ distributions\n   with lambda = 1 packet per second and to assign received packet\n\
    \   timestamps in the measurement application (above the UDP layer; see\n   the\
    \ calibration results in Section 4 of [RFC6808] for error\n   assessment).\n"
- title: 6.4.1.  NetProbe Results
  contents:
  - "6.4.1.  NetProbe Results\n   Section 11.4 of [RFC2330] suggests three possible\
    \ measurement points\n   to evaluate the Poisson distribution.  The NetProbe analysis\
    \ uses\n   \"user-level timestamps made just before or after the system call for\n\
    \   transmitting the packet\".\n   The statistical summary for two NetProbe streams\
    \ is below:\n   =======================================\n   > summary(a27ms$s1[2:1152])\n\
    \      Min. 1st Qu.  Median    Mean 3rd Qu.    Max.\n    0.0100  0.2900  0.6600\
    \  0.9846  1.3800  8.6390\n   > summary(a27ms$s2[2:1152])\n      Min. 1st Qu.\
    \  Median    Mean 3rd Qu.    Max.\n     0.010   0.280   0.670   0.979   1.365\
    \   8.829\n   =======================================\n   We see that both of\
    \ the means are near the specified lambda = 1.\n   The results of ADGoF tests\
    \ for these two streams are shown below:\n   =======================================\n\
    \   > ad.test( a27ms$s1[2:101], pexp, 1)\n           Anderson-Darling GoF Test\n\
    \   data:  a27ms$s1[2:101]  and  pexp\n   AD = 0.8908, p-value = 0.4197\n   alternative\
    \ hypothesis: NA\n   > ad.test( a27ms$s1[2:1001], pexp, 1)\n           Anderson-Darling\
    \ GoF Test\n   data:  a27ms$s1[2:1001]  and  pexp\n   AD = 0.9284, p-value = 0.3971\n\
    \   alternative hypothesis: NA\n   > ad.test( a27ms$s2[2:101], pexp, 1)\n    \
    \       Anderson-Darling GoF Test\n   data:  a27ms$s2[2:101]  and  pexp\n   AD\
    \ = 0.3597, p-value = 0.8873\n   alternative hypothesis: NA\n   > ad.test( a27ms$s2[2:1001],\
    \ pexp, 1)\n           Anderson-Darling GoF Test\n   data:  a27ms$s2[2:1001] \
    \ and  pexp\n   AD = 0.6913, p-value = 0.5661\n   alternative hypothesis: NA\n\
    \   =======================================\n   We see that both sets of 100 packets\
    \ and 1000 packets from two\n   different streams (s1 and s2) all passed the AD\
    \ <= 2.492 criterion.\n"
- title: 6.4.2.  Perfas+ Results
  contents:
  - "6.4.2.  Perfas+ Results\n   Section 11.4 of [RFC2330] suggests three possible\
    \ measurement points\n   to evaluate the Poisson distribution.  The Perfas+ analysis\
    \ uses\n   \"wire times for the packets as recorded using a packet filter\".\n\
    \   However, due to limited access at the Perfas+ side of the test setup,\n  \
    \ the captures were made after the Perfas+ streams traversed the\n   production\
    \ network, adding a small amount of unwanted delay variation\n   to the wire times\
    \ (and possibly error due to packet loss).\n   The statistical summary for two\
    \ Perfas+ streams is below:\n   =======================================\n   >\
    \ summary(a27pe$p1)\n      Min. 1st Qu.  Median    Mean 3rd Qu.    Max.\n    \
    \ 0.004   0.347   0.788   1.054   1.548   4.231\n   > summary(a27pe$p2)\n    \
    \  Min. 1st Qu.  Median    Mean 3rd Qu.    Max.\n    0.0010  0.2710  0.7080  0.9696\
    \  1.3740  7.1160\n   =======================================\n   We see that\
    \ both of the means are near the specified lambda = 1.\n   The results of ADGoF\
    \ tests for these two streams are shown below:\n   =======================================\n\
    \   > ad.test(a27pe$p1, pexp, 1 )\n           Anderson-Darling GoF Test\n   data:\
    \  a27pe$p1  and  pexp\n   AD = 1.1364, p-value = 0.2930\n   alternative hypothesis:\
    \ NA\n   > ad.test(a27pe$p2, pexp, 1 )\n           Anderson-Darling GoF Test\n\
    \   data:  a27pe$p2  and  pexp\n   AD = 0.5041, p-value = 0.7424\n   alternative\
    \ hypothesis: NA\n   > ad.test(a27pe$p1[1:100], pexp, 1 )\n           Anderson-Darling\
    \ GoF Test\n   data:  a27pe$p1[1:100]  and  pexp\n   AD = 0.7202, p-value = 0.5419\n\
    \   alternative hypothesis: NA\n   > ad.test(a27pe$p1[101:193], pexp, 1 )\n  \
    \         Anderson-Darling GoF Test\n   data:  a27pe$p1[101:193]  and  pexp\n\
    \   AD = 1.4046, p-value = 0.201\n   alternative hypothesis: NA\n   > ad.test(a27pe$p2[1:100],\
    \ pexp, 1 )\n           Anderson-Darling GoF Test\n   data:  a27pe$p2[1:100] \
    \ and  pexp\n   AD = 0.4758, p-value = 0.7712\n   alternative hypothesis: NA\n\
    \   > ad.test(a27pe$p2[101:193], pexp, 1 )\n           Anderson-Darling GoF Test\n\
    \   data:  a27pe$p2[101:193]  and  pexp\n   AD = 0.3381, p-value = 0.9068\n  \
    \ alternative hypothesis: NA\n   >\n   =======================================\n\
    \   We see that sets of 193, 100, and 93 packets from two different\n   streams\
    \ (p1 and p2) all passed the AD <= 2.492 criterion.\n"
- title: 6.4.3.  Conclusions for Goodness-of-Fit
  contents:
  - "6.4.3.  Conclusions for Goodness-of-Fit\n   Both NetProbe and Perfas+ implementations\
    \ produce adequate Poisson\n   distributions according to the Anderson-Darling\
    \ Goodness-of-Fit at\n   the 5% significance (1-alpha = 0.05, or 95% confidence\
    \ level).\n"
- title: 6.5.  Implementation of Statistics for One-Way Loss
  contents:
  - "6.5.  Implementation of Statistics for One-Way Loss\n   We check to see which\
    \ statistics were implemented and report on those\n   facts, noting that Section\
    \ 4 of [RFC2680] does not specify the\n   calculations exactly and only gives\
    \ some illustrative examples.\n                                              \
    \   NetProbe    Perfas+\n        Type-P-One-way-Packet-Loss-Average       yes\
    \         yes\n          (this is more commonly referred\n           to as \"\
    loss ratio\")\n             Implementation of RFC 2680 Section 4 Statistics\n\
    \   We note that implementations refer to this metric as a loss ratio,\n   and\
    \ this is an area for likely revision of the text to make it more\n   consistent\
    \ with widespread usage.\n"
- title: 7.  Conclusions for a Revision of RFC 2680
  contents:
  - "7.  Conclusions for a Revision of RFC 2680\n   This memo concludes that [RFC2680]\
    \ should be advanced on the\n   Standards Track and recommends the following edits\
    \ to improve the\n   text (which are not deemed significant enough to affect maturity).\n\
    \   o  Revise Type-P-One-way-Packet-Loss-Ave to\n      Type-P-One-way-Delay-Packet-Loss-Ratio.\n\
    \   o  Regarding implementation of the loss delay threshold\n      (Section 6.2),\
    \ the assumption of post-processing is compliant, and\n      the text of the revision\
    \ of RFC 2680 should be revised slightly to\n      include this point.\n   o \
    \ The IETF has reached consensus on guidance for reporting metrics\n      [RFC6703],\
    \ and this memo should be referenced in a revision of\n      RFC 2680 to incorporate\
    \ recent experience where appropriate.\n   We note that there are at least two\
    \ errata for [RFC2680], and it\n   appears that these minor revisions should be\
    \ incorporated in a\n   revision of RFC 2680.\n   The authors that revise [RFC2680]\
    \ should review all errata filed at\n   the time the document is being written.\
    \  They should not rely upon\n   this document to indicate all relevant errata\
    \ updates.\n   We recognize the existence of BCP 170 [RFC6390], which provides\n\
    \   guidelines for development of documents describing new performance\n   metrics.\
    \  However, the advancement of [RFC2680] represents fine-\n   tuning of long-standing\
    \ specifications based on experience that\n   helped to formulate BCP 170, and\
    \ material that satisfies some of the\n   requirements of [RFC6390] can be found\
    \ in other RFCs, such as the\n   IPPM Framework [RFC2330].  Thus, no specific\
    \ changes to address\n   BCP 170 guidelines are recommended for a revision of\
    \ RFC 2680.\n"
- title: 8.  Security Considerations
  contents:
  - "8.  Security Considerations\n   The security considerations that apply to any\
    \ active measurement of\n   live networks are relevant here as well.  See [RFC4656]\
    \ and\n   [RFC5357].\n"
- title: 9.  Acknowledgements
  contents:
  - "9.  Acknowledgements\n   The authors thank Lars Eggert for his continued encouragement\
    \ to\n   advance the IPPM metrics during his tenure as AD Advisor.\n   Nicole\
    \ Kowalski supplied the needed Customer Premises Equipment (CPE)\n   router for\
    \ the NetProbe side of the test setup and graciously managed\n   her testing in\
    \ spite of issues caused by dual-use of the router.\n   Thanks, Nicole!\n   The\
    \ \"NetProbe Team\" also acknowledges many useful discussions on\n   statistical\
    \ interpretation with Ganga Maguluri.\n   Constructive comments and helpful reviews\
    \ were also provided by Bill\n   Cerveny, Joachim Fabini, and Ann Cerveny.\n"
- title: 10.  Appendix - Network Configuration and Sample Commands
  contents:
  - "10.  Appendix - Network Configuration and Sample Commands\n   This Appendix provides\
    \ some background information on the host\n   configuration and sample tc commands\
    \ for the \"netem\" network\n   emulator, as described in Section 3 and Figure\
    \ 1 of this memo.  These\n   details are also applicable to the test plan in [RFC6808].\n\
    \   The host interface and configuration are shown below.  Due to the\n   limit\
    \ of 72 characters per line, line breaks were added to the \"tc\"\n   commands\
    \ in the output below.\n   [system@dell4-4 ~]$ su\n   Password:\n   [root@dell4-4\
    \ system]# service iptables save\n   iptables: Saving firewall rules to /etc/sysconfig/iptables:[\
    \  OK  ]\n   [root@dell4-4 system]# service iptables stop\n   iptables: Flushing\
    \ firewall rules:                         [  OK  ]\n   iptables: Setting chains\
    \ to policy ACCEPT: nat filter      [  OK  ]\n   iptables: Unloading modules:\
    \                               [  OK  ]\n   [root@dell4-4 system]# brctl show\n\
    \   bridge name     bridge id               STP enabled     interfaces\n   virbr0\
    \          8000.000000000000       yes\n   [root@dell4-4 system]# ifconfig eth1.300\
    \ 0.0.0.0 promisc up\n   [root@dell4-4 system]# ifconfig eth1.400 0.0.0.0 promisc\
    \ up\n   [root@dell4-4 system]# ifconfig eth2.400 0.0.0.0 promisc up\n   [root@dell4-4\
    \ system]# ifconfig eth2.300 0.0.0.0 promisc up\n   [root@dell4-4 system]# brctl\
    \ addbr br300\n   [root@dell4-4 system]# brctl addif br300 eth1.300\n   [root@dell4-4\
    \ system]# brctl addif br300 eth2.300\n   [root@dell4-4 system]# ifconfig br300\
    \ up\n   [root@dell4-4 system]# brctl addbr br400\n   [root@dell4-4 system]# brctl\
    \ addif br400 eth1.400\n   [root@dell4-4 system]# brctl addif br400 eth2.400\n\
    \   [root@dell4-4 system]# ifconfig br400 up\n   [root@dell4-4 system]# brctl\
    \ show\n   bridge name     bridge id               STP enabled     interfaces\n\
    \   br300           8000.0002b3109b8a       no              eth1.300\n       \
    \                                                    eth2.300\n   br400      \
    \     8000.0002b3109b8a       no              eth1.400\n                     \
    \                                      eth2.400\n   virbr0          8000.000000000000\
    \       yes\n   [root@dell4-4 system]# brctl showmacs br300\n   port no mac addr\
    \                is local?       ageing timer\n     2     00:02:b3:10:9b:8a  \
    \     yes                0.00\n     1     00:02:b3:10:9b:99       yes        \
    \        0.00\n     1     00:02:b3:c4:c9:7a       no                 0.52\n  \
    \   2     00:02:b3:cf:02:c6       no                 0.52\n     2     00:0b:5f:54:de:81\
    \       no                 0.01\n   [root@dell4-4 system]# brctl showmacs br400\n\
    \   port no mac addr                is local?       ageing timer\n     2     00:02:b3:10:9b:8a\
    \       yes                0.00\n     1     00:02:b3:10:9b:99       yes      \
    \          0.00\n     2     00:02:b3:c4:c9:7a       no                 0.60\n\
    \     1     00:02:b3:cf:02:c6       no                 0.42\n     2     00:0b:5f:54:de:81\
    \       no                 0.33\n   [root@dell4-4 system]# tc qdisc add dev eth1.300\
    \ root netem\n                          delay 100ms\n   [root@dell4-4 system]#\
    \ ifconfig eth1.200 0.0.0.0 promisc up\n   [root@dell4-4 system]# vconfig add\
    \ eth1 100\n   Added VLAN with VID == 100 to IF -:eth1:-\n   [root@dell4-4 system]#\
    \ ifconfig eth1.100 0.0.0.0 promisc up\n   [root@dell4-4 system]# vconfig add\
    \ eth2 100\n   Added VLAN with VID == 100 to IF -:eth2:-\n   [root@dell4-4 system]#\
    \ ifconfig eth2.100 0.0.0.0 promisc up\n   [root@dell4-4 system]# ifconfig eth2.200\
    \ 0.0.0.0 promisc up\n   [root@dell4-4 system]# brctl addbr br100\n   [root@dell4-4\
    \ system]# brctl addif br100 eth1.100\n   [root@dell4-4 system]# brctl addif br100\
    \ eth2.100\n   [root@dell4-4 system]# ifconfig br100 up\n   [root@dell4-4 system]#\
    \ brctl addbr br200\n   [root@dell4-4 system]# brctl addif br200 eth1.200\n  \
    \ [root@dell4-4 system]# brctl addif br200 eth2.200\n   [root@dell4-4 system]#\
    \ ifconfig br200 up\n   [root@dell4-4 system]# brctl show\n   bridge name    \
    \ bridge id               STP enabled     interfaces\n   br100           8000.0002b3109b8a\
    \       no              eth1.100\n                                           \
    \                eth2.100\n   br200           8000.0002b3109b8a       no     \
    \         eth1.200\n                                                         \
    \  eth2.200\n   br300           8000.0002b3109b8a       no              eth1.300\n\
    \                                                           eth2.300\n   br400\
    \           8000.0002b3109b8a       no              eth1.400\n               \
    \                                            eth2.400\n   virbr0          8000.000000000000\
    \       yes\n   [root@dell4-4 system]# brctl showmacs br100\n   port no mac addr\
    \                is local?       ageing timer\n     2     00:02:b3:10:9b:8a  \
    \     yes                0.00\n     1     00:02:b3:10:9b:99       yes        \
    \        0.00\n     1     00:0a:e4:83:89:07       no                 0.19\n  \
    \   2     00:0b:5f:54:de:81       no                 0.91\n     2     00:e0:ed:0f:72:86\
    \       no                 1.28\n   [root@dell4-4 system]# brctl showmacs br200\n\
    \   port no mac addr                is local?       ageing timer\n     2     00:02:b3:10:9b:8a\
    \       yes                0.00\n     1     00:02:b3:10:9b:99       yes      \
    \          0.00\n     2     00:0a:e4:83:89:07       no                 1.14\n\
    \     2     00:0b:5f:54:de:81       no                 1.87\n     1     00:e0:ed:0f:72:86\
    \       no                 0.24\n   [root@dell4-4 system]# tc qdisc add dev eth1.100\
    \ root netem\n                          delay 100ms\n   [root@dell4-4 system]#\n\
    \   =====================================================================\n  \
    \ Some sample tc command lines controlling netem and its impairments\n   are given\
    \ below.\n   tc qdisc add dev eth1.100 root netem loss 0%\n   tc qdisc add dev\
    \ eth1.200 root netem loss 0%\n   tc qdisc add dev eth1.300 root netem loss 0%\n\
    \   tc qdisc add dev eth1.400 root netem loss 0%\n   Add delay and delay variation:\n\
    \   tc qdisc change dev eth1.100 root netem delay 100ms 50ms\n   tc qdisc change\
    \ dev eth1.200 root netem delay 100ms 50ms\n   tc qdisc change dev eth1.300 root\
    \ netem delay 100ms 50ms\n   tc qdisc change dev eth1.400 root netem delay 100ms\
    \ 50ms\n   Add delay, delay variation, and loss:\n   tc qdisc change dev eth1\
    \ root netem delay 2000ms 1000ms loss 10%\n   =====================================================================\n"
- title: 11.  References
  contents:
  - '11.  References

    '
- title: 11.1.  Normative References
  contents:
  - "11.1.  Normative References\n   [RFC2026]  Bradner, S., \"The Internet Standards\
    \ Process --\n              Revision 3\", BCP 9, RFC 2026, October 1996.\n   [RFC2119]\
    \  Bradner, S., \"Key words for use in RFCs to Indicate\n              Requirement\
    \ Levels\", BCP 14, RFC 2119, March 1997.\n   [RFC2330]  Paxson, V., Almes, G.,\
    \ Mahdavi, J., and M. Mathis,\n              \"Framework for IP Performance Metrics\"\
    , RFC 2330,\n              May 1998.\n   [RFC2680]  Almes, G., Kalidindi, S.,\
    \ and M. Zekauskas, \"A One-way\n              Packet Loss Metric for IPPM\",\
    \ RFC 2680, September 1999.\n   [RFC3432]  Raisanen, V., Grotefeld, G., and A.\
    \ Morton, \"Network\n              performance measurement with periodic streams\"\
    , RFC 3432,\n              November 2002.\n   [RFC4656]  Shalunov, S., Teitelbaum,\
    \ B., Karp, A., Boote, J., and M.\n              Zekauskas, \"A One-way Active\
    \ Measurement Protocol\n              (OWAMP)\", RFC 4656, September 2006.\n \
    \  [RFC4737]  Morton, A., Ciavattone, L., Ramachandran, G., Shalunov,\n      \
    \        S., and J. Perser, \"Packet Reordering Metrics\", RFC 4737,\n       \
    \       November 2006.\n   [RFC5357]  Hedayat, K., Krzanowski, R., Morton, A.,\
    \ Yum, K., and J.\n              Babiarz, \"A Two-Way Active Measurement Protocol\
    \ (TWAMP)\",\n              RFC 5357, October 2008.\n   [RFC5657]  Dusseault,\
    \ L. and R. Sparks, \"Guidance on Interoperation\n              and Implementation\
    \ Reports for Advancement to Draft\n              Standard\", BCP 9, RFC 5657,\
    \ September 2009.\n   [RFC6390]  Clark, A. and B. Claise, \"Guidelines for Considering\
    \ New\n              Performance Metric Development\", BCP 170, RFC 6390,\n  \
    \            October 2011.\n   [RFC6576]  Geib, R., Morton, A., Fardid, R., and\
    \ A. Steinmitz, \"IP\n              Performance Metrics (IPPM) Standard Advancement\
    \ Testing\",\n              BCP 176, RFC 6576, March 2012.\n   [RFC6703]  Morton,\
    \ A., Ramachandran, G., and G. Maguluri, \"Reporting\n              IP Network\
    \ Performance Metrics: Different Points of View\",\n              RFC 6703, August\
    \ 2012.\n   [RFC6808]  Ciavattone, L., Geib, R., Morton, A., and M. Wieser, \"\
    Test\n              Plan and Results Supporting Advancement of RFC 2679 on the\n\
    \              Standards Track\", RFC 6808, December 2012.\n"
- title: 11.2.  Informative References
  contents:
  - "11.2.  Informative References\n   [ADK]      Scholz, F. and M. Stephens, \"K-Sample\
    \ Anderson-Darling\n              Tests of Fit, for Continuous and Discrete Cases\"\
    ,\n              University of Washington, Technical Report No. 81,\n        \
    \      May 1986.\n   [ADV-METRICS]\n              Morton, A., \"Lab Test Results\
    \ for Advancing Metrics on the\n              Standards Track\", Work in Progress,\
    \ October 2010.\n   [FEDORA]   \"Fedora\", <http://fedoraproject.org/>.\n   [LOSS-METRIC]\n\
    \              Almes, G., Kalidindi, S., Zekauskas, M., and A. Morton,\n     \
    \         Ed., \"A One-Way Loss Metric for IPPM\", Work in Progress,\n       \
    \       July 2014.\n   [MII-TOOL]\n              Hinds, D., Becker, D., and B.\
    \ Eckenfels, \"Linux System\n              Administrator's Manual\", February\
    \ 2013,\n              <http://man7.org/linux/man-pages/man8/mii-tool.8.html>.\n\
    \   [NETEM]    Linux Foundation, \"netem\",\n              <http://www.linuxfoundation.org/collaborate/workgroups/\n\
    \              networking/netem>.\n   [Perfas]   Heidemann, C., \"Qualitaet in\
    \ IP-Netzen Messverfahren\",\n              published by ITG Fachgruppe, 2nd meeting\
    \ 5.2.3,\n              November 2001, <www.itg523.de/oeffentlich/01nov/\n   \
    \           Heidemann_QOS_Messverfahren.pdf>.\n   [RADGOF]   Bellosta, C., \"\
    ADGofTest: Anderson-Darling Goodness-of-Fit\n              Test.  R package version\
    \ 0.3.\", R-Package Version 0.3,\n              December 2011, <http://cran.r-project.org/web/packages/\n\
    \              ADGofTest/index.html>.\n   [RADK]     Scholz, F., \"ADK: Anderson-Darling\
    \ K-Sample Test and\n              Combinations of Such Tests. R package version\
    \ 1.0.\", 2008.\n   [RFC3931]  Lau, J., Townsley, M., and I. Goyret, \"Layer Two\
    \ Tunneling\n              Protocol - Version 3 (L2TPv3)\", RFC 3931, March 2005.\n\
    \   [RTOOL]    R Development Core Team, \"R: A Language and Environment\n    \
    \          for Statistical Computing\", ISBN 3-900051-07-0, 2014,\n          \
    \    <http://www.R-project.org/>.\n   [WIPM]     AT&T, \"AT&T Global IP Network\"\
    , 2014,\n              <http://ipnetwork.bgtmo.ip.att.net/pws/index.html>.\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Len Ciavattone\n   AT&T Labs\n   200 Laurel Avenue South\n\
    \   Middletown, NJ  07748\n   USA\n   Phone: +1 732 420 1239\n   EMail: lencia@att.com\n\
    \   Ruediger Geib\n   Deutsche Telekom\n   Heinrich Hertz Str. 3-7\n   Darmstadt\
    \  64295\n   Germany\n   Phone: +49 6151 58 12747\n   EMail: Ruediger.Geib@telekom.de\n\
    \   Al Morton\n   AT&T Labs\n   200 Laurel Avenue South\n   Middletown, NJ  07748\n\
    \   USA\n   Phone: +1 732 420 1571\n   Fax:   +1 732 368 1192\n   EMail: acmorton@att.com\n\
    \   URI:   http://home.comcast.net/~acmacm/\n   Matthias Wieser\n   Technical\
    \ University Darmstadt\n   Darmstadt\n   Germany\n   EMail: matthias_michael.wieser@stud.tu-darmstadt.de\n"
