- title: __initial_text__
  contents:
  - "             Signaling Requirements for Point-to-Multipoint\n          Traffic-Engineered\
    \ MPLS Label Switched Paths (LSPs)\n"
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This memo provides information for the Internet community.\
    \  It does\n   not specify an Internet standard of any kind.  Distribution of\
    \ this\n   memo is unlimited.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (C) The Internet Society (2006).\n"
- title: Abstract
  contents:
  - "Abstract\n   This document presents a set of requirements for the establishment\n\
    \   and maintenance of Point-to-Multipoint (P2MP) Traffic-Engineered (TE)\n  \
    \ Multiprotocol Label Switching (MPLS) Label Switched Paths (LSPs).\n   There\
    \ is no intent to specify solution-specific details or\n   application-specific\
    \ requirements in this document.\n   The requirements presented in this document\
    \ not only apply to\n   packet-switched networks under the control of MPLS protocols,\
    \ but\n   also encompass the requirements of Layer Two Switching (L2SC), Time\n\
    \   Division Multiplexing (TDM), lambda, and port switching networks\n   managed\
    \ by Generalized MPLS (GMPLS) protocols.  Protocol solutions\n   developed to\
    \ meet the requirements set out in this document must\n   attempt to be equally\
    \ applicable to MPLS and GMPLS.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1. Introduction ....................................................3\n\
    \      1.1. Non-Objectives .............................................6\n  \
    \ 2. Definitions .....................................................6\n    \
    \  2.1. Acronyms ...................................................6\n      2.2.\
    \ Terminology ................................................6\n           2.2.1.\
    \ Terminology for Partial LSPs ........................8\n      2.3. Conventions\
    \ ................................................9\n   3. Problem Statement ...............................................9\n\
    \      3.1. Motivation .................................................9\n  \
    \    3.2. Requirements Overview ......................................9\n   4.\
    \ Detailed Requirements for P2MP TE Extensions ...................11\n      4.1.\
    \ P2MP LSP ..................................................11\n      4.2. P2MP\
    \ Explicit Routing .....................................12\n      4.3. Explicit\
    \ Path Loose Hops and Widely Scoped\n           Abstract Nodes ............................................13\n\
    \      4.4. P2MP TE LSP Establishment, Teardown, and\n           Modification\
    \ Mechanisms ...................................14\n      4.5. Fragmentation .............................................14\n\
    \      4.6. Failure Reporting and Error Recovery ......................15\n  \
    \    4.7. Record Route of P2MP TE LSP ...............................16\n    \
    \  4.8. Call Admission Control (CAC) and QoS Control\n           Mechanism of\
    \ P2MP TE LSPs .................................17\n      4.9. Variation of LSP\
    \ Parameters ...............................17\n      4.10. Re-Optimization of\
    \ P2MP TE LSPs ..........................18\n      4.11. Merging of Tree Branches\
    \ .................................18\n      4.12. Data Duplication .........................................19\n\
    \      4.13. IPv4/IPv6 Support ........................................20\n  \
    \    4.14. P2MP MPLS Label ..........................................20\n    \
    \  4.15. Advertisement of P2MP Capability .........................20\n      4.16.\
    \ Multi-Access LANs ........................................21\n      4.17. P2MP\
    \ MPLS OAM ............................................21\n      4.18. Scalability\
    \ ..............................................21\n            4.18.1. Absolute\
    \ Limits ..................................22\n      4.19. Backwards Compatibility\
    \ ..................................24\n      4.20. GMPLS ....................................................24\n\
    \      4.21. P2MP Crankback Routing ...................................25\n  \
    \ 5. Security Considerations ........................................25\n   6.\
    \ Acknowledgements ...............................................26\n   7. References\
    \ .....................................................26\n      7.1. Normative\
    \ References ......................................26\n      7.2. Informative\
    \ References ....................................26\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   Existing MPLS traffic engineering (MPLS-TE) allows for strict\
    \ QoS\n   guarantees, resource optimization, and fast failure recovery, but it\n\
    \   is limited to point-to-point (P2P) LSPs.  There is a desire to\n   support\
    \ point-to-multipoint (P2MP) services using traffic-engineered\n   LSPs, and this\
    \ clearly motivates enhancements of the base MPLS-TE\n   tool box in order to\
    \ support P2MP MPLS-TE LSPs.\n   A P2MP TE LSP is a TE LSP (per [RFC2702] and\
    \ [RFC3031]) that has a\n   single ingress LSR and one or more egress LSRs, and\
    \ is\n   unidirectional.  P2MP services (that deliver data from a single\n   source\
    \ to one or more receivers) may be supported by any combination\n   of P2P and\
    \ P2MP LSPs depending on the degree of optimization required\n   within the network,\
    \ and such LSPs may be traffic-engineered again\n   depending on the requirements\
    \ of the network.  Further, multipoint-\n   to-multipoint (MP2MP) services (which\
    \ deliver data from more than one\n   source to one or more receivers) may be\
    \ supported by a combination of\n   P2P and P2MP LSPs.\n   [RFC2702] specifies\
    \ requirements for traffic engineering over MPLS.\n   In Section 2, it describes\
    \ traffic engineering in some detail, and\n   those definitions are equally applicable\
    \ to traffic engineering in a\n   point-to-multipoint service environment.  They\
    \ are not repeated here,\n   but it is assumed that the reader is fully familiar\
    \ with them.\n   Section 3.0 of [RFC2702] also explains how MPLS is particularly\n\
    \   suited to traffic engineering; it presents the following eight\n   reasons.\n\
    \      1. Explicit label switched paths that are not constrained by the\n    \
    \     destination-based forwarding paradigm can be easily created\n         through\
    \ manual administrative action or through automated\n         action by the underlying\
    \ protocols.\n      2. LSPs can potentially be maintained efficiently.\n     \
    \ 3. Traffic trunks can be instantiated and mapped onto LSPs.\n      4. A set\
    \ of attributes can be associated with traffic trunks that\n         modulate\
    \ their behavioral characteristics.\n      5. A set of attributes can be associated\
    \ with resources that\n         constrain the placement of LSPs and traffic trunks\
    \ across them.\n      6. MPLS allows for both traffic aggregation and disaggregation,\n\
    \         whereas classical destination-only-based IP forwarding permits\n   \
    \      only aggregation.\n      7. It is relatively easy to integrate a \"constraint-based\
    \ routing\"\n         framework with MPLS.\n      8. A good implementation of\
    \ MPLS can offer significantly lower\n         overhead than competing alternatives\
    \ for traffic engineering.\n   These points are equally applicable to point-to-multipoint\
    \ traffic\n   engineering.  Points 1 and 7 are particularly important.  Note that\n\
    \   point 3 implies that the concept of a point-to-multipoint traffic\n   trunk\
    \ is defined and is supported by (or mapped onto) P2MP LSPs.\n   That is, the\
    \ traffic flow for a point-to-multipoint LSP is not\n   constrained to the path\
    \ or paths that it would follow during\n   multicast routing or shortest path\
    \ destination-based routing, but it\n   can be explicitly controlled through manual\
    \ or automated action.\n   Further, the explicit paths that are used may be computed\
    \ using\n   algorithms based on a variety of constraints to produce all manner\
    \ of\n   tree shapes.  For example, an explicit path may be cost-based\n   [STEINER],\
    \ shortest path, or QoS-based, or it may use some fair-cost\n   QoS algorithm.\n\
    \   [RFC2702] also describes the functional capabilities required to\n   fully\
    \ support traffic engineering over MPLS in large networks.\n   This document presents\
    \ a set of requirements for Point-to-Multipoint\n   (P2MP) traffic engineering\
    \ (TE) extensions to Multiprotocol Label\n   Switching (MPLS).  It specifies functional\
    \ requirements for solutions\n   to deliver P2MP TE LSPs.\n   Solutions that specify\
    \ procedures for P2MP TE LSP setup MUST satisfy\n   these requirements.  There\
    \ is no intent to specify solution-specific\n   details or application-specific\
    \ requirements in this document.\n   The requirements presented in this document\
    \ apply equally to packet-\n   switched networks under the control of MPLS protocols\
    \ and to packet-\n   switched, TDM, lambda, and port-switching networks managed\
    \ by\n   Generalized MPLS (GMPLS) protocols.  Protocol solutions developed to\n\
    \   meet the requirements set out in this document MUST attempt to be\n   equally\
    \ applicable to MPLS and GMPLS.\n   Existing MPLS TE mechanisms such as [RFC3209]\
    \ do not support P2MP TE\n   LSPs, so new mechanisms need to be developed.  This\
    \ SHOULD be\n   achieved with maximum re-use of existing MPLS protocols.\n   Note\
    \ that there is a separation between routing and signaling in MPLS\n   TE.  In\
    \ particular, the path of the MPLS TE LSP is determined by\n   performing a constraint-based\
    \ computation (such as CSPF) on a traffic\n   engineering database (TED).  The\
    \ contents of the TED may be collected\n   through a variety of mechanisms.\n\
    \   This document focuses on requirements for establishing and\n   maintaining\
    \ P2MP MPLS TE LSPs through signaling protocols; routing\n   protocols are out\
    \ of scope.  No assumptions are made about how the\n   TED used as the basis for\
    \ path computations for P2MP LSPs is formed.\n   This requirements document assumes\
    \ the following conditions for P2MP\n   MPLS TE LSP establishment and maintenance:\n\
    \   o A P2MP TE LSP will be set up with TE constraints and will allow\n     efficient\
    \ packet or data replication at various branching points in\n     the network.\
    \  Although replication is a data plane issue, it is the\n     responsibility\
    \ of the control plane (acting in conjunction with the\n     path computation\
    \ component) to install LSPs in the network such\n     that replication can be\
    \ performed efficiently.  Note that the\n     notion of \"efficient\" replication\
    \ is relative and may have\n     different meanings depending on the objectives\
    \ (see Section 4.2).\n   o P2MP TE LSP setup mechanisms must include the ability\
    \ to add/remove\n     receivers to/from the P2MP service supported by an existing\
    \ P2MP TE\n     LSP.\n   o Tunnel endpoints of P2MP TE LSP will be modified by\
    \ adding/removing\n     egress LSRs to/from an existing P2MP TE LSP.  It is assumed\
    \ that\n     the rate of change of leaves of a P2MP LSP (that is, the rate at\n\
    \     which new egress LSRs join, or old egress LSRs are pruned) is \"not\n  \
    \   so high\" because P2MP TE LSPs are assumed to be utilized for TE\n     applications.\
    \  This issue is discussed at greater length in Section\n     4.18.1.\n   o A\
    \ P2MP TE LSP may be protected by fast error recovery mechanisms to\n     minimize\
    \ disconnection of a P2MP service.\n   o A set of attributes of the P2MP TE LSP\
    \ (e.g., bandwidth, etc.)  may\n     be modified by some mechanism (e.g., make-before-break,\
    \ etc.)  to\n     accommodate attribute changes to the P2MP service without impacting\n\
    \     data traffic.  These issues are discussed in Sections 4.6 and 4.10.\n  \
    \ It is not a requirement that the ingress LSR must control the\n   addition or\
    \ removal of leaves from the P2MP tree.\n   It is this document's objective that\
    \ a solution compliant to the\n   requirements set out in this document MUST operate\
    \ these P2MP TE\n   capabilities in a scalable fashion.\n"
- title: 1.1.  Non-Objectives
  contents:
  - "1.1.  Non-Objectives\n   For clarity, this section lists some items that are\
    \ out of scope of\n   this document.\n   It is assumed that some information elements\
    \ describing the P2MP TE\n   LSP are known to the ingress LSR prior to LSP establishment.\
    \  For\n   example, the ingress LSRs know the IP addresses that identify the\n\
    \   egress LSRs of the P2MP TE LSP.  The mechanisms by which the ingress\n   LSR\
    \ obtains this information is outside the scope of P2MP TE\n   signaling and so\
    \ is not included in this document.  Other documents\n   may complete the description\
    \ of this function by providing automated,\n   protocol-based ways of passing\
    \ this information to the ingress LSR.\n   This document does not specify any\
    \ requirements for the following\n   functions.\n   - Non-TE LSPs (such as per-hop,\
    \ routing-based LSPs).\n   - Discovery of egress leaves for a P2MP LSP.\n   -\
    \ Hierarchical P2MP LSPs.\n   - OAM for P2MP LSPs.\n   - Inter-area and inter-AS\
    \ P2MP TE LSPs.\n   - Applicability of P2MP MPLS TE LSPs to service scenarios.\n\
    \   - Specific application or application requirements.\n   - Algorithms for computing\
    \ P2MP distribution trees.\n   - Multipoint-to-point LSPs.\n   - Multipoint-to-multipoint\
    \ LSPs.\n   - Routing protocols.\n   - Construction of the traffic engineering\
    \ database.\n   - Distribution of the information used to construct the traffic\n\
    \     engineering database.\n"
- title: 2.  Definitions
  contents:
  - '2.  Definitions

    '
- title: 2.1.  Acronyms
  contents:
  - "2.1.  Acronyms\n   P2P:  Point-to-point\n   P2MP: Point-to-multipoint\n"
- title: 2.2.  Terminology
  contents:
  - "2.2.  Terminology\n   The reader is assumed to be familiar with the terminology\
    \ in\n   [RFC3031] and [RFC3209].\n   The following terms are defined for use\
    \ in the context of P2MP TE\n   LSPs only.\n   P2MP tree:\n      The ordered set\
    \ of LSRs and TE links that comprise the path of a\n      P2MP TE LSP from its\
    \ ingress LSR to all of its egress LSRs.\n   ingress LSR:\n      The LSR that\
    \ is responsible for initiating the signaling messages\n      that set up the\
    \ P2MP TE LSP.\n   egress LSR:\n      One of potentially many destinations of\
    \ the P2MP TE LSP.  Egress\n      LSRs may also be referred to as leaf nodes or\
    \ leaves.\n   bud LSR:\n     An LSR that is an egress LSR, but also has one or\
    \ more directly\n     connected downstream LSRs.\n   branch LSR:\n      An LSR\
    \ that has more than one directly connected downstream LSR.\n   P2MP-ID (P2ID):\n\
    \      A unique identifier of a P2MP TE LSP, which is constant for the\n     \
    \ whole LSP regardless of the number of branches and/or leaves.\n   source:\n\
    \      The sender of traffic that is carried on a P2MP service supported\n   \
    \   by a P2MP LSP.  The sender is not necessarily the ingress LSR of\n      the\
    \ P2MP LSP.\n   receiver:\n      A recipient of traffic carried on a P2MP service\
    \ supported by a\n      P2MP LSP.  A receiver is not necessarily an egress LSR\
    \ of the P2MP\n      LSP.  Zero, one, or more receivers may receive data through\
    \ a\n      given egress LSR.\n"
- title: 2.2.1.  Terminology for Partial LSPs
  contents:
  - "2.2.1.  Terminology for Partial LSPs\n   It is convenient to sub-divide P2MP\
    \ trees for functional and\n   representational reasons.  A tree may be divided\
    \ in two dimensions:\n   - A division may be made along the length of the tree.\
    \  For example,\n     the tree may be split into two components each running from\
    \ the\n     ingress LSR to a discrete set of egress LSRs.  Upstream LSRs (for\n\
    \     example, the ingress LSR) may be members of both components.\n   - A tree\
    \ may be divided at a branch LSR (or any transit LSR) to\n     produce a component\
    \ of the tree that runs from the branch (or\n     transit) LSR to all egress LSRs\
    \ downstream of this point.\n   These two methods of splitting the P2MP tree can\
    \ be combined, so it\n   is useful to introduce some terminology to allow the\
    \ partitioned\n   trees to be clearly described.\n   Use the following designations:\n\
    \      Source (ingress) LSR - S\n      Leaf (egress) LSR - L\n      Branch LSR\
    \ - B\n      Transit LSR - X (any single, arbitrary LSR that is not a source,\n\
    \                       leaf or branch)\n      All - A\n      Partial (i.e., not\
    \ all) - P\n   Define a new term:\n      Sub-LSP:\n         A segment of a P2MP\
    \ TE LSP that runs from one of the LSP's LSRs\n         to one or more of its\
    \ other LSRs.\n   Using these new concepts, we can define any combination or split\
    \ of\n   the P2MP tree.  For example:\n      S2L sub-LSP:\n         The path from\
    \ the source to one specific leaf.\n      S2PL sub-LSP:\n         The path from\
    \ the source to a set of leaves.\n      B2AL sub-LSP:\n         The path from\
    \ a branch LSR to all downstream leaves.\n      X2X sub-LSP:\n         A component\
    \ of the P2MP LSP that is a simple path that does not\n         branch.\n    \
    \  Note that the S2AL sub-LSP is equivalent to the P2MP LSP.\n"
- title: 2.3.  Conventions
  contents:
  - "2.3.  Conventions\n   The key words \"MUST\", \"MUST NOT\", \"REQUIRED\", \"\
    SHALL\", \"SHALL NOT\",\n   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"MAY\"\
    , and \"OPTIONAL\" in this\n   document are to be interpreted as described in\
    \ [RFC2119].\n"
- title: 3.  Problem Statement
  contents:
  - '3.  Problem Statement

    '
- title: 3.1.  Motivation
  contents:
  - "3.1.  Motivation\n   As described in Section 1, traffic engineering and constraint-based\n\
    \   routing (including Call Admission Control (CAC), explicit source\n   routing,\
    \ and bandwidth reservation) are required to enable efficient\n   resource usage\
    \ and strict QoS guarantees.  Such mechanisms also make\n   it possible to provide\
    \ services across a congested network where\n   conventional \"shortest path first\"\
    \ forwarding paradigms would fail.\n   Existing MPLS TE mechanisms [RFC3209] and\
    \ GMPLS TE mechanisms\n   [RFC3473] only provide support for P2P TE LSPs.  While\
    \ it is possible\n   to provide P2MP TE services using P2P TE LSPs, any such approach\
    \ is\n   potentially suboptimal since it may result in data replication at the\n\
    \   ingress LSR, or in duplicate data traffic within the network.\n   Hence, to\
    \ provide P2MP MPLS TE services in a fully efficient manner,\n   it is necessary\
    \ to specify specific requirements.  These requirements\n   can then be used when\
    \ defining mechanisms for the use of existing\n   protocols and/or extensions\
    \ to existing protocols and/or new\n   protocols.\n"
- title: 3.2.  Requirements Overview
  contents:
  - "3.2.  Requirements Overview\n   This document states basic requirements for the\
    \ setup of P2MP TE\n   LSPs.  The requirements apply to the signaling techniques\
    \ only, and\n   no assumptions are made about which routing protocols are run\
    \ within\n   the network, or about how the information that is used to construct\n\
    \   the Traffic Engineering Database (TED) is distributed.  These factors\n  \
    \ are out of the scope of this document.\n   A P2MP TE LSP path computation will\
    \ take into account various\n   constraints such as bandwidth, affinities, required\
    \ level of\n   protection and so on.  The solution MUST allow for the computation\
    \ of\n   P2MP TE LSP paths that satisfy constraints, with the objective of\n \
    \  supporting various optimization criteria such as delays, bandwidth\n   consumption\
    \ in the network, or any other combinations.  This is\n   likely to require the\
    \ presence of a TED, as well as the ability to\n   signal the explicit path of\
    \ an LSP.\n   A desired requirement is also to maximize the re-use of existing\
    \ MPLS\n   TE techniques and protocols where doing so does not adversely impact\n\
    \   the function, simplicity, or scalability of the solution.\n   This document\
    \ does not restrict the choice of signaling protocol used\n   to set up a P2MP\
    \ TE LSP, but note that [RFC3468] states\n     ...the consensus reached by the\
    \ Multiprotocol\n     Label Switching (MPLS) Working Group within the IETF to\
    \ focus its\n     efforts on \"Resource Reservation Protocol (RSVP)-TE: Extensions\
    \ to\n     RSVP for Label-Switched Paths (LSP) Tunnels\" (RFC 3209) as the MPLS\n\
    \     signalling protocol for traffic engineering applications...\n   The P2MP\
    \ TE LSP setup mechanism MUST include the ability to\n   add/remove egress LSRs\
    \ to/from an existing P2MP TE LSP and MUST allow\n   for the support of all the\
    \ TE LSP management procedures already\n   defined for P2P TE LSP.  Further, when\
    \ new TE LSP procedures are\n   developed for P2P TE LSPs, equivalent or identical\
    \ procedures SHOULD\n   be developed for P2MP TE LSPs.\n   The computation of\
    \ P2MP trees is implementation dependent and is\n   beyond the scope of the solutions\
    \ that are built with this document\n   as a guideline.\n   Consider the following\
    \ figure.\n                         Source 1 (S1)\n                          \
    \     |\n                             I-LSR1\n                             | \
    \  |\n                             |   |\n            R2----E-LSR3--LSR1   LSR2---E-LSR2--Receiver\
    \ 1 (R1)\n                             |   :\n                  R3----E-LSR4 \
    \  E-LSR5\n                             |   :\n                             |\
    \   :\n                            R4   R5\n                           Figure\
    \ 1\n   Figure 1 shows a single ingress LSR (I-LSR1), and four egress LSRs\n \
    \  (E-LSR2, E-LSR3, E-LSR4, and E-LSR5).  I-LSR1 is attached to a\n   traffic\
    \ source that is generating traffic for a P2MP application.\n   Receivers R1,\
    \ R2, R3, and R4 are attached to E-LSR2, E-LSR3, and\n   E-LSR4.\n   The following\
    \ are the objectives of P2MP LSP establishment and use.\n      a) A P2MP tree\
    \ that satisfies various constraints is pre-\n         determined, and details\
    \ are supplied to I-LSR1.\n         Note that no assumption is made about whether\
    \ the tree is\n         provided to I-LSR1 or computed by I-LSR1.  The solution\
    \ SHOULD\n         also allow for the support of a partial path by means of loose\n\
    \         routing.\n         Typical constraints are bandwidth requirements, resource\
    \ class\n         affinities, fast rerouting, and preemption.  There should not\n\
    \         be any restriction on the possibility of supporting the set of\n   \
    \      constraints already defined for point-to-point TE LSPs.  A new\n      \
    \   constraint may specify which LSRs should be used as branch LSRs\n        \
    \ for the P2MP LSR in order to take into account LSR capabilities\n         or\
    \ network constraints.\n      b) A P2MP TE LSP is set up from I-LSR1 to E-LSR2,\
    \ E-LSR3, and\n         E-LSR4 using the tree information.\n      c) In this case,\
    \ the branch LSR1 should replicate incoming packets\n         or data and send\
    \ them to E-LSR3 and E-LSR4.\n      d) If a new receiver (R5) expresses an interest\
    \ in receiving\n         traffic, a new tree is determined, and a B2L sub-LSP\
    \ from LSR2\n         to E-LSR5 is grafted onto the P2MP TE LSP.  LSR2 becomes\
    \ a\n         branch LSR.\n"
- title: 4.  Detailed Requirements for P2MP TE Extensions
  contents:
  - '4.  Detailed Requirements for P2MP TE Extensions

    '
- title: 4.1.  P2MP LSP
  contents:
  - "4.1.  P2MP LSP\n   The P2MP TE extensions MUST be applicable to the signaling\
    \ of LSPs\n   for different switching types.  For example, it MUST be possible\
    \ to\n   signal a P2MP TE LSP in any switching medium, whether it is packet or\n\
    \   non-packet based (including frame, cell, TDM, lambda, etc.).\n   As with P2P\
    \ MPLS technology [RFC3031], traffic is classified with a\n   FEC in this extension.\
    \  All packets that belong to a particular FEC\n   and that travel from a particular\
    \ node MUST follow the same P2MP\n   tree.\n   In order to scale to a large number\
    \ of branches, P2MP TE LSPs SHOULD\n   be identified by a unique identifier (the\
    \ P2MP ID or P2ID) that is\n   constant for the whole LSP regardless of the number\
    \ of branches\n   and/or leaves.\n"
- title: 4.2.  P2MP Explicit Routing
  contents:
  - "4.2.  P2MP Explicit Routing\n   Various optimizations in P2MP tree formation\
    \ need to be applied to\n   meet various QoS requirements and operational constraints.\n\
    \   Some P2MP applications may request a bandwidth-guaranteed P2MP tree\n   that\
    \ satisfies end-to-end delay requirements.  And some operators may\n   want to\
    \ set up a cost-minimum P2MP tree by specifying branch LSRs\n   explicitly.\n\
    \   The P2MP TE solution therefore MUST provide a means of establishing\n   arbitrary\
    \ P2MP trees under the control of an external tree\n   computation process, path\
    \ configuration process, or dynamic tree\n   computation process located on the\
    \ ingress LSR.  Figure 2 shows two\n   typical examples.\n               A   \
    \                                   A\n               |                      \
    \              /   \\\n               B                                   B  \
    \   C\n               |                                  / \\   / \\\n       \
    \        C                                 D   E  F   G\n               |    \
    \                            / \\ / \\/ \\ / \\\n   D--E*-F*-G*-H*-I*-J*-K*--L\
    \                  H  I J KL M N  O\n        Steiner P2MP tree               \
    \         SPF P2MP tree\n                Figure 2: Examples of P2MP TE LSP topology\n\
    \   One example is the Steiner P2MP tree (cost-minimum P2MP tree)\n   [STEINER].\
    \  This P2MP tree is suitable for constructing a cost-\n   minimum P2MP tree so\
    \ as to minimize the bandwidth consumption in the\n   core.  To realize this P2MP\
    \ tree, several intermediate LSRs must be\n   both MPLS data terminating LSRs\
    \ and transit LSRs (LSRs E, F, G, H, I,\n   J, and K in Figure 2).  Therefore,\
    \ the P2MP TE solution MUST support\n   a mechanism that can set up this kind\
    \ of bud LSR between an ingress\n   LSR and egress LSRs.  Note that this includes\
    \ constrained Steiner\n   trees that allow for the computation of a minimal cost\
    \ trees with\n   some other constraints such as a bounded delay between the source\
    \ and\n   every receiver.\n   Another example is a CSPF (Constraint Shortest Path\
    \ First) P2MP tree.\n   By some metric (which can be set upon any specific criteria\
    \ like the\n   delay, bandwidth, or a combination of those), one can calculate\
    \ a\n   shortest-path P2MP tree.  This P2MP tree is suitable for carrying\n  \
    \ real-time traffic.\n   The solution MUST allow the operator to make use of any\
    \ tree\n   computation technique.  In the former case, an efficient/optimal tree\n\
    \   is defined as a minimal cost tree (Steiner tree), whereas in the\n   later\
    \ case, it is defined as the tree that provides shortest path\n   between the\
    \ source and any receiver.\n   To support explicit setup of any reasonable P2MP\
    \ tree shape, a P2MP\n   TE solution MUST support some form of explicit source-based\
    \ control\n   of the P2MP tree that can explicitly include particular LSRs as\n\
    \   branch LSRs.  This can be used by the ingress LSR to set up the P2MP\n   TE\
    \ LSP.  For instance, a P2MP TE LSP can be represented simply as a\n   whole tree\
    \ or by its individual branches.\n"
- title: 4.3.  Explicit Path Loose Hops and Widely Scoped Abstract Nodes
  contents:
  - "4.3.  Explicit Path Loose Hops and Widely Scoped Abstract Nodes\n   A P2MP tree\
    \ is completely specified if all the required branches and\n   hops between a\
    \ sender and leaf LSR are indicated.\n   A P2MP tree is partially specified if\
    \ only a subset of intermediate\n   branches and hops is indicated.  This may\
    \ be achieved using loose\n   hops in the explicit path, or using widely scoped\
    \ abstract nodes\n   (that is, abstract nodes that are not simple [RFC3209]) such\
    \ as IPv4\n   prefixes shorter than 32 bits, or AS numbers.  A partially specified\n\
    \   P2MP tree might be particularly useful in inter-area and inter-AS\n   situations,\
    \ although P2MP requirements for inter-area and inter-AS\n   are beyond the scope\
    \ of this document.\n   Protocol solutions SHOULD include a way to specify loose\
    \ hops and\n   widely scoped abstract nodes in the explicit source-based control\
    \ of\n   the P2MP tree as defined in the previous section.  Where this support\n\
    \   is provided, protocol solutions MUST allow downstream LSRs to apply\n   further\
    \ explicit control to the P2MP tree to resolve a partially\n   specified tree\
    \ into a (more) completely specified tree.\n   Protocol solutions MUST allow the\
    \ P2MP tree to be completely\n   specified at the ingress LSR where sufficient\
    \ information exists to\n   allow the full tree to be computed and where policies\
    \ along the path\n   (such as at domain boundaries) support full specification.\n\
    \   In all cases, the egress LSRs of the P2MP TE LSP must be fully\n   specified\
    \ either individually or through some collective identifier.\n   Without this\
    \ information, it is impossible to know where the TE LSP\n   should be routed\
    \ to.\n   In case of a tree being computed by some downstream LSRs (e.g., the\n\
    \   case of hops specified as loose hops), the solution MUST provide\n   protocol\
    \ mechanisms for the ingress LSR of the P2MP TE LSP to learn\n   the full P2MP\
    \ tree.  Note that this information may not always be\n   obtainable owing to\
    \ policy considerations, but where part of the path\n   remains confidential,\
    \ it MUST be reported through aggregation (for\n   example, using an AS number).\n"
- title: 4.4.  P2MP TE LSP Establishment, Teardown, and Modification Mechanisms
  contents:
  - "4.4.  P2MP TE LSP Establishment, Teardown, and Modification Mechanisms\n   The\
    \ P2MP TE solution MUST support establishment, maintenance, and\n   teardown of\
    \ P2MP TE LSPs in a manner that is at least scalable in a\n   linear way.  This\
    \ MUST include both the existence of very many LSPs\n   at once, and the existence\
    \ of very many destinations for a single\n   P2MP LSP.\n   In addition to P2MP\
    \ TE LSP establishment and teardown mechanisms, the\n   solution SHOULD support\
    \ a partial P2MP tree modification mechanism.\n   For the purpose of adding sub-P2MP\
    \ TE LSPs to an existing P2MP TE\n   LSP, the extensions SHOULD support a grafting\
    \ mechanism.  For the\n   purpose of deleting a sub-P2MP TE LSPs from an existing\
    \ P2MP TE LSP,\n   the extensions SHOULD support a pruning mechanism.\n   It is\
    \ RECOMMENDED that these grafting and pruning operations cause no\n   additional\
    \ processing in nodes that are not along the path to the\n   grafting or pruning\
    \ node, or that are downstream of the grafting or\n   pruning node toward the\
    \ grafted or pruned leaves.  Moreover, both\n   grafting and pruning operations\
    \ MUST NOT disrupt traffic currently\n   forwarded along the P2MP tree.\n   There\
    \ is no assumption that the explicitly routed P2MP LSP remains on\n   an optimal\
    \ path after several grafts and prunes have occurred.  In\n   this context, scalable\
    \ refers to the signaling process for the P2MP\n   TE LSP.  The TE nature of the\
    \ LSP allows that re-optimization may\n   take place from time to time to restore\
    \ the optimality of the LSP.\n"
- title: 4.5.  Fragmentation
  contents:
  - "4.5.  Fragmentation\n   The P2MP TE solution MUST handle the situation where\
    \ a single\n   protocol message cannot contain all the information necessary to\n\
    \   signal the establishment of the P2MP LSP.  It MUST be possible to\n   establish\
    \ the LSP in these circumstances.\n   This situation may arise in either of the\
    \ following circumstances.\n      a. The ingress LSR cannot signal the whole tree\
    \ in a single\n         message.\n      b. The information in a message expands\
    \ to be too large (or is\n         discovered to be too large) at some transit\
    \ node.  This may\n         occur because of some increase in the information\
    \ that needs to\n         be signaled or because of a reduction in the size of\
    \ signaling\n         message that is supported.\n   The solution to these problems\
    \ SHOULD NOT rely on IP fragmentation of\n   protocol messages, and it is RECOMMENDED\
    \ to rely on some protocol\n   procedures specific to the signaling solution.\n\
    \   In the event that fragmented IP packets containing protocol messages\n   are\
    \ received, it is NOT RECOMMENDED that they are reassembled at the\n   receiving\
    \ LSR.\n"
- title: 4.6.  Failure Reporting and Error Recovery
  contents:
  - "4.6.  Failure Reporting and Error Recovery\n   Failure events may cause egress\
    \ LSRs or sub-P2MP LSPs to become\n   detached from the P2MP TE LSP.  These events\
    \ MUST be reported\n   upstream as for a P2P LSP.\n   The solution SHOULD provide\
    \ recovery techniques, such as protection\n   and restoration, allowing recovery\
    \ of any impacted sub-P2MP TE LSPs.\n   In particular, a solution MUST provide\
    \ fast protection mechanisms\n   applicable to P2MP TE LSP similar to the solutions\
    \ specified in\n   [RFC4090] for P2P TE LSPs.  Note also that no assumption is\
    \ made\n   about whether backup paths for P2MP TE LSPs should or should not be\n\
    \   shared with P2P TE LSPs backup paths.\n   Note that the functions specified\
    \ in [RFC4090] are currently specific\n   to packet environments and do not apply\
    \ to non-packet environments.\n   Thus, while solutions MUST provide fast protection\
    \ mechanisms similar\n   to those specified in [RFC4090], this requirement is\
    \ limited to the\n   subset of the solution space that applies to packet-switched\
    \ networks\n   only.\n   Note that the requirements expressed in this document\
    \ are general to\n   all MPLS TE P2MP signaling, and any solution that meets them\
    \ will\n   therefore be general.  Specific applications may have additional\n\
    \   requirements or may want to relax some requirements stated in this\n   document.\
    \  This may lead to variations in the solution.\n   The solution SHOULD also support\
    \ the ability to meet other network\n   recovery requirements such as bandwidth\
    \ protection and bounded\n   propagation delay increase along the backup path\
    \ during failure.\n   A P2MP TE solution MUST support the P2MP fast protection\
    \ mechanism to\n   handle P2MP applications sensitive to traffic disruption.\n\
    \   If the ingress LSR is informed of the failure of delivery to fewer\n   than\
    \ all the egress LSRs, this SHOULD NOT cause automatic teardown of\n   the P2MP\
    \ TE LSP.  That is, while some egress LSRs remain connected to\n   the P2MP tree,\
    \ it SHOULD be a matter of local policy at the ingress\n   LSR whether the P2MP\
    \ LSP is retained.\n   When all egress LSRs downstream of a branch LSR have become\n\
    \   disconnected from the P2MP tree, and some branch LSR is unable to\n   restore\
    \ connectivity to any of them by means of some recovery or\n   protection mechanisms,\
    \ the branch LSR MAY remove itself from the P2MP\n   tree provided that it is\
    \ not also an egress LSR (that is, a bud).\n   Since the faults that severed the\
    \ various downstream egress LSRs from\n   the P2MP tree may be disparate, the\
    \ branch LSR MUST report all such\n   errors to its upstream neighbor.  An upstream\
    \ LSR or the ingress LSR\n   can then decide to re-compute the path to those particular\
    \ egress\n   LSRs around the failure point.\n   Solutions MAY include the facility\
    \ for transit LSRs and particularly\n   branch LSRs to recompute sub-P2MP trees\
    \ to restore them after\n   failures.  In the event of successful repair, error\
    \ notifications\n   SHOULD NOT be reported to upstream nodes, but the new paths\
    \ are\n   reported if route recording is in use.  Crankback requirements are\n\
    \   discussed in Section 4.21.\n"
- title: 4.7.  Record Route of P2MP TE LSP
  contents:
  - "4.7.  Record Route of P2MP TE LSP\n   Being able to identify the established\
    \ topology of P2MP TE LSP is\n   very important for various purposes such as management\
    \ and operation\n   of some local recovery mechanisms like Fast Reroute [RFC4090].\
    \  A\n   network operator uses this information to manage P2MP TE LSPs.\n   Therefore,\
    \ the P2MP TE solution MUST support a mechanism that can\n   collect and update\
    \ P2MP tree topology information after the P2MP LSP\n   establishment and modification\
    \ process.\n   It is RECOMMENDED that the information is collected in a data format\n\
    \   that allows easy recognition of the P2MP tree topology.\n   The solution MUST\
    \ support mechanisms for the recording of both\n   outgoing interfaces and node-ids.\n\
    \   The solution MUST gracefully handle scaling issues concerned with the\n  \
    \ collection of P2MP tree information, including the case where the\n   collected\
    \ information is too large to be carried in a single protocol\n   message.\n"
- title: 4.8.  Call Admission Control (CAC) and QoS Control Mechanism of
  contents:
  - "4.8.  Call Admission Control (CAC) and QoS Control Mechanism of\n      P2MP TE\
    \ LSPs\n   P2MP TE LSPs may share network resource with P2P TE LSPs.  Therefore,\n\
    \   it is important to use CAC and QoS in the same way as P2P TE LSPs for\n  \
    \ easy and scalable operation.\n   P2MP TE solutions MUST support both resource\
    \ sharing and exclusive\n   resource utilization to facilitate coexistence with\
    \ other LSPs to the\n   same destination(s).\n   P2MP TE solutions MUST be applicable\
    \ to DiffServ-enabled networks\n   that can provide consistent QoS control in\
    \ P2MP LSP traffic.\n   Any solution SHOULD also satisfy the DS-TE requirements\
    \ [RFC3564] and\n   interoperate smoothly with current P2P DS-TE protocol specifications.\n\
    \   Note that this requirement document does not make any assumption on\n   the\
    \ type of bandwidth pool used for P2MP TE LSPs, which can either be\n   shared\
    \ with P2P TE LSP or be dedicated for P2MP use.\n"
- title: 4.9.  Variation of LSP Parameters
  contents:
  - "4.9.  Variation of LSP Parameters\n   Certain parameters (such as priority and\
    \ bandwidth) are associated\n   with an LSP.  The parameters are installed by\
    \ the signaling exchanges\n   associated with establishing and maintaining the\
    \ LSP.\n   Any solution MUST NOT allow for variance of these parameters within\
    \ a\n   single P2MP LSP.  That is:\n   - No attributes set and signaled by the\
    \ ingress LSR of a P2MP LSP may\n     be varied by downstream LSRs.\n   - There\
    \ MUST be homogeneous QoS from the root to all leaves of a\n     single P2MP LSP.\n\
    \   Changing the parameters for the whole tree MAY be supported, but the\n   change\
    \ MUST apply to the whole tree from ingress LSR to all egress\n   LSRs.\n"
- title: 4.10.  Re-Optimization of P2MP TE LSPs
  contents:
  - "4.10.  Re-Optimization of P2MP TE LSPs\n   The detection of a more optimal path\
    \ (for example, one with a lower\n   overall cost) is an example of a situation\
    \ where P2MP TE LSP re-\n   routing may be required.  While re-routing is in progress,\
    \ an\n   important requirement is to avoid double bandwidth reservation (over\n\
    \   the common parts between the old and new LSP) thorough the use of\n   resource\
    \ sharing.\n   Make-before-break MUST be supported for a P2MP TE LSP to ensure\
    \ that\n   there is minimal traffic disruption when the P2MP TE LSP is re-\n \
    \  routed.\n   Make-before-break that only applies to a sub-P2MP tree without\n\
    \   impacting the data on all the other parts of the P2MP tree MUST be\n   supported.\n\
    \   The solution SHOULD allow for make-before-break re-optimization of\n   any\
    \ subdivision of the P2MP LSP (S2PL sub-LSP, S2X sub-LSP, S2L sub-\n   LSP, X2AL\
    \ sub-LSP, B2PL sub-LSP, X2AL sub-LSP, or B2AL tree).\n   Further, it SHOULD do\
    \ so by minimizing the signaling impact on the\n   rest of the P2MP LSP, and without\
    \ affecting the ability of the\n   management plane to manage the LSP.\n   The\
    \ solution SHOULD also provide the ability for the ingress LSR to\n   have strict\
    \ control over the re-optimization process.  The ingress\n   LSR SHOULD be able\
    \ to limit all re-optimization to be source-\n   initiated.\n   Where sub-LSP\
    \ re-optimization is allowed by the ingress LSR, such\n   re-optimization MAY\
    \ be initiated by a downstream LSR that is the root\n   of the sub-LSP that is\
    \ to be re-optimized.  Sub-LSP re-optimization\n   initiated by a downstream LSR\
    \ MUST be carried out with the same\n   regard to minimizing the impact on active\
    \ traffic as was described\n   above for other re-optimization.\n"
- title: 4.11.  Merging of Tree Branches
  contents:
  - "4.11.  Merging of Tree Branches\n   It is possible for a single transit LSR to\
    \ receive multiple signaling\n   messages for the same P2MP LSP but for different\
    \ sets of\n   destinations.  These messages may be received from the same or\n\
    \   different upstream nodes and may need to be passed on to the same or\n   different\
    \ downstream nodes.\n   This situation may arise as the result of the signaling\
    \ solution\n   definition or implementation options within the signaling solution.\n\
    \   Further, it may happen during make-before-break re-optimization\n   (Section\
    \ 4.10).\n   It is even possible that it is necessary to construct distinct\n\
    \   upstream branches in order to achieve the correct label choices in\n   certain\
    \ switching technologies managed by GMPLS (for example,\n   photonic cross-connects\
    \ where the selection of a particular lambda\n   for the downstream branches is\
    \ only available on different upstream\n   switches).\n   The solution MUST support\
    \ the case where multiple signaling messages\n   for the same P2MP LSP are received\
    \ at a single transit LSR and refer\n   to the same upstream interface.  In this\
    \ case, the result of the\n   protocol procedures SHOULD be a single data flow\
    \ on the upstream\n   interface.\n   The solution SHOULD support the case where\
    \ multiple signaling\n   messages for the same P2MP LSP are received at a single\
    \ transit LSR\n   and refer to different upstream interfaces, and where each signaling\n\
    \   message results in the use of different downstream interfaces.  This\n   case\
    \ represents data flows that cross at the LSR but that do not\n   merge.\n   The\
    \ solution MAY support the case where multiple signaling messages\n   for the\
    \ same P2MP LSP are received at a single transit LSR and refer\n   to different\
    \ upstream interfaces, and where the downstream interfaces\n   are shared across\
    \ the received signaling messages.  This case\n   represents the merging of data\
    \ flows.  A solution that supports this\n   case MUST ensure that data is not\
    \ replicated on the downstream\n   interfaces.\n   An alternative to supporting\
    \ this last case is for the signaling\n   protocol to indicate an error such that\
    \ the merge may be resolved by\n   the upstream LSRs.\n"
- title: 4.12.  Data Duplication
  contents:
  - "4.12.  Data Duplication\n   Data duplication refers to the receipt by any recipient\
    \ of duplicate\n   instances of the data.  In a packet environment, this means\
    \ the\n   receipt of duplicate packets.  Although small-scale packet\n   duplication\
    \ (that is, a few packets over a relatively short period of\n   time) should be\
    \ a harmless (if inefficient) situation, certain\n   existing and deployed applications\
    \ will not tolerate packet\n   duplication.  Sustained packet duplication is,\
    \ at best, a waste of\n   network and processing resources and, at worst, may\
    \ cause congestion\n   and the inability to process the data correctly.\n   In\
    \ a non-packet environment, data duplication means the duplication\n   of some\
    \ part of the signal that may lead to the replication of data\n   or to the scrambling\
    \ of data.\n   Data duplication may legitimately arise in various scenarios\n\
    \   including re-optimization of active LSPs as described in the previous\n  \
    \ section, and protection of LSPs.  Thus, it is impractical to regulate\n   against\
    \ data duplication in this document.\n   Instead, the solution:\n   - SHOULD limit\
    \ to bounded transitory conditions the cases where\n     network bandwidth is\
    \ wasted by the existence of duplicate delivery\n     paths.\n   - MUST limit\
    \ the cases where duplicate data is delivered to an\n     application to bounded\
    \ transitory conditions.\n"
- title: 4.13.  IPv4/IPv6 Support
  contents:
  - "4.13.  IPv4/IPv6 Support\n   Any P2MP TE solution MUST support IPv4 and IPv6\
    \ addressing.\n"
- title: 4.14.  P2MP MPLS Label
  contents:
  - "4.14.  P2MP MPLS Label\n   A P2MP TE solution MUST allow the continued use of\
    \ existing\n   techniques to establish P2P LSPs (TE and otherwise) within the\
    \ same\n   network, and MUST allow the coexistence of P2P LSPs within the same\n\
    \   network as P2MP TE LSPs.\n   A P2MP TE solution MUST be specified in such\
    \ a way that it allows\n   P2MP and P2P TE LSPs to be signaled on the same interface.\n"
- title: 4.15.  Advertisement of P2MP Capability
  contents:
  - "4.15.  Advertisement of P2MP Capability\n   Several high-level requirements have\
    \ been identified to determine the\n   capabilities of LSRs within a P2MP network.\
    \  The aim of such\n   information is to facilitate the computation of P2MP trees\
    \ using TE\n   constraints within a network that contains LSRs that do not all\
    \ have\n   the same capability levels with respect to P2MP signaling and data\n\
    \   forwarding.\n   These capabilities include, but are not limited to:\n   -\
    \ The ability of an LSR to support branching.\n   - The ability of an LSR to act\
    \ as an egress LSR and a branch LSR for\n     the same LSP.\n   - The ability\
    \ of an LSR to support P2MP MPLS-TE signaling.\n"
- title: 4.16.  Multi-Access LANs
  contents:
  - "4.16.  Multi-Access LANs\n   P2MP MPLS TE may be used to traverse network segments\
    \ that are\n   provided by multi-access media such as Ethernet.  In these cases,\
    \ it\n   is also possible that the entry point to the network segment is a\n \
    \  branch LSR of the P2MP LSP.\n   Two options clearly exist:\n   - the branch\
    \ LSR replicates the data and transmits multiple copies\n     onto the segment.\n\
    \   - the branch LSR sends a single copy of the data to the segment and\n    \
    \ relies on the exit points to determine whether to receive and\n     forward\
    \ the data.\n   The first option has a significant data plane scaling issue since\
    \ all\n   replicated data must be sent through the same port and carried on the\n\
    \   same segment.  Thus, a solution SHOULD provide a mechanism for a\n   branch\
    \ LSR to send a single copy of the data onto a multi-access\n   network to reach\
    \ multiple (adjacent) downstream nodes.  The second\n   option may have control\
    \ plane scaling issues.\n"
- title: 4.17.  P2MP MPLS OAM
  contents:
  - "4.17.  P2MP MPLS OAM\n   The MPLS and GMPLS MIB modules MUST be enhanced to provide\
    \ P2MP TE\n   LSP management in line with whatever signaling solutions are\n \
    \  developed.\n   In order to facilitate correct management, P2MP TE LSPs MUST\
    \ have\n   unique identifiers, since otherwise it is impossible to determine\n\
    \   which LSP is being managed.\n   Further discussions of OAM are out of scope\
    \ for this document.  See\n   [P2MP-OAM] for more details.\n"
- title: 4.18.  Scalability
  contents:
  - "4.18.  Scalability\n   Scalability is a key requirement in P2MP MPLS systems.\
    \  Solutions\n   MUST be designed to scale well with an increase in the number\
    \ of any\n   of the following:\n   - the number of recipients\n   - the number\
    \ of egress LSRs\n   - the number of branch LSRs\n   - the number of branches\n\
    \   Both scalability of control plane operation (setup, maintenance,\n   modification,\
    \ and teardown) MUST be considered.\n   Key considerations MUST include:\n   -\
    \ the amount of refresh processing associated with maintaining a P2MP\n     TE\
    \ LSP.\n   - the amount of protocol state that must be maintained by ingress and\n\
    \     transit LSRs along a P2MP tree.\n   - the number of protocol messages required\
    \ to set up or tear down a\n     P2MP LSP as a function of the number of egress\
    \ LSRs.\n   - the number of protocol messages required to repair a P2MP LSP after\n\
    \     failure or to perform make-before-break.\n   - the amount of protocol information\
    \ transmitted to manage a P2MP TE\n     LSP (i.e., the message size).\n   - the\
    \ amount of additional data distributed in potential routing\n     extensions.\n\
    \   - the amount of additional control plane processing required in the\n    \
    \ network to detect whether an add/delete of a new branch is\n     required, and\
    \ in particular, the amount of processing in steady\n     state when no add/delete\
    \ is requested\n   - the amount of control plane processing required by the ingress,\n\
    \     transit, and egress LSRs to add/delete a branch LSP to/from an\n     existing\
    \ P2MP LSP.\n   It is expected that the applicability of each solution will be\n\
    \   evaluated with regards to the aforementioned scalability criteria.\n"
- title: 4.18.1.  Absolute Limits
  contents:
  - "4.18.1.  Absolute Limits\n   In order to achieve the best solution for the problem\
    \ space, it is\n   helpful to clarify the boundaries for P2MP TE LSPs.\n   - Number\
    \ of egress LSRs.\n     A scaling bound is placed on the solution mechanism such\
    \ that a\n     P2MP TE LSP MUST reduce to similar scaling properties as a P2P\
    \ LSP\n     when the number of egress LSRs reduces to one.  That is,\n     establishing\
    \ a P2MP TE LSP to a single egress LSR should cost\n     approximately as much\
    \ as establishing a P2P LSP.\n     It is important to classify the issues of scaling\
    \ within the\n     context of traffic engineering.  It is anticipated that the\
    \ initial\n     deployments of P2MP TE LSPs will be limited to a maximum of around\n\
    \     a hundred egress LSRs, but that within five years deployments may\n    \
    \ increase this to several hundred, and that future deployments may\n     require\
    \ significantly larger numbers.\n     An acceptable upper bound for a solution,\
    \ therefore, is one that\n     scales linearly with the number of egress LSRs.\
    \  It is expected\n     that solutions will scale better than linearly.\n    \
    \ Solutions that scale worse than linearly (that is, exponentially or\n     polynomially)\
    \ are not acceptable whatever the number of egress LSRs\n     they could support.\n\
    \   - Number of branch LSRs.\n     Solutions MUST support all possibilities from\
    \ one extreme of a\n     single branch LSR that forks to all leaves on a separate\
    \ branch, to\n     the greatest number of branch LSRs which is (n-1) for n egress\n\
    \     LSRs.  Assumptions MUST NOT be made in the solution regarding which\n  \
    \   topology is more common, and the solution MUST be designed to\n     ensure\
    \ scalability in all topologies.\n   - Dynamics of P2MP tree.\n     Recall that\
    \ the mechanisms for determining which egress LSRs should\n     be added to an\
    \ LSP and for adding and removing egress LSRs from\n     that group are out of\
    \ the scope of this document.  Nevertheless, it\n     is useful to understand\
    \ the expected rates of arrival and departure\n     of egress LSRs, since this\
    \ can impact the selection of solution\n     techniques.\n     Again, this document\
    \ is limited to traffic engineering, and in this\n     model the rate of change\
    \ of LSP egress LSRs may be expected to be\n     lower than the rate of change\
    \ of recipients in an IP multicast\n     group.\n     Although the absolute number\
    \ of egress LSRs coming and going is the\n     important element for determining\
    \ the scalability of a solution,\n     note that a percentage may be a more comprehensible\
    \ measure, but\n     that this is not as significant for LSPs with a small number\
    \ of\n     recipients.\n     A working figure for an established P2MP TE LSP is\
    \ less than 10%\n     churn per day; that is, a relatively slow rate of churn.\n\
    \     We could say that a P2MP LSP would be shared by multiple multicast\n   \
    \  groups, so the dynamics of the P2MP LSP would be relatively small.\n     Solutions\
    \ MUST optimize for such relatively low rates of change and\n     are not required\
    \ to optimize for significantly higher rates of\n     change.\n   - Rate of change\
    \ within the network.\n     It is also important to understand the scaling with\
    \ regard to\n     changes within the network.  That is, one of the features of\
    \ a P2MP\n     TE LSP is that it can be robust or protected against network\n\
    \     failures, and it can be re-optimized to take advantage of newly\n     available\
    \ network resources.\n     It is more important that a solution be optimized for\
    \ scaling with\n     respect to recovery and re-optimization of the LSP than for\
    \ change\n     in the egress LSRs, because P2MP is used as a TE tool.\n     The\
    \ solution MUST follow this distinction and optimize accordingly.\n"
- title: 4.19.  Backwards Compatibility
  contents:
  - "4.19.  Backwards Compatibility\n   It SHOULD be an aim of any P2MP solution to\
    \ offer as much backward\n   compatibility as possible.  An ideal that is probably\
    \ impossible to\n   achieve would be to offer P2MP services across legacy MPLS\
    \ networks\n   without any change to any LSR in the network.\n   If this ideal\
    \ cannot be achieved, the aim SHOULD be to use legacy\n   nodes as both transit\
    \ non-branch LSRs and egress LSRs.\n   It is a further requirement for the solution\
    \ that any LSR that\n   implements the solution SHALL NOT be prohibited by that\
    \ act from\n   supporting P2P TE LSPs using existing signaling mechanisms.  That\
    \ is,\n   unless doing so is administratively prohibited, P2P TE LSPs MUST be\n\
    \   supported through a P2MP network.\n   Also, it is a requirement that P2MP\
    \ TE LSPs MUST be able to coexist\n   with IP unicast and IP multicast networks.\n"
- title: 4.20.  GMPLS
  contents:
  - "4.20.  GMPLS\n   The requirement for P2MP services for non-packet switch interfaces\
    \ is\n   similar to that for Packet-Switch Capable (PSC) interfaces.\n   Therefore,\
    \ it is a requirement that reasonable attempts must be made\n   to make all the\
    \ features/mechanisms (and protocol extensions) that\n   will be defined to provide\
    \ MPLS P2MP TE LSPs equally applicable to\n   P2MP PSC and non-PSC TE-LSPs.  If\
    \ the requirements of non-PSC\n   networks over-complicate the PSC solution a\
    \ decision may be taken to\n   separate the solutions.\n   Solutions for MPLS\
    \ P2MP TE-LSPs, when applied to GMPLS P2MP PSC or\n   non-PSC TE-LSPs, MUST be\
    \ compatible with the other features of GMPLS\n   including:\n   - control and\
    \ data plane separation;\n   - full support of numbered and unnumbered TE links;\n\
    \   - use of the arbitrary labels and labels for specific technologies,\n    \
    \ as well as negotiation of labels, where necessary, to support\n     limited\
    \ label processing and swapping capabilities;\n   - the ability to apply external\
    \ control to the labels selected on\n     each hop of the LSP, and to control\
    \ the next hop\n     label/port/interface for data after it reaches the egress\
    \ LSR;\n   - support for graceful and alarm-free enablement and termination of\n\
    \     LSPs;\n   - full support for protection including link-level protection,\n\
    \     end-to-end protection, and segment protection;\n   - the ability to teardown\
    \ an LSP from a downstream LSR, in\n     particular, from the egress LSR;\n  \
    \ - handling of Graceful Deletion procedures; and\n   - support for failure and\
    \ restart or reconnection of the control\n     plane without any disruption of\
    \ the data plane.\n   In addition, since non-PSC TE-LSPs may have to be processed\
    \ in\n   environments where the \"P2MP capability\" could be limited, specific\n\
    \   constraints may also apply during the P2MP TE Path computation.\n   Being\
    \ technology specific, these constraints are outside the scope of\n   this document.\
    \  However, technology-independent constraints (i.e.,\n   constraints that are\
    \ applicable independently of the LSP class)\n   SHOULD be allowed during P2MP\
    \ TE LSP message processing.  It has to\n   be emphasized that path computation\
    \ and management techniques shall\n   be as close as possible to those being used\
    \ for PSC P2P TE LSPs and\n   P2MP TE LSPs.\n"
- title: 4.21.  P2MP Crankback Routing
  contents:
  - "4.21.  P2MP Crankback Routing\n   P2MP solutions SHOULD support crankback requirements\
    \ as defined in\n   [CRANKBACK].  In particular, they SHOULD provide sufficient\n\
    \   information to a branch LSR from downstream LSRs to allow the branch\n   LSR\
    \ to re-route a sub-LSP around any failures or problems in the\n   network.\n"
- title: 5.  Security Considerations
  contents:
  - "5.  Security Considerations\n   This requirements document does not define any\
    \ protocol extensions\n   and does not, therefore, make any changes to any security\
    \ models.\n   It is a requirement that any P2MP solution developed to meet some\
    \ or\n   all of the requirements expressed in this document MUST include\n   mechanisms\
    \ to enable the secure establishment and management of P2MP\n   MPLS-TE LSPs.\
    \  This includes, but is not limited to:\n   - mechanisms to ensure that the ingress\
    \ LSR of a P2MP LSP is\n     identified;\n   - mechanisms to ensure that communicating\
    \ signaling entities can\n     verify each other's identities;\n   - mechanisms\
    \ to ensure that control plane messages are protected\n     against spoofing and\
    \ tampering;\n   - mechanisms to ensure that unauthorized leaves or branches are\
    \ not\n     added to the P2MP LSP; and\n   - mechanisms to protect signaling messages\
    \ from snooping.\n   Note that P2MP signaling mechanisms built on P2P RSVP-TE\
    \ signaling\n   are likely to inherit all the security techniques and problems\n\
    \   associated with RSVP-TE.  These problems may be exacerbated in P2MP\n   situations\
    \ where security relationships may need to maintained\n   between an ingress LSR\
    \ and multiple egress LSRs.  Such issues are\n   similar to security issues for\
    \ IP multicast.\n   It is a requirement that documents offering solutions for\
    \ P2MP LSPs\n   MUST have detailed security sections.\n"
- title: 6.  Acknowledgements
  contents:
  - "6.  Acknowledgements\n   The authors would like to thank George Swallow, Ichiro\
    \ Inoue, Dean\n   Cheng, Lou Berger, and Eric Rosen for their review and suggestions.\n\
    \   Thanks to Loa Andersson for his help resolving the final issues in\n   this\
    \ document and to Harald Alvestrand for a thorough GenArt review.\n"
- title: 7.  References
  contents:
  - '7.  References

    '
- title: 7.1.  Normative References
  contents:
  - "7.1.  Normative References\n   [RFC2119]     Bradner, S., \"Key words for use\
    \ in RFCs to Indicate\n                 Requirement Levels\", BCP 14, RFC 2119,\
    \ March 1997.\n   [RFC2702]     Awduche, D., Malcolm, J., Agogbua, J., O'Dell,\
    \ M., and\n                 J. McManus, \"Requirements for Traffic Engineering\
    \ Over\n                 MPLS\", RFC 2702, September 1999.\n   [RFC3031]     Rosen,\
    \ E., Viswanathan, A., and R. Callon,\n                 \"Multiprotocol Label\
    \ Switching Architecture\", RFC 3031,\n                 January 2001.\n   [RFC3209]\
    \     Awduche, D., Berger, L., Gan, D., Li, T., Srinivasan,\n                \
    \ V., and G. Swallow, \"RSVP-TE: Extensions to RSVP for\n                 LSP\
    \ Tunnels\", RFC 3209, December 2001.\n"
- title: 7.2.  Informative References
  contents:
  - "7.2.  Informative References\n   [RFC3468]     Andersson, L. and G. Swallow,\
    \ \"The Multiprotocol Label\n                 Switching (MPLS) Working Group decision\
    \ on MPLS\n                 signaling protocols\", RFC 3468, February 2003.\n\
    \   [RFC3473]     Berger, L., \"Generalized Multi-Protocol Label Switching\n \
    \                (GMPLS) Signaling Resource ReserVation Protocol-Traffic\n   \
    \              Engineering (RSVP-TE) Extensions\", RFC 3473, January\n       \
    \          2003.\n   [RFC3564]     Le Faucheur, F. and W. Lai, \"Requirements\
    \ for Support\n                 of Differentiated Services-aware MPLS Traffic\n\
    \                 Engineering\", RFC 3564, July 2003.\n   [RFC4090]     Pan, P.,\
    \ Swallow, G., and A. Atlas, \"Fast Reroute\n                 Extensions to RSVP-TE\
    \ for LSP Tunnels\", RFC 4090, May\n                 2005.\n   [STEINER]     H.\
    \ Salama, et al., \"Evaluation of Multicast Routing\n                 Algorithm\
    \ for Real-Time Communication on High-Speed\n                 Networks,\" IEEE\
    \ Journal on Selected Area in\n                 Communications, pp.332-345, 1997.\n\
    \   [CRANKBACK]   A. Farrel, A. Satyanarayana, A. Iwata, N. Fujita, G.\n     \
    \            Ash, S. Marshall, \"Crankback Signaling Extensions for\n        \
    \         MPLS Signaling\", Work in Progress, May 2005.\n   [P2MP-OAM]    S. Yasukawa,\
    \ A. Farrel, D. King, and T. Nadeau, \"OAM\n                 Requirements for\
    \ Point-to-Multipoint MPLS Networks\",\n                 Work in Progress, February\
    \ 2006.\n"
- title: Editor's Address
  contents:
  - "Editor's Address\n   Seisho Yasukawa\n   NTT Corporation\n   9-11, Midori-Cho\
    \ 3-Chome\n   Musashino-Shi, Tokyo 180-8585,\n   Japan\n   Phone: +81 422 59 4769\n\
    \   EMail: yasukawa.seisho@lab.ntt.co.jp\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Dimitri Papadimitriou\n   Alcatel\n   Francis Wellensplein\
    \ 1,\n   B-2018 Antwerpen,\n   Belgium\n   Phone : +32 3 240 8491\n   EMail: dimitri.papadimitriou@alcatel.be\n\
    \   JP Vasseur\n   Cisco Systems, Inc.\n   300 Beaver Brook Road\n   Boxborough,\
    \ MA 01719,\n   USA\n   EMail: jpv@cisco.com\n   Yuji Kamite\n   NTT Communications\
    \ Corporation\n   Tokyo Opera City Tower\n   3-20-2 Nishi Shinjuku, Shinjuku-ku,\n\
    \   Tokyo 163-1421,\n   Japan\n   EMail: y.kamite@ntt.com\n   Rahul Aggarwal\n\
    \   Juniper Networks\n   1194 North Mathilda Ave.\n   Sunnyvale, CA 94089\n  \
    \ EMail: rahul@juniper.net\n   Alan Kullberg\n   Motorola Computer Group\n   120\
    \ Turnpike Rd.\n   Southborough, MA 01772\n   EMail: alan.kullberg@motorola.com\n\
    \   Adrian Farrel\n   Old Dog Consulting\n   Phone: +44 (0) 1978 860944\n   EMail:\
    \ adrian@olddog.co.uk\n   Markus Jork\n   Quarry Technologies\n   8 New England\
    \ Executive Park\n   Burlington, MA 01803\n   EMail: mjork@quarrytech.com\n  \
    \ Andrew G. Malis\n   Tellabs\n   2730 Orchard Parkway\n   San Jose, CA 95134\n\
    \   Phone: +1 408 383 7223\n   EMail: andy.malis@tellabs.com\n   Jean-Louis Le\
    \ Roux\n   France Telecom\n   2, avenue Pierre-Marzin\n   22307 Lannion Cedex\n\
    \   France\n   EMail: jeanlouis.leroux@francetelecom.com\n"
- title: Full Copyright Statement
  contents:
  - "Full Copyright Statement\n   Copyright (C) The Internet Society (2006).\n   This\
    \ document is subject to the rights, licenses and restrictions\n   contained in\
    \ BCP 78, and except as set forth therein, the authors\n   retain all their rights.\n\
    \   This document and the information contained herein are provided on an\n  \
    \ \"AS IS\" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS\n  \
    \ OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET\n   ENGINEERING\
    \ TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED,\n   INCLUDING BUT NOT\
    \ LIMITED TO ANY WARRANTY THAT THE USE OF THE\n   INFORMATION HEREIN WILL NOT\
    \ INFRINGE ANY RIGHTS OR ANY IMPLIED\n   WARRANTIES OF MERCHANTABILITY OR FITNESS\
    \ FOR A PARTICULAR PURPOSE.\n"
- title: Intellectual Property
  contents:
  - "Intellectual Property\n   The IETF takes no position regarding the validity or\
    \ scope of any\n   Intellectual Property Rights or other rights that might be\
    \ claimed to\n   pertain to the implementation or use of the technology described\
    \ in\n   this document or the extent to which any license under such rights\n\
    \   might or might not be available; nor does it represent that it has\n   made\
    \ any independent effort to identify any such rights.  Information\n   on the\
    \ procedures with respect to rights in RFC documents can be\n   found in BCP 78\
    \ and BCP 79.\n   Copies of IPR disclosures made to the IETF Secretariat and any\n\
    \   assurances of licenses to be made available, or the result of an\n   attempt\
    \ made to obtain a general license or permission for the use of\n   such proprietary\
    \ rights by implementers or users of this\n   specification can be obtained from\
    \ the IETF on-line IPR repository at\n   http://www.ietf.org/ipr.\n   The IETF\
    \ invites any interested party to bring to its attention any\n   copyrights, patents\
    \ or patent applications, or other proprietary\n   rights that may cover technology\
    \ that may be required to implement\n   this standard.  Please address the information\
    \ to the IETF at\n   ietf-ipr@ietf.org.\n"
- title: Acknowledgement
  contents:
  - "Acknowledgement\n   Funding for the RFC Editor function is provided by the IETF\n\
    \   Administrative Support Activity (IASA).\n"
