- title: __initial_text__
  contents:
  - '                     Classical IP and ARP over ATM

    '
- title: Status of this Memo
  contents:
  - "Status of this Memo\n   This document specifies an Internet standards track protocol\
    \ for the\n   Internet community, and requests discussion and suggestions for\n\
    \   improvements.  Please refer to the current edition of the \"Internet\n   Official\
    \ Protocol Standards\" (STD 1) for the standardization state\n   and status of\
    \ this protocol.  Distribution of this memo is unlimited.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (C) The Internet Society (1998).  All Rights Reserved.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1. ABSTRACT  . . . . . . . . . . . . . . . . . . . . .\
    \ . . . . .  2\n   2. ACKNOWLEDGMENT  . . . . . . . . . . . . . . . . . . . .\
    \ . . .  2\n   3. CONVENTIONS . . . . . . . . . . . . . . . . . . . . . . . .\
    \ .  3\n   4. INTRODUCTION  . . . . . . . . . . . . . . . . . . . . . . . .  3\n\
    \   5. IP SUBNETWORK CONFIGURATION . . . . . . . . . . . . . . . . .  6\n   5.1\
    \  Background  . . . . . . . . . . . . . . . . . . . . . . . .  6\n   5.2  LIS\
    \ Configuration Requirements  . . . . . . . . . . . . . .  7\n   5.3  LIS Router\
    \ Additional Configuration . . . . . . . . . . . .  8\n   6. IP PACKET FORMAT\
    \  . . . . . . . . . . . . . . . . . . . . . .  8\n   7. DEFAULT VALUE FOR IP\
    \ MTU OVER ATM AAL5  . . . . . . . . . . .  9\n   7.1  Permanent Virtual Circuits\
    \  . . . . . . . . . . . . . . . .  9\n   7.2  Switched Virtual Circuits . . .\
    \ . . . . . . . . . . . . . .  9\n   7.3  Path MTU Discovery Required . . . .\
    \ . . . . . . . . . . . . 11\n   8. LIS ADDRESS RESOLUTION SERVICES . . . . .\
    \ . . . . . . . . . . 11\n   8.1  ATM-based ARP and InARP Equivalent Services\
    \ . . . . . . . . 11\n   8.2  Permanent Virtual Connections . . . . . . . . .\
    \ . . . . . . 12\n   8.3  Switched Virtual Connections  . . . . . . . . . . .\
    \ . . . . 12\n   8.4  ATMARP Single Server Operational Requirements . . . . .\
    \ . . 13\n   8.5  ATMARP Client Operational Requirements  . . . . . . . . . .\
    \ 14\n   8.5.1  Client ATMARP Table Aging . . . . . . . . . . . . . . . . 16\n\
    \   8.5.2  Non-Normal VC Operations  . . . . . . . . . . . . . . . . 17\n   8.5.3\
    \  Use of ATM ARP in Mobile-IP Scenarios . . . . . . . . . . 17\n   8.6  Address\
    \ Resolution Server Selection . . . . . . . . . . . . 17\n   8.6.1  PVCs to ATMARP\
    \ Servers  . . . . . . . . . . . . . . . . . 18\n   8.7  ATMARP Packet Formats\
    \ . . . . . . . . . . . . . . . . . . . 18\n   8.7.1  ATMARP/InATMARP Request\
    \ and Reply Packet Formats  . . . . 18\n   8.7.2  Receiving Unknown ATMARP packets\
    \  . . . . . . . . . . . . 20\n   8.7.3  TL, ATM Number, and ATM Subaddress Encoding\
    \ . . . . . . . 20\n   8.7.4  ATMARP_NAK Packet Format  . . . . . . . . . . .\
    \ . . . . . 21\n   8.7.5  Variable Length Requirements for ATMARP Packets . .\
    \ . . . 21\n   8.8  ATMARP/InATMARP Packet Encapsulation  . . . . . . . . . .\
    \ . 22\n   9. IP BROADCAST ADDRESS  . . . . . . . . . . . . . . . . . . . . 23\n\
    \   10. IP MULTICAST ADDRESS . . . . . . . . . . . . . . . . . . . . 23\n   11.\
    \ SECURITY CONSIDERATIONS  . . . . . . . . . . . . . . . . . . 23\n   12. MIB\
    \ SPECIFICATION  . . . . . . . . . . . . . . . . . . . . . 24\n   13. OPEN ISSUES\
    \  . . . . . . . . . . . . . . . . . . . . . . . . 24\n   14. REFERENCES . . .\
    \ . . . . . . . . . . . . . . . . . . . . . . 24\n   15. AUTHORS' ADDRESSES .\
    \ . . . . . . . . . . . . . . . . . . . . 26\n   APPENDIX A - Update Information\
    \  . . . . . . . . . . . . . . . . 27\n   FULL COPYRIGHT STATEMENT . . . . . .\
    \ . . . . . . . . . . . . . . 28\n"
- title: 1.  ABSTRACT
  contents:
  - "1.  ABSTRACT\n   This memo defines an initial application of classical IP and\
    \ ARP in\n   an Asynchronous Transfer Mode (ATM) network environment configured\
    \ as\n   a Logical IP Subnetwork (LIS) as described in Section 5.  This memo\n\
    \   does not preclude the subsequent development of ATM technology into\n   areas\
    \ other than a LIS; specifically, as single ATM networks grow to\n   replace many\
    \ Ethernet local LAN segments and as these networks become\n   globally connected,\
    \ the application of IP and ARP will be treated\n   differently.  This memo considers\
    \ only the application of ATM as a\n   direct replacement for the \"wires\" and\
    \ local LAN segments connecting\n   IP end-stations (\"members\") and routers\
    \ operating in the \"classical\"\n   LAN-based paradigm.  Issues raised by MAC\
    \ level bridging and LAN\n   emulation are beyond the scope of this paper.\n \
    \  This memo introduces general ATM technology and nomenclature.\n   Readers are\
    \ encouraged to review the ATM Forum and ITU-TS (formerly\n   CCITT) references\
    \ for more detailed information about ATM\n   implementation agreements and standards.\n"
- title: 2.  ACKNOWLEDGMENT
  contents:
  - "2.  ACKNOWLEDGMENT\n   The authors would like to thank the efforts of the IP\
    \ over ATM\n   Working Group of the IETF.  Without their substantial, and sometimes\n\
    \   contentious support, of the Classical IP over ATM model, this updated\n  \
    \ memo would not have been possible.  Section 7, on Default MTU, has\n   been\
    \ incorporated directly from Ran Atkinson's RFC 1626, with his\n   permission.\
    \  Thanks to Andy Malis for an early review and comments\n   for rolc and ion\
    \ related issues.\n"
- title: 3.  CONVENTIONS
  contents:
  - "3.  CONVENTIONS\n   The key words \"MUST\", \"MUST NOT\", \"REQUIRED\", \"SHALL\"\
    , \"SHALL NOT\",\n   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"MAY\", and\
    \ \"OPTIONAL\" in this\n   document are to be interpreted as described in RFC\
    \ 2119 [20].\n"
- title: 4.  INTRODUCTION
  contents:
  - "4.  INTRODUCTION\n   The goal of this specification is to allow compatible and\n\
    \   interoperable implementations for transmitting IP datagrams and ATM\n   Address\
    \ Resolution Protocol (ATMARP) requests and replies over ATM\n   Adaptation Layer\
    \ 5 (AAL5)[2,6].\n   This memo specifies the stable foundation baseline operational\
    \ model\n   which will always be available in IP and ARP over ATM\n   implementations.\
    \  Subsequent memos will build upon and refine this\n   model.  However, in the\
    \ absence or failure of those extensions,\n   operations will default to the specifications\
    \ contained in this memo.\n   Consequently, this memo will not reference these\
    \ other extensions.\n   This memo defines only the operation of IP and address\
    \ resolution\n   over ATM, and is not meant to describe the operation of ATM networks.\n\
    \   Any reference to virtual connections, permanent virtual connections,\n   or\
    \ switched virtual connections applies only to virtual channel\n   connections\
    \ used to support IP and address resolution over ATM, and\n   thus are assumed\
    \ to be using AAL5.  This memo places no restrictions\n   or requirements on virtual\
    \ connections used for other purposes.\n   Initial deployment of ATM provides\
    \ a LAN segment replacement for:\n   1)  Local area networks (e.g., Ethernets,\
    \ Token Rings and FDDI).\n   2)  Local-area backbones between existing (non-ATM)\
    \ LANs.\n   3)  Dedicated circuits or frame relay PVCs between IP routers.\n \
    \  NOTE: In 1), local IP routers with one or more ATM interfaces will be\n   able\
    \ to connect islands of ATM networks.  In 3), public or private\n   ATM Wide Area\
    \ networks will be used to connect IP routers, which in\n   turn may or may not\
    \ connect to local ATM networks.  ATM WANs and LANs\n   may be interconnected.\n\
    \   Private ATM networks (local or wide area) will use the private ATM\n   address\
    \ structure specified in the ATM Forum UNI 3.1 specification\n   [9] or as in\
    \ the ATM Forum UNI 4.0 specification [19].  This\n   structure is modeled after\
    \ the format of an OSI Network Service\n   Access Point Address (NSAPA).  A private\
    \ ATM address uniquely\n   identifies an ATM endpoint.\n   Public networks will\
    \ use either the address structure specified in\n   ITU-TS recommendation E.164\
    \ or the private network ATM address\n   structure.  An E.164 address uniquely\
    \ identifies an interface to a\n   public network.\n   The characteristics and\
    \ features of ATM networks are different than\n   those found in LANs:\n   o \
    \  ATM provides a Virtual Connection (VC) switched environment.  VC\n       setup\
    \ may be done on either a Permanent Virtual Connection (PVC)\n       or dynamic\
    \ Switched Virtual Connection (SVC) basis.  SVC call\n       management signalling\
    \ is performed via implementations of the UNI\n       3.1 protocol [7,9].\n  \
    \ o   Data to be passed by a VC is segmented into 53 octet quantities\n      \
    \ called cells (5 octets of ATM header and 48 octets of data).\n   o   The function\
    \ of mapping user Protocol Data Units (PDUs) into the\n       information field\
    \ of the ATM cell and vice versa is performed in\n       the ATM Adaptation Layer\
    \ (AAL).  When a VC is created a specific\n       AAL type is associated with\
    \ the VC.  There are four different AAL\n       types, which are referred to individually\
    \ as \"AAL1\", \"AAL2\",\n       \"AAL3/4\", and \"AAL5\".  (NOTE: this memo concerns\
    \ itself with the\n       mapping of IP and ATMARP over AAL5 only.  The other\
    \ AAL types are\n       mentioned for introductory purposes only.)  The AAL type\
    \ is known\n       by the VC end points via the call setup mechanism and is not\n\
    \       carried in the ATM cell header.  For PVCs the AAL type is\n       administratively\
    \ configured at the end points when the Connection\n       (circuit) is set up.\
    \  For SVCs, the AAL type is communicated\n       along the VC path via UNI 3.1\
    \ as part of call setup establishment\n       and the end points use the signaled\
    \ information for\n       configuration.  ATM switches generally do not care about\
    \ the AAL\n       type of VCs.  The AAL5 format specifies a packet format with\
    \ a\n       maximum size of (64K - 1) octets of user data.  Cells for an AAL5\n\
    \       PDU are transmitted first to last, the last cell indicating the\n    \
    \   end of the PDU.  ATM standards guarantee that on a given VC, cell\n      \
    \ ordering is preserved end-to-end.  NOTE: AAL5 provides a non-\n       assured\
    \ data transfer service - it is up to higher-level\n       protocols to provide\
    \ retransmission.\n   o   ATM Forum signaling defines point-to-point and point-to-\n\
    \       point Connection setup [9, 19.]  Multipoint-to-multipoint not yet\n  \
    \     specified by ITU-TS or ATM Forum.\n       An ATM Forum ATM address is either\
    \ encoded as an NSAP form ATM\n       EndSystem Address (AESA) or is an E.164\
    \ Public-UNI address [9,\n       19].  In some cases, both an AESA and an E.164\
    \ Public UNI address\n       are needed by an ATMARP client to reach another host\
    \ or router.\n       Since the use of AESAs and E.164 public UNI addresses by\
    \ ATMARP\n       are analogous to the use of Ethernet addresses, the notion of\n\
    \       \"hardware address\" is extended to encompass ATM addresses in the\n \
    \      context of ATMARP, even though ATM addresses need not have\n       hardware\
    \ significance.  ATM Forum NSAP format addresses (AESA)\n       use the same basic\
    \ format as U.S. GOSIP OSI NSAPAs [11].  NOTE:\n       ATM Forum addresses should\
    \ not be construed as being U.S. GOSIP\n       NSAPAs.  They are not, the administration\
    \ is different, which\n       fields get filled out are different, etc.  However,\
    \ in this\n       document, these will be referred to as NSAPAs.\n   This memo\
    \ describes the initial deployment of ATM within \"classical\"\n   IP networks\
    \ as a direct replacement for local area networks\n   (Ethernets) and for IP links\
    \ which interconnect routers, either\n   within or between administrative domains.\
    \  The \"classical\" model here\n   refers to the treatment of the ATM host adapter\
    \ as a networking\n   interface to the IP protocol stack operating in a LAN-based\
    \ paradigm.\n   Characteristics of the classical model are:\n   o   The same maximum\
    \ transmission unit (MTU) size is the default for\n       all VCs in a LIS.  However,\
    \ on a VC-by-VC point-to-point basis,\n       the MTU size may be negotiated during\
    \ connection setup using Path\n       MTU Discovery to better suit the needs of\
    \ the cooperating pair of\n       IP members or the attributes of the communications\
    \ path.  (Refer\n       to Section 7.3)\n   o   Default LLC/SNAP encapsulation\
    \ of IP packets.\n   o   End-to-end IP routing architecture stays the same.\n\
    \   o   IP addresses are resolved to ATM addresses by use of an ATMARP\n     \
    \  service within the LIS - ATMARPs stay within the LIS.  From a\n       client's\
    \ perspective, the ATMARP architecture stays faithful to\n       the basic ARP\
    \ model presented in [3].\n   o   One IP subnet is used for many hosts and routers.\
    \  Each VC\n       directly connects two IP members within the same LIS.\n   Future\
    \ memos will describe the operation of IP over ATM when ATM\n   networks become\
    \ globally deployed and interconnected.\n   The deployment of ATM into the Internet\
    \ community is just beginning\n   and will take many years to complete.  During\
    \ the early part of this\n   period, we expect deployment to follow traditional\
    \ IP subnet\n   boundaries for the following reasons:\n   o   Administrators and\
    \ managers of IP subnetworks will tend to\n       initially follow the same models\
    \ as they currently have deployed.\n       The mindset of the community will change\
    \ slowly over time as ATM\n       increases its coverage and builds its credibility.\n\
    \   o   Policy administration practices rely on the security, access,\n      \
    \ routing, and filtering capability of IP Internet gateways: i.e.,\n       firewalls.\
    \  ATM will not be allowed to \"back-door\" around these\n       mechanisms until\
    \ ATM provides better management capability than\n       the existing services\
    \ and practices.\n   o   Standards for global IP over ATM will take some time\
    \ to complete\n       and deploy.\n   This memo details the treatment of the classical\
    \ model of IP and\n   ATMARP over ATM.  This memo does not preclude the subsequent\n\
    \   treatment of ATM networks within the IP framework as ATM becomes\n   globally\
    \ deployed and interconnected; this will be the subject of\n   future documents.\
    \  This memo does not address issues related to\n   transparent data link layer\
    \ interoperability.\n"
- title: 5.  IP SUBNETWORK CONFIGURATION
  contents:
  - '5.  IP SUBNETWORK CONFIGURATION

    '
- title: 5.1 Background
  contents:
  - "5.1 Background\n   In the LIS scenario, each separate administrative entity configures\n\
    \   its hosts and routers within a LIS.  Each LIS operates and\n   communicates\
    \ independently of other LISs on the same ATM network.\n   In the classical model,\
    \ hosts communicate directly via ATM to other\n   hosts within the same LIS using\
    \ the ATMARP service as the mechanism\n   for resolving target IP addresses to\
    \ target ATM endpoint addresses.\n   The ATMARP service has LIS scope only and\
    \ serves all hosts in the\n   LIS.  Communication to hosts located outside of\
    \ the local LIS is\n   provided via an IP router.  This router is an ATM endpoint\
    \ attached\n   to the ATM network that is configured as a member of one or more\n\
    \   LISs.  This configuration MAY result in a number of disjoint LISs\n   operating\
    \ over the same ATM network.  Using this model hosts of\n   differing IP subnets\
    \ MUST communicate via an intermediate IP router\n   even though it may be possible\
    \ to open a direct VC between the two IP\n   members over the ATM network.\n \
    \  By default, the ATMARP service and the classical LIS routing model\n   MUST\
    \ be available to any IP member client in the LIS.\n"
- title: 5.2 LIS Configuration Requirements
  contents:
  - "5.2 LIS Configuration Requirements\n   The requirements for IP members (hosts,\
    \ routers) operating in an ATM\n   LIS configuration are:\n   o   All members\
    \ of the LIS have the same IP network/subnet number and\n       address mask [8].\n\
    \   o   All members within a LIS are directly connected to the ATM\n       network.\n\
    \   o   All members of a LIS MUST have a mechanism for resolving IP\n       addresses\
    \ to ATM addresses via ATMARP (based on [3]) and vice\n       versa via InATMARP\
    \ (based on [12]) when using SVCs.  Refer to\n       Section 8 \"LIS ADDRESS RESOLUTION\
    \ SERVICES\" in this memo.\n   o   All members of a LIS MUST have a mechanism\
    \ for resolving VCs to\n       IP addresses via InATMARP (based on [12]) when\
    \ using PVCs.  Refer\n       to Section 8 \"LIS ADDRESS RESOLUTION SERVICES\"\
    \ in this memo.\n   o   All members within a LIS MUST be able to communicate via\
    \ ATM with\n       all other members in the same LIS; i.e., the Virtual Connection\n\
    \       topology underlying the intercommunication among the members is\n    \
    \   fully meshed.\n   The following list identifies the set of ATM specific parameters\
    \ that\n   MUST be implemented in each IP station connected to the ATM network:\n\
    \   o   ATM Hardware Address (atm$ha).  The ATM address of the individual\n  \
    \     IP station.\n   o   ATMARP Request Address list (atm$arp-req-list): atm$arp-req-list\n\
    \       is a list containing one or more ATM addresses of individual\n       ATMARP\
    \ servers located within the LIS.  In an SVC environment,\n       ATMARP servers\
    \ are used to resolve target IP addresses to target\n       ATM address via an\
    \ ATMARP request and reply protocol.  ATMARP\n       servers MUST have authoritative\
    \ responsibility for resolving\n       ATMARP requests of all IP members using\
    \ SVCs located within the\n       LIS.\n   A LIS MUST have a single ATMARP service\
    \ entry configured and\n   available to all members of the LIS who use SVCs.\n\
    \   In the case where there is only a single ATMARP server within the\n   LIS,\
    \ then all ATMARP clients MUST be configured identically to have\n   only one\
    \ non-null entry in atm$arp-req-list configured with the same\n   address of the\
    \ single ATMARP service.\n   If the IP member is operating with PVCs only, then\
    \ atm$arp-req-list\n   MUST be configured with all null entries and the client\
    \ MUST not make\n   queries to either address resolution service.\n   Within the\
    \ restrictions mentioned above and in Section 8, local\n   administration MUST\
    \ decide which server address(es) are appropriate\n   for atm$arp-req-list.\n\
    \   By default, atm$arp-req-list MUST be configured using the MIB [18].\n   Manual\
    \ configuration of the addresses and address lists presented in\n   this section\
    \ is implementation dependent and beyond the scope of this\n   document; i.e.,\
    \ this memo does not require any specific configuration\n   method.  This memo\
    \ does require that these addresses MUST be\n   configured completely on the client,\
    \ as appropriate for the LIS,\n   prior to use by any service or operation detailed\
    \ in this memo.\n"
- title: 5.3 LIS Router Additional Configuration
  contents:
  - "5.3 LIS Router Additional Configuration\n   It is RECOMMENDED that routers providing\
    \ LIS functionality over the\n   ATM network also support the ability to interconnect\
    \ multiple LISs.\n   Routers that wish to provide interconnection of differing\
    \ LISs MUST\n   be able to support multiple sets of these parameters (one set\
    \ for\n   each connected LIS) and be able to associate each set of parameters\n\
    \   to a specific IP network/ subnet number.  In addition, it is\n   RECOMMENDED\
    \ that a router be able to provide this multiple LIS\n   support with a single\
    \ physical ATM interface that may have one or\n   more individual ATM endpoint\
    \ addresses.   NOTE: this does not\n   necessarily mean different End System Identifiers\
    \ (ESIs) when NSAPAs\n   are used.  The last octet of an NSAPA is the NSAPA Selector\
    \ (SEL)\n   field which can be used to differentiate up to 256 different LISs\
    \ for\n   the same ESI.  (Refer to Section 5.1.3.1, \"Private Networks\" in [9].)\n"
- title: 6.  IP PACKET FORMAT
  contents:
  - "6.  IP PACKET FORMAT\n   Implementations MUST support IEEE 802.2 LLC/SNAP encapsulation\
    \ as\n   described in [2].  LLC/SNAP encapsulation is the default packet\n   format\
    \ for IP datagrams.\n   This memo recognizes that other encapsulation methods\
    \ may be used\n   however, in the absence of other knowledge or agreement, LLC/SNAP\n\
    \   encapsulation is the default.\n   This memo recognizes that end-to-end signaling\
    \ within ATM may allow\n   negotiation of encapsulation method on a per-VC basis.\n"
- title: 7.  DEFAULT VALUE FOR IP MTU OVER ATM AAL5
  contents:
  - "7.  DEFAULT VALUE FOR IP MTU OVER ATM AAL5\n   Protocols in wide use throughout\
    \ the Internet, such as the Network\n   File System (NFS), currently use large\
    \ frame sizes (e.g., 8 KB).\n   Empirical evidence with various applications over\
    \ the Transmission\n   Control Protocol (TCP) indicates that larger Maximum Transmission\n\
    \   Unit (MTU) sizes for the Internet Protocol (IP) tend to give better\n   performance.\
    \  Fragmentation of IP datagrams is known to be highly\n   undesirable [16]. \
    \ It is desirable to reduce fragmentation in the\n   network and thereby enhance\
    \ performance by having the IP Maximum\n   Transmission Unit (MTU) for AAL5 be\
    \ reasonably large.  NFS defaults\n   to an 8192 byte frame size.  Allowing for\
    \ RPC/XDR, UDP, IP, and LLC\n   headers, NFS would prefer a default MTU of at\
    \ least 8300 octets.\n   Routers can sometimes perform better with larger packet\
    \ sizes because\n   most of the performance costs in routers relate to \"packets\
    \ handled\"\n   rather than \"bytes transferred\".  So, there are a number of\
    \ good\n   reasons to have a reasonably large default MTU value for IP over ATM\n\
    \   AAL5.\n   RFC 1209 specifies the IP MTU over SMDS to be 9180 octets, which\
    \ is\n   larger than 8300 octets but still in the same range [1].  There is no\n\
    \   good reason for the default MTU of IP over ATM AAL5 to be different\n   from\
    \ IP over SMDS, given that they will be the same magnitude.\n   Having the two\
    \ be the same size will be helpful in interoperability\n   and will also help\
    \ reduce incidence of IP fragmentation.\n   Therefore, the default IP MTU for\
    \ use with ATM AAL5 shall be 9180\n   octets.  All implementations compliant and\
    \ conformant with this\n   specification shall support at least the default IP\
    \ MTU value for use\n   over ATM AAL5.\n"
- title: 7.1  Permanent Virtual Circuits
  contents:
  - "7.1  Permanent Virtual Circuits\n   Implementations which only support Permanent\
    \ Virtual Circuits (PVCs)\n   will (by definition) not implement any ATM signalling\
    \ protocol.  Such\n   implementations shall use the default IP MTU value of 9180\
    \ octets\n   unless both parties have agreed in advance to use some other IP MTU\n\
    \   value via some mechanism not specified here.\n"
- title: 7.2  Switched Virtual Circuits
  contents:
  - "7.2  Switched Virtual Circuits\n   Implementations that support Switched Virtual\
    \ Circuits (SVCs) MUST\n   attempt to negotiate the AAL CPCS-SDU size using the\
    \ ATM signalling\n   protocol.  The industry standard ATM signalling protocol\
    \ uses two\n   different parts of the Information Element named \"AAL Parameters\"\
    \ to\n   exchange information on the MTU over the ATM circuit being setup [9].\n\
    \   The Forward Maximum CPCS-SDU Size field contains the value over the\n   path\
    \ from the calling party to the called party.  The Backwards\n   Maximum CPCS-SDU\
    \ Size Identifier field contains the value over the\n   path from the called party\
    \ to the calling party.  The ATM Forum\n   specifies the valid values of this\
    \ identifier as 1 to 65535\n   inclusive.  Note that the ATM Forum's User-to-Network-Interface\
    \ (UNI)\n   signalling permits the MTU in one direction to be different from the\n\
    \   MTU in the opposite direction, so the Forward Maximum CPCS-SDU Size\n   Identifier\
    \ might have a different value from the Backwards Maximum\n   CPCS-SDU Size Identifier\
    \ on the same connection.\n   If the calling party wishes to use the default MTU\
    \ it shall still\n   include the \"AAL Parameters\" information element with the\
    \ default\n   values for the Maximum CPCS-SDU Size as part of the SETUP message\
    \ of\n   the ATM signalling protocol [9].  If the calling party desires to use\n\
    \   a different value than the default, it shall include the \"AAL\n   Parameters\"\
    \ information element with the desired value for the\n   Maximum CPCS-SDU Size\
    \ as part of the SETUP message of the ATM\n   Signalling Protocol.  The called\
    \ party will respond using the same\n   information elements and identifiers in\
    \ its CONNECT message response\n   [9].\n   If the called party receives a SETUP\
    \ message containing the \"Maximum\n   CPCS-SDU Size\" in the AAL Parameters information\
    \ element, it shall\n   handle the Forward and Backward Maximum CPCS-SDU Size\
    \ Identifier as\n   follows:\n   a)  If it is able to accept the ATM MTU values\
    \ proposed by the SETUP\n       message, it shall include an AAL Parameters information\
    \ element\n       in its response.  The Forward and Backwards Maximum CPCS-SDU\
    \ Size\n       fields shall be present and their values shall be equal to the\n\
    \       corresponding values in the SETUP message.\n   b)  If it wishes a smaller\
    \ ATM MTU size than that proposed, then it\n       shall set the values of the\
    \ Maximum CPCS-SDU Size in the AAL\n       Parameters information elements equal\
    \ to the desired value in the\n       CONNECT message responding to the original\
    \ SETUP message.\n   c)  If the calling endpoint receives a CONNECT message that\
    \ does not\n       contain the AAL Parameters Information Element, but the\n \
    \      corresponding SETUP message did contain the AAL Parameters\n       Information\
    \ element (including the forward and backward CPCS-SDU\n       Size fields), it\
    \ shall clear the call with cause \"AAL Parameters\n       cannot be supported\"\
    .\n   d)  If either endpoint receives a STATUS message with cause\n       \"Information\
    \ Element Non-existent or Not Implemented\" or cause\n       \"Access Information\
    \ Discarded\", and with a diagnostic field\n       indicating the AAL Parameters\
    \ Information Element identifier, it\n       shall clear the call with cause \"\
    AAL Parameters cannot be\n       supported.\"\n   e)  If either endpoint receives\
    \ CPCS-SDUs in excess of the negotiated\n       MTU size, it may use IP fragmentation\
    \ or may clear the call with\n       cause \"AAL Parameters cannot be supported\"\
    .  In this case, an\n       error has occurred either due to a fault in an end\
    \ system or in\n       the ATM network.  The error should be noted by ATM network\n\
    \       management for human examination and intervention.\n   If the called endpoint\
    \ incorrectly includes the Forward and Backward\n   Maximum CPCS-SDU Size fields\
    \ in the CONNECT messages (e.g., because\n   the original SETUP message did not\
    \ include these fields) or it sets\n   these fields to an invalid value, then\
    \ the calling party shall clear\n   the call with cause \"Invalid Information\
    \ Element Contents\".\n"
- title: 7.3  Path MTU Discovery Required
  contents:
  - "7.3  Path MTU Discovery Required\n   The Path MTU Discovery mechanism is Internet\
    \ Standard RFC 1191 [17]\n   and is an important mechanism for reducing IP fragmentation\
    \ in the\n   Internet.  This mechanism is particularly important because new\n\
    \   subnet ATM uses a default MTU sizes significantly different from\n   older\
    \ subnet technologies such as Ethernet and FDDI.\n   In order to ensure good performance\
    \ throughout the Internet and also\n   to permit IP to take full advantage of\
    \ the potentially larger IP\n   datagram sizes supported by ATM, all router implementations\
    \ that\n   comply or conform with this specification must also implement the IP\n\
    \   Path MTU Discovery mechanism as defined in RFC 1191 and clarified by\n   RFC\
    \ 1435 [14].  Host implementations should implement the IP Path MTU\n   Discovery\
    \ mechanism as defined in RFC 1191.\n"
- title: 8.  LIS ADDRESS RESOLUTION SERVICES
  contents:
  - '8.  LIS ADDRESS RESOLUTION SERVICES

    '
- title: 8.1 ATM-based ARP and InARP Equivalent Services
  contents:
  - "8.1 ATM-based ARP and InARP Equivalent Services\n   Address resolution within\
    \ an ATM LIS SHALL make use of the ATM\n   Address Resolution Protocol (ATMARP)\
    \ (based on [3]) and the Inverse\n   ATM Address Resolution Protocol (InATMARP)\
    \ (based on [12]) and as\n   defined in this memo.  ATMARP is the same protocol\
    \ as the ARP\n   protocol presented in [3] with extensions needed to support address\n\
    \   resolution in a unicast server ATM environment.  InATMARP is the same\n  \
    \ protocol as the original InARP protocol presented in [12] but applied\n   to\
    \ ATM networks.  All IP stations MUST support these protocols as\n   updated and\
    \ extended in this memo.  Use of these protocols differs\n   depending on whether\
    \ PVCs or SVCs are used.\n"
- title: 8.2 Permanent Virtual Connections
  contents:
  - "8.2 Permanent Virtual Connections\n   An IP station MUST have a mechanism (e.g.,\
    \ manual configuration) for\n   determining what PVCs it has, and in particular\
    \ which PVCs are being\n   used with LLC/SNAP encapsulation.  The details of the\
    \ mechanism are\n   beyond the scope of this memo.\n   All IP members supporting\
    \ PVCs are required to use the Inverse ATM\n   Address Resolution Protocol (InATMARP)\
    \ (refer to [12]) on those VCs\n   using LLC/SNAP encapsulation.  In a strict\
    \ PVC environment, the\n   receiver SHALL infer the relevant VC from the VC on\
    \ which the\n   InATMARP_Request or response InATMARP_Reply was received.  When\
    \ the\n   ATM source and/or target address is unknown, the corresponding ATM\n\
    \   address length in the InATMARP packet MUST be set to zero (0)\n   indicating\
    \ a null length, and no storage be allocated in the InATMARP\n   packet, otherwise\
    \ the appropriate address field should be filled in\n   and the corresponding\
    \ length set appropriately.  InATMARP packet\n   format details are presented\
    \ later in this memo.\n   Directly from [12]: \"When the requesting station receives\
    \ the\n   In[ATM]ARP_Reply, it may complete the [ATM]ARP table entry and use\n\
    \   the provided address information.  NOTE: as with [ATM]ARP,\n   information\
    \ learned via In[ATM]ARP may be aged or invalidated under\n   certain circumstances.\"\
    \ IP stations supporting PVCs MUST re-validate\n   ATMARP table entries as part\
    \ of the table aging process.  See the\n   Section 8.5.1 \"Client ATMARP Table\
    \ Aging\".\n   If a client has more than one IP address within the LIS and if\
    \ using\n   PVCs, when an InATMARP_Request is received an InATMARP_Reply MUST\
    \ be\n   generated for each such address.\n"
- title: 8.3 Switched Virtual Connections
  contents:
  - "8.3 Switched Virtual Connections\n   SVCs require support from address resolution\
    \ services for resolving\n   target IP addresses to target ATM endpoint addresses.\
    \  All members in\n   the LIS MUST use the same service.  This service MUST have\n\
    \   authoritative responsibility for resolving the ATMARP requests of all\n  \
    \ IP members within the LIS.\n   ATMARP servers do not actively establish connections.\
    \  They depend on\n   the clients in the LIS to initiate connections for the ATMARP\n\
    \   registration procedure and for transmitting ATMARP requests.  An\n   individual\
    \ client connects to the ATMARP server using a point-to-\n   point LLC/SNAP VC.\
    \  The client sends normal ATMARP request packets to\n   the server.  The ATMARP\
    \ server examines each ATMARP_Request packet\n   for\n   the source protocol and\
    \ source hardware address information of the\n   sending client and uses this\
    \ information to build its ATMARP table\n   cache.  This information is used to\
    \ generate replies to any ATMARP\n   requests it receives.\n   InATMARP_Request\
    \ packets MUST specify valid address information for\n   ATM source number, ATM\
    \ target number, and source protocol address;\n   i.e., these fields MUST be non-null\
    \ in InATMARP_Request packets.\n   This memo defines the address resolution service\
    \ in the LIS and\n   constrains it to consist of a single ATMARP server.  Client-server\n\
    \   interaction is defined by using a single server approach as a\n   reference\
    \ model.\n   This memo recognizes the future development of standards and\n  \
    \ implementations of multiple-ATMARP-server models that will extend the\n   operations\
    \ as defined in this memo to provide a highly reliable\n   address resolution\
    \ service.\n"
- title: 8.4 ATMARP Single Server Operational Requirements
  contents:
  - "8.4 ATMARP Single Server Operational Requirements\n   A single ATMARP server\
    \ accepts ATM calls/connections from other ATM\n   end points.  After receiving\
    \ any ATMARP_Request, the server will\n   examine the source and target address\
    \ information in the packet and\n   make note of the VC on which the ATMARP_Request\
    \ arrived.  It will use\n   this information as necessary to build and update\
    \ its ATMARP table\n   entries.\n   For each ATMARP_Request, then:\n   1.  If\
    \ the source IP protocol address is the same as the target IP\n       protocol\
    \ address and a table entry exists for that IP address and\n       if the source\
    \ ATM hardware address does not match the table entry\n       ATM address and\
    \ there is an open VC associated with that table\n       entry that is not the\
    \ same as the VC associated with the\n       ATMARP_Request, the server MUST return\
    \ the table entry\n       information in the ATMARP_Reply, and MUST raise a \"\
    duplicate IP\n       address detected\" condition to the server's management.\
    \  The\n       table entry is not updated.\n   2.  Otherwise, if the source IP\
    \ protocol address is the same as the\n       target IP protocol address, and\
    \ either there is no table entry\n       for that IP address, or a table entry\
    \ exists for that IP address\n       and there is no open VC associated with that\
    \ table entry, or if\n       the VC associated with that entry is the same as\
    \ the VC for the\n       ATMARP_Request, the server MUST either create a new entry\
    \ or\n       update the old entry as appropriate and return that table entry\n\
    \       information in the ATMARP Reply.\n   3.  Otherwise, when the source IP\
    \ protocol address does not match the\n       target IP protocol address, the\
    \ ATMARP server will generate the\n       corresponding ATMARP_Reply if it has\
    \ an entry for the target\n       information in its ATMARP table.  Otherwise,\
    \ it will generate a\n       negative ATMARP reply (ATMARP_NAK).\n   4.  Additionally,\
    \ when the source IP protocol address does not match\n       the target IP protocol\
    \ address and when the server receives an\n       ATMARP_Request over a VC, where\
    \ the source IP and ATM address do\n       not have a corresponding table entry,\
    \ the ATMARP server MUST\n       create a new table entry for the source information.\n\
    \       Explanation: this allows old RFC 1577 clients to register with\n     \
    \  this ATMARP service by just issuing requests to it.\n   5.  Additionally, when\
    \ the source IP protocol address does not match\n       the target IP protocol\
    \ address and where the source IP and ATM\n       addresses match the association\
    \ already in the ATMARP table and\n       the ATM address matches that associated\
    \ with the VC, the server\n       MUST update the table timeout on the source\
    \ ATMARP table entry\n       but only if it has been more than 10 minutes since\
    \ the last\n       update.  Explanation: if the client is sending ATMARP requests\
    \ to\n       the server over the same VC that it used to register its ATMARP\n\
    \       entry, the server should examine the ATMARP request and note that\n  \
    \     the client is still \"alive\" by updating the timeout on the\n       client's\
    \ ATMARP table entry.\n   6.  Additionally, when the source IP protocol address\
    \ does not match\n       the target IP protocol address and where the source IP\
    \ and ATM\n       addresses do not match the association already in the ATMARP\n\
    \       table, the server MUST NOT update the ATMARP table entry.\n   An ATMARP\
    \ server MUST have knowledge of any open VCs it has and their\n   association\
    \ with an ATMARP table entry, and in particular, which VCs\n   support LLC/SNAP\
    \ encapsulation.  In normal operation, active ATMARP\n   clients will revalidate\
    \ their entries prior to the server aging\n   process taking effect.\n   Server\
    \ ATMARP table entries are valid for 20 minutes.  If an entry\n   ages beyond\
    \ 20 minutes without being updated (refreshed) by the\n   client, that entry is\
    \ deleted from the table regardless of the state\n   of any VCs that may be associated\
    \ with that entry.\n"
- title: 8.5 ATMARP Client Operational Requirements
  contents:
  - "8.5 ATMARP Client Operational Requirements\n   The ATMARP client is responsible\
    \ for contacting the ATMARP service to\n   both initially register and subsequently\
    \ refresh its own ATMARP\n   information.\n   The client is also responsible for\
    \ using the ATMARP service to gain\n   and revalidate ATMARP information about\
    \ other IP members in the LIS\n   (server selection overview is discussed in Section\
    \ 8.6).  As noted in\n   Section 5.2, ATMARP clients MUST be configured with the\
    \ ATM address\n   of the appropriate server prior to client ATMARP operation.\n\
    \   IP clients MUST register their ATM endpoint address with their ATMARP\n  \
    \ server using the ATM address structure appropriate for their ATM\n   network\
    \ connection: i.e., LISs implemented over ATM LANs following\n   ATM Forum UNI\
    \ 3.1 should register using Structure 1; LISs implemented\n   over an E.164 \"\
    public\" ATM network should register using Structure 2.\n   A LIS implemented\
    \ over a combination of ATM LANs and public ATM\n   networks may need to register\
    \ using Structure 3.  Implementations\n   based on this memo MUST support all\
    \ three ATM address structures.\n   See Section 8.7.1 for more details regarding\
    \ the ATMARP Request\n   packet format.\n   To handle the case when a client has\
    \ more than one IP address within\n   a LIS, when using an ATMARP server, the\
    \ client MUST register each\n   such address.\n   For initial registration and\
    \ subsequent refreshing of its own\n   information with the ATMARP service, clients\
    \ MUST:\n   1.  Establish an LLC/SNAP VC connection to a server in the ATMARP\n\
    \       service for the purposes of transmitting and receiving ATMARP\n      \
    \ packets.\n       NOTE: in the case of refreshing its own information with the\n\
    \       ATMARP service, a client MAY reuse an existing established\n       connection\
    \ to the ATMARP service provided that the connection was\n       previously used\
    \ either to initially register its information with\n       the ATMARP service\
    \ or to refresh its information with the ATMARP\n       service.\n   2.  After\
    \ establishing a successful connection to the ATMARP service,\n       the client\
    \ MUST transmit an ATMARP_Request packet, requesting a\n       target ATM address\
    \ for its own IP address as the target IP\n       protocol address.  The client\
    \ checks the ATMARP_Reply and if the\n       source hardware and protocol addresses\
    \ match the respective\n       target hardware and protocol addresses, the client\
    \ is registered\n       with the ATMARP service.  If the addresses do not match,\
    \ the\n       client MAY take action, raise alarms, etc.; however, these\n   \
    \    actions are beyond the scope of this memo.  In the case of a\n       client\
    \ having more than one IP address in the list, this step\n       MUST be repeated\
    \ for each IP address.\n   3.  Clients MUST respond to ATMARP_Request and InATMARP_Request\n\
    \       packets received on any VC appropriately.  (Refer to Section 7,\n    \
    \   \"Protocol Operation\" in RFC 1293 [12].)\n       NOTE: for reasons of robustness,\
    \ clients MUST respond to\n       ATMARP_Requests.\n   4.  Generate and transmit\
    \ address resolution request packets to the\n       address resolution service.\
    \  Respond to address resolution reply\n       packets appropriately to build/refresh\
    \ its own client ATMARP\n       table entries.\n   5.  Generate and transmit InATMARP_Request\
    \ packets as needed and\n       process InATMARP_Reply packets appropriately.\
    \  InATMARP_Reply\n       packets should be used to build/refresh its own client\
    \ ATMARP\n       table entries.  (Refer to Section 7, \"Protocol Operation\" in\n\
    \       [12].)  If a client has more than one IP address within the LIS\n    \
    \   when an InATMARP_Request is received an InATMARP_Reply MUST be\n       generated\
    \ for each such address.\n   The client MUST refresh its ATMARP information with\
    \ the server at\n   least once every 15 minutes.  This is done by repeating steps\
    \ 1 and\n   2.\n   An ATMARP client MUST have knowledge of any open VCs it has\n\
    \   (permanent or switched), their association with an ATMARP table\n   entry,\
    \ and in particular, which VCs support LLC/SNAP encapsulation.\n"
- title: 8.5.1 Client ATMARP Table Aging
  contents:
  - "8.5.1 Client ATMARP Table Aging\n   Client ATMARP table entries are valid for\
    \ a maximum time of 15\n   minutes.\n   When an ATMARP table entry ages, an ATMARP\
    \ client MUST invalidate the\n   table entry.  If there is no open VC server associated\
    \ with the\n   invalidated entry, that entry is deleted.  In the case of an\n\
    \   invalidated entry and an open VC, the client MUST revalidate the\n   entry\
    \ prior to transmitting any non address resolution traffic on\n   that VC; this\
    \ requirement applies to both PVCs and SVCs.  NOTE: the\n   client is permitted\
    \ to revalidate an ATMARP table entry before it\n   ages, thus restarting the\
    \ aging time when the table entry is\n   successfully revalidated.  The client\
    \ MAY continue to use the open\n   VC, as long as the table entry has not aged,\
    \ while revalidation is in\n   progress.\n   In the case of an open PVC, the client\
    \ revalidates the entry by\n   transmitting an InATMARP_Request and updating the\
    \ entry on receipt of\n   an InATMARP_Reply.\n   In the case of an open SVC, the\
    \ client revalidates the entry by\n   querying the address resolution service.\
    \  If a valid reply is\n   received (e.g., ATMARP_Reply), the entry is updated.\
    \  If the address\n   resolution service cannot resolve the entry (i.e., \"host\
    \ not found\"),\n   the SVC should be closed and the associated table entry removed.\
    \  If\n   the address resolution service is not available (i.e., \"server\n  \
    \ failure\") and if the SVC is LLC/SNAP encapsulated, the client MUST\n   attempt\
    \ to revalidate the entry by transmitting an InATMARP_Request\n   on that VC and\
    \ updating the entry on receipt of an InATMARP_Reply.\n   If the InATMARP_Request\
    \ attempt fails to return an InATMARP_Reply,\n   the SVC should be closed and\
    \ the associated table entry removed.\n   If a VC with an associated invalidated\
    \ ATMARP table entry is closed,\n   that table entry is removed.\n"
- title: 8.5.2 Non-Normal VC Operations
  contents:
  - "8.5.2 Non-Normal VC Operations\n   The specific details on client procedures\
    \ for detecting non-normal VC\n   connection establishment or closures, or failed\
    \ communications on an\n   established VC are beyond the scope of this memo. \
    \ It is REQUIRED\n   however, that the client MUST remove the associated ATMARP\
    \ entry for\n   a VC that fails to operate properly, as defined by the client,\
    \ when\n   the client closes that VC, when it releases its resources for a VC,\n\
    \   or prior to any attempt to reopen that VC.  This behavior\n   specifically\
    \ REQUIRES that the client MUST refresh its ATMARP table\n   information prior\
    \ to any attempt to re-establish communication to an\n   IP member after a non-normal\
    \ communications problem has previously\n   occurred on a VC to that IP member.\n"
- title: 8.5.3 Use of ATMARP In Mobile-IP Scenarios
  contents:
  - "8.5.3 Use of ATMARP In Mobile-IP Scenarios\n   When an ATM LIS is used as the\
    \ home network in a mobile-IP scenario,\n   it is RECOMMENDED that the home agent\
    \ NOT maintain long term\n   connections with the ATMARP service.  The absence\
    \ of this VC will\n   permit a mobile node's registration, upon its return to\
    \ the home\n   network, to immediately preempt the home agent's previous gratuitous\n\
    \   registration.\n"
- title: 8.6 Address Resolution Server Selection
  contents:
  - "8.6 Address Resolution Server Selection\n   If the client supports PVCs only,\
    \ the ATMARP server list is empty and\n   the client MUST not generate any address\
    \ resolution requests other\n   than the InATMARP requests on a PVC needed to\
    \ validate that PVC.\n   If the client supports SVCs, then the client MUST have\
    \ a non-NULL\n   atm$arp-req-list pointing to the ATMARP server(s) which provides\n\
    \   ATMARP service for the LIS.\n   The client MUST register with a server from\
    \ atm$arp-req-list.\n   The client SHALL attempt to communicate with any of the\
    \ servers until\n   a successful registration is accomplished.  The order in which\
    \ client\n   selects servers to attempt registration, is a local matter, as are\n\
    \   the number of retries and timeouts for such attempts.\n"
- title: 8.6.1 PVCs to ATMARP Servers
  contents:
  - "8.6.1 PVCs to ATMARP Servers\n   In a mixed PVC and SVC LIS environment, an ATMARP\
    \ client MAY have a\n   PVC to an ATMARP server.  In this case, this PVC is used\
    \ for ATMARP\n   requests and responses as if it were an established SVC.  NOTE:\
    \ if\n   this PVC is to be used for IP traffic, then the ATMARP server MUST be\n\
    \   prepared to accept and respond appropriately to InATMARP traffic.\n"
- title: 8.7 ATMARP Packet Formats
  contents:
  - "8.7 ATMARP Packet Formats\n   Internet addresses are assigned independently of\
    \ ATM addresses.  Each\n   host implementation MUST know its own IP and ATM address(es)\
    \ and MUST\n   respond to address resolution requests appropriately.  IP members\n\
    \   MUST also use ATMARP and InATMARP to resolve IP addresses to ATM\n   addresses\
    \ when needed.\n   NOTE: the ATMARP packet format presented in this memo is general\
    \ in\n   nature in that the ATM number and ATM subaddress fields SHOULD map\n\
    \   directly to the corresponding UNI 3.1 fields used for ATM\n   call/connection\
    \ setup signalling messages.  The IP over ATM Working\n   Group expects ATM Forum\
    \ NSAPA numbers (Structure 1) to predominate\n   over E.164 numbers (Structure\
    \ 2) as ATM endpoint identifiers within\n   ATM LANs.  The ATM Forum's VC Routing\
    \ specification is not complete\n   at this time and therefore its impact on the\
    \ operational use of ATM\n   Address Structure 3 is undefined.  The ATM Forum\
    \ will be defining\n   this relationship in the future.  It is for this reason\
    \ that IP\n   members need to support all three ATM address structures.\n"
- title: 8.7.1 ATMARP/InATMARP Request and Reply Packet Formats
  contents:
  - "8.7.1 ATMARP/InATMARP Request and Reply Packet Formats\n   The ATMARP and InATMARP\
    \ request and reply protocols use the same\n   hardware type (ar$hrd), protocol\
    \ type (ar$pro), and operation code\n   (ar$op) data formats as the ARP and InARP\
    \ protocols [3,12].  The\n   location of these three fields within the ATMARP\
    \ packet are in the\n   same byte position as those in ARP and InARP packets.\
    \  A unique\n   hardware type value has been assigned for ATMARP.  In addition,\n\
    \   ATMARP makes use of an additional operation code for ARP_NAK.  The\n   remainder\
    \ of the ATMARP/InATMARP packet format is different than the\n   ARP/InARP packet\
    \ format.\n   The ATMARP and InATMARP protocols have several fields that have\
    \ the\n   following format and values:\n   Data:\n     ar$hrd   16 bits  Hardware\
    \ type\n     ar$pro   16 bits  Protocol type\n     ar$shtl   8 bits  Type & length\
    \ (TL) of source ATM number (q)\n     ar$sstl   8 bits  Type & length (TL) of\
    \ source ATM subaddress (r)\n     ar$op    16 bits  Operation code (request, reply,\
    \ or NAK)\n     ar$spln   8 bits  Length of source protocol address (s)\n    \
    \ ar$thtl   8 bits  Type & length (TL) of target ATM number (x)\n     ar$tstl\
    \   8 bits  Type & length (TL) of target ATM subaddress (y)\n     ar$tpln   8\
    \ bits  Length of target protocol address (z)\n     ar$sha   qoctets of source\
    \ ATM number\n     ar$ssa   roctets of source ATM subaddress\n     ar$spa   soctets\
    \ of source protocol address\n     ar$tha   xoctets of target ATM number\n   \
    \  ar$tsa   yoctets of target ATM subaddress\n     ar$tpa   zoctets of target\
    \ protocol address\n   Where:\n     ar$hrd  -  assigned to ATM Forum address family\
    \ and is\n                19 decimal (0x0013) [4].\n     ar$pro  -  see Assigned\
    \ Numbers for protocol type number for\n                the protocol using ATMARP.\
    \ (IP is 0x0800).\n     ar$shtl -  Type and length of source ATM number.  See\n\
    \                Section 8.7.4 for TL encoding details.\n     ar$sstl -  Type\
    \ and length of source ATM subaddress.  See\n                Section 8.7.4 for\
    \ TL encoding details.\n     ar$op   -  The operation type value (decimal):\n\
    \                ATMARP_Request   = ARP_REQUEST   = 1\n                ATMARP_Reply\
    \     = ARP_REPLY     = 2\n                InATMARP_Request = InARP_REQUEST =\
    \ 8\n                InATMARP_Reply   = InARP_REPLY   = 9\n                ATMARP_NAK\
    \       = ARP_NAK       = 10\n     ar$spln -  length in octets of the source protocol\
    \ address. Value\n                range is 0 or 4 (decimal).  For IPv4 ar$spln\
    \ is 4.\n     ar$thtl -  Type and length of target ATM number.  See\n        \
    \        Section 8.7.4 for TL encoding details.\n     ar$tstl -  Type and length\
    \ of target ATM subaddress.  See\n                Section 8.7.4 for TL encoding\
    \ details.\n     ar$tpln -  length in octets of the target protocol address. Value\n\
    \                range is 0 or 4 (decimal).  For IPv4 ar$tpln is 4.\n     ar$sha\
    \  -  source ATM number (E.164 or ATM Forum NSAPA)\n     ar$ssa  -  source ATM\
    \ subaddress (ATM Forum NSAPA)\n     ar$spa  -  source protocol address\n    \
    \ ar$tha  -  target ATM number (E.164 or ATM Forum NSAPA)\n     ar$tsa  -  target\
    \ ATM subaddress (ATM Forum NSAPA)\n     ar$tpa  -  target protocol address\n"
- title: 8.7.2 Receiving Unknown ATMARP packets
  contents:
  - "8.7.2 Receiving Unknown ATMARP packets\n   If an ATMARP client receives an ATMARP\
    \ message with an operation code\n   (ar$op) for which it is not coded to support,\
    \ it MUST gracefully\n   discard the message and continue normal operation.  An\
    \ ATMARP client\n   is NOT REQUIRED to return any message to the sender of the\n\
    \   unsupported message.\n"
- title: 8.7.3 TL, ATM Number, and ATM Subaddress Encoding
  contents:
  - "8.7.3 TL, ATM Number, and ATM Subaddress Encoding\n   The encoding of the 8-bit\
    \ TL (type and length) fields in ATMARP and\n   In_ATMARP packets is as follows:\n\
    \     MSB   8     7     6     5     4     3     2     1   LSB\n        +-----+-----+-----+-----+-----+-----+-----+-----+\n\
    \        |  0  | 1/0 |   Octet length of address         |\n        +-----+-----+-----+-----+-----+-----+-----+-----+\n\
    \   Where:\n     bit.8   (reserved) = 0  (for future use)\n     bit.7   (type)\
    \     = 0  ATM Forum NSAPA format\n                        = 1  E.164 format\n\
    \     bit.6-1 (length)   = 6 bit unsigned octet length of address\n          \
    \                (MSB = bit.6, LSB = bit.1)  Value\n                         \
    \ range is from 0 to 20 (decimal).\n   ATM addresses, as defined by the ATM Forum\
    \ UNI 3.1 signaling\n   specification [9], include a \"Calling Party Number Information\n\
    \   Element\" and a \"Calling Party Subaddress Information Element\".  These\n\
    \   Information Elements (IEs) SHOULD map to ATMARP/InATMARP source ATM\n   number\
    \ and source ATM subaddress respectively.  Furthermore, ATM\n   Forum defines\
    \ a \"Called Party Number Information Element\" and a\n   \"Called Party Subaddress\
    \ Information Element\".  These IEs map to\n   ATMARP/InATMARP target ATM number\
    \ and target ATM subaddress,\n   respectively.\n   The ATM Forum defines three\
    \ structures for the combined use of number\n   and subaddress [9]:\n        \
    \                ATM Number      ATM Subaddress\n                      --------------\
    \    --------------\n        Structure 1   ATM Forum NSAPA        null\n     \
    \   Structure 2       E.164              null\n        Structure 3       E.164\
    \         ATM Forum NSAPA\n   ATMARP and InATMARP requests and replies for ATM\
    \ address structures 1\n   and 2 MUST indicate a null or unknown ATM subaddress\
    \ by setting the\n   appropriate subaddress length to zero; i.e., ar$sstl.length\
    \ = 0 or\n   ar$tstl.length = 0, the corresponding type field (ar$sstl.type or\n\
    \   ar$tstl.type) MUST be ignored and the physical space for the ATM\n   subaddress\
    \ buffer MUST not be allocated in the ATMARP packet.  For\n   example, if ar$sstl.length=0,\
    \ the storage for the source ATM\n   subaddress is not allocated and the first\
    \ byte of the source protocol\n   address ar$spa follows immediately after the\
    \ last byte of the source\n   hardware address ar$sha in the packet.\n   Null\
    \ or unknown ATM addresses MUST be indicated by setting the\n   appropriate address\
    \ length to zero; i.e., ar$shtl.length and\n   ar$thtl.length is zero and the\
    \ corresponding type field (ar$sstl.type\n   or ar$tstl.type) MUST be ignored\
    \ and the physical space for the ATM\n   address or ATM subaddress buffer MUST\
    \ not be allocated in the ATMARP\n   packet.\n"
- title: 8.7.4 ATMARP_NAK Packet Format
  contents:
  - "8.7.4 ATMARP_NAK Packet Format\n   The ATMARP_NAK packet format is the same as\
    \ the received\n   ATMARP_Request packet format with the operation code set to\
    \ ARP_NAK,\n   i.e., the ATMARP_Request packet data is exactly copied (e.g., using\n\
    \   bcopy) for transmission with the ATMARP_Request operation code\n   changed\
    \ to ARP_NAK value.\n"
- title: 8.7.5 Variable Length Requirements for ATMARP Packets
  contents:
  - "8.7.5 Variable Length Requirements for ATMARP Packets\n   ATMARP and InATMARP\
    \ packets are variable in length.\n   A null or unknown source or target protocol\
    \ address is indicated by\n   the corresponding length set to zero: e.g., when\
    \ ar$spln or ar$tpln\n   is zero the physical space for the corresponding address\
    \ structure\n   MUST not be allocated in the packet.\n   For backward compatibility\
    \ with previous implementations, a null IPv4\n   protocol address may be received\
    \ with length = 4 and an allocated\n   address in storage set to the value 0.0.0.0.\
    \  Receiving stations MUST\n   be liberal in accepting this format of a null IPv4\
    \ address.  However,\n   on transmitting an ATMARP or InATMARP packet, a null\
    \ IPv4 address\n   MUST only be indicated by the length set to zero and MUST have\
    \ no\n   storage allocated.\n"
- title: 8.8 ATMARP/InATMARP Packet Encapsulation
  contents:
  - "8.8 ATMARP/InATMARP Packet Encapsulation\n   ATMARP and InATMARP packets are\
    \ to be encoded in AAL5 PDUs using\n   LLC/SNAP encapsulation.  The format of\
    \ the AAL5 CPCS-SDU payload\n   field for ATMARP/InATMARP PDUs is:\n         \
    \      Payload Format for ATMARP/InATMARP PDUs:\n               +------------------------------+\n\
    \               |        LLC 0xAA-AA-03        |\n               +------------------------------+\n\
    \               |        OUI 0x00-00-00        |\n               +------------------------------+\n\
    \               |     EtherType 0x08-06        |\n               +------------------------------+\n\
    \               |                              |\n               |   ATMARP/InATMARP\
    \ Packet     |\n               |                              |\n            \
    \   +------------------------------+\n   The LLC value of 0xAA-AA-03 (3 octets)\
    \ indicates the presence of a\n   SNAP header.\n   The OUI value of 0x00-00-00\
    \ (3 octets) indicates that the following\n   two-bytes is an EtherType.\n   The\
    \ EtherType value of 0x08-06 (2 octets) indicates ARP [4].\n   The total size\
    \ of the LLC/SNAP header is fixed at 8-octets.  This\n   aligns the start of the\
    \ ATMARP packet on a 64-bit boundary relative\n   to the start of the AAL5 CPCS-SDU.\n\
    \   The LLC/SNAP encapsulation for ATMARP/InATMARP presented here is\n   consistent\
    \ with the treatment of multiprotocol encapsulation of IP\n   over ATM AAL5 as\
    \ specified in [2] and in the format of ATMARP over\n   IEEE 802 networks as specified\
    \ in [5].\n   Traditionally, address resolution requests are broadcast to all\n\
    \   directly connected IP members within a LIS.  It is conceivable in the\n  \
    \ future that larger scaled ATM networks may handle ATMARP requests to\n   destinations\
    \ outside the originating LIS, perhaps even globally;\n   issues raised by ATMARPing\
    \ outside the LIS or by a global ATMARP\n   mechanism are beyond the scope of\
    \ this memo.\n"
- title: 9.  IP BROADCAST ADDRESS
  contents:
  - "9.  IP BROADCAST ADDRESS\n   ATM does not support broadcast addressing, therefore\
    \ there are no\n   mappings available from IP broadcast addresses to ATM broadcast\n\
    \   services.  Note: this lack of mapping does not restrict members from\n   transmitting\
    \ or receiving IP datagrams specifying any of the four\n   standard IP broadcast\
    \ address forms as described in [8].  Members,\n   upon receiving an IP broadcast\
    \ or IP subnet broadcast for their LIS,\n   MUST process the packet as if addressed\
    \ to that station.\n   This memo recognizes the future development of standards\
    \ and\n   implementations that will extend the operations as defined in this\n\
    \   memo to provide an IP broadcast capability for use by the classical\n   client.\n"
- title: 10.  IP MULTICAST ADDRESS
  contents:
  - "10.  IP MULTICAST ADDRESS\n   ATM does not directly support IP multicast address\
    \ services,\n   therefore there are no mappings available from IP multicast addresses\n\
    \   to ATM multicast services.  Current IP multicast implementations\n   (i.e.,\
    \ MBONE and IP tunneling, see [10]) will continue to operate\n   over ATM based\
    \ logical IP subnets if operated in the WAN\n   configuration.\n   This memo recognizes\
    \ the future development of ATM multicast service\n   addressing by the ATM Forum.\
    \  When available and widely implemented,\n   the roll-over from the current IP\
    \ multicast architecture to this new\n   ATM architecture will be straightforward.\n\
    \   This memo recognizes the future development of standards and\n   implementations\
    \ that will extend the operations as defined in this\n   memo to provide an IP\
    \ multicast capability for use by the classical\n   client.\n"
- title: 11.  SECURITY CONSIDERATIONS
  contents:
  - "11.  SECURITY CONSIDERATIONS\n   Not all of the security issues relating to IP\
    \ over ATM are clearly\n   understood at this time, due to the fluid state of\
    \ ATM\n   specifications, newness of the technology, and other factors.\n   It\
    \ is believed that ATM and IP facilities for authenticated call\n   management,\
    \ authenticated end-to-end communications, and data\n   encryption will be needed\
    \ in globally connected ATM networks.  Such\n   future security facilities and\
    \ their use by IP networks are beyond\n   the scope of this memo.\n   There are\
    \ known security issues relating to host impersonation via\n   the address resolution\
    \ protocols used in the Internet [13].  No\n   special security mechanisms have\
    \ been added to the address resolution\n   mechanism defined here for use with\
    \ networks using IP over ATM.\n"
- title: 12.  MIB SPECIFICATION
  contents:
  - "12.  MIB SPECIFICATION\n   Clients built to this specification MUST implement\
    \ and provide a\n   Management Information Base (MIB) as defined in \"Definitions\
    \ of\n   Managed Objects for Classical IP and ARP Over ATM Using SMIv2\" [18].\n"
- title: 13.  OPEN ISSUES
  contents:
  - "13.  OPEN ISSUES\n   o   Automatic configuration of client ATM addresses via\
    \ DHCP [15] or\n       via ATM UNI 3.1 Interim Local Management Interface (ILMI)\n\
    \       services would be a useful extended service addition to this\n       document\
    \ and should be addressed in a separate memo.\n   o   ATMARP packets are not authenticated.\
    \  This is a potentially\n       serious flaw in the overall system by allowing\
    \ a mechanism by\n       which corrupt information may be introduced into the\
    \ server\n       system.\n"
- title: 14. REFERENCES
  contents:
  - "14. REFERENCES\n   [1] Piscitello, D., and J. Lawrence, \"The Transmission of\
    \ IP\n       Datagrams over the SMDS Service\", STD 52, RFC 1209, March 1991.\n\
    \   [2] Heinanen, J., \"Multiprotocol Encapsulation over ATM Adaptation\n    \
    \   Layer 5\", RFC 1483, July 1993.\n   [3] Plummer, D., \"An Ethernet Address\
    \ Resolution Protocol - or -\n       Converting Network Protocol Addresses to\
    \ 48.bit Ethernet\n       Address for Transmission on Ethernet Hardware\", STD\
    \ 37, RFC\n       826, November 1982.\n   [4] Reynolds, J., and J. Postel, \"\
    Assigned Numbers\", STD 2, RFC 1700,\n       July 1992.\n   [5] Postel, J., and\
    \ J. Reynolds, \"A Standard for the Transmission\n       of IP Datagrams over\
    \ IEEE 802 Networks\", STD 43, RFC 1042,\n       February 1988.\n   [6] CCITT,\
    \ \"Draft Recommendation I.363\", CCITT Study Group XVIII,\n       Geneva, 19-29\
    \ January 1993.\n   [7] CCITT, \"Draft text for Q.93B\", CCITT Study Group XI,\
    \ 23 September\n       - 2 October 1992.\n   [8] Braden, R., \"Requirements for\
    \ Internet Hosts -- Communication\n       Layers\", STD 3, RFC 1122, October 1989.\n\
    \   [9] ATM Forum, \"ATM User-Network Interface (UNI) Specification\n       Version\
    \ 3.1.\", ISBN 0-13-393828-X, Prentice-Hall, Inc., Upper\n       Saddle River,\
    \ NJ, 07458, September, 1994.\n   [10] Deering, S., \"Host Extensions for IP Multicasting\"\
    , STD 5,\n        RFC 1112, August 1989.\n   [11] Colella, R., Gardner, E., and\
    \ R. Callon, \"Guidelines for OSI\n        NSAP Allocation in the Internet\",\
    \ RFC 1237, July 1991.\n   [12] Bradely, T., and C. Brown, \"Inverse Address Resolution\n\
    \        Protocol\", RFC 1293, January 1992.\n   [13] Bellovin, Steven M., \"\
    Security Problems in the TCP/IP Protocol\n        Suite\", ACM Computer Communications\
    \ Review, Vol. 19, Issue 2,\n        pp. 32-48, 1989.\n   [14] Knowles, S., \"\
    IESG Advice from Experience with Path MTU\n        Discovery\", RFC 1435, March\
    \ 1993.\n   [15] Droms, R., \"Dynamic Host Configuration Protocol\", RFC 1541,\n\
    \        March 1997.\n   [16] Kent C., and J. Mogul, \"Fragmentation Considered\
    \ Harmful\",\n        Proceedings of the ACM SIGCOMM '87 Workshop on Frontiers\
    \ in\n        Computer Communications Technology, August 1987.\n   [17] Mogul,\
    \ J., and S. Deering, \"Path MTU Discovery\", RFC 1191,\n        November 1990.\n\
    \   [18] Green, M., Luciani, J., White, K., and T. Kuo, \"Definitions of\n   \
    \     Managed Objects for Classical IP and ARP over ATM Using\n        SMIv2\"\
    , RFC 2320, April 1998.\n   [19] ATM Forum, \"ATM User-Network Interface (UNI)\
    \ Specification\n        Version 4.0\", ATM Forum specfication af-sig-0061.000,\n\
    \        ftp://ftp.atmforum.com/, July, 1996.\n   [20] Bradner, S., \"Key words\
    \ for use in RFCs to Indicate Requirement\n        Levels\", BCP 14, RFC 2119,\
    \ March 1997.\n"
- title: 15. AUTHORS' ADDRESSES
  contents:
  - "15. AUTHORS' ADDRESSES\n   Mark Laubach\n   Com21, Inc.\n   750 Tasman Drive\n\
    \   Milpitas, CA 95035\n   Phone: 408.953.9175\n   FAX:   408.953.9299\n   EMail:\
    \ laubach@com21.com\n   Joel Halpern\n   Newbridge Networks, Inc.\n   593 Herndon\
    \ Parkway\n   Herndon, VA  22070-5241\n   Phone: 703.736.5954\n   FAX:   703.736.5959\n\
    \   EMail: jhalpern@Newbridge.com\n"
- title: APPENDIX A - Update Information
  contents:
  - "APPENDIX A - Update Information\n   This memo represents an update to RFC 1577\
    \ and RFC 1626.  The\n   following changes are included in this memo:\n   o  \
    \ Pointer to Classical MIB I-D for setting of variables\n   o   Single ATMARP\
    \ server address to ATMARP server list, configurable\n       via the MIB.\n  \
    \ o   RFC 1626 text replaces MTU section\n   o   Client registration procedure\
    \ from In_ATMARP to first\n       ATMARP_Request\n   o   Clarification of variable\
    \ length ATMARP packet format\n   o   Clarification of ARP_NAK packet format\n\
    \   o   Clarification of InATMARP packet format for null IPv4 addresses\n   o\
    \   Clarification on ATMARP registration and use of InATMARP_Reply\n       for\
    \ clients having more than one IP address in a LIS\n"
- title: Full Copyright Statement
  contents:
  - "Full Copyright Statement\n   Copyright (C) The Internet Society (1998).  All\
    \ Rights Reserved.\n   This document and translations of it may be copied and\
    \ furnished to\n   others, and derivative works that comment on or otherwise explain\
    \ it\n   or assist in its implmentation may be prepared, copied, published\n \
    \  andand distributed, in whole or in part, without restriction of any\n   kind,\
    \ provided that the above copyright notice and this paragraph are\n   included\
    \ on all such copies and derivative works.  However, this\n   document itself\
    \ may not be modified in any way, such as by removing\n   the copyright notice\
    \ or references to the Internet Society or other\n   Internet organizations, except\
    \ as needed for the purpose of\n   developing Internet standards in which case\
    \ the procedures for\n   copyrights defined in the Internet Standards process\
    \ must be\n   followed, or as required to translate it into languages other than\n\
    \   English.\n   The limited permissions granted above are perpetual and will\
    \ not be\n   revoked by the Internet Society or its successors or assigns.\n \
    \  This document and the information contained herein is provided on an\n   \"\
    AS IS\" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING\n   TASK FORCE\
    \ DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING\n   BUT NOT LIMITED\
    \ TO ANY WARRANTY THAT THE USE OF THE INFORMATION\n   HEREIN WILL NOT INFRINGE\
    \ ANY RIGHTS OR ANY IMPLIED WARRANTIES OF\n   MERCHANTABILITY OR FITNESS FOR A\
    \ PARTICULAR PURPOSE.\"\n"
