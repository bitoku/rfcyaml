- title: __initial_text__
  contents:
  - '    Definition of Events for Modem, Fax, and Text Telephony Signals

    '
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This document specifies an Internet standards track protocol\
    \ for the\n   Internet community, and requests discussion and suggestions for\n\
    \   improvements.  Please refer to the current edition of the \"Internet\n   Official\
    \ Protocol Standards\" (STD 1) for the standardization state\n   and status of\
    \ this protocol.  Distribution of this memo is unlimited.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (C) The IETF Trust (2006).\n"
- title: Abstract
  contents:
  - "Abstract\n   This memo updates RFC 4733 to add event codes for modem, fax, and\n\
    \   text telephony signals when carried in the telephony event RTP\n   payload.\
    \  It supersedes the assignment of event codes for this\n   purpose in RFC 2833,\
    \ and therefore obsoletes that part of RFC 2833.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1. Introduction ....................................................3\n\
    \      1.1. Terminology ................................................3\n  \
    \    1.2. Overview ...................................................3\n   2.\
    \ Definitions of Events for Control of Data, Fax, and Text\n      Telephony Sessions\
    \ ..............................................5\n      2.1. V.8 bis Events .............................................5\n\
    \           2.1.1. Handling of Congestion ..............................9\n  \
    \    2.2. V.21 Events ...............................................10\n    \
    \       2.2.1. Handling of Congestion .............................11\n      2.3.\
    \ V.8 Events ................................................12\n           2.3.1.\
    \ Handling of Congestion .............................15\n      2.4. V.25 Events\
    \ ...............................................15\n           2.4.1. Handling\
    \ of Congestion .............................17\n      2.5. V.32/V.32bis Events\
    \ .......................................18\n           2.5.1. Handling of Congestion\
    \ .............................19\n      2.6. T.30 Events ...............................................19\n\
    \           2.6.1. Handling of Congestion .............................23\n  \
    \    2.7. Events for Text Telephony .................................23\n    \
    \       2.7.1. Signal Format Indicators for Text Telephony ........23\n      \
    \     2.7.2. Use of Events with V.18 Modems .....................27\n      2.8.\
    \ A Generic Indicator .......................................28\n   3. Strategies\
    \ for Handling Fax and Modem Signals ..................29\n   4. Example of V.8\
    \ Negotiation .....................................30\n      4.1. Simultaneous\
    \ Transmission of Events and\n           Retransmitted Events Using RFC 2198 Redundancy\
    \ ............35\n      4.2. Simultaneous Transmission of Events and Voice-Band\n\
    \           Data Using RFC 2198 Redundancy ............................37\n  \
    \ 5. Security Considerations ........................................39\n   6.\
    \ IANA Considerations ............................................40\n   7. Acknowledgements\
    \ ...............................................42\n   8. References .....................................................43\n\
    \      8.1. Normative References ......................................43\n  \
    \    8.2. Informative References ....................................44\n"
- title: 1.  Introduction
  contents:
  - '1.  Introduction

    '
- title: 1.1.  Terminology
  contents:
  - "1.1.  Terminology\n   In this document, the key words \"MUST\", \"MUST NOT\"\
    , \"REQUIRED\",\n   \"SHALL\", \"SHALL NOT\", \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\"\
    , \"MAY\",\n   and \"OPTIONAL\" are to be interpreted as described in RFC 2119\
    \ [1].\n   In addition to those defined for specific events, this document uses\n\
    \   the following abbreviations:\n   Fax    facsimile\n   HDLC   High-level Data\
    \ Link Control\n   PSTN   Public Switched (circuit) Telephone Network\n"
- title: 1.2.  Overview
  contents:
  - "1.2.  Overview\n   This document extends the set of telephony events defined\
    \ within the\n   framework of RFC 4733 [5] to include the control events and tones\n\
    \   that can appear on a subscriber line serving a fax machine, a modem,\n   or\
    \ a text telephony device.  The events are organized into several\n   groups,\
    \ corresponding to the ITU-T Recommendation in which they are\n   defined.  Their\
    \ purpose is to support negotiation, start-up and\n   takedown of fax, modem,\
    \ or text telephony sessions and transitions\n   between operating modes.  The\
    \ actual fax, modem, and text payload is\n   typically carried by other payload\
    \ types (e.g., V.150.1 [32] modem\n   relay, voice-band data as formalized in\
    \ ITU-T Rec. V.152 [33],\n   Clearmode [17] for digital data, T.38 [21] for fax,\
    \ or RFC 4103 [18]\n   for character-mode text).\n   NOTE: implementers SHOULD\
    \ NOT rely on the descriptions of the various\n   modem protocols described below\
    \ without consulting the original\n   references (generally ITU-T Recommendations).\
    \  The descriptions are\n   provided in this document to give a context for the\
    \ use of the events\n   defined here.  They frequently omit important details\
    \ needed for\n   implementation.\n   The typical application of these events is\
    \ to allow the Internet to\n   serve as a bridge between terminals operating on\
    \ the PSTN.  This\n   application is characterized as follows:\n   o  each gateway\
    \ will act both as sender and as receiver;\n   o  time constraints apply to the\
    \ exchange of signals, making the\n      early identification and reporting of\
    \ events desirable so that\n      receiver playout can proceed in a timely fashion;\n\
    \   o  the receiver must play out events in their proper order;\n   o  transfer\
    \ of the events must be reliable.  Applications will vary\n      in their ability\
    \ to recover from missing events.\n   In some cases, an implementation may simply\
    \ ignore certain events,\n   such as fax tones, that do not make sense in a particular\n\
    \   environment.  Section 2.4.1 of RFC 4733 [5] specifies how an\n   implementation\
    \ can use the Session Description Protocol (SDP) \"fmtp\"\n   parameter within\
    \ an SDP description [4] to indicate which events it\n   is prepared to handle.\n\
    \   Regardless of which events they support, implementations MUST be\n   prepared\
    \ to send and receive data signals using payload types other\n   than telephone-event,\
    \ simultaneously with the use of the latter.\n   This is discussed further in\
    \ Section 3.\n   In many cases, continuity of playout is critical.  In principle,\
    \ this\n   is achieved through buffering at the receiving end.  It is generally\n\
    \   desirable to minimize such buffering to reduce round-trip response\n   times.\
    \  Maintenance of a constant packetization interval at the\n   sending end while\
    \ reporting events is helpful for this purpose.\n   A further word on time constraints\
    \ is in order.  Time constraints\n   governing the duration of tones do not pose\
    \ a problem when using the\n   telephone-event payload type: the payload specifies\
    \ the duration and\n   the receiving gateway can play out the tones accordingly.\
    \  Problems\n   occur when time constraints are specified for the duration of\
    \ silence\n   between tones.  A silent period of \"at least x ms\" is not a problem\n\
    \   -- event notifications can be received late, but they can still be\n   played\
    \ out at their specified durations.\n   The problem occurs if silence must last\
    \ for a specific duration or at\n   most some specific period.  The most general\
    \ constraint of the latter\n   type has to do with the operation of echo suppressors\
    \ (ITU-T\n   Rec. G.164 [6]) and echo cancellers (ITU-T Rec. G.165 [7]).  These\n\
    \   devices may re-activate after as little as 100 ms of no signal on the\n  \
    \ line.  As a result, in any situation where echo suppressors or\n   cancellers\
    \ must be disabled for signalling to work, tone events must\n   be reported quickly\
    \ enough to ensure that these devices do not become\n   re-enabled.\n"
- title: 2.  Definitions of Events for Control of Data, Fax, and Text Telephony
  contents:
  - "2.  Definitions of Events for Control of Data, Fax, and Text Telephony\n    Sessions\n"
- title: 2.1.  V.8 bis Events
  contents:
  - "2.1.  V.8 bis Events\n   Recommendation V.8 bis [10] is a general procedure for\
    \ two endpoints\n   to establish each other's capabilities and to transition between\n\
    \   different operating modes, both at call startup and after the call\n   has\
    \ been established.  It supports many of the same terminals as V.8\n   [9] (Section\
    \ 2.3 below), but allows more detailed parameter\n   negotiation.  It lacks support\
    \ for some of the older V-series modems\n   defined in V.8, but adds capabilities\
    \ for simultaneous or alternating\n   voice and data, H.324 [20] multilink, and\
    \ T.120 [23] conferencing.\n   Following V.8 bis capability negotiations, if the\
    \ terminals have\n   negotiated a modem-based operating mode, they initiate the\
    \ actual\n   modem session using either V.8, a truncated version of V.8\n   (preferred),\
    \ or V.25 start-up.  V.25 is described in Section 2.4.\n   V.8 bis distinguishes\
    \ between \"signals\" and \"messages\".  The V.8 bis\n   signals -- ESi/ESr, MRe/MRd,\
    \ and CRe/CRd -- consist of tones, as\n   described in the next few paragraphs.\
    \  The V.8 bis messages -- MS,\n   CL, CLR, ACK(1), ACK(2), NAK(1), NAK(2), NACK(3),\
    \ and NACK(4) --\n   consist of sequences of bits transported over V.21 [12] modulation.\n\
    \   Signals are intended to be comprehensible at the receiver even in the\n  \
    \ presence of voice content.  They consist of two tone segments.  The\n   first\
    \ segment consists of a dual-frequency tone held for 400 ms, and\n   has the function\
    \ of preparing the receiver and any in-line echo\n   suppressor or canceller for\
    \ what follows.  The specific frequencies\n   depend only on whether the signal\
    \ is from the initiator or the\n   responder in a transaction.  When using the\
    \ telephone-event payload,\n   the V8bISeg and V8bRSeg events in Table 1 represent\
    \ the first segment\n   of any V.8 bis signal in the initiating and responding\
    \ case,\n   respectively.\n      The complete V.8 bis strategy for dealing with\
    \ echo suppressors or\n      cancellers is described in Rec. V.8 bis Appendix\
    \ III.  The only\n      silent period constraints imposed are of the \"at least\"\
    \ type,\n      posing no difficulties for the use of the telephone-event payload.\n\
    \   The second segment follows immediately after the first, and is a\n   single\
    \ tone held for 100 ms.  The frequency used indicates the\n   specific signal\
    \ of the six signals defined.  When using the\n   telephone-event payload, the\
    \ second segment of a V.8 bis signal is\n   represented by the applicable event:\
    \ CRdSeg, CReSeg, MRdSeg, MReSeg,\n   ESiSeg, or ESrSeg, as defined in Table 1.\
    \  ESiSeg and ESrSeg use the\n   same frequencies as V.21 low and high channel\
    \ '1' bits, respectively\n   (see Table 2), and are therefore assigned the same\
    \ event codes.\n   V.8 bis messages use V.21 [12] frequency-shift signalling to\
    \ transfer\n   message content.  V.21 is described in the next section.  V.8 bis\n\
    \   uses V.21 in half-duplex mode at 300 bits/s, with the lower channel\n   assigned\
    \ to the initiator and the upper channel to the responder.\n   Each V.8 bis message\
    \ is preceded by a 100-ms preamble of continuous\n   V.21 marking frequency except\
    \ if it was immediately preceded by an\n   ESi or ESr signal (the second segment\
    \ of which is that same V.21\n   marking frequency).  The sender SHALL NOT report\
    \ this preamble tone\n   using the ESiSeg or ESrSeg events; these are to be used\
    \ only for the\n   V.8 bis signals to which they pertain.\n      Spelling this\
    \ out, continuous V.21 marking tone immediately\n      following V8bISeg and V8bRSeg\
    \ is reported as ESiSeg or ESrSeg,\n      respectively.  Continuous V.21 marking\
    \ tone occurring in any other\n      context, and particularly after CRdSeg, CReSeg,\
    \ MRdSeg, or MReSeg,\n      is reported by other means such as a different payload\
    \ type or\n      using the V.21 '1' bit events defined in Section 2.2.\n   No\
    \ events are defined for V.8 bis messages, but a brief description\n   follows.\n\
    \   o  the V.8 bis CL message describes the sending terminal's\n      capabilities;\n\
    \   o  the CLR message also describes capabilities, but indicates that\n     \
    \ the sender wants to receive a CL in return;\n   o  the MS establishes a particular\
    \ operating mode;\n   o  the ACK and NAK messages are used to terminate the message\n\
    \      transactions.\n   The V.8 bis messages are organized as a sequence of octets.\
    \  The\n   first two to five octets are HDLC flags (0x7E).  Then comes a message\n\
    \   type identifier (four bits), a V.8 bis version identifier (four\n   bits),\
    \ zero to two more octets of identifying information, followed\n   by zero or\
    \ more information field parameters in the form of bit maps.\n   An individual\
    \ bit map is one to five octets in length.  Up to 64\n   octets of non-standard\
    \ information may also be present.  The\n   information fields are followed by\
    \ a checksum and one to three HDLC\n   flags.  Because of limits on the size of\
    \ any one information field,\n   V.8 bis defines segmentation procedures.  Excess\
    \ data is sent in an\n   additional message, but only after prompting from the\
    \ receiving end.\n   Applications supporting V.8 bis signalling using the telephone-event\n\
    \   payload MAY transfer V.8 bis messages in the form of sequences of\n   bits,\
    \ using the V.21 bit events defined in the next section.  If they\n   do so, the\
    \ transmitted information MUST include the complete contents\n   of the message:\
    \ the initial HDLC flags, the information field, the\n   checksum, and the terminating\
    \ HDLC flags.\n   Transmission MUST also include the extra '0' bits added according\
    \ to\n   the procedures of Rec. V.8 bis, clause 7.2.8, to prevent false\n   recognition\
    \ of HDLC flags at the receiver.  Implementers should note\n   that these extra\
    \ '0' bits mean that in general V.8 bis messages as\n   transmitted on the wire\
    \ will not come out to an even multiple of\n   octets.  Sending implementations\
    \ MAY choose to vary the packetization\n   interval to include exactly one octet\
    \ of information plus any extra\n   '0' bits inserted into that octet; the resulting\
    \ variation will be\n   insignificant compared with the amount of buffering required\
    \ to guard\n   against network delays in delivery of packets to the receiver (see\n\
    \   below).\n      One reason for reporting the V.21 bits exactly as presented\
    \ on the\n      wire is to match the corresponding content if it is also carried\n\
    \      by other means, such as voice-band data.\n   The power levels of the V.8\
    \ bis and V.21 signals are subject to\n   national regulation.  Thus, it seems\
    \ suitable to model V.8 bis events\n   as tones for which the volumes SHOULD be\
    \ specified by the sender.  If\n   the receiver is rendering the V.8 bis tones\
    \ as audio content for\n   onward transmission, the receiver MAY use the volumes\
    \ contained in\n   the event reports, or MAY modify the volumes to match downstream\n\
    \   national requirements.\n   Table 1 summarizes the event codes defined for\
    \ V.8 bis signalling in\n   this document.  The individual events are described\
    \ following the\n   table.  Each event begins when the beginning of the tone segment\
    \ is\n   detected and ends when the tone is no longer detected.\n    +---------+-------------+-----------+------------+------+---------+\n\
    \    | Event   | Freq.  (Hz) | Dur. (ms) | Event Code | Type | Volume? |\n   \
    \ +---------+-------------+-----------+------------+------+---------+\n    | ESiSeg\
    \  |      980    |    100    |     38     | tone |   yes   |\n    |         |\
    \             |           |            |      |         |\n    | ESrSeg  |   \
    \  1650    |    100    |     40     | tone |   yes   |\n    |         |      \
    \       |           |            |      |         |\n    | CRdSeg  |     1900\
    \    |    100    |     23     | tone |   yes   |\n    |         |            \
    \ |           |            |      |         |\n    | CReSeg  |      400    | \
    \   100    |     24     | tone |   yes   |\n    |         |             |    \
    \       |            |      |         |\n    | MRdSeg  |     1150    |    100\
    \    |     25     | tone |   yes   |\n    |         |             |          \
    \ |            |      |         |\n    | MReSeg  |      650    |    100    | \
    \    26     | tone |   yes   |\n    |         |             |           |    \
    \        |      |         |\n    | V8bISeg | 1375 + 2002 |    400    |     28\
    \     | tone |   yes   |\n    |         |             |           |          \
    \  |      |         |\n    | V8bRSeg | 1529 + 2225 |    400    |     29     |\
    \ tone |   yes   |\n    +---------+-------------+-----------+------------+------+---------+\n\
    \                    Table 1: Events for V.8 bis Signals\n   ESiSeg:\n      The\
    \ second segment of a V.8 bis initiating Escape Signal (ESi).\n      The complete\
    \ ESi signal is represented by events V8bISeg followed\n      by ESiSeg.  ESi\
    \ will be followed by an MS, CL, or CLR message from\n      the same terminal.\
    \  A 1.5-s silent interval may come between the\n      ESi signal and the transmission\
    \ of the MS, CL, or CLR message to\n      accommodate network echo suppressors.\n\
    \   ESrSeg:\n      The second segment of a V.8 bis responding Escape Signal (ESr).\n\
    \      The complete ESr signal is represented by events V8bRSeg followed\n   \
    \   by ESrSeg.  ESr is always sent by the calling terminal in response\n     \
    \ to an MRe or CRe from an automatic answering station.  It will be\n      followed\
    \ by an MS, CL, or CLR message.  The ESr signal turns off\n      any announcement\
    \ being generated by the automatic answering\n      station.\n   CRdSeg:\n   \
    \   The second segment of a V.8 bis Capabilities Request signal (CRd).\n     \
    \ The first segment of the CRd signal is represented either by\n      V8bISeg\
    \ or V8bRSeg, depending on context.  The other end will\n      return a capabilities\
    \ list (CL or CLR message).\n   CReSeg:\n      The second segment of a V.8 bis\
    \ Capabilities Request signal (CRe)\n      initiated by an automatic answering\
    \ terminal.  The complete CRe\n      signal is represented by events V8bISeg followed\
    \ by CReSeg.  The\n      calling terminal will respond with a CRd signal or a\
    \ CL or CLR\n      message.\n   MRdSeg:\n      The second segment of a V.8 bis\
    \ Mode Request signal (MRd).  The\n      first segment of the MRd signal is represented\
    \ either by V8bISeg\n      or V8bRSeg, depending on context.  The other end will\
    \ return a CRd\n      signal or an MS message.\n   MReSeg:\n      The second segment\
    \ of a V.8 bis Mode Request signal (MRe)\n      initiated by an automatic answering\
    \ terminal.  The complete MRe\n      signal is represented by events V8bISeg followed\
    \ by MReSeg.  The\n      calling terminal will respond with an MRd or CRd signal\
    \ or an MS\n      message.\n   V8bISeg:\n      The first segment of an initiating\
    \ V.8 bis signal, which may be\n      one of ESi, CRd, CRe, MRd, or MRe.\n   V8bRSeg:\n\
    \      The first segment of a responding V.8 bis signal, which may be one\n  \
    \    of ESr, CRd, or MRd.\n"
- title: 2.1.1.  Handling of Congestion
  contents:
  - "2.1.1.  Handling of Congestion\n   V.8 bis implementations are unlikely to tolerate\
    \ gaps or extensions\n   in playout times due to congestion-caused packet delay.\
    \  At a\n   minimum, the current transaction is liable to be reset when these\n\
    \   defects in playout occur.  As a result, careful management of the\n   playout\
    \ buffer is required at the receiver to increase robustness in\n   the face of\
    \ possible lost or delayed packets.  The playout algorithm\n   should also be\
    \ such as not to cause event playout to exceed the\n   nominal duration of the\
    \ event.\n   V.8 bis does not appear to offer opportunities for dynamic adaptation\n\
    \   to congestion through manipulation of the packetization interval.\n"
- title: 2.2.  V.21 Events
  contents:
  - "2.2.  V.21 Events\n   V.21 [12] is a modem protocol offering data transmission\
    \ at a maximum\n   rate of 300 bits/s.  Two channels are defined, supporting full\
    \ duplex\n   data transmission if required.  The low channel uses frequencies\
    \ 980\n   Hz for '1' (mark) and 1180 Hz for '0' (space); the high channel uses\n\
    \   frequencies 1650 Hz for '1' and 1850 Hz for '0'.  The modem can\n   operate\
    \ synchronously or asynchronously.\n   V.21 is used by other protocols (e.g.,\
    \ V.8 bis, V.18, T.30) for\n   transmission of control data, and is also used\
    \ in its own right\n   between text terminals.  The V.21 events are summarized\
    \ in Table 2.\n   Sending implementations SHOULD report a completed event for\
    \ every bit\n   transmitted (i.e., rather than at transitions between '0' and\
    \ '1').\n   Bit events are assumed to begin and end with the clock interval for\n\
    \   the event, neglecting the rise and fall times between bit\n   transitions.\
    \  Thus, it is important for a gateway to determine the\n   actual bit rate in\
    \ use before beginning to report V.21 events.\n      Sometimes determination of\
    \ the bit rate is not immediately\n      possible, as in the case of the 100-ms\
    \ training signal at V.21\n      mark frequency used before V.8 bis messages.\
    \  Transmission of a\n      single longer-duration V.21 event is reasonable under\
    \ these\n      circumstances and should not cause any difficulties at the\n  \
    \    receiving end.\n   Implementations SHOULD pack multiple events into one packet,\
    \ using\n   the procedures of Section 2.5.1.5 of RFC 4733 [5].  Eight to ten bits\n\
    \   is a reasonable packetization interval.\n   Reliable transmission of V.21\
    \ events is important, to prevent data\n   corruption.  Reporting an event per\
    \ bit rather than per transition\n   increases reporting redundancy and thus reporting\
    \ reliability, since\n   each event completion is transmitted three times as described\
    \ in\n   Section 2.5.1.4 of RFC 4733 [5].  To reduce the number of packets\n \
    \  required for reporting, implementations SHOULD carry the\n   retransmitted\
    \ events using RFC 2198 [2] redundancy encoding.  This is\n   illustrated in the\
    \ example in Section 4.1.\n   The time to transmit one V.21 bit at the nominal\
    \ rate of 300 bits/s\n   is 3.33 ms, or 26.67 timestamp units at the default 8000-Hz\
    \ sampling\n   rate for the telephone-event payload type.  Because this duration\
    \ is\n   not an integral number of timestamp units, accurate reporting of the\n\
    \   beginning of the event and the event duration is impossible.  Sending\n  \
    \ gateways SHOULD round V.21 event starting times to the nearest whole\n   timestamp\
    \ unit.\n   When sending multiple consecutive V.21 events in a succession of\n\
    \   packets, the sending gateway MUST ensure that individual event\n   durations\
    \ reported do not cause the last event of one packet to\n   overlap with the first\
    \ event of the next, taking into account the\n   respective initial event timestamps.\
    \  To accomplish this, the sending\n   gateway MUST derive the individual event\
    \ durations as the succession\n   of differences between the event starting times\
    \ (so that, at 8000 Hz,\n   every third event has reported duration 26 units,\
    \ the remainder 27\n   units).\n   Where a receiving gateway recognizes that a\
    \ packet reports a\n   consecutive series of V.21 bit events, it SHOULD play them\
    \ out at a\n   uniform rate despite the possible one-timestamp-unit discrepancies\
    \ in\n   their reported spacing and duration.\n   +--------------------+----------------+------------+------+---------+\n\
    \   | Event              | Frequency (Hz) | Event Code | Type | Volume? |\n  \
    \ +--------------------+----------------+------------+------+---------+\n   |\
    \ V.21 channel 1,    |           1180 |         37 | tone |     yes |\n   | '0'\
    \ bit            |                |            |      |         |\n   |      \
    \              |                |            |      |         |\n   | V.21 channel\
    \ 1,    |            980 |         38 | tone |     yes |\n   | '1' bit       \
    \     |                |            |      |         |\n   |                 \
    \   |                |            |      |         |\n   | V.21 channel 2,   \
    \ |           1850 |         39 | tone |     yes |\n   | '0' bit            |\
    \                |            |      |         |\n   |                    |  \
    \              |            |      |         |\n   | V.21 channel 2,    |    \
    \       1650 |         40 | tone |     yes |\n   | '1' bit            |      \
    \          |            |      |         |\n   +--------------------+----------------+------------+------+---------+\n\
    \                     Table 2: Events for V.21 Signals\n   Implementations that\
    \ choose to transmit V.21 content using a\n   different payload type may wish\
    \ to use one of the indicator events\n   defined in Table 7 to alert the receiver\
    \ to the nature of the\n   content.  It is not expected that an implementation\
    \ will send both\n   one of these indicator events and the V.21 bit events defined\
    \ above\n   for the same content.\n"
- title: 2.2.1.  Handling of Congestion
  contents:
  - "2.2.1.  Handling of Congestion\n   The duration of V.21 bits cannot be extended\
    \ from its nominal value\n   (which depends on the transmission rate).  The playout\
    \ algorithm at\n   the receiver should take this constraint into account when\n\
    \   compensating for the delay or loss of packets due to congestion.\n   Other\
    \ congestion-related considerations depend on the specific\n   application for\
    \ which the V.21 bit events are being used.\n"
- title: 2.3.  V.8 Events
  contents:
  - "2.3.  V.8 Events\n   V.8 [9] is an older general negotiation and control protocol,\n\
    \   supporting startup for the following terminals: H.324 [20]\n   multimedia,\
    \ V.18 [11] text, T.101 [22] videotext, T.30 [8] send or\n   receive fax, and\
    \ a long list of V-series modems including V.34 [28],\n   V.90 [29], V.91 [30],\
    \ and V.92 [31].  In contrast to V.8 bis [10], in\n   V.8 only the calling terminal\
    \ can determine the operating mode.\n   V.8 does not use the same terminology\
    \ as V.8 bis.  Rather, it defines\n   four signals that consist of bits transferred\
    \ by V.21 [12] at 300\n   bits/s: the call indicator signal (CI), the call menu\
    \ signal (CM),\n   the CM terminator (CJ), and the joint menu signal (JM).  In\
    \ addition,\n   it uses tones defined in V.25 [13] and T.30 [8] (described below),\n\
    \   and one tone (ANSam) defined in V.8 itself.  The calling terminal\n   sends\
    \ using the V.21 low channel; the answering terminal uses the\n   high channel.\n\
    \   The basic protocol sequence is subject to a number of variations to\n   accommodate\
    \ different terminal types.  A pure V.8 sequence is as\n   follows:\n   1.  After\
    \ an initial period of silence, the calling terminal\n       transmits the V.8\
    \ CI signal.  It repeats CI at least three times,\n       continuing with occasional\
    \ pauses until it detects ANSam tone.\n       The CI indicates whether the calling\
    \ terminal wants to function\n       as H.324, V.18, T.30 send, T.30 receive,\
    \ or a V-series modem.\n   2.  The answering terminal transmits ANSam after detecting\
    \ CI.  ANSam\n       will disable any G.164 [6] echo suppressors on the circuit\
    \ after\n       400 ms and any G.165 [7] echo cancellers after one second of\n\
    \       ANSam playout.\n   3.  On detecting ANSam, the calling terminal pauses\
    \ at least half a\n       second, then begins transmitting CM to indicate detailed\n\
    \       capabilities within the chosen mode.\n   4.  After detecting at least\
    \ two identical sequences of CM, the\n       answering terminal begins to transmit\
    \ JM, indicating its own\n       capabilities (or offering an alternative terminal\
    \ type if it\n       cannot support the one requested).\n   5.  After detecting\
    \ at least two identical sequences of JM, the\n       calling terminal completes\
    \ the current octet of CM, then\n       transmits CJ to acknowledge the JM signal.\
    \  It pauses exactly 75\n       ms, then starts operating in the selected mode.\n\
    \   6.  The answering terminal transmits JM until it has detected CJ.  At\n  \
    \     that point, it stops transmitting JM immediately, pauses exactly\n     \
    \  75 ms, then starts operating in the selected mode.\n   The CI, CM, and JM signals\
    \ all consist of a fixed sequence of ten '1'\n   bits followed by a signal-dependent\
    \ pattern of ten synchronization\n   bits, followed by one or more octets of variable\
    \ information.  Each\n   octet is preceded by a '0' start bit and followed by\
    \ a '1' stop bit.\n   The combination of the synchronization pattern and V.21\
    \ channel\n   uniquely identifies the message type.  The CJ signal consists of\n\
    \   three successive octets of all zeros with stop and start bits but\n   without\
    \ the preceding '1's and synchronizing pattern of the other\n   signals.\n   Applications\
    \ MAY report each instance of a CM, JM, and CJ signal,\n   respectively, as a\
    \ series of V.21 bit events (Section 2.2), or may\n   use another payload type\
    \ to carry this information.  Applications\n   supporting V.8 signalling using\
    \ the telephone-event payload MAY\n   report the synchronization part of the CI\
    \ signal (ten '1's followed\n   by '00000 00001') both as a series of V.21 bit\
    \ events and, when it\n   has been recognized, as a single CI event.\n      Note\
    \ that the CI event covers only the synchronization part of the\n      CI signal.\
    \  The remaining call function octet and its start and\n      stop bits need to\
    \ be transmitted also, either as a series of V.21\n      bit events or in some\
    \ other payload format.  Presumably, the\n      calling end gateway will use the\
    \ same format for the CM and CJ\n      signals.\n   The overlapping nature of\
    \ V.8 signalling means that there is no risk\n   of silence exceeding 100 ms once\
    \ ANSam has disabled any echo control\n   circuitry.  However, the 75-ms pause\
    \ before entering operation in the\n   selected data mode will require both the\
    \ calling and the answering\n   gateways to recognize the completion of CJ, so\
    \ they can change from\n   playout of telephone-event to playout of the data-bearing\
    \ payload\n   after the 75-ms period.\n      +--------+----------------------+------------+------+---------+\n\
    \      | Event  |       Frequency (Hz) | Event Code | Type | Volume? |\n     \
    \ +--------+----------------------+------------+------+---------+\n      | ANSam\
    \  |            2100 x 15 |         34 | tone |     yes |\n      |        |  \
    \                    |            |      |         |\n      | /ANSam | 2100 x\
    \ 15 phase rev. |         35 | tone |     yes |\n      |        |            \
    \          |            |      |         |\n      | CI     |          (V.21 bits)\
    \ |         53 | tone |     yes |\n      +--------+----------------------+------------+------+---------+\n\
    \                      Table 3: Events for V.8 Signals\n   ANSam:\n      The modified\
    \ answer tone ANSam consists of a sinewave signal at\n      2100 Hz, amplitude-modulated\
    \ by a sine wave at 15 Hz.  The\n      beginning of the event is at the beginning\
    \ of the tone.  The end\n      of the event is at the sooner of the ending of\
    \ the tone or the\n      occurrence of a phase reversal (marking the beginning\
    \ of a /ANSam\n      event).  Phase reversals are used to disable echo cancellation;\
    \ if\n      they are being applied, they occur at 450-ms intervals.\n      An\
    \ ANSam event packet SHOULD NOT be sent until it is possible to\n      discriminate\
    \ between an ANSam event and an ANS event (see V.25\n      events, below).\n \
    \     The modulated envelope for the ANSam tone ranges in amplitude\n      between\
    \ 0.8 and 1.2 times its average amplitude.  The average\n      transmitted power\
    \ is governed by national regulations.  Thus, it\n      makes sense to indicate\
    \ the volume of the signal.\n   /ANSam:\n      /ANSam reports the same physical\
    \ signal as ANSam, but is reported\n      following the first phase reversal in\
    \ that signal.  It begins with\n      the phase reversal and ends at the end of\
    \ the tone.  The receiver\n      of /ANSam MUST reverse the phase of the tone\
    \ at the beginning of\n      playout of /ANSam and every 450 ms thereafter until\
    \ the end of the\n      tone is reached.\n   CI:\n      CI reports the occurrence\
    \ of the V.21 bit pattern '11111 11111\n      00000 00001' indicating the beginning\
    \ of a V.8 CI signal.  The\n      event begins at the beginning of the first bit\
    \ and ends at the end\n      of the last one.  This event MUST NOT be reported\
    \ except in a\n      context where a V.8 CI signal might be expected (i.e., at\
    \ the\n      calling end during call setup).  Note that if the calling modem\n\
    \      sends the CI signal at all, it will typically repeat the signal\n     \
    \ several times.\n      It is expected that the CI event will be most useful when\
    \ the\n      modem content is being transmitted primarily using another payload\n\
    \      type.  The event acts as a commentary on that content, allowing\n     \
    \ the receiver to recognize that V.8 signalling is in progress.\n"
- title: 2.3.1.  Handling of Congestion
  contents:
  - "2.3.1.  Handling of Congestion\n   The tolerances built into V.8 suggest that\
    \ it may be mostly robust in\n   the face of packet losses or delays.  Playout\
    \ of ANSam and /ANSam can\n   be extended for multiple packetization periods without\
    \ harm, provided\n   that phase reversals occur on schedule at 450-ms intervals\
    \ during\n   playout of the latter.\n   To increase robustness of transmission\
    \ of the V.21-based signals,\n   sending applications using the V.21 events SHOULD\
    \ include an integral\n   number of octets, including start and stop bits, in\
    \ each packet.  The\n   presence of start and stop bits provides some hope that\
    \ receiving\n   implementations can withstand unavoidable gaps in playout between\n\
    \   octets.  When a message is being repeated (as is possible for CI, CM,\n  \
    \ and JM), an even stronger robustness measure would be for the\n   receiver to\
    \ retain a copy of the message when it is first received,\n   and when a packet\
    \ is delayed or lost to continue playing out the\n   current message instance\
    \ and commence a new repetition as if packets\n   had continued to arrive on schedule.\n"
- title: 2.4.  V.25 Events
  contents:
  - "2.4.  V.25 Events\n   V.25 [13] is a start-up protocol predating V.8 [9] and\
    \ V.8 bis [10].\n   It specifies the exchange of two tone signals: CT and ANS.\n\
    \   CT (calling tone) consists of a series of interrupted bursts of\n   1300-Hz\
    \ tone, on for a duration of not less than 0.5 s and not more\n   than 0.7 s and\
    \ off for a duration of not less than 1.5 s and not more\n   than 2.0 s. [13].\
    \  Modems not starting with the V.8 CI signal often\n   use this tone.\n   ANS\
    \ (Answer tone) is a 2100-Hz tone used to disable echo suppression\n   for data\
    \ transmission [13], [8].  For fax machines, Recommendation\n   T.30 [8] refers\
    \ to this tone as called terminal identification (CED)\n   answer tone.  ANS differs\
    \ from V.8 ANSam in that, unlike the latter,\n   it has constant amplitude.\n\
    \   V.25 specifically includes procedures for disabling echo suppressors\n   as\
    \ defined by ITU-T Rec. G.164 [6].  However, G.164 echo suppressors\n   have now\
    \ for the most part been replaced by G.165 [7] echo\n   cancellers, which require\
    \ phase reversals in the disabling tone (see\n   ANSam above).  As a result, Recommendation\
    \ V.25 was modified in July\n   2001 to say that phase reversal in the ANS tone\
    \ is required if echo\n   cancellers are to be disabled.\n   One possible V.25\
    \ sequence is as follows:\n   1.  The calling terminal starts generating CT as\
    \ soon as the call is\n       connected.\n   2.  The called terminal waits in\
    \ silence for 1.8 to 2.5 s after\n       answer, then begins to transmit ANS continuously.\
    \  If echo\n       cancellers are on the line, the phase of the ANS signal is\n\
    \       reversed every 450 ms.  ANS will not reach the calling terminal\n    \
    \   until the echo control equipment has been disabled.  Since this\n       takes\
    \ about a second, it can only happen in the gap between one\n       burst of CT\
    \ and the next.\n   3.  Following detection of ANS, the calling terminal may stop\n\
    \       generating CT immediately or wait until the end of the current\n     \
    \  burst to stop.  In any event, it must wait at least 400 ms (at\n       least\
    \ 1 s if phase reversal of ANS is being used to disable echo\n       cancellers)\
    \ after stopping CT before it can generate the calling\n       station response\
    \ tone.  This tone is modem-specific, not\n       specified in V.25.\n   4.  The\
    \ called terminal plays out ANS for 2.6 to 4.0 seconds or until\n       it has\
    \ detected calling station response for 100 ms.  It waits\n       55-95 ms (nominal\
    \ 75 ms) in silence.  (Note that the upper limit\n       of 95 ms is rather close\
    \ to the point at which echo control may\n       reestablish itself.)  If the\
    \ reason for ANS termination was\n       timeout rather than detection of calling\
    \ station response, the\n       called terminal begins to play out ANS again to\
    \ maintain\n       disabling of echo control until the calling station responds.\n\
    \   The events defined for V.25 signalling are shown in Table 4.\n   +-------------------+----------------+------------+------+---------+\n\
    \   | Event             | Frequency (Hz) | Event Code | Type | Volume? |\n   +-------------------+----------------+------------+------+---------+\n\
    \   | Answer tone (ANS) | 2100           |         32 | tone |     yes |\n   |\
    \                   |                |            |      |         |\n   | /ANS\
    \              | 2100 ph. rev.  |         33 | tone |     yes |\n   |        \
    \           |                |            |      |         |\n   | CT        \
    \        | 1300           |         49 | tone |     yes |\n   +-------------------+----------------+------------+------+---------+\n\
    \                     Table 4: Events for V.25 Signals\n   ANS:\n      The beginning\
    \ of the event is at the beginning of the 2100-Hz\n      tone.  The end of the\
    \ event is at the sooner of the ending of the\n      tone or the occurrence of\
    \ a phase reversal (marking the beginning\n      of a /ANS event).\n      An initial\
    \ ANS event packet SHOULD NOT be sent until it is\n      possible to discriminate\
    \ between an ANS event and an ANSam event\n      (see V.8 events, above).\n  \
    \ /ANS:\n      /ANS reports the same physical signal as ANS, but is reported\n\
    \      following the first phase reversal in that signal.  It begins with\n  \
    \    the phase reversal and ends at the end of the tone.  The receiver\n     \
    \ of /ANS MUST reverse the phase of the tone at the beginning of\n      playout\
    \ of /ANS and every 450 ms thereafter until the end of the\n      tone is reached.\n\
    \   CT:\n      The beginning of the CT event is at the beginning of an individual\n\
    \      burst of the 1300-Hz tone.  The end of the event is at the end of\n   \
    \   that tone burst.  The gateway at the calling end SHOULD use a\n      packetization\
    \ interval smaller than the nominal duration of a CT\n      burst, to ensure that\
    \ CT playout at the called end precedes the\n      sending of ANS from that end.\n"
- title: 2.4.1.  Handling of Congestion
  contents:
  - "2.4.1.  Handling of Congestion\n   The V.25 sequence appears to be robust in\
    \ the face of lost or delayed\n   packets, provided that the receiver continues\
    \ to play out any tone it\n   is in the process of playing until more packets\
    \ are received.  The\n   receiver must play out the phase transitions for /ANS\
    \ on schedule, at\n   450-ms intervals, even if updates of the /ANS event have\
    \ been\n   delayed.  It also appears to be possible for the sender to\n   temporarily\
    \ increase the packetization interval to reduce packet\n   volumes when congestion\
    \ is encountered.  The one risk is that\n   extended playout proceeds past the\
    \ actual end of the tone (as\n   determined retroactively), and the receiver is\
    \ forced to continue\n   imposing an additional playout buffering lag in order\
    \ to meet the\n   constraint on maximum duration of the nominal 75-ms silent period\n\
    \   following tone playout.\n"
- title: 2.5.  V.32/V.32bis Events
  contents:
  - "2.5.  V.32/V.32bis Events\n   ITU-T Recommendation V.32 [14] is a modem using\
    \ phase-shift keying\n   with quadrature amplitude modification.  It operates\
    \ on a carrier at\n   1800 Hz, modulated at 2400 symbols/s.  The basic data rates\
    \ for V.32\n   are 4800 and 9600 bits/s.  V.32bis [15] extends the data rates\
    \ up to\n   14,400 bits/s.  Most or all existing deployments are V.32bis,\n  \
    \ typically in support of point-of-sale terminals and the like.\n   One reason\
    \ V.32bis is still used is because of its relatively rapid\n   start-up sequence,\
    \ particularly on leased lines.  Operating over the\n   public telephone network,\
    \ the start-up begins as follows:\n   a.  the answering end begins with the V.25\
    \ answering procedure (1.8\n       to 2.5 s of silence followed by continuous\
    \ ANS tone to a maximum\n       of 3.3 s, with possible phase reversals to disable\
    \ echo\n       cancelling equipment);\n   b.  the calling end waits in silence\
    \ until it has detected ANS for\n       1 s;\n   c.  the calling end begins to\
    \ transmit a V.32/V.32bis pattern\n       designated AA, i.e., a series of '0000'\
    \ bit sequences transmitted\n       at 4800 bits/s;\n   d.  upon detecting the\
    \ AA pattern for at least 100 ms, the called\n       modem is silent for 75 +/-\
    \ 20 ms, then responds with an AC\n       pattern, which is a series of '0011'\
    \ bit sequences transmitted at\n       4800 bits/s.\n   The difference in leased\
    \ line operation is that the calling modem\n   starts the session by sending AA.\
    \  After that, the called modem\n   responds with AC, and the rest of the sequence\
    \ is unchanged.\n   In support of V.32/V.32bis operation, Table 5 defines two\
    \ events,\n   V32AA and V32AC.\n    +----------------+------------------+------------+------+---------+\n\
    \    | Event          | Bit Pattern      | Event Code | Type | Volume? |\n   \
    \ +----------------+------------------+------------+------+---------+\n    | V32AA\
    \          | b'0000' repeated |         63 | tone |     yes |\n    |         \
    \       |                  |            |      |         |\n    | V32AC      \
    \    | b'0011' repeated |         27 | tone |     yes |\n    +----------------+------------------+------------+------+---------+\n\
    \                 Table 5: Events for V.32/V.32bis Signals\n   V32AA:\n      Indicates\
    \ that the AA calling pattern of a V.32/V.32bis terminal\n      has been detected.\n\
    \   V32AC:\n      Indicates that the AC answering pattern of a V.32/V.32bis terminal\n\
    \      has been detected.\n   Each of these two events begins at the beginning\
    \ of its pattern, and\n   ends nominally when the pattern stops being received.\
    \  Following the\n   sending of either of these events the session may continue\
    \ using\n   V.150.1 modem relay [32] or Clearmode [17] as negotiated or\n   configured\
    \ in advance.  To help make the transition as quickly as\n   possible, the V32AA\
    \ or V32AC event SHOULD be reported as soon as the\n   corresponding pattern is\
    \ detected.  It seems likely that the\n   implementation will be transmitting\
    \ the event reports simultaneously\n   with the same data in an alternate form,\
    \ typically using RFC 2198 [2]\n   redundancy.\n"
- title: 2.5.1.  Handling of Congestion
  contents:
  - "2.5.1.  Handling of Congestion\n   The primary issue raised by congestion is\
    \ the loss or undue delay of\n   the initial report.  Once the receiver is aware\
    \ that an AA or AC\n   pattern has been detected, further reports are of no interest.\
    \  The\n   actual duration of the AC pattern may be as short as 27 ms.  On this\n\
    \   basis, the appropriate sender behavior may be to send at least three\n   packets\
    \ reporting the event using normal event updates and end of\n   event retransmission\
    \ behavior and a fairly short packetization\n   interval (20-30 ms).\n"
- title: 2.6.  T.30 Events
  contents:
  - "2.6.  T.30 Events\n   ITU-T Recommendation T.30 [8] defines the procedures used\
    \ by Group\n   III fax terminals.  The pre-message procedures for which the events\n\
    \   of this section are defined are used to identify terminal\n   capabilities\
    \ at each end and negotiate operating mode.  Post-message\n   procedures are also\
    \ included, to handle cases such as multiple\n   document transmission.  Fax terminals\
    \ support a wide variety of\n   protocol stacks, so T.30 has a number of options\
    \ for control\n   protocols and sequences.\n   T.30 defines two tone signals used\
    \ at the beginning of a call.  The\n   CNG signal is sent by the calling terminal.\
    \  It is a pure 1100-Hz\n   tone played in bursts: 0.5 s on, 3 s off.  It continues\
    \ until timeout\n   or until the calling terminal detects a response.  Its primary\n\
    \   purpose is to let human operators at the called end know that a fax\n   terminal\
    \ has been activated at the calling end.\n   The called terminal waits in silence\
    \ for at least 200 ms.  It then\n   may return CED tone (which is physically identical\
    \ to V.25 ANS), or\n   else V.8 ANSam if it has V.8 capability.  If called and\
    \ calling\n   terminals both support V.8, the called terminal will detect CI or\n\
    \   more likely CM in response to its ANSam and will continue with V.8\n   negotiation.\
    \  Otherwise, the called terminal stops transmitting CED\n   after 2.6 to 4 seconds,\
    \ waits 75 +/- 20 ms in silence, then enters\n   the T.30 negotiation phase.\n\
    \   In the T.30 negotiation phase the terminals exchange binary messages\n   using\
    \ V.21 signals, high channel frequencies only, at 300 bits/s.\n   Each message\
    \ is preceded by a one-second (nominal) preamble\n   consisting entirely of HDLC\
    \ flag octets (0x7E).  This flag has the\n   function of preparing echo control\
    \ equipment for the message that\n   follows.\n   The pre-transfer messages exchanged\
    \ using the V.21 coding are:\n   Digital Identification Signal (DIS):\n      Characterizes\
    \ the standard ITU-T capabilities of the called\n      terminal.  This is always\
    \ the first message sent.\n   Digital Transmit Command (DTC):\n      A possible\
    \ response to the DIS signal by the calling terminal.  It\n      requests the\
    \ called terminal to be the transmitter of the fax\n      content.\n   Digital\
    \ Command Signal (DCS):\n      A command message sent by the transmitting terminal\
    \ to indicate\n      the options to be used in the transmission and request that\
    \ the\n      other end prepare to receive fax content.  This is sent by the\n\
    \      calling end if it will transmit, or by the called end in response\n   \
    \   to a DTC from the calling end.  It is followed by a training\n      signal,\
    \ also sent by the transmitting terminal.\n   Confirmation To Receive (CFR):\n\
    \      A digital response confirming that the entire pre-message\n      procedure\
    \ including training has been completed and the message\n      transmissions may\
    \ commence.\n   Each message may consist of multiple frames bounded by HDLC flags.\n\
    \   The messages are organized as a series of octets, but like V.8 bis,\n   T.30\
    \ calls for the insertion of extra '0' bits to prevent spurious\n   recognition\
    \ of HDLC flags.\n   T.30 also provides for the transmission of control messages\
    \ after\n   document transmission has completed (e.g., to support transmission\
    \ of\n   multiple documents).  The transition to and from the modem used for\n\
    \   document transmission (V.17 [24], V.27ter [26], V.29 [27], V.34 [28])\n  \
    \ is preceded by 75 ms (nominal) of silence).\n   Applications supporting T.30\
    \ signalling using the telephone-event\n   payload MAY report the preamble preceding\
    \ each message both as a\n   series of V.21 bit events and, when it has been recognized,\
    \ as a\n   single V.21 preamble event.  The T.30 control message following the\n\
    \   preamble MAY be reported in the form of a sequence of V.21 bit events\n  \
    \ or using some other payload type.  If transmitted as bit events, the\n   transmitted\
    \ information MUST include the complete contents of the\n   message: the initial\
    \ HDLC flags, the information field, the checksum,\n   the terminating HDLC flags,\
    \ and the extra '0' bits added to prevent\n   false recognition of HDLC flags\
    \ at the receiver.  Implementers should\n   note that these extra '0' bits mean\
    \ that in general T.30 messages as\n   transmitted on the wire will not come out\
    \ to an even multiple of\n   octets.\n   The training signal sent by the transmitting\
    \ terminal after DCS\n   consists of a steady string of V.21 high channel zeros\
    \ (1850-Hz tone)\n   for 1.5 s.  Since the bit rate (nominally 300 bits/s) should\
    \ have\n   been clearly established when processing the preceding signalling,\
    \ it\n   is natural that if the telephony-event payload type is being used,\n\
    \   this training signal will also be sent as a series of V.21 bit events\n  \
    \ at that bit rate.  However, if the sending gateway is capable of\n   recognizing\
    \ the transition from the end of the DCS to the start of\n   training, it MAY\
    \ report the training signal as a single extended V.21\n   (high channel) '0'\
    \ event.\n   The events defined for T.30 signalling are shown in Table 6.  The\
    \ CED\n   and /CED events represent exactly the same tone signals as V.25 ANS\n\
    \   and /ANS, and are given the same codepoints; they are reproduced here\n  \
    \ only for convenience.\n   +--------------------+----------------+------------+------+---------+\n\
    \   | Event              | Frequency (Hz) | Event Code | Type | Volume? |\n  \
    \ +--------------------+----------------+------------+------+---------+\n   |\
    \ CED (Called tone)  | 2100           |         32 | tone |     yes |\n   |  \
    \                  |                |            |      |         |\n   | /CED\
    \               | 2100 ph. rev.  |         33 | tone |     yes |\n   |       \
    \             |                |            |      |         |\n   | CNG (Calling\
    \ tone) | 1100           |         36 | tone |     yes |\n   |               \
    \     |                |            |      |         |\n   | V.21 preamble flag\
    \ | (V.21 bits)    |         54 | tone |     yes |\n   +--------------------+----------------+------------+------+---------+\n\
    \                     Table 6: Events for T.30 Signals\n   CED:\n      The beginning\
    \ of the event is at the beginning of the 2100-Hz\n      tone.  The end of the\
    \ event is at the sooner of the ending of the\n      tone or the occurrence of\
    \ a phase reversal (marking the beginning\n      of a /CED event).\n      An initial\
    \ CED event packet SHOULD NOT be sent until it is\n      possible to discriminate\
    \ between a CED event and an ANSam event\n      (see V.8 events, above).\n   /CED:\n\
    \      /CED reports the same physical signal as CED, but is reported\n      following\
    \ the first phase reversal in that signal.  It begins with\n      the phase reversal\
    \ and ends at the end of the tone.  The receiver\n      of /CED MUST reverse the\
    \ phase of the tone at the beginning of\n      playout of /CED and every 450 ms\
    \ thereafter until the end of the\n      tone is reached.\n   CNG:\n      The\
    \ beginning of the CNG event is at the beginning of an\n      individual burst\
    \ of the 1100-Hz tone.  The end of the event is at\n      the end of that tone\
    \ burst.\n   V.21 preamble flag:\n      This event begins with the first V.21\
    \ bits transmitted after a\n      period of silence.  It ends when a pattern of\
    \ V.21 bits other than\n      an HDLC flag is observed.  This means that the V.21\
    \ preamble event\n      absorbs the initial HDLC flags of the following message.\n\
    \      It is expected that the V.21 preamble flag event will be most\n      useful\
    \ when the modem content is being transmitted primarily using\n      another payload\
    \ type.  The event acts as a commentary on that\n      content, allowing the receiver\
    \ to prepare itself to transition to\n      fax mode.\n"
- title: 2.6.1.  Handling of Congestion
  contents:
  - "2.6.1.  Handling of Congestion\n   T.30 appears to be an intermediate case in\
    \ terms of its vulnerability\n   to congestion.  Tone playout in the face of packet\
    \ delay or loss is\n   subject to the same considerations as for V.25 (see Section\
    \ 2.4.1).\n   Similarly, the receiver may extend playout of the preamble event\n\
    \   while waiting for further reports.  However, gaps or extended playout\n  \
    \ of the V.21 sequences are not feasible.  This means, as with V.8 bis,\n   that\
    \ the receiver must manage its playout buffer appropriately to\n   increase robustness\
    \ in the face of congestion.\n"
- title: 2.7.  Events for Text Telephony
  contents:
  - '2.7.  Events for Text Telephony

    '
- title: 2.7.1.  Signal Format Indicators for Text Telephony
  contents:
  - "2.7.1.  Signal Format Indicators for Text Telephony\n   Legacy text telephony\
    \ uses a wide variety of terminals, with\n   different standards favored in different\
    \ parts of the world.  Going\n   forward, the vision is that new terminals will\
    \ work directly into the\n   packet network and be based on RFC 4103 [18] packetization\
    \ of\n   character data.  In anticipation of this migration, it is RECOMMENDED\n\
    \   that text carried in the PSTN by legacy modem protocols be converted\n   to\
    \ RFC 4103 packets at the sending gateway.\n   During a transitional period, however,\
    \ gateways of a lesser\n   capability may be able to recognize the nature of incoming\
    \ content,\n   but may only be able to encode it as voice-band data on the packet\n\
    \   side.  In such circumstances, it will help to optimize processing of\n   the\
    \ signal at the receiving end if that end receives an indication of\n   the nature\
    \ of the voice-encoded data signals.  The events defined in\n   this section provide\
    \ such indications, and MAY be used in conjunction\n   with ITU-T Recommendation\
    \ V.152 [33], as one example, to carry the\n   content as voice-band data.\n \
    \  Implementers should take note of an additional class of text\n   terminals\
    \ not considered in the events below.  These terminals use\n   dual tone multi-frequency\
    \ (DTMF) tones to encode and exchange\n   signals.  This application is described\
    \ in RFC 4733 [5], Section 3.1,\n   in conjunction with the registration of DTMF\
    \ events.\n   The events shown in Table 7 correspond to signals coming from the\n\
    \   following modem types:\n   o  Baudot [34], a five bit character encoding nominally\
    \ operating at\n      45.45 or 50 bits/s with frequencies 1800 Hz = '0', 1400\
    \ Hz = '1';\n   o  EDT, which is V.21 [12] operating at 110 bits/s in half-duplex\n\
    \      mode (lower channel only); characters are 7-bit IA5 plus initial\n    \
    \  start bit, trailing parity bit, and two stop bits;\n   o  Bell 103 mode (documented\
    \ in Recommendation V.18 Annex D), which\n      is structurally similar to V.21,\
    \ but uses different frequencies:\n      lower channel, 1070 Hz = '0', 1270 Hz\
    \ = '1'; upper channel, 2025\n      Hz = '0', 2225 Hz = '1'; characters are US\
    \ ASCII framed by one\n      start bit, one trailing parity bit, and one stop\
    \ bit;\n   o  V.23 [25] based videotex, in Minitel and Prestel versions.  V.23\n\
    \      offers a forward channel operating at 1200 bits/s if possible\n      (2100\
    \ Hz = '0', 1300 Hz = '1') or otherwise at 600 bits/s (1700 Hz\n      = '0', 1300\
    \ Hz = '1'), and a 75 bits/s backward channel, which is\n      transmitting 390\
    \ Hz (continuous '1's) except when '0' is to be\n      transmitted (450 Hz);\n\
    \   o  a non-V.18 text terminal using V.21 [12] at 300 bits/s.\n      Characters\
    \ are 7-bit national (e.g., US ASCII) with a start bit,\n      parity, and one\
    \ stop bit.\n   +----------+-----------+----------------+---------+-------+---------+\n\
    \   | Event    | Bit Rate  | Frequency (Hz) |   Event |  Type | Volume? |\n  \
    \ |          | bits/s    |                |    Code |       |         |\n   +----------+-----------+----------------+---------+-------+---------+\n\
    \   | ANS2225  | N/A       | 2225           |      52 |  tone |     yes |\n  \
    \ |          |           |                |         |       |         |\n   |\
    \ V21L110  | 110       | 980/1180       |      55 | other |      no |\n   |  \
    \        |           |                |         |       |         |\n   | V21L300\
    \  | 300       | 980/1180       |      30 | other |      no |\n   |          |\
    \           |                |         |       |         |\n   | V21H300  | 300\
    \       | 1650/1850      |      31 | other |      no |\n   |          |      \
    \     |                |         |       |         |\n   | B103L300 | 300    \
    \   | 1070/1270      |      56 | other |      no |\n   |          |          \
    \ |                |         |       |         |\n   | V23Main  | 600/1200  |\
    \ 1700-2100/1300 |      57 | other |      no |\n   |          |           |  \
    \              |         |       |         |\n   | V23Back  | 75        | 450/390\
    \        |      58 | other |      no |\n   |          |           |          \
    \      |         |       |         |\n   | Baud4545 | 45.45     | 1800/1400  \
    \    |      59 | other |      no |\n   |          |           |              \
    \  |         |       |         |\n   | Baud50   | 50        | 1800/1400      |\
    \      60 | other |      no |\n   |          |           |                |  \
    \       |       |         |\n   | XCIMark  | 1200      | 2100/1300      |    \
    \  62 |  tone |     yes |\n   +----------+-----------+----------------+---------+-------+---------+\n\
    \                  Table 7: Indicators for Text Telephony\n   ANS2225:\n     \
    \ indicates that a 2225-Hz answer tone has been detected.  This is a\n      pure\
    \ tone with no amplitude modulation and no semantics attached\n      to phase\
    \ reversals, if there are any.  The sender SHOULD report\n      the beginning\
    \ of the event when the tone is detected.  The sender\n      MAY send updates\
    \ as the tone continues, and MUST report the end of\n      the event when the\
    \ tone ceases.  The tone concerned is generated\n      by a Bell 103-type modem\
    \ in answer mode.  This event MUST NOT be\n      reported outside of the startup\
    \ context (i.e., on the answering\n      side at the beginning of a call).\n \
    \  V21L110:\n      indicates that the sender has detected V.21 modulation operating\n\
    \      in the lower channel at 110 bits/s.  Note that it may take some\n     \
    \ time to distinguish between 300 bits/s and 110 bits/s operation.\n      It is\
    \ expected that implementations will not transmit both this\n      event and individual\
    \ V.21 bit events for the same content.\n   V21L300:\n      indicates that the\
    \ sender has detected V.21 modulation operating\n      in the lower channel at\
    \ 300 bits/s.  Note that it may take some\n      time to distinguish between 300\
    \ bits/s and 110 bits/s operation.\n      It is expected that implementations\
    \ will not transmit both this\n      event and individual V.21 bit events for\
    \ the same content.\n   V21H300:\n      indicates that the sender has detected\
    \ V.21 modulation operating\n      in the upper channel at 300 bits/s.  It is\
    \ expected that\n      implementations will not transmit both this event and individual\n\
    \      V.21 bit events for the same content.\n   B103L300:\n      indicates that\
    \ the sending device has detected Bell 103 class\n      modulation operating in\
    \ the low channel at 300 bits/s.\n   V23Main:\n      indicates that the sending\
    \ device has detected V.23 modulation\n      operating in the high-speed channel.\
    \  As described below, this\n      indicator may alternate with the XCIMark indication.\n\
    \   V23Back:\n      indicates that the sending device has detected V.23 modulation\n\
    \      operating in the 75 bit/s back-channel.\n   Baud4545:\n      indicates\
    \ that the sending device has detected Baudot modulation\n      operating at 45.45\
    \ bits/s.\n   Baud50:\n      indicates that the sending device has detected Baudot\
    \ modulation\n      operating at 50 bits/s.\n   XCIMark:\n      Indicates that\
    \ the sending device has detected the specific bit\n      pattern (0) 1111 1111(1)(0)1111\
    \ 1111(1) sent at 1200 bits/s using\n      V.23 upper-channel modulation, following\
    \ a period of V.23 main\n      channel \"mark\" (1300 Hz).\n   It is assumed in\
    \ all cases that the event reports described here are\n   being transmitted in\
    \ addition to another media encoding, typically\n   G.711 [19] voice-band data,\
    \ reporting the same information.  A\n   natural method to do this is to combine\
    \ the voice-band data with\n   event reports in an RFC 2198 [2] redundancy payload.\n\
    \   The handling of ANS2225 has been indicated above.  Since it is a\n   specific\
    \ tone, it can be handled like any other tone event.\n   For all of the other\
    \ indicators, the sender SHOULD generate an\n   initial event report as soon as\
    \ the nature of the audio content has\n   been recognized.  For reliability, the\
    \ initial event report SHOULD be\n   retransmitted twice at short intervals. (20\
    \ ms is a suggested value,\n   although the packetization period of the associated\
    \ media may be\n   sufficient.)  The sender MAY continue to send additional reports\
    \ of\n   the same indicator event, although these have little value once the\n\
    \   receiver has adjusted itself to the type of content it is receiving.\n   If\
    \ the nature of the content changes (e.g., because it is coming from\n   a V.18\
    \ terminal in the probing stage), the sender MUST send an event\n   report for\
    \ the new content type as soon as it is recognized.  If the\n   sender has been\
    \ sending updates for the previous indicator, it SHOULD\n   report the end of\
    \ that previous indicator event along with the\n   beginning of the new one.\n"
- title: 2.7.1.1.  Handling of Congestion
  contents:
  - "2.7.1.1.  Handling of Congestion\n   In the face of packet loss or delay, it\
    \ is appropriate for the\n   receiver to continue to play out the ANS2225 event\
    \ until further\n   packets are received.  For the other events, the issue is\
    \ loss of the\n   initial event report rather than maintenance of playout continuity.\n\
    \   The advice on retransmission of these other events already given\n   above\
    \ is sufficient to deal with packet loss or delay due to\n   congestion.\n"
- title: 2.7.2.  Use of Events with V.18 Modems
  contents:
  - "2.7.2.  Use of Events with V.18 Modems\n   ITU-T Recommendation V.18 [11] defines\
    \ a terminal for text\n   conversation, possibly in combination with voice.  V.18\
    \ is intended\n   to interoperate with a variety of legacy text terminals, so\
    \ its\n   start-up sequence can consist of a series of stimuli designed to\n \
    \  determine what is at the other end.  Two V.18 terminals talking to\n   each\
    \ other will use V.8 to negotiate startup and continue at the\n   physical level\
    \ with V.21 at 300 bits/s carrying 7-bit characters\n   bounded by start and stop\
    \ bits.\n   The V.18 terminal is also designed to interoperate with the text\n\
    \   modems listed in the previous sub-section.  The startup sequences for\n  \
    \ all these different terminal types are naturally quite different.\n   The V.18\
    \ initial startup sequence specifically addresses itself to\n   V.8-capable terminals\
    \ and V.21 terminals and, by the combination of\n   signals, to V.23 videotex\
    \ terminals.  During the initial startup\n   sequence, the V.18 terminal listens\
    \ for frequency responses\n   characterizing the other terminal types.  If it\
    \ does not make contact\n   in the preliminary step, it probes for each type specifically.\
    \  By\n   the nature of the application, V.18 has been designed to provide an\n\
    \   extremely robust startup capability.\n   The handling of the V.18 XCI signal\
    \ is a specific case of the\n   procedures described in the previous section.\
    \  XCI is a signal\n   transmitted in high-band V.23 modulation to stimulate V.23\
    \ terminals\n   to respond and to allow detection of V.18 capabilities in a DCE.\
    \  The\n   3-second XCI signal uses the V.23 upper channel having periods of\n\
    \   \"mark\" (i.e., 1300 Hz) alternating with the XCIMark pattern.  The\n   full\
    \ definition is found in V.18, Section 3.13.  The sender SHOULD\n   indicate V23Main\
    \ during the transmission of the \"mark\" portion of\n   XCI, and change the indication\
    \ to XCIMark when that pattern is\n   detected.\n"
- title: 2.8.  A Generic Indicator
  contents:
  - "2.8.  A Generic Indicator\n   Numerous proprietary modem protocols exist, as\
    \ well as standardized\n   protocols not identified above.  Table 8 defines a\
    \ single indicator\n   event that may be used to identify modem content when a\
    \ more specific\n   event is unavailable.  Typically, this would be sent in combination\n\
    \   with another payload type, for example, voice-band data as specified\n   by\
    \ ITU-T Recommendation V.152 [33].\n   As with the indicators in the previous\
    \ section, the sender SHOULD\n   generate an initial event report as soon as the\
    \ nature of the audio\n   content has been recognized.  For reliability, the initial\
    \ event\n   report SHOULD be retransmitted twice at short intervals. (20 ms is\
    \ a\n   suggested value, although the packetization period of the associated\n\
    \   media may be sufficient.)  The sender MAY continue to send additional\n  \
    \ reports of the VBDGen event, although these have little value once\n   the receiver\
    \ has adjusted itself to the type of content it is\n   receiving.\n   +--------+---------------+------------+-----------+-------+---------+\n\
    \   | Event  | Bit Rate      | Frequency  |     Event |  Type | Volume? |\n  \
    \ |        | bits/s        | (Hz)       |      Code |       |         |\n   +--------+---------------+------------+-----------+-------+---------+\n\
    \   | VBDGen | Variable      | Variable   |        61 | other |      no |\n  \
    \ +--------+---------------+------------+-----------+-------+---------+\n    \
    \              Table 8: Generic Modem Signal Indicator\n   VBDGen:\n      indicates\
    \ that the sender has detected tone patterns indicating\n      the operation of\
    \ some form of modem.  This indicator SHOULD NOT be\n      sent if a more specific\
    \ event is available.\n"
- title: 3.  Strategies for Handling Fax and Modem Signals
  contents:
  - "3.  Strategies for Handling Fax and Modem Signals\n   As described in Section\
    \ 1.2, the typical data application involves a\n   pair of gateways interposed\
    \ between two terminals, where the\n   terminals are in the PSTN.  The gateways\
    \ are likely to be serving a\n   mixture of voice and data traffic, and need to\
    \ adopt payload types\n   appropriate to the media flows as they occur.  If voice\
    \ compression\n   is in use for voice calls, this means that the gateways need\
    \ the\n   flexibility to switch to other payload types when data streams are\n\
    \   recognized.\n   Within the established IETF framework, this implies that the\
    \ gateways\n   must negotiate the potential payloads (voice, telephone-event,\
    \ tones,\n   voice-band data, T.38 fax [21], and possibly RFC 4103 [18] text and\n\
    \   Clearmode [17] octet streams) as separate payload types.  From a\n   timing\
    \ point of view, this is most easily done at the beginning of a\n   call, but\
    \ results in an over-allocation of resources at the gateways\n   and in the intervening\
    \ network.\n   One alternative is to use named events to buy time while out-of-band\n\
    \   signals are exchanged to update to the new payload type applicable to\n  \
    \ the session.  Thanks to the events defined in this document, this is\n   a viable\
    \ approach for sessions beginning with V.8, V.8 bis, T.30, or\n   V.25 control\
    \ sequences.\n   Named data-related events also allow gateways to optimize their\n\
    \   operation when data signals are received in a relatively general\n   form.\
    \  One example is the use of V.8-related events to deduce that\n   the voice-band\
    \ data being sent in a G.711 payload comes from a\n   higher-speed modem and therefore\
    \ requires disabling of echo\n   cancellers.\n   All of the control procedures\
    \ described in the sub-sections of\n   Section 2 eventually give way to data content.\
    \  As mentioned above,\n   this content will be carried by other payload types.\
    \  Receiving\n   gateways MUST be prepared to switch to the other payload type\
    \ within\n   the time constraints associated with the respective applications.\n\
    \   (For several of the procedures documented above, the sender provides\n   75\
    \ ms of silence between the initial control signalling and the\n   sending of\
    \ data content.)  In some cases (V.8 bis [10], T.30 [8]),\n   further control\
    \ signalling may happen after the call has been\n   established.\n   A possible\
    \ strategy is to send both the telephone-event and the data\n   payload in an\
    \ RFC 2198 [2] redundancy arrangement.  The receiving\n   gateway then propagates\
    \ the data payload whenever no event is in\n   progress.  For this to work, the\
    \ data payload and events (when\n   present) MUST cover exactly the same content\
    \ over the same time\n   period; otherwise, spurious events will be detected downstream.\
    \  An\n   example of this mode of operation is shown below.\n   Note that there\
    \ are a number of cases where no control sequence will\n   precede the data content.\
    \  This is true, for example, for a number of\n   legacy text terminal types.\
    \  In such instances, the events defined in\n   Section 2.7 in particular MAY\
    \ be sent to help the remote gateway\n   optimize its handling of the alternative\
    \ payload.\n"
- title: 4.  Example of V.8 Negotiation
  contents:
  - "4.  Example of V.8 Negotiation\n   This section presents an example of the use\
    \ of the event codes\n   defined in Section 2.  The basic scenario is the startup\
    \ sequence for\n   duplex V.34 modem operation.  It is assumed that once the initial\
    \ V.8\n   sequence is complete, the gateways will enter into voice-band data\n\
    \   operation using G.711 encoding to transmit the modem signals.  The\n   basic\
    \ packet sequence is indicated in Table 9.  Sample packets are\n   then shown\
    \ in detail for two variants on event transmission strategy:\n   o  simultaneous\
    \ transmission of events and retransmitted events using\n      RFC 2198 [2] redundancy;\n\
    \   o  simultaneous transmission of events, retransmitted events, and\n      voice-band\
    \ data covering the same content using RFC 2198\n      redundancy.\n   For simplicity\
    \ and semi-realism, the times shown for the example\n   scenario assume a fixed\
    \ lag at each gateway of 20 ms between the\n   packet side of the gateway and\
    \ the local user equipment and vice\n   versa (i.e., minimum of 40 ms between\
    \ packet received and packet sent\n   specifically in response to the received\
    \ packet).  A propagation\n   delay of 5 ms is assumed between gateways.  It is\
    \ assumed that the\n   event packetization interval is 30 ms, a reasonable compromise\n\
    \   between packet volume and buffering delay, particularly for V.21\n   events.\n\
    \   At the basic V.8 protocol level, the table assumes that the answering\n  \
    \ modem waits 0.2 s (200 ms) from the beginning of the call to start\n   transmitting\
    \ ANSam.  The calling modem waits 1 s (1000 ms) from the\n   time it begins to\
    \ receive ANSam until it begins to send the V.8 CM\n   signal.  Both modems wait\
    \ 75 ms from the time they finish sending and\n   receiving CJ, respectively,\
    \ until they begin sending V.34 modem\n   signals.\n   +------------+------------------------------------------------------+\n\
    \   |  Time (ms) | Event                                                |\n  \
    \ +------------+------------------------------------------------------+\n   |\
    \      220.0 | The called gateway detects the start of ANSam from   |\n   |  \
    \          | its end.                                             |\n   |    \
    \        |                                                      |\n   |      250.0\
    \ | The called gateway sends out the first ANSam event   |\n   |            |\
    \ packet.  M bit is set, timestamp is ts0 + 1760       |\n   |            | (where\
    \ ts0 is the timestamp value at the start of    |\n   |            | the call).\
    \  The initial ANSam event continues until  |\n   |            | a phase shift\
    \ is detected at 670.0 ms (see below).   |\n   |            | Up to this time,\
    \ the called gateway sends out        |\n   |            | further ANSam event\
    \ updates, with the same initial   |\n   |            | timestamp, M bit off,\
    \ and cumulative duration        |\n   |            | increasing by 240 units\
    \ each time.                   |\n   |            |                          \
    \                            |\n   |      255.0 | The calling gateway receives\
    \ the first ANSam event   |\n   |            | report and begins playout of ANSam\
    \ tone at its end.  |\n   |            |                                     \
    \                 |\n   |      275.0 | The calling terminal receives the beginning\
    \ of ANSam |\n   |            | tone and starts its timer.  It will begin sending\
    \    |\n   |            | the CM signal 1 s later (at 1275.0 ms into the     \
    \  |\n   |            | call).                                               |\n\
    \   |            |                                                      |\n  \
    \ |      670.0 | The called gateway detects a phase shift in the      |\n   |\
    \            | incoming signal, marking a change from ANSam to      |\n   |  \
    \          | /ANSam.  This happens to coincide with the end of a  |\n   |    \
    \        | packetization interval.  For the sake of the         |\n   |      \
    \      | example, assume that the called gateway does not     |\n   |        \
    \    | detect this in time for the event report it sends    |\n   |          \
    \  | out.                                                 |\n   |            |\
    \                                                      |\n   |      700.0 | The\
    \ called gateway issues its next-scheduled event   |\n   |            | report\
    \ packet, indicating an initial report for      |\n   |            | /ANSam (M\
    \ bit set, timestamp ts0 + 5360, duration    |\n   |            | 240 timestamp\
    \ units).  The packet also carries the   |\n   |            | first retransmission\
    \ of the final ANSam report,      |\n   |            | total duration 3600 units,\
    \ this time with the E bit  |\n   |            | set.                        \
    \                         |\n   |            |                               \
    \                       |\n   |     1295.0 | The calling gateway begins to receive\
    \ the CM signal  |\n   |            | from the calling modem.                \
    \              |\n   |            |                                          \
    \            |\n   |     1325.0 | The calling gateway sends a packet containing\
    \ the    |\n   |            | first 9 bits of the CM signal.                 \
    \      |\n   |            |                                                  \
    \    |\n   |     1445.0 | The calling gateway sends out a packet containing  \
    \  |\n   |            | the last 4 bits of the first CM signal, plus the     |\n\
    \   |            | first 5 bits of the next repetition of that signal.  |\n  \
    \ |            | CM bits will continue to be transmitted from the     |\n   |\
    \            | calling gateway until 2015.0 ms (see below), for a   |\n   |  \
    \          | total of 24 packets.  (The final packet also carries |\n   |    \
    \        | the beginning of the CJ signal.)                     |\n   |      \
    \      |                                                      |\n   |     1596.7\
    \ | The called gateway completes playout of the final    |\n   |            |\
    \ bit of the second occurrence of the CM signal.       |\n   |            |  \
    \                                                    |\n   |     1636.7 | The\
    \ called gateway detects end of /ANSam (and        |\n   |            | beginning\
    \ of JM) from the called modem.  The next    |\n   |            | packet is not\
    \ yet due to go out.                     |\n   |            |                \
    \                                      |\n   |     1660.0 | The called gateway\
    \ sends out a packet combining the  |\n   |            | final /ANSam event report\
    \ (E bit set and total       |\n   |            | duration 533 timestamp units)\
    \ with the first 7 bits  |\n   |            | of the JM signal.  The M bit for\
    \ the packet is set   |\n   |            | and the packet timestamp is ts0 + 12560\
    \ (the start   |\n   |            | of the now-discontinued /ANSam event).   \
    \            |\n   |            |                                            \
    \          |\n   |     1690.0 | The called gateway sends out a packet containing\
    \ the |\n   |            | next nine bits of JM signal.  The M bit is set and\
    \   |\n   |            | the timestamp is ts0 + 13280 (beginning of the first\
    \ |\n   |            | bit in the packet).  JM will continue to be          |\n\
    \   |            | transmitted until 2170.0 ms (see below), for a total |\n  \
    \ |            | of 18 packets (plus two for final retransmissions).  |\n   |\
    \            |                                                      |\n   |  \
    \   1938.3 | The calling gateway completes playout of the final   |\n   |    \
    \        | packet of the second occurrence of the JM signal.    |\n   |      \
    \      |                                                      |\n   |     1995.0\
    \ | The calling gateway begins to receive the initial    |\n   |            |\
    \ bits of the CJ signal.                               |\n   |            |  \
    \                                                    |\n   |     2015.0 | The\
    \ calling gateway sends a packet containing the    |\n   |            | final\
    \ 3 bits of the first decad of a CM signal and   |\n   |            | first 6\
    \ bits of a CJ signal.                         |\n   |            |          \
    \                                            |\n   |     2095.0 | The calling\
    \ gateway receives the last bit of the CJ  |\n   |            | signal.  A period\
    \ of silence lasting 75-ms begins at |\n   |            | the called end.  It\
    \ is not yet time to send out an   |\n   |            | event report.        \
    \                                |\n   |            |                        \
    \                              |\n   |     2105.0 | The calling gateway sends\
    \ out a packet containing    |\n   |            | the final 6 bits of the CJ signal.\
    \                   |\n   |            |                                     \
    \                 |\n   |     2130.0 | The called gateway finishes playing out\
    \ the last CJ  |\n   |            | signal bit sent to it.                   \
    \            |\n   |            |                                            \
    \          |\n   |     2135.0 | The calling gateway sends a packet containing\
    \ no new |\n   |            | events, but retransmissions of the last 15 bits\
    \ of   |\n   |            | the CJ signal (in two generations).              \
    \    |\n   |            |                                                    \
    \  |\n   |     2165.0 | The calling gateway sends out a packet containing no |\n\
    \   |            | new events, but retransmissions of the final 6 bits  |\n  \
    \ |            | of the CJ signal.                                    |\n   |\
    \            |                                                      |\n   |  \
    \   2170.0 | The called gateway sends out the last packet         |\n   |    \
    \        | containing bits of the JM signal (except for         |\n   |      \
    \      | retransmissions).  Note that according to the V.8    |\n   |        \
    \    | specification these bits do not in general complete  |\n   |          \
    \  | a JM signal or even an \"octet\" of that signal        |\n   |          \
    \  | (although they happen to do so in this example).  A  |\n   |            |\
    \ 75 ms period of silence begins at the called end.    |\n   |            |  \
    \                                                    |\n   |     2170.0 | The\
    \ calling gateway begins to receive V.34           |\n   |            | signalling\
    \ from the called modem.                    |\n   |            |             \
    \                                         |\n   |     2175.0 | The calling gateway\
    \ finishes playing out the last JM |\n   |            | signal bit sent to it.\
    \                               |\n   |            |                         \
    \                             |\n   |     2195.0 | The calling gateway sends out\
    \ a first packet of V.34 |\n   |            | signalling as voice-band data (PCMU).\
    \  Timestamp is  |\n   |            | ts0 + 17360 and M bit is set to indicate\
    \ the         |\n   |            | beginning of content after silence.  The packet\
    \      |\n   |            | contains 200 8-bit samples.  Packetization interval\
    \  |\n   |            | is shown here as continuing to be 30 ms.  It could   |\n\
    \   |            | be less, but MUST NOT be more because that would     |\n  \
    \ |            | make the silent period too long.                     |\n   |\
    \            |                                                      |\n   |  \
    \   2200.0 | The called gateway sends a packet containing no new  |\n   |    \
    \        | events, but retransmissions of the last 18 bits of   |\n   |      \
    \      | the JM signal (in two generations).                  |\n   |        \
    \    |                                                      |\n   |     2225.0\
    \ | The calling gateway sends out the second packet of   |\n   |            |\
    \ V.34 signalling as voice-band data (PCMU).           |\n   |            | Timestamp\
    \ is ts0 + 17560 and M bit is not set.  The  |\n   |            | packet contains\
    \ 240 8-bit samples.                   |\n   |            |                  \
    \                                    |\n   |     2230.0 | The called gateway sends\
    \ out a packet containing no  |\n   |            | new events, but retransmissions\
    \ of the final 9 bits  |\n   |            | of the JM signal.                \
    \                    |\n   |            |                                    \
    \                  |\n   |     2245.0 | The called gateway begins to receive V.34\
    \ signalling |\n   |            | from the called modem.                     \
    \          |\n   |            |                                              \
    \        |\n   |     2255.0 | The calling gateway sends out a third packet of\
    \ V.34 |\n   |            | signalling as voice-band data (PCMU).  Timestamp is\
    \  |\n   |            | ts0 + 17800 and M bit is not set.  The packet        |\n\
    \   |            | contains 240 8-bit samples.                          |\n  \
    \ |            |                                                      |\n   |\
    \     2260.0 | The called gateway sends out a first packet of V.34  |\n   |  \
    \          | signalling as voice-band data (PCMU).  Timestamp is  |\n   |    \
    \        | ts0 + 17960 and M bit is set to indicate the         |\n   |      \
    \      | beginning of content after silence.  The packet      |\n   |        \
    \    | contains 120 samples.  Packetization interval is     |\n   |          \
    \  | shown here as continuing to be 30 ms.  It could be   |\n   |            |\
    \ less, but MUST NOT be more because that would make   |\n   |            | the\
    \ silent period too long.                          |\n   |            |      \
    \                                                |\n   |      . . . | . . .  \
    \                                              |\n   +------------+------------------------------------------------------+\n\
    \                 Table 9: Events for Example V.8 Scenario\n"
- title: 4.1.  Simultaneous Transmission of Events and Retransmitted Events Using
  contents:
  - "4.1.  Simultaneous Transmission of Events and Retransmitted Events Using\n  \
    \    RFC 2198 Redundancy\n   Negotiation of the transmission mode being described\
    \ in this section\n   would use SDP similar to the following:\n      m=audio 12343\
    \ RTP/AVP 99\n      a=rtpmap:99 pcmu/8000\n      m=audio 12345 RTP/AVP 100 101\n\
    \      a=rtpmap:100 red/8000/1\n      a=fmtp:100 101/101/101\n      a=rtpmap:101\
    \ telephone-event/8000\n      a=fmtp:101 0-15,32-41,43,46,48-49,52-68\n   This\
    \ indicates two media streams, the first for G.711 (i.e., voice or\n   voice-band\
    \ data), the second for triply-redundant telephone events.\n   As RFC 2198 notes,\
    \ it is also possible for the sender to send\n   telephone-event payloads without\
    \ redundancy in the second stream,\n   although the redundant form is the primary\
    \ transmission mode.  (It\n   would be reasonable to send the interim ANSam reports\
    \ without\n   redundancy.)  The set of telephone events supported includes the\
    \ DTMF\n   events (not relevant in this example), and all of the data events\n\
    \   defined in this document.  In fact, only event codes 34-35 and 37-40\n   are\
    \ used in the example.\n   For the purpose of illustrating the use of RFC 2198\
    \ redundancy as\n   well as showing the basic composition of the event reports,\
    \ the\n   second packet reporting JM signal bits (sent by the called gateway at\n\
    \   1690.0 ms) seems to be a good choice.  This packet will also carry\n   the\
    \ second retransmission of the final /ANSam event report and the\n   first retransmission\
    \ of the initial 7 bits of the JM signal.  The\n   detailed content of the packet\
    \ is shown in Figure 1.  To see the\n   contents of the successive generations\
    \ more clearly, they are\n   presented as if they were aligned on successive 32-bit\
    \ boundaries.\n   In fact, they are all offset by one octet, following on consecutively\n\
    \   from the RFC 2198 header.\n   The M bit is set in the RTP header for the packet,\
    \ as required for\n   the coding of multiple events in the primary block of data.\
    \  In fact,\n   RFC 2198 implies that this is the correct behavior, but does not\
    \ say\n   so explicitly.  The E bit is set for every event.  It is possible\n\
    \   that it would not be set for the final event in the primary block.\n     \
    \  0                   1                    2                   3\n       0 1\
    \ 2 3 4 5 6 7 8 9 0 1 2 3  4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \      |V=2|P|X| CC=0  |1|  PT=100     |   sequence number = seq0 + 48 |\n   \
    \   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n      |\
    \              timestamp = ts0 + 13280                          |\n      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \      |           synchronization source (SSRC) identifier            |\n   \
    \   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n      |1|\
    \ block PT=101|  timestamp offset = 720   | block length =  4 |\n      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \      |1| block PT=101|  timestamp offset = 267   | block length = 28 |\n   \
    \   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n      |0|\
    \ block PT=101|     (begin block for /ANSam ...)\n      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \                      /ANSam block (second retransmission)\n      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \      |     event = 35  |1|R| volume    |       duration = 533        |\n   \
    \   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n      \
    \        First 7 bits of JM (=\"1111111\" in V.21 high channel)\n            \
    \        (first retransmission)\n      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \      |     event = 40  |1|R| volume    |       duration = 27         |\n   \
    \   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n      /\
    \    (5 similar events, durations 27,26,27,27,26 respectively)  /\n      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \      |     event = 40  |1|R| volume    |       duration = 27         |\n   \
    \   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n      \
    \        Next 9 bits of JM (=\"111000000\" in V.21 high channel)\n           \
    \         (new content)\n      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \      |     event = 40  |1|R| volume    |       duration = 27         |\n   \
    \   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n      /\
    \     (7 similar events, codes 40,40,39,39,39,39,39 and         /\n      /   \
    \   durations 26,27,27,26,27,27,26 respectively)             /\n      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \      |     event = 39  |1|R| volume    |       duration = 27         |\n   \
    \   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n      \
    \       Figure 1: Packet Contents, Redundant Events Only\n   Since all of the\
    \ events in the above packet are consecutive and\n   adjacent, it would have been\
    \ permissible according to the telephone-\n   event payload specification to carry\
    \ them as a simple event payload\n   without the RFC 2198 header.  The advantage\
    \ of the latter is that the\n   receiving gateway can skip over the retransmitted\
    \ events when\n   processing the packet, unless it needs them.\n"
- title: 4.2.  Simultaneous Transmission of Events and Voice-Band Data Using RFC
  contents:
  - "4.2.  Simultaneous Transmission of Events and Voice-Band Data Using RFC\n   \
    \   2198 Redundancy\n   Negotiation of the transmission mode being described in\
    \ this section\n   would use SDP similar to the following:\n      m=audio 12343\
    \ RTP/AVP 99 100 101\n      a=rtpmap:99 red/8000/1\n      a=fmtp:99 100/101/101/101\n\
    \      a=rtpmap:100 pcmu/8000\n      a=rtpmap:101 telephone-event/8000\n     \
    \ a=fmtp:101 0-15,32-41,43,46,48-49,52-68\n   This indicates one media stream,\
    \ with G.711 (i.e., voice or voice-\n   band data) as the primary content, along\
    \ with three blocks of\n   telephone events.  RFC 2198 requires that the more\
    \ voluminous\n   representation (i.e., the G.711) be the primary one.  The most\
    \ recent\n   block of events covers the same time period as the voice-band data.\n\
    \   The other two streams provide the first and second retransmissions of\n  \
    \ the events as in the previous example.  Because G.711 is the primary\n   content,\
    \ the M bit for the packets will in general not be set, except\n   after periods\
    \ of silence.\n   Figure 2 shows the detailed packet content for the same sample\
    \ point\n   as in the previous figure, but including the G.711 content.\n    \
    \   0                   1                    2                   3\n       0 1\
    \ 2 3 4 5 6 7 8 9 0 1 2 3  4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \      |V=2|P|X| CC=0  |0|  PT=99      |   sequence number = seq0 + 48 |\n   \
    \   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n      |\
    \              timestamp = ts0 + 13280                          |\n      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \      |           synchronization source (SSRC) identifier            |\n   \
    \   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n      |1|\
    \ block PT=101|  timestamp offset = 720   | block length =  4 |\n      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \      |1| block PT=101|  timestamp offset = 267   | block length = 28 |\n   \
    \   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n      |1|\
    \ block PT=101|  timestamp offset = 0     | block length = 36 |\n      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \      |0| block PT=100|     (begin block for /ANSam ...)\n      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \                      /ANSam block (second retransmission)\n      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \      |     event = 35  |1|R| volume    |       duration = 533        |\n   \
    \   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n      \
    \        First 7 bits of JM (=\"1111111\" in V.21 high channel)\n            \
    \        (first retransmission)\n      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \      |     event = 40  |1|R| volume    |       duration = 27         |\n   \
    \   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n      /\
    \    (5 similar events, durations 27,26,27,27,26 respectively)  /\n      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \      |     event = 40  |1|R| volume    |       duration = 27         |\n   \
    \   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n      \
    \        Next 9 bits of JM (=\"111000000\" in V.21 high channel)\n           \
    \         (new content)\n      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \      |     event = 40  |1|R| volume    |       duration = 27         |\n   \
    \   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n      /\
    \     (7 similar events, codes 40,40,39,39,39,39,39 and         /\n      /   \
    \   durations 26,27,27,26,27,27,26 respectively)             /\n      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \      |     event = 39  |1|R| volume    |       duration = 27         |\n   \
    \   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n      \
    \       30 ms of G.711-encoded voice-band data (240 samples)\n      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \      |   Sample 1    |   Sample 2    |   Sample 3    |   Sample 4    |\n   \
    \   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n      /\
    \                            . . .                              /\n      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \      |   Sample 237  |   Sample 238  |   Sample 239  |   Sample 240  |\n   \
    \   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n    Figure\
    \ 2: Packet Contents with Voice-Band Data Combined with Events\n"
- title: 5.  Security Considerations
  contents:
  - "5.  Security Considerations\n   The V.21 bit events defined in this document\
    \ may be used to transmit\n   user-sensitive data.  This could include initial\
    \ log-on sequences and\n   application-level protocol exchanges as well as user\
    \ content.  As a\n   result, such a usage of V.21 bit events entails, in the terminology\n\
    \   of [16], threats to both communications and system security.  The\n   attacks\
    \ of concern are:\n   o  confidentiality violations and password sniffing;\n \
    \  o  hijacking of data sessions through message insertion;\n   o  modification\
    \ of the transmitted content through man-in-the-middle\n      attacks;\n   o \
    \ denial of service by means of message insertion, deletion, and\n      modification\
    \ aimed at interference with the application protocol.\n   To prevent these attacks,\
    \ the transmission of V.21 bit events MUST be\n   given confidentiality protection.\
    \  Message authentication and the\n   protection of message integrity MUST also\
    \ be provided.  These address\n   the threats posed by message insertion and modification.\
    \  With these\n   measures in place, RTP sequence numbers and the redundancy provided\n\
    \   by the RFC 4733 procedures for transmission of events add protection\n   against\
    \ and some resiliency in the face of message deletion.\n   The other events defined\
    \ in this document (and V.21 bit events within\n   control sequences) are used\
    \ only for the setup and control of\n   sessions between data terminals or fax\
    \ devices.  While disclosure of\n   these events would not expose user-sensitive\
    \ data, it can potentially\n   expose capabilities of the user equipment that\
    \ could be exploited by\n   attacks in the PSTN domain.  Thus, confidentiality\
    \ protection SHOULD\n   be provided.  The primary threat is denial of service,\
    \ through\n   injection of inappropriate signals at vulnerable points in the\n\
    \   control sequence or through alteration or blocking of enough event\n   packets\
    \ to disrupt that sequence.  To meet the injection threat,\n   message authentication\
    \ and integrity protection MUST be provided.\n   The Secure Real-time Transport\
    \ Protocol (SRTP) [3] meets the\n   requirements for protection of confidentiality,\
    \ message integrity,\n   and message authentication described above.  It SHOULD\
    \ therefore be\n   used to protect media streams containing the events described\
    \ in this\n   document.\n      Note that the appropriate method of key distribution\
    \ for SRTP may\n      vary with the specific application.\n      In some deployments,\
    \ it may be preferable to use other means to\n      provide protection equivalent\
    \ to that provided by SRTP.\n"
- title: 6.  IANA Considerations
  contents:
  - "6.  IANA Considerations\n   This document adds the events in Table 10 to the\
    \ registry established\n   by RFC 4733 [5].\n   +-------+--------------------------------------------+--------------+\n\
    \   | Event | Event Name                                 |    Reference |\n  \
    \ |  Code |                                            |              |\n   +-------+--------------------------------------------+--------------+\n\
    \   |   23  | CRdSeg: second segment of V.8 bis CRd      |     RFC 4734 |\n  \
    \ |       | signal                                     |              |\n   |\
    \       |                                            |              |\n   |  \
    \ 24  | CReSeg: second segment of V.8 bis CRe      |     RFC 4734 |\n   |    \
    \   | signal                                     |              |\n   |      \
    \ |                                            |              |\n   |   25  |\
    \ MRdSeg: second segment of V.8 bis MRd      |     RFC 4734 |\n   |       | signal\
    \                                     |              |\n   |       |         \
    \                                   |              |\n   |   26  | MReSeg: second\
    \ segment of V.8 bis MRe      |     RFC 4734 |\n   |       | signal          \
    \                           |              |\n   |       |                   \
    \                         |              |\n   |   27  | V32AC: A pattern of bits\
    \ modulated at 4800 |     RFC 4734 |\n   |       | bits/s, emitted by a V.32/V.32bis\
    \          |              |\n   |       | answering terminal upon detection of\
    \ the   |              |\n   |       | AA pattern.                           \
    \     |              |\n   |       |                                         \
    \   |              |\n   |   28  | V8bISeg: first segment of initiating V.8  \
    \ |     RFC 4734 |\n   |       | bis signal                                 |\
    \              |\n   |       |                                            |  \
    \            |\n   |   29  | V8bRSeg: first segment of responding V.8   |    \
    \ RFC 4734 |\n   |       | bis signal                                 |      \
    \        |\n   |       |                                            |        \
    \      |\n   |   30  | V21L300: 300 bits/s low channel V.21       |     RFC 4734\
    \ |\n   |       | indication                                 |              |\n\
    \   |       |                                            |              |\n  \
    \ |   31  | V21H300: 300 bits/s high channel V.21      |     RFC 4734 |\n   |\
    \       | indication                                 |              |\n   |  \
    \     |                                            |              |\n   |   32\
    \  | ANS (V.25 Answer tone).  Also known as CED |     RFC 4734 |\n   |       |\
    \ (T.30 Called tone).                        |              |\n   |       |  \
    \                                          |              |\n   |   33  | /ANS\
    \ (V.25 Answer tone after phase shift). |     RFC 4734 |\n   |       | Also known\
    \ as /CED (T.30 Called tone after |              |\n   |       | phase shift)\
    \                               |              |\n   |       |               \
    \                             |              |\n   |   34  | ANSam (V.8 amplitude\
    \ modified Answer tone) |     RFC 4734 |\n   |       |                       \
    \                     |              |\n   |   35  | /ANSam (V.8 amplitude modified\
    \ Answer tone |     RFC 4734 |\n   |       | after phase shift)              \
    \           |              |\n   |       |                                   \
    \         |              |\n   |   36  | CNG (T.30 Calling tone)             \
    \       |     RFC 4734 |\n   |       |                                       \
    \     |              |\n   |   37  | V.21 channel 1 (low channel), '0' bit   \
    \   |     RFC 4734 |\n   |       |                                           \
    \ |              |\n   |   38  | V.21 channel 1, '1' bit.  Also used for    |\
    \     RFC 4734 |\n   |       | ESiSeg (second segment of V.8 bis ESi      |  \
    \            |\n   |       | signal).                                   |    \
    \          |\n   |       |                                            |      \
    \        |\n   |   39  | V.21 channel 2, '0' bit                    |     RFC\
    \ 4734 |\n   |       |                                            |          \
    \    |\n   |   40  | V.21 channel 2, '1' bit.  Also used for    |     RFC 4734\
    \ |\n   |       | ESrSeg (second segment of V.8 bis ESr      |              |\n\
    \   |       | signal).                                   |              |\n  \
    \ |       |                                            |              |\n   |\
    \   49  | CT (V.25 Calling Tone)                     |     RFC 4734 |\n   |  \
    \     |                                            |              |\n   |   52\
    \  | ANS2225: 2225-Hz indication for text       |     RFC 4734 |\n   |       |\
    \ telephony                                  |              |\n   |       |  \
    \                                          |              |\n   |   53  | CI (V.8\
    \ Call Indicator signal preamble)    |     RFC 4734 |\n   |       |          \
    \                                  |              |\n   |   54  | V.21 preamble\
    \ flag (T.30)                  |     RFC 4734 |\n   |       |                \
    \                            |              |\n   |   55  | V21L110: 110 bits/s\
    \ V.21 indication for    |     RFC 4734 |\n   |       | text telephony       \
    \                      |              |\n   |       |                        \
    \                    |              |\n   |   56  | B103L300: Bell 103 low channel\
    \ indication  |     RFC 4734 |\n   |       | for text telephony              \
    \           |              |\n   |       |                                   \
    \         |              |\n   |   57  | V23Main: V.23 main channel indication\
    \ for  |     RFC 4734 |\n   |       | text telephony                         \
    \    |              |\n   |       |                                          \
    \  |              |\n   |   58  | V23Back: V.23 back channel indication for  |\
    \     RFC 4734 |\n   |       | text telephony                             |  \
    \            |\n   |       |                                            |    \
    \          |\n   |   59  | Baud4545: 45.45 bits/s Baudot indication   |     RFC\
    \ 4734 |\n   |       | for text telephony                         |          \
    \    |\n   |       |                                            |            \
    \  |\n   |   60  | Baud50: 50 bits/s Baudot indication for    |     RFC 4734 |\n\
    \   |       | text telephony                             |              |\n  \
    \ |       |                                            |              |\n   |\
    \   61  | VBDGen: Tone patterns indicative of use of |     RFC 4734 |\n   |  \
    \     | an unidentified modem type                 |              |\n   |    \
    \   |                                            |              |\n   |   62 \
    \ | XCIMark: A pattern of bits modulated in    |     RFC 4734 |\n   |       |\
    \ the V.23 main channel, emitted by a V.18   |              |\n   |       | calling\
    \ terminal.                          |              |\n   |       |          \
    \                                  |              |\n   |   63  | V32AA: A pattern\
    \ of bits modulated at 4800 |     RFC 4734 |\n   |       | bits/s, emitted by\
    \ a V.32/V.23bis calling  |              |\n   |       | terminal.           \
    \                       |              |\n   +-------+--------------------------------------------+--------------+\n\
    \   Table 10: Data-Related Additions to RFC 4733 Telephony Event Registry\n"
- title: 7.  Acknowledgements
  contents:
  - "7.  Acknowledgements\n   Scott Petrack was the original author of RFC 2833. \
    \ Henning\n   Schulzrinne later loaned his expertise to complete the document,\
    \ but\n   Scott must be credited with the energy behind the idea of a compact\n\
    \   encoding of tones over IP.\n   Gunnar Hellstrom and Keith Chu provided particularly\
    \ useful comments\n   helping to shape the present document.  Amiram Allouche\
    \ and Ido Benda\n   drew the authors' attention to the value of including events\
    \ for\n   V.32/V.32bis in the document, and Yaakov Stein confirmed details of\n\
    \   operation of this modem.\n"
- title: 8.  References
  contents:
  - '8.  References

    '
- title: 8.1.  Normative References
  contents:
  - "8.1.  Normative References\n   [1]   Bradner, S., \"Key words for use in RFCs\
    \ to Indicate Requirement\n         Levels\", BCP 14, RFC 2119, March 1997.\n\
    \   [2]   Perkins, C., Kouvelas, I., Hodson, O., Hardman, V., Handley,\n     \
    \    M., Bolot, J., Vega-Garcia, A., and S. Fosse-Parisis, \"RTP\n         Payload\
    \ for Redundant Audio Data\", RFC 2198, September 1997.\n   [3]   Baugher, M.,\
    \ McGrew, D., Naslund, M., Carrara, E., and K.\n         Norrman, \"The Secure\
    \ Real-time Transport Protocol (SRTP)\",\n         RFC 3711, March 2004.\n   [4]\
    \   Handley, M., Jacobson, V., and C. Perkins, \"SDP: Session\n         Description\
    \ Protocol\", RFC 4566, July 2006.\n   [5]   Schulzrinne, H. and T. Taylor, \"\
    RTP Payload for DTMF Digits,\n         Telephony Tones, and Telephony Signals\"\
    , RFC 4733, December\n         2006.\n   [6]   International Telecommunication\
    \ Union, \"Echo suppressors\",\n         ITU-T Recommendation G.164, November\
    \ 1988.\n   [7]   International Telecommunication Union, \"Echo cancellers\",\
    \ ITU-T\n         Recommendation G.165, March 1993.\n   [8]   International Telecommunication\
    \ Union, \"Procedures for document\n         facsimile transmission in the general\
    \ switched telephone\n         network\", ITU-T Recommendation T.30, July 2003.\n\
    \   [9]   International Telecommunication Union, \"Procedures for starting\n \
    \        sessions of data transmission over the public switched\n         telephone\
    \ network\", ITU-T Recommendation V.8, November 2000.\n   [10]  International\
    \ Telecommunication Union, \"Procedures for the\n         identification and selection\
    \ of common modes of operation\n         between data circuit-terminating equipments\
    \ (DCEs) and between\n         data terminal equipments (DTEs) over the public\
    \ switched\n         telephone network and on leased point-to-point telephone-type\n\
    \         circuits\", ITU-T Recommendation V.8 bis, November 2000.\n   [11]  International\
    \ Telecommunication Union, \"Operational and\n         interworking requirements\
    \ for {DCEs operating in the text\n         telephone mode\", ITU-T Recommendation\
    \ V.18, November 2000.\n         See also Recommendation V.18 Amendment 1, Nov.\
    \ 2002.\n   [12]  International Telecommunication Union, \"300 bits per second\n\
    \         duplex modem standardized for use in the general switched\n        \
    \ telephone network\", ITU-T Recommendation V.21, November 1988.\n   [13]  International\
    \ Telecommunication Union, \"Automatic answering\n         equipment and general\
    \ procedures for automatic calling\n         equipment on the general switched\
    \ telephone network including\n         procedures for disabling of echo control\
    \ devices for both\n         manually and automatically established calls\", ITU-T\n\
    \         Recommendation V.25, October 1996.\n         See also Corrigendum 1\
    \ to Recommendation V.25, Jul. 2001.\n   [14]  International Telecommunication\
    \ Union, \"A family of 2-wire,\n         duplex modems operating at data signalling\
    \ rates of up to 9600\n         bit/s for use on the general switched telephone\
    \ network and on\n         leased telephone-type circuits\", ITU-T Recommendation\
    \ V.32,\n         March 1993.\n   [15]  International Telecommunication Union,\
    \ \"A duplex modem\n         operating at data signalling rates of up to 14 400\
    \ bit/s for\n         use on the general switched telephone network and on leased\n\
    \         point-to-point 2-wire telephone-type circuits\", ITU-T\n         Recommendation\
    \ V.32bis, February 1991.\n"
- title: 8.2.  Informative References
  contents:
  - "8.2.  Informative References\n   [16]  Rescorla, E. and B. Korver, \"Guidelines\
    \ for Writing RFC Text on\n         Security Considerations\", BCP 72, RFC 3552,\
    \ July 2003.\n   [17]  Kreuter, R., \"RTP Payload Format for a 64 kbit/s Transparent\n\
    \         Call\", RFC 4040, April 2005.\n   [18]  Hellstrom, G. and P. Jones,\
    \ \"RTP Payload for Text\n         Conversation\", RFC 4103, June 2005.\n   [19]\
    \  International Telecommunication Union, \"Pulse code modulation\n         (PCM)\
    \ of voice frequencies\", ITU-T Recommendation G.711,\n         November 1988.\n\
    \   [20]  International Telecommunication Union, \"Terminal for low bit-\n   \
    \      rate multimedia communication\", ITU-T Recommendation H.324,\n        \
    \ March 2002.\n   [21]  International Telecommunication Union, \"Procedures for\
    \ real-\n         time Group 3 facsimile communication over IP networks\", ITU-T\n\
    \         Recommendation T.38, July 2003.\n   [22]  International Telecommunication\
    \ Union, \"International\n         interworking for videotex services\", ITU-T\n\
    \         Recommendation T.101, November 1994.\n   [23]  International Telecommunication\
    \ Union, \"Data protocols for\n         multimedia conferencing\", ITU-T Recommendation\
    \ T.120,\n         July 1996.\n   [24]  International Telecommunication Union,\
    \ \"A 2-wire modem for\n         facsimile applications with rates up to 14 400\
    \ bit/s\", ITU-T\n         Recommendation V.17, February 1991.\n   [25]  International\
    \ Telecommunication Union, \"600/1200-baud modem\n         standardized for use\
    \ in the general switched telephone\n         network\", ITU-T Recommendation\
    \ V.23, November 1988.\n   [26]  International Telecommunication Union, \"4800/2400\
    \ bits per\n         second modem standardized for use in the general switched\n\
    \         telephone network\", ITU-T Recommendation V.27ter,\n         November\
    \ 1988.\n   [27]  International Telecommunication Union, \"9600 bits per second\n\
    \         modem standardized for use on point-to-point 4-wire leased\n       \
    \  telephone-type circuits\", ITU-T Recommendation V.29,\n         November 1988.\n\
    \   [28]  International Telecommunication Union, \"A modem operating at\n    \
    \     data signalling rates of up to 33 600 bit/s for use on the\n         general\
    \ switched telephone network and on leased point-to-point\n         2-wire telephone-type\
    \ circuits\", ITU-T Recommendation V.34,\n         February 1998.\n   [29]  International\
    \ Telecommunication Union, \"A digital modem and\n         analogue modem pair\
    \ for use on the Public Switched Telephone\n         Network (PSTN) at data signalling\
    \ rates of up to 56 000 bit/s\n         downstream and up to 33 600 bit/s upstream\"\
    , ITU-T\n         Recommendation V.90, September 1998.\n   [30]  International\
    \ Telecommunication Union, \"A digital modem\n         operating at data signalling\
    \ rates of up to 64 000 bit/s for\n         use on a 4-wire circuit switched connection\
    \ and on leased\n         point-to-point 4-wire digital circuits\", ITU-T\n  \
    \       Recommendation V.91, May 1999.\n   [31]  International Telecommunication\
    \ Union, \"Enhancements to\n         Recommendation V.90\", ITU-T Recommendation\
    \ V.92, November 2000.\n   [32]  International Telecommunication Union, \"Modem-over-IP\
    \ networks:\n         Procedures for the end-to-end connection of V-series DCEs\"\
    ,\n         ITU-T Recommendation V.150.1, January 2003.\n   [33]  International\
    \ Telecommunication Union, \"Procedures for\n         supporting voice-band data\
    \ over IP networks\", ITU-T\n         Recommendation V.152, January 2005.\n  \
    \ [34]  Telecommunications Industry Association, \"A Frequency Shift\n       \
    \  Keyed Modem for Use on the Public Switched Telephone Network\",\n         ANSI\
    \ TIA- 825-A-2003, April 2003.\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Henning Schulzrinne\n   Columbia U.\n   Dept. of Computer\
    \ Science\n   Columbia University\n   1214 Amsterdam Avenue\n   New York, NY \
    \ 10027\n   US\n   EMail: schulzrinne@cs.columbia.edu\n   Tom Taylor\n   Nortel\n\
    \   1852 Lorraine Ave\n   Ottawa, Ontario  K1H 6Z8\n   Canada\n   EMail: taylor@nortel.com\n"
- title: Full Copyright Statement
  contents:
  - "Full Copyright Statement\n   Copyright (C) The IETF Trust (2006).\n   This document\
    \ is subject to the rights, licenses and restrictions\n   contained in BCP 78,\
    \ and except as set forth therein, the authors\n   retain all their rights.\n\
    \   This document and the information contained herein are provided on an\n  \
    \ \"AS IS\" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS\n  \
    \ OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST,\n   AND THE\
    \ INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES,\n   EXPRESS OR IMPLIED,\
    \ INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT\n   THE USE OF THE INFORMATION\
    \ HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY\n   IMPLIED WARRANTIES OF MERCHANTABILITY\
    \ OR FITNESS FOR A PARTICULAR\n   PURPOSE.\n"
- title: Intellectual Property
  contents:
  - "Intellectual Property\n   The IETF takes no position regarding the validity or\
    \ scope of any\n   Intellectual Property Rights or other rights that might be\
    \ claimed to\n   pertain to the implementation or use of the technology described\
    \ in\n   this document or the extent to which any license under such rights\n\
    \   might or might not be available; nor does it represent that it has\n   made\
    \ any independent effort to identify any such rights.  Information\n   on the\
    \ procedures with respect to rights in RFC documents can be\n   found in BCP 78\
    \ and BCP 79.\n   Copies of IPR disclosures made to the IETF Secretariat and any\n\
    \   assurances of licenses to be made available, or the result of an\n   attempt\
    \ made to obtain a general license or permission for the use of\n   such proprietary\
    \ rights by implementers or users of this\n   specification can be obtained from\
    \ the IETF on-line IPR repository at\n   http://www.ietf.org/ipr.\n   The IETF\
    \ invites any interested party to bring to its attention any\n   copyrights, patents\
    \ or patent applications, or other proprietary\n   rights that may cover technology\
    \ that may be required to implement\n   this standard.  Please address the information\
    \ to the IETF at\n   ietf-ipr@ietf.org.\n"
- title: Acknowledgement
  contents:
  - "Acknowledgement\n   Funding for the RFC Editor function is currently provided\
    \ by the\n   Internet Society.\n"
