- title: __initial_text__
  contents:
  - '                     The Line-Identification Option

    '
- title: Abstract
  contents:
  - "Abstract\n   In Ethernet-based aggregation networks, several subscriber premises\n\
    \   may be logically connected to the same interface of an Edge Router.\n   This\
    \ document proposes a method for the Edge Router to identify the\n   subscriber\
    \ premises using the contents of the received Router\n   Solicitation messages.\
    \  The applicability is limited to broadband\n   network deployment scenarios\
    \ in which multiple user ports are mapped\n   to the same virtual interface on\
    \ the Edge Router.\n"
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This is an Internet Standards Track document.\n   This\
    \ document is a product of the Internet Engineering Task Force\n   (IETF).  It\
    \ represents the consensus of the IETF community.  It has\n   received public\
    \ review and has been approved for publication by the\n   Internet Engineering\
    \ Steering Group (IESG).  Further information on\n   Internet Standards is available\
    \ in Section 2 of RFC 5741.\n   Information about the current status of this document,\
    \ any errata,\n   and how to provide feedback on it may be obtained at\n   http://www.rfc-editor.org/info/rfc6788.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (c) 2012 IETF Trust and the persons identified\
    \ as the\n   document authors.  All rights reserved.\n   This document is subject\
    \ to BCP 78 and the IETF Trust's Legal\n   Provisions Relating to IETF Documents\n\
    \   (http://trustee.ietf.org/license-info) in effect on the date of\n   publication\
    \ of this document.  Please review these documents\n   carefully, as they describe\
    \ your rights and restrictions with respect\n   to this document.  Code Components\
    \ extracted from this document must\n   include Simplified BSD License text as\
    \ described in Section 4.e of\n   the Trust Legal Provisions and are provided\
    \ without warranty as\n   described in the Simplified BSD License.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1. Introduction ....................................................3\n\
    \      1.1. Terminology ................................................4\n  \
    \    1.2. Conventions Used in This Document ..........................6\n   2.\
    \ Applicability Statement .........................................6\n   3. Issues\
    \ with Identifying the Subscriber Premises in an\n      N:1 VLAN Model ..................................................7\n\
    \   4. Basic Operation .................................................7\n  \
    \ 5. AN Behavior .....................................................8\n    \
    \  5.1. On Initialization ..........................................8\n      5.2.\
    \ On Receiving a Router Solicitation from the End-Device .....8\n      5.3. On\
    \ Receiving a Router Advertisement from the Edge Router ...9\n           5.3.1.\
    \ Identifying Tunneled Router Advertisements ..........9\n      5.4. On Detecting\
    \ a Subscriber Circuit Coming Up ................9\n      5.5. On Detecting Edge\
    \ Router Failure ..........................10\n      5.6. RS Retransmission Algorithm\
    \ ...............................10\n   6. Edge Router Behavior ...........................................10\n\
    \      6.1. On Receiving a Tunneled Router Solicitation from the AN ...10\n  \
    \    6.2. On Sending a Router Advertisement Towards the End-Device ..10\n    \
    \  6.3. Sending Periodic Unsolicited Router Advertisements\n           Towards\
    \ the End-Device ....................................11\n   7. Line-Identification\
    \ Option (LIO) ...............................12\n      7.1. Encoding of Line\
    \ ID .......................................13\n   8. Garbage Collection of Unused\
    \ Prefixes ..........................14\n   9. Interactions with Secure Neighbor\
    \ Discovery ....................14\n   10. Acknowledgements ..............................................14\n\
    \   11. Security Considerations .......................................14\n  \
    \ 12. IANA Considerations ...........................................14\n   13.\
    \ References ....................................................15\n      13.1.\
    \ Normative References .....................................15\n      13.2. Informative\
    \ References ...................................16\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   Digital Subscriber Line (DSL) is a widely deployed access\
    \ technology\n   for Broadband Access for Next Generation Networks.  While traditional\n\
    \   DSL access networks were Point-to-Point Protocol (PPP) [RFC1661]\n   based,\
    \ some networks are migrating from the traditional PPP access\n   model into a\
    \ pure IP-based Ethernet aggregated access environment.\n   Architectural and\
    \ topological models of an Ethernet aggregation\n   network in the context of\
    \ DSL aggregation are described in [TR101].\n   +----+   +----+    +----------+\n\
    \   |Host|---| RG |----|          |\n   +----+   +----+    |          |\n    \
    \                  |    AN    |\\\n   +----+   +----+    |          | \\\n   |Host|---|\
    \ RG |----|          |  \\\n   +----+   +----+    +----------+   \\          \
    \          +----------+\n                                      \\            \
    \       |          |\n                                    +-------------+    \
    \   |          |\n                                    | Aggregation |       |\
    \  Edge    |\n                                    |   Network   |-------|  Router\
    \  |\n                                    +-------------+       |          |\n\
    \                                      /                   |          |\n    \
    \                  +----------+   /                    +----------+\n        \
    \              |          |  /\n   +----+   +----+    |          | /\n   |Host|---|\
    \ RG |----|    AN    |/\n   +----+   +----+    |          |\n                \
    \      |          |\n                      +----------+\n              Figure\
    \ 1: Broadband Forum Network Architecture\n   One of the Ethernet and Gigabit-capable\
    \ Passive Optical Network\n   (GPON) aggregation models specified in this document\
    \ bridges sessions\n   from multiple user ports behind a DSL Access Node (AN),\
    \ also referred\n   to as a Digital Subscriber Line Access Multiplexer (DSLAM),\
    \ into a\n   single VLAN in the aggregation network.  This is called the N:1 VLAN\n\
    \   allocation model.\n      +----------+\n      |          |\n      |       \
    \   |\n      |    AN    |\\\n      |          | \\\n      |          |  \\ VLANx\n\
    \      +----------+   \\                    +----------+\n                   \
    \   \\                   |          |\n                    +-------------+   \
    \    |          |\n                    | Aggregation | VLANx |  Edge    |\n  \
    \                  |   Network   |-------|  Router  |\n                    +-------------+\
    \       |          |\n                      /                   |          |\n\
    \      +----------+   /                    +----------+\n      |          |  /\
    \ VLANx\n      |          | /\n      |    AN    |/\n      |          |\n     \
    \ |          |\n      +----------+\n                         Figure 2: n:1 VLAN\
    \ model\n"
- title: 1.1.  Terminology
  contents:
  - "1.1.  Terminology\n   1:1 VLAN               A broadband network deployment scenario\
    \ in\n                          which each user port is mapped to a different\n\
    \                          VLAN on the Edge Router.  The uniqueness of\n     \
    \                     the mapping is maintained in the Access Node\n         \
    \                 and across the aggregation network.\n   N:1 VLAN           \
    \    A broadband network deployment scenario in\n                          which\
    \ multiple user ports are mapped to the\n                          same VLAN on\
    \ the Edge Router.  The user ports\n                          may be located in\
    \ the same or different Access\n                          Nodes.\n   GPON    \
    \               Gigabit-capable Passive Optical Network is an\n              \
    \            optical access network that has been\n                          introduced\
    \ into the Broadband Forum\n                          architecture in [TR156].\n\
    \   AN                     A DSL or a GPON Access Node.  The Access Node\n   \
    \                       terminates the physical layer (e.g., DSL\n           \
    \               termination function or GPON termination\n                   \
    \       function), may physically aggregate other\n                          nodes\
    \ implementing such functionality, or may\n                          perform both\
    \ functions at the same time.  This\n                          node contains at\
    \ least one standard Ethernet\n                          interface that serves\
    \ as its \"northbound\"\n                          interface into which it aggregates\
    \ traffic\n                          from several user ports or Ethernet-based\n\
    \                          \"southbound\" interfaces.  It does not\n         \
    \                 implement an IPv6 stack but performs some\n                \
    \          limited inspection/modification of IPv6\n                         \
    \ packets.  The IPv6 functions required on the\n                          Access\
    \ Node are described in Section 5 of\n                          [TR177].\n   Aggregation\
    \ Network    The part of the network stretching from the\n                   \
    \       Access Nodes to the Edge Router.  In the\n                          context\
    \ of this document, the aggregation\n                          network is considered\
    \ to be Ethernet based,\n                          providing standard Ethernet\
    \ interfaces at the\n                          edges, for connecting the Access\
    \ Nodes and the\n                          broadband network.  It is comprised\
    \ of\n                          Ethernet switches that provide very limited IP\n\
    \                          functionality (e.g., IGMP snooping, Multicast\n   \
    \                       Listener Discovery (MLD) snooping, etc.).\n   RG     \
    \                A residential gateway device.  It can be a\n                \
    \          Layer-3 (routed) device or a Layer-2 (bridged)\n                  \
    \        device.  The residential gateway for Broadband\n                    \
    \      Forum networks is defined in [TR124].\n   Edge Router            The Edge\
    \ Router, also known as the Broadband\n                          Network Gateway\
    \ (BNG), is the first IPv6 hop\n                          for the user.  In cases\
    \ where the RG is\n                          bridged, the BNG acts as the default\
    \ router\n                          for the hosts behind the RG.  In cases where\n\
    \                          the RG is routed, the BNG acts as the default\n   \
    \                       router for the RG itself.  This node\n               \
    \           implements IPv6 router functionality.\n   Host                   A\
    \ node that implements IPv6 host\n                          functionality.\n \
    \  End-Device             A node that sends Router Solicitations and\n       \
    \                   processes received Router Advertisements.\n              \
    \            When a Layer-3 (L3) RG is used, it is\n                         \
    \ considered an end-device in the context of\n                          this document.\
    \  When a Layer-2 (L2) RG is\n                          used, the host behind\
    \ the RG is considered to\n                          be an end-device in the context\
    \ of this\n                          document.\n"
- title: 1.2.  Conventions Used in This Document
  contents:
  - "1.2.  Conventions Used in This Document\n   The key words \"MUST\", \"MUST NOT\"\
    , \"REQUIRED\", \"SHALL\",\"SHALL NOT\",\n   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\"\
    , \"MAY\", and \"OPTIONAL\" in this\n   document are to be interpreted as described\
    \ in [RFC2119].\n"
- title: 2.  Applicability Statement
  contents:
  - "2.  Applicability Statement\n   The Line-Identification Option (LIO) is intended\
    \ to be used only for\n   the N:1 VLAN deployment model.  For the other VLAN deployment\
    \ models,\n   line identification can be achieved differently.  The mechanism\n\
    \   described in this document allows the connection of hosts that only\n   support\
    \ IPv6 stateless address auto-configuration to attach to\n   networks that use\
    \ the N:1 VLAN deployment model.\n   When the Dynamic Host Configuration Protocol\
    \ (DHCP) [RFC3315] is used\n   for IPv6 address assignment, it has the side-effect\
    \ of providing end-\n   device-initiated reliability as well as inactivity detection.\
    \  The\n   reliability is provided by the end-device continuing to retransmit\n\
    \   DHCP messages until it receives a response), and inactivity is\n   detected\
    \ by the end-device not renewing its DHCP lease.  The \"IPv6\n   Stateless Address\
    \ Autoconfiguration\" protocol [RFC4862] was not\n   designed to satisfy such\
    \ requirements [RSDA].  While this option\n   improves the reliability of operation\
    \ in deployments that use Router\n   Solicitations rather than DHCP, there are\
    \ some limitations as\n   specified below.\n   The mechanism described in this\
    \ document deals with the loss of\n   subscriber-originated Router Solicitations\
    \ (RSes) by initiating RSes\n   at the AN, which improves robustness over solely\
    \ relying on the\n   end-device's few initial retransmissions of RSes.\n   However,\
    \ the AN retransmissions imply that some information (e.g.,\n   the subscriber's\
    \ MAC address) that was obtained by the Edge Router\n   from subscriber-originated\
    \ RSes may no longer be available.  For\n   example, since there is no L2 frame\
    \ received from the subscriber in\n   case of an RS sent by an AN, the L2-address\
    \ information of the\n   end-device cannot be determined.  One piece of L2-address\
    \ information\n   currently used in some broadband networks is the MAC address.\
    \  For\n   this reason, the solution described in this document is NOT\n   RECOMMENDED\
    \ for networks that require the MAC address of the endpoint\n   for identification.\n\
    \   There is no indication when a subscriber is no longer active.  Thus,\n   this\
    \ protocol cannot be used to automatically reclaim resources, such\n   as prefixes,\
    \ that are associated with an active subscriber.  See\n   Section 8.  Thus, this\
    \ protocol is NOT RECOMMENDED for networks that\n   require automatic notification\
    \ when a subscriber is no longer active.\n   This mechanism by itself provides\
    \ no protection against the loss of\n   RS-induced state in access routers that\
    \ would lead to loss of IPv6\n   connectivity for end-devices.  Given that regular\
    \ IPv6 hosts do not\n   have RS retransmission behavior that would allow automatic\
    \ recovery\n   from such a failure, this mechanism SHOULD only be used in\n  \
    \ deployments employing N:1 VLANs.\n"
- title: 3.  Issues with Identifying the Subscriber Premises in an N:1 VLAN Model
  contents:
  - "3.  Issues with Identifying the Subscriber Premises in an N:1 VLAN Model\n  \
    \ In a DSL- or GPON-based fixed broadband network, IPv6 end-devices are\n   connected\
    \ to an AN.  Today, these end-devices will typically send a\n   Router Solicitation\
    \ message to the Edge Router, to which the Edge\n   Router responds with a Router\
    \ Advertisement message.  The Router\n   Advertisement typically contains a prefix\
    \ that the end-devices will\n   use to automatically configure an IPv6 address.\
    \  Upon sending the\n   Router Solicitation message, the node connecting the end-device\
    \ on\n   the access circuit, typically an AN, forwards the RS to the Edge\n  \
    \ Router upstream over a switched network.  In such Ethernet-based\n   aggregation\
    \ networks, several subscriber premises may be connected to\n   the same interface\
    \ of an Edge Router (e.g., on the same VLAN).\n   However, the Edge Router requires\
    \ some information to identify the\n   end-device on the circuit.  To accomplish\
    \ this, the AN needs to add\n   line-identification information to the Router\
    \ Solicitation message\n   and forward this to the Edge Router.  This is analogous\
    \ to the case\n   where DHCP is being used, and the line-identification information\
    \ is\n   inserted by a DHCP relay agent [RFC3315].  This document proposes a\n\
    \   method for the Edge Router to identify the subscriber premises using\n   the\
    \ contents of the received Router Solicitation messages.  Note that\n   there\
    \ might be several end-devices located on the same subscriber\n   premises.\n"
- title: 4.  Basic Operation
  contents:
  - "4.  Basic Operation\n   This document uses a mechanism that tunnels Neighbor\
    \ Discovery (ND)\n   packets inside another IPv6 packet that uses a destination\
    \ option\n   (Line-ID option) to convey line-identification information as\n \
    \  depicted in Figure 3.  The use of the Line-ID option in any other\n   IPv6\
    \ datagrams, including untunneled RS and RA messages, is not\n   defined by this\
    \ document.  The ND packets are left unmodified inside\n   the encapsulating IPv6\
    \ packet.  In particular, the Hop Limit field of\n   the ND message is not decremented\
    \ when the packet is being tunneled.\n   This is because an ND message whose Hop\
    \ Limit is not 255 will be\n   discarded by the receiver of such messages, as\
    \ described in Sections\n   6.1.1 and 6.1.2 of [RFC4861].\n      +----+     +----+\
    \       +-----------+\n      |Host|     | AN |       |Edge Router|\n      +----+\
    \     +----+       +-----------+\n        |    RS     |                |\n   \
    \     |---------->|                |\n        |           |                |\n\
    \        |           |Tunneled RS(LIO)|\n        |           |--------------->|\n\
    \        |           |                |\n        |           |Tunneled RA(LIO)|\n\
    \        |           |<---------------|\n        |    RA     |               \
    \ |\n        |<----------|                |\n        |           |           \
    \     |\n                       Figure 3: Basic Message Flow\n"
- title: 5.  AN Behavior
  contents:
  - '5.  AN Behavior

    '
- title: 5.1.  On Initialization
  contents:
  - "5.1.  On Initialization\n   On initialization, the AN MUST join the All-BBF-Access-Nodes\n\
    \   multicast group on all its upstream interfaces towards the Edge\n   Router.\n"
- title: 5.2.  On Receiving a Router Solicitation from the End-Device
  contents:
  - "5.2.  On Receiving a Router Solicitation from the End-Device\n   When an end-device\
    \ sends out a Router Solicitation, it is received by\n   the AN.  The AN identifies\
    \ these messages by looking for ICMPv6\n   messages (IPv6 Next Header value of\
    \ 58) with ICMPv6 type 133.  The AN\n   intercepts and then tunnels the received\
    \ Router Solicitation in a\n   newly created IPv6 datagram with the Line-Identification\
    \ Option\n   (LIO).  The AN forms a new IPv6 datagram whose payload is the\n \
    \  received Router Solicitation message as described in [RFC2473],\n   except\
    \ that the Hop Limit field of the Router Solicitation message\n   MUST NOT be\
    \ decremented.  If the AN has an IPv6 address, it MUST use\n   this address in\
    \ the Source Address field of the outer IPv6 datagram.\n   Otherwise, the AN MUST\
    \ copy the source address from the received\n   Router Solicitation into the Source\
    \ Address field of the outer IPv6\n   datagram.  The destination address of the\
    \ outer IPv6 datagram MUST be\n   copied from the destination address of the tunneled\
    \ RS.  The AN MUST\n   include a destination options header between the outer\
    \ IPv6 header\n   and the payload.  It MUST insert an LIO destination option and\
    \ set\n   the Line ID field of the option to contain the circuit identifier\n\
    \   corresponding to the logical access loop port of the AN from which\n   the\
    \ RS was initiated.\n"
- title: 5.3.  On Receiving a Router Advertisement from the Edge Router
  contents:
  - "5.3.  On Receiving a Router Advertisement from the Edge Router\n   When the Edge\
    \ Router sends out a tunneled Router Advertisement in\n   response to the RS,\
    \ it is received by the AN.  If there is an LIO\n   present, the AN MUST use the\
    \ line-identification data of the LIO to\n   identify the subscriber agent circuit\
    \ of the AN on which the RA\n   should be sent.  The AN MUST then remove the outer\
    \ IPv6 header of\n   this tunneled RA and multicast the inner packet (the original\
    \ RA) on\n   this specific subscriber circuit.\n"
- title: 5.3.1.  Identifying Tunneled Router Advertisements
  contents:
  - "5.3.1.  Identifying Tunneled Router Advertisements\n   The AN can identify tunneled\
    \ RAs by installing filters based on the\n   destination address (All-BBF-Access-Nodes,\
    \ which is a reserved\n   link-local scoped multicast address) of the outer packets\
    \ and the\n   presence of a destination option header with an LIO destination\n\
    \   option.\n"
- title: 5.4.  On Detecting a Subscriber Circuit Coming Up
  contents:
  - "5.4.  On Detecting a Subscriber Circuit Coming Up\n   RSes initiated by end-devices\
    \ as described in Section 5.2 may be lost\n   due to lack of connectivity between\
    \ the AN and the end-device.  To\n   ensure that the end-device will receive an\
    \ RA, the AN needs to\n   trigger the sending of periodic RAs on the Edge Router.\
    \  For this\n   purpose, the AN needs to inform the Edge Router that a subscriber\n\
    \   circuit has come up.  Each time the AN detects that a subscriber\n   circuit\
    \ has come up, it MUST create a Router Solicitation message as\n   described in\
    \ Section 6.3.7 of [RFC4861].  It MUST use the unspecified\n   address as the\
    \ source address of this RS.  It MUST then tunnel this\n   RS towards the Edge\
    \ Router as described in Section 5.2.\n   In case there are connectivity issues\
    \ between the AN and the Edge\n   Router, the RSes initiated by the AN can be\
    \ lost.  The AN SHOULD\n   continue retransmitting the Router Solicitations following\
    \ the\n   algorithm described in Section 5.6 for a given LIO until it receives\n\
    \   an RA for that specific LIO.\n"
- title: 5.5.  On Detecting Edge Router Failure
  contents:
  - "5.5.  On Detecting Edge Router Failure\n   When the Edge Router reboots and loses\
    \ state or is replaced by a new\n   Edge Router, the AN will detect it using connectivity\
    \ check\n   mechanisms that are already in place in broadband networks (e.g.,\n\
    \   Bidirectional Forwarding Detection).  When such Edge Router failure\n   is\
    \ detected, the AN needs to start transmitting RSes for each of its\n   subscriber\
    \ circuits that have come up, as described in Section 5.4.\n"
- title: 5.6.  RS Retransmission Algorithm
  contents:
  - "5.6.  RS Retransmission Algorithm\n   The AN SHOULD use the exponential backoff\
    \ algorithm for retransmits\n   that is described in Section 14 of [RFC3315] in\
    \ order to continuously\n   retransmit the Router Solicitations for a given LIO\
    \ until a response\n   is received for that specific LIO.  The AN SHOULD use the\
    \ following\n   variables as input to the retransmission algorithm:\n     Initial\
    \ retransmission time (IRT)      1 Second\n     Maximum retransmission time (MRT)\
    \     30 Seconds\n     Maximum retransmission count (MRC)     0\n     Maximum\
    \ retransmission duration (MRD)  0\n"
- title: 6.  Edge Router Behavior
  contents:
  - '6.  Edge Router Behavior

    '
- title: 6.1.  On Receiving a Tunneled Router Solicitation from the AN
  contents:
  - "6.1.  On Receiving a Tunneled Router Solicitation from the AN\n   When the Edge\
    \ Router receives a tunneled Router Solicitation\n   forwarded by the AN, it needs\
    \ to check if there is an LIO destination\n   option present in the outer datagram.\
    \  The Edge Router can use the\n   contents of the Line ID field to lookup the\
    \ addressing information\n   and policy that need to be applied to the line from\
    \ which the Router\n   Solicitation was received.  The Edge Router MUST then process\
    \ the\n   inner RS message as specified in [RFC4861].\n"
- title: 6.2.  On Sending a Router Advertisement Towards the End-Device
  contents:
  - "6.2.  On Sending a Router Advertisement Towards the End-Device\n   When the Edge\
    \ Router sends out a Router Advertisement in response to\n   a tunneled RS that\
    \ included an LIO, it MUST tunnel the Router\n   Advertisement in a newly created\
    \ IPv6 datagram with the LIO as\n   described below.  First, the Edge Router creates\
    \ the Router\n   Advertisement message as described in Section 6.2.3 of [RFC4861].\n\
    \   The Edge Router MUST include a Prefix Information option in this RA\n   that\
    \ contains the prefix that corresponds to the received LIO.  (The\n   LIO from\
    \ the received tunneled RS is usually passed on from the Edge\n   Router to some\
    \ form of provisioning system that returns the prefix to\n   be included in the\
    \ RA.  It could e,g., be based on RADIUS.)  Then,\n   the Edge Router forms the\
    \ new IPv6 datagram whose payload is the\n   Router Advertisement message, as\
    \ described in [RFC2473], except that\n   the Hop Limit field of the Router Advertisement\
    \ message MUST NOT be\n   decremented.  The Edge router MUST use a link-local\
    \ IPv6 address on\n   the outgoing interface in the Source Address field of the\
    \ outer IPv6\n   datagram.  The Edge Router MUST include a destination options\
    \ header\n   between the outer IPv6 header and the payload.  It MUST insert an\
    \ LIO\n   and set the Line ID field of the option to contain the same value as\n\
    \   that of the Line-ID option in the received RS.  The IPv6 destination\n   address\
    \ of the inner RA MUST be set to the all-nodes multicast\n   address.\n   If the\
    \ Source Address field of the received IPv6 datagram was not the\n   unspecified\
    \ address, the Edge Router MUST copy this address into the\n   Destination Address\
    \ field of the outer IPv6 datagram sent back\n   towards the AN.  The link-layer\
    \ destination address of the outer IPv6\n   datagram containing the outer IPv6\
    \ datagram MUST be resolved using\n   regular Neighbor Discovery procedures.\n\
    \   If the Source Address field of the received IPv6 datagram was the\n   unspecified\
    \ address, the destination address of the outer IPv6\n   datagram MUST be set\
    \ to the well-known link-local scope\n   All-BBF-Access-Nodes multicast address\
    \ (ff02::10).  The link-layer\n   destination address of the tunneled RA MUST\
    \ be set to the unicast\n   link-layer address of the AN that sent the tunneled\
    \ Router\n   Solicitation that is being responded to.\n   The Edge Router MUST\
    \ ensure that it does not transmit tunneled RAs\n   whose size is larger than\
    \ the MTU of the link between the Edge Router\n   and the AN, which would require\
    \ that the outer IPv6 datagram undergo\n   fragmentation.  This limitation is\
    \ imposed because the AN may not be\n   capable of handling the reassembly of\
    \ such fragmented datagrams.\n"
- title: 6.3.  Sending Periodic Unsolicited Router Advertisements Towards the
  contents:
  - "6.3.  Sending Periodic Unsolicited Router Advertisements Towards the\n      End-Device\n\
    \   After sending a tunneled Router Advertisement as specified in Section\n  \
    \ 6.2 in response to a received RS, the Edge Router MUST store the\n   mapping\
    \ between the LIO and the prefixes contained in the Router\n   Advertisement.\
    \  It should then initiate periodic sending of\n   unsolicited Router Advertisements\
    \ as described in Section 6.2.3. of\n   [RFC4861] .  The Router Advertisements\
    \ MUST be created and tunneled\n   as described in Section 6.2.  The Edge Router\
    \ MAY stop sending Router\n   Advertisements if it receives a notification from\
    \ the AN that the\n   subscriber circuit has gone down.  This notification can\
    \ be received\n   out-of-band using a mechanism such as the Access Node Control\n\
    \   Protocol (ANCP).  Please consult Section 8 for more details.\n"
- title: 7.  Line-Identification Option (LIO)
  contents:
  - "7.  Line-Identification Option (LIO)\n   The Line-Identification Option (LIO)\
    \ is a destination option that can\n   be included in IPv6 datagrams that tunnel\
    \ Router Solicitation and\n   Router Advertisement messages.  The use of the Line-ID\
    \ option in any\n   other IPv6 datagrams is not defined by this document.  Multiple\
    \ Line-\n   ID destination options MUST NOT be present in the same IPv6 datagram.\n\
    \   The LIO has no alignment requirement.\n    0                   1         \
    \          2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9\
    \ 0 1 2 3 4 5 6 7 8 9 0 1\n                                   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \                                   |  Option Type  | Option Length |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   | LineIDLen     |     Line ID...\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \                Figure 4: Line-Identification Option Layout\n    Option Type\n\
    \       8-bit identifier of the type of option.  The option identifier\n     \
    \  for the Line-Identification Option (0x8C) has been allocated by\n       the\
    \ IANA.\n    Option Length\n       8-bit unsigned integer.  The length of the\
    \ option (excluding the\n       Option Type and Option Length fields).  The value\
    \ MUST be greater\n       than 0.\n    LineIDLen\n       8-bit unsigned integer.\
    \  The length of the Line ID field in\n       number of octets.\n    Line ID\n\
    \       Variable-length data inserted by the AN describing the\n       subscriber-agent\
    \ circuit identifier corresponding to the logical\n       access loop port of\
    \ the AN from which the RS was initiated.  The\n       line identification MUST\
    \ be unique across all the ANs that share\n       a link to the Edge Router, e.g.,\
    \ one such line- identification\n       scheme is described in Section 3.9 of\
    \ [TR101].  The line\n       identification should be encoded as specified in\
    \ Section 7.1.\n"
- title: 7.1.  Encoding of the Line ID Field Content
  contents:
  - "7.1.  Encoding of the Line ID Field Content\n   This IPv6 Destination option\
    \ is derived from an existing widely\n   deployed DHCPv6 option [RFC4649], which\
    \ is in turn derived from a\n   widely deployed DHCPv4 option [RFC3046].  These\
    \ options derive from\n   and cite the basic DHCP options specification [RFC2132].\
    \  These\n   widely deployed DHCP options use the Network Virtual Terminal (NVT)\n\
    \   character set [RFC2132] [RFC0020].  Since the data carried in the\n   Line-ID\
    \ option is used in the same manner by the provisioning systems\n   as the DHCP\
    \ options, it is beneficial for it to maintain the same\n   encoding as the DHCP\
    \ options.\n   The IPv6 Line ID option contains a description that identifies\
    \ the\n   line using only character positions (decimal 32 to decimal 126,\n  \
    \ inclusive) of the US-ASCII character set [X3.4] [RFC0020].\n   Consistent with\
    \ [RFC2132], [RFC3046], and [RFC4649], the Line ID\n   field SHOULD NOT contain\
    \ the US-ASCII NUL character (decimal 0).\n   However, implementations receiving\
    \ this option MUST NOT fail merely\n   because an ASCII NUL character is (erroneously)\
    \ present in the Line\n   ID field.\n   Some existing widely deployed implementations\
    \ of Edge Routers and ANs\n   that support the previously mentioned DHCP option\
    \ only support\n   US-ASCII and strip the high-order bit from any 8-bit characters\n\
    \   entered by the device operator.  The previously mentioned DHCP\n   options\
    \ do not support 8-bit character sets either.  Therefore, for\n   compatibility\
    \ with the installed base and to maximize\n   interoperability, the high-order\
    \ bit of each octet in this field MUST\n   be set to zero by any device inserting\
    \ this option in an IPv6 packet.\n   Consistent with [RFC3046] and [RFC4649],\
    \ this option always uses\n   binary comparison.  Therefore, two Line IDs MUST\
    \ be equal when they\n   match when compared byte-by-byte.  Line-ID A and Line-ID\
    \ B match\n   byte-by-byte when (1) A and B have the same number of bytes, and\
    \ (2)\n   for all byte indexes P in A: the value of A at index P has the same\n\
    \   binary value as the value of B at index P.\n   Two Line IDs MUST NOT be equal\
    \ if they do not match byte-by-byte.\n   For example, an IPv6 Line-ID option containing\
    \ \"f123\" is not equal to\n   a Line-ID option \"F123\".\n   Intermediate systems\
    \ MUST NOT alter the contents of the Line ID.\n"
- title: 8.  Garbage Collection of Unused Prefixes
  contents:
  - "8.  Garbage Collection of Unused Prefixes\n   Following the mechanism described\
    \ in this document, the broadband\n   network associates a prefix to a subscriber\
    \ line based on the LIO.\n   Even when the subscriber line goes down temporarily,\
    \ this prefix\n   stays allocated to that specific subscriber line, i.e., the\
    \ prefix is\n   not returned to the unused pool.  When a subscriber line no longer\n\
    \   needs a prefix, the prefix can be reclaimed by manual action\n   dissociating\
    \ the prefix from the LIO in the backend systems.\n"
- title: 9.  Interactions with Secure Neighbor Discovery
  contents:
  - "9.  Interactions with Secure Neighbor Discovery\n   Since the RS/RA packets that\
    \ are protected by the \"SEcure Neighbor\n   Discovery (SEND)\" [RFC3971] are\
    \ not modified in any way by the\n   mechanism described in this document, there\
    \ are no issues with SEND\n   verification.\n"
- title: 10.  Acknowledgements
  contents:
  - "10.  Acknowledgements\n   The authors would like to thank Margaret Wasserman,\
    \ Mark Townsley,\n   David Miles, John Kaippallimalil, Eric Levy-Abegnoli, Thomas\
    \ Narten,\n   Olaf Bonness, Thomas Haag, Wojciech Dec, Brian Haberman, Ole Troan,\n\
    \   Hemant Singh, Jari Arkko, Joel Halpern, Bob Hinden, Ran Atkinson,\n   Glen\
    \ Turner, Kathleen Moriarty, David Sinicrope, Dan Harkins, Stephen\n   Farrell,\
    \ Barry Leiba, Sean Turner, Ralph Droms, and Mohammed\n   Boucadair for reviewing\
    \ this document and suggesting changes.\n"
- title: 11.  Security Considerations
  contents:
  - "11.  Security Considerations\n   The line identification information inserted\
    \ by the AN or the Edge\n   Router is not protected.  This means that this option\
    \ may be\n   modified, inserted, or deleted without being detected.  In order\
    \ to\n   ensure validity of the contents of the Line ID field, the network\n \
    \  between the AN and the Edge Router needs to be trusted.\n"
- title: 12.  IANA Considerations
  contents:
  - "12.  IANA Considerations\n   This document defines a new IPv6 destination option\
    \ for carrying line\n   identification.  IANA has assigned the following new destination\n\
    \   option type in the \"Destination Options and Hop-by-Hop Options\"\n   registry\
    \ maintained at\n   <http://www.iana.org/assignments/ipv6-parameters>:\n     \
    \ 0x8C  Line-Identification Option  [RFC6788]\n   The act bits for this option\
    \ are 10 and the chg bit is 0.\n   Per this document, IANA has also allocated\
    \ the following well-known\n   link-local scope multicast address from the \"\
    IPv6 Multicast Address\n   Space Registry\" located at\n   <http://www.iana.org/assignments/ipv6-multicast-addresses/>:\n\
    \      FF02:0:0:0:0:0:0:10  All-BBF-Access-Nodes  [RFC6788]\n"
- title: 13.  References
  contents:
  - '13.  References

    '
- title: 13.1.  Normative References
  contents:
  - "13.1.  Normative References\n   [RFC1661]  Simpson, W., Ed., \"The Point-to-Point\
    \ Protocol (PPP)\", STD\n              51, RFC 1661, July 1994.\n   [RFC2119]\
    \  Bradner, S., \"Key words for use in RFCs to Indicate\n              Requirement\
    \ Levels\", BCP 14, RFC 2119, March 1997.\n   [RFC2473]  Conta, A. and S. Deering,\
    \ \"Generic Packet Tunneling in\n              IPv6 Specification\", RFC 2473,\
    \ December 1998.\n   [RFC3315]  Droms, R., Ed., Bound, J., Volz, B., Lemon, T.,\
    \ Perkins,\n              C., and M. Carney, \"Dynamic Host Configuration Protocol\n\
    \              for IPv6 (DHCPv6)\", RFC 3315, July 2003.\n   [RFC3971]  Arkko,\
    \ J., Ed., Kempf, J., Zill, B., and P. Nikander,\n              \"SEcure Neighbor\
    \ Discovery (SEND)\", RFC 3971, March 2005.\n   [RFC4861]  Narten, T., Nordmark,\
    \ E., Simpson, W., and H. Soliman,\n              \"Neighbor Discovery for IP\
    \ version 6 (IPv6)\", RFC 4861,\n              September 2007.\n   [RFC4862] \
    \ Thomson, S., Narten, T., and T. Jinmei, \"IPv6 Stateless\n              Address\
    \ Autoconfiguration\", RFC 4862, September 2007.\n   [TR101]    Broadband Forum,\
    \ \"Migration to Ethernet-based DSL\n              aggregation\", <http://www.broadband-forum.org/\n\
    \              technical/download/TR-101.pdf>.\n   [TR124]    Broadband Forum,\
    \ \"Functional Requirements for Broadband\n              Residential Gateway Devices\"\
    ,\n              <http://www.broadband-forum.org/technical/\n              download/TR-124_Issue-2.pdf>.\n\
    \   [TR156]    Broadband Forum, \"Using GPON Access in the context of\n      \
    \        TR-101\", <http://www.broadband-forum.org/\n              technical/download/TR-156.pdf>.\n\
    \   [TR177]    Broadband Forum, \"IPv6 in the context of TR-101\",\n         \
    \     <www.broadband-forum.org/technical/download/TR-177.pdf>.\n   [X3.4]    \
    \ American National Standards Institute, \"American Standard\n              Code\
    \ for Information Interchange (ASCII)\", Standard X3.4,\n              1968.\n"
- title: 13.2.  Informative References
  contents:
  - "13.2.  Informative References\n   [RFC0020]  Cerf, V., \"ASCII format for network\
    \ interchange\", RFC 20,\n              October 1969.\n   [RFC2132]  Alexander,\
    \ S. and R. Droms, \"DHCP Options and BOOTP Vendor\n              Extensions\"\
    , RFC 2132, March 1997.\n   [RFC3046]  Patrick, M., \"DHCP Relay Agent Information\
    \ Option\", RFC\n              3046, January 2001.\n   [RFC4649]  Volz, B., \"\
    Dynamic Host Configuration Protocol for IPv6\n              (DHCPv6) Relay Agent\
    \ Remote-ID Option\", RFC 4649, August\n              2006.\n   [RSDA]     Dec,\
    \ W., \"IPv6 Router Solicitation Driven Access\n              Considered Harmful\"\
    , Work in Progress, June 2011.\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Suresh Krishnan\n   Ericsson\n   8400 Blvd Decarie\n \
    \  Town of Mount Royal, Quebec\n   Canada\n   EMail: suresh.krishnan@ericsson.com\n\
    \   Alan Kavanagh\n   Ericsson\n   8400 Blvd Decarie\n   Town of Mount Royal,\
    \ Quebec\n   Canada\n   EMail: alan.kavanagh@ericsson.com\n   Balazs Varga\n \
    \  Ericsson\n   Konyves Kalman krt. 11. B.\n   1097 Budapest\n   Hungary\n   EMail:\
    \ balazs.a.varga@ericsson.com\n   Sven Ooghe\n   Alcatel-Lucent\n   Copernicuslaan\
    \ 50\n   2018 Antwerp,\n   Belgium\n   Phone:\n   EMail: sven.ooghe@alcatel-lucent.com\n\
    \   Erik Nordmark\n   Cisco\n   510 McCarthy Blvd.\n   Milpitas, CA, 95035\n \
    \  USA\n   Phone: +1 408 527 6625\n   EMail: nordmark@cisco.com\n"
