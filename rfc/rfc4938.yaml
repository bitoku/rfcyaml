- title: __initial_text__
  contents:
  - "                 PPP Over Ethernet (PPPoE) Extensions\n                   for\
    \ Credit Flow and Link Metrics\n"
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This memo provides information for the Internet community.\
    \  It does\n   not specify an Internet standard of any kind.  Distribution of\
    \ this\n   memo is unlimited.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (C) The IETF Trust (2007).\n"
- title: IESG Note
  contents:
  - "IESG Note\n   The PPP Extensions Working Group (PPPEXT) has reservations about\
    \ the\n   desirability of the feature described in this document.  In\n   particular,\
    \ it solves a general problem at an inappropriate layer and\n   it may have unpredictable\
    \ interactions with higher and lower level\n   protocols.  The techniques described\
    \ in this document are intended\n   for use with a particular deployment technique\
    \ that uses a PPP\n   termination separated from a radio termination by an Ethernet,\
    \ and\n   that has radio-side flow control for a slower PPP-only link to remote\n\
    \   nodes.  Implementors are better advised to avoid split termination\n   with\
    \ inter-media protocol translation, and use standard Internet\n   Protocol routing\
    \ instead.\n"
- title: Abstract
  contents:
  - "Abstract\n   This document extends the Point-to-Point over Ethernet (PPPoE)\n\
    \   Protocol with a credit-based flow control mechanism and Link Quality\n   Metric\
    \ report.  This optional extension should improve the\n   performance of PPPoE\
    \ over media with variable bandwidth and limited\n   buffering, such as mobile\
    \ radio links.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1. Introduction ....................................................2\n\
    \   2. Payload .........................................................3\n  \
    \ 3. Overview of Protocol Extensions .................................3\n   4.\
    \ Discovery Stage .................................................3\n      4.1.\
    \ PPPoE Active Discovery Request (PADR) ......................4\n      4.2. PPPoE\
    \ Active Discovery Session-confirmation (PADS) .........4\n      4.3. PPPoE Active\
    \ Discovery Session-Grant (PADG) ................5\n      4.4. PPPoE Active Discovery\
    \ Session-Credit Response (PADC) ......5\n      4.5. PPPoE Active Discovery Quality\
    \ (PADQ) ......................6\n   5. PPP Session Stage ...............................................7\n\
    \   6. Credit Flow Considerations ......................................7\n  \
    \ 7. PADG and PADC Retransmission ....................................8\n   8.\
    \ Other Considerations ............................................9\n   9. IANA\
    \ Considerations .............................................9\n   10. Security\
    \ Considerations ........................................9\n   Appendix A: Tag\
    \ Values.............................................10\n   Appendix B: Example\
    \ Message Formats................................11\n   Acknowledgements...................................................15\n\
    \   Normative References...............................................15\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   PPP over Ethernet (PPPoE) [2] is a protocol for establishing\
    \ and\n   encapsulating sessions between hosts and traffic aggregators (Access\n\
    \   Concentrators) for PPP [1] transport over real or emulated Ethernet.\n   PPPoE\
    \ works well when both session endpoints have similar bandwidth,\n   forwarding,\
    \ and buffering capabilities that do not vary over time.\n   However, it is insufficient\
    \ for applications with variable bandwidth\n   and limited buffering (for example,\
    \ mobile radio links).  This\n   document addresses this problem by suggesting\
    \ an extension to PPPoE\n   to support credit-based session flow control and session-based\
    \ link\n   metric exchanges.\n   The diagram below illustrates the problem that\
    \ this extension is\n   intended to solve, for the case of a radio link.  Here\
    \ PPPoE sessions\n   are used between access concentrators (routers) and radio\n\
    \   transmission systems that are shown as radio neighbors.  Each radio\n   transmission\
    \ system establishes point-to-point Radio Link Protocol\n   (RLP) sessions with\
    \ its neighbors and establishes a corresponding\n   PPPoE session for each neighbor\
    \ with the transmission system's\n   associated access concentrator (router).\
    \  The radio logically\n   associates the PPPoE session with the corresponding\
    \ RLP session.\n   +--------+       +-------+       +-------+       +--------+\n\
    \   | Access |       | Host  |       | Host  |       | Access |\n   | Conc.  |=======|\
    \ Radio |~~~~~~~| Radio |=======| Conc.  |\n   +--------+       +-------+    \
    \   +-------+       +--------+\n            |       |       |       |       |\
    \       |\n            |-PPPoE-|       |--RLP--|       |-PPPoE-|\n           \
    \ |                                       |\n            |-------------PPP Session---------------|\n\
    \                     Figure 1. PPPoE Network\n   The capabilities of the RF links\
    \ between RLP neighbors may vary over\n   time due to mobility and environmental\
    \ conditions.  In many\n   instances, the Host Radio has limited buffering capability\
    \ to handle\n   capacity changes in the RLP sessions.  To limit buffering in the\
    \ Host\n   Radio, the PPPoE credit flow control mechanism provides dynamic\n \
    \  buffering feedback to the access concentrator.\n   In the diagram above, from\
    \ the access concentrator's perspective,\n   each PPPoE session between it and\
    \ the Host Radio represent a\n   connection to a remote routable peer.  For efficient\
    \ routing, the\n   local Host Radio uses the link metric mechanism to dynamically\
    \ update\n   the access concentrator route cost of the associated link.\n   While\
    \ the example shows an RF-based application, the extensions are\n   applicable\
    \ to other media.\n"
- title: 2.  Payload
  contents:
  - "2.  Payload\n   The Ethernet payload version field retains its value of 0x01.\
    \  The\n   extensions for credit flow control and link quality metrics are\n \
    \  optional and backward compatible.\n"
- title: 3.  Overview of Protocol Extensions
  contents:
  - "3.  Overview of Protocol Extensions\n   PPPoE has two distinct stages.  There\
    \ is a Discovery Stage and a PPP\n   Session Stage.  During the Discovery Stage,\
    \ the Host can optionally\n   request a flow controlled PPP Session Stage.  Once\
    \ the Access\n   Concentrator acknowledges the Host flow control request, all\
    \ PPP\n   Session Stage traffic must be flow controlled.\n"
- title: 4.  Discovery Stage
  contents:
  - "4.  Discovery Stage\n   The packet exchange of the Discovery Stage is unchanged\
    \ by this\n   specification.  The specifications of the Session Request (PADR)\
    \ and\n   the Session Confirmation (PADS) packets are extended to include the\n\
    \   optional Credit Tag Type-Length-Value (TLV).\n   In addition, the optional\
    \ Credit Grant (PADG) packet, the Credit\n   Response (PADC) packet, and the Link\
    \ Quality Metric (PADQ) packets\n   are introduced.\n"
- title: 4.1.  PPPoE Active Discovery Request (PADR)
  contents:
  - "4.1.  PPPoE Active Discovery Request (PADR)\n   The PADR packet is extended to\
    \ optionally contain a single Credit Tag\n   TLV, indicating that the Host requests\
    \ credit flow control for this\n   session.  The Credit Tag contains the Forward\
    \ Credit Notification\n   (FCN) and the Backward Credit Notification (BCN) to\
    \ be applied to the\n   PPP Session Stage.  The FCN provides the initial credits\
    \ granted to\n   the Access Concentrator by the Host.  The BCN value is set to\
    \ 0.\n   An example packet is shown in Appendix B.\n"
- title: 4.2.  PPPoE Active Discovery Session-confirmation (PADS)
  contents:
  - "4.2.  PPPoE Active Discovery Session-confirmation (PADS)\n   The PADS packet\
    \ is extended to optionally contain a single Credit Tag\n   TLV, indicating the\
    \ Forward Credit Notification (FCN) and the\n   Backward Credit Notification (BCN)\
    \ of the PPP Session Stage.\n   If the PADR contained a Credit Tag, then the Access\
    \ Concentrator PADS\n   packet indicates support for credit flow control by including\
    \ a\n   Credit Tag.  The PADS Credit Tag FCN represents the number of credits\n\
    \   being initially granted to the Host.  The Credit Tag BCN is an echo\n   of\
    \ the number of credits that the Host had granted to the Access\n   Concentrator\
    \ in the previous PADR packet.\n   Exchange of the Credit Tag TLV in the PADR\
    \ and PADS indicates that\n   credit flow control is supported by both the Access\
    \ Concentrator and\n   the Host for the designated PPP Session Stage.  This is\
    \ binding and\n   must be followed for the entire duration of the PPP Session\
    \ Stage.  A\n   session's credit binding must be established prior to any other\n\
    \   credit indications can be exchanged.\n   The Access Concentrator PADS should\
    \ only carry the Credit Tag in\n   response to a Host PADR with Credits.  If the\
    \ Access Concentrator\n   does not support credit flow, it should not include\
    \ the Credit Tag in\n   its PADS response.  The Host must terminate a credit-based\
    \ session\n   that cannot be supported by the Access Concentrator.  Credit Tags\n\
    \   transmitted outside an established credit based session must be\n   ignored.\n\
    \   An example packet is shown in Appendix B.\n"
- title: 4.3.  PPPoE Active Discovery Session-Grant (PADG)
  contents:
  - "4.3.  PPPoE Active Discovery Session-Grant (PADG)\n   The PPPoE Active Discovery\
    \ Session-Grant (PADG) is a new packet\n   defined in this specification.  An\
    \ Access Concentrator or Host MAY\n   send a PADG at any time after the PADR/PADS\
    \ exchange to grant\n   incremental flow control credits.  The CODE field is set\
    \ to 0x0A and\n   the SESSION_ID must be set to the unique value generated for\
    \ this\n   PPPoE Session.\n   The peer may then transmit data until the credits\
    \ are exhausted.\n   When the peer receives a PADG packet, it adds the incremental\
    \ credits\n   to its working credit count and responds with a PPPoE Active\n \
    \  Discovery Session-Credit (PADC) packet indicating the accumulated\n   credits.\n\
    \   The PADG packet must contain a single Credit Tag TLV, indicating the\n   Forward\
    \ Credit Notification (FCN) and the Backward Credit\n   Notification (BCN) of\
    \ the PPP Session.\n   The Credit Tag FCN indicates the number of incremental\
    \ credits being\n   granted to the peer by the node.  A value between 1 and 0xffff\n\
    \   represents an incremental credit grant.  The peer must add these\n   credits\
    \ to its accumulated transmit credit count.  A value of 0x0000\n   represents\
    \ a NULL grant, meaning that there are no additional credits\n   being granted.\n\
    \   The Credit Tag BCN indicates the remaining absolute credits that have\n  \
    \ been granted by the peer to the node.\n   Once a credit has been granted, it\
    \ must be honored.  The largest\n   number of outstanding credits at any time\
    \ is 0xffff.\n   The PADG packet must contain a single Sequence Number Tag TLV.\
    \  This\n   tag is used to carry a unique 16-bit sequence number to uniquely\n\
    \   identify each request.  The sequence number should be initialized to\n   zero\
    \ and incremented by one for each new PADG.  For retransmitted\n   PADGs, the\
    \ same sequence number that was used in the previous packet\n   transmission is\
    \ repeated.\n   An example packet is shown in Appendix B.\n"
- title: 4.4.  PPPoE Active Discovery Session-Credit Response (PADC)
  contents:
  - "4.4.  PPPoE Active Discovery Session-Credit Response (PADC)\n   The PPPoE Active\
    \ Discovery Session-Credit Response (PADC) is a new\n   packet defined in this\
    \ specification.  An Access Concentrator or Host\n   must send a PADC in response\
    \ to a PADG.  The CODE field is set to\n   0x0B, and the SESSION_ID must be set\
    \ to the unique value generated\n   for this PPPoE session.\n   The PADC packet\
    \ must contain a single Credit Tag TLV, indicating the\n   Forward Credit Notification\
    \ (FCN) and the Backward Credit\n   Notification (BCN) of the PPPoE session, and\
    \ any number of other Tag\n   types.\n   The Credit Tag FCN represents the absolute\
    \ credits remaining that\n   have been granted to the peer by the node.  The Credit\
    \ Tag BCN\n   represents the remaining absolute credits that have been granted\
    \ to\n   the node from the peer.\n   The PADC packet must contain a single Sequence\
    \ Number Tag.  The\n   sequence number must be the sequence number associated\
    \ with the PADG.\n   An example packet is shown in Appendix B.\n"
- title: 4.5.  PPPoE Active Discovery Quality (PADQ)
  contents:
  - "4.5.  PPPoE Active Discovery Quality (PADQ)\n   The PPPoE Active Discovery Quality\
    \ (PADQ) is a new packet defined in\n   this specification.  An Access Concentrator\
    \ or Host may send an\n   optional PADQ at any time to query or report link quality\
    \ metrics.\n   When transmitting PPP [1] streams over wireless links through radio\n\
    \   modems, the quality of the RF link directly affects the throughput.\n   The\
    \ PPPoE Active Discovery Quality (PADQ) packet can be used by the\n   radio modem\
    \ to report RF link metrics.  The CODE field is set to\n   0x0C, and the SESSION_ID\
    \ must be set to the unique value generated\n   for this PPPoE session.\n   The\
    \ PADQ must carry a single Metric Tag TYPE, which contains the\n   following fields:\n\
    \       Receive only - a bit that indicates whether the link is bi-\n       directional\
    \ or receive only.  A value of -1- indicates that the\n       link is receive-only.\n\
    \       Maximum data rate - the maximum theoretical data rate, in\n       kilobits\
    \ per second (kbps), that the Host link is capable of\n       providing.  When\
    \ metrics are reported, the maximum data rate must\n       be reported.\n    \
    \   Current data rate - the current data rate, in kilobits per second\n      \
    \ (kbps), achieved on the Host link.  If there is no distinction\n       between\
    \ maximum data rate and current data rate, current data\n       rate should equal\
    \ to the maximum data rate.\n       Latency - the transmission delay that a packet\
    \ encounters as it\n       is transmitted over the Host link.  This is reported\
    \ in absolute\n       delay, milliseconds.  If latency cannot be calculated, a\
    \ value of\n       0 should be reported.\n       Resources - a percentage, 0-100,\
    \ representing the amount of\n       remaining or available resources, such as\
    \ battery power.  If\n       resources cannot be calculated, a value of 100 should\
    \ be\n       reported.\n       Relative Link Quality (RLQ) - a non-dimensional\
    \ number, 0-100,\n       representing the relative link quality.  A value of 100\n\
    \       represents a link of the highest quality.  If the RLQ cannot be\n    \
    \   calculated, a value of 100 should be reported.\n   The PPPoE Active Discovery\
    \ Quality (PADQ) packet can be used to query\n   link metrics by setting the PADQ\
    \ Metric Tag Length to zero.\n   An example packet is shown in Appendix B.\n"
- title: 5.  PPP Session Stage
  contents:
  - "5.  PPP Session Stage\n   This specification defines the optional use of TLV\
    \ Tags in the PPP\n   Session Stage.  The first field following the PPP Session\
    \ Stage\n   LENGTH must be checked.  If the value is equal to the PPP Protocol\n\
    \   identifier (0xc021), then normal packet (payload) processing occurs.\n   When\
    \ the field following the PPP Session Stage LENGTH is not the PPP\n   Protocol\
    \ identifier (0xc021), a TLV is assumed.  In this case, the\n   Tag length is\
    \ subtracted from the overall payload length.\n   The Credit Tag is the only optional\
    \ TLV permitted in the PPP Session\n   Stage.  The Credit Tag TLV is used to support\
    \ in-band flow control.\n   A PPP Session Stage packet with Credits is shown in\
    \ Appendix B.\n"
- title: 6.  Credit Flow Considerations
  contents:
  - "6.  Credit Flow Considerations\n   For a given session, credit grants exchanged\
    \ in the Discovery Stage,\n   PADG-PADC, are referred to as out-of-band.  Credit\
    \ grants exchanged\n   in the PPP Session Stage are referred to as in-band.  Credit\n\
    \   processing is only applied to the packets transmitted in the PPP\n   Session\
    \ Stage.\n   Out-of-band credit management is handled by periodic exchange of\
    \ the\n   PPPoE Active Discovery Grant (PADG) and PPPoE Active Discovery Credit\n\
    \   (PADC) packets.\n   In-band credit management allows credits to be incrementally\
    \ granted\n   with each PPP Session Stage packet.  These in-band incremental credit\n\
    \   grants are not explicitly unacknowledged.  However, they are\n   reflected\
    \ in the in-band credit flow from the peer node.  This offers\n   the greatest\
    \ credit granting efficiency when traffic rates are high.\n   Once agreed upon\
    \ during the Discovery Stage, credit grants are\n   required to transmit packets\
    \ in the PPP Session Stage.  A node must\n   grant credits to its peer, before\
    \ the peer can transmit packets to\n   the granting node.\n   Credits are granted\
    \ incrementally in the forward direction.  Locally,\n   a node manages the credits\
    \ that it has granted to a peer, as well as\n   the credits that a peer has granted\
    \ to it.\n   Grants received from a peer are added to a local running credit\n\
    \   counter.  The accumulated credits are decremented with each packet\n   the\
    \ node transmits to the peer.  When the running counter reaches\n   zero, the\
    \ node stops transmitting packets to the peer.  The values of\n   the PADC are\
    \ not simply an echo of the PADG.  They represent the\n   current internal FCN/BCN\
    \ values of that node.\n   To manage the credits that a node has granted, the\
    \ node maintains a\n   running counter.  With each PPP Session Stage packet received\
    \ from\n   the peer, the running counter is decremented.  When the running\n \
    \  counter reaches zero, no additional packets are expected.  The node\n   incrementally\
    \ grants more credits to the peer to maintain packet\n   flow.  Packets received\
    \ when granted credits that have been exhausted\n   are discarded.\n   The largest\
    \ possible credit limit is 0x0ffff.  If an incremental\n   credit grant causes\
    \ the accumulated count to exceed this value, the\n   max value is used.\n   One\
    \ unit of credit represents 64-bytes, so a grant of 4 credits\n   translates to\
    \ 256 bytes.\n"
- title: 7.  PADG and PADC Retransmission
  contents:
  - "7.  PADG and PADC Retransmission\n   When a node does not receive a PADC packet\
    \ in response to a PADG\n   within a specified amount of time, it should transmit\
    \ a new PADG\n   packet with zero credits, using the same sequence number and\
    \ double\n   the waiting period.  A PADC response with the associated sequence\n\
    \   number will indicate whether or not the previously granted credits\n   were\
    \ accumulated.  If they were not, a PADG with credits, with an\n   incremented\
    \ sequence number, should be transmitted.  This process\n   should be repeated\
    \ until granted credits are properly acknowledged or\n   as many times as desired.\n\
    \   When a node does not receive a PADQ metric packet within a specified\n   amount\
    \ of time, it should resend the PADQ query packet and double the\n   waiting period.\
    \  This can be repeated as many times as desired.\n"
- title: 8.  Other Considerations
  contents:
  - "8.  Other Considerations\n   A node may autonomously generate PADQ metric packets.\
    \  The rate of\n   autonomously generated PADQ metric packets may need to be throttled\n\
    \   so as not to overrun the peer.\n   The sending and receiving of PPPoE control\
    \ packets are independent of\n   credit counts.  For example, a node must always\
    \ be able to receive a\n   PADG and send a PADC.\n   During normal operation,\
    \ nodes may disagree about the number of\n   credits.  Operational credit mismatches\
    \ would occur due to packets in\n   transit on the wire.  Much larger credit mismatches\
    \ can occur if\n   there are transmission errors.  To correct these larger errors,\
    \ the\n   BCN fields of the PADG and PADC packets and in-band credit grants\n\
    \   from a peer should be used by the receiving node to set the credit\n   values\
    \ of its peer.\n"
- title: 9.  IANA Considerations
  contents:
  - "9.  IANA Considerations\n   IANA has assigned the following PPPoE TAG Values\
    \ as noted in [3]:\n   TAG Value     TAG Name              Tag Description   \
    \      Reference\n   -----------   -------------------   ---------------------\
    \   ---------\n   262  0x0106   Credits               See the reference      \
    \ [RFC4938]\n   263  0x0107   Metrics               See the reference       [RFC4938]\n\
    \   264  0x0108   Sequence Number       See the reference       [RFC4938]\n  \
    \ IANA has assigned the following PPPoE Code fields as noted in [3]:\n   Code\
    \      PPPoE Packet Name              Description        Reference\n   --------\
    \  -----------------------------  -----------------  ---------\n   10  0x0a  PADG,\
    \ Session-Grant            See the reference  [RFC4938]\n   11  0x0b  PADC, Session-Credit\
    \ Response  See the reference  [RFC4938]\n   12  0x0c  PADQ, Quality         \
    \         See the reference  [RFC4938]\n"
- title: 10.  Security Considerations
  contents:
  - "10.  Security Considerations\n   This memo defines a mechanism for adding flow\
    \ control to the existing\n   PPP Over Ethernet (PPPoE) sessions.  These extensions\
    \ are subsequent\n   to the existing PPPoE security mechanisms as described in\
    \ RFC 2516\n   [2].  It is required that the Service Tag and Session ID always\
    \ be\n   validated prior to processing credits.\n"
- title: 'Appendix A: Tag Values'
  contents:
  - "Appendix A: Tag Values\n   Feature Tag_Types and Tag_Values\n   0x0106 Credits\n\
    \   This tag contains the Forward Credit Notification (FCN) and the\n   Backward\
    \ Credit Notification (BCN).  The Credit Tag TLV is OPTIONAL\n   with the PADR,\
    \ PADS, and the PPPoE data payload packet\n   (ETHER_TYPE=8864).\n    0      \
    \             1                   2                   3\n    0 1 2 3 4 5 6 7 8\
    \ 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       Tag Type = 0x0106       |        Tag Length=0x04        |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |              FCN              |              BCN              |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   0x0107 Metrics\n   This tag is used to report the link quality and performance.\
    \  The\n   Metrics Tag TLV contains the Receive Only indicator, Resource status,\n\
    \   Latency, Relative Link Quality (RLQ), Current data rate, and Maximum\n   data\
    \ rate.  The Metrics TLV is required by the PADQ packet.\n    0              \
    \     1                   2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2\
    \ 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       Tag Type = 0x0107       |        Tag Length=0x0A        |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |           Reserved          |R|      RLQ      |    Resource   |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |         Latency (MS)          |   Current Datarate (kbps)     |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |    Maximum Datarate (kbps)    |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   0x0108 Sequence Number\n   This tag is used to carry a unique 16-bit sequence\
    \ number in order to\n   identify a specific request and the associated response.\
    \  The\n   sequence number should be initialized to zero and incremented by one\n\
    \   for each new request.  For retransmitted packets, the same sequence\n   number\
    \ that was used in the previous packet transmission is repeated.\n   The PADG\
    \ and PADC packets require the Sequence Number Tag.\n   For example, the sequence\
    \ number sent in the PADG request is echoed\n   in the PADC response.  This ties\
    \ a specific PADC response to a\n   specific PADG request.\n    0            \
    \       1                   2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1\
    \ 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       Tag Type = 0x0108       |        Tag Length=0x02        |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       Sequence Number         |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n"
- title: 'Appendix B: Example Message Formats'
  contents:
  - "Appendix B: Example Message Formats\n   A PADR packet with OPTIONAL Credit Tag\
    \ Type 0x0106:\n    0                   1                   2                \
    \   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n \
    \  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   |   \
    \               Access_Concentrator_mac_addr                 |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |Access_Concentrator_mac_addr(c)|        Host_mac_addr          |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |                     Host_mac_addr (cont)                      |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |    ETHER_TYPE = 0x8863        | v = 1 | t = 1 |  CODE = 0x19  |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |     SESSION_ID = 0x1234       |      LENGTH = 0x0C            |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       Tag Type = 0x0101       |        Tag Length=0x00        |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       Tag Type = 0x0106       |        Tag Length=0x04        |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |              FCN              |              BCN              |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   A PADS packet with OPTIONAL Credit Tag Type 0x0106:\n    0               \
    \    1                   2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2\
    \ 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |                  Access_Concentrator_mac_addr                 |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |Access_Concentrator_mac_addr(c)|        Host_mac_addr          |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |                     Host_mac_addr (cont)                      |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |    ETHER_TYPE = 0x8863        | v = 1 | t = 1 |  CODE = 0x65  |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |     SESSION_ID = 0x1234       |      LENGTH = 0x0C            |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       Tag Type = 0x0101       |        Tag Length=0x00        |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       Tag Type = 0x0106       |        Tag Length=0x04        |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |              FCN              |              BCN              |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   A PADG packet with Credit Tag Type 0x0106:\n    0                   1    \
    \               2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7\
    \ 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |                     Destination_mac_addr                      |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |    Destination_mac_addr(c)    |       Source_mac_addr         |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |                     Source mac_addr (cont)                    |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |    ETHER_TYPE = 0x8863        | v = 1 | t = 1 |  CODE = 0x0A  |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |     SESSION_ID = 0x1234       |      LENGTH = 0x0E            |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       Tag Type = 0x0108       |        Tag Length=0x02        |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       Sequence Number         |       Tag Type = 0x0106       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |        Tag Length=0x04        |               FCN             |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |              BCN              |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   A PADC packet with Credit Tag Type 0x0106:\n    0                   1    \
    \               2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7\
    \ 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |                     Destination_mac_addr                      |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |    Destination_mac_addr(c)    |       Source_mac_addr         |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |                     Source mac_addr (cont)                    |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |    ETHER_TYPE = 0x8863        | v = 1 | t = 1 |  CODE = 0x0B  |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |     SESSION_ID = 0x1234       |      LENGTH = 0x0E            |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       Tag Type = 0x0108       |        Tag Length=0x02        |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       Sequence Number         |       Tag Type = 0x0106       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |        Tag Length=0x04        |               FCN             |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |              BCN              |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   A PADQ packet to query for the link metrics: This is indicated by\n   the\
    \ Metric Tag Length=0.\n    0                   1                   2        \
    \           3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9\
    \ 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |                  Access_Concentrator_mac_addr                 |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |Access_Concentrator_mac_addr(c)|        Host_mac_addr          |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |                     Host_mac_addr (cont)                      |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |    ETHER_TYPE = 0x8863        | v = 1 | t = 1 |  CODE = 0x0C  |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |     SESSION_ID = 0x1234       |      LENGTH = 0x08            |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       Tag Type = 0x0101       |        Tag Length=0x00        |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       Tag Type = 0x0107       |        Tag Length=0x00        |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   A PADQ packet with Metric Tag Type 0x0107:\n    0                   1    \
    \               2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7\
    \ 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |                  Access_Concentrator_mac_addr                 |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |Access_Concentrator_mac_addr(c)|        Host_mac_addr          |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |                     Host_mac_addr (cont)                      |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |    ETHER_TYPE = 0x8863        | v = 1 | t = 1 |  CODE = 0x0C  |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |     SESSION_ID = 0x1234       |      LENGTH = 0x12            |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       Tag Type = 0x0101       |        Tag Length=0x00        |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       Tag Type = 0x0107       |        Tag Length=0x0A        |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |           Reserved          |R|      RLQ      |    Resource   |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |         Latency (MS)          |   Current Datarate (kbps)     |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |    Maximum Datarate (kbps)    |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   A PPP LCP packet with optional Credit Tag Type 0x0106:\n   While the PPP protocol\
    \ value is shown (0xc021), the PPP payload is\n   left to the reader.  This is\
    \ a packet from the Host to the Access\n   Concentrator.\n    0              \
    \     1                   2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2\
    \ 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |                  Access_Concentrator_mac_addr                 |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |Access_Concentrator_mac_addr(c)|        Host_mac_addr          |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |                     Host_mac_addr (cont)                      |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |    ETHER_TYPE = 0x8864        | v = 1 | t = 1 |  CODE = 0x00  |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |     SESSION_ID = 0x1234       |      LENGTH = (payload)       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       Tag Type = 0x0106       |        Tag Length=0x04        |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |              FCN              |              BCN              |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |    PPP PROTOCOL = 0xc021      |        PPP payload           ~\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n"
- title: Acknowledgements
  contents:
  - "Acknowledgements\n   The authors would like to acknowledge the influence and\
    \ contributions\n   from Billy Moon, Fred Baker, Stan Ratliff, and Ed Paradise.\n"
- title: Normative References
  contents:
  - "Normative References\n   [1] Simpson, W., Ed., \"The Point-to-Point Protocol\
    \ (PPP)\", STD 51,\n       RFC 1661, July 1994.\n   [2] Mamakos, L., Lidl, K.,\
    \ Evarts, J., Carrel, D., Simone, D., and R.\n       Wheeler, \"A Method for Transmitting\
    \ PPP Over Ethernet (PPPoE)\",\n       RFC 2516, February 1999.\n   [3] Arberg,\
    \ P. and V. Mammoliti, \"IANA Considerations for PPP over\n       Ethernet (PPPoE)\"\
    , RFC 4937, June 2007.\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Bo Berry\n   Cisco\n   170 West Tasman Drive\n   San Jose,\
    \ CA  95134\n   USA\n   EMail: bberry@cisco.com\n   Howard Holgate\n   Cisco\n\
    \   170 West Tasman Drive\n   San Jose, CA  95134\n   USA\n   EMail: hholgate@cisco.com\n"
- title: Full Copyright Statement
  contents:
  - "Full Copyright Statement\n   Copyright (C) The IETF Trust (2007).\n   This document\
    \ is subject to the rights, licenses and restrictions\n   contained in BCP 78\
    \ and at www.rfc-editor.org/copyright.html, and\n   except as set forth therein,\
    \ the authors retain all their rights.\n   This document and the information contained\
    \ herein are provided on an\n   \"AS IS\" basis and THE CONTRIBUTOR, THE ORGANIZATION\
    \ HE/SHE REPRESENTS\n   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE\
    \ IETF TRUST AND\n   THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES,\
    \ EXPRESS\n   OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE\
    \ OF\n   THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED\n\
    \   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.\n"
- title: Intellectual Property
  contents:
  - "Intellectual Property\n   The IETF takes no position regarding the validity or\
    \ scope of any\n   Intellectual Property Rights or other rights that might be\
    \ claimed to\n   pertain to the implementation or use of the technology described\
    \ in\n   this document or the extent to which any license under such rights\n\
    \   might or might not be available; nor does it represent that it has\n   made\
    \ any independent effort to identify any such rights.  Information\n   on the\
    \ procedures with respect to rights in RFC documents can be\n   found in BCP 78\
    \ and BCP 79.\n   Copies of IPR disclosures made to the IETF Secretariat and any\n\
    \   assurances of licenses to be made available, or the result of an\n   attempt\
    \ made to obtain a general license or permission for the use of\n   such proprietary\
    \ rights by implementers or users of this\n   specification can be obtained from\
    \ the IETF on-line IPR repository at\n   http://www.ietf.org/ipr.\n   The IETF\
    \ invites any interested party to bring to its attention any\n   copyrights, patents\
    \ or patent applications, or other proprietary\n   rights that may cover technology\
    \ that may be required to implement\n   this standard.  Please address the information\
    \ to the IETF at\n   ietf-ipr@ietf.org.\n"
- title: Acknowledgement
  contents:
  - "Acknowledgement\n   Funding for the RFC Editor function is currently provided\
    \ by the\n   Internet Society.\n"
