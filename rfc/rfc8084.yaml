- title: __initial_text__
  contents:
  - '                   Network Transport Circuit Breakers

    '
- title: Abstract
  contents:
  - "Abstract\n   This document explains what is meant by the term \"network transport\n\
    \   Circuit Breaker\".  It describes the need for Circuit Breakers (CBs)\n   for\
    \ network tunnels and applications when using non-congestion-\n   controlled traffic\
    \ and explains where CBs are, and are not, needed.\n   It also defines requirements\
    \ for building a CB and the expected\n   outcomes of using a CB within the Internet.\n"
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This memo documents an Internet Best Current Practice.\n\
    \   This document is a product of the Internet Engineering Task Force\n   (IETF).\
    \  It represents the consensus of the IETF community.  It has\n   received public\
    \ review and has been approved for publication by the\n   Internet Engineering\
    \ Steering Group (IESG).  Further information on\n   BCPs is available in Section\
    \ 2 of RFC 7841.\n   Information about the current status of this document, any\
    \ errata,\n   and how to provide feedback on it may be obtained at\n   http://www.rfc-editor.org/info/rfc8084.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (c) 2017 IETF Trust and the persons identified\
    \ as the\n   document authors.  All rights reserved.\n   This document is subject\
    \ to BCP 78 and the IETF Trust's Legal\n   Provisions Relating to IETF Documents\n\
    \   (http://trustee.ietf.org/license-info) in effect on the date of\n   publication\
    \ of this document.  Please review these documents\n   carefully, as they describe\
    \ your rights and restrictions with respect\n   to this document.  Code Components\
    \ extracted from this document must\n   include Simplified BSD License text as\
    \ described in Section 4.e of\n   the Trust Legal Provisions and are provided\
    \ without warranty as\n   described in the Simplified BSD License.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1. Introduction ....................................................2\n\
    \      1.1. Types of CBs ...............................................5\n  \
    \ 2. Terminology .....................................................6\n   3.\
    \ Design of a CB (What makes a good CB?) ..........................6\n      3.1.\
    \ Functional Components ......................................6\n      3.2. Other\
    \ Network Topologies ...................................9\n           3.2.1. Use\
    \ with a Multicast Control/Routing Protocol ......10\n           3.2.2. Use with\
    \ Control Protocols Supporting\n                  Pre-provisioned Capacity ...........................11\n\
    \           3.2.3. Unidirectional CBs over Controlled Paths ...........11\n  \
    \ 4. Requirements for a Network Transport CB ........................12\n   5.\
    \ Examples of CBs ................................................15\n      5.1.\
    \ A Fast-Trip CB ............................................15\n           5.1.1.\
    \ A Fast-Trip CB for RTP .............................16\n      5.2. A Slow-Trip\
    \ CB ............................................16\n      5.3. A Managed CB ..............................................17\n\
    \           5.3.1. A Managed CB for SAToP Pseudowires .................17\n  \
    \         5.3.2. A Managed CB for Pseudowires (PWs) .................18\n   6.\
    \ Examples in Which CBs May Not Be Needed ........................19\n      6.1.\
    \ CBs over Pre-provisioned Capacity .........................19\n      6.2. CBs\
    \ with Tunnels Carrying Congestion-Controlled Traffic ...19\n      6.3. CBs with\
    \ Unidirectional Traffic and No Control Path .......20\n   7. Security Considerations\
    \ ........................................20\n   8. References .....................................................22\n\
    \      8.1. Normative References ......................................22\n  \
    \    8.2. Informative References ....................................22\n   Acknowledgments\
    \ ...................................................24\n   Author's Address ..................................................24\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   The term \"Circuit Breaker\" originates in electricity supply,\
    \ and has\n   nothing to do with network circuits or virtual circuits.  In\n \
    \  electricity supply, a Circuit Breaker (CB) is intended as a\n   protection\
    \ mechanism of last resort.  Under normal circumstances, a\n   CB ought not to\
    \ be triggered; it is designed to protect the supply\n   network and attached\
    \ equipment when there is overload.  People do not\n   expect an electrical CB\
    \ (or fuse) in their home to be triggered,\n   except when there is a wiring fault\
    \ or a problem with an electrical\n   appliance.\n   In networking, the CB principle\
    \ can be used as a protection mechanism\n   of last resort to avoid persistent\
    \ excessive congestion impacting\n   other flows that share network capacity.\
    \  Persistent congestion was a\n   feature of the early Internet of the 1980s.\
    \  This resulted in excess\n   traffic starving other connections from access\
    \ to the Internet.  It\n   was countered by the requirement to use congestion\
    \ control (CC) in\n   the Transmission Control Protocol (TCP) [Jacobson88].  These\n\
    \   mechanisms operate in Internet hosts to cause TCP connections to\n   \"back\
    \ off\" during congestion.  The addition of a congestion control\n   to TCP (currently\
    \ documented in [RFC5681]) ensured the stability of\n   the Internet, because\
    \ it was able to detect congestion and promptly\n   react.  This was effective\
    \ in an Internet where most TCP flows were\n   long lived (ensuring that they\
    \ could detect and respond to congestion\n   before the flows terminated).  Although\
    \ TCP was, by far, the dominant\n   traffic, this is no longer the always the\
    \ case, and non-congestion-\n   controlled traffic, including many applications\
    \ using the User\n   Datagram Protocol (UDP), can form a significant proportion\
    \ of the\n   total traffic traversing a link.  To avoid persistent excessive\n\
    \   congestion, the current Internet therefore requires consideration of\n   the\
    \ way that non-congestion-controlled traffic is forwarded.\n   A network transport\
    \ CB is an automatic mechanism that is used to\n   continuously monitor a flow\
    \ or aggregate set of flows.  The mechanism\n   seeks to detect when the flow(s)\
    \ experience persistent excessive\n   congestion.  When this is detected, a CB\
    \ terminates (or significantly\n   reduces the rate of) the flow(s).  This is\
    \ a safety measure to\n   prevent starvation of network resources denying other\
    \ flows from\n   access to the Internet.  Such measures are essential for an Internet\n\
    \   that is heterogeneous and for traffic that is hard to predict in\n   advance.\
    \  Avoiding persistent excessive congestion is important to\n   reduce the potential\
    \ for \"Congestion Collapse\" [RFC2914].\n   There are important differences between\
    \ a transport CB and a\n   congestion control method.  Congestion control (as\
    \ implemented in\n   TCP, Stream Control Transmission Protocol (SCTP), and Datagram\n\
    \   Congestion Control Protocol (DCCP)) operates on a timescale on the\n   order\
    \ of a packet Round-Trip Time (RTT): the time from sender to\n   destination and\
    \ return.  Congestion at a network link can also be\n   detected using Explicit\
    \ Congestion Notification (ECN) [RFC3168],\n   which allows the network to signal\
    \ congestion by marking ECN-capable\n   packets with a Congestion Experienced\
    \ (CE) mark.  Both loss and\n   reception of CE-marked packets are treated as\
    \ congestion events.\n   Congestion control methods are able to react to a congestion\
    \ event by\n   continuously adapting to reduce their transmission rate.  The goal\
    \ is\n   usually to limit the transmission rate to a maximum rate that\n   reflects\
    \ a fair use of the available capacity across a network path.\n   These methods\
    \ typically operate on individual traffic flows (e.g., a\n   5-tuple that includes\
    \ the IP addresses, protocol, and ports).\n   In contrast, CBs are recommended\
    \ for non-congestion-controlled\n   Internet flows and for traffic aggregates,\
    \ e.g., traffic sent using a\n   network tunnel.  They operate on timescales much\
    \ longer than the\n   packet RTT, and trigger under situations of abnormal (excessive)\n\
    \   congestion.  People have been implementing what this document\n   characterizes\
    \ as CBs on an ad hoc basis to protect Internet traffic.\n   This document therefore\
    \ provides guidance on how to deploy and use\n   these mechanisms.  Later sections\
    \ provide examples of cases where CBs\n   may or may not be desirable.\n   A CB\
    \ needs to measure (meter) some portion of the traffic to\n   determine if the\
    \ network is experiencing congestion and needs to be\n   designed to trigger robustly\
    \ when there is persistent excessive\n   congestion.\n   A CB trigger will often\
    \ utilize a series of successive sample\n   measurements metered at an ingress\
    \ point and an egress point (either\n   of which could be a transport endpoint).\
    \  The trigger needs to\n   operate on a timescale much longer than the path RTT\
    \ (e.g., seconds\n   to possibly many tens of seconds).  This longer period is\
    \ needed to\n   provide sufficient time for transport congestion control or\n\
    \   applications to adjust their rate following congestion, and for the\n   network\
    \ load to stabilize after any adjustment.  Congestion events\n   can be common\
    \ when a congestion-controlled transport is used over a\n   network link operating\
    \ near capacity.  Each event results in\n   reduction in the rate of the transport\
    \ flow experiencing congestion.\n   The longer period seeks to ensure that a CB\
    \ is not accidentally\n   triggered following a single (or even successive) congestion\n\
    \   event(s).\n   Once triggered, the CB needs to provide a control function (called\n\
    \   the \"reaction\").  This removes traffic from the network, either by\n   disabling\
    \ the flow or by significantly reducing the level of traffic.\n   This reaction\
    \ provides the required protection to prevent persistent\n   excessive congestion\
    \ being experienced by other flows that share the\n   congested part of the network\
    \ path.\n   Section 4 defines requirements for building a CB.\n   The operational\
    \ conditions that cause a CB to trigger ought to be\n   regarded as abnormal.\
    \  Examples of situations that could trigger a CB\n   include:\n   o  anomalous\
    \ traffic that exceeds the provisioned capacity (or whose\n      traffic characteristics\
    \ exceed the threshold configured for the\n      CB);\n   o  traffic generated\
    \ by an application at a time when the provisioned\n      network capacity is\
    \ being utilized for other purposes;\n   o  routing changes that cause additional\
    \ traffic to start using the\n      path monitored by the CB;\n   o  misconfiguration\
    \ of a service/network device where the capacity\n      available is insufficient\
    \ to support the current traffic\n      aggregate;\n   o  misconfiguration of\
    \ an admission controller or traffic policer\n      that allows more traffic than\
    \ expected across the path monitored\n      by the CB.\n   Other mechanisms could\
    \ also be available to network operators to\n   detect excessive congestion (e.g.,\
    \ an observation of excessive\n   utilization for a port on a network device).\
    \  Utilizing such\n   information, operational mechanisms could react to reduce\
    \ network\n   load over a shorter timescale than those of a network transport\
    \ CB.\n   The role of the CB over such paths remains as a method of last\n   resort.\
    \  Because it acts over a longer timescale, the CB ought to be\n   triggered only\
    \ when other reactions did not succeed in reducing\n   persistent excessive congestion.\n\
    \   In many cases, the reason for triggering a CB will not be evident to\n   the\
    \ source of the traffic (user, application, endpoint, etc.).  A CB\n   can be\
    \ used to limit traffic from applications that are unable, or\n   choose not,\
    \ to use congestion control or in cases in which the\n   congestion control properties\
    \ of the traffic cannot be relied upon\n   (e.g., traffic carried over a network\
    \ tunnel).  In such\n   circumstances, it is all but impossible for the CB to\
    \ signal back to\n   the impacted applications.  In some cases, applications could\n\
    \   therefore have difficulty in determining that a CB has been triggered\n  \
    \ and where in the network this happened.\n   Application developers are therefore\
    \ advised, where possible, to\n   deploy appropriate congestion control mechanisms.\
    \  An application\n   that uses congestion control will be aware of congestion\
    \ events in\n   the network.  This allows it to regulate the network load under\n\
    \   congestion, and it is expected to avoid triggering a network CB.  For\n  \
    \ applications that can generate elastic traffic, this will often be a\n   preferred\
    \ solution.\n"
- title: 1.1.  Types of CBs
  contents:
  - "1.1.  Types of CBs\n   There are various forms of network transport CBs.  These\
    \ are\n   differentiated mainly on the timescale over which they are triggered,\n\
    \   but also in the intended protection they offer:\n   o  Fast-Trip CBs: The\
    \ relatively short timescale used by this form of\n      CB is intended to provide\
    \ protection for network traffic from a\n      single flow or related group of\
    \ flows.\n   o  Slow-Trip CBs: This CB utilizes a longer timescale and is designed\n\
    \      to protect network traffic from congestion by traffic aggregates.\n   o\
    \  Managed CBs: Utilize the operations and management functions that\n      might\
    \ be present in a managed service to implement a CB.\n   Examples of each type\
    \ of CB are provided in Section 4.\n"
- title: 2.  Terminology
  contents:
  - "2.  Terminology\n   The key words \"MUST\", \"MUST NOT\", \"REQUIRED\", \"SHALL\"\
    , \"SHALL NOT\",\n   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"MAY\", and\
    \ \"OPTIONAL\" in this\n   document are to be interpreted as described in [RFC2119].\n"
- title: 3.  Design of a CB (What makes a good CB?)
  contents:
  - "3.  Design of a CB (What makes a good CB?)\n   Although CBs have been talked\
    \ about in the IETF for many years, there\n   has not yet been guidance on the\
    \ cases where CBs are needed or upon\n   the design of CB mechanisms.  This document\
    \ seeks to offer advice on\n   these two topics.\n   CBs are RECOMMENDED for IETF\
    \ protocols and tunnels that carry non-\n   congestion-controlled Internet flows\
    \ and for traffic aggregates.\n   This includes traffic sent using a network tunnel.\
    \  Designers of\n   other protocols and tunnel encapsulations also ought to consider\
    \ the\n   use of these techniques as a last resort to protect traffic that\n \
    \  shares the network path being used.\n   This document defines the requirements\
    \ for the design of a CB and\n   provides examples of how a CB can be constructed.\
    \  The specifications\n   of individual protocols and tunnel encapsulations need\
    \ to detail the\n   protocol mechanisms needed to implement a CB.\n   Section\
    \ 3.1 describes the functional components of a CB and\n   Section 3.2 defines\
    \ requirements for implementing a CB.\n"
- title: 3.1.  Functional Components
  contents:
  - "3.1.  Functional Components\n   The basic design of a CB involves communication\
    \ between an ingress\n   point (a sender) and an egress point (a receiver) of\
    \ a network flow\n   or set of flows.  A simple picture of operation is provided\
    \ in\n   Figure 1.  This shows a set of routers (each labeled R) connecting a\n\
    \   set of endpoints.\n   A CB is used to control traffic passing through a subset\
    \ of these\n   routers, acting between the ingress and a egress point network\n\
    \   devices.  The path between the ingress and egress could be provided\n   by\
    \ a tunnel or other network-layer technique.  One expected use would\n   be at\
    \ the ingress and egress of a service, where all traffic being\n   considered\
    \ terminates beyond the egress point; hence, the ingress and\n   egress carry\
    \ the same set of flows.\n +--------+                                        \
    \           +--------+\n |Endpoint|                                          \
    \         |Endpoint|\n +--+-----+          >>> circuit breaker traffic >>>   \
    \       +--+-----+\n    |                                                    \
    \        |\n    | +-+  +-+  +---------+  +-+  +-+  +-+  +--------+  +-+  +-+ |\n\
    \    +-+R+--+R+->+ Ingress +--+R+--+R+--+R+--+ Egress |--+R+--+R+-+\n      +++\
    \  +-+  +------+--+  +-+  +-+  +-+  +-----+--+  +++  +-+\n       |         ^ \
    \    |                          |      |\n       |         |  +--+------+    \
    \        +------+--+   |\n       |         |  | Ingress |            | Egress\
    \  |   |\n       |         |  | Meter   |            | Meter   |   |\n       |\
    \         |  +----+----+            +----+----+   |\n       |         |      \
    \ |                      |        |\n  +-+  |         |  +----+----+         \
    \        |        |  +-+\n  |R+--+         |  | Measure +<----------------+  \
    \      +--+R|\n  +++            |  +----+----+      Reported               +++\n\
    \   |             |       |           Egress                  |\n   |        \
    \     |  +----+----+      Measurement             |\n"
- title: +--+-----+       |  | Trigger +                           +--+-----+
  contents:
  - '+--+-----+       |  | Trigger +                           +--+-----+

    '
- title: '|Endpoint|       |  +----+----+                           |Endpoint|'
  contents:
  - '|Endpoint|       |  +----+----+                           |Endpoint|

    '
- title: +--------+       |       |                                +--------+
  contents:
  - "+--------+       |       |                                +--------+\n      \
    \           +---<---+\n                  Reaction\n   Figure 1: A CB controlling\
    \ the part of the end-to-end path between an\n   ingress point and an egress point.\
    \  Note in some cases, the trigger\n   and measurement functions could alternatively\
    \ be located at other\n   locations (e.g., at a network operations center).\n\
    \   In the context of a CB, the ingress and egress functions could be\n   implemented\
    \ in different places.  For example, they could be located\n   in network devices\
    \ at a tunnel ingress and at the tunnel egress.  In\n   some cases, they could\
    \ be located at one or both network endpoints\n   (see Figure 2), implemented\
    \ as components within a transport\n   protocol.\n    +----------+           \
    \      +----------+\n    | Ingress  |  +-+  +-+  +-+  | Egress   |\n    | Endpoint\
    \ +->+R+--+R+--+R+--+ Endpoint |\n    +--+----+--+  +-+  +-+  +-+  +----+-----+\n\
    \       ^    |                         |\n       | +--+------+             +----+----+\n\
    \       | | Ingress |             | Egress  |\n       | | Meter   |          \
    \   | Meter   |\n       | +----+----+             +----+----+\n       |      |\
    \                       |\n       | +--- +----+                  |\n       | |\
    \ Measure +<-----------------+\n       | +----+----+      Reported\n       | \
    \     |           Egress\n       | +----+----+      Measurement\n       | | Trigger\
    \ |\n       | +----+----+\n       |      |\n       +---<--+\n       Reaction\n\
    \   Figure 2: An endpoint CB implemented at the sender (ingress)\n   and receiver\
    \ (egress).\n   The set of components needed to implement a CB are:\n   1.  An\
    \ ingress meter (at the sender or tunnel ingress) that records\n       the number\
    \ of packets/bytes sent in each measurement interval.\n       This measures the\
    \ offered network load for a flow or set of\n       flows.  For example, the measurement\
    \ interval could be many\n       seconds (or every few tens of seconds or a series\
    \ of successive\n       shorter measurements that are combined by the CB Measurement\n\
    \       function).\n   2.  An egress meter (at the receiver or tunnel egress)\
    \ that records\n       the number/bytes received in each measurement interval.\
    \  This\n       measures the supported load for the flow or set of flows, and\
    \ it\n       could utilize other signals to detect the effect of congestion\n\
    \       (e.g., loss/congestion marking [RFC3168] experienced over the\n      \
    \ path).  The measurements at the egress could be synchronized\n       (including\
    \ an offset for the time of flight of the data, or\n       referencing the measurements\
    \ to a particular packet) to ensure\n       any counters refer to the same span\
    \ of packets.\n   3.  A method that communicates the measured values at the ingress\
    \ and\n       egress to the CB Measurement function.  This could use several\n\
    \       methods including sending return measurement packets (or control\n   \
    \    messages) from a receiver to a trigger function at the sender; an\n     \
    \  implementation using Operations, Administration and Management\n       (OAM);\
    \ or sending an in-band signaling datagram to the trigger\n       function.  This\
    \ could also be implemented purely as a control-\n       plane function, e.g.,\
    \ using a software-defined network\n       controller.\n   4.  A measurement function\
    \ that combines the ingress and egress\n       measurements to assess the present\
    \ level of network congestion.\n       (For example, the loss rate for each measurement\
    \ interval could\n       be deduced from calculating the difference between ingress\
    \ and\n       egress counter values.)  Note the method does not require high\n\
    \       accuracy for the period of the measurement interval (or therefore\n  \
    \     the measured value, since isolated and/or infrequent loss events\n     \
    \  need to be disregarded).\n   5.  A trigger function that determines whether\
    \ the measurements\n       indicate persistent excessive congestion.  This function\
    \ defines\n       an appropriate threshold for determining that there is persistent\n\
    \       excessive congestion between the ingress and egress.  This\n       preferably\
    \ considers a rate or ratio, rather than an absolute\n       value (e.g., more\
    \ than 10% loss, but other methods could also be\n       based on the rate of\
    \ transmission as well as the loss rate).  The\n       CB is triggered when the\
    \ threshold is exceeded in multiple\n       measurement intervals (e.g., three\
    \ successive measurements).\n       Designs need to be robust so that single or\
    \ spurious events do\n       not trigger a reaction.\n   6.  A reaction that is\
    \ applied at the ingress when the CB is\n       triggered.  This seeks to automatically\
    \ remove the traffic\n       causing persistent excessive congestion.\n   7. \
    \ A feedback control mechanism that triggers when either the\n       ingress and\
    \ egress measurements are not available, since this\n       also could indicate\
    \ a loss of control packets (also a symptom of\n       heavy congestion or inability\
    \ to control the load).\n"
- title: 3.2.  Other Network Topologies
  contents:
  - "3.2.  Other Network Topologies\n   A CB can be deployed in networks with topologies\
    \ different from that\n   presented in Figures 1 and 2.  This section describes\
    \ examples of\n   such usage and possible places where functions can be implemented.\n"
- title: 3.2.1.  Use with a Multicast Control/Routing Protocol
  contents:
  - "3.2.1.  Use with a Multicast Control/Routing Protocol\n    +----------+     \
    \            +--------+  +----------+\n    | Ingress  |  +-+  +-+  +-+  | Egress\
    \ |  |  Egress  |\n    | Endpoint +->+R+--+R+--+R+--+ Router |--+ Endpoint +->+\n\
    \    +----+-----+  +-+  +-+  +-+  +---+--+-+  +----+-----+  |\n         ^    \
    \     ^    ^    ^       |  ^         |        |\n         |         |    |   \
    \ |       |  |         |        |\n    +----+----+    + - - - < - - - - +  | \
    \   +----+----+   | Reported\n    | Ingress |      multicast Prune    |    | Egress\
    \  |   | Ingress\n    | Meter   |                         |    | Meter   |   |\
    \ Measurement\n    +---------+                         |    +----+----+   |\n\
    \                                        |         |        |\n              \
    \                          |    +----+----+   |\n                            \
    \            |    | Measure +<--+\n                                        | \
    \   +----+----+\n                                        |         |\n       \
    \                                 |    +----+----+\n                         \
    \     multicast |    | Trigger |\n                              Leave     |  \
    \  +----+----+\n                              Message   |         |\n        \
    \                                +----<----+\n   Figure 3: An example of a multicast\
    \ CB controlling the end-to-end\n   path between an ingress endpoint and an egress\
    \ endpoint.\n   Figure 3 shows one example of how a multicast CB could be implemented\n\
    \   at a pair of multicast endpoints (e.g., to implement a Fast-Trip CB,\n   Section\
    \ 5.1).  The ingress endpoint (the sender that sources the\n   multicast traffic)\
    \ meters the ingress load, generating an ingress\n   measurement (e.g., recording\
    \ timestamped packet counts), and it sends\n   this measurement to the multicast\
    \ group together with the traffic it\n   has measured.\n   Routers along a multicast\
    \ path forward the multicast traffic\n   (including the ingress measurement) to\
    \ all active endpoint receivers.\n   Each last hop (egress) router forwards the\
    \ traffic to one or more\n   egress endpoints.\n   In Figure 3, each endpoint\
    \ includes a meter that performs a local\n   egress load measurement.  An endpoint\
    \ also extracts the received\n   ingress measurement from the traffic and compares\
    \ the ingress and\n   egress measurements to determine if the CB ought to be triggered.\n\
    \   This measurement has to be robust to loss (see the previous section).\n  \
    \ If the CB is triggered, it generates a multicast leave message for\n   the egress\
    \ (e.g., an IGMP or MLD message sent to the last-hop\n   router), which causes\
    \ the upstream router to cease forwarding traffic\n   to the egress endpoint [RFC1112].\n\
    \   Any multicast router that has no active receivers for a particular\n   multicast\
    \ group will prune traffic for that group, sending a prune\n   message to its\
    \ upstream router.  This starts the process of releasing\n   the capacity used\
    \ by the traffic and is a standard multicast routing\n   function (e.g., using\
    \ Protocol Independent Multicast - Sparse Mode\n   (PIM-SM) routing protocol [RFC7761]).\
    \  Each egress operates\n   autonomously, and the CB \"reaction\" is executed\
    \ by the multicast\n   control plane (e.g., by PIM) requiring no explicit signaling\
    \ by the\n   CB along the communication path used for the control messages.  Note\n\
    \   there is no direct communication with the ingress; hence, a triggered\n  \
    \ CB only controls traffic downstream of the first-hop multicast\n   router. \
    \ It does not stop traffic flowing from the sender to the\n   first-hop router;\
    \ this is common practice for multicast deployment.\n   The method could also\
    \ be used with a multicast tunnel or subnetwork\n   (e.g., Section 5.2, Section\
    \ 5.3), where a meter at the ingress\n   generates additional control messages\
    \ to carry the measurement data\n   towards the egress where the egress metering\
    \ is implemented.\n"
- title: 3.2.2.  Use with Control Protocols Supporting Pre-provisioned Capacity
  contents:
  - "3.2.2.  Use with Control Protocols Supporting Pre-provisioned Capacity\n   Some\
    \ paths are provisioned using a control protocol, e.g., flows\n   provisioned\
    \ using the Multiprotocol Label Switching (MPLS) services,\n   paths provisioned\
    \ using the Resource Reservation Protocol (RSVP),\n   networks utilizing Software-Defined\
    \ Network (SDN) functions, or\n   admission-controlled Differentiated Services.\
    \  Figure 1 shows one\n   expected use case, where in this usage a separate device\
    \ could be\n   used to perform the measurement and trigger functions.  The reaction\n\
    \   generated by the trigger could take the form of a network-control\n   message\
    \ sent to the ingress and/or other network elements causing\n   these elements\
    \ to react to the CB.  Examples of this type of use are\n   provided in Section\
    \ 5.3.\n"
- title: 3.2.3.  Unidirectional CBs over Controlled Paths
  contents:
  - "3.2.3.  Unidirectional CBs over Controlled Paths\n   A CB can be used to control\
    \ unidirectional UDP traffic, providing\n   that there is a communication path\
    \ that can be used for control\n   messages to connect the functional components\
    \ at the ingress and\n   egress.  This communication path for the control messages\
    \ can exist\n   in networks for which the traffic flow is purely unidirectional.\
    \  For\n   example, a multicast stream that sends packets across an Internet\n\
    \   path and can use multicast routing to prune flows to shed network\n   load.\
    \  Some other types of subnetwork also utilize control protocols\n   that can\
    \ be used to control traffic flows.\n"
- title: 4.  Requirements for a Network Transport CB
  contents:
  - "4.  Requirements for a Network Transport CB\n   The requirements for implementing\
    \ a CB are:\n   1.   There needs to be a communication path for control messages\
    \ to\n        carry measurement data from the ingress meter and from the\n   \
    \     egress meter to the point of measurement.  (Requirements 16-18\n       \
    \ relate to the transmission of control messages.)\n   2.   A CB is REQUIRED to\
    \ define a measurement period over which the\n        CB Measurement function\
    \ measures the level of congestion or\n        loss.  This method does not have\
    \ to detect individual packet\n        loss, but it MUST have a way to know that\
    \ packets have been\n        lost/marked from the traffic flow.\n   3.   An egress\
    \ meter can also count ECN [RFC3168] Congestion\n        Experienced (CE) marks\
    \ as a part of measurement of congestion,\n        but in this case, loss MUST\
    \ also be measured to provide a\n        complete view of the level of congestion.\
    \  For tunnels,\n        [CONGESTION-FEEDBACK] describes a way to measure both\
    \ loss and\n        ECN-marking; these measurements could be used on a relatively\n\
    \        short timescale to drive a congestion control response and/or\n     \
    \   aggregated over a longer timescale with a higher trigger\n        threshold\
    \ to drive a CB.  Subsequent bullet items in this\n        section discuss the\
    \ necessity of using a longer timescale and a\n        higher trigger threshold.\n\
    \   4.   The measurement period used by a CB Measurement function MUST be\n  \
    \      longer than the time that current Congestion Control algorithms\n     \
    \   need to reduce their rate following detection of congestion.\n        This\
    \ is important because end-to-end Congestion Control\n        algorithms require\
    \ at least one RTT to notify and adjust the\n        traffic when congestion is\
    \ experienced, and congestion\n        bottlenecks can share traffic with a diverse\
    \ range of end-to-end\n        RTTs.  The measurement period is therefore expected\
    \ to be\n        significantly longer than the RTT experienced by the CB itself.\n\
    \   5.   If necessary, a CB MAY combine successive individual meter\n        samples\
    \ from the ingress and egress to ensure observation of an\n        average measurement\
    \ over a sufficiently long interval.  (Note\n        when meter samples need to\
    \ be combined, the combination needs to\n        reflect the sum of the individual\
    \ sample counts divided by the\n        total time/volume over which the samples\
    \ were measured.\n        Individual samples over different intervals cannot be\
    \ directly\n        combined to generate an average value.)\n   6.   A CB MUST\
    \ be constructed so that it does not trigger under light\n        or intermittent\
    \ congestion (see requirements 7-9).\n   7.   A CB is REQUIRED to define a threshold\
    \ to determine whether the\n        measured congestion is considered excessive.\n\
    \   8.   A CB is REQUIRED to define the triggering interval, defining the\n  \
    \      period over which the trigger uses the collected measurements.\n      \
    \  CBs need to trigger over a sufficiently long period to avoid\n        additionally\
    \ penalizing flows with a long path RTT (e.g., many\n        path RTTs).\n   9.\
    \   A CB MUST be robust to multiple congestion events.  This usually\n       \
    \ will define a number of measured persistent congestion events\n        per triggering\
    \ period.  For example, a CB MAY combine the\n        results of several measurement\
    \ periods to determine if the CB is\n        triggered (e.g., it is triggered\
    \ when persistent excessive\n        congestion is detected in three of the measurements\
    \ within the\n        triggering interval when more than three measurements were\n\
    \        collected).\n   10.  The normal reaction to a trigger SHOULD disable\
    \ all traffic that\n        contributed to congestion (otherwise, see requirements\
    \ 11 and\n        12).\n   11.  The reaction MUST be much more severe than that\
    \ of a Congestion\n        Control algorithm (such as TCP's congestion control\
    \ [RFC5681] or\n        TCP-Friendly Rate Control, TFRC [RFC5348]), because the\
    \ CB\n        reacts to more persistent congestion and operates over longer\n\
    \        timescales (i.e., the overload condition will have persisted for\n  \
    \      a longer time before the CB is triggered).\n   12.  A reaction that results\
    \ in a reduction SHOULD result in reducing\n        the traffic by at least an\
    \ order of magnitude.  A response that\n        achieves the reduction by terminating\
    \ flows, rather than\n        randomly dropping packets, will often be more desirable\
    \ to users\n        of the service.  A CB that reduces the rate of a flow, MUST\n\
    \        continue to monitor the level of congestion and MUST further\n      \
    \  react to reduce the rate if the CB is again triggered.\n   13.  The reaction\
    \ to a triggered CB MUST continue for a period that\n        is at least the triggering\
    \ interval.  Operator intervention will\n        usually be required to restore\
    \ a flow.  If an automated response\n        is needed to reset the trigger, then\
    \ this needs to not be\n        immediate.  The design of an automated reset mechanism\
    \ needs to\n        be sufficiently conservative that it does not adversely interact\n\
    \        with other mechanisms (including other CB algorithms that\n        control\
    \ traffic over a common path).  It SHOULD NOT perform an\n        automated reset\
    \ when there is evidence of continued congestion.\n   14.  A CB trigger SHOULD\
    \ be regarded as an abnormal network event.\n        As such, this event SHOULD\
    \ be logged.  The measurements that\n        lead to triggering of the CB SHOULD\
    \ also be logged.\n   15.  The control communication needs to carry measurements\n\
    \        (requirement 1) and, in some uses, also needs to transmit\n        trigger\
    \ messages to the ingress.  This control communication may\n        be in or out\
    \ of band.  The use of in-band communication is\n        RECOMMENDED when either\
    \ design would be possible.  The preferred\n        CB design is one that triggers\
    \ when it fails to receive\n        measurement reports that indicate an absence\
    \ of congestion, in\n        contrast to relying on the successful transmission\
    \ of a\n        \"congested\" signal back to the sender.  (The feedback signal\n\
    \        could itself be lost under congestion).\n        In Band:  An in-band\
    \ control method SHOULD assume that loss of\n           control messages is an\
    \ indication of potential congestion on\n           the path, and repeated loss\
    \ ought to cause the CB to be\n           triggered.  This design has the advantage\
    \ that it provides\n           fate-sharing of the traffic flow(s) and the control\n\
    \           communications.  This fate-sharing property is weaker when\n     \
    \      some or all of the measured traffic is sent using a path that\n       \
    \    differs from the path taken by the control traffic (e.g.,\n           where\
    \ traffic and control messages follow a different path\n           due to use\
    \ of equal-cost multipath routing, traffic\n           engineering, or tunnels\
    \ for specific types of traffic).\n        Out of Band:  An out-of-band control\
    \ method SHOULD NOT trigger a\n           CB reaction when there is loss of control\
    \ messages (e.g., a\n           loss of measurements).  This avoids failure amplification/\n\
    \           propagation when the measurement and data paths fail\n           independently.\
    \  A failure of an out-of-band communication\n           path SHOULD be regarded\
    \ as an abnormal network event and be\n           handled as appropriate for the\
    \ network; for example, this\n           event SHOULD be logged, and additional\
    \ network operator\n           action might be appropriate, depending on the network\
    \ and the\n           traffic involved.\n   16.  The control communication MUST\
    \ be designed to be robust to\n        packet loss.  A control message can be\
    \ lost if there is a\n        failure of the communication path used for the control\
    \ messages,\n        loss is likely also to be experienced during congestion/\n\
    \        overload.  This does not imply that it is desirable to provide\n    \
    \    reliable delivery (e.g., over TCP), since this can incur\n        additional\
    \ delay in responding to congestion.  Appropriate\n        mechanisms could be\
    \ to duplicate control messages to provide\n        increased robustness to loss\
    \ and/or to regard a lack of control\n        traffic as an indication that excessive\
    \ congestion could be\n        being experienced [RFC8085].  If control message\
    \ traffic is sent\n        over a shared path, it is RECOMMENDED that this control\
    \ traffic\n        is prioritized to reduce the probability of loss under\n  \
    \      congestion.  Control traffic also needs to be considered when\n       \
    \ provisioning a network that uses a CB.\n   17.  There are security requirements\
    \ for the control communication\n        between endpoints and/or network devices\
    \ (Section 7).  The\n        authenticity of the source and integrity of the control\
    \ messages\n        (measurements and triggers) MUST be protected from off-path\n\
    \        attacks.  When there is a risk of an on-path attack, a\n        cryptographic\
    \ authentication mechanism for all control/\n        measurement messages is RECOMMENDED.\n"
- title: 5.  Examples of CBs
  contents:
  - "5.  Examples of CBs\n   There are multiple types of CB that could be defined\
    \ for use in\n   different deployment cases.  There could be cases where a flow\n\
    \   becomes controlled by multiple CBs (e.g., when the traffic of an end-\n  \
    \ to-end flow is carried in a tunnel within the network).  This section\n   provides\
    \ examples of different types of CB.\n"
- title: 5.1.  A Fast-Trip CB
  contents:
  - "5.1.  A Fast-Trip CB\n   [RFC2309] discusses the dangers of congestion unresponsive\
    \ flows and\n   states that \"all UDP-based streaming applications should incorporate\n\
    \   effective congestion avoidance mechanisms.\"  Some applications do not\n \
    \  use a full-featured transport (TCP, SCTP, DCCP).  These applications\n   (e.g.,\
    \ using UDP and its UDP-Lite variant) need to provide\n   appropriate congestion\
    \ avoidance.  Guidance for applications that do\n   not use congestion-controlled\
    \ transports is provided in [RFC8085].\n   Such mechanisms can be designed to\
    \ react on much shorter timescales\n   than a CB, that only observes a traffic\
    \ envelope.  Congestion control\n   methods can also interact with an application\
    \ to more effectively\n   control its sending rate.\n   A Fast-trip CB is the\
    \ most responsive form of CB.  It has a response\n   time that is only slightly\
    \ larger than that of the traffic that it\n   controls.  It is suited to traffic\
    \ with well-understood\n   characteristics (and could include one or more trigger\
    \ functions\n   specifically tailored the type of traffic for which it is designed).\n\
    \   It is not suited to arbitrary network traffic and could be unsuitable\n  \
    \ for traffic aggregates, since it could prematurely trigger (e.g.,\n   when the\
    \ combined traffic from multiple congestion-controlled flows\n   leads to short-term\
    \ overload).\n   Although the mechanisms can be implemented in RTP-aware network\n\
    \   devices, these mechanisms are also suitable for implementation in\n   endpoints\
    \ (e.g., as a part of the transport system) where they can\n   also complement\
    \ end-to-end congestion control methods.  A shorter\n   response time enables\
    \ these mechanisms to triggers before other forms\n   of CB (e.g., CBs operating\
    \ on traffic aggregates at a point along the\n   network path).\n"
- title: 5.1.1.  A Fast-Trip CB for RTP
  contents:
  - "5.1.1.  A Fast-Trip CB for RTP\n   A set of Fast-Trip CB methods have been specified\
    \ for use together by\n   a Real-time Transport Protocol (RTP) flow using the\
    \ RTP/AVP Profile\n   [RFC8083].  It is expected that, in the absence of severe\
    \ congestion,\n   all RTP applications running on best-effort IP networks will\
    \ be able\n   to run without triggering these CBs.  An RTP Fast-Trip CB is\n \
    \  therefore implemented as a fail-safe that, when triggered, will\n   terminate\
    \ RTP traffic.\n   The sending endpoint monitors reception of in-band RTP Control\n\
    \   Protocol (RTCP) reception report blocks, as contained in sender\n   report\
    \ (SR) or receiver report (RR) packets, that convey reception\n   quality feedback\
    \ information.  This is used to measure (congestion)\n   loss, possibly in combination\
    \ with ECN [RFC6679].\n   The CB action (shutdown of the flow) triggers when any\
    \ of the\n   following trigger conditions are true:\n   1.  An RTP CB triggers\
    \ on reported lack of progress.\n   2.  An RTP CB triggers when no receiver reports\
    \ messages are\n       received.\n   3.  An RTP CB triggers when the long-term\
    \ RTP throughput (over many\n       RTTs) exceeds a hard upper limit determined\
    \ by a method that\n       resembles TCP-Friendly Rate Control (TFRC).\n   4.\
    \  An RTP CB includes the notion of Media Usability.  This CB is\n       triggered\
    \ when the quality of the transported media falls below\n       some required\
    \ minimum acceptable quality.\n"
- title: 5.2.  A Slow-Trip CB
  contents:
  - "5.2.  A Slow-Trip CB\n   A Slow-Trip CB could be implemented in an endpoint or\
    \ network device.\n   This type of CB is much slower at responding to congestion\
    \ than a\n   Fast-Trip CB.  This is expected to be more common.\n   One example\
    \ where a Slow-Trip CB is needed is where flows or traffic-\n   aggregates use\
    \ a tunnel or encapsulation and the flows within the\n   tunnel do not all support\
    \ TCP-style congestion control (e.g., TCP,\n   SCTP, TFRC), see [RFC8085], Section\
    \ 3.1.3.  A use case is where\n   tunnels are deployed in the general Internet\
    \ (rather than \"controlled\n   environments\" within an Internet service provider\
    \ or enterprise\n   network), especially when the tunnel could need to cross a\
    \ customer\n   access router.\n"
- title: 5.3.  A Managed CB
  contents:
  - "5.3.  A Managed CB\n   A managed CB is implemented in the signaling protocol\
    \ or management\n   plane that relates to the traffic aggregate being controlled.\
    \  This\n   type of CB is typically applicable when the deployment is within a\n\
    \   \"controlled environment\".\n   A CB requires more than the ability to determine\
    \ that a network path\n   is forwarding data or to measure the rate of a path\
    \ -- which are\n   often normal network operational functions.  There is an additional\n\
    \   need to determine a metric for congestion on the path and to trigger\n   a\
    \ reaction when a threshold is crossed that indicates persistent\n   excessive\
    \ congestion.\n   The control messages can use either in-band or out-of-band\n\
    \   communications.\n"
- title: 5.3.1.  A Managed CB for SAToP Pseudowires
  contents:
  - "5.3.1.  A Managed CB for SAToP Pseudowires\n   Section 8 of [RFC4553], SAToP\
    \ Pseudowire Emulation Edge-to-Edge\n   (PWE3), describes an example of a managed\
    \ CB for isochronous flows.\n   If such flows were to run over a pre-provisioned\
    \ (e.g., Multiprotocol\n   Label Switching, MPLS) infrastructure, then it could\
    \ be expected that\n   the PW would not experience congestion, because a flow\
    \ is not\n   expected to either increase (or decrease) their rate.  If, instead,\n\
    \   PW traffic is multiplexed with other traffic over the general\n   Internet,\
    \ it could experience congestion.  [RFC4553] states: \"If\n   SAToP PWs run over\
    \ a PSN providing best-effort service, they SHOULD\n   monitor packet loss in\
    \ order to detect 'severe congestion'.\"  The\n   currently recommended measurement\
    \ period is 1 second, and the trigger\n   operates when there are more than three\
    \ measured Severely Errored\n   Seconds (SES) within a period.  [RFC4553] goes\
    \ on to state that \"If\n   such a condition is detected, a SAToP PW ought to\
    \ shut down\n   bi-directionally for some period of time...\".\n   The concept\
    \ was that when the packet-loss ratio (congestion) level\n   increased above a\
    \ threshold, the PW was, by default, disabled.  This\n   use case considered fixed-rate\
    \ transmission, where the PW had no\n   reasonable way to shed load.\n   The trigger\
    \ needs to be set at a rate at which the PW is likely to\n   experience a serious\
    \ problem, possibly making the service\n   noncompliant.  At this point, triggering\
    \ the CB would remove the\n   traffic preventing undue impact on congestion-responsive\
    \ traffic\n   (e.g., TCP).  Part of the rationale was that high-loss ratios\n\
    \   typically indicated that something was \"broken\" and ought to have\n   already\
    \ resulted in operator intervention and therefore now need to\n   trigger this\
    \ intervention.\n   An operator-based response to the triggering of a CB provides\
    \ an\n   opportunity for other action to restore the service quality (e.g., by\n\
    \   shedding other loads or assigning additional capacity) or to\n   consciously\
    \ avoid reacting to the trigger while engineering a\n   solution to the problem.\
    \  This could require the trigger function to\n   send a control message to a\
    \ third location (e.g., a network\n   operations center, NOC) that is responsible\
    \ for operation of the\n   tunnel ingress, rather than the tunnel ingress itself.\n"
- title: 5.3.2.  A Managed CB for Pseudowires (PWs)
  contents:
  - "5.3.2.  A Managed CB for Pseudowires (PWs)\n   Pseudowires (PWs) [RFC3985] have\
    \ become a common mechanism for\n   tunneling traffic, and they could compete\
    \ for network resources both\n   with other PWs and with non-PW traffic, such\
    \ as TCP/IP flows.\n   [RFC7893] discusses congestion conditions that can arise\
    \ when PWs\n   compete with elastic (i.e., congestion responsive) network traffic\n\
    \   (e.g., TCP traffic).  Elastic PWs carrying IP traffic (see [RFC4448])\n  \
    \ do not raise major concerns because all of the traffic involved\n   responds,\
    \ reducing the transmission rate when network congestion is\n   detected.\n  \
    \ In contrast, inelastic PWs (e.g., a fixed-bandwidth Time Division\n   Multiplex,\
    \ TDM [RFC4553] [RFC5086] [RFC5087]) have the potential to\n   harm congestion-responsive\
    \ traffic or to contribute to excessive\n   congestion because inelastic PWs do\
    \ not adjust their transmission\n   rate in response to congestion.  [RFC7893]\
    \ analyses TDM PWs, with an\n   initial conclusion that a TDM PW operating with\
    \ a degree of loss that\n   could result in congestion-related problems is also\
    \ operating with a\n   degree of loss that results in an unacceptable TDM service.\
    \  For that\n   reason, the document suggests that a managed CB that shuts down\
    \ a PW\n   when it persistently fails to deliver acceptable TDM service is a\n\
    \   useful means for addressing these congestion concerns.  (See\n   Appendix\
    \ A of [RFC7893] for further discussion.)\n"
- title: 6.  Examples in Which CBs May Not Be Needed
  contents:
  - "6.  Examples in Which CBs May Not Be Needed\n   A CB is not required for a single\
    \ congestion-controlled flow using\n   TCP, SCTP, TFRC, etc.  In these cases,\
    \ the congestion control methods\n   are already designed to prevent persistent\
    \ excessive congestion.\n"
- title: 6.1.  CBs over Pre-provisioned Capacity
  contents:
  - "6.1.  CBs over Pre-provisioned Capacity\n   One common question is whether a\
    \ CB is needed when a tunnel is\n   deployed in a private network with pre-provisioned\
    \ capacity.\n   In this case, compliant traffic that does not exceed the provisioned\n\
    \   capacity ought not to result in persistent congestion.  A CB will\n   hence\
    \ only be triggered when there is noncompliant traffic.  It could\n   be argued\
    \ that this event ought never to happen -- but it could also\n   be argued that\
    \ the CB equally ought never to be triggered.  If a CB\n   were to be implemented,\
    \ it will provide an appropriate response, if\n   persistent congestion occurs\
    \ in an operational network.\n   Implementing a CB will not reduce the performance\
    \ of the flows, but\n   in the event that persistent excessive congestion occurs,\
    \ it protects\n   network traffic that shares network capacity with these flows.\
    \  It\n   also protects network traffic from a failure when CB traffic is\n  \
    \ (re)routed to cause additional network load on a non-pre-provisioned\n   path.\n"
- title: 6.2.  CBs with Tunnels Carrying Congestion-Controlled Traffic
  contents:
  - "6.2.  CBs with Tunnels Carrying Congestion-Controlled Traffic\n   IP-based traffic\
    \ is generally assumed to be congestion controlled,\n   i.e., it is assumed that\
    \ the transport protocols generating IP-based\n   traffic at the sender already\
    \ employ mechanisms that are sufficient\n   to address congestion on the path.\
    \  Therefore, a question arises when\n   people deploy a tunnel that is thought\
    \ to carry only an aggregate of\n   TCP traffic (or traffic using some other congestion\
    \ control method):\n   Is there an advantage in this case in using a CB?\n   TCP\
    \ (and SCTP) traffic in a tunnel is expected to reduce the\n   transmission rate\
    \ when network congestion is detected.  Other\n   transports (e.g., using UDP)\
    \ can employ mechanisms that are\n   sufficient to address congestion on the path\
    \ [RFC8085].  However,\n   even if the individual flows sharing a tunnel each\
    \ implement a\n   congestion control mechanism, and individually reduce their\n\
    \   transmission rate when network congestion is detected, the overall\n   traffic\
    \ resulting from the aggregate of the flows does not\n   necessarily avoid persistent\
    \ congestion.  For instance, most\n   congestion control mechanisms require long-lived\
    \ flows to react to\n   reduce the rate of a flow.  An aggregate of many short\
    \ flows could\n   result in many flows terminating before they experience congestion.\n\
    \   It is also often impossible for a tunnel service provider to know\n   that\
    \ the tunnel only contains congestion-controlled traffic (e.g.,\n   Inspecting\
    \ packet headers might not be possible).  Some IP-based\n   applications might\
    \ not implement adequate mechanisms to address\n   congestion.  The important\
    \ thing to note is that if the aggregate of\n   the traffic does not result in\
    \ persistent excessive congestion\n   (impacting other flows), then the CB will\
    \ not trigger.  This is the\n   expected case in this context -- so implementing\
    \ a CB ought not to\n   reduce performance of the tunnel, but in the event that\
    \ persistent\n   excessive congestion occurs, the CB protects other network traffic\n\
    \   that shares capacity with the tunnel traffic.\n"
- title: 6.3.  CBs with Unidirectional Traffic and No Control Path
  contents:
  - "6.3.  CBs with Unidirectional Traffic and No Control Path\n   A one-way forwarding\
    \ path could have no associated communication path\n   for sending control messages;\
    \ therefore, it cannot be controlled\n   using a CB (compare with Section 3.2.3).\n\
    \   A one-way service could be provided using a path with dedicated\n   pre-provisioned\
    \ capacity that is not shared with other elastic\n   Internet flows (i.e., flows\
    \ that vary their rate).  A forwarding path\n   could also be shared with other\
    \ flows.  One way to mitigate the\n   impact of traffic on the other flows is\
    \ to manage the traffic\n   envelope by using ingress policing.  Supporting this\
    \ type of traffic\n   in the general Internet requires operator monitoring to\
    \ detect and\n   respond to persistent excessive congestion.\n"
- title: 7.  Security Considerations
  contents:
  - "7.  Security Considerations\n   All CB mechanisms rely upon coordination between\
    \ the ingress and\n   egress meters and communication with the trigger function.\
    \  This is\n   usually achieved by passing network-control information (or protocol\n\
    \   messages) across the network.  Timely operation of a CB depends on\n   the\
    \ choice of measurement period.  If the receiver has an interval\n   that is overly\
    \ long, then the responsiveness of the CB decreases.\n   This impacts the ability\
    \ of the CB to detect and react to congestion.\n   If the interval is too short,\
    \ the CB could trigger prematurely\n   resulting in insufficient time for other\
    \ mechanisms to act and\n   potentially resulting in unnecessary disruption to\
    \ the service.\n   A CB could potentially be exploited by an attacker to mount\
    \ a Denial-\n   of-Service (DoS) attack against the traffic being controlled by\
    \ the\n   CB.  Therefore, mechanisms need to be implemented to prevent attacks\n\
    \   on the network-control information that would result in DoS.\n   The authenticity\
    \ of the source and integrity of the control messages\n   (measurements and triggers)\
    \ MUST be protected from off-path attacks.\n   Without protection, it could be\
    \ trivial for an attacker to inject\n   fake or modified control/measurement messages\
    \ (e.g., indicating high\n   packet loss rates) causing a CB to trigger and therefore\
    \ to mount a\n   DoS attack that disrupts a flow.\n   Simple protection can be\
    \ provided by using a randomized source port,\n   or equivalent field in the packet\
    \ header (such as the RTP SSRC value\n   and the RTP sequence number) expected\
    \ not to be known to an off-path\n   attacker.  Stronger protection can be achieved\
    \ using a secure\n   authentication protocol to mitigate this concern.\n   An\
    \ attack on the control messages is relatively easy for an attacker\n   on the\
    \ control path when the messages are neither encrypted nor\n   authenticated.\
    \  Use of a cryptographic authentication mechanism for\n   all control/measurement\
    \ messages is RECOMMENDED to mitigate this\n   concern, and would also provide\
    \ protection from off-path attacks.\n   There is a design trade-off between the\
    \ cost of introducing\n   cryptographic security for control messages and the\
    \ desire to protect\n   control communication.  For some deployment scenarios,\
    \ the value of\n   additional protection from DoS attacks will therefore lead\
    \ to a\n   requirement to authenticate all control messages.\n   Transmission\
    \ of network-control messages consumes network capacity.\n   This control traffic\
    \ needs to be considered in the design of a CB and\n   could potentially add to\
    \ network congestion.  If this traffic is sent\n   over a shared path, it is RECOMMENDED\
    \ that this control traffic be\n   prioritized to reduce the probability of loss\
    \ under congestion.\n   Control traffic also needs to be considered when provisioning\
    \ a\n   network that uses a CB.\n   The CB MUST be designed to be robust to packet\
    \ loss that can also be\n   experienced during congestion/overload.  Loss of control\
    \ messages\n   could be a side-effect of a congested network, but it also could\n\
    \   arise from other causes Section 4.\n   The security implications depend on\
    \ the design of the mechanisms, the\n   type of traffic being controlled and the\
    \ intended deployment\n   scenario.  Each design of a CB MUST therefore evaluate\
    \ whether the\n   particular CB mechanism has new security implications.\n"
- title: 8.  References
  contents:
  - '8.  References

    '
- title: 8.1.  Normative References
  contents:
  - "8.1.  Normative References\n   [RFC2119]  Bradner, S., \"Key words for use in\
    \ RFCs to Indicate\n              Requirement Levels\", BCP 14, RFC 2119,\n  \
    \            DOI 10.17487/RFC2119, March 1997,\n              <http://www.rfc-editor.org/info/rfc2119>.\n\
    \   [RFC3168]  Ramakrishnan, K., Floyd, S., and D. Black, \"The Addition\n   \
    \           of Explicit Congestion Notification (ECN) to IP\",\n             \
    \ RFC 3168, DOI 10.17487/RFC3168, September 2001,\n              <http://www.rfc-editor.org/info/rfc3168>.\n\
    \   [RFC8085]  Eggert, L., Fairhurst, G., and G. Shepherd, \"UDP Usage\n     \
    \         Guidelines\", BCP 145, RFC 8085, DOI 10.17487/RFC8085,\n           \
    \   March 2017, <http://www.rfc-editor.org/info/rfc8085>.\n"
- title: 8.2.  Informative References
  contents:
  - "8.2.  Informative References\n   [CONGESTION-FEEDBACK]\n              Wei, X.,\
    \ Zhu, L., and L. Deng, \"Tunnel Congestion\n              Feedback\", Work in\
    \ Progress,\n              draft-ietf-tsvwg-tunnel-congestion-feedback-04,\n \
    \             January 2017.\n   [Jacobson88]\n              Jacobson, V., \"Congestion\
    \ Avoidance and Control\", SIGCOMM\n              Symposium proceedings on Communications\
    \ architectures\n              and protocols, August 1988.\n   [RFC1112]  Deering,\
    \ S., \"Host extensions for IP multicasting\", STD 5,\n              RFC 1112,\
    \ DOI 10.17487/RFC1112, August 1989,\n              <http://www.rfc-editor.org/info/rfc1112>.\n\
    \   [RFC2309]  Braden, B., Clark, D., Crowcroft, J., Davie, B., Deering,\n   \
    \           S., Estrin, D., Floyd, S., Jacobson, V., Minshall, G.,\n         \
    \     Partridge, C., Peterson, L., Ramakrishnan, K., Shenker,\n              S.,\
    \ Wroclawski, J., and L. Zhang, \"Recommendations on\n              Queue Management\
    \ and Congestion Avoidance in the\n              Internet\", RFC 2309, DOI 10.17487/RFC2309,\
    \ April 1998,\n              <http://www.rfc-editor.org/info/rfc2309>.\n   [RFC2914]\
    \  Floyd, S., \"Congestion Control Principles\", BCP 41,\n              RFC 2914,\
    \ DOI 10.17487/RFC2914, September 2000,\n              <http://www.rfc-editor.org/info/rfc2914>.\n\
    \   [RFC3985]  Bryant, S., Ed. and P. Pate, Ed., \"Pseudo Wire Emulation\n   \
    \           Edge-to-Edge (PWE3) Architecture\", RFC 3985,\n              DOI 10.17487/RFC3985,\
    \ March 2005,\n              <http://www.rfc-editor.org/info/rfc3985>.\n   [RFC4448]\
    \  Martini, L., Ed., Rosen, E., El-Aawar, N., and G. Heron,\n              \"\
    Encapsulation Methods for Transport of Ethernet over MPLS\n              Networks\"\
    , RFC 4448, DOI 10.17487/RFC4448, April 2006,\n              <http://www.rfc-editor.org/info/rfc4448>.\n\
    \   [RFC4553]  Vainshtein, A., Ed. and YJ. Stein, Ed., \"Structure-\n        \
    \      Agnostic Time Division Multiplexing (TDM) over Packet\n              (SAToP)\"\
    , RFC 4553, DOI 10.17487/RFC4553, June 2006,\n              <http://www.rfc-editor.org/info/rfc4553>.\n\
    \   [RFC5086]  Vainshtein, A., Ed., Sasson, I., Metz, E., Frost, T., and\n   \
    \           P. Pate, \"Structure-Aware Time Division Multiplexed (TDM)\n     \
    \         Circuit Emulation Service over Packet Switched Network\n           \
    \   (CESoPSN)\", RFC 5086, DOI 10.17487/RFC5086, December 2007,\n            \
    \  <http://www.rfc-editor.org/info/rfc5086>.\n   [RFC5087]  Stein, Y(J)., Shashoua,\
    \ R., Insler, R., and M. Anavi,\n              \"Time Division Multiplexing over\
    \ IP (TDMoIP)\", RFC 5087,\n              DOI 10.17487/RFC5087, December 2007,\n\
    \              <http://www.rfc-editor.org/info/rfc5087>.\n   [RFC5348]  Floyd,\
    \ S., Handley, M., Padhye, J., and J. Widmer, \"TCP\n              Friendly Rate\
    \ Control (TFRC): Protocol Specification\",\n              RFC 5348, DOI 10.17487/RFC5348,\
    \ September 2008,\n              <http://www.rfc-editor.org/info/rfc5348>.\n \
    \  [RFC5681]  Allman, M., Paxson, V., and E. Blanton, \"TCP Congestion\n     \
    \         Control\", RFC 5681, DOI 10.17487/RFC5681, September 2009,\n       \
    \       <http://www.rfc-editor.org/info/rfc5681>.\n   [RFC6679]  Westerlund, M.,\
    \ Johansson, I., Perkins, C., O'Hanlon, P.,\n              and K. Carlberg, \"\
    Explicit Congestion Notification (ECN)\n              for RTP over UDP\", RFC\
    \ 6679, DOI 10.17487/RFC6679, August\n              2012, <http://www.rfc-editor.org/info/rfc6679>.\n\
    \   [RFC7761]  Fenner, B., Handley, M., Holbrook, H., Kouvelas, I.,\n        \
    \      Parekh, R., Zhang, Z., and L. Zheng, \"Protocol Independent\n         \
    \     Multicast - Sparse Mode (PIM-SM): Protocol Specification\n             \
    \ (Revised)\", STD 83, RFC 7761, DOI 10.17487/RFC7761, March\n              2016,\
    \ <http://www.rfc-editor.org/info/rfc7761>.\n   [RFC7893]  Stein, Y(J)., Black,\
    \ D., and B. Briscoe, \"Pseudowire\n              Congestion Considerations\"\
    , RFC 7893,\n              DOI 10.17487/RFC7893, June 2016,\n              <http://www.rfc-editor.org/info/rfc7893>.\n\
    \   [RFC8083]  Perkins, C. and V. Singh, \"Multimedia Congestion Control:\n  \
    \            Circuit Breakers for Unicast RTP Sessions\", RFC 8083,\n        \
    \      DOI 10.17487/RFC8083, March 2017,\n              <http://www.rfc-editor.org/info/rfc8083>.\n"
- title: Acknowledgments
  contents:
  - "Acknowledgments\n   There are many people who have discussed and described the\
    \ issues\n   that have motivated this document.  Contributions and comments\n\
    \   included: Lars Eggert, Colin Perkins, David Black, Matt Mathis,\n   Andrew\
    \ McGregor, Bob Briscoe, and Eliot Lear.  This work was partly\n   funded by the\
    \ European Community under its Seventh Framework\n   Programme through the Reducing\
    \ Internet Transport Latency (RITE)\n   project (ICT-317700).\n"
- title: Author's Address
  contents:
  - "Author's Address\n   Godred Fairhurst\n   University of Aberdeen\n   School of\
    \ Engineering\n   Fraser Noble Building\n   Aberdeen, Scotland  AB24 3UE\n   United\
    \ Kingdom\n   Email: gorry@erg.abdn.ac.uk\n   URI:   http://www.erg.abdn.ac.uk\n"
