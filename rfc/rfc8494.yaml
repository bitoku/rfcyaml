- title: __initial_text__
  contents:
  - ''
- title: Independent Submission                                         D. Wilson
  contents:
  - 'Independent Submission                                         D. Wilson

    '
- title: Multicast Email (MULE) over Allied Communications Publication (ACP) 142
  contents:
  - 'Multicast Email (MULE) over Allied Communications Publication (ACP) 142

    '
- title: Abstract
  contents:
  - "Abstract\n   Allied Communications Publication (ACP) 142 defines P_MUL, which\
    \ is a\n   protocol for reliable multicast suitable for bandwidth-constrained\n\
    \   and delayed acknowledgement (Emissions Control or \"EMCON\")\n   environments\
    \ running over UDP.  This document defines MULE (Multicast\n   Email), an application\
    \ protocol for transferring Internet Mail\n   messages (as described in RFC 5322)\
    \ over P_MUL (as defined in ACP\n   142).  MULE enables transfer between Message\
    \ Transfer Agents (MTAs).\n   It doesn't provide a service similar to SMTP Submission\
    \ (as described\n   in RFC 6409).\n   This document explains how MULE can be used\
    \ in conjunction with SMTP\n   (RFC 5321), including some common SMTP extensions,\
    \ to provide an\n   alternate MTA-to-MTA transfer mechanism.\n   This is not an\
    \ IETF specification; it describes an existing\n   implementation.  It is provided\
    \ in order to facilitate interoperable\n   implementations and third-party diagnostics.\n"
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This document is not an Internet Standards Track specification;\
    \ it is\n   published for informational purposes.\n   This is a contribution to\
    \ the RFC Series, independently of any other\n   RFC stream.  The RFC Editor has\
    \ chosen to publish this document at\n   its discretion and makes no statement\
    \ about its value for\n   implementation or deployment.  Documents approved for\
    \ publication by\n   the RFC Editor are not candidates for any level of Internet\
    \ Standard;\n   see Section 2 of RFC 7841.\n   Information about the current status\
    \ of this document, any errata,\n   and how to provide feedback on it may be obtained\
    \ at\n   https://www.rfc-editor.org/info/rfc8494.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (c) 2018 IETF Trust and the persons identified\
    \ as the\n   document authors.  All rights reserved.\n   This document is subject\
    \ to BCP 78 and the IETF Trust's Legal\n   Provisions Relating to IETF Documents\n\
    \   (https://trustee.ietf.org/license-info) in effect on the date of\n   publication\
    \ of this document.  Please review these documents\n   carefully, as they describe\
    \ your rights and restrictions with respect\n   to this document.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1. Introduction ....................................................3\n\
    \   2. Conventions Used in This Document ...............................4\n  \
    \ 3. MULE ............................................................4\n    \
    \  3.1. BSMTP-Like Payload Construction ............................6\n      3.2.\
    \ Payload Compression ........................................7\n      3.3. Error\
    \ Handling .............................................9\n   4. Gatewaying from\
    \ Internet Mail to MULE ...........................9\n      4.1. Use of BDAT ...............................................10\n\
    \   5. Gatewaying from MULE to Internet Mail ..........................10\n  \
    \    5.1. Handling of ESMTP Extensions and Errors ...................10\n   6.\
    \ IANA Considerations ............................................11\n      6.1.\
    \ Instructions for Designated Experts .......................11\n      6.2. SMTP\
    \ Extension Support in MULE ............................12\n   7. Security Considerations\
    \ ........................................14\n   8. References .....................................................15\n\
    \      8.1. Normative References ......................................15\n  \
    \    8.2. Informative References ....................................17\n   Acknowledgements\
    \ ..................................................19\n   Authors' Addresses\
    \ ................................................19\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   P_MUL [ACP142A] is a transport protocol for reliable multicast\
    \ in\n   bandwidth-constrained and delayed acknowledgement environments\n   running\
    \ on top of UDP.  This document defines MULE, an application\n   protocol for\
    \ transferring Internet Mail messages [RFC5322] over ACP\n   142 P_MUL.  The objectives\
    \ of MULE are 1) to take advantage of the\n   bandwidth-saving feature of using\
    \ the multicast service as supported\n   by modern computer networks and 2) to\
    \ allow message transfer under\n   EMCON (Emissions Control) conditions.  EMCON\
    \ or \"radio silence\" means\n   that although receiving nodes are able to receive\
    \ messages, they are\n   not able to acknowledge the receipt of messages.\n  \
    \ The objective of this protocol is to take advantage of multicast\n   communication\
    \ for the transfer of messages between MTAs (Message\n   Transfer Agents) on a\
    \ single multicast network under normal (i.e.,\n   dialog-oriented) communication\
    \ conditions and under EMCON conditions.\n   An \"EMCON condition\" means that\
    \ a receiving node is able to receive\n   messages but cannot acknowledge the\
    \ received messages for a\n   relatively long time (hours or even days).\n   Figure\
    \ 1 illustrates a simple multicast scenario, where the same\n   message has to\
    \ be sent from MTA A (through G/W) to MTA 1, MTA 2, MTA\n   3, and MTA 4.\n  \
    \                           +-------+                   +-------+\n          \
    \                   | MTA 1 |<-\\             /->| MTA 3 |\n    +-------+    \
    \ +-----+    +-------+   \\ +-------+ /   +-------+\n    | MTA A |<--->| G/W |<---------------->|\
    \ Router|<\n    +-------+     +-----+    +-------+   / +-------+ \\   +-------+\n\
    \                             | MTA 2 |<-/             \\->| MTA 4 |\n       \
    \                      +-------+                   +-------+\n               \
    \            |< -------------- MULE ---------------->|\n   Note: The gateway (G/W)\
    \ and Router might or might not be running on\n   the same system.\n         \
    \            Figure 1: Typical MULE Deployment\n   Due to multicast use (instead\
    \ of a unicast communication service) in\n   the above MTA configuration, only\
    \ one message transmission from the\n   gateway to the Router is required in order\
    \ to reach MTA 1, MTA 2, MTA\n   3, and MTA 4, instead of four as required with\
    \ unicast.  This saves\n   the transmission three message transactions and thus\
    \ results in\n   savings in bandwidth utilization.  Depending on the network bandwidth\n\
    \   (in some radio networks, it is less than 9.6 Kb/s), this savings can\n   be\
    \ of vital importance.  The savings in bandwidth utilization become\n   even greater\
    \ with every additional receiving MTA.\n   P_MUL employs a connectionless transport\
    \ protocol to transmit\n   messages.  This guarantees reliable message transfer\
    \ (through ACP 142\n   retransmissions) even in cases where one or more of the\
    \ receiving\n   MTAs are not able or allowed to acknowledge completely received\n\
    \   messages for a certain period of time.\n   This protocol specification requires\
    \ fixed multicast groups and\n   knowledge of the group memberships in one or\
    \ more multicast groups of\n   each participating node (MTA).  Membership in multicast\
    \ groups needs\n   to be established before MULE messages can be sent.\n   MULE\
    \ enables MTA-to-MTA transfer.  It doesn't provide service similar\n   to SMTP\
    \ Submission [RFC6409].\n"
- title: 2.  Conventions Used in This Document
  contents:
  - "2.  Conventions Used in This Document\n   The key words \"MUST\", \"MUST NOT\"\
    , \"REQUIRED\", \"SHALL\", \"SHALL NOT\",\n   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\"\
    , \"NOT RECOMMENDED\", \"MAY\", and\n   \"OPTIONAL\" in this document are to be\
    \ interpreted as described in\n   BCP 14 [RFC2119] [RFC8174] when, and only when,\
    \ they appear in all\n   capitals, as shown here.\n   This document also uses\
    \ terminology from [RFC5321] and [RFC5598].\n"
- title: 3.  MULE
  contents:
  - "3.  MULE\n   MULE is an electronic mail transport of Internet Mail messages\n\
    \   [RFC5322] over an ACP 142 P_MUL network.  It provides service similar\n  \
    \ to MTA-to-MTA SMTP [RFC5321].  This document doesn't define a service\n   similar\
    \ to SMTP Submission [RFC6409].\n   An important feature of MULE is its capability\
    \ to transport mail\n   across multiple networks, referred to as \"MULE mail relaying\"\
    .  A\n   network consists of the nodes that are mutually accessible by ACP\n \
    \  142.  Using MULE, a process can transfer mail to another process on\n   the\
    \ same ACP 142 network or to some other ACP 142 network via a relay\n   or gateway\
    \ process accessible to both networks.\n   MULE reuses the ESMTP extension framework\
    \ defined in [RFC5321].  MULE\n   servers MUST support the following ESMTP extensions:\
    \ DSN [RFC3461],\n   SIZE [RFC1870], 8BITMIME [RFC6152], MT-PRIORITY [RFC6710],\
    \ DELIVERBY\n   [RFC2852], BINARYMIME [RFC3030], and CHUNKING [RFC3030].  (As\
    \ the\n   message content size can always be determined from the compression\n\
    \   wrapper and the size of the envelope, no special handling is needed\n   for\
    \ binary messages.)\n   Relaying a message using MULE is performed as follows:\n\
    \   1.  The message is reassembled from one or more DATA_PDUs [ACP142A].\n   2.\
    \  If the contentType-ShortForm value is 25, the BSMTP-like payload\n       is\
    \ extracted from the compressedContent field and uncompressed\n       (the reverse\
    \ of the compression process specified in\n       Section 3.2).  If the contentType-ShortForm\
    \ value is not 25, it\n       is handled as described in [ACP142A].  This document\
    \ doesn't\n       further discuss any cases where the contentType-ShortForm value\n\
    \       is not 25.\n   3.  The list of recipients is extracted from RCPT-lines\
    \ (see\n       Section 3.1).  If the receiving node is not responsible (directly\n\
    \       or indirectly) for any of the recipients, the message is\n       discarded\
    \ and no further processing is done.\n   4.  The relay adds trace header fields,\
    \ e.g., the Received header\n       field.  See [RFC7601] and Section 4.4 of [RFC5321].\n\
    \   5.  The set of ACP 142 destinations for the message is created by\n      \
    \ extracting right-hand sides (hostnames) of each RCPT-line,\n       eliminating\
    \ duplicates, and then converting each hostname into\n       the next ACP 142\
    \ destination using static configuration.\n   6.  For each unique ACP 142 destination,\
    \ the following steps are\n       performed:\n       A.  A new BSMTP-like payload\
    \ is formed, as described in\n           Section 3.1, that only contains RCPT-lines\
    \ that correspond to\n           recipients that can receive mail through the\
    \ ACP 142\n           destination.\n       B.  The created payload is compressed\
    \ and encoded as specified in\n           Section 3.2.\n       C.  The compressed\
    \ payload is sent by P_MUL as a series of an\n           Address_PDU and one or\
    \ more DATA_PDUs.  When the message has\n           an associated MT-PRIORITY\
    \ value [RFC6710], the\n           MappedPriority(value) is included as the Priority\
    \ field of\n           the corresponding ACP 142 PDUs, including Address_PDUs,\n\
    \           DATA_PDUs, and DISCARD_MESSAGE_PDUs.  Here, MappedPriority(x)\n  \
    \         is defined as \"6 - x\".\n"
- title: 3.1.  BSMTP-Like Payload Construction
  contents:
  - "3.1.  BSMTP-Like Payload Construction\n   MULE uses a BSMTP-like payload that\
    \ differs from Batch SMTP (BSMTP)\n   [RFC2442] in that it eliminates unnecessary\
    \ information.  As with\n   BSMTP, ESMTP capability negotiation is not used, since\
    \ receiver EMCON\n   restrictions prohibit such real-time interaction.  For that\
    \ reason,\n   there is no point in including EHLO capabilities.  \"MAIL FROM:\"\
    \ and\n   \"RCPT TO:\" prefixes are also excluded in order to save a few bytes.\n\
    \   For each received message, the corresponding BSMTP-like payload is\n   constructed\
    \ as follows.  Note that lines are terminated using CR LF.\n   1.  The first line\
    \ is what would be used for the data following \"MAIL\n       FROM:\" in the SMTP\
    \ dialog, i.e., it contains the return-path\n       address (including the angle\
    \ brackets -- \"<\" and \">\") followed by\n       any ESMTP extension parameters\
    \ to the MAIL FROM command.\n   2.  After that, there is a separate line for each\
    \ recipient of the\n       message.  The value is what would follow \"RCPT TO:\"\
    \ in the SMTP\n       dialog, i.e., the recipient address (including the angle\
    \ brackets\n       -- \"<\" and \">\") followed by any ESMTP extension parameters\
    \ to the\n       corresponding RCPT TO command.\n   3.  The list of recipients\
    \ is terminated by an empty line (i.e., just\n       CR LF).\n   4.  The message\
    \ content follows the empty line.  There is no need for\n       transparency (\"\
    dot stuffing\") or terminating with a sequence \"CR\n       LF . CR LF\", as the\
    \ end of the message content is indicated by\n       the end of the data (see\
    \ Section 3.2 for more details).\n   The following is an example of a BSMTP-like\
    \ payload:\n  <from@example.com> MT-PRIORITY=4 BODY=8BITMIME RET=HDRS ENVID=QQ314159\n\
    \  <to1@example.net> NOTIFY=FAILURE ORCPT=rfc822;Bob@ent.example.net\n  <to2@example.net>\
    \ NOTIFY=SUCCESS,FAILURE\n  From: from@example.com\n  To: To1 <to1@example.net>,\
    \ To2 <to2@example.net>\n  Date: 27 Apr 2017 16:17 +0100\n  Subject: a test\n\
    \  MIME-Version: 1.0\n  Content-type: text/plain; charset=utf-8\n  Content-transfer-encoding:\
    \ 8bit\n  This is worth <poundsign>100\n   ABNF [RFC5234] for the BSMTP-like payload\
    \ is:\n   bsmtp-like-payload = envelope CRLF payload\n   envelope = FROM-line\
    \ 1*RCPT-line\n   FROM-line = reverse-path [SP mail-parameters] CRLF\n   RCPT-line\
    \ = forward-path [SP rcpt-parameters] CRLF\n   payload = *OCTET\n            \
    \ ; Conforms to message syntax as defined in RFC 5322\n             ; and extended\
    \ in MIME\n   OCTET = <any 0-255 octet value>\n   reverse-path = <as defined in\
    \ RFC 5321>\n   forward-path = <as defined in RFC 5321>\n   mail-parameters =\
    \ <as defined in RFC 5321>\n   rcpt-parameters = <as defined in RFC 5321>\n"
- title: 3.2.  Payload Compression
  contents:
  - "3.2.  Payload Compression\n   A BSMTP-like payload (Section 3.1) is first compressed\
    \ using\n   zlibCompress [RFC1950].  This compressed payload is placed in the\n\
    \   compressedContent field of the CompressedContentInfo element defined\n   in\
    \ Section 4.2.6 of [STANAG-4406].  This is then encoded as BER\n   encoding [ITU.X690.2002]\
    \ of the CompressedData ASN.1 structure.  For\n   convenience, the original definition\
    \ of the CompressedData ASN.1\n   structure is included below.  The contentType-ShortForm\
    \ value used by\n   MULE MUST be 25.  (The contentType-OID alternative is never\
    \ used by\n   MULE.)\n   The above procedure is similar to how X.400 messages\
    \ are sent using\n   Annex E of [STANAG-4406].  This makes it easier to implement\
    \ MTAs\n   that support both Internet messages and X.400 messages in the same\n\
    \   code base.\n   The Compressed Data Type (CDT) consists of content of any type\
    \ that\n   is compressed using a specified algorithm.  The following object\n\
    \   identifier identifies the CDT:\n   id-mmhs-CDT ID ::= { iso(1) identified-organization(3)\
    \ nato(26)\n                        stanags(0) mmhs(4406) object-identifiers(0)\n\
    \                        id-mcont(4) 2 }\n   The CDT is defined by the following\
    \ ASN.1 type.  Note that this\n   definition is copied from [STANAG-4406] and\
    \ is only reproduced here\n   for the reader's convenience.\n DEFINITIONS ::=\n\
    \ BEGIN\n CompressedData ::= SEQUENCE {\n                    compressionAlgorithm\
    \ CompressionAlgorithmIdentifier,\n                    compressedContentInfo CompressedContentInfo\n\
    \                    }\n CompressionAlgorithmIdentifier ::= CHOICE {\n       \
    \               algorithmID-ShortForm [0] AlgorithmID-ShortForm,\n           \
    \           algorithmID-OID [1] OBJECT IDENTIFIER\n                    }\n AlgorithmID-ShortForm\
    \ ::= INTEGER { zlibCompress (0) }\n CompressedContentInfo ::= SEQUENCE {\n  \
    \                    CHOICE {\n                        contentType-ShortForm [0]\
    \ ContentType-ShortForm,\n                        contentType-OID [1] OBJECT IDENTIFIER\n\
    \                      },\n                      compressedContent [0] EXPLICIT\
    \ OCTET STRING\n                    }\n ContentType-ShortForm ::= INTEGER {\n\
    \                      unidentified (0),\n                      external (1),\
    \ -- identified by the\n                                    -- object-identifier\n\
    \                                    -- of the EXTERNAL content\n            \
    \          p1 (2),\n                      p3 (3),\n                      p7 (4)\n\
    \                    }\n END\n   This document effectively adds another enumeration\
    \ choice to the\n   ContentType-ShortForm definition.  The updated definition\
    \ looks like\n   this:\n   ContentType-ShortForm ::= INTEGER {\n             \
    \           unidentified (0),\n                        external (1), -- identified\
    \ by the\n                                      -- object-identifier\n       \
    \                               -- of the EXTERNAL content\n                 \
    \       p1 (2),\n                        p3 (3),\n                        p7 (4),\n\
    \                        mule (25)\n                      }\n"
- title: 3.3.  Error Handling
  contents:
  - "3.3.  Error Handling\n   MULE doesn't allow a next-hop Message Transfer Agent\
    \ / Mail Delivery\n   Agent (MTA/MDA) to return immediate Response Codes for the\
    \ FROM-line\n   or any of the recipients in the RCPT-line.  Therefore, when MTAs/MDAs\n\
    \   that are compliant with this specification receive a message that\n   can't\
    \ be relayed further or delivered, they MUST generate a non-\n   delivery DSN\
    \ report [RFC6522] message that includes the message/\n   delivery-status body\
    \ part [RFC3464] and submit it using MULE to the\n   FROM-line return-path address.\n\
    \   MULE relays (unlike MULE MDAs) don't need to verify that they\n   understand\
    \ all FROM-line and/or RCPT-line parameters.  This keeps\n   relay-only implementations\
    \ simpler and avoids the need to upgrade\n   them when MULE MDAs are updated to\
    \ support extra SMTP extensions.\n"
- title: 4.  Gatewaying from Internet Mail to MULE
  contents:
  - "4.  Gatewaying from Internet Mail to MULE\n   A gateway from Internet Mail to\
    \ MULE acts as an SMTP server on the\n   receiving side and as a MULE client on\
    \ the sending side.\n   When the content type for a message is an Internet message\
    \ content\n   type (which may be 7-bit, 8-bit, or binary MIME), this is transported\n\
    \   using ACP 142 [ACP142A] as follows:\n   1.  For each mail message, a BSMTP-like\
    \ payload is formed, as\n       described in Section 3.1.\n   2.  The created\
    \ payload is compressed and encoded, as specified in\n       Section 3.2.\n  \
    \ 3.  The compressed payload is sent by P_MUL as a series of an\n       Address_PDU\
    \ and one or more DATA_PDUs.  When the message has an\n       associated MT-PRIORITY\
    \ value [RFC6710], the MappedPriority(value)\n       is included as the Priority\
    \ field of the corresponding ACP 142\n       PDUs, including Address_PDUs, DATA_PDUs,\
    \ and\n       DISCARD_MESSAGE_PDUs.  Here, MappedPriority(x) is defined as \"\
    6 -\n       x\".\n   The set of ACP 142 destinations for the message is derived\
    \ from the\n   next-hop MTAs for each of the recipients.\n"
- title: 4.1.  Use of BDAT
  contents:
  - "4.1.  Use of BDAT\n   If a message is received by a gateway through SMTP transfers\
    \ using\n   the CHUNKING [RFC3030] extension, the message is rebuilt by the\n\
    \   receiving MTA into its complete form and is then used as a single\n   MULE\
    \ message payload.  Use of the BINARYMIME [RFC3030] extension is\n   conveyed\
    \ by inclusion of the BODY=BINARY parameter in the FROM-line.\n"
- title: 5.  Gatewaying from MULE to Internet Mail
  contents:
  - "5.  Gatewaying from MULE to Internet Mail\n   A gateway from MULE to Internet\
    \ Mail acts as a MULE server on the\n   receiving side and as an SMTP client on\
    \ the sending side.\n   Gatewaying from an ACP 142 environment to Internet Email\
    \ is the\n   reverse of the process specified in Section 4.\n   1.  The ACP 142\
    \ message is reassembled from one or more DATA_PDUs.\n   2.  If the contentType-ShortForm\
    \ value is 25, the BSMTP-like payload\n       is extracted from the compressedContent\
    \ field and uncompressed\n       (the reverse of the compression process specified\
    \ in\n       Section 3.2).  If the contentType-ShortForm value is not 25, it\n\
    \       is handled as described in [ACP142A].\n   3.  The BSMTP-like payload is\
    \ converted to an SMTP transaction (see\n       Section 3.1).  (The first line\
    \ of the BSMTP-like payload is\n       prepended with \"MAIL FROM:\", and each\
    \ following line (until the\n       empty line is encountered) is prepended with\
    \ \"RCPT TO:\".  After\n       skipping the empty delimiting line, the rest of\
    \ the payload is\n       the message body.  This can be sent using either DATA\
    \ or a series\n       of BDAT commands, depending on the capabilities of the receiving\n\
    \       SMTP system.  For example, the presence of the BODY=BINARY\n       parameter\
    \ in the FROM-line would necessitate the use of BDAT or\n       down-conversion\
    \ of the message to 7-bit compatible\n       representation.)\n"
- title: 5.1.  Handling of ESMTP Extensions and Errors
  contents:
  - "5.1.  Handling of ESMTP Extensions and Errors\n   ESMTP extension parameters\
    \ to MAIL FROM and RCPT TO SMTP commands\n   obtained from a BSMTP-like payload\
    \ are processed according to\n   specifications of the corresponding ESMTP extensions.\
    \  This includes\n   dealing with the absence of support for ESMTP extensions\
    \ that\n   correspond to MAIL FROM and RCPT TO parameters found in the BSMTP-\n\
    \   like payload.\n   Failures to extract or uncompress BSMTP-like payloads should\
    \ result\n   in the receiver discarding such payloads.\n"
- title: 6.  IANA Considerations
  contents:
  - "6.  IANA Considerations\n   IANA has created a new \"Multicast Email SMTP Extensions\"\
    \ registry\n   under the \"MAIL Parameters\" registry.  The registration procedure\
    \ for\n   this new registry is \"Specification Required\" [RFC8126].  The\n  \
    \ designated expert(s) will be appointed and managed by the editors of\n   this\
    \ document together with the Independent Submissions Editor.\n   Selected designated\
    \ expert(s) should (collectively) have a good\n   knowledge of SMTP (and its extensions\
    \ and extensibility mechanisms),\n   as well as ACP 142 and its limitations. \
    \ The subsections below\n   provide more details: Section 6.1 specifies instructions\
    \ for the\n   designated expert(s), and Section 6.2 defines the initial content\
    \ of\n   the registry.\n"
- title: 6.1.  Instructions for Designated Experts
  contents:
  - "6.1.  Instructions for Designated Experts\n   The designated expert(s) for the\
    \ new \"Multicast Email SMTP\n   Extensions\" registry verifies that:\n   1. \
    \ The requested SMTP extension is already registered in the \"SMTP\n       Service\
    \ Extensions\" registry under the \"MAIL Parameters\" registry\n       on the\
    \ IANA website or is well documented on a stable, publicly\n       accessible\
    \ web page.\n   2.  The requested SMTP extension has the correct status as specified\n\
    \       in Section 6.2.  When deciding on status, the designated\n       expert(s)\
    \ is provided with the following guidelines:\n       A.  If the SMTP extension\
    \ only affects commands other than MAIL\n           FROM and RCPT TO, then the\
    \ status should be \"N/A\".\n       B.  If the SMTP extension only applies to\
    \ SMTP Submission\n           [RFC6409] (and not to SMTP relay or final SMTP delivery),\n\
    \           then the status should be \"N/A\".\n       C.  If the SMTP extension\
    \ changes which commands are allowed\n           during an SMTP transaction (e.g.,\
    \ if it adds commands\n           alternative to DATA or declares commands other\
    \ than MAIL\n           FROM, RCPT TO, DATA, and BDAT to be a part of SMTP\n \
    \          transaction), then the status should be \"Disallowed\" or\n       \
    \    \"Special\".\n       D.  If the SMTP extension adds extra round trips during\
    \ SMTP\n           transaction, then the status should be \"Disallowed\" or\n\
    \           \"Special\".\n   Registration requests should include the SMTP extension\
    \ name, status\n   (see Section 6.2), and specification reference.  They may also\n\
    \   include an optional note.\n"
- title: 6.2.  SMTP Extension Support in MULE
  contents:
  - "6.2.  SMTP Extension Support in MULE\n   The following table summarizes how different\
    \ SMTP extensions can be\n   used with MULE.  Each extension has one of the following\
    \ statuses:\n   o  Required - support by MULE relays, SMTP-to-MULE gateway, or\
    \ MULE-\n      to-SMTP gateway is required.\n   o  Disallowed - incompatible with\
    \ MULE.\n   o  N/A - not relevant because the extension affects commands other\n\
    \      than MAIL FROM and/or RCPT TO or is only defined for SMTP\n      Submission\
    \ [RFC6409].  Such extensions can still be used on the\n      receiving SMTP side\
    \ of an SMTP-to-MULE gateway.\n   o  Supported - can be used with MULE but requires\
    \ bilateral agreement\n      between sender and receiver.\n   o  Special - needs\
    \ to be accompanied by an explanation.\n          +------------------------+---------------+-----------+\n\
    \          | SMTP Extension Keyword | Status        | Reference |\n          +------------------------+---------------+-----------+\n\
    \          | SIZE                   | Required      | [RFC1870] |\n          |\
    \                        |               |           |\n          | 8BITMIME \
    \              | Required      | [RFC6152] |\n          |                    \
    \    |               |           |\n          | DSN                    | Required\
    \      | [RFC3461] |\n          |                        |               |   \
    \        |\n          | MT-PRIORITY            | Required      | [RFC6710] |\n\
    \          |                        |               |           |\n          |\
    \ DELIVERBY              | Required      | [RFC2852] |\n          |          \
    \              |               |           |\n          | BINARYMIME         \
    \    | Required      | [RFC3030] |\n          |                        |     \
    \          |           |\n          | CHUNKING               | Special (*)   |\
    \ [RFC3030] |\n          |                        |               |          \
    \ |\n          | ENHANCEDSTATUSCODES    | Special (**)  | [RFC2034] |\n      \
    \    |                        |               |           |\n          | RRVS\
    \                   | Supported     | [RFC7293] |\n          |               \
    \         |               |           |\n          | SUBMITTER              |\
    \ Supported     | [RFC4405] |\n          |                        |          \
    \     |           |\n          | PIPELINING             | N/A           | [RFC2920]\
    \ |\n          |                        |               |           |\n      \
    \    | STARTTLS               | N/A           | [RFC3207] |\n          |     \
    \                   |               |           |\n          | AUTH          \
    \         | Special (***) | [RFC4954] |\n          |                        |\
    \               |           |\n          | BURL                   | N/A      \
    \     | [RFC4468] |\n          |                        |               |    \
    \       |\n          | NO-SOLICITING          | N/A           | [RFC3865] |\n\
    \          |                        |               |           |\n          |\
    \ CHECKPOINT             | Disallowed    | [RFC1845] |\n          |          \
    \              |               |           |\n          | CONNEG             \
    \    | Disallowed    | [RFC4141] |\n          +------------------------+---------------+-----------+\n\
    \   Table 1: Initial Content of Multicast Email SMTP Extensions Registry\n   (*)\
    \ - SMTP CHUNKING MUST be supported on the receiving SMTP side of\n   an SMTP-to-MULE\
    \ gateway and MAY be used on the sending side of a\n   MULE-to-SMTP gateway. \
    \ A MULE relay doesn't need to do anything\n   special for this extension.\n \
    \  (**) - The ENHANCEDSTATUSCODES extension is supported by including\n   relevant\
    \ status codes in DSN [RFC3461] reports.\n   (***) - The AUTH parameter to the\
    \ MAIL FROM command is \"Supported\",\n   but the rest of the AUTH extension is\
    \ not applicable to MULE.\n   Note that the above table is not exhaustive.  Future\
    \ RFCs can define\n   how SMTP extensions not listed above can be used in MULE.\n"
- title: 7.  Security Considerations
  contents:
  - "7.  Security Considerations\n   As MULE provides a service similar to SMTP, many\
    \ of the security\n   considerations from [RFC5321] apply to MULE as well; in\
    \ particular,\n   Sections 7.1, 7.2, 7.4, 7.6, 7.7, and 7.9 of [RFC5321] apply\
    \ to MULE.\n   As MULE doesn't support capability negotiation or the SMTP HELP\n\
    \   command, Section 7.5 of [RFC5321] (\"Information Disclosure in\n   Announcements\"\
    ) doesn't apply to MULE.\n   As MULE doesn't support the VRFY or EXPN SMTP commands,\
    \ Section 7.3\n   of [RFC5321] (\"VRFY, EXPN, and Security\"), which discusses\
    \ email\n   harvesting, doesn't apply to MULE.\n   Arguably, it is more difficult\
    \ to cause an application-layer denial-\n   of-service attack on a MULE server\
    \ than on an SMTP server.  This is\n   partially due to the fact that ACP 142\
    \ is used in radio/wireless\n   networks with relatively low bandwidth and very\
    \ long round-trip time\n   (especially if EMCON is in force).  However, as MULE\
    \ is using\n   multicast, multiple MULE nodes can receive the same message and\
    \ spend\n   CPU resources processing it, even if the message is addressed to\n\
    \   recipients that are not going to be handled by such nodes.  As MULE\n   lacks\
    \ transport-layer source authentication, this can be abused by\n   malicious senders.\n\
    \   For security considerations related to use of zlib compression, see\n   [RFC6713].\n\
    \   Due to the multicast nature of MULE, it cannot use TLS or DTLS.\n   Accordingly,\
    \ it does not support STARTTLS [RFC3207].  Users should\n   not depend on hop-by-hop\
    \ confidentiality or integrity protection of\n   mail transferred among MULE MTAs\
    \ (in the same way they can't\n   generally rely on the use of STARTTLS on SMTP\
    \ MTA-to-MTA links) and\n   should consider the use of end-to-end protection,\
    \ such as S/MIME\n   [RFC5750] [RFC5751].\n   S/MIME signatures and/or encryption\
    \ survive gatewaying between MULE\n   and SMTP environments.\n"
- title: 8.  References
  contents:
  - '8.  References

    '
- title: 8.1.  Normative References
  contents:
  - "8.1.  Normative References\n   [ACP142A]  CCEB, \"P_Mul - A Protocol for Reliable\
    \ Multicast in\n              Bandwidth Constrained and Delayed Acknowledgement\
    \ (EMCON)\n              Environments\", ACP 142(A), October 2008.\n   [ITU.X690.2002]\n\
    \              ITU-T, \"Information Technology - ASN.1 encoding rules:\n     \
    \         Specification of Basic Encoding Rules (BER), Canonical\n           \
    \   Encoding Rules (CER) and Distinguished Encoding Rules\n              (DER)\"\
    , ITU-T Recommendation X.690, August 2015.\n   [RFC1870]  Klensin, J., Freed,\
    \ N., and K. Moore, \"SMTP Service\n              Extension for Message Size Declaration\"\
    , STD 10, RFC 1870,\n              DOI 10.17487/RFC1870, November 1995,\n    \
    \          <https://www.rfc-editor.org/info/rfc1870>.\n   [RFC1950]  Deutsch,\
    \ P. and J-L. Gailly, \"ZLIB Compressed Data Format\n              Specification\
    \ version 3.3\", RFC 1950,\n              DOI 10.17487/RFC1950, May 1996,\n  \
    \            <https://www.rfc-editor.org/info/rfc1950>.\n   [RFC2119]  Bradner,\
    \ S., \"Key words for use in RFCs to Indicate\n              Requirement Levels\"\
    , BCP 14, RFC 2119,\n              DOI 10.17487/RFC2119, March 1997,\n       \
    \       <https://www.rfc-editor.org/info/rfc2119>.\n   [RFC2852]  Newman, D.,\
    \ \"Deliver By SMTP Service Extension\", RFC 2852,\n              DOI 10.17487/RFC2852,\
    \ June 2000,\n              <https://www.rfc-editor.org/info/rfc2852>.\n   [RFC3030]\
    \  Vaudreuil, G., \"SMTP Service Extensions for Transmission\n              of\
    \ Large and Binary MIME Messages\", RFC 3030,\n              DOI 10.17487/RFC3030,\
    \ December 2000,\n              <https://www.rfc-editor.org/info/rfc3030>.\n \
    \  [RFC3461]  Moore, K., \"Simple Mail Transfer Protocol (SMTP) Service\n    \
    \          Extension for Delivery Status Notifications (DSNs)\",\n           \
    \   RFC 3461, DOI 10.17487/RFC3461, January 2003,\n              <https://www.rfc-editor.org/info/rfc3461>.\n\
    \   [RFC3464]  Moore, K. and G. Vaudreuil, \"An Extensible Message Format\n  \
    \            for Delivery Status Notifications\", RFC 3464,\n              DOI\
    \ 10.17487/RFC3464, January 2003,\n              <https://www.rfc-editor.org/info/rfc3464>.\n\
    \   [RFC5234]  Crocker, D., Ed. and P. Overell, \"Augmented BNF for Syntax\n \
    \             Specifications: ABNF\", STD 68, RFC 5234,\n              DOI 10.17487/RFC5234,\
    \ January 2008,\n              <https://www.rfc-editor.org/info/rfc5234>.\n  \
    \ [RFC5321]  Klensin, J., \"Simple Mail Transfer Protocol\", RFC 5321,\n     \
    \         DOI 10.17487/RFC5321, October 2008,\n              <https://www.rfc-editor.org/info/rfc5321>.\n\
    \   [RFC5322]  Resnick, P., Ed., \"Internet Message Format\", RFC 5322,\n    \
    \          DOI 10.17487/RFC5322, October 2008,\n              <https://www.rfc-editor.org/info/rfc5322>.\n\
    \   [RFC5598]  Crocker, D., \"Internet Mail Architecture\", RFC 5598,\n      \
    \        DOI 10.17487/RFC5598, July 2009,\n              <https://www.rfc-editor.org/info/rfc5598>.\n\
    \   [RFC6152]  Klensin, J., Freed, N., Rose, M., and D. Crocker, Ed.,\n      \
    \        \"SMTP Service Extension for 8-bit MIME Transport\", STD 71,\n      \
    \        RFC 6152, DOI 10.17487/RFC6152, March 2011,\n              <https://www.rfc-editor.org/info/rfc6152>.\n\
    \   [RFC6522]  Kucherawy, M., Ed., \"The Multipart/Report Media Type for\n   \
    \           the Reporting of Mail System Administrative Messages\",\n        \
    \      STD 73, RFC 6522, DOI 10.17487/RFC6522, January 2012,\n              <https://www.rfc-editor.org/info/rfc6522>.\n\
    \   [RFC6710]  Melnikov, A. and K. Carlberg, \"Simple Mail Transfer\n        \
    \      Protocol Extension for Message Transfer Priorities\",\n              RFC\
    \ 6710, DOI 10.17487/RFC6710, August 2012,\n              <https://www.rfc-editor.org/info/rfc6710>.\n\
    \   [RFC6713]  Levine, J., \"The 'application/zlib' and 'application/gzip'\n \
    \             Media Types\", RFC 6713, DOI 10.17487/RFC6713, August 2012,\n  \
    \            <https://www.rfc-editor.org/info/rfc6713>.\n   [RFC7601]  Kucherawy,\
    \ M., \"Message Header Field for Indicating\n              Message Authentication\
    \ Status\", RFC 7601,\n              DOI 10.17487/RFC7601, August 2015,\n    \
    \          <https://www.rfc-editor.org/info/rfc7601>.\n   [RFC8126]  Cotton, M.,\
    \ Leiba, B., and T. Narten, \"Guidelines for\n              Writing an IANA Considerations\
    \ Section in RFCs\", BCP 26,\n              RFC 8126, DOI 10.17487/RFC8126, June\
    \ 2017,\n              <https://www.rfc-editor.org/info/rfc8126>.\n   [RFC8174]\
    \  Leiba, B., \"Ambiguity of Uppercase vs Lowercase in RFC\n              2119\
    \ Key Words\", BCP 14, RFC 8174, DOI 10.17487/RFC8174,\n              May 2017,\
    \ <https://www.rfc-editor.org/info/rfc8174>.\n   [STANAG-4406]\n             \
    \ NATO, \"Military Message Handling System\", STANAG 4406 Ed.\n              2,\
    \ March 2005.\n"
- title: 8.2.  Informative References
  contents:
  - "8.2.  Informative References\n   [RFC1845]  Crocker, D., Freed, N., and A. Cargille,\
    \ \"SMTP Service\n              Extension for Checkpoint/Restart\", RFC 1845,\n\
    \              DOI 10.17487/RFC1845, September 1995,\n              <https://www.rfc-editor.org/info/rfc1845>.\n\
    \   [RFC2034]  Freed, N., \"SMTP Service Extension for Returning Enhanced\n  \
    \            Error Codes\", RFC 2034, DOI 10.17487/RFC2034, October\n        \
    \      1996, <https://www.rfc-editor.org/info/rfc2034>.\n   [RFC2442]  Freed,\
    \ N., Newman, D., Belissent, J., and M. Hoy, \"The\n              Batch SMTP Media\
    \ Type\", RFC 2442, DOI 10.17487/RFC2442,\n              November 1998, <https://www.rfc-editor.org/info/rfc2442>.\n\
    \   [RFC2920]  Freed, N., \"SMTP Service Extension for Command\n             \
    \ Pipelining\", STD 60, RFC 2920, DOI 10.17487/RFC2920,\n              September\
    \ 2000, <https://www.rfc-editor.org/info/rfc2920>.\n   [RFC3207]  Hoffman, P.,\
    \ \"SMTP Service Extension for Secure SMTP over\n              Transport Layer\
    \ Security\", RFC 3207, DOI 10.17487/RFC3207,\n              February 2002, <https://www.rfc-editor.org/info/rfc3207>.\n\
    \   [RFC3865]  Malamud, C., \"A No Soliciting Simple Mail Transfer\n         \
    \     Protocol (SMTP) Service Extension\", RFC 3865,\n              DOI 10.17487/RFC3865,\
    \ September 2004,\n              <https://www.rfc-editor.org/info/rfc3865>.\n\
    \   [RFC4141]  Toyoda, K. and D. Crocker, \"SMTP and MIME Extensions for\n   \
    \           Content Conversion\", RFC 4141, DOI 10.17487/RFC4141,\n          \
    \    November 2005, <https://www.rfc-editor.org/info/rfc4141>.\n   [RFC4405] \
    \ Allman, E. and H. Katz, \"SMTP Service Extension for\n              Indicating\
    \ the Responsible Submitter of an E-Mail\n              Message\", RFC 4405, DOI\
    \ 10.17487/RFC4405, April 2006,\n              <https://www.rfc-editor.org/info/rfc4405>.\n\
    \   [RFC4468]  Newman, C., \"Message Submission BURL Extension\", RFC 4468,\n\
    \              DOI 10.17487/RFC4468, May 2006,\n              <https://www.rfc-editor.org/info/rfc4468>.\n\
    \   [RFC4954]  Siemborski, R., Ed. and A. Melnikov, Ed., \"SMTP Service\n    \
    \          Extension for Authentication\", RFC 4954,\n              DOI 10.17487/RFC4954,\
    \ July 2007,\n              <https://www.rfc-editor.org/info/rfc4954>.\n   [RFC5750]\
    \  Ramsdell, B. and S. Turner, \"Secure/Multipurpose Internet\n              Mail\
    \ Extensions (S/MIME) Version 3.2 Certificate\n              Handling\", RFC 5750,\
    \ DOI 10.17487/RFC5750, January 2010,\n              <https://www.rfc-editor.org/info/rfc5750>.\n\
    \   [RFC5751]  Ramsdell, B. and S. Turner, \"Secure/Multipurpose Internet\n  \
    \            Mail Extensions (S/MIME) Version 3.2 Message\n              Specification\"\
    , RFC 5751, DOI 10.17487/RFC5751, January\n              2010, <https://www.rfc-editor.org/info/rfc5751>.\n\
    \   [RFC6409]  Gellens, R. and J. Klensin, \"Message Submission for Mail\",\n\
    \              STD 72, RFC 6409, DOI 10.17487/RFC6409, November 2011,\n      \
    \        <https://www.rfc-editor.org/info/rfc6409>.\n   [RFC7293]  Mills, W. and\
    \ M. Kucherawy, \"The Require-Recipient-Valid-\n              Since Header Field\
    \ and SMTP Service Extension\", RFC 7293,\n              DOI 10.17487/RFC7293,\
    \ July 2014,\n              <https://www.rfc-editor.org/info/rfc7293>.\n"
- title: Acknowledgements
  contents:
  - "Acknowledgements\n   Thank you to Steve Kille for suggestions, comments, and\
    \ corrections\n   on this document.  An additional thank you goes to Barry Leiba,\
    \ Sean\n   Turner, Dave Crocker, and Nick Hudson for reviews and comments on\n\
    \   this document.\n   Some text was borrowed from \"P_Mul: An Application Protocol\
    \ for the\n   Transfer of Messages over Multicast Subnetworks and under EMCON\n\
    \   Restrictions\" (September 1997); we gratefully acknowledge the work of\n \
    \  the authors of that document.\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   David Wilson\n   Isode Ltd\n   14 Castle Mews\n   Hampton,\
    \ Middlesex  TW12 2NP\n   United Kingdom\n   Email: David.Wilson@isode.com\n \
    \  Alexey Melnikov (editor)\n   Isode Ltd\n   14 Castle Mews\n   Hampton, Middlesex\
    \  TW12 2NP\n   United Kingdom\n   Email: Alexey.Melnikov@isode.com\n"
