- title: __initial_text__
  contents:
  - "          Terminology for Benchmarking BGP Device Convergence\n             \
    \             in the Control Plane\n"
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This memo provides information for the Internet community.\
    \  It does\n   not specify an Internet standard of any kind.  Distribution of\
    \ this\n   memo is unlimited.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (C) The Internet Society (2005).\n"
- title: Abstract
  contents:
  - "Abstract\n   This document establishes terminology to standardize the description\n\
    \   of benchmarking methodology for measuring eBGP convergence in the\n   control\
    \ plane of a single BGP device.  Future documents will address\n   iBGP convergence,\
    \ the initiation of forwarding based on converged\n   control plane information\
    \ and multiple interacting BGP devices.  This\n   terminology is applicable to\
    \ both IPv4 and IPv6.  Illustrative\n   examples of each version are included\
    \ where relevant.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1. Introduction ....................................................3\n\
    \      1.1. Overview and Road Map ......................................4\n  \
    \    1.2. Definition Format ..........................................5\n   2.\
    \ Components and Characteristics of Routing Information ...........5\n      2.1.\
    \ (Network) Prefix ...........................................5\n      2.2. Network\
    \ Prefix Length ......................................6\n      2.3. Route ......................................................6\n\
    \      2.4. BGP Route ..................................................7\n  \
    \    2.5. Network Level Reachability Information (NLRI) ..............7\n    \
    \  2.6. BGP UPDATE Message .........................................8\n   3. Routing\
    \ Data Structures and Route Categories ....................8\n      3.1. Routing\
    \ Information Base (RIB) .............................8\n           3.1.1. Adj-RIB-In\
    \ and Adj-RIB-Out ..........................8\n           3.1.2. Loc-RIB .............................................9\n\
    \      3.2. Prefix Filtering ...........................................9\n  \
    \    3.3. Routing Policy ............................................10\n    \
    \  3.4. Routing Policy Information Base ...........................10\n      3.5.\
    \ Forwarding Information Base (FIB) .........................11\n      3.6. BGP\
    \ Instance ..............................................12\n      3.7. BGP Device\
    \ ................................................12\n      3.8. BGP Session ...............................................13\n\
    \      3.9. Active BGP Session ........................................13\n  \
    \    3.10. BGP Peer .................................................13\n    \
    \  3.11. BGP Neighbor .............................................14\n      3.12.\
    \ MinRouteAdvertisementInterval (MRAI) .....................14\n      3.13. MinASOriginationInterval\
    \ (MAOI) ..........................15\n      3.14. Active Route .............................................15\n\
    \      3.15. Unique Route .............................................15\n  \
    \    3.16. Non-Unique Route .........................................16\n    \
    \  3.17. Route Instance ...........................................16\n   4. Constituent\
    \ Elements of a Router or Network of Routers .........17\n      4.1. Default Route,\
    \ Default-Free Table, and Full Table .........17\n           4.1.1. Default Route\
    \ ......................................17\n           4.1.2. Default-Free Routing\
    \ Table .........................18\n           4.1.3. Full Default-Free Table\
    \ ............................18\n           4.1.4. Default-Free Zone ..................................19\n\
    \           4.1.5. Full Provider-Internal Table .......................19\n  \
    \    4.2. Classes of BGP-Speaking Routers ...........................19\n    \
    \       4.2.1. Provider Edge Router ...............................20\n      \
    \     4.2.2. Subscriber Edge Router .............................20\n        \
    \   4.2.3. Inter-provider Border Router .......................21\n          \
    \ 4.2.4. Core Router ........................................21\n   5. Characterization\
    \ of Sets of Update Messages ....................22\n      5.1. Route Packing\
    \ .............................................22\n      5.2. Route Mixture .............................................23\n\
    \      5.3. Update Train ..............................................24\n  \
    \    5.4. Randomness in Update Trains ...............................24\n    \
    \  5.5. Route Flap ................................................25\n   6. Route\
    \ Changes and Convergence ..................................25\n      6.1. Route\
    \ Change Events .......................................25\n      6.2. Device Convergence\
    \ in the Control Plane ...................27\n   7. BGP Operation Events ...........................................28\n\
    \      7.1. Hard Reset ................................................28\n  \
    \    7.2. Soft Reset ................................................29\n   8.\
    \ Factors That Impact the Performance of the Convergence\n      Process ........................................................29\n\
    \      8.1. General Factors Affecting Device Convergence ..............29\n  \
    \         8.1.1. Number of Peers ....................................29\n    \
    \       8.1.2. Number of Routes per Peer ..........................30\n      \
    \     8.1.3. Policy Processing/Reconfiguration ..................30\n        \
    \   8.1.4. Interactions with Other Protocols ..................30\n          \
    \ 8.1.5. Flap Damping .......................................30\n           8.1.6.\
    \ Churn ..............................................31\n      8.2. Implementation-Specific\
    \ and Other Factors Affecting BGP ...31\n           8.2.1. Forwarded Traffic ..................................31\n\
    \           8.2.2. Timers .............................................32\n  \
    \         8.2.3. TCP Parameters Underlying BGP Transport ............32\n    \
    \       8.2.4. Authentication .....................................32\n   9. Security\
    \ Considerations ........................................32\n   10. Acknowledgements\
    \ ..............................................32\n   11. References ....................................................33\n\
    \       11.1. Normative References ....................................33\n  \
    \     11.2. Informative References ..................................34\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   This document defines terminology for use in characterizing\
    \ the\n   convergence performance of BGP processes in routers or other devices\n\
    \   that instantiate BGP functionality.  (See 'A Border Gateway Protocol\n   4\
    \ (BGP-4)' [RFC1771], referred to as RFC 1771 in the remainder of the\n   document.)\
    \  It is the first part of a two-document series, of which\n   the subsequent\
    \ document will contain the associated tests and\n   methodology.  This terminology\
    \ is applicable to both IPv4 and IPv6.\n   Illustrative examples of each version\
    \ are included where relevant.\n   However, this document is primarily targeted\
    \ for BGP-4 in IPv4\n   networks.  IPv6 will require the use of MP-BGP [RFC2858],\
    \ as\n   described in RFC 2545 [RFC2545], but this document will not address\n\
    \   terminology or issues specific to these extensions of BGP-4.  Also\n   terminology\
    \ and issues specific to the extensions of BGP that support\n   VPNs as described\
    \ in RFC 2547 [RFC2547] are out of scope for this\n   document.\n   The following\
    \ observations underlie the approach adopted in this\n   document, and in the\
    \ companion document:\n   o  The principal objective is to derive methodologies\
    \ that\n      standardize conducting and reporting convergence-related\n     \
    \ measurements for BGP.\n   o  It is necessary to remove ambiguity from many frequently\
    \ used\n      terms that arise in the context of these measurements.\n   o  As\
    \ convergence characterization is a complex process, it is\n      desirable to\
    \ restrict the initial focus in this set of documents\n      to specifying how\
    \ to take basic control-plane measurements as a\n      first step in characterizing\
    \ BGP convergence.\n   For path-vector protocols, such as BGP, the primary initial\
    \ focus\n   will therefore be on network and system control-plane [RFC3654]\n\
    \   activity consisting of the arrival, processing, and propagation of\n   routing\
    \ information.\n   We note that for testing purposes, all optional parameters\
    \ SHOULD be\n   turned off.  All variable parameters SHOULD be at their default\n\
    \   setting unless the test specifies otherwise.\n   Subsequent documents will\
    \ explore the more intricate aspects of\n   convergence measurement, such as the\
    \ impacts of the presence of\n   Multiprotocol Extensions for BGP-4, policy processing,\
    \ simultaneous\n   traffic on the control and data paths within the Device Under\
    \ Test\n   (DUT), and other realistic performance modifiers.  Convergence of\n\
    \   Interior Gateway Protocols (IGPs) will also be considered in separate\n  \
    \ documents.\n"
- title: 1.1.  Overview and Road Map
  contents:
  - "1.1.  Overview and Road Map\n   Characterizations of the BGP convergence performance\
    \ of a device\n   must-take into account all distinct stages and aspects of BGP.\n\
    \   functionality.  This requires that the relevant terms and metrics be\n   as\
    \ specifically defined as possible.  Such definition is the goal of\n   this document.\n\
    \   The necessary definitions are classified into separate categories:\n   o \
    \ Components and characteristics of routing information\n   o  Routing data structures\
    \ and route categories\n   o  Descriptions of the constituent elements of a network\
    \ or a router\n      that is undergoing convergence\n   o  Characterization of\
    \ sets of update messages, types of route-change\n      events, as well as some\
    \ events specific to BGP operation\n   o  Descriptions of factors that impact\
    \ the performance of convergence\n      processes\n"
- title: 1.2.  Definition Format
  contents:
  - "1.2.  Definition Format\n   The definition format is equivalent to that defined\
    \ in 'Requirements\n   for IP Version 4 Routers' [RFC1812], and is repeated here\
    \ for\n   convenience:\n   X.x Term to be defined (e.g., Latency).\n   Definition:\n\
    \      One or more sentences forming the body of the definition.\n   Discussion:\n\
    \      A brief discussion of the term, its application, and any\n      restrictions\
    \ that there might be on measurement procedures.\n   Measurement units:\n    \
    \  The units used to report measurements of this term.  This item may\n      not\
    \ be applicable (N.A.).\n   Issues:\n      List of issues or conditions that could\
    \ affect this term.\n   See also:\n      List of related terms that are relevant\
    \ to the definition or\n      discussion of this term.\n"
- title: 2.  Components and Characteristics of Routing Information
  contents:
  - '2.  Components and Characteristics of Routing Information

    '
- title: 2.1.  (Network) Prefix
  contents:
  - "2.1.  (Network) Prefix\n   Definition:\n      \"A network prefix is a contiguous\
    \ set of bits at the more\n      significant end of the address that collectively\
    \ designates the\n      set of systems within a network; host numbers select among\
    \ those\n      systems.\" (This definition is taken directly from section 2.2.5.2,\n\
    \      \"Classless Inter Domain Routing (CIDR)\", of RFC 1812.)\n   Discussion:\n\
    \      In the CIDR context, the network prefix is the network component\n    \
    \  of an IP address.  In IPv4 systems, the network component of a\n      complete\
    \ address is known as the 'network part', and the remaining\n      part of the\
    \ address is known as the 'host part'.  In IPv6 systems,\n      the network component\
    \ of a complete address is known as the\n      'subnet prefix', and the remaining\
    \ part is known as the 'interface\n      identifier'.\n   Measurement units: N.A.\n\
    \   Issues:\n   See also:\n"
- title: 2.2.  Network Prefix Length
  contents:
  - "2.2.  Network Prefix Length\n   Definition:\n      The network prefix length\
    \ is the number of bits, out of the total\n      constituting the address field,\
    \ that define the network prefix\n      portion of the address.\n   Discussion:\n\
    \      A common alternative to using a bit-wise mask to communicate this\n   \
    \   component is the use of slash (/) notation.  This binds the notion\n     \
    \ of network prefix length in bits to an IP address.  For example,\n      141.184.128.0/17\
    \ indicates that the network component of this IPv4\n      address is 17 bits\
    \ wide.  Similar notation is used for IPv6\n      network prefixes; e.g., 2001:db8:719f::/48.\
    \  When referring to\n      groups of addresses, the network prefix length is\
    \ often used as a\n      means of describing groups of addresses as an equivalence\
    \ class.\n      For example, 'one hundred /16 addresses' refers to 100 addresses\n\
    \      whose network prefix length is 16 bits.\n   Measurement units:\n      Bits.\n\
    \   Issues:\n   See also:\n      Network Prefix.\n"
- title: 2.3.  Route
  contents:
  - "2.3.  Route\n   Definition:\n      In general, a 'route' is the n-tuple <prefix,\
    \ nexthop [, other\n      routing or non-routing protocol attributes]>.  A route\
    \ is not\n      end-to-end, but is defined with respect to a specific next hop\n\
    \      that should take packets on the next step toward their destination\n  \
    \    as defined by the prefix.  In this usage, a route is the basic\n      unit\
    \ of information about a target destination distilled from\n      routing protocols.\n\
    \   Discussion:\n      This term refers to the concept of a route common to all\
    \ routing\n      protocols.  With reference to the definition above, typical non-\n\
    \      routing-protocol attributes would be associated with diffserv or\n    \
    \  traffic engineering.\n   Measurement units: N.A.\n   Issues:\n      None.\n\
    \   See also:\n      BGP Route.\n"
- title: 2.4.  BGP Route
  contents:
  - "2.4.  BGP Route\n   Definition:\n      A BGP route is an n-tuple <prefix, nexthop,\
    \ ASpath [, other BGP\n      attributes]>.\n   Discussion:\n      BGP Attributes,\
    \ such as Nexthop or AS path, are defined in RFC\n      1771, where they are known\
    \ as Path Attributes, and they are the\n      qualifying data that define the\
    \ route.  From RFC 1771: \"For\n      purposes of this protocol a route is defined\
    \ as a unit of\n      information that pairs a destination with the attributes\
    \ of a path\n      to that destination.\"\n   Measurement units: N.A.\n   Issues:\n\
    \   See also:\n      Route, Prefix, Adj-RIB-In, Network Level Reachability Information\n\
    \      (NLRI)\n"
- title: 2.5.  Network Level Reachability Information (NLRI)
  contents:
  - "2.5.  Network Level Reachability Information (NLRI)\n   Definition:\n      The\
    \ NLRI consists of one or more network prefixes with the same\n      set of path\
    \ attributes.\n   Discussion:\n      Each prefix in the NLRI is combined with\
    \ the (common) path\n      attributes to form a BGP route.  The NLRI encapsulates\
    \ a set of\n      destinations to which packets can be routed (from this point\
    \ in\n      the network) along a common route described by the path\n      attributes.\n\
    \   Measurement units: N.A.\n   Issues:\n   See also:\n      Route Packing, Network\
    \ Prefix, BGP Route, NLRI.\n"
- title: 2.6.  BGP UPDATE Message
  contents:
  - "2.6.  BGP UPDATE Message\n   Definition:\n      An UPDATE message contains an\
    \ advertisement of a single NLRI\n      field, possibly containing multiple prefixes,\
    \ and multiple\n      withdrawals of unfeasible routes.  See RFC 1771 for details.\n\
    \   Discussion:\n      From RFC 1771: \"A variable length sequence of path attributes\
    \ is\n      present in every UPDATE.  Each path attribute is a triple\n      <attribute\
    \ type, attribute length, attribute value> of variable\n      length.\"\n   Measurement\
    \ units: N.A.\n   See also:\n"
- title: 3.  Routing Data Structures and Route Categories
  contents:
  - '3.  Routing Data Structures and Route Categories

    '
- title: 3.1.  Routing Information Base (RIB)
  contents:
  - "3.1.  Routing Information Base (RIB)\n   The RIB collectively consists of a set\
    \ of logically (not necessarily\n   physically) distinct databases, each of which\
    \ is enumerated below.\n   The RIB contains all destination prefixes to which\
    \ the router may\n   forward, and one or more currently reachable next hop addresses\
    \ for\n   them.\n   Routes included in this set potentially have been selected\
    \ from\n   several sources of information, including hardware status, interior\n\
    \   routing protocols, and exterior routing protocols.  RFC 1812 contains\n  \
    \ a basic set of route selection criteria relevant in an all-source\n   context.\
    \  Many implementations impose additional criteria.  A common\n   implementation-specific\
    \ criterion is the preference given to\n   different routing information sources.\n"
- title: 3.1.1.  Adj-RIB-In and Adj-RIB-Out
  contents:
  - "3.1.1.  Adj-RIB-In and Adj-RIB-Out\n   Definition:\n      Adj-RIB-In and Adj-RIB-Out\
    \ are \"views\" of routing information from\n      the perspective of individual\
    \ peer routers.  The Adj-RIB-In\n      contains information advertised to the\
    \ DUT by a specific peer.\n      The Adj-RIB-Out contains the information the\
    \ DUT will advertise to\n      the peer.  See RFC 1771.\n   Discussion:\n   Issues:\n\
    \   Measurement units:\n      Number of route instances.\n   See also:\n     \
    \ Route, BGP Route, Route Instance, Loc-RIB, FIB.\n"
- title: 3.1.2.  Loc-RIB
  contents:
  - "3.1.2.  Loc-RIB\n   Definition:\n      The Loc-RIB contains the set of best routes\
    \ selected from the\n      various Adj-RIBs, after applying local policies and\
    \ the BGP route\n      selection algorithm.\n   Discussion:\n      The separation\
    \ implied among the various RIBs is logical.  It does\n      not necessarily follow\
    \ that these RIBs are distinct and separate\n      entities in any given implementation.\
    \  Types of routes that need\n      to be considered include internal BGP, external\
    \ BGP, interface,\n      static, and IGP routes.\n   Issues:\n   Measurement units:\n\
    \      Number of routes.\n   See also:\n      Route, BGP Route, Route Instance,\
    \ Adj-RIB-In, Adj-RIB-Out, FIB.\n"
- title: 3.2.  Prefix Filtering
  contents:
  - "3.2.  Prefix Filtering\n   Definition:\n      Prefix Filtering is a technique\
    \ for eliminating routes from\n      consideration as candidates for entry into\
    \ a RIB by matching the\n      network prefix in a BGP Route against a list of\
    \ network prefixes.\n   Discussion:\n      A BGP Route is eliminated if, for any\
    \ filter prefix from the list,\n      the Route prefix length is equal to or longer\
    \ than the filter\n      prefix length and the most significant bits of the two\
    \ prefixes\n      match over the length of the filter prefix.  See 'Cooperative\n\
    \      Route Filtering Capability for BGP-4' [BGP-4] for examples of\n      usage.\n\
    \   Measurement units:\n      Number of filter prefixes; lengths of prefixes.\n\
    \   Issues:\n   See also:\n      BGP Route, Network Prefix, Network Prefix Length,\
    \ Routing Policy,\n      Routing Policy Information Base.\n"
- title: 3.3.  Routing Policy
  contents:
  - "3.3.  Routing Policy\n   Definition:\n      Routing Policy is \"the ability to\
    \ define conditions for accepting,\n      rejecting, and modifying routes received\
    \ in advertisements\"\n      [GLSSRY].\n   Discussion:\n      RFC 1771 further\
    \ constrains policy to be within the hop-by-hop\n      routing paradigm.  Policy\
    \ is implemented using filters and\n      associated policy actions such as Prefix\
    \ Filtering.  Many ASes\n      formulate and document their policies using the\
    \ Routing Policy\n      Specification Language (RPSL) [RFC2622] and then automatically\n\
    \      generate configurations for the BGP processes in their routers\n      from\
    \ the RPSL specifications.\n   Measurement units:\n      Number of policies; length\
    \ of policies.\n   Issues:\n   See also:\n      Routing Policy Information Base,\
    \ Prefix Filtering.\n"
- title: 3.4.  Routing Policy Information Base
  contents:
  - "3.4.  Routing Policy Information Base\n   Definition:\n      A routing policy\
    \ information base is the set of incoming and\n      outgoing policies.\n   Discussion:\n\
    \      All references to the phase of the BGP selection process below are\n  \
    \    made with respect to RFC 1771 definition of these phases.\n      Incoming\
    \ policies are applied in Phase 1 of the BGP selection\n      process to the Adj-RIB-In\
    \ routes to set the metric for the Phase 2\n      decision process.  Outgoing\
    \ Policies are applied in Phase 3 of the\n      BGP process to the Adj-RIB-Out\
    \ routes preceding route (prefix and\n      path attribute tuple) announcements\
    \ to a specific peer.  Policies\n      in the Policy Information Base have matching\
    \ and action\n      conditions.  Common information to match includes route prefixes,\n\
    \      AS paths, communities, etc.  The action on match may be to drop\n     \
    \ the update and not to pass it to the Loc-RIB, or to modify the\n      update\
    \ in some way, such as changing local preference (on input)\n      or MED (on\
    \ output), adding or deleting communities, prepending the\n      current AS in\
    \ the AS path, etc.  The amount of policy processing\n      (both in terms of\
    \ route maps and filter/access lists) will impact\n      the convergence time\
    \ and properties of the distributed BGP\n      algorithm.  The amount of policy\
    \ processing may vary from a simple\n      policy that accepts all routes and\
    \ sends them according to a\n      complex policy with a substantial fraction\
    \ of the prefixes being\n      filtered by filter/access lists.\n   Measurement\
    \ units:\n      Number and length of policies.\n   Issues:\n   See also:\n"
- title: 3.5.  Forwarding Information Base (FIB)
  contents:
  - "3.5.  Forwarding Information Base (FIB)\n   Definition:\n      According to the\
    \ definition in Appendix B of RIPE-37 [RIPE37]:\n      \"The table containing\
    \ the information necessary to forward IP\n      Datagrams is called the Forwarding\
    \ Information Base.  At minimum,\n      this contains the interface identifier\
    \ and next hop information\n      for each reachable destination network prefix.\"\
    \n   Discussion:\n      The forwarding information base describes a database indexing\n\
    \      network prefixes versus router port identifiers.  The forwarding\n    \
    \  information base is distinct from the \"routing table\" (the Routing\n    \
    \  Information Base or RIB), which holds all routing information\n      received\
    \ from routing peers.  It is a data plane construct and is\n      used for the\
    \ forwarding of each packet.  The Forwarding\n      Information Base is generated\
    \ from the RIB.  For the purposes of\n      this document, the FIB is effectively\
    \ the subset of the RIB used\n      by the forwarding plane to make per-packet\
    \ forwarding decisions.\n      Most current implementations have full, non-cached\
    \ FIBs per router\n      interface.  All the route computation and convergence\
    \ occurs\n      before entries are downloaded into a FIB.\n   Measurement units:\
    \ N.A.\n   Issues:\n   See also:\n      Route, RIB.\n"
- title: 3.6.  BGP Instance
  contents:
  - "3.6.  BGP Instance\n   Definition:\n      A BGP instance is a process with a\
    \ single Loc-RIB.\n   Discussion:\n      For example, a BGP instance would run\
    \ in routers or test\n      equipment.  A test generator acting as multiple peers\
    \ will\n      typically run more than one instance of BGP.  A router would\n \
    \     typically run a single instance.\n   Measurement units: N.A.\n   Issues:\n\
    \   See also:\n"
- title: 3.7.  BGP Device
  contents:
  - "3.7.  BGP Device\n   Definition:\n      A BGP device is a system that has one\
    \ or more BGP instances\n      running on it, each of which is responsible for\
    \ executing the BGP\n      state machine.\n   Discussion:\n      We have chosen\
    \ to use \"device\" as the general case, to deal with\n      the understood (e.g.,\
    \ [GLSSRY]) and yet-to-be-invented cases where\n      the control processing may\
    \ be separate from forwarding [RFC2918].\n      A BGP device may be a traditional\
    \ router, a route server, a BGP-\n      aware traffic steering device, or a non-forwarding\
    \ route\n      reflector.  BGP instances such as route reflectors or servers,\
    \ for\n      example, never forward traffic, so forwarding-based measurements\n\
    \      would be meaningless for them.\n   Measurement units: N.A.\n   Issues:\n\
    \   See also:\n"
- title: 3.8.  BGP Session
  contents:
  - "3.8.  BGP Session\n   Definition:\n      A BGP session is a session between two\
    \ BGP instances.\n   Discussion:\n   Measurement units: N.A.\n   Issues:\n   See\
    \ also:\n"
- title: 3.9.  Active BGP Session
  contents:
  - "3.9.  Active BGP Session\n   Definition:\n      An active BGP session is one\
    \ that is in the established state.\n      (See RFC 1771.)\n   Discussion:\n \
    \  Measurement units: N.A.\n   Issues:\n   See also:\n"
- title: 3.10.  BGP Peer
  contents:
  - "3.10.  BGP Peer\n   Definition:\n      A BGP peer is another BGP instance to\
    \ which the DUT is in the\n      Established state.  (See RFC 1771.)\n   Discussion:\n\
    \      In the test scenarios for the methodology discussion that will\n      follow\
    \ this document, peers send BGP advertisements to the DUT and\n      receive DUT-originated\
    \ advertisements.  We recommend that the\n      peering relation be established\
    \ before tests begin.  It might also\n      be interesting to measure the time\
    \ required to reach the\n      established state.  This is a protocol-specific\
    \ definition, not to\n      be confused with another frequent usage, which refers\
    \ to the\n      business/economic definition for the exchange of routes without\n\
    \      financial compensation.  It is worth noting that a BGP peer, by\n     \
    \ this definition, is associated with a BGP peering session, and\n      there\
    \ may be more than one such active session on a router or on a\n      tester.\
    \  The peering sessions referred to here may exist between\n      various classes\
    \ of BGP routers (see Section 4.2).\n   Measurement units:\n      Number of BGP\
    \ peers.\n   Issues:\n   See also:\n"
- title: 3.11.  BGP Neighbor
  contents:
  - "3.11.  BGP Neighbor\n   Definition:\n      A BGP neighbor is a device that can\
    \ be configured as a BGP peer.\n   Discussion:\n   Measurement units:\n   Issues:\n\
    \   See also:\n"
- title: 3.12.  MinRouteAdvertisementInterval (MRAI)
  contents:
  - "3.12.  MinRouteAdvertisementInterval (MRAI)\n   Definition:\n      (Paraphrased\
    \ from RFC 1771) The MRAI timer determines the minimum\n      time between advertisements\
    \ of routes to a particular destination\n      (prefix) from a single BGP device.\
    \  The timer is applied on a\n      pre-prefix basis, although the timer is set\
    \ on a per-BGP device\n      basis.\n   Discussion:\n      Given that a BGP instance\
    \ may manage in excess of 100,000 routes,\n      RFC 1771 allows for a degree\
    \ of optimization in order to limit the\n      number of timers needed.  The MRAI\
    \ does not apply to routes\n      received from BGP speakers in the same AS or\
    \ to explicit\n      withdrawals.  RFC 1771 also recommends that random jitter\
    \ is\n      applied to MRAI in an attempt to avoid synchronization effects\n \
    \     between the BGP instances in a network.  In this document, we\n      define\
    \ routing plane convergence by measuring from the time an\n      NLRI is advertised\
    \ to the DUT to the time it is advertised from\n      the DUT.  Clearly any delay\
    \ inserted by the MRAI will have a\n      significant effect on this measurement.\n\
    \   Measurement units:\n      Seconds.\n   Issues:\n   See also:\n      NLRI,\
    \ BGP Route.\n"
- title: 3.13.  MinASOriginationInterval (MAOI)
  contents:
  - "3.13.  MinASOriginationInterval (MAOI)\n   Definition:\n      The MAOI specifies\
    \ the minimum interval between advertisements of\n      locally originated routes\
    \ from this BGP instance.\n   Discussion:\n      Random jitter is applied to MAOI\
    \ in an attempt to avoid\n      synchronization effects between BGP instances\
    \ in a network.\n   Measurement units:\n      Seconds.\n   Issues:\n      It is\
    \ not known what, if any, relationship exists between the\n      settings of MRAI\
    \ and MAOI.\n   See also:\n      MRAI, BGP Route.\n"
- title: 3.14.  Active Route
  contents:
  - "3.14.  Active Route\n   Definition:\n      Route for which there is a FIB entry\
    \ corresponding to a RIB entry.\n   Discussion:\n   Measurement units:\n     \
    \ Number of routes.\n   Issues:\n   See also:\n      RIB.\n"
- title: 3.15.  Unique Route
  contents:
  - "3.15.  Unique Route\n   Definition:\n      A unique route is a prefix for which\
    \ there is just one route\n      instance across all Adj-Ribs-In.\n   Discussion:\n\
    \   Measurement units: N.A.\n   Issues:\n   See also:\n      Route, Route Instance.\n"
- title: 3.16.  Non-Unique Route
  contents:
  - "3.16.  Non-Unique Route\n   Definition:\n      A non-unique route is a prefix\
    \ for which there is at least one\n      other route in a set including more than\
    \ one Adj-RIB-In.\n   Discussion:\n   Measurement units: N.A.\n   Issues:\n  \
    \ See also:\n      Route, Route Instance, Unique Active Route.\n"
- title: 3.17.  Route Instance
  contents:
  - "3.17.  Route Instance\n   Definition:\n      A route instance is one of several\
    \ possible occurrences of a route\n      for a particular prefix.\n   Discussion:\n\
    \      When a router has multiple peers from which it accepts routes,\n      routes\
    \ to the same prefix may be received from several peers.\n      This is then an\
    \ example of multiple route instances.  Each route\n      instance is associated\
    \ with a specific peer.  The BGP algorithm\n      that arbitrates between the\
    \ available candidate route instances\n      may reject a specific route instance\
    \ due to local policy.\n   Measurement units:\n      Number of route instances.\n\
    \   Issues:\n      The number of route instances in the Adj-RIB-In bases will\
    \ vary\n      based on the function to be performed by a router.  An inter-\n\
    \      provider border router, located in the default-free zone (see\n      Section\
    \ 4.1.4), will likely receive more route instances than a\n      provider edge\
    \ router, located closer to the end-users of the\n      network.\n   See also:\n"
- title: 4.  Constituent Elements of a Router or Network of Routers
  contents:
  - "4.  Constituent Elements of a Router or Network of Routers\n   Many terms included\
    \ in this list of definitions were originally\n   described in previous standards\
    \ or papers.  They are included here\n   because of their pertinence to this discussion.\
    \  Where relevant,\n   reference is made to these sources.  An effort has been\
    \ made to keep\n   this list complete with regard to the necessary concepts without\n\
    \   over-definition.\n"
- title: 4.1.  Default Route, Default-Free Table, and Full Table
  contents:
  - "4.1.  Default Route, Default-Free Table, and Full Table\n   An individual router's\
    \ routing table may not necessarily contain a\n   default route.  Not having a\
    \ default route, however, is not\n   synonymous with having a full default-free\
    \ table (DFT).  Also, a\n   router that has a full set of routes as in a DFT,\
    \ but that also has a\n   'discard' rule for a default route would not be considered\
    \ default\n   free.\n   Note that in this section the references to number of\
    \ routes are to\n   routes installed in the loc-RIB, which are therefore unique\
    \ routes,\n   not route instances.  Also note that the total number of route\n\
    \   instances may be 4 to 10 times the number of routes.\n"
- title: 4.1.1.  Default Route
  contents:
  - "4.1.1.  Default Route\n   Definition:\n      A default route can match any destination\
    \ address.  If a router\n      does not have a more specific route for a particular\
    \ packet's\n      destination address, it forwards this packet to the next hop\
    \ in\n      the default route entry, provided that its Forwarding Table\n    \
    \  (Forwarding Information Base, or FIB, contains one).  The notation\n      for\
    \ a default route for IPv4 is 0.0.0.0/0 and for IPv6 it is\n      0:0:0:0:0:0:0:0\
    \ or ::/0.\n   Discussion:\n   Measurement units: N.A.\n   Issues:\n   See also:\n\
    \      Default-Free Routing Table, Route, Route Instance.\n"
- title: 4.1.2.  Default-Free Routing Table
  contents:
  - "4.1.2.  Default-Free Routing Table\n   Definition:\n      A default-free routing\
    \ table has no default routes and is\n      typically seen in routers in the core\
    \ or top tier of routers in\n      the network.\n   Discussion:\n      The term\
    \ originates from the concept that routers at the core or\n      top tier of the\
    \ Internet will not be configured with a default\n      route (Notation in IPv4\
    \ 0.0.0.0/0 and in IPv6 0:0:0:0:0:0:0:0 or\n      ::/0).  Thus they will forward\
    \ every packet to a specific next hop\n      based on the longest match between\
    \ the destination IP address and\n      the routes in the forwarding table.\n\
    \      Default-free routing table size is commonly used as an indicator\n    \
    \  of the magnitude of reachable Internet address space.  However,\n      default-free\
    \ routing tables may also include routes internal to\n      the router's AS.\n\
    \   Measurement units:\n      The number of routes.\n   See also:\n      Full\
    \ Default-Free Table, Default Route.\n"
- title: 4.1.3.  Full Default-Free Table
  contents:
  - "4.1.3.  Full Default-Free Table\n   Definition:\n      A full default-free table\
    \ is the union of all sets of BGP routes\n      taken from all the default-free\
    \ BGP routing tables collectively\n      announced by the complete set of autonomous\
    \ systems making up the\n      public Internet.  Due to the dynamic nature of\
    \ the Internet, the\n      exact size and composition of this table may vary slightly\n\
    \      depending on where and when it is observed.\n   Discussion:\n      It is\
    \ generally accepted that a full table, in this usage, does\n      not contain\
    \ the infrastructure routes or individual sub-aggregates\n      of routes that\
    \ are otherwise aggregated by the provider before\n      announcement to other\
    \ autonomous systems.\n   Measurement units:\n      Number of routes.\n   Issues:\n\
    \      The full default-free routing table is not the same as the union\n    \
    \  of all reachable unicast addresses.  The table simply does not\n      contain\
    \ the default prefix (0/0) and does contain the union of all\n      sets of BGP\
    \ routes from default-free BGP routing tables.\n   See also:\n      Routes, Route\
    \ Instances, Default Route.\n"
- title: 4.1.4.  Default-Free Zone
  contents:
  - "4.1.4.  Default-Free Zone\n   Definition:\n      The default-free zone is the\
    \ part of the Internet backbone that\n      does not have a default route.\n \
    \  Discussion:\n   Measurement units:\n   Issues:\n   See also:\n      Default\
    \ Route.\n"
- title: 4.1.5.  Full Provider-Internal Table
  contents:
  - "4.1.5.  Full Provider-Internal Table\n   Definition:\n      A full provider-internal\
    \ table is a superset of the full routing\n      table that contains infrastructure\
    \ and non-aggregated routes.\n   Discussion:\n      Experience has shown that\
    \ this table might contain 1.3 to 1.5\n      times the number of routes in the\
    \ externally visible full table.\n      Tables of this size, therefore, are a\
    \ real-world requirement for\n      key internal provider routers.\n   Measurement\
    \ units:\n      Number of routes.\n   Issues:\n   See also:\n      Routes, Route\
    \ Instances, Default Route.\n"
- title: 4.2.  Classes of BGP-Speaking Routers
  contents:
  - "4.2.  Classes of BGP-Speaking Routers\n   A given router may perform more than\
    \ one of the following functions,\n   based on its logical location in the network.\n"
- title: 4.2.1.  Provider Edge Router
  contents:
  - "4.2.1.  Provider Edge Router\n   Definition:\n      A provider edge router is\
    \ a router at the edge of a provider's\n      network that speaks eBGP to a BGP\
    \ speaker in another AS.\n   Discussion:\n      The traffic that transits this\
    \ router may be destined to or may\n      originate from non-adjacent autonomous\
    \ systems.  In particular,\n      the MED values used in the Provider Edge Router\
    \ would not be\n      visible in the non-adjacent autonomous systems.  Such a\
    \ router\n      will always speak eBGP and may speak iBGP.\n   Measurement units:\n\
    \   Issues:\n   See also:\n"
- title: 4.2.2.  Subscriber Edge Router
  contents:
  - "4.2.2.  Subscriber Edge Router\n   Definition:\n      A subscriber edge router\
    \ is router at the edge of the subscriber's\n      network that speaks eBGP to\
    \ its provider's AS(s).\n   Discussion:\n      The router belongs to an end user\
    \ organization that may be multi-\n      homed, and that carries traffic only\
    \ to and from that end user AS.\n      Such a router will always speak eBGP and\
    \ may speak iBGP.\n   Measurement units:\n   Issues:\n      This definition of\
    \ an enterprise border router (which is what most\n      Subscriber Edge Routers\
    \ are) is practical rather than rigorous.\n      It is meant to draw attention\
    \ to the reality that many enterprises\n      may need a BGP speaker that advertises\
    \ their own routes and\n      accepts either default alone or partial routes.\
    \  In such cases,\n      they may be interested in benchmarks that use a partial\
    \ routing\n      table, to see whether a smaller control plane processor will\
    \ meet\n      their needs.\n   See also:\n"
- title: 4.2.3.  Inter-provider Border Router
  contents:
  - "4.2.3.  Inter-provider Border Router\n   Definition:\n      An inter-provider\
    \ border router is a BGP speaking router that\n      maintains BGP sessions with\
    \ other BGP speaking routers in other\n      providers' ASes.\n   Discussion:\n\
    \      Traffic transiting this router may be originated in or destined\n     \
    \ for another AS that has no direct connectivity with this\n      provider's AS.\
    \  Such a router will always speak eBGP and may speak\n      iBGP.\n   Measurement\
    \ units:\n   Issues:\n   See also:\n"
- title: 4.2.4.  Core Router
  contents:
  - "4.2.4.  Core Router\n   Definition:\n      An core router is a provider router\
    \ internal to the provider's\n      net, speaking iBGP to that provider's edge\
    \ routers, other intra-\n      provider core routers, or the provider's inter-provider\
    \ border\n      routers.\n   Discussion:\n      Such a router will always speak\
    \ iBGP and may speak eBGP.\n   Measurement units:\n   Issues:\n      By this definition,\
    \ the DUTs that are eBGP routers aren't core\n      routers.\n   See also:\n"
- title: 5.  Characterization of Sets of Update Messages
  contents:
  - "5.  Characterization of Sets of Update Messages\n   This section contains a sequence\
    \ of definitions that build up to the\n   definition of an update train.  The\
    \ packet train concept was\n   originally introduced by Jain and Routhier [PKTTRAIN].\
    \  It is here\n   adapted to refer to a train of packets of interest in BGP performance\n\
    \   testing.\n   This is a formalization of the sort of test stimulus that is\
    \ expected\n   as input to a DUT running BGP.  This data could be a well-\n  \
    \ characterized, ordered, and timed set of hand-crafted BGP UPDATE\n   packets.\
    \  It could just as well be a set of BGP UPDATE packets that\n   have been captured\
    \ from a live router.\n   Characterization of route mixtures and update trains\
    \ is an open area\n   of research.  The particular question of interest for this\
    \ work is\n   the identification of suitable update trains, modeled on or taken\n\
    \   from live traces that reflect realistic sequences of UPDATEs and\n   their\
    \ contents.\n"
- title: 5.1.  Route Packing
  contents:
  - "5.1.  Route Packing\n   Definition:\n      Route packing is the number of route\
    \ prefixes accommodated in a\n      single Routing Protocol UPDATE Message, either\
    \ as updates\n      (additions or modifications) or as withdrawals.\n   Discussion:\n\
    \      In general, a routing protocol update may contain more than one\n     \
    \ prefix.  In BGP, a single UPDATE may contain two sets of multiple\n      network\
    \ prefixes: one set of additions and updates with identical\n      attributes\
    \ (the NLRI) and one set of unfeasible routes to be\n      withdrawn.\n   Measurement\
    \ units:\n   Number of prefixes.\n   Issues:\n   See also:\n      Route, BGP Route,\
    \ Route Instance, Update Train, NLRI.\n"
- title: 5.2.  Route Mixture
  contents:
  - "5.2.  Route Mixture\n   Definition:\n      A route mixture is the demographics\
    \ of a set of routes.\n   Discussion:\n      A route mixture is the input data\
    \ for the benchmark.  The\n      particular route mixture used as input must be\
    \ selected to suit\n      the question being asked of the benchmark.  Data containing\
    \ simple\n      route mixtures might be suitable to test the performance limits\
    \ of\n      the BGP device.  Using live data or input that simulates live data\n\
    \      will improve understanding of how the BGP device will operate in a\n  \
    \    live network.  The data for this kind of test must be route\n      mixtures\
    \ that model the patterns of arriving control traffic in\n      the live Internet.\
    \  To accomplish this kind of modeling, it is\n      necessary to identify the\
    \ key parameters that characterize a live\n      Internet route mixture.  The\
    \ parameters and how they interact is\n      an open research problem.  However,\
    \ we identify the following as\n      affecting the route mixture:\n   *  Path\
    \ length distribution\n   *  Attribute distribution\n   *  Prefix length distribution\n\
    \   *  Packet packing\n   *  Probability density function of inter-arrival times\
    \ of UPDATES\n   Each of the items above is more complex than a single number.\
    \  For\n   example, one could consider the distribution of prefixes by AS or by\n\
    \   length.\n   Measurement units:\n      Probability density functions.\n   Issues:\n\
    \   See also:\n      NLRI, RIB.\n"
- title: 5.3.  Update Train
  contents:
  - "5.3.  Update Train\n   Definition:\n      An update train is a set of Routing\
    \ Protocol UPDATE messages sent\n      by a router to a BGP peer.\n   Discussion:\n\
    \      The arrival pattern of UPDATEs can be influenced by many things,\n    \
    \  including TCP parameters, hold-down timers, upstream processing, a\n      peer\
    \ coming up, or multiple peers sending at the same time.\n      Network conditions\
    \ such as a local or remote peer flapping a link\n      can also affect the arrival\
    \ pattern.\n   Measurement units:\n      Probability density function for the\
    \ inter-arrival times of UPDATE\n      packets in the train.\n   Issues:\n   \
    \   Characterizing the profiles of real-world UPDATE trains is a\n      matter\
    \ for future research.  In order to generate realistic UPDATE\n      trains as\
    \ test stimuli, a formal mathematical scheme or a proven\n      heuristic is needed\
    \ to drive the selection of prefixes.  Whatever\n      mechanism is selected,\
    \ it must generate update trains that have\n      similar characteristics to those\
    \ measured in live networks.\n   See also:\n      Route Mixture, MRAI, MAOI.\n"
- title: 5.4.  Randomness in Update Trains
  contents:
  - "5.4.  Randomness in Update Trains\n   As we have seen from the previous sections,\
    \ an update train used as a\n   test stimulus has a considerable number of parameters\
    \ that can be\n   varied, to a greater or lesser extent, randomly and independently.\n\
    \   A random update train will contain a route mixture randomized across:\n  \
    \ *  NLRIs\n   *  updates and withdrawals\n   *  prefixes\n   *  inter-arrival\
    \ times of the UPDATEs and possibly across other\n      variables.\n   This is\
    \ intended to simulate the unpredictable asynchronous nature of\n   the network,\
    \ whereby UPDATE packets may have arbitrary contents and\n   be delivered at random\
    \ times.\n   It is important that the data set be randomized sufficiently to avoid\n\
    \   favoring one vendor's implementation over another's.  Specifically,\n   the\
    \ distribution of prefixes could be structured to favor the\n   internal organization\
    \ of the routes in a particular vendor's\n   databases.  This is to be avoided.\n"
- title: 5.5.  Route Flap
  contents:
  - "5.5.  Route Flap\n   Definition:\n      A route flap is a change of state (withdrawal,\
    \ announcement,\n      attribute change) for a route.\n   Discussion:\n      Route\
    \ flapping can be considered a special and pathological case\n      of update\
    \ trains.  A practical interpretation of what may be\n      considered excessively\
    \ rapid is the RIPE 229 [RIPE229], which\n      contains current guidelines on\
    \ flap-damping parameters.\n   Measurement units:\n      Flapping events per unit\
    \ time.\n   Issues:\n      Specific Flap events can be found in Section 6.1. \
    \ A bench-marker\n      SHOULD use a mixture of different route change events\
    \ in testing.\n   See also:\n      Route Change Events, Flap Damping, Packet Train\n"
- title: 6.  Route Changes and Convergence
  contents:
  - "6.  Route Changes and Convergence\n   The following two definitions are central\
    \ to the benchmarking of\n   external routing convergence and are therefore singled\
    \ out for more\n   extensive discussion.\n"
- title: 6.1.  Route Change Events
  contents:
  - "6.1.  Route Change Events\n   A taxonomy characterizing routing information changes\
    \ seen in\n   operational networks is proposed in RIPE-37 [RIPE37] and Labovitz\
    \ et\n   al [INSTBLTY].  These papers describe BGP protocol-centric events and\n\
    \   event sequences in the course of an analysis of network behavior.\n   The\
    \ terminology in the two papers categorizes similar but slightly\n   different\
    \ behaviors with some overlap.  We would like to apply these\n   taxonomies to\
    \ categorize the tests under definition where possible,\n   because these tests\
    \ must tie in to phenomena that arise in actual\n   networks.  We avail ourselves\
    \ of, or may extend, this terminology as\n   necessary for this purpose.\n   A\
    \ route can be changed implicitly by replacing it with another route\n   or explicitly\
    \ by withdrawal followed by the introduction of a new\n   route.  In either case,\
    \ the change may be an actual change, no\n   change, or a duplicate.  The notation\
    \ and definition of individual\n   categorizable route change events is adopted\
    \ from [INSTBLTY] and\n   given below.\n   1.  AADiff: Implicit withdrawal of\
    \ a route and replacement by a route\n       different in some path attribute.\n\
    \   2.  AADup: Implicit withdrawal of a route and replacement by route\n     \
    \  that is identical in all path attributes.\n   3.  WADiff: Explicit withdrawal\
    \ of a route and replacement by a\n       different route.\n   4.  WADup: Explicit\
    \ withdrawal of a route and replacement by a route\n       that is identical in\
    \ all path attributes.\n   To apply this taxonomy in the benchmarking context,\
    \ we need terms to\n   describe the sequence of events from the update train perspective,\
    \ as\n   listed above, and event indications in the time domain in order to\n\
    \   measure activity from the perspective of the DUT.  With this in mind,\n  \
    \ we incorporate and extend the definitions of [INSTBLTY] to the\n   following:\n\
    \   1.  Tup (TDx): Route advertised to the DUT by Test Device x\n   2.  Tdown(TDx):\
    \ Route being withdrawn by Device x\n   3.  Tupinit(TDx): The initial announcement\
    \ of a route to a unique\n       prefix\n   4.  TWF(TDx): Route fail over after\
    \ an explicit withdrawal.\n   But we need to take this a step further.  Each of\
    \ these events can\n   involve a single route, a \"short\" packet train, or a\
    \ \"full\" routing\n   table.  We further extend the notation to indicate how\
    \ many routes\n   are conveyed by the events above:\n   1.  Tup(1,TDx) means Device\
    \ x sends 1 route\n   2.  Tup(S,TDx) means Device x sends a train, S, of routes\n\
    \   3.  Tup(DFT,TDx) means Device x sends an approximation of a full\n       default-free\
    \ table.\n   The basic criterion for selecting a \"better\" route is the final\n\
    \   tiebreaker defined in RFC 1771, the router ID.  As a consequence,\n   this\
    \ memorandum uses the following descriptor events, which are\n   routes selected\
    \ by the BGP selection process rather than simple\n   updates:\n   1.  Tbest \
    \  -- The current best path.\n   2.  Tbetter -- Advertise a path that is better\
    \ than Tbest.\n   3.  Tworse  -- Advertise a path that is worse than Tbest.\n"
- title: 6.2.  Device Convergence in the Control Plane
  contents:
  - "6.2.  Device Convergence in the Control Plane\n   Definition:\n      A routing\
    \ device is said to have converged at the point in time\n      when the DUT has\
    \ performed all actions in the control plane needed\n      to react to changes\
    \ in topology in the context of the test\n      condition.\n   Discussion:\n \
    \     For example, when considering BGP convergence, the convergence\n      resulting\
    \ from a change that alters the best route instance for a\n      single prefix\
    \ at a router would be deemed to have occurred when\n      this route is advertised\
    \ to its downstream peers.  By way of\n      contrast, OSPF convergence concludes\
    \ when SPF calculations have\n      been performed and the required link states\
    \ are advertised onward.\n      The convergence process, in general, can be subdivided\
    \ into three\n      distinct phases:\n      *  convergence across the entire Internet,\n\
    \      *  convergence within an Autonomous System,\n      *  convergence with\
    \ respect to a single device.\n      Convergence with respect to a single device\
    \ can be\n      *  convergence with regard to data forwarding process(es)\n  \
    \    *  convergence with regard to the routing process(es), the focus\n      \
    \   of this document.\n      It is the latter\n      that we describe herein and\
    \ in the methodology documents.\n      Because we are trying to benchmark the\
    \ routing protocol\n      performance, which is only a part of the device overall,\
    \ this\n      definition is intended (as far as is possible) to exclude any\n\
    \      additional time needed to download and install the\n      forwarding information\
    \ base in the data plane.  This definition is\n      usable for different families\
    \ of protocols.\n      It is of key importance to benchmark the performance of\
    \ each phase\n      of convergence separately before proceeding to a composite\n\
    \      characterization of routing convergence, where\n      implementation-specific\
    \ dependencies are allowed to interact.\n      Care also needs to be taken to\
    \ ensure that the convergence time is\n      not influenced by policy processing\
    \ on downstream peers.\n      The time resolution needed to measure the device\
    \ convergence\n      depends to some extent on the types of the interfaces on\
    \ the\n      router.  For modern routers with gigabit or faster interfaces, an\n\
    \      individual UPDATE may be processed and re-advertised in very much\n   \
    \   less than a millisecond so that time measurements must be made to\n      a\
    \ resolution of hundreds to tens of microseconds or better.\n   Measurement units:\n\
    \   Time period.\n   Issues:\n   See also:\n"
- title: 7.  BGP Operation Events
  contents:
  - "7.  BGP Operation Events\n   The BGP process(es) in a device might restart because\
    \ operator\n   intervention or a power failure caused a complete shutdown.  In\
    \ this\n   case, a hard reset is needed.  A peering session could be lost, for\n\
    \   example, because of action on the part of the peer or a dropped TCP\n   session.\
    \  A device can reestablish its peers and re-advertise all\n   relevant routes\
    \ in a hard reset.  However, if a peer is lost, but\n   the BGP process has not\
    \ failed, BGP has mechanisms for a \"soft\n   reset.\"\n"
- title: 7.1.  Hard Reset
  contents:
  - "7.1.  Hard Reset\n   Definition:\n      An event that triggers a complete re-initialization\
    \ of the\n      routing tables on one or more BGP sessions, resulting in exchange\n\
    \      of a full routing table on one or more links to the router.\n   Discussion:\n\
    \   Measurement units: N.A.\n   Issues:\n   See also:\n"
- title: 7.2.  Soft Reset
  contents:
  - "7.2.  Soft Reset\n   Definition:\n      A soft reset is performed on a per-neighbor\
    \ basis; it does not\n      clear the BGP session while re-establishing the peering\
    \ relation\n      and does not stop the flow of traffic.\n   Discussion:\n   \
    \   There are two methods of performing a soft reset: (1) graceful\n      restart\
    \ [GRMBGP], wherein the BGP device that has lost a\n      peer continues to forward\
    \ traffic for a period of time before\n      tearing down the peer's routes and\
    \ (2) soft\n      refresh [RFC2918], wherein a BGP device can request a peer's\n\
    \      Adj-RIB-Out.\n   Measurement units: N.A.\n   Issues:\n   See also:\n"
- title: 8.  Factors That Impact the Performance of the Convergence Process
  contents:
  - "8.  Factors That Impact the Performance of the Convergence Process\n   Although\
    \ this is not a complete list, all the items discussed below\n   have a significant\
    \ effect on BGP convergence.  Not all of them can be\n   addressed in the baseline\
    \ measurements described in this document.\n"
- title: 8.1.  General Factors Affecting Device Convergence
  contents:
  - "8.1.  General Factors Affecting Device Convergence\n   These factors are conditions\
    \ of testing external to the router Device\n   Under Test (DUT).\n"
- title: 8.1.1.  Number of Peers
  contents:
  - "8.1.1.  Number of Peers\n   As the number of peers increases, the BGP route selection\
    \ algorithm\n   is increasingly exercised.  In addition, the phasing and frequency\
    \ of\n   updates from the various peers will have an increasingly marked\n   effect\
    \ on the convergence process on a router as the number of peers\n   grows, depending\
    \ on the quantity of updates generated by each\n   additional peer.  Increasing\
    \ the number of peers also increases the\n   processing workload for TCP and BGP\
    \ keepalives.\n"
- title: 8.1.2.  Number of Routes per Peer
  contents:
  - "8.1.2.  Number of Routes per Peer\n   The number of routes per BGP peer is an\
    \ obvious stressor to the\n   convergence process.  The number and relative proportion\
    \ of\n   multiple route instances and distinct routes being added or withdrawn\n\
    \   by each peer will affect the convergence process, as will the mix of\n   overlapping\
    \ route instances and IGP routes.\n"
- title: 8.1.3.  Policy Processing/Reconfiguration
  contents:
  - "8.1.3.  Policy Processing/Reconfiguration\n   The number of routes and attributes\
    \ being filtered and set as a\n   fraction of the target route table size is another\
    \ parameter that\n   will affect BGP convergence.\n   The following are extreme\
    \ examples:\n   o  Minimal policy: receive all, send all.\n   o  Extensive policy:\
    \ up to 100% of the total routes have applicable\n      policy.\n"
- title: 8.1.4.  Interactions with Other Protocols
  contents:
  - "8.1.4.  Interactions with Other Protocols\n   There are interactions in the form\
    \ of precedence, synchronization,\n   duplication, and the addition of timers\
    \ and route selection criteria.\n   Ultimately, understanding BGP4 convergence\
    \ must include an\n   understanding of the interactions with both the IGPs and\
    \ the\n   protocols associated with the physical media, such as Ethernet,\n  \
    \ SONET, and DWDM.\n"
- title: 8.1.5.  Flap Damping
  contents:
  - "8.1.5.  Flap Damping\n   A router can use flap damping to respond to route flapping.\
    \  Use of\n   flap damping is not mandatory, so the decision to enable the feature,\n\
    \   and to change parameters associated with it, can be considered a\n   matter\
    \ of routing policy.\n   The timers are defined by RFC 2439 [RFC2439] and discussed\
    \ in RIPE-\n   229 [RIPE229].  If this feature is in effect, it requires that\
    \ the\n   device keep additional state to carry out the damping, which can have\n\
    \   a direct impact on the control plane due to increased processing.  In\n  \
    \ addition, flap damping may delay the arrival of real changes in a\n   route\
    \ and affect convergence times.\n"
- title: 8.1.6.  Churn
  contents:
  - "8.1.6.  Churn\n   In theory, a BGP device could receive a set of updates that\n\
    \   completely define the Internet and could remain in a steady state,\n   only\
    \ sending appropriate keepalives.  In practice, the Internet will\n   always be\
    \ changing.\n   Churn refers to control-plane processor activity caused by\n \
    \  announcements received and sent by the router.  It does not include\n   keepalives\
    \ and TCP processing.\n   Churn is caused by both normal and pathological events.\
    \  For example,\n   if an interface of the local router goes down and the associated\n\
    \   prefix is withdrawn, that withdrawal is a normal activity, although\n   it\
    \ contributes to churn.  If the local device receives a withdrawal\n   of a route\
    \ it already advertises, or an announcement of a route it\n   did not previously\
    \ know, and it re-advertises this information, these\n   are normal constituents\
    \ of churn.  Routine updates can range from\n   single announcements or withdrawals,\
    \ to announcements of an entire\n   default-free table.  The latter is completely\
    \ reasonable as an\n   initialization condition.\n   Flapping routes are a pathological\
    \ contributor to churn, as is MED\n   oscillation [RFC3345].  The goal of flap\
    \ damping is to reduce the\n   contribution of flapping to churn.\n   The effect\
    \ of churn on overall convergence depends on the processing\n   power available\
    \ to the control plane, and on whether the same\n   processor(s) are used for\
    \ forwarding and control.\n"
- title: 8.2.  Implementation-Specific and Other Factors Affecting BGP
  contents:
  - "8.2.  Implementation-Specific and Other Factors Affecting BGP\n      Convergence\n\
    \   These factors are conditions of testing internal to the Device Under\n   Test\
    \ (DUT), although they may affect its interactions with test\n   devices.\n"
- title: 8.2.1.  Forwarded Traffic
  contents:
  - "8.2.1.  Forwarded Traffic\n   The presence of actual traffic in the device may\
    \ stress the control\n   path in some fashion if both the offered load (due to\
    \ data) and the\n   control traffic (FIB updates and downloads as a consequence\
    \ of flaps)\n   are excessive.  The addition of data traffic presents a more accurate\n\
    \   reflection of realistic operating scenarios than would be presented\n   if\
    \ only control traffic were present.\n"
- title: 8.2.2.  Timers
  contents:
  - "8.2.2.  Timers\n   Settings of delay and hold-down timers at the link level,\
    \ as well as\n   for BGP4, can introduce or ameliorate delays.  As part of a test\n\
    \   report, all relevant timers MUST be reported if they use non-default\n   values.\n"
- title: 8.2.3.  TCP Parameters Underlying BGP Transport
  contents:
  - "8.2.3.  TCP Parameters Underlying BGP Transport\n   Because all BGP traffic and\
    \ interactions occur over TCP, all relevant\n   parameters characterizing the\
    \ TCP sessions MUST be provided; e.g.,\n   slow start, max window size, maximum\
    \ segment size, or timers.\n"
- title: 8.2.4.  Authentication
  contents:
  - "8.2.4.  Authentication\n   Authentication in BGP is currently done using the\
    \ TCP MD5 Signature\n   Option [RFC2385].  The processing of the MD5 hash, particularly\
    \ in\n   devices with a large number of BGP peers and a large amount of update\n\
    \   traffic, can have an impact on the control plane of the device.\n"
- title: 9.  Security Considerations
  contents:
  - "9.  Security Considerations\n   The document explicitly considers authentication\
    \ as a performance-\n   affecting feature, but does not consider the overall security\
    \ of the\n   routing system.\n"
- title: 10.  Acknowledgements
  contents:
  - "10.  Acknowledgements\n   Thanks to Francis Ovenden for review and Abha Ahuja\
    \ for\n   encouragement.  Much appreciation to Jeff Haas, Matt Richardson, and\n\
    \   Shane Wright at Nexthop for comments and input.  Debby Stopp and Nick\n  \
    \ Ambrose contributed the concept of route packing.\n   Alvaro Retana was a key\
    \ member of the team that developed this\n   document, and made significant technical\
    \ contributions regarding\n   route mixes.  The team thanks him and regards him\
    \ as a co-author in\n   spirit.\n"
- title: 11.  References
  contents:
  - '11.  References

    '
- title: 11.1.  Normative References
  contents:
  - "11.1.  Normative References\n   [RFC1771]    Rekhter, Y. and T. Li, \"A Border\
    \ Gateway Protocol 4\n                (BGP-4)\", RFC 1771, March 1995.\n   [RFC2439]\
    \    Villamizar, C., Chandra, R., and R. Govindan, \"BGP Route\n             \
    \   Flap Damping\", RFC 2439, November 1998.\n   [RFC1812]    Baker, F., \"Requirements\
    \ for IP Version 4 Routers\", RFC\n                1812, June 1995.\n   [RIPE37]\
    \     Ahuja, A., Jahanian, F., Bose, A., and C. Labovitz, \"An\n             \
    \   Experimental Study of Delayed Internet Routing\n                Convergence\"\
    , RIPE-37 Presentation to Routing WG,\n                November 2000,\n      \
    \          <http://www.ripe.net/ripe/meetings/archive/\n                ripe-37/presentations/RIPE-37-convergence/>\n\
    \                              .\n   [INSTBLTY]   Labovitz, C., Malan, G., and\
    \ F. Jahanian, \"Origins of\n                Internet Routing Instability\", Infocom\
    \ 99, August 1999.\n   [RFC2622]    Alaettinoglu, C., Bates, T., Gerich, E., Karrenberg,\
    \ D.,\n                Meyer, D., Terpstra, M., and C. Villamizar, \"Routing\n\
    \                Policy Specification Language (RPSL)\", RFC 2280, January\n \
    \               1998.\n   [RIPE229]    Panigl, C., Schmitz, J., Smith, P., and\
    \ C. Vistoli,\n                \"RIPE Routing-WG Recommendation for coordinated\
    \ route-\n                flap damping parameters, version 2\", RIPE 229, October\n\
    \                2001.\n   [RFC2385]    Heffernan, A., \"Protection of BGP Sessions\
    \ via the TCP\n                MD5 Signature Option\", RFC 2385, August 1998.\n\
    \   [GLSSRY]     Juniper Networks, \"Junos(tm) Internet Software\n           \
    \     Configuration Guide Routing and Routing Protocols,\n                Release\
    \ 4.2\", Junos 4.2 and other releases, September\n                2000,\n    \
    \            <http://www.juniper.net/techpubs/software/junos/junos42/\n      \
    \          swcmdref42/html/glossary.html>\n                              .\n \
    \  [RFC2547]    Rosen, E. and Y. Rekhter, \"BGP/MPLS VPNs\", RFC 2547,\n     \
    \           March 1999.\n   [PKTTRAIN]   Jain, R. and S. Routhier, \"Packet trains\
    \ -- measurement\n                and a new model for computer network traffic\"\
    , IEEE\n                Journal on Selected Areas in Communication 4(6),\n   \
    \             September 1986.\n"
- title: 11.2.  Informative References
  contents:
  - "11.2.  Informative References\n   [RFC2918]    Chen, E., \"Route Refresh Capability\
    \ for BGP-4\", RFC\n                2918, September 2000.\n   [GRMBGP]     Sangli,\
    \ S., Rekhter, Y., Fernando, R., Scudder, J., and\n                E. Chen, \"\
    Graceful Restart Mechanism for BGP\", Work in\n                Progress, June\
    \ 2004.\n   [BGP-4]      Chen, E. and Y. Rekhter, \"Cooperative Route Filtering\n\
    \                Capability for BGP-4\", Work in Progress, March 2004.\n   [RFC3654]\
    \    Khosravi, H. and T. Anderson, \"Requirements for\n                Separation\
    \ of IP Control and Forwarding\", RFC 3654,\n                November 2003.\n\
    \   [RFC3345]    McPherson, D., Gill, V., Walton, D., and A. Retana,\n       \
    \         \"Border Gateway Protocol (BGP) Persistent Route\n                Oscillation\
    \ Condition\", RFC 3345, August 2002.\n   [RFC2858]    Bates, T., Rekhter, Y.,\
    \ Chandra, R., and D. Katz,\n                \"Multiprotocol Extensions for BGP-4\"\
    , RFC 2858, June\n                2000.\n   [RFC2545]    Marques, P. and F. Dupont,\
    \ \"Use of BGP-4 Multiprotocol\n                Extensions for IPv6 Inter-Domain\
    \ Routing\", RFC 2545,\n                March 1999.\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Howard Berkowitz\n   Gett Communications & CCI Training\n\
    \   5012 S. 25th St\n   Arlington, VA  22206\n   USA\n   Phone: +1 703 998-5819\n\
    \   Fax:   +1 703 998-5058\n   EMail: hcb@gettcomm.com\n   Elwyn B. Davies\n \
    \  Folly Consulting\n   The Folly\n   Soham\n   Cambs, CB7 5AW\n   UK\n   Phone:\
    \ +44 7889 488 335\n   EMail: elwynd@dial.pipex.com\n   Susan Hares\n   Nexthop\
    \ Technologies\n   825 Victors Way\n   Ann Arbor, MI  48108\n   USA\n   Phone:\
    \ +1 734 222-1610\n   EMail: skh@nexthop.com\n   Padma Krishnaswamy\n   SAIC\n\
    \   331 Newman Springs Road\n   Red Bank, New Jersey  07701\n   USA\n   EMail:\
    \ padma.krishnaswamy@saic.com\n   Marianne Lepp\n   Consultant\n   EMail: mlepp@lepp.com\n"
- title: Full Copyright Statement
  contents:
  - "Full Copyright Statement\n   Copyright (C) The Internet Society (2005).\n   This\
    \ document is subject to the rights, licenses and restrictions\n   contained in\
    \ BCP 78, and except as set forth therein, the authors\n   retain all their rights.\n\
    \   This document and the information contained herein are provided on an\n  \
    \ \"AS IS\" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS\n  \
    \ OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET\n   ENGINEERING\
    \ TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED,\n   INCLUDING BUT NOT\
    \ LIMITED TO ANY WARRANTY THAT THE USE OF THE\n   INFORMATION HEREIN WILL NOT\
    \ INFRINGE ANY RIGHTS OR ANY IMPLIED\n   WARRANTIES OF MERCHANTABILITY OR FITNESS\
    \ FOR A PARTICULAR PURPOSE.\n"
- title: Intellectual Property
  contents:
  - "Intellectual Property\n   The IETF takes no position regarding the validity or\
    \ scope of any\n   Intellectual Property Rights or other rights that might be\
    \ claimed to\n   pertain to the implementation or use of the technology described\
    \ in\n   this document or the extent to which any license under such rights\n\
    \   might or might not be available; nor does it represent that it has\n   made\
    \ any independent effort to identify any such rights.  Information\n   on the\
    \ procedures with respect to rights in RFC documents can be\n   found in BCP 78\
    \ and BCP 79.\n   Copies of IPR disclosures made to the IETF Secretariat and any\n\
    \   assurances of licenses to be made available, or the result of an\n   attempt\
    \ made to obtain a general license or permission for the use of\n   such proprietary\
    \ rights by implementers or users of this\n   specification can be obtained from\
    \ the IETF on-line IPR repository at\n   http://www.ietf.org/ipr.\n   The IETF\
    \ invites any interested party to bring to its attention any\n   copyrights, patents\
    \ or patent applications, or other proprietary\n   rights that may cover technology\
    \ that may be required to implement\n   this standard.  Please address the information\
    \ to the IETF at ietf-\n   ipr@ietf.org.\n"
- title: Acknowledgement
  contents:
  - "Acknowledgement\n   Funding for the RFC Editor function is currently provided\
    \ by the\n   Internet Society.\n"
