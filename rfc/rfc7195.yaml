- title: __initial_text__
  contents:
  - "            Session Description Protocol (SDP) Extension for\n Setting Audio\
    \ and Video Media Streams over Circuit-Switched Bearers in\n              the\
    \ Public Switched Telephone Network (PSTN)\n"
- title: Abstract
  contents:
  - "Abstract\n   This memo describes use cases, requirements, and protocol extensions\n\
    \   for using the Session Description Protocol (SDP) offer/answer model\n   for\
    \ establishing audio and video media streams over circuit-switched\n   bearers\
    \ in the Public Switched Telephone Network (PSTN).\n"
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This is an Internet Standards Track document.\n   This\
    \ document is a product of the Internet Engineering Task Force\n   (IETF).  It\
    \ represents the consensus of the IETF community.  It has\n   received public\
    \ review and has been approved for publication by the\n   Internet Engineering\
    \ Steering Group (IESG).  Further information on\n   Internet Standards is available\
    \ in Section 2 of RFC 5741.\n   Information about the current status of this document,\
    \ any errata,\n   and how to provide feedback on it may be obtained at\n   http://www.rfc-editor.org/info/rfc7195.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (c) 2014 IETF Trust and the persons identified\
    \ as the\n   document authors.  All rights reserved.\n   This document is subject\
    \ to BCP 78 and the IETF Trust's Legal\n   Provisions Relating to IETF Documents\n\
    \   (http://trustee.ietf.org/license-info) in effect on the date of\n   publication\
    \ of this document.  Please review these documents\n   carefully, as they describe\
    \ your rights and restrictions with respect\n   to this document.  Code Components\
    \ extracted from this document must\n   include Simplified BSD License text as\
    \ described in Section 4.e of\n   the Trust Legal Provisions and are provided\
    \ without warranty as\n   described in the Simplified BSD License.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1. Introduction ....................................................3\n\
    \   2. Conventions Used in This Document ...............................4\n  \
    \ 3. Requirements ....................................................5\n   4.\
    \ Overview of Operation ...........................................5\n      4.1.\
    \ Example Call Flow ..........................................6\n   5. Protocol\
    \ Description ............................................7\n      5.1. Level\
    \ of Compliance ........................................7\n      5.2. Extensions\
    \ to SDP ..........................................7\n           5.2.1. Connection\
    \ Data .....................................7\n           5.2.2. Media Descriptions\
    \ ..................................9\n           5.2.3. Correlating the PSTN\
    \ Circuit-Switched\n                  Bearer with SDP ....................................10\n\
    \                  5.2.3.1. The \"cs-correlation\" Attribute ............11\n\
    \                  5.2.3.2. Caller ID Correlation Mechanism ...........12\n  \
    \                5.2.3.3. User-User Information Element\n                    \
    \       Correlation Mechanism .....................13\n                  5.2.3.4.\
    \ DTMF Correlation Mechanism ................14\n                  5.2.3.5. External\
    \ Correlation Mechanism ............15\n                  5.2.3.6. Extensions\
    \ to Correlation Mechanisms ......16\n      5.3. Negotiating the Correlation Mechanisms\
    \ ....................17\n           5.3.1. Determining the Direction of the\n\
    \                  Circuit-Switched Bearer Setup ......................17\n  \
    \         5.3.2. Populating the \"cs-correlation\" Attribute ..........18\n  \
    \         5.3.3. Considerations for Correlations ....................18\n    \
    \  5.4. Considerations for Usage of Existing SDP ..................19\n      \
    \     5.4.1. Originator of the Session ..........................19\n        \
    \   5.4.2. Contact Information ................................20\n      5.5.\
    \ Considerations for Usage of Third Party Call\n           Control (3PCC) ............................................20\n\
    \      5.6. Offer/Answer Mode Extensions ..............................20\n  \
    \         5.6.1. Generating the Initial Offer .......................21\n    \
    \       5.6.2. Generating the Answer ..............................23\n      \
    \     5.6.3. Offerer Processing the Answer ......................26\n        \
    \   5.6.4. Modifying the Session ..............................27\n      5.7.\
    \ Formal Syntax .............................................28\n   6. Examples\
    \ .......................................................30\n      6.1. Single\
    \ PSTN Audio Stream ..................................30\n      6.2. Advanced\
    \ SDP Example: Circuit-Switched Audio and\n           Video Streams .............................................32\n\
    \   7. Security Considerations ........................................33\n  \
    \ 8. IANA Considerations ............................................35\n    \
    \  8.1. Registration of the New \"cs-correlation\" SDP Attribute ....35\n    \
    \  8.2. Registration of a New \"nettype\" Value .....................36\n    \
    \  8.3. Registration of a New \"addrtype\" Value ....................36\n    \
    \  8.4. Registration of a New \"proto\" Value .......................36\n   9.\
    \ Acknowledgments ................................................37\n   10. References\
    \ ....................................................37\n      10.1. Normative\
    \ References .....................................37\n      10.2. Informative\
    \ References ...................................38\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   The Session Description Protocol (SDP) [RFC4566] is intended\
    \ for\n   describing multimedia sessions for the purposes of session\n   announcement,\
    \ session invitation, and other forms of multimedia\n   session initiation.  SDP\
    \ is most commonly used for describing media\n   streams that are transported\
    \ over the Real-Time Transport Protocol\n   (RTP) [RFC3550], using the profiles\
    \ for audio and video media defined\n   in \"RTP Profile for Audio and Video Conferences\
    \ with Minimal Control\"\n   [RFC3551].\n   However, SDP can be used to describe\
    \ media transport protocols other\n   than RTP.  Previous work includes SDP conventions\
    \ for describing ATM\n   bearer connections [RFC3108] and the Message Session\
    \ Relay Protocol\n   [RFC4975].\n   SDP is commonly carried in Session Initiation\
    \ Protocol (SIP)\n   [RFC3261] messages in order to agree on a common media description\n\
    \   among the endpoints.  \"An Offer/Answer Model with the Session\n   Description\
    \ Protocol (SDP)\" [RFC3264] defines a framework by which\n   two endpoints can\
    \ exchange SDP media descriptions and come to an\n   agreement as to which media\
    \ streams should be used, along with the\n   media-related parameters.\n   In\
    \ some scenarios, it might be desirable to establish the media\n   stream over\
    \ a circuit-switched bearer connection even if the\n   signaling for the session\
    \ is carried over an IP bearer.  An example\n   of such a scenario is illustrated\
    \ with two mobile devices capable of\n   both circuit-switched and packet-switched\
    \ communication over a low-\n   bandwidth radio bearer.  The radio bearer may\
    \ not be suitable for\n   carrying real-time audio or video media, and using a\
    \ circuit-switched\n   bearer would offer a better perceived quality of service.\
    \  So,\n   according to this scenario, SDP and its higher-layer session control\n\
    \   protocol (e.g., the Session Initiation Protocol (SIP) [RFC3261]) are\n   used\
    \ over regular IP connectivity, while the audio or video is\n   received through\
    \ the classical circuit-switched bearer.\n   This document addresses only the\
    \ use of circuit-switched bearers in\n   the PSTN, not a generic circuit-switched\
    \ network.  The mechanisms\n   presented below require a call signaling protocol\
    \ of the PSTN to be\n   used (such as ITU-T Q.931 [ITU.Q931.1998] or 3GPP TS 24.008\n\
    \   [TS.24.008]).\n   Setting up a signaling relationship in the IP domain instead\
    \ of just\n   setting up a circuit-switched call also offers the possibility of\n\
    \   negotiating, in the same session, other IP-based media that is not\n   sensitive\
    \ to jitter and delay, for example, text messaging or\n   presence information.\n\
    \   At a later point in time, the mobile device might move to an area\n   where\
    \ a high-bandwidth packet-switched bearer, for example, a\n   Wireless Local Area\
    \ Network (WLAN) connection, is available.  At this\n   point, the mobile device\
    \ may perform a handover and move the audio or\n   video media streams over to\
    \ the high-speed bearer.  This implies a\n   new exchange of SDP offer/answer\
    \ that leads to a renegotiation of the\n   media streams.\n   Other use cases\
    \ exist.  For example, an endpoint might have at its\n   disposal circuit-switched\
    \ and packet-switched connectivity, but the\n   same audio or video codecs are\
    \ not feasible for both access networks.\n   For example, the circuit-switched\
    \ audio or video stream supports\n   narrow-bandwidth codecs, while the packet-switched\
    \ access allows any\n   other audio or video codec implemented in the endpoint.\
    \  In this\n   case, it might be beneficial for the endpoint to describe different\n\
    \   codecs for each access type and get an agreement on the bearer\n   together\
    \ with the remote endpoint.\n   There are additional use cases related to third\
    \ party call control\n   where the session setup time is improved when the circuit-switched\n\
    \   bearer in the PSTN is described together with one or more codecs.\n   The\
    \ rest of the document is structured as follows: Section 2 provides\n   the document\
    \ conventions, Section 3 introduces the requirements,\n   Section 4 presents an\
    \ overview of the proposed solutions, and\n   Section 5 contains the protocol\
    \ description.  Section 6 provides\n   examples of circuit-switched audio or video\
    \ streams in SDP.  Sections\n   7 and 8 contain the Security and IANA considerations,\
    \ respectively.\n"
- title: 2.  Conventions Used in This Document
  contents:
  - "2.  Conventions Used in This Document\n   The key words \"MUST\", \"MUST NOT\"\
    , \"REQUIRED\", \"SHALL\", \"SHALL NOT\",\n   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\"\
    , \"NOT RECOMMENDED\", \"MAY\", and\n   \"OPTIONAL\" in this document are to be\
    \ interpreted as described in BCP\n   14, RFC 2119 [RFC2119] and indicate requirement\
    \ levels for compliant\n   implementations.\n"
- title: 3.  Requirements
  contents:
  - "3.  Requirements\n   This section presents the general requirements that are\
    \ specific for\n   the audio or video media streams over circuit-switched bearers.\n\
    \   REQ-1:  A mechanism for endpoints to negotiate and agree on an audio\n   \
    \        or video media stream established over a circuit-switched\n         \
    \  bearer MUST be available.\n   REQ-2:  The mechanism MUST allow the endpoints\
    \ to combine circuit-\n           switched audio or video media streams with other\n\
    \           complementary media streams, for example, text messaging.\n   REQ-3:\
    \  The mechanism MUST allow the endpoint to negotiate the\n           direction\
    \ of the circuit-switched bearer, i.e., which\n           endpoint is active when\
    \ initiating the circuit-switched\n           bearer.\n   REQ-4:  The mechanism\
    \ MUST be independent of the type of the circuit-\n           switched access\
    \ (e.g., Integrated Services Digital Network\n           (ISDN), Global System\
    \ for Mobile Communication (GSM), etc.)\n   REQ-5:  There MUST be a mechanism\
    \ that helps an endpoint to correlate\n           an incoming circuit-switched\
    \ bearer with the one negotiated\n           in SDP, as opposed to another incoming\
    \ call that is not\n           related to that.  In case correlation by programmatic\
    \ means\n           is not possible, correlation may also be performed by the\n\
    \           human user.\n   REQ-6:  It MUST be possible for endpoints to advertise\
    \ different\n           lists of audio or video codecs in the circuit-switched\
    \ audio\n           or video stream from those used in a packet-switched audio\
    \ or\n           video stream.\n   REQ-7:  It MUST be possible for endpoints to\
    \ not advertise the list\n           of available codecs for circuit-switched\
    \ audio or video\n           streams.\n"
- title: 4.  Overview of Operation
  contents:
  - "4.  Overview of Operation\n   The mechanism defined in this memo extends SDP\
    \ [RFC4566] and allows\n   describing an audio or video media stream established\
    \ over a circuit-\n   switched bearer.  A new network type (\"PSTN\") and a new\
    \ protocol type\n   (\"PSTN\") are defined for the \"c=\" and \"m=\" lines to\
    \ be able to\n   describe a media stream over a circuit-switched bearer.  These\
    \ SDP\n   extensions are described in Section 5.2.  Since circuit-switched\n \
    \  bearers are connection-oriented media streams, the mechanism reuses\n   the\
    \ connection-oriented extensions defined in RFC 4145 [RFC4145] to\n   negotiate\
    \ the active and passive sides of a connection setup.  This\n   is further described\
    \ in Section 5.3.1.\n"
- title: 4.1.  Example Call Flow
  contents:
  - "4.1.  Example Call Flow\n   Consider the example presented in Figure 1.  In this\
    \ example,\n   Endpoint A is located in an environment where it has access to\
    \ both\n   IP and circuit-switched bearers for communicating with other\n   endpoints.\
    \  Endpoint A decides that the circuit-switched bearer\n   offers a better perceived\
    \ quality of service for voice and issues an\n   SDP offer containing the description\
    \ of an audio media stream over a\n   circuit-switched bearer.\n    Endpoint A\
    \                        Endpoint B\n      | (1) SDP offer (PSTN audio)      \
    \   |\n      |----------------------------------->|\n      |                 \
    \                   |\n      | (2) SDP answer (PSTN audio)        |\n      |<-----------------------------------|\n\
    \      |                                    |\n      |   PSTN call setup     \
    \             |\n      |<-----------------------------------|\n      |       \
    \                             |\n      |                                    |\n\
    \      |<===== media over PSTN bearer =====>|\n      |                       \
    \             |\n               Figure 1: Example Flow\n   Endpoint B receives\
    \ the SDP offer and determines that it is located\n   in an environment where\
    \ the IP-based bearer is not suitable for real-\n   time audio media.  However,\
    \ Endpoint B also has a PSTN circuit-\n   switched bearer available for audio.\
    \  Endpoint B generates an SDP\n   answer containing a description of the audio\
    \ media stream over a\n   circuit-switched bearer.\n   During the offer/answer\
    \ exchange, Endpoints A and B also agree upon\n   the direction in which the circuit-switched\
    \ bearer should be\n   established.  In this example, Endpoint B becomes the active\
    \ party;\n   in other words, it establishes the circuit-switched call to the other\n\
    \   endpoint.  The offer/answer exchange contains identifiers or\n   references\
    \ that can be used on the circuit-switched network for\n   addressing the other\
    \ endpoint, as well as information that is used to\n   determine that the incoming\
    \ circuit-switched bearer establishment is\n   related to the ongoing session\
    \ between the two endpoints.\n   Endpoint B establishes a circuit-switched bearer\
    \ towards Endpoint A\n   using whatever mechanisms are defined for the network\
    \ type in\n   question.  When receiving the incoming circuit-switched connection\n\
    \   attempt, Endpoint A is able to determine that the attempt is related\n   to\
    \ the session it is just establishing with B.\n   Endpoint A accepts the circuit-switched\
    \ connection; the circuit-\n   switched bearer setup is completed.  The two endpoints\
    \ can now use\n   the circuit-switched connection for two-way audio media.\n \
    \  If, for some reason, Endpoint B would like to reject the offered\n   stream,\
    \ it would set the port number of the specific stream to zero,\n   as specified\
    \ in RFC 3264 [RFC3264].  Also, if B does not understand\n   some of the SDP attributes\
    \ specified in this document, it would\n   ignore them, as specified in RFC 4566\
    \ [RFC4566].\n"
- title: 5.  Protocol Description
  contents:
  - '5.  Protocol Description

    '
- title: 5.1.  Level of Compliance
  contents:
  - "5.1.  Level of Compliance\n   Implementations that are compliant with this specification\
    \ MUST\n   implement the SDP extensions described in Section 5.2 and MUST\n  \
    \ implement the considerations discussed in Sections 5.3, 5.4, and 5.6.\n"
- title: 5.2.  Extensions to SDP
  contents:
  - "5.2.  Extensions to SDP\n   This section provides the syntax and semantics of\
    \ the extensions\n   required for providing a description of audio or video media\
    \ streams\n   over circuit-switched bearers in SDP.\n"
- title: 5.2.1.  Connection Data
  contents:
  - "5.2.1.  Connection Data\n   According to SDP [RFC4566], the connection data line\
    \ in SDP has the\n   following syntax:\n      c=<nettype> <addrtype> <connection-address>\n\
    \   where <nettype> indicates the network type, <addrtype> indicates the\n   address\
    \ type, and <connection-address> is the connection address,\n   which is dependent\
    \ on the address type.\n   At the moment, the only network type defined is \"\
    IN\", which indicates\n   Internet network type.  The address types \"IP4\" and\
    \ \"IP6\" indicate\n   the type of IP addresses.\n   This memo defines a new network\
    \ type for describing a circuit-\n   switched bearer network type in the PSTN.\
    \  The mnemonic \"PSTN\" is\n   used for this network type.\n   For the address\
    \ type, we initially considered the possibility of\n   describing E.164 telephone\
    \ numbers.  We define a new \"E164\" address\n   type to be used within the context\
    \ of a \"PSTN\" network type.  The\n   \"E164\" address type indicates that the\
    \ connection address contains an\n   E.164 number represented according to the\
    \ ITU-T E.164 [ITU.E164.2010]\n   recommendation.\n   It is a common convention\
    \ that an international E.164 number contains\n   a leading '+' sign.  For consistency's\
    \ sake, we also require the\n   E.164 telephone is prepended with a '+', even\
    \ if that is not\n   necessary for routing of the call in the PSTN network.\n\
    \   There are cases, though, when the endpoint is merely aware of a\n   circuit-switched\
    \ bearer, without having further information about the\n   E.164 number allocated\
    \ to it.  In these cases, a dash (\"-\") is used\n   to indicate an unknown connection\
    \ address.  This makes the connection\n   data line consistent with SDP syntax.\n\
    \   Please note that the \"E164\" address type defined in this memo is\n   exclusively\
    \ defined to be used in conjunction with the \"PSTN\" network\n   type in accordance\
    \ with regular offer/answer procedures [RFC4566].\n      Note: RFC 3108 [RFC3108]\
    \ also defines address type \"E.164\".  This\n      definition is distinct from\
    \ the one defined by this memo and shall\n      not be used with <nettype> \"\
    PSTN\".\n   This memo exclusively uses the international representation of E.164\n\
    \   numbers, i.e., those including a country code and, as described\n   above,\
    \ prepended with a '+' sign.  Implementations conforming to this\n   specification\
    \ and using the \"E164\" address type together with the\n   \"PSTN\" network type\
    \ MUST use the 'global-number-digits' construction\n   specified in RFC 3966 [RFC3966]\
    \ for representing international E.164\n   numbers.  This representation requires\
    \ the presence of the '+' sign\n   and additionally allows for the presence of\
    \ one or more 'visual-\n   separator' constructions for easier human readability\
    \ (see\n   Section 5.7).\n   Note that <connection-address> MUST NOT be omitted\
    \ when unknown since\n   this would violate basic syntax of SDP [RFC4566].  In\
    \ such cases, it\n   MUST be set to a \"-\".\n   The following are examples of\
    \ the extension to the connection data\n   line:\n      c=PSTN E164 +441134960123\n\
    \      c=PSTN E164 -\n   When the <addrtype> is E164, the connection address is\
    \ defined as\n   follows:\n   o  an international E.164 number (prepended with\
    \ a '+' sign)\n   o  the value \"-\", signifying that the address is unknown\n\
    \   o  any other value resulting from the production rule of connection-\n   \
    \   address in RFC 4566 [RFC4566], but in all cases any value\n      encountered\
    \ will be ignored.\n"
- title: 5.2.2.  Media Descriptions
  contents:
  - "5.2.2.  Media Descriptions\n   According to SDP [RFC4566], the media description\
    \ line in SDP has the\n   following syntax:\n      m=<media> <port> <proto> <fmt>\
    \ ...\n   The <media> subfield carries the media type.  For establishing an\n\
    \   audio bearer, the existing \"audio\" media type is used.  For\n   establishing\
    \ a video bearer, the existing \"video\" media type is used.\n   The <port> subfield\
    \ is the transport port to which the media stream\n   is sent.  Circuit-switched\
    \ access lacks the concept of a port number;\n   therefore, the <port> subfield\
    \ does not carry any meaningful value.\n   In order to be compliant with SDP syntax,\
    \ implementations SHOULD set\n   the <port> subfield to the discard port value\
    \ \"9\" and MUST ignore it\n   on reception.\n   According to RFC 3264 [RFC3264],\
    \ a port number of zero in the offer\n   of a unicast stream indicates that the\
    \ stream is offered but must not\n   be used.  If a port number of zero is present\
    \ in the answer of a\n   unicast stream, it indicates that the stream is rejected.\
    \  These\n   rules are still valid when the media line in SDP represents a\n \
    \  circuit-switched bearer.\n   The <proto> subfield is the transport protocol.\
    \  The circuit-switched\n   bearer uses whatever transport protocol it has available.\
    \  This\n   subfield SHOULD be set to the mnemonic \"PSTN\" to be syntactically\n\
    \   correct with SDP [RFC4566] and to indicate the usage of circuit-\n   switched\
    \ protocols in the PSTN.\n   The <fmt> subfield is the media format description.\
    \  In the classical\n   usage of SDP to describe RTP-based media streams, when\
    \ the <proto>\n   subfield is set to \"RTP/AVP\" or \"RTP/SAVP\", the <fmt> subfield\n\
    \   contains the payload types as defined in the RTP audio profile\n   [RFC3551].\n\
    \   When \"RTP/AVP\" is used in the <proto> field, the <fmt> subfield\n   contains\
    \ the RTP payload type numbers.  We use the <fmt> subfield to\n   indicate the\
    \ list of available codecs over the circuit-switched\n   bearer, by reusing the\
    \ conventions and payload type numbers defined\n   for RTP / AVP.  The RTP audio\
    \ and video media types, when applied to\n   PSTN circuit-switched bearers, represent\
    \ merely an audio or video\n   codec.  If the endpoint is able to determine the\
    \ list of available\n   codecs for circuit-switched media streams, it MUST use\
    \ the\n   corresponding payload type numbers in the <fmt> subfield.\n   In some\
    \ cases, the endpoint is not able to determine the list of\n   available codecs\
    \ for circuit-switched media streams.  In this case,\n   in order to be syntactically\
    \ compliant with SDP [RFC4566], the\n   endpoint MUST include a single dash (\"\
    -\") in the <fmt> subfield.\n   As per RFC 4566 [RFC4566], the media format descriptions\
    \ are listed\n   in priority order.\n   Examples of media descriptions for circuit-switched\
    \ audio streams\n   are:\n      m=audio 9 PSTN 3 0 8\n      m=audio 9 PSTN -\n\
    \   Similarly, an example of a media description for circuit-switched\n   video\
    \ stream is:\n      m=video 9 PSTN 34\n      m=video 9 PSTN -\n"
- title: 5.2.3.  Correlating the PSTN Circuit-Switched Bearer with SDP
  contents:
  - "5.2.3.  Correlating the PSTN Circuit-Switched Bearer with SDP\n   The endpoints\
    \ should be able to correlate the circuit-switched bearer\n   with the session\
    \ negotiated with SDP in order to avoid ringing for an\n   incoming circuit-switched\
    \ bearer that is related to the session\n   controlled with SDP (and SIP).\n \
    \  Several alternatives exist for performing this correlation.  This\n   memo\
    \ provides three mutually non-exclusive correlation mechanisms.\n   Additionally,\
    \ we define a fourth mechanism where correlation may be\n   performed by external\
    \ means, typically by the human user, in case\n   using other correlation mechanisms\
    \ is not possible or does not\n   succeed.  Other correlation mechanisms may exist,\
    \ and their usage\n   will be specified when need arises.\n   All mechanisms share\
    \ the same principle: some unique information is\n   sent in the SDP and in the\
    \ circuit-switched signaling protocol.  If\n   these pieces of information match,\
    \ then the circuit-switched bearer\n   is part of the session described in the\
    \ SDP exchange.  Otherwise,\n   there is no guarantee that the circuit-switched\
    \ bearer is related to\n   such session.\n   The first mechanism is based on the\
    \ exchange of PSTN Caller ID\n   between the endpoints.  The Caller ID is also\
    \ available as the\n   Calling Party Number in the circuit-switched signaling.\n\
    \   The second mechanism is based on the inclusion in SDP of a value that\n  \
    \ is also sent in the User-User Information Element that is part of the\n   bearer\
    \ setup signaling in the PSTN.\n   The third mechanism is based on sending in\
    \ SDP a string that\n   represents Dual-Tone Multi-Frequency (DTMF) digits that\
    \ will be later\n   sent right after the circuit-switched bearer is established.\n\
    \   The fourth correlation mechanism declares support for cases where\n   correlation\
    \ is done by external means.  Typically, this means that\n   the decision is left\
    \ to the human user.  This is how some current\n   conferencing systems operate:\
    \ after logging on to the conference, the\n   system calls back to the user's\
    \ phone number to establish audio\n   communications, and it is up to the human\
    \ user to accept or reject\n   the incoming call.  By declaring explicit support\
    \ for this mechanism,\n   endpoints can use it only when such a possibility exists.\n\
    \   Endpoints may opt to implement any combination of the correlation\n   mechanisms\
    \ specified in Sections 5.2.3.2, 5.2.3.3, 5.2.3.4, and\n   5.2.3.5, including\
    \ the option to implement none at all.\n"
- title: 5.2.3.1.  The "cs-correlation" Attribute
  contents:
  - "5.2.3.1.  The \"cs-correlation\" Attribute\n   In order to provide support for\
    \ the correlation mechanisms, we define\n   a new media-level SDP attribute called\
    \ \"cs-correlation\".  There MUST\n   be at most one \"cs-correlation\" attribute\
    \ per media description.\n   This \"cs-correlation\" attribute MAY contain zero\
    \ or more subfields --\n   \"callerid\", \"uuie\", \"dtmf\", or \"external\" to\
    \ specify additional\n   information required by the Caller ID, User-User Information\
    \ Element,\n   DTMF, or external correlation mechanisms, respectively.  The list\
    \ of\n   correlation mechanisms may be extended by other specifications; see\n\
    \   Section 5.2.3.6 for more details.\n   The following sections provide more\
    \ detailed information about these\n   subfields.\n   The values \"callerid\"\
    , \"uuie\", \"dtmf\", and \"external\" refer to the\n   correlation mechanisms\
    \ defined in Sections 5.2.3.2, 5.2.3.3, 5.2.3.4,\n   and 5.2.3.5, respectively.\
    \  The formal Augmented Backus-Naur Format\n   (ABNF) syntax of the \"cs-correlation\"\
    \ attribute is presented in\n   Section 5.7.\n"
- title: 5.2.3.2.  Caller ID Correlation Mechanism
  contents:
  - "5.2.3.2.  Caller ID Correlation Mechanism\n   The Caller ID correlation mechanism\
    \ consists of an exchange of the\n   Calling Party Number as an international\
    \ E.164 number in SDP,\n   followed by the availability of the Calling Party Number\
    \ Information\n   Element in the call setup signaling of the circuit-switched\n\
    \   connection.  If both pieces of information match, the circuit-\n   switched\
    \ bearer is correlated to the session described in SDP.\n   An example of inclusion\
    \ of an international E.164 number in the\n   \"cs-correlation\" attribute is:\n\
    \      a=cs-correlation:callerid:+441134960123\n   The presence of the \"callerid\"\
    \ subfield indicates that the endpoint\n   supports use of the Calling Party Number\
    \ as a means of correlating a\n   PSTN call with the session being negotiated.\
    \  The \"callerid\" subfield\n   MAY be accompanied by the international E.164\
    \ number of the party\n   inserting the parameter.\n      Note that there are\
    \ no guarantees that this correlation mechanism\n      works or is even available,\
    \ due a number of problems:\n      *  The endpoint might not be aware of its own\
    \ E.164 number, in\n         which case it cannot populate the SDP appropriately.\n\
    \      *  The Calling Party Number Information Element in the circuit-\n     \
    \    switched signaling might not be available, e.g., due to policy\n        \
    \ restrictions of the network operator or caller restriction due\n         to\
    \ privacy.\n      *  The Calling Party Number Information Element in the circuit-\n\
    \         switched signaling might be available, but the digit\n         representation\
    \ of the E.164 number might differ from the one\n         expressed in the SDP,\
    \ due to, e.g., lack of country code.  To\n         mitigate this problem, implementations\
    \ should consider only\n         some of the rightmost digits from the E.164 number\
    \ for\n         correlation.  For example, the numbers +44-113-496-0123 and\n\
    \         0113-496-0123 could be considered as the same number.  This is\n   \
    \      also the behavior of some cellular phones, which correlate the\n      \
    \   incoming calling party with a number stored in the phone book,\n         for\
    \ the purpose of displaying the caller's name.  Please refer\n         to ITU-T\
    \ E.164 recommendation [ITU.E164.2010] for consideration\n         of the relevant\
    \ number of digits to consider.\n"
- title: 5.2.3.3.  User-User Information Element Correlation Mechanism
  contents:
  - "5.2.3.3.  User-User Information Element Correlation Mechanism\n   A second correlation\
    \ mechanism is based on including in SDP a string\n   that represents the User-User\
    \ Information Element that is part of the\n   call setup signaling of the circuit-switched\
    \ bearer.  The User-User\n   Information Element is specified in ITU-T Q.931 [ITU.Q931.1998]\
    \ and\n   3GPP TS 24.008 [TS.24.008], among others.  The User-User Information\n\
    \   Element has a maximum size of 35 or 131 octets, depending on the\n   actual\
    \ message of the PSTN protocol where it is included and the\n   network settings.\n\
    \   The mechanism works as follows.  An endpoint creates a User-User\n   Information\
    \ Element, according to the requirements of the call setup\n   signaling protocol.\
    \  The same value is included in the SDP offer or\n   SDP answer, in the \"uuie\"\
    \ subfield of the \"cs-correlation\" attribute.\n   When the SDP offer/answer\
    \ exchange is completed, each endpoint has\n   become aware of the value that\
    \ will be used in the User-User\n   Information Element of the call setup message\
    \ of the PSTN protocol.\n   The endpoint that initiates the call setup attempt\
    \ includes this\n   value in the User-User Information Element.  The recipient\
    \ of the\n   call setup attempt can extract the User-User Information Element\
    \ and\n   correlate it with the value previously received in the SDP.  If both\n\
    \   values match, then the call setup attempt corresponds to that\n   indicated\
    \ in the SDP.\n   According to ITU-T Q.931 [ITU.Q931.1998], the User-User Information\n\
    \   Element (UUIE) identifier is composed of a first octet identifying\n   this\
    \ as a User-User Information Element, a second octet containing\n   the length\
    \ of the user-user contents, a third octet containing a\n   Protocol Discriminator,\
    \ and a value of up to 32 or 128 octets\n   (depending on network settings) containing\
    \ the actual User\n   Information (see Figure 4-36 in [ITU.Q931.1998]).  The first\
    \ two\n   octets of the UUIE MUST NOT be used for correlation; only the octets\n\
    \   carrying the Protocol Discriminator and the User Information value\n   are\
    \ input to the creation of the value of the \"uuie\" subfield in the\n   \"cs-correlation\"\
    \ attribute.  Therefore, the value of the \"uuie\"\n   subfield in the \"cs-correlation\"\
    \ attribute MUST start with the\n   Protocol Discriminator octet, followed by\
    \ the User Information\n   octets.  The value of the Protocol Discriminator octet\
    \ is not\n   specified in this document; it is expected that organizations using\n\
    \   this technology will allocate a suitable value for the Protocol\n   Discriminator.\n\
    \   Once the binary value of the \"uuie\" subfield in the \"cs-correlation\"\n\
    \   attribute is created, it MUST be base 16 (also known as \"hex\")\n   encoded\
    \ before it is inserted in SDP.  Please refer to RFC 4648\n   [RFC4648] for a\
    \ detailed description of base 16 encoding.  The\n   resulting encoded value needs\
    \ to have an even number of hexadecimal\n   digits and MUST be considered invalid\
    \ if it has an odd number.\n      Note: The encoding of the \"uuie\" subfield\
    \ of the \"cs-correlation\"\n      attribute is largely inspired by the encoding\
    \ of the same value in\n      the User-to-User header field in SIP, according\
    \ to \"A Mechanism\n      for Transporting User to User Call Control Information\
    \ in SIP\"\n      [SIP-UUI].\n   As an example, an endpoint willing to send a\
    \ UUIE containing a\n   Protocol Discriminator with the hexadecimal value of %x56\
    \ and an\n   hexadecimal User Information value of %xA390F3D2B7310023 would\n\
    \   include an \"a=cs-correlation\" attribute line as follows:\n      a=cs-correlation:uuie:56A390F3D2B7310023\n\
    \   Note that the value of the User-User Information Element is\n   considered\
    \ as an opaque string and only used for correlation\n   purposes.  Typically,\
    \ call signaling protocols impose requirements on\n   the creation of a User-User\
    \ Information Element for end-user protocol\n   exchange.  The details regarding\
    \ the generation of the User-User\n   Information Element are outside the scope\
    \ of this specification.\n   Please note that there are no guarantees that this\
    \ correlation\n   mechanism works.  On one side, policy restrictions might not\
    \ make the\n   User-User information available end to end in the PSTN.  On the\
    \ other\n   hand, the generation of the User-User Information Element is\n   controlled\
    \ by the PSTN circuit-switched call protocol, which might\n   not offer enough\
    \ freedom for generating different values from one\n   endpoint to another one\
    \ or from one call to another in the same\n   endpoint.  This might result in\
    \ the same value of the User-User\n   Information Element for all calls.\n"
- title: 5.2.3.4.  DTMF Correlation Mechanism
  contents:
  - "5.2.3.4.  DTMF Correlation Mechanism\n   We introduce a third mechanism for correlating\
    \ the circuit-switched\n   bearer with the session described with SDP.  This is\
    \ based on\n   agreeing on a sequence of digits that are negotiated in the SDP\n\
    \   offer/answer exchange and sent as DTMF tones as described in ITU-T\n   Recommendation\
    \ Q.23 [ITU.Q23.1988] over the circuit-switched bearer\n   once this bearer is\
    \ established.  If the DTMF digit sequence received\n   through the circuit-switched\
    \ bearer matches the digit string\n   negotiated in the SDP, the circuit-switched\
    \ bearer is correlated with\n   the session described in the SDP.  The mechanism\
    \ is similar to many\n   voice conferencing systems that require the user to enter\
    \ a PIN code\n   using DTMF tones in order to be accepted in a voice conference.\n\
    \   The mechanism works as follows.  An endpoint selects a DTMF digit\n   sequence.\
    \  The same sequence is included in the SDP offer or SDP\n   answer, in a \"dtmf\"\
    \ subfield of the \"cs-correlation\" attribute.  When\n   the SDP offer/answer\
    \ exchange is completed, each endpoint has become\n   aware of the DTMF sequence\
    \ that will be sent right after the circuit-\n   switched bearer is set up.  The\
    \ endpoint that initiates the call\n   setup attempt sends the DTMF digits according\
    \ to the procedures\n   defined for the circuit-switched bearer technology used.\
    \  The\n   recipient (passive side of the bearer setup) of the call setup\n  \
    \ attempt collects the digits and compares them with the value\n   previously\
    \ received in the SDP.  If the digits match, then the call\n   setup attempt corresponds\
    \ to that indicated in the SDP.\n      Note: Implementations are advised to select\
    \ a number of DTMF\n      digits that provide enough assurance that the call is\
    \ related but\n      do not prolong the bearer setup time unnecessarily.  A number\
    \ of 5\n      to 10 digits is a good compromise.\n   As an example, an endpoint\
    \ willing to send DTMF tone sequence \"14D*3\"\n   would include an \"a=cs-correlation\"\
    \ attribute line as follows:\n      a=cs-correlation:dtmf:14D*3\n   If the endpoints\
    \ successfully agree on the usage of the DTMF digit\n   correlation mechanism\
    \ but the passive side does not receive any DTMF\n   digits after successful circuit-switched\
    \ bearer setup or receives a\n   set of DTMF digits that do not match the value\
    \ of the \"dtmf\"\n   attribute (including receiving too many digits), the passive\
    \ side\n   SHOULD consider that this DTMF mechanism has failed to correlate the\n\
    \   incoming call.\n"
- title: 5.2.3.5.  External Correlation Mechanism
  contents:
  - "5.2.3.5.  External Correlation Mechanism\n   The fourth correlation mechanism\
    \ relies on external means for\n   correlating the incoming call to the session.\
    \  Since endpoints can\n   select which correlation mechanisms they support, it\
    \ may happen that\n   no other common correlation mechanism is found or that the\
    \ selected\n   correlation mechanism does not succeed due to the required feature\n\
    \   not being supported by the underlying PSTN network.  In these cases,\n   the\
    \ human user can make the decision to accept or reject the incoming\n   call,\
    \ thus \"correlating\" the call with the session.  Since not all\n   endpoints\
    \ are operated by a human user and since there may be no\n   other external means\
    \ implemented by the endpoint for the correlation\n   function, we explicitly\
    \ define support for such an external\n   correlation mechanism.\n   Endpoints\
    \ wishing to use this external correlation mechanism would\n   use the \"external\"\
    \ subfield in the \"cs-correlation\" attribute.\n   Unlike the other three correlation\
    \ mechanisms, the \"external\"\n   subfield does not accept a value.  The following\
    \ is an example of an\n   \"a=cs-correlation\" attribute line:\n      a=cs-correlation:external\n\
    \   Endpoints that are willing to only use the three explicit correlation\n  \
    \ mechanisms defined in this document (\"callerid\", \"uuie\", and/or\n   \"dtmf\"\
    ) would not include the \"external\" mechanism in the\n   offer/answer exchange.\n\
    \   The external correlation mechanism typically relies on the human user\n  \
    \ to make the decision on whether or not the call is related to the\n   ongoing\
    \ session.  After the user accepts the call, that bearer is\n   considered as\
    \ related to the session.  There is a small chance that\n   the user receives\
    \ at the same time another circuit-switched call that\n   is not related to the\
    \ ongoing session.  The user may reject this call\n   if he is able to determine\
    \ (e.g., based on the calling line\n   identification) that the call is not related\
    \ to the session and\n   continue waiting for another call attempt.  If the user\
    \ accepts the\n   incoming circuit-switched call, but it turns out to be not related\
    \ to\n   the session, the endpoints need to rely on the human user to take\n \
    \  appropriate action (typically, the user would hang up).\n"
- title: 5.2.3.6.  Extensions to Correlation Mechanisms
  contents:
  - "5.2.3.6.  Extensions to Correlation Mechanisms\n   New values for the \"cs-correlation\"\
    \ attribute may be specified.  The\n   registration policy for new values is \"\
    Specification Required\"; see\n   Section 8.  Any such specification MUST include\
    \ a description of how\n   the SDP offer/answer mechanism is used to negotiate\
    \ the use of the\n   new values, taking into account how endpoints determine which\
    \ side\n   will become active or passive (see Section 5.3 for more details).\n\
    \   If, during the offer/answer negotiation, either endpoint encounters\n   an\
    \ unknown value in the \"cs-correlation\" attribute, it MUST consider\n   that\
    \ mechanism as unsupported and MUST NOT include that value in\n   subsequent offer/answer\
    \ negotiation.\n"
- title: 5.3.  Negotiating the Correlation Mechanisms
  contents:
  - "5.3.  Negotiating the Correlation Mechanisms\n   The four correlation mechanisms\
    \ presented above (based on Called\n   Party Number, User-User Information Element,\
    \ DTMF digit sending, and\n   external) are non-exclusive and can be used independently\
    \ of each\n   other.  In order to know how to populate the \"cs-correlation\"\n\
    \   attribute, the endpoints need to agree which endpoint will become the\n  \
    \ active party, i.e., the one that will set up the circuit-switched\n   bearer.\n"
- title: 5.3.1.  Determining the Direction of the Circuit-Switched Bearer Setup
  contents:
  - "5.3.1.  Determining the Direction of the Circuit-Switched Bearer Setup\n   In\
    \ order to avoid a situation where both endpoints attempt to\n   initiate a connection\
    \ simultaneously, the direction in which the\n   circuit-switched bearer is set\
    \ up MUST be negotiated during the\n   offer/answer exchange.\n   The framework\
    \ defined in RFC 4145 [RFC4145] allows the endpoints to\n   agree which endpoint\
    \ acts as the active endpoint when initiating a\n   TCP connection.  While RFC\
    \ 4145 [RFC4145] was originally designed for\n   establishing TCP connections,\
    \ it can be easily extrapolated to the\n   connection establishment of circuit-switched\
    \ bearers.  This\n   specification uses the concepts specified in RFC 4145 [RFC4145]\
    \ for\n   agreeing on the direction of establishment of a circuit-switched\n \
    \  bearer.\n   RFC 4145 [RFC4145] defines two new attributes in SDP: \"setup\"\
    \ and\n   \"connection\".  The \"setup\" attribute indicates which of the endpoints\n\
    \   should initiate the connection establishment of the PSTN circuit-\n   switched\
    \ bearer.  Four values are defined in Section 4 of RFC 4145\n   [RFC4145]: \"\
    active\", \"passive\", \"actpass\", and \"holdconn\".  Please\n   refer to Section\
    \ 4 of RFC 4145 [RFC4145] for a detailed description\n   of this attribute.\n\
    \   The \"connection\" attribute indicates whether a new connection is\n   needed\
    \ or an existing connection is reused.  The attribute can take\n   the values\
    \ \"new\" or \"existing\".  Please refer to Section 5 of RFC\n   4145 [RFC4145]\
    \ for a detailed description of this attribute.\n   Implementations that are compliant\
    \ with this specification MUST\n   support the \"setup\" and \"connection\" attributes\
    \ specified in RFC 4145\n   [RFC4145], but applied to circuit-switched bearers\
    \ in the PSTN.\n   We define the active party as the one that initiates the circuit-\n\
    \   switched bearer after the offer/answer exchange.  The passive party\n   is\
    \ the one receiving the circuit-switched bearer.  Either party may\n   indicate\
    \ its desire to become the active or passive party during the\n   offer/answer\
    \ exchange using the procedures described in Section 5.6.\n"
- title: 5.3.2.  Populating the "cs-correlation" Attribute
  contents:
  - "5.3.2.  Populating the \"cs-correlation\" Attribute\n   By defining values for\
    \ the subfields in the \"cs-correlation\"\n   attribute, the endpoint indicates\
    \ that it is willing to become the\n   active party and that it can use those\
    \ values in the Calling Party\n   Number, in the User-User Information Element,\
    \ or as DTMF tones during\n   the circuit-switched bearer setup.\n   Thus, the\
    \ following rules apply:\n   o  An endpoint that can only become the active party\
    \ in the circuit-\n      switched bearer setup MUST include all correlation mechanisms\
    \ it\n      supports in the \"cs-correlation\" attribute and MUST also specify\n\
    \      values for the \"callerid\", \"uuie\", and \"dtmf\" subfields.  Notice\n\
    \      that the \"external\" subfield does not accept a value.\n   o  An endpoint\
    \ that can only become the passive party in the circuit-\n      switched bearer\
    \ setup MUST include all correlation mechanisms it\n      supports in the \"cs-correlation\"\
    \ attribute but MUST NOT specify\n      values for the subfields.\n   o  An endpoint\
    \ that is willing to become either the active or passive\n      party (by including\
    \ the \"a=setup:actpass\" attribute in the offer)\n      MUST include all correlation\
    \ mechanisms it supports in the\n      \"cs-correlation\" attribute and MUST also\
    \ specify values for the\n      \"callerid\", \"uuie\", and \"dtmf\" subfields.\
    \  Notice that the\n      \"external\" subfield does not accept a value.\n"
- title: 5.3.3.  Considerations for Correlations
  contents:
  - "5.3.3.  Considerations for Correlations\n   Passive endpoints should expect an\
    \ incoming circuit-switched (CS)\n   call for setting up the audio bearer.  Passive\
    \ endpoints MAY suppress\n   the incoming CS alert during certain time periods.\
    \  Additional\n   restrictions can be applied, such as the passive endpoint not\n\
    \   alerting incoming calls originated from the number that was observed\n   during\
    \ the offer/answer negotiation.\n   There may be cases when an endpoint is not\
    \ willing to include one or\n   more correlation mechanisms in the \"a=cs-correlation\"\
    \ attribute line\n   even if it supports it.  For example, some correlation mechanisms\
    \ can\n   be omitted if the endpoint is certain that the PSTN network does not\n\
    \   support carrying the correlation identifier.  Also, since using the\n   DTMF-based\
    \ correlation mechanism requires the call to be accepted\n   before DTMF tones\
    \ can be sent, some endpoints may enforce a policy\n   restricting this due to,\
    \ for example, cost associated with received\n   calls, making the DTMF-based\
    \ mechanism unusable.\n   Note that it cannot be guaranteed that the correlation\
    \ mechanisms\n   relying on caller identification, User-User Information Element,\
    \ and\n   DTMF sending will succeed even if the usage of those was agreed\n  \
    \ beforehand.  This is due to the fact that correlation mechanisms\n   require\
    \ support from the circuit-switched bearer technology used.\n   Therefore, even\
    \ a single positive indication using any of these\n   mechanisms SHOULD be interpreted\
    \ by the passive endpoint so that the\n   circuit-switched bearer establishment\
    \ is related to the ongoing\n   session, even if the other correlation mechanisms\
    \ fail.\n   If, after successfully negotiating any of the \"callerid\", \"uuie\"\
    , or\n   \"dtmf\" correlation mechanisms in the SDP offer/answer exchange, an\n\
    \   endpoint receives an incoming establishment of a circuit-switched\n   bearer\
    \ with no correlation information present, the endpoint first\n   checks whether\
    \ or not the offer/answer exchange was also used to\n   successfully negotiate\
    \ the \"external\" correlation mechanism.  If it\n   was, the endpoint should\
    \ let the decision be made by external means,\n   typically the human user.  If\
    \ the \"external\" correlation mechanism\n   was not successfully negotiated,\
    \ the endpoint should treat the call\n   as unrelated to the ongoing session in\
    \ the IP domain.\n"
- title: 5.4.  Considerations for Usage of Existing SDP
  contents:
  - '5.4.  Considerations for Usage of Existing SDP

    '
- title: 5.4.1.  Originator of the Session
  contents:
  - "5.4.1.  Originator of the Session\n   According to SDP [RFC4566], the origin\
    \ line in SDP has the following\n   syntax:\n      o=<username> <sess-id> <sess-version>\
    \ <nettype> <addrtype>\n      <unicast-address>\n   Of interest here are the <nettype>\
    \ and <addrtype> fields, which\n   indicate the type of network and type of address,\
    \ respectively.\n   Typically, this field carries the IP address of the originator\
    \ of the\n   session.  Even if the SDP was used to negotiate an audio or video\n\
    \   media stream transported over a circuit-switched bearer, the\n   originator\
    \ is using SDP over an IP bearer.  Therefore, <nettype> and\n   <addrtype> fields\
    \ in the \"o=\" line should be populated with the IP\n   address identifying the\
    \ source of the signaling.\n"
- title: 5.4.2.  Contact Information
  contents:
  - "5.4.2.  Contact Information\n   SDP [RFC4566] defines the \"p=\" line, which\
    \ may include the phone\n   number of the person responsible for the conference.\
    \  Even though\n   this line can carry a phone number, it is not suited for the\
    \ purpose\n   of defining a connection address for the media.  Therefore, we have\n\
    \   selected to define the PSTN-specific connection addresses in the \"c=\"\n\
    \   line.\n"
- title: 5.5.  Considerations for Usage of Third Party Call Control (3PCC)
  contents:
  - "5.5.  Considerations for Usage of Third Party Call Control (3PCC)\n   \"Best\
    \ Current Practices for Third Party Call Control (3PCC) in the\n   Session Initiation\
    \ Protocol (SIP)\" [RFC3725] outlines several flows\n   that are possible in third\
    \ party call control scenarios and\n   recommends some flows for specific situations.\n\
    \   One of the assumptions in [RFC3725] is that an SDP offer may include\n   a\
    \ \"black hole\" connection address, which has the property that\n   packets sent\
    \ to it will never leave the host that sent them.  For\n   IPv4, this \"black\
    \ hole\" connection address is 0.0.0.0 or a domain\n   name within the .invalid\
    \ DNS top level domain.\n   When using an E.164 address scheme in the context\
    \ of third party call\n   control, when the User Agent needs to indicate an unknown\
    \ phone\n   number, it MUST populate the <addrtype> of the SDP \"c=\" line with\
    \ a\n   \"-\" string.\n      Note: This may result in the recipient of the initial\
    \ offer\n      rejecting such offer if the recipient of the offer was not aware\n\
    \      of its own E.164 number.  Consequently, it will not be possible to\n  \
    \    establish a circuit-switched bearer, since neither party is aware\n     \
    \ of its E.164 number.\n"
- title: 5.6.  Offer/Answer Mode Extensions
  contents:
  - "5.6.  Offer/Answer Mode Extensions\n   In this section, we define extensions\
    \ to the offer/answer model\n   defined in \"An Offer/Answer Model with the Session\
    \ Description\n   Protocol (SDP)\" [RFC3264] to allow for PSTN addresses to be\
    \ used with\n   the offer/answer model.\n"
- title: 5.6.1.  Generating the Initial Offer
  contents:
  - "5.6.1.  Generating the Initial Offer\n   The offerer, wishing to use PSTN audio\
    \ or video stream, MUST populate\n   the \"c=\" and \"m=\" lines as follows.\n\
    \   The endpoint MUST set the <nettype> in the \"c=\" line to \"PSTN\" and\n \
    \  the <addrtype> to \"E164\".  Furthermore, the endpoint SHOULD set the\n   <connection-address>\
    \ field to its own international E.164 number\n   (with a leading \"+\").  If\
    \ the endpoint is not aware of its own E.164\n   number, it MUST set the <connection-address>\
    \ to \"-\".\n   In the \"m=\" line, the endpoint MUST set the <media> subfield\
    \ to\n   \"audio\" or \"video\", depending on the media type, and the <proto>\n\
    \   subfield to \"PSTN\".  The <port> subfield SHOULD be set to \"9\" (the\n \
    \  discard port).  The values \"audio\" or \"video\" in the <media> subfield\n\
    \   MUST NOT be set by the endpoint unless it has knowledge that these\n   bearer\
    \ types are available on the circuit-switched network.\n   The <fmt> subfield\
    \ carries the payload type number(s) the endpoint is\n   wishing to use.  Payload\
    \ type numbers in this case refer to the\n   codecs that the endpoint wishes to\
    \ use on the PSTN media stream.  For\n   example, if the endpoint wishes to use\
    \ the GSM codec, it would add\n   payload type number 3 in the list of codecs.\
    \  The list of payload\n   types MUST only contain those codecs the endpoint is\
    \ able to use on\n   the PSTN bearer.  In case the endpoint is not aware of the\
    \ codecs\n   available for the circuit-switched media streams, it MUST include\
    \ a\n   dash (\"-\") in the <fmt> subfield.\n   The mapping table of static payload\
    \ types numbers to payload types is\n   initially specified in [RFC3551] and maintained\
    \ by IANA.  For dynamic\n   payload types, the endpoint MUST define the set of\
    \ valid encoding\n   names and related parameters using the \"a=rtpmap\" attribute\
    \ line.\n   See Section 6 of RFC 4566 [RFC4566] for details.\n   When generating\
    \ the offer, the offerer MUST include an\n   \"a=cs-correlation\" attribute line\
    \ in the SDP offer.  The offerer MUST\n   NOT include more than one \"cs-correlation\"\
    \ attribute per media\n   description.  The \"a=cs-correlation\" line SHOULD contain\
    \ an\n   enumeration of all the correlation mechanisms supported by the\n   offerer,\
    \ in the format of subfields.  See Section 5.3.3 for more\n   information on usage\
    \ of the correlation mechanisms.\n   The current list of subfields include \"\
    callerid\", \"uuie\", \"dtmf\", and\n   \"external\", and they refer to the correlation\
    \ mechanisms defined in\n   Sections 5.2.3.2, 5.2.3.3, 5.2.3.4, and 5.2.3.5, respectively.\n\
    \   If the offerer supports any of the correlation mechanisms defined in\n   this\
    \ memo and is willing to become the active party, the offerer MUST\n   add the\
    \ \"callerid\", \"uuie\", \"dtmf\", and/or \"external\" subfields and\n   MUST\
    \ specify values for them as follows:\n   o  The international E.164 number as\
    \ the value in the \"callerid\"\n      subfield.\n   o  The contents of the User-User\
    \ Information Element as the value of\n      the \"uuie\" subfield.\n   o  The\
    \ DTMF tone string as the value of the \"dtmf\" subfield.\n   o  The endpoint\
    \ MUST NOT specify any value for the \"external\"\n      subfield.\n   If the\
    \ offerer is only able to become the passive party in the\n   circuit-switched\
    \ bearer setup, it MUST add at least one of the\n   possible correlation mechanisms\
    \ but MUST NOT specify values for those\n   subfields.\n   For example, if the\
    \ offerer is willing to use the User-User\n   Information Element and DTMF digit-sending\
    \ mechanisms but can only\n   become the passive party, and is also able to let\
    \ the human user\n   decide whether the correlation should be done or not, it\
    \ includes the\n   following lines in the SDP:\n      a=cs-correlation:uuie dtmf\
    \ external\n      a=setup:passive\n   If, on the other hand, the offerer is willing\
    \ to use the User-User\n   Information Element and the DTMF correlation mechanisms\
    \ and is able\n   to become the active or passive side, and is also able to let\
    \ the\n   human user decide whether the correlation should be done or not, it\n\
    \   includes the following lines in the SDP:\n      a=cs-correlation:uuie:56A390F3D2B7310023\
    \ dtmf:14D*3 external\n      a=setup:actpass\n   The negotiation of the value\
    \ of the \"setup\" attribute takes place as\n   defined in Section 4.1 of RFC\
    \ 4145 [RFC4145].\n   The offerer states which role or roles it is willing to\
    \ perform; the\n   answerer, taking the offerer's willingness into consideration,\n\
    \   chooses which roles both endpoints will actually perform during the\n   circuit-switched\
    \ bearer setup.\n   By \"active\" endpoint, we refer to an endpoint that will\
    \ establish the\n   circuit-switched bearer; by \"passive\" endpoint, we refer\
    \ to an\n   endpoint that will receive a circuit-switched bearer.\n   If an offerer\
    \ does not know its international E.164 number, it MUST\n   set the \"setup\"\
    \ attribute to the value \"active\".  If the offerer\n   knows its international\
    \ E.164 number, it SHOULD set the value to\n   either \"actpass\" or \"passive\"\
    .\n   Also \"holdconn\" is a permissible value in the \"setup\" attribute.  It\n\
    \   indicates that the connection should not be established for the time\n   being.\n\
    \   The offerer uses the \"connection\" attribute to decide whether a new\n  \
    \ circuit-switched bearer is to be established or not.  For the initial\n   offer,\
    \ the offerer MUST use value \"new\".\n"
- title: 5.6.2.  Generating the Answer
  contents:
  - "5.6.2.  Generating the Answer\n   If the offer contained a circuit-switched audio\
    \ or video stream, the\n   answerer first determines whether it is able to accept\
    \ and use such\n   streams on the circuit-switched network.  If the answerer does\
    \ not\n   support or is not willing to use circuit-switched media for the\n  \
    \ session, it MUST construct an answer where the port number for such\n   media\
    \ stream(s) is set to zero, according to Section 6 of [RFC3264].\n   If the answerer\
    \ is willing to use circuit-switched media for the\n   session, it MUST ignore\
    \ the received port number (unless the port\n   number is set to zero).\n   If\
    \ the offer included a \"-\" as the payload type number, it indicates\n   that\
    \ the offerer is not willing or able to define any specific\n   payload type.\
    \  Most often, a \"-\" is expected to be used instead of\n   the payload type\
    \ when the endpoint is not aware of or not willing to\n   define the codecs that\
    \ will eventually be used on the circuit-\n   switched bearer.  The circuit-switched\
    \ signaling protocols have their\n   own means of negotiating or indicating the\
    \ codecs; therefore, an\n   answerer SHOULD accept such offers and SHOULD set\
    \ the payload type to\n   \"-\" in the answer.\n   If the answerer explicitly\
    \ wants to specify a codec for the circuit-\n   switched media, it MAY set the\
    \ respective payload numbers in the\n   <fmt> subfield in the answer.  This behavior,\
    \ however, is NOT\n   RECOMMENDED.\n   When receiving the offer, the answerer\
    \ MUST determine whether it\n   becomes the active or passive party.\n   If the\
    \ SDP in the offer indicates that the offerer is only able to\n   become the active\
    \ party, the answerer needs to determine whether it\n   is able to become the\
    \ passive party.  If this is not possible, e.g.,\n   due to the answerer not knowing\
    \ its international E.164 number, the\n   answerer MUST reject the circuit-switched\
    \ media by setting the port\n   number to zero on the answer.  If the answerer\
    \ is aware of its\n   international E.164 number, it MUST include the \"setup\"\
    \ attribute in\n   the answer and set it to value \"passive\" or \"holdconn\"\
    .  The answerer\n   MUST also include its E.164 number in the \"c=\" line.\n \
    \  If the SDP in the offer indicates that the offerer is only able to\n   become\
    \ the passive party, the answerer MUST verify that the offerer's\n   E.164 number\
    \ is included in the \"c=\" line of the offer.  If the\n   number is included,\
    \ the answerer MUST include the \"setup\" attribute\n   in the answer and set\
    \ it to value \"active\" or \"holdconn\".  If the\n   number is not included,\
    \ the recipient of the offer is not willing to\n   establish a connection the\
    \ E.164 based on a priori knowledge of cost,\n   or other reasons, call establishment\
    \ is not possible, and the\n   answerer MUST reject the circuit-switched media\
    \ by setting the port\n   number to zero in the answer.\n   If the SDP in the\
    \ offer indicates that the offerer is able to become\n   either the active or\
    \ passive party, the answerer determines which\n   role it will take.  If the\
    \ offer includes an international E.164\n   number in the \"c=\" line, the answerer\
    \ SHOULD become the active party.\n   If the answerer does not become the active\
    \ party and if the answerer\n   is aware of its E.164 number, it MUST become the\
    \ passive party.  If\n   the answerer does not become the active or the passive\
    \ party, it MUST\n   reject the circuit-switched media by setting the port number\
    \ to zero\n   in the answer.\n   For each media description where the offer includes\
    \ a\n   \"cs-correlation\" attribute, the answerer MUST select from the offer\n\
    \   those correlation mechanisms it supports and include in the answer\n   one\
    \ \"a=cs-correlation\" attribute line containing those mechanisms it\n   is willing\
    \ to use.  The answerer MUST only add one \"cs-correlation\"\n   attribute in\
    \ those media descriptions where also the offer included a\n   \"cs-correlation\"\
    \ attribute.  The answerer MUST NOT add any mechanisms\n   that were not included\
    \ in the offer.  If there is more than one\n   \"cs-correlation\" attribute per\
    \ media description in the offer, the\n   answerer MUST discard all but the first\
    \ for any media description.\n   Also, the answerer MUST discard all unknown \"\
    cs-correlation\"\n   attribute values.\n   If the answerer becomes the active\
    \ party, it MUST add a value to any\n   of the possible subfields.\n   If the\
    \ answerer becomes the passive party, it MUST NOT add any values\n   to the subfields\
    \ in the \"cs-correlation\" attribute.\n   After generating and sending the answer,\
    \ if the answerer became the\n   active party, it\n   o  MUST extract the E.164\
    \ number from the \"c=\" line of the offer and\n      MUST establish a circuit-switched\
    \ bearer to that address.\n   o  if the SDP answer contained a value for the \"\
    callerid\" subfield,\n      MUST set the Calling Party Number Information Element\
    \ to that\n      number.\n   o  if the SDP answer contained a value for the \"\
    uuie\" subfield, MUST\n      send the User-User Information Element according\
    \ to the rules\n      defined for the circuit-switched technology used and set\
    \ the value\n      of the Information Element to that received in the SDP offer.\n\
    \   o  if the SDP answer contained a value for the \"dtmf\" subfield, MUST\n \
    \     send those DTMF digits according to the circuit-switched\n      technology\
    \ used.\n   If, on the other hand, the answerer became the passive party, it\n\
    \   o  MUST be prepared to receive a circuit-switched bearer,\n   o  if the offer\
    \ contained a value for the \"callerid\" subfield, MUST\n      compare that value\
    \ to the Calling Party Number Information Element\n      of the circuit-switched\
    \ bearer.  If the received Calling Party\n      Number Information Element matches\
    \ the value of the \"callerid\"\n      subfield, the call SHOULD be treated as\
    \ correlated to the ongoing\n      session.\n   o  if the offer contained a value\
    \ for the \"dtmf\" subfield, MUST be\n      prepared to receive and collect DTMF\
    \ digits once the circuit-\n      switched bearer is set up.  The answerer MUST\
    \ compare the received\n      DTMF digits to the value of the \"dtmf\" subfield.\
    \  If the received\n      DTMF digits match the value of the \"dtmf\" subfield\
    \ in the\n      \"cs-correlation\" attribute, the call SHOULD be treated as\n\
    \      correlated to the ongoing session.\n   o  if the offer contained a value\
    \ for the \"uuie\" subfield, MUST be\n      prepared to receive a User-User Information\
    \ Element once the\n      circuit-switched bearer is set up.  The answerer MUST\
    \ compare the\n      received UUIE to the value of the \"uuie\" subfield.  If\
    \ the value\n      of the received UUIE matches the value of the \"uuie\" subfield,\
    \ the\n      call SHOULD be treated as correlated to the ongoing session.\n  \
    \ o  if the offer contained an \"external\" subfield, MUST be prepared to\n  \
    \    receive a circuit-switched call and use the external means\n      (typically,\
    \ the human user) for accepting or rejecting the call.\n   If the answerer becomes\
    \ the active party, generates an SDP answer,\n   and then it finds out that the\
    \ circuit-switched call cannot be\n   established, then the answerer MUST create\
    \ a new SDP offer where the\n   circuit-switched stream is removed from the session\
    \ (actually, by\n   setting the corresponding port in the \"m=\" line to zero)\
    \ and send it\n   to its counterpart.  This is to synchronize both parties (and\n\
    \   potential intermediaries) on the state of the session.\n"
- title: 5.6.3.  Offerer Processing the Answer
  contents:
  - "5.6.3.  Offerer Processing the Answer\n   When receiving the answer, if the SDP\
    \ does not contain an\n   \"a=cs-correlation\" attribute line, the offerer should\
    \ take that as an\n   indication that the other party does not support or is not\
    \ willing to\n   use the procedures defined in the document for this session and\
    \ MUST\n   revert to normal processing of SDP.\n   When receiving the answer,\
    \ the offerer MUST first determine whether\n   it becomes the active or passive\
    \ party, as described in\n   Section 5.3.1.\n   If the offerer becomes the active\
    \ party, it\n   o  MUST extract the E.164 number from the \"c=\" line and MUST\n\
    \      establish a circuit-switched bearer to that address.\n   o  if the SDP\
    \ answer contained a value for the \"uuie\" subfield, MUST\n      send the User-User\
    \ Information Element according to the rules\n      defined for the circuit-switched\
    \ technology used and set the value\n      of the Information Element to that\
    \ received in the SDP answer.\n   o  if the SDP answer contained a value for the\
    \ \"dtmf\" subfield, MUST\n      send those DTMF digits according to the circuit-switched\n\
    \      technology used.\n   If the offerer becomes the passive party:\n   o  It\
    \ MUST be prepared to receive a circuit-switched bearer.\n   o  Note that if delivery\
    \ of the answer is delayed for some reason,\n      the circuit-switched call attempt\
    \ may arrive at the offerer before\n      the answer has been processed.  In this\
    \ case, since the\n      correlation mechanisms are negotiated as part of the\
    \ offer/answer\n      exchange, the answerer cannot know whether or not the incoming\n\
    \      circuit-switched call attempt is correlated with the session being\n  \
    \    negotiated; thus, the offerer SHOULD answer the circuit-switched\n      call\
    \ attempt only after it has received and processed the answer.\n   o  If the answer\
    \ contained a value for the \"dtmf\" subfield, the\n      offerer MUST be prepared\
    \ to receive and collect DTMF digits once\n      the circuit-switched bearer is\
    \ set up.  The offerer SHOULD compare\n      the received DTMF digits to the value\
    \ of the \"dtmf\" subfield.  If\n      the received DTMF digits match the value\
    \ of the \"dtmf\" subfield in\n      the \"cs-correlation\" attribute, the call\
    \ SHOULD be treated as\n      correlated to the ongoing session.\n   o  If the\
    \ answer contained a value for the \"uuie\" subfield, the\n      offerer MUST\
    \ be prepared to receive a User-User Information\n      Element once the circuit-switched\
    \ bearer is set up.  The offerer\n      SHOULD compare the received UUIE to the\
    \ value of the \"uuie\"\n      subfield.  If the value of the received UUIE matches\
    \ the value of\n      the \"uuie\" subfield, the call SHOULD be treated as correlated\
    \ to\n      the ongoing session.\n   o  If the answer contained an \"external\"\
    \ subfield, the offerer MUST\n      be prepared to receive a circuit-switched\
    \ call and use the\n      external means (typically, the human user) for accepting\
    \ or\n      rejecting the call.\n   According the \"An Offer/Answer Model with\
    \ the Session Description\n   Protocol (SDP)\" [RFC3264], the offerer needs to\
    \ be ready to receive\n   media as soon as the offer has been sent.  It may happen\
    \ that the\n   answerer, if it became the active party, will initiate a circuit-\n\
    \   switched bearer setup that will arrive at the offerer before the\n   answer\
    \ has arrived.  However, the offerer needs to receive the answer\n   and examine\
    \ the information about the correlation mechanisms in order\n   to successfully\
    \ perform correlation of the circuit-switched call to\n   the session.  Therefore,\
    \ if the offerer receives an incoming circuit-\n   switched call, it MUST NOT\
    \ accept the call before the answer has been\n   received.  If no answer is received\
    \ during an implementation-specific\n   time, the offerer MUST either modify the\
    \ session according to\n   [RFC3264] or terminate it according to the session\
    \ signaling\n   procedures in question (for terminating a SIP session, see Section\
    \ 15\n   of [RFC3261]).\n"
- title: 5.6.4.  Modifying the Session
  contents:
  - "5.6.4.  Modifying the Session\n   If, at a later time, one of the parties wishes\
    \ to modify the session,\n   e.g., by adding a new media stream or by changing\
    \ properties used on\n   an existing stream, it may do so via the mechanisms defined\
    \ in \"An\n   Offer/Answer Model with the Session Description Protocol (SDP)\"\
    \n   [RFC3264].\n   If there is an existing circuit-switched bearer between the\
    \ endpoints\n   and the offerer wants to reuse that, the offerer MUST set the\
    \ value\n   of the \"connection\" attribute to \"existing\".\n   If either party\
    \ removes the circuit-switched media from the session\n   (by setting the port\
    \ number to zero), it MUST terminate the circuit-\n   switched bearer using whatever\
    \ mechanism is appropriate for the\n   technology in question.\n   If either party\
    \ wishes to drop and reestablish an existing call, that\n   party MUST first remove\
    \ the circuit-switched media from the session\n   by setting the port number to\
    \ zero and then use another offer/answer\n   exchange where it MUST set the \"\
    connection\" attribute to \"new\".  If\n   the media types are different (for\
    \ example, a different codec will be\n   used for the circuit-switched bearer),\
    \ the media descriptions for\n   terminating the existing bearer and the new bearer\
    \ can be in the same\n   offer.\n   If either party would like to remove existing\
    \ RTP-based media from\n   the session and replace that with a circuit-switched\
    \ bearer, it would\n   create a new offer to add the circuit-switched media as\
    \ described in\n   Section 5.6.1 above, replacing the RTP-based media description\
    \ with\n   the circuit-switched media description, as specified in RFC 3264\n\
    \   [RFC3264].\n   Once the offer/answer exchange is done, but the circuit-switched\n\
    \   bearer is not yet established, there may be a period of time when no\n   media\
    \ is available.  Also, it may happen that correlating the\n   circuit-switched\
    \ call fails for reasons discussed in Section 5.3.3.\n   In this case, even if\
    \ the offer/answer exchange was successful,\n   endpoints are not able to receive\
    \ or send media.  It is up to the\n   implementation to decide the behavior in\
    \ this case; if nothing else\n   is done, the user most likely hangs up after\
    \ a while if there is no\n   other media in the session.  Note that this may also\
    \ happen when\n   switching from one RTP media to another RTP media (for example,\
    \ when\n   firewall blocks the new media stream).\n   If either party would like\
    \ to remove existing circuit-switched media\n   from the session and replace that\
    \ with RTP-based media, it would\n   modify the media description as per the procedures\
    \ defined in RFC\n   3264 [RFC3264].  The endpoint MUST then terminate the circuit-\n\
    \   switched bearer using whatever mechanism is appropriate for the\n   technology\
    \ in question.\n"
- title: 5.7.  Formal Syntax
  contents:
  - "5.7.  Formal Syntax\n   The following is the formal Augmented Backus-Naur Form\
    \ (ABNF)\n   [RFC5234] syntax that supports the extensions defined in this\n \
    \  specification.  The syntax is built above the SDP [RFC4566] and the\n   tel\
    \ URI [RFC3966] grammars.  Implementations that are compliant with\n   this specification\
    \ MUST be compliant with this syntax.\n   Figure 2 shows the formal syntax of\
    \ the extensions defined in this\n   memo.\n           ; extension to the connection\
    \ field originally specified\n           ; in RFC 4566\n           connection-field\
    \   =  [%x63 \"=\" nettype SP addrtype SP\n           connection-address CRLF]\n\
    \           ; CRLF defined in RFC 5234\n           ;nettype and addrtype are defined\
    \ in RFC 4566\n           connection-address =/  global-number-digits / \"-\"\n\
    \           ; global-number-digits specified in RFC 3966\n           ;subrules\
    \ for correlation attribute\n           attribute          =/ cs-correlation-attr\n\
    \           ; attribute defined in RFC 4566\n           cs-correlation-attr =\
    \ \"cs-correlation:\" corr-mechanisms\n           corr-mechanisms    = corr-mech\
    \ *(SP corr-mech)\n           corr-mech          = caller-id-mech / uuie-mech\
    \ /\n                                dtmf-mech / external-mech /\n           \
    \                     ext-mech\n           caller-id-mech     = \"callerid\" [\"\
    :\" caller-id-value]\n           caller-id-value    = \"+\" 1*15DIGIT\n      \
    \     ; DIGIT defined in RFC 5234\n           uuie-mech          = \"uuie\" [\"\
    :\" uuie-value]\n           uuie-value         = 1*65(HEXDIG HEXDIG)\n       \
    \                         ;This represents up to 130 HEXDIG\n                \
    \                ; (65 octets)\n                                ;HEXDIG defined\
    \ in RFC 5234\n                                ;HEXDIG defined as 0-9, A-F\n \
    \          dtmf-mech          = \"dtmf\" [\":\" dtmf-value]\n           dtmf-value\
    \         = 1*32(DIGIT / %x41-44 / %x23 / %x2A )\n                           \
    \     ;0-9, A-D, '#' and '*'\n           external-mech      = \"external\"\n \
    \          ext-mech           = ext-mech-name [\":\" ext-mech-value]\n       \
    \    ext-mech-name      = token\n           ext-mech-value     = token\n     \
    \      ; token is specified in RFC 4566\n                  Figure 2: Syntax of\
    \ the SDP Extensions\n"
- title: 6.  Examples
  contents:
  - "6.  Examples\n   In the examples below, where an SDP line is too long to be displayed\n\
    \   as a single line, a breaking character \"\\\" indicates continuation in\n\
    \   the following line.  Note that this character is included for display\n  \
    \ purposes only.  Implementations MUST write a single line without\n   breaks.\n"
- title: 6.1.  Single PSTN Audio Stream
  contents:
  - "6.1.  Single PSTN Audio Stream\n            Endpoint A                      \
    \  Endpoint B\n              |                                  |\n          \
    \    | (1) SDP offer (PSTN audio)       |\n              |--------------------------------->|\n\
    \              |                                  |\n              | (2) SDP answer\
    \ (PSTN audio)      |\n              |<---------------------------------|\n  \
    \            |                                  |\n              |   PSTN call\
    \ setup                |\n              |<---------------------------------|\n\
    \              |                                  |\n              |<==== media\
    \ over PSTN bearer ====>|\n              |                                  |\n\
    \                           Figure 3: Basic Flow\n   Figure 3 shows a basic example\
    \ that describes a single audio media\n   stream over a circuit-switched bearer.\
    \  Endpoint A generates an SDP\n   offer, which is shown in Figure 4.  The offer\
    \ describes a PSTN\n   circuit-switched bearer in the \"m=\" and \"c=\" line where\
    \ it also\n   indicates its international E.164 number format.  Additionally,\n\
    \   Endpoint A expresses that it can initiate the circuit-switched bearer\n  \
    \ or be the recipient of it in the \"a=setup\" attribute line.  The SDP\n   offer\
    \ also includes correlation identifiers that this endpoint will\n   insert in\
    \ the Calling Party Number and/or User-User Information\n   Element of the PSTN\
    \ call setup if eventually this endpoint initiates\n   the PSTN call.  Endpoint\
    \ A also includes \"external\" as one\n   correlation mechanism, indicating that\
    \ it can use the human user to\n   perform correlation in case other mechanisms\
    \ fail.\n           v=0\n           o=alice 2890844526 2890842807 IN IP4 192.0.2.5\n\
    \           s=\n           t=0 0\n           m=audio 9 PSTN -\n           c=PSTN\
    \ E164 +441134960123\n           a=setup:actpass\n           a=connection:new\n\
    \           a=cs-correlation:callerid:+441134960123 \\\n             uuie:56A390F3D2B7310023\
    \ external\n                          Figure 4: SDP Offer (1)\n   Endpoint B generates\
    \ an SDP answer (Figure 5), describing a PSTN\n   audio media on port 9 without\
    \ information on the media subtype on the\n   \"m=\" line.  The \"c=\" line contains\
    \ B's international E.164 number.\n   In the \"a=setup\" line, Endpoint B indicates\
    \ that it is willing to\n   become the active endpoint when establishing the PSTN\
    \ call, and it\n   also includes the \"a=cs-correlation\" attribute line containing\
    \ the\n   values it is going to include in the Calling Party Number and User-\n\
    \   User Information Element of the PSTN call establishment.  Endpoint B\n   is\
    \ also able to perform correlation by external means, in case other\n   correlation\
    \ mechanisms fail.\n         v=0\n         o=- 2890973824 2890987289 IN IP4 192.0.2.7\n\
    \         s=\n         t=0 0\n         m=audio 9 PSTN -\n         c=PSTN E164\
    \ +441134960124\n         a=setup:active\n         a=connection:new\n        \
    \ a=cs-correlation:callerid:+441134960124 \\\n           uuie:74B9027A869D7966A2\
    \ external\n             Figure 5: SDP Answer with Circuit-Switched Media\n  \
    \ When Endpoint A receives the answer, it examines that B is willing to\n   become\
    \ the active endpoint when setting up the PSTN call.  Endpoint A\n   temporarily\
    \ stores B's E.164 number and the User-User IE value of the\n   \"cs-correlation\"\
    \ attribute and waits for a circuit-switched bearer\n   establishment.\n   Endpoint\
    \ B initiates a circuit-switched bearer using whatever\n   circuit-switched technology\
    \ is available for it.  The Called Party\n   Number is set to A's number, and\
    \ the Calling Party Number is set to\n   B's own number.  Endpoint B also sets\
    \ the User-User Information\n   Element value to the one contained in the SDP\
    \ answer.\n   When Endpoint A receives the circuit-switched bearer establishment,\n\
    \   it examines the UUIE and the Calling Party Number and, by comparing\n   those\
    \ received during the offer/answer exchange, determines that the\n   call is related\
    \ to the SDP session.\n   It may also be that neither the UUIE nor the Calling\
    \ Party Number is\n   received by the called party, or the format of the Calling\
    \ Party\n   Number is changed by the PSTN.  Implementations may still accept such\n\
    \   call establishment attempts as being related to the session that was\n   established\
    \ in the IP network.  As it cannot be guaranteed that the\n   values used for\
    \ correlation are always passed intact through the\n   network, they should be\
    \ treated as additional hints that the circuit-\n   switched bearer is actually\
    \ related to the session.\n"
- title: '6.2.  Advanced SDP Example: Circuit-Switched Audio and Video Streams'
  contents:
  - "6.2.  Advanced SDP Example: Circuit-Switched Audio and Video Streams\n    Endpoint\
    \ A                                Endpoint B\n      |                       \
    \                     |\n      | (1) SDP offer (PSTN audio and video)       |\n\
    \      |------------------------------------------->|\n      |               \
    \                             |\n      | (2) SDP answer (PSTN audio)         \
    \       |\n      |<-------------------------------------------|\n      |     \
    \                                       |\n      |   PSTN call setup         \
    \                 |\n      |<-------------------------------------------|\n  \
    \    |                                            |\n      |<======== media over\
    \ PSTN bearer ==========>|\n      |                                          \
    \  |\n            Figure 6: Circuit-Switched Audio and Video Streams\n   Figure\
    \ 6 shows an example of negotiating audio and video media\n   streams over circuit-switched\
    \ bearers.\n         v=0\n         o=alice 2890844526 2890842807 IN IP4 192.0.2.5\n\
    \         s=\n         t=0 0\n         a=setup:actpass\n         a=connection:new\n\
    \         c=PSTN E164 +441134960123\n         m=audio 9 PSTN -\n         a=cs-correlation:dtmf:1234536\n\
    \         m=video 9 PSTN 34\n         a=rtpmap:34 H263/90000\n         a=cs-correlation:callerid:+441134960123\n\
    \       Figure 7: SDP Offer with Circuit-Switched Audio and Video (1)\n   Upon\
    \ receiving the SDP offer described in Figure 7, Endpoint B\n   rejects the video\
    \ stream as the device does not currently support\n   video, but it accepts the\
    \ circuit-switched audio stream.  As Endpoint\n   A indicated that it is able\
    \ to become either the active or passive\n   party, Endpoint B gets to select\
    \ which role it would like to take.\n   Since the offer contained the international\
    \ E.164 number of Endpoint\n   A, Endpoint B decides that it becomes the active\
    \ party in setting up\n   the circuit-switched bearer.  B includes a new value\
    \ in the \"dtmf\"\n   subfield of the \"cs-correlation\" attribute, which it is\
    \ going to send\n   as DTMF tones once the bearer setup is complete.  The answer\
    \ is\n   described in Figure 8.\n         v=0\n         o=- 2890973824 2890987289\
    \ IN IP4 192.0.2.7\n         s=\n         t=0 0\n         a=setup:active\n   \
    \      a=connection:new\n         c=PSTN E164 +441134960124\n         m=audio\
    \ 9 PSTN -\n         a=cs-correlation:dtmf:654321\n         m=video 0 PSTN 34\n\
    \         a=cs-correlation:callerid:+441134960124\n      Figure 8: SDP Answer\
    \ with Circuit-Switched Audio and Video (2)\n"
- title: 7.  Security Considerations
  contents:
  - "7.  Security Considerations\n   This document provides an extension to RFC 4566\
    \ [RFC4566] and RFC\n   3264 [RFC3264].  As such, the security considerations\
    \ of those\n   documents apply.\n   This memo provides mechanisms to agree on\
    \ a correlation identifier or\n   identifiers that are used to evaluate whether\
    \ an incoming circuit-\n   switched bearer is related to an ongoing session in\
    \ the IP domain.\n   If an attacker replicates the correlation identifier and\
    \ establishes\n   a call within the time window the receiving endpoint is expecting\
    \ a\n   call, the attacker may be able to hijack the circuit-switched bearer.\n\
    \   These types of attacks are not specific to the mechanisms presented\n   in\
    \ this memo.  For example, Caller ID spoofing is a well-known attack\n   in the\
    \ PSTN.  Users are advised to use the same caution before\n   revealing sensitive\
    \ information as they would on any other phone\n   call.  Furthermore, users are\
    \ advised that mechanisms that may be in\n   use in the IP domain for securing\
    \ the media, like Secure RTP (SRTP)\n   [RFC3711], are not available in the CS\
    \ domain.\n   For the purposes of establishing a circuit-switched bearer, the\n\
    \   active endpoint needs to know the passive endpoint's phone number.\n   Phone\
    \ numbers are sensitive information, and some people may choose\n   not to reveal\
    \ their phone numbers when calling using supplementary\n   services like Calling\
    \ Line Identification Restriction (CLIR) in GSM.\n   Implementations should take\
    \ the caller's preferences regarding\n   calling line identification into account\
    \ if possible, by restricting\n   the inclusion of the phone number in the SDP\
    \ \"c=\" line if the caller\n   has chosen to use CLIR.  If this is not possible,\
    \ implementations may\n   present a prompt informing the user that their phone\
    \ number may be\n   transmitted to the other party.\n   As with IP addresses,\
    \ if there is a desire to protect the SDP\n   containing phone numbers carried\
    \ in SIP, implementers are advised to\n   follow the security mechanisms defined\
    \ in [RFC3261].\n   It is possible that an attacker creates a circuit-switched\
    \ session\n   whereby the attacked endpoint should dial a circuit-switched number,\n\
    \   perhaps even a premium-rate telephone number.  To mitigate the\n   consequences\
    \ of this attack, endpoints MUST authenticate and trust\n   remote endpoints users\
    \ who try to remain passive in the circuit-\n   switched connection establishment.\
    \  It is RECOMMENDED that endpoints\n   have local policies precluding the active\
    \ establishment of circuit-\n   switched connections to certain numbers (e.g.,\
    \ international,\n   premium, and long distance).  Additionally, it is strongly\n\
    \   RECOMMENDED that the end user is asked for consent prior to the\n   endpoint\
    \ initiating a circuit-switched connection.\n"
- title: 8.  IANA Considerations
  contents:
  - "8.  IANA Considerations\n   IANA has registered a number of SDP tokens according\
    \ to the following\n   data.\n"
- title: 8.1.  Registration of the New "cs-correlation" SDP Attribute
  contents:
  - "8.1.  Registration of the New \"cs-correlation\" SDP Attribute\n      Contact:\
    \ Miguel Garcia <miguel.a.garcia@ericsson.com>\n      Attribute name: cs-correlation\n\
    \      Long-form attribute name: PSTN Correlation Identifier\n      Type of attribute:\
    \ media level only\n      Subject to charset: No\n      Description: This attribute\
    \ provides the Correlation Identifier\n      used in PSTN signaling\n      Appropriate\
    \ values: see Section 5.2.3.1\n      Specification: RFC 7195\n   The IANA has\
    \ created a subregistry for the \"cs-correlation\" attribute\n   under the \"\
    Session Description Protocol (SDP) Parameters\" registry.\n   The initial values\
    \ for the subregistry are presented in the\n   following; IANA has registered\
    \ these values accordingly:\n   Value of \"cs-correlation\" attribute Reference\
    \ Description\n   ----------------------------------- --------- -------------------\n\
    \   callerid                            RFC 7195  Caller ID\n   uuie         \
    \                       RFC 7195  User-User\n                                \
    \                 Information Element\n   dtmf                               \
    \ RFC 7195  Dual-Tone\n                                                 Multi-Frequency\n\
    \   external                            RFC 7195  External\n   As per the terminology\
    \ in [RFC5226], the registration policy for new\n   values of the \"cs-correlation\"\
    \ attribute is \"Specification Required\".\n"
- title: 8.2.  Registration of a New "nettype" Value
  contents:
  - "8.2.  Registration of a New \"nettype\" Value\n   IANA has registered a new \"\
    nettype\" in the \"Session Description\n   Protocol (SDP) Parameters\" registry\
    \ [IANA].  The registration data,\n   according to RFC 4566 [RFC4566], is as follows.\n\
    \   Type             SDP Name             Reference\n   --------------   ------------------\
    \   ---------\n   nettype          PSTN                 RFC 7195\n"
- title: 8.3.  Registration of a New "addrtype" Value
  contents:
  - "8.3.  Registration of a New \"addrtype\" Value\n   IANA has registered a new\
    \ \"addrtype\" in the \"Session Description\n   Protocol (SDP) Parameters\" registry\
    \ [IANA].  The registration data,\n   according to RFC 4566 [RFC4566], is as follows.\n\
    \   Type             SDP Name             Reference\n   --------------   ------------------\
    \   ---------\n   addrtype         E164                 RFC 7195\n   Note: This\
    \ document defines the \"E164\" addrtype in the context of the\n   \"PSTN\" nettype\
    \ only.  RFC 3108 [RFC3108] also defines address type\n   \"E.164\".  This definition\
    \ is distinct from the one defined by this\n   memo and shall not be used with\
    \ <nettype> \"PSTN\".\n"
- title: 8.4.  Registration of a New "proto" Value
  contents:
  - "8.4.  Registration of a New \"proto\" Value\n   IANA has registered a new \"\
    proto\" in the \"Session Description\n   Protocol (SDP) Parameters\" registry\
    \ [IANA].  The registration data,\n   according to RFC 4566 [RFC4566], is as follows.\n\
    \   Type             SDP Name             Reference\n   --------------   ------------------\
    \   ---------\n   proto            PSTN                 RFC 7195\n   The related\
    \ \"fmt\" namespace reuses the conventions and payload type\n   number defined\
    \ for RTP/AVP.  In this document, the RTP audio and\n   video media types, when\
    \ applied to PSTN circuit-switched bearers,\n   represent merely an audio or video\
    \ codec in its native format\n   directly on top of a single PSTN bearer.\n  \
    \ In some cases, the endpoint is not able to determine the list of\n   available\
    \ codecs for circuit-switched media streams.  In this case,\n   in order to be\
    \ syntactically compliant with SDP [RFC4566], the\n   endpoint MUST include a\
    \ single dash (\"-\") in the <fmt> subfield.\n"
- title: 9.  Acknowledgments
  contents:
  - "9.  Acknowledgments\n   The authors want to thank Paul Kyzivat, Flemming Andreasen,\
    \ Thomas\n   Belling, John Elwell, Jari Mutikainen, Miikka Poikselka, Jonathan\n\
    \   Rosenberg, Ingemar Johansson, Christer Holmberg, Alf Heidermark, Tom\n   Taylor,\
    \ Thomas Belling, Keith Drage, and Andrew Allen for providing\n   their insight\
    \ and comments on this document.\n"
- title: 10.  References
  contents:
  - '10.  References

    '
- title: 10.1.  Normative References
  contents:
  - "10.1.  Normative References\n   [ITU.Q931.1998]\n               International\
    \ Telecommunications Union, \"Digital\n               Subscriber Signalling System\
    \ No. 1 - ISDN User-Network\n               Interface Layer 3 Specification for\
    \ Basic Call Control\",\n               ITU-T Recommendation Q931, May 1998.\n\
    \   [RFC2119]   Bradner, S., \"Key words for use in RFCs to Indicate\n       \
    \        Requirement Levels\", BCP 14, RFC 2119, March 1997.\n   [RFC3264]   Rosenberg,\
    \ J. and H. Schulzrinne, \"An Offer/Answer Model\n               with Session\
    \ Description Protocol (SDP)\", RFC 3264, June\n               2002.\n   [RFC3966]\
    \   Schulzrinne, H., \"The tel URI for Telephone Numbers\", RFC\n            \
    \   3966, December 2004.\n   [RFC4145]   Yon, D. and G. Camarillo, \"TCP-Based\
    \ Media Transport in\n               the Session Description Protocol (SDP)\"\
    , RFC 4145,\n               September 2005.\n   [RFC4566]   Handley, M., Jacobson,\
    \ V., and C. Perkins, \"SDP: Session\n               Description Protocol\", RFC\
    \ 4566, July 2006.\n   [RFC4648]   Josefsson, S., \"The Base16, Base32, and Base64\
    \ Data\n               Encodings\", RFC 4648, October 2006.\n   [RFC5226]   Narten,\
    \ T. and H. Alvestrand, \"Guidelines for Writing an\n               IANA Considerations\
    \ Section in RFCs\", BCP 26, RFC 5226,\n               May 2008.\n   [RFC5234]\
    \   Crocker, D. and P. Overell, \"Augmented BNF for Syntax\n               Specifications:\
    \ ABNF\", STD 68, RFC 5234, January 2008.\n"
- title: 10.2.  Informative References
  contents:
  - "10.2.  Informative References\n   [IANA]      IANA, \"Session Description Protocol\
    \ (SDP) Parameters\n               Registry\", <http://www.iana.org/assignments/\n\
    \               sdp-parameters>.\n   [ITU.E164.2010]\n               International\
    \ Telecommunications Union, \"The\n               International Public Telecommunication\
    \ Numbering Plan\",\n               ITU-T Recommendation E.164, 2010.\n   [ITU.Q23.1988]\n\
    \               International Telecommunications Union, \"Technical\n        \
    \       features of push-button telephone sets\", ITU-T Technical\n          \
    \     Recommendation Q.23, 1988.\n   [RFC3108]   Kumar, R. and M. Mostafa, \"\
    Conventions for the use of the\n               Session Description Protocol (SDP)\
    \ for ATM Bearer\n               Connections\", RFC 3108, May 2001.\n   [RFC3261]\
    \   Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston,\n               A.,\
    \ Peterson, J., Sparks, R., Handley, M., and E.\n               Schooler, \"SIP:\
    \ Session Initiation Protocol\", RFC 3261,\n               June 2002.\n   [RFC3550]\
    \   Schulzrinne, H., Casner, S., Frederick, R., and V.\n               Jacobson,\
    \ \"RTP: A Transport Protocol for Real-Time\n               Applications\", STD\
    \ 64, RFC 3550, July 2003.\n   [RFC3551]   Schulzrinne, H. and S. Casner, \"RTP\
    \ Profile for Audio and\n               Video Conferences with Minimal Control\"\
    , STD 65, RFC\n               3551, July 2003.\n   [RFC3711]   Baugher, M., McGrew,\
    \ D., Naslund, M., Carrara, E., and K.\n               Norrman, \"The Secure Real-time\
    \ Transport Protocol\n               (SRTP)\", RFC 3711, March 2004.\n   [RFC3725]\
    \   Rosenberg, J., Peterson, J., Schulzrinne, H., and G.\n               Camarillo,\
    \ \"Best Current Practices for Third Party Call\n               Control (3pcc)\
    \ in the Session Initiation Protocol (SIP)\",\n               BCP 85, RFC 3725,\
    \ April 2004.\n   [RFC4975]   Campbell, B., Mahy, R., and C. Jennings, \"The Message\n\
    \               Session Relay Protocol (MSRP)\", RFC 4975, September 2007.\n \
    \  [SIP-UUI]   Johnston, A. and J. Rafferty, \"A Mechanism for\n             \
    \  Transporting User to User Call Control Information in\n               SIP\"\
    , Work in Progress, April 2014.\n   [TS.24.008] 3GPP, \"Mobile radio interface\
    \ Layer 3 specification; Core\n               network protocols; Stage 3\", 3GPP\
    \ TS 24.008 3.20.0,\n               December 2005.\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Miguel A. Garcia-Martin\n   Ericsson\n   Calle Via de\
    \ los Poblados 13\n   Madrid, ES  28033\n   Spain\n   EMail: miguel.a.garcia@ericsson.com\n\
    \   Simo Veikkolainen\n   Nokia\n   P.O. Box 226\n   NOKIA GROUP, FI  00045\n\
    \   Finland\n   Phone: +358 50 486 4463\n   EMail: simo.veikkolainen@nokia.com\n"
