- title: __initial_text__
  contents:
  - '                    INTERNET ACCOUNTING: BACKGROUND

    '
- title: Status of this Memo
  contents:
  - "Status of this Memo\n   This memo provides information for the Internet community.\
    \  It does\n   not specify an Internet standard.  Distribution of this memo is\n\
    \   unlimited.\n"
- title: 1. Statement of Purpose
  contents:
  - "1. Statement of Purpose\n   This document provides background information for\
    \ the \"Internet\n   Accounting Architecture\" and is the first of a three document\
    \ set:\n      Internet Accounting Background & Status (this document)\n      Internet\
    \ Accounting Architecture        (under construction)\n      Internet Accounting\
    \ Meter Service       (under construction)\n   The focus at this time is on defining\
    \ METER SERVICES and USAGE\n   REPORTING which provide basic semantics for measuring\
    \ network\n   utilization, a syntax, and a data reporting protocol.  The intent\
    \ is\n   to produce a set of standards that is of practical use for early\n  \
    \ experimentation with usage reporting as an internet accounting\n   mechanism.\n\
    \   The architecture should be expandable as additional experience is\n   gained.\
    \  The short-term Internet Accounting solution is intended to\n   merge with OSI\
    \ and Autonomous Network Research Group (ANRG) efforts\n   and be superseded by\
    \ those efforts in the long term.  The OSI\n   accounting working groups are currently\
    \ defining meter syntax and\n   reporting protocols.  The ANRG research group\
    \ is currently\n   researching economic models and accounting tools for the Internet\n\
    \   environment.\n   Internet Accounting as described here does not wrestle with\
    \ the\n   applications of usage reporting, such as monitoring and enforcing\n\
    \   network policy; nor does it recommend approaches to billing or tackle\n  \
    \ such thorny issues as who pays for packet retransmission.\n   This document\
    \ provides background and tutorial information on issues\n   surrounding the architecture,\
    \ or in a sense, an explanation of\n   choices made in the Internet Accounting\
    \ Architecture.\n"
- title: 2. Goals for a Usage Reporting Architecture
  contents:
  - "2. Goals for a Usage Reporting Architecture\n   We have adopted the accounting\
    \ framework and terminology used by OSI\n   (ISO 7498-4 OSI Reference Model Part\
    \ 4: Management Framework).  This\n   framework defines a generalized accounting\
    \ management activity which\n   includes calculations, usage reporting to users\
    \ and providers and\n   enforcing various limits on the use of resources.  Our\
    \ own ambitions\n   are considerably more modest in that we are defining an architecture\n\
    \   to be used over the short- term (until ISO and ANRG have final\n   pronouncement\
    \ and standards) that is limited to network USAGE\n   REPORTING.\n   The OSI accounting\
    \ model defines three basic entities:\n      1) the METER, which performs measurements\
    \ and aggregates the\n         results of those measurements;\n      2) the COLLECTOR,\
    \ which is responsible for the integrity and\n         security of METER data\
    \ in short-term storage and transit;\n         and\n      3) the APPLICATION,\
    \ which processes/formats/stores METER\n         data.  APPLICATIONS implicitly\
    \ manage METERS.\n   This working group, then, is concerned with specifying the\
    \ attributes\n   of METERS and COLLECTORS, with little concern at this time for\n\
    \   APPLICATIONS.\n"
- title: 3. The Usage Reporting Function
  contents:
  - '3. The Usage Reporting Function

    '
- title: 3.1. Motivation for Usage Reporting
  contents:
  - "3.1. Motivation for Usage Reporting\n   The dominant motivations for usage reporting\
    \ are:\n          o  Understanding/Influencing Behavior.\n             Usage reporting\
    \ provides feedback for the subscriber on\n             his use of network resources.\
    \ The subscriber can better\n             understand his network behavior and\
    \ measure the impact of\n             modifications made to improve performance\
    \ or reduce\n             costs.\n          o  Measuring Policy Compliance.\n\
    \             From the perspective of the network provider, usage\n          \
    \   reports might show whether or not a subscriber is in\n             compliance\
    \ with the stated policies for quantity of\n             network usage.  Reporting\
    \ alone is not sufficient to\n             enforce compliance with policies, but\
    \ reports can\n             indicate whether it is necessary to develop additional\n\
    \             methods of enforcement.\n          o  Rational Cost Allocation/Recovery.\n\
    \             Economic discipline can be used to penalize inefficient\n      \
    \       network configuration/utilization as well as to reward\n             the\
    \ efficient.  It can be used to encourage bulk transfer\n             at off hours.\
    \  It can be used as a means to allocate\n             operating costs in a zero-sum\
    \ budget, and even be used as\n             the basis for billing in a profit-making\
    \ fee-for-service\n             operation.\n   The chief deterrent to usage reporting\
    \ is the cost of measuring\n   usage, which includes:\n          o  Reporting/collection\
    \ overhead.\n             This offers an additional source of computational load\n\
    \             and network traffic due to the counting operations,\n          \
    \   managing the reporting system, collecting the reported\n             data,\
    \ and storing the resulting counts.  Overhead\n             increases with the\
    \ accuracy and reliability of the\n             accounting data.\n          o\
    \  Post-processing overhead.\n             Resources are required to maintain\
    \ the post-processing\n             tasks of maintaining the accounting database,\
    \ generating\n             reports, and, if appropriate, distributing bills,\n\
    \             collecting revenue, servicing subscribers.\n          o  Security\
    \ overhead.\n             The use of security mechanisms will increase the overall\n\
    \             cost of accounting.  Since accounting collects detailed\n      \
    \       information about subscriber behavior on the network and\n           \
    \  since these counts may also represent a flow of money, it\n             is\
    \ necessary to have mechanisms to protect accounting\n             information\
    \ from unauthorized disclosure or manipulation.\n   The balance between cost and\
    \ benefit is regulated by the GRANULARITY\n   of accounting information collected.\
    \  This balance is policy-\n   dependent.  To minimize costs and maximize benefit,\
    \ accounting detail\n   is limited to the minimum amount to provide the necessary\
    \ information\n   for the research and implementation of a particular policy.\n"
- title: 3.2. Network Policy and Usage Reporting
  contents:
  - "3.2. Network Policy and Usage Reporting\n   Accounting requirements are driven\
    \ by policy.  Conversely, policy is\n   typically influenced by the available\
    \ management/reporting tools and\n   their cost.  This section is NOT a recommendation\
    \ for billing\n   practices, but intended to provide additional background for\n\
    \   understanding the problems involved in implementing a simple,\n   adequate\
    \ usage reporting system.\n   Since there are few tools adequate for any form\
    \ of cost recovery\n   and/or long-term monitoring there are few organizations\
    \ that practice\n   proactive usage reporting in the Internet.  Those that do\
    \ have\n   generally invented their own.  But far and away the most common\n \
    \  approach is to treat the cost of network operations as overhead with\n   network\
    \ reports limited to short-term, diagnostic intervention.  But\n   as the population\
    \ and use of the Internet increases and diversifies,\n   the complexity of paying\
    \ for that usage also increases.  Subsidies\n   and funding mechanisms appropriate\
    \ to non-profit organizations often\n   restrict commercial use or require that\
    \ \"for profit\" use be\n   identified and billed separately from the non-profit\
    \ use.  Tax\n   regulations may require verification of network connection or\
    \ usage.\n   Some portions of the Internet are distinctly \"private\", whereas\
    \ other\n   Internet segments are treated as public, shared infrastructure.\n\
    \   The number of administrations operating in some connection with the\n   Internet\
    \ is exploding.  The network \"hierarchy\" (backbone, regional,\n   enterprise,\
    \ stub network) is becoming deeper (more levels),\n   increasingly enmeshed (more\
    \ cross-connections) and more diversified\n   (different charters and usage patterns).\
    \  Each of these\n   administrations has different policies and by-laws about\
    \ who may use\n   an individual network, who pays for it, and how the payment\
    \ is\n   determined.  Also, each administration balances the OVERHEAD costs of\n\
    \   accounting (metering, reporting, billing, collecting) against the\n   benefits\
    \ of identifying usage and allocating costs.\n   Some members of the Internet\
    \ community are concerned that the\n   introduction of usage reporting will encourage\
    \ new billing policies\n   which are detrimental to the current Internet infrastructure\
    \ (though\n   it is also reasonable to assert that the current lack of usage\n\
    \   reporting may be detrimental as well).  Caution and experimentation\n   must\
    \ be the watch words as usage reporting is introduced.  Well\n   before meters\
    \ are used for active BILLING and ENFORCEMENT, they\n   should first be used to:\n\
    \          o  UNDERSTAND USER BEHAVIOR\n             (learn to quantify and/or\
    \ predict individual and\n             aggregate traffic patterns over the long\
    \ term),\n          o  QUANTIFY NETWORK IMPROVEMENTS,\n             (measure user\
    \ and vendor efficiency in how network\n             resources are consumed to\
    \ provide end-user data transport\n             service) and\n          o  MEASURE\
    \ COMPLIANCE WITH POLICY.\n   Accounting policies for network traffic already\
    \ exist.  But they are\n   usually based on network parameters which change seldom,\
    \ if at all.\n   Such parameters require little monitoring (the line speed of\
    \ a\n   physical connection, e.g.,Ethernet, 9600 baud, FDDI).  The connection\n\
    \   to the network is then charged to the subscriber as a FLAT-FEE\n   regardless\
    \ of the amount of traffic passed across the connection and\n   is similar to\
    \ the monthly unlimited local service phone bill.\n   Usage-insensitive access\
    \ charges are sufficient in many cases, and\n   can be preferable to usage-based\
    \ charging in Internet environments,\n   for financial, technical, and social\
    \ reasons.  Sample incentives for\n   the FLAT-FEE billing approach are:\n   \
    \       o  FINANCIAL:\n             Predictable monthly charges.  No overhead\
    \ costs for\n             counting packets and preparing usage-based reports.\n\
    \          o  TECHNICAL:\n             Easing the sharing of resources.  Eliminating\
    \ the\n             headaches of needing another layer of accounting in proxy\n\
    \             servers which associate their usage with their clients'.\n     \
    \        Examples of proxy servers which generate network traffic\n          \
    \   on behalf of the actual user or subscriber are mail\n             daemons,\
    \ network file servers, and print spoolers.\n          o  SOCIAL:\n          \
    \   Treating the network as an unregulated public\n             infrastructure\
    \ with equal access and information sharing.\n             Encouraging public-spirited\
    \ behavior -- contributing to\n             public mailing lists, information\
    \ distribution, etc.\n   In other cases USAGE-SENSITIVE charges may be preferred\
    \ or required\n   by a local administration's policy.  Government regulations\
    \ or the\n   wishes of subscribers with low or intermittent traffic patterns may\n\
    \   force the issue (note: FLAT FEES are beneficial for heavy network\n   users.\
    \  USAGE SENSITVE charges generally benefit the low-volume\n   user).  Where usage-sensitive\
    \ accounting is used, cost ceilings and\n   floors may still be established by\
    \ static parameters, such as \"pipe\n   size\" for fixed connections or \"connection\
    \ time\" for dial-up\n   connection, to satisfy the need for some predictability.\n\
    \   Different billing schemes may be employed depending on network\n   measures\
    \ of distance.  For example, local network traffic may be\n   flat-rate and remote\
    \ internet traffic may be usage-based, analogous\n   to the local and long distance\
    \ billing policies adopted by the\n   telephone companies.\n   The ANRG is independently\
    \ investigating policy models and\n   infrastructure economics for billing and\
    \ cost recovery.\n"
- title: 3.3. The Nature of Usage Accounting
  contents:
  - "3.3. The Nature of Usage Accounting\n   Although the exact requirements for internet\
    \ usage accounting will\n   vary from one network administration to the next and\
    \ will depend on\n   policies and cost trade-offs, it is possible to characterize\
    \ the\n   problem in some broad terms and thereby bound it.  Rather than try to\n\
    \   solve the problem in exhaustive generality (providing for every\n   imaginable\
    \ set of accounting requirements), some assumptions about\n   usage accounting\
    \ are posited in order to make the problem tractable\n   and to render implementations\
    \ feasible.  Since these assumptions form\n   the basis for our architectural\
    \ and design work, it is important to\n   make them explicit from the outset and\
    \ hold them up to the scrutiny\n   of the Internet community.\n"
- title: 3.3.1. A Model for Internet Accounting
  contents:
  - "3.3.1. A Model for Internet Accounting\n   We begin with the assumption that\
    \ there is a \"network administrator\"\n   or \"network administration\" to whom\
    \ internet accounting is of\n   interest.  He \"owns\" and operates some subset\
    \ of the internet (one or\n   more connected networks)that may be called his \"\
    administrative\n   domain\".  This administrative domain has well defined boundaries.\n\
    \                        our domain X\n                     -------------------\n\
    \                    /    |   |   |   |\n                   /                \
    \ |           C\n                  /                ------       /\n         \
    \    Network A            /    | \\     /\n              -----     (diagonals\
    \        \\___/____\n              | | |      cross admin.      domain B\n   \
    \                      boundaries)\n   The network administrator is interested\
    \ in 1) traffic within his\n   boundaries and 2) traffic crossing his boundaries.\
    \  Within his\n   boundaries he may be interested in end-system to end-system\n\
    \   accounting or accounting at coarser granularities (e.g., department\n   to\
    \ department).\n   The network administrator is usually not interested in accounting\
    \ for\n   end-systems outside his administrative domain; his primary concern is\n\
    \   accounting to the level of other ADJACENT (directly connected)\n   administrative\
    \ domains.  Consider the viewpoint of the administrator\n   for domain X of the\
    \ internet.  The idea is that he will send each\n   adjacent administrative domain\
    \ a bill (or other statement of\n   accounting) for its use of his resources and\
    \ it will send him a bill\n   for his use of its resources.  When he receives\
    \ an aggregate bill\n   from Network A, if he wishes to allocate the charges to\
    \ end users or\n   subsystems within his domain, it is HIS responsibility to collect\n\
    \   accounting data about how they used the resources of Network A.  If\n   the\
    \ \"user\" is in fact another administrative domain, B, (on whose\n   behalf X\
    \ was using A's resources) the administrator for X just sends\n   his counterpart\
    \ in B a bill for the part of X's bill attributable to\n   B's usage.  If B was\
    \ passing traffic for C, them B bills C for the\n   appropriate portion X's charges,\
    \ and so on, until the charges\n   percolate back to the original end user, say\
    \ G. Thus, the\n   administrator for X does not have to account for G's usage;\
    \ he only\n   has to account for the usage of the administrative domains directly\n\
    \   adjacent to himself.\n   This paradigm of recursive accounting may, of course,\
    \ be used WITHIN\n   an administrative domain that is (logically) comprised of\
    \ sub-\n   administrative domains.\n   The discussion of the preceding paragraphs\
    \ applies to a general mesh\n   topology, in which any Internet constituent domain\
    \ may act as a\n   service provider for any connected domain.  Although the Internet\n\
    \   topology is in fact such a mesh, there is a general hierarchy to its\n   structure\
    \ and hierarchical routing (when implemented) will make it\n   logically hierarchical\
    \ as far as traffic flow is concerned.  This\n   logical hierarchy permits a simplification\
    \ of the usage accounting\n   perspective.\n   At the bottom of the service hierarchy\
    \ a service-consuming host sits\n   on one of many \"stub\" networks.  These are\
    \ interconnected into an\n   enterprise-wide extended LAN, which in turn receives\
    \ Internet\n   service, typically from a single attachment to a regional backbone.\n\
    \   Regional backbones receive national transport services from national\n   backbones\
    \ such as NSFnet, Alternet, PSInet, CERFnet, NSInet, or\n   Nordunet.  In this\
    \ scheme each level in the hierarchy has a\n   constituency, a group for which\
    \ usage reporting is germane, in the\n   level underneath it.  In the case of\
    \ the NSFnet the natural\n   constituency, for accounting purposes at least, is\
    \ the regional nets\n   (MIDnet, SURAnet,...).  For the regionals it will be their\
    \ member\n   institutions; for the institutions, their stub networks; and for\
    \ the\n   stubs, their individual hosts.\n"
- title: 3.3.2. Implications of the Model
  contents:
  - "3.3.2. Implications of the Model\n   The significance of the model sketched above\
    \ is that Internet\n   accounting must be able to support accounting for adjacent\n\
    \   (intermediate) systems, as well as end-system accounting.  Adjacent\n   system\
    \ accounting information cannot be derived from end-system\n   accounting (even\
    \ if complete end-system accounting were feasible)\n   because traffic from an\
    \ end-system may reach the administrative\n   domain of interest through different\
    \ adjacent domains, and it is the\n   adjacent domain through which it passes\
    \ that is of interest.\n   The need to support accounting for adjacent intermediate\
    \ systems\n   means that internet accounting will require information not present\n\
    \   in internet protocol headers (these headers contain source and\n   destination\
    \ addresses of end-systems only).  This information may\n   come from lower layer\
    \ protocols (network or link layer) or from\n   configuration information for\
    \ boundary components (e.g., \"what system\n   is connected to port 5 of this\
    \ IP router\").\n"
- title: 4. Meters
  contents:
  - "4. Meters\n   A METER is a process which examines a stream of packets on a\n\
    \   communications medium or between a pair of media.  The meter records\n   aggregate\
    \ counts of packets belonging to FLOWs between communicating\n   entities (hosts/processes\
    \ or aggregations of communicating hosts\n   (domains)).  The assignment of packets\
    \ to flows may be done by\n   executing a series of rules.  Meters can reasonably\
    \ be implemented in\n   any of three environments -- dedicated monitors, in routers\
    \ or in\n   general-purpose systems.\n   Meter location is a critical decision\
    \ in internet accounting.  An\n   important criterion for selecting meter location\
    \ is cost, i.e.,\n   REDUCING ACCOUNTING OVERHEAD and MINIMIZING THE COST OF\n\
    \   IMPLEMENTATION.\n   In the trade-off between overhead (cost of accounting)\
    \ and detail,\n   ACCURACY and RELIABILITY play a decisive role.  Full accuracy\
    \ and\n   reliability for accounting purposes require that EVERY packet must be\n\
    \   examined.  However, if the requirement for accuracy and reliability\n   is\
    \ relaxed, statistical sampling may be more practical and\n   sufficiently accurate,\
    \ and DETAILED ACCOUNTING is not required at\n   all.  Accuracy and reliability\
    \ requirements may be less stringent\n   when the purpose of usage-reporting is\
    \ solely to understand network\n   behavior, for network design and performance\
    \ tuning, or when usage\n   reporting is used to approximate cost allocations\
    \ to users as a\n   percentage of total fees.\n   Overhead costs are minimized\
    \ by accounting at the coarsest acceptable\n   GRANULARITY, i.e., using the greatest\
    \ amount of AGGREGATION possible\n   to limit the number of accounting records\
    \ generated, their size, and\n   the frequency with which they are transmitted\
    \ across the network or\n   otherwise stored.\n   The other cost factor lies in\
    \ implementation.  Implementation will\n   necessitate the development and introduction\
    \ of hardware and software\n   components into the internet.  It is important\
    \ to design an\n   architecture that tends to minimize the cost of these new components.\n"
- title: 4.1. Meter Placement
  contents:
  - "4.1. Meter Placement\n   In the model developed above, the Internet may be viewed\
    \ as a\n   hierarchical system of service providers and their corresponding\n\
    \   constituencies.  In this scheme the service provider accounts for the\n  \
    \ activity of the constituents or service consumers.  Meters should be\n   placed\
    \ to allow for optimal data collection for the relevant\n   constituency and technology.\
    \  Meters are most needed at\n   administrative boundaries and data collected\
    \ such that service\n   provider and consumer are able to reconcile their activities.\n\
    \   Routers (and/or bridges) are by definition and design placed\n   (topologically)\
    \ at these boundaries and so it follows that the most\n   generally convenient\
    \ place to position accounting meters is in or\n   near the router.  But again\
    \ this depends on the underlying transport.\n   Whenever the service-providing\
    \ network is broadcast (e.g., bus-\n   based), not extended (i.e., without bridging\
    \ or routing), then meter\n   placement is of no particular consequence.  If one\
    \ were generating\n   usage reports for a stub LAN, meters could reasonably be\
    \ placed in a\n   router, a dedicated monitor, or a host at any point on the LAN.\n\
    \   Where an enterprise-wide network is a LAN, the same observation\n   holds.\
    \  At the boundary between an enterprise and a regional network,\n   however,\
    \ in or near a router is an appropriate location for meters\n   that will measure\
    \ the enterprise's network activity.\n   Meters are placed in (or near) routers\
    \ to count packets at the\n   Internet Protocol Level.  All traffic flows through\
    \ two natural\n   metering points: hosts and routers (Internet packet switches).\
    \  Hosts\n   are the ultimate source and sink of all traffic.  Routers monitor\
    \ all\n   traffic which passes IN or OUT of each network.  Motivations for\n \
    \  selecting the routers as the metering points are:\n          o  Minimization\
    \ of cost and overhead.\n             (by concentrating the accounting function).\
    \  Centralize\n             and minimize in terms of number of geographical or\n\
    \             administrative regions, number of protocols monitored,\n       \
    \      and number of separate implementations modified.  (Hosts\n            \
    \ are too diverse and numerous for easy standardization.\n             Routers\
    \ concentrate traffic and are more homogeneous.)\n          o  Traffic control.\n\
    \             When and if usage sensitive quotas are involved, changes\n     \
    \        in meter status (e.g., exceeding a quota) would result in\n         \
    \    an active influence on network traffic (the router starts\n             denying\
    \ access).  A passive measuring device cannot\n             control network access\
    \ in response to detecting state.\n          o  Intermediate system accounting.\n\
    \             As discussed above, internet accounting includes both\n        \
    \     end-system and intermediate system accounting.  Hosts see\n            \
    \ only end-system traffic; routers see both the end-systems\n             (internet\
    \ source and destination) and the adjacent\n             intermediate systems.\n\
    \   Therefore, meters should be placed at:\n          o  administrative boundaries\n\
    \             only for measuring inter-domain traffic;\n          o  stub networks\n\
    \             for measuring intra-domain traffic.  For intra-domain\n        \
    \     traffic, the requirement for performing accounting at\n             almost\
    \ every router is a disincentive for implementing a\n             usage-based\
    \ charging policy.\n"
- title: 4.2. Meter Types
  contents:
  - "4.2. Meter Types\n   Four possible types of metering technology are:\n      \
    \    o  Network monitors:\n             These measure only traffic WITHIN a single\
    \ network.  They\n             include LAN monitors, X.25 call accounting systems\
    \ and\n             traffic monitors in bridges.\n          o  Line monitors:\n\
    \             These count packets flowing across a circuit.  They would\n    \
    \         be placed on inter-router trunks and on router ports.\n          o \
    \ Router-integral meters:\n             These are meters located within a router,\
    \ implemented in\n             software.  They count packets flowing through the\
    \ router.\n          o  Router spiders:\n             This is a set of line monitors\
    \ that surround a router,\n             measure traffic on all of its ports and\
    \ coordinate the\n             results.\n"
- title: 4.3. Meter Structure
  contents:
  - "4.3. Meter Structure\n   While topology argues in favor of meters in routers,\
    \ granularity and\n   security favor dedicated monitors.  The GRANULARITY of the\n\
    \   accountable entity (and its attributes) affects the amount of\n   overhead\
    \ incurred for accounting.  Each entity/attribute/reporting\n   interval combination\
    \ is a separate meter.  Each individual meter\n   takes up local memory and requires\
    \ additional memory or network\n   resources when the meter reports to the application.\
    \  Memory is a\n   limited resource, and there are cost implications to expanding\
    \ memory\n   significantly or increasing the frequency of reporting.  The number\n\
    \   of concurrent flows open in a router is controlled by\n          o  the granularity\
    \ of the accountable entity\n          o  the granularity of the attributes and\
    \ sub-categories of\n             packets\n          o  memory\n             (the\
    \ number of flows that can be stored concurrently, a\n             limit which\
    \ can also be expressed as the average number\n             of flows existing\
    \ at this granularity plus some delta,\n             e.g., peak hour average plus\
    \ one standard deviation, or\n             ...)\n          o  the reporting interval\n\
    \             (the lifetime of an individual meter)\n   There is a spectrum of\
    \ granularity control which ranges across\n   the following dimensions.  (Most\
    \ administrations will probably\n   choose a granularity somewhere in the middle\
    \ of the spectrum.)\n   ENTITY:  Entities range across the spectrum from the coarsest\n\
    \   granularity, PORT (a local view with a unique designation for the\n   subscriber\
    \ port through which packets enter and exit \"my\"\n   network) through NETWORK\
    \ and HOST to USER (not defined here).\n   The port is the minimum granularity\
    \ of accounting.  HOST is the\n   finest granularity defined here.  Where verification\
    \ is required,\n   a network should be able to perform accounting at the granularity\n\
    \   its subscribers use.  Hosts are ultimately responsible for\n   identifying\
    \ the end user, since only the hosts have unambiguous\n   access to user identification.\
    \  This information could be shared\n   with the network, but it is the host's\
    \ responsibility to do so,\n   and there is no mechanism in place at this time\
    \ (e.g., an IP\n   option, discussed in section 4.).\n   ATTRIBUTE:  Each new\
    \ attribute requires that an additional flow\n   be maintained for each entity.\
    \  The coarsest granularity is NO\n   categorization of packets.  The finest granularity\
    \ would be to\n   maintain state information about the higher-levels protocols\
    \ or\n   type of service being used by communicating processes across the\n  \
    \ network.\n   VALUES:  Values are the information which is recorded for each\n\
    \   entity/attribute grouping.  Usually values are counters, such as\n   packet\
    \ counts and byte counts.  They may also be time stamps -\n   start time and stop\
    \ time, or reasons for starting or stopping\n   reporting.\n   REPORTING INTERVAL:\
    \  At the very finest level of granularity,\n   each data packet might generate\
    \ a separate accounting record.  To\n   report traffic at this level of detail\
    \ would require\n   approximately one packet of accounting information for every\
    \ data\n   packet sent.  The reporting interval is then zero and no memory\n \
    \  will be needed for flow record storage.  For a non-zero reporting\n   interval\
    \ flow records must be maintained in memory.  Storage for\n   stale (old, infrequent)\
    \ flows may be recycled when their data has\n   been reported.  As the reporting\
    \ interval increases, more and\n   more stale records accumulate.\n   The feasibility\
    \ of a particular group of granularities varies\n   with the PERFORMANCE characteristics\
    \ of the network (link speed,\n   link bandwidth, router processing speed, router\
    \ memory), as well\n   as the COST of accounting balanced against the requirement\
    \ for\n   DETAIL.  Since technological advances can quickly obsolete\n   current\
    \ technical limitations, and since the policy structure and\n   economics of the\
    \ Internet are in flux, meters will be defined\n   with VARYING GRANULARITY which\
    \ is regulated according to the\n   traffic requirements of the individual network\
    \ or administration\n   and technical limitations.\n"
- title: 4.4. Collection Issues
  contents:
  - "4.4. Collection Issues\n   There are two implicit assumptions about the nature\
    \ of meters and\n   traffic sources that they measure, both of which have substantial\n\
    \   bearing on collectors.\n      1.  The matrix of communicating entity pairs\
    \ is large but\n      sparse and, moreover, network traffic exhibits considerable\n\
    \      source, destination and attribute coherence - so that lists\n      can\
    \ be quite compact.\n      2.  Meters can be configured to generate either a static\
    \ set\n      of variables whose values are incremented, or a stream of\n     \
    \ records that must be periodically transferred and removed\n      from the meter's\
    \ memory.\n   Meters can generate large, unstructured amounts of information\n\
    \   and the essential collection issue revolves around mapping\n   collection\
    \ activities into an SNMP framework (or, to the extent\n   that this is not successful,\
    \ specifying other collection\n   paradigms).\n   There are three major collection\
    \ concerns:\n          o  data confidentiality\n          o  data integrity\n\
    \          o  local and remote collection control\n   The prime security concern\
    \ is preserving the confidentiality of usage\n   data.  (See ISO 7498 Part 2,\
    \ \"Security Architecture,\" for security\n   terminology used herein.)  Given\
    \ that accounting data are sensitive,\n   the collector should be able (or may\
    \ be required) to provide\n   confidentiality for accounting data at the point\
    \ of collection,\n   through transmission and up to the point where the data is\
    \ delivered.\n   The delivery function may also require authentication of the\
    \ origin\n   and destination and provision for connection integrity (if\n   connections\
    \ are utilized).  Other security services (e.g., measures\n   to counter denial\
    \ of service attacks) are not deemed necessary for\n   internet accounting at\
    \ this time.  It is assumed that security\n   services can be provided by SNMP\
    \ and its mechanisms.  (This will\n   require further investigation.)\n   In order\
    \ to have an accurate monitoring system, reliable delivery of\n   data should\
    \ be assured through one or more of:\n          o  an acknowledgement retransmission\
    \ scheme;\n          o  redundant reporting to multiple collectors;\n        \
    \  o  having backup storage located at the meter.\n   There is a place for both\
    \ application polling and meter traps within\n   this scheme, but there are significant\
    \ trade-offs associated with\n   each.\n   Polling means that the collection point\
    \ has some control over when\n   accounting data is sent, so that not all meters\
    \ flood the collector\n   at once.  However, polling messages, particularly when\
    \ structured\n   with SNMP's GET-NEXT operator, add considerable overhead to the\n\
    \   network.  Meter traps are required in any case (whether or not\n   polling\
    \ is the preferred collection method), so that a meter may rid\n   itself of data\
    \ when its cache is full.\n   The fundamental collection trade-off will be between\
    \ primary and\n   secondary storage at the meter, coupled with an efficient bulk-\n\
    \   transfer protocol, versus minimal storage at the meter and a\n   network-bandwidth-consuming\
    \ collection discipline.\n   A final collection concern is whether packets should\
    \ be counted on\n   entry into a router or upon exit from a router.  It is the\
    \ nature of\n   IP that not every packet received by a router is actually passed\
    \ to\n   an output port.  The Internet Protocol allows routers to discard\n  \
    \ packets (e.g., in times of congestion when the router cannot handle\n   the\
    \ offered load); it is presumed that higher level protocols (e.g.,\n   TCP) will\
    \ provide whatever reliable delivery service the user deems\n   necessary (by\
    \ detecting non- delivery and retransmitting).\n   The question arises, therefore,\
    \ whether an internet accounting system\n   should count all packets offered to\
    \ a router (since each packet\n   offered consumes some router resources) or just\
    \ those that are\n   finally passed by the router to a network (why should a user\
    \ pay for\n   undelivered packets?)  Since there are good arguments for either\n\
    \   position, we do not attempt to resolve this issue here.  (It should\n   be\
    \ noted, however, that SMDS has chosen to count on exit only.)\n   Rather, we\
    \ require that an internet accounting should provide ability\n   for counting\
    \ packets either way -- on entry to or on exit from a\n   router.\n"
- title: 5.  Examples
  contents:
  - "5.  Examples\n   Here follows a series of examples to illustrate what data may\
    \ be of\n   interest to service providers and consumers in a number of different\n\
    \   scenarios.  In the illustrations that follow straight lines are\n   interpreted\
    \ as some sort of LAN.  Diagonals are point- to-point\n   links. Diamonds are\
    \ routers.  We assume that we are in a homogeneous\n   protocol environment (IP).\n"
- title: 5.1  A Single Segment LAN
  contents:
  - "5.1  A Single Segment LAN\n   Consumers and providers on a single LAN service\
    \ can utilize the same\n   set of data:  the contribution of individual hosts\
    \ to total network\n   load.  A network accounting system measures flows between\
    \ individual\n   host pairs. (On a broadcast LAN, e.g., an Ethernet, this can\
    \ be\n   accomplished by a single meter placed anywhere on the LAN.)  Using\n\
    \   this data, costs for the network management activity can be\n   apportioned\
    \ to individual hosts or the departments that own/manage\n   the hosts.\n   Alternately,\
    \ flows can be kept by source only, rather than source-\n   destination pairs.\n"
- title: 5.2  An Extended (Campus or Facility-Wide) LAN
  contents:
  - "5.2  An Extended (Campus or Facility-Wide) LAN\n    128.252.100.X           \
    \ 128.252.150.X            128.253.220.X\n  +----------------+       +----------------+\
    \      +----------------+\n          |                        |              \
    \          |\n          |                        |                        |\n\
    \         / \\                      / \\                      / \\\n    128.252.100.10\
    \           128.252.150.10           128.253.220.10\n         \\ /           \
    \           \\ /                      \\ /\n          |                      \
    \  |                        |\n       +--+-+----------------------+-+----------------------+-+-+\n\
    \            |                        |                        |\n           /\
    \ \\                      / \\                      / \\\n      128.252.130.10\
    \           128.252.120.10           128.253.140.10\n           \\ /         \
    \             \\ /                      \\ /\n            |                  \
    \      |                        |\n            |                        |    \
    \                    |\n  +-----------------+      +-----------------+      +----------------+\n\
    \      128.252.130.X           128.252.120.X           128.253.140.X\n   This\
    \ is the first example in which the information that is germane\n   for service\
    \ provider and consumer are not identical.  The service\n   consumers are now\
    \ the individual subnets and the service provider is\n   the facility-wide backbone.\
    \  A service provider is interested in\n   knowing the contribution of individual\
    \ subnets to the total traffic\n   of the backbone. In order to ascertain this,\
    \ a meter on the backbone\n   (the longest line in the center of the illustration)\
    \ can keep track\n   of flows between subnet pairs.  Now the communications between\n\
    \   individual hosts on adjacent subnets are aggregated into a single\n   flow\
    \ that measures activity between subnets.\n   The service consumers, or subnets,\
    \ might in turn want to keep track\n   of the communications between individual\
    \ hosts that use the services\n   of the backbone.  An accounting system on the\
    \ backbone could be\n   configured to monitor traffic among individual host pairs.\n\
    \   Alternately an accounting system on each individual subnet could keep\n  \
    \ track of local and \"non-local\" traffic.  The observed data of the two\n  \
    \ sets of meters (one for the service provider and one for the service\n   consumers)\
    \ should have reconcilable data.\n"
- title: 5.3  A Regional Network
  contents:
  - "5.3  A Regional Network\n                                     116.125\n     \
    \                          +-----------------+\n                             \
    \           |\n                                        +\n                   \
    \                    / \\\n                                  116.125.10.10\n \
    \                                      \\ /\n                                \
    \      / + \\\n                                     /     \\\n               \
    \                     /       \\\n                                   /       \
    \  \\\n                   |              +           +              |\n      \
    \             |             / \\         / \\             |\n          128.242\
    \  |----- 128.242.10.10   128.252.10.10 -----|  128.252\n                   |\
    \             \\ /         \\ /             |\n                   |          \
    \    +           +              |\n                                   \\     \
    \    /\n                                    \\       /\n                     \
    \                \\     /\n                                      \\ + /\n    \
    \                                   / \\\n                                  124.110.10.10\n\
    \                                       \\ /\n                               \
    \         +\n                                +-----------------+\n           \
    \                             |\n                                    124.110\n\
    \   In this example we have a regional network consisting of a ring of\n   point-to-point\
    \ links that interconnect a collection of campus-wide\n   LANs. Again service\
    \ provider and consumer have differing interests\n   and needs for accounting\
    \ data.  The service provider, the regional\n   network, again will be interested\
    \ in the contribution of each\n   individual network to the total traffic on the\
    \ regional network.\n   This interest might extend to include measure of individual\
    \ link\n   utilization, and not just total offered load to the network as a\n\
    \   whole.  In this latter case the service provider will require that\n   meters\
    \ be placed at one end or the other on each link.  For the\n   service consumer,\
    \ the individual campus, relevant measures would\n   include the contribution\
    \ of individual subnets or hosts to the total\n   \"outbound\" traffic.  Meter(s)\
    \ placed in (or at) the router that\n   connects the campus- network to the regional\
    \ network can perform the\n   necessary measurement.\n"
- title: 5.4  A National Backbone
  contents:
  - "5.4  A National Backbone\n                                   __________\n   \
    \                                     |\n                                    \
    \    +\n                                  |   /   \\   |\n                   \
    \               |--+  1  +--|\n                                  |   \\   /  \
    \ |\n                                        +\n                             \
    \          / \\\n                                       \\ /\n               \
    \                       / + \\\n                                     /     \\\n\
    \                      _______       /       \\        _______\n             \
    \            |         /         \\          |\n                         +   \
    \     +           +         +\n                   |   /   \\     / \\        \
    \ / \\      /   \\  |\n                   |--+  4  +----\\ /    5    \\ /-----+\
    \  2  +-|\n                   |   \\   /      +           +       \\   /  |\n\
    \                         +         \\         /          +\n                \
    \      ___|____      \\       /        ___|____\n                            \
    \         \\     /\n                                      \\ + /\n           \
    \                            / \\\n                                       \\ /\n\
    \                                        +\n                                 \
    \ |   /   \\   |\n                                  |--+  3  +--|\n          \
    \                        |   \\   /   |\n                                    \
    \    +\n                                    ____|____\n   In this last case, the\
    \ data that the service provider will want to\n   collect is the traffic between\
    \ regional networks.  The flow that\n   measures a regional network, or regional\
    \ network pairs, is defined as\n   the union of all member-campus network address\
    \ spaces.  This can be\n   arrived at by keeping multiple individual network address\
    \ flows and\n   developing the regional network contribution as post-processing\n\
    \   activity, or by defining a flow that is the union of all the relevant\n  \
    \ addresses.  (This is a cpu cycles for memory trade-off.)  Note that\n   if the\
    \ service provider measures individual network contributions,\n   then this data\
    \ is, in large\n    measure, the data that the service consumers would require.\n"
- title: 6.  Future Issues
  contents:
  - "6.  Future Issues\n   This last section is the collector for ancillary issues\
    \ that are as\n   yet undefined or out of current scope.\n   APPLICATIONS standards:\
    \  Recommendations for storage, processing and\n   reporting are left out for\
    \ the moment.  Storage and processing of\n   accounting information is dependent\
    \ on individual network policy.\n   Recommendations for standardizing billing\
    \ schemes would be premature.\n   QUOTAS are a form of closed loop feedback that\
    \ represent an\n   interesting extension of usage reporting.  But they will have\
    \ to wait\n   until the basic accounting technology is reasonably defined and\
    \ has\n   been the subject of a reasonable amount of experimentation.\n   SESSION\
    \ ACCOUNTING:  Detailed auditing of individual sessions across\n   the internet\
    \ (at level four or higher) will not be addressed by\n   internet accounting.\
    \  Internet accounting deals only with measuring\n   traffic at the IP level.\n\
    \   APPLICATION LEVEL ACCOUNTING:  Service hosts and proxy agents have to\n  \
    \ do their own accounting for services, since the network cannot\n   distinguish\
    \ on whose behalf they are acting.  Alternately, TCP/UDP\n   port numbers could\
    \ become an optional field in a meter, since the\n   conjunction of a pair of\
    \ IP addresses and port numbers occurring at a\n   particular time uniquely identifies\
    \ a pair of communicating\n   processes.\n   The USER has not yet been defined,\
    \ since an IP option would have to\n   be added to the IP header to provide for\
    \ this.  This option would\n   probably contain two parts - a subscriber identification\
    \ and a user\n   sub-identification - to allow for the later introduction of quota\n\
    \   mechanisms which have both group and individual quotas.  The\n   subscriber\
    \ is the fiscally responsible entity, for example the\n   manager of a research\
    \ group.  In any case, routers must be able to\n   fall back to accounting by\
    \ host, since there will most certainly be\n   hosts on the network which do not\
    \ implement a new IP option in a\n   timely fashion.\n"
- title: 7.  References
  contents:
  - "7.  References\n     International Standards Organization (ISO), \"Management\n\
    \     Framework,\" Part 4 of Information Processing Systems Open Systems\n   \
    \  Interconnection Basic Reference Model,ISO 7498-4, 1984.\n     International\
    \ Standards Organization (ISO), \"Security\n     Architecture,\" Part 2 of Information\
    \ Processing Systems Open\n     Systems Interconnection Basic Reference Model,ISO\
    \ 7498-2, 1984.\n"
- title: Security Considerations
  contents:
  - "Security Considerations\n   Security issues are discussed in sections 2, 3 and\
    \ 4.\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Cyndi Mills\n   Bolt, Beranek, and Newman\n   150 Cambridge\
    \ Park Drive\n   Cambridge, MA  02140\n   Phone:    617-873-4143\n   Email: cmills@bbn.com\n\
    \   Donald Hirsh\n   Meridian Technology Corporation\n   11 McBride Corporate\
    \ Center Drive\n   Suite 250\n   Chesterfield, MO  63005\n   Phone:    314-532-7708\n\
    \   Email: hirsh@meridian.uucp\n   Gregory Ruth\n   Bolt, Beranek, and Newman\n\
    \   150 Cambridge Park Drive\n   Cambridge, MA  02140\n   Phone:    617-873-3150\n\
    \   Email: gruth@bbn.com\n"
