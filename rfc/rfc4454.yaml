- title: __initial_text__
  contents:
  - "                 Asynchronous Transfer Mode (ATM) over\n             Layer 2\
    \ Tunneling Protocol Version 3 (L2TPv3)\n"
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This document specifies an Internet standards track protocol\
    \ for the\n   Internet community, and requests discussion and suggestions for\n\
    \   improvements.  Please refer to the current edition of the \"Internet\n   Official\
    \ Protocol Standards\" (STD 1) for the standardization state\n   and status of\
    \ this protocol.  Distribution of this memo is unlimited.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (C) The Internet Society (2006).\n"
- title: Abstract
  contents:
  - "Abstract\n   The Layer 2 Tunneling Protocol, Version 3 (L2TPv3) defines an\n\
    \   extensible tunneling protocol to transport layer 2 services over IP\n   networks.\
    \  This document describes the specifics of how to use the\n   L2TP control plane\
    \ for Asynchronous Transfer Mode (ATM) Pseudowires\n   and provides guidelines\
    \ for transporting various ATM services over an\n   IP network.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n           5.2.1. ATM VCC Cell Relay Service .........................11\n\
    \           5.2.2. ATM VPC Cell Relay Service .........................12\n  \
    \         5.2.3. ATM Port Cell Relay Service ........................12\n    \
    \  5.3. OAM Cell Support ..........................................12\n      \
    \     5.3.1. VCC Switching ......................................12\n        \
    \   5.3.2. VPC Switching ......................................13\n   6. ATM Maximum\
    \ Concatenated Cells AVP .............................13\n   7. OAM Emulation\
    \ Required AVP .....................................14\n   8. ATM Defects Mapping\
    \ and Status Notification ....................14\n      8.1. ATM Alarm Status\
    \ AVP ......................................14\n   9. Applicability Statement\
    \ ........................................15\n      9.1. ATM AAL5-SDU Mode .........................................16\n\
    \      9.2. ATM Cell Relay Mode .......................................18\n  \
    \ 10. Congestion Control ............................................20\n   11.\
    \ Security Considerations .......................................21\n   12. IANA\
    \ Considerations ...........................................21\n      12.1. L2-Specific\
    \ Sublayer Type ................................21\n      12.2. Control Message\
    \ Attribute Value Pairs (AVPs) .............21\n      12.3. Result Code AVP Values\
    \ ...................................22\n      12.4. ATM Alarm Status AVP Values\
    \ ..............................22\n      12.5. ATM-Specific Sublayer Bits ...............................23\n\
    \   13. Acknowledgements ..............................................23\n  \
    \ 14. References ....................................................23\n    \
    \  14.1. Normative References .....................................23\n      14.2.\
    \ Informative References ...................................24\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   This document describes the specifics of how to use the\
    \ Layer 2\n   Tunneling Protocol (L2TP) for Asynchronous Transfer Mode (ATM)\n\
    \   Pseudowires, including encapsulation, carrying various ATM services,\n   such\
    \ as AAL5 SDU, ATM VCC/VPC/Port cell relay over L2TP, and mapping\n   ATM defects\
    \ to L2TP Set-Link-Info (SLI) messages to notify the peer\n   L2TP Control Connection\
    \ Endpoint (LCCE).\n   Any ATM-specific AVPs or other L2TP constructs for ATM\
    \ Pseudowire\n   (ATMPW) support are defined here as well.  Support for ATM Switched\n\
    \   Virtual Path/Connection (SVP/SVC) and Soft Permanent Virtual\n   Path/Connection\
    \ (SPVP/SPVC) are outside the scope of this document.\n   The reader is expected\
    \ to be very familiar with the terminology and\n   protocol constructs defined\
    \ in [RFC3931].\n"
- title: 1.1.  Abbreviations
  contents:
  - "1.1.  Abbreviations\n   AIS     Alarm Indication Signal\n   ATMPW   ATM Pseudowire\n\
    \   AVP     Attribute Value Pair\n   CC      Continuity Check OAM Cell\n   CE\
    \      Customer Edge\n   HEC     Header Error Checksum\n   LAC     L2TP Access\
    \ Concentrator (see [RFC3931])\n   LCCE    L2TP Control Connection Endpoint (see\
    \ [RFC3931])\n   MSB     Most Significant Byte\n   OAM     Operation, Administration,\
    \ and Maintenance\n   PE      Provider Edge\n   PSN     Packet Switched Network\n\
    \   PWE3    Pseudowire Emulation Edge to Edge\n   RDI     Remote Defect Indicator\n\
    \   SAR     Segmentation and Reassembly\n   SDU     Service Data Unit\n   SLI\
    \     Set-Link-Info, an L2TP control message\n   SVC     Switched Virtual Connection\n\
    \   SVP     Switched Virtual Path\n   SPVC    Soft Permanent Virtual Connection\n\
    \   SPVP    Soft Permanent Virtual Path\n   VC      Virtual Circuit\n   VCC  \
    \   Virtual Channel Connection\n   VCI     Virtual Channel Identifier\n   VPC\
    \     Virtual Path Connection\n   VPI     Virtual Path Identifier\n"
- title: 1.2.  Specification of Requirements
  contents:
  - "1.2.  Specification of Requirements\n   In this document, several words are used\
    \ to signify the requirements\n   of the specification.  These words are often\
    \ capitalized.  The key\n   words \"MUST\", \"MUST NOT\", \"REQUIRED\", \"SHALL\"\
    , \"SHALL NOT\", \"SHOULD\",\n   \"SHOULD NOT\", \"RECOMMENDED\", \"MAY\", and\
    \ \"OPTIONAL\" in this document\n   are to be interpreted as described in [RFC2119].\n"
- title: 2.  Control Connection Establishment
  contents:
  - "2.  Control Connection Establishment\n   To emulate ATM Pseudowires using L2TP,\
    \ an L2TP Control Connection as\n   described in Section 3.3 of [RFC3931] MUST\
    \ be established.\n   The Start-Control-Connection-Request (SCCRQ) and corresponding\n\
    \   Start-Control-Connection-Reply (SCCRP) MUST include the supported ATM\n  \
    \ Pseudowire types (see Section 3.1), in the Pseudowire Capabilities\n   List\
    \ as defined in Section 5.4.3 of [RFC3931].  This identifies the\n   Control Connection\
    \ as able to establish L2TP sessions in support of\n   the ATM Pseudowires.\n\
    \   An LCCE MUST be able to uniquely identify itself in the SCCRQ and\n   SCCRP\
    \ messages via a globally unique value.  By default, this is\n   advertised via\
    \ the structured Router ID AVP [RFC3931], though the\n   unstructured Hostname\
    \ AVP [RFC3931] MAY be used to identify LCCEs as\n   well.\n"
- title: 3.  Session Establishment and ATM Circuit Status Notification
  contents:
  - "3.  Session Establishment and ATM Circuit Status Notification\n   This section\
    \ describes how L2TP ATMPWs or sessions are established\n   between two LCCEs.\
    \  This includes what will happen when an ATM\n   circuit (e.g., AAL5 PVC) is\
    \ created, deleted, or changes state when\n   circuit state is in alarm.\n"
- title: 3.1.  L2TPv3 Session Establishment
  contents:
  - "3.1.  L2TPv3 Session Establishment\n   ATM circuit (e.g., an AAL5 PVC) creation\
    \ triggers establishment of an\n   L2TP session using three-way handshake described\
    \ in Section 3.4.1 of\n   [RFC3931].  An LCCE MAY initiate the session immediately\
    \ upon ATM\n   circuit creation, or wait until the circuit state transitions to\n\
    \   ACTIVE before attempting to establish a session for the ATM circuit.\n   It\
    \ MAY be preferred to wait until circuit status transitions to\n   ACTIVE in order\
    \ to delay the allocation of resources until absolutely\n   necessary.\n   The\
    \ Circuit Status AVP (see Section 8) MUST be present in the\n   Incoming-Call-Request\
    \ (ICRQ) and Incoming-Call-Reply (ICRP) messages,\n   and MAY be present in the\
    \ SLI message for ATMPWs.\n   The following figure shows how L2TP messages are\
    \ exchanged to set up\n   an ATMPW after the ATM circuit (e.g., an AAL5 PVC) becomes\
    \ ACTIVE.\n          LCCE (LAC) A                                  LCCE (LAC)\
    \ B\n      ------------------                            --------------------\n\
    \       ATM Ckt Provisioned\n                                                \
    \    ATM Ckt Provisioned\n       ATM Ckt ACTIVE\n                       ICRQ (status\
    \ = 0x03) ---->\n                                                    ATM Ckt ACTIVE\n\
    \                       <----- ICRP (status = 0x03)\n       L2TP session established\n\
    \       OK to send data into PW\n                       ICCN ----->\n        \
    \                                       L2TP session established\n           \
    \                                    OK to send data into PW\n   The following\
    \ signaling elements are required for the ATMPW\n   establishment.\n   a. Pseudowire\
    \ Type: One of the supported ATM-related PW types should\n      be present in\
    \ the Pseudowire Type AVP of [RFC3931].\n      0x0002  ATM AAL5 SDU VCC transport\n\
    \      0x0003  ATM Cell transport Port Mode\n      0x0009  ATM Cell transport\
    \ VCC Mode\n      0x000A  ATM Cell transport VPC Mode\n   The above cell relay\
    \ modes can also signal the ATM Maximum\n   Concatenated Cells AVP as described\
    \ in Section 6.\n   b. Remote End ID: Each PW is associated with a Remote End\
    \ ID akin to\n      the VC-ID in [PWE3ATM].  Two LCCEs of a PW would have the\
    \ same\n      Remote End ID, and its format is described in Section 5.4.4 of\n\
    \      [RFC3931].\n      This Remote End ID AVP MUST be present in the ICRQ in\
    \ order for\n      the remote LCCE to associate the session to the ATM circuit.\
    \  The\n      Remote End Identifier AVP defined in [RFC3931] is of opaque form,\n\
    \      though ATMPW implementations MAY simply use a 4-octet value\n      that\
    \ is known to both LCCEs (either by direct configuration or\n      some other\
    \ means).  The exact method of how this value is\n      configured, retrieved,\
    \ discovered, or otherwise determined at\n      each LCCE is outside the scope\
    \ of this document.\n   As with the ICRQ, the ICRP is sent only after the ATM\
    \ circuit\n   transitions to ACTIVE.  If LCCE B had not been provisioned yet for\n\
    \   the ATM circuit identified in the ICRQ, a Call-Disconnect-Notify\n   (CDN)\
    \ would have been immediately returned indicating that the\n   circuit either\
    \ was not provisioned or was not available at this LCCE.\n   LCCE A SHOULD then\
    \ exhibit a periodic retry mechanism.  If so, the\n   period and maximum number\
    \ of retries MUST be configurable.\n   An implementation MAY send an ICRQ or ICRP\
    \ before a PVC is ACTIVE, as\n   long as the Circuit Status AVP reflects that\
    \ the ATM circuit is\n   INACTIVE and an SLI is sent when the ATM circuit becomes\
    \ ACTIVE (see\n   Section 8).\n   The ICCN is the final stage in the session establishment.\
    \  It\n   confirms the receipt of the ICRP with acceptable parameters to allow\n\
    \   bidirectional traffic.\n"
- title: 3.2.  L2TPv3 Session Teardown
  contents:
  - "3.2.  L2TPv3 Session Teardown\n   When an ATM circuit is unprovisioned (deleted)\
    \ at either LCCE, the\n   associated L2TP session MUST be torn down via the CDN\
    \ message defined\n   in Section 3.4.3 of [RFC3931].\n"
- title: 3.3.  L2TPv3 Session Maintenance
  contents:
  - "3.3.  L2TPv3 Session Maintenance\n   All sessions established by a given Control\
    \ Connection utilize the\n   L2TP Hello facility defined in Section 4.4 of [RFC3931]\
    \ for session\n   keepalive.  This gives all sessions basic dead peer and path\n\
    \   detection between LCCEs.\n   If the control channel utilizing the Hello message\
    \ is not in-band\n   with data traffic over the PSN, then other method MAY be\
    \ used to\n   detect the session failure, and it is left for further study.\n\
    \   ATMPWs over L2TP use the Set-Link-Info (SLI) control message as\n   defined\
    \ in [RFC3931] to signal ATM circuit status between LCCEs after\n   initial session\
    \ establishment.  This includes ACTIVE or INACTIVE\n   notifications of the ATM\
    \ circuit, or any other parameters that may\n   need to be shared between the\
    \ LCCEs in order to provide proper PW\n   emulation.\n   The SLI message MUST\
    \ be sent whenever there is a status change that\n   may be reported by any values\
    \ identified in the Circuit Status AVP.\n   The only exceptions to this are the\
    \ initial ICRQ, ICRP, and CDN\n   messages, which establish and tear down the\
    \ L2TP session itself when\n   the ATM circuit is created or deleted.  The SLI\
    \ message may be sent\n   from either LCCE at any time after the first ICRQ is\
    \ sent (and\n   perhaps before an ICRP is received, requiring the peer to perform\
    \ a\n   reverse Session ID lookup).\n   The other application of the SLI message\
    \ is to map the ATM OAM or\n   physical layer alarms into Circuit Status AVP as\
    \ described in Section\n   8.\n"
- title: 4.  Encapsulation
  contents:
  - "4.  Encapsulation\n   This section describes the general encapsulation format\
    \ for ATM\n   services over L2TP.\n    0                   1                 \
    \  2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3\
    \ 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |                     PSN Transport Header                      |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |                       Session Header                          |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |                    ATM-Specific Sublayer                      |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |                                                               |\n   |  \
    \                    ATM Service Payload                      |\n   |        \
    \                                                       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \    Figure 1: General Format for ATM Encapsulation over L2TPv3 over IP\n   The\
    \ PSN Transport header is specific to IP and its underlying\n   transport header.\
    \  This header is used to transport the encapsulated\n   ATM payload through the\
    \ IP network.\n   The Session Header is a non-zero 32-bit Session ID with an optional\n\
    \   Cookie up to 64-bits.  This Session ID is exchanged during session\n   setup.\n\
    \   The ATM-Specific Sublayer is REQUIRED for AAL5 SDU Mode and OPTIONAL\n   for\
    \ ATM Cell Mode.  Please refer to Section 4.1 for more details.\n"
- title: 4.1.  ATM-Specific Sublayer
  contents:
  - "4.1.  ATM-Specific Sublayer\n   This section defines a new ATM-Specific Sublayer,\
    \ an alternative to\n   the Default L2-Specific Sublayer as mentioned in Section\
    \ 4.6 of\n   [RFC3931].  Four new flag bits (T, G, C, and U) are defined that\n\
    \   concur with Section 8.2 of [PWE3ATM].\n    0                   1         \
    \          2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9\
    \ 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |x|S|B|E|T|G|C|U|          Sequence Number                      |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \                  Figure 2: ATM-Specific Sublayer Format\n   The meaning of the\
    \ fields of the ATM-Specific Sublayer is as follows:\n      * S bit\n      Definition\
    \ of this bit is as per Section 4.6 of [RFC3931].\n      * B and E bits\n    \
    \  Definitions of these bits are as per Section 5.5 of [L2TPFRAG].\n      If these\
    \ bits are not used as per [L2TPFRAG], they MUST be set to\n      0 upon transmission\
    \ and ignored upon reception.\n      * T (Transport type) bit\n      Bit (T) of\
    \ the ATM-Specific Sublayer indicates whether the packet\n      contains an ATM\
    \ admin cell or an AAL5 payload.  If T = 1, the\n      packet contains an ATM\
    \ admin cell, encapsulated according to the\n      VCC cell relay encapsulation\
    \ of Section 5.2.\n      If not set, the PDU contains an AAL5 payload.  The ability\
    \ to\n      transport an ATM cell in the AAL5 SDU Mode is intended to provide\n\
    \      a means of enabling administrative functionality over the AAL5 VCC\n  \
    \    (though it does not endeavor to preserve user-cell and admin-cell\n     \
    \ arrival/transport ordering, as described in Section 9.1).\n      * G (EFCI)\
    \ Bit\n      The ingress LCCE device SHOULD set this bit to 1 if the Explicit\n\
    \      Forward Congestion Indication (EFCI) bit of the final cell of the\n   \
    \   incoming AAL5 payload is set to 1, or if the EFCI bit of the\n      single\
    \ ATM cell to be transported in the packet is set to 1.\n      Otherwise, this\
    \ bit SHOULD be set to 0.  The egress LCCE device\n      SHOULD set the EFCI bit\
    \ of all the outgoing cells that transport\n      the AAL5 payload to the value\
    \ contained in this field.\n      * C (CLP) Bit\n      The ingress LCCE device\
    \ SHOULD set this bit to 1 if the Cell Loss\n      Priority (CLP) bit of any of\
    \ the incoming ATM cells of the AAL5\n      payload is set to 1, or if the CLP\
    \ bit of the single ATM cell that\n      is to be transported in the packet is\
    \ set to 1.  Otherwise this\n      bit SHOULD be set to 0.  The egress LCCE device\
    \ SHOULD set the CLP\n      bit of all outgoing cells that transport the AAL5\
    \ CPCS-PDU to the\n      value contained in this field.\n      * U (Command/Response)\
    \ Bit\n      When FRF.8.1 Frame Relay / ATM PVC Service Interworking (see\n  \
    \    [FRF8.1]) traffic is being transported, the CPCS-UU Least\n      Significant\
    \ Bit (LSB) of the AAL5 CPCS-PDU may contain the Frame\n      Relay C/R bit. \
    \ The ingress LCCE device SHOULD copy this bit to\n      the U bit of the ATM-Specific\
    \ Sublayer.  The egress LCCE device\n      SHOULD copy the U bit to the CPCS-UU\
    \ Least Significant Bit (LSB)\n      of the AAL5 payload.\n      The Sequence\
    \ Number field is used in sequencing, as described in\n      Section 4.2.\n  \
    \ In case of a reassembly timeout, the encapsulating LCCE should\n   discard all\
    \ component cells of the AAL5 frame.\n   An additional enumeration is added to\
    \ the L2-Specific Sublayer AVP to\n   identify the ATM-Specific Sublayer:\n  \
    \       0 - There is no L2-Specific Sublayer present.\n         1 - The Default\
    \ L2-Specific Sublayer (defined in Section 4.6\n             of [RFC3931]) is\
    \ used.\n         2 - The ATM-Specific Sublayer is used.\n   The first two values\
    \ are already defined in the L2TPv3 base\n   specification [RFC3931].\n"
- title: 4.2.  Sequencing
  contents:
  - "4.2.  Sequencing\n   Data Packet Sequencing MAY be enabled for ATMPWs.  The sequencing\n\
    \   mechanisms described in [RFC3931] MUST be used to signal sequencing\n   support.\
    \  ATMPWs over L2TPv3 MUST request the presence of the ATM-\n   Specific Sublayer\
    \ when sequencing is enabled, and MAY request its\n   presence at all times.\n"
- title: 5.  ATM Transport
  contents:
  - "5.  ATM Transport\n   There are two encapsulations supported for ATM transport\
    \ as described\n   below.\n   The ATM-Specific Sublayer is prepended to the AAL5-SDU.\
    \  The other\n   cell mode encapsulation consists of the OPTIONAL ATM-Specific\n\
    \   Sublayer, followed by a 4-byte ATM cell header and a 48-byte ATM\n   cell-payload.\n"
- title: 5.1.  ATM AAL5-SDU Mode
  contents:
  - "5.1.  ATM AAL5-SDU Mode\n   In this mode, each AAL5 VC is mapped to an L2TP session.\
    \  The Ingress\n   LCCE reassembles the AAL5 CPCS-SDU without the AAL5 trailer\
    \ and any\n   padding bytes.  Incoming EFCI, CLP, and C/R (if present) are carried\n\
    \   in an ATM-Specific Sublayer across ATMPWs to the egress LCCE.  The\n   processing\
    \ of these bits on ingress and egress LCCEs is defined in\n   Section 4.1.\n \
    \   0                   1                   2                   3\n    0 1 2 3\
    \ 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |x|S|x|x|T|G|C|U|             Sequence Number                   |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |                                                               |\n   |  \
    \                                                             |\n   |        \
    \                 AAL5 CPCS-SDU                         |\n   |              \
    \                                                 |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \                 Figure 3: ATM AAL5-SDU Mode Encapsulation\n   If the ingress\
    \ LCCE determines that an encapsulated AAL5 SDU exceeds\n   the MTU size of the\
    \ L2TPv3 session, then AAL5 SDU may be fragmented\n   as per [L2TPFRAG] or underneath\
    \ the transport layer (IP, etc.).  F5\n   OAM cells that arrive during the reassembly\
    \ of an AAL5 SDU are sent\n   immediately on the PW followed by the AAL5 SDU payload.\
    \  In this\n   case, OAM cells' relative order with respect to user data cells\
    \ is\n   not maintained.\n   Performance Monitoring OAM, as specified in ITU-T\
    \ 610 [I610-1],\n   [I610-2], [I610-3] and security OAM cells as specified in\
    \ [ATMSEC],\n   should not be used in combination with AAL5 SDU Mode.  These cells\n\
    \   MAY be dropped at the ingress LCCE because cell sequence integrity is\n  \
    \ not maintained.\n   The Pseudowire Type AVP defined in Section 5.4.4 of [RFC3931],\n\
    \   Attribute Type 68, MUST be present in the ICRQ messages and MUST\n   include\
    \ the ATM AAL5 SDU VCC transport PW Type of 0x0002.\n"
- title: 5.2.  ATM Cell Mode
  contents:
  - "5.2.  ATM Cell Mode\n   In this mode, ATM cells skip the reassembly process at\
    \ the ingress\n   LCCE.  These cells are transported over an L2TP session, either\
    \ as a\n   single cell or as concatenated cells, into a single packet.  Each ATM\n\
    \   cell consists of a 4-byte ATM cell header and a 48-byte ATM cell-\n   payload;\
    \ the HEC is not included.\n   In ATM Cell Mode encapsulation, the ATM-Specific\
    \ Sublayer is\n   OPTIONAL.  It can be included, if sequencing support is required.\
    \  It\n   is left to the implementation to choose to signal the Default L2-\n\
    \   Specific Sublayer or the ATM-Specific Sublayer.\n    0                   1\
    \                   2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5\
    \ 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |x|S|x|x|x|x|x|x|          Sequence Number (Optional)           |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |        VPI            |           VCI                 |PTI  |C|\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |                                                               |\n   |  \
    \                  ATM Cell Payload (48-bytes)                |\n   |        \
    \                                                       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \                               \"\n                               \"\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |        VPI            |           VCI                 |PTI  |C|\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |                                                               |\n   |  \
    \                  ATM Cell Payload (48-bytes)                |\n   |        \
    \                                                       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \                   Figure 4: ATM Cell Mode Encapsulation\n   In the simplest\
    \ case, this encapsulation can be used to transmit a\n   single ATM cell per Pseudowire\
    \ PDU.  However, in order to provide\n   better Pseudowire bandwidth efficiency,\
    \ several ATM cells may be\n   optionally encapsulated into a single Pseudowire\
    \ PDU.\n   The maximum number of concatenated cells in a packet is limited by\n\
    \   the MTU size of the session and also by the ability of the egress\n   LCCE\
    \ to process them.  For more details about ATM Maximum\n   Concatenated Cells,\
    \ please refer to Section 6.\n"
- title: 5.2.1.  ATM VCC Cell Relay Service
  contents:
  - "5.2.1.  ATM VCC Cell Relay Service\n   A VCC cell relay service may be provided\
    \ by mapping an ATM Virtual\n   Channel Connection to a single Pseudowire using\
    \ cell mode\n   encapsulation as defined in Section 5.2.\n   An LCCE may map one\
    \ or more VCCs to a single PW.  However, a service\n   provider may wish to provision\
    \ a single VCC to a PW in order to\n   satisfy QOS or restoration requirements.\n\
    \   The Pseudowire Type AVP defined in Section 5.4.4 of [RFC3931],\n   Attribute\
    \ Type 68, MUST be present in the ICRQ messages and MUST\n   include the ATM cell\
    \ transport VCC Mode PW Type of 0x0009.\n"
- title: 5.2.2.  ATM VPC Cell Relay Service
  contents:
  - "5.2.2.  ATM VPC Cell Relay Service\n   A Virtual Path Connection cell relay service\
    \ may be provided by\n   mapping an ATM Virtual Path Connection to a single Pseudowire\
    \ using\n   cell mode encapsulation as defined in Section 5.2.\n   An LCCE may\
    \ map one or more VPCs to a single Pseudowire.\n   The Pseudowire Type AVP defined\
    \ in Section 5.4.4 of [RFC3931],\n   Attribute Type 68, MUST be present in the\
    \ ICRQ messages and MUST\n   include the ATM cell transport VPC Mode PW Type of\
    \ 0x000A.\n"
- title: 5.2.3.  ATM Port Cell Relay Service
  contents:
  - "5.2.3.  ATM Port Cell Relay Service\n   ATM port cell relay service allows an\
    \ ATM port to be connected to\n   another ATM port.  All ATM cells that are received\
    \ at the ingress ATM\n   port on the LCCE are encapsulated as per Section 5.2,\
    \ into Pseudowire\n   PDU and sent to peer LCCE.\n   Each LCCE MUST discard any\
    \ idle/unassigned cells received on an ATM\n   port associated with ATMPWs.\n\
    \   The Pseudowire Type AVP defined in Section 5.4.4 of [RFC3931],\n   Attribute\
    \ Type 68, MUST be present in the ICRQ messages and MUST\n   include the ATM Cell\
    \ transport Port Mode PW Type of 0x0003.\n"
- title: 5.3.  OAM Cell Support
  contents:
  - "5.3.  OAM Cell Support\n   The OAM cells are defined in [I610-1], [I610-2], [I610-3]\
    \ and\n   [ATMSEC] can be categorized as follows:\n      a.  Fault Management\n\
    \      b.  Performance monitoring and reporting\n      c.  Activation/deactivation\n\
    \      d.  System Management (e.g., security OAM cells)\n   OAM Cells are always\
    \ encapsulated using cell mode encapsulation,\n   regardless of the encapsulation\
    \ format used for user data.\n"
- title: 5.3.1.  VCC Switching
  contents:
  - "5.3.1.  VCC Switching\n   The LCCEs SHOULD be able to pass the F5 segment and\
    \ end-to-end Fault\n   Management, Resource Management (RM cells), Performance\
    \ Management,\n   Activation/deactivation, and System Management OAM cells.\n\
    \   F4 OAM cells are inserted or extracted at the VP link termination.\n   These\
    \ OAM cells are not seen at the VC link termination and are\n   therefore not\
    \ sent across the PW.\n"
- title: 5.3.2.  VPC Switching
  contents:
  - "5.3.2.  VPC Switching\n   The LCCEs MUST be able to pass the F4 segment and end-to-end\
    \ Fault\n   Management, Resource Management (RM cells), Performance Management,\n\
    \   Activation/deactivation, and System Management OAM cells\n   transparently\
    \ according to [I610-1].\n   F5 OAM cells are not inserted or extracted at the\
    \ VP cross-connect.\n   The LCCEs MUST be able to pass the F5 OAM cells transparently\
    \ across\n   the PW.\n"
- title: 6.  ATM Maximum Concatenated Cells AVP
  contents:
  - "6.  ATM Maximum Concatenated Cells AVP\n   The \"ATM Maximum Concatenated Cells\
    \ AVP\", Attribute Type 86,\n   indicates that the egress LCCE node can process\
    \ a single PDU with\n   concatenated cells up to a specified number of cells.\
    \  An LCCE node\n   transmitting concatenated cells on this PW MUST NOT exceed\
    \ the\n   maximum number of cells as specified in this AVP.  This AVP is\n   applicable\
    \ only to ATM Cell Relay PW Types (VCC, VPC, Port Cell\n   Relay).  This Attribute\
    \ value may not be same in both directions of\n   the specific PW.\n   The Attribute\
    \ Value field for this AVP has the following format:\n    0                  \
    \ 1\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   | ATM Maximum Concatenated Cells|\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   This AVP MAY be hidden (the H bit MAY be 0 or 1).  The M bit for this\n  \
    \ AVP MAY be set to 0, but MAY vary (see Section 5.2 of [RFC3931]).\n   The length\
    \ (before hiding) of this AVP is 8.\n   This AVP is sent in an ICRQ, ICRP during\
    \ session negotiation or via\n   SLI control messages when LCCE changes the maximum\
    \ number of\n   concatenated cells configuration for a given ATM cell relay circuit.\n\
    \   This AVP is OPTIONAL.  If the egress LCCE is configured with a\n   maximum\
    \ number of cells to be concatenated by the ingress LCCE, it\n   SHOULD signal\
    \ this value to the ingress LCCE.\n"
- title: 7.  OAM Emulation Required AVP
  contents:
  - "7.  OAM Emulation Required AVP\n   An \"OAM Emulation Required AVP\", Attribute\
    \ Type 87, MAY be needed to\n   signal OAM emulation in AAL5 SDU Mode, if an LCCE\
    \ cannot support the\n   transport of OAM cells across L2TP sessions.  If OAM\
    \ cell emulation\n   is configured or detected via some other means on one side,\
    \ the other\n   LCCE MUST support OAM cell emulation as well.\n   This AVP is\
    \ exchanged during session negotiation (in ICRQ and ICRP)\n   or during the life\
    \ of the session via SLI control messages.  If the\n   other LCCE cannot support\
    \ the OAM cell emulation, the associated L2TP\n   session MUST be torn down via\
    \ CDN message with result code 22.\n   OAM Emulation AVP is a boolean AVP, having\
    \ no Attribute Value.  Its\n   absence is FALSE and its presence is TRUE.  This\
    \ AVP MAY be hidden\n   (the H bit MAY be 0 or 1).  The M bit for this AVP SHOULD\
    \ be set to\n   0, but MAY vary (see Section 5.2 of [RFC3931]).  The Length (before\n\
    \   hiding) of this AVP is 6.\n"
- title: 8.  ATM Defects Mapping and Status Notification
  contents:
  - "8.  ATM Defects Mapping and Status Notification\n   ATM OAM alarms or circuit\
    \ status is indicated via the Circuit Status\n   AVP as defined in Section 5.4.5\
    \ of [RFC3931].  For reference, usage\n   of this AVP is shown below.\n    0 \
    \                  1\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |           Reserved        |N|A|\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   The Value is a 16-bit mask with the two least significant bits\n   defined,\
    \ and the remaining bits are reserved for future use.\n   Reserved bits MUST be\
    \ set to 0 when sending and ignored upon receipt.\n   The A (Active) bit indicates\
    \ whether the ATM circuit is ACTIVE (1) or\n   INACTIVE (0).\n   The N (New) bit\
    \ indicates whether the ATM circuit status indication\n   is for a new ATM circuit\
    \ (1) or an existing ATM circuit (0).\n"
- title: 8.1.  ATM Alarm Status AVP
  contents:
  - "8.1.  ATM Alarm Status AVP\n   An \"ATM Alarm Status AVP\", Attribute Type 88,\
    \ indicates the reason\n   for the ATM circuit status and specific alarm type,\
    \ if any, to its\n   peer LCCE node.  This OPTIONAL AVP MAY be present in the\
    \ SLI message\n   with the Circuit Status AVP.\n   The Attribute Value field for\
    \ this AVP has the following format:\n    0                   1              \
    \     2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2\
    \ 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |     Circuit Status Reason     |            Alarm              |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   The Circuit Status Reason is a 2-octet unsigned integer, and the\n   Alarm\
    \ Type is also a 2-octet unsigned integer.\n   This AVP MAY be hidden (the H bit\
    \ MAY be 0 or 1).  The M bit for this\n   AVP SHOULD be set to 0, but MAY vary\
    \ (see Section 5.2 of [RFC3931]).\n   The Length (before hiding) of this AVP is\
    \ 10 octets.\n   This AVP is sent in the SLI message to indicate additional\n\
    \   information about the ATM circuit status.\n   Circuit Status Reason values\
    \ for the SLI message are as follows:\n           0 - Reserved\n           1 -\
    \ No alarm or alarm cleared (default for Active Status)\n           2 - Unspecified\
    \ or unknown Alarm Received (default for\n               Inactive Status)\n  \
    \         3 - ATM Circuit received F1 Alarm on ingress LCCE\n           4 - ATM\
    \ Circuit received F2 Alarm on ingress LCCE\n           5 - ATM Circuit received\
    \ F3 Alarm on ingress LCCE\n           6 - ATM Circuit received F4 Alarm on ingress\
    \ LCCE\n           7 - ATM Circuit received F5 Alarm on ingress LCCE\n       \
    \    8 - ATM Circuit down due to ATM Port shutdown on Peer LCCE\n           9\
    \ - ATM Circuit down due to loop-back timeout on ingress LCCE\n   The general\
    \ ATM Alarm failures are encoded as below:\n           0 - Reserved\n        \
    \   1 - No Alarm type specified (default)\n           2 - Alarm Indication Signal\
    \ (AIS)\n           3 - Remote Defect Indicator (RDI)\n           4 - Loss of\
    \ Signal (LOS)\n           5 - Loss of Pointer (LOP)\n           6 - Loss of Framer\
    \ (LOF)\n           7 - Loopback cells (LB)\n           8 - Continuity Check (CC)\n"
- title: 9.  Applicability Statement
  contents:
  - "9.  Applicability Statement\n   The ATM Pseudowire emulation described in this\
    \ document allows for\n   carrying various ATM services across an IP packet switched\
    \ network\n   (PSN).  These ATM services can be PVC-based, PVP-based, or port-\n\
    \   based.  In all cases, ATMPWs operate in a point-to-point deployment\n   model.\n\
    \   ATMPWs support two modes of encapsulation: ATM AAL5-SDU Mode and ATM\n   Cell\
    \ Relay Mode.  The following sections list their respective\n   characteristics\
    \ in relationship to the native service.\n"
- title: 9.1.  ATM AAL5-SDU Mode
  contents:
  - "9.1.  ATM AAL5-SDU Mode\n   ATMPWs operating in AAL5-SDU Mode only support the\
    \ transport of PVC-\n   based services.  In this mode, the AAL5 CPCS-PDU from\
    \ a single VCC is\n   reassembled at the ingress LCCE, and the AAL5 CPCS-SDU (i.e.,\
    \ the\n   AAL5 CPCS-PDU without CPCS-PDU Trailer or PAD octets, also referred\n\
    \   to as AAL5 CPCS-PDU Payload) is transported over the Pseudowire.\n   Therefore,\
    \ Segmentation and Reassembly (SAR) functions are required\n   at the LCCEs. \
    \ There is a one-to-one mapping between an ATM PVC and\n   an ATMPW operating\
    \ in AAL5-SDU Mode, supporting bidirectional\n   transport of variable length\
    \ frames.  With the exception of\n   optionally transporting OAM cells, only ATM\
    \ Adaptation Layer (AAL)\n   Type 5 frames are carried in this mode, including\
    \ multiprotocol over\n   AAL5 packets [RFC2684].\n   The following considerations\
    \ stem from ATM AAL5-SDU Mode Pseudowires\n   not transporting the ATM cell headers\
    \ and AAL5 CPCS-PDU Trailer (see\n   Section 5.1):\n      o An ATMPW operating\
    \ in AAL5-SDU Mode conveys EFCI and CLP\n        information using the G and C\
    \ bits in the ATM-Specific Sublayer.\n        In consequence, the EFCI and CLP\
    \ values of individual ATM cells\n        that constitute the AAL5 frame may be\
    \ lost across the ATMPW, and\n        CLP and EFCI transparency may not be maintained.\
    \  The AAL5-SDU\n        Mode does not preserve EFCI and CLP values for every\
    \ ATM cell\n        within the AAL5 PDU.  The processing of these bits on ingress\n\
    \        and egress is defined in Section 4.1.\n      o Only the least significant\
    \ bit (LSB) from the CPCS-UU (User-to-\n        User indication) field in the\
    \ CPCS-PDU Trailer is transported\n        using the ATM-Specific Sublayer (see\
    \ Section 4.1).  This bit\n        contains the Frame Relay C/R bit when FRF.8.1\
    \ Frame Relay / ATM\n        PVC Service Interworking [FRF8.1] is used.  The CPCS-UU\
    \ field is\n        not used in multiprotocol over AAL5 [RFC2684].  However,\n\
    \        applications that transfer user to user information using the\n     \
    \   CPCS-UU octet would fail to operate.\n      o The CPI (Common Part Indicator)\
    \ field in the CPCS-PDU Trailer is\n        also not transported across the ATMPW.\
    \  This does not affect\n        multiprotocol over AAL5 applications since the\
    \ field is used for\n        alignment and MUST be coded as 0x00 [RFC2684].\n\
    \      o The trailing CRC field in the CPCS-PDU is stripped at the\n        ingress\
    \ LCCE and not transported over the ATMPW operating in\n        AAL5-SDU Mode.\
    \  It is in turn regenerated at the egress LCCE.\n        Since the CRC has end-to-end\
    \ significance, this means that\n        errors introduced in the ATMPW payload\
    \ during encapsulation or\n        transit across the packet switched network\
    \ may not be detected.\n        To allow for payload integrity checking transparency\
    \ on ATMPWs\n        operating in AAL5-SDU Mode using L2TP over IP or L2TP over\n\
    \        UDP/IP, the L2TPv3 session can utilize IPsec as specified in\n      \
    \  Section 4.1.3 of [RFC3931].\n   Some additional characteristics of the AAL5-SDU\
    \ Mode are the\n   following:\n      o The status of the ATM PVC is signaled between\
    \ LCCEs using the\n        Circuit Status AVP.  More granular cause values for\
    \ the ATM\n        circuit status and specific ATM alarm types are signaled using\n\
    \        the ATM Alarm Status AVP (see Section 8.1).  Additionally, loss\n   \
    \     of connectivity between LCCEs can be detected by the L2TPv3\n        keepalive\
    \ mechanism (see Section 4.4 in [RFC3931]).\n      o F5 OAM cells' relative order\
    \ with respect to user data cells may\n        not be maintained.  F5 OAM cells\
    \ that arrive during the\n        reassembly of an AAL5 SDU are sent immediately\
    \ over the PW and\n        before the AAL5 SDU payload.  At egress, these OAM\
    \ cells are\n        sent before the cells that comprise the AAL5-SDU.  Therefore,\n\
    \        applications that rely on cell sequence integrity between OAM\n     \
    \   and user data cells may not work.  This includes Performance\n        Monitoring\
    \ and Security OAM cells (see Section 5.1).  In\n        addition, the AAL5-SDU\
    \ service allows for OAM emulation in which\n        OAM cells are not transported\
    \ over the ATMPW (see Section 7).\n        This is advantageous for AAL5-SDU Mode\
    \ ATMPW implementations\n        that do not support cell transport using the\
    \ T-bit.\n      o Fragmentation and Reassembly procedures MAY be used for managing\n\
    \        mismatched MTUs, as specified in Section 5 of [L2TPFRAG] or in\n    \
    \    the underlying PSN (IP, etc.) between tunnel endpoints as\n        discussed\
    \ in Section 4.1.4 of [RFC3931].  Only one of these\n        methods SHOULD be\
    \ used for a given AAL5-SDU Mode ATMPW.  The\n        procedures described in\
    \ [L2TPFRAG] can be used to support the\n        maximum size of an AAL5 SDU,\
    \ 2 ^ 16 - 1 (65535) octets.\n        However, relying on fragmentation on the\
    \ L2TP/IPv4 packet\n        between tunnel endpoints limits the maximum size of\
    \ the AAL5 SDU\n        that can be transported, because the maximum total length\
    \ of an\n        IPv4 datagram is already 65535 octets.  In this case, the\n \
    \       maximum AAL5 SDU that can be transported is limited to 65535\n       \
    \ minus the encapsulating headers, 24-36 octets for L2TP-over-IPv4\n        or\
    \ 36-48 octets for L2TP-over-UDP/IPv4.  When the AAL5 payload\n        is IPv4,\
    \ an additional option is to fragment IP packets before\n        tunnel encapsulation\
    \ with L2TP/IP (see Section 4.1.4 of\n        [RFC3931]).\n      o Sequencing\
    \ may be enabled on the ATMPW using the ATM-Specific\n        Sublayer Sequence\
    \ Number field, to detect lost, duplicate, or\n        out-of-order frames on\
    \ a per-session basis (see Section 4.2).\n      o Quality of Service characteristics\
    \ such as throughput (cell\n        rates), burst sizes and delay variation can\
    \ be provided by\n        leveraging Quality of Service features of the LCCEs\
    \ and the\n        underlying PSN, increasing the faithfulness of ATMPWs.  This\n\
    \        includes mapping ATM service categories to a compatible PSN\n       \
    \ class of service.\n"
- title: 9.2.  ATM Cell Relay Mode
  contents:
  - "9.2.  ATM Cell Relay Mode\n   In this mode, no reassembly takes place at the\
    \ ingress LCCE.  There\n   are no SAR requirements for LCCEs.  Instead, ATM-layer\
    \ cells are\n   transported over the ATMPW.  Consequently, all AAL types can be\n\
    \   transported over ATMPWs operating in Cell Relay Mode.  ATM Cell Relay\n  \
    \ Pseudowires can operate in three different modes (see Section 5.2):\n   ATM\
    \ VCC, ATM VPC, and ATM Port Cell Relay Services.  The following\n   are some\
    \ of their characteristics:\n      o The ATM cells transported over Cell Relay\
    \ Mode ATMPWs consist of\n        a 4-byte ATM cell header and a 48-byte ATM cell-payload\
    \ (see\n        Section 5.2).  The ATM Service Payload of a Cell Relay Mode\n\
    \        ATMPW is a multiple of 52 bytes.  The Header Error Checksum\n       \
    \ (HEC) in the ATM cell header containing a Cyclic Redundancy\n        Check (CRC)\
    \ calculated over the first 4 bytes of the ATM cell\n        header is not transported.\
    \  Accordingly, the HEC field may not\n        accurately reflect errors on an\
    \ end-to-end basis; errors or\n        corruption in the 4-byte ATM cell header\
    \ introduced in the ATMPW\n        payload during encapsulation or transit across\
    \ the PSN may not\n        be detected.  To allow for payload integrity checking\n\
    \        transparency on ATMPWs operating in Cell Relay Mode using L2TP\n    \
    \    over IP or L2TP over UDP/IP, the L2TPv3 session can utilize\n        IPsec\
    \ as specified in Section 4.1.3 of [RFC3931].\n      o ATM PWs operating in Cell\
    \ Relay Mode can transport a single ATM\n        cell or multiple concatenated\
    \ cells (see Section 6).  Cell\n        concatenation improves the bandwidth efficiency\
    \ of the ATMPW (by\n        decreasing the overhead) but introduces latency and\
    \ delay\n        variation.\n      o The status of the ATM PVC is signaled between\
    \ LCCEs using the\n        Circuit Status AVP.  More granular cause values for\
    \ the ATM\n        circuit status and specific ATM alarm types are signaled using\n\
    \        the ATM Alarm Status AVP (see Section 8.1).  Additionally, loss\n   \
    \     of connectivity between LCCEs can be detected by the L2TPv3\n        keepalive\
    \ mechanism (see Section 4.4 in [RFC3931]).\n      o ATM OAM cells are transported\
    \ in the same fashion as user cells,\n        and in the same order as they are\
    \ received.  Therefore,\n        applications that rely on cell sequence integrity\
    \ between OAM\n        and user data cells are not adversely affected.  This includes\n\
    \        performance management and security applications that utilize\n     \
    \   OAM cells (see Section 5.3).\n      o The maximum number of concatenated cells\
    \ is limited by the MTU\n        size of the session (see Section 5.2 and Section\
    \ 6).  Therefore,\n        Fragmentation and Reassembly procedures are not used\
    \ for Cell\n        Relay ATMPWs.  Concatenating cells to then fragment the\n\
    \        resulting packet defeats the purpose of cell concatenation.\n       \
    \ Concatenation of cells and fragmentation act as inverse\n        functions,\
    \ with additional processing but null net effect, and\n        should not be used\
    \ together.\n      o Sequencing may be enabled on the ATMPW to detect lost,\n\
    \        duplicate, or out-of-order packets on a per-session basis (see\n    \
    \    Section 4.2).\n      o Quality of Service characteristics such as throughput\
    \ (cell\n        rates), burst sizes, and delay variation can be provided by\n\
    \        leveraging Quality of Service features of the LCCEs and the\n       \
    \ underlying PSN, increasing the faithfulness of ATMPWs.  This\n        includes\
    \ mapping ATM service categories to a compatible PSN\n        class of service,\
    \ and mapping CLP and EFCI bits to PSN classes\n        of service.  For example,\
    \ mapping a Constant Bit Rate (CBR) PVC\n        to a class of service with tight\
    \ loss and delay characteristics,\n        such as an Expedited Forwarding (EF)\
    \ Per-Hop Behavior (PHB) if\n        the PSN is an IP DiffServ-enabled domain.\
    \  The following\n        characteristics of ATMPWs operating in Cell Relay Mode\
    \ include\n        additional QoS considerations:\n           - ATM Cell transport\
    \ VCC Pseudowires allow for mapping\n             multiple ATM VCCs to a single\
    \ ATMPW.  However, a user may\n             wish to map a single ATM VCC per ATMPW\
    \ to satisfy QoS\n             requirements (see Section 5.2.1).\n           -\
    \ Cell Relay ATMPWs allow for concatenating multiple cells in\n             a\
    \ single Pseudowire PDU to improve bandwidth efficiency,\n             but may\
    \ introduce latency and delay variation.\n"
- title: 10.  Congestion Control
  contents:
  - "10.  Congestion Control\n   As explained in [RFC3985], the PSN carrying the PW\
    \ may be subject to\n   congestion, with congestion characteristics depending\
    \ on PSN type,\n   network architecture, configuration, and loading.  During congestion\n\
    \   the PSN may exhibit packet loss and packet delay variation (PDV) that\n  \
    \ will impact the timing and data integrity of the ATMPW.  During\n   intervals\
    \ of acute congestion, some Cell Relay ATMPWs may not be able\n   to maintain\
    \ service.  The inelastic nature of some ATM services\n   reduces the risk of\
    \ congestion because the rates will not expand to\n   consume all available bandwidth,\
    \ but on the other hand, those ATM\n   services cannot arbitrarily reduce their\
    \ load on the network to\n   eliminate congestion when it occurs.\n   Whenever\
    \ possible, Cell Relay ATMPWs should be run over traffic-\n   engineered PSNs\
    \ providing bandwidth allocation and admission control\n   mechanisms.  IntServ-enabled\
    \ domains providing the Guaranteed Service\n   (GS) or DiffServ-enabled domains\
    \ using Expedited Forwarding (EF) are\n   examples of traffic-engineered PSNs.\
    \  Such PSNs will minimize loss\n   and delay while providing some degree of isolation\
    \ of the Cell Relay\n   ATMPW's effects from neighboring streams.\n   If the PSN\
    \ is providing a best-effort service, then the following\n   best-effort service\
    \ congestion avoidance considerations apply: Those\n   ATMPWs that carry constant\
    \ bit rate (CBR) and variable bit rate-real\n   time (VBR-rt) services across\
    \ the PSN will most probably not behave\n   in a TCP-friendly manner prescribed\
    \ by [RFC2914].  In the presence of\n   services that reduce transmission rate,\
    \ ATMPWs carrying CBR and VBR-\n   rt traffic SHOULD be halted when acute congestion\
    \ is detected, in\n   order to allow for other traffic or the network infrastructure\
    \ itself\n   to continue.  ATMPWs carrying unspecified bit rate (UBR) traffic,\n\
    \   which are equivalent to best-effort IP service, need not be halted\n   during\
    \ acute congestion and MAY have cells delayed or dropped by the\n   ingress PE\
    \ if necessary.  ATMPWs carrying variable bit rate-non real\n   time (VBR-nrt)\
    \ services may or may not behave in a TCP-friendly\n   manner, depending on the\
    \ end user application, but are most likely\n   safe to continue operating, since\
    \ the end-user application is\n   expected to be delay-insensitive and may also\
    \ be somewhat loss-\n   insensitive.\n   LCCEs SHOULD monitor for congestion (for\
    \ example, by measuring packet\n   loss or as specified in Section 6.5 of [RFC3985])\
    \ in order to ensure\n   that the ATM service may be maintained.  When severe\
    \ congestion is\n   detected (for example, when enabling sequencing and detecting\
    \ that\n   the packet loss is higher than a threshold), the ATM service SHOULD\n\
    \   be terminated by tearing down the L2TP session via a CDN message.\n   The\
    \ PW may be restarted by manual intervention, or by automatic means\n   after\
    \ an appropriate waiting time.\n"
- title: 11.  Security Considerations
  contents:
  - "11.  Security Considerations\n   ATM over L2TPv3 is subject to the security considerations\
    \ defined in\n   [RFC3931].  There are no additional considerations specific to\n\
    \   carrying ATM that are not present carrying other data link types.\n"
- title: 12.  IANA Considerations
  contents:
  - "12.  IANA Considerations\n   The signaling mechanisms defined in this document\
    \ rely upon the\n   allocation of the following ATM Pseudowire Types (see Pseudowire\n\
    \   Capabilities List as defined in 5.4.3 of [RFC3931] and L2TPv3\n   Pseudowire\
    \ Types in 10.6 of [RFC3931]) by the IANA (number space\n   created as part of\
    \ publication of [RFC3931]):\n      Pseudowire Types\n      ----------------\n\
    \      0x0002  ATM AAL5 SDU VCC transport\n      0x0003  ATM Cell transparent\
    \ Port Mode\n      0x0009  ATM Cell transport VCC Mode\n      0x000A  ATM Cell\
    \ transport VPC Mode\n"
- title: 12.1.  L2-Specific Sublayer Type
  contents:
  - "12.1.  L2-Specific Sublayer Type\n   This number space is created and maintained\
    \ per [RFC3931].\n      L2-Specific Sublayer Type\n      -------------------------\n\
    \      2 - ATM L2-Specific Sublayer present\n"
- title: 12.2.  Control Message Attribute Value Pairs (AVPs)
  contents:
  - "12.2.  Control Message Attribute Value Pairs (AVPs)\n   This number space is\
    \ managed by IANA as per [BCP0068].\n   A summary of the three new AVPs follows:\n\
    \   Control Message Attribute Value Pairs\n      Attribute\n      Type       \
    \ Description\n      ---------   ----------------------------------\n      86\
    \          ATM Maximum Concatenated Cells AVP\n      87          OAM Emulation\
    \ Required AVP\n      88          ATM Alarm Status AVP\n"
- title: 12.3.  Result Code AVP Values
  contents:
  - "12.3.  Result Code AVP Values\n   This number space is managed by IANA as per\
    \ [BCP0068].\n   A new Result Code value for the CDN message is defined in Section\
    \ 7.\n   Following is a summary:\n   Result Code AVP (Attribute Type 1) Values\n\
    \   -----------------------------------------\n   General Error Codes\n      \
    \   22 - Session not established due to other LCCE\n              cannot support\
    \ the OAM Cell Emulation\n"
- title: 12.4.  ATM Alarm Status AVP Values
  contents:
  - "12.4.  ATM Alarm Status AVP Values\n   This is a new registry for IANA to maintain.\n\
    \   New Attribute values for the ATM Alarm Status AVP in the SLI message\n   are\
    \ defined in Section 8.1.  Additional values may be assigned by\n   Expert Review\
    \ [RFC2434].  Following is a summary:\n   ATM Alarm Status AVP (Attribute Type\
    \ 88) Values\n   -----------------------------------------------\n   Circuit Status\
    \ Reason values for the SLI message are as follows:\n           0 - Reserved\n\
    \           1 - No alarm or alarm cleared (default for Active Status)\n      \
    \     2 - Unspecified or unknown Alarm Received (default for\n               Inactive\
    \ Status)\n           3 - ATM Circuit received F1 Alarm on ingress LCCE\n    \
    \       4 - ATM Circuit received F2 Alarm on ingress LCCE\n           5 - ATM\
    \ Circuit received F3 Alarm on ingress LCCE\n           6 - ATM Circuit received\
    \ F4 Alarm on ingress LCCE\n           7 - ATM Circuit received F5 Alarm on ingress\
    \ LCCE\n           8 - ATM Circuit down due to ATM Port shutdown on Peer LCCE\n\
    \           9 - ATM Circuit down due to loop-back timeout on ingress LCCE\n  \
    \ The general ATM Alarm failures are encoded as below:\n           0 - Reserved\n\
    \           1 - No Alarm type specified (default)\n           2 - Alarm Indication\
    \ Signal (AIS)\n           3 - Remote Defect Indicator (RDI)\n           4 - Loss\
    \ of Signal (LOS)\n           5 - Loss of Pointer (LOP)\n           6 - Loss of\
    \ Framer (LOF)\n           7 - Loopback cells (LB)\n           8 - Continuity\
    \ Check (CC)\n"
- title: 12.5.  ATM-Specific Sublayer Bits
  contents:
  - "12.5.  ATM-Specific Sublayer Bits\n   This is a new registry for IANA to maintain.\n\
    \   The ATM-Specific Sublayer contains 8 bits in the low-order portion of\n  \
    \ the header.  Reserved bits may be assigned by IETF Consensus\n   [RFC2434].\n\
    \      Bit 0 - Reserved\n      Bit 1 - S (Sequence) bit\n      Bit 2 - B (Fragmentation)\
    \ bit\n      Bit 3 - E (Fragmentation) bit\n      Bit 4 - T (Transport type) bit\n\
    \      Bit 5 - G (EFCI) bit\n      Bit 6 - C (CLP) bit\n      Bit 7 - U (Command/Response)\
    \ bit\n"
- title: 13.  Acknowledgements
  contents:
  - "13.  Acknowledgements\n   Thanks for the contributions from Jed Lau, Pony Zhu,\
    \ Prasad Yaditi,\n   Durai, and Jaya Kumar.\n   Many thanks to Srinivas Kotamraju\
    \ for editorial review.\n   Thanks to Shoou Yiu and Fred Shu for giving their\
    \ valuable time to\n   review this document.\n"
- title: 14.  References
  contents:
  - '14.  References

    '
- title: 14.1.  Normative References
  contents:
  - "14.1.  Normative References\n   [RFC3931]  Lau, J., Townsley, M., and I. Goyret,\
    \ \"Layer Two Tunneling\n              Protocol - Version 3 (L2TPv3)\", RFC 3931,\
    \ March 2005.\n   [RFC2119]  Bradner, S., \"Key words for use in RFCs to Indicate\n\
    \              Requirement Levels\", BCP 14, RFC 2119, March 1997.\n"
- title: 14.2.  Informative References
  contents:
  - "14.2.  Informative References\n   [PWE3ATM]  Martini, L., \"Encapsulation Methods\
    \ for Transport of ATM\n              Over MPLS Networks\", Work in Progress,\
    \ September 2005.\n   [L2TPFRAG] Malis, A. and M. Townsley, \"PWE3 Fragmentation\
    \ and\n              Reassembly\", Work in Progress, November 2005.\n   [FRF8.1]\
    \   \"Frame Relay / ATM PVC Service Interworking Implementation\n            \
    \  Agreement (FRF 8.1)\", Frame Relay Forum 2000.\n   [BCP0068]  Townsley, W.,\
    \ \"Layer Two Tunneling Protocol (L2TP)\n              Internet Assigned Numbers\
    \ Authority (IANA) Considerations\n              Update\", BCP 68, RFC 3438, December\
    \ 2002.\n   [RFC2434]  Narten, T. and H. Alvestrand, \"Guidelines for Writing\
    \ an\n              IANA Considerations Section in RFCs\", BCP 26, RFC 2434,\n\
    \              October 1998.\n   [I610-1]   ITU-T Recommendation I.610 (1999):\
    \ B-ISDN operation and\n              maintenance principles and functions\n \
    \  [I610-2]   ITU-T Recommendation I.610, Corrigendum 1 (2000): B-ISDN\n     \
    \         operation and maintenance principles and functions\n              (corrigendum\
    \ 1)\n   [I610-3]   ITU-T Recommendation I.610, Amendment 1 (2000): B-ISDN\n \
    \             operation and maintenance principles and functions\n           \
    \   (Amendment 1)\n   [ATMSEC]   ATM Forum Specification, af-sec-0100.002 (2001):\
    \ ATM\n              Security Specification version 1.1\n   [RFC2684]  Grossman,\
    \ D. and J. Heinanen, \"Multiprotocol Encapsulation\n              over ATM Adaptation\
    \ Layer 5\", RFC 2684, September 1999.\n   [RFC3985]  Bryant, S. and P. Pate,\
    \ \"Pseudo Wire Emulation Edge-to-\n              Edge (PWE3) Architecture\",\
    \ RFC 3985, March 2005.\n   [RFC2914]  Floyd, S., \"Congestion Control Principles\"\
    , BCP 41, RFC\n              2914, September 2000.\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Sanjeev Singh\n   Cisco Systems\n   170 W. Tasman Drive\n\
    \   San Jose, CA  95134\n   EMail: sanjeevs@cisco.com\n   W. Mark Townsley\n \
    \  Cisco Systems\n   7025 Kit Creek Road\n   PO Box 14987\n   Research Triangle\
    \ Park, NC 27709\n   EMail: mark@townsley.net\n   Carlos Pignataro\n   Cisco Systems\n\
    \   7025 Kit Creek Road\n   PO Box 14987\n   Research Triangle Park, NC 27709\n\
    \   EMail: cpignata@cisco.com\n"
- title: Full Copyright Statement
  contents:
  - "Full Copyright Statement\n   Copyright (C) The Internet Society (2006).\n   This\
    \ document is subject to the rights, licenses and restrictions\n   contained in\
    \ BCP 78, and except as set forth therein, the authors\n   retain all their rights.\n\
    \   This document and the information contained herein are provided on an\n  \
    \ \"AS IS\" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS\n  \
    \ OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET\n   ENGINEERING\
    \ TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED,\n   INCLUDING BUT NOT\
    \ LIMITED TO ANY WARRANTY THAT THE USE OF THE\n   INFORMATION HEREIN WILL NOT\
    \ INFRINGE ANY RIGHTS OR ANY IMPLIED\n   WARRANTIES OF MERCHANTABILITY OR FITNESS\
    \ FOR A PARTICULAR PURPOSE.\n"
- title: Intellectual Property
  contents:
  - "Intellectual Property\n   The IETF takes no position regarding the validity or\
    \ scope of any\n   Intellectual Property Rights or other rights that might be\
    \ claimed to\n   pertain to the implementation or use of the technology described\
    \ in\n   this document or the extent to which any license under such rights\n\
    \   might or might not be available; nor does it represent that it has\n   made\
    \ any independent effort to identify any such rights.  Information\n   on the\
    \ procedures with respect to rights in RFC documents can be\n   found in BCP 78\
    \ and BCP 79.\n   Copies of IPR disclosures made to the IETF Secretariat and any\n\
    \   assurances of licenses to be made available, or the result of an\n   attempt\
    \ made to obtain a general license or permission for the use of\n   such proprietary\
    \ rights by implementers or users of this\n   specification can be obtained from\
    \ the IETF on-line IPR repository at\n   http://www.ietf.org/ipr.\n   The IETF\
    \ invites any interested party to bring to its attention any\n   copyrights, patents\
    \ or patent applications, or other proprietary\n   rights that may cover technology\
    \ that may be required to implement\n   this standard.  Please address the information\
    \ to the IETF at\n   ietf-ipr@ietf.org.\n"
- title: Acknowledgement
  contents:
  - "Acknowledgement\n   Funding for the RFC Editor function is provided by the IETF\n\
    \   Administrative Support Activity (IASA).\n"
