- title: __initial_text__
  contents:
  - "                Layer 2 Virtual Private Network (L2VPN)\n           Operations,\
    \ Administration, and Maintenance (OAM)\n                       Requirements and\
    \ Framework\n"
- title: Abstract
  contents:
  - "Abstract\n   This document provides framework and requirements for Layer 2 Virtual\n\
    \   Private Network (L2VPN) Operations, Administration, and Maintenance\n   (OAM).\
    \  The OAM framework is intended to provide OAM layering across\n   L2VPN services,\
    \ pseudowires (PWs), and Packet Switched Network (PSN)\n   tunnels.  This document\
    \ is intended to identify OAM requirements for\n   L2VPN services, i.e., Virtual\
    \ Private LAN Service (VPLS), Virtual\n   Private Wire Service (VPWS), and IP-only\
    \ LAN Service (IPLS).\n   Furthermore, if L2VPN service OAM requirements impose\
    \ specific\n   requirements on PW OAM and/or PSN OAM, those specific PW and/or\
    \ PSN\n   OAM requirements are also identified.\n"
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This document is not an Internet Standards Track specification;\
    \ it is\n   published for informational purposes.\n   This document is a product\
    \ of the Internet Engineering Task Force\n   (IETF).  It represents the consensus\
    \ of the IETF community.  It has\n   received public review and has been approved\
    \ for publication by the\n   Internet Engineering Steering Group (IESG).  Not\
    \ all documents\n   approved by the IESG are a candidate for any level of Internet\n\
    \   Standard; see Section 2 of RFC 5741.\n   Information about the current status\
    \ of this document, any errata,\n   and how to provide feedback on it may be obtained\
    \ at\n   http://www.rfc-editor.org/info/rfc6136.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (c) 2011 IETF Trust and the persons identified\
    \ as the\n   document authors.  All rights reserved.\n   This document is subject\
    \ to BCP 78 and the IETF Trust's Legal\n   Provisions Relating to IETF Documents\n\
    \   (http://trustee.ietf.org/license-info) in effect on the date of\n   publication\
    \ of this document.  Please review these documents\n   carefully, as they describe\
    \ your rights and restrictions with respect\n   to this document.  Code Components\
    \ extracted from this document must\n   include Simplified BSD License text as\
    \ described in Section 4.e of\n   the Trust Legal Provisions and are provided\
    \ without warranty as\n   described in the Simplified BSD License.\n   This document\
    \ may contain material from IETF Documents or IETF\n   Contributions published\
    \ or made publicly available before November\n   10, 2008.  The person(s) controlling\
    \ the copyright in some of this\n   material may not have granted the IETF Trust\
    \ the right to allow\n   modifications of such material outside the IETF Standards\
    \ Process.\n   Without obtaining an adequate license from the person(s) controlling\n\
    \   the copyright in such materials, this document may not be modified\n   outside\
    \ the IETF Standards Process, and derivative works of it may\n   not be created\
    \ outside the IETF Standards Process, except to format\n   it for publication\
    \ as an RFC or to translate it into languages other\n   than English.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1. Introduction ....................................................4\n\
    \      1.1. Specification of Requirements ..............................6\n  \
    \    1.2. Relationship with Other OAM Work ...........................6\n   2.\
    \ Terminology .....................................................7\n   3. L2VPN\
    \ Services and Networks .....................................7\n   4. L2VPN OAM\
    \ Framework .............................................8\n      4.1. OAM Layering\
    \ ...............................................8\n      4.2. OAM Domains ................................................9\n\
    \      4.3. MEPs and MIPs .............................................10\n  \
    \    4.4. MEP and MIP Identifiers ...................................11\n   5.\
    \ OAM Framework for VPLS .........................................11\n      5.1.\
    \ VPLS as Service/Network ...................................11\n           5.1.1.\
    \ VPLS as Bridged LAN Service ........................11\n           5.1.2. VPLS\
    \ as a Network ..................................12\n           5.1.3. VPLS as\
    \ (V)LAN Emulation ...........................12\n      5.2. VPLS OAM ..................................................13\n\
    \           5.2.1. VPLS OAM Layering ..................................13\n  \
    \         5.2.2. VPLS OAM Domains ...................................14\n    \
    \       5.2.3. VPLS MEPs and MIPs .................................15\n      \
    \     5.2.4. VPLS MEP and MIP Identifiers .......................16\n   6. OAM\
    \ Framework for VPWS .........................................17\n      6.1. VPWS\
    \ as Service ...........................................17\n      6.2. VPWS OAM\
    \ ..................................................18\n           6.2.1. VPWS\
    \ OAM Layering ..................................18\n           6.2.2. VPWS OAM\
    \ Domains ...................................19\n           6.2.3. VPWS MEPs and\
    \ MIPs .................................21\n           6.2.4. VPWS MEP and MIP\
    \ Identifiers .......................23\n   7. VPLS OAM Requirements ..........................................23\n\
    \      7.1. Discovery .................................................24\n  \
    \    7.2. Connectivity Fault Management .............................24\n    \
    \       7.2.1. Connectivity Fault Detection .......................24\n      \
    \     7.2.2. Connectivity Fault Verification ....................24\n        \
    \   7.2.3. Connectivity Fault Localization ....................24\n          \
    \ 7.2.4. Connectivity Fault Notification and Alarm\n                  Suppression\
    \ ........................................25\n      7.3. Frame Loss ................................................25\n\
    \      7.4. Frame Delay ...............................................25\n  \
    \    7.5. Frame Delay Variation .....................................26\n    \
    \  7.6. Availability ..............................................26\n      7.7.\
    \ Data Path Forwarding ......................................26\n      7.8. Scalability\
    \ ...............................................27\n      7.9. Extensibility\
    \ .............................................27\n      7.10. Security .................................................27\n\
    \      7.11. Transport Independence ...................................28\n  \
    \    7.12. Application Independence .................................28\n   8.\
    \ VPWS OAM Requirements ..........................................28\n      8.1.\
    \ Discovery .................................................29\n      8.2. Connectivity\
    \ Fault Management .............................29\n           8.2.1. Connectivity\
    \ Fault Detection .......................29\n           8.2.2. Connectivity Fault\
    \ Verification ....................29\n           8.2.3. Connectivity Fault Localization\
    \ ....................29\n           8.2.4. Connectivity Fault Notification and\
    \ Alarm\n                  Suppression ........................................30\n\
    \      8.3. Frame Loss ................................................30\n  \
    \    8.4. Frame Delay ...............................................30\n    \
    \  8.5. Frame Delay Variation .....................................31\n      8.6.\
    \ Availability ..............................................31\n      8.7. Data\
    \ Path Forwarding ......................................32\n      8.8. Scalability\
    \ ...............................................32\n      8.9. Extensibility\
    \ .............................................32\n      8.10. Security .................................................32\n\
    \      8.11. Transport Independence ...................................33\n  \
    \    8.12. Application Independence .................................33\n    \
    \  8.13. Prioritization ...........................................34\n   9. VPLS\
    \ (V)LAN Emulation OAM Requirements .........................34\n      9.1. Partial-Mesh\
    \ of PWs .......................................34\n      9.2. PW Fault Recovery\
    \ .........................................34\n      9.3. Connectivity Fault Notification\
    \ and Alarm Suppression .....35\n   10. OAM Operational Scenarios .....................................35\n\
    \      10.1. VPLS OAM Operational Scenarios ...........................36\n  \
    \ 11. Security Considerations .......................................37\n   12.\
    \ Contributors ..................................................38\n   13. Acknowledgements\
    \ ..............................................38\n   14. References ....................................................38\n\
    \      14.1. Normative References .....................................38\n  \
    \    14.2. Informative References ...................................39\n   Appendix\
    \ A. Alternate Management Models ...........................41\n   A.1. Alternate\
    \ Model 1 (Minimal OAM) ..............................41\n   A.2. Alternate Model\
    \ 2 (Segment OAM Interworking) .................41\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   This document provides framework and requirements for Layer\
    \ 2 Virtual\n   Private Network (L2VPN) Operation, Administration, and Maintenance\n\
    \   (OAM).\n   The scope of OAM for any service and/or transport/network\n   infrastructure\
    \ technologies can be very broad in nature.  OSI has\n   defined the following\
    \ five generic functional areas commonly\n   abbreviated as \"FCAPS\" [NM-Standards]:\
    \ a) Fault Management, b)\n   Configuration Management, c) Accounting Management,\
    \ d) Performance\n   Management, and e) Security Management.\n   This document\
    \ focuses on the Fault and Performance Management\n   aspects.  Other functional\
    \ aspects of FCAPS are for further study.\n   Fault Management can typically be\
    \ viewed in terms of the following\n   categories:\n      -  Fault Detection\n\
    \      -  Fault Verification\n      -  Fault Isolation\n      -  Fault Notification\
    \ and Alarm Suppression\n      -  Fault Recovery\n   Fault detection deals with\
    \ mechanism(s) that can detect both hard\n   failures, such as link and device\
    \ failures, and soft failures, such\n   as software failure, memory corruption,\
    \ misconfiguration, etc.\n   Typically, a lightweight protocol is desirable to\
    \ detect the fault\n   and thus it would be prudent to verify the fault via a\
    \ fault\n   verification mechanism before taking additional steps in isolating\n\
    \   the fault.  After verifying that a fault has occurred along the data\n   path,\
    \ it is important to be able to isolate the fault to the level of\n   a given\
    \ device or link.  Therefore, a fault isolation mechanism is\n   needed in Fault\
    \ Management.  A fault notification mechanism can be\n   used in conjunction with\
    \ a fault detection mechanism to notify the\n   devices upstream and downstream\
    \ to the fault detection point.  For\n   example, when there is a client/server\
    \ relationship between two\n   layered networks, fault detection at the server\
    \ layer may result in\n   the following fault notifications:\n      -  Sending\
    \ a forward fault notification from the server layer to\n         the client layer\
    \ network(s) using the fault notification format\n         appropriate to the\
    \ client layer\n      -  Sending a backward fault notification at the server layer,\
    \ if\n         applicable, in the reverse direction\n      -  Sending a backward\
    \ fault notification at the client layer, if\n         applicable, in the reverse\
    \ direction\n   Finally, fault recovery deals with recovering from the detected\n\
    \   failure by switching to an alternate available data path using\n   alternate\
    \ devices or links (e.g., device redundancy or link\n   redundancy).\n   Performance\
    \ Management deals with mechanism(s) that allow determining\n   and measuring\
    \ the performance of the network/services under\n   consideration.  Performance\
    \ Management can be used to verify the\n   compliance to both the service-level\
    \ and network-level metric\n   objectives/specifications.  Performance Management\
    \ typically consists\n   of measurement of performance metrics, e.g., Frame Loss,\
    \ Frame Delay,\n   Frame Delay Variation (aka Jitter), etc., across managed entities\n\
    \   when the managed entities are in available state.  Performance\n   Management\
    \ is suspended across unavailable managed entities.\n   [L2VPN-FRWK] specifies\
    \ three different types of Layer 2 VPN services:\n   Virtual Private LAN Service\
    \ (VPLS), (Virtual Private Wire Service\n   (VPWS), and IP-only LAN Service (IPLS).\n\
    \   This document provides a reference model for OAM as it relates to\n   L2VPN\
    \ services and their associated pseudowires (PWs) and Public\n   Switched Network\
    \ (PSN) tunnels.  OAM requirements for L2VPN services\n   (e.g., VPLS and VPWS)\
    \ are also identified.  Furthermore, if L2VPN\n   service OAM requirements impose\
    \ requirements for PW and/or PSN OAM,\n   those specific PW and/or PSN OAM requirements\
    \ are also identified.\n"
- title: 1.1.  Specification of Requirements
  contents:
  - "1.1.  Specification of Requirements\n   The key words \"MUST\", \"MUST NOT\"\
    , \"REQUIRED\", \"SHALL\", \"SHALL NOT\",\n   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\"\
    , \"MAY\", and \"OPTIONAL\" in this\n   document are to be interpreted as described\
    \ in [RFC2119].\n"
- title: 1.2.  Relationship with Other OAM Work
  contents:
  - "1.2.  Relationship with Other OAM Work\n   This document leverages protocols,\
    \ mechanisms, and concepts defined\n   as part of other OAM work, specifically\
    \ the following:\n      -  IEEE Std. 802.1ag-2007 [IEEE802.1ag] specifies the\
    \ Ethernet\n         Connectivity Fault Management protocol, which defines the\n\
    \         concepts of Maintenance Domains, Maintenance End Points, and\n     \
    \    Maintenance Intermediate Points.  This standard also defines\n         mechanisms\
    \ and procedures for proactive fault detection\n         (Continuity Check), fault\
    \ notification (Remote Defect\n         Indication (RDI)), fault verification\
    \ (Loopback), and fault\n         isolation (LinkTrace) in Ethernet networks.\n\
    \      -  ITU-T Std. Y.1731 [Y.1731] builds upon and extends IEEE 802.1ag\n  \
    \       in the following areas: it defines fault notification and alarm\n    \
    \     suppression functions for Ethernet (via Alarm Indication Signal\n      \
    \   (AIS)).  It also specifies messages and procedures for Ethernet\n        \
    \ performance management, including loss, delay, jitter, and\n         throughput\
    \ measurement.\n"
- title: 2.  Terminology
  contents:
  - "2.  Terminology\n   This document introduces and uses the following terms.  This\
    \ document\n   also uses the terms defined in [L2VPN-FRWK] and [L2VPN-TERM].\n\
    \   AIS         Alarm Indication Signal\n   IPLS        IP-only LAN Service\n\
    \   ME          Maintenance Entity, which is defined in a given OAM\n        \
    \       domain and represents an entity requiring management\n   MEG         Maintenance\
    \ Entity Group, which represents MEs belonging\n               to the same service\
    \ instance and is also called\n               Maintenance Association (MA)\n \
    \  MEP         Maintenance End Point is responsible for origination and\n    \
    \           termination of OAM frames for a given MEG.\n   MIP         Maintenance\
    \ Intermediate Point is located between peer\n               MEPs and can process\
    \ and respond to certain OAM frames\n               but does not initiate or terminate\
    \ them.\n   OAM Domain  OAM Domain represents a region over which OAM frames can\n\
    \               operate unobstructed.\n   QinQ        802.1Q tag inside another\
    \ 802.1Q tag\n   RDI         Remote Defect Indication\n   VPLS        Virtual\
    \ Private LAN Service\n   VPWS        Virtual Private Wire Service\n"
- title: 3.  L2VPN Services and Networks
  contents:
  - "3.  L2VPN Services and Networks\n   Figure 1 shows an L2VPN reference model as\
    \ described in [L2VPN-REQ].\n   L2VPN A represents a point-to-point service while\
    \ L2VPN B represents\n   a bridged service.\n       +-----+                  \
    \                 +-----+\n       + CE1 +--+                             +--|\
    \ CE2 |\n       +-----+  |    .....................    |  +-----+\n       L2VPN\
    \ A  |  +----+             +----+  |  L2VPN A\n                +--| PE |-- Service\
    \ --| PE |--+\n                   +----+   Provider  +----+\n                \
    \  /  .      Backbone     .  \\    --------_\n       +-----+   /   .         |\
    \         .   \\  /        \\   +-----+\n       + CE4 +--+    .         |    \
    \     .    +-\\ Access  \\--| CE5 |\n       +-----+       .       +----+     \
    \ .      | Network |  +-----+\n       L2VPN B       ........| PE |.......    \
    \   \\       /   L2VPN B\n                             +----+   ^           -------\n\
    \                               |      | logical\n                           \
    \    |      | switching\n                            +-----+   | instance\n  \
    \                          | CE3 |\n                            +-----+\n    \
    \                        L2VPN B\n                  Figure 1: L2VPN Reference\
    \ Model\n   [L2VPN-FRWK] specifies VPWS, VPLS, and IPLS.  VPWS is a point-to-\n\
    \   point service where Customer Edges (CEs) are presented with point-to-\n  \
    \ point virtual circuits.  VPLS is a bridged LAN service provided to a\n   set\
    \ of CEs that are members of a VPN.  CEs that are members of the\n   same service\
    \ instance communicate with each other as if they were\n   connected via a bridged\
    \ LAN.  IPLS is a special VPLS that is used to\n   carry only IP service packets.\n\
    \   [L2VPN-REQ] assumes the availability of runtime monitoring protocols\n   while\
    \ defining requirements for management interfaces.  This document\n   specifies\
    \ the requirements and framework for operations,\n   administration, and maintenance\
    \ (OAM) protocols between network\n   devices.\n"
- title: 4.  L2VPN OAM Framework
  contents:
  - '4.  L2VPN OAM Framework

    '
- title: 4.1.  OAM Layering
  contents:
  - "4.1.  OAM Layering\n   The point-to-point or bridged LAN functionality is emulated\
    \ by a\n   network of Provider Edges (PEs) to which the CEs are connected.  This\n\
    \   network of PEs can belong to a single network operator or can span\n   across\
    \ multiple network operators.  Furthermore, it can belong to a\n   single service\
    \ provider or can span across multiple service\n   providers.  A service provider\
    \ is responsible for providing L2VPN\n   services to its customers, whereas a\
    \ network operator (aka facility\n   provider) provides the necessary facilities\
    \ to the service\n   provider(s) in support of their services.  A network operator\
    \ and a\n   service provider can be part of the same administrative organization,\n\
    \   or they can belong to different administrative organizations.\n   The different\
    \ layers involved in realizing L2VPNs include service\n   layers and network layers.\
    \  Network layers can be iterative.  In the\n   context of L2VPNs, the service\
    \ layer consists of VPLS, VPWS (e.g.,\n   Ethernet, ATM, FR, HDLC, SONET, point-to-point\
    \ emulation, etc.), and\n   IPLS.  Similarly, in the context of L2VPNs, network\
    \ layers consist of\n   MPLS/IP networks.  The MPLS/IP networks can consist of\
    \ networks links\n   realized by different technologies, e.g., SONET, Ethernet,\
    \ ATM, etc.\n   Each layer is responsible for its own OAM.  This document provides\n\
    \   the OAM framework and requirements for L2VPN services and networks.\n"
- title: 4.2.  OAM Domains
  contents:
  - "4.2.  OAM Domains\n   When discussing OAM tools for L2VPNs, it is important to\
    \ provide OAM\n   capabilities and functionality over each domain for which a\
    \ service\n   provider or a network operator is responsible.  It is also important\n\
    \   that OAM frames not be allowed to enter/exit other domains.  We\n   define\
    \ an OAM domain as a network region over which OAM frames\n   operate unobstructed,\
    \ as explained below.\n   At the edge of an OAM domain, filtering constructs should\
    \ prevent OAM\n   frames from exiting and entering that domain.  OAM domains can\
    \ be\n   nested but not overlapped.  In other words, if there is a hierarchy\n\
    \   of the OAM domains, the OAM frames of a higher-level domain pass\n   transparently\
    \ through the lower-level domains, but the OAM frames of\n   a lower-level domain\
    \ get blocked/filtered at the edge of that domain.\n   In order to facilitate\
    \ the processing of OAM frames, each OAM domain\n   can be associated with the\
    \ level at which it operates.  Higher-level\n   OAM domains can contain lower-level\
    \ OAM domains, but the converse is\n   not true.  It may be noted that the higher-level\
    \ domain does not\n   necessarily mean a higher numerical value of the level encoding\
    \ in\n   the OAM frame.\n   A PE can be part of several OAM domains, with each\
    \ interface\n   belonging to the same or a different OAM domain.  A PE, with an\n\
    \   interface at the boundary of an OAM domain, shall block outgoing OAM\n   frames,\
    \ filter out incoming OAM frames whose domain level is lower or\n   the same as\
    \ the one configured on that interface, and pass through\n   the OAM frames whose\
    \ domain level is higher than the one configured\n   on that interface.\n   Generically,\
    \ L2VPNs can be viewed as consisting of a customer OAM\n   domain, a service provider\
    \ OAM domain, and network operator OAM\n   domains as depicted in Figure 2.\n\
    \        ---                                                  ---\n       /  \
    \ \\         ------     -------     -----           /   \\\n       |   CE--  \
    \   /      \\   /       \\   /     \\      --CE    |\n       \\   /   \\   / \
    \       \\ /         \\ /       \\    /    \\   /\n        ---     --PE      \
    \   P           P         PE--      ---\n                   \\        / \\   \
    \      / \\       /\n                    \\      /   \\       /   \\     /\n \
    \                    ------     -------     -----\n                        Customer\
    \ OAM Domain\n           |<-------------------------------------------->|\n  \
    \                   Service Provider OAM Domain\n                  |<------------------------------>|\n\
    \                    Operator   Operator   Operator\n                  |<-------->|<--------->|<------->|\n\
    \                    OAM Domain OAM Domain OAM Domain\n                      \
    \  Figure 2: OAM Domains\n   The OAM Domains can be categorized as follows:\n\
    \      -  Hierarchical OAM Domains: Hierarchical OAM Domains result from\n   \
    \      OAM Layering and imply a contractual agreement among the OAM\n        \
    \ Domain owning entities.  In Figure 2, the customer OAM domain,\n         the\
    \ service provider OAM domain, and the operator OAM domains\n         are hierarchical.\n\
    \      -  Adjacent OAM Domains: Adjacent OAM Domains are typically\n         independent\
    \ of each other and do not have any relationship\n         among them.  In Figure\
    \ 2, the different operator OAM domains\n         are independent of each other.\n"
- title: 4.3.  MEPs and MIPs
  contents:
  - "4.3.  MEPs and MIPs\n   Maintenance End Points (MEPs) are responsible for origination\
    \ and\n   termination of OAM frames.  MEPs are located at the edge of their\n\
    \   corresponding OAM domains.  Maintenance Intermediate Points (MIPs)\n   are\
    \ located within their corresponding OAM domains, and they normally\n   pass OAM\
    \ frames but never initiate them.  Since MEPs are located at\n   the edge of their\
    \ OAM domains, they are responsible for filtering\n   outbound OAM frames from\
    \ leaving the OAM domain or inbound OAM frames\n   from entering the OAM domain.\n\
    \   An OAM frame is generally associated with a Maintenance Entity Group\n   (MEG),\
    \ where a MEG consists of a set of Maintenance Entities (MEs)\n   associated with\
    \ the same service instance.  An ME is a point-to-point\n   association between\
    \ a pair of MEPs and represents a monitored entity.\n   For example, in a VPLS\
    \ that involves n CEs, all the MEs associated\n   with the VPLS in the customer\
    \ OAM domain (i.e., from CE to CE) can be\n   considered to be part of a VPLS\
    \ MEG, where the n-point MEG consists\n   of a maximum of n(n-1)/2 MEs.  MEPs\
    \ and MIPs correspond to a PE, or,\n   more specifically, to an interface of a\
    \ PE.  For example, an OAM\n   frame can be said to originate from an ingress\
    \ PE or more\n   specifically an ingress interface of that PE.  A MEP on a PE\
    \ receives\n   messages from n-1 other MEPs (some of them may reside on the same\
    \ PE)\n   for a given MEG.\n   In Hierarchical OAM Domains, a MEP of lower-level\
    \ OAM domain can\n   correspond to a MIP or a MEP of a higher-level OAM domain.\n\
    \   Furthermore, the MIPs of a lower-level OAM domain are always\n   transparent\
    \ to the higher-level OAM domain (e.g., OAM frames of a\n   higher-level OAM domain\
    \ are not seen by MIPs of a lower-level OAM\n   domain and get passed through\
    \ them transparently).  Further, the MEs\n   (or MEGs) are hierarchically organized\
    \ in hierarchical OAM domains.\n   For example, in a VPWS, the VPWS ME in the\
    \ customer OAM domain can\n   overlap with the Attachment Circuit (AC) ME, PW\
    \ ME, and another AC ME\n   in service provider OAM domain.  Similarly, the PW\
    \ ME can overlap\n   with different ME in operator OAM domains.\n"
- title: 4.4.  MEP and MIP Identifiers
  contents:
  - "4.4.  MEP and MIP Identifiers\n   As mentioned previously, OAM at each layer\
    \ should be independent of\n   other layers, e.g., a service layer OAM should\
    \ be independent of an\n   underlying transport layer.  MEPs and MIPs at each\
    \ layer should be\n   identified with layer-specific identifiers.\n"
- title: 5.  OAM Framework for VPLS
  contents:
  - "5.  OAM Framework for VPLS\n   Virtual Private LAN Service (VPLS) is used in\
    \ different contexts,\n   such as the following:  a) as a bridged LAN service\
    \ over networks,\n   some of which are MPLS/IP, b) as an MPLS/IP network supporting\
    \ these\n   bridged LAN services, and c) as (V)LAN emulation.\n"
- title: 5.1.  VPLS as Service/Network
  contents:
  - '5.1.  VPLS as Service/Network

    '
- title: 5.1.1.  VPLS as Bridged LAN Service
  contents:
  - "5.1.1.  VPLS as Bridged LAN Service\n   The most common definition for VPLS is\
    \ for bridged LAN service over\n   an MPLS/IP network.  The service coverage is\
    \ considered end-to-end\n   from UNI to UNI (or AC to AC) among the CE devices,\
    \ and it provides a\n   virtual LAN service to the attached CEs belonging to that\
    \ service\n   instance.  The reason it is called bridged LAN service is because\
    \ the\n   VPLS-capable PE providing this end-to-end virtual LAN service is\n \
    \  performing bridging functions (either full or a subset) as described\n   in\
    \ [L2VPN-FRWK].  This VPLS definition, as specified in [L2VPN-REQ],\n   includes\
    \ both bridge module and LAN emulation module (as specified in\n   [L2VPN-FRWK]).\n\
    \   Throughout this document, whenever the term \"VPLS\" is used by itself,\n\
    \   it refers to the service as opposed to network or LAN emulation.\n   A VPLS\
    \ instance is also analogous to a VLAN provided by IEEE 802.1Q\n   networks since\
    \ each VLAN provides a Virtual LAN service to its Media\n   Access Control (MAC)\
    \ users.  Therefore, when a part of the service\n   provider network is Ethernet\
    \ based (such as H-VPLS with QinQ access\n   network), there is a one-to-one correspondence\
    \ between a VPLS\n   instance and its corresponding provider VLAN in the service\
    \ provider\n   Ethernet network.  To check the end-to-end service integrity, the\
    \ OAM\n   mechanism needs to cover the end-to-end VPLS as defined in\n   [L2VPN-REQ],\
    \ which is from AC to AC, including bridge module, VPLS\n   forwarder, and the\
    \ associated PWs for this service.  This document\n   specifies the framework\
    \ and requirements for such OAM mechanisms.\n"
- title: 5.1.2.  VPLS as a Network
  contents:
  - "5.1.2.  VPLS as a Network\n   Sometimes VPLS is also used to refer to the underlying\
    \ network that\n   supports bridged LAN services.  This network can be an end-to-end\n\
    \   MPLS/IP network, as in H-VPLS with MPLS/IP access, or it can be a\n   hybrid\
    \ network consisting of MPLS/IP core and Ethernet access\n   network, as in H-VPLS\
    \ with QinQ access.  In either case, the network\n   consists of a set of VPLS-capable\
    \ PE devices capable of performing\n   bridging functions (either full or a subset).\
    \  These VPLS-capable PE\n   devices can be arranged in a certain topology, such\
    \ as hierarchical\n   topology, distributed topology, or some other topologies\
    \ such as\n   multi-tier or star topologies.  To check the network integrity\n\
    \   regardless of the network topology, network-level OAM mechanisms\n   (such\
    \ as OAM for MPLS/IP networks) are needed.  The discussion of\n   network-level\
    \ OAM is outside of the scope of this document.\n"
- title: 5.1.3.  VPLS as (V)LAN Emulation
  contents:
  - "5.1.3.  VPLS as (V)LAN Emulation\n   Sometimes VPLS also refers to (V)LAN emulation.\
    \  In this context,\n   VPLS only refers to the full mesh of PWs with split horizon\
    \ that\n   emulates a LAN segment over a MPLS/IP network for a given service\n\
    \   instance and its associated VPLS forwarder.  Since the emulated LAN\n   segment\
    \ is presented as a Virtual LAN (VLAN) to the bridge module of\n   a VPLS-capable\
    \ PE, the emulated segment is also referred to as an\n   emulated VLAN.  The OAM\
    \ mechanisms in this context refer primarily to\n   integrity check of VPLS forwarders\
    \ and their associated full mesh of\n   PWs and the ability to detect and notify\
    \ a partial mesh failure.\n   This document also covers the OAM framework and\
    \ requirements for such\n   OAM mechanisms.\n"
- title: 5.2.  VPLS OAM
  contents:
  - "5.2.  VPLS OAM\n   When discussing the OAM mechanisms for VPLS, it is important\
    \ to\n   consider that the end-to-end service can span across different types\n\
    \   of L2VPN networks.  For example, the access network on one side can\n   be\
    \ a bridged network, e.g., [IEEE802.1ad], as described in Section 11\n   of [VPLS-LDP].\
    \  The access network can also be a [IEEE802.1ah]-based\n   bridged network. \
    \ The access network on the other side can be MPLS-\n   based, as described in\
    \ Section 10 of [VPLS-LDP], and the core network\n   connecting them can be IP,\
    \ MPLS, ATM, or SONET.  Similarly, the VPLS\n   instance can span across [VPLS-BGP]\
    \ and distributed VPLS as described\n   in [L2VPN-SIG].\n   Therefore, it is important\
    \ that the OAM mechanisms can be applied to\n   all these network types.  Each\
    \ such network may be associated with a\n   separate administrative domain, and\
    \ multiple such networks may be\n   associated with a single administrative domain.\
    \  It is important to\n   ensure that the OAM mechanisms are independent of the\
    \ underlying\n   transport mechanisms and solely rely on VPLS, i.e., the transparency\n\
    \   of OAM mechanisms must be ensured over underlying transport\n   technologies\
    \ such as MPLS, IP, etc.\n   This proposal is aligned with the discussions in\
    \ other standard\n   bodies and groups such as ITU-T Q.5/13, IEEE 802.1, and Metro\n\
    \   Ethernet Forum (MEF), which address Ethernet network and service OAM.\n"
- title: 5.2.1.  VPLS OAM Layering
  contents:
  - "5.2.1.  VPLS OAM Layering\n   Figure 3 shows an example of a VPLS (with two CEs\
    \ belonging to\n   customer A) across a service provider network marked by UPE\
    \ and NPE\n   devices.  More CE devices belonging to the same customer A can be\n\
    \   connected across different customer sites.  The service provider\n   network\
    \ is segmented into a core network and two types of access\n   networks.  In Figure\
    \ 3, (A) shows the bridged access network\n   represented by its bridge components\
    \ marked B and the MPLS access and\n   core network represented by MPLS components\
    \ marked P.  In Figure 3,\n   (B) shows the service/network view at the Ethernet\
    \ MAC layer marked\n   by E.\n          ---                                  \
    \                 ---\n         /   \\         ------      -------      ---- \
    \          /   \\\n         | A CE--     /      \\    /       \\    /    \\  \
    \     --CE A |\n         \\   /   \\   /        \\  /         \\  /      \\  \
    \   /   \\   /\n          ---     --UPE       NPE          NPE        UPE--  \
    \   ---\n                     \\        /  \\         /  \\      /\n         \
    \             \\      /    \\       /    \\    /\n                       ------\
    \      -------      ----\n      (A)    CE----UPE--B--B--NPE---P--P---NPE---P----UPE----CE\n\
    \      (B)    E------E---E--E---E------------E----------E-----E\n            \
    \    Figure 3: VPLS-Specific Device View\n   As shown in (B) of Figure 3, only\
    \ the devices with Ethernet\n   functionality are visible to OAM mechanisms operating\
    \ at the Ethernet\n   MAC layer, and the P devices are invisible.  Therefore,\
    \ the OAM along\n   the path of P devices (e.g., between two PEs) is covered by\
    \ the\n   transport layer, and it is outside the scope of this document.\n   However,\
    \ VPLSs may impose some specific requirements on PSN OAM.\n   This document aims\
    \ to identify such requirements.\n"
- title: 5.2.2.  VPLS OAM Domains
  contents:
  - "5.2.2.  VPLS OAM Domains\n   As described in the previous section, a VPLS for\
    \ a given customer can\n   span across one or more service providers and network\
    \ operators.\n   Figure 4 depicts three OAM domains: (A) customer domain, which\
    \ is\n   among the CEs of a given customer, (B) service provider domain, which\n\
    \   is among the edge PEs of the given service provider, and (C) network\n   operator\
    \ domain, which is among the PEs of a given operator.\n         ---          \
    \                                         ---\n        /   \\         ------ \
    \     -------      ----           /   \\\n        |   CE--     /      \\    /\
    \       \\    /    \\       --CE   |\n        \\   /   \\   /        \\  /   \
    \      \\  /      \\     /   \\   /\n         ---     --UPE       NPE        \
    \  NPE        UPE--     ---\n                    \\        /  \\         /  \\\
    \      /\n                     \\      /    \\       /    \\    /\n          \
    \            ------      -------      ----\n                           Customer\
    \ OAM Domain\n    (A)     |<----------------------------------------------->|\n\
    \                           Provider OAM Domain\n    (B)            |<---------------------------------->|\n\
    \                     Operator     Operator     Operator\n    (C)            |<--------->|<---------->|<-------->|\n\
    \                     OAM Domain  OAM Domain   OAM Domain\n                  \
    \      Figure 4: VPLS OAM Domains\n"
- title: 5.2.3.  VPLS MEPs and MIPs
  contents:
  - "5.2.3.  VPLS MEPs and MIPs\n   As shown in Figure 5, (C) represents those MEPs\
    \ and MIPs that are\n   visible within the customer domain.  The MIPs associated\
    \ with (C) are\n   expected to be implemented in the bridge module/VPLS forwarder\
    \ of a\n   PE device, as per [L2VPN-FRWK].  (D) represents the MEPs and MIPs\n\
    \   visible within the service provider domain.  These MEPs and MIPs are\n   expected\
    \ to be implemented in the bridge module/VPLS forwarder of a\n   PE device, as\
    \ per [L2VPN-FRWK].  (E) represents the MEPs and MIPs\n   visible within each\
    \ operator domain, where MIPs only exist in an\n   Ethernet access network (i.e.,\
    \ an MPLS access network does not have\n   MIPs at the operator level).  Further,\
    \ (F) represents the MEPs and\n   MIPs corresponding to the MPLS layer and may\
    \ apply MPLS-based\n   mechanisms.  The MPLS layer shown in Figure 5 is just an\
    \ example;\n   specific OAM mechanisms are outside the scope of this document.\n\
    \           ---                                                   ---\n      \
    \    /   \\         ------      -------      ----           /   \\\n         \
    \ | A CE--     /      \\    /       \\    /    \\       --CE A |\n          \\\
    \   /   \\   /        \\  /         \\  /      \\     /   \\   /\n           ---\
    \     --UPE       NPE          NPE        UPE--     ---\n                    \
    \  \\        /  \\         /  \\      /\n                       \\      /    \\\
    \       /    \\    /\n                        ------      -------      ----\n\
    \       (A)    CE----UPE--B-----NPE---P------NPE---P----UPE----CE\n       (B)\
    \    E------E---E------E------------E----------E-----E\n                     \
    \          Customer OAM Domain\n       (C)    MEP---MIP--------------------------------MIP---MEP\n\
    \                               Provider OAM Domain\n       (D)          MEP--------MIP-----------MIP-------MEP\n\
    \                       Operator    Operator     Operator\n       (E)        \
    \  MEP-MIP--MEP|MEP-------MEP|MEP-----MEP\n                      OAM domain  \
    \ OAM domain   OAM domain\n                                    MPLS OAM   MPLS\
    \ OAM\n       (F)                       MEP--MIP--MEP|MEP-MIP-MEP\n          \
    \                           domain     domain\n                 Figure 5: VPLS\
    \ OAM Domains, MEPs, and MIPs\n"
- title: 5.2.4.  VPLS MEP and MIP Identifiers
  contents:
  - "5.2.4.  VPLS MEP and MIP Identifiers\n   In VPLS, for the Ethernet MAC layer,\
    \ the MEPs and MIPs should be\n   identified with their Ethernet MAC addresses\
    \ and Maintenance Entity\n   Group Identifier (MEG ID).  As described in [VPLS-LDP],\
    \ a VPLS\n   instance can be identified in an Ethernet domain (e.g., 802.1ad\n\
    \   domain) using a VLAN tag (service tag) while in an MPLS/IP network,\n   PW-ids\
    \ are used.  Both PW-ids and VLAN tags for a given VPLS instance\n   are associated\
    \ with a Service Identifier (e.g., VPN identifier).\n   MEPs and MIPs Identifiers,\
    \ i.e., MEP Ids and MIP Ids, must be unique\n   within their corresponding Service\
    \ Identifiers within the OAM\n   domains.\n   For Ethernet services, e.g., VPLS,\
    \ Ethernet frames are used for OAM\n   frames, and the source MAC address of the\
    \ OAM frames represent the\n   source MEP in that domain for a specific MEG. \
    \ For unicast Ethernet\n   OAM frames, the destination MAC address represents\
    \ the destination\n   MEP in that domain for a specific MEG.  For multicast Ethernet\
    \ OAM\n   frames, the destination MAC addresses correspond to all MEPs in that\n\
    \   domain for a specific MEG.\n"
- title: 6.  OAM Framework for VPWS
  contents:
  - "6.  OAM Framework for VPWS\n   Figure 6 shows the VPWS reference model.  VPWS\
    \ is a point-to-point\n   service where CEs are presented with point-to-point\
    \ virtual circuits.\n   VPWS is realized by combining a pair of Attachment Circuits\
    \ (ACs) and\n   a single PW between two PEs.\n           |<------------- VPWS1\
    \ <AC11,PW1,AC12> ------------>|\n           |                               \
    \                   |\n           |          +----+                  +----+  \
    \        |\n      +----+          |    |==================|    |          +----+\n\
    \      |    |---AC11---|    |.......PW1........|    |--AC12----|    |\n      |\
    \ CE1|          |PE1 |                  | PE2|          |CE2 |\n      |    |---AC21---|\
    \    |.......PW2........|    |--AC22----|    |\n      +----+          |    |==================|\
    \    |          +----+\n           |          +----+     PSN Tunnel   +----+ \
    \         |\n           |                                                  |\n\
    \           |<------------- VPWS2 <AC21,PW2,AC22> ------------>|\n           \
    \        Figure 6: VPWS Reference Model\n"
- title: 6.1.  VPWS as Service
  contents:
  - "6.1.  VPWS as Service\n   VPWS can be categorized as follows:\n      -  VPWS\
    \ with homogeneous ACs (where both ACs are same type)\n      -  VPWS with heterogeneous\
    \ ACs (where the ACs are of different\n         Layer-2 encapsulation)\n   Further,\
    \ the VPWS can itself be classified as follows:\n      -  Homogeneous VPWS (when\
    \ two ACs and PW are of the same type)\n      -  Heterogeneous VPWS (when at least\
    \ one AC or PW is a different\n         type than the others)\n   Based on the\
    \ above classifications, the heterogeneous VPWS may have\n   either homogeneous\
    \ or heterogeneous ACs.  On the other hand,\n   homogeneous VPWS can have only\
    \ homogeneous ACs.\n   Throughout this document, whenever the term \"VPWS\" is\
    \ used by itself,\n   it refers to the service.\n"
- title: 6.2.  VPWS OAM
  contents:
  - "6.2.  VPWS OAM\n   When discussing the OAM mechanisms for VPWS, it is important\
    \ to\n   consider that the end-to-end service can span across different types\n\
    \   of networks.  As an example, the access network between the CE and PE\n  \
    \ on one side can be an Ethernet-bridged network, an ATM network, etc.\n   In\
    \ common scenarios, it could simply be a point-to-point interface\n   such as\
    \ Ethernet Physical Layer (PHY).  The core network connecting\n   PEs can be IP,\
    \ MPLS, etc.\n   Therefore, it is important that the OAM mechanisms can be applied\
    \ to\n   different network types, some of which are mentioned above.  Each\n \
    \  such network may be associated with a separate administrative domain,\n   and\
    \ multiple such networks may be associated with a single\n   administrative domain.\n"
- title: 6.2.1.  VPWS OAM Layering
  contents:
  - "6.2.1.  VPWS OAM Layering\n   Figure 7 shows an example of a VPWS (with two CE\
    \ devices belonging to\n   customer A) across a service provider network marked\
    \ by PE devices.\n   The service provider network can be considered to be segmented\
    \ into a\n   core network and two types of access networks.\n   In the most general\
    \ case, a PE can be client service aware when it\n   processes client service\
    \ PDUs and is responsible for encapsulating\n   and de-encapsulating client service\
    \ PDUs onto PWs and ACs.  This is\n   particularly relevant for homogeneous VPWS.\
    \  The service-specific\n   device view for such a deployment is highlighted by\
    \ (A) in Figure 7,\n   for these are the devices that are expected to be involved\
    \ in end-to-\n   end VPWS OAM.\n   In other instances, a PE can be client service\
    \ unaware when it does\n   not process native service PDUs but instead encapsulates\
    \ access\n   technology PDUs over PWs.  This may be relevant for VPWS with\n \
    \  heterogeneous ACs, such as Ethernet VPWS, which is offered across an\n   ATM\
    \ AC, ATM PW, and Ethernet AC.  In this case, the PE that is\n   attached to ATM\
    \ AC and ATM PW may be transparent to the client\n   Ethernet service PDUs.  On\
    \ the other hand, the PE that is attached to\n   ATM PW and Ethernet AC is expected\
    \ to be client Ethernet service\n   aware.  The service-specific device view for\
    \ such a deployment is\n   highlighted by (B) in Figure 7, for these are the devices\
    \ that are\n   expected to be involved in end-to-end VPWS OAM, where PE1 is expected\n\
    \   to be client service unaware.\n           |<--------------- VPWS <AC1,PW,AC2>\
    \ -------------->|\n           |                                             \
    \     |\n           |          +----+                  +----+          |\n   \
    \   +----+          |    |==================|    |          +----+\n      |  \
    \  |---AC1----|............PW..............|--AC2-----|    |\n      | CE1|   \
    \       |PE1 |                  | PE2|          |CE2 |\n      +----+         \
    \ |    |==================|    |          +----+\n                      +----+\
    \     PSN Tunnel   +----+\n              access             core             \
    \    access\n           |<---------->|<---------------------->|<------------>|\n\
    \       (A) CE----------PE-----------------------PE-------------CE\n       (B)\
    \ CE-----------------------------------PE-------------CE\n                   Figure\
    \ 7: VPWS-Specific Device View\n"
- title: 6.2.2.  VPWS OAM Domains
  contents:
  - "6.2.2.  VPWS OAM Domains\n   As described in the previous section, a VPWS for\
    \ a given customer can\n   span across one or more network operators.\n   Figures\
    \ 8a and 8b depict three OAM domains: (A) customer domain,\n   which is among\
    \ the CEs of a given customer, (B) service provider\n   domain, which depends\
    \ on the management model, and (C) network\n   operator domain, which is among\
    \ the PEs of a given operator and could\n   also be present in the access network\
    \ if the ACs are provided by a\n   different network operator.  The core network\
    \ operator may be\n   responsible for managing the PSN Tunnel in these examples.\n\
    \   For the first management model, shown in Figure 8a, the CEs are\n   expected\
    \ to be managed by the customer, and the customer is\n   responsible for running\
    \ end-to-end service OAM if needed.  The\n   service provider is responsible for\
    \ monitoring the PW ME, and the\n   monitoring of the AC is the shared responsibility\
    \ of the customer and\n   the service provider.  In most simple cases, when the\
    \ AC is realized\n   across a physical interface that connects the CE to PE, the\n\
    \   monitoring requirements across the AC ME are minimal.\n         |<---------------\
    \ VPWS <AC1,PW,AC2> -------------->|\n         |                             \
    \                     |\n         |          +----+                  +----+  \
    \        |\n    +----+          |    |==================|    |          +----+\n\
    \    |    |---AC1----|............PW..............|--AC2-----|    |\n    | CE1|\
    \          |PE1 |                  | PE2|          |CE2 |\n    +----+        \
    \  |    |==================|    |          +----+\n                    +----+\
    \     PSN Tunnel   +----+\n                         Customer OAM Domain\n    \
    \ (A) |<------------------------------------------------->|\n                \
    \     Service Provider OAM Domain\n     (B)            |<--------------------------->|\n\
    \                         Operator OAM Domain\n     (C)                 |<---------------->|\n\
    \             Figure 8a: VPWS OAM Domains - Management Model 1\n   Figure 8b highlights\
    \ another management model, where the CEs are\n   managed by the service provider\
    \ and where CEs and PEs are connected\n   via an access network.  The access network\
    \ between the CEs and PEs\n   may or may not be provided by a distinct network\
    \ operator.  In this\n   model, the VPWS ME spans between the CEs in the service\
    \ provider OAM\n   domain, as shown by (B) in Figure 8b.  The service provider\
    \ OAM\n   domain may additionally monitor the AC MEs and PW MEs individually,\n\
    \   as shown by (C) in Figure 8b.  The network operators may be\n   responsible\
    \ for managing the access service MEs (e.g., access\n   tunnels) and core PSN\
    \ Tunnel MEs, as shown by (D) in Figure 8b.  The\n   distinction between (C) and\
    \ (D) in Figure 8b is that in (C), MEs have\n   MEPs at CEs and at PEs and have\
    \ no MIPs.  While in (D), MEs have MEPs\n   at CEs and at PEs; furthermore, MIPs\
    \ may be present in between the\n   MEPs, thereby providing visibility of the\
    \ network to the operator.\n         |<--------------- VPWS <AC1,PW,AC2> -------------->|\n\
    \         |                                                  |\n         |   \
    \       +----+                  +----+          |\n    +----+          |    |==================|\
    \    |          +----+\n    |    |---AC1----|............PW..............|--AC2-----|\
    \    |\n    | CE1|          |PE1 |                  | PE2|          |CE2 |\n \
    \   +----+          |    |==================|    |          +----+\n         \
    \           +----+     PSN Tunnel   +----+\n                         Customer\
    \ OAM Domain\n    (A) |<-------------------------------------------------->|\n\
    \                    Service Provider (SP) OAM Domain\n    (B)  |<------------------------------------------------>|\n\
    \            SP OAM             SP OAM             SP OAM\n    (C)  |<--------->|<----------------------->|<---------->|\n\
    \            Domain              Domain             Domain\n           Operator\
    \            Operator          Operator\n    (D)  |<--------->|<----------------------->|<---------->|\n\
    \          OAM Domain          OAM Domain         OAM Domain\n             Figure\
    \ 8b: VPWS OAM Domains - Management Model 2\n   Note: It may be noted that unlike\
    \ VPLS OAM Domain in Figure 4, where\n   multiple operator domains may occur between\
    \ the User-facing PE (U-PE)\n   devices, VPWS OAM domain in Figures 8a and 8b\
    \ highlights a single\n   operator domain between PE devices.  This is since,\
    \ unlike the\n   distributed VPLS PE case (D-VPLS), where VPLS-aware U-PEs and\n\
    \   Network-facing PEs (N-PEs) may be used to realize a distributed PE,\n   the\
    \ VPWS has no such distributed PE model.  If the PSN involves\n   multiple operator\
    \ domains, resulting in a Multi-segment PW\n   [MS-PW-Arch], VPWS OAM Domains\
    \ remain unchanged since switched PEs\n   are typically not aware of native service.\n"
- title: 6.2.3.  VPWS MEPs and MIPs
  contents:
  - "6.2.3.  VPWS MEPs and MIPs\n   The location of MEPs and MIPs can be based upon\
    \ the management model\n   used in the VPWS scenarios.  The interest remains in\
    \ being able to\n   monitor end-to-end service and also support segment monitoring\
    \ in the\n   network to allow isolation of faults to specific areas within the\n\
    \   network.\n   The end-to-end service monitoring is provided by an end-to-end\
    \ ME,\n   and additional segment OAM monitoring is provided by segment MEs, all\n\
    \   in the service provider OAM domain.  The end-to-end MEs and segment\n   MEs\
    \ are hierarchically organized as mentioned in Section 4.2 for\n   hierarchical\
    \ OAM domains.  This is shown in (B) and (C) in Figure 8b.\n   The CE interfaces\
    \ support MEPs at the end-to-end service provider OAM\n   level for VPWS as an\
    \ end-to-end service as shown in (B1) and (B2) in\n   Figure 9.  In addition,\
    \ PE interfaces may support MIPs at the end-to-\n   end service provider OAM level\
    \ when PEs are client service aware, as\n   shown in (B2) in Figure 9.  As an\
    \ example, if one considers an end-\n   to-end Ethernet line service offered using\
    \ ATM transport (ATM over\n   MPLS PW), then the PEs are considered to be Ethernet\
    \ service unaware\n   and therefore cannot support any Ethernet MIPs.  (B1) in\
    \ Figure 9\n   represents this particular situation.  Of course, another view\
    \ of the\n   end-to-end service can be ATM, in which case PE1 and PE2 can be\n\
    \   considered to be service aware and therefore support ATM MIPs.  (B2)\n   in\
    \ Figure 9 represents this particular situation.\n   In addition, CEs and PE interfaces\
    \ support MEPs at a segment (lower\n   level) service provider OAM level for AC\
    \ and PW MEs, and no MIPs are\n   involved at this segment service provider OAM\
    \ level, as shown in (C)\n   in Figure 9.  Operators may also run segment OAM\
    \ by having MEPs at\n   network operator OAM level, as shown in (D) in Figure\
    \ 9.\n   The advantage of having layered OAM is that end-to-end and segment\n\
    \   OAM can be carried out in an independent manner.  It is also possible\n  \
    \ to carry out some optimizations, e.g., when proactive segment OAM\n   monitoring\
    \ is performed, proactive end-to-end monitoring may not be\n   needed since client\
    \ layer end-to-end ME could simply use fault\n   notifications from the server\
    \ layer segment MEs.\n   Although many different OAM layers are possible, as shown\
    \ in Figure\n   9, not all may be realized.  For example, (B2) and (D) in Figure\
    \ 9\n   may be adequate in some cases.\n         |<--------------- VPWS <AC1,PW,AC2>\
    \ -------------->|\n         |                                               \
    \   |\n         |          +----+                  +----+          |\n    +----+\
    \          |    |==================|    |          +----+\n    |    |---AC1----|............PW..............|--AC2-----|\
    \    |\n    | CE1|          |PE1 |                  | PE2|          |CE2 |\n \
    \   +----+          |    |==================|    |          +----+\n         \
    \           +----+     PSN Tunnel   +----+\n    (B1) MEP-----------------------------------------------MEP\n\
    \    (B2) MEP----------MIP---------------------MIP----------MEP\n    (C)  MEP-------MEP|MEP------------------MEP|MEP--------MEP\n\
    \    (D)  MEP-------MEP|MEP------------------MEP|MEP--------MEP\n            \
    \       Figure 9: VPWS MEPs and MIPs\n"
- title: 6.2.4.  VPWS MEP and MIP Identifiers
  contents:
  - "6.2.4.  VPWS MEP and MIP Identifiers\n   In VPWS, the MEPs and MIPs should be\
    \ identified with their native\n   addressing schemes.  MEPs and MIPs Identifiers,\
    \ i.e., MEP Ids and MIP\n   Ids, must be unique to the VPWS instance and in the\
    \ context of their\n   corresponding OAM domains.\n"
- title: 7.  VPLS OAM Requirements
  contents:
  - "7.  VPLS OAM Requirements\n   These requirements are applicable to VPLS PE offering\
    \ VPLS as an\n   Ethernet Bridged LAN service, as described in Section 5.1.1.\n\
    \   Further, the performance metrics used in requirements are based on\n   [MEF10.1]\
    \ and [RFC2544].\n   It is noted that OAM solutions that meet the following requirements\n\
    \   may make use of existing OAM mechanisms, e.g., Ethernet OAM, VCCV,\n   etc.;\
    \ however, they must not break these existing OAM mechanisms.  If\n   extensions\
    \ are required to existing OAM mechanisms, these should be\n   coordinated with\
    \ relevant groups responsible for these OAM\n   mechanisms.\n"
- title: 7.1.  Discovery
  contents:
  - "7.1.  Discovery\n   Discovery allows a VPLS-aware device to learn about other\
    \ devices\n   that support the same VPLS instance within a given domain.\n   Discovery\
    \ also allows a VPLS-aware device to learn sufficient\n   information (e.g., IP\
    \ addresses, MAC addresses, etc.) from other\n   VPLS-aware devices such that\
    \ VPLS OAM frames can be exchanged among\n   the service-aware devices.\n   (R1)\
    \ VPLS OAM MUST allow a VPLS-aware device to discover other\n   devices that share\
    \ the same VPLS instance(s) within a given OAM\n   domain.\n"
- title: 7.2.  Connectivity Fault Management
  contents:
  - "7.2.  Connectivity Fault Management\n   VPLS is realized by exchanging service\
    \ frames/packets between devices\n   that support the same VPLS instance.  To\
    \ allow the exchange of\n   service frames, connectivity between these service-aware\
    \ devices is\n   required.\n"
- title: 7.2.1.  Connectivity Fault Detection
  contents:
  - "7.2.1.  Connectivity Fault Detection\n   To ensure service, proactive connectivity\
    \ monitoring is required.\n   Connectivity monitoring facilitates connectivity\
    \ fault detection.\n   (R2a) VPLS OAM MUST allow proactive connectivity monitoring\
    \ between\n   two VPLS-aware devices that support the same VPLS instance within\
    \ a\n   given OAM domain.\n"
- title: 7.2.2.  Connectivity Fault Verification
  contents:
  - "7.2.2.  Connectivity Fault Verification\n   Once a connectivity fault is detected,\
    \ connectivity fault\n   verification may be performed.\n   (R2b) VPLS OAM MUST\
    \ allow connectivity fault verification between two\n   VPLS-aware devices that\
    \ support the same VPLS instance within a given\n   OAM domain.\n"
- title: 7.2.3.  Connectivity Fault Localization
  contents:
  - "7.2.3.  Connectivity Fault Localization\n   Further, localization of connectivity\
    \ fault may be carried out.\n   (R2c) VPLS OAM MUST allow connectivity fault localization\
    \ between two\n   VPLS-aware devices that support the same instance within a given\
    \ OAM\n   domain.\n"
- title: 7.2.4.  Connectivity Fault Notification and Alarm Suppression
  contents:
  - "7.2.4.  Connectivity Fault Notification and Alarm Suppression\n   Typically,\
    \ when a connectivity fault is detected and optionally\n   verified, the VPLS\
    \ device may notify the NMS (Network Management\n   System) via alarms.\n   However,\
    \ a single transport/network fault may cause multiple services\n   to fail simultaneously,\
    \ thereby causing multiple service alarms.\n   Therefore, VPLS OAM must allow\
    \ service-level fault notification to be\n   triggered at the client layer as\
    \ a result of transport/network faults\n   in the service layer.  This fault notification\
    \ should be used for the\n   suppression of service-level alarms at the client\
    \ layer.\n   (R2d) VPLS OAM MUST support fault notification to be triggered as\
    \ a\n   result of transport/network faults.  This fault notification SHOULD\n\
    \   be used for the suppression of redundant service-level alarms.\n"
- title: 7.3.  Frame Loss
  contents:
  - "7.3.  Frame Loss\n   A VPLS may be considered degraded if service-layer frames/packets\
    \ are\n   lost during transit between the VPLS-aware devices.  To determine if\n\
    \   a VPLS is degraded due to frame/packet loss, measurement of\n   frame/packet\
    \ loss is required.\n   (R3) VPLS OAM MUST support measurement of per-service\
    \ frame/packet\n   loss between two VPLS-aware devices that support the same VPLS\n\
    \   instance within a given OAM domain.\n"
- title: 7.4.  Frame Delay
  contents:
  - "7.4.  Frame Delay\n   A VPLS may be sensitive to delay experienced by the VPLS\n\
    \   frames/packets during transit between the VPLS-aware devices.  To\n   determine\
    \ if a VPLS is degraded due to frame/packet delay,\n   measurement of frame/packet\
    \ delay is required.\n   VPLS frame/packet delay measurement can be of two types:\n\
    \   1)  One-way delay is used to characterize certain applications like\n    \
    \   multicast and broadcast applications.  The measurement for one-\n       way\
    \ delay usually requires clock synchronization between the two\n       devices\
    \ in question.\n   2)  Two-way delay or round-trip delay does not require clock\n\
    \       synchronization between the two devices involved in measurement\n    \
    \   and is usually sufficient to determine the frame/packet delay\n       being\
    \ experienced.\n   (R4a) VPLS OAM MUST support measurement of per-service two-way\n\
    \   frame/packet delay between two VPLS-aware devices that support the\n   same\
    \ VPLS instance within a given OAM domain.\n   (R4b) VPLS OAM SHOULD support measurement\
    \ of per-service one-way\n   frame/packet delay between two VPLS-aware devices\
    \ that support the\n   same VPLS instance within a given OAM domain.\n"
- title: 7.5.  Frame Delay Variation
  contents:
  - "7.5.  Frame Delay Variation\n   A VPLS may be sensitive to delay variation experienced\
    \ by the VPLS\n   frames/packets during transit between the VPLS-aware devices.\
    \  To\n   determine if a VPLS is degraded due to frame/packet delay variation,\n\
    \   measurement of frame/packet delay variation is required.  For\n   frame/packet\
    \ delay variation measurements, one-way mechanisms are\n   considered to be sufficient.\n\
    \   (R5) VPLS OAM MUST support measurement of per-service frame/packet\n   delay\
    \ variation between two VPLS-aware devices that support the same\n   VPLS instance\
    \ within a given OAM domain.\n"
- title: 7.6.  Availability
  contents:
  - "7.6.  Availability\n   A service may be considered unavailable if the service\
    \ frames/packets\n   do not reach their intended destination (e.g., connectivity\
    \ is down\n   or frame/packet loss is occurring) or the service is degraded (e.g.,\n\
    \   frame/packet delay and/or delay variation threshold is exceeded).\n   Entry\
    \ and exit conditions may be defined for unavailable state.\n   Availability itself\
    \ may be defined in context of service type.\n   Since availability measurement\
    \ may be associated with connectivity,\n   frame/packet loss, frame/packet delay,\
    \ and frame/packet delay\n   variation measurements, no additional requirements\
    \ are specified\n   currently.\n"
- title: 7.7.  Data Path Forwarding
  contents:
  - "7.7.  Data Path Forwarding\n   If the VPLS OAM frames flow across a different\
    \ path than the one used\n   by VPLS frames/packets, accurate measurement and/or\
    \ determination of\n   service state may not be made.  Therefore, data path, i.e.,\
    \ the one\n   being taken by VPLS frames/packets, must be used for the VPLS OAM.\n\
    \   (R6) VPLS OAM frames MUST be forwarded along the same path (i.e.,\n   links\
    \ and nodes) as the VPLS frames.\n"
- title: 7.8.  Scalability
  contents:
  - "7.8.  Scalability\n   Mechanisms developed for VPLS OAM need to be such that\
    \ per-service\n   OAM can be supported even though the OAM may only be used for\
    \ limited\n   VPLS instances, e.g., premium VPLS instances, and may not be used\
    \ for\n   best-effort VPLSs.\n   (R7) VPLS OAM MUST be scalable such that a service-aware\
    \ device can\n   support OAM for each VPLS that is supported by the device.\n"
- title: 7.9.  Extensibility
  contents:
  - "7.9.  Extensibility\n   Extensibility is intended to allow introduction of additional\
    \ OAM\n   functionality in the future such that backward compatibility can be\n\
    \   maintained when interoperating with older version devices.  In such a\n  \
    \ case, VPLS OAM with reduced functionality should still be possible.\n   Further,\
    \ VPLS OAM should be defined such that OAM incapable devices\n   in the middle\
    \ of the OAM domain should be able to forward the VPLS\n   OAM frames similar\
    \ to the regular VPLS data frames/packets.\n   (R8a) VPLS OAM MUST be extensible\
    \ such that new functionality and\n   information elements related to this functionality\
    \ can be introduced\n   in the future.\n   (R8b) VPLS OAM MUST be defined such\
    \ that devices not supporting the\n   OAM are able to forward the OAM frames in\
    \ a similar fashion as the\n   regular VPLS data frames/packets.\n"
- title: 7.10.  Security
  contents:
  - "7.10.  Security\n   VPLS OAM frames belonging to an OAM domain originate and\
    \ terminate\n   within that OAM domain.  Security implies that an OAM domain must\
    \ be\n   capable of filtering OAM frames.  The filtering is such that the OAM\n\
    \   frames are prevented from leaking outside their domain.  Also, OAM\n   frames\
    \ from outside the OAM domains should be either discarded (when\n   such OAM frames\
    \ belong to the same level or to a lower-level OAM\n   domain) or transparently\
    \ passed (when such OAM frames belong to a\n   higher-level OAM domain).\n   (R9a)\
    \ VPLS OAM frames MUST be prevented from leaking outside their\n   OAM domain.\n\
    \   (R9b) VPLS OAM frames from outside an OAM domain MUST be prevented\n   from\
    \ entering the OAM domain when such OAM frames belong to the same\n   level or\
    \ to a lower-level OAM domain.\n   (R9c) VPLS OAM frames from outside an OAM domain\
    \ MUST be transported\n   transparently inside the OAM domain when such OAM frames\
    \ belong to a\n   higher-level OAM domain.\n"
- title: 7.11.  Transport Independence
  contents:
  - "7.11.  Transport Independence\n   VPLS frame/packets delivery is carried out\
    \ across transport\n   infrastructure, also called network infrastructure.  Though\
    \ specific\n   transport/network technologies may provide their own OAM\n   capabilities,\
    \ VPLS OAM must be independently supported as many\n   different transport/network\
    \ technologies can be used to carry service\n   frame/packets.\n   (R10a) VPLS\
    \ OAM MUST be independent of the underlying\n   transport/network technologies\
    \ and specific transport/network OAM\n   capabilities.\n   (R10b) VPLS OAM MAY\
    \ allow adaptation/interworking with specific\n   transport/network OAM functions.\
    \  For example, this would be useful\n   to allow fault notifications from transport/network\
    \ layer(s) to be\n   sent to the VPLS layer.\n"
- title: 7.12.  Application Independence
  contents:
  - "7.12.  Application Independence\n   VPLS itself may be used to carry application\
    \ frame/packets.  The\n   application may use its own OAM; service OAM must not\
    \ be dependent on\n   application OAM.  As an example, a VPLS may be used to carry\
    \ IP\n   traffic; however, VPLS OAM should not assume IP or rely on the use of\n\
    \   IP-level OAM functions.\n   (R11a) VPLS OAM MUST be independent of the application\
    \ technologies\n   and specific application OAM capabilities.\n"
- title: 8.  VPWS OAM Requirements
  contents:
  - "8.  VPWS OAM Requirements\n   These requirements are applicable to VPWS PE. \
    \ The performance\n   metrics used in requirements are based on [MEF10.1] and\
    \ [RFC2544],\n   which are applicable to Ethernet services.\n   It is noted that\
    \ OAM solutions that meet the following requirements\n   may make use of existing\
    \ OAM mechanisms, e.g., Ethernet OAM, VCCV,\n   etc.; however, they must not break\
    \ these existing OAM mechanisms.  If\n   extensions are required to existing OAM\
    \ mechanisms, these should be\n   coordinated with relevant groups responsible\
    \ for these OAM\n   mechanisms.\n"
- title: 8.1.  Discovery
  contents:
  - "8.1.  Discovery\n   Discovery allows a VPWS-aware device to learn about other\
    \ devices\n   that support the same VPWS instance within a given domain.  Discovery\n\
    \   also allows a VPWS-aware device to learn sufficient information\n   (e.g.,\
    \ IP addresses, MAC addresses, etc.) from other VPWS-aware\n   devices such that\
    \ OAM frames can be exchanged among the VPWS-aware\n   devices.\n   (R12) VPWS\
    \ OAM MUST allow a VPWS-aware device to discover other\n   devices that share\
    \ the same VPWS instance(s) within a given OAM\n   domain.\n"
- title: 8.2.  Connectivity Fault Management
  contents:
  - "8.2.  Connectivity Fault Management\n   VPWS is realized by exchanging service\
    \ frames/packets between devices\n   that support the same VPWS instance.  To\
    \ allow the exchange of\n   service frames, connectivity between these service-aware\
    \ devices is\n   required.\n"
- title: 8.2.1.  Connectivity Fault Detection
  contents:
  - "8.2.1.  Connectivity Fault Detection\n   To ensure service, proactive connectivity\
    \ monitoring is required.\n   Connectivity monitoring facilitates connectivity\
    \ fault detection.\n   (R13a) VPWS OAM MUST allow proactive connectivity monitoring\
    \ between\n   two VPWS-aware devices that support the same VPWS instance within\
    \ a\n   given OAM domain.\n   (R13b) VPWS OAM mechanism SHOULD allow detection\
    \ of mis-branching or\n   mis-connections.\n"
- title: 8.2.2.  Connectivity Fault Verification
  contents:
  - "8.2.2.  Connectivity Fault Verification\n   Once a connectivity fault is detected,\
    \ connectivity fault\n   verification may be performed.\n   (R13c) VPWS OAM MUST\
    \ allow connectivity fault verification between\n   two VPWS-aware devices that\
    \ support the same VPWS instance within a\n   given OAM domain.\n"
- title: 8.2.3.  Connectivity Fault Localization
  contents:
  - "8.2.3.  Connectivity Fault Localization\n   Further, localization of connectivity\
    \ fault may be carried out.  This\n   may amount to identifying the specific AC\
    \ and/or PW that is resulting\n   in the VPWS connectivity fault.\n   (R13d) VPWS\
    \ OAM MUST allow connectivity fault localization between\n   two VPWS-aware devices\
    \ that support the same VPWS instance within a\n   given OAM domain.\n"
- title: 8.2.4.  Connectivity Fault Notification and Alarm Suppression
  contents:
  - "8.2.4.  Connectivity Fault Notification and Alarm Suppression\n   Typically,\
    \ when a connectivity fault is detected and optionally\n   verified, the service\
    \ device may notify the NMS (Network Management\n   System) via alarms.\n   However,\
    \ a single transport/network fault may cause multiple services\n   to fail simultaneously\
    \ causing multiple service alarms.  Therefore,\n   OAM must allow service-level\
    \ fault notification to be triggered at\n   the client layer as a result of transport/network\
    \ faults in the\n   service layer.  This fault notification should be used for\
    \ the\n   suppression of service-level alarms at the client layer.\n   For example,\
    \ if an AC fails, both the local CE and the local PE,\n   which are connected\
    \ via the AC, may detect the connectivity failure.\n   The local CE must notify\
    \ the remote CE about the failure while the\n   local PE must notify the remote\
    \ PE about the failure.\n   (R13e) VPWS OAM MUST support fault notification to\
    \ be triggered as a\n   result of transport/network faults.  This fault notification\
    \ SHOULD\n   be used for the suppression of redundant service-level alarms.\n\
    \   (R13f) VPWS OAM SHOULD support fault notification in backward\n   direction,\
    \ to be triggered as a result of transport/network faults.\n   This fault notification\
    \ SHOULD be used for the suppression of\n   redundant service-level alarms.\n"
- title: 8.3.  Frame Loss
  contents:
  - "8.3.  Frame Loss\n   A VPWS may be considered degraded if service-layer frames/packets\
    \ are\n   lost during transit between the VPWS-aware devices.  To determine if\n\
    \   a VPWS is degraded due to frame/packet loss, measurement of\n   frame/packet\
    \ loss is required.\n   (R14) VPWS OAM MUST support measurement of per-service\
    \ frame/packet\n   loss between two VPWS-aware devices that support the same VPWS\n\
    \   instance within a given OAM domain.\n"
- title: 8.4.  Frame Delay
  contents:
  - "8.4.  Frame Delay\n   A VPWS may be sensitive to delay experienced by the VPWS\n\
    \   frames/packets during transit between the VPWS-aware devices.  To\n   determine\
    \ if a VPWS is degraded due to frame/packet delay,\n   measurement of frame/packet\
    \ delay is required.\n   VPWS frame/packet delay measurement can be of two types:\n\
    \   1)  One-way delay is used to characterize certain applications like\n    \
    \   multicast and broadcast applications.  The measurement for one-\n       way\
    \ delay usually requires clock synchronization between the two\n       devices\
    \ in question.\n   2)  Two-way delay or round-trip delay does not require clock\n\
    \       synchronization between the two devices involved in measurement\n    \
    \   and is usually sufficient to determine the frame/packet delay\n       being\
    \ experienced.\n   (R15a) VPWS OAM MUST support measurement of per-service two-way\n\
    \   frame/packet delay between two VPWS-aware devices that support the\n   same\
    \ VPWS instance within a given OAM domain.\n   (R15b) VPWS OAM SHOULD support\
    \ measurement of per-service one-way\n   frame/packet delay between two VPWS-aware\
    \ devices that support the\n   same VPWS instance within a given OAM domain.\n"
- title: 8.5.  Frame Delay Variation
  contents:
  - "8.5.  Frame Delay Variation\n   A VPWS may be sensitive to delay variation experienced\
    \ by the VPWS\n   frames/packets during transit between the VPWS-aware devices.\
    \  To\n   determine if a VPWS is degraded due to frame/packet delay variation,\n\
    \   measurement of frame/packet delay variation is required.  For\n   frame/packet\
    \ delay variation measurements, one-way mechanisms are\n   considered to be sufficient.\n\
    \   (R16) VPWS OAM MUST support measurement of per-service frame/packet\n   delay\
    \ variation between two VPWS-aware devices that support the same\n   VPWS instance\
    \ within a given OAM domain.\n"
- title: 8.6.  Availability
  contents:
  - "8.6.  Availability\n   A service may be considered unavailable if the service\
    \ frames/packets\n   do not reach their intended destination (e.g., connectivity\
    \ is down\n   or frame/packet loss is occurring) or the service is degraded (e.g.,\n\
    \   frame/packet delay and/or delay variation threshold is exceeded).\n   Entry\
    \ and exit conditions may be defined for unavailable state.\n   Availability itself\
    \ may be defined in context of service type.\n   Since availability measurement\
    \ may be associated with connectivity,\n   frame/packet loss, frame/packet delay,\
    \ and frame/packet delay\n   variation measurements, no additional requirements\
    \ are specified\n   currently.\n"
- title: 8.7.  Data Path Forwarding
  contents:
  - "8.7.  Data Path Forwarding\n   If the VPWS OAM frames flow across a different\
    \ path than the one used\n   by VPWS frames/packets, accurate measurement and/or\
    \ determination of\n   service state may not be made.  Therefore data path, i.e.,\
    \ the one\n   being taken by VPWS frames/packets, must be used for the VPWS OAM.\n\
    \   (R17a) VPWS OAM frames MUST be forwarded along the same path as the\n   VPWS\
    \ data frames.\n   (R17b) VPWS OAM MUST be forwarded using the transfer plane\
    \ (data\n   plane) as regular VPWS data frames/packets and must not rely on\n\
    \   control plane messages.\n"
- title: 8.8.  Scalability
  contents:
  - "8.8.  Scalability\n   Mechanisms developed for VPWS OAM need to be such that\
    \ per-service\n   OAM can be supported even though the OAM may only be used for\
    \ limited\n   VPWS instances, e.g., premium VPWS instance, and may not be used\
    \ for\n   best-effort services.\n   (R18) VPWS OAM MUST be scalable such that\
    \ a service-aware device can\n   support OAM for each VPWS that is supported by\
    \ the device.\n"
- title: 8.9.  Extensibility
  contents:
  - "8.9.  Extensibility\n   Extensibility is intended to allow introduction of additional\
    \ OAM\n   functionality in the future such that backward compatibility can be\n\
    \   maintained when interoperating with older version devices.  In such a\n  \
    \ case, VPWS OAM with reduced functionality should still be possible.\n   Further,\
    \ VPWS OAM should be such that OAM incapable devices in the\n   middle of the\
    \ OAM domain should be able to forward the VPWS OAM\n   frames similar to the\
    \ regular VPWS data frames/packets.\n   (R19a) VPWS OAM MUST be extensible such\
    \ that new functionality and\n   information elements related to this functionality\
    \ can be introduced\n   in the future.\n   (R19b) VPWS OAM MUST be defined such\
    \ that devices not supporting the\n   OAM are able to forward the VPWS OAM frames\
    \ in a similar fashion as\n   the regular VPWS data frames/packets.\n"
- title: 8.10.  Security
  contents:
  - "8.10.  Security\n   VPWS OAM frames belonging to an OAM domain originate and\
    \ terminate\n   within that OAM domain.  Security implies that an OAM domain must\
    \ be\n   capable of filtering OAM frames.  The filtering is such that the VPWS\n\
    \   OAM frames are prevented from leaking outside their domain.  Also,\n   VPWS\
    \ OAM frames from outside the OAM domains should be either\n   discarded (when\
    \ such OAM frames belong to the same level or to a\n   lower-level OAM domain)\
    \ or transparently passed (when such OAM frames\n   belong to a higher-level OAM\
    \ domain).\n   (R20a) VPWS OAM frames MUST be prevented from leaking outside their\n\
    \   OAM domain.\n   (R20b) VPWS OAM frames from outside an OAM domain MUST be\
    \ prevented\n   from entering the OAM domain when such OAM frames belong to the\
    \ same\n   level or to a lower-level OAM domain.\n   (R20c) VPWS OAM frames from\
    \ outside an OAM domain MUST be transported\n   transparently inside the OAM domain\
    \ when such OAM frames belong to a\n   higher-level OAM domain.\n"
- title: 8.11.  Transport Independence
  contents:
  - "8.11.  Transport Independence\n   VPWS frame/packets delivery is carried out\
    \ across transport\n   infrastructure, also called network infrastructure.  Though\
    \ specific\n   transport/network technologies may provide their own OAM\n   capabilities,\
    \ VPWS OAM must be independently supported as many\n   different transport/network\
    \ technologies can be used to carry service\n   frame/packets.\n   (R21a) VPWS\
    \ OAM MUST be independent of the underlying\n   transport/network technologies\
    \ and specific transport/network OAM\n   capabilities.\n   (R21b) VPWS OAM MAY\
    \ allow adaptation/interworking with specific\n   transport/network OAM functions.\
    \  For example, this would be useful\n   to allow fault notifications from transport/network\
    \ layer(s) to be\n   sent to the VPWS layer.\n"
- title: 8.12.  Application Independence
  contents:
  - "8.12.  Application Independence\n   VPWS itself may be used to carry application\
    \ frame/packets.  The\n   application may use its own OAM; VPWS OAM must not be\
    \ dependent on\n   application OAM.  As an example, a VPWS may be used to carry\
    \ IP\n   traffic; however, VPWS OAM should not assume IP or rely on the use of\n\
    \   IP-level OAM functions.\n   (R22a) OAM MUST be independent of the application\
    \ technologies and\n   specific application OAM capabilities.\n"
- title: 8.13.  Prioritization
  contents:
  - "8.13.  Prioritization\n   VPWS could be composed of several data flows, each\
    \ related to a given\n   usage/application with specific requirements in terms\
    \ of connectivity\n   and/or performance.  Dedicated VPWS OAM should be applicable\
    \ to these\n   flows.\n   (R23) VPWS OAM SHOULD support configurable prioritization\
    \ for OAM\n   packet/frames to be compatible with associated VPWS packets/frames.\n"
- title: 9.  VPLS (V)LAN Emulation OAM Requirements
  contents:
  - '9.  VPLS (V)LAN Emulation OAM Requirements

    '
- title: 9.1.  Partial-Mesh of PWs
  contents:
  - "9.1.  Partial-Mesh of PWs\n   As indicated in [BRIDGE-INTEROP], VPLS OAM relies\
    \ upon bidirectional\n   Ethernet links or (V)LAN segments and failure in one\
    \ direction or\n   link results in failure of the whole link or (V)LAN segment.\n\
    \   Therefore, when partial-mesh failure occurs in (V)LAN emulation,\n   either\
    \ the entire PW mesh should be shut down when only an entire\n   VPLS is acceptable\
    \ or a subset of PWs should be shut down such that\n   the remaining PWs have\
    \ full connectivity among them when partial VPLS\n   is acceptable.\n   (R13a)\
    \ PW OAM for PWs related to a (V)LAN emulation MUST allow\n   detection of a partial-mesh\
    \ failure condition.\n   (R13b) PW OAM for PWs related to a (V)LAN emulation MUST\
    \ allow the\n   entire mesh of PWs to be shut down upon detection of a partial-mesh\n\
    \   failure condition.\n   (R13c) PW OAM for PWs related to a (V)LAN emulation\
    \ MUST allow the\n   subset of PWs to be shut down upon detection of a partial-mesh\n\
    \   failure condition in a manner such that full mesh is present across\n   the\
    \ remaining subset.\n   Note: Shutdown action in R13b and R13c may not necessarily\
    \ involve\n   withdrawal of labels, etc.\n"
- title: 9.2.  PW Fault Recovery
  contents:
  - "9.2.  PW Fault Recovery\n   As indicated in [BRIDGE-INTEROP], VPLS OAM fault\
    \ detection and\n   recovery relies upon (V)LAN emulation recovery such that fault\n\
    \   detection and recovery time in (V)LAN emulation should be less than\n   the\
    \ VPLS fault detection and recovery time to prevent unnecessary\n   switch-over\
    \ and temporary flooding/loop within the customer OAM\n   domain that is dual-homed\
    \ to the provider OAM domain.\n   (R14a) PW OAM for PWs related to a (V)LAN emulation\
    \ MUST support a\n   fault detection time in the provider OAM domain faster than\
    \ the VPLS\n   fault detection time in the customer OAM domain.\n   (R14b) PW\
    \ OAM for PWs related to a (V)LAN emulation MUST support a\n   fault recovery\
    \ time in the provider OAM domain faster than the VPLS\n   fault recovery time\
    \ in the customer OAM domain.\n"
- title: 9.3.  Connectivity Fault Notification and Alarm Suppression
  contents:
  - "9.3.  Connectivity Fault Notification and Alarm Suppression\n   When a connectivity\
    \ fault is detected in (V)LAN emulation, PE devices\n   may notify the NMS (Network\
    \ Management System) via alarms.  However,\n   a single (V)LAN emulation fault\
    \ may result in CE devices or U-PE\n   devices detecting a connectivity fault\
    \ in VPLS and therefore also\n   notifying the NMS.  To prevent multiple alarms\
    \ for the same fault,\n   (V)LAN emulation OAM must provide alarm suppression\
    \ capability in the\n   VPLS OAM.\n   (R15) PW OAM for PWs related to a (V)LAN\
    \ emulation MUST support\n   interworking with VPLS OAM to trigger fault notification\
    \ and allow\n   alarm suppression in the VPLS upon fault detection in (V)LAN\n\
    \   emulation.\n"
- title: 10.  OAM Operational Scenarios
  contents:
  - "10.  OAM Operational Scenarios\n   This section highlights how the different\
    \ OAM mechanisms can be\n   applied as per the OAM framework for different L2VPN\
    \ services.\n"
- title: 10.1.  VPLS OAM Operational Scenarios
  contents:
  - "10.1.  VPLS OAM Operational Scenarios\n      ---                            \
    \                       ---\n     /   \\         ------      -------      ----\
    \           /   \\\n     | A CE--     /      \\    /       \\    /    \\     \
    \  --CE A |\n     \\   /   \\   /        \\  /         \\  /      \\     /   \\\
    \   /\n      ---     --UPE       NPE          NPE        UPE--     ---\n     \
    \            \\        /  \\         /  \\      /\n                  \\      /\
    \    \\       /    \\    /\n                   ------      -------      ----\n\
    \                           Customer OAM Domain\n   (C)    MEP---MIP--------------------------------MIP---MEP\n\
    \                    Service Provider (SP) OAM Domain\n   (D)          MEP--------MIP-----------MIP-------MEP\n\
    \                   SP OAM       SP OAM       SP OAM\n   (D1)         MEP-MIP--MEP|MEP-------MEP|MEP-----MEP\n\
    \                   domain       domain       domain\n                   Operator\
    \    Operator     Operator\n   (E)          MEP-MIP--MEP|MEP-------MEP|MEP-----MEP\n\
    \                  OAM domain   OAM domain   OAM domain\n                    \
    \            MPLS OAM   MPLS OAM\n   (F)                      MEP--MIP-----MEP--MIP--MEP\n\
    \                                 domain      domain\n             Figure 10:\
    \ VPLS OAM Domains, MEPs, and MIPs\n   Among the different MEs identified in Figure\
    \ 5 for VPLS OAM in the\n   customer OAM domain, [IEEE802.1ag] and [Y.1731] Ethernet\
    \ OAM\n   mechanisms can be applied to meet the various requirements identified\n\
    \   in Section 7.  The mechanisms can be applied across (C) in Figure 10\n   MEs.\n\
    \   Similarly, inside the service provider OAM domain, [IEEE802.1ag] and\n   [Y.1731]\
    \ Ethernet OAM mechanisms can be applied across (D)  MEs in\n   Figure 10 to meet\
    \ the functional requirements identified in Section\n   7.\n   It may be noted\
    \ that in the interim, when [IEEE802.1ag] and [Y.1731]\n   capabilities are not\
    \ available across the PE devices, the Fault\n   Management option using segment\
    \ OAM introduced in Section 6.2.3 can\n   be applied, with the limitations cited\
    \ below.  In this option, the\n   service provider can run segment OAM across\
    \ the (D1) MEs in Figure\n   10.  The OAM mechanisms across the (D1) MEs in Figure\
    \ 10 can be non-\n   Ethernet, e.g., Virtual Circuit Connectivity Verification\
    \ (VCCV), or\n   Bidirectional Forwarding Detection (BFD) when network technology\
    \ is\n   MPLS.  The service provider can monitor each sub-network segment ME\n\
    \   using the native technology OAM and, by performing interworking\n   across\
    \ the segment MEs, attempt to realize end-to-end monitoring\n   between a pair\
    \ of VPLS endpoints.  However, such mechanisms do not\n   fully exercise the data\
    \ plane forwarding constructs as experienced by\n   native (i.e., Ethernet) service\
    \ PDUs. As a result, service\n   monitoring ((D1) in Figure 10) is severely limited\
    \ in the sense that\n   it may lead to an indication that the ME between VPLS\
    \ endpoints is\n   functional while the customer may be experiencing end-to-end\n\
    \   connectivity issues in the data plane.\n   Inside the network operator OAM\
    \ domain, [IEEE802.1ag] and [Y.1731]\n   Ethernet OAM mechanisms can also be applied\
    \ across MEs in (E) in\n   Figure 10 to meet the functional requirements identified\
    \ in Section\n   7.  In addition, the network operator could decide to use native\
    \ OAM\n   mechanisms, e.g., VCCV or BFD, across (F) MEs for additional\n   monitoring\
    \ or as an alternative to monitoring across (E) MEs.\n"
- title: 11.  Security Considerations
  contents:
  - "11.  Security Considerations\n   This specification assumes that L2VPN components\
    \ within the OAM\n   domain are mutually trusted.  Based on that assumption,\n\
    \   confidentiality issues are fully addressed by filtering to prevent\n   OAM\
    \ frames from leaking outside their designated OAM domain.\n   Similarly, authentication\
    \ issues are addressed by preventing OAM\n   frames generated outside a given\
    \ OAM domain from entering the domain\n   in question.  Requirements to prevent\
    \ OAM messages from leaking\n   outside an OAM domain and for OAM domains to be\
    \ transparent to OAM\n   frames from higher OAM domains are specified in Sections\
    \ 7.10 and\n   8.10.\n   For additional levels of security, solutions may be required\
    \ to\n   encrypt and/or authenticate OAM frames inside an OAM domain.\n   However,\
    \ these solutions are out of the scope of this document.\n"
- title: 12. Contributors
  contents:
  - "12. Contributors\n   In addition to the authors listed above, the following individuals\n\
    \   also contributed to this document.\n   Simon Delord\n   Uecomm\n   658 Church\
    \ St\n   Richmond, VIC, 3121, Australia\n   EMail: sdelord@uecomm.com.au\n   Philippe\
    \ Niger\n   France Telecom\n   2 av. Pierre Marzin\n   22300 LANNION, France\n\
    \   EMail: philippe.niger@francetelecom.com\n   Samer Salam\n   Cisco Systems,\
    \ Inc.\n   170 West Tasman Drive\n   San Jose, CA 95134\n   EMail: ssalam@cisco.com\n"
- title: 13.  Acknowledgements
  contents:
  - "13.  Acknowledgements\n   The authors would like to thank Deborah Brungard, Vasile\
    \ Radoaca, Lei\n   Zhu, Yuichi Ikejiri, Yuichiro Wada, and Kenji Kumaki for their\n\
    \   reviews and comments.\n   The authors would also like to thank Shahram Davari,\
    \ Norm Finn, Dave\n   Allan, Thomas Nadeau, Monique Morrow, Yoav Cohen, Marc Holness,\n\
    \   Malcolm Betts, Paul Bottorff, Hamid-Ould Brahim, Lior Shabtay, and\n   Dan\
    \ Cauchy for their feedback.\n"
- title: 14.  References
  contents:
  - '14.  References

    '
- title: 14.1.  Normative References
  contents:
  - "14.1.  Normative References\n   [RFC2119]        Bradner, S., \"Key words for\
    \ use in RFCs to Indicate\n                    Requirement Levels\", BCP 14, RFC\
    \ 2119, March 1997.\n   [IEEE802.1ad]   \"IEEE Standard for Local and metropolitan\
    \ area\n                    networks - Virtual Bridged Local Area Networks,\n\
    \                    Amendment 4: Provider Bridges\", 2005.\n   [IEEE802.1ag]\
    \   \"IEEE Standard for Local and metropolitan area\n                    networks\
    \ - Virtual Bridged Local Area Networks,\n                    Amendment 5: Connectivity\
    \ Fault Management\", 2007.\n   [IEEE802.1ah]   \"IEEE Standard for Local and\
    \ metropolitan area\n                    networks - Virtual Bridged Local Area\
    \ Networks,\n                    Amendment 6: Provider Backbone Bridges\", 2008.\n\
    \   [Y.1731]         \"ITU-T Recommendation Y.1731 (02/08) - OAM functions\n \
    \                   and mechanisms for Ethernet based networks\",\n          \
    \          February 2008.\n   [L2VPN-FRWK]     Andersson, L., Ed., and E. Rosen,\
    \ Ed., \"Framework\n                    for Layer 2 Virtual Private Networks (L2VPNs)\"\
    , RFC\n                    4664, September 2006.\n   [L2VPN-REQ]      Augustyn,\
    \ W., Ed., and Y. Serbest, Ed., \"Service\n                    Requirements for\
    \ Layer 2 Provider-Provisioned\n                    Virtual Private Networks\"\
    , RFC 4665, September 2006.\n   [L2VPN-TERM]     Andersson, L. and T. Madsen,\
    \ \"Provider Provisioned\n                    Virtual Private Network (VPN) Terminology\"\
    , RFC\n                    4026, March 2005.\n   [MEF10.1]        \"Ethernet Services\
    \ Attributes: Phase 2\", MEF 10.1,\n                    2006.\n   [NM-Standards]\
    \   \"TMN Management Functions\", M.3400, February 2000.\n   [VPLS-BGP]      \
    \ Kompella, K., Ed., and Y. Rekhter, Ed., \"Virtual\n                    Private\
    \ LAN Service (VPLS) Using BGP for Auto-\n                    Discovery and Signaling\"\
    , RFC 4761, January 2007.\n   [VPLS-LDP]       Lasserre, M., Ed., and V. Kompella,\
    \ Ed., \"Virtual\n                    Private LAN Service (VPLS) Using Label Distribution\n\
    \                    Protocol (LDP) Signaling\", RFC 4762, January 2007.\n"
- title: 14.2.  Informative References
  contents:
  - "14.2.  Informative References\n   [BRIDGE-INTEROP] Sajassi, A. Ed., Brockners,\
    \ F., Mohan, D., Ed., and\n                    Y. Serbest, \"VPLS Interoperability\
    \ with CE Bridges\",\n                    Work in Progress, October 2010.\n  \
    \ [L2VPN-SIG]      Rosen, E., Davie, B., Radoaca, V., and W. Luo,\n          \
    \          \"Provisioning, Auto-Discovery, and Signaling in\n                \
    \    Layer 2 Virtual Private Networks (L2VPNs)\", RFC\n                    6074,\
    \ January 2011.\n   [MS-PW-Arch]     Bocci, M. and S. Bryant, \"An Architecture\
    \ for Multi-\n                    Segment Pseudowire Emulation Edge-to-Edge\"\
    , RFC\n                    5659, October 2009.\n   [RFC2544]        Bradner, S.\
    \ and J. McQuaid, \"Benchmarking\n                    Methodology for Network\
    \ Interconnect Devices\", RFC\n                    2544, March 1999.\n"
- title: Appendix A.  Alternate Management Models
  contents:
  - "Appendix A.  Alternate Management Models\n   In consideration of the management\
    \ models that can be deployed\n   besides the hierarchical models elaborated in\
    \ this document, this\n   appendix highlights some alternate models that are not\
    \ recommended\n   due to their limitations, as pointed out below.  These alternatives\n\
    \   have been highlighted as potential interim models while the network\n   equipment\
    \ is upgraded to support full functionality and meet the\n   requirements set\
    \ forward by this document.\n"
- title: A.1.  Alternate Model 1 (Minimal OAM)
  contents:
  - "A.1.  Alternate Model 1 (Minimal OAM)\n   In this model, the end-to-end service\
    \ monitoring is provided by\n   applying CE to CE ME in the service provider OAM\
    \ domain.\n   A MEP is located at each CE interface that is part of the VPWS,\
    \ as\n   shown in (B) in Figure A.1.  The network operators can carry out\n  \
    \ segment (e.g., PSN Tunnel ME, etc.) monitoring independent of the\n   VPWS end-to-end\
    \ service monitoring, as shown in (D) in Figure A.1.\n   The advantage of this\
    \ option is that VPWS monitoring is limited to\n   CEs.  The limitation of this\
    \ option is that the localization of\n   faults is at the VPWS level.\n      \
    \  |<--------------- VPWS <AC1,PW,AC2> -------------->|\n        |           \
    \                                       |\n        |          +----+         \
    \         +----+          |\n   +----+          |    |==================|    |\
    \          +----+\n   |    |---AC1----|............PW..............|--AC2-----|\
    \    |\n   | CE1|          |PE1 |                  | PE2|          |CE2 |\n  \
    \ +----+          |    |==================|    |          +----+\n           \
    \        +----+     PSN Tunnel   +----+\n   (B)  MEP-----------------------------------------------MEP\n\
    \   (D)  MEP-------MEP|MEP------------------MEP|MEP--------MEP\n            Figure\
    \ A.1: VPWS MEPs and MIPs (Minimal OAM)\n"
- title: A.2.  Alternate Model 2 (Segment OAM Interworking)
  contents:
  - "A.2.  Alternate Model 2 (Segment OAM Interworking)\n   In this model, end-to-end\
    \ service monitoring is provided by\n   interworking OAM across each segment.\
    \  Typical segments involved in\n   this case include two AC MEs and a PW ME,\
    \ as shown in (C) in Figure\n   A.2.  These segments are expected in the service\
    \ provider OAM domain.\n   An interworking function is required to transfer the\
    \ OAM information\n   flows across the OAM segments for the purposes of end-to-end\n\
    \   monitoring.  Depending on whether homogenous VPWS is deployed or\n   heterogeneous\
    \ VPWS is deployed, the interworking function could be\n   straightforward or\
    \ more involved.\n   In this option, the CE and PE interfaces support MEPs for\
    \ AC and PW\n   MEs, and no MIPs are involved at the service provider OAM level,\
    \ as\n   shown in (C) in Figure A.2.  Network operators may run segment OAM by\n\
    \   having MEPs at the network operator OAM level, as shown in (D) in\n   Figure\
    \ A.2.\n   The limitations of this model are that it requires interworking\n \
    \  across the OAM segments and does not conform to the OAM layering\n   principles,\
    \ where each OAM layer ought to be independent of the\n   others.  For end-to-end\
    \ OAM determinations, the end-to-end service\n   frame path is not necessarily\
    \ exercised.  Further, it requires\n   interworking function implementation for\
    \ all possible technologies\n   across access and core that may be used to realize\
    \ end-to-end\n   services.\n        |<--------------- VPWS <AC1,PW,AC2> -------------->|\n\
    \        |                                                  |\n        |     \
    \     +----+                  +----+          |\n   +----+          |    |==================|\
    \    |          +----+\n   |    |---AC1----|............PW..............|--AC2-----|\
    \    |\n   | CE1|          |PE1 |                  | PE2|          |CE2 |\n  \
    \ +----+          |    |==================|    |          +----+\n           \
    \        +----+     PSN Tunnel   +----+\n   (C)  MEP-------MEP|MEP------------------MEP|MEP--------MEP\n\
    \   (D)  MEP-------MEP|MEP------------------MEP|MEP--------MEP\n       Figure\
    \ A.2: VPWS MEPs and MIPs (Segment OAM Interworking)\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Ali Sajassi (editor)\n   Cisco Systems, Inc.\n   170 West\
    \ Tasman Drive\n   San Jose, CA 95134\n   USA\n   EMail: sajassi@cisco.com\n \
    \  Dinesh Mohan (editor)\n   Nortel\n   Ottawa, ON K2K3E5\n   EMail: dinmohan@hotmail.com\n"
