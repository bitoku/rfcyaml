- contents:
  - ' Procedures for Dynamically Signaled Hierarchical Label Switched Paths

    '
  title: __initial_text__
- contents:
  - "Abstract\n   Label Switched Paths (LSPs) set up in Multiprotocol Label Switching\n
    \  (MPLS) or Generalized MPLS (GMPLS) networks can be used to form links\n   to
    carry traffic in those networks or in other (client) networks.\n   Protocol mechanisms
    already exist to facilitate the establishment of\n   such LSPs and to bundle traffic
    engineering (TE) links to reduce the\n   load on routing protocols.  This document
    defines extensions to those\n   mechanisms to support identifying the use to which
    such LSPs are to\n   be put and to enable the TE link endpoints to be assigned
    addresses\n   or unnumbered identifiers during the signaling process.\n   The
    mechanisms defined in this document deprecate the technique for\n   the signaling
    of LSPs that are to be used as numbered TE links\n   described in RFC 4206.\n"
  title: Abstract
- contents:
  - "Status of This Memo\n   This is an Internet Standards Track document.\n   This
    document is a product of the Internet Engineering Task Force\n   (IETF).  It represents
    the consensus of the IETF community.  It has\n   received public review and has
    been approved for publication by the\n   Internet Engineering Steering Group (IESG).
    \ Further information on\n   Internet Standards is available in Section 2 of RFC
    5741.\n   Information about the current status of this document, any errata,\n
    \  and how to provide feedback on it may be obtained at\n   http://www.rfc-editor.org/info/rfc6107.\n"
  title: Status of This Memo
- contents:
  - "Copyright Notice\n   Copyright (c) 2011 IETF Trust and the persons identified
    as the\n   document authors.  All rights reserved.\n   This document is subject
    to BCP 78 and the IETF Trust's Legal\n   Provisions Relating to IETF Documents\n
    \  (http://trustee.ietf.org/license-info) in effect on the date of\n   publication
    of this document.  Please review these documents\n   carefully, as they describe
    your rights and restrictions with respect\n   to this document.  Code Components
    extracted from this document must\n   include Simplified BSD License text as described
    in Section 4.e of\n   the Trust Legal Provisions and are provided without warranty
    as\n   described in the Simplified BSD License.\n"
  title: Copyright Notice
- contents:
  - "Table of Contents\n   1. Introduction and Problem Statement ..............................3\n
    \     1.1. Background .................................................4\n           1.1.1.
    Hierarchical LSPs ...................................4\n           1.1.2. LSP
    Stitching Segments ..............................5\n           1.1.3. Private
    Links .......................................5\n           1.1.4. Routing Adjacencies
    .................................5\n           1.1.5. Forwarding Adjacencies ..............................5\n
    \          1.1.6. Client/Server Networks ..............................6\n           1.1.7.
    Link Bundles ........................................6\n      1.2. Desired Function
    ...........................................7\n      1.3. Existing Mechanisms ........................................7\n
    \          1.3.1. LSP Setup ...........................................7\n           1.3.2.
    Routing Adjacency Establishment and Link\n                  State Advertisement
    .................................7\n           1.3.3. TE Link Advertisement ...............................7\n
    \          1.3.4. Configuration and Management Techniques .............8\n           1.3.5.
    Signaled Unnumbered FAs .............................8\n           1.3.6. Establishing
    Numbered FAs through Signaling\n                  and Routing .........................................9\n
    \     1.4. Overview of Required Extensions ...........................10\n           1.4.1.
    Efficient Signaling of Numbered FAs ................10\n           1.4.2. LSPs
    for Use as Private Links ......................10\n           1.4.3. Signaling
    an LSP for Use in Another Network ........10\n           1.4.4. Signaling an LSP
    for Use in a Link Bundle ..........11\n           1.4.5. Support for IPv4 and
    IPv6 ..........................11\n           1.4.6. Backward Compatibility .............................11\n
    \  2. Overview of Solution ...........................................11\n      2.1.
    Common Approach for Numbered and Unnumbered Links .........11\n      2.2. LSP
    Usage Indication ......................................12\n      2.3. IGP Instance
    Identification ...............................12\n      2.4. Link Bundle Identification
    ................................12\n      2.5. Backward Compatibility ....................................12\n
    \  3. Mechanisms and Protocol Extensions .............................13\n      3.1.
    LSP_TUNNEL_INTERFACE_ID Object ............................13\n           3.1.1.
    Existing Definition and Usage ......................13\n           3.1.2. Unnumbered
    Links with Action Identification ........13\n           3.1.3. IPv4 Numbered Links
    with Action Identification .....16\n           3.1.4. IPv6 Numbered Links with
    Action Identification .....17\n      3.2. Target IGP Identification TLV .............................18\n
    \     3.3. Component Link Identification TLV .........................19\n           3.3.1.
    Unnumbered Component Link Identification ...........20\n           3.3.2. IPv4
    Numbered Component Link Identification ........20\n           3.3.3. IPv6 Numbered
    Component Link Identification ........21\n      3.4. Link State Advertisement
    ..................................21\n      3.5. Message Formats ...........................................22\n
    \     3.6. Error Cases and Non-Acceptance ............................22\n      3.7.
    Backward Compatibility ....................................24\n   4. Security
    Considerations ........................................25\n   5. IANA Considerations
    ............................................25\n      5.1. New Class Types ...........................................25\n
    \     5.2. Hierarchy Actions .........................................26\n      5.3.
    New Error Codes and Error Values ..........................26\n   6. Acknowledgements
    ...............................................27\n   7. References .....................................................27\n
    \     7.1. Normative References ......................................27\n      7.2.
    Informative References ....................................28\n"
  title: Table of Contents
- contents:
  - "1. Introduction and Problem Statement\n   Traffic Engineering (TE) links in a
    Multiprotocol Label Switching\n   (MPLS) or a Generalized MPLS (GMPLS) network
    may be constructed from\n   Label Switched Paths (LSPs) [RFC4206].  Such LSPs
    are known as\n   hierarchical LSPs (H-LSPs).\n   The LSPs established in one network
    may be used as TE links in\n   another network, and this is particularly useful
    when a server layer\n   network (for example, an optical network) provides LSPs
    for use as TE\n   links in a client network (for example, a packet network).  This\n
    \  enables the construction of a multilayer network (MLN) [RFC5212].\n   When
    the number of TE links (created from LSPs or otherwise) between\n   a pair of
    nodes grows large, it is inefficient to advertise them\n   individually.  This
    may cause scaling issues in configuration and in\n   the routing protocols used
    to carry the advertisements.  The solution\n   (described in [RFC4201]) is to
    collect the TE links together and to\n   advertise them as a single TE link called
    a link bundle.\n   These various mechanisms have proved to be very powerful in
    building\n   dynamically provisioned networks, but, as set out later in this\n
    \  document, several issues have been identified during deployment with\n   how
    LSPs are established and made available for use as H-LSPs or as\n   components
    of a link bundle, and with how these links are advertised\n   appropriately in
    an interior gateway protocol (IGP).  These issues\n   relate to how the LSP's
    endpoints coordinate two things: the use to\n   which the LSP is put and the identifiers
    of the endpoints.\n   This document provides solutions to these issues by defining\n
    \  mechanisms so that the ends of signaled LSPs can exchange information\n   about:\n
    \  - Whether the LSP is an ordinary LSP or an H-LSP.\n   - In which IGP instances
    the LSP should be advertised as a link.\n   - How the client networks should make
    use of the new links.\n   - Whether the link should form part of a bundle (and
    if so, which\n     bundle).\n   - How the link endpoints should be identified
    when advertised.\n   This document deprecates one of the mechanisms defined in
    [RFC4206]\n   for the signaling of LSPs that are to be used as numbered TE links\n
    \  (see Sections 1.3.6 and 1.4.6 for more details), and provides\n   extensions
    to the other mechanisms defined in [RFC4206] so that the\n   use to which the
    new LSP is to be put may be indicated during\n   signaling.  It also extends the
    mechanisms defined in [RFC3477] for\n   signaling unnumbered TE links.\n   The
    key words \"MUST\", \"MUST NOT\", \"REQUIRED\", \"SHALL\", \"SHALL NOT\",\n   \"SHOULD\",
    \"SHOULD NOT\", \"RECOMMENDED\", \"MAY\", and \"OPTIONAL\" in this\n   document
    are to be interpreted as described in [RFC2119].\n"
  - contents:
    - '1.1.  Background

      '
    - contents:
      - "1.1.1.  Hierarchical LSPs\n   [RFC3031] describes how MPLS labels may be
        stacked so that LSPs may\n   be nested with one LSP running through another.
        \ This concept of\n   H-LSPs is formalized in [RFC4206] with a set of protocol
        mechanisms\n   for the establishment of an H-LSP that can carry one or more
        other\n   LSPs.\n   [RFC4206] goes on to explain that an H-LSP may carry other
        LSPs only\n   according to their switching types.  This is a function of the
        way\n   labels are carried.  In a packet switch capable (PSC) network, the\n
        \  H-LSP can carry other PSC LSPs using the MPLS label stack.  In non-\n   packet
        networks where the label is implicit, label stacks are not\n   possible, and
        H-LSPs rely on the ability to nest switching\n   technologies.  Thus, for
        example, a lambda switch capable (LSC) LSP\n   can carry a time-division multiplexing
        (TDM) LSP, but cannot carry\n   another LSC LSP.\n   Signaling mechanisms
        defined in [RFC4206] allow an H-LSP to be\n   treated as a single hop in the
        path of another LSP (i.e., one hop of\n   the LSP carried by the H-LSP).  This
        mechanism is known as \"non-\n   adjacent signaling\".\n"
      title: 1.1.1.  Hierarchical LSPs
    - contents:
      - "1.1.2.  LSP Stitching Segments\n   LSP stitching is defined in [RFC5150].
        \ It enables LSPs of the same\n   switching type to be included (stitched)
        as hops in an end-to-end\n   LSP.  The stitching LSP (S-LSP) is used in the
        control plane in the\n   same way as an H-LSP, but in the data plane the LSPs
        are stitched so\n   that there is no label stacking or nesting of technologies.
        \ Thus, an\n   S-LSP must be of the same switching technology as the end-to-end
        LSP\n   that it facilitates.\n"
      title: 1.1.2.  LSP Stitching Segments
    - contents:
      - "1.1.3.  Private Links\n   An H-LSP or S-LSP can be used as a private link.
        \ Such links are\n   known by their endpoints, but are not more widely known
        and are not\n   advertised by routing protocols.  They can be used to carry
        traffic\n   between the endpoints, but are not usually used to carry traffic
        that\n   is going beyond the egress of the LSP.\n"
      title: 1.1.3.  Private Links
    - contents:
      - "1.1.4.  Routing Adjacencies\n   A routing adjacency is formed between two
        IGP speakers that are\n   logically adjacent.  In this sense, 'logically adjacent'
        means that\n   the routers have a protocol tunnel between them through which
        they\n   can exchange routing protocol messages.  The tunnel is also usually\n
        \  available for carrying IP data although a distinction should be made\n
        \  in GMPLS networks between data-plane traffic and control-plane\n   traffic.\n
        \  Routing adjacencies for forwarding data traffic are only relevant in\n
        \  PSC networks (i.e., IP/MPLS networks).\n"
      title: 1.1.4.  Routing Adjacencies
    - contents:
      - "1.1.5.  Forwarding Adjacencies\n   A Forwarding Adjacency (FA) is defined
        in [RFC4206] as a data link\n   created from an LSP and advertised in the
        same instance of the\n   control plane that advertises the TE links from which
        the LSP is\n   constructed.  The LSP itself is called an FA-LSP.\n   Thus,
        an H-LSP or S-LSP may form an FA such that it is advertised as\n   a TE link
        in the same instance of the routing protocol as was used to\n   advertise
        the TE links that the LSP traverses.\n   As observed in [RFC4206], the nodes
        at the ends of an FA would not\n   usually have a routing adjacency.\n"
      title: 1.1.5.  Forwarding Adjacencies
    - contents:
      - "1.1.6.  Client/Server Networks\n   An LSP may be created in one network and
        used as a link (sometimes\n   called a virtual link) in another network [RFC5212].
        \ In this case,\n   the networks are often referred to as server and client
        networks,\n   respectively.\n   The server network LSP is used as an H-LSP
        or an S-LSP as described\n   above, but it does not form an FA because the
        client and server\n   networks run separate instances of the control-plane
        routing\n   protocols.\n   The virtual link may be used in the client network
        as a private link\n   or may be advertised in the client network IGP.  Additionally,
        the\n   link may be used in the client network to form a routing adjacency\n
        \  and/or as a TE link.\n"
      title: 1.1.6.  Client/Server Networks
    - contents:
      - "1.1.7.  Link Bundles\n   [RFC4201] recognizes that a pair of adjacent routers
        may have a large\n   number of TE links that run between them.  This can be
        a considerable\n   burden to the operator who may need to configure them and
        to the IGP\n   that must distribute information about each of them.  A TE
        link\n   bundle is defined by [RFC4201] as a TE link that is advertised as
        an\n   aggregate of multiple TE links that could have been advertised in\n
        \  their own right.  All TE links that are collected into a TE link\n   bundle
        have the same TE properties.\n   Thus, a link bundle is a shorthand that improves
        the scaling\n   properties of the network.\n   Since a TE link may, itself,
        be an LSP (either an FA or a virtual\n   link), a link bundle may be constructed
        from FA-LSPs or virtual\n   links.\n"
      title: 1.1.7.  Link Bundles
    title: 1.1.  Background
  - contents:
    - "1.2.  Desired Function\n   It should be possible to signal an LSP and automatically
      coordinate\n   its use and advertisement in any of the ways described in Section
      1.3\n   with minimum involvement from an operator.  The mechanisms used\n   should
      be applicable to numbered and unnumbered links and should not\n   require implementation
      complexities.\n"
    title: 1.2.  Desired Function
  - contents:
    - "1.3.  Existing Mechanisms\n   This section briefly introduces existing protocol
      mechanisms used to\n   satisfy the desired function described in Section 1.2.\n"
    - contents:
      - "1.3.1.  LSP Setup\n   Both unidirectional LSPs and bidirectional LSPs are
        signaled from the\n   ingress label switching router (LSR) to the egress LSR.
        \ That is, the\n   ingress LSR is the initiator, and the egress learns about
        the LSP\n   through the signaling protocol [RFC3209] [RFC3473].\n"
      title: 1.3.1.  LSP Setup
    - contents:
      - "1.3.2.  Routing Adjacency Establishment and Link State Advertisement\n   Although
        hosts can discover routers (for example, through ICMP\n   [RFC1256]), routing
        adjacencies are usually configured at both ends\n   of the adjacency.  This
        requires that each router know the identity\n   of the router at the other
        end of the link connecting the routers,\n   and know that the IGP is to be
        run on this link.\n   Once a routing adjacency has been established, a pair
        of routers may\n   use the IGP to share information about the links available
        for\n   carrying IP traffic in the network.\n   Suitable routing protocols
        are OSPF version 2 [RFC2328], OSPF version\n   3 [RFC5340], and IS-IS [RFC1195].\n"
      title: 1.3.2.  Routing Adjacency Establishment and Link State Advertisement
    - contents:
      - "1.3.3.  TE Link Advertisement\n   Extensions have been made to IGPs to advertise
        TE link properties\n   ([RFC3630], [RFC5329], [RFC5305], [RFC5308], and [ISIS-IPV6-TE])
        and\n   also to advertise link properties in GMPLS networks ([RFC4202],\n
        \  [RFC4203], and [RFC5307]).\n   TE link advertisement can be performed by
        the same instance of the\n   IGP as is used for normal link state advertisement,
        or can use a\n   separate instance.  Furthermore, the ends of a TE link advertised
        in\n   an IGP do not need to form a routing adjacency.  This is particularly\n
        \  the case with FAs as described in Section 1.1.5.\n"
      title: 1.3.3.  TE Link Advertisement
    - contents:
      - "1.3.4.  Configuration and Management Techniques\n   LSPs are usually created
        as the result of a management action.  This\n   is true even when a control
        plane is used: the management action is a\n   request to the control plane
        to signal the LSP.\n   If the LSP is to be used as an H-LSP or S-LSP, management
        commands\n   can be used to install the LSP as a link.  The link must be defined,\n
        \  interface identifiers allocated, and the endpoints configured to know\n
        \  about (and advertise, if necessary) the new link.\n   If the LSP is to
        be used as part of a link bundle, the operator must\n   decide which bundle
        it forms part of and ensure that information is\n   configured at the ingress
        and egress, along with the necessary\n   interface identifiers.\n   These
        mechanisms are perfectly functional and quite common in MLNs,\n   but require
        configuration coordination and additional management.\n   They are open to
        user error and misconfiguration that might result in\n   the LSP not being
        used (a waste of resources) or the LSP being made\n   available in the wrong
        way with some impact on traffic engineering.\n"
      title: 1.3.4.  Configuration and Management Techniques
    - contents:
      - "1.3.5.  Signaled Unnumbered FAs\n   [RFC3477] describes how to establish
        an LSP and to make it available\n   automatically as a TE link in the same
        instance of the routing\n   protocol as advertises the TE links it traverses,
        using IPv4-based\n   unnumbered identifiers to identify the new TE link.  That
        is,\n   [RFC3477] describes how to create an unnumbered FA.\n   The mechanism,
        as defined in Section 3 of [RFC3477], is briefly as\n   follows:\n   - The
        ingress of the LSP signals the LSP as normal using a Path\n     message, and
        includes an LSP_TUNNEL_INTERFACE_ID object.  The\n     LSP_TUNNEL_INTERFACE_ID
        object identifies:\n     - The sender's LSR Router ID\n     - The sender's
        interface ID for the TE link being created\n   - The egress of the LSP responds
        as normal to accept the LSP and set\n     it up, and includes an LSP_TUNNEL_INTERFACE_ID
        object.  The\n     LSP_TUNNEL_INTERFACE_ID object identifies:\n     - The
        egress's LSR Router ID\n     - The egress's interface ID for the TE link being
        created.\n   - Following the exchange of the Path and Resv messages, both
        the\n     ingress and the egress know that the LSP is to be advertised as
        a\n     TE link in the same instance of the routing protocol as was used to\n
        \    advertise the TE links that it traverses, and also know the\n     unnumbered
        interface identifiers to use in the advertisement.\n   [RFC3477] does not
        include mechanisms to support IPv6-based\n   unnumbered identifiers, nor IPv4
        or IPv6 numbered identifiers.\n"
      title: 1.3.5.  Signaled Unnumbered FAs
    - contents:
      - "1.3.6.  Establishing Numbered FAs through Signaling and Routing\n   [RFC4206]
        describes procedures to establish an LSP and to make it\n   available automatically
        as a TE link that is identified using IPv4\n   addresses in the same instance
        of the routing protocol as advertises\n   the TE links it traverses (that
        is, as a numbered FA).\n   The mechanism, as defined in [RFC4206], is briefly
        as follows:\n   - The ingress of the LSP signals the LSP as normal using a
        Path\n     message, and sets the IPv4 tunnel sender address to the IP address\n
        \    it will use to identify its interface for the TE link being\n     created.
        \ This is one address from a /31 pair.\n   - The egress of the LSP responds
        as normal to accept the LSP and set\n     it up.  It infers the address that
        it must assign to identify its\n     interface for the TE link being created
        as the partner address of\n     the /31 pair.\n   - The ingress decides whether
        the LSP is to be advertised as a TE\n     link (i.e., as an FA).  If so, it
        advertises the link in the IGP in\n     the usual way.\n   - If the link is
        unidirectional, nothing more needs to be done.  If\n     the link is bidirectional,
        the egress must also advertise the link,\n     but it does not know that advertisement
        is required as there is no\n     indication in the signaling messages.\n   -
        When the ingress's advertisement of the link is received by the\n     egress,
        it must check to see whether it is the egress of the LSP\n     that formed
        the link.  Typically, this means the egress:\n     - Checks to see if the
        link advertisement is new.\n     - Checks to see if the Link-ID address in
        the received\n       advertisement matches its own TE Router ID.\n     - Checks
        the advertising router ID from the advertisement against\n       the ingress
        address of each LSP for which it is the egress.\n     - Deduces the LSP that
        has been advertised as a TE link and issues\n       the corresponding advertisement
        for the reverse direction.\n   It is possible that some reduction in processing
        can be achieved by\n   mapping based on the /31 pairing, but nevertheless,
        there is a fair\n   amount of processing required, and this does not scale
        well in large\n   networks.\n   Note that this document deprecates this procedure
        as explained in\n   Section 1.4.6.\n   No explanation is provided in [RFC4206]
        of how to create numbered\n   IPv6 FAs.\n"
      title: 1.3.6.  Establishing Numbered FAs through Signaling and Routing
    title: 1.3.  Existing Mechanisms
  - contents:
    - "1.4.  Overview of Required Extensions\n   This section provides a brief outline
      of the required protocol\n   extensions.\n"
    - contents:
      - "1.4.1.  Efficient Signaling of Numbered FAs\n   The mechanism described in
        Section 1.3.6 is inefficient.  The egress\n   must wait until it receives
        an advertisement from the ingress before\n   it knows that the LSP is to be
        installed as a TE link and advertised\n   as an FA.  Further, it must parse
        all received advertisements to\n   determine if any is the trigger for it
        to advertise an FA.\n   An efficient signaling mechanism is required so that
        the egress is\n   informed by the ingress during LSP establishment.\n"
      title: 1.4.1.  Efficient Signaling of Numbered FAs
    - contents:
      - "1.4.2.  LSPs for Use as Private Links\n   There is currently no mechanism
        by which an ingress can indicate that\n   an LSP is set up for use as a private
        link.  Any attempt to make it a\n   link would currently cause it to be advertised
        as an FA.\n   A signaling mechanism is needed to identify the use to which
        an LSP\n   is to be put.\n"
      title: 1.4.2.  LSPs for Use as Private Links
    - contents:
      - "1.4.3.  Signaling an LSP for Use in Another Network\n   The existing signaling/routing
        mechanisms are designed for use in the\n   creation of FAs.  That is, the
        TE link created is advertised in the\n   single IGP instance.\n   The numbered
        TE link mechanism (Section 1.3.6) could, in theory, be\n   used in an MLN
        with multiple IGP instances if the addressing model is\n   kept consistent
        across the networks, and if the egress searches all\n   advertisements in
        all IGP instances.  However, this is complex and\n   does not work for unnumbered
        interfaces.\n   A signaling mechanism is required to indicate in which IGP
        instance\n   the TE link should be advertised.\n"
      title: 1.4.3.  Signaling an LSP for Use in Another Network
    - contents:
      - "1.4.4.  Signaling an LSP for Use in a Link Bundle\n   A signaling mechanism
        is required to indicate that an LSP is intended\n   to form a component link
        of a link bundle, and to identify the bundle\n   and the IGP instance in which
        the bundle is advertised.\n"
      title: 1.4.4.  Signaling an LSP for Use in a Link Bundle
    - contents:
      - "1.4.5.  Support for IPv4 and IPv6\n   The protocol mechanisms must support
        IPv4 and IPv6 numbered and\n   unnumbered TE links.\n"
      title: 1.4.5.  Support for IPv4 and IPv6
    - contents:
      - "1.4.6.  Backward Compatibility\n   The existing protocol mechanisms for unnumbered
        FAs as defined in\n   [RFC4206] and [RFC3477] must continue to be supported,
        and new\n   mechanisms must be devised such that their introduction will not\n
        \  break existing implementations or deployments.\n   Note that an informal
        survey in the CCAMP working group established\n   that there are no significant
        deployments of numbered FAs established\n   using the technique described
        in [RFC4206] and set out in Section\n   1.3.6.  Therefore, this document deprecates
        this procedure.\n"
      title: 1.4.6.  Backward Compatibility
    title: 1.4.  Overview of Required Extensions
  title: 1. Introduction and Problem Statement
- contents:
  - "2.  Overview of Solution\n   This section provides an overview of the mechanisms
    and protocol\n   extensions defined in this document.  Details are presented in\n
    \  Section 3.\n"
  - contents:
    - "2.1.  Common Approach for Numbered and Unnumbered Links\n   The LSP_TUNNEL_INTERFACE_ID
      object [RFC3477] is extended for use for\n   all H-LSPs and S-LSPs whether they
      form numbered or unnumbered IPv4\n   or IPv6 links.  Different Class Types of
      the object identify the\n   address type for which it applies.\n"
    title: 2.1.  Common Approach for Numbered and Unnumbered Links
  - contents:
    - "2.2.  LSP Usage Indication\n   The LSP_TUNNEL_INTERFACE_ID object is given
      flags in a new Actions\n   field to say how the LSP is to be used.  The following
      categories are\n   supported:\n   - The LSP is used as an advertised TE link.\n
      \  - The LSP is used to form a routing adjacency.\n   - The LSP is used to form
      an advertised TE link and a routing\n     adjacency.\n   - The LSP forms a private
      link and is not advertised.\n   - The LSP is used as part of a link bundle.\n
      \  - The LSP is used as a hierarchical LSP or a stitching segment.\n"
    title: 2.2.  LSP Usage Indication
  - contents:
    - "2.3.  IGP Instance Identification\n   An optional TLV is added to the LSP_TUNNEL_INTERFACE_ID
      object to\n   identify the IGP instance into which the link formed by the LSP
      is to\n   be advertised.  If the TLV is absent and the link is to be advertised\n
      \  as indicated by the Actions field, the link is advertised in the same\n   instance
      of the IGP as was used to advertise the TE links it\n   traverses.\n"
    title: 2.3.  IGP Instance Identification
  - contents:
    - "2.4.  Link Bundle Identification\n   When an LSP is to be used as a component
      link of a link bundle, the\n   LSP_TUNNEL_INTERFACE_ID object refers to the
      bundle indicating how\n   the bundle is addressed and used, and a new TLV indicates
      the\n   component link identifier for the link that the LSP creates.\n"
    title: 2.4.  Link Bundle Identification
  - contents:
    - "2.5.  Backward Compatibility\n   Backward compatibility has three aspects.\n
      \  - Existing mechanisms for unnumbered FAs described in [RFC3477] and\n     [RFC4206]
      must continue to work, so that ingress nodes do not have\n     to be updated
      when egresses are updated.\n   - Existing mechanisms for establishing numbered
      FAs described in\n     [RFC4206] are safely deprecated by this document, as
      they are not\n     significantly deployed.\n   - New mechanisms must be gracefully
      rejected by existing egress\n     implementations so that egress nodes do not
      have to be updated when\n     ingresses are updated.\n"
    title: 2.5.  Backward Compatibility
  title: 2.  Overview of Solution
- contents:
  - "3.  Mechanisms and Protocol Extensions\n   This section defines protocol mechanisms
    and extensions to achieve\n   the function described in the previous section.\n"
  - contents:
    - "3.1.  LSP_TUNNEL_INTERFACE_ID Object\n   The principal signaling protocol element
      used to achieve all of the\n   required functions is the LSP_TUNNEL_INTERFACE_ID
      object defined in\n   [RFC3477].  The existing definition and usage continues
      to be\n   supported as described in the next section.  Subsequent sections\n
      \  describe new variants of the object (denoted by new Class Types), and\n   additional
      information carried in the object by means of extensions.\n"
    - contents:
      - "3.1.1.  Existing Definition and Usage\n   This document does not deprecate
        the mechanisms defined in [RFC3477]\n   and [RFC4206].  Those procedures must
        continue to operate as\n   described in Section 3.7.\n   That means that the
        LSP_TUNNEL_INTERFACE_ID object with Class Type 1\n   remains unchanged, and
        can be used to establish an LSP that will be\n   advertised as an unnumbered
        TE link in the same instance of the IGP\n   as was used to advertise the TE
        links that the LSP traverses (that\n   is, as an FA).  The procedure is unchanged
        and operates as summarized\n   in Section 1.3.5.\n   [RFC3477] does not make
        any suggestions about where in Path or Resv\n   messages the LSP_TUNNEL_INTERFACE_ID
        object should be placed.  See\n   Section 3.5 for recommended placement of
        this object in new\n   implementations.\n"
      title: 3.1.1.  Existing Definition and Usage
    - contents:
      - "3.1.2.  Unnumbered Links with Action Identification\n   A new C-Type variant
        of the LSP_TUNNEL_INTERFACE_ID object is defined\n   to carry an unnumbered
        interface identifier and to indicate into\n   which instance of the IGP the
        consequent TE link should be\n   advertised.  This does not deprecate the
        use of C-Type 1.\n   The format of the object is as shown below.\n   C-NUM
        = 193, C-Type = 4\n    0                   1                   2                   3\n
        \   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |                        LSR's Router ID                        |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |                    Interface ID (32 bits)                     |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |    Actions    |                Reserved                       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  ~                           TLVs                                ~\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \     LSR's Router ID\n         Unchanged from the definition in [RFC3477].\n
        \     Interface ID\n         Unchanged from the definition in [RFC3477].\n
        \     Actions\n         This field specifies how the LSP that is being set
        up is to be\n         treated.\n         The field has meaning only on a Path
        message.  On a Resv\n         message, the field SHOULD be set to reflect
        the value received\n         on the corresponding Path message, and it MUST
        be ignored on\n         receipt.\n         The field is composed of bit flags
        as follows:\n          -+-+-+-+-+-+-+-\n         | | | |H|B|R|T|P|\n          -+-+-+-+-+-+-+-\n
        \        P-flag (Private)\n           0 means that the LSP is to be advertised
        as a link according\n             to the settings of the other flags.\n           1
        means the LSP is to form a private link and is not to be\n             advertised
        in the IGP, but is to be used according to the\n             settings of the
        other flags.\n         T-flag (TE link)\n           0 means that the LSP is
        to be used as a TE link.\n           1 means that the LSP is not to be used
        as a TE link.  It may\n             still be used as an IP link providing
        a routing adjacency\n             as defined by the R-flag.\n         R-flag
        (Routing adjacency)\n           0 means that the link is not to be used as
        a routing\n             adjacency.\n           1 means that the link is to
        be used to form a routing\n             adjacency.\n         B-flag (Bundle)\n
        \          0 means that the LSP will not form part of a link bundle.\n           1
        means that the LSP will form part of a bundle.  See Section\n             3.3
        for more details.\n         H-flag (Hierarchy/stitching)\n           The use
        of an LSP as an H-LSP or as an S-LSP is usually\n           implicit from
        the network technologies of the networks and\n           the LSP, but this
        is not always the case (for example, in PSC\n           networks).\n           0
        means that the LSP is to be used as a hierarchical LSP.\n           1 means
        that the LSP is to be used as a stitching segment.\n         Other bits are
        reserved for future use.  They MUST be set to\n         zero on transmission
        and SHOULD be ignored on receipt.\n         Note that all defined bit flags
        have meaning at the same time.\n         An LSP that is to form an FA would
        carry the Actions field set\n         to 0x00.  That is:\n            P=0
        (advertised)\n            T=0 (TE link)\n            R=0 (not a routing adjacency)\n
        \           B=0 (not a bundle)\n            H=0 (hierarchical LSP)\n      Reserved\n
        \        The Reserved bits MUST be set to zero on transmission and\n         SHOULD
        be ignored on receipt.\n      TLVs\n         Zero, one, or more TLVs may be
        present.  Each TLV is encoded as\n         follows:\n           Type (16 bits)\n
        \            The identifier of the TLV.  Two type values are defined in\n
        \            this document:\n             1  IGP Instance Identifier TLV\n
        \            2  Unnumbered Component Link Identifier TLV\n             3  IPv4
        Numbered Component Link Identifier TLV\n             4  IPv6 Numbered Component
        Link Identifier TLV\n           Length (16 bits)\n             Indicates the
        total length of the TLV in octets, i.e., 4 +\n             the length of the
        value field in octets.  A value field\n             whose length is not a
        multiple of four MUST be zero-padded\n             so that the TLV is four-octet
        aligned.\n           Value\n             The data for the TLV padded as described
        above.\n   If this object is carried in a Path message, it is known as the\n
        \  \"Forward Interface ID\" for the LSP that is being set up.  On a Resv\n
        \  message, the object is known as the \"Reverse Interface ID\" for the\n
        \  LSP.\n"
      title: 3.1.2.  Unnumbered Links with Action Identification
    - contents:
      - "3.1.3.  IPv4 Numbered Links with Action Identification\n   A new C-Type variant
        of the LSP_TUNNEL_INTERFACE_ID object is defined\n   to carry an IPv4 numbered
        interface address.\n   The format of the object is as shown below.\n   C-NUM
        = 193, C-Type = 2\n    0                   1                   2                   3\n
        \   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |               IPv4 Interface Address                          |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |    Actions    |                Reserved                       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  ~                           TLVs                                ~\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \     IPv4 Interface Address\n         The address assigned to the interface
        that the sender applies\n         to this LSP.\n      Actions\n         See
        Section 3.1.2.\n      Reserved\n         See Section 3.1.2.\n      TLVs\n
        \        See Section 3.1.2.\n   If this object is carried in a Path message,
        it is known as the\n   \"Forward Interface ID\" for the LSP that is being
        set up.  On a Resv\n   message, the object is known as the \"Reverse Interface
        ID\" for the\n   LSP.\n"
      title: 3.1.3.  IPv4 Numbered Links with Action Identification
    - contents:
      - "3.1.4.  IPv6 Numbered Links with Action Identification\n   A new C-Type variant
        of the LSP_TUNNEL_INTERFACE_ID object is defined\n   to carry an IPv6 numbered
        interface address.\n   The format of the object is as shown below.\n   C-NUM
        = 193, C-Type = 3\n    0                   1                   2                   3\n
        \   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |               IPv6 Interface Address (128 bits)               |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |               IPv6 Interface Address (continued)              |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |               IPv6 Interface Address (continued)              |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |               IPv6 Interface Address (continued)              |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |    Actions    |                Reserved                       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  ~                           TLVs                                ~\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \     IPv6 Interface Address\n         The address assigned to the interface
        the sender applies to\n         this LSP.\n      Actions\n         See Section
        3.1.2.\n      Reserved\n         See Section 3.1.2.\n      TLVs\n         See
        Section 3.1.2.\n   If this object is carried in a Path message, it is known
        as the\n   \"Forward Interface ID\" for the LSP that is being set up.  On
        a Resv\n   message, the object is known as the \"Reverse Interface ID\" for
        the\n   LSP.\n"
      title: 3.1.4.  IPv6 Numbered Links with Action Identification
    title: 3.1.  LSP_TUNNEL_INTERFACE_ID Object
  - contents:
    - "3.2.  Target IGP Identification TLV\n   If the LSP being set up is to be advertised
      as a link, the egress\n   needs to know which instance of the IGP it should
      use to make the\n   advertisement.  The default in [RFC4206] and [RFC3477] is
      that the\n   LSP is advertised as an FA, that is, in the same instance of the
      IGP\n   as was used to advertise the TE links that the LSP traverses.\n   In
      order to facilitate an indication from the ingress to the egress\n   of which
      IGP instance to use, the IGP Identification TLV is defined\n   for inclusion
      in the new variants of the LSP_TUNNEL_INTERFACE_ID\n   object defined in this
      document.\n   The TLV has meaning only in a Path message.  It SHOULD NOT be\n
      \  included in the LSP_TUNNEL_INTERFACE_ID object in a Resv message and\n   MUST
      be ignored if found.\n   If the P-flag in the Actions field of the LSP_TUNNEL_INTERFACE_ID\n
      \  object in a Path message is clear (i.e., zero), this TLV indicates\n   the
      IGP instance to use for the advertisement.  If the TLV is absent,\n   the same
      instance of the IGP should be used as is used to advertise\n   the TE links
      that the LSP traverses.  Thus, for an FA, the TLV can be\n   omitted; alternatively,
      the IGP Instance TLV may be present and\n   identify the IGP instance or carry
      the reserved value 0xffffffff.\n   If the P-flag in the Actions field in the
      LSP_TUNNEL_INTERFACE_ID\n   object in a Resv message is set (i.e., one) indicating
      that the LSP\n   is not to be advertised as a link, this TLV SHOULD NOT be present
      and\n   MUST be ignored if encountered.\n   The TLV is formatted as described
      in Section 3.1.2.  The Type field\n   has the value 1, and the Value field has
      the following content:\n    0                   1                   2                   3\n
      \   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \  |                   IGP Instance Identifier                     |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \  IGP Instance Identifier\n      A 32-bit identifier assigned to each of the
      IGP instances within a\n      network, such that ingress and egress LSRs have
      the same\n      understanding of these numbers.  This is a management\n      configuration
      exercise outside the scope of this document.\n      Note that the IGP Instance
      Identifier might be mapped from an\n      instance identifier used in the IGP
      itself (such as section 2.4 of\n      [RFC5340] for OSPFv3, or [OSPFv2-MI] for
      OSPFv2) as a matter of\n      network policy.  See [OSPF-TI] for further discussion
      of this\n      topic in OSPF, and [ISIS-GENAP] for IS-IS.\n      The value 0xffffffff
      is reserved to mean that the LSP is to be\n      advertised in the same instance
      of the IGP as was used to\n      advertise the TE links that the LSP traverses.\n"
    title: 3.2.  Target IGP Identification TLV
  - contents:
    - "3.3.  Component Link Identification TLV\n   If the LSP that is being set up
      is to be used as a component link in\n   a link bundle [RFC4201], it is necessary
      to indicate both the\n   identity of the component link and the identity of
      the link bundle.\n   Furthermore, it is necessary to indicate how the link bundle
      (that\n   may be automatically created by the establishment of this LSP) is
      to\n   be used and advertised.\n   If the B-flag in the Actions field of the
      LSP_TUNNEL_INTERFACE_ID\n   object is set, the other fields of the object apply
      to the link\n   bundle itself.  That is, the interface identifiers (numbered
      or\n   unnumbered) and the other flags in the Actions field apply to the\n   link
      bundle and not to the component link that the LSP will form.\n   Furthermore,
      the IGP Instance Identifier TLV (if present) also\n   applies to the link bundle
      and not to the component link.\n   In order to exchange the identity of the
      component link, the\n   Component Link Identifier TLVs are introduced as set
      out in the next\n   sections.  If the B-flag is set in the Actions field of
      the\n   LSP_TUNNEL_INTERFACE_ID object in the Path message, exactly one of\n
      \  these TLVs MUST be present in the LSP_TUNNEL_INTERFACE_ID object in\n   both
      the Path and Resv objects.\n"
    - contents:
      - "3.3.1.  Unnumbered Component Link Identification\n   If the component link
        is to be unnumbered, the Unnumbered Component\n   Link Identifier TLV is used.
        \ The TLV is formatted as described in\n   Section 3.1.2.  The Type field
        has the value 2, and the Value field\n   has the following content:\n    0
        \                  1                   2                   3\n    0 1 2 3
        4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |                   Component Link Identifier                   |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \     Component Link Identifier\n         Unnumbered identifier that is assigned
        to this component link\n         within the bundle [RFC4201].\n"
      title: 3.3.1.  Unnumbered Component Link Identification
    - contents:
      - "3.3.2.  IPv4 Numbered Component Link Identification\n   If the component
        link is identified with an IPv4 address, the IPv4\n   Numbered Component Link
        Identifier TLV is used.  The TLV is formatted\n   as described in Section
        3.1.2.  The Type field has the value 3, and\n   the Value field has the following
        content:\n    0                   1                   2                   3\n
        \   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |                         IPv4 Address                          |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  IPv4 Address\n      The IPv4 address that is assigned to this component
        link within\n      the bundle.\n"
      title: 3.3.2.  IPv4 Numbered Component Link Identification
    - contents:
      - "3.3.3.  IPv6 Numbered Component Link Identification\n   If the component
        link is identified with an IPv6 address, the IPv6\n   Numbered Component Link
        Identifier TLV is used.  The TLV is formatted\n   as described in Section
        3.1.2.  The Type field has the value 4, and\n   the Value field has the following
        content:\n    0                   1                   2                   3\n
        \   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |                         IPv6 Address                          |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |                   IPv6 Address (continued)                    |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |                   IPv6 Address (continued)                    |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |                   IPv6 Address (continued)                    |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  IPv6 Address\n      The IPv6 address that is assigned to this component
        link within\n      the bundle.\n"
      title: 3.3.3.  IPv6 Numbered Component Link Identification
    title: 3.3.  Component Link Identification TLV
  - contents:
    - "3.4.  Link State Advertisement\n   The ingress and egress of an LSP that is
      set up using the\n   LSP_TUNNEL_INTERFACE_ID object MUST advertise the LSP as
      agreed in\n   the parameters of the object.\n   Where a TE link is created from
      the LSP, the TE link SHOULD inherit\n   the TE properties of the LSP as described
      in [RFC5212], but this\n   process is subject to local and network-wide policy.\n
      \  It is possible that an LSP will be used to offer capacity and\n   connectivity
      to multiple other networks.  In this case, multiple\n   instances of the LSP_TUNNEL_INTERFACE_ID
      object are permitted in the\n   same Path and Resv messages.  Each instance
      MUST have a different IGP\n   Instance Identifier.\n   Note, however, that a
      Path or Resv message MUST NOT contain more than\n   one instance of the LSP_TUNNEL_INTERFACE_ID
      object with C-Type 1, and\n   if such an object is present, all other instances
      of the\n   LSP_TUNNEL_INTERFACE_ID object MUST include an IGP Instance\n   Identifier
      TLV with IGP Instance Identifier set to a value that\n   identifies some other
      IGP instance (in particular, not the value\n   0xffffffff).\n   If the link
      created from an LSP is advertised in the same IGP\n   instance as was used to
      advertise the TE links that the LSP\n   traverses, the addresses for the new
      link and for the links from\n   which it is built MUST come from the same address
      space.\n   If the link is advertised into another IGP instance, the addresses\n
      \  MAY be drawn from overlapping address spaces such that some addresses\n   have
      different meanings in each IGP instance.\n   In the IGP, the TE Router ID of
      the ingress LSR is taken from the\n   Tunnel Sender Address in the Sender Template
      object signaled in the\n   Path message.  It is assumed that the ingress LSR
      knows the TE Router\n   ID of the egress LSR since it has chosen to establish
      an LSP to that\n   LSR and plans to use the LSP as a TE link.\n   The link interface
      addresses or link interface identifiers for the\n   forward and reverse direction
      links are taken from the\n   LSP_TUNNEL_INTERFACE_ID object on the Path and
      Resv messages,\n   respectively.\n   When an LSP is torn down through explicit
      action (a PathTear message\n   or a PathErr message with the Path_State_Removed
      flag set), the\n   ingress and egress LSRs SHOULD withdraw the advertisement
      of any link\n   that the LSP created and that was previously advertised.  The
      link\n   state advertisement MAY be retained as a virtual link in another\n
      \  layer network according to network-wide policy [PCE-LAYER].\n"
    title: 3.4.  Link State Advertisement
  - contents:
    - "3.5.  Message Formats\n   [RFC3477] does not state where in the Path message
      or Resv message\n   the LSP_TUNNEL_INTERFACE_ID object should be placed.\n   It
      is RECOMMENDED that new implementations place the\n   LSP_TUNNEL_INTERFACE_ID
      objects in the Path message immediately after\n   the SENDER_TSPEC object, and
      in the Resv message immediately after\n   the FILTER_SPEC object.\n   All implementations
      SHOULD be able to handle received messages with\n   objects in any order, as
      described in [RFC3209].\n"
    title: 3.5.  Message Formats
  - contents:
    - "3.6.  Error Cases and Non-Acceptance\n   Error cases and non-acceptance of
      new object variants caused by back-\n   level implementations are discussed
      in Section 3.7.\n   An egress LSR that receives an LSP_TUNNEL_INTERFACE_ID object
      may\n   have cause to reject the parameters carried in the object for a\n   number
      of reasons as set out below.  In all cases, the egress SHOULD\n   respond with
      a PathErr message with the error code as indicated in\n   the list below.  In
      most cases, the error will arise during LSP\n   setup, no Resv state will exist,
      and the PathErr will cause Path\n   state to be removed.  Where the error arises
      after the LSP has been\n   successfully set up, the PathErr SHOULD be sent with
      the\n   Path_State_Removed flag [RFC3473] clear so that the LSP remains\n   operational.\n
      \  The error cases identified are as follows and are reported using the\n   new
      error code 'LSP Hierarchy Issue' (code 38) and the error values\n   listed below.\n
      \  Error | Error | Error-case\n   code  | value |\n   ------+-------+------------------------------------------------------\n
      \   38        1    Link advertisement not supported\n    38        2    Link
      advertisement not allowed by policy\n    38        3    TE link creation not
      supported\n    38        4    TE link creation not allowed by policy\n    38
      \       5    Routing adjacency creation not supported\n    38        6    Routing
      adjacency creation not allowed by policy\n    38        7    Bundle creation
      not supported\n    38        8    Bundle creation not allowed by policy\n    38
      \       9    Hierarchical LSP not supported\n    38       10    LSP stitching
      not supported\n    38       11    Link address type or family not supported\n
      \   38       12    IGP instance unknown\n    38       13    IGP instance advertisement
      not allowed by policy\n    38       14    Component link identifier not valid\n
      \   38       15    Unsupported component link identifier address family\n   When
      an ingress LSR receives an LSP_TUNNEL_INTERFACE_ID object on a\n   Resv message,
      it may need to reject it because of the setting of\n   certain parameters in
      the object.  Since these reasons all represent\n   errors rather than mismatches
      of negotiable parameters, the ingress\n   SHOULD respond with a PathTear to
      remove the LSP.  The ingress MAY\n   use a ResvErr with one of the following
      error codes, allowing the\n   egress the option to correct the error in a new
      Resv message, or to\n   tear down the LSP with a PathErr with the Path_State_Removed
      flag\n   set.  An ingress that uses the ResvErr MUST take precautions against\n
      \  a protocol loop where the egress responds with the same\n   LSP_TUNNEL_INTERFACE_ID
      object with the same (or different) issues.\n   Error | Error | Error-case\n
      \  code  | value |\n   ------+-------+------------------------------------------------------\n
      \   38       11    Link address type or family not supported\n    38       14
      \   Component link identifier not valid\n    38       15    Unsupported component
      link identifier address family\n    38       16    Component link identifier
      missing\n"
    title: 3.6.  Error Cases and Non-Acceptance
  - contents:
    - "3.7.  Backward Compatibility\n   The LSP_TUNNEL_INTERFACE_ID object defined
      in [RFC3477] has a class\n   number of 193.  According to [RFC2205], this means
      that a node that\n   does not understand the object SHOULD ignore the object
      but forward\n   it, unexamined and unmodified.  Thus, there are no issues with\n
      \  transit LSRs supporting the pre-existing or new Class Types of this\n   object.\n
      \  A back-level ingress node will behave as follows:\n   - It will not issue
      Path messages containing LSP_TUNNEL_INTERFACE_ID\n     objects with the new
      Class Types defined in this document.\n   - It will reject Resv messages containing
      LSP_TUNNEL_INTERFACE_ID\n     objects with the new Class Types defined in this
      document as\n     described in [RFC2205].  In any case, such a situation would\n
      \    represent an error by the egress.\n   - It will continue to use the LSP_TUNNEL_INTERFACE_ID
      object with\n     Class Type 1 as defined in [RFC3477].  This behavior is supported\n
      \    by back-level egresses and by egresses conforming to this document.\n   -
      According to an informal survey, there is no significant deployment\n     of
      numbered FA establishment following the procedures defined in\n     [RFC4206]
      and set out in Section 1.3.6 of this document.  It is\n     therefore safe to
      assume that back-level ingress LSRs will not use\n     this mechanism.\n   A
      back-level egress node will behave as follows:\n   - It will continue to support
      the LSP_TUNNEL_INTERFACE_ID object with\n     Class Type 1, as defined in [RFC3477],
      if issued by an ingress.\n   - It will reject a Path message that carries an\n
      \    LSP_TUNNEL_INTERFACE_ID object with any of the new Class Types\n     defined
      in this document using the procedures of [RFC2205].  This\n     will inform
      the ingress that the egress is a back-level LSR.\n   - It will not expect to
      use the procedures for numbered FA\n     establishment defined in [RFC4206]
      and set out in Section 1.3.6 of\n     this document.\n   In summary, the new
      mechanisms defined in this document do not impact\n   the method to exchange
      unnumbered FA information described in\n   [RFC3477].  That mechanism can be
      safely used in combination with the\n   new mechanisms described here and is
      functionally equivalent to using\n   the new C-Type indicating an unnumbered
      link with target IGP instance\n   identifier with the Target IGP Instance value
      set to 0xffffffff.\n   The mechanisms in this document obsolete the method to
      exchange the\n   numbered FA information described in [RFC4206] as described
      in\n   Section 1.4.6.\n"
    title: 3.7.  Backward Compatibility
  title: 3.  Mechanisms and Protocol Extensions
- contents:
  - "4.  Security Considerations\n   [RFC3477] points out that one can argue that
    the use of the extra\n   interface identifier that it provides could make an RSVP
    message\n   harder to spoof.  In that respect, the minor extensions to the\n   protocol
    made in this document do not constitute an additional\n   security risk, but could
    also be said to improve security.\n   It should be noted that the ability of an
    ingress LSR to request that\n   an egress LSR advertise an LSP as a TE link MUST
    be subject to\n   appropriate policy checks at the egress LSR.  That is, the egress
    LSR\n   MUST NOT automatically accept the word of the ingress unless it is\n   configured
    with such a policy.\n   Further details of security for MPLS-TE and GMPLS can
    be found in\n   [RFC5920].\n"
  title: 4.  Security Considerations
- contents:
  - '5.  IANA Considerations

    '
  - contents:
    - "5.1.  New Class Types\n   IANA maintains a registry of RSVP parameters called
      \"Resource\n   Reservation Protocol (RSVP) Parameters\" with a sub-registry
      called\n   \"Class Names, Class Numbers, and Class Types\".  There is an entry
      in\n   this registry for the LSP_TUNNEL_INTERFACE_ID object defined in\n   [RFC3477]
      with one Class Type defined.\n   IANA has allocated three new Class Types for
      this object as defined\n   in Sections 3.1.2, 3.1.3, and 3.1.4 as follows:\n
      \  C-Type       Meaning                                 Reference\n   ---------------------------------------------------------------\n
      \    2          IPv4 interface identifier with target   [RFC6107]\n     3          IPv6
      interface identifier with target   [RFC6107]\n     4          Unnumbered interface
      with target        [RFC6107]\n"
    title: 5.1.  New Class Types
  - contents:
    - "5.2.  Hierarchy Actions\n   Section 3.1.2 defines an 8-bit flags field in the\n
      \  LSP_TUNNEL_INTERFACE_ID object.  IANA has created a new sub-registry\n   of
      the \"Generalized Multi-Protocol Label Switching (GMPLS) Signaling\n   Parameters\"
      registry called the \"Hierarchy Actions\" sub-registry as\n   follows:\n   Registry
      Name: Hierarchy Actions\n   Reference: [RFC6107]\n   Registration Procedures:
      Standards Action\n   Registry:\n   Bit Number  Hex Value    Name                     Reference\n
      \  ----------  -----------  -----------------------  ---------\n   0-2                      Unassigned\n
      \  3           0x10         Hierarchy/stitching (H)  [RFC6107]\n   4           0x08
      \        Bundle (B)               [RFC6107]\n   5           0x04         Routing
      adjacency (R)    [RFC6107]\n   6           0x02         TE link (T)              [RFC6107]\n
      \  7           0x01         Private (P)              [RFC6107]\n"
    title: 5.2.  Hierarchy Actions
  - contents:
    - "5.3.  New Error Codes and Error Values\n   IANA maintains a registry of RSVP
      error codes and error values as the\n   \"Error Codes and Globally-Defined Error
      Value Sub-Codes\" sub-registry\n   of the \"Resource Reservation Protocol (RSVP)
      Parameters\" registry.\n   IANA has defined a new error code with value 38 as
      below (see also\n   Section 3.6).\n   Error Code   Meaning\n     38         LSP
      Hierarchy Issue            [RFC6107]\n   IANA has listed the following error
      values for this error code (see\n   also Section 3.6).\n     This Error Code
      has the following globally-defined Error\n     Value sub-codes:\n        1 =
      Link advertisement not supported                  [RFC6107]\n        2 = Link
      advertisement not allowed by policy          [RFC6107]\n        3 = TE link
      creation not supported                    [RFC6107]\n        4 = TE link creation
      not allowed by policy            [RFC6107]\n        5 = Routing adjacency creation
      not supported          [RFC6107]\n        6 = Routing adjacency creation not
      allowed by policy  [RFC6107]\n        7 = Bundle creation not supported                     [RFC6107]\n
      \       8 = Bundle creation not allowed by policy             [RFC6107]\n        9
      = Hierarchical LSP not supported                    [RFC6107]\n       10 = LSP
      stitching not supported                       [RFC6107]\n       11 = Link address
      type or family not supported         [RFC6107]\n       12 = IGP instance unknown
      \                             [RFC6107]\n       13 = IGP instance advertisement
      not allowed by policy  [RFC6107]\n       14 = Component link identifier not
      valid               [RFC6107]\n       15 = Unsupported component link identifier
      address     [RFC6107]\n            family\n       16 = Component link identifier
      missing                 [RFC6107]\n"
    title: 5.3.  New Error Codes and Error Values
  title: 5.  IANA Considerations
- contents:
  - "6.  Acknowledgements\n   The authors would like to thank Lou Berger, Deborah
    Brungard, John\n   Drake, Yakov Rekhter, Igor Bryskin, and Lucy Yong for their
    valuable\n   discussions and comments.\n"
  title: 6.  Acknowledgements
- contents:
  - '7.  References

    '
  - contents:
    - "7.1.  Normative References\n   [RFC2119]      Bradner, S., \"Key words for
      use in RFCs to Indicate\n                  Requirement Levels\", BCP 14, RFC
      2119, March 1997.\n   [RFC2205]      Braden, R., Ed., Zhang, L., Berson, S.,
      Herzog, S.,\n                  and S. Jamin, \"Resource ReSerVation Protocol
      (RSVP) --\n                  Version 1 Functional Specification\", RFC 2205,\n
      \                 September 1997.\n   [RFC3031]      Rosen, E., Viswanathan,
      A., and R. Callon,\n                  \"Multiprotocol Label Switching Architecture\",
      RFC\n                  3031, January 2001.\n   [RFC3209]      Awduche, D., Berger,
      L., Gan, D., Li, T., Srinivasan,\n                  V., and G. Swallow, \"RSVP-TE:
      Extensions to RSVP for\n                  LSP Tunnels\", RFC 3209, December
      2001.\n   [RFC3473]      Berger, L., Ed., \"Generalized Multi-Protocol Label\n
      \                 Switching (GMPLS) Signaling Resource ReserVation\n                  Protocol-Traffic
      Engineering (RSVP-TE) Extensions\",\n                  RFC 3473, January 2003.\n
      \  [RFC3477]      Kompella, K. and Y. Rekhter, \"Signalling Unnumbered\n                  Links
      in Resource ReSerVation Protocol - Traffic\n                  Engineering (RSVP-TE)\",
      RFC 3477, January 2003.\n   [RFC4201]      Kompella, K., Rekhter, Y., and L.
      Berger, \"Link\n                  Bundling in MPLS Traffic Engineering (TE)\",
      RFC 4201,\n                  October 2005.\n   [RFC4206]      Kompella, K. and
      Y. Rekhter, \"Label Switched Paths\n                  (LSP) Hierarchy with Generalized
      Multi-Protocol Label\n                  Switching (GMPLS) Traffic Engineering
      (TE)\", RFC 4206,\n                  October 2005.\n   [RFC5150]      Ayyangar,
      A., Kompella, K., Vasseur, JP., and A.\n                  Farrel, \"Label Switched
      Path Stitching with\n                  Generalized Multiprotocol Label Switching
      Traffic\n                  Engineering (GMPLS TE)\", RFC 5150, February 2008.\n"
    title: 7.1.  Normative References
  - contents:
    - "7.2.  Informative References\n   [RFC1195]      Callon, R., \"Use of OSI IS-IS
      for routing in TCP/IP\n                  and dual environments\", RFC 1195,
      December 1990.\n   [RFC1256]      Deering, S., Ed., \"ICMP Router Discovery
      Messages\",\n                  RFC 1256, September 1991.\n   [RFC2328]      Moy,
      J., \"OSPF Version 2\", STD 54, RFC 2328, April\n                  1998.\n   [RFC3630]
      \     Katz, D., Kompella, K., and D. Yeung, \"Traffic\n                  Engineering
      (TE) Extensions to OSPF Version 2\", RFC\n                  3630, September
      2003.\n   [RFC4202]      Kompella, K., Ed., and Y. Rekhter, Ed., \"Routing\n
      \                 Extensions in Support of Generalized Multi-Protocol\n                  Label
      Switching (GMPLS)\", RFC 4202, October 2005.\n   [RFC4203]      Kompella, K.,
      Ed., and Y. Rekhter, Ed., \"OSPF\n                  Extensions in Support of
      Generalized Multi-Protocol\n                  Label Switching (GMPLS)\", RFC
      4203, October 2005.\n   [RFC5212]      Shiomoto, K., Papadimitriou, D., Le Roux,
      JL.,\n                  Vigoureux, M., and D. Brungard, \"Requirements for\n
      \                 GMPLS-Based Multi-Region and Multi-Layer Networks\n                  (MRN/MLN)\",
      RFC 5212, July 2008.\n   [RFC5305]      Li, T. and H. Smit, \"IS-IS Extensions
      for Traffic\n                  Engineering\", RFC 5305, October 2008.\n   [RFC5307]
      \     Kompella, K., Ed., and Y. Rekhter, Ed., \"IS-IS\n                  Extensions
      in Support of Generalized Multi-Protocol\n                  Label Switching
      (GMPLS)\", RFC 5307, October 2008.\n   [RFC5308]      Hopps, C., \"Routing IPv6
      with IS-IS\", RFC 5308,\n                  October 2008.\n   [RFC5329]      Ishiguro,
      K., Manral, V., Davey, A., and A. Lindem,\n                  Ed., \"Traffic
      Engineering Extensions to OSPF Version\n                  3\", RFC 5329, September
      2008.\n   [RFC5340]      Coltun, R., Ferguson, D., Moy, J., and A. Lindem,\n
      \                 \"OSPF for IPv6\", RFC 5340, July 2008.\n   [RFC5920]      Fang,
      L., Ed., \"Security Framework for MPLS and GMPLS\n                  Networks\",
      RFC 5920, July 2010.\n   [ISIS-GENAP]   Ginsberg, L., Previdi, S., and M. Shand,
      \"Advertising\n                  Generic Information in IS-IS\", Work in Progress,\n
      \                 November 2010.\n   [ISIS-IPV6-TE] Harrison, J., Berger, J.,
      and M. Bartlett, \"IPv6\n                  Traffic Engineering in IS-IS\", Work
      in Progress,\n                  September 2010.\n   [OSPF-TI]      Lindem, A.,
      Roy, A., and S. Mirtorabi, \"OSPF Transport\n                  Instance Extensions\",
      Work in Progress, October 2010.\n   [OSPFv2-MI]    Lindem, A., Roy, A., and
      S. Mirtorabi, \"OSPF Multi-\n                  Instance Extensions\", Work in
      Progress, October 2010.\n   [PCE-LAYER]    Takeda, T., Ed., and A. Farrel, \"PCC-PCE
      Communication\n                  and PCE Discovery Requirements for Inter-Layer
      Traffic\n                  Engineering\", Work in Progress, December 2010.\n"
    title: 7.2.  Informative References
  title: 7.  References
- contents:
  - "Authors' Addresses\n   Richard Rabbat\n   Google Inc.\n   1600 Amphitheatre Pkwy\n
    \  Mountain View, CA 94043\n   United States of America\n   EMail: rabbat@alum.mit.edu\n
    \  Arthi Ayyangar\n   Juniper Networks\n   1194 N. Mathilda Ave.\n   Sunnyvale,
    CA  94089\n   United States of America\n   EMail: arthi@juniper.net\n   Zafar
    Ali\n   Cisco Systems, Inc.\n   2000 Innovation Drive\n   Kanata, Ontario, K2K
    3E8\n   Canada\n   EMail: zali@cisco.com\n"
  title: Authors' Addresses
- contents:
  - "Editors' Addresses\n   Kohei Shiomoto\n   NTT Network Service Systems Laboratories\n
    \  3-9-11 Midori\n   Musashino, Tokyo 180-8585\n   Japan\n   Phone: +81 422 59
    4402\n   EMail: shiomoto.kohei@lab.ntt.co.jp\n   Adrian Farrel\n   Old Dog Consulting\n
    \  EMail: adrian@olddog.co.uk\n"
  title: Editors' Addresses
