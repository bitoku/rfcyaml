- title: __initial_text__
  contents:
  - '                Transient Binding for Proxy Mobile IPv6

    '
- title: Abstract
  contents:
  - "Abstract\n   This document specifies a mechanism that enhances Proxy Mobile IPv6\n\
    \   protocol signaling to support the creation of a transient binding\n   cache\
    \ entry that is used to optimize the performance of dual radio\n   handover, as\
    \ well as single radio handover.  This mechanism is\n   applicable to the mobile\
    \ node's inter-MAG (Mobility Access Gateway)\n   handover while using a single\
    \ interface or different interfaces.  The\n   handover problem space using the\
    \ Proxy Mobile IPv6 base protocol is\n   analyzed and the use of transient binding\
    \ cache entries at the local\n   mobility anchor is described.  The specified\
    \ extension to the Proxy\n   Mobile IPv6 protocol ensures optimized forwarding\
    \ of downlink as well\n   as uplink packets between mobile nodes and the network\
    \ infrastructure\n   and avoids superfluous packet forwarding delay or even packet\
    \ loss.\n"
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This document is not an Internet Standards Track specification;\
    \ it is\n   published for examination, experimental implementation, and\n   evaluation.\n\
    \   This document defines an Experimental Protocol for the Internet\n   community.\
    \  This document is a product of the Internet Engineering\n   Task Force (IETF).\
    \  It represents the consensus of the IETF\n   community.  It has received public\
    \ review and has been approved for\n   publication by the Internet Engineering\
    \ Steering Group (IESG).  Not\n   all documents approved by the IESG are a candidate\
    \ for any level of\n   Internet Standard; see Section 2 of RFC 5741.\n   Information\
    \ about the current status of this document, any errata,\n   and how to provide\
    \ feedback on it may be obtained at\n   http://www.rfc-editor.org/info/rfc6058.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (c) 2011 IETF Trust and the persons identified\
    \ as the\n   document authors.  All rights reserved.\n   This document is subject\
    \ to BCP 78 and the IETF Trust's Legal\n   Provisions Relating to IETF Documents\n\
    \   (http://trustee.ietf.org/license-info) in effect on the date of\n   publication\
    \ of this document.  Please review these documents\n   carefully, as they describe\
    \ your rights and restrictions with respect\n   to this document.  Code Components\
    \ extracted from this document must\n   include Simplified BSD License text as\
    \ described in Section 4.e of\n   the Trust Legal Provisions and are provided\
    \ without warranty as\n   described in the Simplified BSD License.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1. Introduction ....................................................4\n\
    \   2. Conventions and Terminology .....................................5\n  \
    \    2.1. Conventions Used in This Document ..........................5\n    \
    \  2.2. Terminology and Functional Components ......................5\n   3. Analysis\
    \ of the Problem Space ...................................6\n      3.1. Handover\
    \ Using a Single Interface ..........................6\n      3.2. Handover between\
    \ Interfaces ................................6\n           3.2.1. Issues with\
    \ Downlink Traffic ........................7\n           3.2.2. Issues with Uplink\
    \ Traffic ..........................9\n      3.3. Need for a Common Solution ................................10\n\
    \   4. Use of Transient Binding Cache Entries .........................11\n  \
    \    4.1. General Approach ..........................................11\n    \
    \  4.2. Impact on Binding Management ..............................13\n      4.3.\
    \ Role of the LMA and nMAG in Transient State Control .......14\n           4.3.1.\
    \ Control at the nMAG ................................14\n           4.3.2. Control\
    \ at the LMA .................................15\n      4.4. LMA Forwarding State\
    \ Diagram ..............................15\n      4.5. MAG Operation .............................................18\n\
    \      4.6. LMA Operation .............................................19\n  \
    \         4.6.1. Initiation of a Transient BCE ......................19\n    \
    \       4.6.2. Activation of a Transient BCE ......................20\n      4.7.\
    \ MN Operation ..............................................22\n      4.8. Status\
    \ Values .............................................22\n      4.9. Protocol\
    \ Stability ........................................22\n   5. Message Format .................................................24\n\
    \      5.1. Transient Binding Option ..................................24\n  \
    \ 6. IANA Considerations ............................................25\n   7.\
    \ Security Considerations ........................................25\n   8. Protocol\
    \ Configuration Variables ...............................26\n   9. Contributors\
    \ ...................................................26\n   10. Acknowledgments\
    \ ...............................................26\n   11. References ....................................................26\n\
    \      11.1. Normative References .....................................26\n  \
    \    11.2. Informative References ...................................26\n   Appendix\
    \ A.  Example Use Cases for Transient BCE ..................28\n     A.1.  Use\
    \ Case for Single Radio Handover ........................28\n     A.2.  Use Case\
    \ for Dual Radio Handover ..........................30\n   Appendix B.  Applicability\
    \ and Use of Static Configuration at\n                the LMA ..............................................33\n\
    \     B.1.  Early Uplink Traffic from the nMAG ........................33\n  \
    \   B.2.  Late Uplink Traffic from the pMAG .........................33\n    \
    \ B.3.  Late Switching of Downlink Traffic to nMAG ................34\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   The IETF specified Proxy Mobile IPv6 (PMIPv6) [RFC5213]\
    \ as a protocol\n   for network-based localized mobility management, which takes\
    \ basic\n   operation for registration, tunnel management, and deregistration\n\
    \   into account.  In order to eliminate the risk of lost packets, this\n   document\
    \ specifies an extension to PMIPv6 that utilizes a new\n   mobility option in\
    \ the Proxy Binding Update (PBU) and the Proxy\n   Binding Acknowledgement (PBA)\
    \ between the new Mobility Access Gateway\n   (nMAG) and the Local Mobility Anchor\
    \ (LMA).\n   According to the PMIPv6 base specification, an LMA updates a mobile\n\
    \   node's (MN's) Binding Cache Entry (BCE) and switches the forwarding\n   tunnel\
    \ after receiving a Proxy Binding Update (PBU) message from the\n   mobile node's\
    \ new MAG (nMAG).  At the same time, the LMA disables the\n   forwarding entry\
    \ towards the mobile node's previous MAG (pMAG).  In\n   case of an inter-technology\
    \ handover, the mobile node's handover\n   target interface must be configured\
    \ according to the Router\n   Advertisement being sent by the nMAG.  Address configuration\
    \ as well\n   as possible access-technology-specific radio bearer setup may delay\n\
    \   the complete set up of the mobile node's new interface before it is\n   ready\
    \ to receive or send data packets.  In case the LMA performs\n   operation according\
    \ to [RFC5213] and forwards packets to the mobile\n   node's new interface after\
    \ the reception of the PBU from the nMAG,\n   some packets may get lost or experience\
    \ major packet delay.  The\n   transient BCE extension, as specified in this document,\
    \ increases\n   handover performance (optimized packet loss and forwarding delay)\n\
    \   experienced by MNs, which have multiple network interfaces\n   implemented\
    \ while handing over from one interface to the other.  The\n   transient BCE extension\
    \ also increases handover performance for\n   single radio MNs, which build on\
    \ available radio layer forwarding\n   mechanisms, hence re-use existing active\
    \ handover techniques.\n   Some implementation-specific solutions, such as static\
    \ configuration\n   on the LMA to accept uplink packets from the old MAG in addition\
    \ to\n   accepting packets from the new MAG for a short duration during the\n\
    \   handover and buffering at the new MAG, can help to address some of\n   the\
    \ issues identified in this document.  Please see Appendix B for\n   more details.\
    \  A dynamic solution by means of the proposed protocol\n   operation helps to\
    \ optimize the performance for a variety of handover\n   situations and different\
    \ radio characteristics.\n   Additionally, this document specifies an advanced\
    \ binding cache\n   management mechanism at the LMA according to well-defined\
    \ transient\n   BCE states.  This mechanism ensures that forwarding states at\
    \ LMAs\n   are inline with the different handover scenarios.  During a transient\n\
    \   state, a mobile node's BCE refers to two proxy Care-of-Address\n   (Proxy-CoA)\
    \ entries, one from the mobile node's pMAG, another from\n   its nMAG.  MAGs can\
    \ establish settings of a transient binding on the\n   LMA by means of signaling.\
    \  An LMA can establish or change the\n   settings of a transient binding according\
    \ to events, such as a\n   timeout, a change of the radio technology due to a\
    \ handover, or a\n   completed set up of a radio bearer or configuration of an\
    \ MN's IP\n   address.  Such an event may also be triggered by other protocols,\n\
    \   e.g., Authentication, Authorization, and Accounting (AAA) messages.\n   This\
    \ document specifies advanced binding cache control by means of a\n   Transient\
    \ Binding option, which can be used with PMIPv6 signaling to\n   support transient\
    \ BCEs.  Furthermore, this document specifies\n   forwarding characteristics according\
    \ to the current state of a\n   binding to switch the forwarding tunnel at the\
    \ LMA from the pMAG to\n   the nMAG during inter-MAG handover according to the\
    \ handover\n   conditions.  As a result of transient binding support, handover\n\
    \   performance can considerably be improved to smooth an MN's handover\n   without\
    \ introducing major complexity into the system.\n"
- title: 2.  Conventions and Terminology
  contents:
  - '2.  Conventions and Terminology

    '
- title: 2.1.  Conventions Used in This Document
  contents:
  - "2.1.  Conventions Used in This Document\n   The key words \"MUST\", \"MUST NOT\"\
    , \"REQUIRED\", \"SHALL\", \"SHALL NOT\",\n   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\"\
    , \"MAY\", and \"OPTIONAL\" in this\n   document are to be interpreted as described\
    \ in [RFC2119].\n"
- title: 2.2.  Terminology and Functional Components
  contents:
  - "2.2.  Terminology and Functional Components\n   o  IF - Interface.  Any network\
    \ interface, which offers a mobile node\n      wireless or wired access to the\
    \ network infrastructure.  In case a\n      mobile node has multiple interfaces\
    \ implemented, they are numbered\n      (IF1, IF2, etc.).\n   o  Transient Binding\
    \ Cache Entry.  A temporary state of the mobile\n      node Binding Cache Entry\
    \ that defines the forwarding\n      characteristics of the mobile node forwarding\
    \ tunnels to the nMAG\n      and pMAG.  This transient BCE state is created when\
    \ the Transient\n      Binding option is included in the PBU and PBA as specified\
    \ in this\n      document.  The LMA forwards the mobile node traffic according\
    \ to\n      current transient BCE characteristics as specified in this\n     \
    \ document.  The transient BCE state is transparent to the pMAG.\n   o  Active\
    \ Binding Cache Entry.  A valid mobile node Binding Cache\n      Entry according\
    \ to [RFC5213], which is not in transient state.\n"
- title: 3.  Analysis of the Problem Space
  contents:
  - "3.  Analysis of the Problem Space\n   This section summarizes the analysis of\
    \ the handover problem space\n   for inter-technology handover as well as intra-technology\
    \ handover\n   when using the PMIPv6 protocol as in [RFC5213].\n"
- title: 3.1.  Handover Using a Single Interface
  contents:
  - "3.1.  Handover Using a Single Interface\n   In some active handover scenarios,\
    \ it is necessary to prepare the\n   nMAG as the handover target prior to the\
    \ completion of the link-layer\n   handover procedures.  Packets sent by the LMA\
    \ to the nMAG before the\n   completion of the link-layer handover procedure will\
    \ be lost unless\n   they are buffered.\n   In some systems, the nMAG will be\
    \ the recipient of uplink traffic\n   prior to the completion of the procedure\
    \ that would result in the\n   PBU/PBA handshake.  These packets cannot be forwarded\
    \ to the LMA.\n   During an intra-technology handover, some of the MN's uplink\
    \ traffic\n   may still be in transit through the pMAG.  Currently, and as per\
    \ the\n   PMIPv6 base protocol [RFC5213], the LMA forwards the MN's uplink\n \
    \  traffic received from a tunnel only as long as the source IP address\n   of\
    \ the MN's uplink traffic matches the IP address of the mobile\n   node's registered\
    \ Proxy-CoA in the associated BCE.  As a result,\n   packets received at the LMA\
    \ from the MN's pMAG after the LMA has\n   already switched the tunnel to point\
    \ to the nMAG will be dropped.\n"
- title: 3.2.  Handover between Interfaces
  contents:
  - "3.2.  Handover between Interfaces\n   In client-based mobility protocols, the\
    \ handover sequence is fully\n   controlled by the MN, and the MN updates its\
    \ binding and associated\n   routing information at its mobility anchor after\
    \ IP connectivity has\n   been established on the new link.  On the contrary,\
    \ PMIPv6 aims to\n   relieve the MN from the IP mobility signaling, while the\
    \ mobile node\n   still controls link configuration during a handover.  This introduces\n\
    \   a problem during an MN's handover between interfaces.  According to\n   the\
    \ PMIPv6 base protocol [RFC5213], the Access Authentication and the\n   Proxy\
    \ Binding Update (PBU) are triggered in the access network by the\n   radio attach\
    \ procedure, transparently for the MN.  In addition, a\n   delay for the MN's\
    \ new interface's address configuration is not\n   considered in the handover\
    \ procedure.  As a consequence, the\n   immediate update of the MN's BCE after\
    \ the PBU from the MN's nMAG has\n   been received at the LMA impacts the performance\
    \ of the MN's downlink\n   traffic as well as its uplink traffic.  Performance\
    \ aspects of\n   downlink as well as uplink traffic during a handover between\n\
    \   interfaces are analyzed in the subsequent subsections.\n"
- title: 3.2.1.  Issues with Downlink Traffic
  contents:
  - "3.2.1.  Issues with Downlink Traffic\n   Delay of availability of an MN's network\
    \ interface can be caused by\n   certain protocol operations that the MN needs\
    \ to perform to configure\n   its new interface, and these operations can take\
    \ time.  In order to\n   complete the address auto-configuration on its new interface,\
    \ the MN\n   needs to send a Router Solicitation and awaits a Router\n   Advertisement.\
    \  Upon receiving a Router Advertisement from the new\n   MAG, the MN can complete\
    \ its address configuration and may perform\n   Duplicate Address Detection (DAD)\
    \ [RFC4862] on the new interface.\n   Only then the MN's new interface is ready\
    \ to receive packets.\n   Address configuration can take more than a second to\
    \ complete.  If\n   the LMA has already switched the mobile node tunnel to point\
    \ to the\n   nMAG and started forwarding data packets for the MN to the nMAG\n\
    \   during this time, these data packets may get delayed or lost because\n   the\
    \ MN's new interface is not yet ready to receive data.  However,\n   delaying\
    \ the PBU, which is sent from the new MAG to the LMA after the\n   MN's new interface\
    \ has attached to the network, is not possible, as\n   the new MAG retrieves configuration\
    \ data for the MN from the LMA in\n   the PBA, such as the MN's Home Network Prefixes\
    \ (HNPs) and the link-\n   local address to be used at the MAG.\n   The aforementioned\
    \ problem is illustrated in Figure 1, which assumes\n   that the HNP(s) will be\
    \ assigned under control of the LMA.  Hence,\n   the HNP option in the PBU, which\
    \ is sent by the new MAG to the LMA,\n   is set to ALL_ZERO.  An MN has attached\
    \ to the network with interface\n   (IF) IF1 and receives data on this interface.\
    \  When the MN's new\n   interface IF2 comes up and is detected by the new MAG,\
    \ the new MAG\n   sends a PBU and receives a PBA from the LMA.  If the LMA decides\
    \ to\n   forward data packets for the MN via the new MAG, the new MAG has to\n\
    \   buffer these packets until address configuration of the MN's new\n   interface\
    \ has completed and the MN's new interface is ready to\n   receive packets.  While\
    \ setting up IF2, the MN may not reply to\n   address resolution signaling [RFC4861],\
    \ as sent by the new MAG [A].\n   If the MAG's buffer overflows or the MN cannot\
    \ reply to address\n   resolution signaling for too long, data packets for the\
    \ MN are\n   dropped and the MN can experience severe packet losses during an\n\
    \   inter-access handover [B] until IF2 is ready to receive and send data\n  \
    \ [C].\n       +------+                 +----+      +----+                 +---+\n\
    \       |  MN  |                 |pMAG|      |nMAG|                 |LMA|\n  \
    \     +------+                 +----+      +----+                 +---+\n    \
    \   IF2 IF1                    |           |                      |\n        |\
    \   |                     |           |                      |\n        |   |-\
    \ - - - - - - - - Attach         |                      |\n        |   |     \
    \                |---------------PBU--------------->|\n        |   |         \
    \            |<--------------PBA----------------|\n        |   |--------RtSol------->|\
    \           |                      |\n        |   |<-------RtAdv--------|    \
    \       |                      |\n        |  Addr.                  |        \
    \   |                      |\n        |  Conf.                  |           |\
    \                      |\n        |   |<--------------------|==================data============|--\n\
    \        |   |                     |           |                      |\n    \
    \    |- - - - - - - - - - - - - - - - - Attach                    |\n        |\
    \   |                     |           |----------PBU-------->|\n        |   |\
    \                     |           |<---------PBA---------|\n        |   |    \
    \                 |           |<-====data============|--\n    [A]?|<-----------NSol---------------------|<-====data============|--\n\
    \        |   |                     |      [B] ?|<-====data============|--\n  \
    \      |   |                     |          ?|<-====data============|--\n    \
    \    |-----------RtSol-------------------->|<-====data============|--\n      \
    \  |<----------RtAdv---------------------|            :         |\n     Addr.\
    \  |                     |           |            :         |\n     Conf.  | \
    \                    |           |            :         |\n        |<-----------NSol---------------------|\
    \            :         |\n        |------------NAdv------------------->[C]   \
    \                  |\n       !|<------------------------------------|======data============|--\n\
    \        |   |                     |           |                      |\n    \
    \    |   |                     |           |                      |\n        \
    \         Figure 1: Issue with dual radio handover\n   Another risk for a delay\
    \ in forwarding data packets from a new MAG to\n   the MN's IF2 can be some latency\
    \ in setting up a particular access\n   technology's radio bearer or access-specific\
    \ security associations\n   after the new MAG received the MN's HNP(s) from the\
    \ LMA via the PBA\n   signaling message.\n   In case an access network needs the\
    \ MN's IP address or HNP to set up\n   a radio bearer between an MN's IF2 and\
    \ the network infrastructure,\n   the access network might have to wait until\
    \ the nMAG has received the\n   associated information from the LMA in the Proxy\
    \ Binding\n   Acknowledgment.  Delay in forwarding packets from the nMAG to the\n\
    \   MN's IF2 depends now on the latency in setting up the radio bearer.\n   A\
    \ similar problem can occur in the case in which the setup of a\n   required security\
    \ association between the MN's IF2 and the network\n   takes time and such a setup\
    \ can be performed only after the MN's IP\n   address or HNP is available on the\
    \ nMAG.\n   Both scenarios, as depicted above, can be found in [TS23.402], where\n\
    \   the protocol sequence during a handover between different accesses\n   considers\
    \ a PMIPv6 handshake between the nMAG and the LMA to retrieve\n   the MN's HNP(s)\
    \ before access-specific operations can be completed.\n"
- title: 3.2.2.  Issues with Uplink Traffic
  contents:
  - "3.2.2.  Issues with Uplink Traffic\n   In the case of an inter-technology handover\
    \ between two interfaces,\n   the MN may be able to maintain connectivity on IF1\
    \ while it is\n   completing address configuration on IF2.  Such a handover mechanism\n\
    \   is called \"make-before-break\" and can avoid uplink packet loss in\n   client-based\
    \ Mobile IP.  However, in a PMIPv6 domain, the attachment\n   of the MN on IF2\
    \ will cause the nMAG to send a PBU to the LMA, which\n   will cause the LMA to\
    \ update the BCE for this mobility session of the\n   MN.  According to Section\
    \ 5.3.5 of the PMIPv6 base specification\n   [RFC5213], the LMA may drop all subsequent\
    \ packets being forwarded by\n   the MN's pMAG due to the updated BCE, which refers\
    \ now to the nMAG as\n   a \"Proxy-CoA\".\n   A further issue for uplink packets\
    \ arises from differences in the\n   time of travel between the nMAG and LMA in\
    \ comparison with the time\n   of travel between the pMAG and LMA.  Even if the\
    \ MN stops sending\n   packets on IF1 before the PBU is sent (i.e., before it\
    \ attaches IF2\n   to nMAG), uplink packets from pMAG may arrive at the LMA after\
    \ the\n   LMA has received the PBU from nMAG.  Such a situation can, in\n   particular,\
    \ occur when the MN's previous link has a high delay (e.g.,\n   a Global System\
    \ for Mobile Communications (GSM) link) and is slow\n   compared to the handover\
    \ target link.  This characteristic is\n   illustrated in Figure 2.\n      +------+\
    \              +----+                   +---+\n      |  MN  |              |nMAG|\
    \                   |LMA|\n      +------+              +----+                \
    \   +---+\n      IF2 IF1                 |                        |\n       |\
    \   |\\                 |                        |BCE exists\n       |   |   \
    \ \\             |                        | for pMAG\n       |- -|- - - - \\-\
    \ - - - Attach                    |\n       |   |           s\\     |---------PBU----------->|BCE\
    \ update\n       |   |               l\\ |<--------PBA------------| for nMAG\n\
    \       |   |                   o\\                      |\n       |   |     \
    \             |    w\\                  |\n       |   |                  |   \
    \     l\\              |\n       |   |                  |            i\\     \
    \     |\n       |   |                  |               n \\      |packet dropped\n\
    \       |   |                  |                  k --->| as BCE has only\n  \
    \     |   |                  |                        | entry for nMAG\n     \
    \  |   |                  |                        |\n       |   |           \
    \       |                        |\n              Figure 2: Uplink traffic issue\
    \ with slow links\n"
- title: 3.3.  Need for a Common Solution
  contents:
  - "3.3.  Need for a Common Solution\n   To reduce the risk of packet loss, some\
    \ settings on an MN could be\n   chosen appropriately to speed up the process\
    \ of network interface\n   configuration.  Also, tuning some network parameters,\
    \ such as\n   increasing the buffer capacity on MAG components, could improve\
    \ the\n   handover performance.  However, some network characteristics, such as\n\
    \   access link delay or bearer setup latency, cannot be easily fine\n   tuned\
    \ to suit a particular handover scenario.  Thus, a common\n   solution that dynamically\
    \ controls and enhances this handover\n   complexity using a simple extension\
    \ to the PMIPv6 base protocol is\n   preferred.\n   This document specifies transient\
    \ BCEs as an extension to the PMIPv6\n   protocol.  Set up and configuration of\
    \ a transient BCE can be\n   performed by means of extended PMIPv6 signaling messages\
    \ between the\n   MAG and the LMA component using a new Transient Binding mobility\n\
    \   option.  The transient BCE mechanism supports three clearly\n   distinguished\
    \ sequences of transient states to suit various handover\n   scenarios and to\
    \ improve handover performance for both inter- and\n   intra-technology handover.\
    \  As a result of using transient BCEs,\n   excessive packet buffering at the\
    \ nMAG during the MN's handover\n   process is not necessary and packet losses\
    \ and major jitter can be\n   avoided.\n"
- title: 4.  Use of Transient Binding Cache Entries
  contents:
  - '4.  Use of Transient Binding Cache Entries

    '
- title: 4.1.  General Approach
  contents:
  - "4.1.  General Approach\n   The use of transient BCE during an MN's handover (HO)\
    \ enables greater\n   control on the forwarding of uplink (Ul) and downlink (Dl)\
    \ traffic to\n   harmonize handover performance characteristics with the capabilities\n\
    \   of the handover source and target access networks.  Updating of an\n   MN's\
    \ BCE at an LMA is split into different phases before and after\n   the radio\
    \ setup and IP configuration being associated with the MN's\n   handover from\
    \ a pMAG to an nMAG.\n   The use of a transient BCE during an MN's handover splits\
    \ into an\n   initiation phase and a phase turning the transient BCE into an active\n\
    \   BCE.  Figure 3 illustrates the procedure to enter and leave a\n   transient\
    \ BCE during an MN's handover.  As a result of the MN's\n   attachment at the\
    \ nMAG, the first PBU from the MN's nMAG can turn the\n   MN's BCE at the LMA\
    \ and the nMAG into transient state by including a\n   Transient Binding option\
    \ (Section 5.1).  The LMA enters the nMAG as a\n   further forwarding entry to\
    \ the MN's BCE without deleting the\n   existing forwarding entry and marks the\
    \ BCE state as 'transient'.\n   Alternatively, in case the nMAG does not include\
    \ a Transient Binding\n   option, the LMA can make the decision to use a transient\
    \ BCE during\n   an MN's handover and notify the nMAG about this decision by adding\
    \ a\n   Transient Binding option in the PBA.  After receiving the PBA, the\n \
    \  nMAG enters the MN's data, such as the assigned HNP(s), into its\n   Binding\
    \ Update List (BUL) and marks the MN's binding with the LMA as\n   'transient',\
    \ which serves as an indication to the nMAG that the\n   transient BCE needs to\
    \ be turned into an active BCE.\n   During the transient state, the LMA accepts\
    \ uplink packets from both\n   MAGs, the pMAG and the nMAG, for forwarding.  To\
    \ benefit from the\n   still available downlink path from pMAG to MN, the LMA\
    \ forwards\n   downlink packets towards the pMAG until the transient BCE is turned\n\
    \   into an active BCE.  Such a downlink forwarding characteristic is\n   denoted\
    \ as \"late path switch\" (L).  During a dual radio handover, an\n   MN can receive\
    \ downlink packets via its previous interface; during a\n   single radio handover,\
    \ the late path switch supports re-using\n   available forwarding mechanisms in\
    \ the radio access network.\n   Appendix A describes both use cases.\n   Decisions\
    \ about the classification of an MN's BCE as transient during\n   a handover can\
    \ be made either by the nMAG or the LMA.  Detailed\n   mechanisms showing how\
    \ an nMAG or an LMA finds out to use a transient\n   BCE procedure are out of\
    \ scope of this document.\n   A transient BCE can be turned into an active BCE\
    \ by different means,\n   such as a timeout at the LMA, a PBU from the nMAG, which\
    \ has no\n   Transient Binding option included, or a deregistration PBU from the\n\
    \   pMAG.  As soon as the MN's BCE has been initiated to turn into an\n   active\
    \ BCE, the LMA switches the forwarding path for downlink packets\n   from the\
    \ pMAG to the nMAG.\n    +-----+            +----+    +----+                +-----+\n\
    \    | MN  |            |pMAG|    |nMAG|                | LMA |\n    +-----+ \
    \           +----+    +----+                +-----+\n       |                \
    \  |         |                     |[pMAG serves\n       |                  |\
    \         |                     | MN as\n       |                  |         |\
    \                     | Proxy-CoA]\n       |                  |         |    \
    \                 |\n       |<-----------------|===============data tunnel=====|--->data\n\
    \       |                  |         |                     |\n   [Handoff    \
    \           |         |                     |\n     Start]               |   \
    \      |                     |\n       |                  |         |        \
    \             |\n      e|-----------------------[MN Attach]                |\n\
    \      x|                  |         |                     |\n      e|       \
    \           |         |---PBU(transient)--->|[Add nMAG to\n      c|          \
    \        |         |                     | MN's BCE,\n      u|               \
    \   |         |<--PBA(transient)----| enter trans-\n      t|                 \
    \ |         |                     | ient state]\n      i|                  | \
    \        |                     |\n      o|<-----Dl+Ul-------|===============data\
    \ tunnel=====|--->data\n      n|--------Ul------------------|=====data tunnel=====|--->data\n\
    \       |                  |         |                     |\n    [Handoff/  \
    \           |         |                     |\n   Configuration          |   \
    \      |                     |\n    Completed]            |   [HO Complete]  \
    \             |\n       |                  |         |--------PBU--------->|[Activate\n\
    \       |                  |         |                     | MN's BCE,\n     \
    \  |                  |         |<-------PBA ---------| update for-\n       |\
    \                  |         |                     | warding path\n       |  \
    \                |         |                     | to nMAG]\n       |        \
    \          |         |                     |\n       |<---------------------------|=====data\
    \ tunnel=====|--->data\n       |                  |         |                \
    \     |\n     Figure 3: General mechanism and forwarding characteristics during\n\
    \                        handover with transient BCE\n   This specification considers\
    \ an optional state when turning the\n   transient BCE into an active BCE of a\
    \ transient BCE with a late path\n   switch, which keeps the pMAG for some more\
    \ time as the forwarding\n   entry in the transient BCE, solely to ensure forwarding\
    \ of delayed\n   uplink packets from the pMAG.  This optional activation state\
    \ has a\n   lifetime associated, and termination does not need any signaling.\n\
    \   Whether or not to enter this optional activation state is decided by\n   the\
    \ LMA.  The LMA may take information about the access technology\n   associated\
    \ with the MN's pMAG and nMAG from the MN's BCE to decide if\n   using the activation\
    \ state is beneficial, e.g., since a slow link is\n   associated with the pMAG\
    \ and uplink packets from the pMAG may arrive\n   delayed at the LMA.\n   The\
    \ Transient Binding option allows configuration of the transient\n   BCE late\
    \ path switch and signaling of associated settings.  Signaling\n   of the Transient\
    \ Binding option and the LMA's decision whether or not\n   to use an optional\
    \ activation state defines the sequence through the\n   clearly defined transient\
    \ BCE states, as illustrated and described in\n   Section 4.4.  Section 4.2 describes\
    \ the required extension to an\n   LMA's binding cache to support transient BCE\
    \ operation.  Section 4.3\n   provides a concise overview about the possible roles\
    \ of the nMAG and\n   the LMA to control a transient BCE handover sequence.  Details\
    \ about\n   the Transient Binding option and its use are described in Sections\n\
    \   4.5 and 4.6.\n"
- title: 4.2.  Impact on Binding Management
  contents:
  - "4.2.  Impact on Binding Management\n   The use of a transient BCE requires temporary\
    \ maintenance of two\n   forwarding entries in the MN's BCE at the LMA, one referring\
    \ to the\n   MN's pMAG and the other referring to its nMAG.  Forwarding entries\n\
    \   are represented according to [RFC5213] and comprise the interface\n   identifier\
    \ of the associated tunnel interface towards each MAG, as\n   well as the associated\
    \ access technology information.\n   Each forwarding entry is assigned a forwarding\
    \ rule to admit and\n   control forwarding of uplink and downlink traffic to and\
    \ from the\n   associated MAG.  Hence, according to this specification, a forwarding\n\
    \   entry can have either a rule that allows only forwarding of uplink\n   traffic\
    \ from the associated MAG, or a rule that allows bidirectional\n   forwarding\
    \ from and to the associated MAG.  At any time, only one of\n   the two forwarding\
    \ entries can have a bi-directional forwarding rule.\n   The interface identifier\
    \ and access technology type info can be taken\n   from the PBU received at the\
    \ LMA and linked to each forwarding entry\n   accordingly.\n   MAGs should maintain\
    \ the status of an MN's binding and the lifetime\n   associated with a transient\
    \ BCE at the LMA in their binding update\n   list.  This is particularly important\
    \ if the new MAG needs to\n   explicitly turn a binding into an active BCE after\
    \ the associated\n   MN's new interface has proven to be ready to handle IP traffic.\n"
- title: 4.3.  Role of the LMA and nMAG in Transient State Control
  contents:
  - "4.3.  Role of the LMA and nMAG in Transient State Control\n   This section provides\
    \ an overview about the nMAG's and the LMA's\n   possibility to control a transient\
    \ BCE.  Please refer to the Protocol\n   Operations sections for a detailed protocol\
    \ description (Sections 4.5\n   and 4.6).\n"
- title: 4.3.1.  Control at the nMAG
  contents:
  - "4.3.1.  Control at the nMAG\n   Initiate a late path switch -  Since the nMAG\
    \ needs to have knowledge\n      about the nature of a handover to set the Handoff\
    \ Indicator (HI)\n      option in the PBU and whether or not the handover implies\
    \ a change\n      in the used radio interface or technology, the nMAG is a suitable\n\
    \      entity to make the decision to delay the downlink path switch in a\n  \
    \    controlled manner by means of a transient BCE.  The nMAG can make\n     \
    \ the decision to initiate a transient BCE handover for an MN only\n      when\
    \ it knows that the MN supports a delayed downlink path switch\n      (Section\
    \ 4.7) according to this specification.  It may know this\n      due to a number\
    \ of factors.  For instance, during dual radio\n      handover, most cellular\
    \ networks have controlled handovers where\n      the network knows that the host\
    \ is moving from one attachment to\n      another.  In this situation, the link-layer\
    \ mechanism can inform\n      the mobility functions that this is indeed a movement,\
    \ not a new\n      attachment and that the MN has sufficient control on its\n\
    \      interfaces to support a transient BCE handover.  Where no support\n   \
    \   from the link layer exists and no such indication can be provided\n      to\
    \ the nMAG by the network, the nMAG MUST assume that the host is\n      incapable\
    \ of this mode of operation and employ standard behavior\n      as specified in\
    \ [RFC5213].  In other words, the nMAG initiates a\n      regular [RFC5213] handover.\n\
    \      The nMAG is also a suitable entity to estimate a maximum delay\n      until\
    \ the new connection can be used, as it knows about its\n      locally connected\
    \ radio network characteristics.  Hence, the nMAG\n      can set the maximum lifetime\
    \ to delimit the transient BCE\n      softstate at the LMA.  The LMA may still\
    \ override the proposed\n      lifetime and notify the nMAG about the new lifetime\
    \ in the\n      Transient Binding option included in the PBA.\n   Activation of\
    \ a transient BCE to perform a downlink path switch -\n      During a transient\
    \ BCE handover, the nMAG may get an indication\n      that the MN's radio link\
    \ can be used and the MN has completed the\n      setup of the IP address to send\
    \ and receive data packets via the\n      new link.  In this case, the nMAG can\
    \ initiate turning a transient\n      BCE into an active BCE before the expiration\
    \ of the associated\n      maximum transient BCE lifetime.  To do that, the nMAG\
    \ sends a PBU\n      message without the Transient Binding option to the LMA.\
    \  This\n      results in a downlink path switch to the nMAG.\n"
- title: 4.3.2.  Control at the LMA
  contents:
  - "4.3.2.  Control at the LMA\n   Initiate a late path switch -  If the LMA has\
    \ received a PBU without\n      a Transient Binding option included, the LMA can\
    \ take a decision\n      to use a transient BCE to optimize the handover performance.\
    \  The\n      LMA indicates its selected settings for the late path switch (L)\n\
    \      and the associated maximum lifetime in the Transient Binding\n      option,\
    \ which is included in the PBA and sent to the nMAG.\n   Decision to use an optional\
    \ activation state -  The LMA is a suitable\n      entity to decide about the\
    \ use of an optional activation state, as\n      the LMA has the knowledge about\
    \ the MN's previous and new access\n      technology.  Hence, the LMA can make\
    \ this decision to use an\n      activation state to temporarily keep alive the\
    \ forwarding of\n      uplink packets from both MAGs, the pMAG, and the nMAG,\
    \ even though\n      the downlink path has been switched to the nMAG already.\
    \  One\n      reason to enter such an activation state may be a slow link\n  \
    \    between the pMAG and the LMA as described in Section 3.2.2.\n"
- title: 4.4.  LMA Forwarding State Diagram
  contents:
  - "4.4.  LMA Forwarding State Diagram\n   The current specification of transient\
    \ BCEs covers three clearly\n   defined transient BCE states at the LMA, which\
    \ can be used during an\n   MN's handover.  Each state implies a dedicated characteristic\n\
    \   regarding forwarding entries, in which forwarding rules for uplink\n   traffic\
    \ are maintained separately from downlink traffic.  This\n   section explains\
    \ how the forwarding state sequentially changes during\n   the optimized handoff.\
    \  To suit different handover scenarios,\n   different sequences through the forwarding\
    \ states can be entered.\n   Figure 4 depicts the possible cases, their sequence\
    \ of forwarding\n   states, and the triggers for the transitions.  Two example\
    \ use cases\n   are described in detail in Appendix A to illustrate which sequence\n\
    \   through the forwarding states suits a particular handover.\n   According to\
    \ this specification, each BCE has a state associated,\n   which can be either\
    \ 'Active' or any of the specified transient states\n   'Transient-L', 'Transient-LA',\
    \ or 'Transient-A'.  In the case that a\n   BCE is in 'Active' state, the information\
    \ in a BCE and associated\n   forwarding conforms to [RFC5213].\n   Any of the\
    \ transient states imply that the transient BCE has two\n   forwarding entries,\
    \ which are denoted as pMAG and nMAG in the\n   forwarding state diagram.  The\
    \ diagram includes information about the\n   forwarding rule along with each forwarding\
    \ entry.  This rule\n   indicates whether a forwarding entry is meant to perform\
    \ forwarding\n   only for Uplink (Ul) traffic or to perform bi-directional forwarding\n\
    \   for Uplink (Ul) and Downlink (Dl) traffic.\n   State transitions can be triggered\
    \ as a result of processing a\n   received PBU or by a local timeout event on\
    \ the LMA.  In the\n   forwarding state chart below, the presence of a Transient\
    \ Binding\n   option in a PBU is indicated by 'Topt' as an argument to a PBU or\n\
    \   PBA, respectively.  As a further argument to a PBU message, the\n   source\
    \ of the message is indicated, which can be either the MN's nMAG\n   or pMAG.\
    \  A PBA is always sent by the LMA and addressed to the\n   originator of the\
    \ associated PBU.\n   A handover with transient BCE is either triggered when the\
    \ nMAG sends\n   a PBU with a Transient Binding option or when the LMA decides\
    \ to\n   answer a normal PBU with a PBA after including a Transient Binding\n\
    \   option.  Figure 4 illustrates the possible transitions between an\n   active\
    \ BCE and a transient BCE from the LMA's point of view.  It also\n   shows the\
    \ direct transition between two active BCE states during an\n   MN's handover\
    \ according to [RFC5213], bypassing any transient states.\n   The diagram refers\
    \ to two timeout events.  TIMEOUT_1 is set according\n   to the Lifetime value\
    \ in a Transient Binding option (see Section 5\n   for the format of the Transient\
    \ Binding option), whereas TIMEOUT_2 is\n   set to ACTIVATIONDELAY (see Section\
    \ 8 for the default value).\n   The first sequence of a transient BCE handover\
    \ is followed when the\n   LMA decides not to use the optional activation state\
    \ and is going\n   through Transient-L state, in which the LMA continues forwarding\n\
    \   downlink packets to the pMAG, whereas uplink packets are accepted and\n  \
    \ forwarded from both, the pMAG and the nMAG.  On reception of a PBU\n   without\
    \ a Transient Binding option from the nMAG, a TIMEOUT_1 event,\n   or the reception\
    \ of a deregistration PBU from the pMAG, the\n   forwarding entry of the pMAG\
    \ is removed from the MN's BCE, and the\n   BCE state changes to active.\n   If\
    \ the LMA decides to use the activation state, the second sequence\n   is used.\
    \  In this case, the BCE state turns into Transient-LA.\n   Forwarding characteristics\
    \ in the Transient-LA state are the same as\n   for the Transient-L state, but\
    \ the Transient-LA state follows a\n   Transient-A state when the LMA receives\
    \ a PBU from the nMAG without a\n   Transient Binding option included or a TIMEOUT_1\
    \ event occurs.  In\n   the Transient-A state, the LMA performs a downlink forwarding\
    \ path\n   switch from the pMAG to the nMAG, whereas uplink packets are still\n\
    \   accepted and forwarded from both, the pMAG and the nMAG.  The\n   Transient-A\
    \ state is terminated by a TIMEOUT_2 event, the forwarding\n   entry of the pMAG\
    \ is removed from the MN's BCE, and the BCE state\n   turns to active.  If the\
    \ LMA receives a deregistration PBU from the\n   pMAG while the associated MN's\
    \ BCE is in Transient-LA state, the\n   uplink forwarding rule of the pMAG is\
    \ no longer valid and the\n   transition through Transient-A state is skipped.\
    \  In such a case, the\n   BCE turns into active state immediately.\n        \
    \                        +----------------+              Before\n          PBU(nMAG)\
    \ & PBA(LMA)  |    Active      |              Handover\n        +-----------------------|\
    \                |              --------\n        |                       |  pMAG\
    \ [Dl,Ul]  |                   .\n        |                       *----------------*\
    \                   .\n        |                               |             \
    \               .\n        |                               |                 \
    \           V\n        |               PBU(nMAG, Topt) | PBU(nMAG) & PBA(LMA,\
    \ Topt) .\n        |                               |                         \
    \   .\n        |                               |                            .\n\
    \        |                               V                      Handover\n   \
    \     |                           __________                 Procedure\n     \
    \   |                          /   LMA    \\                      .\n        |\
    \               _________ /  selects   \\ _________           .\n        |   \
    \         No|          \\ activation /          |Yes       .\n        |      \
    \        |           \\_state_?__/           |          .\n        |         \
    \     |                                  |          V\n        |             \
    \ V                                  V          .\n        |       +--------------+\
    \                  +--------------+   .\n        |       | Transient-L  |    \
    \              | Transient-LA |   .\n        |       |              |        \
    \          |              |   .\n        |       | pMAG [Dl,Ul] |          +-------|\
    \ pMAG [Dl,Ul] |   .\n        |       | nMAG [Ul]    |          |       | nMAG\
    \ [Ul]    |   .\n        |       +--------------+          |       +--------------+\
    \   .\n        |              |                  |               |\n        |\
    \              |       PBU(pMAG,  |     PBU(nMAG) | TIMEOUT_1\n        |     \
    \         |       lifetime=0)|               |          .\n        |         \
    \     |                  |               V          .\n        |             \
    \ |                  |       +--------------+   .\n        |              |  \
    \                |       | Transient-A  |   .\n        |    PBU(nMAG) | TIMEOUT_1\
    \        |       |              |   .\n        |              |              \
    \    |       | nMAG [Dl,Ul] |   .\n        |              |PBU(pMAG,         |\
    \       | pMAG [Ul]    |   .\n        |              | lifetime=0)      |    \
    \   +--------------+   .\n        |              |                  |        \
    \       |\n        |              |                  |   PBU(pMAG,   | TIMEOUT_2\n\
    \        |              |                  |    lifetime=0)|          .\n    \
    \    |              |                  |               |          V\n        |\
    \              |                  |               |    -------\n        |    \
    \          |                  |               |    Handover\n        |       \
    \       |                  |               V    Complete\n        |          \
    \    |                  |        +--------------+\n        |              |  \
    \                +------->|    Active    |\n        |              +-------------------------->|\
    \              |\n        +----------------------------------------->| nMAG [Dl,Ul]\
    \ |\n                                                   +--------------+\n   \
    \  Figure 4: Possible transient forwarding states during a handover\n"
- title: 4.5.  MAG Operation
  contents:
  - "4.5.  MAG Operation\n   In case of a handover, the MN's nMAG may decide to control\
    \ the MN's\n   handover at the LMA to perform a late path switch according to\
    \ the\n   transient BCE procedure.  In such a case, the nMAG includes the\n  \
    \ Transient Binding option in the PBU and sets the L-flag to 1 to\n   indicate\
    \ a late path switch.  Furthermore, the nMAG MUST set the\n   Lifetime field of\
    \ the Transient Binding option to a value larger than\n   0 to propose a maximum\
    \ lifetime of the transient BCE and to delimit\n   the delay of switching the\
    \ downlink path to the nMAG.  The chosen\n   lifetime value for the Transient\
    \ Binding option SHOULD be smaller\n   than the chosen lifetime value for the\
    \ PBU registration.  Other\n   fields and options of the PBU are used according\
    \ to [RFC5213].\n   In case the nMAG does not include a Transient Binding option\
    \ but the\n   LMA decides to perform a handover according to the transient BCE\n\
    \   procedure, the nMAG may receive a Transient Binding option along with\n  \
    \ the PBA from the LMA as a result of the PBU it sent to the LMA.\n   In case\
    \ the nMAG receives a PBA with a Transient Binding option\n   having the L-flag\
    \ set to 1, it SHOULD link the information about the\n   transient BCE sequence\
    \ and the associated transient BCE lifetime with\n   the MN's entry in the BUL.\
    \  Since the L-flag of the Transient Binding\n   option is set to 1 to indicate\
    \ a late path switch, the nMAG MAY turn\n   an MN's transient BCE into an active\
    \ BCE before the expiration of the\n   transient BCE lifetime (TIMEOUT_1), e.g.,\
    \ when the MN's nMAG detects\n   or gets informed that address configuration and\
    \ radio bearer setup\n   has been completed.  To initiate turning a transient\
    \ BCE into an\n   active BCE, the nMAG sends a PBU to the LMA without including\
    \ the\n   Transient Binding option.  All fields of the PBU are set according to\n\
    \   the procedure for the binding lifetime extension described in Section\n  \
    \ 5.3.3 of [RFC5213].  In case the lifetime of a transient BCE expires\n   or\
    \ the LMA approves turning a transient BCE into an active BCE as a\n   result\
    \ of a PBU sent by the nMAG, the nMAG MUST delete all\n   information associated\
    \ with the transient BCE from the MN's BUL\n   entry.\n   In case the nMAG includes\
    \ a Transient Binding option into the PBU,\n   only one instance of the Transient\
    \ Binding option per PBU is allowed.\n   A MAG, which serves the MN current Proxy-CoA\
    \ while the LMA already\n   has an active or transient binding for the MN pointing\
    \ to this MAG,\n   SHALL NOT include a Transient Binding option in any subsequent\
    \ PBU to\n   create or update a transient BCE for the MN's current registration\n\
    \   with this MAG.\n"
- title: 4.6.  LMA Operation
  contents:
  - '4.6.  LMA Operation

    '
- title: 4.6.1.  Initiation of a Transient BCE
  contents:
  - "4.6.1.  Initiation of a Transient BCE\n   In case the LMA receives a handover\
    \ PBU from an MN's nMAG that does\n   not include a Transient Binding option and\
    \ the associated MN's BCE is\n   active and not in transient state, the LMA MAY\
    \ take the decision to\n   use a transient BCE and inform the nMAG about the transient\
    \ BCE\n   characteristics by including a Transient Binding option in the PBA.\n\
    \   In such a case, the LMA should know about the nMAG's capability to\n   support\
    \ the Transient Binding option.  The configuration of the MN's\n   transient BCE\
    \ is performed according to the description in this\n   section and the selected\
    \ transient state.  Otherwise, the LMA\n   processes the PBU according to the\
    \ PMIPv6 protocol [RFC5213] and\n   performs a normal update of the MN's BCE.\n\
    \   In case the PBU from the nMAG has a Transient Binding option\n   included,\
    \ the LMA must enter the sequence of transient BCE states\n   according to its\
    \ decision whether or not to use an optional\n   activation state.  In case the\
    \ LMA decides not to use an activation\n   state, it configures the MN's transient\
    \ BCE and the forwarding rules\n   according to Transient-L state.  As a result,\
    \ the LMA performs a late\n   path switch and forwards downlink packets for the\
    \ MN towards the MN's\n   pMAG, whereas uplink packets being forwarded from both\
    \ Proxy-CoAs,\n   the MN's pMAG, as well as from its nMAG, will be routed by the\
    \ LMA.\n   In case the PBU from the nMAG has a Transient Binding option included\n\
    \   and the LMA decides to use an optional activation state, the LMA\n   configures\
    \ the MN's transient BCE and the forwarding rules according\n   to Transient-LA\
    \ state.  As a result, the LMA performs a late path\n   switch and forwards downlink\
    \ packets for the MN towards the MN's\n   pMAG, whereas uplink packets being forwarded\
    \ from both Proxy-CoAs,\n   the MN's pMAG, as well as from its nMAG, will be routed\
    \ by the LMA.\n   In addition, the LMA marks the transient BCE to enter a temporary\n\
    \   activation phase in Transient-A state after the LMA received an\n   indication\
    \ to turn a transient BCE into an active BCE.\n   The LMA sets the lifetime of\
    \ the transient BCE according to the\n   lifetime indicated by the nMAG in the\
    \ Transient Binding option's\n   lifetime field or may decide to reduce the lifetime\
    \ according to its\n   policy.  If the lifetime value in the Transient Binding\
    \ option\n   exceeds the lifetime value associated with the PBU message, the LMA\n\
    \   MUST reduce the lifetime of the transient BCE to a value smaller than\n  \
    \ the registration lifetime value in the PBU message.  In the case of a\n   successful\
    \ transient BCE registration, the LMA sends a PBA with a\n   Transient Binding\
    \ option back to the nMAG.  The L-flag of the\n   Transient Binding option MUST\
    \ be set to 1 in this version of the\n   specification.  The lifetime field is\
    \ set to the value finally chosen\n   by the LMA.\n   In any case where the LMA\
    \ finds the L-flag of the received Transient\n   Binding option set to 1, but\
    \ the lifetime field of the Transient\n   Binding option is set to 0, the LMA\
    \ MUST ignore the Transient Binding\n   option and process the PBU according to\
    \ [RFC5213].  After the PBU has\n   been processed successfully, the LMA sends\
    \ back a PBA with the status\n   field set to PBU_ACCEPTED_TB_IGNORED_SETTINGSMISMATCH.\n\
    \   In case the LMA receives a Transient Binding option with the L-flag\n   set\
    \ to 0, this version of the specification mandates the LMA to\n   ignore the Transient\
    \ Binding option and process the PBU according to\n   [RFC5213].  After the PBU\
    \ has been processed successfully, the LMA\n   sends back a PBA with the status\
    \ field set to\n   PBU_ACCEPTED_TB_IGNORED_SETTINGSMISMATCH.\n   In case the LMA\
    \ receives a PBU with a Transient Binding option\n   included from a MAG that\
    \ serves already as Proxy-CoA to the\n   associated MN in an active or transient\
    \ BCE, the LMA MUST ignore the\n   Transient Binding option and process the PBU\
    \ according to [RFC5213].\n   After the PBU has been processed successfully, the\
    \ LMA sends back a\n   PBA with the status field set to\n   PBU_ACCEPTED_TB_IGNORED_SETTINGSMISMATCH.\
    \  In case the MN's BCE was\n   in transient state before receiving such PBU from\
    \ the MAG, the LMA\n   SHALL interpret this PBU as indication to turn a transient\
    \ BCE into\n   an active BCE and proceed with leaving the Transient-L or\n   Transient-LA\
    \ state, respectively.\n   In any case where the LMA includes a Transient Binding\
    \ option in the\n   PBA, only one instance of the Transient Binding option per\
    \ PBA is\n   allowed.\n"
- title: 4.6.2.  Activation of a Transient BCE
  contents:
  - "4.6.2.  Activation of a Transient BCE\n   When the LMA receives a PBU from the\
    \ MN's nMAG that has no Transient\n   Binding option included but the MN's BCE\
    \ is in a transient state or\n   the LMA receives a local event trigger due to\
    \ expiration of the MN's\n   transient BCE, the LMA should check whether the forwarding\
    \ rules for\n   the associated MN are set to route the MN's downlink traffic to\
    \ the\n   MN's pMAG.  If the forwarding entry for downlink packets refers to\n\
    \   the MN's pMAG, the LMA must update the forwarding information to\n   forward\
    \ downlink packets towards the MN's nMAG.  After the forwarding\n   path has been\
    \ switched, the LMA must update the MN's BCE accordingly.\n   If the transient\
    \ BCE indicates that the LMA must consider an\n   activation state Transient-A\
    \ after leaving a transient BCE has been\n   initiated, the LMA must keep both\
    \ forwarding entries for the pMAG and\n   the nMAG for uplink packets and perform\
    \ forwarding of packets it\n   receives from both Proxy-CoAs.  If no activation\
    \ phase is indicated,\n   the LMA sets the state of the MN's BCE to active and\
    \ deletes any\n   forwarding entry referring to the MN's pMAG.  The LMA must delete\
    \ any\n   scheduled timeout event for the MN that is associated with a\n   transient\
    \ BCE.\n   When the LMA receives a deregistration PBU from the MN's pMAG, which\n\
    \   has the registration lifetime set to 0 and the MN's BCE is in\n   transient\
    \ state, the LMA must update the forwarding rules for the MN\n   and switch the\
    \ downlink traffic path from the pMAG to the nMAG.\n   Furthermore, the LMA sets\
    \ the state of the MN's BCE to active and\n   removes any forwarding entry towards\
    \ the pMAG from the MN's BCE,\n   irrespective of whether or not the transient\
    \ BCE was configured to\n   enter an activation state of Transient-A.\n   When\
    \ the LMA receives a local event trigger due to the expiration of\n   a timer\
    \ that has been set to ACTIVATIONDELAY and scheduled to\n   terminate the activation\
    \ state of an MN's transient BCE, the LMA sets\n   the state of the MN's BCE to\
    \ active and removes any forwarding entry\n   towards the pMAG from the MN's BCE.\n\
    \   When the LMA receives a PBU for binding lifetime extension from the\n   MN's\
    \ pMAG while the MN's BCE is in transient state, the LMA must\n   approve the\
    \ lifetime extension to pMAG according to [RFC5213] and\n   proceed with the transient\
    \ BCE handover towards nMAG according to\n   this specification.\n   When the\
    \ LMA receives a PBU from pMAG or a (n+1)MAG, which indicates\n   a handover,\
    \ e.g., according to the indications specified in\n   [RFC5213], while the MN's\
    \ BCE is in any of the specified transient\n   states, the LMA MUST terminate\
    \ the transient state and perform a\n   handover to pMAG or (n+1)MAG, respectively,\
    \ according to [RFC5213].\n   After the PBU has been processed successfully, the\
    \ LMA sends back a\n   PBA to the MAG that sent the PBU.  If the PBU included\
    \ a Transient\n   Binding option, the LMA must ignore the Transient Binding option\
    \ and\n   set the status code of the PBA to\n   PBU_ACCEPTED_TB_IGNORED_SETTINGSMISMATCH.\n"
- title: 4.7.  MN Operation
  contents:
  - "4.7.  MN Operation\n   For a single radio handover, this specification does not\
    \ require any\n   additional functionality on the mobile node, when compared to\n\
    \   [RFC5213].\n   During dual radio handover, the MN benefits most from the transient\n\
    \   BCE extension to PMIPv6 when it is able to keep communication on the\n   previous\
    \ interface while it is setting up its handover target\n   interface with the\
    \ configuration context that has been received as a\n   result of the new interface's\
    \ attachment to the nMAG.  Various\n   techniques enable support for such an operation,\
    \ e.g., the use of a\n   virtual interface on top of physical radio interfaces\
    \ [NETEXT] or\n   implementation-specific extensions to the MN's protocol stack.\n\
    \   Details about how to enable such make-before-break support on the MN\n   are\
    \ out of scope of this document.\n"
- title: 4.8.  Status Values
  contents:
  - "4.8.  Status Values\n   This section specifies the following PBA status value\
    \ (6) for\n   transient binding cache entry support.  This status value is smaller\n\
    \   than 128 and has been added to the set of status values specified in\n   [RFC5213].\n\
    \   PBU_ACCEPTED_TB_IGNORED_SETTINGSMISMATCH:  6\n      The LMA has processed\
    \ and accepted the PBU, but the attached\n      Transient Binding option has been\
    \ ignored.\n"
- title: 4.9.  Protocol Stability
  contents:
  - "4.9.  Protocol Stability\n   The specification and use of transient BCEs ensures\
    \ that correct\n   PMIPv6 operation according to [RFC5213] will not be broken\
    \ in any\n   case.  Such cases include loss of signaling information and\n   incompatibility\
    \ between an nMAG and an LMA in case one or the other\n   side does not support\
    \ the transient BCE option.  The following list\n   summarizes such cases and\
    \ describes how the PMIPv6 protocol operation\n   resolves incompatibility or\
    \ loss of a signaling message.\n   LMA does not support transient BCEs:  In case\
    \ the nMAG sends a PBU\n      with a Transient Binding option included to an LMA\
    \ but the LMA\n      does not support transient BCEs, the LMA ignores the unknown\n\
    \      option [RFC3775] and processes the PBU according to [RFC5213].\n      Since\
    \ the nMAG receives a PBA that has no Transient Binding option\n      included,\
    \ it does not set any transient binding information in the\n      MN's BUL entry\
    \ and operates according to [RFC5213].\n   nMAG does not support transient BCEs:\
    \  In case the LMA makes the\n      decision to perform a handover according to\
    \ any of the specified\n      transient BCE sequences and includes a Transient\
    \ Binding option in\n      the PBA, the receiving nMAG ignores the unknown option\
    \ [RFC3775]\n      and processes the PBA according to [RFC5213].  As the LMA does\
    \ not\n      get any further indication or feedback about the incompatibility\n\
    \      at the nMAG, the LMA enters the selected transient state, which\n     \
    \ will be terminated at the latest time after (TIMEOUT_1 +\n      ACTIVATIONDELAY)\
    \ seconds.  During this period, the nMAG performs\n      according to the PMIPv6\
    \ specification [RFC5213], whereas the LMA\n      will accept all uplink packets\
    \ for the MN, from the pMAG, as well\n      as from the nMAG according to the\
    \ transient BCE specification.  It\n      is transparent to the nMAG if the LMA\
    \ forwards downlink packets to\n      the pMAG during the transient BCE phase;\
    \ thus, no protocol\n      conflict occurs due to the different states on the\
    \ nMAG and the\n      LMA.\n   Loss of Transient Binding option:  As the Transient\
    \ Binding option is\n      included in the PBU and PBA, recovery from signaling\
    \ packet loss\n      is according to the PMIPv6 protocol operation and associated\n\
    \      re-transmission mechanisms [RFC5213].\n   Missing PBU to turn a transient\
    \ BCE into an active BCE:  According to\n      this specification, a lifetime\
    \ for TIMEOUT_1 is signaled in the\n      Transient Binding option, and turning\
    \ a transient BCE into an\n      active BCE is initiated at the latest time after\
    \ the timer\n      TIMEOUT_1 has elapsed.  In case PBU signaling is lost or the\
    \ nMAG\n      fails to initiate turning a transient BCE into an active BCE, the\n\
    \      transient state of the MN's BCE will be terminated after\n      expiration\
    \ of the set lifetime, i.e., stable operation of the\n      PMIPv6 protocol [RFC5213]\
    \ has reliably recovered.\n   Lost connection with pMAG during late path switch:\
    \  In case an MN\n      loses connectivity to its pMAG during a transient BCE\
    \ phase with\n      late path switch and the nMAG fails to initiate turning a\n\
    \      transient BCE into an active BCE to perform the path switch to the\n  \
    \    nMAG, in a worst-case scenario, downlink packets are lost until\n      the\
    \ chosen TIMEOUT_1 expires.  After TIMEOUT_1 seconds, the\n      protocol operation\
    \ has been recovered successfully.  However, this\n      case is very unlikely\
    \ for two reasons: If the connectivity to the\n      pMAG is lost, the pMAG will\
    \ send a deregistration PBU for the MN\n      to the LMA, which results in turning\
    \ the transient BCE into an\n      active BCE and in a path switch.  Furthermore,\
    \ the nMAG will\n      initiate turning the transient BCE into an active BCE as\
    \ soon as\n      the setup of the data link between the MN and the nMAG has been\n\
    \      completed (Section 4.4).  Note that this case, in particular,\n      affects\
    \ downlink packets, whereas uplink packets can be sent\n      through the new\
    \ connection after a broken link to the pMAG has\n      been detected.\n   Binding\
    \ lifetime extension from pMAG while MN's BCE is transient:  As\n      the binding\
    \ lifetime of the pMAG and the nMAG is not correlated,\n      pMAG may send a\
    \ PBU for binding lifetime extension to the MN's LMA\n      while the MN's BCE\
    \ is in transient state.  In such a case, the LMA\n      will approve the binding\
    \ lifetime extension to pMAG according to\n      [RFC5213] and proceed with the\
    \ transient BCE handover towards nMAG\n      according to this specification.\n\
    \   The specification of the transient BCE extension maintains stable\n   operation\
    \ of PMIPv6 in case the MN performs very frequent handover,\n   e.g., movement\
    \ while the MN's handover between the pMAG and the nMAG\n   is still in progress.\
    \  Such corner cases are summarized in the\n   following list.\n   Handover to\
    \ (n+1)MAG during transient BCE:  In case the MN's BCE is\n      transient due\
    \ to a handover from the pMAG to nMAG and during the\n      transient BCE, the\
    \ MN performs a further handover to a MAG that is\n      different from pMAG and\
    \ nMAG, say to (n+1)MAG, the LMA terminates\n      the transient BCE and performs\
    \ a handover to (n+1)MAG according to\n      [RFC5213].\n   Handover back to pMAG\
    \ during transient BCE (ping pong):  In case the\n      MN's BCE is transient\
    \ due to a handover from the pMAG to nMAG and\n      the MN moves back from nMAG\
    \ to pMAG during the transient BCE, the\n      LMA terminates the transient BCE\
    \ and performs a handover to pMAG\n      according to [RFC5213].\n"
- title: 5.  Message Format
  contents:
  - '5.  Message Format

    '
- title: 5.1.  Transient Binding Option
  contents:
  - "5.1.  Transient Binding Option\n   This section describes the format of the Transient\
    \ Binding option,\n   which can be included in a Proxy Binding Update message\
    \ and a Proxy\n   Binding Acknowledge message.  The use of this Mobility Header\
    \ option\n   is optional.\n   The Transient Binding option can be included in\
    \ a PBU message, which\n   is sent by an MN's nMAG as a result of a handover.\
    \  In such a case,\n   the nMAG controls the transient BCE on the LMA.  Alternatively,\
    \ the\n   LMA may attach the Transient Binding option in a PBA for two reasons.\n\
    \   Either it replies to a received PBU with an attached Transient\n   Binding\
    \ option to approve or correct the transient BCE lifetime, or\n   it notifies\
    \ the nMAG about its decision to enter a transient BCE\n   without having received\
    \ a Transient Binding option from the nMAG in\n   the associated PBU beforehand.\n\
    \   The Transient Binding option has no alignment requirement.  Its\n   format\
    \ is as follows:\n       0                   1                   2           \
    \        3\n       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9\
    \ 0 1\n      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \      |    Type       |     Length    | Reserved    |L|   Lifetime    |\n   \
    \   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   Type:\
    \ Identifies the Transient Binding option (43).\n   Length: 8-bit unsigned integer\
    \ indicating the length of the option in\n   octets, excluding the Type and the\
    \ Length fields.  This field MUST be\n   set to 2.\n   L-Flag: Indicates that\
    \ the LMA applies late path switch according to\n   the transient BCE state. \
    \ If the L-flag is set to 1, the LMA\n   continues to forward downlink packets\
    \ towards the pMAG.  Different\n   setting of the L-Flag may be for future use.\n\
    \   Lifetime: Maximum lifetime of a Transient-L state in multiple of 100\n   ms.\n"
- title: 6.  IANA Considerations
  contents:
  - "6.  IANA Considerations\n   This specification adds a new Mobility Header option,\
    \ the Transient\n   Binding option.  The Transient Binding option is described\
    \ in\n   Section 5.1.  The Type value (43) for this option has been registered\n\
    \   in the Mobility Options registry, the numbering space allocated for\n   the\
    \ other mobility options, as defined in [RFC3775].\n   This specification also\
    \ adds one status code value to the Proxy\n   Binding Acknowledge message, the\n\
    \   PBU_ACCEPTED_TB_IGNORED_SETTINGSMISMATCH status code (6).  The\n   PBU_ACCEPTED_TB_IGNORED_SETTINGSMISMATCH\
    \ status code is described in\n   Section 4.8.  Its value has been assigned from\
    \ the Status Codes sub-\n   registry as defined in [RFC3775] and has a value smaller\
    \ than 128.\n"
- title: 7.  Security Considerations
  contents:
  - "7.  Security Considerations\n   Signaling between MAGs and LMAs as well as information\
    \ carried by PBU\n   and PBA messages is protected and authenticated according\
    \ to the\n   mechanisms described in [RFC5213].  No new security considerations\n\
    \   are introduced in addition to those in [RFC5213].  Thus, the security\n  \
    \ considerations described throughout [RFC5213] apply here as well.\n   In case\
    \ the MAGs or LMAs make use of a further protocol interface to\n   an external\
    \ component, such as for support of transient BCE control,\n   the associated\
    \ protocol must be protected and information must be\n   authenticated.\n"
- title: 8.  Protocol Configuration Variables
  contents:
  - "8.  Protocol Configuration Variables\n   LMA values:\n   o  'ACTIVATIONDELAY':\
    \ This value is set by default to 2000 ms and can\n      be administratively adjusted.\n"
- title: 9.  Contributors
  contents:
  - "9.  Contributors\n   Many thanks to Jun Awano, Suresh Krishnan, Long Le, Kent\
    \ Leung,\n   Basavaraj Patil, and Rolf Sigle for contributing to this document.\n"
- title: 10.  Acknowledgments
  contents:
  - "10.  Acknowledgments\n   The authors would like to thank Telemaco Melia, Vijay\
    \ Devarapalli,\n   Rajeev Koodli, Ryuji Wakikawa, and Pierrick Seite for their\
    \ valuable\n   comments to improve this specification.\n"
- title: 11.  References
  contents:
  - '11.  References

    '
- title: 11.1.  Normative References
  contents:
  - "11.1.  Normative References\n   [RFC2119]   Bradner, S., \"Key words for use\
    \ in RFCs to Indicate\n               Requirement Levels\", BCP 14, RFC 2119,\
    \ March 1997.\n   [RFC3775]   Johnson, D., Perkins, C., and J. Arkko, \"Mobility\
    \ Support\n               in IPv6\", RFC 3775, June 2004.\n   [RFC5213]   Gundavelli,\
    \ S., Leung, K., Devarapalli, V., Chowdhury,\n               K., and B. Patil,\
    \ \"Proxy Mobile IPv6\", RFC 5213,\n               August 2008.\n"
- title: 11.2.  Informative References
  contents:
  - "11.2.  Informative References\n   [NETEXT]    Melia, T., Ed. and S. Gundavelli,\
    \ Ed., \"Logical Interface\n               Support for multi-mode IP Hosts\",\
    \ Work in Progress,\n               October 2010.\n   [RFC4861]   Narten, T.,\
    \ Nordmark, E., Simpson, W., and H. Soliman,\n               \"Neighbor Discovery\
    \ for IP version 6 (IPv6)\", RFC 4861,\n               September 2007.\n   [RFC4862]\
    \   Thomson, S., Narten, T., and T. Jinmei, \"IPv6 Stateless\n               Address\
    \ Autoconfiguration\", RFC 4862, September 2007.\n   [TS23.401]  \"General Packet\
    \ Radio Service (GPRS) enhancements for\n               Evolved Universal Terrestrial\
    \ Radio Access Network\n               (E-UTRAN) access\", <http://www.3gpp.org>.\n\
    \   [TS23.402]  \"Architecture enhancements for non-3GPP accesses (Release\n \
    \              9)\", <http://www.3gpp.org>.\n"
- title: Appendix A.  Example Use Cases for Transient BCE
  contents:
  - 'Appendix A.  Example Use Cases for Transient BCE

    '
- title: A.1.  Use Case for Single Radio Handover
  contents:
  - "A.1.  Use Case for Single Radio Handover\n   In some systems, such as the 3GPP\
    \ Evolved Packet Core, PMIPv6 is\n   supported for providing network-based mobility\
    \ between the Serving\n   Gateway (i.e., MAG) and the Packet Data Network Gateway\
    \ (i.e., LMA)\n   and handover mechanisms are implemented in the access network\
    \ to\n   optimize handover for single radio mobile nodes [TS23.401].\n   In such\
    \ a system, a well structured inter-MAG handover procedure has\n   been developed\
    \ and effectively used.  In order to switch the data\n   tunnel path between the\
    \ LMA and the pMAG in a systematic way that\n   reduces packet loss and delay,\
    \ this inter-MAG handover sets up the\n   uplink data path from the mobile node\
    \ through the nMAG and to the LMA\n   first.  As soon as the uplink data path\
    \ is set up, the mobile node is\n   able to forward uplink data packets through\
    \ the nMAG to the LMA.\n   Since the downlink data path between the LMA and the\
    \ nMAG is not set\n   up at the same time as the uplink data path, the LMA must\
    \ continue to\n   forward downlink data packets to the pMAG.  Additionally, this\
    \ system\n   utilizes a layer 2 forwarding mechanism from the previous Access\n\
    \   Network (pAN) to the new Access Network (nAN), which enables the\n   delivery\
    \ of the downlink data packets to the mobile node location\n   while being attached\
    \ to the nMAG.\n   In order for the LMA to be able to forward the mobile node\
    \ uplink\n   data packets to the Internet, the transient BCE mechanism is used\
    \ at\n   the nMAG to send a PBU with the Transient Binding option to allow the\n\
    \   LMA to create a transient BCE for the mobile node with uplink\n   forwarding\
    \ capabilities while maintaining uplink and downlink\n   forwarding capabilities\
    \ for the Proxy-CoA that is hosted at the pMAG.\n   During the lifetime of the\
    \ transient BCE, the LMA continues to accept\n   uplink traffic from both previous\
    \ and new MAG while forwarding\n   downlink traffic to the pMAG only.  While the\
    \ MN is able to receive\n   downlink traffic via the pMAG, the mechanism used\
    \ in the pMAG's\n   access network to forward downlink traffic to the current\
    \ location of\n   the mobile node in the nMAG's access network during an intra-\n\
    \   technology handover is out of scope of this description.\n   When the nMAG\
    \ receives an indication that the inter-MAG handover\n   process has completed,\
    \ the nMAG sends another PBU without including a\n   Transient Binding option\
    \ to update the mobile node's transient BCE to\n   a regular PMIPv6 BCE with bi-directional\
    \ capabilities.  This\n   mechanism is used by the LMA as an indication to switch\
    \ the tunnel to\n   point to the nMAG, which results in a smoother handover for\
    \ the MN.\n   An example of using a transient BCE for intra-technology handover\
    \ is\n   illustrated in Figure 5.  When the nMAG receives the indication that\n\
    \   the MN is moving from the pMAG's access network to the nMAG's area,\n   the\
    \ nMAG sends a PBU on behalf of the MN to the MN's LMA.  In this\n   PBU, the\
    \ nMAG includes the MN-ID, the HNP, and the interface ID as\n   per PMIPv6 base\
    \ protocol [RFC5213].\n   Furthermore, the nMAG indicates an intra-technology\
    \ handover by means\n   of the HI option and includes the Transient Binding option\
    \ to\n   indicate to the LMA that this registration should result in a\n   transient\
    \ BCE with a late downlink path switch.  The nMAG sets the\n   value of the transient\
    \ BCE lifetime to a value that is dependent on\n   the deployment and operator\
    \ specific [D].\n   After the nMAG receives an indication that the MN has completed\
    \ the\n   handover process and the data path is ready to move the tunnel\n   completely\
    \ from the pMAG to the nMAG, the nMAG SHOULD send a PBU to\n   allow the LMA to\
    \ turn the MN's transient BCE into a regular BCE and\n   to switch the data path\
    \ completely to be delivered through the new\n   Proxy-CoA.  In this case, the\
    \ nMAG sends a PBU with the MN-ID,\n   Interface ID, and HNP and at the same time\
    \ indicates an intra-\n   technology handover by means of the HI option.  In this\
    \ PBU, the nMAG\n   MUST NOT include the Transient Binding option, as shown in\
    \ Figure 5\n   [E].\n   In the event that the nMAG receives downlink traffic destined\
    \ to the\n   MN from the LMA after sending a PBU with the Transient Binding option\n\
    \   included, the nMAG MUST deliver the downlink traffic to the MN.  In\n   this\
    \ case, the nMAG SHOULD send a PBU to ensure that the transient\n   BCE has been\
    \ turned into an active BCE.\n          +-----+      +----+       +----+     \
    \               +-----+\n          | MN  |      |pMAG|       |nMAG|          \
    \          | LMA |\n          +-----+      +----+       +----+               \
    \     +-----+\n             |            |            |  bi-directional      \
    \   |\n             |            |<<<<<<<<======================>>>>>>>>|<-->\n\
    \             |            |            |                         |\n        \
    \     |            |            |                         |\n       [Handoff Event]\
    \    |            |                         |\n             |      [MN HO Event]\
    \      |                         |\n             |            |     [HO Event\
    \ Acquire]               |\n             |            |            |         \
    \                |\n      [LL Attach to       |            |                 \
    \        |\n           nMAG]          |            |-----PBU(transient)----->|\n\
    \             |            |            |                        [D]\n       \
    \      |            |            |<-----PBA(transient)-----|\n             | \
    \           |            |                         |\n             |         \
    \   |          bi-directional              |\n             |      |<--->|<<<<<<<<======================>>>>>>>>|<-->\n\
    \             |     pAN    |            |                         |\n        \
    \     |      |----------->|     |                         |\n             |  \
    \          |     nAN    |                         |\n             |<------------------|\
    \     |uplink only              |\n             |------------------>|---->|>>>>>>===========>>>>>>>>|--->\n\
    \             |            |            |                         |\n        \
    \     |            |      [HO Complete]                   |\n             |  \
    \          |            |----------PBU----------->|\n             |          \
    \  |            |                        [E]\n             |            |    \
    \        |<---------PBA -----------|\n             |            |`           |\
    \                         |\n             |            |            |<<<<<<<<=========>>>>>>>>|<-->\n\
    \             |            |            |                         |\n     Figure\
    \ 5: Transient BCE support for an intra-technology handover\n"
- title: A.2.  Use Case for Dual Radio Handover
  contents:
  - "A.2.  Use Case for Dual Radio Handover\n   During an inter-technology handover,\
    \ the LMA shall, on the one hand,\n   be able to accept uplink packets of the\
    \ MN as soon as the MN has\n   finalized address configuration at the new IF2\
    \ and may start using\n   the new interface for data traffic, i.e., the PBU for\
    \ the uplink\n   shall be done before the radio setup procedure is finalized.\
    \  But, to\n   allow the MN to keep sending its data traffic on IF1 during the\n\
    \   handover, uplink packets with the previously existing binding on IF1\n   shall\
    \ still be accepted by the LMA until the MN detaches from pMAG\n   with IF1 and\
    \ the pMAG has deregistered the MN's attachment at the LMA\n   by means of sending\
    \ a PBU with lifetime 0.  This is of particular\n   importance as sending the\
    \ registration PBU from the nMAG is\n   transparent to the mobile node, i.e.,\
    \ the MN does not know when the\n   PBU has been sent.  On the other hand, switching\
    \ the downlink path\n   from the pMAG to the nMAG shall be performed at the LMA\
    \ only after\n   completion of the IP configuration at the MN's IF2 and after\
    \ a\n   complete setup of the access link between the MN and the nMAG.  How\n\
    \   long this takes depends on some interface-specific settings on the MN\n  \
    \ as well as on the duration of the target system's radio layer\n   protocols,\
    \ which is transparent to the LMA but may be known to MAGs.\n   Similar to the\
    \ use case for single radio handover, a transient BCE\n   can be utilized for\
    \ MNs with dual radio capability.  Such MNs are\n   still able to send and receive\
    \ data on the previous interface during\n   the address configuration on the new\
    \ interface.  Forwarding between\n   the nMAG and pMAG is not required, but the\
    \ case in which the LMA\n   immediately starts forwarding downlink data packets\
    \ to the nMAG has\n   to be avoided.  This is enabled by a PBU that has the Transient\n\
    \   Binding option included, so that it is not necessary that MN and LMA\n   synchronize\
    \ the point in time for switching interfaces and turning a\n   transient BCE into\
    \ an active BCE.\n   When the handover is finalized, the nMAG sends a second PBU\
    \ without\n   including the Transient Binding option and the LMA turns the MN's\
    \ BCE\n   into an active BCE.  This PBU may overtake packets-on-the-fly from MN\n\
    \   to LMA via pMAG (e.g., if the previous interface was of type GSM or\n   Universal\
    \ Mobile Telecommunications System (UMTS) with up to 150\n   milliseconds of uplink\
    \ delay).  The LMA has to drop all these packets\n   from the pMAG due to the\
    \ characteristics of the MN's active BCE.\n   This can be avoided by entering\
    \ another transient BCE state\n   (Transient-A) during the activation phase and\
    \ is characteristic for\n   this use case.  Whether or not to enter a Transient-A\
    \ state is\n   decided by the LMA.\n   The use of a transient BCE for an inter-technology\
    \ handover is\n   exemplarily illustrated in Figure 6.  The MN attaches to the\
    \ PMIPv6\n   network with IF1 according to the procedure described in [RFC5213].\n\
    \   The MN starts receiving data packets on IF1.  When the MN activates\n   IF2\
    \ to prepare an inter-technology handover, the nMAG receives an\n   attach indication\
    \ and sends the PBU to the LMA to update the MN's\n   point of attachment and\
    \ to retrieve configuration information for the\n   MN (e.g., HNP).  The LMA is\
    \ able to identify an inter-technology\n   handover by means of processing the\
    \ HI option coming along with the\n   PBU sent by the nMAG.  As in this example,\
    \ the nMAG includes the\n   Transient Binding option in the PBU to control the\
    \ transient BCE at\n   the LMA, the LMA updates the MN's BCE according to the\
    \ transient BCE\n   specification described in this document and marks the state\
    \ of the\n   BCE as 'transient' [F].\n   As a result of the transient BCE, the\
    \ LMA keeps using the previous\n   forwarding information towards the pMAG binding\
    \ as forwarding\n   information until the transient BCE gets turned into active.\
    \  The LMA\n   acknowledges the PBU by means of sending a PBA to the nMAG.  The\
    \ nMAG\n   now has relevant information available, such as the MN's HNP, to set\n\
    \   up a radio bearer and send a Router Advertisement to the MN.  While\n   the\
    \ MN's BCE at the LMA has a transient characteristic, the LMA\n   forwards uplink\
    \ packets from the MN's pMAG as well as from its nMAG.\n   The nMAG may recognize\
    \ when the MN's IF2 is able to send and receive\n   data packets and sends a new\
    \ PBU to the LMA without including the\n   Transient Binding option to initiate\
    \ turning the MN's transient BCE\n   into an active BCE [G].  As a result of successfully\
    \ turning the MN's\n   transient BCE into an active BCE, downlink packets will\
    \ be forwarded\n   towards the MN's IF2 via the nMAG [H].\n    +------+      \
    \           +----+      +----+                 +---+\n    |  MN  |           \
    \      |pMAG|      |nMAG|                 |LMA|\n    +------+                \
    \ +----+      +----+                 +---+\n    IF2 IF1                    | \
    \          |                      |\n     |   |                     |        \
    \   |                      |\n     |   |- - - - - - - - - Attach         |   \
    \                   |\n     |   |                     |---------------PBU--------------->|\n\
    \     |   |                     |<--------------PBA----------------|\n     | \
    \  |--------RtSol------->|           |                      |\n     |   |<-------RtAdv--------|\
    \           |                      |\n     |  Addr.                  |       \
    \    |                      |\n     |  Conf.                  |           |  \
    \                    |\n     |   |<------------------->|==================data============|<--->\n\
    \     |   |                     |           |                      |\n     |-\
    \ - - - - - - - - - - - - - - - - Attach                    |\n     |   |    \
    \                 |           |----PBU(transient)--->|\n     |   |           \
    \          |           |<---PBA(transient)---[F]\n     |------RAT Configuration--------------|\
    \                      |\n     |   |<--------------------|==================data============|<---\n\
    \     |-------RtSol-(optional)------------->|                      |\n     |<-----------RtAdv--------------------|\
    \                      |\n   Addr. |                     |           |       \
    \               |\n   Conf  |                     |           |              \
    \        |\n     |------------NSol-------------------->|---------PBU-------->[G]\n\
    \     |   |                     |           |<--------PBA----------|\n     |<------------------------------------|========data=========[H]<-->\n\
    \     |   |                     |           |                      |\n     | \
    \  |                     |           |                      |\n     |   |    \
    \                 |           |                      |\n           Figure 6: Late\
    \ path switch with PMIPv6 transient BCEs\n"
- title: Appendix B.  Applicability and Use of Static Configuration at the LMA
  contents:
  - "Appendix B.  Applicability and Use of Static Configuration at the LMA\n   During\
    \ the working group discussion of the functionality introduced\n   by this document,\
    \ it was mentioned that some current Home Agents are\n   already handling some\
    \ features and functionality introduced in this\n   document via some static configuration.\
    \  This Appendix captures the\n   analysis that describes which functionality\
    \ can be handled securely\n   using a static configuration and which can not.\
    \  In these cases where\n   static configuration can be used, this section documents\
    \ the possible\n   disadvantages versus using the procedures captured in this\
    \ document.\n"
- title: B.1.  Early Uplink Traffic from the nMAG
  contents:
  - "B.1.  Early Uplink Traffic from the nMAG\n   This use case is related to the\
    \ handoff scenario when the access\n   network establishes the uplink tunnel to\
    \ the LMA before the downlink\n   portion is done.  Consequently, when the mobile\
    \ node is attached to\n   the nMAG and in the case of active handoff, the UE will\
    \ start sending\n   uplink traffic to the LMA through the nMAG.\n   Since the\
    \ LMA has a proxy BCE for this mobile node that points to the\n   Proxy-CoA that\
    \ is hosted at the pMAG, the LMA has a routing entry for\n   the MN HNP that points\
    \ to the pMAG-LMA tunnel.  Any uplink packet\n   coming from the nMAG will be\
    \ dropped by the LMA.\n   Allowing the LMA to forward the received uplink traffic\
    \ from the nMAG\n   to the Internet while the MN BCE points to the Proxy-CoA hosted\
    \ at\n   the pMAG is a violation of all mobility protocols that require a\n  \
    \ secure signaling exchange between the nMAG and the LMA before\n   forwarding\
    \ such traffic to the Internet.  Otherwise, the LMA will be\n   modifying the\
    \ mobile node's routing entry based on an unsecured data\n   traffic packet coming\
    \ from the nMAG.\n   Therefore, this case cannot be addressed by any statically\
    \ configured\n   information on the LMA.  On the contrary, a secure signaling\
    \ using\n   Transient Binding option as detailed in this document is required\
    \ to\n   create a transient state for the mobile node BCE at the LMA.  This\n\
    \   transient state will allow a temporary routing entry of the mobile\n   node\
    \ to point to the nMAG Proxy-CoA.\n"
- title: B.2.  Late Uplink Traffic from the pMAG
  contents:
  - "B.2.  Late Uplink Traffic from the pMAG\n   This case is a very common case where\
    \ the mobile node is handing over\n   to another MAG while there is still some\
    \ uplink traffic in flight\n   coming from the pMAG.  In this case, the LMA has\
    \ the MN BCE points to\n   the mobile node location before the handoff, i.e.,\
    \ pMAG Proxy-CoA.\n   Then the LMA receives a PBU from the nMAG over a secure\
    \ signaling\n   tunnel, e.g., IPsec tunnel, which indicates some type of handoff\
    \ as\n   per the value in the handoff indicator mobility option.\n   If the PBU\
    \ received from the nMAG was sent using the secure tunnel\n   and successfully\
    \ processed by the LMA, the LMA according to [RFC5213]\n   switches the IP-in-IP\
    \ tunnel to point to the nMAG Proxy-CoA.\n   However, as the LMA is fully aware\
    \ of the mobile node movement via\n   secure signaling from the nMAG and the content\
    \ of the PBU, which, in\n   particular, contains the Handoff Indicator mobility\
    \ option, the LMA\n   can process some intelligence to allow the mobile node's\
    \ late\n   in-flight uplink traffic coming over the pMAG-LMA tunnel to proceed\n\
    \   to the Internet.\n   In order to handle all handoff circumstances, the activation\n\
    \   mechanism as described in this document is preferable over a\n   statically\
    \ configured timer, and it would dynamically help in ending\n   the late forwarding\
    \ from the pMAG based on a protected signaling from\n   the pMAG.\n"
- title: B.3.  Late Switching of Downlink Traffic to nMAG
  contents:
  - "B.3.  Late Switching of Downlink Traffic to nMAG\n   One main use case of transient\
    \ bindings is the late switching of\n   downlink traffic routing at the LMA. \
    \ This allows IP mobility\n   protocol signaling between nMAG and LMA to be performed\
    \ decoupled\n   from the setup of the new link-layer connectivity, e.g., for\n\
    \   performing a handover to an interface with time-consuming link setup\n   procedures\
    \ or for a make-before-break handover between interfaces.\n   LMA behavior according\
    \ to [RFC5213] does not allow for late path\n   switching.  The LMA, according\
    \ to [RFC5213], can only act upon the\n   Handover Indicator and has no information\
    \ on the time of completion\n   of link layer setup.  Even if an LMA implementation\
    \ would be\n   configured to delay the path switching by a fixed time, which would\n\
    \   violate [RFC5213], this would not lead to smooth handover performance\n  \
    \ but would even add latency to the handover.  Only additional\n   signaling as\
    \ provided by this document provides the information that\n   late switching is\
    \ applicable and enables a synchronization of the\n   handover sequence, i.e.,\
    \ the switching is adapted both to the\n   finalization of the link between mobile\
    \ terminal and nMAG and to the\n   release of the link between mobile terminal\
    \ and pMAG, whatever comes\n   first.  Stable handover performance is achieved\
    \ using protected\n   PMIPv6 signaling as per [RFC5213].\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Marco Liebsch (editor)\n   NEC Laboratories Europe\n \
    \  NEC Europe Ltd.\n   Kurfuersten-Anlage 36\n   69115 Heidelberg,\n   Germany\n\
    \   Phone: +49 6221 4342146\n   EMail: marco.liebsch@neclab.eu\n   Ahmad Muhanna\n\
    \   Ericsson\n   2201 Lakeside Blvd.\n   Richardson, TX  75082,\n   USA\n   Phone:\
    \ +1 (972) 583-2769\n   EMail: ahmad.muhanna@ericsson.com\n   Oliver Blume\n \
    \  Alcatel-Lucent Deutschland AG\n   Bell Labs\n   Lorenzstr. 10\n   70435 Stuttgart,\n\
    \   Germany\n   Phone: +49 711 821-47177\n   EMail: oliver.blume@alcatel-lucent.com\n"
