- title: __initial_text__
  contents:
  - "               Geolocation Policy: A Document Format for\n        Expressing\
    \ Privacy Preferences for Location Information\n"
- title: Abstract
  contents:
  - "Abstract\n   This document defines an authorization policy language for\n   controlling\
    \ access to location information.  It extends the Common\n   Policy authorization\
    \ framework to provide location-specific access\n   control.  More specifically,\
    \ this document defines condition elements\n   specific to location information\
    \ in order to restrict access to data\n   based on the current location of the\
    \ Target.\n   Furthermore, this document defines two algorithms for reducing the\n\
    \   granularity of returned location information.  The first algorithm is\n  \
    \ defined for usage with civic location information, whereas the other\n   one\
    \ applies to geodetic location information.  Both algorithms come\n   with limitations.\
    \  There are circumstances where the amount of\n   location obfuscation provided\
    \ is less than what is desired.  These\n   algorithms might not be appropriate\
    \ for all application domains.\n"
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This is an Internet Standards Track document.\n   This\
    \ document is a product of the Internet Engineering Task Force\n   (IETF).  It\
    \ represents the consensus of the IETF community.  It has\n   received public\
    \ review and has been approved for publication by the\n   Internet Engineering\
    \ Steering Group (IESG).  Further information on\n   Internet Standards is available\
    \ in Section 2 of RFC 5741.\n   Information about the current status of this document,\
    \ any errata,\n   and how to provide feedback on it may be obtained at\n   http://www.rfc-editor.org/info/rfc6772.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (c) 2013 IETF Trust and the persons identified\
    \ as the\n   document authors.  All rights reserved.\n   This document is subject\
    \ to BCP 78 and the IETF Trust's Legal\n   Provisions Relating to IETF Documents\n\
    \   (http://trustee.ietf.org/license-info) in effect on the date of\n   publication\
    \ of this document.  Please review these documents\n   carefully, as they describe\
    \ your rights and restrictions with respect\n   to this document.  Code Components\
    \ extracted from this document must\n   include Simplified BSD License text as\
    \ described in Section 4.e of\n   the Trust Legal Provisions and are provided\
    \ without warranty as\n   described in the Simplified BSD License.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1.  Introduction . . . . . . . . . . . . . . . . . . .\
    \ . . . . . .  4\n   2.  Terminology  . . . . . . . . . . . . . . . . . . . .\
    \ . . . . .  5\n   3.  Generic Processing . . . . . . . . . . . . . . . . . .\
    \ . . . .  7\n     3.1.  Structure of Geolocation Authorization Documents . .\
    \ . . .  7\n     3.2.  Rule Transport . . . . . . . . . . . . . . . . . . . .\
    \ . .  7\n   4.  Location-Specific Conditions . . . . . . . . . . . . . . . .\
    \ .  7\n     4.1.  Geodetic Location Condition Profile  . . . . . . . . . . .\
    \  8\n     4.2.  Civic Location Condition Profile . . . . . . . . . . . . .  9\n\
    \   5.  Actions  . . . . . . . . . . . . . . . . . . . . . . . . . . .  9\n  \
    \ 6.  Transformations  . . . . . . . . . . . . . . . . . . . . . . .  9\n    \
    \ 6.1.  Set Retransmission-Allowed . . . . . . . . . . . . . . . .  9\n     6.2.\
    \  Set Retention-Expiry . . . . . . . . . . . . . . . . . . . 10\n     6.3.  Set\
    \ Note-Well  . . . . . . . . . . . . . . . . . . . . . . 10\n     6.4.  Keep Ruleset\
    \ Reference . . . . . . . . . . . . . . . . . . 10\n     6.5.  Provide Location\
    \ . . . . . . . . . . . . . . . . . . . . . 11\n       6.5.1.  Civic Location\
    \ Profile . . . . . . . . . . . . . . . . 12\n       6.5.2.  Geodetic Location\
    \ Profile  . . . . . . . . . . . . . . 13\n   7.  Examples . . . . . . . . . .\
    \ . . . . . . . . . . . . . . . . . 15\n     7.1.  Rule Example with Civic Location\
    \ Condition . . . . . . . . 15\n     7.2.  Rule Example with Geodetic Location\
    \ Condition  . . . . . . 16\n     7.3.  Rule Example with Civic and Geodetic Location\
    \ Condition  . 17\n     7.4.  Rule Example with Location-Based Transformations\
    \ . . . . . 18\n     7.5.  Location Obfuscation Example . . . . . . . . . . .\
    \ . . . . 19\n   8.  XML Schema for Basic Location Profiles . . . . . . . . .\
    \ . . . 23\n   9.  XML Schema for Geolocation Policy  . . . . . . . . . . . .\
    \ . . 24\n   10. XCAP Usage . . . . . . . . . . . . . . . . . . . . . . . . .\
    \ . 25\n     10.1. Application Unique ID  . . . . . . . . . . . . . . . . . .\
    \ 26\n     10.2. XML Schema . . . . . . . . . . . . . . . . . . . . . . . . 26\n\
    \     10.3. Default Namespace  . . . . . . . . . . . . . . . . . . . . 26\n  \
    \   10.4. MIME Media Type  . . . . . . . . . . . . . . . . . . . . . 26\n    \
    \ 10.5. Validation Constraints . . . . . . . . . . . . . . . . . . 26\n     10.6.\
    \ Data Semantics . . . . . . . . . . . . . . . . . . . . . . 26\n     10.7. Naming\
    \ Conventions . . . . . . . . . . . . . . . . . . . . 26\n     10.8. Resource\
    \ Interdependencies . . . . . . . . . . . . . . . . 26\n     10.9. Authorization\
    \ Policies . . . . . . . . . . . . . . . . . . 27\n   11. IANA Considerations\
    \  . . . . . . . . . . . . . . . . . . . . . 27\n     11.1. Geolocation Policy\
    \ XML Schema Registration . . . . . . . . 27\n     11.2. Geolocation Policy Namespace\
    \ Registration  . . . . . . . . 27\n     11.3. Geolocation Policy Location Profile\
    \ Registry . . . . . . . 28\n     11.4. Basic Location Profile XML Schema Registration\
    \ . . . . . . 28\n     11.5. Basic Location Profile Namespace Registration  .\
    \ . . . . . 29\n     11.6. XCAP Application Usage ID  . . . . . . . . . . . .\
    \ . . . . 29\n   12. Internationalization Considerations  . . . . . . . . . .\
    \ . . . 30\n   13. Security Considerations  . . . . . . . . . . . . . . . . .\
    \ . . 30\n     13.1. Introduction . . . . . . . . . . . . . . . . . . . . . .\
    \ . 30\n     13.2. Obfuscation  . . . . . . . . . . . . . . . . . . . . . . .\
    \ 31\n     13.3. Algorithm Limitations  . . . . . . . . . . . . . . . . . . 32\n\
    \     13.4. Usability  . . . . . . . . . . . . . . . . . . . . . . . . 33\n  \
    \   13.5. Limitations of Obscuring Locations . . . . . . . . . . . . 33\n   14.\
    \ References . . . . . . . . . . . . . . . . . . . . . . . . . . 35\n     14.1.\
    \ Normative References . . . . . . . . . . . . . . . . . . . 35\n     14.2. Informative\
    \ References . . . . . . . . . . . . . . . . . . 35\n   Appendix A.  Acknowledgments\
    \ . . . . . . . . . . . . . . . . . . . 38\n   Appendix B.  Pseudocode  . . .\
    \ . . . . . . . . . . . . . . . . . . 39\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   Location information needs to be protected against unauthorized\n\
    \   access to preserve the privacy of humans.  In RFC 6280 [RFC6280], a\n   protocol-independent\
    \ model for access to geographic information is\n   defined.  The model includes\
    \ a Location Generator (LG) that\n   determines location information, a Location\
    \ Server (LS) that\n   authorizes access to location information, a Location Recipient\
    \ (LR)\n   that requests and receives location information, and a Rule Maker\n\
    \   (RM) that writes authorization policies.  An authorization policy is\n   a\
    \ set of rules that regulates an entity's activities with respect to\n   privacy-sensitive\
    \ information, such as location information.\n   The data object containing location\
    \ information in the context of\n   this document is referred to as a Location\
    \ Object (LO).  The basic\n   rule set defined in the Presence Information Data\
    \ Format Location\n   Object (PIDF-LO) [RFC4119] can restrict how long the Location\n\
    \   Recipient is allowed to retain the information, and it can prohibit\n   further\
    \ distribution.  It also contains a reference to an enhanced\n   rule set and\
    \ a human-readable privacy policy.  The basic rule set\n   does not protect access\
    \ to location information.  It only conveys the\n   user's privacy preferences.\
    \  This document describes an enhanced rule\n   set that provides richer constraints\
    \ on the distribution of LOs.\n   The enhanced rule set allows the entity that\
    \ uses the rules defined\n   in this document to restrict the retention and to\
    \ enforce access\n   restrictions on location data, including prohibiting any\n\
    \   dissemination to particular individuals, during particular times or\n   when\
    \ the Target is located in a specific region.  The RM can also\n   stipulate that\
    \ only certain parts of the Location Object are to be\n   distributed to recipients\
    \ or that the resolution is reduced for parts\n   of the Location Object.\n  \
    \ In the typical sequence of operations, a Location Server receives a\n   query\
    \ for location information for a particular Target.  The\n   authenticated identity\
    \ of the Location Recipient, together with other\n   information provided with\
    \ the request or generally available to the\n   server, is then used for searching\
    \ through the rule set.  If more\n   than one rule matches the condition element,\
    \ then the combined\n   permission is evaluated according to the description in\
    \ Section 10 of\n   [RFC4745].  The result of the rule evaluation is applied to\
    \ the\n   location information, yielding a possibly modified Location Object\n\
    \   that is delivered to the Location Recipient.\n   This document does not describe\
    \ the protocol used to convey location\n   information from the Location Server\
    \ to the Location Recipient.\n   This document extends the Common Policy framework\
    \ defined in\n   [RFC4745].  That document provides an abstract framework for\n\
    \   expressing authorization rules.  As specified there, each such rule\n   consists\
    \ of conditions, actions, and transformations.  Conditions\n   determine under\
    \ which circumstances the entity executing the rules,\n   such as a Location Server,\
    \ is permitted to apply actions and\n   transformations.  In a location information\
    \ context, transformations\n   regulate how a Location Server modifies the information\
    \ elements that\n   are returned to the requestor by, for example, reducing the\n\
    \   granularity of returned location information.\n   This document defines two\
    \ algorithms for reducing the granularity of\n   returned location information.\
    \  The first algorithm is defined for\n   usage with civic location information\
    \ (see Section 6.5.1) while the\n   other one applies to geodetic location information\
    \ (see\n   Section 6.5.2).  Both algorithms come with limitations, i.e., they\n\
    \   provide location obfuscation under certain conditions and may\n   therefore\
    \ not be appropriate for all application domains.  These\n   limitations are documented\
    \ within the Security Consideration section\n   (see Section 13).  The geodetic\
    \ transformation algorithm in\n   Section 6.5.2 mitigates privacy risks for both\
    \ stationary and moving\n   Targets.  However, moving Targets will reveal additional\
    \ information\n   to an adversary.  To cover applications that have more sophisticated\n\
    \   privacy requirements, additional algorithms may need to be defined.\n   This\
    \ document foresees extensions in the form of new algorithms and\n   therefore\
    \ defines a registry (see Section 11.3).\n   The XML schema defined in Section\
    \ 9 extends the Common Policy schema\n   by introducing new child elements to\
    \ the condition and transformation\n   elements.  This document does not define\
    \ child elements for the\n   action part of a rule.\n"
- title: 2.  Terminology
  contents:
  - "2.  Terminology\n   The key words \"MUST\", \"MUST NOT\", \"REQUIRED\", \"SHALL\"\
    , \"SHALL NOT\",\n   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"MAY\", and\
    \ \"OPTIONAL\" in this\n   document are to be interpreted as described in RFC\
    \ 2119 [RFC2119].\n   This document reuses the terminology of RFC 6280 [RFC6280],\
    \ such as\n   Location Server (LS), Location Recipient (LR), Rule Maker (RM),\n\
    \   Target, Location Generator (LG), and Location Object (LO).  This\n   document\
    \ uses the following terminology:\n   Presentity or Target:\n      RFC 6280 [RFC6280]\
    \ uses the term \"Target\" to identify the object\n      or person of which location\
    \ information is required.  The presence\n      model described in RFC 2778 [RFC2778]\
    \ uses the term \"presentity\"\n      to describe the entity that provides presence\
    \ information to a\n      presence service.  A presentity in a presence system\
    \ is a Target\n      in a location information system.\n   Watcher or Location\
    \ Recipient:\n      The receiver of location information is the Location Recipient\n\
    \      (LR) in the terminology of RFC 6280 [RFC6280].  A watcher in a\n      presence\
    \ system, i.e., an entity that requests presence\n      information about a presentity,\
    \ is a Location Recipient in a\n      location information system.\n   Authorization\
    \ policy:\n      An authorization policy is given by a rule set.  A rule set\n\
    \      contains an unordered list of (policy) rules.  Each rule has a\n      condition,\
    \ an action, and a transformation component.\n   Permission:\n      The term \"\
    permission\" refers to the action and transformation\n      components of a rule.\n\
    \   Location Servers:\n      Entities that evaluate the geolocation authorization\
    \ policies.\n   Presence Servers:\n      The geolocation privacy architecture\
    \ is, as described in RFC 4079\n      [RFC4079], aligned with the presence architecture,\
    \ and a \"Presence\n      Server\" is therefore an entity that distributes location\n\
    \      information along with other presence-specific XML data elements.\n"
- title: 3.  Generic Processing
  contents:
  - '3.  Generic Processing

    '
- title: 3.1.  Structure of Geolocation Authorization Documents
  contents:
  - "3.1.  Structure of Geolocation Authorization Documents\n   A geolocation authorization\
    \ document is an XML document, formatted\n   according to the schema defined in\
    \ [RFC4745].  Geolocation\n   authorization documents inherit the media type of\
    \ Common Policy\n   documents, application/auth-policy+xml.  As described in [RFC4745],\n\
    \   this document is composed of rules that contain three parts:\n   conditions,\
    \ actions, and transformations.  Each action or\n   transformation, which is also\
    \ called a permission, has the property\n   of being a positive grant of information\
    \ to the Location Recipient.\n   As a result, there is a well-defined mechanism\
    \ for combining actions\n   and transformations obtained from several sources.\
    \  This mechanism is\n   privacy enabling, since the lack of any action or transformation\
    \ can\n   only result in less information being presented to a Location\n   Recipient.\n"
- title: 3.2.  Rule Transport
  contents:
  - "3.2.  Rule Transport\n   There are two ways the authorization rules described\
    \ in this document\n   may be conveyed between different parties:\n   o  RFC 4119\
    \ [RFC4119] allows enhanced authorization policies to be\n      referenced via\
    \ a Uniform Resource Locator (URL) in the 'ruleset-\n      reference' element.\
    \  The 'ruleset-reference' element is part of\n      the basic rules that always\
    \ travel with the Location Object.\n   o  Authorization policies might, for example,\
    \ also be stored at a\n      Location Server / Presence Server.  The Rule Maker\
    \ therefore needs\n      to use a protocol to create, modify, and delete the authorization\n\
    \      policies defined in this document.  Such a protocol is available\n    \
    \  with the Extensible Markup Language (XML) Configuration Access\n      Protocol\
    \ (XCAP) [RFC4825].\n"
- title: 4.  Location-Specific Conditions
  contents:
  - "4.  Location-Specific Conditions\n   This section describes the location-specific\
    \ conditions of a rule.\n   The <conditions> element contains zero or more <location-condition>\n\
    \   child element(s).  The <conditions> element only evaluates to TRUE if\n  \
    \ all child elements evaluate to TRUE; therefore, multiple <location-\n   condition>\
    \ elements are not normally useful.\n   The <location-condition> element MUST\
    \ contain at least one <location>\n   child element.  The <location-condition>\
    \ element evaluates to TRUE if\n   any of its child <location> elements matches\
    \ the location of the\n   Target, i.e., <location> elements are combined using\
    \ a logical OR.\n   The three attributes of <location> are 'profile', 'xml:lang',\
    \ and\n   'label'.  The 'profile' indicates the location profile that is\n   included\
    \ as child elements in the <location> element.  Two location\n   profiles, geodetic\
    \ and civic, are defined in Sections 4.1 and 4.2.\n   Each profile describes under\
    \ what conditions a <location> element\n   evaluates to TRUE.\n   The 'label'\
    \ attribute allows a human-readable description to be added\n   to each <location>\
    \ element.  The 'xml:lang' attribute contains a\n   language tag providing further\
    \ information for rendering of the\n   content of the 'label' attribute.\n   The\
    \ <location-condition> and the <location> elements provide\n   extension points.\
    \  If an extension is not understood by the entity\n   evaluating the rules, then\
    \ this rule evaluates to FALSE.  This causes\n   a <conditions> element to evaluate\
    \ to FALSE if a <location-condition>\n   element is unsupported.  A <location-condition>\
    \ is considered TRUE if\n   any of the <location> elements understood by the rule\
    \ evaluator is\n   TRUE.\n"
- title: 4.1.  Geodetic Location Condition Profile
  contents:
  - "4.1.  Geodetic Location Condition Profile\n   The geodetic location profile is\
    \ identified by the token 'geodetic-\n   condition'.  Rule Makers use this profile\
    \ by placing a Geography\n   Markup Language [GML] <Circle> element within the\
    \ <location> element\n   (as described in Section 5.2.3 of [RFC5491]).\n   The\
    \ <location> element containing the information for the geodetic\n   location\
    \ profile evaluates to TRUE if the current location of the\n   Target is completely\
    \ within the described location (see Section\n   6.1.15.3 of [OGC-06-103r4]).\
    \  Note that the Target's actual location\n   might be represented by any of the\
    \ location shapes described in\n   [RFC5491].  If the geodetic location of the\
    \ Target is unknown, then\n   the <location> element containing the information\
    \ for the geodetic\n   location profile evaluates to FALSE.\n   Implementations\
    \ MUST support the World Geodetic System 1984 (WGS 84)\n   [NIMA.TR8350.2-3e]\
    \ coordinate reference system using the formal\n   identifier from the European\
    \ Petroleum Survey Group (EPSG) Geodetic\n   Parameter Dataset (as formalized\
    \ by the Open Geospatial Consortium\n   (OGC)):\n      2D: WGS 84 (latitude, longitude),\
    \ as identified by the URN\n      \"urn:ogc:def:crs:EPSG::4326\".  This is a two-dimensional\
    \ CRS.\n   A Coordinate Reference System (CRS) MUST be specified using the above\n\
    \   URN notation only; implementations do not need to support user-\n   defined\
    \ CRSs.\n   Implementations MUST specify the CRS using the \"srsName\" attribute\
    \ on\n   the outermost geometry element.  The CRS MUST NOT be changed for any\n\
    \   sub-elements.  The \"srsDimension\" attribute MUST be omitted, since\n   the\
    \ number of dimensions in these CRSs is known.\n"
- title: 4.2.  Civic Location Condition Profile
  contents:
  - "4.2.  Civic Location Condition Profile\n   The civic location profile is identified\
    \ by the token 'civic-\n   condition'.  Rule Makers use this profile by placing\
    \ a <civicAddress>\n   element, defined in [RFC5139], within the <location> element.\n\
    \   All child elements of a <location> element that carry <civicAddress>\n   elements\
    \ MUST evaluate to TRUE (i.e., logical AND) in order for the\n   <location> element\
    \ to evaluate to TRUE.  For each child element, the\n   value of that element\
    \ is compared to the value of the same element in\n   the Target's civic location.\
    \  The child element evaluates to TRUE if\n   the two values are identical based\
    \ on an octet-by-octet comparison.\n   A <location> element containing a <civic-condition>\
    \ profile evaluates\n   to FALSE if a civic address is not present for the Target.\
    \  For\n   example, this could occur if location information has been removed\
    \ by\n   other rules or other transmitters of location information or if only\n\
    \   the geodetic location is known.  In general, it is RECOMMENDED\n   behavior\
    \ for an LS not to apply a translation from geodetic location\n   to civic location\
    \ (i.e., geocode the location).\n"
- title: 5.  Actions
  contents:
  - "5.  Actions\n   This document does not define location-specific actions.\n"
- title: 6.  Transformations
  contents:
  - "6.  Transformations\n   This document defines several elements that allow Rule\
    \ Makers to\n   specify transformations that\n   o  reduce the accuracy of the\
    \ returned location information, and\n   o  set the basic authorization policies\
    \ carried inside the PIDF-LO.\n"
- title: 6.1.  Set Retransmission-Allowed
  contents:
  - "6.1.  Set Retransmission-Allowed\n   This element specifies a change to or the\
    \ creation of a value for the\n   <retransmission-allowed> element in the PIDF-LO.\
    \  The data type of\n   the <set-retransmission-allowed> element is a boolean.\n\
    \   If the value of the <set-retransmission-allowed> element is set to\n   TRUE,\
    \ then the <retransmission-allowed> element in the PIDF-LO MUST\n   be set to\
    \ TRUE.  If the value of the <set-retransmission-allowed>\n   element is set to\
    \ FALSE, then the <retransmission-allowed> element in\n   the PIDF-LO MUST be\
    \ set to FALSE.\n   If the <set-retransmission-allowed> element is absent, then\
    \ the value\n   of the <retransmission-allowed> element in the PIDF-LO MUST be\
    \ kept\n   unchanged, or if the PIDF-LO is created for the first time, then the\n\
    \   value MUST be set to FALSE.\n"
- title: 6.2.  Set Retention-Expiry
  contents:
  - "6.2.  Set Retention-Expiry\n   This transformation asks the LS to change or set\
    \ the value of the\n   <retention-expiry> element in the PIDF-LO.  The data type\
    \ of the\n   <set-retention-expiry> element is a non-negative integer.\n   The\
    \ value provided with the <set-retention-expiry> element indicates\n   seconds,\
    \ and these seconds are added to the time that the LS provides\n   location. \
    \ A value of zero requests that the information is not\n   retained.\n   If the\
    \ <set-retention-expiry> element is absent, then the value of\n   the <retention-expiry>\
    \ element in the PIDF-LO is kept unchanged, or\n   if the PIDF-LO is created for\
    \ the first time, then the value MUST be\n   set to the current date.\n"
- title: 6.3.  Set Note-Well
  contents:
  - "6.3.  Set Note-Well\n   This transformation asks the LS to change or set the\
    \ value of the\n   <note-well> element in the PIDF-LO.  The data type of the <set-note-\n\
    \   well> element is a string.\n   The value provided with the <set-note-well>\
    \ element contains a\n   privacy statement as a human-readable text string, and\
    \ an 'xml:lang'\n   attribute denotes the language of the human-readable text.\n\
    \   If the <set-note-well> element is absent, then the value of the\n   <note-well>\
    \ element in the PIDF-LO is kept unchanged, or if the\n   PIDF-LO is created for\
    \ the first time, then no content is provided\n   for the <note-well> element.\n"
- title: 6.4.  Keep Ruleset Reference
  contents:
  - "6.4.  Keep Ruleset Reference\n   This transformation specifies whether the <external-ruleset>\
    \ element\n   in the PIDF-LO carries the extended authorization rules defined\
    \ in\n   [RFC4745].  The data type of the <keep-rule-reference> element is\n \
    \  boolean.\n   If the value of the <keep-rule-reference> element is set to TRUE,\n\
    \   then the <external-ruleset> element in the PIDF-LO is kept unchanged\n   when\
    \ included.  If the value of the <keep-rule-reference> element is\n   set to FALSE,\
    \ then the <external-ruleset> element in the PIDF-LO MUST\n   NOT contain a reference\
    \ to an external rule set.  The reference to\n   the ruleset is removed, and no\
    \ rules are carried as MIME bodies (in\n   case of Content-ID (cid:) URIs [RFC2392]).\n\
    \   If the <keep-rule-reference> element is absent, then the value of the\n  \
    \ <external-ruleset> element in the PIDF-LO is kept unchanged when\n   available,\
    \ or if the PIDF-LO is created for the first time, then the\n   <external-ruleset>\
    \ element MUST NOT be included.\n"
- title: 6.5.  Provide Location
  contents:
  - "6.5.  Provide Location\n   The <provide-location> element contains child elements\
    \ of a specific\n   location profile that controls the granularity of returned\
    \ location\n   information.  This form of location granularity reduction is also\n\
    \   called 'obfuscation' and is defined in [DUCKHAM05] as\n      the means of\
    \ deliberately degrading the quality of information\n      about an individual's\
    \ location in order to protect that\n      individual's location privacy.\n  \
    \ Location obscuring presents a number of technical challenges.  The\n   algorithms\
    \ provided in this document are provided as examples only.\n   A discussion of\
    \ the technical constraints on location obscuring is\n   included in Section 13.5.\n\
    \   The functionality of location granularity reduction depends on the\n   type\
    \ of location provided as input.  This document defines two\n   profiles for reduction,\
    \ namely:\n   o  civic-transformation: If the <provide-location> element has a\n\
    \      <provide-civic> child element, then civic location information is\n   \
    \   disclosed as described in Section 6.5.1, subject to availability.\n   o  geodetic-transformation:\
    \ If the <provide-location> element has a\n      <provide-geo> child element,\
    \ then geodetic location information is\n      disclosed as described in Section\
    \ 6.5.2, subject to availability.\n   The <provide-location> element MUST contain\
    \ the 'profile' attribute\n   if it contains child elements, and the child elements\
    \ MUST be\n   appropriate for the profile.\n   If the <provide-location> element\
    \ has no child elements, then civic\n   as well as geodetic location information\
    \ is disclosed without\n   reducing its granularity, subject to availability.\
    \  In this case, the\n   profile attribute MUST NOT be included.\n"
- title: 6.5.1.  Civic Location Profile
  contents:
  - "6.5.1.  Civic Location Profile\n   This profile uses the token 'civic-transformation'.\
    \  This profile\n   allows civic location transformations to be specified by means\
    \ of the\n   <provide-civic> element that restricts the level of civic location\n\
    \   information the LS is permitted to disclose.  The symbols of these\n   levels\
    \ are: 'country', 'region', 'city', 'building', and 'full'.\n   Each level is\
    \ given by a set of civic location data items such as\n   <country> and <A1>,\
    \ ..., <POM>, as defined in [RFC5139].  Each level\n   includes all elements included\
    \ by the lower levels.\n   The 'country' level includes only the <country> element;\
    \ the 'region'\n   level adds the <A1> element; the 'city' level adds the <A2>\
    \ and <A3>\n   elements; the 'building' level and the 'full' level add further\
    \ civic\n   location data as shown below.\n                              full\n\
    \      {<country>, <A1>, <A2>, <A3>, <A4>, <A5>, <A6>, <PRD>, <POD>,\n       <STS>,\
    \ <HNO>, <HNS>, <LMK>, <LOC>, <PC>, <NAM>, <FLR>,\n       <BLD>,<UNIT>,<ROOM>,<PLC>,\
    \ <PCN>, <POBOX>, <ADDCODE>, <SEAT>\n       <RD>, <RDSEC>, <RDBR>, <RDSUBBR>,\
    \ <PRM>, <POM>}\n                               |\n                          \
    \     |\n                            building\n         {<country>, <A1>, <A2>,\
    \ <A3>, <A4>, <A5>, <A6>, <PRD>\n         <POD>, <STS>, <HNO>, <HNS>, <LMK>, <PC>,\n\
    \         <RD>, <RDSEC>, <RDBR>, <RDSUBBR> <PRM>, <POM>}\n                   \
    \            |\n                               |\n                           \
    \  city\n                     {<country>, <A1>, <A2>, <A3>}\n                \
    \               |\n                               |\n                        \
    \     region\n                        {<country>, <A1>}\n                    \
    \           |\n                               |\n                            country\n\
    \                          {<country>}\n                               |\n   \
    \                            |\n                              none\n         \
    \                     {}\n   The default value is \"none\".\n   The schema of\
    \ the <provide-civic> element is defined in Section 8.\n"
- title: 6.5.2.  Geodetic Location Profile
  contents:
  - "6.5.2.  Geodetic Location Profile\n   This profile uses the token 'geodetic-transformation'\
    \ and refers only\n   to the Coordinate Reference System (CRS) WGS 84\n   (urn:ogc:def:crs:EPSG::4326,\
    \ 2D).  This profile allows geodetic\n   location transformations to be specified\
    \ by means of the <provide-\n   geo> element that may restrict the returned geodetic\
    \ location\n   information based on the value provided in the 'radius' attribute.\n\
    \   The value of the 'radius' attribute expresses the radius in meters.\n   The\
    \ schema of the <provide-geo> element is defined in Section 8.\n   The algorithm\
    \ proceeds in six steps.  The first two steps are\n   independent of the measured\
    \ position to be obscured and should be run\n   only once or very infrequently\
    \ for each region and desired\n   uncertainty.  The steps are:\n   1.  Choose\
    \ a geodesic projection with Cartesian coordinates and a\n       surface you want\
    \ to cover.  Limit the worst-case distortion of\n       the map as noted below.\n\
    \   2.  Given a desired uncertainty radius \"d\", choose a grid of so-\n     \
    \  called \"landmarks\" at a distance of at least d units apart from\n       each\
    \ other.\n   3.  Given a measured location M=(m,n) on the surface, calculate its\
    \ 4\n       closest landmarks on the grid, with coordinates: SW = (l,b),\n   \
    \    SE=(r,b), NW=(l,t), NE=(r,t).  Thus, l<=m<r and b<=n<t.  See\n       notes\
    \ below.\n   4.  Let x=(m-l)/(r-l) and y=(n-b)/(t-b).\n       x and y are thus\
    \ the scaled local coordinates of the point M in\n       the small grid square\
    \ that contains it, where x and y range\n       between 0 and 1.\n   5.  Let p\
    \ = 0.2887 (=sqrt(3)/6) and q = 0.7113 (=1-p).  Determine\n       which of the\
    \ following eight cases holds:\n       C1. x < p and y < p\n       C2. p <= x\
    \ < q and y < x and y < 1-x\n       C3. q <= x and y < p\n       C4. p <= y <\
    \ q and x <= y and y < 1-x\n       C5. p <= y < q and y < x and 1-x <= y\n   \
    \    C6. x < p and q <= y\n       C7. p <= x < q and x <= y and 1-x <= y\n   \
    \    C8. q <= x and q <= y\n   6.  Depending on the case, let C (=Center) be\n\
    \       C1: SW\n       C2: SW or SE\n       C3: SE\n       C4: SW or NW\n    \
    \   C5: SE or NE\n       C6: NW\n       C7: NW or NE\n       C8: NE\n   Return\
    \ the circle with center C and radius d.\n   Notes:\n   Regarding Step 1:\n  \
    \    The scale of a map is the ratio of a distance (a straight line) on\n    \
    \  the map to the corresponding air distance on the ground.  For maps\n      covering\
    \ larger areas, a map projection from a sphere (or\n      ellipsoid) to the plane\
    \ will introduce distortion, and the scale\n      of the map is not constant.\
    \  Also, note that the real distance on\n      the ground is taken along great\
    \ circles, which may not correspond\n      to straight lines on the map, depending\
    \ on the projection used.\n      Let us measure the (length) distortion of the\
    \ map as the quotient\n      between the maximal and the minimal scales on the\
    \ map.  The\n      distortion MUST be below 1.5.  (The minimum distortion is 1.0:\
    \ if\n      the region of the map is small, then the scale may be taken as a\n\
    \      constant over the whole map).\n   Regarding Step 3:\n      SW is mnemonic\
    \ for southwest, b for bottom, l for left (SW=(l,b)),\n      etc., but the directions\
    \ of the geodesic projection may be\n      arbitrary, and thus SW may not be southwest\
    \ of M, but it will be\n      left and below M *on the map*.\n"
- title: 7.  Examples
  contents:
  - "7.  Examples\n   This section provides a few examples for authorization rules\
    \ using\n   the extensions defined in this document.\n"
- title: 7.1.  Rule Example with Civic Location Condition
  contents:
  - "7.1.  Rule Example with Civic Location Condition\n   This example illustrates\
    \ a single rule that employs the civic\n   location condition.  It matches if\
    \ the current location of the Target\n   equals the content of the child elements\
    \ of the <location> element.\n   Requests match only if the Target is at a civic\
    \ location with country\n   set to 'Germany', state (A1) set to 'Bavaria', city\
    \ (A3) set to\n   'Munich', city division (A4) set to 'Perlach', street name (A6)\
    \ set\n   to 'Otto-Hahn-Ring', and house number (HNO) set to '6'.\n   No actions\
    \ and transformation child elements are provided in this\n   rule example.  The\
    \ actions and transformation could include presence-\n   specific information\
    \ when the Geolocation Policy framework is applied\n   to the Presence Policy\
    \ framework (see [RFC5025]).\n   <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\
    \   <ruleset xmlns=\"urn:ietf:params:xml:ns:common-policy\"\n     xmlns:gp=\"\
    urn:ietf:params:xml:ns:geolocation-policy\">\n     <rule id=\"AA56i09\">\n   \
    \    <conditions>\n         <gp:location-condition>\n           <gp:location\n\
    \             profile=\"civic-condition\"\n             xml:lang=\"en\"\n    \
    \         label=\"Siemens Neuperlach site 'Legoland'\"\n             xmlns=\"\
    urn:ietf:params:xml:ns:pidf:geopriv10:civicAddr\">\n             <country>DE</country>\n\
    \             <A1>Bavaria</A1>\n             <A3>Munich</A3>\n             <A4>Perlach</A4>\n\
    \             <A6>Otto-Hahn-Ring</A6>\n             <HNO>6</HNO>\n           </gp:location>\n\
    \         </gp:location-condition>\n       </conditions>\n       <actions/>\n\
    \       <transformations/>\n     </rule>\n   </ruleset>\n"
- title: 7.2.  Rule Example with Geodetic Location Condition
  contents:
  - "7.2.  Rule Example with Geodetic Location Condition\n   This example illustrates\
    \ a rule that employs the geodetic location\n   condition.  The rule matches if\
    \ the current location of the Target is\n   inside the area specified by the polygon.\
    \  The polygon uses the EPSG\n   4326 coordinate reference system.  No altitude\
    \ is included in this\n   example.\n   <?xml version=\"1.0\" encoding=\"UTF-8\"\
    ?>\n   <ruleset\n     xmlns=\"urn:ietf:params:xml:ns:common-policy\"\n     xmlns:gp=\"\
    urn:ietf:params:xml:ns:geolocation-policy\"\n     xmlns:gml=\"http://www.opengis.net/gml\"\
    \n     xmlns:gs=\"http://www.opengis.net/pidflo/1.0\">\n     <rule id=\"BB56A19\"\
    >\n       <conditions>\n         <gp:location-condition>\n           <gp:location\n\
    \             xml:lang=\"en\"\n             label=\"Sydney Opera House\"\n   \
    \          profile=\"geodetic-condition\">\n             <gs:Circle srsName=\"\
    urn:ogc:def:crs:EPSG::4326\">\n               <gml:pos>-33.8570029378 151.2150070761</gml:pos>\n\
    \               <gs:radius uom=\"urn:ogc:def:uom:EPSG::9001\">1500\n         \
    \      </gs:radius>\n             </gs:Circle>\n           </gp:location>\n  \
    \       </gp:location-condition>\n       </conditions>\n       <transformations/>\n\
    \     </rule>\n   </ruleset>\n"
- title: 7.3.  Rule Example with Civic and Geodetic Location Condition
  contents:
  - "7.3.  Rule Example with Civic and Geodetic Location Condition\n   This example\
    \ illustrates a rule that employs a mixed civic and\n   geodetic location condition.\
    \  Depending on the available type of\n   location information, namely civic or\
    \ geodetic location information,\n   one of the location elements may match.\n\
    \   <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n   <ruleset\n     xmlns=\"urn:ietf:params:xml:ns:common-policy\"\
    \n     xmlns:gp=\"urn:ietf:params:xml:ns:geolocation-policy\"\n     xmlns:gml=\"\
    http://www.opengis.net/gml\"\n     xmlns:gs=\"http://www.opengis.net/pidflo/1.0\"\
    >\n     <rule id=\"AA56i09\">\n       <conditions>\n         <gp:location-condition>\n\
    \           <gp:location profile=\"civic-condition\"\n             xmlns=\"urn:ietf:params:xml:ns:pidf:geopriv10:civicAddr\"\
    >\n             <country>DE</country>\n             <A1>Bavaria</A1>\n       \
    \      <A3>Munich</A3>\n             <A4>Perlach</A4>\n             <A6>Otto-Hahn-Ring</A6>\n\
    \             <HNO>6</HNO>\n           </gp:location>\n           <gp:location\
    \ profile=\"geodetic-condition\">\n             <gs:Circle srsName=\"urn:ogc:def:crs:EPSG::4326\"\
    >\n                <gml:pos>-34.410649 150.87651</gml:pos>\n                <gs:radius\
    \ uom=\"urn:ogc:def:uom:EPSG::9001\">1500\n                </gs:radius>\n    \
    \         </gs:Circle>\n           </gp:location>\n         </gp:location-condition>\n\
    \       </conditions>\n       <actions/>\n       <transformations/>\n     </rule>\n\
    \   </ruleset>\n"
- title: 7.4.  Rule Example with Location-Based Transformations
  contents:
  - "7.4.  Rule Example with Location-Based Transformations\n   This example shows\
    \ the transformations specified in this document.\n   The <provide-civic> element\
    \ indicates that the available civic\n   location information is reduced to building\
    \ level granularity.  If\n   geodetic location information is requested, then\
    \ a granularity\n   reduction is provided as well.\n   <?xml version=\"1.0\" encoding=\"\
    UTF-8\"?>\n   <ruleset xmlns=\"urn:ietf:params:xml:ns:common-policy\"\n     xmlns:gp=\"\
    urn:ietf:params:xml:ns:geolocation-policy\"\n     xmlns:lp=\"urn:ietf:params:xml:ns:basic-location-profiles\"\
    >\n     <rule id=\"AA56i09\">\n       <conditions/>\n       <actions/>\n     \
    \  <transformations>\n         <gp:set-retransmission-allowed>false\n        \
    \ </gp:set-retransmission-allowed>\n         <gp:set-retention-expiry>86400</gp:set-retention-expiry>\n\
    \         <gp:set-note-well xml:lang=\"en\">My privacy policy goes here.\n   \
    \      </gp:set-note-well>\n         <gp:keep-rule-reference>false\n         </gp:keep-rule-reference>\n\
    \         <gp:provide-location\n           profile=\"civic-transformation\">\n\
    \           <lp:provide-civic>building</lp:provide-civic>\n         </gp:provide-location>\n\
    \         <gp:provide-location\n           profile=\"geodetic-transformation\"\
    >\n           <lp:provide-geo radius=\"500\"/>\n         </gp:provide-location>\n\
    \       </transformations>\n     </rule>\n   </ruleset>\n   The following rule\
    \ describes the shorthand notation for making the\n   current location of the\
    \ Target available to Location Recipients\n   without granularity reduction.\n\
    \   <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n   <ruleset xmlns=\"urn:ietf:params:xml:ns:common-policy\"\
    \n       xmlns:gp=\"urn:ietf:params:xml:ns:geolocation-policy\">\n       <rule\
    \ id=\"AA56ia9\">\n           <conditions/>\n           <actions/>\n         \
    \  <transformations>\n               <gp:provide-location/>\n           </transformations>\n\
    \       </rule>\n   </ruleset>\n"
- title: 7.5.  Location Obfuscation Example
  contents:
  - "7.5.  Location Obfuscation Example\n   Suppose you want to obscure positions\
    \ in the continental USA.\n   Step 1:\n      First, you choose a geodesic projection.\
    \  If you are measuring\n      location as latitude and longitude, a natural choice\
    \ is to take a\n      rectangular projection.  One latitudinal degree corresponds\
    \ to\n      approximately 110.6 kilometers, while a good approximation of a\n\
    \      longitudinal degree at latitude phi is (pi/180)*M*cos(phi), where\n   \
    \   pi is approximately 3.1415, and M is the Earth's average\n      meridional\
    \ radius, approximately 6,367.5 km.  For instance, one\n      longitudinal degree\
    \ at 30 degrees (say, New Orleans) is 96.39 km,\n      while the formula given\
    \ offers an estimation of 96.24, which is\n      good enough for our purposes.\n\
    \      We will set up a grid not only for the continental USA, but for\n     \
    \ the whole earth between latitudes 25 and 50 degrees, and thus will\n      cover\
    \ also the Mediterranean, South Europe, Japan, and the north\n      of China.\
    \  As will be seen below, the grid distortion (for not too\n      large grids\
    \ in this region) is approx cos(25)/cos(50), which is\n      1.4099.\n      As\
    \ origin of our grid, we choose the point at latitude 25 degrees\n      and longitude\
    \ 0 (Greenwich).  The latitude 25 degrees is chosen to\n      be just south of\
    \ Florida and thus south of the continental USA.\n      (On the Southern Hemisphere,\
    \ the origin should be north of the\n      region to be covered; if the region\
    \ crosses the Equator, the\n      origin should be on the Equator.  In this way,\
    \ it is guaranteed\n      that the latitudinal degree has the largest distance\
    \ at the\n      latitude of the origin).\n      At 25 degrees, one degree in east-west\
    \ direction corresponds to\n      approximately (pi/180)*M*cos(25) = 100.72 km.\n\
    \      The same procedure, basically, produces grids for\n      *  45 degrees\
    \ south to 45 degrees north: Tropics and subtropics,\n         Africa, Australia\n\
    \      *  25 to 50 degrees (both north or south): Continental United\n       \
    \  States, Mediterranean, most of China; most of Chile and\n         Argentina,\
    \ New Zealand\n      *  35 to 55 degrees (both north or south): Southern and Central\n\
    \         Europe\n      *  45 to 60 degrees (both north or south): Central and\
    \ Northern\n         Europe, Canada\n      *  55 to 65 degrees (both north or\
    \ south): most of Scandinavia\n      *  60 to 70 degrees (both north or south):\
    \ Alaska\n      Since we do not want to change the grid system often (this would\n\
    \      leak more information about obscured locations when they are\n      repeatedly\
    \ visited), the algorithm should prefer to use the grids\n      discussed above,\
    \ with origin at the Greenwich meridian and at\n      latitudes o=0, o=25, o=35,\
    \ o=45, 0=55, and o=60 degrees (north) or\n      at latitudes o=-25, o=-35, o=-45,\
    \ 0=-55, and o=-60 degrees (the\n      minus to indicate \"south\").\n      Our\
    \ choice for the continental USA is o=25.\n      For locations close to the poles,\
    \ a different projection should be\n      used (not discussed here).\n   Step\
    \ 2:\n      To construct the grid, we start with our chosen origin and place\n\
    \      grid points at regular intervals along each of the axes (north-\n     \
    \ south and east-west) with a distance d between each.\n      We will now construct\
    \ a grid for a desired uncertainty of d =\n      100km.  At our origin, 100 km\
    \ correspond roughly to d1 = 100/\n      100.72 = 0.993 degrees in an east-west\
    \ direction and to d2 = 100/\n      110.6 = 0.904 degrees in a north-south direction.\n\
    \      The (i,j)-point in the grid (i and j are integers) has longitude\n    \
    \  d1*i and latitude 25+d2*j, measured in degrees.  More generally,\n      if\
    \ the grid has origin at coordinates (0,o), measured in degrees,\n      the (i,j)-point\
    \ in the grid has coordinates (longitude = d1*i,\n      latitude = o+d2*j).  The\
    \ grid has almost no distortion at the\n      latitude of the origin, but it does\
    \ as we go further away from it.\n      The distance between two points in the\
    \ grid at 25 degrees latitude\n      is indeed approximately 100 km, but just\
    \ above the Canadian\n      border, on the 50th degree, it is 0.993*(pi/180)*M*cos(50)\
    \ =\n      70.92km.  Thus, the grid distortion is 100/70.92 = 1.41, which is\n\
    \      acceptable (<1.5).  (In the north-south direction, the grid has\n     \
    \ roughly no distortion; the vertical distance between two\n      neighboring\
    \ grid points is approximately 100 km).\n   Step 3:\n      Now suppose you measure\
    \ a position at M, with longitude -105 (the\n      minus sign is used to denote\
    \ 105 degrees *west*; without minus,\n      the point is in China, 105 degrees\
    \ east) and latitude 40 degrees\n      (just north of Denver, CO).  The point\
    \ M is 105 degrees west and\n      15 degrees north of our origin (which has longitude\
    \ 0 and latitude\n      25).\n      Let \"floor\" be the function that returns\
    \ the largest integer\n      smaller or equal to a floating point number.  To\
    \ calculate SW, the\n      closest point of the grid on the southwest of M=(m,n),\
    \ we\n      calculate\n      i= floor(m/d1) = floor(-105/0.993) = -106\n     \
    \ j= floor(n-o/d2) = floor(15/0.904) = 16\n      Those are the indexes of SW on\
    \ the grid.  The coordinates of SW\n      are then: (d1*i, 25+d2*j) = (-105.242,\
    \ 39.467).\n      Thus:\n      l=d1*floor(m/d1) = -105.243\n      r=l+d1 = -105.243+0.993\
    \ = -104.250\n      b=o+d2*floor(n-o/d2) = 39.467\n      t=b+d2 = 39.467+0.904\
    \ = 40.371\n      These are the formulas for l, r, b, and t in the general case\
    \ of\n      Cartesian projections based on latitude and longitude.\n   Step 4:\n\
    \      Calculate x and y, the local coordinates of the point M in the\n      small\
    \ grid square that contains it.  This is easy:\n      x=(m-l)/(r-l) = [-105 -(-105.243)]/0.993\
    \ = 0.245\n      y=(n-b)/(t-b) = [40 - 39.467]/0.904 = 0.590\n   Step 5:\n   \
    \   First, compare x with p (0.2887) and 1-p (0.7113). x is smaller\n      than\
    \ p.  Therefore, only cases 1, 4, or 6 could hold.\n      Also, compare y with\
    \ p (0.2887) and 1-p (0.7113). y is between\n      them: p <= y < q.  Thus, we\
    \ must be in case 4.  To check, compare\n      y (0.59) with x (0.245) and 1-x.\
    \ y is larger than x and smaller\n      than 1-x.  We are in case C4 (p <= y <\
    \ q and x <= y and y < 1-x).\n   Step 6:\n      Now we choose either SW or NW\
    \ as the center of the circle.\n      The obscured location is the circle with\
    \ radius 100 km and center\n      in SW (coordinates: -105.243, 39.467) or NW\
    \ (coordinates:\n      -105.243, 40.371).\n"
- title: 8.  XML Schema for Basic Location Profiles
  contents:
  - "8.  XML Schema for Basic Location Profiles\n   This section defines the location\
    \ profiles used as child elements of\n   the transformation element.\n   <?xml\
    \ version=\"1.0\" encoding=\"UTF-8\"?>\n   <xs:schema\n       targetNamespace=\"\
    urn:ietf:params:xml:ns:basic-location-profiles\"\n       xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"\
    \n       elementFormDefault=\"qualified\"\n       attributeFormDefault=\"unqualified\"\
    >\n       <!-- profile=\"civic-transformation\" -->\n       <xs:element name=\"\
    provide-civic\" default=\"none\">\n           <xs:simpleType>\n              \
    \ <xs:restriction base=\"xs:string\">\n                   <xs:enumeration value=\"\
    full\"/>\n                   <xs:enumeration value=\"building\"/>\n          \
    \         <xs:enumeration value=\"city\"/>\n                   <xs:enumeration\
    \ value=\"region\"/>\n                   <xs:enumeration value=\"country\"/>\n\
    \                   <xs:enumeration value=\"none\"/>\n               </xs:restriction>\n\
    \           </xs:simpleType>\n       </xs:element>\n       <!-- profile=\"geodetic-transformation\"\
    \ -->\n       <xs:element name=\"provide-geo\">\n           <xs:complexType>\n\
    \               <xs:attribute name=\"radius\" type=\"xs:integer\"/>\n        \
    \   </xs:complexType>\n       </xs:element>\n   </xs:schema>\n"
- title: 9.  XML Schema for Geolocation Policy
  contents:
  - "9.  XML Schema for Geolocation Policy\n   This section presents the XML schema\
    \ that defines the Geolocation\n   Policy schema described in this document. \
    \ The Geolocation Policy\n   schema extends the Common Policy schema (see [RFC4745]).\n\
    \   <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n   <xs:schema\n     targetNamespace=\"\
    urn:ietf:params:xml:ns:geolocation-policy\"\n     xmlns:gp=\"urn:ietf:params:xml:ns:geolocation-policy\"\
    \n     xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"\n     elementFormDefault=\"\
    qualified\"\n     attributeFormDefault=\"unqualified\">\n     <!-- Import Common\
    \ Policy-->\n     <xs:import namespace=\"urn:ietf:params:xml:ns:common-policy\"\
    />\n     <!-- This import brings in the XML language attribute xml:lang-->\n \
    \    <xs:import namespace=\"http://www.w3.org/XML/1998/namespace\"\n       schemaLocation=\"\
    http://www.w3.org/2001/xml.xsd\"/>\n     <!-- Geopriv Conditions -->\n     <xs:element\
    \ name=\"location-condition\"\n       type=\"gp:locationconditionType\"/>\n  \
    \   <xs:complexType name=\"locationconditionType\">\n       <xs:complexContent>\n\
    \         <xs:restriction base=\"xs:anyType\">\n           <xs:choice minOccurs=\"\
    1\" maxOccurs=\"unbounded\">\n             <xs:element name=\"location\" type=\"\
    gp:locationType\"\n               minOccurs=\"1\" maxOccurs=\"unbounded\"/>\n\
    \             <xs:any namespace=\"##other\" processContents=\"lax\"\n        \
    \       minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n           </xs:choice>\n \
    \        </xs:restriction>\n       </xs:complexContent>\n     </xs:complexType>\n\
    \     <xs:complexType name=\"locationType\">\n       <xs:complexContent>\n   \
    \      <xs:restriction base=\"xs:anyType\">\n           <xs:choice minOccurs=\"\
    1\" maxOccurs=\"unbounded\">\n             <xs:any namespace=\"##other\" processContents=\"\
    lax\"\n               minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n           </xs:choice>\n\
    \           <xs:attribute name=\"profile\" type=\"xs:string\"/>\n           <xs:attribute\
    \ name=\"label\" type=\"xs:string\"/>\n           <xs:attribute ref=\"xml:lang\"\
    \ />\n         </xs:restriction>\n       </xs:complexContent>\n     </xs:complexType>\n\
    \     <!-- Geopriv transformations -->\n     <xs:element name=\"set-retransmission-allowed\"\
    \n       type=\"xs:boolean\" default=\"false\"/>\n     <xs:element name=\"set-retention-expiry\"\
    \n       type=\"xs:integer\" default=\"0\"/>\n     <xs:element name=\"set-note-well\"\
    \n       type=\"gp:notewellType\"/>\n     <xs:element name=\"keep-rule-reference\"\
    \n       type=\"xs:boolean\" default=\"false\"/>\n     <xs:element name=\"provide-location\"\
    \n       type=\"gp:providelocationType\"/>\n     <xs:complexType name=\"notewellType\"\
    >\n       <xs:simpleContent>\n         <xs:extension base=\"xs:string\">\n   \
    \        <xs:attribute ref=\"xml:lang\" />\n         </xs:extension>\n       </xs:simpleContent>\n\
    \     </xs:complexType>\n     <xs:complexType name=\"providelocationType\">\n\
    \       <xs:complexContent>\n         <xs:restriction base=\"xs:anyType\">\n \
    \          <xs:choice minOccurs=\"0\" maxOccurs=\"unbounded\">\n             <xs:any\
    \ namespace=\"##other\" processContents=\"lax\"\n               minOccurs=\"0\"\
    \ maxOccurs=\"unbounded\"/>\n           </xs:choice>\n           <xs:attribute\
    \ name=\"profile\" type=\"xs:string\" />\n         </xs:restriction>\n       </xs:complexContent>\n\
    \     </xs:complexType>\n   </xs:schema>\n"
- title: 10.  XCAP Usage
  contents:
  - "10.  XCAP Usage\n   This section defines the details necessary for clients to\
    \ manipulate\n   geolocation privacy documents from a server using XCAP.  If used\
    \ as\n   part of a presence system, it uses the same Application Unique ID\n \
    \  (AUID) as those rules.  See [RFC5025] for a description of the XCAP\n   usage\
    \ in context with presence authorization rules.\n"
- title: 10.1.  Application Unique ID
  contents:
  - "10.1.  Application Unique ID\n   XCAP requires application usages to define a\
    \ unique Application\n   Unique ID (AUID) in either the IETF tree or a vendor\
    \ tree.  This\n   specification defines the \"geolocation-policy\" AUID within\
    \ the IETF\n   tree, via the IANA registration in Section 11.\n"
- title: 10.2.  XML Schema
  contents:
  - "10.2.  XML Schema\n   XCAP requires application usages to define a schema for\
    \ their\n   documents.  The schema for geolocation authorization documents is\n\
    \   described in Section 9.\n"
- title: 10.3.  Default Namespace
  contents:
  - "10.3.  Default Namespace\n   XCAP requires application usages to define the default\
    \ namespace for\n   their documents.  The default namespace is\n   urn:ietf:params:xml:ns:geolocation-policy.\n"
- title: 10.4.  MIME Media Type
  contents:
  - "10.4.  MIME Media Type\n   XCAP requires application usages to define the MIME\
    \ media type for\n   documents they carry.  Geolocation privacy authorization\
    \ documents\n   inherit the MIME type of Common Policy documents, application/\n\
    \   auth-policy+xml.\n"
- title: 10.5.  Validation Constraints
  contents:
  - "10.5.  Validation Constraints\n   This specification does not define additional\
    \ constraints.\n"
- title: 10.6.  Data Semantics
  contents:
  - "10.6.  Data Semantics\n   This document discusses the semantics of a geolocation\
    \ privacy\n   authorization.\n"
- title: 10.7.  Naming Conventions
  contents:
  - "10.7.  Naming Conventions\n   When a Location Server receives a request to access\
    \ location\n   information of some user foo, it will look for all documents within\n\
    \   http://[xcaproot]/geolocation-policy/users/foo and use all documents\n   found\
    \ beneath that point to guide authorization policy.\n"
- title: 10.8.  Resource Interdependencies
  contents:
  - "10.8.  Resource Interdependencies\n   This application usage does not define\
    \ additional resource\n   interdependencies.\n"
- title: 10.9.  Authorization Policies
  contents:
  - "10.9.  Authorization Policies\n   This application usage does not modify the\
    \ default XCAP authorization\n   policy, which is that only a user can read, write,\
    \ or modify his/her\n   own documents.  A server can allow privileged users to\
    \ modify\n   documents that they do not own, but the establishment and indication\n\
    \   of such policies is outside the scope of this document.\n"
- title: 11.  IANA Considerations
  contents:
  - "11.  IANA Considerations\n   There are several IANA considerations associated\
    \ with this\n   specification.\n"
- title: 11.1.  Geolocation Policy XML Schema Registration
  contents:
  - "11.1.  Geolocation Policy XML Schema Registration\n   This section registers\
    \ an XML schema in the IETF XML Registry as per\n   the guidelines in [RFC3688].\n\
    \   URI:  urn:ietf:params:xml:schema:geolocation-policy\n   Registrant Contact:\
    \  IETF Geopriv Working Group (geopriv@ietf.org),\n      Hannes Tschofenig (hannes.tschofenig@nsn.com).\n\
    \   XML:  The XML schema to be registered is contained in Section 9.  Its\n  \
    \    first line is\n   <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n   and its\
    \ last line is\n   </xs:schema>\n"
- title: 11.2.  Geolocation Policy Namespace Registration
  contents:
  - "11.2.  Geolocation Policy Namespace Registration\n   This section registers a\
    \ new XML namespace in the IETF XML Registry\n   as per the guidelines in [RFC3688].\n\
    \   URI:  urn:ietf:params:xml:ns:geolocation-policy\n   Registrant Contact:  IETF\
    \ Geopriv Working Group (geopriv@ietf.org),\n      Hannes Tschofenig (hannes.tschofenig@nsn.com).\n\
    \   XML:\n   BEGIN\n   <?xml version=\"1.0\"?>\n   <!DOCTYPE html PUBLIC \"-//W3C//DTD\
    \ XHTML Basic 1.0//EN\"\n     \"http://www.w3.org/TR/xhtml-basic/xhtml-basic10.dtd\"\
    >\n   <html xmlns=\"http://www.w3.org/1999/xhtml\">\n   <head>\n     <meta http-equiv=\"\
    content-type\"\n           content=\"text/html;charset=iso-8859-1\"/>\n     <title>Geolocation\
    \ Policy Namespace</title>\n   </head>\n   <body>\n     <h1>Namespace for Geolocation\
    \ Authorization Policies</h1>\n     <h2>urn:ietf:params:xml:schema:geolocation-policy</h2>\n\
    \   <p>See <a href=\"http://www.rfc-editor.org/rfc/rfc6772.txt\">\n      RFC 6772</a>.</p>\n\
    \   </body>\n   </html>\n   END\n"
- title: 11.3.  Geolocation Policy Location Profile Registry
  contents:
  - "11.3.  Geolocation Policy Location Profile Registry\n   This document creates\
    \ a registry of location profile names for the\n   Geolocation Policy framework.\
    \  Profile names are XML tokens.  This\n   registry will operate in accordance\
    \ with RFC 5226 [RFC5226],\n   Specification Required.\n   This document defines\
    \ the following profile names:\n   geodetic-condition:  Defined in Section 4.1.\n\
    \   civic-condition:  Defined in Section 4.2.\n   geodetic-transformation:  Defined\
    \ in Section 6.5.2.\n   civic-transformation:  Defined in Section 6.5.1.\n"
- title: 11.4.  Basic Location Profile XML Schema Registration
  contents:
  - "11.4.  Basic Location Profile XML Schema Registration\n   This section registers\
    \ an XML schema in the IETF XML Registry as per\n   the guidelines in [RFC3688].\n\
    \   URI:  urn:ietf:params:xml:schema:basic-location-profiles\n   Registrant Contact:\
    \  IETF Geopriv Working Group (geopriv@ietf.org),\n      Hannes Tschofenig (hannes.tschofenig@nsn.com).\n\
    \   XML:  The XML schema to be registered is contained in Section 8.  Its\n  \
    \    first line is\n   <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n   and its\
    \ last line is\n   </xs:schema>\n"
- title: 11.5.  Basic Location Profile Namespace Registration
  contents:
  - "11.5.  Basic Location Profile Namespace Registration\n   This section registers\
    \ a new XML namespace in the IETF XML Registry\n   as per the guidelines in [RFC3688].\n\
    \   URI:  urn:ietf:params:xml:ns:basic-location-profiles\n   Registrant Contact:\
    \  IETF Geopriv Working Group (geopriv@ietf.org),\n      Hannes Tschofenig (hannes.tschofenig@nsn.com).\n\
    \   XML:\n   BEGIN\n   <?xml version=\"1.0\"?>\n   <!DOCTYPE html PUBLIC \"-//W3C//DTD\
    \ XHTML Basic 1.0//EN\"\n     \"http://www.w3.org/TR/xhtml-basic/xhtml-basic10.dtd\"\
    >\n   <html xmlns=\"http://www.w3.org/1999/xhtml\">\n   <head>\n     <meta http-equiv=\"\
    content-type\"\n           content=\"text/html;charset=iso-8859-1\"/>\n     <title>Basic\
    \ Location Profile Namespace</title>\n   </head>\n   <body>\n     <h1>Namespace\
    \ for Basic Location Profile</h1>\n     <h2>urn:ietf:params:xml:schema:basic-location-profiles</h2>\n\
    \   <p>See <a href=\"http://www.rfc-editor.org/rfc/rfc6772.txt\">\n      RFC 6772</a>.</p>\n\
    \   </body>\n   </html>\n   END\n"
- title: 11.6.  XCAP Application Usage ID
  contents:
  - "11.6.  XCAP Application Usage ID\n   This section registers an XCAP Application\
    \ Unique ID (AUID) in the\n   \"XML-XCAP Application Unique IDs\" registry according\
    \ to the IANA\n   procedures defined in [RFC4825].\n   Name of the AUID: geolocation-policy\n\
    \   Description: Geolocation privacy rules are documents that describe\n   the\
    \ permissions that a Target has granted to Location Recipients that\n   access\
    \ information about his/her geographic location.\n"
- title: 12.  Internationalization Considerations
  contents:
  - "12.  Internationalization Considerations\n   The policies described in this document\
    \ are mostly meant for machine-\n   to-machine communications; as such, many of\
    \ its elements are tokens\n   not meant for direct human consumption.  If these\
    \ tokens are\n   presented to the end user, some localization may need to occur.\
    \  The\n   policies are, however, supposed to be created with the help of\n  \
    \ humans, and some of the elements and attributes are subject to\n   internationalization\
    \ considerations.  The content of the <label>\n   element is meant to be provided\
    \ by a human (the Rule Maker) and also\n   displayed to a human.  Furthermore,\
    \ the location condition element\n   (<location-condition>, using the civic location\
    \ profile, see\n   Section 4.2) and the <set-note-well> element (see Section 6.3)\
    \ may\n   contain non-US-ASCII letters.\n   The geolocation policies utilize XML,\
    \ and all XML processors are\n   required to understand UTF-8 and UTF-16 encodings.\
    \  Therefore, all\n   entities processing these policies MUST understand UTF-8-\
    \ and UTF-16-\n   encoded XML.  Additionally, geolocation policy-aware entities\
    \ MUST\n   NOT encode XML with encodings other than UTF-8 or UTF-16.\n"
- title: 13.  Security Considerations
  contents:
  - '13.  Security Considerations

    '
- title: 13.1.  Introduction
  contents:
  - "13.1.  Introduction\n   This document aims to allow users to prevent unauthorized\
    \ access to\n   location information and to restrict access to information dependent\n\
    \   on the location of the Target, using location-based conditions.  This\n  \
    \ is accomplished using authorization policies.  This work builds on a\n   series\
    \ of other documents: security requirements are described in\n   [RFC6280] and\
    \ a discussion of generic security threats is available\n   with [RFC3694].  Aspects\
    \ of combining permissions in cases of\n   multiple occurrence are addressed in\
    \ [RFC4745].\n   In addition to the authorization policies, mechanisms for obfuscating\n\
    \   location information are described.  A theoretical treatment of\n   location\
    \ obfuscation is provided in [DUCKHAM05] and in [IFIP07].\n   [DUCKHAM05] provides\
    \ the foundation, and [IFIP07] illustrates three\n   different types of location\
    \ obfuscation by enlarging the radius, by\n   shifting the center, and by reducing\
    \ the radius.  The algorithm in\n   Section 6.5.2 for geodetic location information\
    \ obfuscation uses\n   these techniques.\n   The requirements for protecting privacy-sensitive\
    \ location\n   information vary.  The two obfuscation algorithms in this document\n\
    \   provide a basis for protecting against unauthorized disclosure of\n   location\
    \ information, but they have limitations.  Application and\n   user requirements\
    \ vary widely; therefore, an extension mechanism is\n   support for defining and\
    \ using different algorithms.\n"
- title: 13.2.  Obfuscation
  contents:
  - "13.2.  Obfuscation\n   Whenever location information is returned to a Location\
    \ Recipient, it\n   contains the location of the Target.  This is also true when\
    \ location\n   is obfuscated, i.e., the Location Server does not lie about the\n\
    \   Target's location but instead hides it within a larger location\n   shape.\
    \  Even without the Target's movement, there is a danger that\n   information\
    \ will be revealed over time.  While the Target's location\n   is not revealed\
    \ within a particular region of the grid, the size of\n   that returned region\
    \ matters as well as the precise location of the\n   Target within that region.\
    \  Returning location shapes that are\n   randomly computed will over time reveal\
    \ more and more information\n   about the Target.\n   Consider Figure 1, which\
    \ shows three ellipses, a dotted area in the\n   middle, and the Target's true\
    \ location marked as 'x'.  The ellipses\n   illustrate the location shapes as\
    \ received by a potential Location\n   Recipient over time for requests of a Target's\
    \ location information.\n   Collecting information about the returned location\
    \ information over\n   time allows the Location Recipient to narrow the potential\
    \ location\n   of the Target down to the dotted area in the center of the graph.\n\
    \   For this purpose, the algorithm described in Section 6.5.2 uses a\n   grid\
    \ that ensures the same location information is reported while the\n   Target\
    \ remains in the same geographical area.\n                   ,-----.\n       \
    \    ,----,-'.      `-.\n        ,-'    /    `-.      \\\n      ,'      / _...._\
    \ `.     \\\n     /       ,-'......`._\\     :\n    ;       /|...........\\: \
    \   |\n    |      / :.....x......+    ;\n    :     |   \\...........;|  /\n  \
    \   \\    |    \\........./ | /\n      `.  \\     `-.....,' ,''\n        '-.\\\
    \       `-----'|\n           ``.-----'    ,'\n              `._    _,'\n     \
    \            `'''\n                  Figure 1: Obfuscation: A Static Target\n\
    \   An obscuring method that returns different results for consecutive\n   requests\
    \ can be exploited by recipients wishing to use this property.\n   Rate limiting\
    \ the generation of new obscured locations or providing\n   the same obscured\
    \ location to recipients for the same location might\n   limit the information\
    \ that can be obtained.  Note, however, that\n   providing a new obscured location\
    \ based on a change in location\n   provides some information to recipients when\
    \ they observe a change in\n   location.\n   When the Target is moving, then the\
    \ location transformations reveal\n   information when switching from one privacy\
    \ region to another one.\n   For example, when a transformation indicates that\
    \ civic location is\n   provided at a 'building' level of granularity, floor levels,\
    \ room\n   numbers, and other details normally internal to a building would be\n\
    \   hidden.  However, when the Target moves from one building to the next\n  \
    \ one, then the movement would still be recognizable as the disclosed\n   location\
    \ information would be reflected by the new civic location\n   information indicating\
    \ the new building.  With additional knowledge\n   about building entrances and\
    \ floor plans, it would be possible to\n   learn additional information.\n"
- title: 13.3.  Algorithm Limitations
  contents:
  - "13.3.  Algorithm Limitations\n   The algorithm presented in Section 6.5.2 has\
    \ some issues where\n   information is leaked: when moving, when switching from\
    \ one privacy\n   region to another one, and also when the user regularly visits\
    \ the\n   same location.\n   The first issue arises if the algorithm provides\
    \ different location\n   information (privacy region) only when the previous one\
    \ becomes\n   inapplicable.  The algorithm discloses new information the moment\n\
    \   that the Target is on the border of the old privacy region.\n   Another issue\
    \ arises if the algorithm produces the different values\n   for the same location\
    \ that is repeatedly visited.  Suppose a user\n   goes home every night.  If the\
    \ reported obfuscated locations are all\n   randomly chosen, an analysis can reveal\
    \ the home location with high\n   precision.\n   In addition to these concerns,\
    \ the combination of an obscured\n   location with public geographic information\
    \ (highways, lakes,\n   mountains, cities, etc.) may yield much more precise location\n\
    \   information than is desired.  But even without it, just observing\n   movements,\
    \ once or multiple times, any obscuring algorithm can leak\n   information about\
    \ velocities or positions.  Suppose a user wants to\n   disclose location information\
    \ with a radius of r.  The privacy\n   region, a circle with that radius, has\
    \ an area of A = pi * r^2.  An\n   adversary, observing the movements, will deduce\
    \ that the target is\n   visiting, was visiting, or regularly visits, a region\
    \ of size A1,\n   smaller than A.  The ratio A1/A should be, even in the worst\
    \ case,\n   larger than a fixed known number, in order that the user can predict\n\
    \   the worst-case information leakage.  The choices of Section 6.5.2 are\n  \
    \ such that this maximum leakage can be established: by any statistical\n   procedures,\
    \ without using external information (highways, etc., as\n   discussed above),\
    \ the quotient A1/A is larger than 0.13 (= 1/(5*1.5)\n   ).  Thus, for instance,\
    \ when choosing a provided location of size\n   1000 km^2, he will be leaking,\
    \ in worst case, the location within a\n   region of size 130 km^2.\n"
- title: 13.4.  Usability
  contents:
  - "13.4.  Usability\n   There is the risk that end users are specifying their location-based\n\
    \   policies in such a way that very small changes in location yields a\n   significantly\
    \ different level of information disclosure.  For\n   example, a user might want\
    \ to set authorization policies differently\n   when they are in a specific geographical\
    \ area (e.g., at home, in the\n   office).  Location might be the only factor\
    \ in the policy that\n   triggers a very different action and transformation to\
    \ be executed.\n   The accuracy of location information is not always sufficient\
    \ to\n   unequivocally determine whether a location is within a specific\n   boundary\
    \ [GEOPRIV-UNCERTAINTY].  In some situations, uncertainty in\n   location information\
    \ could produce unexpected results for end users.\n   Providing adequate user\
    \ feedback about potential errors arising from\n   these limitation can help prevent\
    \ unintentional information leakage.\n   Users might create policies that are\
    \ nonsensical.  To avoid such\n   cases, the software used to create the authorization\
    \ policies should\n   perform consistency checks, and when authorization policies\
    \ are\n   uploaded to the policy servers, then further checks can be performed.\n\
    \   When XCAP is used to upload authorization policies, then built-in\n   features\
    \ of XCAP can be utilized to convey error messages back to the\n   user about\
    \ an error condition.  Section 8.2.5 of [RFC4825] indicates\n   that some degree\
    \ of application-specific checking is provided when\n   authorization policies\
    \ are added, modified, or deleted.  The XCAP\n   protocol may return a 409 response\
    \ with a response that may contain a\n   detailed conflict report containing the\
    \ <constraint-failure> element.\n   A human-readable description of the problem\
    \ can be indicated in the\n   'phrase' attribute of that element.\n"
- title: 13.5.  Limitations of Obscuring Locations
  contents:
  - "13.5.  Limitations of Obscuring Locations\n   Location-obscuring attempts to\
    \ remove information about the location\n   of a Target.  The effectiveness of\
    \ location obscuring is determined\n   by how much uncertainty a Location Recipient\
    \ has about the location\n   of the Target.  A location-obscuring algorithm is\
    \ effective if the\n   Location Recipient cannot recover a location with better\
    \ uncertainty\n   than the obscuring algorithm was instructed to add.\n   Effective\
    \ location obscuring is difficult.  The amount of information\n   that can be\
    \ recovered by a determined and resourceful Location\n   Recipient can be considerably\
    \ more than is immediately apparent.  A\n   concise summary of the challenges\
    \ is included in [DUCKHAM10].\n   A Location Recipient in possession of external\
    \ information about the\n   Target or geographical area that is reported can make\
    \ assumptions or\n   guesses aided by that information to recover more accurate\
    \ location\n   information.  This is true even when a single location is reported,\n\
    \   but it is especially true when multiple locations are reported for\n   the\
    \ same Target over time.\n   Furthermore, a Location Recipient that attempts to\
    \ recover past\n   locations for a Target can use later-reported locations to\
    \ further\n   refine any recovered location.  A location-obscuring algorithm\n\
    \   typically does not have any information about the future location of\n   the\
    \ Target.\n   The degree to which location information can be effectively degraded\n\
    \   by an obscuring algorithm depends on the information that is used by\n   the\
    \ obscuring algorithm.  If the information available to the\n   obscuring algorithm\
    \ is both more extensive and more effectively\n   employed than the information\
    \ available to the Location Recipient,\n   then location obscuring might be effective.\n\
    \   Obscured locations can still serve a purpose where a Location\n   Recipient\
    \ is willing to respect privacy.  A privacy-respecting\n   Location Recipient\
    \ can choose to interpret the existence of\n   uncertainty as a request from a\
    \ Rule Maker to not recover location.\n   Location obscuring is unlikely to be\
    \ effective against a more\n   determined or resourceful adversary.  Withholding\
    \ location\n   information entirely is perhaps the most effective method of ensuring\n\
    \   that it is not recovered.\n   As a final caution, we note that omitted data\
    \ also conveys some\n   information.  Selective withholding of information reveals\
    \ that there\n   is something worth hiding.  That information might be used to\
    \ reveal\n   something of the information that is being withheld.  For example,\
    \ if\n   location is only obscured around a user's home and office, then the\n\
    \   lack of location for that user and the current time will likely mean\n   that\
    \ the user is at home at night and in the office during the day,\n   defeating\
    \ the purpose of the controls.\n"
- title: 14.  References
  contents:
  - '14.  References

    '
- title: 14.1.  Normative References
  contents:
  - "14.1.  Normative References\n   [GML]      OpenGIS, \"OpenGIS Geography Markup\
    \ Language (GML)\n              Implementation Specification, Version 3.1.1,\n\
    \              OGC 03-105r1\", July 2004,\n              <http://portal.opengeospatial.org/files/\n\
    \              ?artifact_id=4700>.\n   [NIMA.TR8350.2-3e]\n              \"Department\
    \ of Defense (DoD) World Geodetic System 1984\n              (WGS 84), Third Edition\"\
    , NIMA TR8350.2, January 2000.\n   [OGC-06-103r4]\n              OpenGIS, \"OpenGIS\
    \ Implementation Specification for\n              Geographic  information - Simple\
    \ feature access - Part 1:\n              Common architecture\", May 2011,\n \
    \             <http://www.opengeospatial.org/standards/sfa?>.\n   [RFC2119]  Bradner,\
    \ S., \"Key words for use in RFCs to Indicate\n              Requirement Levels\"\
    , BCP 14, RFC 2119, March 1997.\n   [RFC3688]  Mealling, M., \"The IETF XML Registry\"\
    , BCP 81, RFC 3688,\n              January 2004.\n   [RFC4745]  Schulzrinne, H.,\
    \ Tschofenig, H., Morris, J., Cuellar, J.,\n              Polk, J., and J. Rosenberg,\
    \ \"Common Policy: A Document\n              Format for Expressing Privacy Preferences\"\
    , RFC 4745,\n              February 2007.\n   [RFC5139]  Thomson, M. and J. Winterbottom,\
    \ \"Revised Civic Location\n              Format for Presence Information Data\
    \ Format Location\n              Object (PIDF-LO)\", RFC 5139, February 2008.\n\
    \   [RFC5491]  Winterbottom, J., Thomson, M., and H. Tschofenig, \"GEOPRIV\n \
    \             Presence Information Data Format Location Object (PIDF-LO)\n   \
    \           Usage Clarification, Considerations, and Recommendations\",\n    \
    \          RFC 5491, March 2009.\n"
- title: 14.2.  Informative References
  contents:
  - "14.2.  Informative References\n   [DUCKHAM05]\n              Duckham, M. and\
    \ L. Kulik, \"A Formal Model of Obfuscation\n              and Negotiation for\
    \ Location Privacy\", In Proc. of the 3rd\n              International Conference\
    \ PERVASIVE 2005, Munich, Germany,\n              May 2005.\n   [DUCKHAM10]\n\
    \              Duckham, M., \"Moving Forward: Location Privacy and\n         \
    \     Location Awareness\", In Proc. 3rd ACM SIGSPATIAL Workshop\n           \
    \   on Security and Privacy in GIS and LBS (SPRINGL), ACM,\n              November\
    \ 2010.\n   [GEO-SHAPE]\n              Thomson, M., \"Geodetic Shapes for the\
    \ Representation of\n              Uncertainty in PIDF-LO\", Work in Progress,\
    \ December 2006.\n   [GEOPRIV-UNCERTAINTY]\n              Thomson, M. and J. Winterbottom,\
    \ \"Representation of\n              Uncertainty and Confidence in PIDF-LO\",\
    \ Work in Progress,\n              March 2012.\n   [IFIP07]   Ardagna, C., Cremonini,\
    \ M., Damiani, E., De Capitani di\n              Vimercati, S., and P. Samarati,\
    \ \"Location Privacy\n              Protection through Obfuscation-Based Techniques\"\
    ,\n              Proceedings of the 21st Annual IFIP WG 11.3 Working\n       \
    \       Conference on Data and Applications Security, Redondo\n              Beach,\
    \ CA, USA, July 2007.\n   [RFC2392]  Levinson, E., \"Content-ID and Message-ID\
    \ Uniform Resource\n              Locators\", RFC 2392, August 1998.\n   [RFC2778]\
    \  Day, M., Rosenberg, J., and H. Sugano, \"A Model for\n              Presence\
    \ and Instant Messaging\", RFC 2778, February 2000.\n   [RFC3694]  Danley, M.,\
    \ Mulligan, D., Morris, J., and J. Peterson,\n              \"Threat Analysis\
    \ of the Geopriv Protocol\", RFC 3694,\n              February 2004.\n   [RFC4079]\
    \  Peterson, J., \"A Presence Architecture for the\n              Distribution\
    \ of GEOPRIV Location Objects\", RFC 4079,\n              July 2005.\n   [RFC4119]\
    \  Peterson, J., \"A Presence-based GEOPRIV Location Object\n              Format\"\
    , RFC 4119, December 2005.\n   [RFC4825]  Rosenberg, J., \"The Extensible Markup\
    \ Language (XML)\n              Configuration Access Protocol (XCAP)\", RFC 4825,\
    \ May 2007.\n   [RFC5025]  Rosenberg, J., \"Presence Authorization Rules\", RFC\
    \ 5025,\n              December 2007.\n   [RFC5226]  Narten, T. and H. Alvestrand,\
    \ \"Guidelines for Writing an\n              IANA Considerations Section in RFCs\"\
    , BCP 26, RFC 5226,\n              May 2008.\n   [RFC6280]  Barnes, R., Lepinski,\
    \ M., Cooper, A., Morris, J.,\n              Tschofenig, H., and H. Schulzrinne,\
    \ \"An Architecture for\n              Location and Location Privacy in Internet\
    \ Applications\",\n              BCP 160, RFC 6280, July 2011.\n"
- title: Appendix A.  Acknowledgments
  contents:
  - "Appendix A.  Acknowledgments\n   This document is informed by the discussions\
    \ within the IETF GEOPRIV\n   working group, including discussions at the GEOPRIV\
    \ interim meeting\n   in Washington, D.C., in 2003.\n   We particularly want to\
    \ thank Allison Mankin <mankin@psg.com>,\n   Randall Gellens <rg+ietf@qualcomm.com>,\
    \ Andrew Newton\n   <anewton@ecotroph.net>, Ted Hardie <hardie@qualcomm.com>,\
    \ and Jon\n   Peterson <jon.peterson@neustar.biz> for their help in improving\
    \ the\n   quality of this document.\n   We would like to thank Christian Guenther\
    \ for his help with an\n   earlier version of this document.  Furthermore, we\
    \ would like to\n   thank Johnny Vrancken for his document reviews in September\
    \ 2006,\n   December 2006 and January 2007.  James Winterbottom provided a\n \
    \  detailed review in November 2006.  Richard Barnes gave a detailed\n   review\
    \ in February 2008.\n   This document uses text from \"Geodetic Shapes for the\
    \ Representation\n   of Uncertainty in PIDF-LO\" [GEO-SHAPE], authored by Martin\
    \ Thomson.\n   We would like to thank Matt Lepinski and Richard Barnes for their\n\
    \   comments regarding the geodetic location transformation procedure.\n   Richard\
    \ provided us with a detailed text proposal.\n   Robert Sparks, and Warren Kumari\
    \ deserve thanks for their input on\n   the location obfuscation discussion. \
    \ Robert implemented various\n   versions of the algorithm in the graphical language\
    \ \"Processing\" and\n   thereby helped us tremendously to understand problems\
    \ with the\n   previously illustrated algorithm.\n   We would like to thank Dan\
    \ Romascanu, Yoshiko Chong, and Jari\n   Urpalainen for their last call comments.\n\
    \   Finally, we would like to thank the following individuals for their\n   feedback\
    \ as part of the IESG, GenArt, and SecDir review: Jari Arkko,\n   Lisa Dusseault,\
    \ Eric Gray, Sam Hartman, Russ Housley, Cullen\n   Jennings, Chris Newman, Jon\
    \ Peterson, Tim Polk, Carl Reed, and Brian\n   Rosen.\n   Although John Morris\
    \ is currently employed by the U.S. Government, he\n   participated in the development\
    \ of this document in his personal\n   capacity, and the views expressed in the\
    \ document may not reflect\n   those of his employer.\n"
- title: Appendix B.  Pseudocode
  contents:
  - "Appendix B.  Pseudocode\n   This section provides an informal description for\
    \ the algorithm\n   described in 6.5.2 and 7.5 as pseudocode.  In addition to\
    \ the\n   algorithm, it randomly chooses among equidistant landmarks based on\n\
    \   the previous location.\n   Constants\n     P = sqrt(3)/6  //  approx 0.2887\n\
    \     q = 1 - p      //  approx 0.7113\n   Parameters\n     prob:  real  // prob\
    \ is a parameter in the range\n           //  0.5 <= prob <=1\n           // recommended\
    \ is a value for prob between 0.7 and 0.9\n           // the default of prob is\
    \ 0.8\n   Inputs\n     M = (m,n) : real * real\n           // M is a pair of reals:\
    \ m and n\n           // m is the longitude and n the latitude,\n           //\
    \ respectively, of the measured location\n           // The values are given as\
    \ real numbers, in the\n           // range: -180 < m <= 180; -90 < n < 90\n \
    \          // minus values for longitude m correspond to \"West\"\n          \
    \ // minus values for latitude n correspond to \"South\"\n     radius : integer\
    \ // the 'radius' or uncertainty,\n           // measured in meters\n     prev-M\
    \ = (prev-m1, prev-n1): real * real\n           // the *previously* provided location,\
    \ if available\n           // prev-m1 is the longitude and\n           // prev-n1\
    \ the latitude, respectively\n     o : real\n     // this is the reference latitude\
    \ for the geodesic projection\n     // The value of 'o' is chosen according to\
    \ the table below.\n     // The area you want to project MUST be included in\n\
    \     // between a minimal latitude and a maximal latitude\n     // given by the\
    \ two first columns of the table.\n     // (Otherwise the transformation is not\
    \ available).\n     //    +------+------+--------------------------+-------+\n\
    \     //    | min  | max  |                          |       |\n     //    | lat\
    \  | lat  |        Examples          |  o    |\n     //    +------+------+--------------------------+-------+\n\
    \     //    |      |      | Tropics and subtropics   |       |\n     //    | -45\
    \  |  45  | Africa                   |  0    |\n     //    |      |      | Australia\
    \                |       |\n     //    +------+------+--------------------------+-------+\n\
    \     //    |      |      | Continental US           |       |\n     //    | \
    \ 25  |  50  | Mediterranean            |   25  |\n     //    |      |      |\
    \ most of China            |       |\n     //    +------+------+--------------------------+-------+\n\
    \     //    |      |      |                          |       |\n     //    | \
    \ 35  |  55  | Southern and Central     |   35  |\n     //    |      |      |\
    \      Europe              |       |\n     //    +------+------+--------------------------+-------+\n\
    \     //    |      |      |                          |       |\n     //    | \
    \ 45  |  60  | Central and Northern     |   45  |\n     //    |      |      |\
    \       Europe             |       |\n     //    +------+------+--------------------------+-------+\n\
    \     //    |      |      |                          |       |\n     //    | \
    \ 55  |  65  | most of Scandinavia      |   55  |\n     //    |      |      |\
    \                          |       |\n     //    +------+------+--------------------------+-------+\n\
    \     //    |      |      |                          |       |\n     //    | \
    \ 60  |  70  |                          |   60  |\n     //    |      |      |\
    \                          |       |\n     //    +------+------+--------------------------+-------+\n\
    \     //    |      |      | most of                  |       |\n     //    | -50\
    \  | -25  |    Chile and Argentina   |  -50  |\n     //    |      |      | New\
    \ Zealand              |       |\n     //    +------+------+--------------------------+-------+\n\
    \     //    |      |      |                          |       |\n     //    | -35\
    \  | -55  |                          |  -35  |\n     //    |      |      |   \
    \                       |       |\n     //    +------+------+--------------------------+-------+\n\
    \     //    |      |      |                          |       |\n     //    | -45\
    \  | -60  |                          |  -45  |\n     //    |      |      |   \
    \                       |       |\n     //    +------+------+--------------------------+-------+\n\
    \     //    |      |      |                          |       |\n     //    | -55\
    \  | -65  |                          |  -55  |\n     //    |      |      |   \
    \                       |       |\n     //    +------+------+--------------------------+-------+\n\
    \     //    |      |      |                          |       |\n     //    | -60\
    \  | -70  |                          |  -60  |\n     //    |      |      |   \
    \                       |       |\n     //    +------+------+--------------------------+-------+\n\
    \   Outputs\n     M1 = (m1,n1) : real * real // longitude and latitude,\n    \
    \       // respectively, of the provided location\n   Local Variables\n     d,\
    \ d1, d2, l, r, b, t, x, y: real\n     SW, SE, NW, NE: real * real\n        //\
    \ pairs of real numbers, interpreted as coordinates\n        // longitude and\
    \ latitude, respectively\n     temp : Integer[1..8]\n   Function\n     choose(Ma,\
    \ Mb: real * real): real * real;\n        // This function chooses either Ma or\
    \ Mb\n        // depending on the parameter 'prob'\n        // and on prev-M1,\
    \ the previous value of M1:\n        // If prev-M1 == Ma choose Ma with probability\
    \ 'prob'\n        // If prev-M1 == Mb choose Mb with probability 'prob'\n    \
    \    // Else choose Ma or Mb with probability 1/2\n     Begin\n     rand:= Random[0,1];\n\
    \        // a real random number between 0 and 1\n     If     prev-M1 == Ma Then\n\
    \            If rand < prob Then choose := Ma;\n                           Else\
    \ choose := Mb;  EndIf\n     Elseif prev-M1 == Mb Then\n            If rand <\
    \ prob Then choose := Mb;\n                           Else choose := Ma;  EndIf\n\
    \     Else\n            If rand < 0.5  Then choose := Ma;\n                  \
    \         Else choose := Mb;  EndIf\n     End // Function choose\n   Main  //\
    \ main procedure\n     Begin\n     d := radius/1000;  // uncertainty, measured\
    \ in km\n     d1:= (d * 180) / (pi*M*cos(o));\n     d2:= d / 110.6;\n     l :=\
    \ d1*floor(m/d1)\n           // \"floor\"  returns the largest integer\n     \
    \      // smaller or equal to a floating point number\n     r := l+d1;\n     b\
    \ := o+d2*floor(n-o/d2);\n     t := b+d2;\n     x := (m-l)/(r-l);\n     y := (n-b)/(t-b);\n\
    \     SW := (l,b);\n     SE := (r,b);\n     NW := (l,t);\n     NE := (r,t);\n\
    \     If     x < p and y < p      Then M1 := SW;\n     Elseif x < p and q <= y\
    \     Then M1 := NW;\n     Elseif q <= x and y < p     Then M1 := SE;\n     Elseif\
    \ q <= x and q <= y    Then M1 := NE;\n     Elseif p <= x and x < q and y < x\
    \  and y < 1-x\n            Then M1 := choose(SW,SE);\n     Elseif p <= y and\
    \ y < q and x <= y and y < 1-x\n            Then M1 := choose(SW,NW);\n     Elseif\
    \ p <= y and y < q and y < x  and 1-x <= y\n            Then M1 := choose(SE,NE);\n\
    \     Elseif p <= x and x < q and x <= y and 1-x <= y\n            Then M1 :=\
    \ choose(NW,NE);\n     Endif\n     End //  Main\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Henning Schulzrinne (editor)\n   Columbia University\n\
    \   Department of Computer Science\n   450 Computer Science Building\n   New York,\
    \ NY  10027\n   USA\n   Phone: +1 212-939-7042\n   EMail: schulzrinne@cs.columbia.edu\n\
    \   URI:   http://www.cs.columbia.edu/~hgs\n   Hannes Tschofenig (editor)\n  \
    \ Nokia Siemens Networks\n   Linnoitustie 6\n   Espoo  02600\n   Finland\n   Phone:\
    \ +358 (50) 4871445\n   EMail: Hannes.Tschofenig@gmx.net\n   URI:   http://www.tschofenig.priv.at\n\
    \   Jorge R. Cuellar\n   Siemens\n   Otto-Hahn-Ring 6\n   Munich, Bavaria  81739\n\
    \   Germany\n   EMail: Jorge.Cuellar@siemens.com\n   James Polk\n   Cisco\n  \
    \ 2200 East President George Bush Turnpike\n   Richardson, Texas  75082\n   USA\n\
    \   Phone: +1 817-271-3552\n   EMail: jmpolk@cisco.com\n   John B. Morris, Jr.\n\
    \   EMail: ietf@jmorris.org\n   Martin Thomson\n   Microsoft\n   3210 Porter Drive\n\
    \   Palo Alto, CA  94304\n   USA\n   Phone: +1 650-353-1925\n   EMail: martin.thomson@gmail.com\n"
