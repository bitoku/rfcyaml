- contents:
  - ' RSVP-TE Summary Fast Reroute Extensions for Label Switched Path (LSP)

    '
  title: __initial_text__
- contents:
  - "Abstract\n   This document updates RFC 4090 for the Resource Reservation Protocol\n
    \  (RSVP) Traffic Engineering (TE) procedures defined for facility\n   backup
    protection.  The updates include extensions that reduce the\n   amount of signaling
    and processing that occurs during Fast Reroute\n   (FRR); as a result, scalability
    when undergoing FRR convergence after\n   a link or node failure is improved.
    \ These extensions allow the RSVP\n   message exchange between the Point of Local
    Repair (PLR) and the\n   Merge Point (MP) nodes to be independent of the number
    of protected\n   Label Switched Paths (LSPs) traversing between them when facility\n
    \  bypass FRR protection is used.  The signaling extensions are fully\n   backwards
    compatible with nodes that do not support them.\n"
  title: Abstract
- contents:
  - "Status of This Memo\n   This is an Internet Standards Track document.\n   This
    document is a product of the Internet Engineering Task Force\n   (IETF).  It represents
    the consensus of the IETF community.  It has\n   received public review and has
    been approved for publication by the\n   Internet Engineering Steering Group (IESG).
    \ Further information on\n   Internet Standards is available in Section 2 of RFC
    7841.\n   Information about the current status of this document, any errata,\n
    \  and how to provide feedback on it may be obtained at\n   https://www.rfc-editor.org/info/rfc8796.\n"
  title: Status of This Memo
- contents:
  - "Copyright Notice\n   Copyright (c) 2020 IETF Trust and the persons identified
    as the\n   document authors.  All rights reserved.\n   This document is subject
    to BCP 78 and the IETF Trust's Legal\n   Provisions Relating to IETF Documents\n
    \  (https://trustee.ietf.org/license-info) in effect on the date of\n   publication
    of this document.  Please review these documents\n   carefully, as they describe
    your rights and restrictions with respect\n   to this document.  Code Components
    extracted from this document must\n   include Simplified BSD License text as described
    in Section 4.e of\n   the Trust Legal Provisions and are provided without warranty
    as\n   described in the Simplified BSD License.\n"
  title: Copyright Notice
- contents:
  - "Table of Contents\n   1.  Introduction\n   2.  Conventions Used in This Document\n
    \    2.1.  Terminology\n     2.2.  Acronyms and Abbreviations\n   3.  Extensions
    for Summary FRR Signaling\n     3.1.  B-SFRR-Ready Extended ASSOCIATION Object\n
    \      3.1.1.  IPv4 B-SFRR-Ready Extended Association ID\n       3.1.2.  IPv6
    B-SFRR-Ready Extended Association ID\n       3.1.3.  Processing Rules for B-SFRR-Ready
    Extended ASSOCIATION\n               Object\n     3.2.  B-SFRR-Active Extended
    ASSOCIATION Object\n       3.2.1.  IPv4 B-SFRR-Active Extended Association ID\n
    \      3.2.2.  IPv6 B-SFRR-Active Extended Association ID\n     3.3.  Signaling
    Procedures prior to Failure\n       3.3.1.  PLR Signaling Procedure\n       3.3.2.
    \ MP Signaling Procedure\n     3.4.  Signaling Procedures Post-Failure\n       3.4.1.
    \ PLR Signaling Procedure\n       3.4.2.  MP Signaling Procedure\n     3.5.  Refreshing
    Summary FRR Active LSPs\n   4.  Backwards Compatibility\n   5.  Security Considerations\n
    \  6.  IANA Considerations\n   7.  References\n     7.1.  Normative References\n
    \    7.2.  Informative References\n   Acknowledgments\n   Contributors\n   Authors'
    Addresses\n"
  title: Table of Contents
- contents:
  - "1.  Introduction\n   The Fast Reroute (FRR) procedures defined in [RFC4090] describe
    the\n   mechanisms for the Point of Local Repair (PLR) to reroute traffic and\n
    \  signaling of a protected RSVP-TE Label Switched Path (LSP) onto the\n   bypass
    tunnel in the event of a TE link or node failure.  Such\n   signaling procedures
    are performed individually for each affected\n   protected LSP.  This may eventually
    lead to control-plane scalability\n   and latency issues on the PLR and/or the
    Merge Point (MP) nodes due\n   to limited memory and CPU processing resources.
    \ This condition is\n   exacerbated when the failure affects a large number of
    protected LSPs\n   that traverse the same PLR and MP nodes.\n   For example, in
    a large-scale deployment of RSVP-TE LSPs, a single\n   Label Switching Router
    (LSR) acting as a PLR node may host tens of\n   thousands of protected RSVP-TE
    LSPs egressing the same protected link\n   and also act as an MP node for a similar
    number of LSPs that ingress\n   on the same link.  In the event of the failure
    of the link or\n   neighbor node, the RSVP-TE control plane of the node (when
    acting as\n   a PLR node) becomes busy rerouting protected LSPs over the bypass\n
    \  tunnel(s) in one direction and (when acting as an MP node) becomes\n   busy
    merging RSVP states from signaling received over bypass tunnels\n   for one or
    more LSPs in the reverse direction.  Subsequently, the\n   head-end Label Edge
    Routers (LERs) that are notified of the local\n   repair at any downstream LSRs
    will attempt to (re)converge the\n   affected RSVP-TE LSPs onto newly computed
    paths -- possibly\n   traversing the same previously affected LSR(s).  As a result,
    the\n   RSVP-TE control plane becomes overwhelmed (1) by the amount of FRR\n   RSVP-TE
    processing overhead following the link or node failure and\n   (2) due to other
    control-plane protocols (e.g., IGP) that undergo\n   convergence on the same node
    at the same time.\n   Today, each protected RSVP-TE LSP is signaled individually
    over the\n   bypass tunnel after FRR.  The changes introduced in this document\n
    \  allow the PLR node to assign multiple protected LSPs to a bypass\n   tunnel
    group and to communicate this assignment to the MP, such that\n   upon failure,
    the signaling over the bypass tunnel happens on one or\n   more bypass tunnel
    groups.  This document defines new extensions that\n   1.  update the procedures
    defined in [RFC4090] for facility backup\n       protection, to enable the MP
    node to become aware of the PLR\n       node's bypass tunnel assignment group
    or groups.\n   2.  allow FRR procedures between the PLR and the MP nodes to be\n
    \      signaled and processed on one or more per-bypass tunnel groups.\n   As
    defined in [RFC2961], summary refresh procedures use MESSAGE_ID to\n   refresh
    the RSVP Path and Resv states to help with scaling.  The\n   Summary FRR procedures
    introduced in this document build on those\n   concepts to allow the MESSAGE_ID(s)
    to be exchanged on one or more\n   per-bypass tunnel assignment groups and continue
    to use summary\n   refresh procedures while reducing the amount of messaging that
    occurs\n   after rerouting signaling over the bypass tunnel post-FRR.\n"
  title: 1.  Introduction
- contents:
  - '2.  Conventions Used in This Document

    '
  - contents:
    - "2.1.  Terminology\n   The key words \"MUST\", \"MUST NOT\", \"REQUIRED\", \"SHALL\",
      \"SHALL NOT\",\n   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"NOT RECOMMENDED\",
      \"MAY\", and\n   \"OPTIONAL\" in this document are to be interpreted as described
      in\n   BCP 14 [RFC2119] [RFC8174] when, and only when, they appear in all\n
      \  capitals, as shown here.\n"
    title: 2.1.  Terminology
  - contents:
    - "2.2.  Acronyms and Abbreviations\n   It is assumed that the reader is familiar
      with the terms and\n   abbreviations used in [RFC3209] and [RFC4090].\n   The
      following abbreviations are also used in this document:\n   LSR:  Label Switching
      Router\n   LER:  Label Edge Router\n   MPLS:  Multiprotocol Label Switching\n
      \  LSP:  Label Switched Path\n   MP:  Merge Point node as defined in [RFC4090]\n
      \  PLR:  Point of Local Repair node as defined in [RFC4090]\n   FRR:  Fast Reroute
      as defined in [RFC4090]\n   B-SFRR-Ready:  Bypass Summary FRR Ready Extended
      ASSOCIATION object.\n      Added by the PLR node for each LSP protected by the
      bypass tunnel\n   B-SFRR-Active:  Bypass Summary FRR Active Extended ASSOCIATION\n
      \     object.  Used to notify the MP node that one or more groups of\n      protected
      LSPs have been rerouted over the associated bypass\n      tunnel\n   MTU:  Maximum
      Transmission Unit\n"
    title: 2.2.  Acronyms and Abbreviations
  title: 2.  Conventions Used in This Document
- contents:
  - "3.  Extensions for Summary FRR Signaling\n   The RSVP ASSOCIATION object is defined
    in [RFC4872] as a means to\n   associate LSPs with each other.  For example, in
    the context of one\n   or more GMPLS-controlled LSPs, the ASSOCIATION object is
    used to\n   associate a recovery LSP with the LSP(s) it is protecting.  The\n
    \  Extended ASSOCIATION object is introduced in [RFC6780] to expand on\n   the
    possible usage of the ASSOCIATION object and generalize the\n   definition of
    the Extended Association ID field.\n   This document defines the use of the Extended
    ASSOCIATION object to\n   carry the Summary FRR information and associate the
    protected LSP or\n   LSPs with the bypass tunnel that protects them.  Two new
    Association\n   Types for the Extended ASSOCIATION object, and new Extended\n
    \  Association IDs, are defined in this document to describe the Bypass\n   Summary
    FRR Ready (B-SFRR-Ready) and Bypass Summary FRR Active\n   (B-SFRR-Active) associations.\n
    \  The PLR node creates and manages the Summary FRR LSP groups\n   (identified
    by Bypass_Group_Identifiers) and shares the group\n   identifiers with the MP
    via signaling.\n   A PLR node SHOULD assign the same Bypass_Group_Identifier to
    all\n   protected LSPs provided that the protected LSPs:\n   *  share the same
    outgoing protected interface,\n   *  are protected by the same bypass tunnel,
    and\n   *  are assigned the same tunnel sender address that is used for\n      backup
    path identification after FRR as described in [RFC4090].\n   This minimizes the
    number of bypass tunnel Summary FRR groups and\n   optimizes the amount of signaling
    that occurs between the PLR and the\n   MP nodes after FRR.\n   A PLR node that
    supports Summary FRR procedures adds an Extended\n   ASSOCIATION object with a
    B-SFRR-Ready Extended Association ID in the\n   RSVP Path message of the protected
    LSP.  The PLR node adds the\n   protected LSP Bypass_Group_Identifier, information
    from the assigned\n   bypass tunnel, and a MESSAGE_ID object into the B-SFRR-Ready
    Extended\n   Association ID.  The MP uses the information contained in the\n   received
    B-SFRR-Ready Extended Association ID to refresh and merge\n   the protected LSP
    Path state after FRR occurs.\n   An MP node that supports Summary FRR procedures
    adds the B-SFRR-Ready\n   Extended ASSOCIATION object and respective Extended
    Association ID in\n   the RSVP Resv message of the protected LSP to acknowledge
    the PLR's\n   bypass tunnel assignment and provide the MESSAGE_ID object that
    the\n   MP node will use to refresh the protected LSP Resv state after FRR\n   occurs.\n
    \  The MP maintains the PLR node group assignments learned from\n   signaling
    and acknowledges the group assignments to the PLR node via\n   signaling.  Once
    the PLR node receives the group assignment\n   acknowledgment from the MP, the
    FRR signaling can proceed based on\n   Summary FRR procedures as described in
    this document.\n   The B-SFRR-Active Extended ASSOCIATION object with Extended\n
    \  Association ID is sent by the PLR node after activating the Summary\n   FRR
    procedures.  The B-SFRR-Active Extended ASSOCIATION object with\n   Extended Association
    ID is sent within the RSVP Path message of the\n   bypass tunnel to inform the
    MP node that one or more groups of\n   protected LSPs protected by the bypass
    tunnel are now being rerouted\n   over the bypass tunnel.\n"
  - contents:
    - "3.1.  B-SFRR-Ready Extended ASSOCIATION Object\n   The Extended ASSOCIATION
      object is populated using the rules defined\n   below to associate a protected
      LSP with the bypass tunnel that is\n   protecting it when Summary FRR procedures
      are enabled.\n   The Association Type, Association ID, and Association Source
      MUST be\n   set as defined in [RFC4872] for the ASSOCIATION object.  More\n
      \  specifically:\n   Association Source:\n      The Association Source is set
      to an address of the PLR node.\n   Association Type:\n      A new Association
      Type is defined for B-SFRR-Ready as follows:\n      | Value | Type                                                |\n
      \     | 5     | Bypass Summary FRR Ready Association (B-SFRR-Ready) |\n                 Table
      1: The B-SFRR-Ready Association Type\n   The Extended ASSOCIATION object's Global
      Association Source MUST be\n   set according to the rules defined in [RFC6780].\n
      \  The B-SFRR-Ready Extended Association ID is populated by the PLR node\n   when
      performing Bypass Summary FRR Ready association for a protected\n   LSP.  The
      rules governing its population are described in the\n   subsequent sections.\n"
    - contents:
      - "3.1.1.  IPv4 B-SFRR-Ready Extended Association ID\n   The IPv4 Extended Association
        ID for the B-SFRR-Ready Association\n   Type is carried inside the IPv4 Extended
        ASSOCIATION object and has\n   the following format:\n       0                   1
        \                  2                   3\n       0 1 2 3 4 5 6 7 8 9 0 1 2
        3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n      |         Bypass_Tunnel_ID      |
        \          Reserved            |\n      |                Bypass_Source_IPv4_Address
        \                    |\n      |                Bypass_Destination_IPv4_Address
        \               |\n      |                Bypass_Group_Identifier                        |\n
        \     |                MESSAGE_ID                                     |\n
        \       Figure 1: The IPv4 Extended Association ID for B-SFRR-Ready\n   Bypass_Tunnel_ID:
        \ 16 bits\n      The bypass tunnel identifier.\n   Reserved:  16 bits\n      Reserved
        for future use.  MUST be set to zero when sending and\n      ignored on receipt.\n
        \  Bypass_Source_IPv4_Address:  32 bits\n      The bypass tunnel source IPv4
        address.\n   Bypass_Destination_IPv4_Address:  32 bits\n      The bypass tunnel
        destination IPv4 address.\n   Bypass_Group_Identifier:  32 bits\n      The
        bypass tunnel group identifier that is assigned to the LSP.\n   MESSAGE_ID:
        \ A MESSAGE_ID object as defined by [RFC2961].\n"
      title: 3.1.1.  IPv4 B-SFRR-Ready Extended Association ID
    - contents:
      - "3.1.2.  IPv6 B-SFRR-Ready Extended Association ID\n   The IPv6 Extended Association
        ID for the B-SFRR-Ready Association\n   Type is carried inside the IPv6 Extended
        ASSOCIATION object and has\n   the following format:\n       0                   1
        \                  2                   3\n       0 1 2 3 4 5 6 7 8 9 0 1 2
        3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n      |         Bypass_Tunnel_ID      |
        \          Reserved            |\n      +                Bypass_Source_IPv6_Address
        \                    +\n      +                Bypass_Destination_IPv6_Address
        \               +\n      |                Bypass_Group_Identifier                        |\n
        \     |                MESSAGE_ID                                     |\n
        \       Figure 2: The IPv6 Extended Association ID for B-SFRR-Ready\n   Bypass_Tunnel_ID:
        \ 16 bits\n      The bypass tunnel identifier.\n   Reserved:  16 bits\n      Reserved
        for future use.  MUST be set to zero when sending and\n      ignored on receipt.\n
        \  Bypass_Source_IPv6_Address:  128 bits\n      The bypass tunnel source IPv6
        address.\n   Bypass_Destination_IPv6_Address:  128 bits\n      The bypass
        tunnel destination IPv6 address.\n   Bypass_Group_Identifier:  32 bits\n      The
        bypass tunnel group identifier that is assigned to the LSP.\n   MESSAGE_ID:
        \ A MESSAGE_ID object as defined by [RFC2961].\n"
      title: 3.1.2.  IPv6 B-SFRR-Ready Extended Association ID
    - contents:
      - "3.1.3.  Processing Rules for B-SFRR-Ready Extended ASSOCIATION Object\n   A
        PLR node assigns a bypass tunnel and Bypass_Group_Identifier for\n   each
        protected LSP.  The same Bypass_Group_Identifier is used for the\n   set of
        protected LSPs that share the same bypass tunnel, traverse the\n   same egress
        link, and are not already rerouted.  The PLR node MUST\n   generate a MESSAGE_ID
        object with Epoch and Message_Identifier set\n   according to [RFC2961].  The
        MESSAGE_ID object Flags MUST be cleared\n   when transmitted by the PLR node
        and ignored when received at the MP\n   node.\n   A PLR node MUST generate
        a new Message_Identifier each time the\n   contents of the B-SFRR-Ready Extended
        Association ID change (e.g.,\n   when the PLR node changes the bypass tunnel
        assignment).\n   A PLR node notifies the MP node of the bypass tunnel assignment
        via\n   adding a B-SFRR-Ready Extended ASSOCIATION object and Extended\n   Association
        ID in the RSVP Path message for the protected LSP, using\n   the procedures
        described in Section 3.3.\n   An MP node acknowledges the assignment to the
        PLR node by signaling\n   the B-SFRR-Ready Extended ASSOCIATION object and
        Extended Association\n   ID within the RSVP Resv message of the protected
        LSP.  With the\n   exception of the MESSAGE_ID object, all other fields from
        the\n   received B-SFRR-Ready Extended Association ID in the RSVP Path\n   message
        are copied into the B-SFRR-Ready Extended Association ID to\n   be added in
        the Resv message.  The MESSAGE_ID object is set according\n   to [RFC2961].
        \ The MESSAGE_ID object Flags MUST be cleared when\n   transmitted by the
        MP node and ignored when received at the PLR node.\n   A new Message_Identifier
        MUST be used to acknowledge an updated PLR\n   node's assignment.\n   A PLR
        node considers the protected LSP as Summary FRR capable only if\n   all the
        fields in the B-SFRR-Ready Extended Association ID that are\n   sent in the
        RSVP Path message match the fields received in the RSVP\n   Resv message (with
        the exception of the MESSAGE_ID).  If the fields\n   do not match or if the
        B-SFRR-Ready Extended ASSOCIATION object is\n   absent in a subsequent refresh,
        the PLR node MUST consider the\n   protected LSP as not Summary FRR capable.\n
        \  A race condition may arise for a previously Summary FRR-capable\n   protected
        LSP when the MP node triggers a refresh that does not\n   contain the B-SFRR-Ready
        Extended ASSOCIATION object, while at the\n   same time the PLR triggers Summary
        FRR procedures due to a fault\n   occurring concurrently.  In this case, it
        is possible that the PLR\n   triggers Summary FRR procedures on the protected
        LSP before it can\n   receive and process the refresh from the MP node.  As
        a result, the\n   MP will receive an Srefresh with a Message_Identifier that
        is not\n   associated with any state.  As per [RFC2961], this results in the
        MP\n   generating an Srefresh NACK for this Message_Identifier and sending\n
        \  it back to the PLR.  The PLR processes the Srefresh NACK, replays the\n
        \  full Path state associated with the Message_Identifier, and\n   subsequently
        recovers from this condition.\n"
      title: 3.1.3.  Processing Rules for B-SFRR-Ready Extended ASSOCIATION Object
    title: 3.1.  B-SFRR-Ready Extended ASSOCIATION Object
  - contents:
    - "3.2.  B-SFRR-Active Extended ASSOCIATION Object\n   The Extended ASSOCIATION
      object for the B-SFRR-Active Association\n   Type is populated by a PLR node
      to indicate to the MP node (the\n   bypass tunnel destination) that one or more
      groups of Summary\n   FRR-capable protected LSPs that are being protected by
      the bypass\n   tunnel are being rerouted over the bypass tunnel.\n   The B-SFRR-Active
      Extended ASSOCIATION object is carried in the RSVP\n   Path message of the bypass
      tunnel and signaled downstream towards the\n   MP (the bypass tunnel destination).\n
      \  The Association Type, Association ID, and Association Source MUST be\n   set
      as defined in [RFC4872] for the ASSOCIATION object.  More\n   specifically:\n
      \  Association Source:\n      The Association Source is set to an address of
      the PLR node.\n   Association Type:\n      A new Association Type is defined
      for B-SFRR-Active as follows:\n     | Value | Type                                                  |\n
      \    | 6     | Bypass Summary FRR Active Association (B-SFRR-Active) |\n                Table
      2: The B-SFRR-Active Association Type\n   Extended Association ID for B-SFRR-Active:\n
      \     The B-SFRR-Active Extended Association ID is populated by the PLR\n      node
      for the Bypass Summary FRR Active association.  The rules to\n      populate
      the Extended Association ID in this case are described\n      below.\n"
    - contents:
      - "3.2.1.  IPv4 B-SFRR-Active Extended Association ID\n   The IPv4 Extended
        Association ID for the B-SFRR-Active Association\n   Type is carried inside
        the IPv4 Extended ASSOCIATION object and has\n   the following format:\n       0
        \                  1                   2                   3\n       0 1 2
        3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n      |            Num-BGIDs
        \         |          Reserved             |\n      |                       Bypass_Group_Identifier
        \                |\n      |                       Bypass_Group_Identifier
        \                |\n      //                      RSVP_HOP_Object                        //\n
        \     //                      TIME_VALUES                            //\n
        \     |                       IPv4 tunnel sender address              |\n
        \       Figure 3: The IPv4 Extended Association ID for B-SFRR-Active\n   Num-BGIDs:
        \ 16 bits\n      Number of Bypass_Group_Identifier fields.\n   Reserved:  16
        bits\n      Reserved for future use.\n   Bypass_Group_Identifier:  32 bits
        each\n      A Bypass_Group_Identifier that was previously signaled by the
        PLR\n      using the Extended ASSOCIATION object in the B-SFRR-Ready Extended\n
        \     Association ID.  One or more Bypass_Group_Identifiers MAY be\n      included.\n
        \  RSVP_HOP_Object:  Class 3, as defined by [RFC2205]\n      Replacement RSVP_HOP
        object to be applied to all LSPs associated\n      with each of the following
        Bypass_Group_Identifiers.  This\n      corresponds to C-Type = 1 for IPv4
        RSVP_HOP.\n   TIME_VALUES object:  Class 5, as defined by [RFC2205]\n      Replacement
        TIME_VALUES object to be applied to all LSPs\n      associated with each of
        the preceding Bypass_Group_Identifiers\n      after receiving the B-SFRR-Active
        Extended ASSOCIATION object.\n   IPv4 tunnel sender address:\n      The IPv4
        address that the PLR node sets to identify one or more\n      backup paths
        as described in Section 6.1.1 of [RFC4090].  This\n      address is applicable
        to all groups identified by any\n      Bypass_Group_Identifiers carried in
        the B-SFRR-Active Extended\n      Association ID.\n"
      title: 3.2.1.  IPv4 B-SFRR-Active Extended Association ID
    - contents:
      - "3.2.2.  IPv6 B-SFRR-Active Extended Association ID\n   The IPv6 Extended
        Association ID for the B-SFRR-Active Association\n   Type is carried inside
        the IPv6 Extended ASSOCIATION object and has\n   the following format:\n       0
        \                  1                   2                   3\n       0 1 2
        3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n      |            Num-BGIDs
        \         |          Reserved             |\n      |                       Bypass_Group_Identifier
        \                |\n      |                       Bypass_Group_Identifier
        \                |\n      //                      RSVP_HOP_Object                        //\n
        \     //                      TIME_VALUES                            //\n
        \     +                       IPv6 tunnel sender address              +\n
        \       Figure 4: The IPv6 Extended Association ID for B-SFRR-Active\n   Num-BGIDs:
        \ 16 bits\n      Number of Bypass_Group_Identifier fields.\n   Reserved:  16
        bits\n      Reserved for future use.\n   Bypass_Group_Identifier:  32 bits
        each\n      A Bypass_Group_Identifier that was previously signaled by the
        PLR\n      using the Extended ASSOCIATION object in the B-SFRR-Ready Extended\n
        \     Association ID.  One or more Bypass_Group_Identifiers MAY be\n      included.\n
        \  RSVP_HOP_Object:  Class 3, as defined by [RFC2205]\n      Replacement RSVP_HOP
        object to be applied to all LSPs associated\n      with each of the following
        Bypass_Group_Identifiers.  This\n      corresponds to C-Type = 2 for IPv6
        RSVP_HOP.\n   TIME_VALUES object:  Class 5, as defined by [RFC2205]\n      Replacement
        TIME_VALUES object to be applied to all LSPs\n      associated with each of
        the following Bypass_Group_Identifiers\n      after receiving the B-SFRR-Active
        Extended ASSOCIATION object.\n   IPv6 tunnel sender address:\n      The IPv6
        address that the PLR node sets to identify one or more\n      backup paths
        as described in Section 6.1.1 of [RFC4090].  This\n      address is applicable
        to all groups identified by any\n      Bypass_Group_Identifiers carried in
        the B-SFRR-Active Extended\n      Association ID.\n"
      title: 3.2.2.  IPv6 B-SFRR-Active Extended Association ID
    title: 3.2.  B-SFRR-Active Extended ASSOCIATION Object
  - contents:
    - "3.3.  Signaling Procedures prior to Failure\n   Before Summary FRR procedures
      can be used, a handshake MUST be\n   completed between the PLR and MP nodes.
      \ This handshake is performed\n   using the Extended ASSOCIATION object that
      carries the B-SFRR-Ready\n   Extended Association ID in both the RSVP Path and
      Resv messages of\n   the protected LSP.\n   The facility backup method introduced
      in [RFC4090] takes advantage of\n   MPLS label stacking (the PLR node imposes
      additional MPLS labels\n   post-FRR) to allow rerouting of protected traffic
      over the backup\n   path.  The backup path may have stricter MTU requirements;
      due to\n   label stacking at the PLR node, the protected traffic may exceed
      the\n   backup path MTU.  It is assumed that the operator engineers their\n
      \  network to allow rerouting of protected traffic and the additional\n   label
      stacking at the PLR node in order to not exceed the backup path\n   MTU.\n   When
      using the procedures defined in this document, the PLR node MUST\n   ensure
      that the bypass tunnel assignment can satisfy the protected\n   LSP MTU requirements
      post-FRR.  This prevents any packets from being\n   dropped due to exceeding
      the MTU size of the backup path after\n   traffic is rerouted onto the bypass
      tunnel post-failure.  Section 2.6\n   of [RFC3209] describes a mechanism to
      determine whether a node needs\n   to fragment or drop a packet when it exceeds
      the path MTU discovered\n   using RSVP signaling on the primary LSP path.  A
      PLR can leverage the\n   RSVP-discovered path MTU on the backup and primary
      LSP paths to\n   ensure that the MTU is not exceeded before or after rerouting
      the\n   protected traffic onto the bypass tunnel.\n"
    - contents:
      - "3.3.1.  PLR Signaling Procedure\n   The B-SFRR-Ready Extended ASSOCIATION
        object is added by each PLR\n   node in the RSVP Path message of the protected
        LSP to record the\n   bypass tunnel assignment.  This object is updated every
        time the PLR\n   node updates the bypass tunnel assignment.  This results
        in\n   triggering an RSVP Path change message.\n   Upon receiving an RSVP
        Resv message with a B-SFRR-Ready Extended\n   ASSOCIATION object, the PLR
        node checks to see if the expected\n   subobjects from the B-SFRR-Ready Extended
        Association ID are present.\n   If present, the PLR node determines if the
        MP has acknowledged the\n   current PLR node's assignment.\n   To be a valid
        acknowledgment, the received B-SFRR-Ready Extended\n   Association ID contents
        within the RSVP Resv message of the protected\n   LSP MUST match the latest
        B-SFRR-Ready Extended ASSOCIATION object\n   and Association ID contents that
        the PLR node had sent within the\n   RSVP Path message (with the exception
        of the MESSAGE_ID).\n   Note that when forwarding an RSVP Resv message upstream,
        the PLR node\n   SHOULD remove any/all B-SFRR-Ready Extended ASSOCIATION objects
        whose\n   Bypass_Source_IPv4_Address or Bypass_Source_IPv6_Address field\n
        \  matches any of the PLR node addresses.\n"
      title: 3.3.1.  PLR Signaling Procedure
    - contents:
      - "3.3.2.  MP Signaling Procedure\n   Upon receiving an RSVP Path message with
        a B-SFRR-Ready Extended\n   ASSOCIATION object, an MP node processes all (there
        may be multiple\n   PLR nodes for a single MP node) B-SFRR-Ready Extended
        ASSOCIATION\n   objects that have the MP node address as the bypass destination\n
        \  address in the Extended Association ID.\n   The MP node first ensures the
        existence of the bypass tunnel and that\n   the Bypass_Group_Identifier is
        not already FRR Active.  That is, an\n   LSP cannot join a group that is already
        FRR rerouted.\n   The MP node builds a mirrored Summary FRR group database
        per PLR node\n   by associating the Bypass_Source_IPv4_Address or\n   Bypass_Source_IPv6_Address
        that is carried in the IPv4 or IPv6\n   B-SFRR-Ready Extended Association
        IDs, respectively.\n   The MESSAGE_ID is extracted and recorded for the protected
        LSP Path\n   state.  The MP node signals a B-SFRR-Ready Extended ASSOCIATION\n
        \  object and Extended Association ID in the RSVP Resv message of the\n   protected
        LSP.  With the exception of the MESSAGE_ID objects, all\n   other fields of
        the received B-SFRR-Ready Extended ASSOCIATION object\n   in the RSVP Path
        message are copied into the B-SFRR-Ready Extended\n   ASSOCIATION object to
        be added in the Resv message.  The MESSAGE_ID\n   object is set according
        to [RFC2961] with the Flags cleared.\n   Note that an MP may receive more
        than one RSVP Path message with the\n   B-SFRR-Ready Extended ASSOCIATION
        object from one or more different\n   upstream PLR nodes.  In this case, the
        MP node is expected to save\n   all the received MESSAGE_IDs received from
        the different upstream PLR\n   nodes.  After a failure, the MP node determines
        and activates the\n   state(s) associated with the Bypass_Group_Identifier(s)
        received in\n   the RSVP Path message containing the B-SFRR-Active Extended\n
        \  ASSOCIATION object that is signaled over the bypass tunnel from the\n   PLR
        node, as described in Section 3.4.\n   When forwarding an RSVP Path message
        downstream, the MP node SHOULD\n   remove any/all B-SFRR-Ready Extended ASSOCIATION
        objects whose\n   Bypass_Destination_IPv4_Address or Bypass_Destination_IPv6_Address\n
        \  field matches any of the MP node addresses.\n"
      title: 3.3.2.  MP Signaling Procedure
    title: 3.3.  Signaling Procedures prior to Failure
  - contents:
    - "3.4.  Signaling Procedures Post-Failure\n   Upon detection of a fault (egress
      link or node failure), the PLR node\n   will first perform the object modification
      procedures described by\n   Section 6.4.3 of [RFC4090] for all affected protected
      LSPs.  For the\n   Summary FRR-capable LSPs that are assigned to the same bypass
      tunnel,\n   a common RSVP_HOP and SENDER_TEMPLATE MUST be used.\n   The PLR
      node MUST signal non-Summary FRR-capable LSPs over the bypass\n   tunnel before
      signaling the Summary FRR-capable LSPs.  This is needed\n   to allow for the
      case where the PLR node recently changed a bypass\n   assignment and the MP
      has not processed the change yet.\n   The B-SFRR-Active Extended ASSOCIATION
      object is sent within the RSVP\n   Path message of the bypass tunnel to reroute
      the RSVP state of\n   Summary FRR-capable LSPs.\n"
    - contents:
      - "3.4.1.  PLR Signaling Procedure\n   After a failure event, when using the
        Summary FRR path signaling\n   procedures, an individual RSVP Path message
        is not signaled for each\n   Summary FRR LSP.  Instead, to reroute Summary
        FRR LSPs via the bypass\n   tunnel, the PLR node adds the B-SFRR-Active Extended
        ASSOCIATION\n   object in the RSVP Path message of the RSVP session of the
        bypass\n   tunnel.\n   The RSVP_HOP_Object field in the B-SFRR-Active Extended
        Association\n   ID is set to a common object that will be applied to all LSPs\n
        \  associated with the Bypass_Group_Identifiers that are carried in the\n
        \  B-SFRR-Active Extended Association ID.\n   The PLR node adds the Bypass_Group_Identifier(s)
        of any group or\n   groups that have common group attributes, including the
        tunnel sender\n   address, to the same B-SFRR-Active Extended Association
        ID.  Note\n   that multiple ASSOCIATION objects, each carrying a B-SFRR-Active\n
        \  Extended Association ID, can be carried within a single RSVP Path\n   message
        of the bypass tunnel and sent towards the MP as described in\n   [RFC6780].\n
        \  Any previously received MESSAGE_IDs from the MP are activated on the\n
        \  PLR.  As a result, the PLR starts sending Srefresh messages\n   containing
        the specific Message_Identifier(s) for the states to be\n   refreshed.\n"
      title: 3.4.1.  PLR Signaling Procedure
    - contents:
      - "3.4.2.  MP Signaling Procedure\n   Upon receiving an RSVP Path message with
        a B-SFRR-Active Extended\n   ASSOCIATION object, the MP performs normal merge
        point processing for\n   each protected LSP associated with each Bypass_Group_Identifier,
        as\n   if it had received an individual RSVP Path message for that LSP.\n
        \  For each Summary FRR-capable LSP that is being merged, the MP first\n   modifies
        the Path state as follows:\n   1.  The RSVP_HOP object is copied from the
        RSVP_HOP_Object field in\n       the B-SFRR-Active Extended Association ID.\n
        \  2.  The TIME_VALUES object is copied from the TIME_VALUES field in\n       the
        B-SFRR-Active Extended Association ID.  The TIME_VALUES\n       object contains
        the refresh period of the PLR node, and it is\n       used to generate periodic
        refreshes.  The TIME_VALUES object\n       carried in the B-SFRR-Active Extended
        Association ID matches the\n       one that would have been exchanged in a
        full Path message sent to\n       the MP after the failure when no Summary
        FRR procedures are used.\n   3.  The tunnel sender address field in the SENDER_TEMPLATE
        object is\n       copied from the tunnel sender address field of the B-SFRR-Active\n
        \      Extended Association ID.\n   4.  The Explicit Route Object (ERO) is
        modified as per Section 6.4.4\n       of [RFC4090].  Once the above modifications
        are completed, the MP\n       node performs merge processing as per [RFC4090].\n
        \  5.  Any previously received MESSAGE_IDs from the PLR node are\n       activated.
        \ The MP is allowed to send Srefresh messages\n       containing the specific
        Message_Identifier(s) for the states to\n       be refreshed.\n   A failure
        during merge processing of any individual rerouted LSP MUST\n   result in
        an RSVP PathErr message.\n   An individual RSVP Resv message for each successfully
        merged Summary\n   FRR LSP is not signaled.  The MP node SHOULD immediately
        use summary\n   refresh procedures to refresh the protected LSP Resv state.\n"
      title: 3.4.2.  MP Signaling Procedure
    title: 3.4.  Signaling Procedures Post-Failure
  - contents:
    - "3.5.  Refreshing Summary FRR Active LSPs\n   The refreshing of Summary FRR
      Active LSPs is performed using summary\n   refresh as defined by [RFC2961].\n"
    title: 3.5.  Refreshing Summary FRR Active LSPs
  title: 3.  Extensions for Summary FRR Signaling
- contents:
  - "4.  Backwards Compatibility\n   The (Extended) ASSOCIATION object is defined
    in [RFC4872] with a\n   class number in the form 11bbbbbb, where b=0 or 1.  This
    ensures\n   compatibility with nodes that do not provide support, in accordance\n
    \  with the procedures specified in Section 3.10 of [RFC2205] regarding\n   unknown-class
    objects.  Such nodes will ignore the object and forward\n   it without any modification.\n"
  title: 4.  Backwards Compatibility
- contents:
  - "5.  Security Considerations\n   This document updates an existing RSVP object
    -- the Extended\n   ASSOCIATION object as described in Section 3.  Thus, in the
    event of\n   the interception of a signaling message, slightly more information\n
    \  could be deduced about the state of the network than was previously\n   the
    case.\n   When using the procedures defined in this document, FRR signaling for\n
    \  rerouting of the states of one or more protected LSPs onto the bypass\n   tunnel
    can be performed on a group of protected LSPs with a single\n   RSVP message.
    \ This allows an intruder to potentially impact and\n   manipulate a set of protected
    LSPs that are assigned to the same\n   bypass tunnel group.  Note that such an
    attack is possible even\n   without the mechanisms defined in this document, albeit
    at an extra\n   cost resulting from the excessive per-LSP signaling that will
    occur.\n   Existing mechanisms for maintaining the integrity and authenticity
    of\n   RSVP messages [RFC2747] can be applied.  Other considerations\n   mentioned
    in [RFC4090] and [RFC5920] also apply.\n"
  title: 5.  Security Considerations
- contents:
  - "6.  IANA Considerations\n   IANA maintains the \"Generalized Multi-Protocol Label
    Switching\n   (GMPLS) Signaling Parameters\" registry.  The \"Association Type\"\n
    \  subregistry is included in this registry.\n   This registry has been updated
    with the new Association Types for the\n   Extended ASSOCIATION objects defined
    in this document as follows:\n            | Value | Name                      |
    Reference   |\n            | 5     | B-SFRR-Ready Association  | Section 3.1 |\n
    \           | 6     | B-SFRR-Active Association | Section 3.2 |\n                  Table
    3: New Extended ASSOCIATION Object\n                             Association Types\n"
  title: 6.  IANA Considerations
- contents:
  - '7.  References

    '
  - contents:
    - "7.1.  Normative References\n   [RFC2119]  Bradner, S., \"Key words for use
      in RFCs to Indicate\n              Requirement Levels\", BCP 14, RFC 2119,\n
      \             DOI 10.17487/RFC2119, March 1997,\n              <https://www.rfc-editor.org/info/rfc2119>.\n
      \  [RFC2205]  Braden, R., Ed., Zhang, L., Berson, S., Herzog, S., and S.\n              Jamin,
      \"Resource ReSerVation Protocol (RSVP) -- Version 1\n              Functional
      Specification\", RFC 2205, DOI 10.17487/RFC2205,\n              September 1997,
      <https://www.rfc-editor.org/info/rfc2205>.\n   [RFC2747]  Baker, F., Lindell,
      B., and M. Talwar, \"RSVP Cryptographic\n              Authentication\", RFC
      2747, DOI 10.17487/RFC2747, January\n              2000, <https://www.rfc-editor.org/info/rfc2747>.\n
      \  [RFC2961]  Berger, L., Gan, D., Swallow, G., Pan, P., Tommasi, F.,\n              and
      S. Molendini, \"RSVP Refresh Overhead Reduction\n              Extensions\",
      RFC 2961, DOI 10.17487/RFC2961, April 2001,\n              <https://www.rfc-editor.org/info/rfc2961>.\n
      \  [RFC3209]  Awduche, D., Berger, L., Gan, D., Li, T., Srinivasan, V.,\n              and
      G. Swallow, \"RSVP-TE: Extensions to RSVP for LSP\n              Tunnels\",
      RFC 3209, DOI 10.17487/RFC3209, December 2001,\n              <https://www.rfc-editor.org/info/rfc3209>.\n
      \  [RFC4090]  Pan, P., Ed., Swallow, G., Ed., and A. Atlas, Ed., \"Fast\n              Reroute
      Extensions to RSVP-TE for LSP Tunnels\", RFC 4090,\n              DOI 10.17487/RFC4090,
      May 2005,\n              <https://www.rfc-editor.org/info/rfc4090>.\n   [RFC4872]
      \ Lang, J.P., Ed., Rekhter, Y., Ed., and D. Papadimitriou,\n              Ed.,
      \"RSVP-TE Extensions in Support of End-to-End\n              Generalized Multi-Protocol
      Label Switching (GMPLS)\n              Recovery\", RFC 4872, DOI 10.17487/RFC4872,
      May 2007,\n              <https://www.rfc-editor.org/info/rfc4872>.\n   [RFC6780]
      \ Berger, L., Le Faucheur, F., and A. Narayanan, \"RSVP\n              ASSOCIATION
      Object Extensions\", RFC 6780,\n              DOI 10.17487/RFC6780, October
      2012,\n              <https://www.rfc-editor.org/info/rfc6780>.\n   [RFC8174]
      \ Leiba, B., \"Ambiguity of Uppercase vs Lowercase in RFC\n              2119
      Key Words\", BCP 14, RFC 8174, DOI 10.17487/RFC8174,\n              May 2017,
      <https://www.rfc-editor.org/info/rfc8174>.\n"
    title: 7.1.  Normative References
  - contents:
    - "7.2.  Informative References\n   [RFC5920]  Fang, L., Ed., \"Security Framework
      for MPLS and GMPLS\n              Networks\", RFC 5920, DOI 10.17487/RFC5920,
      July 2010,\n              <https://www.rfc-editor.org/info/rfc5920>.\n"
    title: 7.2.  Informative References
  title: 7.  References
- contents:
  - "Acknowledgments\n   The authors would like to thank Alexander Okonnikov, Loa
    Andersson,\n   Lou Berger, Eric Osborne, Gregory Mirsky, and Mach Chen for reviewing\n
    \  and providing valuable comments on this document.\n"
  title: Acknowledgments
- contents:
  - "Contributors\n   Nicholas Tan\n   Arista Networks\n   Email: ntan@arista.com\n"
  title: Contributors
- contents:
  - "Authors' Addresses\n   Mike Taillon\n   Cisco Systems, Inc.\n   Email: mtaillon@cisco.com\n
    \  Tarek Saad (editor)\n   Juniper Networks\n   Email: tsaad@juniper.net\n   Rakesh
    Gandhi\n   Cisco Systems, Inc.\n   Email: rgandhi@cisco.com\n   Abhishek Deshmukh\n
    \  Juniper Networks\n   Email: adeshmukh@juniper.net\n   Markus Jork\n   128 Technology\n
    \  Email: mjork@128technology.com\n   Vishnu Pavan Beeram\n"
  title: Authors' Addresses
