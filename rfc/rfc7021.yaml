- title: __initial_text__
  contents:
  - ''
- title: Independent Submission                                    C. Donley, Ed.
  contents:
  - "Independent Submission                                    C. Donley, Ed.\n  \
    \ Assessing the Impact of Carrier-Grade NAT on Network Applications\n"
- title: Abstract
  contents:
  - "Abstract\n   NAT444 is an IPv4 extension technology being considered by Service\n\
    \   Providers as a means to continue offering IPv4 service to customers\n   while\
    \ transitioning to IPv6.  This technology adds an extra Carrier-\n   Grade NAT\
    \ (CGN) in the Service Provider network, often resulting in\n   two NATs.  CableLabs,\
    \ Time Warner Cable, and Rogers Communications\n   independently tested the impacts\
    \ of NAT444 on many popular Internet\n   services using a variety of test scenarios,\
    \ network topologies, and\n   vendor equipment.  This document identifies areas\
    \ where adding a\n   second layer of NAT disrupts the communication channel for\
    \ common\n   Internet applications.  This document was updated to include the\n\
    \   Dual-Stack Lite (DS-Lite) impacts also.\n"
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This document is not an Internet Standards Track specification;\
    \ it is\n   published for informational purposes.\n   This is a contribution to\
    \ the RFC Series, independently of any other\n   RFC stream.  The RFC Editor has\
    \ chosen to publish this document at\n   its discretion and makes no statement\
    \ about its value for\n   implementation or deployment.  Documents approved for\
    \ publication by\n   the RFC Editor are not a candidate for any level of Internet\n\
    \   Standard; see Section 2 of RFC 5741.\n   Information about the current status\
    \ of this document, any errata,\n   and how to provide feedback on it may be obtained\
    \ at\n   http://www.rfc-editor.org/info/rfc7021.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (c) 2013 IETF Trust and the persons identified\
    \ as the\n   document authors.  All rights reserved.\n   This document is subject\
    \ to BCP 78 and the IETF Trust's Legal\n   Provisions Relating to IETF Documents\n\
    \   (http://trustee.ietf.org/license-info) in effect on the date of\n   publication\
    \ of this document.  Please review these documents\n   carefully, as they describe\
    \ your rights and restrictions with respect\n   to this document.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1.  Introduction . . . . . . . . . . . . . . . . . . .\
    \ . . . . . .  4\n   2.  Testing Scope  . . . . . . . . . . . . . . . . . . .\
    \ . . . . .  5\n     2.1.  Test Cases . . . . . . . . . . . . . . . . . . . .\
    \ . . . .  5\n       2.1.1.  Case 1: Single Client, Single Home Network, Single\n\
    \               Service Provider . . . . . . . . . . . . . . . . . . .  5\n  \
    \     2.1.2.  Case 2: Two Clients, Single Home Network, Single\n             \
    \  Service Provider . . . . . . . . . . . . . . . . . . .  6\n       2.1.3.  Case\
    \ 3: Two Clients, Two Home Networks, Single\n               Service Provider .\
    \ . . . . . . . . . . . . . . . . . .  7\n       2.1.4.  Case 4: Two Clients,\
    \ Two Home Networks, Two\n               Service Providers Cross ISP  . . . .\
    \ . . . . . . . . .  8\n     2.2.  General Test Environment . . . . . . . . .\
    \ . . . . . . . .  8\n     2.3.  Test Metrics . . . . . . . . . . . . . . . .\
    \ . . . . . . . 10\n     2.4.  Test Scenarios Executed  . . . . . . . . . . .\
    \ . . . . . . 11\n     2.5.  General Test Methodologies . . . . . . . . . . .\
    \ . . . . . 11\n   3.  Observed CGN Impacts . . . . . . . . . . . . . . . . .\
    \ . . . . 12\n     3.1.  Dropped Services . . . . . . . . . . . . . . . . . .\
    \ . . . 13\n     3.2.  Performance Impacted Services  . . . . . . . . . . . .\
    \ . . 14\n     3.3.  Improvements since 2010  . . . . . . . . . . . . . . . .\
    \ . 15\n     3.4.  Additional CGN Challenges  . . . . . . . . . . . . . . . .\
    \ 16\n   4.  2011 Summary of Results  . . . . . . . . . . . . . . . . . . . 17\n\
    \     4.1.  NAT444 . . . . . . . . . . . . . . . . . . . . . . . . . . 17\n  \
    \   4.2.  DS-Lite  . . . . . . . . . . . . . . . . . . . . . . . . . 19\n   5.\
    \  2010 Summary of Results  . . . . . . . . . . . . . . . . . . . 22\n     5.1.\
    \  Case 1: Single Client, Single Home Network, Single\n           Service Provider\
    \ . . . . . . . . . . . . . . . . . . . . . 22\n     5.2.  Case 2: Two Clients,\
    \ Single Home Network, Single\n           Service Provider . . . . . . . . . .\
    \ . . . . . . . . . . . 24\n     5.3.  Case 3: Two Clients, Two Home Networks,\
    \ Single Service\n           Provider . . . . . . . . . . . . . . . . . . . .\
    \ . . . . . 24\n     5.4.  Case 4: Two Clients, Two Home Networks, Two Service\n\
    \           Providers Cross ISP  . . . . . . . . . . . . . . . . . . . 25\n  \
    \ 6.  CGN Mitigation . . . . . . . . . . . . . . . . . . . . . . . . 25\n   7.\
    \  Security Considerations  . . . . . . . . . . . . . . . . . . . 26\n   8.  Informative\
    \ References . . . . . . . . . . . . . . . . . . . . 26\n   Appendix A.  Acknowledgements\
    \  . . . . . . . . . . . . . . . . . . 28\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   IANA, APNIC, and RIPE NCC exhausted their IPv4 address space\
    \ in 2011-\n   2012.  Current projections suggest that ARIN may exhaust its free\n\
    \   pool of IPv4 addresses in 2013.  IPv6 is the solution to the IPv4\n   depletion\
    \ problem; however, the transition to IPv6 will not be\n   completed prior to\
    \ IPv4 exhaustion.  NAT444 [NAT444] and Dual-Stack\n   Lite [RFC6333] are transition\
    \ mechanisms that will allow Service\n   Providers to multiplex customers behind\
    \ a single IPv4 address, which\n   will allow many legacy devices and applications\
    \ some IPv4\n   connectivity.  While both NAT444 and Dual-Stack Lite provide basic\n\
    \   IPv4 connectivity, they impact a number of advanced applications.\n   This\
    \ document describes suboptimal behaviors of NAT444 and DS-Lite\n   found in our\
    \ test environments.\n   From July through August 2010, CableLabs, Time Warner\
    \ Cable, and\n   Rogers Communications tested the impact of NAT444 on common\n\
    \   applications using Carrier-Grade NAT (CGN) devices.  This testing was\n  \
    \ focused on a wide array of real-time usage scenarios designed to\n   evaluate\
    \ the user experience over the public Internet using NAT444 in\n   both single\
    \ and dual ISP environments.  The purpose of this testing\n   was to identify\
    \ applications where the technology either breaks or\n   significantly impacts\
    \ the user experience.  The testing revealed that\n   applications, such as video\
    \ streaming, video gaming, and peer-to-peer\n   file sharing, are impacted by\
    \ NAT444.\n   From June through October 2011, CableLabs conducted additional\n\
    \   testing of CGN technologies, including both NAT444 and Dual-Stack\n   Lite.\
    \  The testing focused on working with several vendors including\n   A10, Alcatel-Lucent,\
    \ and Juniper to optimize the performance of those\n   applications that experienced\
    \ negative impacts during earlier CGN\n   testing and to expand the testing to\
    \ DS-Lite.\n   Applications that were tested included, but were not necessarily\n\
    \   limited to, the following:\n   1.  Video/Audio streaming, e.g., Silverlight-based\
    \ applications,\n       Netflix, YouTube, Pandora 2\n   2.  Peer-to-peer applications,\
    \ e.g., video gaming, uTorrent\n   3.  Online gaming, e.g., Xbox\n   4.  Large\
    \ file transfers using File Transfer Protocol (FTP)\n   5.  Session Initiation\
    \ Protocol (SIP) calls via X-Lite, Skype\n   6.  Social Networking, e.g., Facebook,\
    \ Webkinz\n   7.  Video chat, e.g., Skype\n   8.  Web conferencing\n"
- title: 2.  Testing Scope
  contents:
  - '2.  Testing Scope

    '
- title: 2.1.  Test Cases
  contents:
  - "2.1.  Test Cases\n   The diagrams below depict the general network architecture\
    \ used for\n   testing NAT444 and Dual-Stack Lite coexistence technologies at\n\
    \   CableLabs.\n"
- title: '2.1.1.  Case 1: Single Client, Single Home Network, Single Service'
  contents:
  - "2.1.1.  Case 1: Single Client, Single Home Network, Single Service\n        Provider\n\
    \                                  ^^^^^^^^\n                                \
    \ (Internet)\n                                  vvvvvvvv\n                   \
    \                  |\n                                     |\n               \
    \               +---------------+\n                              |      CGN  \
    \    |\n                              +---------------+\n                    \
    \               |\n                              +---------------+\n         \
    \                     |      CMTS     |\n                              +---------------+\n\
    \                                    |\n                              +---------------+\n\
    \                              |      CM       |\n                           \
    \   +---------------+\n                                    |\n               \
    \              +-------------------------+\n                             |   \
    \   Home Router        |\n                             +-------------------------+\n\
    \                                    |\n                             +---------------+\n\
    \                             |      Client   |\n                            \
    \ +---------------+\n   This is a typical case for a client accessing content\
    \ on the\n   Internet.  For this case, we focused on basic web browsing, voice\
    \ and\n   video chat, instant messaging, video streaming (using YouTube, Google\n\
    \   Videos, etc.), torrent leeching and seeding, FTP, and gaming.\n"
- title: '2.1.2.  Case 2: Two Clients, Single Home Network, Single Service'
  contents:
  - "2.1.2.  Case 2: Two Clients, Single Home Network, Single Service\n        Provider\n\
    \                                  ^^^^^^^^\n                                \
    \ (Internet)\n                                  vvvvvvvv\n                   \
    \                 |\n                                    |\n                 \
    \            +---------------+\n                             |      CGN      |\n\
    \                             +---------------+\n                            \
    \        |\n                             +---------------+\n                 \
    \            |      CMTS     |\n                             +---------------+\n\
    \                                   |\n                             +---------------+\n\
    \                             |      CM       |\n                            \
    \ +---------------+\n                                   |\n                  \
    \          +-------------------------+\n                            |      Home\
    \ Router        |\n                            +-------------------------+\n \
    \                                  |                |\n                     +---------------+\
    \   +---------------+\n                     |      Client   |   |      Client\
    \   |\n                     +---------------+   +---------------+\n   This is\
    \ similar to Case 1, except that two clients are behind the\n   same Large-Scale\
    \ NAT (LSN) and in the same home network.  This test\n   case was conducted to\
    \ observe any change in speed in basic web\n   browsing and video streaming.\n"
- title: '2.1.3.  Case 3: Two Clients, Two Home Networks, Single Service Provider'
  contents:
  - "2.1.3.  Case 3: Two Clients, Two Home Networks, Single Service Provider\n   \
    \                              ^^^^^^^^\n                                (Internet)\n\
    \                                 vvvvvvvv\n                                 \
    \   |\n                                    |\n                             +---------------+\n\
    \                             |      CGN      |\n                            \
    \ +---------------+\n                                     |\n                \
    \             +---------------+\n                             |      CMTS    \
    \ |\n                             +---------------+\n                        \
    \             |\n           ----------------------------------------\n       \
    \                |                     |\n           +---------------+       \
    \  +---------------+\n           |      CM       |         |      CM       |\n\
    \           +---------------+         +---------------+\n                   |\
    \                     |\n   +-------------------------+ +-------------------------+\n\
    \   |      Home Router        | |      Home Router        |\n   +-------------------------+\
    \ +-------------------------+\n                   |                     |\n  \
    \   +---------------+         +---------------+\n     |      Client   |      \
    \   |      Client   |\n     +---------------+         +---------------+\n   In\
    \ this scenario, the two clients are under the same LSN but behind\n   two different\
    \ gateways.  This simulates connectivity between two\n   residential subscribers\
    \ on the same ISP.  We tested peer-to-peer\n   applications.\n"
- title: '2.1.4.  Case 4: Two Clients, Two Home Networks, Two Service Providers'
  contents:
  - "2.1.4.  Case 4: Two Clients, Two Home Networks, Two Service Providers\n     \
    \   Cross ISP\n            ^^^^^^^^                    ^^^^^^^^\n           (\
    \ ISP A )                   ( ISP B  )\n            Vvvvvvvv                 \
    \   vvvvvvvv\n             |                           |\n           +---------------+\
    \         +---------------+\n           |      LSN      |         |      LSN \
    \     |\n           +---------------+         +---------------+\n            \
    \   |                         |\n           +---------------+         +---------------+\n\
    \           |      CMTS     |         |      CMTS     |\n           +---------------+\
    \         +---------------+\n              |                          |\n    \
    \       +---------------+         +---------------+\n           |      CM    \
    \   |         |      CM       |\n           +---------------+         +---------------+\n\
    \                 |                         |\n   +-------------------------+\
    \ +-------------------------+\n   |      Home Router        | |      Home Router\
    \        |\n   +-------------------------+ +-------------------------+\n     \
    \             |                        |\n     +---------------+         +---------------+\n\
    \     |      Client   |         |      Client   |\n     +---------------+    \
    \     +---------------+\n   This test case is similar to Case 1 but with the addition\
    \ of another\n   identical ISP.  This topology allows us to test traffic between\
    \ two\n   residential customers connected across the Internet.  We focused on\n\
    \   client-to-client applications such as IM and peer-to-peer.\n"
- title: 2.2.  General Test Environment
  contents:
  - "2.2.  General Test Environment\n   The lab environment was intended to emulate\
    \ multiple Service Provider\n   networks with a CGN deployed and with connectivity\
    \ to the public IPv4\n   or IPv6 Internet (as dictated by the coexistence technology\
    \ under\n   test).  This was accomplished by configuring a CGN behind multiple\n\
    \   cable modem termination systems (CMTSs) and setting up multiple home\n   networks\
    \ for each ISP.  Testing involved sending traffic to and from\n   the public Internet\
    \ in both single and dual ISP environments, using\n   both single and multiple\
    \ home networks.  The following equipment was\n   used for testing:\n   o  CGN\n\
    \   o  CMTS\n   o  Cable Modem (CM)\n   o  IP sniffer\n   o  RF (radio frequency)\
    \ sniffer\n   o  Metrics tools (for network performance)\n   o  CPE (Customer\
    \ Premises Equipment) gateway devices\n   o  Laptop or desktop computers (multiple\
    \ OSs used)\n   o  Gaming consoles\n   o  iPad or tablet devices\n   o  other\
    \ Customer Edge (CE) equipment, e.g., Blu-ray players\n      supporting miscellaneous\
    \ applications\n   One or more CPE gateway devices were configured in the home\
    \ network.\n   One or more host devices behind the gateways were also configured\
    \ in\n   order to test conditions, such as multiple users on multiple home\n \
    \  networks in the CGN architecture, both in single and dual ISP\n   environments.\n\
    \   The scope of testing was honed down to the specific types of\n   applications\
    \ and network conditions that demonstrated a high\n   probability of diminishing\
    \ user experience based on prior testing.\n   The following use cases were tested:\n\
    \   1.   Video streaming over Netflix\n   2.   Video streaming over YouTube\n\
    \   3.   Video streaming over Joost\n   4.   Online gaming with Xbox (one user)\n\
    \   5.   Peer-to-peer gaming with Xbox (two users)\n   6.   BitTorrent/uTorrent\
    \ file seeding/leeching\n   7.   Pandora Internet Radio\n   8.   FTP server\n\
    \   9.   Web conferencing GoToMeeting (GTM), WebEx\n   10.  Social Networking\
    \ -- Facebook, Webkinz (chat, YouTube, file\n        transfer)\n   11.  Internet\
    \ Archive -- Video and Audio streaming; large file\n        downloads\n   12.\
    \  Video streaming using iClips\n   13.  SIP Calls -- X-Lite, Skype, PJSIP\n \
    \  14.  Microsoft Smooth Streaming (Silverlight)\n   15.  Video chat -- Skype,\
    \ ooVoo\n   The following CPE devices were used for testing these applications\
    \ on\n   one or more home networks:\n   1.  Windows 7, XP, and Vista-based laptops\n\
    \   2.  Mac OS X laptop\n   3.  iPad\n   4.  Xbox gaming consoles\n   5.  iPhone\
    \ and Android smartphones\n   6.  LG Blu-ray player (test applications such as\
    \ Netflix, Vudu, etc.)\n   7.  Home routers -- Netgear, Linksys, D-Link, Cisco,\
    \ Apple\n"
- title: 2.3.  Test Metrics
  contents:
  - "2.3.  Test Metrics\n   Metrics data that were collected during the course of\
    \ testing were\n   related to throughput, latency, and jitter.  These metrics\
    \ were\n   evaluated under three conditions:\n   1.  Initial finding on the CGN\
    \ configuration used for testing\n   2.  Retest of the same test scenario with\
    \ the CGN removed from the\n       network\n   3.  Retest with a new configuration\
    \ (optimized) on the CGN (when\n       possible)\n   In our testing, we found\
    \ only slight differences with respect to\n   latency or jitter when the CGN was\
    \ in the network versus when it was\n   not present in the network.  It should\
    \ be noted that we did not\n   conduct any performance testing and metrics gathered\
    \ were limited to\n   single session scenarios.  Also, bandwidth was not restricted\
    \ on the\n   Data Over Cable Service Interface Specification (DOCSIS) network.\n\
    \   Simulated homes shared a single DOCSIS upstream and downstream\n   channel.\
    \ (In the following table, \"us\" stands for microsecond.)\n   +---------+---------+---------+---------+-----------------+---------+\n\
    \   | Case    | Avg     | Min     | Max     | [RFC4689]       | Max     |\n  \
    \ |         | Latency | Latency | Latency | Absolute Avg    | Jitter  |\n   |\
    \         |         |         |         | Jitter          |         |\n   +---------+---------+---------+---------+-----------------+---------+\n\
    \   | With    | 240.32  | 233.77  | 428.40  | 1.86 us         | 191.22  |\n  \
    \ | CGN     | us      | us      | us      |                 | us      |\n   +---------+---------+---------+---------+-----------------+---------+\n\
    \   | Without | 211.88  | 190.39  | 402.69  | 0.07 us         | 176.16  |\n  \
    \ | CGN     | us      | us      | us      |                 | us      |\n   +---------+---------+---------+---------+-----------------+---------+\n\
    \                              CGN Performance\n   Note: Performance testing as\
    \ defined by CableLabs includes load\n   testing, induction of impairments on\
    \ the network, etc.  This type of\n   testing was out of scope for CGN testing.\n"
- title: 2.4.  Test Scenarios Executed
  contents:
  - "2.4.  Test Scenarios Executed\n   The following test scenarios were executed\
    \ using the aforementioned\n   applications and test equipment:\n   1.  Single\
    \ ISP, Single Home Network, with Single User\n   2.  Single ISP, Two Home Networks,\
    \ with One User on Each Network\n   3.  Dual ISPs, Single Home Network, with Single\
    \ User on Each ISP\n   4.  Dual ISPs, One Home Network, with One User connected\
    \ to ISP-A;\n       Two Home Networks, with One User on Each connected to ISP-B\n\
    \   These test scenarios were executed for both NAT444 and DS-Lite\n   technologies.\n"
- title: 2.5.  General Test Methodologies
  contents:
  - "2.5.  General Test Methodologies\n   The CGN was configured for the optimal setting\
    \ for the specific test\n   being executed for NAT444 or DS-Lite.  Individual\
    \ vendors provided\n   validation of the configuration used for the coexistence\
    \ technology\n   under test prior to the start of testing.  Some NAT444 testing\
    \ used\n   private [RFC1918] IPv4 space between the CGN and CPE router; other\n\
    \   tests used public (non-[RFC1918]) IPv4 space between the CGN and CPE\n   router.\
    \  With the exception of 6to4 [RFC3056] traffic, we observed no\n   difference\
    \ in test results whether private or public address space\n   was used. 6to4 failed\
    \ when public space was used between the CGN and\n   the CPE router was public,\
    \ but CPE routers did not initiate 6to4 when\n   private space was used.\n   CPE\
    \ gateways and client devices were configured with IPv4 or IPv6\n   addresses\
    \ using DHCP or manual configuration, as required by each of\n   the devices used\
    \ in the test.\n   All devices were brought to operational state.  Connectivity\
    \ of CPE\n   devices to provider network and public Internet was verified prior\
    \ to\n   the start of each test.\n   IP sniffers and metrics tools were configured\
    \ as required before\n   starting tests.  IP capture and metrics data was collected\
    \ for all\n   failed test scenarios.  Sniffing was configured behind the home\n\
    \   routers, north and south of the CMTS, and north and south of the CGN.\n  \
    \ The test technician executed test scenarios listed above, for single\n   and\
    \ dual ISP environments, testing multiple users on multiple home\n   networks,\
    \ using the applications described above where applicable to\n   the each specific\
    \ test scenario.  Results and checklists were\n   compiled for all tests executed\
    \ and for each combination of devices\n   tested.\n"
- title: 3.  Observed CGN Impacts
  contents:
  - "3.  Observed CGN Impacts\n   CGN testing revealed that basic services such as\
    \ email and web\n   browsing worked normally and as expected.  However, there\
    \ were some\n   service-affecting issues noted for applications that fall into\
    \ two\n   categories: dropped service and performance impacted service.  In\n\
    \   addition, for some specific applications in which the performance was\n  \
    \ impacted, throughput, latency, and jitter measurements were taken.\n   We observed\
    \ that performance often differs from vendor to vendor and\n   from test environment\
    \ to test environment, and the results are\n   somewhat difficult to predict.\
    \  So as to not become a comparison\n   between different vendor implementations,\
    \ these results are presented\n   in summary form.  When issues were identified,\
    \ we worked with the\n   vendors involved to confirm the specific issues and explore\n\
    \   workarounds.  Except where noted, impacts to NAT444 and DS-Lite were\n   similar.\n\
    \   In 2010 testing, we identified that IPv6 transition technologies such\n  \
    \ as 6to4 [RFC3056] and Teredo [RFC4380] fail outright or are subject\n   to severe\
    \ service degradation.  We did not repeat transition\n   technology testing in\
    \ 2011.\n   Note: While email and web browsing operated as expected within our\n\
    \   environment, there have been reports that anti-spam/anti-abuse\n   measures\
    \ limiting the number of connections from a single address can\n   cause problems\
    \ in a CGN environment by improperly interpreting\n   address sharing as too many\
    \ connections from a single device.  Care\n   should be taken when deploying CGNs\
    \ to mitigate the impact of address\n   sharing when configuring anti-spam/anti-abuse\
    \ measures.  See Section\n   3.4.\n"
- title: 3.1.  Dropped Services
  contents:
  - "3.1.  Dropped Services\n   Several peer-to-peer applications, specifically peer-to-peer\
    \ gaming\n   using Xbox and peer-to-peer SIP calls using the PJSIP client, failed\n\
    \   in both the NAT444 and Dual-Stack Lite environments.  Many CGN\n   devices\
    \ use \"full cone\" NAT so that once the CGN maps a port for\n   outbound services,\
    \ it will accept incoming connections to that port.\n   However, some applications\
    \ did not first send outgoing traffic and\n   hence did not open an incoming port\
    \ through the CGN.  Other\n   applications try to open a particular fixed port\
    \ through the CGN;\n   while service will work for a single subscriber behind\
    \ the CGN, it\n   fails when multiple subscribers try to use that port.\n   PJSIP\
    \ and other SIP software worked when clients used a registration\n   server to\
    \ initiate calls, provided that the client inside the CGN\n   initiated the traffic\
    \ first and that only one SIP user was active\n   behind a single IPv4 address\
    \ at any given time.  However, in our\n   testing, we observed that when making\
    \ a direct client-to-client SIP\n   call across two home networks on a single\
    \ ISP, or when calling from a\n   single home network across dual ISPs, calls\
    \ could neither be\n   initiated nor received.\n   In the case of peer-to-peer\
    \ gaming between two Xbox 360 users in\n   different home networks on the same\
    \ ISP, the game could not be\n   connected between the two users.  Both users\
    \ shared an outside IP\n   address and tried to connect to the same port, causing\
    \ a connection\n   failure.  There are some interesting nuances to this problem.\
    \  In the\n   case where two users are in the same home network and the scenario\
    \ is\n   through a single ISP, when the Xbox tries to register with the Xbox\n\
    \   server, the server sees that both Xboxes are coming through the same\n   public\
    \ IP address and directs the devices to connect using their\n   internal IP addresses.\
    \  So, the connection ultimately gets\n   established directly between both Xboxes\
    \ via the home gateway, rather\n   than the Xbox server.  In the case where there\
    \ are two Xbox users on\n   two different home networks using a single ISP and\
    \ the CGN is\n   configured with only one public IPv4 address, this scenario will\
    \ not\n   work because the route between the two users cannot be determined.\n\
    \   However, if the CGN is configured with two public NAT IP addresses,\n   this\
    \ scenario will work because now there is a unique IP address with\n   which to\
    \ communicate.  This is not an ideal solution, however,\n   because it means that\
    \ there is a one-to-one relationship between IP\n   addresses in the public NAT\
    \ and the number of Xbox users on each\n   network.\n   Update: in December 2011,\
    \ Microsoft released an update for Xbox.\n   While we did not conduct thorough\
    \ testing using the new release,\n   preliminary testing indicates that Xboxes\
    \ that upgraded to the latest\n   version can play head-to-head behind a CGN,\
    \ at least for some games.\n   Other peer-to-peer applications that were noted\
    \ to fail were seeding\n   sessions initiated on BitTorrent and uTorrent.  In\
    \ our test, torrent\n   seeding was initiated on a client inside the CGN.  Leeching\
    \ was\n   initiated using a client on the public Internet.  It was observed\n\
    \   that direct peer-to-peer seeding did not work.  However, the torrent\n   session\
    \ typically redirected the leeching client to a proxy server,\n   in which case\
    \ the torrent session was set up successfully.\n   Additionally, with the proxy\
    \ in the network, re-seeding via\n   additional leech clients worked as would\
    \ be expected for a typical\n   torrent session.  Finally, uTorrent tries to use\
    \ Session Traversal\n   Utilities for NAT (STUN) to identify its outside address.\
    \  In working\n   with vendors, we learned that increasing the STUN timeout to\
    \ 4\n   minutes improved uTorrent seeding performance behind a CGN, resulting\n\
    \   in the ability for the uTorrent client to open a port and\n   successfully\
    \ seed content.\n   FTP sessions to servers located inside the home (e.g., behind\
    \ two\n   layers of NAT) failed.  When the CGN was bypassed and traffic only\n\
    \   needed to flow through one layer of NAT, clients were able to\n   connect.\
    \  Finally, multicast traffic was not forwarded through the\n   CGN.\n"
- title: 3.2.  Performance Impacted Services
  contents:
  - "3.2.  Performance Impacted Services\n   Large size file transfers and multiple\
    \ video streaming sessions\n   initiated on a single client on the same home network\
    \ behind the CGN\n   experienced reduced performance in our environment.  We measured\n\
    \   these variations in user experience against a baseline IPv4\n   environment\
    \ where NAT is not deployed.\n   In our testing, we tried large file transfers\
    \ from several FTP sites,\n   as well as downloading sizable audio and video files\
    \ (750 MB to 1.4\n   GB) from the Internet Archive.  We observed that when Dual-Stack\
    \ Lite\n   was implemented for some specific home router and client\n   combinations,\
    \ the transfer rate was markedly slower.  For example,\n   PC1 using one operating\
    \ system behind the same home router as PC2\n   using a different operating system\
    \ yielded a transfer rate of 120\n   kbps for PC1, versus 250 kbps for PC2.  Our\
    \ conclusion is that\n   varying combinations of home routers and CE-client devices\
    \ may result\n   in a user experience that is less than what the user would expect\
    \ for\n   typical applications.  It is also difficult to predict which\n   combinations\
    \ of CPE routers and CE devices will produce a reduced\n   experience for the\
    \ user.  We did not analyze the root cause of the\n   divergence in performance\
    \ across CE devices, as this was beyond the\n   scope of our testing.  However,\
    \ as this issue was specific to Dual-\n   Stack Lite, we suspect that it is related\
    \ to the MTU.\n   While video streaming sessions for a single user generally performed\n\
    \   well, testing revealed that video streaming sessions such as\n   Microsoft\
    \ Smooth Streaming technology (i.e., Silverlight) or Netflix\n   might also exhibit\
    \ some service impacting behavior.  In particular,\n   this was observed on one\
    \ older, yet popular and well-known CPE router\n   where the first session was\
    \ severely degraded when a second session\n   was initiated in the same home network.\
    \  Traffic from the first\n   session ceased for 8 s once the second session was\
    \ initiated.  While\n   we are tempted to write this off as a problematic home\
    \ router, its\n   popularity suggests that home router interactions may cause\
    \ issues in\n   NAT444 deployments (newer routers that support DS-Lite were not\n\
    \   observed to experience this condition).  Overall, longer buffering\n   times\
    \ for video sessions were noted for most client devices behind\n   all types of\
    \ home routers.  However, once the initial buffering was\n   complete, the video\
    \ streams were consistently smooth.  In addition,\n   there were varying degrees\
    \ as to how well multiple video sessions\n   were displayed on various client\
    \ devices across the CPE routers\n   tested.  Some video playback devices performed\
    \ better than others.\n"
- title: 3.3.  Improvements since 2010
  contents:
  - "3.3.  Improvements since 2010\n   Since CableLabs completed initial CGN testing\
    \ in 2010, there have\n   been quantifiable improvements in performance over CGN\
    \ since that\n   time.  These improvements may be categorized as follows:\n  \
    \ o  Content provider updates\n   o  Application updates\n   o  Improvements on\
    \ the CGNs themselves\n   In terms of content provider updates, we have noted\
    \ improvements in\n   the overall performance of streaming applications in the\
    \ CGN\n   environment.  Whereas applications such as streaming video were very\n\
    \   problematic a year ago with regard to jitter and latency, our most\n   recent\
    \ testing revealed that there is less of an issue with these\n   conditions, except\
    \ in some cases when multiple video streaming\n   sessions were initiated on the\
    \ same client using specific types of\n   home routers.  Applications such as\
    \ MS Smooth Streaming appear to\n   have addressed these issues to some degree.\n\
    \   As far as application updates, use of STUN and/or proxy servers to\n   offset\
    \ some of the limitations of NAT and tunneling in the network\n   are more evident\
    \ as workarounds to the peer-to-peer issues.\n   Applications appear to have incorporated\
    \ other mechanisms for\n   delivering content faster, even if buffering times\
    \ are somewhat\n   slower and the content is not rendered as quickly.\n   CGN\
    \ vendors have also upgraded their devices to mitigate several\n   known issues\
    \ with specific applications.  With regard to addressing\n   peer-to-peer SIP\
    \ call applications, port reservations appear to be a\n   workaround to the problem.\
    \  However, this approach has limitations\n   because there are limited numbers\
    \ of users that can have port\n   reservations at any given time.  For example,\
    \ one CGN implementation\n   allowed a port reservation to be made on port 5060\
    \ (default SIP\n   port), but this was the only port that could be configured\
    \ for the\n   SIP client.  This means that only one user can be granted the port\n\
    \   reservation.\n"
- title: 3.4.  Additional CGN Challenges
  contents:
  - "3.4.  Additional CGN Challenges\n   There are other challenges that arise when\
    \ using shared IPv4 address\n   space, as with NAT444.  Some of these challenges\
    \ include:\n   o  Loss of geolocation information - Often, translation zones will\n\
    \      cross traditional geographic boundaries.  Since the source\n      addresses\
    \ of packets traversing an LSN are set to the external\n      address of the LSN,\
    \ it is difficult for external entities to\n      associate IP/Port information\
    \ to specific locations/areas.\n   o  Lawful Intercept/Abuse Response - Due to\
    \ the nature of NAT444\n      address sharing, it will be hard to determine the\
    \ customer/\n      endpoint responsible for initiating a specific IPv4 flow based\
    \ on\n      source IP address alone.  Content providers, Service Providers,\n\
    \      and law enforcement agencies will need to use new mechanisms\n      (e.g.,\
    \ logging source port and timestamp in addition to source IP\n      address) to\
    \ potentially mitigate this new problem.  This may\n      impact the timely response\
    \ to various identification requests.\n      See [RFC6269].\n   o  Anti-spoofing\
    \ - Multiplexing users behind a single IP address can\n      lead to situations\
    \ where traffic from that address triggers anti-\n      spoofing/DDoS-protection\
    \ mechanisms, resulting in unintentional\n      loss of connectivity for some\
    \ users.  We have received reports of\n      such anti-spoofing/DDoS mechanisms\
    \ affecting email and web\n      services in some instances, but did not experience\
    \ them in our\n      environment.\n"
- title: 4.  2011 Summary of Results
  contents:
  - '4.  2011 Summary of Results

    '
- title: 4.1.  NAT444
  contents:
  - "4.1.  NAT444\n +---------------------+--------+--------+--------+----------+---------+\n\
    \ | Test Scenario       | Single | Single | Dual   | Dual     | Notes   |\n |\
    \ (per Test Plan)     | ISP,   | ISP,   | ISP,   | ISP, One |         |\n |  \
    \                   | Single | Two    | One HN | HN+One   |         |\n |    \
    \                 | HN,    | HN,    | with   | User on  |         |\n |      \
    \               | Single | Single | One    | ISP-A,   |         |\n |        \
    \             | User   | User   | User   | Two HN   |         |\n |          \
    \           |        | on     | on     | with One |         |\n |            \
    \         |        | Each   | Each   | User on  |         |\n |              \
    \       |        |        | ISP    | Each on  |         |\n |                \
    \     |        |        |        | ISP-B    |         |\n +---------------------+--------+--------+--------+----------+---------+\n\
    \ | Video streaming     | Pass   | Pass   | Pass   | Pass     | fails   |\n |\
    \ over Netflix        |        |        |        |          | behind  |\n |  \
    \                   |        |        |        |          | one     |\n |    \
    \                 |        |        |        |          | router  |\n +---------------------+--------+--------+--------+----------+---------+\n\
    \ | Video streaming     | Pass   | Pass   | Pass   | Pass     |         |\n |\
    \ over YouTube        |        |        |        |          |         |\n +---------------------+--------+--------+--------+----------+---------+\n\
    \ | Video streaming     | Pass   | Pass   | Pass   | Pass     |         |\n |\
    \ over Joost          |        |        |        |          |         |\n +---------------------+--------+--------+--------+----------+---------+\n\
    \ | Online gaming with  | Pass   | Pass   | Pass   | NT       |         |\n |\
    \ one user            |        |        |        |          |         |\n +---------------------+--------+--------+--------+----------+---------+\n\
    \ | Peer-to-peer gaming | Pass   | Fail   | Pass   | NT       | fails   |\n |\
    \ with two users      |        |        |        |          | when    |\n |  \
    \                   |        |        |        |          | both    |\n |    \
    \                 |        |        |        |          | users   |\n |      \
    \               |        |        |        |          | NAT to  |\n |        \
    \             |        |        |        |          | same    |\n |          \
    \           |        |        |        |          | address |\n +---------------------+--------+--------+--------+----------+---------+\n\
    \ | BitTorrent/uTorrent | Fail   | Fail   | Fail   | Fail     |         |\n |\
    \ file seeding        |        |        |        |          |         |\n +---------------------+--------+--------+--------+----------+---------+\n\
    \ (continued)\n +---------------------+--------+--------+--------+----------+---------+\n\
    \ | BitTorrent/uTorrent | Pass   | Pass   | Pass   | Pass     |         |\n |\
    \ file leeching       |        |        |        |          |         |\n +---------------------+--------+--------+--------+----------+---------+\n\
    \ | Pandora Internet    | Pass   | Pass   | Pass   | Pass     |         |\n |\
    \ Radio               |        |        |        |          |         |\n +---------------------+--------+--------+--------+----------+---------+\n\
    \ | FTP server          | Pass   | Pass   | Pass   | Pass     |         |\n +---------------------+--------+--------+--------+----------+---------+\n\
    \ | Web conferencing    | Pass   | Pass   | Pass   | Pass     |         |\n |\
    \ GTM                 |        |        |        |          |         |\n +---------------------+--------+--------+--------+----------+---------+\n\
    \ | Social Networking   | Pass   | Pass   | Pass   | Pass     |         |\n |\
    \ Facebook            |        |        |        |          |         |\n +---------------------+--------+--------+--------+----------+---------+\n\
    \ | Social Networking   | Pass   | Pass   | Pass   | Pass     |         |\n |\
    \ Webkinz             |        |        |        |          |         |\n +---------------------+--------+--------+--------+----------+---------+\n\
    \ | X-Lite for SIP      | Pass   | Pass   | Pass   | Pass     |         |\n |\
    \ calls with proxy    |        |        |        |          |         |\n +---------------------+--------+--------+--------+----------+---------+\n\
    \ | X-Lite for SIP      | Fail   | Fail   | Fail   | Fail     |         |\n |\
    \ calls no proxy      |        |        |        |          |         |\n +---------------------+--------+--------+--------+----------+---------+\n\
    \ | Skype text chat     | Pass   | Pass   | Pass   | Pass     |         |\n +---------------------+--------+--------+--------+----------+---------+\n\
    \ | Skype video chat    | Pass   | Pass   | Pass   | Pass     |         |\n +---------------------+--------+--------+--------+----------+---------+\n\
    \ | ooVoo               | Pass   | Pass   | Pass   | Pass     |         |\n +---------------------+--------+--------+--------+----------+---------+\n\
    \ | MS Smooth streaming | Pass   | Pass   | Pass   | Pass     |         |\n +---------------------+--------+--------+--------+----------+---------+\n\
    \ | Internet Archive    | Pass   | Pass   | Pass   | Pass     |         |\n |\
    \ video streaming     |        |        |        |          |         |\n +---------------------+--------+--------+--------+----------+---------+\n\
    \ | Internet Archive    | Pass   | Pass   | Pass   | Pass     |         |\n |\
    \ audio streaming     |        |        |        |          |         |\n +---------------------+--------+--------+--------+----------+---------+\n\
    \ | Internet Archive    | Pass   | Pass   | Pass   | Pass     |         |\n |\
    \ file download       |        |        |        |          |         |\n +---------------------+--------+--------+--------+----------+---------+\n\
    \ | iClips              | Pass   | Pass   | Pass   | Pass     |         |\n +---------------------+--------+--------+--------+----------+---------+\n\
    \                                  NAT444\n"
- title: 4.2.  DS-Lite
  contents:
  - "4.2.  DS-Lite\n  +--------------+---------+-----------+---------------+---------------+\n\
    \  | Test         | DS-Lite | Duration  | Description   | General       |\n  |\
    \ Scenario     | Test    | of Test   | of Test       | Observations  |\n  | (per\
    \ Test    | Results | Performed | Execution     | and Notes     |\n  | Plan) \
    \       |         |           |               |               |\n  +--------------+---------+-----------+---------------+---------------+\n\
    \  | Video        | Pass    | 15 min.   |               |               |\n  |\
    \ streaming    |         |           |               |               |\n  | over\
    \ Netflix |         |           |               |               |\n  +--------------+---------+-----------+---------------+---------------+\n\
    \  | Video        | Pass    | 10 min.   |               |               |\n  |\
    \ streaming    |         |           |               |               |\n  | over\
    \ YouTube |         |           |               |               |\n  +--------------+---------+-----------+---------------+---------------+\n\
    \  | Video        | Pass    | 10 min.   |               |               |\n  |\
    \ streaming    |         |           |               |               |\n  | over\
    \ Joost   |         |           |               |               |\n  +--------------+---------+-----------+---------------+---------------+\n\
    \  | Online       | Pass    | 15 min.   |               |               |\n  |\
    \ gaming with  |         |           |               |               |\n  | one\
    \ user     |         |           |               |               |\n  +--------------+---------+-----------+---------------+---------------+\n\
    \  | Peer-to-peer | Fail    | NA        | user inside   | Users inside  |\n  |\
    \ gaming with  |         |           | HN1 playing   | both HN are   |\n  | two\
    \ users    |         |           | game against  | not able to   |\n  |      \
    \        |         |           | user inside   | connect.  The |\n  |        \
    \      |         |           | HN2           | error shown   |\n  |          \
    \    |         |           |               | on console,   |\n  |            \
    \  |         |           |               | \"The game     |\n  |             \
    \ |         |           |               | session is no |\n  |              |\
    \         |           |               | longer        |\n  |              |  \
    \       |           |               | available\"    |\n  +--------------+---------+-----------+---------------+---------------+\n\
    \  | BitTorrent   | Fail    | 12 min.   | user on the   |               |\n  |\
    \ or uTorrent  |         |           | Internet is   |               |\n  | file\
    \ seeding |         |           | able to       |               |\n  |       \
    \       |         |           | download file |               |\n  |         \
    \     |         |           | using proxy   |               |\n  |           \
    \   |         |           | server and    |               |\n  |             \
    \ |         |           | not           |               |\n  |              |\
    \         |           | peer-to-peer  |               |\n  +--------------+---------+-----------+---------------+---------------+\n\
    \  (continued)\n  +--------------+---------+-----------+---------------+---------------+\n\
    \  | BitTorrent   | Pass    | 10 min.   |               |               |\n  |\
    \ or uTorrent  |         |           |               |               |\n  | file\
    \         |         |           |               |               |\n  | leeching\
    \     |         |           |               |               |\n  +--------------+---------+-----------+---------------+---------------+\n\
    \  | Pandora      | Pass    | 10 min.   |               |               |\n  |\
    \ Internet     |         |           |               |               |\n  | Radio\
    \        |         |           |               |               |\n  +--------------+---------+-----------+---------------+---------------+\n\
    \  | FTP server   | Pass    | 700 Mb    |               |               |\n  +--------------+---------+-----------+---------------+---------------+\n\
    \  | Web          | Pass    | 10 min.   |               |               |\n  |\
    \ conferencing |         |           |               |               |\n  | (GTM)\
    \        |         |           |               |               |\n  +--------------+---------+-----------+---------------+---------------+\n\
    \  | Social       | Pass    | NA        |               |               |\n  |\
    \ Networking   |         |           |               |               |\n  | Facebook\
    \     |         |           |               |               |\n  +--------------+---------+-----------+---------------+---------------+\n\
    \  | Social       | Pass    | NA        |               |               |\n  |\
    \ Networking   |         |           |               |               |\n  | Webkinz\
    \      |         |           |               |               |\n  +--------------+---------+-----------+---------------+---------------+\n\
    \  | X-Lite for   | Pass    | 10 min.   |               |               |\n  |\
    \ SIP calls    |         |           |               |               |\n  | with\
    \ proxy   |         |           |               |               |\n  | given \
    \       |         |           |               |               |\n  +--------------+---------+-----------+---------------+---------------+\n\
    \  | X-Lite for   | Fail    | NA        |               |               |\n  |\
    \ SIP calls no |         |           |               |               |\n  | proxy\
    \        |         |           |               |               |\n  +--------------+---------+-----------+---------------+---------------+\n\
    \  | Skype text   | Pass    | NA        |               |               |\n  |\
    \ chat         |         |           |               |               |\n  +--------------+---------+-----------+---------------+---------------+\n\
    \  | Skype video  | Pass    | 20 min.   |               |               |\n  |\
    \ chat         |         |           |               |               |\n  +--------------+---------+-----------+---------------+---------------+\n\
    \  | ooVoo        | Pass    | 15 min.   |               |               |\n  +--------------+---------+-----------+---------------+---------------+\n\
    \  | MS Smooth    | Pass    | 10 min.   |               |               |\n  |\
    \ streaming    |         |           |               |               |\n  +--------------+---------+-----------+---------------+---------------+\n\
    \  (continued)\n  +--------------+---------+-----------+---------------+---------------+\n\
    \  | Internet     | Pass    | 10 min.   |               |               |\n  |\
    \ Archive      |         |           |               |               |\n  | video\
    \        |         |           |               |               |\n  | streaming\
    \    |         |           |               |               |\n  +--------------+---------+-----------+---------------+---------------+\n\
    \  | Internet     | Pass    | 5 min.    |               |               |\n  |\
    \ Archive      |         |           |               |               |\n  | audio\
    \        |         |           |               |               |\n  | streaming\
    \    |         |           |               |               |\n  +--------------+---------+-----------+---------------+---------------+\n\
    \  | Internet     | Pass    | 80 Mb     |               |               |\n  |\
    \ Archive file |         |           |               |               |\n  | download\
    \     |         |           |               |               |\n  +--------------+---------+-----------+---------------+---------------+\n\
    \  | iClips       | Pass    | 10 min.   |               |               |\n  +--------------+---------+-----------+---------------+---------------+\n\
    \                                  DS-Lite\n"
- title: 5.  2010 Summary of Results
  contents:
  - "5.  2010 Summary of Results\n   The tables below summarize results from the 2010\
    \ NAT444 testing at\n   CableLabs, Time Warner Cable, and Rogers Communications.\
    \  They are\n   included for comparison with 2011 results, documented above.\n"
- title: '5.1.  Case 1: Single Client, Single Home Network, Single Service'
  contents:
  - "5.1.  Case 1: Single Client, Single Home Network, Single Service\n      Provider\n\
    \   +--------------+-------------+--------------------------------------+\n  \
    \ | Test Case    | Results     | Notes                                |\n   +--------------+-------------+--------------------------------------+\n\
    \   | Web browsing | pass        |                                      |\n  \
    \ +--------------+-------------+--------------------------------------+\n   |\
    \ Email        | pass        |                                      |\n   +--------------+-------------+--------------------------------------+\n\
    \   | FTP download | pass        | performance degraded on very large   |\n  \
    \ |              |             | downloads                            |\n   +--------------+-------------+--------------------------------------+\n\
    \   | BitTorrent   | pass        |                                      |\n  \
    \ | leeching     |             |                                      |\n   +--------------+-------------+--------------------------------------+\n\
    \   | BitTorrent   | fail        |                                      |\n  \
    \ | seeding      |             |                                      |\n   +--------------+-------------+--------------------------------------+\n\
    \   | Video        | pass        |                                      |\n  \
    \ | streaming    |             |                                      |\n   +--------------+-------------+--------------------------------------+\n\
    \   | Voice chat   | pass        |                                      |\n  \
    \ +--------------+-------------+--------------------------------------+\n   |\
    \ Netflix      | pass        |                                      |\n   | streaming\
    \    |             |                                      |\n   +--------------+-------------+--------------------------------------+\n\
    \   | Instant      | pass        |                                      |\n  \
    \ | Messaging    |             |                                      |\n   +--------------+-------------+--------------------------------------+\n\
    \   | Ping         | pass        |                                      |\n  \
    \ +--------------+-------------+--------------------------------------+\n   |\
    \ Traceroute   | pass        |                                      |\n   +--------------+-------------+--------------------------------------+\n\
    \   | Remote       | pass        |                                      |\n  \
    \ | desktop      |             |                                      |\n   +--------------+-------------+--------------------------------------+\n\
    \   | VPN          | pass        |                                      |\n  \
    \ +--------------+-------------+--------------------------------------+\n   |\
    \ Xbox Live    | pass        |                                      |\n   +--------------+-------------+--------------------------------------+\n\
    \   (continued)\n   +--------------+-------------+--------------------------------------+\n\
    \   | Xbox online  | pass        | Blocked by some LSNs.                |\n  \
    \ +--------------+-------------+--------------------------------------+\n   |\
    \ Xbox network | fail        | Your NAT type is moderate.  For best |\n   | test\
    \         |             | online experience you need an open   |\n   |       \
    \       |             | NAT configuration.  You should enable|\n   |         \
    \     |             | Universal Plug and Play (UPnP) on    |\n   |           \
    \   |             | the router.                          |\n   +--------------+-------------+--------------------------------------+\n\
    \   | Nintendo Wii | pass behind |                                      |\n  \
    \ |              | one LSN,    |                                      |\n   |\
    \              | fail behind |                                      |\n   |  \
    \            | another     |                                      |\n   +--------------+-------------+--------------------------------------+\n\
    \   | PlayStation  | pass        |                                      |\n  \
    \ | 3            |             |                                      |\n   +--------------+-------------+--------------------------------------+\n\
    \   | Team         | fail        | pass behind one LSN, but performance |\n  \
    \ | Fortress 2   |             | degraded                             |\n   +--------------+-------------+--------------------------------------+\n\
    \   | StarCraft II | pass        |                                      |\n  \
    \ +--------------+-------------+--------------------------------------+\n   |\
    \ World of     | pass        |                                      |\n   | Warcraft\
    \     |             |                                      |\n   +--------------+-------------+--------------------------------------+\n\
    \   | Call of Duty | pass        | performance degraded behind one LSN  |\n  \
    \ +--------------+-------------+--------------------------------------+\n   |\
    \ SlingCatcher | fail        |                                      |\n   +--------------+-------------+--------------------------------------+\n\
    \   | Netflix      | fail        | pass behind one LSN                  |\n  \
    \ | Party (Xbox) |             |                                      |\n   +--------------+-------------+--------------------------------------+\n\
    \   | Hulu         | pass        | performance degraded behind one LSN  |\n  \
    \ +--------------+-------------+--------------------------------------+\n   |\
    \ AIM File     | pass        | performance degraded                 |\n   | Transfer\
    \     |             |                                      |\n   +--------------+-------------+--------------------------------------+\n\
    \   | Webcam       | fail        |                                      |\n  \
    \ +--------------+-------------+--------------------------------------+\n   |\
    \ 6to4         | fail        |                                      |\n   +--------------+-------------+--------------------------------------+\n\
    \   | Teredo       | fail        |                                      |\n  \
    \ +--------------+-------------+--------------------------------------+\n    \
    \                              Case 1\n"
- title: '5.2.  Case 2: Two Clients, Single Home Network, Single Service Provider'
  contents:
  - "5.2.  Case 2: Two Clients, Single Home Network, Single Service Provider\n   +-----------------+---------+---------------------------------------+\n\
    \   | Test Case       | Results | Notes                                 |\n  \
    \ +-----------------+---------+---------------------------------------+\n   |\
    \ BitTorrent      | pass    |                                       |\n   | leeching\
    \        |         |                                       |\n   +-----------------+---------+---------------------------------------+\n\
    \   | BitTorrent      | fail    |                                       |\n  \
    \ | seeding         |         |                                       |\n   +-----------------+---------+---------------------------------------+\n\
    \   | Video streaming | fail    |                                       |\n  \
    \ +-----------------+---------+---------------------------------------+\n   |\
    \ Voice chat      | pass    |                                       |\n   +-----------------+---------+---------------------------------------+\n\
    \   | Netflix         | pass    | performance severely impacted,        |\n  \
    \ | streaming       |         | eventually failed                     |\n   +-----------------+---------+---------------------------------------+\n\
    \   | IM              | pass    |                                       |\n  \
    \ +-----------------+---------+---------------------------------------+\n   |\
    \ Limewire        | pass    |                                       |\n   | leeching\
    \        |         |                                       |\n   +-----------------+---------+---------------------------------------+\n\
    \   | Limewire        | fail    |                                       |\n  \
    \ | seeding         |         |                                       |\n   +-----------------+---------+---------------------------------------+\n\
    \                                  Case 2\n"
- title: '5.3.  Case 3: Two Clients, Two Home Networks, Single Service Provider'
  contents:
  - "5.3.  Case 3: Two Clients, Two Home Networks, Single Service Provider\n     \
    \             +-------------------+---------+-------+\n                  | Test\
    \ Case         | Results | Notes |\n                  +-------------------+---------+-------+\n\
    \                  | Limewire leeching | pass    |       |\n                 \
    \ +-------------------+---------+-------+\n                  | Limewire seeding\
    \  | fail    |       |\n                  +-------------------+---------+-------+\n\
    \                  | uTorrent leeching | pass    |       |\n                 \
    \ +-------------------+---------+-------+\n                  | uTorrent seeding\
    \  | fail    |       |\n                  +-------------------+---------+-------+\n\
    \                                  Case 3\n"
- title: '5.4.  Case 4: Two Clients, Two Home Networks, Two Service Providers'
  contents:
  - "5.4.  Case 4: Two Clients, Two Home Networks, Two Service Providers\n      Cross\
    \ ISP\n                  +------------------+---------+-------+\n            \
    \      | Test Case        | Results | Notes |\n                  +------------------+---------+-------+\n\
    \                  | Skype voice call | pass    |       |\n                  +------------------+---------+-------+\n\
    \                  | IM               | pass    |       |\n                  +------------------+---------+-------+\n\
    \                  | FTP              | fail    |       |\n                  +------------------+---------+-------+\n\
    \                  | Facebook chat    | pass    |       |\n                  +------------------+---------+-------+\n\
    \                  | Skype video      | pass    |       |\n                  +------------------+---------+-------+\n\
    \                                  Case 4\n"
- title: 6.  CGN Mitigation
  contents:
  - "6.  CGN Mitigation\n   Our testing did not focus on mitigating the impact of\
    \ Carrier-Grade\n   NAT, as described above.  As such, mitigation is not the focus\
    \ of\n   this document.  However, there are several approaches that could\n  \
    \ lessen the impacts described above.\n   +-----------------------+-------------------------------------------+\n\
    \   | Challenge             | Potential Workaround(s)                   |\n  \
    \ +-----------------------+-------------------------------------------+\n   |\
    \ Peer-to-peer          | Use a proxy server; [RFC6887]             |\n   +-----------------------+-------------------------------------------+\n\
    \   | Gaming                | [RFC6887]                                 |\n  \
    \ +-----------------------+-------------------------------------------+\n   |\
    \ Negative impact to    | Deploy CGN close to the edge of the       |\n   | geolocation\
    \ services  | network; use regional IP and port         |\n   |              \
    \         | assignments                               |\n   +-----------------------+-------------------------------------------+\n\
    \   | Logging requirements  | Deterministic Logging [DETERMINE]; data   |\n  \
    \ | for lawful intercept  | compression [NAT-LOG]; bulk port logging  |\n   +-----------------------+-------------------------------------------+\n\
    \                              CGN Mitigation\n   Other mitigation techniques\
    \ that are currently being researched, such\n   as [STATELESS], may also improve\
    \ performance.\n"
- title: 7.  Security Considerations
  contents:
  - "7.  Security Considerations\n   Security considerations are described in [RFC6264]\
    \ and [RFC6269].\n   In general, since a CGN device shares a single IPv4 address\
    \ with\n   multiple subscribers, CGN devices may provide an attractive target\n\
    \   for denial-of-service attacks.  In addition, as described in\n   [DETERMINE],\
    \ abuse attribution is more challenging with CGN and\n   requires content providers\
    \ to log IP address, source port, and time\n   to correlate with Service Provider\
    \ CGN logs.  Also, if a CGN public\n   IP address is added to a blacklist (e.g.,\
    \ for SPAM) or if a server\n   limits the number of connections per IP address,\
    \ it could negatively\n   impact legitimate users.\n"
- title: 8.  Informative References
  contents:
  - "8.  Informative References\n   [DETERMINE]  Donley, C., Grundemann, C., Sarawat,\
    \ V., Sundaresan, K.,\n                and O. Vautrin, \"Deterministic Address\
    \ Mapping to Reduce\n                Logging in Carrier Grade NAT Deployments\"\
    , Work in\n                Progress, July 2013.\n   [NAT-LOG]    Sivakumar, S.\
    \ and R. Penno, \"IPFIX Information Elements\n                for logging NAT\
    \ Events\", Work in Progress, August 2013.\n   [NAT444]     Yamagata, I., Shirasaki,\
    \ Y., Nakagawa, A., Yamaguchi,\n                J., and H. Ashida, \"NAT444\"\
    , Work in Progress,\n                July 2012.\n   [RFC1918]    Rekhter, Y.,\
    \ Moskowitz, R., Karrenberg, D., Groot, G.,\n                and E. Lear, \"Address\
    \ Allocation for Private Internets\",\n                BCP 5, RFC 1918, February\
    \ 1996.\n   [RFC3056]    Carpenter, B. and K. Moore, \"Connection of IPv6 Domains\n\
    \                via IPv4 Clouds\", RFC 3056, February 2001.\n   [RFC4380]   \
    \ Huitema, C., \"Teredo: Tunneling IPv6 over UDP through\n                Network\
    \ Address Translations (NATs)\", RFC 4380,\n                February 2006.\n \
    \  [RFC4689]    Poretsky, S., Perser, J., Erramilli, S., and S. Khurana,\n   \
    \             \"Terminology for Benchmarking Network-layer Traffic\n         \
    \       Control Mechanisms\", RFC 4689, October 2006.\n   [RFC6264]    Jiang,\
    \ S., Guo, D., and B. Carpenter, \"An Incremental\n                Carrier-Grade\
    \ NAT (CGN) for IPv6 Transition\", RFC 6264,\n                June 2011.\n   [RFC6269]\
    \    Ford, M., Boucadair, M., Durand, A., Levis, P., and P.\n                Roberts,\
    \ \"Issues with IP Address Sharing\", RFC 6269,\n                June 2011.\n\
    \   [RFC6333]    Durand, A., Droms, R., Woodyatt, J., and Y. Lee, \"Dual-\n  \
    \              Stack Lite Broadband Deployments Following IPv4\n             \
    \   Exhaustion\", RFC 6333, August 2011.\n   [RFC6887]    Wing, D., Cheshire,\
    \ S., Boucadair, M., Penno, R., and P.\n                Selkirk, \"Port Control\
    \ Protocol (PCP)\", RFC 6887,\n                April 2013.\n   [STATELESS]  Tsou,\
    \ T., Liu, W., Perreault, S., Penno, R., and M.\n                Chen, \"Stateless\
    \ IPv4 Network Address Translation\", Work\n                in Progress, October\
    \ 2012.\n"
- title: Appendix A.  Acknowledgements
  contents:
  - "Appendix A.  Acknowledgements\n   Thanks to the following people for their testing,\
    \ guidance, and\n   feedback:\n      Paul Eldridge\n      Abishek Chandrasekaran\n\
    \      Vivek Ganti\n      Joey Padden\n      Lane Johnson\n   Also, thanks to\
    \ Noel Chiappa for his comments.\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Chris Donley (editor)\n   CableLabs\n   858 Coal Creek\
    \ Circle\n   Louisville, CO  80027\n   USA\n   EMail: c.donley@cablelabs.com\n\
    \   Lee Howard\n   Time Warner Cable\n   13241 Woodland Park Rd\n   Herndon, VA\
    \  20171\n   USA\n   EMail: william.howard@twcable.com\n   Victor Kuarsingh\n\
    \   Rogers Communications\n   8200 Dixie Road\n   Brampton, ON  L6T 0C1\n   Canada\n\
    \   EMail: victor@jvknet.com\n   John Berg\n   CableLabs\n   858 Coal Creek Circle\n\
    \   Louisville, CO  80027\n   USA\n   EMail: j.berg@cablelabs.com\n   Jinesh Doshi\n\
    \   Juniper Networks\n   1194 N. Mathilda Ave\n   Sunnyvale, CA  94089\n   USA\n\
    \   EMail: jineshd@juniper.net\n"
