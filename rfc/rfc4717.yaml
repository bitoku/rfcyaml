- contents:
  - "                Encapsulation Methods for Transport of\n          Asynchronous
    Transfer Mode (ATM) over MPLS Networks\n"
  title: __initial_text__
- contents:
  - "Status of This Memo\n   This document specifies an Internet standards track protocol
    for the\n   Internet community, and requests discussion and suggestions for\n
    \  improvements.  Please refer to the current edition of the \"Internet\n   Official
    Protocol Standards\" (STD 1) for the standardization state\n   and status of this
    protocol.  Distribution of this memo is unlimited.\n"
  title: Status of This Memo
- contents:
  - "Copyright Notice\n   Copyright (C) The IETF Trust (2006).\n"
  title: Copyright Notice
- contents:
  - "Abstract\n   An Asynchronous Transfer Mode (ATM) Pseudowire (PW) is used to carry\n
    \  ATM cells over an MPLS network.  This enables service providers to\n   offer
    \"emulated\" ATM services over existing MPLS networks.  This\n   document specifies
    methods for the encapsulation of ATM cells within\n   a pseudowire.  It also specifies
    the procedures for using a PW to\n   provide an ATM service.\n"
  title: Abstract
- contents:
  - "Table of Contents\n   1. Introduction ....................................................3\n
    \  2. Specification of Requirements ...................................4\n   3.
    Applicability Statement .........................................4\n   4. Terminology
    .....................................................4\n   5. General Encapsulation
    Method ....................................6\n      5.1. The Control Word ...........................................6\n
    \          5.1.1. The Generic Control Word ............................7\n           5.1.2.
    The Preferred Control Word ..........................8\n           5.1.3. Setting
    the Sequence Number Field in the\n                  Control Word ........................................9\n
    \     5.2. MTU Requirements ...........................................9\n      5.3.
    MPLS Shim S Bit Value .....................................10\n      5.4. MPLS
    Shim TTL Values ......................................10\n   6. Encapsulation
    Mode Applicability ...............................10\n      6.1. ATM N-to-One
    Cell Mode ....................................11\n      6.2. ATM One-to-One Cell
    Encapsulation .........................13\n      6.3. AAL5 SDU Frame Encapsulation
    ..............................13\n      6.4. AAL5 PDU Frame Encapsulation ..............................14\n
    \  7. ATM OAM Cell Support ...........................................15\n      7.1.
    VCC Case ..................................................15\n      7.2. VPC
    Case ..................................................16\n      7.3. SDU/PDU
    OAM Cell Emulation Mode ...........................16\n      7.4. Defect Handling
    ...........................................17\n   8. ATM N-to-One Cell Mode .........................................18\n
    \     8.1. ATM N-to-One Service Encapsulation ........................19\n   9.
    ATM One-to-One Cell Mode .......................................21\n      9.1.
    ATM One-to-One Service Encapsulation ......................21\n      9.2. Sequence
    Number ...........................................22\n      9.3. ATM VCC Cell
    Transport Service ............................22\n      9.4. ATM VPC Services
    ..........................................24\n           9.4.1. ATM VPC Cell Transport
    Services ....................25\n   10. ATM AAL5 CPCS-SDU Mode ........................................26\n
    \     10.1. Transparent AAL5 SDU Frame Encapsulation .................27\n   11.
    AAL5 PDU Frame Mode ...........................................28\n      11.1.
    Transparent AAL5 PDU Frame Encapsulation .................28\n      11.2. Fragmentation
    ............................................30\n           11.2.1. Procedures
    in the ATM-to-PSN Direction ............30\n           11.2.2. Procedures in the
    PSN-to-ATM Direction ............31\n   12. Mapping of ATM and PSN Classes of
    Service .....................31\n   13. ILMI Support ..................................................32\n
    \  14. ATM-Specific Interface Parameter Sub-TLVs .....................32\n   15.
    Congestion Control ............................................32\n   16. Security
    Considerations .......................................33\n   17. Normative References
    ..........................................34\n   18. Informative References ........................................34\n
    \  19. Significant Contributors ......................................36\n"
  title: Table of Contents
- contents:
  - "1.  Introduction\n   Packet Switched Networks (PSNs) have the potential to reduce
    the\n   complexity of a service provider's infrastructure by allowing\n   virtually
    any existing digital service to be supported over a single\n   networking infrastructure.
    \ The benefit of this model to a service\n   provider is threefold:\n        -i.
    Leveraging of the existing systems and services to provide\n            increased
    capacity from a packet-switched core.\n       -ii. Preserving existing network
    operational processes and\n            procedures used to maintain the legacy
    services.\n      -iii. Using the common packet-switched network infrastructure
    to\n            support both the core capacity requirements of existing\n            services
    and the requirements of new services supported\n            natively over the
    packet-switched network.\n   This document describes a method to carry ATM services
    over MPLS.  It\n   lists ATM-specific requirements and provides encapsulation
    formats\n   and semantics for connecting ATM edge networks through a packet-\n
    \  switched network using MPLS.\n   Figure 1, below, displays the ATM services
    reference model.  This\n   model is adapted from [RFC3985].\n                     |<-----
    Pseudowire ----->|\n                     |                        |\n                     |
    \ |<-- PSN Tunnel -->|  |\n        ATM Service  V  V                  V  V  ATM
    Service\n             |     +----+                  +----+     |\n   +----+    |
    \    | PE1|==================| PE2|     |    +----+\n   |    |----------|............PW1.............|----------|
    \   |\n   | CE1|    |     |    |                  |    |     |    |CE2 |\n   |
    \   |----------|............PW2.............|----------|    |\n   +----+    |
    \    |    |==================|    |     |    +----+\n        ^          +----+
    \                 +----+     |    ^\n        |      Provider Edge 1         Provider
    Edge 2     |\n        |                                                  |\n        |<--------------
    Emulated Service ---------------->|\n   Customer                                                Customer\n
    \  Edge 1                                                  Edge 2\n                   Figure
    1: ATM Service Reference Model\n"
  title: 1.  Introduction
- contents:
  - "2.  Specification of Requirements\n   The key words \"MUST\", \"MUST NOT\", \"REQUIRED\",
    \"SHALL\", \"SHALL NOT\",\n   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"MAY\",
    and \"OPTIONAL\" in this\n   document are to be interpreted as described in [RFC2119].\n"
  title: 2.  Specification of Requirements
- contents:
  - "3.  Applicability Statement\n   The ATM over PW service is not intended to perfectly
    emulate a\n   traditional ATM service, but it can be used for applications that\n
    \  need an ATM transport service.\n   The following are notable differences between
    traditional ATM service\n   and the protocol described in this document:\n     -
    ATM cell ordering can be preserved using the OPTIONAL sequence\n       field in
    the control word; however, implementations are not\n       required to support
    this feature.  The use of this feature may\n       impact other ATM quality of
    service (QoS) commitments.\n     - The QoS model for traditional ATM can be emulated.
    \ However, the\n       detailed specification of ATM QoS emulation is outside
    the scope\n       of this document.  The emulation must be able to provide the\n
    \      required ATM QoS commitments for the end-user application.\n     - The
    ATM flow control mechanisms are transparent to the MPLS\n       network and cannot
    reflect the status of the MPLS network.\n     - Control plane support for ATM
    SVCs, SVPs, SPVCs, and SPVPs is\n       outside the scope of this document.\n
    \  Note that the encapsulations described in this specification are\n   identical
    to those described in [Y.1411] and [Y.1412].\n"
  title: 3.  Applicability Statement
- contents:
  - "4.  Terminology\n   One-to-one mode: specifies an encapsulation method that maps
    one ATM\n   Virtual Channel Connection (VCC) (or one ATM Virtual Path Connection\n
    \  (VPC)) to one pseudowire.\n   N-to-one mode (N >= 1): specifies an encapsulation
    method that maps\n   one or more ATM VCCs (or one or more ATM VPCs) to one pseudowire.\n
    \  Packet-Switched Network (PSN): an IP or MPLS network.\n   Pseudowire Emulation
    Edge to Edge (PWE3): a mechanism that emulates\n   the essential attributes of
    a service (such as a T1 leased line or\n   Frame Relay) over a PSN.\n   Customer
    Edge (CE): a device where one end of a service originates\n   and/or terminates.
    \ The CE is not aware that it is using an emulated\n   service rather than a native
    service.\n   Provider Edge (PE): a device that provides PWE3 to a CE.\n   Pseudowire
    (PW): a connection between two PEs carried over a PSN.\n   The PE provides the
    adaptation between the CE and the PW.\n   Pseudowire PDU: a PDU sent on the PW
    that contains all of the data\n   and control information necessary to provide
    the desired service.\n   PSN Tunnel: a tunnel inside which multiple PWs can be
    nested so that\n   they are transparent to core PSN devices.\n   PSN Bound: the
    traffic direction where information from a CE is\n   adapted to a PW, and PW-PDUs
    are sent into the PSN.\n   CE Bound: the traffic direction where PW-PDUs are received
    on a PW\n   from the PSN, re-converted back in the emulated service, and sent
    out\n   to a CE.\n   Ingress: the point where the ATM service is encapsulated
    into a\n   pseudowire PDU (ATM to PSN direction).\n   Egress: the point where
    the ATM service is decapsulated from a\n   pseudowire PDU (PSN to ATM direction).\n
    \  CTD: Cell Transfer Delay.\n   MTU: Maximum Transmission Unit.\n   SDU: Service
    Data Unit.\n   OAM: Operations And Maintenance.\n   PVC: Permanent Virtual Connection.
    \ An ATM connection that is\n   provisioned via a network management interface.
    \ The connection is\n   not signaled.\n   VCC: Virtual Circuit Connection.  An
    ATM connection that is switched\n   based on the cell header's VCI.\n   VPC: Virtual
    Path Connection.  An ATM connection that is switched\n   based on the cell header's
    VPI.\n   Additional terminology relevant to pseudowires and Layer 2 Virtual\n
    \  Private Networking (L2VPN) in general may be found in [RFC4026].\n"
  title: 4.  Terminology
- contents:
  - "5.  General Encapsulation Method\n   This section describes the general encapsulation
    format for ATM over\n   PSN pseudowires.\n    0                   1                   2
    \                  3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5
    6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
    \  |               PSN Transport Header (As Required)              |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
    \  |                     Pseudowire Header                         |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
    \  |                     ATM Control Word                          |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
    \  |                     ATM Service Payload                       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
    \        Figure 2: General format for ATM encapsulation over PSNs\n   The PSN
    Transport Header depends on the particular tunneling\n   technology in use.  This
    header is used to transport the encapsulated\n   ATM information through the packet-switched
    core.\n   The Pseudowire Header identifies a particular ATM service on a\n   tunnel.
    \ In case of MPLS, the pseudowire header is one or more MPLS\n   labels at the
    bottom of the MPLS label stack.\n   The ATM Control Word is inserted before the
    ATM service payload.  It\n   may contain a length and sequence number in addition
    to certain\n   control bits needed to carry the service.\n"
  - contents:
    - "5.1.  The Control Word\n   The Control Words defined in this section are based
      on the Generic PW\n   MPLS Control Word as defined in [RFC4385].  They provide
      the ability\n   to sequence individual frames on the PW, avoidance of equal-cost\n
      \  multiple-path load-balancing (ECMP) [RFC2992], and OAM mechanisms\n   including
      VCCV [VCCV].\n   [RFC4385] states, \"If a PW is sensitive to packet misordering
      and is\n   being carried over an MPLS PSN that uses the contents of the MPLS\n
      \  payload to select the ECMP path, it MUST employ a mechanism which\n   prevents
      packet misordering.\"  This is necessary because ECMP\n   implementations may
      examine the first nibble after the MPLS label\n   stack to determine whether
      or not the labelled packet is IP.  Thus,\n   if the VPI of an ATM connection
      carried over the PW using N-to-one\n   cell mode encapsulation, without a control
      word present, begins with\n   0x4 or 0x6, it could be mistaken for an IPv4 or
      IPv6 packet.  This\n   could, depending on the configuration and topology of
      the MPLS\n   network, lead to a situation where all packets for a given PW do
      not\n   follow the same path.  This may increase out-of-order frames on a\n
      \  given PW, or cause OAM packets to follow a different path than actual\n   traffic
      (see section 4.4.3 on Frame Ordering).\n   The features that the control word
      provides may not be needed for a\n   given ATM PW.  For example, ECMP may not
      be present or active on a\n   given MPLS network, strict frame sequencing may
      not be required, etc.\n   If this is the case, and the control word is not REQUIRED
      by the\n   encapsulation mode for other functions (such as length or the\n   transport
      of ATM protocol specific information), the control word\n   provides little
      value and is therefore OPTIONAL.  Early ATM PW\n   implementations have been
      deployed that do not include a control word\n   or the ability to process one
      if present.  To aid in backwards\n   compatibility, future implementations MUST
      be able to send and\n   receive frames without a control word present.\n   In
      all cases, the egress PE MUST be aware of whether the ingress PE\n   will send
      a control word over a specific PW.  This may be achieved by\n   configuration
      of the PEs, or by signaling, as defined in [RFC4447].\n   If the pseudowire
      traverses a network link that requires a minimum\n   frame size (Ethernet is
      a practical example), with a minimum frame\n   size of 64 octets, then such
      links will apply padding to the\n   pseudowire PDU to reach its minimum frame
      size.  In this case, the\n   control word must include a length field set to
      the PDU length.  A\n   mechanism is required for the egress PE to detect and
      remove such\n   padding.\n"
    - contents:
      - "5.1.1.  The Generic Control Word\n   This control word is used in the following
        encapsulation modes:\n     - ATM One-to-one Cell Mode\n     - AAL5 PDU Frame
        Mode\n   The PWE3 control word document [RFC4385] provides the following\n
        \  structure for the generic control word:\n    0                   1                   2
        \                  3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3
        4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |0 0 0 0|          Specified by PW Encapsulation                |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  The detailed structure for the ATM One-to-one Cell Mode and for the\n   AAL5
        PDU Frame Mode is as follows:\n    0                   1                   2
        \                  3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3
        4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |0 0 0 0| Resvd |        Sequence Number        | ATM Specific  |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  In the above diagram, the first 4 bits MUST be set to 0 to indicate\n   PW
        data.  They MUST be ignored by the receiving PE.\n   The next four bits are
        reserved and MUST be set to 0 upon\n   transmission and ignored upon reception.\n
        \  The next 16 bits provide a sequence number that can be used to\n   guarantee
        ordered packet delivery.  The processing of the sequence\n   number field
        is OPTIONAL.\n   The sequence number space is a 16-bit, unsigned circular
        space.  The\n   sequence number value 0 is used to indicate that the sequence
        number\n   check algorithm is not used.\n   The last 8 bits provide space
        for carrying ATM-specific flags.  These\n   are defined in the protocol-specific
        details below.\n   There is no requirement for a length field for the One-to-one
        Cell\n   and PDU Frame modes because the PSN PDU is always greater than 64\n
        \  bytes; therefore, no padding is applied in Ethernet links in the PSN.\n"
      title: 5.1.1.  The Generic Control Word
    - contents:
      - "5.1.2.  The Preferred Control Word\n   This control word is used in the following
        encapsulation modes:\n     - ATM N-to-one Cell Mode\n     - AAL5 SDU Frame
        Mode\n   It is defined as follows:\n    0                   1                   2
        \                  3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3
        4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |0 0 0 0| Flags |Res|   Length  |     Sequence Number           |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  In the above diagram, the first 4 bits MUST be set to 0 to indicate\n   PW
        data.  They MUST be ignored by the receiving PE.\n   The next 4 bits provide
        space for carrying protocol-specific flags.\n   These are defined in the protocol-specific
        details below.\n   The next 6 bits provide a length field, which is used as
        follows:  If\n   the packet's length (defined as the length of the layer 2
        payload\n   plus the length of the control word) is less than 64 bytes, the\n
        \  length field MUST be set to the packet's length.  Otherwise, the\n   length
        field MUST be set to zero.  The value of the length field, if\n   non-zero,
        can be used to remove any padding.  When the packet reaches\n   the service
        provider's egress router, it may be desirable to remove\n   the padding before
        forwarding the packet.  Note that the length field\n   is not used in the
        N-to-one mode and MUST be set to 0.\n   The last 16 bits provide a sequence
        number that can be used to\n   guarantee ordered packet delivery.  The processing
        of the sequence\n   number field is OPTIONAL.\n   The sequence number space
        is a 16-bit, unsigned circular space.  The\n   sequence number value 0 is
        used to indicate that the sequence number\n   check algorithm is not used.\n"
      title: 5.1.2.  The Preferred Control Word
    - contents:
      - "5.1.3.  Setting the Sequence Number Field in the Control Word\n   This section
        applies to the sequence number field of both the Generic\n   and Preferred
        Control Words.\n   For a given emulated VC and a pair of routers PE1 and PE2,
        if PE1\n   supports packet sequencing, then the sequencing procedures defined
        in\n   [RFC4385] MUST be used.\n   Packets that are received out of order
        MAY be dropped or reordered at\n   the discretion of the receiver.\n   A simple
        extension of the processing algorithm in [RFC4385] MAY be\n   used to detect
        lost packets.\n   If a PE router negotiated not to use receive sequence number\n
        \  processing, and it received a non-zero sequence number, then it\n   SHOULD
        send a PW status message indicating a receive fault and\n   disable the PW.\n"
      title: 5.1.3.  Setting the Sequence Number Field in the Control Word
    title: 5.1.  The Control Word
  - contents:
    - "5.2.  MTU Requirements\n   The network MUST be configured with an MTU that
      is sufficient to\n   transport the largest encapsulation frames.  If MPLS is
      used as the\n   tunneling protocol, for example, this is likely to be 12 or
      more\n   bytes greater than the largest frame size.  Other tunneling protocols\n
      \  may have longer headers and require larger MTUs.  If the ingress\n   router
      determines that an encapsulated layer 2 PDU exceeds the MTU of\n   the tunnel
      through which it must be sent, the PDU MUST be dropped.\n   If an egress router
      receives an encapsulated layer 2 PDU whose\n   payload length (i.e., the length
      of the PDU itself without any of the\n   encapsulation headers) exceeds the
      MTU of the destination layer 2\n   interface, the PDU MUST be dropped.\n"
    title: 5.2.  MTU Requirements
  - contents:
    - "5.3.  MPLS Shim S Bit Value\n   The ingress label switching router (LSR), PE1,
      MUST set the S bit of\n   the PW label to a value of 1 to denote that the VC
      label is at the\n   bottom of the stack.  For more information on setting the
      S Bit, see\n   [RFC3032].\n"
    title: 5.3.  MPLS Shim S Bit Value
  - contents:
    - "5.4.  MPLS Shim TTL Values\n   The setting of the TTL value in the PW label
      is application\n   dependent.  In any case, [RFC3032] TTL processing procedure,\n
      \  including handling of expired TTLs, MUST be followed.\n"
    title: 5.4.  MPLS Shim TTL Values
  title: 5.  General Encapsulation Method
- contents:
  - "6.  Encapsulation Mode Applicability\n   This document defines two methods for
    encapsulation of ATM cells,\n   namely, One-to-one mode and N-to-one mode.\n   The
    N-to-one mode (N >= 1) specifies an encapsulation method that\n   maps one or
    more ATM VCCs (or one or more ATM VPCs) to one\n   pseudowire.  This is the only
    REQUIRED mode.  One format is used for\n   both the VCC or VPC mapping to the
    tunnel.  The 4-octet ATM header is\n   unaltered in the encapsulation; thus, the
    VPI/VCI is always present.\n   Cells from one or more VCCs (or one or more VPCs)
    may be\n   concatenated.\n   The One-to-one mode specifies an encapsulation method
    that maps one\n   ATM VCC or one ATM VPC to one pseudowire.  For VCCs, the VPI/VCI
    is\n   not included.  For VPCs, the VPI is not included.  Cells from one VCC\n
    \  or one VPC may be concatenated.  This mode is OPTIONAL.\n   Furthermore, different
    OPTIONAL encapsulations are supported for ATM\n   AAL5 transport: one for ATM
    AAL5 SDUs, and another for ATM AAL5 PDUs.\n   Three deployment models are supported
    by the encapsulations described\n   in this document:\n        -i. Single ATM
    Connection: A PW carries the cells of only one\n            ATM VCC or VPC.  This
    supports both the transport of\n            multiservice ATM and L2VPN service
    over a PSN for all AAL\n            types.\n       -ii. Multiple ATM Connections:
    A PW carries the cells of multiple\n            ATM VCCs and/or VPCs.  This also
    supports both the transport\n            of multiservice ATM and L2VPN service
    over a PSN for all AAL\n            types.\n      -iii. AAL5: A PW carries the
    AAL5 frames of only one ATM VCC.  A\n            large proportion of the data
    carried on ATM networks is\n            frame based and therefore uses AAL5.  The
    AAL5 mapping takes\n            advantage of the delineation of higher-layer frames
    in the\n            ATM layer to provide increased bandwidth efficiency compared\n
    \           with the basic cell mapping.  The nature of the service, as\n            defined
    by the ATM service category [TM4.0] or the ATM\n            transfer capability
    [I.371], should be preserved.\n"
  - contents:
    - "6.1.  ATM N-to-One Cell Mode\n   This encapsulation supports both the Single
      and Multiple ATM\n   Connection deployment models.  This encapsulation is REQUIRED.\n
      \  The encapsulation allows multiple VCCs/VPCs to be carried within a\n   single
      pseudowire.  However, a service provider may wish to provision\n   a single
      VCC to a pseudowire in order to satisfy QoS or restoration\n   requirements.\n
      \  The encapsulation also supports the binding of multiple VCCs/VPCs to\n   a
      single pseudowire.  This capability is useful in order to make more\n   efficient
      use of the PW demultiplexing header space as well as to\n   ease provisioning
      of the VCC/VPC services.\n   In the simplest case, this encapsulation can be
      used to transmit a\n   single ATM cell per PSN PDU.  However, in order to provide
      better PSN\n   bandwidth efficiency, several ATM cells may optionally be\n   encapsulated
      in a single PSN PDU.  This process is called cell\n   concatenation.\n   The
      encapsulation has the following attributes:\n        -i. Supports all ATM Adaptation
      Layer Types.\n       -ii. Non-terminating OAM/Admin cells are transported among
      the\n            user cells in the same order as they are received.  This\n
      \           requirement enables the use of various performance\n            management
      and security applications.\n      -iii. In order to gain transport efficiency
      on the PSN, multiple\n            cells may be encapsulated in a single PW PDU.
      \ This process\n            is called cell concatenation.  How many cells to
      insert or\n            how long to wait for cell arrival before sending a PW
      PDU is\n            an implementation decision.  Cell concatenation adds latency\n
      \           and delay variation to a cell relay service.\n       -iv. The CLP
      bit from each cell may be mapped to a corresponding\n            marking on
      the PW PDU.  This allows the drop precedence to\n            be preserved across
      the PSN.\n        -v. If the Single ATM connection deployment model is used,
      then\n            it is simpler to provide an ATM layer service.  The nature\n
      \           of the service, as defined by the ATM service category\n            [TM4.0]
      or ATM transfer capability [I.371], should be\n            preserved.\n   The
      limitations of the ATM N-to-one cell encapsulation are:\n       -vi. There is
      no currently defined method to translate the\n            forward congestion
      indication (EFCI) to a corresponding\n            function in the PSN.  Nor
      is there a way to translate PSN\n            congestion to the EFCI upon transmission
      by the egress PE.\n      -vii. The ATM cell header checksum can detect a 2-bit
      error or\n            detect and correct a single-bit error in the cell header.\n
      \           Analogous functionality does not exist in most PSNs.  A\n            single
      bit error in a PW PDU will most likely cause the\n            packet to be dropped
      due to an L2 Frame Check Sequence (FCS)\n            failure.\n     -viii. Cells
      can be concatenated from multiple VCCs or VPCs\n            belonging to different
      service categories and QoS\n            requirements.  In this case, the PSN
      packet must receive\n            treatment by the PSN to support the highest
      QoS of the ATM\n            VCCs/VPCs carried.\n       -ix. Cell encapsulation
      only supports point-to-point Label\n            Switched Paths (LSPs).  Multipoint-to-point
      and point-to-\n            multi-point are for further study (FFS).\n        -x.
      The number of concatenated ATM cells is limited by the MTU\n            size
      and the cell transfer delay (CTD) and cell delay\n            variation (CDV)
      objectives of multiple ATM connections that\n            are multiplexed into
      a single PW.\n"
    title: 6.1.  ATM N-to-One Cell Mode
  - contents:
    - "6.2.  ATM One-to-One Cell Encapsulation\n   This OPTIONAL encapsulation supports
      the Single ATM Connection\n   deployment model.\n   Like the N-to-one cell encapsulation
      mode, the One-to-one mode\n   supports cell concatenation.  The advantage of
      this encapsulation is\n   that it utilizes less bandwidth that the N-to-one
      encapsulation, for\n   a given number of concatenated cells.  Since only one
      ATM VCC or VPC\n   is carried on a PW, the VCI and/or VPI of the ATM VCC or
      VPC can be\n   derived from the context of the PW using the PW label.  These
      fields\n   therefore do not need to be encapsulated for a VCC, and only the
      VCI\n   needs to be encapsulated for a VPC.  This encapsulation thus allows\n
      \  service providers to achieve a higher bandwidth efficiency on PSN\n   links
      than the N-to-one encapsulation for a given number of\n   concatenated cells.\n
      \  The limitations vi, vii, ix, and x of N-to-one mode apply.\n"
    title: 6.2.  ATM One-to-One Cell Encapsulation
  - contents:
    - "6.3.  AAL5 SDU Frame Encapsulation\n   This OPTIONAL encapsulation supports
      the AAL5 model.  This mode\n   allows the transport of ATM AAL5 CSPS-SDUs traveling
      on a particular\n   ATM PVC across the network to another ATM PVC.  This encapsulation
      is\n   used by a PW of type 0x0002 \"ATM AAL5 SDU VCC transport\" as allocated\n
      \  in [RFC4446].\n   The AAL5 SDU encapsulation is more efficient for small
      AAL5 SDUs than\n   the VCC cell encapsulations.  In turn, it presents a more
      efficient\n   alternative to the cell relay service when carrying [RFC2684]-\n
      \  encapsulated IP PDUs across a PSN.\n   The AAL5-SDU encapsulation requires
      Segmentation and Reassembly (SAR)\n   on the PE-CE ATM interface.  This SAR
      function is provided by common\n   off-the-shelf hardware components.  Once
      reassembled, the AAL5-SDU is\n   carried via a pseudowire to the egress PE.
      \ Herein lies another\n   advantage of the AAL5-SDU encapsulation.\n   The limitations
      of the AAL5 SDU encapsulation are:\n        -i. If an ATM OAM cell is received
      at the ingress PE, it is sent\n            before the cells of the surrounding
      AAL5 frame.  Therefore,\n            OAM cell reordering may occur, which may
      cause certain ATM\n            OAM performance monitoring and ATM security applications
      to\n            operate incorrectly.\n       -ii. If the ALL5 PDU is scrambled
      using ATM security standards, a\n            PE will not be able to extract
      the ALL5 SDU, and therefore\n            the whole PDU will be dropped.\n      -iii.
      The AAL5 PDU CRC is not transported across the PSN.  The CRC\n            must
      therefore be regenerated at the egress PE since the CRC\n            has end-to-end
      significance in ATM security.  This means\n            that the AAL5 CRC may
      not be used to accurately check for\n            errors on the end-to-end ATM
      VCC.\n       -iv. The Length of AAL5 frame may exceed the MTU of the PSN.\n
      \           This requires fragmentation, which may not be available to\n            all
      nodes at the PW endpoint.\n        -v. This mode does not preserve the value
      of the CLP bit for\n            every ATM cell within an AAL5 PDU.  Therefore,
      transparency\n            of the CLP setting may be violated.  Additionally,
      tagging\n            of some cells may occur when tagging is not allowed by
      the\n            conformance definition [TM4.0].\n       -vi. This mode does
      not preserve the EFCI state for every ATM\n            cell within an AAL5 PDU.
      \ Therefore, transparency of the\n            EFCI state may be violated.\n"
    title: 6.3.  AAL5 SDU Frame Encapsulation
  - contents:
    - "6.4.  AAL5 PDU Frame Encapsulation\n   This OPTIONAL encapsulation supports
      the AAL5 model.\n   The primary application supported by AAL5 PDU frame encapsulation\n
      \  over PSN is the transparent carriage of ATM layer services that use\n   AAL5
      to carry higher-layer frames.  The main advantage of this AAL5\n   mode is that
      it is transparent to ATM OAM and ATM security\n   applications.\n   One important
      consideration is to allow OAM information to be treated\n   as in the original
      network.  This encapsulation mode allows this\n   transparency while performing
      AAL5 frame encapsulation.  This mode\n   supports fragmentation, which may be
      performed in order to maintain\n   the position of the OAM cells with respect
      to the user cells.\n   Fragmentation may also be performed to maintain the size
      of the\n   packet carrying the AAL5 PDU within the MTU of the link.\n   Fragmentation
      provides a means for the PE to set the size of the PW\n   packet to a different
      value than that of the original AAL5 PDU.  This\n   means that the PE has control
      on the delay and jitter provided to the\n   ATM cells.\n   The whole AAL5-PDU
      is encapsulated.  In this case, all necessary\n   parameters, such as CPCS-UU
      (CPCS User-to-User indicator), CPI\n   (Common Part Indicator), Length (Length
      of the CPCS-SDU) and CRC\n   (Cyclic Redundancy Check), are transported as part
      of the payload.\n   Note that carrying of the full PDU also allows the simplification
      of\n   the fragmentation operation since it is performed at cell boundaries\n
      \  and the CRC in the trailer of the AAL5 PDU can be used to check the\n   integrity
      of the PDU.\n   Reassembly is not required at the egress PE for the PSN-to-ATM\n
      \  direction.\n   The limitations v and vi of the AAL5 SDU mode apply to this
      mode as\n   well.\n"
    title: 6.4.  AAL5 PDU Frame Encapsulation
  title: 6.  Encapsulation Mode Applicability
- contents:
  - '7.  ATM OAM Cell Support

    '
  - contents:
    - "7.1.  VCC Case\n   In general, when configured for ATM VCC service, both PEs
      SHOULD act\n   as a VC switch, in accordance with the OAM procedures defined
      in\n   [I.610].\n   The PEs SHOULD be able to pass the following OAM cells transparently:\n
      \    - F5 Alarm Indication Signal (AIS) (segment and end-to-end)\n     - F5
      Remote Defect Indicator (RDI) (segment and end-to-end)\n     - F5 loopback (segment
      and end-to-end)\n     - Resource Management\n     - Performance Management\n
      \    - Continuity Check\n     - Security\n   However, if configured to be an
      administrative segment boundary, the\n   PE SHOULD terminate and process F5
      segment OAM cells.\n   F4 OAM cells are inserted or extracted at the VP link
      termination.\n   These OAM cells are not seen at the VC link termination and
      are\n   therefore not sent across the PSN.\n   When the PE is operating in AAL5
      CPCS-SDU transport mode if it does\n   not support transport of ATM cells, the
      PE MUST discard incoming MPLS\n   frames on an ATM PW that contain a PW label
      with the T bit set.\n"
    title: 7.1.  VCC Case
  - contents:
    - "7.2.  VPC Case\n   When configured for a VPC cell relay service, both PEs SHOULD
      act as\n   a VP cross-connect in accordance with the OAM procedures defined
      in\n   [I.610].\n   The PEs SHOULD be able to process and pass the following
      OAM cells\n   transparently according to [I.610]:\n     - F4 AIS (segment and
      end-to-end)\n     - F4 RDI (segment and end-to-end)\n     - F4 loopback (segment
      and end-to-end)\n   However, if configured to be an administrative segment boundary,
      the\n   PE SHOULD terminate and process F4 segment OAM cells.\n   F5 OAM are
      not inserted or extracted here.  The PEs MUST be able to\n   pass the following
      OAM cells transparently:\n     - F5 AIS (segment and end-to-end)\n     - F5
      RDI (segment and end-to-end)\n     - F5 loopback (segment and end-to-end)\n
      \    - Resource Management\n     - Performance Management\n     - Continuity
      Check\n     - Security\n   The OAM cell MAY be encapsulated together with other
      user data cells\n   if multiple cell encapsulation is used.\n"
    title: 7.2.  VPC Case
  - contents:
    - "7.3.  SDU/PDU OAM Cell Emulation Mode\n   A PE operating in ATM SDU or PDU
      transport mode that does not support\n   transport of OAM cells across a PW
      MAY provide OAM support on ATM\n   PVCs using the following procedures:\n     -
      Loopback cells response\n       If an F5 end-to-end OAM cell is received from
      an ATM VC, by\n       either PE that is transporting this ATM VC, with a loopback\n
      \      indication value of 1, and the PE has a label mapping for the ATM\n       VC,
      then the PE MUST decrement the loopback indication value and\n       loop back
      the cell on the ATM VC.  Otherwise, the loopback cell\n       MUST be discarded
      by the PE.\n     - AIS alarm\n       If an ingress PE, PE1, receives an AIS
      F4/F5 OAM cell, it MUST\n       notify the remote PE of the failure.  The remote
      PE, PE2, MUST in\n       turn send F5 OAM AIS cells on the respective PVCs.
      \ Note that if\n       the PE supports forwarding of OAM cells, then the received
      OAM\n       AIS alarm cells MUST be forwarded along the PW as well.\n     -
      Interface failure\n       If the PE detects a physical interface failure, or
      the interface\n       is administratively disabled, the PE MUST notify the remote
      PE\n       for all VCs associated with the failure.\n     - PSN/PW failure detection\n
      \      If the PE detects a failure in the PW, by receiving a label\n       withdraw
      for a specific PW ID, or the targeted Label Distribution\n       Protocol (LDP)
      session fails, or a PW status TLV notification is\n       received, then a proper
      AIS F5 OAM cell MUST be generated for all\n       the affected ATM PVCs.  The
      AIS OAM alarm will be generated on\n       the ATM output port of the PE that
      detected the failure.\n"
    title: 7.3.  SDU/PDU OAM Cell Emulation Mode
  - contents:
    - "7.4.  Defect Handling\n   Figure 3 illustrates four possible locations for
      defects on the PWE3\n   service:\n     - (a) On the ATM connection from CE to
      PE\n     - (b) On the ATM side of the PW\n     - (c) On the PSN side of the
      PE\n     - (d) In the PSN\n                   +----+                  +----+\n
      \  +----+          | PE1|==================| PE2|          +----+\n   |    |---a------|b..c........PW1...d.........|----------|
      \   |\n   | CE1|          |    |                  |    |          |CE2 |\n   |
      \   |----------|............PW2.............|----------|    |\n   +----+          |
      \   |==================|    |          +----+\n        ^          +----+                  +----+
      \         ^\n        |      Provider Edge 1         Provider Edge 2     |\n
      \       |                                                  |\n        |<--------------
      Emulated Service ---------------->|\n   Customer                                                Customer\n
      \  Edge 1                                                  Edge 2\n                        Figure
      3: Defect Locations\n   For failures at (a) or (b), in the VPC case, the ingress
      PE MUST be\n   able to generate an F4 AIS upon reception of a lower-layer defect\n
      \  (such as LOS).  In the VCC case, the ingress PE SHOULD be able to\n   generate
      an F5 AIS upon reception of a corresponding F4 AIS or\n   lower-layer defect
      (such as LOS).  These messages are sent across the\n   PSN.\n   For failures
      at (c) or (d), in the VCC case, the egress PE SHOULD be\n   able to generate
      an F5 AIS based on a PSN failure (such as a PSN\n   tunnel failure or LOS on
      the PSN port).  In the VPC case, the egress\n   PE SHOULD be able to generate
      an F4 AIS based on a PSN failure (such\n   as a PSN tunnel failure or LOS on
      the PSN port).\n   If the ingress PE cannot support the generation of OAM cells,
      it MAY\n   notify the egress PE using a pseudowire-specific maintenance\n   mechanism
      such as the PW status message defined in [RFC4447].\n   Alternatively, for example,
      the ingress PE MAY withdraw the\n   pseudowire (PW label) label associated with
      the service.  Upon\n   receiving such a notification, the egress PE SHOULD generate
      the\n   appropriate F4 AIS (for VPC) or F5 AIS (for VCC).\n   If the PW in one
      direction fails, then the complete bidirectional\n   service is considered to
      have failed.\n"
    title: 7.4.  Defect Handling
  title: 7.  ATM OAM Cell Support
- contents:
  - "8.  ATM N-to-One Cell Mode\n   The N-to-one mode (N >= 1) described in this document
    allows a\n   service provider to offer an ATM PVC- or SVC-based service across
    a\n   network.  The encapsulation allows multiple ATM VCCs or VPCs to be\n   carried
    within a single PSN tunnel.  A service provider may also use\n   N-to-one mode
    to provision either one VCC or one VPC on a tunnel.\n   This section defines the
    VCC and VPC cell relay services over a PSN\n   and their applicability.\n"
  - contents:
    - "8.1.  ATM N-to-One Service Encapsulation\n   This section describes the general
      encapsulation format for ATM over\n   PSN pseudowires.\n    0                   1
      \                  2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4
      5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \  |               PSN Transport Header (As Required)              |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \  |                     pseudowire Header                         |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \  |0 0 0 0| Flags |Res|   Length  |     Sequence Number           |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \  |                     ATM Service Payload                       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \        Figure 4: General format for ATM encapsulation over PSNs\n   The PSN
      Transport Header depends on the particular tunneling\n   technology in use.
      \ This header is used to transport the encapsulated\n   ATM information through
      the packet-switched core.\n   The Pseudowire Header identifies a particular
      ATM service on a\n   tunnel.  Non-ATM services may also be carried on the PSN
      tunnel.\n   As shown above, in Figure 4, the ATM Control Word is inserted before\n
      \  the ATM service payload.  It may contain a length field and a\n   sequence
      number field in addition to certain control bits needed to\n   carry the service.\n
      \  The ATM Service Payload is specific to the service being offered via\n   the
      pseudowire.  It is defined in the following sections.\n   In this encapsulation
      mode, ATM cells are transported individually.\n   The encapsulation of a single
      ATM cell is the only REQUIRED\n   encapsulation for ATM.  The encapsulation
      of more than one ATM cell\n   in a PSN frame is OPTIONAL.\n   The ATM cell encapsulation
      consists of an OPTIONAL control word and\n   one or more ATM cells, each consisting
      of a 4-byte ATM cell header\n   and the 48-byte ATM cell payload.  This ATM
      cell header is defined as\n   in the FAST encapsulation [FBATM] section 3.1.1,
      but without the\n   trailer byte.  The length of each frame, without the encapsulation\n
      \  headers, is a multiple of 52 bytes.  The maximum number of ATM cells\n   that
      can be fitted in a frame, in this fashion, is limited only by\n   the network
      MTU and by the ability of the egress router to process\n   them.  The ingress
      router MUST NOT send more cells than the egress\n   router is willing to receive.
      \ The number of cells that the egress\n   router is willing to receive may either
      be configured in the ingress\n   router or be signaled, for example using the
      methods described later\n   in this document and in [RFC4447].  The number of
      cells encapsulated\n   in a particular frame can be inferred by the frame length.
      \ The\n   control word is OPTIONAL.  If the control word is used, then the flag\n
      \  and length bits in the control word are not used.  These bits MUST be\n   set
      to 0 when transmitting, and MUST be ignored upon receipt.\n   The EFCI and CLP
      bits are carried across the network in the ATM cell\n   header.  The edge routers
      that implement this document MAY, when\n   either adding or removing the encapsulation
      described herein, change\n   the EFCI bit from zero to one in order to reflect
      congestion in the\n   network that is known to the edge router, and change the
      CLP bit from\n   zero to one in order to reflect marking from edge policing
      of the ATM\n   Sustained Cell Rate.  The EFCI and CLP bits SHOULD NOT be changed\n
      \  from one to zero.\n   This diagram illustrates an encapsulation of two ATM
      cells:\n    0                   1                   2                   3\n
      \   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \  |                  Control word ( Optional )                    |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \  |          VPI          |              VCI              | PTI |C|\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \  |                  ATM Payload ( 48 bytes )                     |\n   |                          \"
      \                                   |\n   |                          \"                                    |\n
      \  |                          \"                                    |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \  |          VPI          |              VCI              | PTI |C|\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \  |                  ATM Payload ( 48 bytes )                     |\n   |                          \"
      \                                   |\n   |                          \"                                    |\n
      \  |                          \"                                    |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \                Figure 5: Multiple Cell ATM Encapsulation\n     * When multiple
      VCCs or VPCs are transported in one pseudowire,\n       VPI/VCI values MUST
      be unique.  When the multiple VCCs or VPCs\n       are from different a physical
      transmission path, it may be\n       necessary to assign unique VPI/VCI values
      to the ATM connections.\n       If they are from the same physical transmission
      path, the VPI/VCI\n       values are unique.\n     * VPI\n       The ingress
      router MUST copy the VPI field from the incoming cell\n       into this field.
      \ For particular emulated VCs, the egress router\n       MAY generate a new
      VPI and ignore the VPI contained in this\n       field.\n     * VCI\n       The
      ingress router MUST copy the VCI field from the incoming ATM\n       cell header
      into this field.  For particular emulated VCs, the\n       egress router MAY
      generate a new VCI.\n     * PTI & CLP (C bit)\n       The PTI and CLP fields
      are the PTI and CLP fields of the incoming\n       ATM cells.  The cell headers
      of the cells within the packet are\n       the ATM headers (without Header Error
      Check (HEC) field) of the\n       incoming cell.\n"
    title: 8.1.  ATM N-to-One Service Encapsulation
  title: 8.  ATM N-to-One Cell Mode
- contents:
  - "9.  ATM One-to-One Cell Mode\n   The One-to-one mode described in this document
    allows a service\n   provider to offer an ATM PVC- or SVC-based service across
    a network.\n   The encapsulation allows one ATM VCC or VPC to be carried within
    a\n   single pseudowire.\n"
  - contents:
    - "9.1.  ATM One-to-One Service Encapsulation\n   This section describes the general
      encapsulation format for ATM over\n   pseudowires on an MPLS PSN.  Figure 6
      provides a general format for\n   encapsulation of ATM cells into packets.\n
      \   0                   1                   2                   3\n    0 1 2
      3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \  |               PSN Transport Header (As Required)              |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \  |                     Pseudowire Header                        |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \  |0 0 0 0| Resvd |    Optional Sequence Number   | ATM Specific  |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \  |                     ATM Service Payload                       |\n   |                                                               |\n
      \  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   Figure
      6: General format for One-to-one mode encapsulation over PSNs\n   The MPLS PSN
      Transport Header depends on how the MPLS network is\n   configured.  The Pseudowire
      Header identifies a particular ATM\n   service within the PSN tunnel created
      by the PSN Transport Header.\n   This header is used to transport the encapsulated
      ATM information\n   through the packet-switched core.\n   The generic control
      word is inserted after the Pseudowire Header.\n   The presence of the control
      word is REQUIRED.\n   The ATM Specific Header is inserted before the ATM service
      payload.\n   The ATM Specific Header contains control bits needed to carry the\n
      \  service.  These are defined in the ATM service descriptions below.\n   The
      length of ATM Specific Header may not always be one octet.  It\n   depends on
      the service type.\n   The ATM payload octet group is the payload of the service
      that is\n   being encapsulated.\n"
    title: 9.1.  ATM One-to-One Service Encapsulation
  - contents:
    - "9.2.  Sequence Number\n   The sequence number is not required for all services.\n
      \  Treatment of the sequence number is according to section 5.1.3.\n"
    title: 9.2.  Sequence Number
  - contents:
    - "9.3.  ATM VCC Cell Transport Service\n   The VCC cell transport service is
      characterized by the mapping of a\n   single ATM VCC (VPI/VCI) to a pseudowire.
      \ This service is fully\n   transparent to the ATM Adaptation Layer.  The VCC
      single cell\n   transport service is OPTIONAL.  This service MUST use the following\n
      \  encapsulation format:\n       0                   1                   2                   3\n
      \      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \     |               PSN Transport Header (As Required)              |\n      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \     |                      Pseudowire Header                        |\n      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \     |0 0 0 0| Resvd |  Optional Sequence Number     |M|V|Res| PTI |C|\n      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \     |                                                               |\n      |
      \                  ATM Cell Payload ( 48 bytes )               |\n      |                                                               |\n
      \     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n                Figure
      7: Single ATM VCC Cell Encapsulation\n     * M (transport mode) bit\n       Bit
      (M) of the control byte indicates whether the packet contains\n       an ATM
      cell or a frame payload.  If set to 0, the packet contains\n       an ATM cell.
      \ If set to 1, the PDU contains an AAL5 payload.\n     * V (VCI present) bit\n
      \      Bit (V) of the control byte indicates whether the VCI field is\n       present
      in the packet.  If set to 1, the VCI field is present for\n       the cell.
      \ If set to 0, no VCI field is present.  In the case of\n       a VCC, the VCI
      field is not required.  For VPC, the VCI field is\n       required and is transmitted
      with each cell.\n     * Reserved bits\n       The reserved bits should be set
      to 0 at the transmitter and\n       ignored upon reception.\n     * PTI Bits\n
      \      The 3-bit Payload Type Identifier (PTI) incorporates ATM Layer\n       PTI
      coding of the cell.  These bits are set to the value of the\n       PTI of the
      encapsulated ATM cell.\n     * C (CLP) Bit\n       The Cell Loss Priority (CLP)
      field indicates CLP value of the\n       encapsulated cell.\n   For increased
      transport efficiency, the ingress PE SHOULD be able to\n   encapsulate multiple
      ATM cells into a pseudowire PDU.  The ingress\n   and egress PE MUST agree to
      a maximum number of cells in a single\n   pseudowire PDU.  This agreement may
      be accomplished via a\n   pseudowire-specific signaling mechanism or via static
      configuration.\n   When multiple cells are encapsulated in the same PSN packet,
      the\n   ATM-specific byte MUST be repeated for each cell.  This means that 49\n
      \  bytes are used to encapsulate each 53 byte ATM cell.\n    0                   1
      \                  2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4
      5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \  |               PSN Transport Header (As Required)              |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \  |                      Pseudowire Header                       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \  |0 0 0 0| Resvd |  Optional Sequence Number     |M|V|Res| PTI |C|\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \  |                                                               |\n   |                   ATM
      Cell Payload ( 48 bytes )               |\n   |                                                               |\n
      \  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   |M|V|Res|
      PTI |C|                                               |\n   +-+-+-+-+-+-+-+-+
      \                                              |\n   |                   ATM
      Cell Payload ( 48 bytes )               |\n   |                                                               |\n
      \  |               +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   |               |\n
      \  +-+-+-+-+-+-+-+-+\n               Figure 8: Multiple ATM VCC Cell Encapsulation\n"
    title: 9.3.  ATM VCC Cell Transport Service
  - contents:
    - "9.4.  ATM VPC Services\n   The VPC service is defined by mapping a single VPC
      (VPI) to a\n   pseudowire.  As such, it emulates a Virtual Path cross-connect
      across\n   the PSN.  All VCCs belonging to the VPC are carried transparently
      by\n   the VPC service.\n   The egress PE may choose to apply a different VPI
      other than the one\n   that arrived at the ingress PE.  The egress PE MUST choose
      the\n   outgoing VPI based solely upon the pseudowire header.  As a VPC\n   service,
      the egress PE MUST NOT change the VCI field.\n"
    - contents:
      - "9.4.1.  ATM VPC Cell Transport Services\n   The ATM VPC cell transport service
        is OPTIONAL.\n   This service MUST use the following cell mode encapsulation:\n
        \   0                   1                   2                   3\n    0 1
        2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |               PSN Transport Header (As Required)              |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |                      Pseudowire Header                       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |0 0 0 0| Resvd |  Optional Sequence Number     |M|V|Res| PTI |C|\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |             VCI               |                               |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        \                              |\n   |                                                               |\n
        \  |                   ATM Cell Payload ( 48 bytes )               |\n   |
        \                                                              |\n   |                               +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |                               |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \                 Figure 9: Single Cell VPC Encapsulation\n   The ATM control
        byte contains the same information as in the VCC\n   encapsulation except
        for the VCI field.\n     * VCI Bits\n       The 16-bit Virtual Circuit Identifier
        (VCI) incorporates ATM\n       Layer VCI value of the cell.\n   For increased
        transport efficiency, the ingress PE SHOULD be able to\n   encapsulate multiple
        ATM cells into a pseudowire PDU.  The ingress\n   and egress PE MUST agree
        to a maximum number of cells in a single\n   pseudowire PDU.  This agreement
        may be accomplished via a\n   pseudowire-specific signaling mechanism or via
        static configuration.\n   If the Egress PE supports cell concatenation, the
        ingress PE MUST\n   only concatenate cells up to the \"Maximum Number of concatenated
        ATM\n   cells in a frame\" interface parameter sub-TLV as received as part
        of\n   the control protocol [RFC4447].\n   When multiple ATM cells are encapsulated
        in the same PSN packet, the\n   ATM-specific byte MUST be repeated for each
        cell.  This means that 51\n   bytes are used to encapsulate each 53-byte ATM
        cell.\n    0                   1                   2                   3\n
        \   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |               PSN Transport Header (As Required)              |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |                      Pseudowire Header                       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |0 0 0 0| Resvd |  Optional Sequence Number     |M|V|Res| PTI |C|\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |             VCI               |                               |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        \                              |\n   |                                                               |\n
        \  |                   ATM Cell Payload (48 bytes)                 |\n   |
        \                                                              |\n   |                               +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |                               |M|V|Res| PTI |C|        VCI    |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |   VCI         |                                               |\n   +-+-+-+-+-+-+-+-+
        \                                              |\n   |                   ATM
        Cell Payload (48 bytes)                 |\n   |                                                               |\n
        \  |               +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   |
        \              |\n   +-+-+-+-+-+-+-+-+\n                Figure 10: Multiple
        Cell VPC Encapsulation\n"
      title: 9.4.1.  ATM VPC Cell Transport Services
    title: 9.4.  ATM VPC Services
  title: 9.  ATM One-to-One Cell Mode
- contents:
  - "10.  ATM AAL5 CPCS-SDU Mode\n   The AAL5 payload VCC service defines a mapping
    between the payload of\n   an AAL5 VCC and a single pseudowire.  The AAL5 payload
    VCC service\n   requires ATM segmentation and reassembly support on the PE.\n
    \  The AAL5 payload CPCS-SDU service is OPTIONAL.\n   Even the smallest TCP packet
    requires two ATM cells when sent over\n   AAL5 on a native ATM device.  It is
    desirable to avoid this padding\n   on the pseudowire.  Therefore, once the ingress
    PE reassembles the\n   AAL5 CPCS-PDU, the PE discards the PAD and CPCS-PDU trailer,
    and then\n   the ingress PE inserts the resulting payload into a pseudowire PDU.\n
    \  The egress PE MUST regenerate the PAD and trailer before transmitting\n   the
    AAL5 frame on the egress ATM port.\n   This service does allow the transport of
    OAM and RM cells, but it\n   does not attempt to maintain the relative order of
    these cells with\n   respect to the cells that comprise the AAL5 CPCS-PDU.  All
    OAM cells,\n   regardless of their type, that arrive during the reassembly of
    a\n   single AAL5 CPCS-PDU are sent immediately on the pseudowire using\n   N-to-one
    cell encapsulation, followed by the AAL5 payload.\n   Therefore, the AAL5 payload
    VCC service will not be suitable for ATM\n   applications that require strict
    ordering of OAM cells (such as\n   performance monitoring and security applications).\n"
  - contents:
    - "10.1.  Transparent AAL5 SDU Frame Encapsulation\n   The AAL5 CPCS-SDU is prepended
      by the following header:\n    0                   1                   2                   3\n
      \   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \  |  Res  |T|E|C|U|Res|  Length   |   Sequence Number (Optional)  |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \  |                              \"                                |\n   |
      \                    ATM cell or AAL5 CPCS-SDU                 |\n   |                              \"
      \                               |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \                 Figure 11: AAL5 CPCS-SDU Encapsulation\n   The AAL5 payload
      service encapsulation requires the ATM control word.\n   The Flag bits are described
      below.\n     * Res (Reserved)\n       These bits are reserved and MUST be set
      to 0 upon transmission\n       and ignored upon reception.\n     * T (transport
      type) bit\n       Bit (T) of the control word indicates whether the packet contains\n
      \      an ATM admin cell or an AAL5 payload.  If T = 1, the packet\n       contains
      an ATM admin cell, encapsulated according to the N-to-\n       one cell relay
      encapsulation, Figure 4.  If not set, the PDU\n       contains an AAL5 payload.
      \ The ability to transport an ATM cell\n       in the AAL5 SDU mode is intended
      to provide a means of enabling\n       administrative functionality over the
      AAL5 VCC (though it does\n       not endeavor to preserve user-cell and admin-cell\n
      \      arrival/transport ordering).\n     * E (EFCI) Bit\n       The ingress
      router, PE1, SHOULD set this bit to 1 if the EFCI bit\n       of the final cell
      of those that transported the AAL5 CPCS-SDU is\n       set to 1, or if the EFCI
      bit of the single ATM cell to be\n       transported in the packet is set to
      1.  Otherwise, this bit\n       SHOULD be set to 0.  The egress router, PE2,
      SHOULD set the EFCI\n       bit of all cells that transport the AAL5 CPCS-SDU
      to the value\n       contained in this field.\n     * C (CLP) Bit\n       The
      ingress router, PE1, SHOULD set this bit to 1 if the CLP bit\n       of any
      of the ATM cells that transported the AAL5 CPCS-SDU is set\n       to 1, or
      if the CLP bit of the single ATM cell to be transported\n       in the packet
      is set to 1.  Otherwise this bit SHOULD be set to\n       0.  The egress router,
      PE2, SHOULD set the CLP bit of all cells\n       that transport the AAL5 CPCS-SDU
      to the value contained in this\n       field.\n     * U (Command/Response Field)
      Bit\n       When FRF.8.1 Frame Relay/ATM PVC Service Interworking [RFC3916]\n
      \      traffic is being transported, the CPCS-UU Least Significant Bit\n       (LSB)
      of the AAL5 CPCS-PDU may contain the Frame Relay C/R bit.\n       The ingress
      router, PE1, SHOULD copy this bit to the U bit of the\n       control word.
      \ The egress router, PE2, SHOULD copy the U bit to\n       the CPCS-UU Least
      Significant Bit (LSB) of the AAL5 CPCS PDU.\n"
    title: 10.1.  Transparent AAL5 SDU Frame Encapsulation
  title: 10.  ATM AAL5 CPCS-SDU Mode
- contents:
  - "11.  AAL5 PDU Frame Mode\n   The AAL5 payload PDU service is OPTIONAL.\n"
  - contents:
    - "11.1.  Transparent AAL5 PDU Frame Encapsulation\n   In this mode, the ingress
      PE encapsulates the entire CPCS-PDU\n   including the PAD and trailer.\n   This
      mode MAY support fragmentation procedures described in the\n   \"Fragmentation\"
      section below, in order to maintain OAM cell\n   sequencing.\n   Like the ATM
      AAL5 payload VCC service, the AAL5 transparent VCC\n   service is intended to
      be more efficient than the VCC cell transport\n   service.  However, the AAL5
      transparent VCC service carries the\n   entire AAL5 CPCS-PDU, including the
      PAD and trailer.  Note that the\n   AAL5 CPCS-PDU is not processed, i.e., an
      AAL5 frame with an invalid\n   CRC or length field will be transported.  One
      reason for this is that\n   there may be a security agent that has scrambled
      the ATM cell\n   payloads that form the AAL5 CPCS-PDU.\n   This service supports
      all OAM cell flows by using a fragmentation\n   procedure that ensures that
      OAM cells are not repositioned in respect\n   to AAL5 composite cells.\n   The
      AAL5 transparent VCC service is OPTIONAL.\n   0                   1                   2
      \                  3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4
      5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \  |               PSN Transport Header (As Required)              |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \  |                      Pseudowire Header                       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \  |0 0 0 0| Resvd |   Optional Sequence Number    |M|V| Res |U|E|C|\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \  |                             \"                                 |\n   |
      \                       AAL5 CPCS-PDU                          |\n   |                      (n
      * 48 bytes)                           |\n   |                             \"
      \                                |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \            Figure 12: AAL5 transparent service encapsulation\n   The generic
      control word is inserted after the Pseudowire Header.\n   The presence of the
      control word is MANDATORY.\n   The M, V, Res, and C bits are as defined earlier
      for VCC One-to-one\n   cell mode.\n     * U Bit\n       This field indicates
      whether this frame contains the last cell of\n       an AAL5 PDU and represents
      the value of the ATM User-to-User bit\n       for the last ATM cell of the PSN
      frame.  Note: The ATM User-to-\n       User bit is the least significant bit
      of the PTI field in the ATM\n       header.  This field is used to support the
      fragmentation\n       functionality described later in this section.\n     *
      E (EFCI) bit\n       This field is used to convey the EFCI state of the ATM
      cells.\n       The EFCI state is indicated in the middle bit of each ATM cell's\n
      \      PTI field.\n       ATM-to-PSN direction (ingress): The EFCI field of
      the control\n       byte is set to the EFCI state of the last cell of the AAL5
      PDU or\n       AAL5 fragment.\n       PSN-to-ATM direction (egress): The EFCI
      state of all constituent\n       cells of the AAL5 PDU or AAL5 fragment is set
      to the value of the\n       EFCI field in the control byte.\n     * C (CLP)
      bit\n       This field is used to convey the cell loss priority of the ATM\n
      \      cells.\n       ATM-to-PSN direction (ingress): The CLP field of the control
      byte\n       is set to 1 if any of the constituent cells of the AAL5 PDU or\n
      \      AAL5 fragment has its CLP bit set to 1; otherwise, this field is\n       set
      to 0.\n       PSN-to-ATM direction (egress): The CLP bit of all constituent\n
      \      cells for an AAL5 PDU or AAL5 fragment is set to the value of the\n       CLP
      field in the control byte.  The payload consists of the\n       re-assembled
      AAL5 CPCS-PDU, including the AAL5 padding and\n       trailer or the AAL5 fragment.\n"
    title: 11.1.  Transparent AAL5 PDU Frame Encapsulation
  - contents:
    - "11.2.  Fragmentation\n   The ingress PE may not always be able to reassemble
      a full AAL5\n   frame.  This may be because the AAL5 PDU exceeds the pseudowire
      MTU\n   or because OAM cells arrive during reassembly of the AAL5 PDU.  In\n
      \  these cases, the AAL5 PDU shall be fragmented.  In addition,\n   fragmentation
      may be desirable to bound ATM cell delay.\n   When fragmentation occurs, the
      procedures described in the following\n   subsections shall be followed.\n"
    - contents:
      - "11.2.1.  Procedures in the ATM-to-PSN Direction\n   The following procedures
        shall apply while fragmenting AAL5 PDUs:\n     - Fragmentation shall always
        occur at cell boundaries within the\n       AAL5 PDU.\n     - Set the UU bit
        to the value of the ATM User-to-User bit in the\n       cell header of the
        most recently received ATM cell.\n     - The E and C bits of the fragment
        shall be set as defined in\n       section 9.\n     - If the arriving cell
        is an OAM or an RM cell, send the current\n       PSN frame and then send
        the OAM or RM cell using One-to-one\n       single cell encapsulation (VCC).\n"
      title: 11.2.1.  Procedures in the ATM-to-PSN Direction
    - contents:
      - "11.2.2.  Procedures in the PSN-to-ATM Direction\n   The following procedures
        shall apply:\n     - The 3-bit PTI field of each ATM cell header is constructed
        as\n       follows:\n        -i. The most significant bit is set to 0, indicating
        a user data\n            cell.\n       -ii. The middle bit is set to the E
        bit value of the fragment.\n      -iii. The least significant bit for the
        last ATM cell in the PSN\n            frame is set to the value of the UU
        bit of Figure 12.\n       -iv. The least significant PTI bit is set to 0 for
        all other\n            cells in the PSN frame.\n     - The CLP bit of each
        ATM cell header is set to the value of the C\n       bit of the control byte
        in Figure 12.\n     - When a fragment is received, each constituent ATM cell
        is sent in\n       correct order.\n"
      title: 11.2.2.  Procedures in the PSN-to-ATM Direction
    title: 11.2.  Fragmentation
  title: 11.  AAL5 PDU Frame Mode
- contents:
  - "12.  Mapping of ATM and PSN Classes of Service\n   This section is provided for
    informational purposes, and for guidance\n   only.  This section should not be
    considered part of the standard\n   proposed in this document.\n   When ATM PW
    service is configured over a PSN, the ATM service\n   category of a connection
    SHOULD be mapped to a compatible class of\n   service in the PSN network.  A compatible
    class of service maintains\n   the integrity of the service end to end.  For example,
    the CBR\n   service category SHOULD be mapped to a class of service with\n   stringent
    loss and delay objectives.  If the PSN implements the IP\n   Diffserv framework,
    a class of service based on the EF PHB is a good\n   candidate.\n   Furthermore,
    ATM service categories have support for multiple\n   conformance definitions [TM4.0].
    \ Some are CLP blind (e.g., CBR),\n   meaning that the QoS objectives apply to
    the aggregate CLP0+1\n   conforming cell flow.  Some are CLP significant (e.g.,
    VBR.3),\n   meaning that the QoS objectives apply to the CLP0 conforming cell\n
    \  flow only.\n   When the PSN is MPLS based, a mapping between the CLP bit and
    the EXP\n   field can be performed to provide visibility of the cell loss\n   priority
    in the MPLS network.  The actual value to be marked in the\n   EXP field depends
    on the ATM service category, the ATM conformance\n   definition, and the type
    of tunnel LSP used (E-LSP or L-LSP).  The\n   details of this mapping are outside
    the scope of this document.\n   Operators have the flexibility to design a specific
    mapping that\n   satisfies their own requirements.\n   In both the ATM-to-PSN
    and PSN-to-ATM directions, the method used to\n   transfer the CLP and EFCI information
    of the individual cells into\n   the ATM-specific field, or flags, of the PW packet
    is described in\n   detail in sections 6 through 9 for each encapsulation mode.\n"
  title: 12.  Mapping of ATM and PSN Classes of Service
- contents:
  - "13.  ILMI Support\n   An MPLS edge PE MAY provide an ATM Integrated Local Management\n
    \  Interface (ILMI) to the ATM edge switch.  If an ingress PE receives\n   an
    ILMI message indicating that the ATM edge switch has deleted a VC,\n   or if the
    physical interface goes down, it MUST send a PW status\n   notification message
    for all PWs associated with the failure.  When a\n   PW label mapping is withdrawn,
    or PW status notification message is\n   received, the egress PE MUST notify its
    client of this failure by\n   deleting the VC using ILMI.\n"
  title: 13.  ILMI Support
- contents:
  - "14.  ATM-Specific Interface Parameter Sub-TLVs\n   The Interface parameter TLV
    is defined in [RFC4447], and the IANA\n   registry with initial values for interface
    parameter sub-TLV types is\n   defined in [RFC4446], but the ATM PW-specific interface
    parameter is\n   specified as follows:\n     - 0x02 Maximum Number of concatenated
    ATM cells.\n       A 2-octet value specifying the maximum number of concatenated
    ATM\n       cells that can be processed as a single PDU by the egress PE.  An\n
    \      ingress PE transmitting concatenated cells on this PW can\n       concatenate
    a number of cells up to the value of this parameter,\n       but MUST NOT exceed
    it.  This parameter is applicable only to PW\n       types 3, 9, 0x0a, 0xc, [RFC4446],
    and 0xd and is REQUIRED for\n       these PWC types.  This parameter does not
    need to match in both\n       directions of a specific PW.\n"
  title: 14.  ATM-Specific Interface Parameter Sub-TLVs
- contents:
  - "15.  Congestion Control\n   As explained in [RFC3985], the PSN carrying the PW
    may be subject to\n   congestion, with congestion characteristics depending on
    PSN type,\n   network architecture, configuration, and loading.  During congestion\n
    \  the PSN may exhibit packet loss that will impact the service carried\n   by
    the ATM PW.  In addition, since ATM PWs carry a variety of\n   services across
    the PSN, including but not restricted to TCP/IP, they\n   may or may not behave
    in a TCP-friendly manner prescribed by\n   [RFC2914].  In the presence of services
    that reduce transmission\n   rate, ATM PWs may thus consume more than their fair
    share and in that\n   case SHOULD be halted.\n   Whenever possible, ATM PWs should
    be run over traffic-engineered PSNs\n   providing bandwidth allocation and admission
    control mechanisms.\n   IntServ-enabled domains providing the Guaranteed Service
    (GS) or\n   Diffserv-enabled domains using EF (expedited forwarding) are examples\n
    \  of traffic-engineered PSNs.  Such PSNs will minimize loss and delay\n   while
    providing some degree of isolation of the ATM PW's effects from\n   neighboring
    streams.\n   It should be noted that when transporting ATM, Diffserv-enabled\n
    \  domains may use AF (Assured Forwarding) and/or DF (Default\n   Forwarding)
    instead of EF, in order to place less burden on the\n   network and gain additional
    statistical multiplexing advantage.  In\n   particular, Table 1 of Appendix \"V\"
    in [ATM-MPLS] contains a detailed\n   mapping between ATM classes and Diffserv
    classes.\n   The PEs SHOULD monitor for congestion (by using explicit congestion\n
    \  notification, [VCCV], or by measuring packet loss) in order to ensure\n   that
    the service using the ATM PW may be maintained.  When a PE\n   detects significant
    congestion while receiving the PW PDUs, the PE\n   MAY use RM cells for ABR connections
    to notify the remote PE.\n   If the PW has been set up using the protocol defined
    in [RFC4447],\n   then procedures specified in [RFC4447] for status notification
    can be\n   used to disable packet transmission on the ingress PE from the egress\n
    \  PE.  The PW may be restarted by manual intervention, or by automatic\n   means
    after an appropriate waiting time.\n"
  title: 15.  Congestion Control
- contents:
  - "16.  Security Considerations\n   This document specifies only encapsulations,
    not the protocols used\n   to carry the encapsulated packets across the PSN.  Each
    such protocol\n   may have its own set of security issues [RFC4447][RFC3985],
    but those\n   issues are not affected by the encapsulations specified herein.
    \ Note\n   that the security of the transported ATM service will only be as good\n
    \  as the security of the PSN.  This level of security might be less\n   rigorous
    than a native ATM service.\n"
  title: 16.  Security Considerations
- contents:
  - "17.  Normative References\n   [RFC2119]  Bradner, S., \"Key words for use in
    RFCs to Indicate\n              Requirement Levels\", BCP 14, RFC 2119, March
    1997.\n   [RFC4447]  Martini, L., Rosen, E., El-Aawar, N., Smith, T., and G.\n
    \             Heron, \"Pseudowire Setup and Maintenance Using the Label\n              Distribution
    Protocol (LDP)\", RFC 4447, April 2006.\n   [RFC3032]  Rosen, E., Tappan, D.,
    Fedorkow, G., Rekhter, Y.,\n              Farinacci, D., Li, T., and A. Conta,
    \"MPLS Label Stack\n              Encoding\", RFC 3032, January 2001.\n   [RFC4446]
    \ Martini, L., \"IANA Allocations for Pseudowire Edge to Edge\n              Emulation
    (PWE3)\", BCP 116, RFC 4446, April 2006.\n   [RFC4385]  Bryant, S., Swallow, G.,
    Martini, L., and D. McPherson,\n              \"Pseudowire Emulation Edge-to-Edge
    (PWE3) Control Word for\n              Use over an MPLS PSN\", RFC 4385, February
    2006.\n"
  title: 17.  Normative References
- contents:
  - "18.  Informative References\n   [FBATM]    ATM Forum Specification af-fbatm-0151.000
    (2000), \"Frame\n              Based ATM over SONET/SDH Transport (FAST)\"\n   [TM4.0]
    \   ATM Forum Specification af-tm-0121.000 (1999), \"Traffic\n              Management
    Specification Version 4.1\"\n   [I.371]    ITU-T Recommendation I.371 (2000),
    \"Traffic control and\n              congestion control in B-ISDN\".\n   [I.610]
    \   ITU-T Recommendation I.610, (1999), \"B-ISDN operation and\n              maintenance
    principles and functions\".\n   [Y.1411]   ITU-T Recommendation Y.1411 (2003),
    ATM-MPLS Network\n              Interworking - Cell Mode user Plane Interworking\n
    \  [Y.1412]   ITU-T Recommendation Y.1412 (2003), ATM-MPLS network\n              interworking
    - Frame mode user plane interworking\n   [RFC3985]  Bryant, S. and P. Pate, \"Pseudo
    Wire Emulation Edge-to-\n              Edge (PWE3) Architecture\", RFC 3985, March
    2005.\n   [RFC3916]  Xiao, X., McPherson, D., and P. Pate, \"Requirements for\n
    \             Pseudo-Wire Emulation Edge-to-Edge (PWE3)\", RFC 3916,\n              September
    2004.\n   [RFC4026]  Andersson, L. and T. Madsen, \"Provider Provisioned Virtual\n
    \             Private Network (VPN) Terminology\", RFC 4026, March 2005.\n   [VCCV]
    \    Nadeau, T., Pignataro, C., and R. Aggarwal, \"Pseudowire\n              Virtual
    Circuit Connectivity Verification (VCCV)\", Work in\n              Progress, June
    2006.\n   [RFC2992]  Hopps, C., \"Analysis of an Equal-Cost Multi-Path\n              Algorithm\",
    RFC 2992, November 2000.\n   [ATM-MPLS] ATM Forum Specification af-aic-0178.001,
    \"ATM-MPLS Network\n              Interworking Version 2.0\", August 2003.\n   [RFC2914]
    \ Floyd, S., \"Congestion Control Principles\", BCP 41, RFC\n              2914,
    September 2000.\n   [RFC2684]  Grossman, D. and J. Heinanen, \"Multiprotocol Encapsulation\n
    \             over ATM Adaptation Layer 5\", RFC 2684, September 1999.\n"
  title: 18.  Informative References
- contents:
  - "19.  Significant Contributors\n   Giles Heron\n   Tellabs\n   Abbey Place\n   24-28
    Easton Street\n   High Wycombe\n   Bucks\n   HP11 1NT\n   UK\n   EMail: giles.heron@tellabs.com\n
    \  Dimitri Stratton Vlachos\n   Mazu Networks, Inc.\n   125 Cambridgepark Drive\n
    \  Cambridge, MA 02140\n   EMail: d@mazunetworks.com\n   Dan Tappan\n   Cisco
    Systems, Inc.\n   1414 Massachusetts Avenue\n   Boxborough, MA 01719\n   EMail:
    tappan@cisco.com\n   Eric C. Rosen\n   Cisco Systems, Inc.\n   1414 Massachusetts
    Avenue\n   Boxborough, MA 01719\n   EMail: erosen@cisco.com\n   Steve Vogelsang\n
    \  ECI Telecom\n   Omega Corporate Center\n   1300 Omega Drive\n   Pittsburgh,
    PA 15205\n   EMail: stephen.vogelsang@ecitele.com\n   Gerald de Grace\n   ECI
    Telecom\n   Omega Corporate Center\n   1300 Omega Drive\n   Pittsburgh, PA 15205\n
    \  EMail: gerald.degrace@ecitele.com\n   John Shirron\n   ECI Telecom\n   Omega
    Corporate Center\n   1300 Omega Drive\n   Pittsburgh, PA 15205\n   EMail: john.shirron@ecitele.com\n
    \  Andrew G. Malis\n   Verizon Communications\n   40 Sylvan Road\n   Waltham,
    MA\n   EMail: andrew.g.malis@verizon.com\n   Phone: 781-466-2362\n   Vinai Sirkay\n
    \  Redback Networks\n   300 Holger Way\n   San Jose, CA 95134\n   EMail: vsirkay@redback.com\n
    \  Chris Liljenstolpe\n   Alcatel\n   11600 Sallie Mae Dr.\n   9th Floor\n   Reston,
    VA 20193\n   EMail: chris.liljenstolpe@alcatel.com\n   Kireeti Kompella\n   Juniper
    Networks\n   1194 N. Mathilda Ave\n   Sunnyvale, CA 94089\n   EMail: kireeti@juniper.net\n
    \  John Fischer\n   Alcatel\n   600 March Rd\n   Kanata, ON, Canada. K2K 2E6\n
    \  EMail: john.fischer@alcatel.com\n   Mustapha Aissaoui\n   Alcatel\n   600 March
    Rd\n   Kanata, ON, Canada. K2K 2E6\n   EMail: mustapha.aissaoui@alcatel.com\n
    \  Tom Walsh\n   Lucent Technologies\n   1 Robbins Road\n   Westford, MA 01886
    USA\n   EMail: tdwalsh@lucent.com\n   John Rutemiller\n   Marconi Networks\n   1000
    Marconi Drive\n   Warrendale, PA 15086\n   EMail: John.Rutemiller@marconi.com\n
    \  Rick Wilder\n   Alcatel\n   45195 Business Court\n   Loudoun Gateway II Suite
    300\n   M/S STERV-SMAE\n   Sterling, VA 20166\n   EMail: Rick.Wilder@alcatel.com\n
    \  Laura Dominik\n   Qwest Communications, Inc.\n   600 Stinson Blvd.\n   Minneapolis,
    MN 55413\n   Email: ldomini@qwest.com\n"
  title: 19.  Significant Contributors
- contents:
  - "Authors' Addresses\n   Luca Martini\n   Cisco Systems, Inc.\n   9155 East Nichols
    Avenue, Suite 400\n   Englewood, CO 80112\n   EMail: lmartini@cisco.com\n   Jayakumar
    Jayakumar\n   Cisco Systems, Inc.\n   225 E.Tasman, MS-SJ3/3\n   San Jose, CA
    95134\n   EMail: jjayakum@cisco.com\n   Matthew Bocci\n   Alcatel\n   Grove House,
    Waltham Road Rd\n   White Waltham, Berks, UK. SL6 3TN\n   EMail: matthew.bocci@alcatel.co.uk\n
    \  Nasser El-Aawar\n   Level 3 Communications, LLC.\n   1025 Eldorado Blvd.\n
    \  Broomfield, CO 80021\n   EMail: nna@level3.net\n   Jeremy Brayley\n   ECI Telecom
    Inc.\n   Omega Corporate Center\n   1300 Omega Drive\n   Pittsburgh, PA 15205\n
    \  EMail: jeremy.brayley@ecitele.com\n   Ghassem Koleyni\n   Nortel Networks\n
    \  P O Box 3511, Station C Ottawa, Ontario,\n   K1Y 4H7 Canada\n   EMail: ghassem@nortelnetworks.com\n"
  title: Authors' Addresses
- contents:
  - "Full Copyright Statement\n   Copyright (C) The IETF Trust (2006).\n   This document
    is subject to the rights, licenses and restrictions\n   contained in BCP 78, and
    except as set forth therein, the authors\n   retain all their rights.\n   This
    document and the information contained herein are provided on an\n   \"AS IS\"
    basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS\n   OR IS SPONSORED
    BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST,\n   AND THE INTERNET ENGINEERING
    TASK FORCE DISCLAIM ALL WARRANTIES,\n   EXPRESS OR IMPLIED, INCLUDING BUT NOT
    LIMITED TO ANY WARRANTY THAT\n   THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE
    ANY RIGHTS OR ANY\n   IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR\n
    \  PURPOSE.\n"
  title: Full Copyright Statement
- contents:
  - "Intellectual Property\n   The IETF takes no position regarding the validity or
    scope of any\n   Intellectual Property Rights or other rights that might be claimed
    to\n   pertain to the implementation or use of the technology described in\n   this
    document or the extent to which any license under such rights\n   might or might
    not be available; nor does it represent that it has\n   made any independent effort
    to identify any such rights.  Information\n   on the procedures with respect to
    rights in RFC documents can be\n   found in BCP 78 and BCP 79.\n   Copies of IPR
    disclosures made to the IETF Secretariat and any\n   assurances of licenses to
    be made available, or the result of an\n   attempt made to obtain a general license
    or permission for the use of\n   such proprietary rights by implementers or users
    of this\n   specification can be obtained from the IETF on-line IPR repository
    at\n   http://www.ietf.org/ipr.\n   The IETF invites any interested party to bring
    to its attention any\n   copyrights, patents or patent applications, or other
    proprietary\n   rights that may cover technology that may be required to implement\n
    \  this standard.  Please address the information to the IETF at\n   ietf-ipr@ietf.org.\n"
  title: Intellectual Property
- contents:
  - "Acknowledgement\n   Funding for the RFC Editor function is currently provided
    by the\n   Internet Society.\n"
  title: Acknowledgement
