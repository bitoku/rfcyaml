- title: __initial_text__
  contents:
  - '           MPLS Transport Profile (MPLS-TP) Linear Protection

    '
- title: Abstract
  contents:
  - "Abstract\n   This document is a product of a joint Internet Engineering Task\
    \ Force\n   (IETF) / International Telecommunications Union Telecommunications\n\
    \   Standardization Sector (ITU-T) effort to include an MPLS Transport\n   Profile\
    \ within the IETF MPLS and Pseudowire Emulation Edge-to-Edge\n   (PWE3) architectures\
    \ to support the capabilities and functionalities\n   of a packet transport network\
    \ as defined by the ITU-T.\n   This document addresses the functionality described\
    \ in the MPLS-TP\n   Survivability Framework document (RFC 6372) and defines a\
    \ protocol\n   that may be used to fulfill the function of the Protection State\n\
    \   Coordination for linear protection, as described in that document.\n"
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This is an Internet Standards Track document.\n   This\
    \ document is a product of the Internet Engineering Task Force\n   (IETF).  It\
    \ represents the consensus of the IETF community.  It has\n   received public\
    \ review and has been approved for publication by the\n   Internet Engineering\
    \ Steering Group (IESG).  Further information on\n   Internet Standards is available\
    \ in Section 2 of RFC 5741.\n   Information about the current status of this document,\
    \ any errata,\n   and how to provide feedback on it may be obtained at\n   http://www.rfc-editor.org/info/rfc6378.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (c) 2011 IETF Trust and the persons identified\
    \ as the\n   document authors.  All rights reserved.\n   This document is subject\
    \ to BCP 78 and the IETF Trust's Legal\n   Provisions Relating to IETF Documents\n\
    \   (http://trustee.ietf.org/license-info) in effect on the date of\n   publication\
    \ of this document.  Please review these documents\n   carefully, as they describe\
    \ your rights and restrictions with respect\n   to this document.  Code Components\
    \ extracted from this document must\n   include Simplified BSD License text as\
    \ described in Section 4.e of\n   the Trust Legal Provisions and are provided\
    \ without warranty as\n   described in the Simplified BSD License.\n   This document\
    \ may contain material from IETF Documents or IETF\n   Contributions published\
    \ or made publicly available before November\n   10, 2008.  The person(s) controlling\
    \ the copyright in some of this\n   material may not have granted the IETF Trust\
    \ the right to allow\n   modifications of such material outside the IETF Standards\
    \ Process.\n   Without obtaining an adequate license from the person(s) controlling\n\
    \   the copyright in such materials, this document may not be modified\n   outside\
    \ the IETF Standards Process, and derivative works of it may\n   not be created\
    \ outside the IETF Standards Process, except to format\n   it for publication\
    \ as an RFC or to translate it into languages other\n   than English.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1. Introduction ....................................................4\n\
    \      1.1. Protection Architectures ...................................4\n  \
    \    1.2. Scope of the Document ......................................5\n   2.\
    \ Conventions Used in This Document ...............................6\n      2.1.\
    \ Acronyms ...................................................6\n      2.2. Definitions\
    \ and Terminology ................................7\n   3. Protection State Control\
    \ Logic ..................................7\n      3.1. Local Request Logic ........................................9\n\
    \      3.2. Remote Requests ...........................................11\n  \
    \    3.3. PSC Control Logic .........................................12\n    \
    \  3.4. PSC Message Generator .....................................12\n      3.5.\
    \ Wait-to-Restore (WTR) Timer ...............................12\n      3.6. PSC\
    \ Control States ........................................13\n           3.6.1.\
    \ Local and Remote State .............................14\n   4. Protection State\
    \ Coordination (PSC) Protocol ...................14\n      4.1. Transmission and\
    \ Acceptance of PSC Control Packets ........15\n      4.2. Protocol Format ...........................................16\n\
    \           4.2.1. PSC Ver Field ......................................16\n  \
    \         4.2.2. PSC Request Field ..................................17\n    \
    \       4.2.3. Protection Type (PT) Field .........................18\n      \
    \     4.2.4. Revertive (R) Field ................................18\n        \
    \   4.2.5. Fault Path (FPath) Field ...........................19\n          \
    \ 4.2.6. Data Path (Path) Field .............................19\n           4.2.7.\
    \ Additional TLV Information .........................19\n      4.3. Principles\
    \ of Operation ...................................20\n           4.3.1. Basic\
    \ Operation ....................................20\n           4.3.2. Priority\
    \ of Inputs .................................21\n           4.3.3. Operation of\
    \ PSC States ............................22\n   5. IANA Considerations ............................................33\n\
    \      5.1. Pseudowire Associated Channel Type ........................33\n  \
    \    5.2. PSC Request Field .........................................33\n    \
    \  5.3. Additional TLVs ...........................................34\n   6. Security\
    \ Considerations ........................................34\n   7. Acknowledgements\
    \ ...............................................35\n   8. Contributing Authors\
    \ ...........................................36\n   9. References .....................................................37\n\
    \      9.1. Normative References ......................................37\n  \
    \    9.2. Informative References ....................................37\n   Appendix\
    \ A. PSC State Machine Tables ..............................39\n   Appendix B.\
    \ Exercising the Protection Domain ......................44\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   The MPLS Transport Profile (MPLS-TP) [RFC5921] is a framework\
    \ for the\n   construction and operation of packet-switched transport networks\n\
    \   based on the architectures for MPLS ([RFC3031] and [RFC3032]) and for\n  \
    \ Pseudowires (PWs) ([RFC3985] and [RFC5659]) and the requirements of\n   [RFC5654].\n\
    \   Network survivability is the ability of a network to recover traffic\n   delivery\
    \ following failure, or degradation, of network resources.\n   The MPLS-TP Survivability\
    \ Framework [RFC6372] is a framework for\n   survivability in MPLS-TP networks,\
    \ and describes recovery elements,\n   types, methods, and topological considerations,\
    \ focusing on\n   mechanisms for recovering MPLS-TP Label Switched Paths (LSPs).\n\
    \   Linear protection in mesh networks -- networks with arbitrary\n   interconnectivity\
    \ between nodes -- is described in Section 4.7 of\n   [RFC6372].  Linear protection\
    \ provides rapid and simple protection\n   switching.  In a mesh network, linear\
    \ protection provides a very\n   suitable protection mechanism because it can\
    \ operate between any pair\n   of points within the network.  It can protect against\
    \ a defect in an\n   intermediate node, a span, a transport path segment, or an\
    \ end-to-end\n   transport path.\n"
- title: 1.1.  Protection Architectures
  contents:
  - "1.1.  Protection Architectures\n   Protection switching is a fully allocated\
    \ survivability mechanism.\n   It is fully allocated in the sense that the route\
    \ and resources of\n   the protection path are reserved for a selected working\
    \ path or set\n   of working paths.  It provides a fast and simple survivability\n\
    \   mechanism that allows the network operator to easily grasp the active\n  \
    \ state of the network and that can operate between any pair of points\n   within\
    \ the network.\n   As described in the Survivability Framework document [RFC6372],\n\
    \   protection switching is applied to a protection domain.  For the\n   purposes\
    \ of this document, we define the protection domain of a\n   point-to-point LSP\
    \ as consisting of two Label Edge Routers (LERs) and\n   the transport paths that\
    \ connect them (see Figure 3).  For a point-\n   to-multipoint LSP, the protection\
    \ domain includes the root (or\n   source) LER, the destination (or sink) LERs,\
    \ and the transport paths\n   that connect them.\n   In 1+1 unidirectional architecture\
    \ as presented in [RFC6372], a\n   protection transport path is dedicated to the\
    \ working transport path.\n   Normal traffic is bridged (as defined in [RFC4427])\
    \ and fed to both\n   the working and the protection paths by a permanent bridge\
    \ at the\n   source of the protection domain.  The sink of the protection domain\n\
    \   uses a selector to choose either the working or protection path from\n   which\
    \ to receive the traffic, based on predetermined criteria, e.g.,\n   server defect\
    \ indication.  When used for bidirectional switching the\n   1+1 protection architecture\
    \ must also support a Protection State\n   Coordination (PSC) protocol.  This\
    \ protocol is used to help\n   coordinate between both ends of the protection\
    \ domain in selecting\n   the proper traffic flow.\n   In the 1:1 architecture,\
    \ a protection transport path is dedicated to\n   the working transport path of\
    \ a single service, and the traffic is\n   only transmitted on either the working\
    \ or the protection path, by\n   using a selector at the source of the protection\
    \ domain.  A selector\n   at the sink of the protection domain then selects the\
    \ path that\n   carries the normal traffic.  Since the source and sink need to\
    \ be\n   coordinated to ensure that the selector at both ends select the same\n\
    \   path, this architecture must support a PSC protocol.\n   The 1:n protection\
    \ architecture extends the 1:1 architecture above by\n   sharing the protection\
    \ path among n services.  Again, the protection\n   path is fully allocated and\
    \ disjoint from any of the n working\n   transport paths that it is being used\
    \ to protect.  The normal data\n   traffic for each service is transmitted either\
    \ on the normal working\n   path for that service or, in cases that trigger protection\
    \ switching\n   (as listed in [RFC6372]), may be sent on the protection path.\
    \  The\n   switching action is similar to the 1:1 case where a selector is used\n\
    \   at the source.  In cases where multiple working path services have\n   triggered\
    \ protection switching, it should be noted that some\n   services, dependent upon\
    \ their Service Level Agreement (SLA), may not\n   be transmitted as a result\
    \ of limited resources on the protection\n   path.  In this architecture, there\
    \ may be a need for coordination of\n   the protection switching and for resource\
    \ allocation negotiation.\n   The procedures for this are for further study and\
    \ may be addressed in\n   future documents.\n"
- title: 1.2.  Scope of the Document
  contents:
  - "1.2.  Scope of the Document\n   As was pointed out in the Survivability Framework\
    \ [RFC6372] and\n   highlighted above, there is a need for coordination between\
    \ the end\n   points of the protection domain when employing bidirectional\n \
    \  protection schemes.  This is especially true when there is a need to\n   verify\
    \ that the traffic continues to be transported on a\n   bidirectional LSP that\
    \ is co-routed.\n   The scope of this document is to present a protocol for the\n\
    \   Protection State Coordination of Linear Protection.  The protocol\n   addresses\
    \ the protection of LSPs in an MPLS-TP network as required by\n   [RFC5654] (in\
    \ particular, requirements 63-65 and 74-79) and described\n   in [RFC6372].  The\
    \ basic protocol is designed for use in conjunction\n   with the 1:1 protection\
    \ architecture, bidirectional protection, and\n   for 1+1 protection of a bidirectional\
    \ path (for both unidirectional\n   and bidirectional protection switching). \
    \ Applicability of the\n   protocol for 1:1 unidirectional protection and for\
    \ 1:n protection\n   schemes may be documented in a future document and is out\
    \ of scope\n   for this document.  The applicability of this protocol to additional\n\
    \   MPLS-TP constructs and topologies may be documented in future\n   documents.\n\
    \   While the unidirectional 1+1 protection architecture does not require\n  \
    \ the use of a coordination protocol, the protocol may be used by the\n   ingress\
    \ node of the path to notify the far-side end point that a\n   switching condition\
    \ has occurred and verify the consistency of the\n   end-point configuration.\
    \  This use may be especially useful for\n   point-to-multipoint transport paths,\
    \ that are unidirectional by\n   definition of [RFC5654].  The use of this protocol\
    \ for point-to-\n   multipoint paths is out of scope for this document and may\
    \ be\n   addressed in a future applicability document.\n"
- title: 2.  Conventions Used in This Document
  contents:
  - "2.  Conventions Used in This Document\n   The key words \"MUST\", \"MUST NOT\"\
    , \"REQUIRED\", \"SHALL\", \"SHALL NOT\",\n   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\"\
    , \"MAY\", and \"OPTIONAL\" in this\n   document are to be interpreted as described\
    \ in [RFC2119].\n"
- title: 2.1.  Acronyms
  contents:
  - "2.1.  Acronyms\n   This document uses the following acronyms:\n   CT      Channel\
    \ Type\n   DNR     Do-not-Revert\n   FS      Forced Switch\n   G-ACh   Generic\
    \ Associated Channel\n   LER     Label Edge Router\n   LO      Lockout of protection\n\
    \   LSR     Label Switching Router\n   MEG     Managed Entity Group\n   MEP  \
    \   MEG End Point\n   MPLS-TP Transport Profile for MPLS\n   MS      Manual Switch\n\
    \   NR      No Request\n   OAM     Operations, Administration, and Maintenance\n\
    \   PSC     Protection State Coordination Protocol\n   S-PE    Switching Provider\
    \ Edge\n   SD      Signal Degrade\n   SF      Signal Fail\n   SFc     Clear Signal\
    \ Fail\n   SLA     Service Level Agreement\n   T-PE    Terminating Provider Edge\n\
    \   WTR     Wait-to-Restore\n"
- title: 2.2.  Definitions and Terminology
  contents:
  - "2.2.  Definitions and Terminology\n   The terminology used in this document is\
    \ based on the terminology\n   defined in [RFC4427] and further adapted for MPLS-TP\
    \ in [RFC6372].\n   In addition, we use the term \"LER\" to refer to an MPLS-TP\
    \ Network\n   Element, whether it is an LSR, LER, T-PE, or S-PE.\n"
- title: 3.  Protection State Control Logic
  contents:
  - "3.  Protection State Control Logic\n   Protection switching processes the local\
    \ triggers described in\n   requirements 74-79 of [RFC5654] together with inputs\
    \ received from\n   the far-end LER.  Based on these inputs, the LER will take\
    \ certain\n   protection switching actions, e.g., switching the selector to\n\
    \   transmit on the working or protection path for 1:1 protection or\n   switching\
    \ the selector to receive the traffic for either 1:1 or 1+1\n   protection and\
    \ transmit different protocol messages.\n   The following figure shows the logical\
    \ decomposition of the\n   Protection State Control logic into different logical\
    \ processing\n   units.  These processing units are presented in subsequent\n\
    \   subsections of this document.  This logical decomposition is only\n   intended\
    \ for descriptive purposes; any implementation that produces\n   the external\
    \ behavior described in Section 4 is acceptable.\n                  Server Indication\
    \     Control-Plane Indication\n                  -----------------+  +-------------\n\
    \                Operator Command   |  |   OAM Indication\n                ----------------+\
    \  |  |  +---------------\n                                |  |  |  |\n      \
    \                          V  V  V  V\n                             +---------------+\
    \         +-------+\n                             | Local Request |<--------|\
    \  WTR  |\n                             |    logic      |WTR Exps | Timer |\n\
    \                             +---------------+         +-------+\n          \
    \                          |                      ^\n                       Highest\
    \ local|request               |\n                                    V       \
    \               | Start/Stop\n                            +-----------------+\
    \            |\n                Remote PSC  |  PSC  Control   |------------+\n\
    \               ------------>|      logic      |\n                  Request  \
    \ +-----------------+\n                                    |\n               \
    \                     |  Action         +------------+\n                     \
    \               +---------------->|  Message   |\n                           \
    \                           | Generator  |\n                                 \
    \                     +------------+\n                                       \
    \                     |\n                                                 Output\
    \ PSC | Message\n                                                            V\n\
    \                 Figure 1: Protection State Control Logic\n   Figure 1 describes\
    \ the logical architecture of the protection\n   switching control.  The Local\
    \ Request logic unit accepts the triggers\n   from the OAM, server layer, external\
    \ operator commands, local control\n   plane (when present), and the Wait-to-Restore\
    \ timer.  By considering\n   all of these local request sources, it determines\
    \ the highest\n   priority local request.  This high-priority request is passed\
    \ to the\n   PSC Control logic, that will cross-check this local request with\
    \ the\n   information received from the far-end LER.  The PSC Control logic\n\
    \   uses this input to determine what actions need to be taken, e.g.,\n   local\
    \ actions at the LER, or what message should be sent to the far-\n   end LER,\
    \ and the current status of the protection domain.\n"
- title: 3.1.  Local Request Logic
  contents:
  - "3.1.  Local Request Logic\n   The Local Request logic processes input triggers\
    \ from five sources.\n   o  Operator command - the network operator may issue\
    \ local\n      administrative commands on the LER that trigger protection\n  \
    \    switching.  The commands Forced Switch, Manual Switch, Clear,\n      Lockout\
    \ of protection (defined in [RFC4427] as Forced switch-over,\n      Manual switch-over,\
    \ Clear, and Lockout of recovery LSP/span,\n      respectively) MUST be supported.\
    \  An implementation MAY provide\n      additional commands for operator use;\
    \ providing that these\n      commands do not introduce incompatible behavior\
    \ between two\n      arbitrary implementations, they are outside the scope of\
    \ this\n      document.  For example, an implementation could provide a command\n\
    \      to manually set off a \"WTR Expires\" trigger (see below) input\n     \
    \ without waiting for the duration of the WTR timer; as this merely\n      hastens\
    \ the transition from one state to another and has no impact\n      on the state\
    \ machine itself, it would be perfectly valid.\n   o  Server-layer alarm indication\
    \ - the underlying server layer of the\n      network detects failure conditions\
    \ at the underlying layer and may\n      issue an indication to the MPLS-TP layer.\
    \  The server layer may\n      employ its own protection switching mechanism;\
    \ therefore, this\n      input MAY be controlled by a hold-off timer that SHOULD\
    \ be\n      configurable by the network operator.  The hold-off timer is\n   \
    \   described in greater detail in [RFC6372].\n   o  Control-Plane Indication\
    \ - if there is a control plane active in\n      the network (either signaling\
    \ or routing), it MAY trigger\n      protection switching based on conditions\
    \ detected by the control\n      plane.  If the control plane is based on GMPLS\
    \ [RFC3945], then the\n      recovery process SHALL comply with the process described\
    \ in\n      [RFC4872] and [RFC4873].\n   o  OAM indication - OAM fault management\
    \ or performance measurement\n      tools may detect a failure or degrade condition\
    \ on either the\n      working or protection transport path, and this MUST input\
    \ an\n      indication to the Local Request logic.\n   o  WTR Expires - The Wait-to-Restore\
    \ timer is used in conjunction\n      with recovery from failure conditions on\
    \ the working path in\n      revertive mode.  The timer SHALL signal the PSC control\
    \ process\n      when it expires, and the end point SHALL revert to the normal\n\
    \      transmission of the user data traffic.\n   The input from these sources\
    \ SHOULD be retained persistently for the\n   duration of the condition that initiated\
    \ the trigger.  The Local\n   Request logic processes these different input sources\
    \ and, based on\n   the priorities between them (see Section 4.3.2), produces\
    \ a current\n   local request.  If more than one local input source generates\
    \ a\n   trigger, then the Local Request logic selects the higher priority\n  \
    \ indicator and ignores any lower priority indicator.  As a result,\n   there\
    \ is a single current local request that is passed to the PSC\n   Control logic.\
    \  The different local requests that may be output from\n   the Local Request\
    \ logic are as follows:\n   o  Clear - if the operator cancels an active local\
    \ administrative\n      command, i.e., LO/FS/MS.\n   o  Lockout of protection\
    \ (LO) - if the operator requested to prevent\n      switching data traffic to\
    \ the protection path, for any purpose.\n   o  Signal Fail (SF) - if any of the\
    \ server-layer, control-plane, or\n      OAM indications signaled a failure condition\
    \ on either the\n      protection path or one of the working paths.\n   o  Signal\
    \ Degrade (SD) - if any of the server-layer, control-plane,\n      or OAM indications\
    \ signaled a degraded transmission condition on\n      either the protection path\
    \ or one of the working paths.  The\n      determination and actions for SD are\
    \ for further study and may\n      appear in a separate document.  All references\
    \ to SD input are\n      placeholders for this extension.\n   o  Clear Signal\
    \ Fail (SFc) - if all of the server-layer, control-\n      plane, or OAM indications\
    \ are no longer indicating a failure\n      condition on a path that was previously\
    \ indicating a failure\n      condition.\n   o  Forced Switch (FS) - if the operator\
    \ requested that traffic be\n      switched from one of the working paths to the\
    \ protection path.\n   o  Manual Switch (MS) - if the operator requested that\
    \ traffic be\n      switched from the working path to the protection path.  This\
    \ is\n      only relevant if there is no currently active fault condition or\n\
    \      operator command.\n   o  WTR Expires (WTRExp) - generated by the WTR timer\
    \ completing its\n      period.\n   If none of the input sources have generated\
    \ any triggers, then the\n   Local Request logic should generate a No Request\
    \ (NR) as the current\n   local request.\n"
- title: 3.2.  Remote Requests
  contents:
  - "3.2.  Remote Requests\n   In addition to the local requests, generated as a result\
    \ of the local\n   triggers, indicated in the previous subsection, the PSC Control\
    \ logic\n   SHALL accept PSC messages from the far-end LER of the transport path.\n\
    \   Remote messages indicate the status of the transport path from the\n   viewpoint\
    \ of the far-end LER.  These messages may drive state changes\n   on the local\
    \ MEP, as defined later in this document.  When using 1+1\n   unidirectional protection,\
    \ an LER that receives a remote request\n   SHALL NOT perform any protection switching\
    \ action, i.e., will\n   continue to select traffic from the working path and\
    \ transport\n   traffic on both paths.\n   The following remote requests may be\
    \ received by the PSC process:\n   o  Remote LO - indicates that the remote end\
    \ point is in Unavailable\n      state due to a Lockout of protection operator\
    \ command.\n   o  Remote SF - indicates that the remote end point has detected\
    \ a\n      Signal Fail condition on one of the transport paths in the\n      protection\
    \ domain.  This remote message includes an indication of\n      which transport\
    \ path is affected by the SF condition.  In\n      addition, it should be noted\
    \ that the SF condition may be either a\n      unidirectional or a bidirectional\
    \ failure, even if the transport\n      path is bidirectional.\n   o  Remote SD\
    \ - indicates that the remote end point has detected a\n      Signal Degrade condition\
    \ on one of the transport paths in the\n      protection domain.  This remote\
    \ message includes an indication of\n      which transport path is affected by\
    \ the SD condition.  In\n      addition, it should be noted that the SD condition\
    \ may be either a\n      unidirectional or a bidirectional failure, even if the\
    \ transport\n      path is bidirectional.\n   o  Remote FS - indicates that the\
    \ remote end point is operating under\n      an operator command to switch the\
    \ traffic to the protection path.\n   o  Remote MS - indicates that the remote\
    \ end point is operating under\n      an operator command to switch the traffic\
    \ from the working path to\n      the protection path.\n   o  Remote WTR - indicates\
    \ that the remote end point has determined\n      that the failure condition has\
    \ recovered and has started its WTR\n      timer in preparation for reverting\
    \ to the Normal state.\n   o  Remote DNR - indicates that the remote end point\
    \ has determined\n      that the failure condition has recovered and will continue\n\
    \      transporting traffic on the protection path due to operator\n      configuration\
    \ that prevents automatic reversion to the Normal\n      state.\n   o  Remote\
    \ NR - indicates that the remote end point has no abnormal\n      condition to\
    \ report.\n"
- title: 3.3.  PSC Control Logic
  contents:
  - "3.3.  PSC Control Logic\n   The PSC Control logic accepts the following input:\n\
    \   a.  the current local request output from the Local Request logic\n      \
    \ (see Section 3.1),\n   b.  the remote request message from the remote end point\
    \ of the\n       transport path (see Section 3.2), and\n   c.  the current state\
    \ of the PSC Control logic (maintained internally\n       by the PSC Control logic).\n\
    \   Based on the priorities between the different inputs, the PSC Control\n  \
    \ logic determines the new state of the PSC Control logic and what\n   actions\
    \ need to be taken.\n   The new state information is retained by the PSC Control\
    \ logic, while\n   the requested action should be sent to the PSC Message Generator\
    \ (see\n   Section 3.4) to generate and transmit the proper PSC message to be\n\
    \   transmitted to the remote end point of the protection domain.\n"
- title: 3.4.  PSC Message Generator
  contents:
  - "3.4.  PSC Message Generator\n   Based on the action output from the PSC Control\
    \ logic, this unit\n   formats the PSC protocol message that is transmitted to\
    \ the remote\n   end point of the protection domain.  This message may either\
    \ be the\n   same as the previously transmitted message or change when the PSC\n\
    \   control state (see Section 3.6) has changed.  The messages are\n   transmitted\
    \ as described in Section 4.1 of this document.\n"
- title: 3.5.  Wait-to-Restore (WTR) Timer
  contents:
  - "3.5.  Wait-to-Restore (WTR) Timer\n   The WTR timer is used to delay reversion\
    \ to Normal state when\n   recovering from a failure condition on the working\
    \ path and the\n   protection domain is configured for revertive behavior.  The\
    \ length\n   of the timer may be provisioned by the operator.  The WTR may be\
    \ in\n   one of two states: Running or Stopped.  The control of the WTR timer\n\
    \   is managed by the PSC Control logic, by use of internal signals to\n   start\
    \ and stop, i.e., reset, the WTR timer.\n   If the WTR timer expires prior to\
    \ being stopped, it SHALL generate a\n   WTR Expires local signal that is processed\
    \ by the Local Request\n   logic.  If the WTR timer is running, sending a Stop\
    \ command SHALL\n   reset the timer, and put the WTR timer into Stopped state,\
    \ but SHALL\n   NOT generate a WTR Expires local signal.  If the WTR timer is\n\
    \   stopped, a Stop command SHALL be ignored.\n"
- title: 3.6.  PSC Control States
  contents:
  - "3.6.  PSC Control States\n   The PSC Control logic should maintain information\
    \ on the current\n   state of the protection domain.  Information on the state\
    \ of the\n   domain is maintained by each LER within the protection domain.  The\n\
    \   state information would include information of the current state of\n   the\
    \ protection domain, an indication of the cause for the current\n   state (e.g.,\
    \ unavailable due to local LO command, protecting due to\n   remote FS), and,\
    \ for each LER, should include an indication if the\n   state is related to a\
    \ remote or local condition.\n   It should be noted that when referring to the\
    \ \"transport\" of the data\n   traffic, in the following descriptions and later\
    \ in the document that\n   the data will be transmitted on both the working and\
    \ the protection\n   paths when using 1+1 protection, and on either the working\
    \ or the\n   protection path exclusively when using 1:1 protection.  When using\n\
    \   1+1 protection, the receiving LER should select the proper\n   transmission,\
    \ according to the state of the protection domain.\n   The protection domain states\
    \ that are supported by the PSC Control\n   logic are as follows:\n   o  Normal\
    \ state - Both the protection and working paths are fully\n      allocated and\
    \ active, data traffic is being transported over (or\n      selected from) the\
    \ working path, and no trigger events are\n      reported within the domain.\n\
    \   o  Unavailable state - The protection path is unavailable -- either\n    \
    \  as a result of an operator Lockout command or a failure condition\n      detected\
    \ on the protection path.\n   o  Protecting failure state - The working path has\
    \ reported a\n      failure/degrade condition and the user traffic is being\n\
    \      transported (or selected) on the protection path.\n   o  Protecting administrative\
    \ state - The operator has issued a\n      command switching the user traffic\
    \ to the protection path.\n   o  Wait-to-Restore state - The protection domain\
    \ is recovering from\n      an SF/SD condition on the working path that is being\
    \ controlled by\n      the Wait-to-Restore (WTR) timer.\n   o  Do-not-Revert state\
    \ - The protection domain has recovered from a\n      Protecting state, but the\
    \ operator has configured the protection\n      domain not to automatically revert\
    \ to the Normal state upon\n      recovery.  The protection domain SHALL remain\
    \ in this state until\n      the operator issues a command to revert to the Normal\
    \ state or\n      there is a new trigger to switch to a different state.\n   See\
    \ Section 4.3.3 for details on what actions are taken by the PSC\n   Process logic\
    \ for each state and the relevant input.\n"
- title: 3.6.1.  Local and Remote State
  contents:
  - "3.6.1.  Local and Remote State\n   An end point may be in a given state as a\
    \ result of either a local\n   input indicator (e.g., OAM, WTR timer) or as a\
    \ result of receiving a\n   PSC message from the far-end LER.  If the state is\
    \ entered as a\n   result of a local input indicator, then the state is considered\
    \ a\n   local state.  If the state is entered as a result of a PSC message,\n\
    \   in the absence of a local input, then the state is considered a\n   remote\
    \ state.  This differentiation affects how the LER reacts to\n   different inputs,\
    \ as described in Section 4.3.3.  The PSC Control\n   logic should maintain, together\
    \ with the current protection domain\n   state, an indication of whether this\
    \ is a local or remote state, for\n   this LER.\n   In any instance where the\
    \ LER has both a local and remote indicator\n   that cause the protection domain\
    \ to enter a particular state, then\n   the state is considered a local state,\
    \ regardless of the order in\n   which the indicators were processed.  If, however,\
    \ the LER has local\n   and remote indicators that would cause the protection\
    \ domain to enter\n   different states, e.g., a local SF on working and a remote\
    \ Lockout of\n   protection message, then the input with the higher priority (see\n\
    \   Section 4.3.2) will be the deciding factor and the source of that\n   indicator\
    \ will determine whether it is local or remote.  In the given\n   example, the\
    \ result would be a Remote Unavailable state transmitting\n   PSC messages that\
    \ indicate an SF condition on the working path and\n   that the protection path\
    \ is not being used to transport protected\n   traffic (as described in the next\
    \ section).\n"
- title: 4.  Protection State Coordination (PSC) Protocol
  contents:
  - "4.  Protection State Coordination (PSC) Protocol\n   Bidirectional protection\
    \ switching, as well as unidirectional 1:1\n   protection, requires coordination\
    \ between the two end points in\n   determining which of the two possible paths,\
    \ the working or\n   protection path, is transmitting the data traffic in any\
    \ given\n   situation.  When protection switching is triggered as described in\n\
    \   Section 3, the end points must inform each other of the switchover\n   from\
    \ one path to the other in a coordinated fashion.\n   There are different possibilities\
    \ for the type of coordinating\n   protocol.  One possibility is a two-phased\
    \ coordination in which the\n   LER that is initiating the protection switching\
    \ sends a protocol\n   message indicating the switch but the actual switchover\
    \ is performed\n   only after receiving an 'Ack' from the far-end LER.  The other\n\
    \   possibility is a single-phased coordination, in which the initiating\n   LER\
    \ performs the protection switchover to the alternate path and\n   informs the\
    \ far-end LER of the switch, and the far-end LER will\n   complete the switchover.\n\
    \   This protocol is a single-phased protocol, as described above.  In\n   the\
    \ following subsections, we describe the protocol messages that are\n   used between\
    \ the two end points of the protection domain.\n"
- title: 4.1.  Transmission and Acceptance of PSC Control Packets
  contents:
  - "4.1.  Transmission and Acceptance of PSC Control Packets\n   The PSC control\
    \ packets SHALL be transmitted over the protection path\n   only.  This allows\
    \ the transmission of the messages without affecting\n   the normal data traffic\
    \ in the most prevalent case, i.e., the Normal\n   state.  In addition, limiting\
    \ the transmission to a single path\n   avoids possible conflicts and race conditions\
    \ that could develop if\n   the PSC messages were sent on both paths.\n   When\
    \ the protection domain state is changed due to a local input,\n   three PSC messages\
    \ SHALL be transmitted as quickly as possible, to\n   allow for rapid protection\
    \ switching.  This set of three rapid\n   messages allows for fast protection\
    \ switching even if one or two of\n   these packets are lost or corrupted.  When\
    \ the protection domain\n   state changes due to a remote message, the LER SHOULD\
    \ send the three\n   rapid messages.  However, when the LER transfers from WTR\
    \ state to\n   Normal state as a result of a remote NR message, the three rapid\n\
    \   messages SHALL be transmitted.  After the transmission of the three\n   rapid\
    \ messages, the LER MUST retransmit the most recently transmitted\n   PSC message\
    \ on a continual basis.\n   Both the default frequency of the three rapid messages\
    \ as well as the\n   default frequency of the continual message transmission SHALL\
    \ be\n   configurable by the operator.  The actual frequencies used MAY be\n \
    \  configurable, at the time of establishment, for each individual\n   protected\
    \ LSP.  For management purposes, the operator SHOULD be able\n   to retrieve the\
    \ current default frequency values as well as the\n   actual values for any specific\
    \ LSP.  For protection switching within\n   50 ms, it is RECOMMENDED that the\
    \ default interval of the first three\n   rapid PSC messages SHOULD be no longer\
    \ than 3.3 ms.  Using this\n   frequency would allow the far-end to be guaranteed\
    \ of receiving the\n   trigger indication within 10 ms and completion of the switching\n\
    \   operation within 50 ms.  Subsequent messages SHOULD be continuously\n   transmitted\
    \ with a default interval of 5 seconds.  The purpose of the\n   continual messages\
    \ is to verify that the PSC session is still alive.\n   If no valid PSC message\
    \ is received, over a period of several\n   continual messages intervals, the\
    \ last valid received message remains\n   applicable.\n"
- title: 4.2.  Protocol Format
  contents:
  - "4.2.  Protocol Format\n   The protocol messages SHALL be sent over the G-ACh\
    \ as described in\n   [RFC5586].  There is a single channel type for the set of\
    \ PSC\n   messages.  The actual message function SHALL be identified by the\n\
    \   Request field of the ACH payload as described below.\n   The channel type\
    \ for the PSC messages SHALL be PSC-CT=0x0024.\n   The following figure shows\
    \ the format for the complete PSC message.\n        0                   1    \
    \               2                   3\n        0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5\
    \ 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \       |0 0 0 1|Version|  Reserved     |          PSC-CT               |\n  \
    \     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n    \
    \   |Ver|Request|PT |R|  Reserved1  |     FPath     |     Path      |\n      \
    \ +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n       |\
    \         TLV Length            |          Reserved2            |\n       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \       ~                         Optional TLVs                         ~\n  \
    \     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n    \
    \        Figure 2: Format of PSC Packet with a G-ACh Header\n   Where:\n   o \
    \ Both Reserved1 and Reserved2 fields MUST be set to 0 and ignored\n      upon\
    \ receipt.\n   o  The following subsections describe the remaining fields of the\
    \ PSC\n      payload.\n"
- title: 4.2.1.  PSC Ver Field
  contents:
  - "4.2.1.  PSC Ver Field\n   The Ver field identifies the version of the protocol.\
    \  For this\n   version of the document, the value SHALL be 1.\n"
- title: 4.2.2.  PSC Request Field
  contents:
  - "4.2.2.  PSC Request Field\n   The PSC protocol SHALL support transmission of\
    \ the following requests\n   between the two end points of the protection domain:\n\
    \   o  (14) Lockout of protection - indicates that the end point has\n      disabled\
    \ the protection path as a result of an administrative\n      command.  Both the\
    \ FPath and Path fields SHALL be set to 0.\n   o  (12) Forced Switch - indicates\
    \ that the transmitting end point has\n      switched traffic to the protection\
    \ path as a result of an\n      administrative command.  The FPath field SHALL\
    \ indicate that the\n      working path is being blocked (i.e., FPath set to 1),\
    \ and the Path\n      field SHALL indicate that user data traffic is being transported\n\
    \      on the protection path (i.e., Path set to 1).\n   o  (10) Signal Fail -\
    \ indicates that the transmitting end point has\n      identified a signal fail\
    \ condition on either the working or\n      protection path.  The FPath field\
    \ SHALL identify the path that is\n      reporting the failure condition (i.e.,\
    \ if protection path, then\n      FPath is set to 0; if working path, then FPath\
    \ is set to 1), and\n      the Path field SHALL indicate where the data traffic\
    \ is being\n      transported (i.e., if protection path is blocked, then Path\
    \ is set\n      to 0; if working path is blocked, then Path is set to 1).\n  \
    \ o  (7) Signal Degrade - indicates that the transmitting end point has\n    \
    \  identified a degradation of the signal, or integrity of the packet\n      transmission\
    \ on either the working or protection path.  This\n      request is presented\
    \ here only as a placeholder.  The specifics\n      for the method of identifying\
    \ this degradation is out of scope for\n      this document.  The details of the\
    \ actions to be taken for this\n      situation are left for future specification.\n\
    \   o  (5) Manual Switch - indicates that the transmitting end point has\n   \
    \   switched traffic to the protection path as a result of an\n      administrative\
    \ Manual Switch command.  The FPath field SHALL\n      indicate that the working\
    \ path is being blocked (i.e., FPath set\n      to 1), and the Path field SHALL\
    \ indicate that user data traffic is\n      being transported on the protection\
    \ path (i.e., Path set to 1).\n   o  (4) Wait-to-Restore - indicates that the\
    \ transmitting end point is\n      recovering from a failure condition of the\
    \ working path and has\n      started the Wait-to-Restore timer.  FPath SHALL\
    \ be set to 0 and\n      ignored upon receipt.  Path SHALL indicate the working\
    \ path that\n      is currently being protected (i.e., Path set to 1).\n   o \
    \ (1) Do-not-Revert - indicates that the transmitting end point has\n      recovered\
    \ from a failure/blocked condition, but due to the local\n      settings, is requesting\
    \ that the protection domain continues to\n      transport the data as if it is\
    \ in a protecting state, rather than\n      revert to the Normal state.  FPath\
    \ SHALL be set to 0 and ignored\n      upon receipt.  Path SHALL indicate the\
    \ working path that is\n      currently being protected (i.e., Path set to 1).\n\
    \   o  (0) No Request - indicates that the transmitting end point has\n      nothing\
    \ to report, FPath and Path fields SHALL be set according to\n      the transmission\
    \ state of the end point, see Section 4.3.3 for\n      detailed scenarios.\n \
    \  All other values are for future extensions (to be administered by\n   IANA)\
    \ and SHALL be ignored upon receipt.\n"
- title: 4.2.3.  Protection Type (PT) Field
  contents:
  - "4.2.3.  Protection Type (PT) Field\n   The PT field indicates the currently configured\
    \ protection\n   architecture type, this SHOULD be validated to be consistent\
    \ for both\n   ends of the protection domain.  If an inconsistency is detected,\
    \ then\n   an alarm SHALL be sent to the management system.  The following are\n\
    \   the possible values:\n   o  3: bidirectional switching using a permanent bridge\n\
    \   o  2: bidirectional switching using a selector bridge\n   o  1: unidirectional\
    \ switching using a permanent bridge\n   o  0: for future extensions\n   As described\
    \ in the Introduction (Section 1.1) a 1+1 protection\n   architecture is characterized\
    \ by the use of a permanent bridge at the\n   source node, whereas the 1:1 and\
    \ 1:n protection architectures are\n   characterized by the use of a selector\
    \ bridge at the source node.\n"
- title: 4.2.4.  Revertive (R) Field
  contents:
  - "4.2.4.  Revertive (R) Field\n   This field indicates that the transmitting end\
    \ point is configured to\n   work in revertive mode.  If there is an inconsistency\
    \ between the two\n   end points, i.e., one end point is configured for revertive\
    \ action\n   and the second end point is in non-revertive mode, then the\n   management\
    \ system SHOULD be notified.  The following are the possible\n   values:\n   o\
    \  0 - non-revertive mode\n   o  1 - revertive mode\n"
- title: 4.2.5.  Fault Path (FPath) Field
  contents:
  - "4.2.5.  Fault Path (FPath) Field\n   The FPath field indicates which path (i.e.,\
    \ working or protection) is\n   identified to be in a fault condition or affected\
    \ by an\n   administrative command, when a fault or command is indicated by the\n\
    \   Request field to be in effect.  The following are the possible\n   values:\n\
    \   o  0: indicates that the anomaly condition is on the protection path\n   o\
    \  1: indicates that the anomaly condition is on the working path\n   o  2-255:\
    \ for future extensions and SHALL be ignored by this version\n      of the protocol.\n"
- title: 4.2.6.  Data Path (Path) Field
  contents:
  - "4.2.6.  Data Path (Path) Field\n   The Path field indicates which data is being\
    \ transported on the\n   protection path.  Under normal conditions, the protection\
    \ path\n   (especially, in 1:1 or 1:n architecture) does not need to carry any\n\
    \   user data traffic.  If there is a failure/degrade condition on one of\n  \
    \ the working paths, then that working path's data traffic will be\n   transported\
    \ over the protection path.  The following are the possible\n   values:\n   o\
    \  0: indicates that the protection path is not transporting user\n      data\
    \ traffic (in 1:n architecture) or transporting redundant user\n      data traffic\
    \ (in 1+1 architecture).\n   o  1: indicates that the protection path is transmitting\
    \ user traffic\n      replacing the use of the working path.\n   o  2-255: for\
    \ future extensions and SHALL be ignored by this version\n      of the protocol.\n"
- title: 4.2.7.  Additional TLV Information
  contents:
  - "4.2.7.  Additional TLV Information\n   It may be necessary for future applications\
    \ of the protocol to\n   include additional information for the proper processing\
    \ of the\n   requests.  For this purpose, we provide for optional additional\n\
    \   information to be included in the PSC payload.  This information MUST\n  \
    \ include a header that indicates the total length (in bytes) of the\n   additional\
    \ information.\n   This information includes the following fields:\n   o  TLV\
    \ Length: indicates the number of bytes included in the optional\n      TLV information.\
    \  For the basic PSC protocol operation described\n      in this document, this\
    \ value MUST be 0.\n   o  Optional TLVs: this includes any additional information\
    \ formatted\n      as TLV units.  There are no TLV units defined for the basic\
    \ PSC\n      operation.\n"
- title: 4.3.  Principles of Operation
  contents:
  - "4.3.  Principles of Operation\n   In all of the following subsections, assume\
    \ a protection domain\n   between LER-A and LER-Z, using paths W (working) and\
    \ P (protection),\n   as shown in Figure 3.\n                 +-----+ //=======================\\\
    \\ +-----+\n                 |LER-A|//     Working Path        \\\\|LER-Z|\n \
    \                |    /|                             |\\    |\n              \
    \   |  ?< |                             | >?  |\n                 |    \\|\\\\\
    \    Protection Path      //|/    |\n                 +-----+ \\\\=======================//\
    \ +-----+\n                     |--------Protection Domain--------|\n        \
    \                Figure 3: Protection Domain\n"
- title: 4.3.1.  Basic Operation
  contents:
  - "4.3.1.  Basic Operation\n   The purpose of the PSC protocol is to allow an end\
    \ point of the\n   protection domain to notify its peer of the status of the domain\
    \ that\n   is known at the end point and coordinate the transmission of the data\n\
    \   traffic.  The current state of the end point is expressed in the\n   values\
    \ of the Request field (reflecting the local requests at that\n   end point) and\
    \ the FPath field (reflecting knowledge of a blocked\n   path).  The coordination\
    \ between the end points is expressed by the\n   value of the Path field (indicating\
    \ where the user data traffic is\n   being transmitted).  Except during a protection\
    \ switch, the value of\n   the Path field should be identical for both end points\
    \ at any\n   particular time.  The values of the Request and FPath fields may\
    \ not\n   be identical between the two end points.  In particular it should be\n\
    \   noted that a remote message may not cause the end point to change the\n  \
    \ Request field that is being transmitted while it does affect the Path\n   field\
    \ (see details in the following subsections).\n   The protocol is a single-phased\
    \ protocol.  \"Single-phased\" implies\n   that each end point notifies its peer\
    \ of a change in the operation\n   (switching to or from the protection path)\
    \ and makes the switch\n   without waiting for acknowledgement.  As a side effect\
    \ of using a\n   single-phased protocol, there will be a short period during state\n\
    \   transitions of one-sided triggers (e.g., operator commands or\n   unidirectional\
    \ SF) when one LER may be transporting/selecting the\n   data from one transport\
    \ path while the other end point is\n   transporting/selecting from the other\
    \ transport path.  This should\n   become coordinated once the remote message\
    \ is received and the far-\n   end LER performs the protection switching operation.\n\
    \   The following subsections will identify the messages that will be\n   transmitted\
    \ by the end point in different scenarios.  The messages\n   are described as\
    \ REQ(FP, P) -- where REQ is the value of the Request\n   field, FP is the value\
    \ of the FPath field, and P is the value of the\n   Path field.  All examples\
    \ assume a protection domain between LER-A\n   and LER-Z with a single working\
    \ path and single protection path (as\n   shown in Figure 3).  Again, it should\
    \ be noted that when using 1:1\n   protection the data traffic will be transmitted\
    \ exclusively on either\n   the protection or working path; whereas when using\
    \ 1+1 protection,\n   the traffic will be transmitted on both paths and the receiving\
    \ LER\n   should select the appropriate signal based on the state.  The text\n\
    \   will refer to this transmission/selection as \"transport\" of the data\n \
    \  traffic.  For 1+1 unidirectional protection, the state of the\n   selector\
    \ will only be switched in reaction to a local message.  When\n   receiving a\
    \ remote message, a LER that is configured for 1+1\n   unidirectional protection,\
    \ will transfer to the new remote state;\n   however, it will continue to select\
    \ data according to the latest\n   known local state.  When the LER transitions\
    \ into the Normal state,\n   the PSC Control Process SHALL check the persistent\
    \ state of the local\n   triggers to decide if it should further transition into\
    \ a new state.\n"
- title: 4.3.2.  Priority of Inputs
  contents:
  - "4.3.2.  Priority of Inputs\n   As noted above (in Section 3.1), the PSC Control\
    \ Process accepts\n   input from five local input sources.  There is a definition\
    \ of\n   priority between the different inputs that may be triggered locally.\n\
    \   The list of local requests in order of priority are (from highest to\n   lowest\
    \ priority):\n   1.   Clear (operator command)\n   2.   Lockout of protection\
    \ (operator command)\n   3.   Forced Switch (operator command)\n   4.   Signal\
    \ Fail on protection (OAM / control-plane / server\n        indication)\n   5.\
    \   Signal Fail on working (OAM / control-plane / server indication)\n   6.  \
    \ Signal Degrade on working (OAM / control-plane / server\n        indication)\n\
    \   7.   Clear Signal Fail/Degrade (OAM / control-plane / server\n        indication)\n\
    \   8.   Manual Switch (operator command)\n   9.   WTR Expires (WTR timer)\n \
    \  10.  No Request (default)\n   As was noted above, the Local Request logic SHALL\
    \ always select the\n   local input indicator with the highest priority as the\
    \ current local\n   request, i.e., only the highest priority local input will\
    \ be used to\n   affect the control logic.  All local inputs with lower priority\
    \ than\n   this current local request will be ignored.\n   The remote message\
    \ from the far-end LER is assigned a priority just\n   below the similar local\
    \ input.  For example, a remote Forced Switch\n   would have a priority just below\
    \ a local Forced Switch but above a\n   local Signal Fail on protection input.\
    \  As mentioned in\n   Section 3.6.1, the state transition is determined by the\
    \ higher\n   priority input between the highest priority local input and the\n\
    \   remote message.  This also determines the classification of the state\n  \
    \ as local or remote.  The following subsections detail the transition\n   based\
    \ on the current state and the higher priority of these two\n   inputs.\n"
- title: 4.3.3.  Operation of PSC States
  contents:
  - "4.3.3.  Operation of PSC States\n   The following subsections present the operation\
    \ of the different\n   states defined in Section 3.6.  For each state, we define\
    \ the\n   reaction, i.e., the new state and the message to transmit, to each\n\
    \   possible input -- either the highest priority local input or the PSC\n   message\
    \ from the remote LER.  It should be noted that the new state\n   of the protection\
    \ domain is described from the point of view of the\n   LER that is reporting\
    \ the state; therefore, the language of \"the LER\n   goes into a state\" is referring\
    \ to the LER reporting that the\n   protection domain is now in this new state.\
    \  If the definition states\n   to \"ignore\" the message, the intention is that\
    \ the protection domain\n   SHALL remain in its current state and the LER SHALL\
    \ continue\n   transmitting (as presented in Section 4.1) the current PSC message.\n\
    \   When a LER is in a remote state, i.e., state transition in reaction\n   to\
    \ a PSC message received from the far-end LER, and receives a new\n   PSC message\
    \ from the far-end LER that indicates a contradictory\n   state, e.g., in remote\
    \ Unavailable state receiving a remote FS(1,1)\n   message, then the PSC Control\
    \ logic SHALL reevaluate all inputs (both\n   the local input and the remote message)\
    \ as if the LER is in the\n   Normal state.\n"
- title: 4.3.3.1.  Normal State
  contents:
  - "4.3.3.1.  Normal State\n   When the protection domain has no special condition\
    \ in effect, the\n   ingress LER SHALL forward the user data along the working\
    \ path, and,\n   in the case of 1+1 protection, the Permanent Bridge will bridge\
    \ the\n   data to the protection path as well.  The receiving LER SHALL read\n\
    \   the data from the working path.\n   When the LER transitions into the Normal\
    \ state, the PSC Control\n   Process SHALL check the persistent state of the local\
    \ triggers to\n   decide if it should further transition into a new state.  If\
    \ the\n   result of this check is a transition into a new state, the LER SHALL\n\
    \   transmit the corresponding message described in this section and\n   SHALL\
    \ use the data path corresponding to the new state.  When the\n   protection domain\
    \ remains in Normal state, the end point SHALL\n   transmit an NR(0,0) message,\
    \ indicating -- Nothing to report and data\n   traffic is being transported on\
    \ the working path.\n   When the protection domain is in Normal state, the following\n\
    \   transitions are relevant in reaction to a local input to the LER:\n   o  A\
    \ local Lockout of protection input SHALL cause the LER to go into\n      local\
    \ Unavailable state and begin transmission of an LO(0,0)\n      message.\n   o\
    \  A local Forced Switch input SHALL cause the LER to go into local\n      Protecting\
    \ administrative state and begin transmission of an\n      FS(1,1) message.\n\
    \   o  A local Signal Fail indication on the protection path SHALL cause\n   \
    \   the LER to go into local Unavailable state and begin transmission\n      of\
    \ an SF(0,0) message.\n   o  A local Signal Fail indication on the working path\
    \ SHALL cause the\n      LER to go into local Protecting failure state and begin\n\
    \      transmission of an SF(1,1) message.\n   o  A local Manual Switch input\
    \ SHALL cause the LER to go into local\n      Protecting administrative state\
    \ and begin transmission of an\n      MS(1,1) message.\n   o  All other local\
    \ inputs SHALL be ignored.\n   In Normal state, remote messages would cause the\
    \ following reaction\n   from the LER:\n   o  A remote Lockout of protection message\
    \ SHALL cause the LER to go\n      into remote Unavailable state, while continuing\
    \ to transmit the\n      NR(0,0) message.\n   o  A remote Forced Switch message\
    \ SHALL cause the LER to go into\n      remote Protecting administrative state\
    \ and begin transmitting an\n      NR(0,1) message.\n   o  A remote Signal Fail\
    \ message that indicates that the failure is on\n      the protection path SHALL\
    \ cause the LER (LER-A) to go into remote\n      Unavailable state, while continuing\
    \ to transmit the NR(0,0)\n      message.\n   o  A remote Signal Fail message\
    \ that indicates that the failure is on\n      the working path SHALL cause the\
    \ LER to go into remote Protecting\n      failure state, and transmit an NR(0,1)\
    \ message.\n   o  A remote Manual Switch message SHALL cause the LER to go into\n\
    \      remote Protecting administrative state, and transmit an NR(0,1)\n     \
    \ message.\n   o  All other remote messages SHALL be ignored.\n"
- title: 4.3.3.2.  Unavailable State
  contents:
  - "4.3.3.2.  Unavailable State\n   When the protection path is unavailable -- either\
    \ as a result of a\n   Lockout operator command, or as a result of a SF detected\
    \ on the\n   protection path -- then the protection domain is in the Unavailable\n\
    \   state.  In this state, the data traffic SHALL be transported on the\n   working\
    \ path and is not protected.  When the domain is in Unavailable\n   state, the\
    \ PSC messages may not get through: therefore, the\n   protection is more dependent\
    \ on the local inputs than the remote\n   messages (that may not be received).\n\
    \   The protection domain will exit the Unavailable state and revert to\n   the\
    \ Normal state when either the operator clears the Lockout command\n   or the\
    \ protection path recovers from the signal fail or degraded\n   situation.  Both\
    \ ends will continue to send the PSC messages over the\n   protection path, as\
    \ a result of this recovery.\n   When the LER (assume LER-A) is in Unavailable\
    \ state, the following\n   transitions are relevant in reaction to a local input:\n\
    \   o  A local Clear input SHALL be ignored if the LER is in remote\n      Unavailable\
    \ state.  If in local Unavailable state due to a Lockout\n      command, then\
    \ the input SHALL cause the LER to go to Normal state.\n   o  A local Lockout\
    \ of protection input SHALL cause the LER to remain\n      in local Unavailable\
    \ state and transmit an LO(0,0) message to the\n      far-end LER (LER-Z).\n \
    \  o  A local Clear SF of the protection path in local Unavailable state\n   \
    \   that is due to an SF on the protection path SHALL cause the LER to\n     \
    \ go to Normal state.  If the LER is in remote Unavailable state but\n      has\
    \ an active local SF condition, then the local Clear SF SHALL\n      clear the\
    \ SF local condition and the LER SHALL remain in remote\n      Unavailable state\
    \ and begin transmitting NR(0,0) messages.  In all\n      other cases, the local\
    \ Clear SF SHALL be ignored.\n   o  A local Forced Switch SHALL be ignored by\
    \ the PSC Control logic\n      when in Unavailable state as a result of a (local\
    \ or remote)\n      Lockout of protection.  If in Unavailable state due to an\
    \ SF on\n      protection, then the FS SHALL cause the LER to go into local\n\
    \      Protecting administrative state and begin transmitting an FS(1,1)\n   \
    \   message.  It should be noted that due to the unavailability of the\n     \
    \ protection path (i.e., due to the SF condition) that this FS may\n      not\
    \ be received by the far-end until the SF condition is cleared.\n   o  A local\
    \ Signal Fail on the protection path input when in local\n      Unavailable state\
    \ (by implication, this is due to a local SF on\n      protection) SHALL cause\
    \ the LER to remain in local Unavailable\n      state and transmit an SF(0,0)\
    \ message.\n   o  A local Signal Fail on the working path input when in remote\n\
    \      Unavailable state SHALL cause the LER to remain in remote\n      Unavailable\
    \ state and transmit an SF(1,0) message.\n   o  All other local inputs SHALL be\
    \ ignored.\n   If remote messages are being received over the protection path,\
    \ then\n   they would have the following effect:\n   o  A remote Lockout of protection\
    \ message SHALL cause the LER to\n      remain in Unavailable state (note that\
    \ if the LER was previously\n      in local Unavailable state due to a Signal\
    \ Fail on the protection\n      path, then it will now be in remote Unavailable\
    \ state) and\n      continue transmission of the current message (either NR(0,0)\
    \ or\n      LO(0,0) or SF(0,0)).\n   o  A remote Forced Switch message SHALL be\
    \ ignored by the PSC Control\n      logic when in Unavailable state as a result\
    \ of a (local or remote)\n      Lockout of protection.  If in Unavailable state\
    \ due to a local or\n      remote SF on protection, then the FS SHALL cause the\
    \ LER to go\n      into remote Protecting administrative state; if in Unavailable\n\
    \      state due to local SF, begin transmitting an SF(0,1) message.\n   o  A\
    \ remote Signal Fail message that indicates that the failure is on\n      the\
    \ protection path SHALL cause the LER to remain in Unavailable\n      state and\
    \ continue transmission of the current message (either\n      NR(0,0) or SF(0,0)\
    \ or LO(0,0)).\n   o  A remote No Request, when the LER is in remote Unavailable\
    \ state\n      and there is no active local Signal Fail SHALL cause the LER to\
    \ go\n      into Normal state and continue transmission of the current\n     \
    \ message.  If there is a local Signal Fail on the protection path,\n      the\
    \ LER SHALL remain in local Unavailable state and transmit an\n      SF(0,0) message.\
    \  If there is a local Signal Fail on the working\n      path, the LER SHALL go\
    \ into local Protecting Failure state and\n      transmit an SF(1,1) message.\
    \  When in local Unavailable state, the\n      remote message SHALL be ignored.\n\
    \   o  All other remote messages SHALL be ignored.\n"
- title: 4.3.3.3.  Protecting Administrative State
  contents:
  - "4.3.3.3.  Protecting Administrative State\n   In the Protecting administrative\
    \ state, the user data traffic SHALL\n   be transported on the protection path,\
    \ while the working path is\n   blocked due to an operator command, i.e., Forced\
    \ Switch or Manual\n   Switch.  The difference between a local FS and local MS\
    \ affects what\n   local indicators may be received -- the Local Request logic\
    \ will\n   block any local SF when under the influence of a local FS, whereas\n\
    \   the SF would override a local MS.  In general, an MS will be canceled\n  \
    \ in case of either a local or remote SF or LO condition.\n   The following describe\
    \ the reaction to local input:\n   o  A local Clear SHALL be ignored if in remote\
    \ Protecting\n      administrative state.  If in local Protecting administrative\n\
    \      state, then this input SHALL cause the LER to go into Normal\n      state.\n\
    \   o  A local Lockout of protection input SHALL cause the LER to go into\n  \
    \    local Unavailable state and begin transmission of an LO(0,0)\n      message.\n\
    \   o  A local Forced Switch input SHALL cause the LER to remain in local\n  \
    \    Protecting administrative state and transmit an FS(1,1) message.\n   o  A\
    \ local Signal Fail indication on the protection path SHALL cause\n      the LER\
    \ to go into local Unavailable state and begin transmission\n      of an SF(0,0)\
    \ message, if the current state is due to a (local or\n      remote) Manual Switch\
    \ operator command.  If the LER is in (local\n      or remote) Protecting administrative\
    \ state due to an FS situation,\n      then the SF on protection SHALL be ignored.\n\
    \   o  A local Signal Fail indication on the working path SHALL cause the\n  \
    \    LER to go into local Protecting failure state and begin\n      transmitting\
    \ an SF(1,1) message, if the current state is due to a\n      (local or remote)\
    \ Manual Switch operator command.  If the LER is\n      in remote Protecting administrative\
    \ state due to a remote Forced\n      Switch command, then this local indication\
    \ SHALL cause the LER to\n      remain in remote Protecting administrative state\
    \ and transmit an\n      SF(1,1) message.  If the LER is in local Protecting administrative\n\
    \      state due to a local Forced Switch command, then this indication\n    \
    \  SHALL be ignored (i.e., the indication should have been blocked by\n      the\
    \ Local Request logic).\n   o  A local Clear SF SHALL clear any local SF condition\
    \ that may\n      exist.  If in remote Protecting administrative state, the LER\n\
    \      SHALL stop transmitting the SF(x,1) message and begin transmitting\n  \
    \    an NR(0,1) message.\n   o  A local Manual Switch input SHALL be ignored if\
    \ in remote\n      Protecting administrative state due to a remote Forced Switch\n\
    \      command.  If the current state is due to a (local or remote)\n      Manual\
    \ Switch operator command, it SHALL cause the LER to remain\n      in local Protecting\
    \ administrative state and transmit an MS(1,1)\n      message.\n   o  All other\
    \ local inputs SHALL be ignored.\n   While in Protecting administrative state\
    \ the LER may receive and\n   react as follows to remote PSC messages:\n   o \
    \ A remote Lockout of protection message SHALL cause the LER to go\n      into\
    \ remote Unavailable state and begin transmitting an NR(0,0)\n      message. \
    \ It should be noted that this automatically cancels the\n      current Forced\
    \ Switch or Manual Switch command and data traffic is\n      reverted to the working\
    \ path.\n   o  A remote Forced Switch message SHALL be ignored by the PSC Process\n\
    \      logic if there is an active local Forced Switch operator command.\n   \
    \   If the Protecting administrative state is due to a remote Forced\n      Switch\
    \ message, then the LER SHALL remain in remote Protecting\n      administrative\
    \ state and continue transmitting the last message.\n      If the Protecting administrative\
    \ state is due to either a local or\n      remote Manual Switch, then the LER\
    \ SHALL remain in remote\n      Protecting administrative state (updating the\
    \ state information\n      with the proper relevant information) and begin transmitting\
    \ an\n      NR(0,1) message.\n   o  A remote Signal Fail message indicating a\
    \ failure on the\n      protection path SHALL cause the LER to go into remote\
    \ Unavailable\n      state and begin transmitting an NR(0,0) message, if the Protecting\n\
    \      administrative state is due to a Manual Switch command.  It should\n  \
    \    be noted that this automatically cancels the current Manual Switch\n    \
    \  command and data traffic is reverted to the working path.\n   o  A remote Signal\
    \ Fail message indicating a failure on the working\n      path SHALL be ignored\
    \ if there is an active local Forced Switch\n      command.  If the Protecting\
    \ state is due to a local or remote\n      Manual Switch, then the LER SHALL go\
    \ to remote Protecting failure\n      state and begin transmitting an NR(0,1)\
    \ message.\n   o  A remote Manual Switch message SHALL be ignored by the PSC Control\n\
    \      logic if in Protecting administrative state due to a local or\n      remote\
    \ Forced Switch.  If in Protecting administrative state due\n      to a remote\
    \ Manual Switch, then the LER SHALL remain in remote\n      Protecting administrative\
    \ state and continue transmitting the\n      current message.  If in local Protecting\
    \ administrative state due\n      to an active Manual Switch, then the LER SHALL\
    \ remain in local\n      Protecting administrative state and continue transmission\
    \ of the\n      MS(1,1) message.\n   o  A remote DNR(0,1) message SHALL be ignored\
    \ if in local Protecting\n      administrative state.  If in remote Protecting\
    \ administrative\n      state, then the LER SHALL go to Do-not-Revert state and\
    \ continue\n      transmitting the current message.\n   o  A remote NR(0,0) message\
    \ SHALL be ignored if in local Protecting\n      administrative state.  If in\
    \ remote Protecting administrative\n      state and there is no active local Signal\
    \ Fail indication, then\n      the LER SHALL go to Normal state and begin transmitting\
    \ an NR(0,0)\n      message.  If there is a local Signal Fail on the working path,\
    \ the\n      LER SHALL go to local Protecting failure state and begin\n      transmitting\
    \ an SF(1,1) message.\n   o  All other remote messages SHALL be ignored.\n"
- title: 4.3.3.4.  Protecting Failure State
  contents:
  - "4.3.3.4.  Protecting Failure State\n   When the protection mechanism has been\
    \ triggered and the protection\n   domain has performed a protection switch, the\
    \ domain is in the\n   Protecting failure state.  In this state, the normal data\
    \ traffic\n   SHALL be transported on the protection path.  When an LER is in\
    \ this\n   state, it implies that there either was a local SF condition or it\n\
    \   received a remote SF PSC message.  The SF condition or message\n   indicated\
    \ that the failure is on the working path.\n   This state may be overridden by\
    \ the Unavailable state triggers, i.e.,\n   Lockout of protection or SF on the\
    \ protection path, or by issuing an\n   FS operator command.  This state will\
    \ be cleared when the SF\n   condition is cleared.  In order to prevent flapping\
    \ due to an\n   intermittent fault, the LER SHOULD employ a Wait-to-Restore timer\
    \ to\n   delay return to Normal state until the network has stabilized (see\n\
    \   Section 3.5).\n   The following describe the reaction to local input:\n  \
    \ o  A local Clear SF SHALL be ignored if in remote Protecting failure\n     \
    \ state.  If in local Protecting failure state and the LER is\n      configured\
    \ for revertive behavior, then this input SHALL cause the\n      LER to go into\
    \ Wait-to-Restore state, start the WTR timer, and\n      begin transmitting a\
    \ WTR(0,1) message.  If in local Protecting\n      failure state and the LER is\
    \ configured for non-revertive\n      behavior, then this input SHALL cause the\
    \ LER to go into Do-not-\n      Revert state and begin transmitting a DNR(0,1)\
    \ message.\n   o  A local Lockout of protection input SHALL cause the LER to go\
    \ into\n      Unavailable state and begin transmission of an LO(0,0) message.\n\
    \   o  A local Forced Switch input SHALL cause the LER to go into\n      Protecting\
    \ administrative state and begin transmission of an\n      FS(1,1) message.\n\
    \   o  A local Signal Fail indication on the protection path SHALL cause\n   \
    \   the LER to go into Unavailable state and begin transmission of an\n      SF(0,0)\
    \ message.\n   o  A local Signal Fail indication on the working path SHALL cause\
    \ the\n      LER to remain in local Protecting failure state and transmit an\n\
    \      SF(1,1) message.\n   o  All other local inputs SHALL be ignored.\n   While\
    \ in Protecting failure state, the LER may receive and react as\n   follows to\
    \ remote PSC messages:\n   o  A remote Lockout of protection message SHALL cause\
    \ the LER to go\n      into remote Unavailable state, and if in local Protecting\
    \ failure\n      state, then the LER SHALL transmit an SF(1,0) message; otherwise,\n\
    \      it SHALL transmit an NR(0,0) message.  It should be noted that\n      this\
    \ may cause loss of user data since the working path is still\n      in a failure\
    \ condition.\n   o  A remote Forced Switch message SHALL cause the LER go into\
    \ remote\n      Protecting administrative state, and if in local Protecting\n\
    \      failure state, the LER SHALL transmit the SF(1,1) message;\n      otherwise,\
    \ it SHALL transmit NR(0,1).\n   o  A remote Signal Fail message indicating a\
    \ failure on the\n      protection path SHALL cause the LER to go into remote\
    \ Unavailable\n      state, and if in local Protecting failure state, then the\
    \ LER\n      SHALL transmit an SF(1,0) message; otherwise, it SHALL transmit an\n\
    \      NR(0,0) message.  It should be noted that this may cause loss of\n    \
    \  user data since the working path is still in a failure condition.\n   o  If\
    \ in remote Protecting failure state, a remote Wait-to-Restore\n      message\
    \ SHALL cause the LER to go into remote Wait-to-Restore\n      state and continue\
    \ transmission of the current message.\n   o  If in remote Protecting failure\
    \ state, a remote Do-not-Revert\n      message SHALL cause the LER to go into\
    \ remote Do-not-Revert state\n      and continue transmission of the current message.\n\
    \   o  If in remote Protecting failure state, a remote NR(0,0) SHALL\n      cause\
    \ the LER to go to Normal state.\n   o  All other remote messages SHALL be ignored.\n"
- title: 4.3.3.5.  Wait-to-Restore State
  contents:
  - "4.3.3.5.  Wait-to-Restore State\n   When recovering from a failure condition\
    \ on the working path, the\n   Wait-to-Restore state is used by the PSC protocol\
    \ to delay reverting\n   to the Normal state, for the period of the WTR timer\
    \ to allow the\n   recovering failure to stabilize.  While in the Wait-to-Restore\
    \ state,\n   the data traffic SHALL continue to be transported on the protection\n\
    \   path.  The natural transition from the Wait-to-Restore state to\n   Normal\
    \ state will occur when the WTR timer expires.\n   When in Wait-to-Restore state,\
    \ the following describe the reaction to\n   local inputs:\n   o  A local Lockout\
    \ of protection command SHALL send the Stop command\n      to the WTR timer, go\
    \ into local Unavailable state, and begin\n      transmitting an LO(0,0) message.\n\
    \   o  A local Forced Switch command SHALL send the Stop command to the\n    \
    \  WTR timer, go into local Protecting administrative state, and\n      begin\
    \ transmission of an FS(1,1) message.\n   o  A local Signal Fail indication on\
    \ the protection path SHALL send\n      the Stop command to the WTR timer, go\
    \ into local Unavailable\n      state, and begin transmission of an SF(0,0) message.\n\
    \   o  A local Signal Fail indication on the working path SHALL send the\n   \
    \   Stop command to the WTR timer, go into local Protecting failure\n      state,\
    \ and begin transmission of an SF(1,1) message.\n   o  A local Manual Switch input\
    \ SHALL send the Stop command to the WTR\n      timer, go into local Protecting\
    \ administrative state, and begin\n      transmission of an MS(1,1) message.\n\
    \   o  A local WTR Expires input SHALL cause the LER to remain in Wait-\n    \
    \  to-Restore state, and begin transmitting an NR(0,1) message.\n   o  All other\
    \ local inputs SHALL be ignored.\n   When in Wait-to-Restore state, the following\
    \ describe the reaction to\n   remote messages:\n   o  A remote Lockout of protection\
    \ message SHALL send the Stop command\n      to the WTR timer, go into remote\
    \ Unavailable state, and begin\n      transmitting an NR(0,0) message.\n   o \
    \ A remote Forced Switch message SHALL send the Stop command to the\n      WTR\
    \ timer, go into remote Protecting administrative state, and\n      begin transmission\
    \ of an NR(0,1) message.\n   o  A remote Signal Fail message for the protection\
    \ path SHALL send\n      the Stop command to the WTR timer, go into remote Unavailable\n\
    \      state, and begin transmission of an NR(0,0) message.\n   o  A remote Signal\
    \ Fail message for the working path SHALL send the\n      Stop command to the\
    \ WTR timer, go into remote Protecting failure\n      state, and begin transmission\
    \ of an NR(0,1) message.\n   o  A remote Manual Switch message SHALL send the\
    \ Stop command to the\n      WTR timer, go into remote Protecting administrative\
    \ state, and\n      begin transmission of an NR(0,1) message.\n   o  If the WTR\
    \ timer is running, then a remote NR message SHALL be\n      ignored.  If the\
    \ WTR timer is stopped, then a remote NR message\n      SHALL cause the LER to\
    \ go into Normal state.\n   o  All other remote messages SHALL be ignored.\n"
- title: 4.3.3.6.  Do-not-Revert State
  contents:
  - "4.3.3.6.  Do-not-Revert State\n   Do-not-Revert state is a continuation of the\
    \ Protecting failure state\n   when the protection domain is configured for non-revertive\
    \ behavior.\n   While in Do-not-Revert state, data traffic SHALL continue to be\n\
    \   transported on the protection path until the administrator sends a\n   command\
    \ to revert to Normal state.  It should be noted that there is\n   a fundamental\
    \ difference between this state and Normal -- whereas\n   Forced Switch in Normal\
    \ state actually causes a switch in the\n   transport path used, in Do-not-Revert\
    \ state, the Forced Switch just\n   switches the state (to Protecting administrative\
    \ state) but the\n   traffic would continue to be transported on the protection\
    \ path!  To\n   revert back to Normal state, the administrator SHALL issue a Lockout\n\
    \   of protection command followed by a Clear command.\n   When in Do-not-Revert\
    \ state, the following describe the reaction to\n   local input:\n   o  A local\
    \ Lockout of protection command SHALL cause the LER to go\n      into local Unavailable\
    \ state and begin transmitting an LO(0,0)\n      message.\n   o  A local Forced\
    \ Switch command SHALL cause the LER to go into local\n      Protecting administrative\
    \ state and begin transmission of an\n      FS(1,1) message.\n   o  A local Signal\
    \ Fail indication on the protection path SHALL cause\n      the LER to go into\
    \ local Unavailable state and begin transmission\n      of an SF(0,0) message.\n\
    \   o  A local Signal Fail indication on the working path SHALL cause the\n  \
    \    LER to go into local Protecting failure state and begin\n      transmission\
    \ of an SF(1,1) message.\n   o  A local Manual Switch input SHALL cause the LER\
    \ to go into local\n      Protecting administrative state and begin transmission\
    \ of an\n      MS(1,1) message.\n   o  All other local inputs SHALL be ignored.\n\
    \   When in Do-not-Revert state, the following describe the reaction to\n   remote\
    \ messages:\n   o  A remote Lockout of protection message SHALL cause the LER\
    \ to go\n      into remote Unavailable state and begin transmitting an NR(0,0)\n\
    \      message.\n   o  A remote Forced Switch message SHALL cause the LER to go\
    \ into\n      remote Protecting administrative state and begin transmission of\n\
    \      an NR(0,1) message.\n   o  A remote Signal Fail message for the protection\
    \ path SHALL cause\n      the LER to go into remote Unavailable state and begin\
    \ transmission\n      of an NR(0,0) message.\n   o  A remote Signal Fail message\
    \ for the working path SHALL cause the\n      LER to go into remote Protecting\
    \ failure state and begin\n      transmission of an NR(0,1) message.\n   o  A\
    \ remote Manual Switch message SHALL cause the LER to go into\n      remote Protecting\
    \ administrative state and begin transmission of\n      an NR(0,1) message.\n\
    \   o  All other remote messages SHALL be ignored.\n"
- title: 5.  IANA Considerations
  contents:
  - '5.  IANA Considerations

    '
- title: 5.1.  Pseudowire Associated Channel Type
  contents:
  - "5.1.  Pseudowire Associated Channel Type\n   In the \"Pseudowire Name Spaces\
    \ (PWE3)\" registry, IANA maintains the\n   \"Pseudowire Associated Channel Types\"\
    \ registry.\n   IANA has assigned a new code point from this registry.  The code\n\
    \   point has been assigned from the code point space that requires \"IETF\n \
    \  Review\" as follows:\n   Registry:\n    Value       Description       TLV Follows\
    \    Reference\n   ------ ----------------------- ----------- ---------------\n\
    \   0x0024     Protection State         no     [this document]\n          Coordination\
    \ Protocol -\n           Channel Type (PSC-CT)\n"
- title: 5.2.  PSC Request Field
  contents:
  - "5.2.  PSC Request Field\n   IANA has created and maintains a new sub-registry\
    \ within the\n   \"Multiprotocol Label Switching (MPLS) Operations, Administration,\
    \ and\n   Management (OAM) Parameters\" registry called the \"MPLS PSC Request\n\
    \   Registry\".  All code points within this registry shall be allocated\n   according\
    \ to the \"Standards Action\" procedure as specified in\n   [RFC5226].\n   The\
    \ PSC Request Field is 4 bits, and the values have been allocated\n   as follows:\n\
    \   Value Description              Reference\n   ----- --------------------- ---------------\n\
    \     0   No Request            [this document]\n     1   Do-not-Revert      \
    \   [this document]\n   2 - 3 Unassigned\n     4   Wait-to-Restore       [this\
    \ document]\n     5   Manual Switch         [this document]\n     6   Unassigned\n\
    \     7   Signal Degrade        [this document]\n   8 - 9 Unassigned\n     10\
    \  Signal Fail           [this document]\n     11  Unassigned\n     12  Forced\
    \ Switch         [this document]\n     13  Unassigned\n     14  Lockout of protection\
    \ [this document]\n     15  Unassigned\n"
- title: 5.3.  Additional TLVs
  contents:
  - "5.3.  Additional TLVs\n   The IANA has created and maintains a new sub-registry\
    \ within the\n   \"Multiprotocol Label Switching (MPLS) Operations, Administration,\
    \ and\n   Management (OAM) Parameters\" registry called the \"MPLS PSC TLV\n \
    \  Registry\".  All code points within this registry shall be allocated\n   according\
    \ to the \"IETF Review\" procedure as specified in [RFC5226].\n"
- title: 6.  Security Considerations
  contents:
  - "6.  Security Considerations\n   MPLS-TP is a subset of MPLS and so builds upon\
    \ many of the aspects of\n   the security model of MPLS.  MPLS networks make the\
    \ assumption that\n   it is very hard to inject traffic into a network and equally\
    \ hard to\n   cause traffic to be directed outside the network.  The control-plane\n\
    \   protocols utilize hop-by-hop security and assume a \"chain-of-trust\"\n  \
    \ model such that end-to-end control-plane security is not used.  For\n   more\
    \ information on the generic aspects of MPLS security, see\n   [RFC5920].\n  \
    \ This document describes a protocol carried in the G-ACh [RFC5586],\n   and so\
    \ is dependent on the security of the G-ACh, itself.  The G-ACh\n   is a generalization\
    \ of the Associated Channel defined in [RFC4385].\n   Thus, this document relies\
    \ heavily on the security mechanisms\n   provided for the Associated Channel and\
    \ described in those two\n   documents.\n   A specific concern for the G-ACh is\
    \ that is can be used to provide a\n   covert channel.  This problem is wider\
    \ than the scope of this\n   document and does not need to be addressed here,\
    \ but it should be\n   noted that the channel provides end-to-end connectivity\
    \ and SHOULD\n   NOT be policed by transit nodes.  Thus, there is no simple way\
    \ of\n   preventing any traffic being carried between in the G-ACh consenting\n\
    \   nodes.\n   A good discussion of the data-plane security of an associated channel\n\
    \   may be found in [RFC5085].  That document also describes some\n   mitigation\
    \ techniques.\n   It should be noted that the G-ACh is essentially connection\
    \ oriented\n   so injection or modification of control messages specified in this\n\
    \   document require the subversion of a transit node.  Such subversion\n   is\
    \ generally considered hard in MPLS networks and impossible to\n   protect against\
    \ at the protocol level.  Management level techniques\n   are more appropriate.\n\
    \   However, a new concern for this document is the accidental corruption\n  \
    \ of messages (through faulty implementations or random corruption).\n   The main\
    \ concern is around the Request, FPath, and Path fields as a\n   change to these\
    \ fields would change the behavior of the peer end\n   point.  Although this document\
    \ does not define a way to avoid a\n   change in network behavior upon receipt\
    \ of a message indicating a\n   change in protection status, the transition between\
    \ states will\n   converge on a known and stable behavior in the face of messages\
    \ that\n   do not match reality.\n"
- title: 7.  Acknowledgements
  contents:
  - "7.  Acknowledgements\n   The authors would like to thank all members of the teams\
    \ (the Joint\n   Working Team, the MPLS Interoperability Design Team in the IETF,\
    \ and\n   the T-MPLS Ad Hoc Group in ITU-T) involved in the definition and\n \
    \  specification of the MPLS Transport Profile.\n"
- title: 8.  Contributing Authors
  contents:
  - "8.  Contributing Authors\n   Hao Long\n   Huawei Technologies Co., Ltd.\n   F3\
    \ Building, Huawei Industrial Park\n   Bantian, Shenzhen, China\n   EMail: longhao@huawei.com\n\
    \   Davide Chiara\n   Ericsson\n   Via Calda 5, 16152 Genova Italy\n   EMail:\
    \ davide.chiara@ericsson.com\n   Dan Frost\n   Cisco Systems\n   EMail: danfrost@cisco.com\n\
    \   Francesco Fondelli\n   Ericsson\n   via Moruzzi 1\n   56100, Pisa\n   Italy\n\
    \   EMail: francesco.fondelli@ericsson.com\n"
- title: 9.  References
  contents:
  - '9.  References

    '
- title: 9.1.  Normative References
  contents:
  - "9.1.  Normative References\n   [RFC2119]  Bradner, S., \"Key words for use in\
    \ RFCs to Indicate\n              Requirement Levels\", BCP 14, RFC 2119, March\
    \ 1997.\n   [RFC4385]  Bryant, S., Swallow, G., Martini, L., and D. McPherson,\n\
    \              \"Pseudowire Emulation Edge-to-Edge (PWE3) Control Word for\n \
    \             Use over an MPLS PSN\", RFC 4385, February 2006.\n   [RFC5586] \
    \ Bocci, M., Vigoureux, M., and S. Bryant, \"MPLS Generic\n              Associated\
    \ Channel\", RFC 5586, June 2009.\n   [RFC5654]  Niven-Jenkins, B., Brungard,\
    \ D., Betts, M., Sprecher, N.,\n              and S. Ueno, \"Requirements of an\
    \ MPLS Transport Profile\",\n              RFC 5654, September 2009.\n"
- title: 9.2.  Informative References
  contents:
  - "9.2.  Informative References\n   [RFC3031]  Rosen, E., Viswanathan, A., and R.\
    \ Callon, \"Multiprotocol\n              Label Switching Architecture\", RFC 3031,\
    \ January 2001.\n   [RFC3032]  Rosen, E., Tappan, D., Fedorkow, G., Rekhter, Y.,\n\
    \              Farinacci, D., Li, T., and A. Conta, \"MPLS Label Stack\n     \
    \         Encoding\", RFC 3032, January 2001.\n   [RFC3945]  Mannie, E., \"Generalized\
    \ Multi-Protocol Label Switching\n              (GMPLS) Architecture\", RFC 3945,\
    \ October 2004.\n   [RFC3985]  Bryant, S. and P. Pate, \"Pseudo Wire Emulation\
    \ Edge-to-\n              Edge (PWE3) Architecture\", RFC 3985, March 2005.\n\
    \   [RFC4427]  Mannie, E. and D. Papadimitriou, \"Recovery (Protection and\n \
    \             Restoration) Terminology for Generalized Multi-Protocol\n      \
    \        Label Switching (GMPLS)\", RFC 4427, March 2006.\n   [RFC4872]  Lang,\
    \ J., Rekhter, Y., and D. Papadimitriou, \"RSVP-TE\n              Extensions in\
    \ Support of End-to-End Generalized Multi-\n              Protocol Label Switching\
    \ (GMPLS) Recovery\", RFC 4872,\n              May 2007.\n   [RFC4873]  Berger,\
    \ L., Bryskin, I., Papadimitriou, D., and A. Farrel,\n              \"GMPLS Segment\
    \ Recovery\", RFC 4873, May 2007.\n   [RFC5085]  Nadeau, T. and C. Pignataro,\
    \ \"Pseudowire Virtual Circuit\n              Connectivity Verification (VCCV):\
    \ A Control Channel for\n              Pseudowires\", RFC 5085, December 2007.\n\
    \   [RFC5226]  Narten, T. and H. Alvestrand, \"Guidelines for Writing an\n   \
    \           IANA Considerations Section in RFCs\", BCP 26, RFC 5226,\n       \
    \       May 2008.\n   [RFC5659]  Bocci, M. and S. Bryant, \"An Architecture for\
    \ Multi-\n              Segment Pseudowire Emulation Edge-to-Edge\", RFC 5659,\n\
    \              October 2009.\n   [RFC5920]  Fang, L., \"Security Framework for\
    \ MPLS and GMPLS\n              Networks\", RFC 5920, July 2010.\n   [RFC5921]\
    \  Bocci, M., Bryant, S., Frost, D., Levrau, L., and L.\n              Berger,\
    \ \"A Framework for MPLS in Transport Networks\",\n              RFC 5921, July\
    \ 2010.\n   [RFC6372]  Sprecher, N., Ed. and A. Farrel, Ed., \"MPLS Transport\n\
    \              Profile (MPLS-TP) Survivability Framework\", RFC 6372,\n      \
    \        September 2011.\n"
- title: Appendix A.  PSC State Machine Tables
  contents:
  - "Appendix A.  PSC State Machine Tables\n   The PSC state machine is described\
    \ in Section 4.3.3.  This appendix\n   provides the same information but in tabular\
    \ format.  In the event of\n   a mismatch between these tables and the text in\
    \ Section 4.3.3, the\n   text is authoritative.  Note that this appendix is intended\
    \ to be a\n   functional description, not an implementation specification.\n \
    \  For the sake of clarity of the table, the six states listed in the\n   text\
    \ are split into 13 states.  The logic of the split is to\n   differentiate between\
    \ the different cases given in the conditional\n   statements in the descriptions\
    \ of each state in the text.  In\n   addition, the remote and local states were\
    \ split for the Unavailable,\n   Protecting failure, and Protecting administrative\
    \ states.\n   There is only one table for the PSC state machine, but it is broken\n\
    \   into two parts for space reasons.  The first part lists the 13\n   possible\
    \ states, the eight possible local inputs (that is, inputs\n   that are generated\
    \ by the node in question), and the action taken\n   when a given input is received\
    \ when the node is in a particular\n   state.  The second part of the table lists\
    \ the 13 possible states and\n   the eight remote inputs (inputs that come from\
    \ a node other than the\n   one executing the state machine).\n   There are 13\
    \ rows in the table, headers notwithstanding.  These rows\n   are the 13 possible\
    \ extended states in the state machine.\n   The text in the first column is the\
    \ current state.  Those states that\n   have both source and cause are formatted\
    \ as State:Cause:Source.  For\n   example, the string UA:LO:L indicates that the\
    \ current state is\n   'Unavailable', that the cause of the current state is a\
    \ Lockout of\n   protection that was a local input.  In contrast, the state N\
    \ simply\n   is Normal; there is no need to track the cause for entry into Normal\n\
    \   state.\n   The 13 extended states, as they appear in the table, are as follows:\n\
    \   N       Normal state\n   UA:LO:L Unavailable state due to local Lockout\n\
    \   UA:P:L  Unavailable state due to local SF on protection path\n   UA:LO:R Unavailable\
    \ state due to remote Lockout of protection message\n   UA:P:R  Unavailable state\
    \ due to remote SF message on protection path\n   PF:W:L  Protecting failure state\
    \ due to local SF on working path\n   PF:W:R  Protecting failure state due to\
    \ remote SF message on working\n           path\n   PA:F:L  Protecting administrative\
    \ state due to local FS operator\n           command\n   PA:M:L  Protecting administrative\
    \ state due to local MS operator\n           command\n   PA:F:R  Protecting administrative\
    \ state due to remote FS message\n   PA:M:R  Protecting administrative state due\
    \ to remote MS message\n   WTR     Wait-to-Restore state\n   DNR     Do-not-Revert\
    \ state\n   Each state corresponds to the transmission of a particular set of\n\
    \   Request, FPath and Path bits.  The table below lists the message that\n  \
    \ is generally sent in each particular state.  If the message to be\n   sent in\
    \ a particular state deviates from the table below, it is noted\n   in the footnotes\
    \ to the state-machine table.\n   State   REQ(FP,P)\n   ------- ---------\n  \
    \ N       NR(0,0)\n   UA:LO:L LO(0,0)\n   UA:P:L  SF(0,0)\n   UA:LO:R NR(0,0)\n\
    \   UA:P:R  NR(0,0)\n   PF:W:L  SF(1,1)\n   PF:W:R  NR(0,1)\n   PA:F:L  FS(1,1)\n\
    \   PA:M:L  MS(1,1)\n   PA:F:R  NR(0,1)\n   PA:M:R  NR(0,1)\n   WTR     WTR(0,1)\n\
    \   DNR     DNR(0,1)\n   The top row in each table is the list of possible inputs.\
    \  The local\n   inputs are as follows:\n   NR     No Request\n   OC     Operator\
    \ Clear\n   LO     Lockout of protection\n   SF-P   Signal Fail on protection\
    \ path\n   SF-W   Signal Fail on working path\n   FS     Forced Switch\n   SFc\
    \    Clear Signal Fail\n   MS     Manual Switch\n   WTRExp WTR Expired\n   and\
    \ the remote inputs are as follows:\n   LO   remote LO message\n   SF-P remote\
    \ SF message indicating protection path\n   SF-W remote SF message indicating\
    \ working path\n   FS   remote FS message\n   MS   remote MS message\n   WTR \
    \ remote WTR message\n   DNR  remote DNR message\n   NR   remote NR message\n\
    \   Section 4.3.3 refers to some states as 'remote' and some as 'local'.\n   By\
    \ definition, all states listed in the table of local sources are\n   local states,\
    \ and all states listed in the table of remote sources\n   are remote states.\
    \  For example, Section 4.3.3.1 says \"A local\n   Lockout of protection input\
    \ SHALL cause the LER to go into local\n   Unavailable state\".  As the trigger\
    \ for this state change is a local\n   one, 'local Unavailable state' is, by definition,\
    \ displayed in the\n   table of local sources.  Similarly, Section 4.3.3.1 also\
    \ states that\n   \"A remote Lockout of protection message SHALL cause the LER\
    \ to go\n   into remote Unavailable state\" means that the state represented in\n\
    \   the Unavailable rows in the table of remote sources is by definition\n   a\
    \ remote Unavailable state.\n   Each cell in the table below contains either a\
    \ state, a footnote, or\n   the letter 'i'. 'i' stands for Ignore, and is an indication\
    \ to\n   continue with the current behavior.  See Section 4.3.3.  The\n   footnotes\
    \ are listed below the table.\n   Part 1: Local input state machine\n        \
    \       | OC  | LO    | SF-P | FS   | SF-W | SFc  | MS   | WTRExp\n       --------+-----+-------+------+------+------+------+------+-------\n\
    \       N       | i   |UA:LO:L|UA:P:L|PA:F:L|PF:W:L| i    |PA:M:L| i\n       UA:LO:L\
    \ | N   | i     | i    | i    | i    | i    | i    | i\n       UA:P:L  | i   |UA:LO:L|\
    \ i    |PA:F:L| i    | [5]  | i    | i\n       UA:LO:R | i   |UA:LO:L| [1]  |\
    \ i    | [2]  | [6]  | i    | i\n       UA:P:R  | i   |UA:LO:L|UA:P:L|PA:F:L|\
    \ [3]  | [6]  | i    | i\n       PF:W:L  | i   |UA:LO:L|UA:P:L|PA:F:L| i    |\
    \ [7]  | i    | i\n       PF:W:R  | i   |UA:LO:L|UA:P:L|PA:F:L|PF:W:L| i    |\
    \ i    | i\n       PA:F:L  | N   |UA:LO:L| i    | i    | i    | i    | i    |\
    \ i\n       PA:M:L  | N   |UA:LO:L|UA:P:L|PA:F:L|PF:W:L| i    | i    | i\n   \
    \    PA:F:R  | i   |UA:LO:L| i    |PA:F:L| [4]  | [8]  | i    | i\n       PA:M:R\
    \  | i   |UA:LO:L|UA:P:L|PA:F:L|PF:W:L| i    |PA:M:L| i\n       WTR     | i  \
    \ |UA:LO:L|UA:P:L|PA:F:L|PF:W:L| i    |PA:M:L| [9]\n       DNR     | i   |UA:LO:L|UA:P:L|PA:F:L|PF:W:L|\
    \ i    |PA:M:L| i\n   Part 2: Remote messages state machine\n               |\
    \ LO    | SF-P | FS   | SF-W | MS   | WTR  | DNR  | NR\n       --------+-------+------+------+------+------+------+------+------\n\
    \       N       |UA:LO:R|UA:P:R|PA:F:R|PF:W:R|PA:M:R| i    | i    | i\n      \
    \ UA:LO:L | i     | i    | i    | i    | i    | i    | i    | i\n       UA:P:L\
    \  | [10]  | i    | [19] | i    | i    | i    | i    | i\n       UA:LO:R | i \
    \    | i    | i    | i    | i    | i    | i    | [16]\n       UA:P:R  |UA:LO:R|\
    \ i    |PA:F:R| i    | i    | i    | i    | [16]\n       PF:W:L  | [11]  | [12]\
    \ |PA:F:R| i    | i    | i    | i    | i\n       PF:W:R  |UA:LO:R|UA:P:R|PA:F:R|\
    \ i    | i    | [14] | [15] | N\n       PA:F:L  |UA:LO:R| i    | i    | i    |\
    \ i    | i    | i    | i\n       PA:M:L  |UA:LO:R|UA:P:R|PA:F:R| [13] | i    |\
    \ i    | i    | i\n       PA:F:R  |UA:LO:R| i    | i    | i    | i    | i    |\
    \ DNR  | [17]\n       PA:M:R  |UA:LO:R|UA:P:R|PA:F:R| [13] | i    | i    | DNR\
    \  | N\n       WTR     |UA:LO:R|UA:P:R|PA:F:R|PF:W:R|PA:M:R| i    | i    | [18]\n\
    \       DNR     |UA:LO:R|UA:P:R|PA:F:R|PF:W:R|PA:M:R| i    | i    | i\n   The\
    \ following are the footnotes for the table:\n   [1]   Remain in the current state\
    \ (UA:LO:R) and transmit SF(0,0).\n   [2]   Remain in the current state (UA:LO:R)\
    \ and transmit SF(1,0).\n   [3]   Remain in the current state (UA:P:R) and transmit\
    \ SF(1,0).\n   [4]   Remain in the current state (PA:F:R) and transmit SF(1,1).\n\
    \   [5]   If the SF being cleared is SF-P, transition to N.  If it's\n       \
    \  SF-W, ignore the clear.\n   [6]   Remain in current state (UA:x:R), if the\
    \ SFc corresponds to a\n         previous SF, then begin transmitting NR(0,0).\n\
    \   [7]   If domain configured for revertive behavior transition to WTR,\n   \
    \      else transition to DNR.\n   [8]   Remain in PA:F:R and transmit NR(0,1).\n\
    \   [9]   Remain in WTR, send NR(0,1).\n   [10]  Transition to UA:LO:R continue\
    \ sending SF(0,0).\n   [11]  Transition to UA:LO:R and send SF(1,0).\n   [12]\
    \  Transition to UA and send SF(1,0).\n   [13]  Transition to PF:W:R and send\
    \ NR(0,1).\n   [14]  Transition to WTR state and continue to send the current\n\
    \         message.\n   [15]  Transition to DNR state and continue to send the\
    \ current\n         message.\n   [16]  If the local input is SF-P, then transition\
    \ to UA:P:L.  If the\n         local input is SF-W, then transition to PF:W:L.\
    \  Else,\n         transition to N state and continue to send the current message.\n\
    \   [17]  If the local input is SF-W, then transition to PF:W:L.  Else,\n    \
    \     transition to N state and continue to send the current message.\n   [18]\
    \  If the receiving LER's WTR timer is running, maintain current\n         state\
    \ and message.  If the WTR timer is stopped, transition to\n         N.\n   [19]\
    \  Transition to PA:F:R and send SF (0,1).\n"
- title: Appendix B.  Exercising the Protection Domain
  contents:
  - "Appendix B.  Exercising the Protection Domain\n   There is a requirement in [RFC5654]\
    \ (number 84) that discusses a\n   requirement to verify that the protection path\
    \ is viable.  While the\n   PSC protocol does not define a specific operation\
    \ for this\n   functionality, it is possible to perform this operation by combining\n\
    \   operations of the PSC and other OAM functionalities.  One such\n   possible\
    \ combination would be to issue a Lockout of protection\n   operation and then\
    \ use the OAM function for diagnostic testing of the\n   protection path.  Similarly,\
    \ to test the paths when the working path\n   is not active would involve performing\
    \ a Forced Switch to protection\n   and then perform the diagnostic function on\
    \ either the working or\n   protection path.\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Yaacov Weingarten (editor)\n   Nokia Siemens Networks\n\
    \   3 Hanagar St. Neve Ne'eman B\n   Hod Hasharon  45241\n   Israel\n   EMail:\
    \ yaacov.weingarten@nsn.com\n   Stewart Bryant\n   Cisco\n   United Kingdom\n\
    \   EMail: stbryant@cisco.com\n   Eric Osborne\n   Cisco\n   United States\n \
    \  EMail: eosborne@cisco.com\n   Nurit Sprecher\n   Nokia Siemens Networks\n \
    \  3 Hanagar St. Neve Ne'eman B\n   Hod Hasharon  45241\n   Israel\n   EMail:\
    \ nurit.sprecher@nsn.com\n   Annamaria Fulignoli (editor)\n   Ericsson\n   Via\
    \ Moruzzi\n   Pisa  56100\n   Italy\n   EMail: annamaria.fulignoli@ericsson.com\n"
