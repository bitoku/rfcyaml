- title: __initial_text__
  contents:
  - '          Analysis of Multihoming in Network Mobility Support

    '
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This memo provides information for the Internet community.\
    \  It does\n   not specify an Internet standard of any kind.  Distribution of\
    \ this\n   memo is unlimited.\n"
- title: Abstract
  contents:
  - "Abstract\n   This document is an analysis of multihoming in the context of network\n\
    \   mobility (NEMO) in IPv6.  As there are many situations in which\n   mobile\
    \ networks may be multihomed, a taxonomy is proposed to classify\n   the possible\
    \ configurations.  The possible deployment scenarios of\n   multihomed mobile\
    \ networks are described together with the associated\n   issues when network\
    \ mobility is supported by RFC 3963 (NEMO Basic\n   Support).  Recommendations\
    \ are offered on how to address these\n   issues.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1.  Introduction . . . . . . . . . . . . . . . . . . .\
    \ . . . . . .  3\n   2.  Classification . . . . . . . . . . . . . . . . . . .\
    \ . . . . .  4\n     2.1.  (1,1,1): Single MR, Single HA, Single MNP  . . . .\
    \ . . . .  6\n     2.2.  (1,1,n): Single MR, Single HA, Multiple MNPs . . . .\
    \ . . .  6\n     2.3.  (1,n,1): Single MR, Multiple HAs, Single MNP . . . . .\
    \ . .  7\n     2.4.  (1,n,n): Single MR, Multiple HAs, Multiple MNPs  . . . .\
    \ .  8\n     2.5.  (n,1,1): Multiple MRs, Single HA, Single MNP . . . . . . .\
    \  8\n     2.6.  (n,1,n): Multiple MRs, Single HA, Multiple MNPs  . . . . .  9\n\
    \     2.7.  (n,n,1): Multiple MRs, Multiple HAs, Single MNP  . . . . .  9\n  \
    \   2.8.  (n,n,n): Multiple MRs, Multiple HAs, Multiple MNPs . . . . 10\n   3.\
    \  Deployment Scenarios and Prerequisites . . . . . . . . . . . . 11\n     3.1.\
    \  Deployment Scenarios . . . . . . . . . . . . . . . . . . . 11\n     3.2.  Prerequisites\
    \  . . . . . . . . . . . . . . . . . . . . . . 13\n   4.  Multihoming Issues .\
    \ . . . . . . . . . . . . . . . . . . . . . 14\n     4.1.  Fault Tolerance  .\
    \ . . . . . . . . . . . . . . . . . . . . 14\n       4.1.1.  Failure Detection\
    \  . . . . . . . . . . . . . . . . . . 15\n       4.1.2.  Path Exploration . .\
    \ . . . . . . . . . . . . . . . . . 16\n       4.1.3.  Path Selection . . . .\
    \ . . . . . . . . . . . . . . . . 17\n       4.1.4.  Re-Homing  . . . . . . .\
    \ . . . . . . . . . . . . . . . 19\n     4.2.  Ingress Filtering  . . . . . .\
    \ . . . . . . . . . . . . . . 19\n     4.3.  HA Synchronization . . . . . . .\
    \ . . . . . . . . . . . . . 21\n     4.4.  MR Synchronization . . . . . . . .\
    \ . . . . . . . . . . . . 22\n     4.5.  Prefix Delegation  . . . . . . . . .\
    \ . . . . . . . . . . . 23\n     4.6.  Multiple Bindings/Registrations  . . .\
    \ . . . . . . . . . . 23\n     4.7.  Source Address Selection . . . . . . . .\
    \ . . . . . . . . . 23\n     4.8.  Loop Prevention in Nested Mobile Networks \
    \ . . . . . . . . 24\n     4.9.  Prefix Ownership . . . . . . . . . . . . . .\
    \ . . . . . . . 24\n     4.10. Preference Settings  . . . . . . . . . . . . .\
    \ . . . . . . 25\n   5.  Recommendations to the Working Group . . . . . . . .\
    \ . . . . . 26\n   6.  Conclusion . . . . . . . . . . . . . . . . . . . . . .\
    \ . . . . 28\n   7.  Security Considerations  . . . . . . . . . . . . . . . .\
    \ . . . 28\n   8.  Acknowledgments  . . . . . . . . . . . . . . . . . . . . .\
    \ . . 29\n   9.  References . . . . . . . . . . . . . . . . . . . . . . . . .\
    \ . 29\n     9.1.  Normative References . . . . . . . . . . . . . . . . . . .\
    \ 29\n     9.2.  Informative References . . . . . . . . . . . . . . . . . . 29\n\
    \   Appendix A.  Alternative Classifications Approach  . . . . . . . . 32\n  \
    \   A.1.  Ownership-Oriented Approach  . . . . . . . . . . . . . . . 32\n    \
    \   A.1.1.  ISP Model  . . . . . . . . . . . . . . . . . . . . . . 32\n      \
    \ A.1.2.  Subscriber/Provider Model  . . . . . . . . . . . . . . 33\n     A.2.\
    \  Problem-Oriented Approach  . . . . . . . . . . . . . . . . 34\n   Appendix\
    \ B.  Nested Tunneling for Fault Tolerance  . . . . . . . . 35\n     B.1.  Detecting\
    \ Presence of Alternate Routes . . . . . . . . . . 35\n     B.2.  Re-Establishment\
    \ of Bi-Directional Tunnels . . . . . . . . 36\n       B.2.1.  Using Alternate\
    \ Egress Interface . . . . . . . . . . . 36\n       B.2.2.  Using Alternate Mobile\
    \ Router  . . . . . . . . . . . . 36\n     B.3.  To Avoid Tunneling Loop  . .\
    \ . . . . . . . . . . . . . . . 37\n     B.4.  Points of Considerations . . .\
    \ . . . . . . . . . . . . . . 37\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   The design goals and objectives of Network Mobility (NEMO)\
    \ support in\n   IPv6 are identified in [1], while the terminology is described\
    \ in [2]\n   and [3].  NEMO Basic Support (RFC 3963) [4] is the solution proposed\n\
    \   by the NEMO Working Group to provide continuous Internet connectivity\n  \
    \ to nodes located in an IPv6 mobile network, e.g., like in an in-\n   vehicle\
    \ embedded IP network.  The NEMO Basic Support solution does so\n   by setting\
    \ up bi-directional tunnels between the mobile routers (MRs)\n   connecting the\
    \ mobile network (NEMO) to the Internet and their\n   respective home agents (HAs),\
    \ much like how this is done in Mobile\n   IPv6 [5], the solution for host mobility\
    \ support.  NEMO Basic Support\n   is transparent to nodes located behind the\
    \ MR (i.e., the mobile\n   network nodes, or MNNs), and as such, does not require\
    \ MNNs to take\n   any action in the mobility management.\n   However, mobile\
    \ networks are typically connected by means of wireless\n   and thus less reliable\
    \ links; there could also be many nodes behind\n   the MR.  A loss of connectivity\
    \ or a failure to connect to the\n   Internet has thus a more significant impact\
    \ than for a single mobile\n   node.  Scenarios illustrated in [6] demonstrate\
    \ that providing a\n   permanent access to mobile networks typically require the\
    \ use of\n   several interfaces and technologies.  For example, this is\n   particularly\
    \ useful for Intelligent Transport Systems (ITS)\n   applications since vehicles\
    \ are moving across distant geographical\n   locations.  Access would be provided\
    \ through different access\n   technologies (e.g., Wimax, Wifi, 3G) and through\
    \ different access\n   operators.\n   As specified in Section 5 of the NEMO Basic\
    \ Support Requirements [1]\n   (R.12), the NEMO WG must ensure that NEMO Basic\
    \ Support does not\n   prevent mobile networks to be multihomed, i.e., when there\
    \ is more\n   than one point of attachment between the mobile network and the\n\
    \   Internet (see definitions in [3]).  This arises either:\n   o  when an MR\
    \ has multiple egress interfaces, or\n   o  the mobile network has multiple MRs,\
    \ or\n   o  the mobile network is associated with multiple HAs, or\n   o  multiple\
    \ global prefixes are available in the mobile network.\n   Using NEMO Basic Support,\
    \ this would translate into having multiple\n   bi-directional tunnels between\
    \ the MR(s) and the corresponding HA(s),\n   and may result in multiple Mobile\
    \ Network Prefixes (MNPs) available\n   to the MNNs.  However, NEMO Basic Support\
    \ does not specify any\n   particular mechanism to manage multiple bi-directional\
    \ tunnels.  The\n   objectives of this memo are thus multifold:\n   o  to determine\
    \ all the potential multihomed configurations for a\n      NEMO, and then to identify\
    \ which of these may be useful in a real-\n      life scenario;\n   o  to capture\
    \ issues that may prevent some multihomed configurations\n      to be supported\
    \ under the operation of NEMO Basic Support.  It\n      does not necessarily mean\
    \ that the ones not supported will not\n      work with NEMO Basic Support, as\
    \ it may be up to the implementors\n      to make it work (hopefully this memo\
    \ will be helpful to these\n      implementors);\n   o  to decide which issues\
    \ are worth solving and to determine which WG\n      is the most appropriate to\
    \ address these;\n   o  to identify potential solutions to the previously identified\n\
    \      issues.\n   In order to reach these objectives, a taxonomy for classifying\
    \ the\n   possible multihomed configurations is described in Section 2.\n   Deployment\
    \ scenarios, their benefits, and requirements to meet these\n   benefits are illustrated\
    \ in Section 3.  Following this, the related\n   issues are studied in Section\
    \ 4.  The issues are then summarized in a\n   matrix for each of the deployment\
    \ scenario, and recommendations are\n   made on which of the issues should be\
    \ worked on and where in\n   Section 5.  This memo concludes with an evaluation\
    \ of NEMO Basic\n   Support for multihomed configurations.  Alternative classifications\n\
    \   are outlined in the Appendix.\n   The readers should note that this document\
    \ considers multihoming only\n   from the point of view of an IPv6 environment.\
    \  In order to\n   understand this memo, the reader is expected to be familiar\
    \ with the\n   above cited documents, i.e., with the NEMO terminology as defined\
    \ in\n   [2] (Section 3) and [3], Motivations and Scenarios for Multihoming\n\
    \   [6], Goals and Requirements of Network Mobility Support [1], and the\n   NEMO\
    \ Basic Support specification [4].  Goals and benefits of\n   multihoming as discussed\
    \ in [6], are applicable to fixed nodes,\n   mobile nodes, fixed networks, and\
    \ mobile networks.\n"
- title: 2.  Classification
  contents:
  - "2.  Classification\n   As there are several configurations in which mobile networks\
    \ are\n   multihomed, there is a need to classify them into a clearly defined\n\
    \   taxonomy.  This can be done in various ways.  A Configuration-\n   Oriented\
    \ taxonomy is described in this section.  Two other\n   taxonomies, namely, the\
    \ Ownership-Oriented Approach and the Problem-\n   Oriented Approach, are outlined\
    \ in Appendix A.1 and Appendix A.2.\n   Multihomed configurations can be classified\
    \ depending on how many MRs\n   are present, how many egress interfaces, Care-of\
    \ Address (CoA), and\n   Home Addresses (HoA) the MRs have, how many prefixes\
    \ (MNPs) are\n   available to the mobile network nodes, etc.  We use three key\n\
    \   parameters to differentiate the multihomed configurations.  Using\n   these\
    \ parameters, each configuration is referred by the 3-tuple\n   (x,y,z), where\
    \ 'x', 'y', 'z' are defined as follows:\n   o  'x' indicates the number of MRs\
    \ where:\n      x=1  implies that a mobile network has only a single MR,\n   \
    \      presumably multihomed.\n      x=n  implies that a mobile network has more\
    \ than one MR.\n   o  'y' indicates the number of HAs associated with the entire\
    \ mobile\n      network, where:\n      y=1  implies that a single HA is assigned\
    \ to the mobile network.\n      y=n  implies that multiple HAs are assigned to\
    \ the mobile network.\n   o  'z' indicates the number of MNPs available within\
    \ the NEMO, where:\n      z=1  implies that a single MNP is available in the NEMO.\n\
    \      z=N  implies that multiple MNPs are available in the NEMO.\n   It can be\
    \ seen that the above three parameters are fairly orthogonal\n   with one another.\
    \  Thus, different values of 'x', 'y', and 'z' result\n   in different combinations\
    \ of the 3-tuple (x,y,z).\n   As will be described in the sub-sections below,\
    \ a total of 8 possible\n   configurations can be identified.  One thing the reader\
    \ has to keep\n   in mind is that in each of the following 8 cases, the MR may\
    \ be\n   multihomed if either (i) multiple prefixes are available (on the home\n\
    \   link, or on the foreign link), or (ii) the MR is equipped with\n   multiple\
    \ interfaces.  In such a case, the MR would have multiple\n   (HoA,CoA) pairs.\
    \  Issues pertaining to a multihomed MR are also\n   addressed in [7].  In addition,\
    \ the readers should also keep in mind\n   that when \"MNP(s) is/are available\
    \ in the NEMO\", the MNP(s) may\n   either be explicitly announced by the MR via\
    \ router advertisement, or\n   made available through Dynamic Host Configuration\
    \ Protocol (DHCP)\n   [8].\n"
- title: '2.1.  (1,1,1): Single MR, Single HA, Single MNP'
  contents:
  - "2.1.  (1,1,1): Single MR, Single HA, Single MNP\n   The (1,1,1) configuration\
    \ has only one MR, it is associated with a\n   single HA, and a single MNP is\
    \ available in the NEMO.  The MR and the\n   AR are connected to the Internet\
    \ via a single Access Router (AR).  To\n   fall into a multihomed configuration,\
    \ at least one of the following\n   conditions must hold:\n   o  The MR has multiple\
    \ interfaces and thus it has multiple CoAs;\n   o  Multiple global prefixes are\
    \ available on the foreign link, and\n      thus it has multiple CoAs; or\n  \
    \ o  Multiple global prefixes are available on the home link, and thus\n     \
    \ the MR has more than one path to reach the HA.\n   Note that the case where\
    \ multiple prefixes are available on the\n   foreign link does not have any bearing\
    \ on the MNPs.  MNPs are\n   independent of prefixes available on the link where\
    \ the MR is\n   attached to, thus prefixes available on the foreign link are not\n\
    \   announced on the NEMO link.  For the case where multiple prefixes are\n  \
    \ available on the home link, these are only announced on the NEMO link\n   if\
    \ the MR is configured to do so.  In the present (1,1,1)\n   configuration, only\
    \ one MNP is announced.\n   A bi-directional tunnel would then be established\
    \ between each\n   (HoA,CoA) pair.\n   Regarding MNNs, they are (usually) not\
    \ multihomed since they would\n   configure a single global address from the single\
    \ MNP available on\n   the link they are attached to.\n                      \
    \             _____\n                   _    p      _  |     |\n             \
    \     |_|-|<-_  |-|_|-|     |-|        _\n                   _  |-|_|=|     |_____|\
    \ |  _  |-|_|\n                  |_|-|     |             |-|_|-|\n           \
    \                                     |\n                  MNNs   MR   AR  Internet\
    \   AR    HA\n                   Figure 1: (1,1,1): 1 MR, 1 HA, 1 MNP\n"
- title: '2.2.  (1,1,n): Single MR, Single HA, Multiple MNPs'
  contents:
  - "2.2.  (1,1,n): Single MR, Single HA, Multiple MNPs\n   The (1,1,n) configuration\
    \ has only one MR, it is associated with a\n   single HA, and two or more MNPs\
    \ are available in the NEMO.\n   The MR may itself be multihomed, as detailed\
    \ in Section 2.1.  In such\n   a case, a bi-directional tunnel would be established\
    \ between each\n   (HoA,CoA) pair.\n   Regarding MNNs, they are multihomed because\
    \ several MNPs are\n   available on the link they are attached to.  The MNNs would\
    \ then\n   configure a global address from each MNP available on the link.\n \
    \                                  _____\n                   _   p1,p2   _  |\
    \     |\n                  |_|-|<-_  |-|_|-|     |-|        _\n              \
    \     _  |-|_|=|     |_____| |  _  |-|_|\n                  |_|-|     |      \
    \       |-|_|-|\n                                                |\n         \
    \         MNNs   MR   AR  Internet   AR    HA\n               Figure 2: (1,1,n):\
    \ 1 MR, 1 HA, multiple MNPs\n"
- title: '2.3.  (1,n,1): Single MR, Multiple HAs, Single MNP'
  contents:
  - "2.3.  (1,n,1): Single MR, Multiple HAs, Single MNP\n   The (1,n,1) configuration\
    \ has only one MR and a single MNP is\n   available in the NEMO.  The MR, however,\
    \ is associated with multiple\n   HAs.\n   The NEMO is multihomed since it has\
    \ multiple HAs, but in addition,\n   the conditions detailed in Section 2.1 may\
    \ also hold for the MR.  A\n   bi-directional tunnel would then be established\
    \ between each\n   (HoA,CoA) pair.\n   Regarding MNNs, they are (usually) not\
    \ multihomed since they would\n   configure a single global address from the single\
    \ MNP available on\n   the link they are attached to.\n                      \
    \                    AR    HA2\n                                           _ \
    \ |\n                                        |-|_|-|  _\n                    \
    \             _____  |     |-|_|\n                 _    p      _  |     |-|\n\
    \                |_|-|<-_  |-|_|-|     |\n                 _  |-|_|=|     |_____|-|\
    \        _\n                |_|-|     |             |  _  |-|_|\n            \
    \                            |-|_|-|\n                                       \
    \       |\n                MNNs  MR    AR  Internet  AR    HA1\n             \
    \  Figure 3: (1,n,1): 1 MR, multiple HAs, 1 MNP\n"
- title: '2.4.  (1,n,n): Single MR, Multiple HAs, Multiple MNPs'
  contents:
  - "2.4.  (1,n,n): Single MR, Multiple HAs, Multiple MNPs\n   The (1,n,n) configuration\
    \ has only one MR.  However, the MR is\n   associated with multiple HAs and more\
    \ than one MNP is available in\n   the NEMO.\n   The MR is multihomed since it\
    \ has multiple HAs, but in addition, the\n   conditions detailed in Section 2.1\
    \ may also hold.  A bi-directional\n   tunnel would then be established between\
    \ each (HoA,CoA) pair.\n   Regarding MNNs, they are multihomed because several\
    \ MNPs are\n   available on the link they are attached to.  The MNNs would then\n\
    \   configure a global address with each MNP available on the link.\n        \
    \                                 AR    HA2\n                                \
    \          _  |  _\n                                _____  |-|_|-|-|_|\n     \
    \           _   p1,p2   _  |     |-|     |\n               |_|-|<-_  |-|_|-| \
    \    |          _\n                _  |-|_|=|     |_____|-|  _  |-|_|\n      \
    \         |_|-|     |             |-|_|-|\n                                  \
    \     |     |\n               MNNs  MR    AR  Internet  AR    HA1\n          \
    \ Figure 4: (1,n,n): 1 MR, multiple HAs, multiple MNPs\n"
- title: '2.5.  (n,1,1): Multiple MRs, Single HA, Single MNP'
  contents:
  - "2.5.  (n,1,1): Multiple MRs, Single HA, Single MNP\n   The (n,1,1) configuration\
    \ has more than one MR advertising global\n   routes.  However, the MR(s) are\
    \ associated with a single HA, and\n   there is a single MNP available in the\
    \ NEMO.\n   The NEMO is multihomed since it has multiple MRs, but in addition\
    \ the\n   conditions detailed in Section 2.1 may also hold for each MR.  A bi-\n\
    \   directional tunnel would then be established between each (HoA,CoA)\n   pair.\n\
    \   Regarding MNNs, they are (usually) not multihomed since they would\n   configure\
    \ a single global address from the single MNP available on\n   the link they are\
    \ attached to.\n                        MR2\n                      p<-_  |\n \
    \                  _  |-|_|-|  _____\n                  |_|-|     |-|     |\n\
    \                   _  |       |     |-|        _\n                  |_|-|  _\
    \  |-|_____| |  _  |-|_|\n                      |-|_|-|         |-|_|-|\n    \
    \                  p<-   |               |\n                  MNNs  MR1   Internet\
    \   AR    HA\n               Figure 5: (n,1,1): Multiple MRs, 1 HA, 1 MNP\n"
- title: '2.6.  (n,1,n): Multiple MRs, Single HA, Multiple MNPs'
  contents:
  - "2.6.  (n,1,n): Multiple MRs, Single HA, Multiple MNPs\n   The (n,1,n) configuration\
    \ has more than one MR; multiple global\n   routes are advertised by the MRs and\
    \ multiple MNPs are available\n   within the NEMO.\n   The NEMO is multihomed\
    \ since it has multiple MRs, but in addition,\n   the conditions detailed in Section\
    \ 2.1 may also hold for each MR.  A\n   bi-directional tunnel would then be established\
    \ between each\n   (HoA,CoA) pair.\n   Regarding MNNs, they are multihomed because\
    \ several MNPs are\n   available on the link they are attached to.  The MNNs would\
    \ then\n   configure a global address with each MNP available on the link.\n \
    \                       MR2\n                     p2<-_  |\n                 \
    \  _  |-|_|-|  _____\n                  |_|-|     |-|     |\n                \
    \   _  |       |     |-|        _\n                  |_|-|  _  |-|_____| |  _\
    \  |-|_|\n                      |-|_|-|         |-|_|-|\n                    \
    \ p1<-   |               |\n                  MNNs  MR1   Internet   AR    HA\n\
    \           Figure 6: (n,1,n): Multiple MRs, 1 HA, multiple MNPs\n"
- title: '2.7.  (n,n,1): Multiple MRs, Multiple HAs, Single MNP'
  contents:
  - "2.7.  (n,n,1): Multiple MRs, Multiple HAs, Single MNP\n   The (n,n,1) configuration\
    \ has more than one MR advertising multiple\n   global routes.  The mobile network\
    \ is simultaneously associated with\n   multiple HAs and a single MNP is available\
    \ in the NEMO.\n   The NEMO is multihomed since it has multiple MRs and HAs, but\
    \ in\n   addition, the conditions detailed in Section 2.1 may also hold for\n\
    \   each MR.  A bi-directional tunnel would then be established between\n   each\
    \ (HoA,CoA) pair.\n   Regarding MNNs, they are (usually) not multihomed since\
    \ they would\n   configure a single global address from the single MNP available\
    \ on\n   the link they are attached to.\n                        MR2         \
    \    AR    HA2\n                        p                _  |\n              \
    \         <-_  |         |-|_|-|  _\n                   _  |-|_|-|  _____  | \
    \    |-|_|\n                  |_|-|     |-|     |-|\n                   _  | \
    \      |     |\n                  |_|-|  _  |-|_____|-|        _\n           \
    \           |-|_|-|         |  _  |-|_|\n                       <-   |       \
    \  |-|_|-|\n                        p                   |\n                  MNNs\
    \  MR1   Internet  AR    HA1\n           Figure 7: (n,n,1): Multiple MRs, Multiple\
    \ HAs, 1 MNP\n"
- title: '2.8.  (n,n,n): Multiple MRs, Multiple HAs, Multiple MNPs'
  contents:
  - "2.8.  (n,n,n): Multiple MRs, Multiple HAs, Multiple MNPs\n   The (n,n,n) configuration\
    \ has multiple MRs advertising different\n   global routes.  The mobile network\
    \ is simultaneously associated with\n   more than one HA and multiple MNPs are\
    \ available in the NEMO.\n   The NEMO is multihomed since it has multiple MRs\
    \ and HAs, but in\n   addition, the conditions detailed in Section 2.1 may also\
    \ hold for\n   each MR.  A bi-directional tunnel would then be established between\n\
    \   each (HoA,CoA) pair.\n   Regarding MNNs, they are multihomed because several\
    \ MNPs are\n   available on the link they are attached to.  The MNNs would then\n\
    \   configure a global address with each MNP available on the link.\n        \
    \                MR2             AR    HA2\n                        p2       \
    \        _  |\n                       <-_  |         |-|_|-|  _\n            \
    \       _  |-|_|-|  _____  |     |-|_|\n                  |_|-|     |-|     |-|\n\
    \                   _  |       |     |\n                  |_|-|  _  |-|_____|-|\
    \        _\n                      |-|_|-|         |  _  |-|_|\n              \
    \         <-   |         |-|_|-|\n                        p1                 \
    \ |\n                  MNNs  MR1   Internet  AR    HA1\n              Figure 8:\
    \ (n,n,n): Multiple MRs, HAs, and MNPs\n"
- title: 3.  Deployment Scenarios and Prerequisites
  contents:
  - "3.  Deployment Scenarios and Prerequisites\n   The following generic goals and\
    \ benefits of multihoming are discussed\n   in [6]:\n   1.  Permanent and Ubiquitous\
    \ Access\n   2.  Reliability\n   3.  Load Sharing\n   4.  Load Balancing/Flow\
    \ Distribution\n   5.  Preference Settings\n   6.  Aggregate Bandwidth\n   These\
    \ benefits are now illustrated from a NEMO perspective with a\n   typical instance\
    \ scenario for each case in the taxonomy.  We then\n   discuss the prerequisites\
    \ to fulfill these.\n"
- title: 3.1.  Deployment Scenarios
  contents:
  - "3.1.  Deployment Scenarios\n   x=1: Multihomed mobile networks with a single\
    \ MR\n      o Example 1:\n         MR with dual/multiple access interfaces (e.g.,\
    \ 802.11 and GPRS\n         capabilities).  This is a (1,1,*) if a single HA is\
    \ used for\n         both.  If two independent HAs are used, this is a (1,n,n)\n\
    \         configuration.\n         Benefits: Ubiquitous Access, Reliability, Load\
    \ Sharing,\n         Preference Settings, Aggregate Bandwidth.\n   x=n: Multihomed\
    \ mobile networks with multiple MRs\n      o Example 1:\n         Train with one\
    \ MR in each car, all served by the same HA, thus\n         a (n,1,*) configuration.\
    \  Alternatively, the train company\n         might use different HAs, in different\
    \ countries, thus a (n,n,n)\n         configuration.\n         Benefits: Ubiquitous\
    \ Access, Reliability, Load Sharing,\n         Aggregate Bandwidth.\n      o Example\
    \ 2:\n         Wireless personal area network with a GPRS-enabled phone and a\n\
    \         WiFi-enabled PDA.  This is a (n,n,n) configuration if different\n  \
    \       HAs are also used.\n         Benefits: Ubiquitous Access, Reliability,\
    \ Preference Settings,\n         Aggregate Bandwidth.\n   y=1: Multihomed mobile\
    \ networks with a single HA\n      o Example:\n         Most single HA cases in\
    \ above examples.\n   y=n: Multihomed mobile networks with multiple HAs\n    \
    \  o Example 1:\n         Most multiple HAs cases in above examples.\n      o\
    \ Example 2:\n         Transatlantic flight with a HA in each continent.  This\
    \ is a\n         (1,n,1) configuration if there is only one MR.\n         Benefits:\
    \ Ubiquitous Access, Reliability, Preference Settings\n         (reduced delay,\
    \ shortest path).\n   z=1: Multihomed mobile networks with a single MNP\n    \
    \  o Example:\n         Most single HA cases in above examples.\n   z=n: Multihomed\
    \ mobile networks with multiple MNPs\n      o Example 1:\n         Most multiple\
    \ HAs cases in above examples.\n      o Example 2:\n         Car with a prefix\
    \ taken from home (personal traffic is\n         transmitted using this prefix\
    \ and is paid by the owner) and one\n         that belongs to the car manufacturer\
    \ (maintenance traffic is\n         paid by the car manufacturer).  This will\
    \ typically be a\n         (1,1,n) or a (1,n,n,) configuration.\n         Benefits:\
    \ Preference Settings\n"
- title: 3.2.  Prerequisites
  contents:
  - "3.2.  Prerequisites\n   In this section, requirements are stated in order to\
    \ comply with the\n   expected benefits of multihoming as detailed in [6].\n \
    \  At least one bi-directional tunnel must be available at any point in\n   time\
    \ between the mobile network and the fixed network to meet all\n   expectations.\
    \  But for most goals to be effective, multiple tunnels\n   must be maintained\
    \ simultaneously:\n   o  Permanent and Ubiquitous Access:\n      At least one\
    \ bi-directional tunnel must be available at any point\n      in time.\n   o \
    \ Reliability:\n      Both the inbound and outbound traffic must be transmitted\
    \ or\n      diverted over another bi-directional tunnel once a bi-directional\n\
    \      tunnel is broken or disrupted.  It should be noted that the\n      provision\
    \ of fault tolerance capabilities does not necessarily\n      require the existence\
    \ of multiple bi-directional tunnels\n      simultaneously.\n   o  Load Sharing\
    \ and Load Balancing:\n      Multiple tunnels must be maintained simultaneously.\n\
    \   o  Preference Settings:\n      Implicitly, multiple tunnels must be maintained\
    \ simultaneously if\n      preferences are set for deciding which of the available\
    \ bi-\n      directional tunnels should be used.  To allow user/application to\n\
    \      set the preference, a mechanism should be provided to the user/\n     \
    \ application for the notification of the availability of multiple\n      bi-directional\
    \ tunnels, and perhaps also to set preferences.  A\n      similar mechanism should\
    \ also be provided to network\n      administrators to manage preferences.\n \
    \  o  Aggregate Bandwidth:\n      Multiple tunnels must be maintained simultaneously\
    \ in order to\n      increase the total aggregated bandwidth available to the\
    \ mobile\n      network.\n"
- title: 4.  Multihoming Issues
  contents:
  - "4.  Multihoming Issues\n   As discussed in the previous section, multiple bi-directional\
    \ tunnels\n   need to be maintained either sequentially (e.g., for fault tolerance)\n\
    \   or simultaneously (e.g., for load sharing).\n   In some cases, it may be necessary\
    \ to divert packets from a (perhaps\n   failed) bi-directional tunnel to an alternative\
    \ (perhaps newly\n   established) bi-directional tunnel (i.e., for matters of\
    \ fault\n   recovery, preferences), or to split traffic between multiple tunnels\n\
    \   (load sharing, load balancing).\n   So, depending on the configuration under\
    \ consideration, the issues\n   discussed below may need to be addressed sometimes\
    \ dynamically.  For\n   each issue, potential ways to solve the problem are investigated.\n"
- title: 4.1.  Fault Tolerance
  contents:
  - "4.1.  Fault Tolerance\n   One of the goals of multihoming is the provision of\
    \ fault tolerance\n   capabilities.  In order to provide such features, a set\
    \ of tasks need\n   to be performed, including: failure detection, alternative\
    \ available\n   path exploration, path selection, and re-homing of established\n\
    \   communications.  These are also discussed in [9] by the Shim6 WG.  In\n  \
    \ the following sub-sections, we look at these issues in the specific\n   context\
    \ of NEMO, rather than the general Shim6 perspective in [9].\n   In addition,\
    \ in some scenarios, it may also be required to provide\n   the mechanisms for\
    \ coordination between different HAs (see\n   Section 4.3) and also the coordination\
    \ between different MRs (see\n   Section 4.4).\n"
- title: 4.1.1.  Failure Detection
  contents:
  - "4.1.1.  Failure Detection\n   It is expected for faults to occur more readily\
    \ at the edge of the\n   network (i.e., the mobile nodes) due to the use of wireless\n\
    \   connections.  Efficient fault detection mechanisms are necessary to\n   recover\
    \ in timely fashion.\n   Depending on the NEMO configuration considered, the failure\n\
    \   protection domain greatly varies.  In some configurations, the\n   protection\
    \ domain provided by NEMO multihoming is limited to the\n   links between the\
    \ MR(s) and the HA(s).  In other configurations, the\n   protection domain allows\
    \ to recover from failures in other parts of\n   the path, so an end-to-end failure\
    \ detection mechanism is required.\n   The failure detection capabilities required\
    \ for each configuration\n   are detailed below:\n   o  For the (1,1,*) cases,\
    \ multiple paths are available between a\n      single MR and a single HA.  All\
    \ the traffic to and from the NEMO\n      flows through the MR and HA.  Failure\
    \ detection mechanisms need\n      only to be executed between these two devices.\
    \  This is a NEMO-/\n      MIPv6-specific issue.\n   o  For the (n,1,*) cases,\
    \ there is a single HA, so all the traffic to\n      and from the NEMO will flow\
    \ through it.  The failure detection\n      mechanisms need to be able to detect\
    \ failure in the path between\n      the used MR and the only HA.  Hence, the\
    \ failure detection\n      mechanism needs only to involve the HA and the MRs.\
    \  This is a\n      NEMO/MIPv6 specific issue.\n   o  For the (n,n,*) cases, there\
    \ are multiple paths between the\n      different HAs and the different MRs. \
    \ Moreover, the HAs may be\n      located in different networks, and have different\
    \ Internet access\n      links.  This implies that changing the HA used may not\
    \ only allow\n      recovering from failures in the link between the HA and the\
    \ MR,\n      but also from other failure modes, affecting other parts of the\n\
    \      path.  In this case, an end-to-end failure detection mechanism\n      would\
    \ provide additional protection.  However, a higher number of\n      failures\
    \ is likely to occur in the link between the HA and the MR,\n      so it may be\
    \ reasonable to provide optimized failure detection\n      mechanisms for this\
    \ failure mode.  The (n,n,n) case is hybrid,\n      since selecting a different\
    \ prefix results in a change of path.\n      For this case, the Shim6 protocols\
    \ (such as those discussed in\n      [9]) may be useful.\n   Most of the above\
    \ cases involve the detection of tunnel failures\n   between HA(s) and MR(s).\
    \  This is no different from the case of\n   failure detection between a mobile\
    \ host and its HA(s).  As such, a\n   solution for MIPv6 should apply to NEMO\
    \ as well.  For case (n,*,*),\n   an MR synchronization solution (see Section\
    \ 4.4) should be able to\n   complement a MIPv6 failure detection solution to\
    \ achieve the desired\n   functionality for NEMO.\n   In order for fault recovery\
    \ to work, the MRs and HAs must first\n   possess a means to detect failures:\n\
    \   o  On the MR's side, the MR can rely on router advertisements from\n     \
    \ access routers, or other layer-2 trigger mechanisms to detect\n      faults,\
    \ e.g., [10] and [11].\n   o  On the HA's side, it is more difficult to detect\
    \ tunnel failures.\n      For an ISP deployment model, the HAs and MRs can use\
    \ proprietary\n      methods (such as constant transmission of heartbeat signals)\
    \ to\n      detect failures and check tunnel liveness.  In the subscriber\n  \
    \    model (see Appendix A.2: S/P model), a lack of standardized\n      \"tunnel\
    \ liveness\" protocol means that it is harder to detect\n      failures.\n   A\
    \ possible method is for the MRs to send binding updates more\n   regularly with\
    \ shorter Lifetime values.  Similarly, HAs can return\n   binding acknowledgment\
    \ messages with smaller Lifetime values, thus\n   forcing the MRs to send binding\
    \ updates more frequently.  These\n   binding updates can be used to emulate \"\
    tunnel heartbeats\".  This,\n   however, may lead to more traffic and processing\
    \ overhead, since\n   binding updates sent to HAs must be protected (and possibly\n\
    \   encrypted) with security associations.\n"
- title: 4.1.2.  Path Exploration
  contents:
  - "4.1.2.  Path Exploration\n   Once a failure in the currently used path is detected,\
    \ alternative\n   paths have to be explored in order to identify an available\
    \ one.\n   This process is closely related to failure detection in the sense\n\
    \   that paths being explored need to be alternative paths to the one\n   that\
    \ has failed.  There are, however, subtle but significant\n   differences between\
    \ path exploration and failure detection.  Failure\n   detection occurs on the\
    \ currently used path while path exploration\n   occurs on the alternative paths\
    \ (not on the one currently being used\n   for exchanging packets).  Although\
    \ both path exploration and failure\n   detection are likely to rely on a reachability\
    \ or keepalive test\n   exchange, failure detection also relies on other information,\
    \ such as\n   upper layer information (e.g., positive or negative feedback from\n\
    \   TCP), lower layer information (e.g., an interface is down), and\n   network\
    \ layer information (e.g., as an address being deprecated or\n   ICMP error message).\n\
    \   Basically, the same cases as in the analysis of the failure detection\n  \
    \ (Section 4.1.1) issue are identified:\n   o  For the (1,1,*) cases, multiple\
    \ paths are available between a\n      single MR and a single HA.  The existing\
    \ paths between the HA and\n      the MR have to be explored to identify an available\
    \ one.  The\n      mechanism involves only the HA and the MR.  This is a NEMO-/\n\
    \      MIPv6-specific issue.\n   o  For the (n,1,*) cases, there is a single HA,\
    \ so all the traffic to\n      and from the NEMO will flow through it.  The available\
    \ alternative\n      paths are the different ones between the different MRs and\
    \ the HA.\n      The path-exploration mechanism only involves the HA and the MRs.\n\
    \      This is a NEMO/MIPv6 specific issue.\n   o  For the (n,n,*) cases, there\
    \ are multiple paths between the\n      different HAs and the different MRs. \
    \ In this case, alternative\n      paths may be routed completely independent\
    \ from one another.  An\n      end-to-end path-exploration mechanism would be\
    \ able to discover if\n      any of the end-to-end paths is available.  The (n,n,1)\
    \ case,\n      however, seems to be pretty NEMO specific, because of the absence\n\
    \      of multiple prefixes.  The (n,n,n) case is hybrid, since selecting\n  \
    \    a different prefix results in a change of path.  For this case,\n      the\
    \ Shim6 protocols (such as those discussed in [9]) may be\n      useful.\n   Most\
    \ of the above cases involve the path exploration of tunnels\n   between HA(s)\
    \ and MR(s).  This is no different from the case of path\n   exploration between\
    \ a mobile host and its HA(s).  As such, a solution\n   for MIPv6 should apply\
    \ to NEMO as well.  For case (n,*,*), an MR\n   synchronization solution (see\
    \ Section 4.4) should be able to\n   complement an MIPv6 path-exploration solution\
    \ to achieve the desired\n   functionality for NEMO.\n   In order to perform path\
    \ exploration, it is sometimes also necessary\n   for the MR to detect the availability\
    \ of network media.  This may be\n   achieved using layer 2 triggers [10], or\
    \ other mechanism developed/\n   recommended by the Detecting Network Attachment\
    \ (DNA) Working Group\n   [11].  This is related to Section 4.1.1, since the ability\
    \ to detect\n   media availability would often imply the ability to detect media\n\
    \   unavailability.\n"
- title: 4.1.3.  Path Selection
  contents:
  - "4.1.3.  Path Selection\n   A path-selection mechanism is required to select among\
    \ the multiple\n   available paths.  Depending on the NEMO multihoming configuration\n\
    \   involved, the differences between the paths may affect only the part\n   between\
    \ the HA and the MR, or they may affect the full end-to-end\n   path.  In addition,\
    \ depending on the configuration, path selection\n   may be performed by the HA(s),\
    \ the MR(s), or the hosts themselves\n   through address selection, as will be\
    \ described in detail next.\n   The multiple available paths may differ on the\
    \ tunnel between the MR\n   and the HA used to carry traffic to/from the NEMO.\
    \  In this case,\n   path selection is performed by the MR and the intra-NEMO\
    \ routing\n   system for traffic flowing from the NEMO, and path selection is\n\
    \   performed by the HA and intra-Home Network routing system for traffic\n  \
    \ flowing to the NEMO.\n   Alternatively, the multiple paths available may differ\
    \ in more than\n   just the tunnel between the MR and the HA, since the usage\
    \ of\n   different prefixes may result in using different providers; hence, in\n\
    \   completely different paths between the involved endpoints.  In this\n   case,\
    \ besides the mechanisms presented in the previous case,\n   additional mechanisms\
    \ for the end-to-end path selection may be\n   needed.  This mechanism may be\
    \ closely related to source address\n   selection mechanisms within the hosts,\
    \ since selecting a given\n   address implies selecting a given prefix, which\
    \ is associated with a\n   given ISP serving one of the home networks.\n   A dynamic\
    \ path-selection mechanism is thus needed so that this path\n   could be selected\
    \ by:\n   o  The HA: it should be able to select the path based on some\n    \
    \  information recorded in the binding cache.\n   o  The MR: it should be able\
    \ to select the path based on router\n      advertisements received on both its\
    \ egress interfaces or on its\n      ingress interfaces for the (n,*,*) case.\n\
    \   o  The MNN: it should be able to select the path based on \"Default\n    \
    \  Router Selection\" (see [Section 6.3.6 Default Router Selection]\n      [12])\
    \ in the (n,*,*) case or based on \"Source Address Selection\"\n      in the (*,*,n)\
    \ cases (see Section 4.7 of the present memo).\n   o  The user or the application:\
    \ e.g., in case where a user wants to\n      select a particular access technology\
    \ among the available\n      technologies for reasons, e.g., of cost or data rate.\n\
    \   o  A combination of any of the above: a hybrid mechanism should be\n     \
    \ also available, e.g., one in which the HA, the MR, and/or the MNNs\n      are\
    \ coordinated to select the path.\n   When multiple bi-directional tunnels are\
    \ available and possibly used\n   simultaneously, the mode of operation may be\
    \ either primary-secondary\n   (one tunnel is precedent over the others and used\
    \ as the default\n   tunnel, while the other serves as a backup) or peer-to-peer\
    \ (no\n   tunnel has precedence over one another, they are used with the same\n\
    \   priority).  This questions which of the bi-directional tunnels would\n   be\
    \ selected, and based on which of the parameters (e.g., type of flow\n   that\
    \ goes into/out of the mobile network).\n   The mechanisms for the selection among\
    \ the different tunnels between\n   the MR(s) and the HA(s) seem to be quite NEMO/MIPv6\
    \ specific.\n   For (1,*,*) cases, they are no different from the case of path\n\
    \   selection between a mobile host and its HA(s).  As such, a solution\n   for\
    \ MIPv6 should apply to NEMO as well.  For the (n,*,*) cases, an MR\n   synchronization\
    \ solution (see Section 4.4) should be able to\n   complement an MIPv6 path-selection\
    \ solution to achieve the desired\n   functionality for NEMO.\n   The mechanisms\
    \ for selecting among different end-to-end paths based\n   on address selection\
    \ are similar to the ones used in other\n   multihoming scenarios, as those considered\
    \ by Shim6 (e.g., [13]).\n"
- title: 4.1.4.  Re-Homing
  contents:
  - "4.1.4.  Re-Homing\n   After an outage has been detected and an available alternative\
    \ path\n   has been identified, a re-homing event takes place, diverting the\n\
    \   existing communications from one path to the other.  Similar to the\n   previous\
    \ items involved in this process, the re-homing procedure\n   heavily varies depending\
    \ on the NEMO multihoming configuration.\n   o  For the (*,*,1) configurations,\
    \ the re-homing procedure involves\n      only the MR(s) and the HA(s).  The re-homing\
    \ procedure may involve\n      the exchange of additional BU messages.  These\
    \ mechanisms are\n      shared between NEMO Basic Support and MIPv6.\n   o  For\
    \ the (*,*,n) cases, in addition to the previous mechanisms,\n      end-to-end\
    \ mechanisms may be required.  Such mechanisms may\n      involve some form of\
    \ end-to-end signaling or may simply rely on\n      using different addresses\
    \ for the communication.  The involved\n      mechanisms may be similar to those\
    \ required for re-homing Shim6\n      communications (e.g., [13]).\n"
- title: 4.2.  Ingress Filtering
  contents:
  - "4.2.  Ingress Filtering\n   Ingress filtering mechanisms [14][15] may drop the\
    \ outgoing packets\n   when multiple bi-directional tunnels end up at different\
    \ HAs.  This\n   could particularly occur if different MNPs are handled by different\n\
    \   HAs.  If a packet with a source address configured from a specific\n   MNP\
    \ is tunneled to a HA that does not handle that specific MNP, the\n   packet may\
    \ be discarded either by the HA or by a border router in the\n   home network.\n\
    \   The ingress filtering compatibility issue is heavily dependent on the\n  \
    \ particular NEMO multihoming configuration:\n   o  For the (*,*,1) cases, there\
    \ is not such an issue, since there is\n      a single MNP.\n   o  For the (1,1,*)\
    \ and (n,1,1) cases, there is not such a problem,\n      since there is a single\
    \ HA, accepting all the MNPs.\n   o  For the (n,1,n) case, though ingress filtering\
    \ would not occur at\n      the HA, it may occur at the MRs, when each MR is handling\n\
    \      different MNPs.\n   o  (*,n,n) are the cases where the ingress filtering\
    \ presents some\n      difficulties.  In the (1,n,n) case, the problem is simplified\n\
    \      because all the traffic to and from the NEMO is routed through a\n    \
    \  single MR.  Such configuration allows the MR to properly route\n      packets\
    \ respecting the constraints imposed by ingress filtering.\n      In this case,\
    \ the single MR may face ingress filtering problems\n      that a multihomed mobile\
    \ node may face, as documented in [7].  The\n      more complex case is the (n,n,n)\
    \ case.  A simplified case occurs\n      when all the prefixes are accepted by\
    \ all the HAs, so that no\n      problems occur with the ingress filtering.  However,\
    \ this cannot\n      be always assumed, resulting in the problem described below.\n\
    \   As an example of how this could happen, consider the deployment\n   scenario\
    \ illustrated in Figure 9: the mobile network has two mobile\n   routers MR1 and\
    \ MR2, with home agents HA1 and HA2, respectively.  Two\n   bi-directional tunnels\
    \ are established between the two pairs.  Each\n   MR advertises a different MNP\
    \ (P1 and P2 respectively).  MNP P1 is\n   registered to HA1, and MNP P2 is registered\
    \ to HA2.  Thus, MNNs\n   should be free to auto-configure their addresses on\
    \ any of P1 or P2.\n   Ingress filtering could thus happen in two cases:\n   o\
    \  If the two tunnels are available, MNN cannot forward packet with\n      source\
    \ address equals P1.MNN to MR2.  This would cause ingress\n      filtering at\
    \ HA2 to occur (or even at MR2).  This is contrary to\n      normal Neighbor Discovery\
    \ [12] practice that an IPv6 node is free\n      to choose any router as its default\
    \ router regardless of the\n      prefix it chooses to use.\n   o  If the tunnel\
    \ to HA1 is broken, packets that would normally be\n      sent through the tunnel\
    \ to HA1 should be diverted through the\n      tunnel to HA2.  If HA2 (or some\
    \ border router in HA2's domain)\n      performs ingress filtering, packets with\
    \ source address configured\n      from MNP P1 may be discarded.\n           \
    \    Prefix: P1 +-----+  +----+  +----------+   +-----+\n                    \
    \   +--| MR1 |--| AR |--|          |---| HA1 |\n                       |  +-----+\
    \  +----+  |          |   +-----+\n       IP:    +-----+  |                  \
    \ |          | Prefix: P1\n    P1.MNN or | MNN |--+                   | Internet\
    \ |\n      P2.MNN  +-----+  |                   |          | Prefix: P2\n    \
    \                   |  +-----+  +----+  |          |   +-----+\n             \
    \          +--| MR2 |--| AR |--|          |---| HA2 |\n               Prefix:\
    \ P2 +-----+  +----+  +----------+   +-----+\n                    Figure 9: An\
    \ (n,n,n) mobile network\n   Possible solutions to the ingress filtering incompatibility\
    \ problem\n   may be based on the following approaches:\n   o  Some form of source\
    \ address-dependent routing, whether host-based\n      and/or router-based where\
    \ the prefix contained in the source\n      address of the packet is considered\
    \ when deciding which exit\n      router to use when forwarding the packet.\n\
    \   o  The usage of nested tunnels for (*,n,n) cases.  Appendix B\n      describes\
    \ one such approach.\n   o  Deprecating those prefixes associated to non-available\
    \ exit\n      routers.\n   The ingress filtering incompatibilities problems that\
    \ appear in some\n   NEMO multihoming configurations are similar to those considered\
    \ in\n   Shim6 (e.g., see [16]).\n"
- title: 4.3.  HA Synchronization
  contents:
  - "4.3.  HA Synchronization\n   In the (*,n,*) configuration, a single MNP would\
    \ be registered at\n   different HAs.  This gives rise to the following cases:\n\
    \   o  Only one HA may actively advertise a route to the MNP,\n   o  Multiple\
    \ HAs at different domains may advertise a route to the\n      same MNP.\n   This\
    \ may pose a problem in the routing infrastructure as a whole if\n   the HAs are\
    \ located in different administrative domains.  The\n   implications of this aspect\
    \ needs further exploration.  A certain\n   level of HA coordination may be required.\
    \  A possible approach is to\n   adopt an HA synchronization mechanism such as\
    \ that described in [17]\n   and [18].  Such synchronization might also be necessary\
    \ in a (*,n,*)\n   configuration, when an MR sends binding update messages to\
    \ only one\n   HA (instead of all HAs).  In such cases, the binding update\n \
    \  information might have to be synchronized between HAs.  The mode of\n   synchronization\
    \ may be either primary-secondary or peer-to-peer.  In\n   addition, when a MNP\
    \ is delegated to the MR (see Section 4.5), some\n   level of coordination between\
    \ the HAs may also be necessary.\n   This issue is a general mobility issue that\
    \ will also have to be\n   dealt with by Mobile IPv6 (see Section 6.2.3 in [7])\
    \ as well as NEMO\n   Basic Support.\n"
- title: 4.4.  MR Synchronization
  contents:
  - "4.4.  MR Synchronization\n   In the (n,*,*) configurations, there are common\
    \ decisions that may\n   require synchronization among different MRs [19], such\
    \ as:\n   o  advertising the same MNP in the (n,*,1) configurations (see also\n\
    \      \"prefix delegation\" in Section 4.5);\n   o  one MR relaying the advertisement\
    \ of the MNP from another failed\n      MR in the (n,*,n) configuration; and\n\
    \   o  relaying between MRs everything that needs to be relayed, such as\n   \
    \   data packets, creating a tunnel from the ingress interface, etc.,\n      in\
    \ the (n,*,*) configuration.\n   However, there is no known standardized protocol\
    \ for this kind of\n   router-to-router synchronization.  Without such synchronization,\
    \ it\n   may not be possible for a (n,*,*) configuration to achieve various\n\
    \   multihoming goals, such as fault tolerance.\n   Such a synchronization mechanism\
    \ can be primary-secondary (i.e., a\n   master MR, with the other MRs as backup)\
    \ or peer-to-peer (i.e., there\n   is no clear administrative hierarchy between\
    \ the MRs).  The need for\n   such mechanism is general in the sense that a multi-router\
    \ site in\n   the fixed network would require the same level of router\n   synchronization.\n\
    \   Thus, this issue is not specific to NEMO Basic Support, though there\n   is\
    \ a more pressing need to develop an MR-to-MR synchronization scheme\n   for proving\
    \ fault tolerances and failure recovery in NEMO\n   configurations due to the\
    \ higher possibility of links failure.\n   In conclusion, it is recommended to\
    \ investigate a generic solution to\n   this issue although the solution would\
    \ first have to be developed for\n   NEMO deployments.\n"
- title: 4.5.  Prefix Delegation
  contents:
  - "4.5.  Prefix Delegation\n   In the (*,*,1) configurations, the same MNP must\
    \ be advertised to the\n   MNNs through different paths.  There is, however, no\
    \ synchronization\n   mechanism available to achieve this.  Without a synchronization\n\
    \   mechanism, MR may end up announcing incompatible MNPs.  Particularly,\n  \
    \ o  for the (*,n,1) cases, how can multiple HAs delegate the same MNP\n     \
    \ to the mobile network?  For doing so, the HAs may be somehow\n      configured\
    \ to advertise the same MNP (see also \"HA\n      Synchronization\" in Section\
    \ 4.3).\n   o  for the (n,*,1) cases, how can multiple MRs be synchronized to\n\
    \      advertise the same MNP down the NEMO-link?  For doing so, the MRs\n   \
    \   may be somehow configured to advertise the same MNP (see also \"MR\n     \
    \ Synchronization\" in Section 4.4).\n   Prefix delegation mechanisms [20][21][22]\
    \ could be used to ensure all\n   routers advertise the same MNP.  Their applicability\
    \ to a multihomed\n   mobile network should be considered.\n"
- title: 4.6.  Multiple Bindings/Registrations
  contents:
  - "4.6.  Multiple Bindings/Registrations\n   When an MR is configured with multiple\
    \ CoAs, it is often necessary\n   for it to bind these CoAs to the same MNP.\n\
    \   This is a generic mobility issue, since Mobile IPv6 nodes face a\n   similar\
    \ problem.  This issue is discussed in [7].  It is sufficient\n   to note that\
    \ solutions like [23] can solve this for both Mobile IPv6\n   and NEMO Basic Support.\
    \  This issue is being dealt with in the\n   Monami6 WG.\n"
- title: 4.7.  Source Address Selection
  contents:
  - "4.7.  Source Address Selection\n   In the (*,*,n) configurations, MNNs would\
    \ be configured with multiple\n   addresses.  Source address selection mechanisms\
    \ are needed to decide\n   which address to choose from.\n   However, currently\
    \ available source address selection mechanisms do\n   not allow MNNs to acquire\
    \ sufficient information to select their\n   source addresses intelligently (such\
    \ as based on the traffic\n   condition associated with the home network of each\
    \ MNP).  It may be\n   desirable for MNNs to be able to acquire \"preference\"\
    \ information on\n   each MNP from the MRs.  This would allow default address\
    \ selection\n   mechanisms, such as those specified in [24], to be used.  Further\n\
    \   exploration on setting such \"preference\" information in Router\n   Advertisement\
    \ based on performance of the bi-directional tunnel might\n   prove to be useful.\
    \  Note that source address selection may be\n   closely related to path selection\
    \ procedures (see Section 4.1.3) and\n   re-homing techniques (see Section 4.1.4).\n\
    \   This is a general issue faced by any node when offered multiple\n   prefixes.\n"
- title: 4.8.  Loop Prevention in Nested Mobile Networks
  contents:
  - "4.8.  Loop Prevention in Nested Mobile Networks\n   When a multihomed mobile\
    \ network is nested within another mobile\n   network, it can result in very complex\
    \ topologies.  For instance, a\n   nested mobile network may be attached to two\
    \ different root-MRs, thus\n   the aggregated network no longer forms a simple\
    \ tree structure.  In\n   such a situation, infinite loop within the mobile network\
    \ may occur.\n   This problem is specific to NEMO Basic Support.  However, at\
    \ the time\n   of writing, more research is recommended to assess the probability\
    \ of\n   loops occurring in a multihomed mobile network.  For related work,\n\
    \   see [25] for a mechanism to avoid loops in nested NEMO.\n"
- title: 4.9.  Prefix Ownership
  contents:
  - "4.9.  Prefix Ownership\n   When a (n,*,1) network splits, (i.e., the two MRs\
    \ split themselves\n   up), MRs on distinct links may try to register the only\
    \ available\n   MNP.  This cannot be allowed, as the HA has no way to know which\
    \ node\n   with an address configured from that MNP is attached to which MR.\n\
    \   Some mechanism must be present for the MNP to either be forcibly\n   removed\
    \ from one (or all) MRs, or the implementors must not allow a\n   (n,*,1) network\
    \ to split.\n   A possible approach to solving this problem is described in [26].\n\
    \   This problem is specific to NEMO Basic Support.  However, it is\n   unclear\
    \ whether there is a sufficient deployment scenario for this\n   problem to occur.\n\
    \   It is recommended that the NEMO WG standardize a solution to solve\n   this\
    \ problem if there is sufficient vendor/operator interest, or\n   specify that\
    \ the split of a (n,*,1) network cannot be allowed without\n   router renumbering.\n"
- title: 4.10.  Preference Settings
  contents:
  - "4.10.  Preference Settings\n   When a mobile network is multihomed, the MNNs\
    \ may be able to benefit\n   from this configuration, such as to choose among\
    \ the available paths\n   based on cost, transmission delays, bandwidth, etc.\
    \  However, in some\n   cases, such a choice is not made available to the MNNs.\n\
    \   Particularly:\n   o  In the (*,*,n) configuration, the MNNs can influence\
    \ the path by\n      source address selection (see Section 4.1.3 and Section 4.7).\n\
    \   o  In the (n,*,*) configuration, the MNNs can influence the path by\n    \
    \  default router selection (see Section 4.1.3).\n   o  In the (1,n,1) configuration,\
    \ the MNNs cannot influence the path\n      selection.\n   One aspect of preference\
    \ setting is that the preference of the MNN\n   (e.g., application or transport\
    \ layer configuration) may not be the\n   same as the preference used by MR. \
    \ Thus, forwarding choices made by\n   the MR may not be the best for a particular\
    \ flow, and may even be\n   detrimental to some transport control loops (i.e.,\
    \ the flow control\n   algorithm for TCP may be messed up when MR unexpectedly\
    \ performs load\n   balancing on a TCP flow).  A mechanism that allows the MNN\
    \ to\n   indicate its preference for a given traffic might be helpful here.\n\
    \   Another aspect of preference setting is that the MNN may not even be\n   aware\
    \ of the existence of multiple forwarding paths, e.g., the\n   (1,n,1) configuration.\
    \  A mechanism for the MR to advertise the\n   availability of multiple tunneling\
    \ paths would allow the MNN to take\n   advantage of this, coupled with the previously\
    \ mentioned mechanism\n   that allows the MNN to indicate its preference for a\
    \ given traffic.\n   This problem is general in the sense that IPv6 nodes may\
    \ wish to\n   influence the routing decision done by the upstream routers.  Such\
    \ a\n   mechanism is currently being explored by various WGs, such as the\n  \
    \ NSIS and IPFIX WGs.  It is also possible that the Shim6 layer in the\n   MNNs\
    \ may possess such a capability.  It is recommended for vendors or\n   operators\
    \ to investigate into the solutions developed by these WGs\n   when providing\
    \ multihoming capabilities to mobile networks.\n   In addition, the Monami6 WG\
    \ is currently developing a flow filtering\n   solution for mobile nodes to indicate\
    \ how flows should be forwarded\n   by a filtering agent [27] (such as HA and\
    \ mobile anchor points).  It\n   is recommended that the Monami6 WG consider the\
    \ issues described here\n   so that flow filtering can be performed by the MNN\
    \ to indicate how\n   flows should be forwarded by the MR.\n"
- title: 5.  Recommendations to the Working Group
  contents:
  - "5.  Recommendations to the Working Group\n   Several issues that might impact\
    \ the deployment of NEMO with\n   multihoming capabilities were identified in\
    \ Section 4.  These are\n   shown in the matrix below, for each of the eight multihoming\n\
    \   configurations, together with indications from which WG(s) a solution\n  \
    \ to each issue is most likely to be found.\n    +=================================================================+\n\
    \    |                       # of MRs: | 1 | 1 | 1 | 1 | n | n | n | n |\n   \
    \ |                       # of HAs: | 1 | 1 | n | n | 1 | 1 | n | n |\n    | \
    \                 # of Prefixes: | 1 | n | 1 | n | 1 | n | 1 | n |\n    +=================================================================+\n\
    \    | Fault Tolerance                 | * | * | * | * | * | * | * | * |\n   \
    \ +---------------------------------+---+---+---+---+---+---+---+---+\n    | Failure\
    \ Detection               |N/M|N/M|N/M|N/M|N/M|N/M| N | S |\n    +---------------------------------+---+---+---+---+---+---+---+---+\n\
    \    | Path Exploration                |N/M|N/M|N/M|N/M|N/M|N/M| N | S |\n   \
    \ +---------------------------------+---+---+---+---+---+---+---+---+\n    | Path\
    \ Selection                  | N |S/M| M |S/M| N |S/N| N |S/N|\n    +---------------------------------+---+---+---+---+---+---+---+---+\n\
    \    | Re-Homing                       |N/M| S |N/M| S |N/M| S |N/M| S |\n   \
    \ +---------------------------------+---+---+---+---+---+---+---+---+\n    | Ingress\
    \ Filtering               | . | . | . | t | . | . | . | N |\n    +---------------------------------+---+---+---+---+---+---+---+---+\n\
    \    | HA Synchronization              | . | . |N/M|N/M| . | . |N/M|N/M|\n   \
    \ +---------------------------------+---+---+---+---+---+---+---+---+\n    | MR\
    \ Synchronization              | . | . | . | . | G | G | G | G |\n    +---------------------------------+---+---+---+---+---+---+---+---+\n\
    \    | Prefix Delegation               | . | . | N | N | N | N | N | N |\n   \
    \ +---------------------------------+---+---+---+---+---+---+---+---+\n    | Multiple\
    \ Binding/Registrations  | M | M | M | M | M | M | M | M |\n    +---------------------------------+---+---+---+---+---+---+---+---+\n\
    \    | Source Address Selection        | . | G | . | G | . | G | . | G |\n   \
    \ +---------------------------------+---+---+---+---+---+---+---+---+\n    | Loop\
    \ Prevention in Nested NEMO  | N | N | N | N | N | N | N | N |\n    +---------------------------------+---+---+---+---+---+---+---+---+\n\
    \    | Prefix Ownership                | . | . | . | . | N | . | N | . |\n   \
    \ +---------------------------------+---+---+---+---+---+---+---+---+\n    | Preference\
    \ Settings             | G | G | G | G | G | G | G | G |\n    +=================================================================+\n\
    \    N - NEMO Specific       M - MIPv6 Specific      G - Generic IPv6\n    S -\
    \ SHIM6 WG            D - DNA WG\n    . - Not an Issue        t - trivial\n  \
    \  * - Fault Tolerance is a combination of Failure Detection, Path\n        Exploration,\
    \ Path Selection, and Re-Homing\n               Figure 10: Matrix of NEMO Multihoming\
    \ Issues\n   The above matrix serves to identify which issues are NEMO-specific,\n\
    \   and which are not.  The readers are reminded that this matrix is a\n   simplification\
    \ of Section 4 as subtle details are not represented in\n   Figure 10.\n   As\
    \ can be seen from Figure 10, the following are some concerns that\n   are specific\
    \ to NEMO: Failure Detection, Path Exploration, Path\n   Selection, Re-Homing,\
    \ Ingress Filtering, HA Synchronization, Prefix\n   Delegation, Loop Prevention\
    \ in Nested NEMO, and Prefix Ownership.\n   Based on the authors' best knowledge\
    \ of the possible deployments of\n   NEMO, it is recommended that:\n   o  A solution\
    \ for Failure Detection, Path Exploration, Path\n      Selection, and Re-Homing\
    \ be solicited from other WGs.\n      Although Path Selection is reflected in\
    \ Figure 10 as NEMO-\n      Specific, the technical consideration of the problem\
    \ is believed\n      to be quite similar to the selection of multiple paths in\
    \ mobile\n      nodes.  As such, we would recommend vendors to solicit a solution\n\
    \      for these issues from other WGs in the IETF; for instance, the\n      Monami6\
    \ or Shim6 WG.\n   o  Ingress Filtering on the (n,n,n) configuration can be solved\
    \ by\n      the NEMO WG.\n      This problem is clearly defined, and can be solved\
    \ by the WG.\n      Deployment of the (n,n,n) configuration can be envisioned\
    \ on\n      vehicles for mass transportation (such as buses, trains) where\n \
    \     different service providers may install their own MRs on the\n      vehicle/vessel.\n\
    \      It should be noted that the Shim6 WG may be developing a mechanism\n  \
    \    for overcoming ingress filtering in a more general sense.  We thus\n    \
    \  recommend that the NEMO WG concentrate only on the (n,n,n)\n      configuration\
    \ should the WG decide to work on this issue.\n   o  A solution for HA Synchronization\
    \ can be looked at in a mobility-\n      specific WG, taking into consideration\
    \ both mobile hosts operating\n      Mobile IPv6 and MRs operating NEMO Basic\
    \ Support.\n   o  A solution for Multiple Bindings/Registrations is presently\
    \ being\n      developed by the Monami6 WG.\n   o  Prefix Delegation should be\
    \ reviewed and checked by the NEMO WG.\n      The proposed solutions [22] and\
    \ [21] providing prefix delegation\n      functionality to NEMO Basic Support\
    \ should be reviewed in order to\n      make sure concerns, as discussed in Section\
    \ 4.5, are properly\n      handled.\n   o  Loop Prevention in Nested NEMO should\
    \ be investigated.\n      Further research is recommended to assess the risk of\
    \ having a\n      loop in the nesting of multihomed mobile networks.\n   o  Prefix\
    \ Ownership should be considered by the vendors and\n      operators.\n      The\
    \ problem of Prefix Ownership only occurs when a mobile network\n      with multiple\
    \ MRs and a single MNP can arbitrarily join and split.\n      Vendors and operators\
    \ of mobile networks are encouraged to input\n      their views on the applicability\
    \ of deploying such kind of mobile\n      networks.\n"
- title: 6.  Conclusion
  contents:
  - "6.  Conclusion\n   This memo presented an analysis of multihoming in the context\
    \ of\n   network mobility under the operation of NEMO Basic Support (RFC\n   3963).\
    \  The purpose was to investigate issues related to such a bi-\n   directional\
    \ tunneling mechanism where mobile networks are multihomed\n   and multiple bi-directional\
    \ tunnels are established between Home\n   Agent and Mobile Router pairs.  For\
    \ doing so, mobile networks were\n   classified into a taxonomy comprising eight\
    \ possible multihomed\n   configurations.  Issues were explained one by one and\
    \ then summarized\n   into a table showing the multihomed configurations where\
    \ they apply,\n   suggesting the most relevant IETF working group where they could\
    \ be\n   solved.  This analysis will be helpful to extend the existing\n   standards\
    \ to support multihoming and to implementors of NEMO Basic\n   Support and multihoming-related\
    \ mechanisms.\n"
- title: 7.  Security Considerations
  contents:
  - "7.  Security Considerations\n   This is an informational document where the multihoming\n\
    \   configurations under the operation of NEMO Basic Support are\n   analyzed.\
    \  Security considerations of these multihoming\n   configurations, should they\
    \ be different from those that concern NEMO\n   Basic Support, must be considered\
    \ by forthcoming solutions.  For\n   instance, an attacker could try to use the\
    \ multihomed device as a\n   means to access another network that would not be\
    \ normally reachable\n   through the Internet.  Even when forwarding to another\
    \ network is\n   turned off by configuration, an attacker could compromise a system\
    \ to\n   enable it.\n"
- title: 8.  Acknowledgments
  contents:
  - "8.  Acknowledgments\n   The authors would like to thank people who have given\
    \ valuable\n   comments on various multihoming issues on the mailing list, and\
    \ also\n   those who have suggested directions in the 56th - 61st IETF Meetings.\n\
    \   The initial evaluation of NEMO Basic Support on multihoming\n   configurations\
    \ is a contribution from Julien Charbon.\n"
- title: 9.  References
  contents:
  - '9.  References

    '
- title: 9.1.  Normative References
  contents:
  - "9.1.  Normative References\n   [1]   Ernst, T., \"Network Mobility Support Goals\
    \ and Requirements\",\n         RFC 4886, July 2007.\n   [2]   Manner, J. and\
    \ M. Kojo, \"Mobility Related Terminology\",\n         RFC 3753, June 2004.\n\
    \   [3]   Ernst, T. and H-Y. Lach, \"Network Mobility Support\n         Terminology\"\
    , RFC 4885, July 2007.\n   [4]   Devarapalli, V., Wakikawa, R., Petrescu, A.,\
    \ and P. Thubert,\n         \"Network Mobility (NEMO) Basic Support Protocol\"\
    , RFC 3963,\n         January 2005.\n   [5]   Johnson, D., Perkins, C., and J.\
    \ Arkko, \"Mobility Support in\n         IPv6\", RFC 3775, June 2004.\n"
- title: 9.2.  Informative References
  contents:
  - "9.2.  Informative References\n   [6]   Ernst, T., Montavont, N., Wakikawa, R.,\
    \ Ng, C., and K.\n         Kuladinithi, \"Motivations and Scenarios for Using\
    \ Multiple\n         Interfaces and Global Addresses\", Work in Progress,\n  \
    \       October 2006.\n   [7]   Montavont, N., Wakikawa, R., Ernst, T., Ng, C.,\
    \ and K.\n         Kuladinithi, \"Analysis of Multihoming in Mobile IPv6\", Work\n\
    \         in Progress, February 2006.\n   [8]   Droms, R., Bound, J., Volz, B.,\
    \ Lemon, T., Perkins, C., and M.\n         Carney, \"Dynamic Host Configuration\
    \ Protocol for IPv6\n         (DHCPv6)\", RFC 3315, July 2003.\n   [9]   Arkko,\
    \ J. and I. Beijnum, \"Failure Detection and Locator Pair\n         Exploration\
    \ Protocol for IPv6  Multihoming\", Work in Progress,\n         December 2006.\n\
    \   [10]  Krishnan, S., Montavont, N., Yegin, A., Veerepalli, S., and A.\n   \
    \      Yegin, \"Link-layer Event Notifications for Detecting Network\n       \
    \  Attachments\", Work in Progress, November 2006.\n   [11]  Narayanan, S., \"\
    Detecting Network Attachment in IPv6 Networks\n         (DNAv6)\", Work in Progress,\
    \ October 2006.\n   [12]  Narten, T., Nordmark, E., and W. Simpson, \"Neighbor\
    \ Discovery\n         for IP Version 6 (IPv6)\", RFC 2461, December 1998.\n  \
    \ [13]  Nordmark, E. and M. Bagnulo, \"Level 3 multihoming shim\n         protocol\"\
    , Work in Progress, November 2006.\n   [14]  Ferguson, P. and D. Senie, \"Network\
    \ Ingress Filtering:\n         Defeating Denial of Service Attacks which employ\
    \ IP Source\n         Address Spoofing\", BCP 38, RFC 2827, May 2000.\n   [15]\
    \  Baker, F. and P. Savola, \"Ingress Filtering for Multihomed\n         Networks\"\
    , BCP 84, RFC 3704, March 2004.\n   [16]  Huitema, C. and M. Marcelo, \"Ingress\
    \ filtering compatibility\n         for IPv6 multihomed sites\", Work in Progress,\
    \ October 2006.\n   [17]  Wakikawa, R., Devarapalli, V., and P. Thubert, \"Inter\
    \ Home\n         Agents Protocol (HAHA)\", Work in Progress, February 2004.\n\
    \   [18]  Koh, B., Ng, C., and J. Hirano, \"Dynamic Inter Home Agent\n       \
    \  Protocol\", Work in Progress, July 2004.\n   [19]  Tsukada, M., \"Analysis\
    \ of Multiple Mobile Routers Cooperation\",\n         Work in Progress, October\
    \ 2005.\n   [20]  Miyakawa, S. and R. Droms, \"Requirements for IPv6 Prefix\n\
    \         Delegation\", RFC 3769, June 2004.\n   [21]  Droms, R. and P. Thubert,\
    \ \"DHCPv6 Prefix Delegation for NEMO\",\n         Work in Progress, September\
    \ 2006.\n   [22]  Thubert, P. and TJ. Kniveton, \"Mobile Network Prefix\n    \
    \     Delegation\", Work in Progress, November 2006.\n   [23]  Wakikawa, R., \"\
    Multiple Care-of Addresses Registration\", Work\n         in Progress, June 2006.\n\
    \   [24]  Draves, R., \"Default Address Selection for Internet Protocol\n    \
    \     version 6 (IPv6)\", RFC 3484, February 2003.\n   [25]  Thubert, P., Bontous,\
    \ C., and N. Nicolas, \"Nested Nemo Tree\n         Discovery\", Work in Progress,\
    \ November 2006.\n   [26]  Kumazawa, M., \"Token based Duplicate Network Detection\
    \ for\n         split mobile network (Token based DND)\", Work in Progress,\n\
    \         July 2005.\n   [27]  Soliman, H., \"Flow Bindings in Mobile IPv6 and\
    \ NEMO Basic\n         Support\", Work in Progress, March 2007.\n"
- title: Appendix A.  Alternative Classifications Approach
  contents:
  - 'Appendix A.  Alternative Classifications Approach

    '
- title: A.1.  Ownership-Oriented Approach
  contents:
  - "A.1.  Ownership-Oriented Approach\n   An alternative approach to classifying\
    \ a multihomed mobile network\n   was proposed by Erik Nordmark (Sun Microsystems)\
    \ by breaking the\n   classification of multihomed network based on ownership.\
    \  This is\n   more of a tree-like, top-down classification.  Starting from the\n\
    \   control and ownership of the HA(s) and MR(s), there are two different\n  \
    \ possibilities: either (i) the HA(s) and MR(s) are controlled by a\n   single\
    \ entity, or (ii) the HA(s) and MR(s) are controlled by separate\n   entities.\
    \  We called the first possibility the 'ISP Model', and the\n   second the 'Subscriber/Provider\
    \ Model'.\n"
- title: A.1.1.  ISP Model
  contents:
  - "A.1.1.  ISP Model\n   The case of the HA(s) and MR(s) are controlled by the same\
    \ entity can\n   be best illustrated as an Internet Service Provider (ISP) installing\n\
    \   MRs on trains, ships, or planes.  It is up to the ISP to deploy a\n   certain\
    \ configuration of mobile network; all 8 configurations, as\n   described in the\
    \ Configuration-Oriented Approach, are possible.  In\n   the remaining portion\
    \ of this document, when specifically referring\n   to a mobile network configuration\
    \ that is controlled by a single\n   entity, we will add an 'ISP' prefix; for\
    \ example, ISP-(1,1,1) or ISP-\n   (1,n,n).\n   When the HA(s) and MR(s) are controlled\
    \ by a single entity (such as\n   an ISP), the ISP can decide whether it wants\
    \ to assign one or\n   multiple MNPs to the mobile network just like it can make\
    \ the same\n   decision for any other link in its network (wired or otherwise).\
    \  In\n   any case, the ISP will make the routing between the mobile networks\n\
    \   and its core routers (such as the HAs) work.  This includes not\n   introducing\
    \ any aggregation between the HAs, which will filter out\n   routing announcements\
    \ for the MNP(s).\n   To such ends, the ISP has various means and mechanisms.\
    \  For one, the\n   ISP can run its Interior Gateway Protocol (IGP) over bi-directional\n\
    \   tunnels between the MR(s) and HA(s).  Alternatively, static routes\n   may\
    \ be used with the tunnels.  When static routes are used, a\n   mechanism to test\
    \ \"tunnel liveness\" might be necessary to avoid\n   maintaining stale routes.\
    \  Such \"tunnel liveness\" may be tested by\n   sending heartbeats signals from\
    \ MR(s) to the HA(s).  A possibility is\n   to simulate heartbeats using Binding\
    \ Updates messages by controlling\n   the \"Lifetime\" field of the Binding Acknowledgment\
    \ message to force\n   the MR to send Binding Update messages at regular intervals.\n\
    \   However, a more appropriate tool might be the Binding Refresh Request\n  \
    \ message, though conformance to the Binding Refresh Request message\n   may be\
    \ less strictly enforced in implementations since it serves a\n   somewhat secondary\
    \ role when compared to Binding Update messages.\n"
- title: A.1.2.  Subscriber/Provider Model
  contents:
  - "A.1.2.  Subscriber/Provider Model\n   The case of the HA(s) and MR(s) controlled\
    \ by the separate entities\n   can be best illustrated with a subscriber/provider\
    \ model, where the\n   MRs belongs to a single subscriber and subscribes to one\
    \ or more ISPs\n   for HA services.  There is two sub-categories in this case:\
    \ when the\n   subscriber subscribes to a single ISP, and when the subscriber\n\
    \   subscribes to multiple ISPs.  In the remaining portion of this\n   document,\
    \ when specifically referring to a mobile network\n   configuration that is in\
    \ the subscriber/provider model where the\n   subscriber subscribes to only one\
    \ ISP, we will add an 'S/P' prefix;\n   for example, S/P-(1,1,1) or S/P-(1,n,n).\
    \  When specifically referring\n   to a mobile network configuration that is in\
    \ the subscriber/provider\n   model where the subscriber subscribes to multiple\
    \ ISPs, we will add\n   an 'S/mP' prefix; for example, S/mP-(1,1,1) or S/mP-(1,n,n).\n\
    \   Not all 8 configurations are likely to be deployed for the S/P and\n   S/mP\
    \ models.  For instance, it is unlikely to foresee a S/mP-(*,1,1)\n   mobile network\
    \ where there is only a single HA.  For the S/P model,\n   the following configurations\
    \ are likely to be deployed:\n   o  S/P-(1,1,1): Single Provider, Single MR, Single\
    \ HA, Single MNP\n   o  S/P-(1,1,n): Single Provider, Single MR, Single HA, Multiple\
    \ MNPs\n   o  S/P-(1,n,1): Single Provider, Single MR, Multiple HAs, Single MNP\n\
    \   o  S/P-(1,n,n): Single Provider, Single MR, Multiple HAs, Multiple\n     \
    \ MNPs\n   o  S/P-(n,n,1): Single Provider, Multiple MRs, Single HA, Single MNP\n\
    \   o  S/P-(n,1,n): Single Provider, Multiple MRs, Single HA, Multiple\n     \
    \ MNPs\n   o  S/P-(n,n,1): Single Provider, Multiple MRs, Multiple HAs, Single\n\
    \      MNP\n   o  S/P-(n,n,n): Single Provider, Multiple MRs, Multiple HAs, Multiple\n\
    \      MNPs\n   For the S/mP model, the following configurations are likely to\
    \ be\n   deployed:\n   o  S/mP-(1,n,1): Multiple Providers, Single MR, Multiple\
    \ HAs, Single\n      MNP\n   o  S/mP-(1,n,n): Multiple Providers, Single MR, Multiple\
    \ HAs,\n      Multiple MNPs\n   o  S/mP-(n,n,n): Multiple Providers, Multiple\
    \ MRs, Multiple HAs,\n      Multiple MNPs\n   When the HA(s) and MR(s) are controlled\
    \ by different entities, it is\n   more likely that the MR is controlled by one\
    \ entity (i.e., the\n   subscriber), and the MR is establishing multiple bi-directional\n\
    \   tunnels to one or more HA(s) provided by one or more ISP(s).  In such\n  \
    \ cases, it is unlikely that the ISP will run IGP over the bi-\n   directional\
    \ tunnel, since the ISP will most certainly wish to retain\n   full control of\
    \ its routing domain.\n"
- title: A.2.  Problem-Oriented Approach
  contents:
  - "A.2.  Problem-Oriented Approach\n   A third approach was proposed by Pascal Thubert\
    \ (Cisco Systems).\n   This focused on the problems of multihomed mobile networks\
    \ rather\n   than the configuration or ownership.  With this approach, there is\
    \ a\n   set of 4 categories based on two orthogonal parameters: the number of\n\
    \   HAs, and the number of MNPs advertised.  Since the two parameters are\n  \
    \ orthogonal, the categories are not mutually exclusive.  The four\n   categories\
    \ are:\n   o  Tarzan: Single HA for Different CoAs of Same MNP\n      This is\
    \ the case where one MR registers different CoAs to the same\n      HA for the\
    \ same subnet prefix.  This is equivalent to the case of\n      y=1, i.e., the\
    \ (1,1,*) mobile network.\n   o  JetSet: Multiple HAs for Different CoAs of Same\
    \ MNP\n      This is the case where the MR registers different CoAs to\n     \
    \ different HAs for the same subnet prefix.  This is equivalent to\n      the\
    \ case of y=n, i.e., the (1,n,*) mobile network.\n   o  Shinkansen: Single MNP\
    \ Advertised by MR(s)\n      This is the case where one MNP is announced by different\
    \ MRs.\n      This is equivalent to the case of x=n and z=1, i.e., the (n,*,1)\n\
    \      mobile network.\n   o  DoubleBed: Multiple MNPs Advertised by MR(s)\n \
    \     This is the case where more than one MNPs are announced by the\n      different\
    \ MRs.  This is equivalent to the case of x=n and z=n,\n      i.e., the (n,*,n)\
    \ mobile network.\n"
- title: Appendix B.  Nested Tunneling for Fault Tolerance
  contents:
  - "Appendix B.  Nested Tunneling for Fault Tolerance\n   In order to utilize the\
    \ additional robustness provided by\n   multihoming, MRs that employ bi-directional\
    \ tunneling with their HAs\n   should dynamically change their tunnel exit points\
    \ depending on the\n   link status.  For instance, if an MR detects that one of\
    \ its egress\n   interface is down, it should detect if alternate routes to the\
    \ global\n   Internet exists.  This alternate route may be provided by any other\n\
    \   MRs connected to one of its ingress interfaces that has an\n   independent\
    \ route to the global Internet, or by another active egress\n   interface the\
    \ MR itself possesses.  If such an alternate route\n   exists, the MR should re-establish\
    \ the bi-directional tunnel using\n   this alternate route.\n   In the remaining\
    \ part of this Appendix, we will attempt to\n   investigate methods of performing\
    \ such re-establishment of bi-\n   directional tunnels.  This method of tunnel\
    \ re-establishment is\n   particularly useful for the (*,n,n) NEMO configuration.\
    \  The method\n   described is by no means complete and merely serves as a suggestion\n\
    \   on how to approach the problem.  It is also not the objective to\n   specify\
    \ a new protocol specifically tailored to provide this form of\n   re-establishments.\
    \  Instead, we will limit ourselves to currently\n   available mechanisms specified\
    \ in Mobile IPv6 [5] and Neighbor\n   Discovery in IPv6 [12].\n"
- title: B.1.  Detecting Presence of Alternate Routes
  contents:
  - "B.1.  Detecting Presence of Alternate Routes\n   To actively utilize the robustness\
    \ provided by multihoming, an MR\n   must first be capable of detecting alternate\
    \ routes.  This can be\n   manually configured into the MR by the administrators\
    \ if the\n   configuration of the mobile network is relatively static.  It is\n\
    \   however highly desirable for MRs to be able to discover alternate\n   routes\
    \ automatically for greater flexibility.\n   The case where an MR possesses multiple\
    \ egress interface (bound to\n   the same HA or otherwise) should be trivial,\
    \ since the MR should be\n   able to \"realize\" it has multiple routes to the\
    \ global Internet.\n   In the case where multiple MRs are on the mobile network,\
    \ each MR has\n   to detect the presence of other MR.  An MR can do so by listening\
    \ for\n   Router Advertisement message on its *ingress* interfaces.  When an MR\n\
    \   receives a Router Advertisement message with a non-zero Router\n   Lifetime\
    \ field from one of its ingress interfaces, it knows that\n   another MR that\
    \ can provide an alternate route to the global Internet\n   is present in the\
    \ mobile network.\n"
- title: B.2.  Re-Establishment of Bi-Directional Tunnels
  contents:
  - "B.2.  Re-Establishment of Bi-Directional Tunnels\n   When an MR detects that\
    \ the link by which its current bi-directional\n   tunnel with its HA is using\
    \ is down, it needs to re-establish the bi-\n   directional tunnel using an alternate\
    \ route detected.  We consider\n   two separate cases here: firstly, the alternate\
    \ route is provided by\n   another egress interface that belongs to the MR; secondly,\
    \ the\n   alternate route is provided by another MR connected to the mobile\n\
    \   network.  We refer to the former case as an alternate route provided\n   by\
    \ an alternate egress interface, and the latter case as an alternate\n   route\
    \ provided by an alternate MR.\n"
- title: B.2.1.  Using Alternate Egress Interface
  contents:
  - "B.2.1.  Using Alternate Egress Interface\n   When an egress interface of an MR\
    \ loses the connection to the global\n   Internet, the MR can make use of its\
    \ alternate egress interface\n   should it possess multiple egress interfaces.\
    \  The most direct way to\n   do so is for the MR to send a binding update to\
    \ the HA of the failed\n   interface using the CoA assigned to the alternate interface\
    \ in order\n   to re-establish the bi-directional tunneling using the CoA on the\n\
    \   alternate egress interface.  After a successful binding update, the\n   MR\
    \ encapsulates outgoing packets through the bi-directional tunnel\n   using the\
    \ alternate egress interface.\n   The idea is to use the global address (most\
    \ likely a CoA) assigned to\n   an alternate egress interface as the new (back-up)\
    \ CoA of the MR to\n   re-establish the bi-directional tunneling with its HA.\n"
- title: B.2.2.  Using Alternate Mobile Router
  contents:
  - "B.2.2.  Using Alternate Mobile Router\n   When the MR loses a connection to the\
    \ global Internet, the MR can\n   utilize a route provided by an alternate MR\
    \ (if one exists) to re-\n   establish the bi-directional tunnel with its HA.\
    \  First, the MR has\n   to obtain a CoA from the alternate MR (i.e., attach itself\
    \ to the\n   alternate MR).  Next, it sends binding update to its HA using the\
    \ CoA\n   obtained from the alternate MR.  From then on, the MR can encapsulate\n\
    \   outgoing packets through the bi-directional tunnel via the alternate\n   MR.\n\
    \   The idea is to obtain a CoA from the alternate MR and use this as the\n  \
    \ new (back-up) CoA of the MR to re-establish the bi-directional\n   tunneling\
    \ with its HA.\n   Note that every packet sent between MNNs and their correspondent\n\
    \   nodes will experience two levels of encapsulation.  The first level\n   of\
    \ tunneling occurs between an MR that the MNN uses as its default\n   router and\
    \ the MR's HA.  The second level of tunneling occurs between\n   the alternate\
    \ MR and its HA.\n"
- title: B.3.  To Avoid Tunneling Loop
  contents:
  - "B.3.  To Avoid Tunneling Loop\n   The method of re-establishing the bi-directional\
    \ tunnel as described\n   in Appendix B.2 may lead to infinite loops of tunneling.\
    \  This\n   happens when two MRs on a mobile network lose connection to the\n\
    \   global Internet at the same time and each MR tries to re-establish\n   bi-directional\
    \ tunnel using the other MR.  We refer to this\n   phenomenon as tunneling loop.\n\
    \   One approach to avoid tunneling loop is for an MR that has lost\n   connection\
    \ to the global Internet to insert an option into the Router\n   Advertisement\
    \ message it broadcasts periodically.  This option serves\n   to notify other\
    \ MRs on the link that the sender no longer provides\n   global connection.  Note\
    \ that setting a zero Router Lifetime field\n   will not work well since it will\
    \ cause MNNs that are attached to the\n   MR to stop using the MR as their default\
    \ router too (in which case,\n   things are back to square one).\n"
- title: B.4.  Points of Considerations
  contents:
  - "B.4.  Points of Considerations\n   This method of using tunnel re-establishments\
    \ is by no means a\n   complete solution.  There are still points to consider\
    \ in order to\n   develop it into a fully functional solution.  For instance,\
    \ in\n   Appendix B.1, it was suggested that MR detects the presence of other\n\
    \   MRs using Router Advertisements.  However, Router Advertisements are\n   link\
    \ scoped, so when there is more than one link, some information\n   may be lost.\
    \  For instance, suppose a case where there are three MRs\n   and three different\
    \ prefixes and each MR is in a different link with\n   regular routers in between.\
    \  Suppose now that only a single MR is\n   working; how do the other MRs identify\
    \ which prefix they have to use\n   to configure the new CoA?  In this case, there\
    \ are three prefixes\n   being announced, and an MR whose link has failed knows\
    \ that its\n   prefix is not to be used, but it does not have enough information\
    \ to\n   decide which one of the other two prefixes to use to configure the\n\
    \   new CoA.  In such cases, a mechanism is needed to allow an MR to\n   withdraw\
    \ its own prefix when it discovers that its link is no longer\n   working.\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Chan-Wah Ng\n   Panasonic Singapore Laboratories Pte Ltd\n\
    \   Blk 1022 Tai Seng Ave #06-3530\n   Tai Seng Industrial Estate\n   Singapore\
    \  534415\n   SG\n   Phone: +65 65505420\n   EMail: chanwah.ng@sg.panasonic.com\n\
    \   Thierry Ernst\n   INRIA\n   INRIA Rocquencourt\n   Domaine de Voluceau B.P.\
    \ 105\n   Le Chesnay  78153\n   France\n   Phone: +33-1-39-63-59-30\n   Fax: \
    \  +33-1-39-63-54-91\n   EMail: thierry.ernst@inria.fr\n   URI:   http://www.nautilus6.org/~thierry\n\
    \   Eun Kyoung Paik\n   KT\n   KT Research Center\n   17 Woomyeon-dong, Seocho-gu\n\
    \   Seoul  137-792\n   Korea\n   Phone: +82-2-526-5233\n   Fax:   +82-2-526-5200\n\
    \   EMail: euna@kt.co.kr\n   URI:   http://mmlab.snu.ac.kr/~eun/\n   Marcelo Bagnulo\n\
    \   Universidad Carlos III de Madrid\n   Av. Universidad, 30\n   Leganes, Madrid\
    \  28911\n   Spain\n   Phone: +34 91624 8837\n   EMail: marcelo@it.uc3m.es\n"
- title: Full Copyright Statement
  contents:
  - "Full Copyright Statement\n   Copyright (C) The IETF Trust (2007).\n   This document\
    \ is subject to the rights, licenses and restrictions\n   contained in BCP 78,\
    \ and except as set forth therein, the authors\n   retain all their rights.\n\
    \   This document and the information contained herein are provided on an\n  \
    \ \"AS IS\" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS\n  \
    \ OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST AND\n   THE\
    \ INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS\n   OR IMPLIED,\
    \ INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF\n   THE INFORMATION\
    \ HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED\n   WARRANTIES OF MERCHANTABILITY\
    \ OR FITNESS FOR A PARTICULAR PURPOSE.\n"
- title: Intellectual Property
  contents:
  - "Intellectual Property\n   The IETF takes no position regarding the validity or\
    \ scope of any\n   Intellectual Property Rights or other rights that might be\
    \ claimed to\n   pertain to the implementation or use of the technology described\
    \ in\n   this document or the extent to which any license under such rights\n\
    \   might or might not be available; nor does it represent that it has\n   made\
    \ any independent effort to identify any such rights.  Information\n   on the\
    \ procedures with respect to rights in RFC documents can be\n   found in BCP 78\
    \ and BCP 79.\n   Copies of IPR disclosures made to the IETF Secretariat and any\n\
    \   assurances of licenses to be made available, or the result of an\n   attempt\
    \ made to obtain a general license or permission for the use of\n   such proprietary\
    \ rights by implementers or users of this\n   specification can be obtained from\
    \ the IETF on-line IPR repository at\n   http://www.ietf.org/ipr.\n   The IETF\
    \ invites any interested party to bring to its attention any\n   copyrights, patents\
    \ or patent applications, or other proprietary\n   rights that may cover technology\
    \ that may be required to implement\n   this standard.  Please address the information\
    \ to the IETF at\n   ietf-ipr@ietf.org.\n"
