- title: __initial_text__
  contents:
  - ''
- title: Independent Submission                                      M. Boucadair
  contents:
  - "Independent Submission                                      M. Boucadair\n  \
    \               The Session Description Protocol (SDP)\n                Alternate\
    \ Connectivity (ALTC) Attribute\n"
- title: Abstract
  contents:
  - "Abstract\n   This document proposes a mechanism that allows the same SDP offer\
    \ to\n   carry multiple IP addresses of different address families (e.g., IPv4\n\
    \   and IPv6).  The proposed attribute, the \"altc\" attribute, solves the\n \
    \  backward-compatibility problem that plagued Alternative Network\n   Address\
    \ Types (ANAT) due to their syntax.\n   The proposed solution is applicable to\
    \ scenarios where connectivity\n   checks are not required.  If connectivity checks\
    \ are required,\n   Interactive Connectivity Establishment (ICE), as specified\
    \ in RFC\n   5245, provides such a solution.\n"
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This document is not an Internet Standards Track specification;\
    \ it is\n   published for informational purposes.\n   This is a contribution to\
    \ the RFC Series, independently of any other\n   RFC stream.  The RFC Editor has\
    \ chosen to publish this document at\n   its discretion and makes no statement\
    \ about its value for\n   implementation or deployment.  Documents approved for\
    \ publication by\n   the RFC Editor are not a candidate for any level of Internet\n\
    \   Standard; see Section 2 of RFC 5741.\n   Information about the current status\
    \ of this document, any errata,\n   and how to provide feedback on it may be obtained\
    \ at\n   http://www.rfc-editor.org/info/rfc6947.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (c) 2013 IETF Trust and the persons identified\
    \ as the\n   document authors.  All rights reserved.\n   This document is subject\
    \ to BCP 78 and the IETF Trust's Legal\n   Provisions Relating to IETF Documents\n\
    \   (http://trustee.ietf.org/license-info) in effect on the date of\n   publication\
    \ of this document.  Please review these documents\n   carefully, as they describe\
    \ your rights and restrictions with respect\n   to this document.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1.  Introduction  . . . . . . . . . . . . . . . . . . .\
    \ . . . . .   3\n     1.1.  Overall Context . . . . . . . . . . . . . . . . .\
    \ . . . .   3\n     1.2.  Purpose . . . . . . . . . . . . . . . . . . . . . .\
    \ . . .   4\n     1.3.  Scope . . . . . . . . . . . . . . . . . . . . . . . .\
    \ . .   5\n     1.4.  Requirements Language . . . . . . . . . . . . . . . . .\
    \ .   5\n   2.  Use Cases . . . . . . . . . . . . . . . . . . . . . . . . . .\
    \   5\n   3.  Overview of the ALTC Mechanism  . . . . . . . . . . . . . . .  \
    \ 6\n     3.1.  Overview  . . . . . . . . . . . . . . . . . . . . . . . .   6\n\
    \     3.2.  Rationale for the Chosen Syntax . . . . . . . . . . . . .   7\n  \
    \ 4.  Alternate Connectivity Attribute  . . . . . . . . . . . . . .   8\n    \
    \ 4.1.  ALTC Syntax . . . . . . . . . . . . . . . . . . . . . . .   8\n     4.2.\
    \  Usage and Interaction . . . . . . . . . . . . . . . . . .   9\n       4.2.1.\
    \  Usage . . . . . . . . . . . . . . . . . . . . . . . .   9\n       4.2.2.  Usage\
    \ of ALTC in an SDP Answer  . . . . . . . . . . .  11\n       4.2.3.  Interaction\
    \ with ICE  . . . . . . . . . . . . . . . .  11\n       4.2.4.  Interaction with\
    \ SDP-Cap-Neg  . . . . . . . . . . . .  11\n   5.  IANA Considerations . . . .\
    \ . . . . . . . . . . . . . . . . .  11\n   6.  Security Considerations . . .\
    \ . . . . . . . . . . . . . . . .  12\n   7.  Acknowledgements  . . . . . . .\
    \ . . . . . . . . . . . . . . .  12\n   8.  References  . . . . . . . . . . .\
    \ . . . . . . . . . . . . . .  12\n     8.1.  Normative References  . . . . .\
    \ . . . . . . . . . . . . .  12\n     8.2.  Informative References  . . . . .\
    \ . . . . . . . . . . . .  12\n   Appendix A.  ALTC Use Cases . . . . . . . .\
    \ . . . . . . . . . . .  15\n     A.1.  Terminology . . . . . . . . . . . . .\
    \ . . . . . . . . . .  15\n     A.2.  Multicast Use Case  . . . . . . . . . .\
    \ . . . . . . . . .  16\n     A.3.  Introducing IPv6 into SIP-Based Architectures\
    \ . . . . . .  17\n       A.3.1.  Avoiding Crossing CGN Devices . . . . . . .\
    \ . . . . .  17\n       A.3.2.  Basic Scenario for IPv6 SIP Service Delivery \
    \ . . . .  17\n       A.3.3.  Avoiding IPv4/IPv6 Interworking . . . . . . . .\
    \ . . .  18\n       A.3.4.  DBE Bypass Procedure  . . . . . . . . . . . . . .\
    \ . .  20\n       A.3.5.  Direct Communications between IPv6-Enabled User\n  \
    \             Agents  . . . . . . . . . . . . . . . . . . . . . . .  22\n"
- title: 1.  Introduction
  contents:
  - '1.  Introduction

    '
- title: 1.1.  Overall Context
  contents:
  - "1.1.  Overall Context\n   Due to the IPv4 address exhaustion problem, IPv6 deployment\
    \ is\n   becoming an urgent need, along with the need to properly handle the\n\
    \   coexistence of IPv6 and IPv4.  The reality of IPv4-IPv6 coexistence\n   introduces\
    \ heterogeneous scenarios with combinations of IPv4 and IPv6\n   nodes, some of\
    \ which are capable of supporting both IPv4 and IPv6\n   dual-stack (DS) and some\
    \ of which are capable of supporting only IPv4\n   or only IPv6.  In this context,\
    \ Session Initiation Protocol (SIP)\n   [RFC3261] User Agents (UAs) need to be\
    \ able to indicate their\n   available IP capabilities in order to increase the\
    \ ability to\n   establish successful SIP sessions, to avoid invocation of adaptation\n\
    \   functions such as Application Layer Gateways (ALGs) and IPv4-IPv6\n   interconnection\
    \ functions (e.g., NAT64 [RFC6146]), and to avoid using\n   private IPv4 addresses\
    \ through consumer NATs or Carrier-Grade NATs\n   (CGNs) [RFC6888].\n   In the\
    \ meantime, service providers are investigating scenarios to\n   upgrade their\
    \ service offering to be IPv6 capable.  The current\n   strategies involve either\
    \ offering IPv6 only, for example, to mobile\n   devices, or providing both IPv4\
    \ and IPv6, but with private IPv4\n   addresses that are NATed by CGNs.  In the\
    \ latter case, the end device\n   may be using \"normal\" IPv4 and IPv6 stacks\
    \ and interfaces, or it may\n   tunnel the IPv4 packets though a Dual-Stack Lite\
    \ (DS-Lite) stack that\n   is integrated into the host [RFC6333].  In either case,\
    \ the device\n   has both address families available from a SIP and media perspective.\n\
    \   Regardless of the IPv6 transition strategy being used, it is obvious\n   that\
    \ there will be a need for dual-stack SIP devices to communicate\n   with IPv4-only\
    \ legacy UAs, IPv6-only UAs, and other dual-stack UAs.\n   It may not be possible,\
    \ for example, for a dual-stack UA to\n   communicate with an IPv6-only UA unless\
    \ the dual-stack UA has a means\n   of providing the IPv6-only UA with an IPv6\
    \ address, while clearly it\n   needs to provide a legacy IPv4-only device an\
    \ IPv4 address.  The\n   communication must be possible in a backward-compatible\
    \ fashion, such\n   that IPv4-only SIP devices need not support the new mechanism\
    \ to\n   communicate with dual-stack UAs.\n   The current means by which multiple\
    \ address families can be\n   communicated are through ANAT [RFC4091] or ICE [RFC5245].\
    \  ANAT has\n   serious backward-compatibility problems, as described in [RFC4092],\n\
    \   which effectively make it unusable, and it has been deprecated by the\n  \
    \ IETF [RFC5245].  ICE at least allows interoperability with legacy\n   devices.\
    \  But, ICE is a complicated and processing-intensive\n   mechanism and has seen\
    \ limited deployment and implementation in SIP\n   applications.\n   ALTC has\
    \ been implemented as reported in [NAT64-EXP].  No issues have\n   been reported\
    \ in that document.\n"
- title: 1.2.  Purpose
  contents:
  - "1.2.  Purpose\n   This document proposes a new alternative: a backward-compatible\n\
    \   syntax for indicating multiple media connection addresses and ports\n   in\
    \ an SDP offer, which can immediately be selected from and used in\n   an SDP\
    \ answer.\n   The proposed mechanism is independent of the model described in\n\
    \   [RFC5939] and does not require implementation of SDP Capability\n   Negotiations\
    \ (a.k.a., SDPCapNeg) to function.\n   It should be noted that \"backward-compatible\"\
    \ in this document\n   generally refers to working with legacy IPv4-only devices.\
    \  The\n   choice has to be made, one way or the other, because to interoperate\n\
    \   with legacy devices requires constructing SDP bodies that they would\n   understand\
    \ and support, such that they detect their local address\n   family in the SDP\
    \ connection line.  It is not possible to support\n   interworking with both legacy\
    \ IPv4-only and legacy IPv6-only devices\n   with the same SDP offer.  Clearly,\
    \ there are far more legacy\n   IPv4-only devices in existence, and thus those\
    \ are the ones assumed\n   in this document.  However, the syntax allows for a\
    \ UA to choose\n   which address family to be backward-compatible with, in case\
    \ it has\n   some means of determining it.\n   Furthermore, even for cases where\
    \ both sides support the same address\n   family, there should be a means by which\
    \ the \"best\" address family\n   transport is used, based on what the UAs decide.\
    \  The address family\n   that is \"best\" for a particular session cannot always\
    \ be known a\n   priori.  For example, in some cases the IPv4 transport may be\
    \ better,\n   even if both UAs support IPv6.\n   The proposed solution provides\
    \ the following benefits:\n   o  Allows a UA to signal more than one IP address\
    \ (type) in the same\n      SDP offer.\n   o  Is backward compatible.  No parsing\
    \ or semantic errors will be\n      experienced by a legacy UA or by intermediary\
    \ SIP nodes that do\n      not understand this new mechanism.\n   o  Is as lightweight\
    \ as possible to achieve the goal, while still\n      allowing and interoperating\
    \ with nodes that support other similar\n      or related mechanisms.\n   o  Is\
    \ easily deployable in managed networks.\n   o  Requires minimal increase of the\
    \ length of the SDP offer (i.e.,\n      minimizes fragmentation risks).\n   ALTC\
    \ may also be useful for the multicast context (e.g., Section 3.4\n   of [MULTRANS-FW]\
    \ or Section 3.3 of [ADDR-ACQ]).\n   More detailed information about ALTC use\
    \ cases is provided in\n   Appendix A.\n"
- title: 1.3.  Scope
  contents:
  - "1.3.  Scope\n   This document proposes an alternative scheme, as a replacement\
    \ to the\n   ANAT procedure [RFC4091], to carry several IP address types in the\n\
    \   same SDP offer while preserving backward compatibility.\n   While two UAs\
    \ communicating directly at a SIP layer clearly need to\n   be able to support\
    \ the same address family for SIP itself, current\n   SIP deployments almost always\
    \ have proxy servers or back-to-back user\n   agents (B2BUAs) in the SIP signaling\
    \ path, which can provide the\n   necessary interworking of the IP address family\
    \ at the SIP layer\n   (e.g., [RFC6157]).  SIP-layer address family interworking\
    \ is out of\n   scope of this document.  Instead, this document focuses on the\n\
    \   problem of communicating media address family capabilities in a\n   backward-compatible\
    \ fashion.  Because media can go directly between\n   two UAs, without a priori\
    \ knowledge by the User Agent Client (UAC) of\n   which address family the far-end\
    \ User Agent Server (UAS) supports, it\n   has to offer both, in a backward-compatible\
    \ fashion.\n"
- title: 1.4.  Requirements Language
  contents:
  - "1.4.  Requirements Language\n   The key words \"MUST\", \"MUST NOT\", \"REQUIRED\"\
    , \"SHALL\", \"SHALL NOT\",\n   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"\
    MAY\", and \"OPTIONAL\" in this\n   document are to be interpreted as described\
    \ in RFC 2119 [RFC2119].\n"
- title: 2.  Use Cases
  contents:
  - "2.  Use Cases\n   The ALTC mechanism defined in this document is primarily meant\
    \ for\n   managed networks.  In particular, the following use cases were\n   explicitly\
    \ considered:\n   o  A dual-stack UAC that initiates a SIP session without knowing\
    \ the\n      address family of the ultimate target UAS.\n   o  A UA that receives\
    \ a SIP session request with SDP offer and that\n      wishes to avoid using IPv4\
    \ or IPv6.\n   o  An IPv6-only UA that wishes to avoid using a NAT64 [RFC6146].\n\
    \   o  A SIP UA behind a DS-Lite CGN [RFC6333].\n   o  A SIP service provider\
    \ or enterprise domain of an IPv4-only and/or\n      IPv6-only UA that provides\
    \ interworking by invoking IPv4-IPv6\n      media relays and that wishes to avoid\
    \ invoking such functions and\n      to let media go end to end as much as possible.\n\
    \   o  A SIP service provider or enterprise domain of a UA that\n      communicates\
    \ with other domains and that wishes either to avoid\n      invoking IPv4-IPv6\
    \ interworking or to let media go end to end as\n      much as possible.\n   o\
    \  A SIP service provider that provides transit peering services for\n      SIP\
    \ sessions that may need to modify SDP in order to provide\n      IPv4-IPv6 interworking,\
    \ but would prefer to avoid such\n      interworking or to avoid relaying media\
    \ in general, as much as\n      possible.\n   o  SIP sessions that use the new\
    \ mechanism when crossing legacy SDP-\n      aware middleboxes, but that may not\
    \ understand this new mechanism.\n"
- title: 3.  Overview of the ALTC Mechanism
  contents:
  - '3.  Overview of the ALTC Mechanism

    '
- title: 3.1.  Overview
  contents:
  - "3.1.  Overview\n   The ALTC mechanism relies solely on the SDP offer/answer mechanism,\n\
    \   with specific syntax to indicate alternative connection addresses.\n   The\
    \ basic concept is to use a new SDP attribute, \"altc\", to indicate\n   the IP\
    \ addresses for potential alternative connection addresses.  The\n   address that\
    \ is most likely to get chosen for the session is in the\n   normal \"c=\" line.\
    \  Typically, in current operational networks, this\n   would be an IPv4 address.\
    \  The \"a=altc\" lines contain the alternative\n   addresses offered for this\
    \ session.  This way, a dual-stack UA might\n   encode its IPv4 address in the\
    \ \"c=\" line, while possibly preferring\n   to use an IPv6 address by explicitly\
    \ indicating the preference order\n   in the corresponding \"a=altc\" line.  One\
    \ of the \"a=altc\" lines\n   duplicates the address contained in the \"c=\" line,\
    \ for reasons\n   explained in Section 3.2.  The SDP answerer would indicate its\
    \ chosen\n   address by simply using that address family in the \"c=\" line of\
    \ its\n   response.\n   An example of an SDP offer using this mechanism is as\
    \ follows when\n   IPv4 is considered most likely to be used for the session,\
    \ but IPv6\n   is preferred:\n   v=0\n   o=- 25678 753849 IN IP4 192.0.2.1\n \
    \  s=\n   c=IN IP4 192.0.2.1\n   t=0 0\n   m=audio 12340 RTP/AVP 0 8\n   a=altc:1\
    \ IP6 2001:db8::1 45678\n   a=altc:2 IP4 192.0.2.1 12340\n   If IPv6 were considered\
    \ more likely to be used for the session, the\n   SDP offer would be as follows:\n\
    \   v=0\n   o=- 25678 753849 IN IP6 2001:db8::1\n   s=\n   c=IN IP6 2001:db8::1\n\
    \   t=0 0\n   m=audio 45678 RTP/AVP 0 8\n   a=altc:1 IP6 2001:db8::1 45678\n \
    \  a=altc:2 IP4 192.0.2.1 12340\n   Since an alternative address is likely to\
    \ require an alternative\n   TCP/UDP port number as well, the new \"altc\" attribute\
    \ includes both\n   an IP address and a transport port number (or multiple port\
    \ numbers).\n   The ALTC mechanism does not itself support offering a different\n\
    \   transport type (i.e., UDP vs.  TCP), codec, or any other attribute.\n   It\
    \ is intended only for offering an alternative IP address and port\n   number.\n"
- title: 3.2.  Rationale for the Chosen Syntax
  contents:
  - "3.2.  Rationale for the Chosen Syntax\n   The use of an \"a=\" attribute line\
    \ is, according to [RFC4566], the\n   primary means for extending SDP and tailoring\
    \ it to particular\n   applications or media.  A compliant SDP parser will ignore\
    \ the\n   unsupported attribute lines.\n   The rationale for encoding the same\
    \ address and port in the \"a=altc\"\n   line as in the \"m=\" and \"c=\" lines\
    \ is to provide detection of legacy\n   SDP-changing middleboxes.  Such systems\
    \ may change the connection\n   address and media transport port numbers, but\
    \ not support this new\n   mechanism, and thus two UAs supporting this mechanism\
    \ would try to\n   connect to the wrong addresses.  Therefore, this document requires\n\
    \   the SDP processor to proceed to the matching rules defined in Section\n  \
    \ 4.2.1.\n"
- title: 4.  Alternate Connectivity Attribute
  contents:
  - '4.  Alternate Connectivity Attribute

    '
- title: 4.1.  ALTC Syntax
  contents:
  - "4.1.  ALTC Syntax\n   The \"altc\" attribute adheres to the [RFC4566] \"attribute\"\
    \ production.\n   The ABNF syntax [RFC5234] of altc is provided below.\n     \
    \ altc-attr = \"altc\" \":\" att-value\n      att-value = altc-num SP addrtype\
    \ SP connection-address SP port\n                  [\"/\" rtcp-port]\n      altc-num\
    \  = 1*DIGIT\n      rtcp-port = port\n             Figure 1: Connectivity Capability\
    \ Attribute ABNF\n   The meaning of the fields are as follows:\n   o  altc-num:\
    \ digit to uniquely refer to an address alternative.  It\n      indicates the\
    \ preference order, with \"1\" indicated the most\n      preferred address.\n\
    \   o  addrtype: the addrtype field as defined in [RFC4566] for\n      connection\
    \ data.\n   o  connection-address: a network address as defined in [RFC4566]\n\
    \      corresponding to the address type specified by addrtype.\n   o  port: the\
    \ port number to be used, as defined in [RFC4566].\n      Distinct port numbers\
    \ may be used for each IP address type.  If\n      the specified address type\
    \ does not require a port number, a value\n      defined for that address type\
    \ should be used.\n   o  rtcp-port: including an RTP Control Protocol (RTCP) port\
    \ is\n      optional.  An RTCP port may be indicated in the alternative \"c=\"\
    \n      line when the RTCP port cannot be derived from the RTP port.\n   The \"\
    altc\" attribute is applicable only in an SDP offer.  The \"altc\"\n   attribute\
    \ is a media-level-only attribute and MUST NOT appear at the\n   SDP session level.\
    \  (Because it defines a port number, it is\n   inherently tied to the media level.)\
    \  There MUST NOT be more than one\n   \"altc\" attribute per addrtype within\
    \ each media description.  This\n   restriction is necessary so that the addrtype\
    \ of the reply may be\n   used by the offerer to determine which alternative was\
    \ accepted.\n   The \"addrtype\"s of the altc MUST correspond to the \"nettype\"\
    \ of the\n   current connection (\"c=\") line.\n   A media description MUST contain\
    \ two \"altc\" attributes: the\n   alternative address and an alternative port.\
    \  It must also contain an\n   address and a port that \"duplicate\" the address/port\
    \ information from\n   the current \"c=\" and \"m=\" lines.  Each media level\
    \ MUST contain at\n   least one such duplicate \"altc\" attribute, of the same\
    \ IP address\n   family, address, and transport port number as those in the SDP\n\
    \   connection and media lines of its level.  In particular, if a \"c=\"\n   line\
    \ appears within a media description, the addrtype and connection-\n   address\
    \ from that \"c=\" line MUST be used in the duplicate \"altc\"\n   attribute for\
    \ that media description.  If a \"c=\" line appears only at\n   the session level\
    \ and a given media description does not have its own\n   connection line, then\
    \ the duplicate \"altc\" attribute for that media\n   description MUST be the\
    \ same as the session-level address\n   information.\n   The \"altc\" attributes\
    \ appearing within a media description MUST be\n   prioritized.  The explicit\
    \ preference order is indicated in each line\n   (\"1\" indicates the address\
    \ with the highest priority).  Given this\n   rule, and the requirement that the\
    \ address information provided in\n   the \"m=\" line and \"o=\" line must be\
    \ provided in an \"altc\" attribute\n   as well, it is possible that the addresses\
    \ in the \"m=\" line and \"o=\"\n   line are not the preferred choice.\n   If\
    \ the addrtype of an \"altc\" attribute is not compatible with the\n   transport\
    \ protocol or media format specified in the media\n   description, that \"altc\"\
    \ attribute MUST be ignored.\n   Note that \"a=altc\" lines describe alternative\
    \ connection addresses,\n   NOT addresses for parallel connections.  When several\
    \ \"altc\" lines\n   are present, establishing multiple sessions MUST be avoided.\
    \  Only\n   one session is to be maintained with the remote party for the\n  \
    \ associated media description.\n"
- title: 4.2.  Usage and Interaction
  contents:
  - '4.2.  Usage and Interaction

    '
- title: 4.2.1.  Usage
  contents:
  - "4.2.1.  Usage\n   In an SDP offer/answer model, the SDP offer includes \"altc\"\
    \n   attributes to indicate alternative connection information (i.e.,\n   address\
    \ type, address and port numbers), including the \"duplicate\"\n   connection\
    \ information already identified in the \"c=\" and \"m=\" lines.\n   Additional,\
    \ subsequent offers MAY include \"altc\" attributes again,\n   and they may change\
    \ the IP address, port numbers, and order of\n   preference, but they MUST include\
    \ a duplicate \"altc\" attribute for\n   the connection and media lines in that\
    \ specific subsequent offer.  In\n   other words, every offered SDP media description\
    \ with an alternative\n   address offer with an \"altc\" attribute has two \"\
    altc\" attributes:\n      - one duplicating the \"c=\" and \"m=\" line information\
    \ for that\n        media description\n      - one for the alternative\n   These\
    \ need not be the same as the original SDP offer.\n   The purpose of encoding\
    \ a duplicate \"altc\" attribute is to allow\n   receivers of the SDP offer to\
    \ detect if a legacy SDP-changing\n   middlebox has modified the \"c=\" and/or\
    \ \"m=\" line address/port\n   information.  If the SDP answerer does not find\
    \ a duplicate \"altc\"\n   attribute value for which the address and port exactly\
    \ match those in\n   the \"c=\" line and \"m=\" line, the SDP answerer MUST ignore\
    \ the \"altc\"\n   attributes and use the \"c=\" and \"m=\" offered address/ports\
    \ for the\n   entire SDP instead, as if no \"altc\" attributes were present. \
    \ The\n   rationale for this is that many SDP-changing middleboxes will end the\n\
    \   media sessions if they do not detect media flowing through them.  If\n   a\
    \ middlebox modified the SDP addresses, media MUST be sent using the\n   modified\
    \ information.\n   Note that for RTCP, if applicable for the given media types,\
    \ each\n   side would act as if the chosen \"altc\" attribute's port number was\
    \ in\n   the \"m=\" media line.  Typically, this would mean that RTCP is sent\
    \ to\n   the port number equal to \"RTP port + 1\", unless some other attribute\n\
    \   determines otherwise.  For example, the RTP/RTCP multiplexing\n   mechanism\
    \ defined in [RFC5761] can still be used with ALTC, such that\n   if both sides\
    \ support multiplexing, they will indicate so using the\n   \"a=rtcp-mux\" attribute,\
    \ as defined in [RFC5761], but the IP\n   connection address and port they use\
    \ may be chosen using the ALTC\n   mechanism.\n   If the SDP offerer wishes to\
    \ use the RTCP attribute defined in\n   [RFC3605], a complication can arise, since\
    \ it may not be clear which\n   address choice the \"a=rtcp\" attribute applies\
    \ to, relative to the\n   choices offered by ALTC.  Technically, RFC 3605 allows\
    \ the address\n   for RTCP to be indicated explicitly in the \"a=rtcp\" attribute\
    \ itself,\n   but this is optional and rarely used.  For this reason, this document\n\
    \   recommends using the \"a=rtcp\" attribute for the address choice\n   encoded\
    \ in the \"m=\" line and including an alternate RTCP port in the\n   \"a=altc\"\
    \ attribute corresponding to the alternative address.  In\n   other words, if\
    \ the \"a=rtcp\" attribute explicitly encodes an address\n   in its attribute,\
    \ that address applies for ALTC, as per [RFC3605].\n   If it does not, then ALTC\
    \ assumes that the \"a=rtcp\" attribute is for\n   the address in the \"m=\" line,\
    \ and the alternative \"altc\" attribute\n   includes an RTCP alternate port number.\n"
- title: 4.2.2.  Usage of ALTC in an SDP Answer
  contents:
  - "4.2.2.  Usage of ALTC in an SDP Answer\n   The SDP answer SHOULD NOT contain\
    \ \"altc\" attributes, because the\n   answer's \"c=\" line implicitly and definitively\
    \ chooses the address\n   family from the offer and includes it in \"c=\" and\
    \ \"m=\" lines of the\n   answer.  Furthermore, this avoids establishing several\
    \ sessions\n   simultaneously between the participating peers.\n   Any solution\
    \ requiring the use of ALTC in the SDP answer SHOULD\n   document its usage, in\
    \ particular how sessions are established\n   between the participating peers.\n"
- title: 4.2.3.  Interaction with ICE
  contents:
  - "4.2.3.  Interaction with ICE\n   Since ICE [RFC5245] also includes address and\
    \ port number information\n   in its candidate attributes, a potential problem\
    \ arises: which one\n   wins.  Since ICE also includes specific ICE attributes\
    \ in the SDP\n   answer, the problem is easily avoided: if the SDP offerer supports\n\
    \   both ALTC and ICE, it may include both sets of attributes in the same\n  \
    \ SDP offer.  A legacy ICE-only answerer will simply ignore the \"altc\"\n   attributes\
    \ and use ICE.  An ALTC-only answerer will ignore the ICE\n   attributes and reply\
    \ without them.  An answerer that supports both\n   MUST choose one and only one\
    \ of the mechanisms to use: either ICE or\n   ALTC.  However, if the \"m=\" or\
    \ \"c=\" line was changed by a middlebox,\n   the rules for both ALTC and ICE\
    \ would make the answerer revert to\n   basic SDP semantics.\n"
- title: 4.2.4.  Interaction with SDP-Cap-Neg
  contents:
  - "4.2.4.  Interaction with SDP-Cap-Neg\n   The ALTC mechanism is orthogonal to\
    \ SDPCapNeg [RFC5939].  If the\n   offerer supports both ALTC and SDPCapNeg, it\
    \ may offer both.\n"
- title: 5.  IANA Considerations
  contents:
  - "5.  IANA Considerations\n   Per this document, the following new SDP attribute\
    \ has been assigned.\n      SDP Attribute (\"att-field\"):\n         Attribute\
    \ name      altc\n         Long form           Alternate Connectivity\n      \
    \   Type of name        att-field\n         Type of attribute   Media level only\n\
    \         Subject to charset  No\n         Purpose             See Sections 1.2\
    \ and 3\n         Specification       Section 4\n   The contact person for this\
    \ registration is Mohamed Boucadair (email:\n   mohamed.boucadair@orange.com;\
    \ phone: +33 2 99 12 43 71).\n"
- title: 6.  Security Considerations
  contents:
  - "6.  Security Considerations\n   The security implications for ALTC are effectively\
    \ the same as they\n   are for SDP in general [RFC4566].\n"
- title: 7.  Acknowledgements
  contents:
  - "7.  Acknowledgements\n   Many thanks to T. Taylor, F. Andreasen, and G. Camarillo\
    \ for their\n   review and comments.\n"
- title: 8.  References
  contents:
  - '8.  References

    '
- title: 8.1.  Normative References
  contents:
  - "8.1.  Normative References\n   [RFC2119]  Bradner, S., \"Key words for use in\
    \ RFCs to Indicate\n              Requirement Levels\", BCP 14, RFC 2119, March\
    \ 1997.\n   [RFC3261]  Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston,\n\
    \              A., Peterson, J., Sparks, R., Handley, M., and E.\n           \
    \   Schooler, \"SIP: Session Initiation Protocol\", RFC 3261,\n              June\
    \ 2002.\n   [RFC3605]  Huitema, C., \"Real Time Control Protocol (RTCP) attribute\n\
    \              in Session Description Protocol (SDP)\", RFC 3605, October\n  \
    \            2003.\n   [RFC4566]  Handley, M., Jacobson, V., and C. Perkins, \"\
    SDP: Session\n              Description Protocol\", RFC 4566, July 2006.\n   [RFC5234]\
    \  Crocker, D. and P. Overell, \"Augmented BNF for Syntax\n              Specifications:\
    \ ABNF\", STD 68, RFC 5234, January 2008.\n   [RFC5761]  Perkins, C. and M. Westerlund,\
    \ \"Multiplexing RTP Data and\n              Control Packets on a Single Port\"\
    , RFC 5761, April 2010.\n"
- title: 8.2.  Informative References
  contents:
  - "8.2.  Informative References\n   [ADDR-ACQ]\n              Tsou, T., Clauberg,\
    \ A., Boucadair, M., Venaas, S., and Q.\n              Sun, \"Address Acquisition\
    \ For Multicast Content When\n              Source and Receiver Support Differing\
    \ IP Versions\", Work\n              in Progress, January 2013.\n   [ADDR-FORMAT]\n\
    \              Boucadair, M., Ed., Qin, J., Lee, Y., Venaas, S., Li, X.,\n   \
    \           and M. Xu, \"IPv6 Multicast Address With Embedded IPv4\n         \
    \     Multicast Address\", Work in Progress, April 2013.\n   [MULTRANS-FW]\n \
    \             Venaas, S., Li, X., and C. Bao, \"Framework for IPv4/IPv6\n    \
    \          Multicast Translation\", Work in Progress, June 2011.\n   [MULTRANS-PS]\n\
    \              Jacquenet, C., Boucadair, M., Lee, Y., Qin, J., Tsou, T.,\n   \
    \           and Q. Sun, \"IPv4-IPv6 Multicast: Problem Statement and\n       \
    \       Use Cases\", Work in Progress, March 2013.\n   [NAT64-EXP]\n         \
    \     Abdesselam, M., Boucadair, M., Hasnaoui, A., and J.\n              Queiroz,\
    \ \"PCP NAT64 Experiments\", Work in Progress,\n              September 2012.\n\
    \   [RFC2871]  Rosenberg, J. and H. Schulzrinne, \"A Framework for\n         \
    \     Telephony Routing over IP\", RFC 2871, June 2000.\n   [RFC4091]  Camarillo,\
    \ G. and J. Rosenberg, \"The Alternative Network\n              Address Types\
    \ (ANAT) Semantics for the Session Description\n              Protocol (SDP) Grouping\
    \ Framework\", RFC 4091, June 2005.\n   [RFC4092]  Camarillo, G. and J. Rosenberg,\
    \ \"Usage of the Session\n              Description Protocol (SDP) Alternative\
    \ Network Address\n              Types (ANAT) Semantics in the Session Initiation\
    \ Protocol\n              (SIP)\", RFC 4092, June 2005.\n   [RFC5245]  Rosenberg,\
    \ J., \"Interactive Connectivity Establishment\n              (ICE): A Protocol\
    \ for Network Address Translator (NAT)\n              Traversal for Offer/Answer\
    \ Protocols\", RFC 5245, April\n              2010.\n   [RFC5853]  Hautakorpi,\
    \ J., Camarillo, G., Penfield, R., Hawrylyshen,\n              A., and M. Bhatia,\
    \ \"Requirements from Session Initiation\n              Protocol (SIP) Session\
    \ Border Control (SBC) Deployments\",\n              RFC 5853, April 2010.\n \
    \  [RFC5939]  Andreasen, F., \"Session Description Protocol (SDP)\n          \
    \    Capability Negotiation\", RFC 5939, September 2010.\n   [RFC6146]  Bagnulo,\
    \ M., Matthews, P., and I. van Beijnum, \"Stateful\n              NAT64: Network\
    \ Address and Protocol Translation from IPv6\n              Clients to IPv4 Servers\"\
    , RFC 6146, April 2011.\n   [RFC6157]  Camarillo, G., El Malki, K., and V. Gurbani,\
    \ \"IPv6\n              Transition in the Session Initiation Protocol (SIP)\"\
    , RFC\n              6157, April 2011.\n   [RFC6333]  Durand, A., Droms, R., Woodyatt,\
    \ J., and Y. Lee, \"Dual-\n              Stack Lite Broadband Deployments Following\
    \ IPv4\n              Exhaustion\", RFC 6333, August 2011.\n   [RFC6406]  Malas,\
    \ D. and J. Livingood, \"Session PEERing for\n              Multimedia INTerconnect\
    \ (SPEERMINT) Architecture\", RFC\n              6406, November 2011.\n   [RFC6888]\
    \  Perreault, S., Yamagata, I., Miyakawa, S., Nakagawa, A.,\n              and\
    \ H. Ashida, \"Common Requirements for Carrier-Grade NATs\n              (CGNs)\"\
    , BCP 127, RFC 6888, April 2013.\n"
- title: Appendix A.  ALTC Use Cases
  contents:
  - 'Appendix A.  ALTC Use Cases

    '
- title: A.1.  Terminology
  contents:
  - "A.1.  Terminology\n   The following terms are used when discussing the ALTC use\
    \ cases:\n   o  SBE (Signaling Path Border Element) denotes a functional element,\n\
    \      located at the boundaries of an ITAD (IP Telephony Administrative\n   \
    \   Domain) [RFC2871], that is responsible for intercepting signaling\n      flows\
    \ received from UAs and relaying them to the core service\n      platform.  An\
    \ SBE may be located at the access segment (i.e., be\n      the service contact\
    \ point for UAs), or be located at the\n      interconnection with adjacent domains\
    \ [RFC6406].  An SBE controls\n      one or more DBEs.  The SBE and DBE may be\
    \ located in the same\n      device (e.g., the SBC [RFC5853]) or be separated.\n\
    \   o  DBE (Data Path Border Element) denotes a functional element,\n      located\
    \ at the boundaries of an ITAD, that is responsible for\n      intercepting media/data\
    \ flows received from UAs and relaying them\n      to another DBE (or media servers,\
    \ e.g., an announcement server or\n      IVR).  An example of a DBE is a media\
    \ gateway that intercepts RTP\n      flows.  An SBE may be located at the access\
    \ segment (i.e., be the\n      service contact point for UAs) or be located at\
    \ the\n      interconnection with adjacent domains ([RFC6406]).\n   o  Core service\
    \ platform (\"core SPF\") is a macro functional block\n      including session\
    \ routing, interfaces to advanced services, and\n      access control.\n   Figure\
    \ 2 provides an overview of the overall architecture, including\n   the SBE, DBE,\
    \ and core service platform.\n                                  +----------+\n\
    \                                  | Core SIP |\n                       +--------->|\
    \    SPF   |<---------+\n                       |  SIP     +----------+     SIP\
    \  |\n                       v                                v\n            \
    \     +-----------+                   +-----------+\n   +-----+  SIP  |    SBE\
    \    |                   |    SBE    |  SIP\n   |  S  |<----->|           |  \
    \                 |           |<----->\n   |  I  |       +-----------+       \
    \            +-----------+\n   |  P  |             ||                        \
    \      ||\n   |     |       +-----------+                   +-----------+\n  \
    \ |  U  |  RTP  |    DBE    |       RTP         |    DBE    |   RTP\n   |  A \
    \ |<----->|           |<----------------->|           | <----->\n   +-----+  \
    \     +-----------+                   +-----------+\n   SIP UA can be embedded\
    \ in the CPE or in a host behind the CPE\n                  Figure 2: Service\
    \ Architecture Overview\n"
- title: A.2.  Multicast Use Case
  contents:
  - "A.2.  Multicast Use Case\n   Recently, a significant effort has been undertaken\
    \ within the IETF to\n   specify new mechanisms to interconnect IPv6-only hosts\
    \ to IPv4-only\n   servers (e.g., [RFC6146]).  This effort exclusively covered\
    \ unicast\n   transfer mode.  An ongoing initiative, called \"multrans\", has\
    \ been\n   launched to cover multicast issues that are encountered during IPv6\n\
    \   transition.  The overall problem statement is documented in\n   [MULTRANS-PS].\n\
    \   A particular issue encountered in the context of IPv4/IPv6\n   coexistence\
    \ and IPv6 transition of multicast services is the\n   discovery of the multicast\
    \ group and source (refer to Section 3.4 of\n   [MULTRANS-PS]):\n   o  For an\
    \ IPv6-only receiver requesting multicast content generated\n      by an IPv4-only\
    \ source:\n      *  An ALG is required to help the IPv6 receiver select the\n\
    \         appropriate IP address when only the IPv4 address is advertised\n  \
    \       (e.g., using SDP).  Otherwise, access to the IPv4 multicast\n        \
    \ content cannot be offered to the IPv6 receiver.  The ALG may be\n         located\
    \ downstream of the receiver.  As such, the ALG does not\n         know in advance\
    \ whether the receiver is dual-stack or\n         IPv6-only.  The ALG may be tuned\
    \ to insert both the original\n         IPv4 address and the corresponding IPv6\
    \ multicast address\n         using, for instance, the ALTC SDP attribute.\n \
    \     *  To avoid involving an ALG in the path, an IPv4-only source can\n    \
    \     advertise both its IPv4 address and its IPv4-embedded IPv6\n         multicast\
    \ address [ADDR-FORMAT] using, for instance, the ALTC\n         SDP attribute.\n\
    \   o  For a dual-stack source sending its multicast content over IPv4\n     \
    \ and IPv6, both IPv4 and IPv6 addresses need to be inserted in the\n      SDP\
    \ part.  A means (e.g., ALTC) is needed for this purpose.\n"
- title: A.3.  Introducing IPv6 into SIP-Based Architectures
  contents:
  - 'A.3.  Introducing IPv6 into SIP-Based Architectures

    '
- title: A.3.1.  Avoiding Crossing CGN Devices
  contents:
  - "A.3.1.  Avoiding Crossing CGN Devices\n   Some service providers are in the process\
    \ of enabling DS-Lite\n   [RFC6333] as a means to continue delivering IPv4 services\
    \ to their\n   customers.  To avoiding crossing four levels of NAT when establishing\n\
    \   a media session (two NATs in the DS-Lite Address Family Transition\n   Router\
    \ (AFTR) and two NATs in the DBE), it is recommended to enable\n   IPv6 functions\
    \ in some SBEs/DBEs.  Then, DS-Lite AFTRs will not be\n   crossed for DS-Lite\
    \ serviced customers if their UA is IPv6-enabled:\n   o  For a SIP UA embedded\
    \ in the CPE, this is easy to implement since\n      the SIP UA [RFC3261] can\
    \ be tuned to behave as an IPv6-only UA\n      when DS-Lite is enabled.  No ALTC\
    \ is required for this use case.\n   o  For SIP UAs located behind the CPE, a\
    \ solution to indicate both\n      IPv4 and IPv6 (e.g., ALTC) is required in order\
    \ to avoid crossing\n      the DS-Lite CGN.\n"
- title: A.3.2.  Basic Scenario for IPv6 SIP Service Delivery
  contents:
  - "A.3.2.  Basic Scenario for IPv6 SIP Service Delivery\n   A basic solution to\
    \ deliver SIP-based services using an IPv4-only\n   core service platform to an\
    \ IPv6-enabled UA is to enable the\n   IPv4/IPv6 interworking function in the\
    \ SBE/DBE.  Signaling and media\n   between two SBEs and DBEs is maintained over\
    \ IPv4.  IPv6 is used\n   between an IPv6-enabled UA and an SBE/DBE.\n   Figure\
    \ 3 shows the results of session establishment between UAs.  In\n   this scenario,\
    \ the IPv4/IPv6 interworking function is invoked even\n   when both involved UAs\
    \ are IPv6-enabled.\n                                 +----------+\n         \
    \                        | Core SIP |\n                            +--->|SPF (IPv4)|<---+\n\
    \                   IPv4 SIP |    +----------+    |IPv4 SIP\n                \
    \            v                    v\n                      +-----------+     \
    \   +-----------+\n                      |    SBE    |        |    SBE    |  SIP\n\
    \             +------->|IPv4/v6 IWF|        |           |<-------+\n         \
    \    |IPv6    +-----------+        +-----------+    IPv4|\n             | SIP\
    \                                           SIP|\n      +----+ |        +-----------+\
    \        +-----------+        | +----+\n      |IPv6|-+IPv6 RTP|    DBE    |IPv4\
    \ RTP|    DBE    |IPv4 RTP+-|IPv4|\n      | UA |<-------->|IPv4/v6 IWF|<------>|\
    \           |<-------->| UA |\n      +----+          +-----------+        +-----------+\
    \          +----+\n                                 +----------+\n           \
    \                      | Core SIP |\n                            +--->|SPF (IPv4)|<---+\n\
    \                   IPv4 SIP |    +----------+    |IPv4 SIP\n                \
    \            v                    v\n                      +-----------+     \
    \   +-----------+\n                      |    SBE    |        |    SBE    |  SIP\n\
    \             +------->|IPv4/v6 IWF|        |IPv4/v6 IWF|<-------+\n         \
    \    |IPv6    +-----------+        +-----------+    IPv6|\n             | SIP\
    \                                           SIP|\n      +----+ |        +-----------+\
    \        +-----------+        | +----+\n      |IPv6|-+IPv6 RTP|    DBE    |IPv4\
    \ RTP|    DBE    |IPv6 RTP+-|IPv6|\n      | UA |<-------->|IPv4/v6 IWF|<------>|IPv4/v6\
    \ IWF|<-------->| UA |\n      +----+          +-----------+        +-----------+\
    \          +----+\n                         Figure 3: Basic Scenario\n   It may\
    \ be valuable for service providers to consider solutions that\n   avoid redundant\
    \ IPv4/IPv6 NATs and that avoid involving several DBEs.\n"
- title: A.3.3.  Avoiding IPv4/IPv6 Interworking
  contents:
  - "A.3.3.  Avoiding IPv4/IPv6 Interworking\n   A solution to indicate both IPv4\
    \ and IPv4 addresses is required for\n   service providers that want the following:\n\
    \   1.  A means to promote the invocation of IPv6 transfer capabilities\n    \
    \   that can be enabled, while no parsing errors are experienced by\n       core\
    \ service legacy nodes.\n   2.  To optimize the cost related to IPv4-IPv6 translation\
    \ licenses.\n   3.  To reduce the dual-stack lifetime.\n   4.  To maintain an\
    \ IPv4-only core.\n   5.  To have a set of SBEs/DBEs that are IPv6-enabled.\n\
    \   This section provides an overview of the procedure to avoid IPv4/IPv6\n  \
    \ interworking.\n   When an SBE receives an INVITE, it instantiates in its DBE\
    \ an\n   IPv6-IPv6 context and an IPv6-IPv4 context.  Both an IPv6 address and\n\
    \   an IPv4 address are returned, together with other information such as\n  \
    \ port numbers.  The SBE builds an SDP offer, including both the IPv4\n   and\
    \ IPv6-related information using the \"altc\" attribute.  IPv6 is\n   indicated\
    \ as the preferred connectivity type; see Figure 4.\n                     o=-\
    \ 25678 753849 IN IP4 192.0.2.2\n                     c=IN IP4 192.0.2.2\n   \
    \                  m=audio 12340 RTP/AVP 0 8\n                     a=altc:1 IP6\
    \ 2001:db8::2 6000\n                     a=altc:2 IP4 192.0.2.2 12340\n      \
    \            Figure 4: SDP Offer Updated by the SBE\n   The request is then forwarded\
    \ to the core SPF, which, in turn,\n   forwards it to the terminating SBE.\n \
    \  o  If this SBE is a legacy one, then it will ignore \"altc\" attributes\n \
    \     and use the \"c=\" line.\n   o  If the terminating SBE is IPv6-enabled:\n\
    \      *  If the called UA is IPv4 only, then an IPv6-IPv4 context is\n      \
    \   created in the corresponding DBE.\n      *  If the called UA is IPv6-enabled,\
    \ then an IPv6-IPv6 context is\n         created in the corresponding DBE.\n \
    \  Figure 5 shows the results of the procedure when placing a session\n   between\
    \ an IPv4 and IPv6 UAs, while Figure 6 shows the results of\n   establishing a\
    \ session between two IPv6-enabled UAs.  The result is\n   still not optimal since\
    \ redundant NAT66 is required (Appendix A.3.4).\n                            \
    \     +----------+\n                                 | Core SIP |\n          \
    \                  +--->|SPF (IPv4)|<---+\n                   IPv4 SIP |    +----------+\
    \    |IPv4 SIP\n                            v                    v\n         \
    \             +-----------+        +-----------+\n                      |    SBE\
    \    |        |    SBE    |  SIP\n             +------->|IPv4/v6 IWF|        |IPv4/v6\
    \ IWF|<-------+\n             |IPv6    +-----------+        +-----------+    IPv4|\n\
    \             | SIP                                           SIP|\n      +----+\
    \ |        +-----------+        +-----------+        | +----+\n      |IPv6|-+IPv6\
    \ RTP|    DBE    |IPv6 RTP|    DBE    |IPv4 RTP+-|IPv4|\n      | UA |<-------->|\
    \   NAT66   |<------>|IPv4/v6 IWF|<-------->| UA |\n      +----+          +-----------+\
    \        +-----------+          +----+\n                       2001:db8::2\n \
    \        Figure 5: Session Establishment between IPv4 and IPv6 UAs\n         \
    \                        +----------+\n                                 | Core\
    \ SIP |\n                            +--->|SPF (IPv4)|<---+\n                \
    \   IPv4 SIP |    +----------+    |IPv4 SIP\n                            v   \
    \                 v\n                      +-----------+        +-----------+\n\
    \                      |    SBE    |        |    SBE    |  SIP\n             +------->|IPv4/v6\
    \ IWF|        |IPv4/v6 IWF|<-------+\n             |IPv6    +-----------+    \
    \    +-----------+    IPv6|\n             | SIP                              \
    \             SIP|\n      +----+ |        +-----------+        +-----------+ \
    \       | +----+\n      |IPv6|-+IPv6 RTP|    DBE    |IPv6 RTP|    DBE    |IPv6\
    \ RTP+-|IPv6|\n      | UA |<-------->|   NAT66   |<------>|   NAT66   |<-------->|\
    \ UA |\n      +----+          +-----------+        +-----------+          +----+\n\
    \                       2001:db8::2\n             Figure 6: Session Establishment\
    \ between IPv6 UAs\n"
- title: A.3.4.  DBE Bypass Procedure
  contents:
  - "A.3.4.  DBE Bypass Procedure\n   For service providers wanting to involve only\
    \ one DBE in the media\n   path when not all SBEs/DBEs and UAs are IPv6-enabled,\
    \ a means to\n   indicate both IPv4 and IPv6 addresses without inducing session\n\
    \   failures is required.  This section proposes an example procedure\n   using\
    \ the \"altc\" attribute.\n   When the originating SBE receives an INVITE from\
    \ an IPv6-enabled UA,\n   it instantiates in its DBE an IPv6-IPv6 context and\
    \ an IPv6-IPv4\n   context.  Both an IPv6 address and an IPv4 address are returned,\n\
    \   together with other information, such as port numbers.  The SBE\n   builds\
    \ an SDP offer, including both IPv4 and IPv6-related information\n   using the\
    \ \"altc\" attribute (Figure 7).  IPv6 is indicated as\n   preferred connectivity\
    \ type.\n                     o=- 25678 753849 IN IP4 192.0.2.2\n            \
    \         c=IN IP4 192.0.2.2\n                     m=audio 12340 RTP/AVP 0 8\n\
    \                     a=altc:1 IP6 2001:db8::2 6000\n                     a=altc:2\
    \ IP4 192.0.2.2 12340\n                  Figure 7: SDP Offer Updated by the SBE\n\
    \   The request is then forwarded to the core SPF, which, in turn,\n   forwards\
    \ it to the terminating SBE:\n   o  If the destination UA is IPv6 or reachable\
    \ with a public IPv4\n      address, the SBEs only forwards the request without\
    \ altering the\n      SDP offer.  No parsing error is experienced by core service\
    \ nodes\n      since ALTC is backward compatible.\n   o  If the terminating SBE\
    \ does not support ALTC, it will ignore this\n      attribute and use the legacy\
    \ procedure.\n   As a consequence, only one DBE is maintained in the path when\
    \ one of\n   the involved parties is IPv6-enabled.  Figure 8 shows the overall\n\
    \   procedure when the involved UAs are IPv6-enabled.\n                      \
    \           +----------+\n                                 | Core SIP |\n    \
    \                        +--->|SPF (IPv4)|<---+\n                   IPv4 SIP |\
    \    +----------+    |IPv4 SIP\n                            v                \
    \    v\n                      +-----------+        +-----------+\n           \
    \           |    SBE    |        |    SBE    |  SIP\n             +------->|IPv4/v6\
    \ IWF|        |IPv4/v6 IWF|<-------+\n             |IPv6    +-----------+    \
    \    +-----------+    IPv6|\n             | SIP                              \
    \             SIP|\n      +----+ |        +-----------+                      \
    \       | +----+\n      |IPv6|-+IPv6 RTP|    DBE    |          IPv6 RTP      \
    \     +-|IPv6|\n      | UA |<-------->|   NAT66   |<----------------------------->|\
    \ UA |\n      +----+          +-----------+                               +----+\n\
    \   2001:db8::1        2001:db8::2\n                       Figure 8: DBE Bypass\
    \ Overview\n   The main advantages of such a solution are as follows:\n   o  DBE\
    \ resources are optimized.\n   o  No redundant NAT is maintained in the path when\
    \ IPv6-enabled UAs\n      are involved.\n   o  End-to-end delay is optimized.\n\
    \   o  The robustness of the service is optimized since the delivery of\n    \
    \  the service relies on fewer nodes.\n   o  The signaling path is also optimized\
    \ since no communication\n      between the SBE and DBE at the terminating side\
    \ is required for\n      some sessions.  (That communication would be through\
    \ the Service\n      Policy Decision Function (SPDF) in a Telecoms and Internet\n\
    \      converged Services and Protocols for Advanced Networks/IP\n      Multimedia\
    \ Subsystem (TISPAN/IMS) context.)\n"
- title: A.3.5.  Direct Communications between IPv6-Enabled User Agents
  contents:
  - "A.3.5.  Direct Communications between IPv6-Enabled User Agents\n   For service\
    \ providers wanting to allow direct IPv6 communications\n   between IPv6-enabled\
    \ UAs, when not all SBEs/DBEs and UAs are\n   IPv6-enabled, a means to indicate\
    \ both the IPv4 and IPv6 addresses\n   without inducing session failures is required.\
    \  Below is an example\n   of a proposed procedure using the \"altc\" attribute.\n\
    \   At the SBE originating side, when the SBE receives an INVITE from the\n  \
    \ calling IPv6 UA (Figure 9), it uses ALTC to indicate two IP\n   addresses:\n\
    \   1.  An IPv4 address belonging to its controlled DBE.\n   2.  The same IPv6\
    \ address and port as received in the initial offer\n       made by the calling\
    \ IPv6.\n   Figure 9 shows an excerpted example of the SDP offer of the calling\n\
    \   UA, and Figure 10 shows an excerpted example of the updated SDP offer\n  \
    \ generated by the originating SBE.\n                    o=- 25678 753849 IN IP6\
    \ 2001:db8::1\n                    c=IN IP6 2001:db8::1\n                    m=audio\
    \ 6000 RTP/AVP 0 8\n                   Figure 9: SDP Offer of the Calling UA\n\
    \                     o=- 25678 753849 IN IP4 192.0.2.2\n                    \
    \ c=IN IP4 192.0.2.2\n                     m=audio 12340 RTP/AVP 0 8\n       \
    \              a=altc:1 IP6 2001:db8::1 6000\n                     a=altc:2 IP4\
    \ 192.0.2.2 12340\n                  Figure 10: SDP Offer Updated by the SBE\n\
    \   The INVITE message will be routed appropriately to the destination\n   SBE:\n\
    \   1.  If the SBE is a legacy device (i.e., IPv4-only), it will ignore\n    \
    \   IPv6 addresses and will contact its DBE to instantiate an\n       IPv4-IPv4\
    \ context.\n   2.  If the SBE is IPv6-enabled, it will only forward the INVITE\
    \ to\n       the address of contact of the called party:\n       a.  If the called\
    \ party is IPv6-enabled, the communication will\n           be placed using IPv6.\
    \  As such, no DBE is involved in the\n           data path, as illustrated in\
    \ Figure 11.\n       b.  Otherwise, IPv4 will be used between the originating\
    \ DBE and\n           the called UA.\n                                 +----------+\n\
    \                                 | Core SIP |\n                            +--->|SPF\
    \ (IPv4)|<---+\n                   IPv4 SIP |    +----------+    |IPv4 SIP\n \
    \                           v                    v\n                      +-----------+\
    \        +-----------+\n                      |    SBE    |        |    SBE  \
    \  |  SIP\n             +------->|IPv4/v6 IWF|        |IPv4/v6 IWF|<-------+\n\
    \             |IPv6    +-----------+        +-----------+    IPv6|\n         \
    \    | SIP                                           SIP|\n      +----+ |    \
    \                                              | +----+\n      |IPv6|-+      \
    \                   IPv6 RTP                 +-|IPv6|\n      | UA |<---------------------------------------------------->|\
    \ UA |\n      +----+                                                      +----+\n\
    \      2001:db8::1\n                   Figure 11: Direct IPv6 Communication\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Mohamed Boucadair\n   France Telecom\n   Rennes  35000\n\
    \   France\n   EMail: mohamed.boucadair@orange.com\n   Hadriel Kaplan\n   Acme\
    \ Packet\n   71 Third Ave.\n   Burlington, MA  01803\n   USA\n   EMail: hkaplan@acmepacket.com\n\
    \   Robert R Gilman\n   Independent\n   EMail: bob_gilman@comcast.net\n   Simo\
    \ Veikkolainen\n   Nokia\n   EMail: Simo.Veikkolainen@nokia.com\n"
