- title: __initial_text__
  contents:
  - '              IS-IS Flooding Scope Link State PDUs (LSPs)

    '
- title: Abstract
  contents:
  - "Abstract\n   Intermediate System to Intermediate System (IS-IS) provides efficient\n\
    \   and reliable flooding of information to its peers; however, the\n   current\
    \ flooding scopes are limited to either area scope or domain\n   scope.  There\
    \ are existing use cases where support of other flooding\n   scopes is desirable.\
    \  This document defines new Protocol Data Units\n   (PDUs) that provide support\
    \ for new flooding scopes as well as\n   additional space for advertising information\
    \ targeted for the\n   currently supported flooding scopes.  This document also\
    \ defines\n   extended Type-Length-Values (TLVs) and sub-TLVs that are encoded\n\
    \   using 16-bit fields for Type and Length.\n   The protocol extensions defined\
    \ in this document are not backwards\n   compatible with existing implementations\
    \ and so must be deployed with\n   care.\n"
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This is an Internet Standards Track document.\n   This\
    \ document is a product of the Internet Engineering Task Force\n   (IETF).  It\
    \ represents the consensus of the IETF community.  It has\n   received public\
    \ review and has been approved for publication by the\n   Internet Engineering\
    \ Steering Group (IESG).  Further information on\n   Internet Standards is available\
    \ in Section 2 of RFC 5741.\n   Information about the current status of this document,\
    \ any errata,\n   and how to provide feedback on it may be obtained at\n   http://www.rfc-editor.org/info/rfc7356.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (c) 2014 IETF Trust and the persons identified\
    \ as the\n   document authors.  All rights reserved.\n   This document is subject\
    \ to BCP 78 and the IETF Trust's Legal\n   Provisions Relating to IETF Documents\n\
    \   (http://trustee.ietf.org/license-info) in effect on the date of\n   publication\
    \ of this document.  Please review these documents\n   carefully, as they describe\
    \ your rights and restrictions with respect\n   to this document.  Code Components\
    \ extracted from this document must\n   include Simplified BSD License text as\
    \ described in Section 4.e of\n   the Trust Legal Provisions and are provided\
    \ without warranty as\n   described in the Simplified BSD License.\n   This document\
    \ may contain material from IETF Documents or IETF\n   Contributions published\
    \ or made publicly available before November\n   10, 2008.  The person(s) controlling\
    \ the copyright in some of this\n   material may not have granted the IETF Trust\
    \ the right to allow\n   modifications of such material outside the IETF Standards\
    \ Process.\n   Without obtaining an adequate license from the person(s) controlling\n\
    \   the copyright in such materials, this document may not be modified\n   outside\
    \ the IETF Standards Process, and derivative works of it may\n   not be created\
    \ outside the IETF Standards Process, except to format\n   it for publication\
    \ as an RFC or to translate it into languages other\n   than English.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1.  Introduction  . . . . . . . . . . . . . . . . . . .\
    \ . . . . .   3\n     1.1.  Requirements Language . . . . . . . . . . . . . .\
    \ . . . .   5\n   2.  Extended TLVs . . . . . . . . . . . . . . . . . . . . .\
    \ . . .   5\n     2.1.  Use of Extended TLVs and Extended Sub-TLVs  . . . . .\
    \ . .   5\n     2.2.  Use of Standard Code Points in Extended TLVs and Extended\n\
    \           Sub-TLVs  . . . . . . . . . . . . . . . . . . . . . . . .   6\n  \
    \ 3.   Definition of New PDUs . . . . . . . . . . . . . . . . . . .   6\n    \
    \ 3.1.  Flooding Scoped LSP Format  . . . . . . . . . . . . . . .   7\n     3.2.\
    \  Flooding Scoped CSNP Format . . . . . . . . . . . . . . .  10\n     3.3.  Flooding\
    \ Scope PSNP Format  . . . . . . . . . . . . . . .  12\n   4.  Flooding Scope\
    \ Update Process Operation . . . . . . . . . . .  13\n     4.1.  Scope Types .\
    \ . . . . . . . . . . . . . . . . . . . . . .  14\n     4.2.  Operation on Point-to-Point\
    \ Circuits  . . . . . . . . . .  14\n     4.3.  Operation on Broadcast Circuits\
    \ . . . . . . . . . . . . .  14\n     4.4.  Use of Authentication . . . . . .\
    \ . . . . . . . . . . . .  15\n     4.5.  Priority Flooding . . . . . . . . .\
    \ . . . . . . . . . . .  15\n   5.  Deployment Considerations . . . . . . . .\
    \ . . . . . . . . . .  15\n   6.  Graceful Restart Interactions . . . . . . .\
    \ . . . . . . . . .  16\n   7.  Multi-instance Interactions . . . . . . . . .\
    \ . . . . . . . .  16\n   8.  Circuit Scope Flooding  . . . . . . . . . . . .\
    \ . . . . . . .  16\n   9.  Extending LSP Set Capacity  . . . . . . . . . . .\
    \ . . . . . .  17\n   10. Domain Scope Flooding . . . . . . . . . . . . . . .\
    \ . . . . .  18\n   11. Announcing Support for Flooding Scopes  . . . . . . .\
    \ . . . .  19\n   12. IANA Considerations . . . . . . . . . . . . . . . . . .\
    \ . . .  20\n   13. Security Considerations . . . . . . . . . . . . . . . . .\
    \ . .  21\n   14. Acknowledgements  . . . . . . . . . . . . . . . . . . . . .\
    \ .  21\n   15. References  . . . . . . . . . . . . . . . . . . . . . . . . .\
    \  21\n     15.1.  Normative References . . . . . . . . . . . . . . . . . .  21\n\
    \     15.2.  Informative References . . . . . . . . . . . . . . . . .  22\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   The Update Process, as defined by [IS-IS], provides reliable\
    \ and\n   efficient flooding of information to all routers in a given flooding\n\
    \   scope.  Currently, the protocol supports two flooding scopes and\n   associated\
    \ PDUs.  Level 1 (L1) Link State PDUs (LSPs) are flooded to\n   all routers in\
    \ an area.  Level 2 (L2) LSPs are flooded to all routers\n   in the Level 2 subdomain.\
    \  The basic operation of the Update Process\n   can be applied to any subset\
    \ of the routers in a given topology so\n   long as that topology is not partitioned.\
    \  It is, therefore, possible\n   to introduce new PDUs in support of other flooding\
    \ scopes and utilize\n   the same Update Process machinery to provide the same\
    \ reliability and\n   efficiency that the Update Process currently provides for\
    \ L1 and L2\n   scopes.  This document defines these new PDUs and the modified\
    \ Update\n   Process rules that are to be used in supporting new flooding scopes.\n\
    \   New deployment cases have introduced the need for reliable and\n   efficient\
    \ circuit scope flooding.  For example, Appointed Forwarder\n   information, as\
    \ defined in [RFC7176], needs to be flooded reliably\n   and efficiently to all\
    \ Routing Bridges (RBridges) on a broadcast\n   circuit.  Currently, only IS-IS\
    \ Hellos (IIHs) have the matching scope\n   -- but IIHs are unreliable, i.e.,\
    \ individual IIHs may be lost without\n   affecting correct operation of the protocol.\
    \  To provide reliability\n   in cases where the set of information to be flooded\
    \ exceeds the\n   carrying capacity of a single PDU requires sending the information\n\
    \   periodically even when no changes in the content have occurred.  When\n  \
    \ the information content is large, this is inefficient and still does\n   not\
    \ provide a guarantee of reliability.  This document defines\n   circuit scope\
    \ flooding in order to provide a solution for such cases.\n   Another existing\
    \ limitation of [IS-IS] is the carrying capacity of an\n   LSP set.  It has been\
    \ noted in [RFC5311] that the set of LSPs that\n   may be originated by a system\
    \ at each level is limited to 256 LSPs,\n   and the maximum size of each LSP is\
    \ limited by the minimum Maximum\n   Transmission Unit (MTU) of any link used\
    \ to flood LSPs.  [RFC5311]\n   has defined a backwards-compatible protocol extension\
    \ that can be\n   used to overcome this limitation if needed.  While the [RFC5311]\n\
    \   solution is viable, in order to be interoperable with routers that do\n  \
    \ not support the extension, it imposes some restrictions on what can/\n   cannot\
    \ be advertised in the Extended LSPs and requires allocation of\n   multiple unique\
    \ system IDs to a given router.  A more flexible and\n   less constraining solution\
    \ is possible if interoperability with\n   legacy routers is not a requirement.\
    \  By definition, the introduction\n   of new PDUs required to support new flooding\
    \ scopes is not\n   interoperable with legacy routers.  It is, therefore, possible\
    \ to\n   simultaneously introduce an alternative solution to the limited LSP\n\
    \   set carrying capacity of Level 1 and Level 2 LSPs as part of the\n   extensions\
    \ defined in this document.  This capability is also defined\n   in this document.\n\
    \   Standard IS-IS TLVs are encoded using an 8-bit type and an 8-bit\n   length.\
    \  In cases where the set of information about a single object\n   exceeds 255\
    \ octets, multiple TLVs are required to encode all of the\n   relevant information.\
    \  This document introduces extended TLVs and\n   extended sub-TLVs that use a\
    \ 16-bit Type field and a 16-bit Length\n   field.\n   The PDU Type field in the\
    \ common header for all IS-IS PDUs is a 5-bit\n   field.  Therefore, possible\
    \ PDU types supported by the protocol are\n   limited to a maximum of 32.  In\
    \ order to minimize the need to\n   introduce additional PDU types in the future,\
    \ the new PDUs introduced\n   in this document are defined so as to allow multiple\
    \ flooding scopes\n   to be associated with the same PDU type.  This means if\
    \ new flooding\n   scopes are required in the future, the same PDU type can be\
    \ used.\n"
- title: 1.1.  Requirements Language
  contents:
  - "1.1.  Requirements Language\n   The key words \"MUST\", \"MUST NOT\", \"REQUIRED\"\
    , \"SHALL\", \"SHALL NOT\",\n   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"\
    MAY\", and \"OPTIONAL\" in this\n   document are to be interpreted as described\
    \ in [RFC2119].\n"
- title: 2.  Extended TLVs
  contents:
  - "2.  Extended TLVs\n   Standard TLVs as defined in [IS-IS] as well as standard\
    \ sub-TLVs\n   (first introduced in [RFC5305]) have an 8-bit Type field and an\n\
    \   eight-bit Length field.  This constrains the information included in\n   a\
    \ single TLV or sub-TLV to 255 octets.  With the increasing use of\n   sub-TLVs,\
    \ it becomes more likely that the amount of information about\n   a single object\
    \ that needs to be advertised may exceed 255 octets.\n   In such cases, the information\
    \ is encoded in multiple TLVs.  This\n   leads to less efficient encoding since\
    \ the information that uniquely\n   identifies the object must be repeated in\
    \ each TLV and requires\n   additional implementation complexity when receiving\
    \ the information\n   to ensure that all information about the object is correctly\n\
    \   collected from the multiple TLVs.\n   This document introduces extended TLVs\
    \ and extended sub-TLVs.  These\n   are encoded using a 16-bit Type field and\
    \ a 16-bit Length field.\n"
- title: 2.1.  Use of Extended TLVs and Extended Sub-TLVs
  contents:
  - "2.1.  Use of Extended TLVs and Extended Sub-TLVs\n   The following restrictions\
    \ apply to the use of extended TLVs and\n   extended sub-TLVs:\n   o  Extended\
    \ TLVs and extended sub-TLVs are permitted only in Flooding\n      Scope PDUs\
    \ that have a flooding scope designated for their use\n      (defined later in\
    \ this document)\n   o  A given flooding scope supports either the use of standard\
    \ TLVs\n      and standard sub-TLVs or the use of extended TLVs and extended\n\
    \      sub-TLVs, but not both\n   o  Extended TLVs and extended sub-TLVs MUST\
    \ be used together, i.e.,\n      using Standard sub-TLVs within an Extended TLV\
    \ or using Extended\n      sub-TLVs within a Standard TLV is invalid\n   o  If\
    \ additional levels of TLVs (e.g., sub-sub-TLVs) are introduced\n      in the\
    \ future, then the size of the Type and Length fields in\n      these new sub-types\
    \ MUST match the size used in the parent\n   o  The 16-bit Type and Length fields\
    \ are encoded in network byte\n      order\n   o  Use of extended TLVs and extended\
    \ sub-TLVs does not alter in any\n      way the maximum size of PDUs that may\
    \ sent or received\n"
- title: 2.2.  Use of Standard Code Points in Extended TLVs and Extended Sub-TLVs
  contents:
  - "2.2.  Use of Standard Code Points in Extended TLVs and Extended Sub-TLVs\n  \
    \ Standard TLV and standard sub-TLV code points as defined in the IANA\n   \"\
    IS-IS TLV Codepoints\" registry MAY be used in extended TLVs and\n   extended\
    \ sub-TLVs.  Encoding is as specified for each of the standard\n   TLVs and standard\
    \ sub-TLVs with the following differences:\n   o  The 8-bit Type field is encoded\
    \ as an unsigned 16-bit integer\n      where the 8 most significant bits (MSBs)\
    \ are all 0\n   o  The 8-bit Length field is replaced by the 16-bit Length field\n\
    \   o  The length MAY take on values greater than 255\n"
- title: 3.  Definition of New PDUs
  contents:
  - "3.  Definition of New PDUs\n   In support of new flooding scopes, the following\
    \ new PDUs are\n   required:\n   o  Flooding Scope LSPs (FS-LSPs)\n   o  Flooding\
    \ Scope Complete Sequence Number PDUs (FS-CSNPs)\n   o  Flooding Scope Partial\
    \ Sequence Number PDUs (FS-PSNPs)\n   Each of these PDUs is intentionally defined\
    \ with a header as similar\n   in format as possible to the corresponding PDU\
    \ types currently\n   defined in [IS-IS].  Although it might have been possible\
    \ to\n   eliminate or redefine PDU header fields in a new way, the existing\n\
    \   formats are retained in order to allow maximum reuse of existing PDU\n   processing\
    \ logic in an implementation.\n   Note that in the case of all FS PDUs, the Maximum\
    \ Area Addresses\n   field in the header of the corresponding standard PDU has\
    \ been\n   replaced with a Scope field.  Therefore, maximum area addresses\n \
    \  checks specified in [IS-IS] are not performed on FS PDUs.\n"
- title: 3.1.  Flooding Scoped LSP Format
  contents:
  - "3.1.  Flooding Scoped LSP Format\n   An FS-LSP has the following format:\n  \
    \                                          No. of octets\n                 +-------------------------+\n\
    \                 | Intradomain Routeing    |     1\n                 | Protocol\
    \ Discriminator  |\n                 +-------------------------+\n           \
    \      | Length Indicator        |     1\n                 +-------------------------+\n\
    \                 | Version/Protocol ID     |     1\n                 | Extension\
    \               |\n                 +-------------------------+\n            \
    \     | ID Length               |     1\n                 +-------------------------+\n\
    \                 |R|R|R| PDU Type          |     1\n                 +-------------------------+\n\
    \                 |  Version                |     1\n                 +-------------------------+\n\
    \                 |  Reserved               |     1\n                 +-------------------------+\n\
    \                 |P|  Scope                |     1\n                 +-------------------------+\n\
    \                 |  PDU Length             |     2\n                 +-------------------------+\n\
    \                 |  Remaining Lifetime     |     2\n                 +-------------------------+\n\
    \                 |   FS LSP ID             |     ID Length + 2\n            \
    \     +-------------------------+\n                 | Sequence Number        \
    \ |     4\n                 +-------------------------+\n                 | Checksum\
    \                |     2\n                 +-------------------------+\n     \
    \            |Reserved|LSPDBOL|IS Type |     1\n                 +-------------------------+\n\
    \                 : Variable-Length Fields  :     Variable\n                 +-------------------------+\n\
    \      Intradomain Routeing Protocol Discriminator: 0x83 (as defined in\n    \
    \  [IS-IS]).\n      Length Indicator: Length of the fixed header in octets.\n\
    \      Version/Protocol ID Extension: 1\n      ID Length: As defined in [IS-IS].\n\
    \      PDU Type: 10 - Format as defined in [IS-IS].\n      Version: 1\n      Reserved:\
    \ Transmitted as zero, ignored on receipt.\n      Scope: Bits 1-7 define the flooding\
    \ scope.\n         The value 0 is reserved and MUST NOT be used.  Received FS-LSPs\n\
    \         with a scope of 0 MUST be ignored and MUST NOT be flooded.\n       \
    \  P: Bit 8 - Priority Bit. If set to 1, this LSP SHOULD be\n         flooded\
    \ at high priority.\n         Scopes (1 - 63) are reserved for use with standard\
    \ TLVs and\n         standard sub-TLVs.\n         Scopes (64 - 127) are reserved\
    \ for use with extended TLVs and\n         extended sub-TLVs.\n      PDU Length:\
    \ Entire length of this PDU, in octets, including the\n      header.\n      Remaining\
    \ Lifetime: Number of seconds before this FS-LSP is\n      considered expired.\n\
    \      FS LSP ID: The system ID of the source of the FS-LSP.  One of the\n   \
    \   following two formats is used:\n        FS LSP ID Standard Format\n      \
    \           +-------------------------+\n                 |   Source ID      \
    \       |     ID Length\n                 +-------------------------+\n      \
    \           | Pseudonode ID           |     1\n                 +-------------------------+\n\
    \                 | FS LSP Number           |     1\n                 +-------------------------+\n\
    \        FS LSP ID Extended Format\n                 +-------------------------+\n\
    \                 |   Source ID             |     ID Length\n                \
    \ +-------------------------+\n                 | Extended FS LSP Number  |  \
    \   2\n                 +-------------------------+\n      Which format is used\
    \ is specific to the scope and MUST be defined\n      when the specific flooding\
    \ scope is defined.\n      Sequence Number: Sequence number of this FS-LSP.\n\
    \      Checksum: Checksum of contents of FS-LSP from the Source ID to the\n  \
    \    end.  Checksum is computed as defined in [IS-IS].\n      Reserved/LSPDBOL/IS\
    \ Type\n         Bits 4-8 are reserved, which means they are transmitted as 0\n\
    \         and ignored on receipt.\n         LSPDBOL: Bit 3 - A value of 0 indicates\
    \ no FS-LSP Database\n         Overload and a value of 1 indicates that the FS-LSP\
    \ Database is\n         overloaded.  The overload condition is specific to FS-LSPs\
    \ with\n         the scope specified in the Scope field.\n         IS Type: Bits\
    \ 1 and 2.  The type of Intermediate System as\n         defined in [IS-IS].\n\
    \      Variable-length fields that are allowed in an FS-LSP are specific\n   \
    \   to the defined scope.\n"
- title: 3.2.  Flooding Scoped CSNP Format
  contents:
  - "3.2.  Flooding Scoped CSNP Format\n   An FS-CSNP has the following format:\n\
    \                                            No. of octets\n                 +-------------------------+\n\
    \                 | Intradomain Routeing    |     1\n                 | Protocol\
    \ Discriminator  |\n                 +-------------------------+\n           \
    \      | Length Indicator        |     1\n                 +-------------------------+\n\
    \                 | Version/Protocol ID     |     1\n                 | Extension\
    \               |\n                 +-------------------------+\n            \
    \     | ID Length               |     1\n                 +-------------------------+\n\
    \                 |R|R|R| PDU Type          |     1\n                 +-------------------------+\n\
    \                 |  Version                |     1\n                 +-------------------------+\n\
    \                 |  Reserved               |     1\n                 +-------------------------+\n\
    \                 |R|  Scope                |     1\n                 +-------------------------+\n\
    \                 |  PDU Length             |     2\n                 +-------------------------+\n\
    \                 |  Source ID              |     ID Length + 1\n            \
    \     +-------------------------+\n                 |  Start FS-LSP ID       \
    \ |     ID Length + 2\n                 +-------------------------+\n        \
    \         |  End FS-LSP ID          |     ID Length + 2\n                 +-------------------------+\n\
    \                 : Variable-Length Fields  :     Variable\n                 +-------------------------+\n\
    \      Intradomain Routeing Protocol Discriminator: 0x83 (as defined in\n    \
    \  [IS-IS]).\n      Length Indicator: Length of the fixed header in octets.\n\
    \      Version/Protocol ID Extension: 1\n      ID Length: As defined in [IS-IS].\n\
    \      PDU Type: 11 - Format as defined in [IS-IS].\n      Version: 1\n      Reserved:\
    \ Transmitted as zero, ignored on receipt.\n      Scope: Bits 1-7 define the flooding\
    \ scope.\n         The value 0 is reserved and MUST NOT be used.  Received FS-\n\
    \         CSNPs with a scope of 0 MUST be ignored.\n         Bit 8 is Reserved,\
    \ which means it is transmitted as 0 and\n         ignored on receipt.\n     \
    \    Scopes (1 - 63) are reserved for use with standard TLVs and\n         standard\
    \ sub-TLVs.\n         Scopes (64 - 127) are reserved for use with extended TLV\
    \ and\n         extended sub-TLVs.\n      PDU Length: Entire length of this PDU,\
    \ in octets, including the\n      header.\n      Source ID: The system ID of the\
    \ Intermediate System (with zero\n      Circuit ID) generating this Sequence Number's\
    \ PDU.\n      Start FS-LSP ID: The FS-LSP ID of the first FS-LSP with the\n  \
    \    specified scope in the range covered by this FS-CSNP.\n      End FS-LSP ID:\
    \ The FS-LSP ID of the last FS-LSP with the specified\n      scope in the range\
    \ covered by this FS-CSNP.\n      Variable-length fields that are allowed in an\
    \ FS-CSNP are limited\n      to those TLVs that are supported by standard CSNP.\n"
- title: 3.3.  Flooding Scope PSNP Format
  contents:
  - "3.3.  Flooding Scope PSNP Format\n   An FS-PSNP has the following format:\n \
    \                                           No. of octets\n                 +-------------------------+\n\
    \                 | Intradomain Routeing    |     1\n                 | Protocol\
    \ Discriminator  |\n                 +-------------------------+\n           \
    \      | Length Indicator        |     1\n                 +-------------------------+\n\
    \                 | Version/Protocol ID     |     1\n                 | Extension\
    \               |\n                 +-------------------------+\n            \
    \     | ID Length               |     1\n                 +-------------------------+\n\
    \                 |R|R|R| PDU Type          |     1\n                 +-------------------------+\n\
    \                 |  Version                |     1\n                 +-------------------------+\n\
    \                 |  Reserved               |     1\n                 +-------------------------+\n\
    \                 |U|  Scope                |     1\n                 +-------------------------+\n\
    \                 |  PDU Length             |     2\n                 +-------------------------+\n\
    \                 |  Source ID              |     ID Length + 1\n            \
    \     +-------------------------+\n                 : Variable-Length Fields \
    \ :     Variable\n                 +-------------------------+\n      Intradomain\
    \ Routeing Protocol Discriminator: 0x83 (as defined in\n      [IS-IS]).\n    \
    \  Length Indicator: Length of the fixed header in octets.\n      Version/Protocol\
    \ ID Extension: 1\n      ID Length: As defined in [IS-IS].\n      PDU Type: 12\
    \ - Format as defined in [IS-IS].\n      Version: 1\n      Reserved: Transmitted\
    \ as zero, ignored on receipt.\n      Scope: Bits 1-7 define the flooding scope.\n\
    \         The value 0 is reserved and MUST NOT be used.  Received FS-\n      \
    \   PSNPs with a scope of 0 MUST be ignored.\n         U: Bit 8 - A value of 0\
    \ indicates that the specified flooding\n         scope is supported.  A value\
    \ of 1 indicates that the specified\n         flooding scope is unsupported. \
    \ When U = 1, variable-length\n         fields other than authentication MUST\
    \ NOT be included in the\n         PDU.\n         Scopes (1 - 63) are reserved\
    \ for use with standard TLVs and\n         standard sub-TLVs.\n         Scopes\
    \ (64 - 127) are reserved for use with extended TLVs and\n         extended sub-TLVs.\n\
    \      PDU Length: Entire length of this PDU, in octets, including the\n     \
    \ header.\n      Source ID: The system ID of the Intermediate System (with zero\n\
    \      Circuit ID) generating this Sequence Number's PDU.\n      Variable-length\
    \ fields that are allowed in an FS-PSNP are limited\n      to those TLVs that\
    \ are supported by standard PSNPs.\n"
- title: 4.  Flooding Scope Update Process Operation
  contents:
  - "4.  Flooding Scope Update Process Operation\n   The Update Process, as defined\
    \ in [IS-IS], maintains a Link State\n   Database (LSDB) for each level supported.\
    \  Each level-specific LSDB\n   contains the full set of LSPs generated by all\
    \ routers operating in\n   that level-specific scope.  The introduction of FS-LSPs\
    \ creates\n   additional LSDBs (FS-LSDBs) for each additional scope supported.\
    \  The\n   set of FS-LSPs in each FS-LSDB consists of all FS-LSPs generated by\n\
    \   all routers operating in that scope.  Therefore, there is an\n   additional\
    \ instance of the Update Process for each supported flooding\n   scope.\n   Operation\
    \ of the scope-specific Update Process follows the Update\n   Process specification\
    \ in [IS-IS].  The circuit(s) on which FS-LSPs\n   are flooded is limited to those\
    \ circuits that are participating in\n   the given scope.  Similarly, the sending/receiving\
    \ of FS-CSNPs and\n   FS-PSNPs is limited to the circuits participating in the\
    \ given scope.\n   Consistent support of a given flooding scope on a circuit by\
    \ all\n   routers operating on that circuit is required.\n"
- title: 4.1.  Scope Types
  contents:
  - "4.1.  Scope Types\n   A flooding scope may be limited to a single circuit (circuit\
    \ scope).\n   Circuit scopes may be further limited by level (L1 Circuit Scope\
    \ / L2\n   Circuit Scope).\n   A flooding scope may be limited to all circuits\
    \ enabled for L1\n   routing (area scope).\n   A flooding scope may be limited\
    \ to all circuits enabled for L2\n   routing (L2 subdomain scope).\n   Additional\
    \ scopes may be defined that include all circuits enabled\n   for either L1 or\
    \ L2 routing (domain scope).\n"
- title: 4.2.  Operation on Point-to-Point Circuits
  contents:
  - "4.2.  Operation on Point-to-Point Circuits\n   When a new adjacency is formed,\
    \ synchronization of all FS-LSDBs\n   supported on that circuit is required; therefore,\
    \ FS-CSNPs for all\n   supported scopes MUST be sent when a new adjacency reaches\
    \ the UP\n   state.  The Send Receive Message (SRM) bit MUST be set for all\n\
    \   FS-LSPs associated with the scopes supported on that circuit.\n   Receipt\
    \ of an FS-PSNP with the U bit equal to 1 indicates that the\n   neighbor does\
    \ not support that scope (although it does support FS\n   PDUs).  This MUST cause\
    \ the SRM bit to be cleared for all FS-LSPs\n   with the matching scope, which\
    \ are currently marked for flooding on\n   that circuit.\n"
- title: 4.3.  Operation on Broadcast Circuits
  contents:
  - "4.3.  Operation on Broadcast Circuits\n   FS PDUs are sent to the same destination\
    \ address(es) as standard PDUs\n   for the given protocol instance.  For specification\
    \ of the defined\n   destination addresses, consult [IS-IS], [IEEEaq], [RFC6822],\
    \ and\n   [RFC6325].\n   The Designated Intermediate System (DIS) for a broadcast\
    \ circuit has\n   the responsibility to generate periodic scope-specific FS-CSNPs\
    \ for\n   all supported scopes.  A scope-specific DIS is NOT elected as all\n\
    \   routers on a circuit MUST support a consistent set of flooding\n   scopes.\n\
    \   It is possible that a scope may be defined that is not level\n   specific.\
    \  In such a case, the DIS for each level enabled on a\n   broadcast circuit MUST\
    \ independently send FS PDUs for that scope to\n   the appropriate level-specific\
    \ destination address.  This may result\n   in redundant flooding of FS-LSPs for\
    \ that scope.\n"
- title: 4.4.  Use of Authentication
  contents:
  - "4.4.  Use of Authentication\n   Authentication TLVs MAY be included in FS PDUs.\
    \  When authentication\n   is in use, the scope is first used to select the authentication\n\
    \   configuration that is applicable.  The authentication check is then\n   performed\
    \ as normal.  Although scope-specific authentication MAY be\n   used, sharing\
    \ of authentication among multiple scopes and/or with the\n   standard LSPs/CSNPs/PSNPs\
    \ is considered sufficient.\n"
- title: 4.5.  Priority Flooding
  contents:
  - "4.5.  Priority Flooding\n   When the FS LSP ID Extended format is used, the set\
    \ of LSPs generated\n   by an IS may be quite large.  It may be useful to identify\
    \ those LSPs\n   in the set that contain information of higher priority.  Such\
    \ LSPs\n   will have the P bit set to 1 in the Scope field in the LSP header.\n\
    \   Such LSPs SHOULD be flooded at a higher priority than LSPs with the P\n  \
    \ bit set to 0.  This is a suggested behavior on the part of the\n   originator\
    \ of the LSP.  When an LSP is purged, the original state of\n   the P bit MUST\
    \ be preserved.\n"
- title: 5.  Deployment Considerations
  contents:
  - "5.  Deployment Considerations\n   Introduction of new PDU types is incompatible\
    \ with legacy\n   implementations.  Legacy implementations do not support the\n\
    \   FS-specific Update process(es) and, therefore, flooding of the\n   FS-LSPs\
    \ throughout the defined scope is unreliable when not all\n   routers in the defined\
    \ scope support FS PDUs.  Further, legacy\n   implementations will likely treat\
    \ the reception of an FS PDU as an\n   error.  Even when all routers in a given\
    \ scope support FS PDUs, if\n   not all routers in the flooding domain for a given\
    \ scope support that\n   scope, then flooding of the FS-LSPs may be compromised.\
    \  When\n   deploying a new flooding scope, correct operation therefore requires\n\
    \   that both FS PDUs and the new scope be supported by all routers in\n   the\
    \ flooding domain of the new scope.\n   The U bit in FS-PSNPs provides a means\
    \ to suppress retransmissions of\n   unsupported scopes.  Routers that support\
    \ FS PDUs SHOULD support the\n   sending of PSNPs with the U bit equal to 1 when\
    \ an FS-LSP is received\n   with a scope that is unsupported.  Routers that support\
    \ FS PDUs\n   SHOULD trigger management notifications when FS PDUs are received\
    \ for\n   unsupported scopes and when PSNPs with the U bit equal to 1 are\n  \
    \ received.\n"
- title: 6.  Graceful Restart Interactions
  contents:
  - "6.  Graceful Restart Interactions\n   [RFC5306] defines protocol extensions in\
    \ support of graceful restart\n   of a routing instance.  Synchronization of all\
    \ supported FS-LSDBs is\n   required in order for database synchronization to\
    \ be complete.  This\n   involves the use of additional T2 timers.  Receipt of\
    \ a PSNP with the\n   U bit equal to 1 will cause FS-LSDB synchronization with\
    \ that\n   neighbor to be considered complete for that scope.  See [RFC5306] for\n\
    \   further details.\n"
- title: 7.  Multi-instance Interactions
  contents:
  - "7.  Multi-instance Interactions\n   In cases where FS-PDUs are associated with\
    \ a non-zero instance, the\n   use of Instance Identifier TLVs (IID-TLVs) in FS-PDUs\
    \ follows the\n   rules for use in LSPs, CSNPs, and PSNPs as defined in [RFC6822].\n"
- title: 8.  Circuit Scope Flooding
  contents:
  - "8.  Circuit Scope Flooding\n   This document defines four circuit scope flooding\
    \ identifiers:\n   o  Level 1 Circuit Scope (L1CS) -- this uses standard TLVs\
    \ and\n      standard sub-TLVs\n   o  Level 2 Circuit Scope (L2CS) -- this uses\
    \ standard TLVs and\n      standard sub-TLVs\n   o  Extended Level 1 Circuit Scope\
    \ (E-L1CS) -- this uses extended TLVs\n      and extended sub-TLVs\n   o  Extended\
    \ Level 2 Circuit Scope (E-L2CS) -- this uses extended TLVs\n      and extended\
    \ sub-TLVs\n   FS-LSPs with the Scope field set to one of these values contain\n\
    \   information specific to the circuit on which they are flooded.  When\n   received,\
    \ such FS-LSPs MUST NOT be flooded on any other circuit.  The\n   FS LSP ID Extended\
    \ format is used in these PDUs.  The FS-LSDB\n   associated with circuit scope\
    \ FS-LSPs consists of the set of FS-LSPs\n   that both have matching circuit scopes\
    \ and are transmitted (locally\n   generated) or received on a specific circuit.\n\
    \   The set of TLVs that may be included in such FS-LSPs is specific to\n   the\
    \ given use case and is outside the scope of this document.\n"
- title: 9.  Extending LSP Set Capacity
  contents:
  - "9.  Extending LSP Set Capacity\n   The need for additional space in the set of\
    \ LSPs generated by a\n   single IS has been articulated in [RFC5311].  When legacy\n\
    \   interoperability is not a requirement, the use of FS-LSPs meets that\n   need\
    \ without requiring the assignment of alias system-ids to a single\n   IS.  Four\
    \ flooding scopes are defined for this purpose:\n   o  Level 1 Flooding Scope\
    \ (L1FS) -- this uses standard TLVs and\n      standard sub-TLVs\n   o  Level\
    \ 2 Flooding Scope (L2FS) -- this uses standard TLVs and\n      standard sub-TLVs\n\
    \   o  Extended Level 1 Flooding Scope (E-L1FS) -- this uses extended\n      TLVs\
    \ and extended sub-TLVs\n   o  Extended Level 2 Flooding Scope (E-L2FS) -- this\
    \ uses extended\n      TLVs and extended sub-TLVs\n   L1FS and E-L1FS LSPs are\
    \ flooded on all L1 circuits.  L2FS and E-L2FS\n   LSPs are flooded on all L2\
    \ circuits.\n   The FS LSP ID Extended format is used in these PDUs.  This provides\n\
    \   64 K of additional LSPs that may be generated by a single system at\n   each\
    \ level.\n   LxFS and E-LxFS LSPs are used by the level-specific Decision Process\n\
    \   (defined in [IS-IS]) in the same manner as standard LSPs (i.e., as\n   additional\
    \ information sourced by the same IS) subject to the\n   following restrictions:\n\
    \   o  A valid version of standard LSP #0 from the same IS at the\n      corresponding\
    \ level MUST be present in the LSDB in order for the\n      LxFS/E-LxFS set to\
    \ be usable.\n   o  Information in an LxFS of E-LxFS LSP (e.g., IS-Neighbor\n\
    \      information) that supports using the originating IS as a transit\n    \
    \  node MUST NOT be used when the Overload bit is set in the\n      corresponding\
    \ standard LSP #0.\n   o  TLVs that are restricted to standard LSP #0 MUST NOT\
    \ appear in\n      LxFS LSPs.\n   There are no further restrictions as to what\
    \ TLVs may be advertised\n   in FS-LSPs.\n"
- title: 10.  Domain Scope Flooding
  contents:
  - "10.  Domain Scope Flooding\n   Existing support for flooding information throughout\
    \ a domain (i.e.,\n   to L1 routers in all areas as well as to routers in the\
    \ Level 2\n   subdomain) requires the use of leaking procedures between levels.\n\
    \   For further details, see [RFC4971].  This is sufficient when the data\n  \
    \ being flooded throughout the domain consists of individual TLVs.  If\n   it\
    \ is desired to retain the identity of the originating IS for the\n   complete\
    \ contents of a PDU, then support for flooding the unchanged\n   PDU is desirable.\
    \  This document, therefore, defines two flooding\n   scopes in support of domain\
    \ flooding.  FS-LSPs with this scope MUST\n   be flooded on all circuits regardless\
    \ of what level(s) is supported\n   on that circuit.\n   o  Domain Flooding Scope\
    \ (DFS) -- this uses standard TLVs and\n      standard sub-TLVs\n   o  Extended\
    \ Domain Flooding Scope (E-DFS) -- this uses extended TLVs\n      and extended\
    \ sub-TLVs\n   The FS LSP ID Extended format is used in these PDUs.\n   Use of\
    \ information in FS-LSPs for a given scope depends on\n   determining the reachability\
    \ to the IS originating the FS-LSP.  This\n   presents challenges for FS-LSPs\
    \ with domain scopes because no single\n   IS has the full view of the topology\
    \ across all areas.  It is,\n   therefore, necessary for the originator of domain\
    \ scope DSFS and\n   E-DSFS LSPs to advertise an identifier that will allow an\
    \ IS who\n   receives such an FS-LSP to determine whether the source of the FS-LSP\n\
    \   is currently reachable.  The identifier required depends on what\n   \"address-families\"\
    \ are being advertised.\n   When IS-IS is deployed in support of Layer 3 routing\
    \ for IPv4 and/or\n   IPv6, then FS-LSP #0 with domain scope MUST include at least\
    \ one of\n   the following TLVs:\n   o  IPv4 Traffic Engineering Router ID (TLV\
    \ 134)\n   o  IPv6 Traffic Engineering Router ID (TLV 140)\n   When IS-IS is deployed\
    \ in support of Layer 2 routing, current\n   standards (e.g., [RFC6325]) only\
    \ support a single area.  Therefore,\n   domain scope is not yet applicable. \
    \ When the Layer 2 standards are\n   updated to include multi-area support, the\
    \ identifiers that can be\n   used to support inter-area reachability will be\
    \ defined -- at which\n   point the use of domain scope for Layer 2 can be fully\
    \ defined.\n"
- title: 11.  Announcing Support for Flooding Scopes
  contents:
  - "11.  Announcing Support for Flooding Scopes\n   Announcements of support for\
    \ flooding scope may be useful in\n   validating that full support has been deployed\
    \ and/or in isolating\n   the reasons for incomplete flooding of FS-LSPs for a\
    \ given scope.\n   ISs supporting FS-PDUs MAY announce supported scopes in IIH\
    \ PDUs.  To\n   do so, a new TLV is defined.\n   Scope Flooding Support\n   Type:\
    \   243\n   Length: 1 - 127\n   Value\n                                    No.\
    \ of octets\n          +----------------------+\n          |R| Supported Scope\
    \    |   1\n          +----------------------+\n          :                  \
    \    :\n          +----------------------+\n          |R| Supported Scope    |\
    \   1\n          +----------------------+\n       A list of the circuit scopes\
    \ supported on this circuit and other\n       non-circuit-flooding scopes supported.\n\
    \       R bit MUST be 0 and is ignored on receipt.\n       In a Point-to-Point\
    \ IIH, L1, L2, domain, and all circuit scopes\n       MAY be advertised.\n   \
    \    In Level 1 LAN IIHs, L1, domain, and L1 Circuit Scopes MAY be\n       advertised.\
    \  L2 Scopes and L2 Circuit Scopes MUST NOT be\n       advertised.\n       In\
    \ Level 2 LAN IIHs, L2, domain, and L2 Circuit Scopes MAY be\n       advertised.\
    \  L1 Scopes and L1 Circuit Scopes MUST NOT be\n       advertised.\n   Information\
    \ in this TLV MUST NOT be considered in adjacency\n   formation.\n   Whether information\
    \ in this TLV is used to determine when FS-LSPs\n   associated with a locally\
    \ supported scope are flooded is an\n   implementation choice.\n"
- title: 12.  IANA Considerations
  contents:
  - "12.  IANA Considerations\n   This document includes the definition of three new\
    \ PDU types that are\n   reflected in the \"IS-IS PDU Registry\".\n    Value \
    \ Description\n    ----  ---------------------\n     10    FS-LSP\n     11   \
    \ FS-CSNP\n     12    FS-PSNP\n   A new IANA registry has been created to control\
    \ the assignment of\n   scope identifiers in FS-PDUs.  The registration procedure\
    \ is \"Expert\n   Review\" as defined in [RFC5226].  The registry name is \"LSP\
    \ Flooding\n   Scope Identifier Registry\".  A scope identifier is a number from\n\
    \   1-127, inclusive.  Values 1 - 63 are reserved for PDUs that use\n   standard\
    \ TLVs and standard sub-TLVs.  Values 64 - 127 are reserved\n   for PDUs that\
    \ use extended TLVs and extended sub-TLVs.  The list of\n   Hello PDUs in which\
    \ support for a given scope MAY be announced (using\n   Scope Flooding Support\
    \ TLV) is specified for each defined scope.\n   The following scope identifiers\
    \ are defined by this document.\n                                       FS LSP\
    \ ID Format/ IIH Announce\n  Value Description                    TLV Format \
    \       P2P L1LAN L2LAN\n  ----- ------------------------------ -----------------\
    \ ---------------\n  1     Level 1 Circuit Flooding Scope Extended/Standard  Y\
    \    Y     N\n  2     Level 2 Circuit Flooding Scope Extended/Standard  Y    N\
    \     Y\n  3     Level 1 Flooding Scope         Extended/Standard  Y    Y    \
    \ N\n  4     Level 2 Flooding Scope         Extended/Standard  Y    N     Y\n\
    \  5     Domain Flooding Scope          Extended/Standard  Y    Y     Y\n  (6-63)Unassigned\n\
    \  64    Level 1 Circuit Flooding Scope Extended/Extended  Y    Y     N\n  65\
    \    Level 2 Circuit Flooding Scope Extended/Extended  Y    N     Y\n  66    Level\
    \ 1 Flooding Scope         Extended/Extended  Y    Y     N\n  67    Level 2 Flooding\
    \ Scope         Extended/Extended  Y    N     Y\n  68    Domain Flooding Scope\
    \          Extended/Extended  Y    Y     Y\n  (69-127) Unassigned\n   The definition\
    \ of a new IS-IS TLV is reflected in the \"IS-IS TLV\n   Codepoints\" registry:\n\
    \   Value  Name                       IIH LSP SNP Purge\n   ----  ------------\
    \                --- --- --- -----\n   243   Scope Flooding Support       Y  \
    \ N   N    N\n   The IANA \"IS-IS TLV Codepoints\" registry has been extended\
    \ to allow\n   definition of codepoints less than or equal to 65535.  Codepoints\n\
    \   greater than 255 can only be used in PDUs designated to support\n   extended\
    \ TLVs.  This registry has also been updated to point to this\n   document as\
    \ a reference (in addition to [RFC3563] and [RFC6233]).\n"
- title: 13.  Security Considerations
  contents:
  - "13.  Security Considerations\n   Security concerns for IS-IS are addressed in\
    \ [IS-IS], [RFC5304], and\n   [RFC5310].\n   The new PDUs introduced are subject\
    \ to the same security issues\n   associated with their standard LSP/CSNP/PSNP\
    \ counterparts.  To the\n   extent that additional PDUs represent additional load\
    \ for routers in\n   the network, this increases the opportunity for denial-of-service\n\
    \   attacks.\n"
- title: 14.  Acknowledgements
  contents:
  - "14.  Acknowledgements\n   The authors wish to thank Ayan Banerjee, Donald Eastlake,\
    \ Hannes\n   Gredler, and Mike Shand for their comments.\n"
- title: 15.  References
  contents:
  - '15.  References

    '
- title: 15.1.  Normative References
  contents:
  - "15.1.  Normative References\n   [IEEEaq]   IEEE, \"Standard for Local and metropolitan\
    \ area networks\n              -- Media Access Control (MAC) Bridges and Virtual\
    \ Bridged\n              Local Area Networks -- Amendment 20: Shortest Path\n\
    \              Bridging\", IEEE Std 802.1aq-2012, June 2012.\n   [IS-IS]    ISO/IEC\
    \ 10589:2002, Second Edition, \"Information\n              technology -- Telecommunications\
    \ and information exchange\n              between systems -- Intermediate System\
    \ to Intermediate\n              System intradomain routeing information exchange\
    \ protocol\n              for use in conjunction with the protocol for providing\
    \ the\n              connectionless-mode network service (ISO 8473)\", 2002.\n\
    \   [RFC2119]  Bradner, S., \"Key words for use in RFCs to Indicate\n        \
    \      Requirement Levels\", BCP 14, RFC 2119, March 1997.\n   [RFC4971]  Vasseur,\
    \ JP., Shen, N., and R. Aggarwal, \"Intermediate\n              System to Intermediate\
    \ System (IS-IS) Extensions for\n              Advertising Router Information\"\
    , RFC 4971, July 2007.\n   [RFC5226]  Narten, T. and H. Alvestrand, \"Guidelines\
    \ for Writing an\n              IANA Considerations Section in RFCs\", BCP 26,\
    \ RFC 5226,\n              May 2008.\n   [RFC5304]  Li, T. and R. Atkinson, \"\
    IS-IS Cryptographic\n              Authentication\", RFC 5304, October 2008.\n\
    \   [RFC5305]  Li, T. and H. Smit, \"IS-IS Extensions for Traffic\n          \
    \    Engineering\", RFC 5305, October 2008.\n   [RFC5306]  Shand, M. and L. Ginsberg,\
    \ \"Restart Signaling for IS-IS\",\n              RFC 5306, October 2008.\n  \
    \ [RFC5310]  Bhatia, M., Manral, V., Li, T., Atkinson, R., White, R.,\n      \
    \        and M. Fanto, \"IS-IS Generic Cryptographic\n              Authentication\"\
    , RFC 5310, February 2009.\n   [RFC6822]  Previdi, S., Ginsberg, L., Shand, M.,\
    \ Roy, A., and D.\n              Ward, \"IS-IS Multi-Instance\", RFC 6822, December\
    \ 2012.\n"
- title: 15.2.  Informative References
  contents:
  - "15.2.  Informative References\n   [RFC3563]  Zinin, A., \"Cooperative Agreement\
    \ Between the ISOC/IETF\n              and ISO/IEC Joint Technical Committee 1/Sub\
    \ Committee 6\n              (JTC1/SC6) on IS-IS Routing Protocol Development\"\
    , RFC\n              3563, July 2003.\n   [RFC5311]  McPherson, D., Ginsberg,\
    \ L., Previdi, S., and M. Shand,\n              \"Simplified Extension of Link\
    \ State PDU (LSP) Space for\n              IS-IS\", RFC 5311, February 2009.\n\
    \   [RFC6233]  Li, T. and L. Ginsberg, \"IS-IS Registry Extension for\n      \
    \        Purges\", RFC 6233, May 2011.\n   [RFC6325]  Perlman, R., Eastlake, D.,\
    \ Dutt, D., Gai, S., and A.\n              Ghanwani, \"Routing Bridges (RBridges):\
    \ Base Protocol\n              Specification\", RFC 6325, July 2011.\n   [RFC7176]\
    \  Eastlake, D., Senevirathne, T., Ghanwani, A., Dutt, D.,\n              and\
    \ A. Banerjee, \"Transparent Interconnection of Lots of\n              Links (TRILL)\
    \ Use of IS-IS\", RFC 7176, May 2014.\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Les Ginsberg\n   Cisco Systems\n   510 McCarthy Blvd.\n\
    \   Milpitas, CA  95035\n   USA\n   EMail: ginsberg@cisco.com\n   Stefano Previdi\n\
    \   Cisco Systems\n   Via Del Serafico 200\n   Rome  0144\n   Italy\n   EMail:\
    \ sprevidi@cisco.com\n   Yi Yang\n   Cisco Systems\n   7100-9 Kit Creek Road\n\
    \   Research Triangle Park, NC  27709-4987\n   USA\n   EMail: yiya@cisco.com\n"
