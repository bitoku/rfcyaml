- title: __initial_text__
  contents:
  - '       ISP IPv6 Deployment Scenarios in Broadband Access Networks

    '
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This memo provides information for the Internet community.\
    \  It does\n   not specify an Internet standard of any kind.  Distribution of\
    \ this\n   memo is unlimited.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (C) The IETF Trust (2007).\n"
- title: Abstract
  contents:
  - "Abstract\n   This document provides a detailed description of IPv6 deployment\
    \ and\n   integration methods and scenarios in today's Service Provider (SP)\n\
    \   Broadband (BB) networks in coexistence with deployed IPv4 services.\n   Cable/HFC,\
    \ BB Ethernet, xDSL, and WLAN are the main BB technologies\n   that are currently\
    \ deployed, and discussed in this document.  The\n   emerging Broadband Power\
    \ Line Communications (PLC/BPL) access\n   technology is also discussed for completeness.\
    \  In this document we\n   will discuss main components of IPv6 BB networks, their\
    \ differences\n   from IPv4 BB networks, and how IPv6 is deployed and integrated\
    \ in\n   each of these networks using tunneling mechanisms and native IPv6.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1.  Introduction . . . . . . . . . . . . . . . . . . .\
    \ . . . . . .  4\n   2.  Common Terminology . . . . . . . . . . . . . . . . .\
    \ . . . . .  5\n   3.  Core/Backbone Network  . . . . . . . . . . . . . . . .\
    \ . . . .  5\n     3.1.  Layer 2 Access Provider Network  . . . . . . . . . .\
    \ . . .  5\n     3.2.  Layer 3 Access Provider Network  . . . . . . . . . . .\
    \ . .  6\n   4.  Tunneling Overview . . . . . . . . . . . . . . . . . . . . .\
    \ .  7\n     4.1.  Access over Tunnels - Customers with Public IPv4\n        \
    \   Addresses  . . . . . . . . . . . . . . . . . . . . . . . .  7\n     4.2. \
    \ Access over Tunnels - Customers with Private IPv4\n           Addresses  . .\
    \ . . . . . . . . . . . . . . . . . . . . . .  8\n     4.3.  Transition a Portion\
    \ of the IPv4 Infrastructure  . . . . .  8\n   5.  Broadband Cable Networks .\
    \ . . . . . . . . . . . . . . . . . .  9\n     5.1.  Broadband Cable Network Elements\
    \ . . . . . . . . . . . . .  9\n     5.2.  Deploying IPv6 in Cable Networks .\
    \ . . . . . . . . . . . . 10\n       5.2.1.  Deploying IPv6 in a Bridged CMTS\
    \ Network . . . . . . . 12\n       5.2.2.  Deploying IPv6 in a Routed CMTS Network\
    \  . . . . . . . 14\n       5.2.3.  IPv6 Multicast . . . . . . . . . . . . . .\
    \ . . . . . . 23\n       5.2.4.  IPv6 QoS . . . . . . . . . . . . . . . . . .\
    \ . . . . . 24\n       5.2.5.  IPv6 Security Considerations . . . . . . . . .\
    \ . . . . 24\n       5.2.6.  IPv6 Network Management  . . . . . . . . . . . .\
    \ . . . 25\n   6.  Broadband DSL Networks . . . . . . . . . . . . . . . . . .\
    \ . . 26\n     6.1.  DSL Network Elements . . . . . . . . . . . . . . . . . .\
    \ . 26\n     6.2.  Deploying IPv6 in IPv4 DSL Networks  . . . . . . . . . . .\
    \ 28\n       6.2.1.  Point-to-Point Model . . . . . . . . . . . . . . . . . 29\n\
    \       6.2.2.  PPP Terminated Aggregation (PTA) Model . . . . . . . . 30\n  \
    \     6.2.3.  L2TPv2 Access Aggregation (LAA) Model  . . . . . . . . 33\n    \
    \   6.2.4.  Hybrid Model for IPv4 and IPv6 Service . . . . . . . . 36\n     6.3.\
    \  IPv6 Multicast . . . . . . . . . . . . . . . . . . . . . . 38\n       6.3.1.\
    \  ASM-Based Deployments  . . . . . . . . . . . . . . . . 39\n       6.3.2.  SSM-Based\
    \ Deployments  . . . . . . . . . . . . . . . . 39\n     6.4.  IPv6 QoS . . . .\
    \ . . . . . . . . . . . . . . . . . . . . . 40\n     6.5.  IPv6 Security Considerations\
    \ . . . . . . . . . . . . . . . 41\n     6.6.  IPv6 Network Management  . . .\
    \ . . . . . . . . . . . . . . 42\n   7.  Broadband Ethernet Networks  . . . .\
    \ . . . . . . . . . . . . . 42\n     7.1.  Ethernet Access Network Elements .\
    \ . . . . . . . . . . . . 42\n     7.2.  Deploying IPv6 in IPv4 Broadband Ethernet\
    \ Networks . . . . 43\n       7.2.1.  Point-to-Point Model . . . . . . . . . .\
    \ . . . . . . . 44\n       7.2.2.  PPP Terminated Aggregation (PTA) Model . .\
    \ . . . . . . 46\n       7.2.3.  L2TPv2 Access Aggregation (LAA) Model  . . .\
    \ . . . . . 48\n       7.2.4.  Hybrid Model for IPv4 and IPv6 Service . . . .\
    \ . . . . 50\n     7.3.  IPv6 Multicast . . . . . . . . . . . . . . . . . . .\
    \ . . . 52\n     7.4.  IPv6 QoS . . . . . . . . . . . . . . . . . . . . . . .\
    \ . . 53\n     7.5.  IPv6 Security Considerations . . . . . . . . . . . . . .\
    \ . 54\n     7.6.  IPv6 Network Management  . . . . . . . . . . . . . . . . .\
    \ 55\n   8.  Wireless LAN . . . . . . . . . . . . . . . . . . . . . . . . . 55\n\
    \     8.1.  WLAN Deployment Scenarios  . . . . . . . . . . . . . . . . 55\n  \
    \     8.1.1.  Layer 2 NAP with Layer 3 termination at NSP Edge\n             \
    \  Router . . . . . . . . . . . . . . . . . . . . . . . . 56\n       8.1.2.  Layer\
    \ 3 Aware NAP with Layer 3 Termination at\n               Access Router  . . .\
    \ . . . . . . . . . . . . . . . . . 59\n       8.1.3.  PPP-Based Model  . . .\
    \ . . . . . . . . . . . . . . . . 61\n     8.2.  IPv6 Multicast . . . . . . .\
    \ . . . . . . . . . . . . . . . 63\n     8.3.  IPv6 QoS . . . . . . . . . . .\
    \ . . . . . . . . . . . . . . 65\n     8.4.  IPv6 Security Considerations . .\
    \ . . . . . . . . . . . . . 65\n     8.5.  IPv6 Network Management  . . . . .\
    \ . . . . . . . . . . . . 67\n   9.  Broadband Power Line Communications (PLC)\
    \  . . . . . . . . . . 67\n     9.1.  PLC/BPL Access Network Elements  . . . .\
    \ . . . . . . . . . 68\n     9.2.  Deploying IPv6 in IPv4 PLC/BPL . . . . . .\
    \ . . . . . . . . 69\n       9.2.1.  IPv6 Related Infrastructure Changes  . .\
    \ . . . . . . . 69\n       9.2.2.  Addressing . . . . . . . . . . . . . . . .\
    \ . . . . . . 69\n       9.2.3.  Routing  . . . . . . . . . . . . . . . . . .\
    \ . . . . . 70\n     9.3.  IPv6 Multicast . . . . . . . . . . . . . . . . . .\
    \ . . . . 71\n     9.4.  IPv6 QoS . . . . . . . . . . . . . . . . . . . . . .\
    \ . . . 71\n     9.5.  IPv6 Security Considerations . . . . . . . . . . . . .\
    \ . . 71\n     9.6.  IPv6 Network Management  . . . . . . . . . . . . . . . .\
    \ . 71\n   10. Gap Analysis . . . . . . . . . . . . . . . . . . . . . . . . .\
    \ 71\n   11. Security Considerations  . . . . . . . . . . . . . . . . . . . 74\n\
    \   12. Acknowledgements . . . . . . . . . . . . . . . . . . . . . . . 74\n  \
    \ 13. References . . . . . . . . . . . . . . . . . . . . . . . . . . 74\n    \
    \ 13.1. Normative References . . . . . . . . . . . . . . . . . . . 74\n     13.2.\
    \ Informative References . . . . . . . . . . . . . . . . . . 76\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   This document presents the options available in deploying\
    \ IPv6\n   services in the access portion of a BB Service Provider (SP) network\n\
    \   - namely Cable/HFC, BB Ethernet, xDSL, WLAN, and PLC/BPL.\n   This document\
    \ briefly discusses the other elements of a provider\n   network as well.  It\
    \ provides different viable IPv6 deployment and\n   integration techniques, and\
    \ models for each of the above-mentioned BB\n   technologies individually.  The\
    \ example list is not exhaustive, but\n   it tries to be representative.\n   This\
    \ document analyzes how all the important components of current\n   IPv4-based\
    \ Cable/HFC, BB Ethernet, xDSL, WLAN, and PLC/BPL networks\n   will behave when\
    \ IPv6 is integrated and deployed.\n   The following important pieces are discussed:\n\
    \   A. Available tunneling options\n   B. Devices that would have to be upgraded\
    \ to support IPv6\n   C. Available IPv6 address assignment techniques and their\
    \ use\n   D. Possible IPv6 Routing options and their use\n   E. IPv6 unicast and\
    \ multicast packet transmission\n   F. Required IPv6 Quality of Service (QoS)\
    \ parameters\n   G. Required IPv6 Security parameters\n   H. Required IPv6 Network\
    \ Management parameters\n   It is important to note that the addressing rules\
    \ provided throughout\n   this document represent an example that follows the\
    \ current\n   assignment policies and recommendations of the registries.  However,\n\
    \   they can be adapted to the network and business model needs of the\n   ISPs.\n\
    \   The scope of the document is to advise on the ways of upgrading an\n   existing\
    \ infrastructure to support IPv6 services.  The recommendation\n   to upgrade\
    \ a device to dual stack does not stop an SP from adding a\n   new device to its\
    \ network to perform the necessary IPv6 functions\n   discussed.  The costs involved\
    \ with such an approach could be offset\n   by lower impact on the existing IPv4\
    \ services.\n"
- title: 2.  Common Terminology
  contents:
  - "2.  Common Terminology\n   BB: Broadband\n   CPE: Customer Premise Equipment\n\
    \   GWR: Gateway Router\n   ISP: Internet Service Provider\n   NAP: Network Access\
    \ Provider\n   NSP: Network Service Provider\n   QoS: Quality of Service\n   SP:\
    \ Service Provider\n"
- title: 3.  Core/Backbone Network
  contents:
  - "3.  Core/Backbone Network\n   This section intends to briefly discuss some important\
    \ elements of a\n   provider network tied to the deployment of IPv6.  A more detailed\n\
    \   description of the core network is provided in other documents\n   [RFC4029].\n\
    \   There are two types of networks identified in the Broadband\n   deployments:\n\
    \   A.  Access Provider Network: This network provides the broadband\n       access\
    \ and aggregates the subscribers.  The subscriber traffic is\n       handed over\
    \ to the Service Provider at Layer 2 or 3.\n   B.  Service Provider Network: This\
    \ network provides Intranet and\n       Internet IP connectivity for the subscribers.\n\
    \   The Service Provider network structure beyond the Edge Routers that\n   interface\
    \ with the Access provider is beyond the scope of this\n   document.\n"
- title: 3.1.  Layer 2 Access Provider Network
  contents:
  - "3.1.  Layer 2 Access Provider Network\n   The Access Provider can deploy a Layer\
    \ 2 network and perform no\n   routing of the subscriber traffic to the SP.  The\
    \ devices that\n   support each specific access technology are aggregated into\
    \ a highly\n   redundant, resilient, and scalable Layer 2 core.  The network core\n\
    \   can involve various technologies such as Ethernet, Asynchronous\n   Transfer\
    \ Mode (ATM), etc.  The Service Provider Edge Router connects\n   to the Access\
    \ Provider core.\n   This type of network may be transparent to the Layer 3 protocol.\n\
    \   Some possible changes may come with the intent of supporting IPv6\n   provisioning\
    \ mechanisms, as well as filtering and monitoring IPv6\n   traffic based on Layer\
    \ 2 information such as IPv6 Ether Type Protocol\n   ID (0x86DD) or IPv6 multicast\
    \ specific Media Access Control (MAC)\n   addresses (33:33:xx:xx:xx:xx).\n"
- title: 3.2.  Layer 3 Access Provider Network
  contents:
  - "3.2.  Layer 3 Access Provider Network\n   The Access Provider can choose to terminate\
    \ the Layer 2 domain and\n   route the IP traffic to the Service Provider network.\
    \  Access Routers\n   are used to aggregate the subscriber traffic and route it\
    \ over a\n   Layer 3 core to the SP Edge Routers.  In this case, the impact of\
    \ the\n   IPv6 deployment is significant.\n   The case studies in this document\
    \ discuss only the relevant network\n   elements of such a network: Customer Premise\
    \ Equipment, Access\n   Router, and Edge Router.  In real networks, the link between\
    \ the\n   Access Router and the Edge Router involves other routers that are\n\
    \   part of the aggregation and the core layer of the Access Provider\n   network.\n\
    \   The Access Provider can forward the IPv6 traffic through its Layer 3\n   core\
    \ in three possible ways:\n   A.  IPv6 Tunneling: As a temporary solution, the\
    \ Access Provider can\n       choose to use a tunneling mechanism to forward the\
    \ subscriber\n       IPv6 traffic to the Service Provider Edge Router.  This approach\n\
    \       has the least impact on the Access Provider network; however, as\n   \
    \    the number of users increase and the amount of IPv6 traffic\n       grows,\
    \ the ISP will have to evolve to one of the scenarios listed\n       below.\n\
    \   B.  Native IPv6 Deployment: The Access Provider routers are upgraded\n   \
    \    to support IPv6 and can become dual stack.  In a dual-stack\n       network,\
    \ an IPv6 Interior Gateway Protocol (IGP), such as OSPFv3\n       [RFC2740] or\
    \ IS-IS [ISISv6], is enabled.  RFC 4029 [RFC4029]\n       discusses the IGP selection\
    \ options with their benefits and\n       drawbacks.\n   C.  MPLS 6PE Deployment\
    \ [6PE]: If the Access Provider is running MPLS\n       in its IPv4 core, it could\
    \ use 6PE to forward IPv6 traffic over\n       it.  In this case, only a subset\
    \ of routers close to the edge of\n       the network need to be IPv6 aware. \
    \ With this approach, BGP\n       becomes important in order to support 6PE.\n\
    \   The 6PE approach has the advantage of having minimal impact on the\n   Access\
    \ Provider network.  Fewer devices need to be upgraded and\n   configured while\
    \ the MPLS core continues to switch the traffic,\n   unaware that it transports\
    \ both IPv4 and IPv6. 6PE should be\n   leveraged only if MPLS is already deployed\
    \ in the network.  At the\n   time of writing this document, a major disadvantage\
    \ of the 6PE\n   solution is that it does not support multicast IPv6 traffic.\n\
    \   The native approach has the advantage of supporting IPv6 multicast\n   traffic,\
    \ but it may imply a significant impact on the IPv4\n   operational network in\
    \ terms of software configuration and possibly\n   hardware upgrade.\n   More\
    \ detailed Core Network deployment recommendations are discussed\n   in other\
    \ documents [RFC4029].  The handling of IPv6 traffic in the\n   Core of the Access\
    \ Provider Network will not be discussed for the\n   remainder of this document.\n"
- title: 4.  Tunneling Overview
  contents:
  - "4.  Tunneling Overview\n   If SPs are not able to deploy native IPv6, they might\
    \ use tunneling-\n   based transition mechanisms to start an IPv6 service offering,\
    \ and\n   move to native IPv6 deployment at a later time.\n   Several tunneling\
    \ mechanisms were developed specifically to transport\n   IPv6 over existing IPv4\
    \ infrastructures.  Several of them have been\n   standardized and their use depends\
    \ on the existing SP IPv4 network\n   and the structure of the IPv6 service. \
    \ The requirements for the most\n   appropriate mechanisms are described in [v6tc]\
    \ with more updates to\n   follow.  Deploying IPv6 using tunneling techniques\
    \ can imply as\n   little changes to the network as upgrading software on tunnel\
    \ end\n   points.  A Service Provider could use tunneling to deploy IPv6 in the\n\
    \   following scenarios:\n"
- title: 4.1.  Access over Tunnels - Customers with Public IPv4 Addresses
  contents:
  - "4.1.  Access over Tunnels - Customers with Public IPv4 Addresses\n   If the customer\
    \ is a residential user, it can initiate the tunnel\n   directly from the IPv6\
    \ capable host to a tunnel termination router\n   located in the NAP or ISP network.\
    \  The tunnel type used should be\n   decided by the SP, but it should take into\
    \ consideration its\n   availability on commonly used software running on the\
    \ host machine.\n   Of the many tunneling mechanisms developed, such as IPv6 Tunnel\n\
    \   Broker [RFC3053], Connection of IPv6 Domains via IPv4 Clouds\n   [RFC3056],\
    \ Generic Packet Tunneling in IPv6 [RFC2473], ISATAP\n   [RFC4214], Basic Transition\
    \ Mechanisms for IPv6 Hosts and Routers\n   [RFC4213], and Transmission of IPv6\
    \ over IPv4 Domains without\n   Explicit Tunnels [RFC2529], some are more popular\
    \ than the others.\n   At the time of writing this document, the IETF Softwire\
    \ Working Group\n   was tasked with standardizing a single tunneling protocol\
    \ [Softwire]\n   for this application.\n   If the end customer has a GWR installed,\
    \ then it could be used to\n   originate the tunnel, thus offering native IPv6\
    \ access to multiple\n   hosts on the customer network.  In this case, the GWR\
    \ would need to\n   be upgraded to dual stack in order to support IPv6.  The GWR\
    \ can be\n   owned by the customer or by the SP.\n"
- title: 4.2.  Access over Tunnels - Customers with Private IPv4 Addresses
  contents:
  - "4.2.  Access over Tunnels - Customers with Private IPv4 Addresses\n   If the\
    \ end customer receives a private IPv4 address and needs to\n   initiate a tunnel\
    \ through Network Address Translation (NAT),\n   techniques like 6to4 may not\
    \ work since they rely on public IPv4\n   address.  In this case, unless the existing\
    \ GWRs support protocol-41-\n   forwarding [Protocol41], the end user might have\
    \ to use tunnels that\n   can operate through NATs (such as Teredo [RFC4380]).\
    \  Most GWRs\n   support protocol-41-forwarding, which means that hosts can initiate\n\
    \   the tunnels - in which case the GWR is not affected by the IPv6\n   service.\n\
    \   The customer has the option to initiate the tunnel from the device\n   (GWR)\
    \ that performs the NAT functionality, similar to the GWR\n   scenario discussed\
    \ in Section 4.1.  This will imply hardware\n   replacement or software upgrade\
    \ and a native IPv6 environment behind\n   the GWR.\n   It is also worth observing\
    \ that initiating an IPv6 tunnel over IPv4\n   through already established IPv4\
    \ IPsec sessions would provide a\n   certain level of security to the IPv6 traffic.\n"
- title: 4.3.  Transition a Portion of the IPv4 Infrastructure
  contents:
  - "4.3.  Transition a Portion of the IPv4 Infrastructure\n   Tunnels can be used\
    \ to transport the IPv6 traffic across a defined\n   segment of the network. \
    \ As an example, the customer might connect\n   natively to the Network Access\
    \ Provider, where a tunnel is used to\n   transit the traffic over IPv4 to the\
    \ ISP.  In this case, the tunnel\n   choice depends on its capabilities (for example,\
    \ whether or not it\n   supports multicast), routing protocols used (there are\
    \ several types\n   that can transport Layer 2 messages, such as GRE [RFC2784],\
    \ L2TPv3\n   [RFC3931], or pseudowire), manageability, and scalability (dynamic\n\
    \   versus static tunnels).\n   This scenario implies that the access portion\
    \ of the network has been\n   upgraded to support dual stack, so the savings provided\
    \ by tunneling\n   in this scenario are very small compared with the previous\
    \ two\n   scenarios.  Depending on the number of sites requiring the service,\n\
    \   and considering the expenses required to manage the tunnels (some\n   tunnels\
    \ are static while others are dynamic [DynamicTunnel]) in this\n   case, the SPs\
    \ might find the native approach worth the additional\n   investments.\n   In\
    \ all the scenarios listed above, the tunnel selection process\n   should consider\
    \ the IPv6 multicast forwarding capabilities if such\n   service is planned. \
    \ As an example, 6to4 tunnels do not support IPv6\n   multicast traffic.\n   The\
    \ operation, capabilities, and deployment of various tunnel types\n   have been\
    \ discussed extensively in the documents referenced earlier\n   as well as in\
    \ [RFC4213] and [RFC3904].  Details of a tunnel-based\n   deployment are offered\
    \ in the next section of this document, which\n   discusses the case of Cable\
    \ Access, where the current Data Over Cable\n   Service Interface Specification\
    \ (DOCSIS 2.0) [RF-Interface] and prior\n   specifications do not provide support\
    \ for native IPv6 access.\n   Although Sections 6, 7, 8, and 9 focus on a native\
    \ IPv6 deployments\n   over DSL, Fiber to the Home (FTTH), wireless, and PLC/BPL\
    \ and because\n   this approach is fully supported today, tunnel-based solutions\
    \ are\n   also possible in these cases based on the guidelines of this section\n\
    \   and some of the recommendations provided in Section 5.\n"
- title: 5.  Broadband Cable Networks
  contents:
  - "5.  Broadband Cable Networks\n   This section describes the infrastructure that\
    \ exists today in cable\n   networks providing BB services to the home.  It also\
    \ describes IPv6\n   deployment options in these cable networks.\n   DOCSIS standardizes\
    \ and documents the operation of data over cable\n   networks.  DOCSIS 2.0 and\
    \ prior specifications have limitations that\n   do not allow for a smooth implementation\
    \ of native IPv6 transport.\n   Some of these limitations are discussed in this\
    \ section.  For this\n   reason, the IPv6 deployment scenarios discussed in this\
    \ section for\n   the existing cable networks are tunnel based.  The tunneling\
    \ examples\n   presented here could also be applied to the other BB technologies\n\
    \   described in Sections 6, 7, 8, and 9.\n"
- title: 5.1.  Broadband Cable Network Elements
  contents:
  - "5.1.  Broadband Cable Network Elements\n   Broadband cable networks are capable\
    \ of transporting IP traffic to/\n   from users to provide high speed Internet\
    \ access and Voice over IP\n   (VoIP) services.  The mechanism for transporting\
    \ IP traffic over\n   cable networks is outlined in the DOCSIS specification\n\
    \   [RF-Interface].\n   Here are some of the key elements of a cable network:\n\
    \   Cable (HFC) Plant: Hybrid Fiber Coaxial plant, used as the underlying\n  \
    \ transport\n   CMTS: Cable Modem Termination System (can be a Layer 2 bridging\
    \ or\n   Layer 3 routing CMTS)\n   GWR: Residential Gateway Router (provides Layer\
    \ 3 services to hosts)\n   Host: PC, notebook, etc., which is connected to the\
    \ CM or GWR\n   CM: Cable Modem\n   ER: Edge Router\n   MSO: Multiple Service\
    \ Operator\n   Data Over Cable Service Interface Specification (DOCSIS): Standards\n\
    \   defining how data should be carried over cable networks\n   Figure 5.1 illustrates\
    \ the key elements of a Cable Network.\n   |--- ACCESS  ---||------ HFC ------||-----\
    \ Aggregation / Core -----|\n   +-----+  +------+\n   |Host |--| GWR  |\n   +-----+\
    \  +--+---+\n               |        _ _ _ _ _ _\n            +------+   |   \
    \        |\n            |  CM  |---|           |\n            +------+   |   \
    \        |\n                       |    HFC    |   +------+   +--------+\n   \
    \                    |           |   |      |   | Edge   |\n   +-----+  +------+\
    \   |  Network  |---| CMTS |---|        |=>ISP\n   |Host |--|  CM  |---|     \
    \      |   |      |   | Router | Network\n   +-----+  +--+---+   |           |\
    \   +------+   +--------+\n                       |_ _ _ _ _ _|\n            +------+\
    \         |\n   +-----+  | GWR/ |         |\n   |Host |--| CM   |---------+\n\
    \   +-----+  |      |\n            +------+\n                              Figure\
    \ 5.1\n"
- title: 5.2.  Deploying IPv6 in Cable Networks
  contents:
  - "5.2.  Deploying IPv6 in Cable Networks\n   One of the motivators for an MSO to\
    \ deploy IPv6 over its cable\n   network is to ease management burdens.  IPv6\
    \ can be enabled on the\n   CM, CMTS, and ER for management purposes.  Currently\
    \ portions of the\n   cable infrastructure use IPv4 address space [RFC1918]; however,\
    \ there\n   is a finite number of those.  Thus, IPv6 could have utility in the\n\
    \   cable space implemented on the management plane initially and focused\n  \
    \ on the data plane for end-user services later.  For more details on\n   using\
    \ IPv6 for management in cable networks, please refer to Section\n   5.6.1.\n\
    \   There are two different deployment modes in current cable networks: a\n  \
    \ bridged CMTS environment and a routed CMTS environment.  IPv6 can be\n   deployed\
    \ in both of these environments.\n   1.  Bridged CMTS Network\n   In this scenario,\
    \ both the CM and CMTS bridge all data traffic.\n   Traffic to/from host devices\
    \ is forwarded through the cable network\n   to the ER.  The ER then routes traffic\
    \ through the ISP network to the\n   Internet.  The CM and CMTS support a certain\
    \ degree of Layer 3\n   functionality for management purposes.\n   2.  Routed\
    \ CMTS Network\n   In a routed network, the CMTS forwards IP traffic to/from hosts\
    \ based\n   on Layer 3 information using the IP source/destination address.  The\n\
    \   CM acts as a Layer 2 bridge for forwarding data traffic and supports\n   some\
    \ Layer 3 functionality for management purposes.\n   Some of the factors that\
    \ hinder deployment of native IPv6 in current\n   routed and bridged cable networks\
    \ include:\n   A.  Changes need to be made to the DOCSIS specification\n     \
    \  [RF-Interface] to include support for IPv6 on the CM and CMTS.\n       This\
    \ is imperative for deploying native IPv6 over cable networks.\n   B.  Problems\
    \ with IPv6 Neighbor Discovery (ND) on CM and CMTS.  In\n       IPv4, these devices\
    \ rely on Internet Group Multicast Protocol\n       (IGMP) join messages to track\
    \ membership of hosts that are part\n       of a particular IP multicast group.\
    \  In order to support ND, a\n       multicast-based process, the CM and CMTS\
    \ will need to support\n       IGMPv3/Multicast Listener Discovery Version 2 (MLDv2)\
    \ or v1\n       snooping.\n   C.  Classification of IPv6 traffic in the upstream\
    \ and downstream\n       direction.  The CM and CMTS will need to support classification\n\
    \       of IPv6 packets in order to give them the appropriate priority\n     \
    \  and QoS.  Service providers that wish to deploy QoS mechanisms\n       also\
    \ have to support classification of IPv6 traffic.\n   Due to the above mentioned\
    \ limitations in deployed cable networks, at\n   the time of writing this document,\
    \ the only option available for\n   cable operators is to use tunneling techniques\
    \ in order to transport\n   IPv6 traffic over their current IPv4 infrastructure.\
    \  The following\n   sections will cover tunneling and native IPv6 deployment\
    \ scenarios in\n   more detail.\n"
- title: 5.2.1.  Deploying IPv6 in a Bridged CMTS Network
  contents:
  - "5.2.1.  Deploying IPv6 in a Bridged CMTS Network\n   In IPv4, the CM and CMTS\
    \ act as Layer 2 bridges and forward all data\n   traffic to/from the hosts and\
    \ the ER.  The hosts use the ER as their\n   Layer 3 next hop.  If there is a\
    \ GWR behind the CM it can act as a\n   next hop for all hosts and forward data\
    \ traffic to/from the ER.\n   When deploying IPv6 in this environment, the CM\
    \ and CMTS will\n   continue to act as bridging devices in order to keep the transition\n\
    \   smooth and reduce operational complexity.  The CM and CMTS will need\n   to\
    \ bridge IPv6 unicast and multicast packets to/from the ER and the\n   hosts.\
    \  If there is a GWR connected to the CM, it will need to\n   forward IPv6 unicast\
    \ and multicast traffic to/from the ER.\n   IPv6 can be deployed in a bridged\
    \ CMTS network either natively or via\n   tunneling.  This section discusses the\
    \ native deployment model.  The\n   tunneling model is similar to ones described\
    \ in Sections 5.2.2.1 and\n   5.2.2.2.\n   Figure 5.2.1 illustrates the IPv6 deployment\
    \ scenario.\n   +-----+  +-----+\n   |Host |--| GWR |\n   +-----+  +--+--+\n \
    \              |              _ _ _ _ _ _\n               |  +------+   |    \
    \       |\n               +--|  CM  |---|           |\n                  +------+\
    \   |           |\n                             |   HFC     |   +------+  +--------+\n\
    \                             |           |   |      |  | Edge   |\n         +-----+\
    \  +------+   |  Network  |---| CMTS |--|        |=>ISP\n         |Host |--| \
    \ CM  |---|           |   |      |  | Router |Network\n         +-----+  +------+\
    \   |           |   +------+  +--------+\n                             |_ _ _\
    \ _ _ _|\n   |-------------||---------------------------------||---------------|\n\
    \       L3 Routed              L2 Bridged                 L3 Routed\n        \
    \                     Figure 5.2.1\n"
- title: 5.2.1.1.  IPv6 Related Infrastructure Changes
  contents:
  - "5.2.1.1.  IPv6 Related Infrastructure Changes\n   In this scenario, the CM and\
    \ the CMTS bridge all data traffic so they\n   will need to support bridging of\
    \ native IPv6 unicast and multicast\n   traffic.  The following devices have to\
    \ be upgraded to dual stack:\n   Host, GWR, and ER.\n"
- title: 5.2.1.2.  Addressing
  contents:
  - "5.2.1.2.  Addressing\n   The proposed architecture for IPv6 deployment includes\
    \ two components\n   that must be provisioned: the CM and the host.  Additionally\
    \ if there\n   is a GWR connected to the CM, it will also need to be provisioned.\n\
    \   The host or the GWR use the ER as their Layer 3 next hop.\n"
- title: 5.2.1.2.1.  IP Addressing for CM
  contents:
  - "5.2.1.2.1.  IP Addressing for CM\n   The CM will be provisioned in the same way\
    \ as in currently deployed\n   cable networks, using an IPv4 address on the cable\
    \ interface\n   connected to the MSO network for management functions.  During\
    \ the\n   initialization phase, it will obtain its IPv4 address using Dynamic\n\
    \   Host Configuration Protocol (DHCPv4), and download a DOCSIS\n   configuration\
    \ file identified by the DHCPv4 server.\n"
- title: 5.2.1.2.2.  IP Addressing for Hosts
  contents:
  - "5.2.1.2.2.  IP Addressing for Hosts\n   If there is no GWR connected to the CM,\
    \ the host behind the CM will\n   get a /64 prefix via stateless auto-configuration\
    \ or DHCPv6.\n   If using stateless auto-configuration, the host listens for routing\n\
    \   advertisements (RAs) from the ER.  The RAs contain the /64 prefix\n   assigned\
    \ to the segment.  Upon receipt of an RA, the host constructs\n   its IPv6 address\
    \ by combining the prefix in the RA (/64) and a unique\n   identifier (e.g., its\
    \ modified EUI-64 (64-bit Extended Unique\n   Identifier) format interface ID).\n\
    \   If DHCPv6 is used to obtain an IPv6 address, it will work in much the\n  \
    \ same way as DHCPv4 works today.  The DHCPv6 messages exchanged\n   between the\
    \ host and the DHCPv6 server are bridged by the CM and the\n   CMTS.\n"
- title: 5.2.1.2.3.  IP Addressing for GWR
  contents:
  - "5.2.1.2.3.  IP Addressing for GWR\n   The GWR can use stateless auto-configuration\
    \ (RA) to obtain an\n   address for its upstream interface, the link between itself\
    \ and the\n   ER.  This step is followed by a request via DHCP-PD (Prefix\n  \
    \ Delegation) for a prefix shorter than /64, typically /48 [RFC3177],\n   which\
    \ in turn is divided into /64s and assigned to its downstream\n   interfaces connecting\
    \ to the hosts.\n"
- title: 5.2.1.3.  Data Forwarding
  contents:
  - "5.2.1.3.  Data Forwarding\n   The CM and CMTS must be able to bridge native IPv6\
    \ unicast and\n   multicast traffic.  The CMTS must provide IP connectivity between\n\
    \   hosts attached to CMs, and must do so in a way that meets the\n   expectation\
    \ of Ethernet-attached customer equipment.  In order to do\n   that, the CM and\
    \ CMTS must forward Neighbor Discovery (ND) packets\n   between ER and the hosts\
    \ attached to the CM.\n   Communication between hosts behind different CMs is\
    \ always forwarded\n   through the CMTS.  IPv6 communication between the different\
    \ sites\n   relies on multicast IPv6 ND [RFC2461] frames being forwarded\n   correctly\
    \ by the CM and the CMTS.\n   In order to support IPv6 multicast applications\
    \ across DOCSIS cable\n   networks, the CM and bridging CMTS need to support IGMPv3/MLDv2\
    \ or v1\n   snooping.  MLD is almost identical to IGMP in IPv4, only the name\
    \ and\n   numbers are changed.  MLDv2 is identical to IGMPv3 and also supports\n\
    \   ASM (Any-Source Multicast) and SSM (Source-Specific Multicast)\n   service\
    \ models.  Implementation work on CM/CMTS should be minimal\n   because the only\
    \ significant difference between IPv4 IGMPv3 and IPv6\n   MLDv2 is the longer\
    \ addresses in the protocol.\n"
- title: 5.2.1.4.  Routing
  contents:
  - "5.2.1.4.  Routing\n   The hosts install a default route that points to the ER\
    \ or the GWR.\n   No routing protocols are needed on these devices, which generally\n\
    \   have limited resources.  If there is a GWR present, it will also use\n   static\
    \ default route to the ER.\n   The ER runs an IGP such as OSPFv3 or IS-IS.  The\
    \ connected prefixes\n   have to be redistributed.  If DHCP-PD is used, with every\
    \ delegated\n   prefix a static route is installed by the ER.  For this reason,\
    \ the\n   static routes must also be redistributed.  Prefix summarization\n  \
    \ should be done at the ER.\n"
- title: 5.2.2.  Deploying IPv6 in a Routed CMTS Network
  contents:
  - "5.2.2.  Deploying IPv6 in a Routed CMTS Network\n   In an IPv4/IPv6 routed CMTS\
    \ network, the CM still acts as a Layer 2\n   device and bridges all data traffic\
    \ between its Ethernet interface\n   and cable interface connected to the cable\
    \ operator network.  The\n   CMTS acts as a Layer 3 router and may also include\
    \ the ER\n   functionality.  The hosts and the GWR use the CMTS as their Layer\
    \ 3\n   next hop.\n   When deploying IPv6, the CMTS/ER will need to either tunnel\
    \ IPv6\n   traffic or natively support IPv6.\n   There are five possible deployment\
    \ scenarios for IPv6 in a routed\n   CMTS network:\n   1.  IPv4 Cable (HFC) Network\n\
    \   In this scenario, the cable network, including the CM and CMTS,\n   remain\
    \ IPv4 devices.  The host and ER are upgraded to dual stack.\n   This is the easiest\
    \ way for a cable operator to provide IPv6 service,\n   as no changes are made\
    \ to the cable network.\n   2.  IPv4 Cable (HFC) Network, GWR at Customer Site\n\
    \   In this case, the cable network, including the CM and CMTS, remain\n   IPv4\
    \ devices.  The host, GWR, and ER are upgraded to dual stack.\n   This scenario\
    \ is also easy to deploy since the cable operator just\n   needs to add GWR at\
    \ the customer site.\n   3.  Dual-stacked Cable (HFC) Network, CM, and CMTS Support\
    \ IPv6\n   In this scenario, the CMTS is upgraded to dual stack to support IPv4\n\
    \   and IPv6.  Since the CMTS supports IPv6, it can act as an ER as well.\n  \
    \ The CM will act as a Layer 2 bridge, but will need to bridge IPv6\n   unicast\
    \ and multicast traffic.  This scenario is not easy to deploy\n   since it requires\
    \ changes to the DOCSIS specification.  The CM and\n   CMTS may require hardware\
    \ and software upgrades to support IPv6.\n   4.  Dual-stacked Cable (HFC) Network,\
    \ Standalone GWR, and CMTS\n   Support IPv6\n   In this scenario there is a stand-alone\
    \ GWR connected to the CM.\n   Since the IPv6 functionality exists on the GWR,\
    \ the CM does not need\n   to be dual stack.  The CMTS is upgraded to dual stack\
    \ and it can\n   incorporate the ER functionality.  This scenario may also require\n\
    \   hardware and software changes on the GWR and CMTS.\n   5.  Dual-stacked Cable\
    \ (HFC) Network, Embedded GWR/CM, and CMTS\n   Support IPv6\n   In this scenario,\
    \ the CM and GWR functionality exists on a single\n   device, which needs to be\
    \ upgraded to dual stack.  The CMTS will also\n   need to be upgraded to a dual-stack\
    \ device.  This scenario is also\n   difficult to deploy in existing cable network\
    \ since it requires\n   changes on the Embedded GWR/CM and the CMTS.\n   The DOCSIS\
    \ specification will also need to be modified to allow\n   native IPv6 support\
    \ on the Embedded GWR/CM.\n"
- title: 5.2.2.1.  IPv4 Cable Network, Host, and ER Upgraded to Dual Stack
  contents:
  - "5.2.2.1.  IPv4 Cable Network, Host, and ER Upgraded to Dual Stack\n   This is\
    \ one of the most cost-effective ways for a cable operator to\n   offer IPv6 services\
    \ to its customers.  Since the cable network\n   remains IPv4, there is relatively\
    \ minimal cost involved in turning up\n   IPv6 service.  All IPv6 traffic is exchanged\
    \ between the hosts and\n   the ER.\n   Figure 5.2.2.1 illustrates this deployment\
    \ scenario.\n                           +-----------+   +------+   +--------+\n\
    \     +-----+  +-------+    |   Cable   |   |      |   |  Edge  |\n     |Host\
    \ |--|  CM   |----|  (HFC)    |---| CMTS |---|        |=>ISP\n     +-----+  +-------+\
    \    |  Network  |   |      |   | Router |Network\n                          \
    \ +-----------+   +------+   +--------+\n             _ _ _ _ _ _ _ _ _ _ _ _\
    \ _ _ _ _ _ _ _ _ _\n           ()_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _()\n\
    \                          IPv6-in-IPv4 tunnel\n     |---------||---------------------------------------||------------|\n\
    \     IPv4/v6                 IPv4 only                    IPv4/v6\n         \
    \                     Figure 5.2.2.1\n"
- title: 5.2.2.1.1.  IPv6 Related Infrastructure Changes
  contents:
  - "5.2.2.1.1.  IPv6 Related Infrastructure Changes\n   In this scenario, the CM\
    \ and the CMTS will only need to support IPv4,\n   so no changes need to be made\
    \ to them or the cable network.  The\n   following devices have to be upgraded\
    \ to dual stack: Host and ER.\n"
- title: 5.2.2.1.2.  Addressing
  contents:
  - "5.2.2.1.2.  Addressing\n   The only device that needs to be assigned an IPv6\
    \ address at the\n   customer site is the host.  Host address assignment can be\
    \ done in\n   multiple ways.  Depending on the tunneling mechanism used, it could\n\
    \   be automatic or might require manual configuration.\n   The host still receives\
    \ an IPv4 address using DHCPv4, which works the\n   same way in currently deployed\
    \ cable networks.  In order to get IPv6\n   connectivity, host devices will also\
    \ need an IPv6 address and a means\n   to communicate with the ER.\n"
- title: 5.2.2.1.3.  Data Forwarding
  contents:
  - "5.2.2.1.3.  Data Forwarding\n   All IPv6 traffic will be sent to/from the ER\
    \ and the host device.  In\n   order to transport IPv6 packets over the cable\
    \ operator IPv4 network,\n   the host and the ER will need to use one of the available\
    \ IPv6 in\n   IPv4 tunneling mechanisms.\n   The host will use its IPv4 address\
    \ to source the tunnel to the ER.\n   All IPv6 traffic will be forwarded to the\
    \ ER, encapsulated in IPv4\n   packets.  The intermediate IPv4 nodes will forward\
    \ this traffic as\n   regular IPv4 packets.  The ER will need to terminate the\
    \ tunnel\n   and/or provide other IPv6 services.\n"
- title: 5.2.2.1.4.  Routing
  contents:
  - "5.2.2.1.4.  Routing\n   Routing configuration on the host will vary depending\
    \ on the\n   tunneling technique used.  In some cases, a default or static route\n\
    \   might be needed to forward traffic to the next hop.\n   The ER runs an IGP\
    \ such as OSPFv3 or ISIS.\n"
- title: 5.2.2.2.  IPv4 Cable Network, Host, GWR and ER Upgraded to Dual Stack
  contents:
  - "5.2.2.2.  IPv4 Cable Network, Host, GWR and ER Upgraded to Dual Stack\n   The\
    \ cable operator can provide IPv6 services to its customers, in\n   this scenario,\
    \ by adding a GWR behind the CM.  Since the GWR will\n   facilitate all IPv6 traffic\
    \ between the host and the ER, the cable\n   network, including the CM and CMTS,\
    \ does not need to support IPv6,\n   and can remain as IPv4 devices.\n   Figure\
    \ 5.2.2.2 illustrates this deployment scenario.\n    +-----+\n    |Host |\n  \
    \  +--+--+\n       |                   +-----------+   +------+   +--------+\n\
    \   +---+---+  +-------+    |   Cable   |   |      |   |  Edge  |\n   |  GWR \
    \ |--|  CM   |----|  (HFC)    |---| CMTS |---|        |=>ISP\n   +-------+  +-------+\
    \    |  Network  |   |      |   | Router |Network\n                          \
    \ +-----------+   +------+   +--------+\n             _ _ _ _ _ _ _ _ _ _ _ _\
    \ _ _ _ _ _ _ _ _ _\n           ()_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _()\n\
    \                          IPv6-in-IPv4 tunnel\n   |---------||--------------------------------------||-------------|\n\
    \     IPv4/v6                 IPv4 only                    IPv4/v6\n         \
    \                     Figure 5.2.2.2\n"
- title: 5.2.2.2.1.  IPv6 Related Infrastructure Changes
  contents:
  - "5.2.2.2.1.  IPv6 Related Infrastructure Changes\n   In this scenario, the CM\
    \ and the CMTS will only need to support IPv4,\n   so no changes need to be made\
    \ to them or the cable network.  The\n   following devices have to be upgraded\
    \ to dual stack: Host, GWR, and\n   ER.\n"
- title: 5.2.2.2.2.  Addressing
  contents:
  - "5.2.2.2.2.  Addressing\n   The only devices that need to be assigned an IPv6\
    \ address at customer\n   site are the host and GWR.  IPv6 address assignment\
    \ can be done\n   statically at the GWR downstream interface.  The GWR will send\
    \ out RA\n   messages on its downstream interface, which will be used by the hosts\n\
    \   to auto-configure themselves with an IPv6 address.  The GWR can also\n   configure\
    \ its upstream interface using RA messages from the ER and\n   use DHCP-PD for\
    \ requesting a /48 [RFC3177] prefix from the ER.  This\n   /48 prefix will be\
    \ used to configure /64s on hosts connected to the\n   GWR downstream interfaces.\
    \  The uplink to the ISP network is\n   configured with a /64 prefix as well.\n\
    \   The GWR still receives a global IPv4 address on its upstream\n   interface\
    \ using DHCPv4, which works the same way in currently\n   deployed cable networks.\
    \  In order to get IPv6 connectivity to the\n   Internet, the GWR will need to\
    \ communicate with the ER.\n"
- title: 5.2.2.2.3.  Data Forwarding
  contents:
  - "5.2.2.2.3.  Data Forwarding\n   All IPv6 traffic will be sent to/from the ER\
    \ and the GWR, which will\n   forward IPv6 traffic to/from the host.  In order\
    \ to transport IPv6\n   packets over the cable operator IPv4 network, the GWR\
    \ and the ER will\n   need to use one of the available IPv6 in IPv4 tunneling\
    \ mechanisms.\n   All IPv6 traffic will need to go through the tunnel, once it\
    \ comes\n   up.\n   The GWR will use its IPv4 address to source the tunnel to\
    \ the ER.\n   The tunnel endpoint will be the IPv4 address of the ER.  All IPv6\n\
    \   traffic will be forwarded to the ER, encapsulated in IPv4 packets.\n   The\
    \ intermediate IPv4 nodes will forward this traffic as regular IPv4\n   packets.\
    \  In case of 6to4 tunneling, the ER will need to support 6to4\n   relay functionality\
    \ in order to provide IPv6 Internet connectivity to\n   the GWR, and hence, the\
    \ hosts connected to the GWR.\n"
- title: 5.2.2.2.4.  Routing
  contents:
  - "5.2.2.2.4.  Routing\n   Depending on the tunneling technique used, additional\
    \ configuration\n   might be needed on the GWR and the ER.  If the ER is also\
    \ providing a\n   6to4 relay service then a default route will need to be added\
    \ to the\n   GWR pointing to the ER, for all non-6to4 traffic.\n   If using manual\
    \ tunneling, the GWR and ER can use static routing or\n   an IGP such as RIPng\
    \ [RFC2080].  The RIPng updates can be transported\n   over a manual tunnel, which\
    \ does not work when using 6to4 tunneling\n   since it does not support multicast.\n\
    \   Customer routes can be carried to the ER using RIPng updates.  The ER\n  \
    \ can advertise these routes in its IGP.  Prefix summarization should\n   be done\
    \ at the ER.\n   If DHCP-PD is used for address assignment, a static route is\n\
    \   automatically installed on the ER for each delegated /48 prefix.  The\n  \
    \ static routes need to be redistributed into the IGP at the ER, so\n   there\
    \ is no need for a routing protocol between the ER and the GWR.\n   The ER runs\
    \ an IGP such as OSPFv3 or ISIS.\n"
- title: 5.2.2.3.  Dual-Stacked Cable (HFC) Network, CM, and CMTS Support IPv6
  contents:
  - "5.2.2.3.  Dual-Stacked Cable (HFC) Network, CM, and CMTS Support IPv6\n   In\
    \ this scenario the cable operator can offer native IPv6 services to\n   its customers\
    \ since the cable network, including the CMTS, supports\n   IPv6.  The ER functionality\
    \ can be included in the CMTS or it can\n   exist on a separate router connected\
    \ to the CMTS upstream interface.\n   The CM will need to bridge IPv6 unicast\
    \ and multicast traffic.\n   Figure 5.2.2.3 illustrates this deployment scenario.\n\
    \                           +-----------+   +-------------+\n     +-----+  +-------+\
    \    |   Cable   |   | CMTS / Edge |\n     |Host |--|  CM   |----|  (HFC)    |---|\
    \             |=>ISP\n     +-----+  +-------+    |  Network  |   |   Router  \
    \  | Network\n                           +-----------+   +-------------+\n   \
    \  |-------||---------------------------||---------------|\n      IPv4/v6    \
    \          IPv4/v6              IPv4/v6\n                             Figure 5.2.2.3\n"
- title: 5.2.2.3.1.  IPv6 Related Infrastructure Changes
  contents:
  - "5.2.2.3.1.  IPv6 Related Infrastructure Changes\n   Since the CM still acts as\
    \ a Layer 2 bridge, it does not need to be\n   dual stack.  The CM will need to\
    \ support bridging of IPv6 unicast and\n   multicast traffic and IGMPv3/MLDv2\
    \ or v1 snooping, which requires\n   changes in the DOCSIS specification.  In\
    \ this scenario, the following\n   devices have to be upgraded to dual stack:\
    \ Host and CMTS/ER.\n"
- title: 5.2.2.3.2.  Addressing
  contents:
  - "5.2.2.3.2.  Addressing\n   In cable networks today, the CM receives a private\
    \ IPv4 address using\n   DHCPv4 for management purposes.  In an IPv6 environment,\
    \ the CM will\n   continue to use an IPv4 address for management purposes.  The\
    \ cable\n   operator can also choose to assign an IPv6 address to the CM for\n\
    \   management, but the CM will have to be upgraded to support this\n   functionality.\n\
    \   IPv6 address assignment for the CM and host can be done via DHCP or\n   stateless\
    \ auto-configuration.  If the CM uses an IPv4 address for\n   management, it will\
    \ use DHCPv4 for its address assignment and the\n   CMTS will need to act as a\
    \ DHCPv4 relay agent.  If the CM uses an\n   IPv6 address for management, it can\
    \ use DHCPv6, with the CMTS acting\n   as a DHCPv6 relay agent, or the CMTS can\
    \ be statically configured\n   with a /64 prefix and it can send out RA messages\
    \ out the cable\n   interface.  The CMs connected to the cable interface can use\
    \ the RA\n   messages to auto-configure themselves with an IPv6 address.  All\
    \ CMs\n   connected to the cable interface will be in the same subnet.\n   The\
    \ hosts can receive their IPv6 address via DHCPv6 or stateless\n   auto-configuration.\
    \  With DHCPv6, the CMTS may need to act as a\n   DHCPv6 relay agent and forward\
    \ DHCP messages between the hosts and\n   the DHCP server.  With stateless auto-configuration,\
    \ the CMTS will be\n   configured with multiple /64 prefixes and send out RA messages\
    \ to the\n   hosts.  If the CMTS is not also acting as an ER, the RA messages\
    \ will\n   come from the ER connected to the CMTS upstream interface.  The CMTS\n\
    \   will need to forward the RA messages downstream or act as an ND\n   proxy.\n"
- title: 5.2.2.3.3.  Data Forwarding
  contents:
  - "5.2.2.3.3.  Data Forwarding\n   All IPv6 traffic will be sent to/from the CMTS\
    \ and hosts.  Data\n   forwarding will work the same way it works in currently\
    \ deployed\n   cable networks.  The CMTS will forward IPv6 traffic to/from hosts\n\
    \   based on the IP source/destination address.\n"
- title: 5.2.2.3.4.  Routing
  contents:
  - "5.2.2.3.4.  Routing\n   No routing protocols are needed between the CMTS and\
    \ the host since\n   the CM and host are directly connected to the CMTS cable\
    \ interface.\n   Since the CMTS supports IPv6, hosts will use the CMTS as their\
    \ Layer\n   3 next hop.\n   If the CMTS is also acting as an ER, it runs an IGP\
    \ such as OSPFv3 or\n   IS-IS.\n"
- title: 5.2.2.4.  Dual-Stacked Cable (HFC) Network, Stand-Alone GWR, and CMTS
  contents:
  - "5.2.2.4.  Dual-Stacked Cable (HFC) Network, Stand-Alone GWR, and CMTS\n     \
    \     Support IPv6\n   In this case, the cable operator can offer IPv6 services\
    \ to its\n   customers by adding a GWR between the CM and the host.  The GWR will\n\
    \   facilitate IPv6 communication between the host and the CMTS/ER.  The\n   CMTS\
    \ will be upgraded to dual stack to support IPv6 and can act as an\n   ER as well.\
    \  The CM will act as a bridge for forwarding data traffic\n   and does not need\
    \ to support IPv6.\n   This scenario is similar to the case described in Section\
    \ 5.2.2.2.\n   The only difference in this case is that the ER functionality exists\n\
    \   on the CMTS instead of on a separate router in the cable operator\n   network.\n\
    \   Figure 5.2.2.4 illustrates this deployment scenario.\n                   \
    \                 +-----------+   +-----------+\n   +------+  +-------+  +-------+\
    \   |   Cable   |   |CMTS / Edge|\n   | Host |--| GWR   |--|  CM   |---|  (HFC)\
    \    |---|           |=>ISP\n   +------+  +-------+  +-------+   |  Network  |\
    \   |   Router  |Network\n                                    +-----------+  \
    \ +-----------+\n                      _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n     \
    \               ()_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _()\n                        \
    \     IPv6-in-IPv4 tunnel\n   |-----------------||-----------------------------||--------------|\n\
    \         IPv4/v6                      IPv4                  IPv4/v6\n       \
    \                        Figure 5.2.2.4\n"
- title: 5.2.2.4.1.  IPv6 Related Infrastructure Changes
  contents:
  - "5.2.2.4.1.  IPv6 Related Infrastructure Changes\n   Since the CM still acts as\
    \ a Layer 2 bridge, it does not need to be\n   dual stack, nor does it need to\
    \ support IPv6.  In this scenario, the\n   following devices have to be upgraded\
    \ to dual stack: Host, GWR, and\n   CMTS/ER.\n"
- title: 5.2.2.4.2.  Addressing
  contents:
  - "5.2.2.4.2.  Addressing\n   The CM will still receive a private IPv4 address using\
    \ DHCPv4, which\n   works the same way in existing cable networks.  The CMTS will\
    \ act as\n   a DHCPv4 relay agent.\n   The address assignment for the host and\
    \ GWR happens in a similar\n   manner as described in Section 5.2.2.2.2.\n"
- title: 5.2.2.4.3.  Data Forwarding
  contents:
  - "5.2.2.4.3.  Data Forwarding\n   Data forwarding between the host and CMTS/ER\
    \ is facilitated by the\n   GWR and happens in a similar manner as described in\
    \ Section\n   5.2.2.2.3.\n"
- title: 5.2.2.4.4.  Routing
  contents:
  - "5.2.2.4.4.  Routing\n   In this case, routing is very similar to the case described\
    \ in\n   Section 5.2.2.2.4.  Since the CMTS now incorporates the ER\n   functionality,\
    \ it will need to run an IGP such as OSPFv3 or IS-IS.\n"
- title: 5.2.2.5.  Dual-Stacked Cable (HFC) Network, Embedded GWR/CM, and CMTS
  contents:
  - "5.2.2.5.  Dual-Stacked Cable (HFC) Network, Embedded GWR/CM, and CMTS\n     \
    \     Support IPv6\n   In this scenario, the cable operator can offer native IPv6\
    \ services\n   to its customers since the cable network, including the CM/Embedded\n\
    \   GWR and CMTS, supports IPv6.  The ER functionality can be included in\n  \
    \ the CMTS or it can exist on a separate router connected to the CMTS\n   upstream\
    \ interface.  The CM/Embedded GWR acts as a Layer 3 device.\n   Figure 5.2.2.5\
    \ illustrates this deployment scenario.\n                              +-----------+\
    \   +-------------+\n    +-----+   +-----------+   |   Cable   |   | CMTS / Edge\
    \ |\n    |Host |---| CM / GWR  |---|  (HFC)    |---|             |=>ISP\n    +-----+\
    \   +-----------+   |  Network  |   |   Router    |Network\n                 \
    \             +-----------+   +-------------+\n    |---------------------------------------------------------|\n\
    \                              IPv4/v6\n                          Figure 5.2.2.5\n"
- title: 5.2.2.5.1.  IPv6 Related Infrastructure Changes
  contents:
  - "5.2.2.5.1.  IPv6 Related Infrastructure Changes\n   Since the CM/GWR acts as\
    \ a Layer 3 device, IPv6 can be deployed end-\n   to-end.  In this scenario, the\
    \ following devices have to be upgraded\n   to dual stack: Host, CM/GWR, and CMTS/ER.\n"
- title: 5.2.2.5.2.  Addressing
  contents:
  - "5.2.2.5.2.  Addressing\n   Since the CM/GWR is dual stack, it can receive an\
    \ IPv4 or IPv6\n   address using DHCP for management purposes.  As the GWR functionality\n\
    \   is embedded in the CM, it will need an IPv6 address for forwarding\n   data\
    \ traffic.  IPv6 address assignment for the CM/GWR and host can be\n   done via\
    \ DHCPv6 or DHCP-PD.\n   If using DHCPv6, the CMTS will need to act as a DHCPv6\
    \ relay agent.\n   The host and CM/GWR will receive IPv6 addresses from pools\
    \ of /64\n   prefixes configured on the DHCPv6 server.  The CMTS will need to\n\
    \   glean pertinent information from the DHCP Offer messages, sent from\n   the\
    \ DHCP server to the DHCP clients (host and CM/GWR), much like it\n   does today\
    \ in DHCPv4.  All CM/GWR connected to the same cable\n   interface on the CMTS\
    \ belong to the same management /64 prefix.  The\n   hosts connected to the same\
    \ cable interface on the CMTS may belong to\n   different /64 customer prefixes,\
    \ as the CMTS may have multiple /64\n   prefixes configured under its cable interfaces.\n\
    \   It is also possible to use DHCP-PD for an IPv6 address assignment.\n   In\
    \ this case, the CM/GWR will use stateless auto-configuration to\n   assign an\
    \ IPv6 address to its upstream interface using the /64 prefix\n   sent by the\
    \ CMTS/ER in an RA message.  Once the CM/GWR assigns an\n   IPv6 address to its\
    \ upstream interface, it will request a /48\n   [RFC3177] prefix from the CMTS/ER\
    \ and chop this /48 prefix into /64s\n   for assigning IPv6 addresses to hosts.\
    \  The uplink to the ISP network\n   is configured with a /64 prefix as well.\n"
- title: 5.2.2.5.3.  Data Forwarding
  contents:
  - "5.2.2.5.3.  Data Forwarding\n   The host will use the CM/GWR as the Layer 3 next\
    \ hop.  The CM/GWR\n   will forward all IPv6 traffic to/from the CMTS/ER and hosts.\
    \  The\n   CMTS/ER will forward IPv6 traffic to/from hosts based on the IP\n \
    \  source/destination address.\n"
- title: 5.2.2.5.4.  Routing
  contents:
  - "5.2.2.5.4.  Routing\n   The CM/GWR can use a static default route pointing to\
    \ the CMTS/ER or\n   it can run a routing protocol such as RIPng or OSPFv3 between\
    \ itself\n   and the CMTS.  Customer routes from behind the CM/GWR can be carried\n\
    \   to the CMTS using routing updates.\n   If DHCP-PD is used for address assignment,\
    \ a static route is\n   automatically installed on the CMTS/ER for each delegated\
    \ /48 prefix.\n   The static routes need to be redistributed into the IGP at the\n\
    \   CMTS/ER so there is no need for a routing protocol between the\n   CMTS/ER\
    \ and the GWR.\n   If the CMTS is also acting as an ER, it runs an IGP such as\
    \ OSPFv3 or\n   IS-IS.\n"
- title: 5.2.3.  IPv6 Multicast
  contents:
  - "5.2.3.  IPv6 Multicast\n   In order to support IPv6 multicast applications across\
    \ DOCSIS cable\n   networks, the CM and bridging CMTS will need to support IGMPv3/MLDv2\n\
    \   or v1 snooping.  MLD is almost identical to IGMP in IPv4, only the\n   name\
    \ and numbers are changed.  MLDv2 is almost identical to IGMPv3\n   and also supports\
    \ ASM (Any-Source Multicast) and SSM (Source-Specific\n   Multicast) service models.\n\
    \   SSM is more suited for deployments where the SP intends to provide\n   paid\
    \ content to the users (video or audio).  These types of services\n   are expected\
    \ to be of primary interest.  Moreover, the simplicity of\n   the SSM model often\
    \ overrides the scalability issues that would be\n   resolved in an ASM model.\
    \  ASM is, however, an option that is\n   discussed in Section 6.3.1.  The Layer\
    \ 3 CM, GWR, and Layer 3 routed\n   CMTS/ER will need to be enabled with PIM-SSM,\
    \ which requires the\n   definition and support for IGMPv3/MLDv1 or v2 snooping,\
    \ in order to\n   track join/leave messages from the hosts.  Another option would\
    \ be\n   for the Layer 3 CM or GWR to support MLD proxy routing.  The Layer 3\n\
    \   next hop for the hosts needs to support MLD.\n   Refer to Section 6.3 for\
    \ more IPv6 multicast details.\n"
- title: 5.2.4.  IPv6 QoS
  contents:
  - "5.2.4.  IPv6 QoS\n   IPv6 will not change or add any queuing/scheduling functionality\n\
    \   already existing in DOCSIS specifications.  But the QoS mechanisms on\n  \
    \ the CMTS and CM would need to be IPv6 capable.  This includes support\n   for\
    \ IPv6 classifiers, so that data traffic to/from host devices can\n   be classified\
    \ appropriately into different service flows and be\n   assigned appropriate priority.\
    \  Appropriate classification criteria\n   would need to be implemented for unicast\
    \ and multicast traffic.\n   Traffic classification and marking should be done\
    \ at the CM for\n   upstream traffic and the CMTS/ER for downstream traffic, in\
    \ order to\n   support the various types of services: data, voice, and video.\
    \  The\n   same IPv4 QoS concepts and methodologies should be applied for IPv6\n\
    \   as well.\n   It is important to note that when traffic is encrypted end-to-end,\n\
    \   the traversed network devices will not have access to many of the\n   packet\
    \ fields used for classification purposes.  In these cases,\n   routers will most\
    \ likely place the packets in the default classes.\n   The QoS design should take\
    \ into consideration this scenario and try\n   to use mainly IP header fields\
    \ for classification purposes.\n"
- title: 5.2.5.  IPv6 Security Considerations
  contents:
  - "5.2.5.  IPv6 Security Considerations\n   Security in a DOCSIS cable network is\
    \ provided using Baseline Privacy\n   Plus (BPI+).  The only part that is dependent\
    \ on IP addresses is\n   encrypted multicast.  Semantically, multicast encryption\
    \ would work\n   the same way in an IPv6 environment as in the IPv4 network. \
    \ However,\n   appropriate enhancements will be needed in the DOCSIS specification\n\
    \   to support encrypted IPv6 multicast.\n   There are limited changes that have\
    \ to be done for hosts in order to\n   enhance security.  The privacy extensions\
    \ [RFC3041] for auto-\n   configuration should be used by the hosts.  IPv6 firewall\
    \ functions\n   could be enabled, if available on the host or GWR.\n   The ISP\
    \ provides security against attacks that come from its own\n   subscribers, but\
    \ it could also implement security services that\n   protect its subscribers from\
    \ attacks sourced from the outside of its\n   network.  Such services do not apply\
    \ at the access level of the\n   network discussed here.\n   The CMTS/ER should\
    \ protect the ISP network and the other subscribers\n   against attacks by one\
    \ of its own customers.  For this reason Unicast\n   Reverse Path Forwarding (uRPF)\
    \ [RFC3704] and Access Control Lists\n   (ACLs) should be used on all interfaces\
    \ facing subscribers.\n   Filtering should be implemented with regard for the\
    \ operational\n   requirements of IPv6 [IPv6-Security].\n   The CMTS/ER should\
    \ protect its processing resources against floods of\n   valid customer control\
    \ traffic such as: Router and Neighbor\n   Solicitations, and MLD Requests.\n\
    \   All other security features used with the IPv4 service should be\n   similarly\
    \ applied to IPv6 as well.\n"
- title: 5.2.6.  IPv6 Network Management
  contents:
  - "5.2.6.  IPv6 Network Management\n   IPv6 can have many applications in cable\
    \ networks.  MSOs can\n   initially implement IPv6 on the control plane and use\
    \ it to manage\n   the thousands of devices connected to the CMTS.  This would\
    \ be a good\n   way to introduce IPv6 in a cable network.  Later, the MSO can\
    \ extend\n   IPv6 to the data plane and use it to carry customer traffic as well\n\
    \   as management traffic.\n"
- title: 5.2.6.1.  Using IPv6 for Management in Cable Networks
  contents:
  - "5.2.6.1.  Using IPv6 for Management in Cable Networks\n   IPv6 can be enabled\
    \ in a cable network for management of devices like\n   CM, CMTS, and ER.  With\
    \ the rollout of advanced services like VoIP\n   and Video-over-IP, MSOs are looking\
    \ for ways to manage the large\n   number of devices connected to the CMTS.  In\
    \ IPv4, an RFC1918 address\n   is assigned to these devices for management purposes.\
    \  Since there is\n   a finite number of RFC1918 addresses available, it is becoming\n\
    \   difficult for MSOs to manage these devices.\n   By using IPv6 for management\
    \ purposes, MSOs can scale their network\n   management systems to meet their\
    \ needs.  The CMTS/ER can be\n   configured with a /64 management prefix that\
    \ is shared among all CMs\n   connected to the CMTS cable interface.  Addressing\
    \ for the CMs can be\n   done via stateless auto-configuration or DHCPv6.  Once\
    \ the CMs\n   receive a /64 prefix, they can configure themselves with an IPv6\n\
    \   address.\n   If there are devices behind the CM that need to be managed by\
    \ the\n   MSO, another /64 prefix can be defined on the CMTS/ER.  These devices\n\
    \   can also use stateless auto-configuration to assign themselves an\n   IPv6\
    \ address.\n   Traffic sourced from or destined to the management prefix should\
    \ not\n   cross the MSO's network boundaries.\n   In this scenario, IPv6 will\
    \ only be used for managing devices on the\n   cable network.  The CM will no\
    \ longer require an IPv4 address for\n   management as described in DOCSIS 3.0\
    \ [DOCSIS3.0-Reqs].\n"
- title: 5.2.6.2.  Updates to MIB Modules/Standards to Support IPv6
  contents:
  - "5.2.6.2.  Updates to MIB Modules/Standards to Support IPv6\n   The current DOCSIS,\
    \ PacketCable, and CableHome MIB modules are\n   already designed to support IPv6\
    \ objects.  In this case, IPv6 will\n   neither add nor change any of the functionality\
    \ of these MIB modules.\n   The Textual Convention used to represent Structure\
    \ of Management\n   Information Version 2 (SMIv2) objects representing IP addresses\
    \ was\n   updated [RFC4001] and a new Textual Convention InetAddressType was\n\
    \   added to identify the type of the IP address used for IP address\n   objects\
    \ in MIB modules.\n   There are some exceptions; the MIB modules that might need\
    \ to add\n   IPv6 support are defined in the DOCSIS 3.0 OSSI specification\n \
    \  [DOCSIS3.0-OSSI].\n"
- title: 6.  Broadband DSL Networks
  contents:
  - "6.  Broadband DSL Networks\n   This section describes the IPv6 deployment options\
    \ in today's high-\n   speed DSL networks.\n"
- title: 6.1.  DSL Network Elements
  contents:
  - "6.1.  DSL Network Elements\n   Digital Subscriber Line (DSL) broadband services\
    \ provide users with\n   IP connectivity over the existing twisted-pair telephone\
    \ lines called\n   the local-loop.  A wide range of bandwidth offerings are available\n\
    \   depending on the quality of the line and the distance between the\n   Customer\
    \ Premise Equipment and the DSL Access Multiplexer (DSLAM).\n   The following\
    \ network elements are typical of a DSL network:\n   DSL Modem: It can be a stand-alone\
    \ device, be incorporated in the\n   host, incorporate router functionalities,\
    \ and also have the\n   capability to act as a CPE router.\n   Customer Premise\
    \ Router (CPR): It is used to provide Layer 3 services\n   for customer premise\
    \ networks.  It is usually used to provide\n   firewalling functions and segment\
    \ broadcast domains for a small\n   business.\n   DSL Access Multiplexer (DSLAM):\
    \ It terminates multiple twisted-pair\n   telephone lines and provides aggregation\
    \ to BRAS.\n   Broadband Remote Access Server (BRAS): It aggregates or terminates\n\
    \   multiple Permanent Virtual Circuits (PVCs) corresponding to the\n   subscriber\
    \ DSL circuits.\n   Edge Router (ER): It provides the Layer 3 interface to the\
    \ ISP\n   network.\n   Figure 6.1 depicts all the network elements mentioned.\n\
    \   Customer Premise | Network Access Provider | Network Service Provider\n  \
    \        CP                     NAP                        NSP\n   +-----+  +------+\
    \                +------+   +--------+\n   |Hosts|--|Router|             +--+\
    \ BRAS +---+ Edge   |      ISP\n   +-----+  +--+---+             |  |      | \
    \  | Router +==> Network\n               |                 |  +------+   +--------+\n\
    \            +--+---+             |\n            | DSL  +-+           |\n    \
    \        |Modem | |           |\n            +------+ |  +-----+  |\n        \
    \             +--+     |  |\n            +------+    |DSLAM+--+\n   +-----+  |\
    \ DSL  | +--+     |\n   |Hosts|--+Modem +-+  +-----+\n   +-----+  +--+---+\n \
    \                                  Figure 6.1\n"
- title: 6.2.  Deploying IPv6 in IPv4 DSL Networks
  contents:
  - "6.2.  Deploying IPv6 in IPv4 DSL Networks\n   There are three main design approaches\
    \ to providing IPv4 connectivity\n   over a DSL infrastructure:\n   1.  Point-to-Point\
    \ Model: Each subscriber connects to the DSLAM over\n       a twisted pair and\
    \ is provided with a unique PVC that links it to\n       the service provider.\
    \  The PVCs can be terminated at the BRAS or\n       at the Edge Router.  This\
    \ type of design is not very scalable if\n       the PVCs are not terminated as\
    \ close as possible to the DSLAM (at\n       the BRAS).  In this case, a large\
    \ number of Layer 2 circuits has\n       to be maintained over a significant portion\
    \ of the network.  The\n       Layer 2 domains can be terminated at the ER in\
    \ three ways:\n       A.  In a common bridge group with a virtual interface that\
    \ routes\n           traffic out.\n       B.  By enabling a Routed Bridged Encapsulation\
    \ feature, all users\n           could be part of the same subnet.  This is the\
    \ most common\n           deployment approach of IPv4 over DSL but it might not\
    \ be the\n           best choice in IPv6 where address availability is not an\n\
    \           issue.\n       C.  By terminating the PVC at Layer 3, each PVC has\
    \ its own\n           prefix.  This is the approach that seems more suitable for\n\
    \           IPv6 and is presented in Section 6.2.1.\n           None of these\
    \ ways requires that the CPE (DSL modem) be\n           upgraded.\n   2.  PPP\
    \ Terminated Aggregation (PTA) Model: PPP sessions are opened\n       between\
    \ each subscriber and the BRAS.  The BRAS terminates the\n       PPP sessions\
    \ and provides Layer 3 connectivity between the\n       subscriber and the ISP.\
    \  This model is presented in Section\n       6.2.2.\n   3.  Layer 2 Tunneling\
    \ Protocol (L2TP) Access Aggregation (LAA) Model:\n       PPP sessions are opened\
    \ between each subscriber and the ISP Edge\n       Router.  The BRAS tunnels the\
    \ subscriber PPP sessions to the ISP\n       by encapsulating them into L2TPv2\
    \ [RFC2661] tunnels.  This model\n       is presented in Section 6.2.3.\n   In\
    \ aggregation models, the BRAS terminates the subscriber PVCs and\n   aggregates\
    \ their connections before providing access to the ISP.\n   In order to maintain\
    \ the deployment concepts and business models\n   proven and used with existing\
    \ revenue generating IPv4 services, the\n   IPv6 deployment will match the IPv4\
    \ one.  This approach is presented\n   in Sections 6.2.1 - 6.2.3 that describe\
    \ current IPv4 over DSL\n   broadband access deployments.  Under certain circumstances\
    \ where new\n   service types or service needs justify it, IPv4 and IPv6 network\n\
    \   logical architectures could be different as described in Section\n   6.2.4.\n"
- title: 6.2.1.  Point-to-Point Model
  contents:
  - "6.2.1.  Point-to-Point Model\n   In this scenario, the Ethernet frames from the\
    \ Host or the Customer\n   Premise Router are bridged over the PVC assigned to\
    \ the subscriber.\n   Figure 6.2.1 describes the protocol architecture of this\
    \ model.\n        Customer Premise               NAP                 NSP\n   |-------------------------|\
    \  |---------------| |------------------|\n   +-----+  +-------+  +-----+  +--------+\
    \        +----------+\n   |Hosts|--+Router +--+ DSL +--+ DSLAM  +--------+   Edge\
    \   |     ISP\n   +-----+  +-------+  |Modem|  +--------+        |  Router  +=>Network\n\
    \                       +-----+                    +----------+\n            \
    \               |----------------------------|\n                             \
    \         ATM\n                                  Figure 6.2.1\n"
- title: 6.2.1.1.  IPv6 Related Infrastructure Changes
  contents:
  - "6.2.1.1.  IPv6 Related Infrastructure Changes\n   In this scenario, the DSL modem\
    \ and the entire NAP is Layer 3\n   unaware, so no changes are needed to support\
    \ IPv6.  The following\n   devices have to be upgraded to dual stack: Host, Customer\
    \ Router (if\n   present), and Edge Router.\n"
- title: 6.2.1.2.  Addressing
  contents:
  - "6.2.1.2.  Addressing\n   The Hosts or the Customer Routers have the Edge Router\
    \ as their Layer\n   3 next hop.\n   If there is no Customer Router, all the hosts\
    \ on the subscriber site\n   belong to the same /64 subnet that is statically\
    \ configured on the\n   Edge Router for that subscriber PVC.  The hosts can use\
    \ stateless\n   auto-configuration or stateful DHCPv6-based configuration to acquire\n\
    \   an address via the Edge Router.\n   However, as manual configuration for each\
    \ customer is a provisioning\n   challenge, implementers are encouraged to develop\
    \ mechanism(s) that\n   automatically map the PVC (or some other customer-specific\n\
    \   information) to an IPv6 subnet prefix, and advertise the customer-\n   specific\
    \ prefix to all the customers with minimal configuration.\n   If a Customer Router\
    \ is present:\n   A.  It is statically configured with an address on the /64 subnet\n\
    \       between itself and the Edge Router, and with /64 prefixes on the\n   \
    \    interfaces connecting the hosts on the customer site.  This is\n       not\
    \ a desired provisioning method being expensive and difficult\n       to manage.\n\
    \   B.  It can use its link-local address to communicate with the ER.  It\n  \
    \     can also dynamically acquire, through stateless auto-\n       configuration,\
    \ the prefix for the link between itself and the ER.\n       The later option\
    \ allows it to contact a remote DHCPv6 server, if\n       needed.  This step is\
    \ followed by a request via DHCP-PD for a\n       prefix shorter than /64 that,\
    \ in turn, is divided in /64s and\n       assigned to its downstream interfaces.\n\
    \   The Edge Router has a /64 prefix configured for each subscriber PVC.\n   Each\
    \ PVC should be enabled to relay DHCPv6 requests from the\n   subscribers to DHCPv6\
    \ servers in the ISP network.  The PVCs providing\n   access for subscribers that\
    \ use DHCP-PD as well, have to be enabled\n   to support the feature.  The uplink\
    \ to the ISP network is configured\n   with a /64 prefix as well.\n   The prefixes\
    \ used for subscriber links and the ones delegated via\n   DHCP-PD should be planned\
    \ in a manner that allows as much\n   summarization as possible at the Edge Router.\n\
    \   Other information of interest to the host, such as DNS, is provided\n   through\
    \ stateful DHCPv6 [RFC3315] and stateless DHCPv6 [RFC3736].\n"
- title: 6.2.1.3.  Routing
  contents:
  - "6.2.1.3.  Routing\n   The CPE devices are configured with a default route that\
    \ points to\n   the Edge Router.  No routing protocols are needed on these devices,\n\
    \   which generally have limited resources.\n   The Edge Router runs the IPv6\
    \ IGP used in the NSP: OSPFv3 or IS-IS.\n   The connected prefixes have to be\
    \ redistributed.  If DHCP-PD is used,\n   with every delegated prefix a static\
    \ route is installed by the Edge\n   Router.  For this reason, the static routes\
    \ must also be\n   redistributed.  Prefix summarization should be done at the\
    \ Edge\n   Router.\n"
- title: 6.2.2.  PPP Terminated Aggregation (PTA) Model
  contents:
  - "6.2.2.  PPP Terminated Aggregation (PTA) Model\n   The PTA architecture relies\
    \ on PPP-based protocols (PPPoA [RFC2364]\n   and PPPoE [RFC2516]).  The PPP sessions\
    \ are initiated by Customer\n   Premise Equipment and are terminated at the BRAS.\
    \  The BRAS\n   authorizes the session, authenticates the subscriber, and provides\
    \ an\n   IP address on behalf of the ISP.  The BRAS then does Layer 3 routing\n\
    \   of the subscriber traffic to the NSP Edge Router.\n   When the NSP is also\
    \ the NAP, the BRAS and NSP Edge Router could be\n   the same piece of equipment\
    \ and provide the above mentioned\n   functionality.\n   There are two types of\
    \ PPP encapsulations that can be leveraged with\n   this model:\n   A. Connection\
    \ using PPPoA\n     Customer Premise               NAP                   NSP\n\
    \   |--------------------| |----------------------| |----------------|\n     \
    \                                              +-----------+\n               \
    \                                    |    AAA    |\n                         \
    \                  +-------+   Radius  |\n                                   \
    \        |       |   TACACS  |\n                                           | \
    \      +-----------+\n   +-----+  +-------+      +--------+ +----+-----+ +-----------+\n\
    \   |Hosts|--+Router +------+ DSLAM  +-+   BRAS   +-+    Edge   |\n   +-----+\
    \  +-------+      +--------+ +----------+ |   Router  +=>Core\n              \
    \  |--------------------------|       +-----------+\n                        \
    \     PPP\n                              Figure 6.2.2.1\n   The PPP sessions are\
    \ initiated by the Customer Premise Equipment.\n   The BRAS authenticates the\
    \ subscriber against a local or a remote\n   database.  Once the session is established,\
    \ the BRAS provides an\n   address and maybe a DNS server to the user; this information\
    \ is\n   acquired from the subscriber profile or from a DHCP server.\n   This\
    \ solution scales better then the Point-to-Point, but since there\n   is only\
    \ one PPP session per ATM PVC, the subscriber can choose a\n   single ISP service\
    \ at a time.\n   B. Connection using PPPoE\n          Customer Premise       \
    \        NAP                 NSP\n   |--------------------------| |-------------------|\
    \ |---------------|\n                                                        \
    \ +-----------+\n                                                         |  \
    \  AAA    |\n                                                 +-------+   Radius\
    \  |\n                                                 |       |   TACACS  |\n\
    \                                                 |       +-----------+\n    \
    \                                             |\n   +-----+  +-------+       \
    \    +--------+ +-----+----+ +-----------+\n   |Hosts|--+Router +-----------+\
    \ DSLAM  +-+   BRAS   +-+    Edge   |  C\n   +-----+  +-------+           +--------+\
    \ +----------+ |   Router  +=>O\n                                            \
    \            |           |  R\n               |--------------------------------|\
    \       +-----------+  E\n                              PPP\n                \
    \                Figure 6.2.2.2\n   The operation of PPPoE is similar to PPPoA\
    \ with the exception that\n   with PPPoE multiple sessions can be supported over\
    \ the same PVC, thus\n   allowing the subscriber to connect to multiple services\
    \ at the same\n   time.  The hosts can initiate the PPPoE sessions as well.  It\
    \ is\n   important to remember that the PPPoE encapsulation reduces the IP MTU\n\
    \   available for the customer traffic due to additional headers.\n   The network\
    \ design and operation of the PTA model is the same,\n   regardless of the PPP\
    \ encapsulation type used.\n"
- title: 6.2.2.1.  IPv6 Related Infrastructure Changes
  contents:
  - "6.2.2.1.  IPv6 Related Infrastructure Changes\n   In this scenario the BRAS is\
    \ Layer 3 aware and it has to be upgraded\n   to support IPv6.  Since the BRAS\
    \ terminates the PPP sessions it has\n   to support the implementation of these\
    \ PPP protocols with IPv6.  The\n   following devices have to be upgraded to dual\
    \ stack: Host, Customer\n   Router (if present), BRAS, and Edge Router.\n"
- title: 6.2.2.2.  Addressing
  contents:
  - "6.2.2.2.  Addressing\n   The BRAS terminates the PPP sessions and provides the\
    \ subscriber with\n   an IPv6 address from the defined pool for that profile.\
    \  The\n   subscriber profile for authorization and authentication can be\n  \
    \ located on the BRAS or on an Authentication, Authorization, and\n   Accounting\
    \ (AAA) server.  The Hosts or the Customer Routers have the\n   BRAS as their\
    \ Layer 3 next hop.\n   The PPP session can be initiated by a host or by a Customer\
    \ Router.\n   In the latter case, once the session is established with the BRAS\
    \ and\n   an address is negotiated for the uplink to the BRAS, DHCP-PD can be\n\
    \   used to acquire prefixes for the Customer Router other interfaces.\n   The\
    \ BRAS has to be enabled to support DHCP-PD and to relay the DHCPv6\n   requests\
    \ of the hosts on the subscriber sites.\n   The BRAS has /64 prefixes configured\
    \ on the link to the Edge router.\n   The Edge Router links are also configured\
    \ with /64 prefixes to\n   provide connectivity to the rest of the ISP network.\n\
    \   The prefixes used for subscribers and the ones delegated via DHCP-PD\n   should\
    \ be planned in a manner that allows maximum summarization at\n   the BRAS.\n\
    \   Other information of interest to the host, such as DNS, is provided\n   through\
    \ stateful [RFC3315] and stateless [RFC3736] DHCPv6.\n"
- title: 6.2.2.3.  Routing
  contents:
  - "6.2.2.3.  Routing\n   The CPE devices are configured with a default route that\
    \ points to\n   the BRAS router.  No routing protocols are needed on these devices,\n\
    \   which generally have limited resources.\n   The BRAS runs an IGP to the Edge\
    \ Router: OSPFv3 or IS-IS.  Since the\n   addresses assigned to the PPP sessions\
    \ are represented as connected\n   host routes, connected prefixes have to be\
    \ redistributed.  If DHCP-PD\n   is used, with every delegated prefix a static\
    \ route is installed by\n   the Edge Router.  For this reason, the static routes\
    \ must also be\n   redistributed.  Prefix summarization should be done at the\
    \ BRAS.\n   The Edge Router is running the IGP used in the ISP network: OSPFv3\
    \ or\n   IS-IS.\n   A separation between the routing domains of the ISP and the\
    \ Access\n   Provider is recommended if they are managed independently.\n   Controlled\
    \ redistribution will be needed between the Access Provider\n   IGP and the ISP\
    \ IGP.\n"
- title: 6.2.3.  L2TPv2 Access Aggregation (LAA) Model
  contents:
  - "6.2.3.  L2TPv2 Access Aggregation (LAA) Model\n   In the LAA model, the BRAS\
    \ forwards the CPE initiated session to the\n   ISP over an L2TPv2 tunnel established\
    \ between the BRAS and the Edge\n   Router.  In this case, the authentication,\
    \ authorization, and\n   subscriber configuration are performed by the ISP itself.\
    \  There are\n   two types of PPP encapsulations that can be leveraged with this\n\
    \   model:\n   A. Connection via PPPoA\n     Customer Premise              NAP\
    \                    NSP\n   |--------------------| |----------------------| |----------------|\n\
    \                                                   +-----------+\n          \
    \                                         |    AAA    |\n                    \
    \                       +-------+   Radius  |\n                              \
    \             |       |   TACACS  |\n                                        \
    \   |       +-----+-----+\n                                           |      \
    \       |\n   +-----+  +-------+      +--------+ +----+-----+ +-----+-----+\n\
    \   |Hosts|--+Router +------+ DSLAM  +-+  BRAS    +-+   Edge    |\n   +-----+\
    \  +-------+      +--------+ +----------+ |  Router   +=>Core\n              \
    \                                     +-----------+\n                |----------------------------------------|\n\
    \                                   PPP\n                                    \
    \        |------------|\n                                                 L2TPv2\n\
    \                           Figure 6.2.3.1\n   B. Connection via PPPoE\n     \
    \    Customer Premise                NAP                   NSP\n   |--------------------------|\
    \ |--------------------| |---------------|\n                                 \
    \                       +-----------+\n                                      \
    \                  |    AAA    |\n                                           \
    \      +------+   Radius  |\n                                                \
    \ |      |   TACACS  |\n                                                 |   \
    \   +-----+-----+\n                                                 |        \
    \    |\n   +-----+  +-------+           +--------+ +----+-----+ +----+------+\n\
    \   |Hosts|--+Router +-----------+ DSLAM  +-+  BRAS    +-+    Edge   |  C\n  \
    \ +-----+  +-------+           +--------+ +----------+ |   Router  +=>O\n    \
    \                                                    |           |  R\n      \
    \                                                  +-----------+  E\n        \
    \       |-----------------------------------------------|\n                  \
    \                     PPP\n                                                |--------------|\n\
    \                                                      L2TPv2\n              \
    \               Figure 6.2.3.2\n   The network design and operation of the PTA\
    \ model is the same,\n   regardless of the PPP encapsulation type used.\n"
- title: 6.2.3.1.  IPv6 Related Infrastructure Changes
  contents:
  - "6.2.3.1.  IPv6 Related Infrastructure Changes\n   In this scenario, the BRAS\
    \ is forwarding the PPP sessions initiated\n   by the subscriber over the L2TPv2\
    \ tunnel established to the L2TP\n   Network Server (LNS), the aggregation point\
    \ in the ISP network.  The\n   L2TPv2 tunnel between the L2TP Access Concentrator\
    \ (LAC) and LNS can\n   run over IPv6 or IPv4.  These capabilities have to be\
    \ supported on\n   the BRAS.  The following devices have to be upgraded to dual\
    \ stack:\n   Host, Customer Router, and Edge Router.  If the tunnel is set up\
    \ over\n   IPv6, then the BRAS must be upgraded to dual stack.\n"
- title: 6.2.3.2.  Addressing
  contents:
  - "6.2.3.2.  Addressing\n   The Edge Router terminates the PPP sessions and provides\
    \ the\n   subscriber with an IPv6 address from the defined pool for that\n   profile.\
    \  The subscriber profile for authorization and authentication\n   can be located\
    \ on the Edge Router or on an AAA server.  The Hosts or\n   the Customer Routers\
    \ have the Edge Router as their Layer 3 next hop.\n   The PPP session can be initiated\
    \ by a host or by a Customer Router.\n   In the latter case, once the session\
    \ is established with the Edge\n   Router, DHCP-PD can be used to acquire prefixes\
    \ for the Customer\n   Router interfaces.  The Edge Router has to be enabled to\
    \ support\n   DHCP-PD and to relay the DHCPv6 requests generated by the hosts\
    \ on\n   the subscriber sites.\n   The BRAS has a /64 prefix configured on the\
    \ link to the Edge Router.\n   The Edge Router links are also configured with\
    \ /64 prefixes to\n   provide connectivity to the rest of the ISP network.  Other\n\
    \   information of interest to the host, such as DNS, is provided through\n  \
    \ stateful [RFC3315] and stateless [RFC3736] DHCPv6.\n   It is important to note\
    \ here a significant difference between this\n   deployment for IPv6 versus IPv4.\
    \  In the case of IPv4, the customer\n   router or CPE can end up on any Edge\
    \ Router (acting as LNS), where\n   the assumption is that there are at least\
    \ two of them for redundancy\n   purposes.  Once authenticated, the customer will\
    \ be given an address\n   from the IP pool of the ER (LNS) it connected to.  This\
    \ allows the\n   ERs (LNSs) to aggregate the addresses handed out to the customers.\n\
    \   In the case of IPv6, an important constraint that likely will be\n   enforced\
    \ is that the customer should keep its own address, regardless\n   of the ER (LNS)\
    \ it connects to.  This could significantly reduce the\n   prefix aggregation\
    \ capabilities of the ER (LNS).  This is different\n   than the current IPv4 deployment\
    \ where addressing is dynamic in\n   nature, and the same user can get different\
    \ addresses depending on\n   the LNS it ends up connecting to.\n   One possible\
    \ solution is to ensure that a given BRAS will always\n   connect to the same\
    \ ER (LNS) unless that LNS is down.  This means\n   that customers from a given\
    \ prefix range will always be connected to\n   the same ER (primary, if up, or\
    \ secondary, if not).  Each ER (LNS)\n   can carry summary statements in their\
    \ routing protocol configuration\n   for the prefixes for which they are the primary\
    \ ER (LNS), as well as\n   for the ones for which they are the secondary.  This\
    \ way the prefixes\n   will be summarized any time they become \"active\" on the\
    \ ER (LNS).\n"
- title: 6.2.3.3.  Routing
  contents:
  - "6.2.3.3.  Routing\n   The CPE devices are configured with a default route that\
    \ points to\n   the Edge Router that terminates the PPP sessions.  No routing\n\
    \   protocols are needed on these devices, which generally have limited\n   resources.\n\
    \   The BRAS runs an IPv6 IGP to the Edge Router: OSPFv3 or IS-IS.\n   Different\
    \ processes should be used if the NAP and the NSP are managed\n   by different\
    \ organizations.  In this case, controlled redistribution\n   should be enabled\
    \ between the two domains.\n   The Edge Router is running the IPv6 IGP used in\
    \ the ISP network:\n   OSPFv3 or IS-IS.\n"
- title: 6.2.4.  Hybrid Model for IPv4 and IPv6 Service
  contents:
  - "6.2.4.  Hybrid Model for IPv4 and IPv6 Service\n   It was recommended throughout\
    \ this section that the IPv6 service\n   implementation should map the existing\
    \ IPv4 one.  This approach\n   simplifies manageability and minimizes training\
    \ needed for personnel\n   operating the network.  In certain circumstances such\
    \ mapping is not\n   feasible.  This typically becomes the case when a Service\
    \ Provider\n   plans to expand its service offering with the new IPv6 deployed\n\
    \   infrastructure.  If this new service is not well supported in a\n   network\
    \ design such as the one used for IPv4, then a different design\n   might be used\
    \ for IPv6.\n   An example of such circumstances is that of a provider using an\
    \ LAA\n   design for its IPv4 services.  In this case all the PPP sessions are\n\
    \   bundled and tunneled across the entire NAP infrastructure which is\n   made\
    \ of multiple BRAS routers, aggregation routers etc.  The end\n   point of these\
    \ tunnels is the ISP Edge Router.  If the provider\n   decides to offer multicast\
    \ services over such a design, it will face\n   the problem of NAP resources being\
    \ over utilized.  The multicast\n   traffic can be replicated only at the end\
    \ of the tunnels by the Edge\n   Router and the copies for all the subscribers\
    \ are carried over the\n   entire NAP.\n   A Modified Point-to-Point (as described\
    \ in Section 6.2.4.2) or PTA\n   model is more suitable to support multicast services\
    \ because the\n   packet replication can be done closer to the destination at\
    \ the BRAS.\n   Such topology saves NAP resources.\n   In this sense, IPv6 deployment\
    \ can be viewed as an opportunity to\n   build an infrastructure that might better\
    \ support the expansion of\n   services.  In this case, an SP using the LAA design\
    \ for its IPv4\n   services might choose a modified Point-to-Point or PTA design\
    \ for\n   IPv6.\n"
- title: 6.2.4.1.  IPv4 in LAA Model and IPv6 in PTA Model
  contents:
  - "6.2.4.1.  IPv4 in LAA Model and IPv6 in PTA Model\n   The coexistence of the\
    \ two PPP-based models, PTA and LAA, is\n   relatively straightforward.  The PPP\
    \ sessions are terminated on\n   different network devices for the IPv4 and IPv6\
    \ services.  The PPP\n   sessions for the existing IPv4 service deployed in an\
    \ LAA model are\n   terminated on the Edge Router.  The PPP sessions for the new\
    \ IPv6\n   service deployed in a PTA model are terminated on the BRAS.\n   The\
    \ logical design for IPv6 and IPv4 in this hybrid model is\n   presented in Figure\
    \ 6.2.4.1.\n   IPv6          |--------------------------|\n                  \
    \          PPP                    +-----------+\n                            \
    \                       |    AAA    |\n                                      \
    \     +-------+   Radius  |\n                                           |    \
    \   |   TACACS  |\n                                           |       +-----+-----+\n\
    \                                           |             |\n   +-----+  +-------+\
    \      +--------+ +----+-----+ +-----+-----+\n   |Hosts|--+Router +------+ DSLAM\
    \  +-+  BRAS    +-+   Edge    |\n   +-----+  +-------+      +--------+ +----------+\
    \ |  Router   +=>Core\n                                                   +-----------+\n\
    \   IPv4          |----------------------------------------|\n               \
    \                    PPP\n                                            |------------|\n\
    \                                                 L2TPv2\n                   \
    \          Figure 6.2.4.1\n"
- title: 6.2.4.2.  IPv4 in LAA Model and IPv6 in Modified Point-to-Point Model
  contents:
  - "6.2.4.2.  IPv4 in LAA Model and IPv6 in Modified Point-to-Point Model\n   In\
    \ this particular scenario the Point-to-Point model used for the\n   IPv6 service\
    \ is a modified version of the model described in section\n   6.2.1.\n   For the\
    \ IPv4 service in the LAA model, the PVCs are terminated on the\n   BRAS and PPP\
    \ sessions are terminated on the Edge Router (LNS).  For\n   IPv6 service in the\
    \ Point-to-Point model, the PVCs are terminated at\n   the Edge Router as described\
    \ in Section 6.2.1.  In this hybrid model,\n   the Point-to-Point link could be\
    \ terminated on the BRAS, a NAP-owned\n   device.  The IPv6 traffic is then routed\
    \ through the NAP network to\n   the NSP.  In order to have this hybrid model,\
    \ the BRAS has to be\n   upgraded to a dual-stack router.  The functionalities\
    \ of the Edge\n   Router, as described in Section 6.2.1, are now implemented on\
    \ the\n   BRAS.\n   The other aspect of this deployment model is the fact that\
    \ the BRAS\n   has to be capable of distinguishing between the IPv4 PPP traffic\
    \ that\n   has to be bridged across the L2TPv2 tunnel and the IPv6 packets that\n\
    \   have to be routed to the NSP.  The IPv6 Routing and Bridging\n   Encapsulation\
    \ (RBE) has to be enabled on all interfaces with PVCs\n   supporting both IPv4\
    \ and IPv6 services in this hybrid design.\n   The logical design for IPv6 and\
    \ IPv4 in this hybrid model is\n   presented in Figure 6.2.4.2.\n   IPv6     \
    \         |----------------|\n                            ATM                \
    \    +-----------+\n                                                   |    AAA\
    \    |\n                                           +-------+   Radius  |\n   \
    \                                        |       |   TACACS  |\n             \
    \                              |       +-----+-----+\n                       \
    \                    |             |\n   +-----+  +-------+      +--------+ +----+-----+\
    \ +-----+-----+\n   |Hosts|--+Router +------+ DSLAM  +-+  BRAS    +-+   Edge \
    \   |\n   +-----+  +-------+      +--------+ +----------+ |  Router   +=>Core\n\
    \                                                   +-----------+\n   IPv4   \
    \       |----------------------------------------|\n                         \
    \          PPP\n                                            |------------|\n \
    \                                                L2TPv2\n                    \
    \         Figure 6.2.4.2\n"
- title: 6.3.  IPv6 Multicast
  contents:
  - "6.3.  IPv6 Multicast\n   The deployment of IPv6 multicast services relies on\
    \ MLD, identical to\n   IGMP in IPv4 and on PIM for routing.  ASM (Any Source\
    \ Multicast) and\n   SSM (Single Source Multicast) service models operate almost\
    \ the same\n   as in IPv4.  Both have the same benefits and disadvantages as in\n\
    \   IPv4.  Nevertheless, the larger address space and the scoped address\n   architecture\
    \ provide major benefits for multicast IPv6.  Through RFC\n   3306, the large\
    \ address space provides the means to assign global\n   multicast group addresses\
    \ to organizations or users that were\n   assigned unicast prefixes.  It is a\
    \ significant improvement with\n   respect to the IPv4 GLOP mechanism [RFC3180].\n\
    \   This facilitates the deployment of multicast services.  The\n   discussion\
    \ of this section applies to all the multicast sections in\n   the document.\n"
- title: 6.3.1.  ASM-Based Deployments
  contents:
  - "6.3.1.  ASM-Based Deployments\n   Any Source Multicast (ASM) is useful for Service\
    \ Providers that\n   intend to support the forwarding of multicast traffic of\
    \ their\n   customers.  It is based on the Protocol Independent Multicast -\n\
    \   Sparse Mode (PIM-SM) protocol and it is more complex to manage\n   because\
    \ of the use of Rendezvous Points (RPs).  With IPv6, static RP\n   and Bootstrap\
    \ Router [BSR] can be used for RP-to-group mapping\n   similar to IPv4.  Additionally,\
    \ the larger IPv6 address space allows\n   for building up of group addresses\
    \ that incorporate the address of\n   the RP.  This RP-to-group mapping mechanism\
    \ is called Embedded RP and\n   is specific to IPv6.\n   In inter-domain deployments,\
    \ Multicast Source Discovery Protocol\n   (MSDP) [RFC3618] is an important element\
    \ of IPv4 PIM-SM deployments.\n   MSDP is meant to be a solution for the exchange\
    \ of source\n   registration information between RPs in different domains.  This\n\
    \   solution was intended to be temporary.  This is one of the reasons\n   why\
    \ it was decided not to implement MSDP in IPv6 [IPv6-Multicast].\n   For multicast\
    \ reachability across domains, Embedded RP can be used.\n   As Embedded RP provides\
    \ roughly the same capabilities as MSDP, but in\n   a slightly different way,\
    \ the best management practices for ASM\n   multicast with embedded RP still remain\
    \ to be developed.\n"
- title: 6.3.2.  SSM-Based Deployments
  contents:
  - "6.3.2.  SSM-Based Deployments\n   Based on PIM-SSM, the Source-Specific Multicast\
    \ deployments do not\n   need an RP or related protocols (such as BSR or MSDP),\
    \ but rely on\n   the listeners to know the source of the multicast traffic they\
    \ plan\n   to receive.  The lack of RP makes SSM not only simpler to operate,\n\
    \   but also robust; it is not impacted by RP failures or inter-domain\n   constraints.\
    \  It also has a higher level of security (no RP to be\n   targeted by attacks).\
    \  For more discussions on the topic of IPv6\n   multicast, see [IPv6-Multicast].\n\
    \   The typical multicast service offered for residential and very small\n   businesses\
    \ is video/audio streaming, where the subscriber joins a\n   multicast group and\
    \ receives the content.  This type of service model\n   is well supported through\
    \ PIM-SSM which is very simple and easy to\n   manage.  PIM-SSM has to be enabled\
    \ throughout the SP network.  MLDv2\n   is required for PIM-SSM support.  Vendors\
    \ can choose to implement\n   features that allow routers to map MLDv1 group joins\
    \ to predefined\n   sources.\n   Subscribers might use a set-top box that is responsible\
    \ for the\n   control piece of the multicast service (does group joins/leaves).\n\
    \   The subscriber hosts can also join desired multicast groups as long\n   as\
    \ they are enabled to support MLDv1 or MLDv2.  If a customer premise\n   router\
    \ is used, then it has to be enabled to support MLDv1 and MLDv2\n   in order to\
    \ process the requests of the hosts.  It has to be enabled\n   to support PIM-SSM\
    \ in order to send PIM joins/leaves up to its Layer\n   3 next hop whether it\
    \ is the BRAS or the Edge Router.  When enabling\n   this functionality on a CPR,\
    \ its limited resources should be taken\n   into consideration.  Another option\
    \ would be for the CPR to support\n   MLD proxy routing.\n   The router that is\
    \ the Layer 3 next hop for the subscriber (BRAS in\n   the PTA model or the Edge\
    \ Router in the LAA and Point-to-Point model)\n   has to be enabled to support\
    \ MLDv1 and MLDv2 in order to process the\n   requests coming from subscribers\
    \ without CPRs.  It has to be enabled\n   for PIM-SSM in order to receive joins/leaves\
    \ from customer routers\n   and send joins/leaves to the next hop towards the\
    \ multicast source\n   (Edge Router or the NSP core).\n   MLD authentication,\
    \ authorization and accounting are usually\n   configured on the Edge Router in\
    \ order to enable the ISP to control\n   the subscriber access of the service\
    \ and do billing for the content\n   provided.  Alternative mechanisms that would\
    \ support these functions\n   should be investigated further.\n"
- title: 6.4.  IPv6 QoS
  contents:
  - "6.4.  IPv6 QoS\n   The QoS configuration is particularly relevant on the router\
    \ that\n   represents the Layer 3 next hop for the subscriber (BRAS in the PTA\n\
    \   model or the Edge Router in the LAA and Point-to-Point model) in\n   order\
    \ to manage resources shared amongst multiple subscribers,\n   possibly with various\
    \ service level agreements.\n   In the DSL infrastructure, it is expected that\
    \ there is already a\n   level of traffic policing and shaping implemented for\
    \ IPv4\n   connectivity.  This is implemented throughout the NAP and is beyond\n\
    \   the scope of this document.\n   On the BRAS or the Edge Router, the subscriber-facing\
    \ interfaces have\n   to be configured to police the inbound customer traffic\
    \ and shape the\n   traffic outbound to the customer based on the service level\n\
    \   agreements (SLAs).  Traffic classification and marking should also be\n  \
    \ done on the router closest (at Layer 3) to the subscriber in order to\n   support\
    \ the various types of customer traffic (data, voice, and\n   video) and to optimally\
    \ use the infrastructure resources.  Each\n   provider (NAP, NSP) could implement\
    \ their own QoS policies and\n   services so that reclassification and marking\
    \ might be performed at\n   the boundary between the NAP and the NSP, in order\
    \ to make sure the\n   traffic is properly handled by the ISP.  The same IPv4\
    \ QoS concepts\n   and methodologies should be applied with IPv6 as well.\n  \
    \ It is important to note that when traffic is encrypted end-to-end,\n   the traversed\
    \ network devices will not have access to many of the\n   packet fields used for\
    \ classification purposes.  In these cases,\n   routers will most likely place\
    \ the packets in the default classes.\n   The QoS design should take into consideration\
    \ this scenario and try\n   to use mainly IP header fields for classification\
    \ purposes.\n"
- title: 6.5.  IPv6 Security Considerations
  contents:
  - "6.5.  IPv6 Security Considerations\n   There are limited changes that have to\
    \ be done for CPEs in order to\n   enhance security.  The privacy extensions for\
    \ auto-configuration\n   [RFC3041] should be used by the hosts.  ISPs can track\
    \ the prefixes\n   it assigns to subscribers relatively easily.  If, however,\
    \ the ISPs\n   are required by regulations to track their users at a /128 address\n\
    \   level, the privacy extensions may be implemented in parallel with\n   network\
    \ management tools that could provide traceability of the\n   hosts.  IPv6 firewall\
    \ functions should be enabled on the hosts or\n   CPR, if present.\n   The ISP\
    \ provides security against attacks that come from its own\n   subscribers but\
    \ it could also implement security services that\n   protect its subscribers from\
    \ attacks sourced from the outside of its\n   network.  Such services do not apply\
    \ at the access level of the\n   network discussed here.\n   The device that is\
    \ the Layer 3 next hop for the subscribers (BRAS or\n   Edge Router) should protect\
    \ the network and the other subscribers\n   against attacks by one of the provider\
    \ customers.  For this reason,\n   uRPF and ACLs should be used on all interfaces\
    \ facing subscribers.\n   Filtering should be implemented with regard for the\
    \ operational\n   requirements of IPv6 [IPv6-Security].\n   The BRAS and the Edge\
    \ Router should protect their processing\n   resources against floods of valid\
    \ customer control traffic such as:\n   Router and Neighbor Solicitations, and\
    \ MLD Requests.  Rate limiting\n   should be implemented on all subscriber-facing\
    \ interfaces.  The\n   emphasis should be placed on multicast-type traffic, as\
    \ it is most\n   often used by the IPv6 control plane.\n   All other security\
    \ features used with the IPv4 service should be\n   similarly applied to IPv6\
    \ as well.\n"
- title: 6.6.  IPv6 Network Management
  contents:
  - "6.6.  IPv6 Network Management\n   The necessary instrumentation (such as MIB\
    \ modules, NetFlow Records,\n   etc.) should be available for IPv6.\n   Usually,\
    \ NSPs manage the edge routers by SNMP.  The SNMP transport\n   can be done over\
    \ IPv4 if all managed devices have connectivity over\n   both IPv4 and IPv6. \
    \ This would imply the smallest changes to the\n   existing network management\
    \ practices and processes.  Transport over\n   IPv6 could also be implemented,\
    \ and it might become necessary if IPv6\n   only islands are present in the network.\
    \  The management applications\n   may be running on hosts belonging to the NSP\
    \ core network domain.\n   Network Management Applications should handle IPv6\
    \ in a similar\n   fashion to IPv4; however, they should also support features\
    \ specific\n   to IPv6 (such as neighbor monitoring).\n   In some cases, service\
    \ providers manage equipment located on\n   customers' LANs.  The management of\
    \ equipment at customers' LANs is\n   out of scope of this memo.\n"
- title: 7.  Broadband Ethernet Networks
  contents:
  - "7.  Broadband Ethernet Networks\n   This section describes the IPv6 deployment\
    \ options in currently\n   deployed Broadband Ethernet Access Networks.\n"
- title: 7.1.  Ethernet Access Network Elements
  contents:
  - "7.1.  Ethernet Access Network Elements\n   In environments that support the infrastructure\
    \ deploying RJ-45 or\n   fiber (Fiber to the Home (FTTH) service) to subscribers,\
    \ 10/100 Mbps\n   Ethernet broadband services can be provided.  Such services\
    \ are\n   generally available in metropolitan areas in multi-tenant buildings\n\
    \   where an Ethernet infrastructure can be deployed in a cost-effective\n   manner.\
    \  In such environments, Metro-Ethernet services can be used to\n   provide aggregation\
    \ and uplink to a Service Provider.\n   The following network elements are typical\
    \ of an Ethernet network:\n   Access Switch: It is used as a Layer 2 access device\
    \ for subscribers.\n   Customer Premise Router: It is used to provide Layer 3\
    \ services for\n   customer premise networks.\n   Aggregation Ethernet Switches:\
    \ Aggregates multiple subscribers.\n   Broadband Remote Access Server (BRAS)\n\
    \   Edge Router (ER)\n   Figure 7.1 depicts all the network elements mentioned.\n\
    \   Customer Premise | Network Access Provider | Network Service Provider\n  \
    \        CP                     NAP                        NSP\n   +-----+  +------+\
    \                +------+  +--------+\n   |Hosts|--|Router|              +-+ BRAS\
    \ +--+ Edge   |       ISP\n   +-----+  +--+---+              | |      |  | Router\
    \ +===> Network\n               |                  | +------+  +--------+\n  \
    \          +--+----+             |\n            |Access +-+           |\n    \
    \        |Switch | |           |\n            +-------+ |  +------+ |\n      \
    \                +--+Agg E | |\n            +-------+    |Switch+-+\n   +-----+\
    \  |Access | +--+      |\n   |Hosts|--+Switch +-+  +------+\n   +-----+  +-------+\n\
    \                                  Figure 7.1\n   The logical topology and design\
    \ of Broadband Ethernet Networks are\n   very similar to DSL Broadband Networks\
    \ discussed in Section 6.\n   It is worth noting that the general operation, concepts\
    \ and\n   recommendations described in this section apply similarly to a\n   HomePNA-based\
    \ network environment.  In such an environment, some of\n   the network elements\
    \ might be differently named.\n"
- title: 7.2.  Deploying IPv6 in IPv4 Broadband Ethernet Networks
  contents:
  - "7.2.  Deploying IPv6 in IPv4 Broadband Ethernet Networks\n   There are three\
    \ main design approaches to providing IPv4 connectivity\n   over an Ethernet infrastructure:\n\
    \   A.  Point-to-Point Model: Each subscriber connects to the network\n      \
    \ Access switch over RJ-45 or fiber links.  Each subscriber is\n       assigned\
    \ a unique VLAN on the access switch.  The VLAN can be\n       terminated at the\
    \ BRAS or at the Edge Router.  The VLANs are\n       802.1Q trunked to the Layer\
    \ 3 device (BRAS or Edge Router).\n       This model is presented in Section 7.2.1.\n\
    \   B.  PPP Terminated Aggregation (PTA) Model: PPP sessions are opened\n    \
    \   between each subscriber and the BRAS.  The BRAS terminates the\n       PPP\
    \ sessions and provides Layer 3 connectivity between the\n       subscriber and\
    \ the ISP.\n       This model is presented in Section 7.2.2.\n   C.  L2TPv2 Access\
    \ Aggregation (LAA) Model: PPP sessions are opened\n       between each subscriber\
    \ and the ISP termination devices.  The\n       BRAS tunnels the subscriber PPP\
    \ sessions to the ISP by\n       encapsulating them into L2TPv2 tunnels.\n   \
    \    This model is presented in Section 7.2.3.\n   In aggregation models the BRAS\
    \ terminates the subscriber VLANs and\n   aggregates their connections before\
    \ providing access to the ISP.\n   In order to maintain the deployment concepts\
    \ and business models\n   proven and used with existing revenue generating IPv4\
    \ services, the\n   IPv6 deployment will match the IPv4 one.  This approach is\
    \ presented\n   in Sections 7.2.1 - 7.2.3 that describe currently deployed IPv4\
    \ over\n   Ethernet broadband access deployments.  Under certain circumstances\n\
    \   where new service types or service needs justify it, IPv4 and IPv6\n   network\
    \ architectures could be different as described in Section\n   7.2.4.\n"
- title: 7.2.1.  Point-to-Point Model
  contents:
  - "7.2.1.  Point-to-Point Model\n   In this scenario, the Ethernet frames from the\
    \ Host or the Customer\n   Premise Router are bridged over the VLAN assigned to\
    \ the subscriber.\n   Figure 7.2.1 describes the protocol architecture of this\
    \ model.\n   |   Customer Premise     |  |       NAP       |        NSP      \
    \   |\n   +-----+  +------+  +------+  +--------+        +----------+\n   |Hosts|--+Router+--+Access+--+\
    \ Switch +--------+   Edge   |    ISP\n   +-----+  +------+  |Switch|  +--------+\
    \ 802.1Q |  Router  +=>Network\n                      +------+               \
    \     +----------+\n                          |----------------------------|\n\
    \                                  Ethernet/VLANs\n                          \
    \       Figure 7.2.1\n"
- title: 7.2.1.1.  IPv6 Related Infrastructure Changes
  contents:
  - "7.2.1.1.  IPv6 Related Infrastructure Changes\n   In this scenario, the Access\
    \ Switch is on the customer site and the\n   entire NAP is Layer 3 unaware, so\
    \ no changes are needed to support\n   IPv6.  The following devices have to be\
    \ upgraded to dual stack: Host,\n   Customer Router, and Edge Router.\n   The\
    \ Access switches might need upgrades to support certain IPv6-\n   related features\
    \ such as MLD Snooping.\n"
- title: 7.2.1.2.  Addressing
  contents:
  - "7.2.1.2.  Addressing\n   The Hosts or the Customer Routers have the Edge Router\
    \ as their Layer\n   3 next hop.  If there is no Customer Router all the hosts\
    \ on the\n   subscriber site belong to the same /64 subnet that is statically\n\
    \   configured on the Edge Router for that subscriber VLAN.  The hosts\n   can\
    \ use stateless auto-configuration or stateful DHCPv6-based\n   configuration\
    \ to acquire an address via the Edge Router.\n   However, as manual configuration\
    \ for each customer is a provisioning\n   challenge, implementations are encouraged\
    \ to develop mechanism(s)\n   that automatically map the VLAN (or some other customer-specific\n\
    \   information) to an IPv6 subnet prefix, and advertise the customer-\n   specific\
    \ prefix to all the customers with minimal configuration.\n   If a Customer Router\
    \ is present:\n   A.  It is statically configured with an address on the /64 subnet\n\
    \       between itself and the Edge Router, and with /64 prefixes on the\n   \
    \    interfaces connecting the hosts on the customer site.  This is\n       not\
    \ a desired provisioning method, being expensive and difficult\n       to manage.\n\
    \   B.  It can use its link-local address to communicate with the ER.  It\n  \
    \     can also dynamically acquire, through stateless auto-\n       configuration,\
    \ the address for the link between itself and the\n       ER.  This step is followed\
    \ by a request via DHCP-PD for a prefix\n       shorter than /64 that in turn\
    \ is divided in /64s and assigned to\n       its interfaces connecting the hosts\
    \ on the customer site.\n   The Edge Router has a /64 prefix configured for each\
    \ subscriber VLAN.\n   Each VLAN should be enabled to relay DHCPv6 requests from\
    \ the\n   subscribers to DHCPv6 servers in the ISP network.  The VLANs\n   providing\
    \ access for subscribers that use DHCP-PD have to be enabled\n   to support the\
    \ feature.  The uplink to the ISP network is configured\n   with a /64 prefix\
    \ as well.\n   The prefixes used for subscriber links and the ones delegated via\n\
    \   DHCP-PD should be planned in a manner that allows as much\n   summarization\
    \ as possible at the Edge Router.\n   Other information of interest to the host,\
    \ such as DNS, is provided\n   through stateful [RFC3315] and stateless [RFC3736]\
    \ DHCPv6.\n"
- title: 7.2.1.3.  Routing
  contents:
  - "7.2.1.3.  Routing\n   The CPE devices are configured with a default route that\
    \ points to\n   the Edge Router.  No routing protocols are needed on these devices,\n\
    \   which generally have limited resources.\n   The Edge Router runs the IPv6\
    \ IGP used in the NSP: OSPFv3 or IS-IS.\n   The connected prefixes have to be\
    \ redistributed.  If DHCP-PD is used,\n   with every delegated prefix a static\
    \ route is installed by the Edge\n   Router.  For this reason, the static routes\
    \ must also be\n   redistributed.  Prefix summarization should be done at the\
    \ Edge\n   Router.\n"
- title: 7.2.2.  PPP Terminated Aggregation (PTA) Model
  contents:
  - "7.2.2.  PPP Terminated Aggregation (PTA) Model\n   The PTA architecture relies\
    \ on PPP-based protocols (PPPoE).  The PPP\n   sessions are initiated by Customer\
    \ Premise Equipment and are\n   terminated at the BRAS.  The BRAS authorizes the\
    \ session,\n   authenticates the subscriber, and provides an IP address on behalf\
    \ of\n   the ISP.  The BRAS then does Layer 3 routing of the subscriber\n   traffic\
    \ to the NSP Edge Router.\n   When the NSP is also the NAP, the BRAS and NSP Edge\
    \ Router could be\n   the same piece of equipment and provide the above mentioned\n\
    \   functionality.\n   The PPPoE logical diagram in an Ethernet Broadband Network\
    \ is shown\n   in Fig 7.2.2.1.\n   |     Customer Premise      | |       NAP \
    \      | |      NSP       |\n                                                \
    \        +-----------+\n                                                     \
    \   |    AAA    |\n                                                +-------+ \
    \  Radius  |\n                                                |       |   TACACS\
    \  |\n                                                |       +-----------+\n\
    \   +-----+ +-------+ +--------+ +--------+ +----+-----+ +-----------+\n   |Hosts|-+Router\
    \ +-+A Switch+-+ Switch +-+   BRAS   +-+    Edge   |  C\n   +-----+ +-------+\
    \ +--------+ +--------+ +----------+ |   Router  +=>O\n        |----------------\
    \  PPP ----------------|        |           |  R\n                           \
    \                             +-----------+  E\n                             \
    \  Figure 7.2.2.1\n   The PPP sessions are initiated by the Customer Premise Equipment\n\
    \   (Host or Router).  The BRAS authenticates the subscriber against a\n   local\
    \ or remote database.  Once the session is established, the BRAS\n   provides\
    \ an address and maybe a DNS server to the user; this\n   information is acquired\
    \ from the subscriber profile or a DHCP server.\n   This model allows for multiple\
    \ PPPoE sessions to be supported over\n   the same VLAN, thus allowing the subscriber\
    \ to connect to multiple\n   services at the same time.  The hosts can initiate\
    \ the PPPoE sessions\n   as well.  It is important to remember that the PPPoE\
    \ encapsulation\n   reduces the IP MTU available for the customer traffic.\n"
- title: 7.2.2.1.  IPv6 Related Infrastructure Changes
  contents:
  - "7.2.2.1.  IPv6 Related Infrastructure Changes\n   In this scenario, the BRAS\
    \ is Layer 3 aware and has to be upgraded to\n   support IPv6.  Since the BRAS\
    \ terminates the PPP sessions, it has to\n   support PPPoE with IPv6.  The following\
    \ devices have to be upgraded\n   to dual stack: Host, Customer Router (if present),\
    \ BRAS and Edge\n   Router.\n"
- title: 7.2.2.2.  Addressing
  contents:
  - "7.2.2.2.  Addressing\n   The BRAS terminates the PPP sessions and provides the\
    \ subscriber with\n   an IPv6 address from the defined pool for that profile.\
    \  The\n   subscriber profile for authorization and authentication can be\n  \
    \ located on the BRAS, or on an AAA server.  The Hosts or the Customer\n   Routers\
    \ have the BRAS as their Layer 3 next hop.\n   The PPP session can be initiated\
    \ by a host or by a Customer Router.\n   In the latter case, once the session\
    \ is established with the BRAS,\n   DHCP-PD can be used to acquire prefixes for\
    \ the Customer Router\n   interfaces.  The BRAS has to be enabled to support DHCP-PD\
    \ and to\n   relay the DHCPv6 requests of the hosts on the subscriber sites.\n\
    \   The BRAS has a /64 prefix configured on the link facing the Edge\n   router.\
    \  The Edge Router links are also configured with /64 prefixes\n   to provide\
    \ connectivity to the rest of the ISP network.\n   The prefixes used for subscribers\
    \ and the ones delegated via DHCP-PD\n   should be planned in a manner that allows\
    \ maximum summarization at\n   the BRAS.\n   Other information of interest to\
    \ the host, such as DNS, is provided\n   through stateful [RFC3315] and stateless\
    \ [RFC3736] DHCPv6.\n"
- title: 7.2.2.3.  Routing
  contents:
  - "7.2.2.3.  Routing\n   The CPE devices are configured with a default route that\
    \ points to\n   the BRAS router.  No routing protocols are needed on these devices,\n\
    \   which generally have limited resources.\n   The BRAS runs an IGP to the Edge\
    \ Router: OSPFv3 or IS-IS.  Since the\n   addresses assigned to the PPP sessions\
    \ are represented as connected\n   host routes, connected prefixes have to be\
    \ redistributed.  If DHCP-PD\n   is used, with every delegated prefix a static\
    \ route is installed by\n   the BRAS.  For this reason, the static routes must\
    \ also be\n   redistributed.  Prefix summarization should be done at the BRAS.\n\
    \   The Edge Router is running the IGP used in the ISP network: OSPFv3 or\n  \
    \ IS-IS.  A separation between the routing domains of the ISP and the\n   Access\
    \ Provider is recommended if they are managed independently.\n   Controlled redistribution\
    \ will be needed between the Access Provider\n   IGP and the ISP IGP.\n"
- title: 7.2.3.  L2TPv2 Access Aggregation (LAA) Model
  contents:
  - "7.2.3.  L2TPv2 Access Aggregation (LAA) Model\n   In the LAA model, the BRAS\
    \ forwards the CPE initiated session to the\n   ISP over an L2TPv2 tunnel established\
    \ between the BRAS and the Edge\n   Router.  In this case, the authentication,\
    \ authorization, and\n   subscriber configuration are performed by the ISP itself.\n\
    \   | Customer Premise   | |         NAP          | |       NSP       |\n    \
    \                                                   +-----------+\n          \
    \                                             |    AAA    |\n                \
    \                                +------+   Radius  |\n                      \
    \                          |      |   TACACS  |\n                            \
    \                    |      +-----+-----+\n                                  \
    \              |            |\n   +-----+ +-------+ +--------+ +--------+ +----+-----+\
    \ +-----------+\n   |Hosts|-+Router +-+A Switch+-+ Switch +-+   BRAS   +-+   \
    \ Edge   |  C\n   +-----+ +-------+ +--------+ +--------+ +----------+ |   Router\
    \  +=>O\n                                                        |           |\
    \  R\n                                                        +-----------+  E\n\
    \               |-----------------------------------------------|\n          \
    \                             PPP\n                                          \
    \      |--------------|\n                                                    \
    \ L2TPv2\n                                Figure 7.2.3.1\n"
- title: 7.2.3.1.  IPv6 Related Infrastructure Changes
  contents:
  - "7.2.3.1.  IPv6 Related Infrastructure Changes\n   In this scenario, the BRAS\
    \ is Layer 3 aware and has to be upgraded to\n   support IPv6.  The PPP sessions\
    \ initiated by the subscriber are\n   forwarded over the L2TPv2 tunnel to the\
    \ aggregation point in the ISP\n   network.  The BRAS (LAC) can aggregate IPv6\
    \ PPP sessions and tunnel\n   them to the LNS using L2TPv2.  The L2TPv2 tunnel\
    \ between the LAC and\n   LNS could run over IPv6 or IPv4.  These capabilities\
    \ have to be\n   supported on the BRAS.  The following devices have to be upgraded\
    \ to\n   dual stack: Host, Customer Router (if present), BRAS and Edge Router.\n"
- title: 7.2.3.2.  Addressing
  contents:
  - "7.2.3.2.  Addressing\n   The Edge Router terminates the PPP sessions and provides\
    \ the\n   subscriber with an IPv6 address from the defined pool for that\n   profile.\
    \  The subscriber profile for authorization and authentication\n   can be located\
    \ on the Edge Router or on an AAA server.  The Hosts or\n   the Customer Routers\
    \ have the Edge Router as their Layer 3 next hop.\n   The PPP session can be initiated\
    \ by a host or by a Customer Router.\n   In the latter case, once the session\
    \ is established with the Edge\n   Router and an IPv6 address is assigned to the\
    \ Customer Router by the\n   Edge Router, DHCP-PD can be used to acquire prefixes\
    \ for the Customer\n   Router other interfaces.  The Edge Router has to be enabled\
    \ to\n   support DHCP-PD and to relay the DHCPv6 requests of the hosts on the\n\
    \   subscriber sites.  The uplink to the ISP network is configured with a\n  \
    \ /64 prefix as well.\n   The BRAS has a /64 prefix configured on the link to\
    \ the Edge Router.\n   The Edge Router links are also configured with /64 prefixes\
    \ to\n   provide connectivity to the rest of the ISP network.\n   Other information\
    \ of interest to the host, such as DNS, is provided\n   through stateful [RFC3315]\
    \ and stateless [RFC3736] DHCPv6.\n   The address assignment and prefix summarization\
    \ issues discussed in\n   Section 6.2.3.2 are relevant in the same way for this\
    \ media access\n   type as well.\n"
- title: 7.2.3.3.  Routing
  contents:
  - "7.2.3.3.  Routing\n   The CPE devices are configured with a default route that\
    \ points to\n   the Edge Router that terminates the PPP sessions.  No routing\n\
    \   protocols are needed on these devices, which have limited resources.\n   The\
    \ BRAS runs an IPv6 IGP to the Edge Router: OSPFv3 or IS-IS.\n   Different processes\
    \ should be used if the NAP and the NSP are managed\n   by different organizations.\
    \  In this case, controlled redistribution\n   should be enabled between the two\
    \ domains.\n   The Edge Router is running the IPv6 IGP used in the ISP network:\n\
    \   OSPFv3 or IS-IS.\n"
- title: 7.2.4.  Hybrid Model for IPv4 and IPv6 Service
  contents:
  - "7.2.4.  Hybrid Model for IPv4 and IPv6 Service\n   It was recommended throughout\
    \ this section that the IPv6 service\n   implementation should map the existing\
    \ IPv4 one.  This approach\n   simplifies manageability and minimizes training\
    \ needed for personnel\n   operating the network.  In certain circumstances, such\
    \ mapping is not\n   feasible.  This typically becomes the case when a Service\
    \ Provider\n   plans to expand its service offering with the new IPv6 deployed\n\
    \   infrastructure.  If this new service is not well supported in a\n   network\
    \ design such as the one used for IPv4, then a different design\n   might be used\
    \ for IPv6.\n   An example of such circumstances is that of a provider using an\
    \ LAA\n   design for its IPv4 services.  In this case, all the PPP sessions are\n\
    \   bundled and tunneled across the entire NAP infrastructure, which is\n   made\
    \ of multiple BRAS routers, aggregation routers, etc.  The end\n   point of these\
    \ tunnels is the ISP Edge Router.  If the SP decides to\n   offer multicast services\
    \ over such a design, it will face the problem\n   of NAP resources being over-utilized.\
    \  The multicast traffic can be\n   replicated only at the end of the tunnels\
    \ by the Edge Router, and the\n   copies for all the subscribers are carried over\
    \ the entire NAP.\n   A Modified Point-to-Point (see Section 7.2.4.2) or a PTA\
    \ model is\n   more suitable to support multicast services because the packet\n\
    \   replication can be done closer to the destination at the BRAS.  Such\n   a\
    \ topology saves NAP resources.\n   In this sense, IPv6 deployments can be viewed\
    \ as an opportunity to\n   build an infrastructure that can better support the\
    \ expansion of\n   services.  In this case, an SP using the LAA design for its\
    \ IPv4\n   services might choose a modified Point-to-Point or PTA design for\n\
    \   IPv6.\n"
- title: 7.2.4.1.  IPv4 in LAA Model and IPv6 in PTA Model
  contents:
  - "7.2.4.1.  IPv4 in LAA Model and IPv6 in PTA Model\n   The coexistence of the\
    \ two PPP-based models, PTA and LAA, is\n   relatively straightforward.  It is\
    \ a straightforward overlap of the\n   two deployment models.  The PPP sessions\
    \ are terminated on different\n   network devices for the IPv4 and IPv6 services.\
    \  The PPP sessions for\n   the existing IPv4 service deployed in an LAA model\
    \ are terminated on\n   the Edge Router.  The PPP sessions for the new IPv6 service\
    \ deployed\n   in a PTA model are terminated on the BRAS.\n   The logical design\
    \ for IPv6 and IPv4 in this hybrid model is\n   presented in Figure 7.2.4.1.\n\
    \   IPv6          |--------------------------|\n                            PPP\
    \                    +-----------+\n                                         \
    \          |    AAA    |\n                                           +-------+\
    \   Radius  |\n                                           |       |   TACACS \
    \ |\n                                           |       +-----+-----+\n      \
    \                                     |             |\n   +-----+  +-------+ \
    \     +--------+ +----+-----+ +-----+-----+\n   |Hosts|--+Router +------+ Switch\
    \ +-+  BRAS    +-+   Edge    |\n   +-----+  +-------+      +--------+ +----------+\
    \ |  Router   +=>Core\n                                                   +-----------+\n\
    \   IPv4          |----------------------------------------|\n               \
    \                    PPP\n                                            |------------|\n\
    \                                                L2TPv2\n                    \
    \        Figure 7.2.4.1\n"
- title: 7.2.4.2.  IPv4 in LAA Model and IPv6 in Modified Point-to-Point Model
  contents:
  - "7.2.4.2.  IPv4 in LAA Model and IPv6 in Modified Point-to-Point Model\n   The\
    \ coexistence of the modified Point-to-Point and the LAA models\n   implies a\
    \ few specific changes.\n   For the IPv4 service in LAA model, the VLANs are terminated\
    \ on the\n   BRAS, and PPP sessions are terminated on the Edge Router (LNS). \
    \ For\n   the IPv6 service in the Point-to-Point model, the VLANs are\n   terminated\
    \ at the Edge Router as described in Section 6.2.1.  In this\n   hybrid model,\
    \ the Point-to-Point link could be terminated on the\n   BRAS, a NAP-owned device.\
    \  The IPv6 traffic is then routed through\n   the NAP network to the NSP.  In\
    \ order to have this hybrid model, the\n   BRAS has to be upgraded to a dual-stack\
    \ router.  The functionalities\n   of the Edge Router, as described in Section\
    \ 6.2.1, are now\n   implemented on the BRAS.\n   The logical design for IPv6\
    \ and IPv4 in this hybrid model is in\n   Figure 7.2.4.2.\n   IPv6           \
    \   |----------------|\n                           Ethernet\n                \
    \                                   +-----------+\n                          \
    \                         |    AAA    |\n                                    \
    \       +-------+   Radius  |\n                                           |  \
    \     |   TACACS  |\n                                           |       +-----+-----+\n\
    \                                           |             |\n   +-----+  +-------+\
    \      +--------+ +----+-----+ +-----+-----+\n   |Hosts|--+Router +------+ Switch\
    \ +-+  BRAS    +-+   Edge    |\n   +-----+  +-------+      +--------+ +----------+\
    \ |  Router   +=>Core\n                                                   +-----------+\n\
    \   IPv4          |----------------------------------------|\n               \
    \                    PPP\n                                             |------------|\n\
    \                                                 L2TPv2\n                   \
    \              Figure 7.2.4.2\n"
- title: 7.3.  IPv6 Multicast
  contents:
  - "7.3.  IPv6 Multicast\n   The typical multicast services offered for residential\
    \ and very small\n   businesses are video/audio streaming where the subscriber\
    \ joins a\n   multicast group and receives the content.  This type of service\
    \ model\n   is well supported through PIM-SSM, which is very simple and easy to\n\
    \   manage.  PIM-SSM has to be enabled throughout the ISP network.  MLDv2\n  \
    \ is required for PIM-SSM support.  Vendors can choose to implement\n   features\
    \ that allow routers to map MLDv1 group joins to predefined\n   sources.\n   Subscribers\
    \ might use a set-top box that is responsible for the\n   control piece of the\
    \ multicast service (does group joins/leaves).\n   The subscriber hosts can also\
    \ join desired multicast groups as long\n   as they are enabled to support MLDv1\
    \ or MLDv2.  If a CPR is used,\n   then it has to be enabled to support MLDv1\
    \ and MLDv2 in order to\n   process the requests of the hosts.  It has to be enabled\
    \ to support\n   PIM-SSM in order to send PIM joins/leaves up to its Layer 3 next\
    \ hop\n   whether it is the BRAS or the Edge Router.  When enabling this\n   functionality\
    \ on a CPR, its limited resources should be taken into\n   consideration.  Another\
    \ option would be for the CPR to support MLD\n   proxy routing.  MLD snooping\
    \ or similar Layer 2 multicast-related\n   protocols could be enabled on the NAP\
    \ switches.\n   The router that is the Layer 3 next hop for the subscriber (BRAS\
    \ in\n   the PTA model or the Edge Router in the LAA and Point-to-Point model)\n\
    \   has to be enabled to support MLDv1 and MLDv2 in order to process the\n   requests\
    \ coming from subscribers without CPRs.  It has to be enabled\n   for PIM-SSM\
    \ in order to receive joins/leaves from customer routers\n   and send joins/leaves\
    \ to the next hop towards the multicast source\n   (Edge Router or the NSP core).\n\
    \   MLD authentication, authorization, and accounting are usually\n   configured\
    \ on the edge router in order to enable the ISP to control\n   the subscriber\
    \ access of the service and do billing for the content\n   provided.  Alternative\
    \ mechanisms that would support these functions\n   should be investigated further.\n\
    \   Please refer to section 6.3 for more IPv6 multicast details.\n"
- title: 7.4.  IPv6 QoS
  contents:
  - "7.4.  IPv6 QoS\n   The QoS configuration is particularly relevant on the router\
    \ that\n   represents the Layer 3 next hop for the subscriber (BRAS in the PTA\n\
    \   model or the Edge Router in the LAA and Point-to-Point model) in\n   order\
    \ to manage resources shared amongst multiple subscribers,\n   possibly with various\
    \ service level agreements.\n   On the BRAS or the Edge Router, the subscriber-facing\
    \ interfaces have\n   to be configured to police the inbound customer traffic\
    \ and shape the\n   traffic outbound to the customer based on the SLAs.  Traffic\n\
    \   classification and marking should also be done on the router closest\n   (at\
    \ Layer 3) to the subscriber in order to support the various types\n   of customer\
    \ traffic: data, voice, video, and to optimally use the\n   network resources.\
    \  This infrastructure offers a very good\n   opportunity to leverage the QoS\
    \ capabilities of Layer 2 devices.\n   Diffserv-based QoS used for IPv4 should\
    \ be expanded to IPv6.\n   Each provider (NAP, NSP) could implement their own\
    \ QoS policies and\n   services so that reclassification and marking might be\
    \ performed at\n   the boundary between the NAP and the NSP, in order to make\
    \ sure the\n   traffic is properly handled by the ISP.  The same IPv4 QoS concepts\n\
    \   and methodologies should be applied for the IPv6 as well.\n   It is important\
    \ to note that when traffic is encrypted end-to-end,\n   the traversed network\
    \ devices will not have access to many of the\n   packet fields used for classification\
    \ purposes.  In these cases,\n   routers will most likely place the packets in\
    \ the default classes.\n   The QoS design should take into consideration this\
    \ scenario and try\n   to use mainly IP header fields for classification purposes.\n"
- title: 7.5.  IPv6 Security Considerations
  contents:
  - "7.5.  IPv6 Security Considerations\n   There are limited changes that have to\
    \ be done for CPEs in order to\n   enhance security.  The privacy extensions [RFC3041]\
    \ for auto-\n   configuration should be used by the hosts with the same\n   considerations\
    \ for host traceability as discussed in Section 6.5.\n   IPv6 firewall functions\
    \ should be enabled on the hosts or Customer\n   Premise Router, if present.\n\
    \   The ISP provides security against attacks that come from its own\n   subscribers,\
    \ but it could also implement security services that\n   protect its subscribers\
    \ from attacks sourced from outside its\n   network.  Such services do not apply\
    \ at the access level of the\n   network discussed here.\n   If any Layer 2 filters\
    \ for Ethertypes are in place, the NAP must\n   permit the IPv6 Ethertype (0X86DD).\n\
    \   The device that is the Layer 3 next hop for the subscribers (BRAS\n   Edge\
    \ Router) should protect the network and the other subscribers\n   against attacks\
    \ by one of the provider customers.  For this reason\n   uRPF and ACLs should\
    \ be used on all interfaces facing subscribers.\n   Filtering should be implemented\
    \ with regard for the operational\n   requirements of IPv6 [IPv6-Security].\n\
    \   The BRAS and the Edge Router should protect their processing\n   resources\
    \ against floods of valid customer control traffic such as:\n   Router and Neighbor\
    \ Solicitations, and MLD Requests.  Rate limiting\n   should be implemented on\
    \ all subscriber-facing interfaces.  The\n   emphasis should be placed on multicast-type\
    \ traffic, as it is most\n   often used by the IPv6 control plane.\n   All other\
    \ security features used with the IPv4 service should be\n   similarly applied\
    \ to IPv6 as well.\n"
- title: 7.6.  IPv6 Network Management
  contents:
  - "7.6.  IPv6 Network Management\n   The necessary instrumentation (such as MIB\
    \ modules, NetFlow Records,\n   etc.) should be available for IPv6.\n   Usually,\
    \ NSPs manage the edge routers by SNMP.  The SNMP transport\n   can be done over\
    \ IPv4 if all managed devices have connectivity over\n   both IPv4 and IPv6. \
    \ This would imply the smallest changes to the\n   existing network management\
    \ practices and processes.  Transport over\n   IPv6 could also be implemented\
    \ and it might become necessary if IPv6\n   only islands are present in the network.\
    \  The management applications\n   may be running on hosts belonging to the NSP\
    \ core network domain.\n   Network Management Applications should handle IPv6\
    \ in a similar\n   fashion to IPv4; however, they should also support features\
    \ specific\n   to IPv6 such as neighbor monitoring.\n   In some cases, service\
    \ providers manage equipment located on\n   customers' LANs.\n"
- title: 8.  Wireless LAN
  contents:
  - "8.  Wireless LAN\n   This section provides a detailed description of IPv6 deployment\
    \ and\n   integration methods in currently deployed wireless LAN (WLAN)\n   infrastructure.\n"
- title: 8.1.  WLAN Deployment Scenarios
  contents:
  - "8.1.  WLAN Deployment Scenarios\n   WLAN enables subscribers to connect to the\
    \ Internet from various\n   locations without the restriction of staying indoors.\
    \  WLAN is\n   standardized by IEEE 802.11a/b/g.\n   Figure 8.1 describes the\
    \ current WLAN architecture.\n       Customer |             Access Provider  \
    \      | Service Provider\n       Premise  |                                 \
    \   |\n     +------+         +--+ +--------------+ +----------+ +------+\n   \
    \  |WLAN  |  ----   |  | |Access Router/| | Provider | |Edge  |\n     |Host/ |-(WLAN)--|AP|-|Layer\
    \ 2 Switch|-| Network  |-|Router|=>SP\n     |Router|  ----   |  | |          \
    \    | |          | |      |Network\n     +------+         +--+ +--------------+\
    \ +----------+ +------+\n                                                    \
    \       |\n                                                        +------+\n\
    \                                                        |AAA   |\n          \
    \                                              |Server|\n                    \
    \                                    +------+\n                              \
    \   Figure 8.1\n   The host should have a wireless Network Interface Card (NIC)\
    \ in order\n   to connect to a WLAN network.  WLAN is a flat broadcast network\
    \ and\n   works in a similar fashion as Ethernet.  When a host initiates a\n \
    \  connection, it is authenticated by the AAA server located at the SP\n   network.\
    \  All the authentication parameters (username, password,\n   etc.) are forwarded\
    \ by the Access Point (AP) to the AAA server.  The\n   AAA server authenticates\
    \ the host; once successfully authenticated,\n   the host can send data packets.\
    \  The AP is located near the host and\n   acts as a bridge.  The AP forwards\
    \ all the packets coming to/from\n   host to the Edge Router.  The underlying\
    \ connection between the AP\n   and Edge Router could be based on any access layer\
    \ technology such as\n   HFC/Cable, FTTH, xDSL, etc.\n   WLANs operate within\
    \ limited areas known as WiFi Hot Spots.  While\n   users are present in the area\
    \ covered by the WLAN range, they can be\n   connected to the Internet given they\
    \ have a wireless NIC and required\n   configuration settings in their devices\
    \ (notebook PCs, PDAs, etc.).\n   Once the user initiates the connection, the\
    \ IP address is assigned by\n   the SP using DHCPv4.  In most of the cases, SP\
    \ assigns a limited\n   number of public IP addresses to its customers.  When\
    \ the user\n   disconnects the connection and moves to a new WiFi hot spot, the\n\
    \   above-mentioned process of authentication, address assignment, and\n   accessing\
    \ the Internet is repeated.\n   There are IPv4 deployments where customers can\
    \ use WLAN routers to\n   connect over wireless to their service provider.  These\
    \ deployment\n   types do not fit in the typical Hot Spot concept, but rather\
    \ they\n   serve fixed customers.  For this reason, this section discusses the\n\
    \   WLAN router options as well.  In this case, the ISP provides a public\n  \
    \ IP address and the WLAN Router assigns private addresses [RFC1918] to\n   all\
    \ WLAN users.  The WLAN Router provides NAT functionality while\n   WLAN users\
    \ access the Internet.\n   While deploying IPv6 in the above-mentioned WLAN architecture,\
    \ there\n   are three possible scenarios as discussed below.\n   A. Layer 2 NAP\
    \ with Layer 3 termination at NSP Edge Router\n   B. Layer 3 aware NAP with Layer\
    \ 3 termination at Access Router\n   C. PPP-Based Model\n"
- title: 8.1.1.  Layer 2 NAP with Layer 3 termination at NSP Edge Router
  contents:
  - "8.1.1.  Layer 2 NAP with Layer 3 termination at NSP Edge Router\n   When a Layer\
    \ 2 switch is present between AP and Edge Router, the AP\n   and Layer 2 switch\
    \ continues to work as a bridge, forwarding IPv4 and\n   IPv6 packets from WLAN\
    \ Host/Router to Edge Router and vice versa.\n   When initiating the connection,\
    \ the WLAN Host is authenticated by the\n   AAA server located at the SP network.\
    \  All the parameters related to\n   authentication (username, password, etc.)\
    \ are forwarded by the AP to\n   the AAA server.  The AAA server authenticates\
    \ the WLAN Hosts, and\n   once the WLAN Host is authenticated and associated successfully\
    \ with\n   the WLAN AP, it acquires an IPv6 address.  Note that the initiation\n\
    \   and authentication process is the same as used in IPv4.\n   Figure 8.1.1 describes\
    \ the WLAN architecture when a Layer 2 Switch is\n   located between AP and Edge\
    \ Router.\n       Customer |             Access Provider        | Service Provider\n\
    \       Premise  |                                    |\n     +------+       \
    \  +--+ +--------------+ +----------+ +------+\n     |WLAN  |  ----   |  | | \
    \             | | Provider | |Edge  |\n     |Host/ |-(WLAN)--|AP|-|Layer 2 Switch|-|\
    \ Network  |-|Router|=>SP\n     |Router|  ----   |  | |              | |     \
    \     | |      |Network\n     +------+         +--+ +--------------+ +----------+\
    \ +------+\n                                                           |\n   \
    \                                                     +------+\n             \
    \                                           |AAA   |\n                       \
    \                                 |Server|\n                                 \
    \                       +------+\n                                 Figure 8.1.1\n"
- title: 8.1.1.1.  IPv6 Related Infrastructure Changes
  contents:
  - "8.1.1.1.  IPv6 Related Infrastructure Changes\n   IPv6 will be deployed in this\
    \ scenario by upgrading the following\n   devices to dual stack: WLAN Host, WLAN\
    \ Router (if present), and Edge\n   Router.\n"
- title: 8.1.1.2.  Addressing
  contents:
  - "8.1.1.2.  Addressing\n   When a customer WLAN Router is not present, the WLAN\
    \ Host has two\n   possible options to get an IPv6 address via the Edge Router.\n\
    \   A.  The WLAN Host can get the IPv6 address from an Edge Router using\n   \
    \    stateless auto-configuration [RFC2462].  All hosts on the WLAN\n       belong\
    \ to the same /64 subnet that is statically configured on\n       the Edge Router.\
    \  The IPv6 WLAN Host may use stateless DHCPv6 for\n       obtaining other information\
    \ of interest such as DNS, etc.\n   B.  The IPv6 WLAN Host can use DHCPv6 [RFC3315]\
    \ to get an IPv6\n       address from the DHCPv6 server.  In this case, the DHCPv6\
    \ server\n       would be located in the SP core network, and the Edge Router\n\
    \       would simply act as a DHCP Relay Agent.  This option is similar\n    \
    \   to what is done today in case of DHCPv4.  It is important to note\n      \
    \ that host implementation of stateful auto-configuration is rather\n       limited\
    \ at this time, and this should be considered if choosing\n       this address\
    \ assignment option.\n   When a customer WLAN Router is present, the WLAN Host\
    \ has two\n   possible options as well for acquiring IPv6 address.\n   A.  The\
    \ WLAN Router may be assigned a prefix between /48 and /64\n       [RFC3177] depending\
    \ on the SP policy and customer requirements.\n       If the WLAN Router has multiple\
    \ networks connected to its\n       interfaces, the network administrator will\
    \ have to configure the\n       /64 prefixes to the WLAN Router interfaces connecting\
    \ the WLAN\n       Hosts on the customer site.  The WLAN Hosts connected to these\n\
    \       interfaces can automatically configure themselves using stateless\n  \
    \     auto-configuration.\n   B.  The WLAN Router can use its link-local address\
    \ to communicate\n       with the ER.  It can also dynamically acquire through\
    \ stateless\n       auto-configuration the address for the link between itself\
    \ and\n       the ER.  This step is followed by a request via DHCP-PD for a\n\
    \       prefix shorter than /64 that, in turn, is divided in /64s and\n      \
    \ assigned to its interfaces connecting the hosts on the customer\n       site.\n\
    \   In this option, the WLAN Router would act as a requesting router and\n   the\
    \ Edge Router would act as a delegating router.  Once the prefix is\n   received\
    \ by the WLAN Router, it assigns /64 prefixes to each of its\n   interfaces connecting\
    \ the WLAN Hosts on the customer site.  The WLAN\n   Hosts connected to these\
    \ interfaces can automatically configure\n   themselves using stateless auto-configuration.\
    \  The uplink to the ISP\n   network is configured with a /64 prefix as well.\n\
    \   Usually it is easier for the SPs to stay with the DHCP-PD and\n   stateless\
    \ auto-configuration model and point the clients to a central\n   server for DNS/domain\
    \ information, proxy configurations, etc.  Using\n   this model, the SP could\
    \ change prefixes on the fly, and the WLAN\n   Router would simply pull the newest\
    \ prefix based on the valid/\n   preferred lifetime.\n   The prefixes used for\
    \ subscriber links and the ones delegated via\n   DHCP-PD should be planned in\
    \ a manner that allows maximum\n   summarization at the Edge Router.\n   Other\
    \ information of interest to the host, such as DNS, is provided\n   through stateful\
    \ [RFC3315] and stateless [RFC3736] DHCPv6.\n"
- title: 8.1.1.3.  Routing
  contents:
  - "8.1.1.3.  Routing\n   The WLAN Host/Router is configured with a default route\
    \ that points\n   to the Edge Router.  No routing protocols are needed on these\n\
    \   devices, which generally have limited resources.\n   The Edge Router runs\
    \ the IGP used in the SP network such as OSPFv3 or\n   IS-IS for IPv6.  The connected\
    \ prefixes have to be redistributed.\n   Prefix summarization should be done at\
    \ the Edge Router.  When DHCP-PD\n   is used, the IGP has to redistribute the\
    \ static routes installed\n   during the process of prefix delegation.\n"
- title: 8.1.2.  Layer 3 Aware NAP with Layer 3 Termination at Access Router
  contents:
  - "8.1.2.  Layer 3 Aware NAP with Layer 3 Termination at Access Router\n   When\
    \ an Access Router is present between the AP and Edge Router, the\n   AP continues\
    \ to work as a bridge, bridging IPv4 and IPv6 packets from\n   WLAN Host/Router\
    \ to Access Router and vice versa.  The Access Router\n   could be part of the\
    \ SP network or owned by a separate Access\n   Provider.\n   When the WLAN Host\
    \ initiates the connection, the AAA authentication\n   and association process\
    \ with WLAN AP will be similar, as explained in\n   Section 8.1.1.\n   Figure\
    \ 8.1.2 describes the WLAN architecture when the Access Router\n   is located\
    \ between the AP and Edge Router.\n       Customer |             Access Provider\
    \        | Service Provider\n       Premise  |                               \
    \     |\n     +------+         +--+ +--------------+ +----------+ +------+\n \
    \    |WLAN  |  ----   |  | |              | | Provider | |Edge  |\n     |Host/\
    \ |-(WLAN)--|AP|-|Access Router |-| Network  |-|Router|=>SP\n     |Router|  ----\
    \   |  | |              | |          | |      |Network\n     +------+        \
    \ +--+ +--------------+ +----------+ +------+\n                              \
    \                             |\n                                            \
    \            +------+\n                                                      \
    \  |AAA   |\n                                                        |Server|\n\
    \                                                        +------+\n          \
    \                        Figure 8.1.2\n"
- title: 8.1.2.1.  IPv6 Related Infrastructure Changes
  contents:
  - "8.1.2.1.  IPv6 Related Infrastructure Changes\n   IPv6 is deployed in this scenario\
    \ by upgrading the following devices\n   to dual stack: WLAN Host, WLAN Router\
    \ (if present), Access Router,\n   and Edge Router.\n"
- title: 8.1.2.2.  Addressing
  contents:
  - "8.1.2.2.  Addressing\n   There are three possible options in this scenario for\
    \ IPv6 address\n   assignment:\n   A.  The Edge Router interface facing towards\
    \ the Access Router is\n       statically configured with a /64 prefix.  The Access\
    \ Router\n       receives/ configures a /64 prefix on its interface facing towards\n\
    \       the Edge Router through stateless auto-configuration.  The\n       network\
    \ administrator will have to configure the /64 prefixes to\n       the Access\
    \ Router interface facing toward the customer premise.\n       The WLAN Host/Router\
    \ connected to this interface can\n       automatically configure itself using\
    \ stateless auto-\n       configuration.\n   B.  This option uses DHCPv6 [RFC3315]\
    \ for IPv6 prefix assignments to\n       the WLAN Host/Router.  There is no use\
    \ of DHCP PD or stateless\n       auto-configuration in this option.  The DHCPv6\
    \ server can be\n       located on the Access Router, the Edge Router, or somewhere\
    \ in\n       the SP network.  In this case, depending on where the DHCPv6\n  \
    \     server is located, the Access Router or the Edge Router would\n       relay\
    \ the DHCPv6 requests.\n   C.  It can use its link-local address to communicate\
    \ with the ER.  It\n       can also dynamically acquire through stateless auto-configuration\n\
    \       the address for the link between itself and the ER.  This step is\n  \
    \     followed by a request via DHCP-PD for a prefix shorter than /64\n      \
    \ that, in turn, is divided in /64s and assigned to its interfaces\n       connecting\
    \ the hosts on the customer site.\n       In this option, the Access Router would\
    \ act as a requesting\n       router, and the Edge Router would act as a delegating\
    \ router.\n       Once the prefix is received by the Access Router, it assigns\
    \ /64\n       prefixes to each of its interfaces connecting the WLAN Host/\n \
    \      Router on the customer site.  The WLAN Host/Router connected to\n     \
    \  these interfaces can automatically configure itself using\n       stateless\
    \ auto-configuration.  The uplink to the ISP network is\n       configured with\
    \ a /64 prefix as well.\n   It is easier for the SPs to stay with the DHCP PD\
    \ and stateless auto-\n   configuration model and point the clients to a central\
    \ server for\n   DNS/domain information, proxy configurations, and others.  Using\
    \ this\n   model, the provider could change prefixes on the fly, and the Access\n\
    \   Router would simply pull the newest prefix based on the valid/\n   preferred\
    \ lifetime.\n   As mentioned before, the prefixes used for subscriber links and\
    \ the\n   ones delegated via DHCP-PD should be planned in a manner that allows\n\
    \   the maximum summarization possible at the Edge Router.  Other\n   information\
    \ of interest to the host, such as DNS, is provided through\n   stateful [RFC3315]\
    \ and stateless [RFC3736] DHCPv6.\n"
- title: 8.1.2.3.  Routing
  contents:
  - "8.1.2.3.  Routing\n   The WLAN Host/Router is configured with a default route\
    \ that points\n   to the Access Router.  No routing protocols are needed on these\n\
    \   devices, which generally have limited resources.\n   If the Access Router\
    \ is owned by an Access Provider, then the Access\n   Router can have a default\
    \ route, pointing towards the SP Edge Router.\n   The Edge Router runs the IGP\
    \ used in the SP network such as OSPFv3 or\n   IS-IS for IPv6.  The connected\
    \ prefixes have to be redistributed.  If\n   DHCP-PD is used, with every delegated\
    \ prefix a static route is\n   installed by the Edge Router.  For this reason\
    \ the static routes must\n   be redistributed.  Prefix summarization should be\
    \ done at the Edge\n   Router.\n   If the Access Router is owned by the SP, then\
    \ the Access Router will\n   also run IPv6 IGP, and will be part of the SP IPv6\
    \ routing domain\n   (OSPFv3 or IS-IS).  The connected prefixes have to be redistributed.\n\
    \   If DHCP-PD is used, with every delegated prefix a static route is\n   installed\
    \ by the Access Router.  For this reason, the static routes\n   must be redistributed.\
    \  Prefix summarization should be done at the\n   Access Router.\n"
- title: 8.1.3.  PPP-Based Model
  contents:
  - "8.1.3.  PPP-Based Model\n   PPP Terminated Aggregation (PTA) and L2TPv2 Access\
    \ Aggregation (LAA)\n   models, as discussed in Sections 6.2.2 and 6.2.3, respectively,\
    \ can\n   also be deployed in IPv6 WLAN environment.\n"
- title: 8.1.3.1.  PTA Model in IPv6 WLAN Environment
  contents:
  - "8.1.3.1.  PTA Model in IPv6 WLAN Environment\n   While deploying the PTA model\
    \ in IPv6 WLAN environment, the Access\n   Router is Layer 3 aware and it has\
    \ to be upgraded to support IPv6.\n   Since the Access Router terminates the PPP\
    \ sessions initiated by the\n   WLAN Host/Router, it has to support PPPoE with\
    \ IPv6.\n   Figure 8.1.3.1 describes the PTA Model in IPv6 WLAN environment.\n\
    \       Customer |             Access Provider        | Service Provider\n   \
    \    Premise  |                                    |\n     +------+         +--+\
    \ +--------------+ +----------+ +------+\n     |WLAN  |  ----   |  | |       \
    \       | | Provider | |Edge  |\n     |Host/ |-(WLAN)--|AP|-|Access Router |-|\
    \ Network  |-|Router|=>SP\n     |Router|  ----   |  | |              | |     \
    \     | |      |Network\n     +------+         +--+ +--------------+ +----------+\
    \ +------+\n                                                           |\n   \
    \    |---------------------------|                    +------+\n             \
    \      PPP                                  |AAA   |\n                       \
    \                                 |Server|\n                                 \
    \                       +------+\n                                Figure 8.1.3.1\n"
- title: 8.1.3.1.1.  IPv6 Related Infrastructure Changes
  contents:
  - "8.1.3.1.1.  IPv6 Related Infrastructure Changes\n   IPv6 is deployed in this\
    \ scenario by upgrading the following devices\n   to dual stack: WLAN Host, WLAN\
    \ Router (if present), Access Router,\n   and Edge Router.\n"
- title: 8.1.3.1.2.  Addressing
  contents:
  - "8.1.3.1.2.  Addressing\n   The addressing techniques described in Section 6.2.2.2\
    \ apply to the\n   IPv6 WLAN PTA scenario as well.\n"
- title: 8.1.3.1.3.  Routing
  contents:
  - "8.1.3.1.3.  Routing\n   The routing techniques described in Section 6.2.2.3 apply\
    \ to the IPv6\n   WLAN PTA scenario as well.\n"
- title: 8.1.3.2.  LAA Model in IPv6 WLAN Environment
  contents:
  - "8.1.3.2.  LAA Model in IPv6 WLAN Environment\n   While deploying the LAA model\
    \ in IPv6 WLAN environment, the Access\n   Router is Layer 3 aware and has to\
    \ be upgraded to support IPv6.  The\n   PPP sessions initiated by the WLAN Host/Router\
    \ are forwarded over the\n   L2TPv2 tunnel to the aggregation point in the SP\
    \ network.  The Access\n   Router must have the capability to support L2TPv2 for\
    \ IPv6.\n   Figure 8.1.3.2 describes the LAA Model in IPv6 WLAN environment.\n\
    \       Customer |             Access Provider        | Service Provider\n   \
    \    Premise  |                                    |\n     +------+         +--+\
    \ +--------------+ +----------+ +------+\n     |WLAN  |  ----   |  | |       \
    \       | | Provider | |Edge  |\n     |Host/ |-(WLAN)--|AP|-|Access Router |-|\
    \ Network  |-|Router|=>SP\n     |Router|  ----   |  | |              | |     \
    \     | |      |Network\n     +------+         +--+ +--------------+ +----------+\
    \ +------+\n                                                           |\n   \
    \    |-------------------------------------------------- |\n                 \
    \              PPP                         |\n                               \
    \     |--------------------- |\n                                             \
    \  L2TPv2      |\n                                                        +------+\n\
    \                                                        |AAA   |\n          \
    \                                              |Server|\n                    \
    \                                    +------+\n                              \
    \  Figure 8.1.3.2\n"
- title: 8.1.3.2.1.  IPv6 Related Infrastructure Changes
  contents:
  - "8.1.3.2.1.  IPv6 Related Infrastructure Changes\n   IPv6 is deployed in this\
    \ scenario by upgrading the following devices\n   to dual stack: WLAN Host, WLAN\
    \ Router (if present), Access Router,\n   and Edge Router.\n"
- title: 8.1.3.2.2.  Addressing
  contents:
  - "8.1.3.2.2.  Addressing\n   The addressing techniques described in Section 6.2.3.2\
    \ apply to the\n   IPv6 WLAN LAA scenario as well.\n"
- title: 8.1.3.2.3.  Routing
  contents:
  - "8.1.3.2.3.  Routing\n   The routing techniques described in Section 6.2.3.3 apply\
    \ to the IPv6\n   WLAN LAA scenario as well.\n"
- title: 8.2.  IPv6 Multicast
  contents:
  - "8.2.  IPv6 Multicast\n   The typical multicast services offered are video/audio\
    \ streaming\n   where the IPv6 WLAN Host joins a multicast group and receives\
    \ the\n   content.  This type of service model is well supported through PIM-\n\
    \   SSM, which is enabled throughout the SP network.  MLDv2 is required\n   for\
    \ PIM-SSM support.  Vendors can choose to implement features that\n   allow routers\
    \ to map MLDv1 group joins to predefined sources.\n   It is important to note\
    \ that in the shared wireless environments,\n   multicast can have a significant\
    \ bandwidth impact.  For this reason,\n   the bandwidth allocated to multicast\
    \ traffic should be limited and\n   fixed, based on the overall capacity of the\
    \ wireless specification\n   used in 802.11a, 802.11b, or 802.11g.\n   The IPv6\
    \ WLAN Hosts can also join desired multicast groups as long as\n   they are enabled\
    \ to support MLDv1 or MLDv2.  If WLAN/Access Routers\n   are used, then they have\
    \ to be enabled to support MLDv1 and MLDv2 in\n   order to process the requests\
    \ of the IPv6 WLAN Hosts.  The WLAN/\n   Access Router also needs to be enabled\
    \ to support PIM-SSM in order to\n   send PIM joins up to the Edge Router.  When\
    \ enabling this\n   functionality on a WLAN/Access Router, its limited resources\
    \ should\n   be taken into consideration.  Another option would be for the WLAN/\n\
    \   Access Router to support MLD proxy routing.\n   The Edge Router has to be\
    \ enabled to support MLDv1 and MLDv2 in order\n   to process the requests coming\
    \ from the IPv6 WLAN Host or WLAN/Access\n   Router (if present).  The Edge Router\
    \ has also needs to be enabled\n   for PIM-SSM in order to receive joins from\
    \ IPv6 WLAN Hosts or WLAN/\n   Access Router (if present), and send joins towards\
    \ the SP core.\n   MLD authentication, authorization, and accounting are usually\n\
    \   configured on the Edge Router in order to enable the SP to do billing\n  \
    \ for the content services provided.  Further investigation should be\n   made\
    \ in finding alternative mechanisms that would support these\n   functions.\n\
    \   Concerns have been raised in the past related to running IPv6\n   multicast\
    \ over WLAN links.  Potentially these are the same kind of\n   issues when running\
    \ any Layer 3 protocol over a WLAN link that has a\n   high loss-to-signal ratio,\
    \ where certain frames that are multicast\n   based are dropped when settings\
    \ are not adjusted properly.  For\n   instance, this behavior is similar to an\
    \ IGMP host membership report,\n   when done on a WLAN link with a high loss-to-signal\
    \ ratio and high\n   interference.\n   This problem is inherited by WLAN that\
    \ can impact both IPv4 and IPv6\n   multicast packets; it is not specific to IPv6\
    \ multicast.\n   While deploying WLAN (IPv4 or IPv6), one should adjust their\n\
    \   broadcast/multicast settings if they are in danger of dropping\n   application\
    \ dependent frames.  These problems are usually caused when\n   the AP is placed\
    \ too far (not following the distance limitations),\n   high interference, etc.\
    \  These issues may impact a real multicast\n   application such as streaming\
    \ video or basic operation of IPv6 if the\n   frames were dropped.  Basic IPv6\
    \ communications uses functions such\n   as Duplicate Address Detection (DAD),\
    \ Router and Neighbor\n   Solicitations (RS, NS), Router and Neighbor Advertisement\
    \ (RA, NA),\n   etc., which could be impacted by the above mentioned issues as\
    \ these\n   frames are Layer 2 Ethernet multicast frames.\n   Please refer to\
    \ Section 6.3 for more IPv6 multicast details.\n"
- title: 8.3.  IPv6 QoS
  contents:
  - "8.3.  IPv6 QoS\n   Today, QoS is done outside of the WiFi domain, but it is nevertheless\n\
    \   important to the overall deployment.\n   The QoS configuration is particularly\
    \ relevant on the Edge Router in\n   order to manage resources shared amongst\
    \ multiple subscribers\n   possibly with various service level agreements (SLAs).\
    \  However, the\n   WLAN Host/Router and Access Router could also be configured\
    \ for QoS.\n   This includes support for appropriate classification criteria,\
    \ which\n   would need to be implemented for IPv6 unicast and multicast traffic.\n\
    \   On the Edge Router, the subscriber-facing interfaces have to be\n   configured\
    \ to police the inbound customer traffic and shape the\n   traffic outbound to\
    \ the customer, based on the SLA.  Traffic\n   classification and marking should\
    \ also be done on the Edge Router in\n   order to support the various types of\
    \ customer traffic: data, voice,\n   and video.  The same IPv4 QoS concepts and\
    \ methodologies should be\n   applied for the IPv6 as well.\n   It is important\
    \ to note that when traffic is encrypted end-to-end,\n   the traversed network\
    \ devices will not have access to many of the\n   packet fields used for classification\
    \ purposes.  In these cases,\n   routers will most likely place the packets in\
    \ the default classes.\n   The QoS design should take into consideration this\
    \ scenario and try\n   to use mainly IP header fields for classification purposes.\n"
- title: 8.4.  IPv6 Security Considerations
  contents:
  - "8.4.  IPv6 Security Considerations\n   There are limited changes that have to\
    \ be done for WLAN the Host/\n   Router in order to enhance security.  The privacy\
    \ extensions\n   [RFC3041] for auto-configuration should be used by the hosts\
    \ with the\n   same consideration for host traceability as described in Section\
    \ 6.5.\n   IPv6 firewall functions should be enabled on the WLAN Host/Router,\
    \ if\n   present.\n   The ISP provides security against attacks that come from\
    \ its own\n   subscribers, but it could also implement security services that\n\
    \   protect its subscribers from attacks sourced from outside its\n   network.\
    \  Such services do not apply at the access level of the\n   network discussed\
    \ here.\n   If the host authentication at hotspots is done using a web-based\n\
    \   authentication system, then the level of security would depend on the\n  \
    \ particular implementation.  User credentials should never be sent as\n   clear\
    \ text via HTTP.  Secure HTTP (HTTPS) should be used between the\n   web browser\
    \ and authentication server.  The authentication server\n   could use RADIUS and\
    \ LDAP services at the back end.\n   Authentication is an important aspect of\
    \ securing WLAN networks prior\n   to implementing Layer 3 security policies.\
    \  For example, this would\n   help avoid threats to the ND or stateless auto-configuration\n\
    \   processes. 802.1x [IEEE8021X] provides the means to secure the\n   network\
    \ access; however, the many types of EAP (PEAP, EAP-TLS, EAP-\n   TTLS, EAP-FAST,\
    \ and LEAP) and the capabilities of the hosts to\n   support some of the features\
    \ might make it difficult to implement a\n   comprehensive and consistent policy.\n\
    \   The 802.11i [IEEE80211i] amendment has many components, the most\n   obvious\
    \ of which are the two new data-confidentiality protocols,\n   Temporal Key Integrity\
    \ Protocol (TKIP) and Counter-Mode/CBC-MAC\n   Protocol (CCMP). 802.11i also uses\
    \ 802.1X's key-distribution system\n   to control access to the network.  Because\
    \ 802.11 handles unicast and\n   broadcast traffic differently, each traffic type\
    \ has different\n   security concerns.  With several data-confidentiality protocols\
    \ and\n   the key distribution, 802.11i includes a negotiation process for\n \
    \  selecting the correct confidentiality protocol and key system for\n   each\
    \ traffic type.  Other features introduced include key caching and\n   pre-authentication.\n\
    \   The 802.11i amendment is a step forward in wireless security.  The\n   amendment\
    \ adds stronger encryption, authentication, and key\n   management strategies\
    \ that could make wireless data and systems more\n   secure.\n   If any Layer\
    \ 2 filters for Ethertypes are in place, the NAP must\n   permit the IPv6 Ethertype\
    \ (0X86DD).\n   The device that is the Layer 3 next hop for the subscribers (Access\n\
    \   or Edge Router) should protect the network and the other subscribers\n   against\
    \ attacks by one of the provider customers.  For this reason\n   uRPF and ACLs\
    \ should be used on all interfaces facing subscribers.\n   Filtering should be\
    \ implemented with regard for the operational\n   requirements of IPv6 [IPv6-Security].\n\
    \   The Access and the Edge Router should protect their processing\n   resources\
    \ against floods of valid customer control traffic such as:\n   RS, NS, and MLD\
    \ Requests.  Rate limiting should be implemented on all\n   subscriber-facing\
    \ interfaces.  The emphasis should be placed on\n   multicast-type traffic, as\
    \ it is most often used by the IPv6 control\n   plane.\n"
- title: 8.5.  IPv6 Network Management
  contents:
  - "8.5.  IPv6 Network Management\n   The necessary instrumentation (such as MIB\
    \ modules, NetFlow Records,\n   etc) should be available for IPv6.\n   Usually,\
    \ NSPs manage the edge routers by SNMP.  The SNMP transport\n   can be done over\
    \ IPv4 if all managed devices have connectivity over\n   both IPv4 and IPv6. \
    \ This would imply the smallest changes to the\n   existing network management\
    \ practices and processes.  Transport over\n   IPv6 could also be implemented\
    \ and it might become necessary if IPv6\n   only islands are present in the network.\
    \  The management applications\n   may be running on hosts belonging to the NSP\
    \ core network domain.\n   Network Management Applications should handle IPv6\
    \ in a similar\n   fashion to IPv4; however, they should also support features\
    \ specific\n   to IPv6 (such as neighbor monitoring).\n   In some cases, service\
    \ providers manage equipment located on\n   customers' LANs.\n"
- title: 9.  Broadband Power Line Communications (PLC)
  contents:
  - "9.  Broadband Power Line Communications (PLC)\n   This section describes the\
    \ IPv6 deployment in Power Line\n   Communications (PLC) Access Networks.  There\
    \ may be other choices,\n   but it seems that this is the best model to follow.\
    \  Lessons learnt\n   from cable, Ethernet, and even WLAN access networks may\
    \ be applicable\n   also.\n   Power Line Communications are also often called\
    \ Broadband Power Line\n   (BPL) and sometimes even Power Line Telecommunications\
    \ (PLT).\n   PLC/BPL can be used for providing, with today's technology, up to\n\
    \   200Mbps (total, upstream+downstream) by means of the power grid.  The\n  \
    \ coverage is often the last half mile (typical distance from the\n   medium-to-low\
    \ voltage transformer to the customer premise meter) and,\n   of course, as an\
    \ in-home network (which is out of the scope of this\n   document).\n   The bandwidth\
    \ in a given PLC/BPL segment is shared among all the\n   customers connected to\
    \ that segment (often the customers connected to\n   the same medium-to-low voltage\
    \ transformer).  The number of customers\n   can vary depending on different factors,\
    \ such as distances and even\n   countries (from a few customers, just 5-6, up\
    \ to 100-150).\n   PLC/BPL could also be used in the medium voltage network (often\n\
    \   configured as Metropolitan Area Networks), but this is also out of\n   the\
    \ scope of this document, as it will be part of the core network,\n   not the\
    \ access one.\n"
- title: 9.1.  PLC/BPL Access Network Elements
  contents:
  - "9.1.  PLC/BPL Access Network Elements\n   This section describes the different\
    \ elements commonly used in PLC/\n   BPL access networks.\n   Head End (HE): Router\
    \ that connects the PLC/BPL access network (the\n   power grid), located at the\
    \ medium-to-low voltage transformer, to the\n   core network.  The HE PLC/BPL\
    \ interface appears to each customer as a\n   single virtual interface, all of\
    \ them sharing the same physical\n   media.\n   Repeater (RPT): A device that\
    \ may be required in some circumstances\n   to improve the signal on the PLC/BPL.\
    \  This may be the case if there\n   are many customers in the same segment or\
    \ building.  It is often a\n   bridge, but it could also be a router if, for example,\
    \ there is a lot\n   of peer-to-peer traffic in a building and due to the master-slave\n\
    \   nature of the PLC/BPL technology, is required to improve the\n   performance\
    \ within that segment.  For simplicity within this\n   document, the RPT will\
    \ always be considered a transparent Layer 2\n   bridge, so it may or may not\
    \ be present (from the Layer 3 point of\n   view).\n   Customer Premise Equipment\
    \ (CPE): Modem (internal to the host),\n   modem/bridge (BCPE), router (RCPE),\
    \ or any combination among those\n   (i.e., modem+bridge/router), located at the\
    \ customer premise.\n   Edge Router (ER)\n   Figure 9.1 depicts all the network\
    \ elements indicated above.\n   Customer Premise | Network Access Provider | Network\
    \ Service Provider\n    +-----+  +------+  +-----+        +------+   +--------+\n\
    \    |Hosts|--| RCPE |--| RPT |--------+ Head +---+ Edge   |    ISP\n    +-----+\
    \  +------+  +-----+        | End  |   | Router +=>Network\n                 \
    \                     +--+---+   +--------+\n    +-----+  +------+  +-----+  \
    \         |\n    |Hosts|--| BCPE |--| RPT |-----------+\n    +-----+  +------+\
    \  +-----+\n                                    Figure 9.1\n   The logical topology\
    \ and design of PLC/BPL is very similar to\n   Ethernet Broadband Networks as\
    \ discussed in Section 7.  IP\n   connectivity is typically provided in a Point-to-Point\
    \ model, as\n   described in Section 7.2.1\n"
- title: 9.2.  Deploying IPv6 in IPv4 PLC/BPL
  contents:
  - "9.2.  Deploying IPv6 in IPv4 PLC/BPL\n   The most simplistic and efficient model,\
    \ considering the nature of\n   the PLC/BPL networks, is to see the network as\
    \ a point-to-point, one\n   to each customer.  Even if several customers share\
    \ the same physical\n   media, the traffic is not visible among them because each\
    \ one uses\n   different channels, which are, in addition, encrypted by means\
    \ of\n   3DES.\n   In order to maintain the deployment concepts and business models\n\
    \   proven and used with existing revenue-generating IPv4 services, the\n   IPv6\
    \ deployment will match the IPv4 one.  Under certain circumstances\n   where new\
    \ service types or service needs justify it, IPv4 and IPv6\n   network architectures\
    \ could be different.  Both approaches are very\n   similar to those already described\
    \ for the Ethernet case.\n"
- title: 9.2.1.  IPv6 Related Infrastructure Changes
  contents:
  - "9.2.1.  IPv6 Related Infrastructure Changes\n   In this scenario, only the RPT\
    \ is Layer 3 unaware, but the other\n   devices have to be upgraded to dual stack\
    \ Hosts, RCPE, Head End, and\n   Edge Router.\n"
- title: 9.2.2.  Addressing
  contents:
  - "9.2.2.  Addressing\n   The Hosts or the RCPEs have the HE as their Layer 3 next\
    \ hop.\n   If there is no RCPE, but instead a BCPE, all the hosts on the\n   subscriber\
    \ site belong to the same /64 subnet that is statically\n   configured on the\
    \ HE.  The hosts can use stateless auto-configuration\n   or stateful DHCPv6-based\
    \ configuration to acquire an address via the\n   HE.\n   If an RCPE is present:\n\
    \   A.  It is statically configured with an address on the /64 subnet\n      \
    \ between itself and the HE, and with /64 prefixes on the\n       interfaces connecting\
    \ the hosts on the customer site.  This is\n       not a desired provisioning\
    \ method, being expensive and difficult\n       to manage.\n   B.  It can use\
    \ its link-local address to communicate with the HE.  It\n       can also dynamically\
    \ acquire through stateless auto-configuration\n       the address for the link\
    \ between itself and the HE.  This step is\n       followed by a request via DHCP-PD\
    \ for a prefix shorter than /64\n       (typically /48 [RFC3177]) that, in turn,\
    \ is divided in /64s and\n       assigned to its interfaces connecting the hosts\
    \ on the customer\n       site.  This should be the preferred provisioning method,\
    \ being\n       cheaper and easier to manage.\n   The Edge Router needs to have\
    \ a prefix, considering that each\n   customer in general will receive a /48 prefix,\
    \ and that each HE will\n   accommodate customers.  Consequently, each HE will\
    \ require n x /48\n   prefixes.\n   It could be possible to use a kind of Hierarchical\
    \ Prefix Delegation\n   to automatically provision the required prefixes and fully\
    \ auto-\n   configure the HEs, and consequently reduce the network setup,\n  \
    \ operation, and maintenance cost.\n   The prefixes used for subscriber links\
    \ and the ones delegated via\n   DHCP-PD should be planned in a manner that allows\
    \ as much\n   summarization as possible at the Edge Router.\n   Other information\
    \ of interest to the host, such as DNS, is provided\n   through stateful [RFC3315]\
    \ and stateless [RFC3736] DHCPv6.\n"
- title: 9.2.3.  Routing
  contents:
  - "9.2.3.  Routing\n   If no routers are used on the customer premise, the HE can\
    \ simply be\n   configured with a default route that points to the Edge Router.\
    \  If a\n   router is used on the customer premise (RCPE), then the HE could also\n\
    \   run an IGP (such as OSPFv3, IS-IS or even RIPng) to the ER.  The\n   connected\
    \ prefixes should be redistributed.  If DHCP-PD is used, with\n   every delegated\
    \ prefix a static route is installed by the HE.  For\n   this reason, the static\
    \ routes must also be redistributed.  Prefix\n   summarization should be done\
    \ at the HE.\n   The RCPE requires only a default route pointing to the HE.  No\n\
    \   routing protocols are needed on these devices, which generally have\n   limited\
    \ resources.\n   The Edge Router runs the IPv6 IGP used in the NSP: OSPFv3 or\
    \ IS-IS.\n   The connected prefixes have to be redistributed, as well as any\n\
    \   routing protocols (other than the ones used on the ER) that might be\n   used\
    \ between the HE and the ER.\n"
- title: 9.3.  IPv6 Multicast
  contents:
  - "9.3.  IPv6 Multicast\n   The considerations regarding IPv6 Multicast for Ethernet\
    \ are also\n   applicable here, in general, assuming the nature of PLC/BPL is\
    \ a\n   shared media.  If a lot of Multicast is expected, it may be worth\n  \
    \ considering using RPT which are Layer 3 aware.  In that case, one\n   extra\
    \ layer of Hierarchical DHCP-PD could be considered, in order to\n   facilitate\
    \ the deployment, operation, and maintenance of the network.\n"
- title: 9.4.  IPv6 QoS
  contents:
  - "9.4.  IPv6 QoS\n   The considerations introduced for QoS in Ethernet are also\
    \ applicable\n   here.  PLC/BPL networks support QoS, which basically is the same\n\
    \   whether the transport is IPv4 or IPv6.  It is necessary to understand\n  \
    \ that there are specific network characteristics, such as the\n   variability\
    \ that may be introduced by electrical noise, towards which\n   the PLC/BPL network\
    \ will automatically self-adapt.\n"
- title: 9.5.  IPv6 Security Considerations
  contents:
  - "9.5.  IPv6 Security Considerations\n   There are no differences in terms of security\
    \ considerations if\n   compared with the Ethernet case.\n"
- title: 9.6.  IPv6 Network Management
  contents:
  - "9.6.  IPv6 Network Management\n   The issues related to IPv6 Network Management\
    \ in PLC networks should\n   be similar to those discussed for Broadband Ethernet\
    \ Networks in\n   Section 7.6.  Note that there may be a need to define MIB modules\
    \ for\n   PLC networks and interfaces, but this is not necessarily related to\n\
    \   IPv6 management.\n"
- title: 10.  Gap Analysis
  contents:
  - "10.  Gap Analysis\n   Several aspects of deploying IPv6 over SP Broadband networks\
    \ were\n   highlighted in this document, aspects that require additional work\
    \ in\n   order to facilitate native deployments, as summarized below:\n   A. \
    \ As mentioned in section 5, changes will need to be made to the\n       DOCSIS\
    \ specification in order for SPs to deploy native IPv6 over\n       cable networks.\
    \  The CM and CMTS will both need to support IPv6\n       natively in order to\
    \ forward IPv6 unicast and multicast traffic.\n       This is required for IPv6\
    \ Neighbor Discovery to work over DOCSIS\n       cable networks.  Additional classifiers\
    \ need to be added to the\n       DOCSIS specification in order to classify IPv6\
    \ traffic at the CM\n       and CMTS in order to provide QoS.  These issues are\
    \ addressed in\n       a recent proposal made to Cable Labs for DOCSIS 3.0\n \
    \      [DOCSIS3.0-Reqs].\n   B.  Section 6 stated that current RBE-based IPv4\
    \ deployment might not\n       be the best approach for IPv6, where the addressing\
    \ space\n       available gives the SP the opportunity to separate the users on\n\
    \       different subnets.  The differences between IPv4 RBE and IPv6 RBE\n  \
    \     were highlighted in Section 6.  If, however, support and reason\n      \
    \ are found for a deployment similar to IPv4 RBE, then the\n       environment\
    \ becomes NBMA and the new feature should observe\n       RFC2491 recommendations.\n\
    \   C.  Section 6 discussed the constraints imposed on an LAA-based IPv6\n   \
    \    deployment by the fact that it is expected that the subscribers\n       keep\
    \ their assigned prefix, regardless of LNS.  A deployment\n       approach was\
    \ proposed that would maintain the addressing schemes\n       contiguous and offers\
    \ prefix summarization opportunities.  The\n       topic could be further investigated\
    \ for other solutions or\n       improvements.\n   D.  Sections 6 and 7 pointed\
    \ out the limitations (previously\n       documented in [IPv6-Multicast]) in deploying\
    \ inter-domain ASM;\n       however, SSM-based services seem more likely at this\
    \ time.  For\n       such SSM-based services of content delivery (video or audio),\n\
    \       mechanisms are needed to facilitate the billing and management of\n  \
    \     listeners.  The currently available feature of MLD AAA is\n       suggested;\
    \ however, other methods or mechanisms might be\n       developed and proposed.\n\
    \   E.  In relation to Section 8, concerns have been raised related to\n     \
    \  running IPv6 multicast over WLAN links.  Potentially, these are\n       the\
    \ same kind of issues when running any Layer 3 protocol over a\n       WLAN link\
    \ that has a high loss-to-signal ratio; certain frames\n       that are multicast\
    \ based are dropped when settings are not\n       adjusted properly.  For instance\
    \ this behavior is similar to an\n       IGMP host membership report, when done\
    \ on a WLAN link with high\n       loss-to-signal ratio and high interference.\
    \  This problem is\n       inherited by WLAN that can impact both IPv4 and IPv6\
    \ multicast\n       packets; it is not specific to IPv6 multicast.\n   F.  The\
    \ privacy extensions were mentioned as a popular means to\n       provide some\
    \ form of host security.  ISPs can track relatively\n       easily the prefixes\
    \ assigned to subscribers.  If, however, the\n       ISPs are required by regulations\
    \ to track their users at host\n       address level, the privacy extensions [RFC3041]\
    \ can be\n       implemented only in parallel with network management tools that\n\
    \       could provide traceability of the hosts.  Mechanisms should be\n     \
    \  defined to implement this aspect of user management.\n   G.  Tunnels are an\
    \ effective way to avoid deployment dependencies on\n       the IPv6 support on\
    \ platforms that are out of the SP control\n       (GWRs or CPEs) or over technologies\
    \ that did not standardize the\n       IPv6 support yet (cable).  They can be\
    \ used in the following\n       ways:\n        i.  Tunnels directly to the CPE\
    \ or GWR with public or private\n            IPv4 addresses.\n        ii. Tunnels\
    \ directly to hosts with public or private IPv4\n            addresses.  Recommendations\
    \ on the exact tunneling\n            mechanisms that can/should be used for last-mile\
    \ access need\n            to be investigated further and should be addressed\
    \ by the\n            IETF Softwire Working Group.\n   H.  Through its larger\
    \ address space, IPv6 allows SPs to assign\n       fixed, globally routable prefixes\
    \ to the links connecting each\n       subscriber.\n       This approach changes\
    \ the provisioning methodologies that were\n       used for IPv4.  Static configuration\
    \ of the IPv6 addresses for\n       all these links on the Edge Routers or Access\
    \ Routers might not\n       be a scalable option.  New provisioning mechanisms\
    \ or features\n       might need to be developed in order to deal with this issue,\
    \ such\n       as automatic mapping of VLAN IDs/PVCs (or other customer-specific\n\
    \       information) to IPv6 prefixes.\n   I.  New deployment models are emerging\
    \ for the Layer 2 portion of the\n       NAP where individual VLANs are not dedicated\
    \ to each subscriber.\n       This approach allows Layer 2 switches to aggregate\
    \ more then 4096\n       users.  MAC Forced Forwarding [RFC4562] is an example\
    \ of such an\n       implementation, where a broadcast domain is turned into an\
    \ NBMA-\n       like environment by forwarding the frames based on both Source\n\
    \       and Destination MAC addresses.  Since these models are being\n       adopted\
    \ by the field, the implications of deploying IPv6 in such\n       environments\
    \ need to be further investigated.\n   J.  The deployment of IPv6 in continuously\
    \ evolving access service\n       models raises some issues that may need further\
    \ investigation.\n       Examples of such topics are [AUTO-CONFIG]:\n        i.\
    \  Network Service Selection & Authentication (NSSA) mechanisms\n            working\
    \ in association with stateless auto-configuration.\n            As an example,\
    \ NSSA relevant information, such as ISP\n            preference, passwords, or\
    \ profile ID, can be sent by hosts\n            with the RS [RFC4191].\n     \
    \   ii. Providing additional information in Router Advertisements to\n       \
    \     help access nodes with prefix selection in multi-ISP/\n            multi-homed\
    \ environments.\n   Solutions to some of these topics range from making a media\
    \ access\n   capable of supporting native IPv6 (cable) to improving operational\n\
    \   aspects of native IPv6 deployments.\n"
- title: 11.  Security Considerations
  contents:
  - "11.  Security Considerations\n   Please refer to the individual \"IPv6 Security\
    \ Considerations\"\n   technology sections for details.\n"
- title: 12.  Acknowledgements
  contents:
  - "12.  Acknowledgements\n   We would like to thank Brian Carpenter, Patrick Grossetete,\
    \ Toerless\n   Eckert, Madhu Sudan, Shannon McFarland, Benoit Lourdelet, and Fred\n\
    \   Baker for their valuable comments.  The authors would like to\n   acknowledge\
    \ the structure and information guidance provided by the\n   work of Mickles,\
    \ et al., on \"Transition Scenarios for ISP Networks\"\n   [ISP-CASES].\n"
- title: 13.  References
  contents:
  - '13.  References

    '
- title: 13.1.  Normative References
  contents:
  - "13.1.  Normative References\n   [RFC1918]         Rekhter, Y., Moskowitz, R.,\
    \ Karrenberg, D., Groot,\n                     G., and E. Lear, \"Address Allocation\
    \ for Private\n                     Internets\", BCP 5, RFC 1918, February 1996.\n\
    \   [RFC2080]         Malkin, G. and R. Minnear, \"RIPng for IPv6\",\n       \
    \              RFC 2080, January 1997.\n   [RFC2364]         Gross, G., Kaycee,\
    \ M., Lin, A., Malis, A., and J.\n                     Stephens, \"PPP Over AAL5\"\
    , RFC 2364, July 1998.\n   [RFC2461]         Narten, T., Nordmark, E., and W.\
    \ Simpson, \"Neighbor\n                     Discovery for IP Version 6 (IPv6)\"\
    , RFC 2461,\n                     December 1998.\n   [RFC2462]         Thomson,\
    \ S. and T. Narten, \"IPv6 Stateless Address\n                     Autoconfiguration\"\
    , RFC 2462, December 1998.\n   [RFC2473]         Conta, A. and S. Deering, \"\
    Generic Packet Tunneling\n                     in IPv6 Specification\", RFC 2473,\
    \ December 1998.\n   [RFC2516]         Mamakos, L., Lidl, K., Evarts, J., Carrel,\
    \ D.,\n                     Simone, D., and R. Wheeler, \"A Method for\n     \
    \                Transmitting PPP Over Ethernet (PPPoE)\", RFC 2516,\n       \
    \              February 1999.\n   [RFC2529]         Carpenter, B. and C. Jung,\
    \ \"Transmission of IPv6\n                     over IPv4 Domains without Explicit\
    \ Tunnels\",\n                     RFC 2529, March 1999.\n   [RFC2661]       \
    \  Townsley, W., Valencia, A., Rubens, A., Pall, G.,\n                     Zorn,\
    \ G., and B. Palter, \"Layer Two Tunneling\n                     Protocol \"L2TP\"\
    \", RFC 2661, August 1999.\n   [RFC2740]         Coltun, R., Ferguson, D., and\
    \ J. Moy, \"OSPF for\n                     IPv6\", RFC 2740, December 1999.\n\
    \   [RFC2784]         Farinacci, D., Li, T., Hanks, S., Meyer, D., and P.\n  \
    \                   Traina, \"Generic Routing Encapsulation (GRE)\",\n       \
    \              RFC 2784, March 2000.\n   [RFC3041]         Narten, T. and R. Draves,\
    \ \"Privacy Extensions for\n                     Stateless Address Autoconfiguration\
    \ in IPv6\",\n                     RFC 3041, January 2001.\n   [RFC3053]     \
    \    Durand, A., Fasano, P., Guardini, I., and D. Lento,\n                   \
    \  \"IPv6 Tunnel Broker\", RFC 3053, January 2001.\n   [RFC3056]         Carpenter,\
    \ B. and K. Moore, \"Connection of IPv6\n                     Domains via IPv4\
    \ Clouds\", RFC 3056, February 2001.\n   [RFC3177]         IAB and IESG, \"IAB/IESG\
    \ Recommendations on IPv6\n                     Address Allocations to Sites\"\
    , RFC 3177,\n                     September 2001.\n   [RFC3180]         Meyer,\
    \ D. and P. Lothberg, \"GLOP Addressing in\n                     233/8\", BCP\
    \ 53, RFC 3180, September 2001.\n   [RFC3315]         Droms, R., Bound, J., Volz,\
    \ B., Lemon, T., Perkins,\n                     C., and M. Carney, \"Dynamic Host\
    \ Configuration\n                     Protocol for IPv6 (DHCPv6)\", RFC 3315,\
    \ July 2003.\n   [RFC3618]         Fenner, B. and D. Meyer, \"Multicast Source\n\
    \                     Discovery Protocol (MSDP)\", RFC 3618, October 2003.\n \
    \  [RFC3704]         Baker, F. and P. Savola, \"Ingress Filtering for\n      \
    \               Multihomed Networks\", BCP 84, RFC 3704, March 2004.\n   [RFC3736]\
    \         Droms, R., \"Stateless Dynamic Host Configuration\n                \
    \     Protocol (DHCP) Service for IPv6\", RFC 3736,\n                     April\
    \ 2004.\n   [RFC3904]         Huitema, C., Austein, R., Satapati, S., and R. van\n\
    \                     der Pol, \"Evaluation of IPv6 Transition Mechanisms\n  \
    \                   for Unmanaged Networks\", RFC 3904, September 2004.\n   [RFC3931]\
    \         Lau, J., Townsley, M., and I. Goyret, \"Layer Two\n                \
    \     Tunneling Protocol - Version 3 (L2TPv3)\", RFC 3931,\n                 \
    \    March 2005.\n   [RFC4001]         Daniele, M., Haberman, B., Routhier, S.,\
    \ and J.\n                     Schoenwaelder, \"Textual Conventions for Internet\n\
    \                     Network Addresses\", RFC 4001, February 2005.\n   [RFC4029]\
    \         Lind, M., Ksinant, V., Park, S., Baudot, A., and P.\n              \
    \       Savola, \"Scenarios and Analysis for Introducing\n                   \
    \  IPv6 into ISP Networks\", RFC 4029, March 2005.\n   [RFC4191]         Draves,\
    \ R. and D. Thaler, \"Default Router\n                     Preferences and More-Specific\
    \ Routes\", RFC 4191,\n                     November 2005.\n   [RFC4213]     \
    \    Nordmark, E. and R. Gilligan, \"Basic Transition\n                     Mechanisms\
    \ for IPv6 Hosts and Routers\", RFC 4213,\n                     October 2005.\n\
    \   [RFC4214]         Templin, F., Gleeson, T., Talwar, M., and D.\n         \
    \            Thaler, \"Intra-Site Automatic Tunnel Addressing\n              \
    \       Protocol (ISATAP)\", RFC 4214, October 2005.\n   [RFC4380]         Huitema,\
    \ C., \"Teredo: Tunneling IPv6 over UDP\n                     through Network\
    \ Address Translations (NATs)\",\n                     RFC 4380, February 2006.\n"
- title: 13.2.  Informative References
  contents:
  - "13.2.  Informative References\n   [6PE]             De Clercq, J., Ooms, D.,\
    \ Prevost, S., and F. Le\n                     Faucheur, \"Connecting IPv6 Islands\
    \ across IPv4\n                     Clouds with BGP\", Work in Progress, December\
    \ 2006.\n   [AUTO-CONFIG]     Wen, H., Zhu, X., Jiang, Y., and R. Yan, \"The\n\
    \                     deployment of IPv6 stateless auto-configuration in\n   \
    \                  access network\", 8th International Conference on\n       \
    \              Telecommunications, ConTEL 2005, June 2005.\n   [BSR]         \
    \    Bhaskar, N., Gall, A., Lingard, J., and S. Venaas,\n                    \
    \ \"Bootstrap Router (BSR) Mechanism for PIM\", Work\n                     in\
    \ Progress, June 2006.\n   [DOCSIS3.0-OSSI]  CableLabs, CL., \"DOCSIS 3.0 OSSI\
    \ Specification(CM-\n                     SP-OSSIv3.0-D02-060504)\", May 2006.\n\
    \   [DOCSIS3.0-Reqs]  Droms, R., Durand, A., Kharbanda, D., and J-F.\n       \
    \              Mule, \"DOCSIS 3.0 Requirements for IPv6 Support\",\n         \
    \            Work in Progress, March 2006.\n   [DynamicTunnel]   Palet, J., Diaz,\
    \ M., and P. Savola, \"Analysis of\n                     IPv6 Tunnel End-point\
    \ Discovery Mechanisms\", Work\n                     in Progress, January 2005.\n\
    \   [IEEE80211i]      IEEE, \"IEEE Standards for Information Technology:\n   \
    \                  Part 11: Wireless LAN Medium Access Control (MAC)\n       \
    \              and Physical Layer (PHY) specifications, Amendment\n          \
    \           6: Medium Access Control (MAC) Security\n                     Enhancements\"\
    , July 2004.\n   [IEEE8021X]       IEEE, \"IEEE Standards for Local and Metropolitan\n\
    \                     Area Networks: Port based Network Access Control,\n    \
    \                 IEEE Std 802.1X-2001\", June 2001.\n   [IPv6-Multicast]  Savola,\
    \ P., \"IPv6 Multicast Deployment Issues\",\n                     Work in Progress,\
    \ April 2004.\n   [IPv6-Security]   Convery, S. and D. Miller, \"IPv6 and IPv4\
    \ Threat\n                     Comparison and Best-Practice Evaluation\",\n  \
    \                   March 2004.\n   [ISISv6]          Hopps, C., \"Routing IPv6\
    \ with IS-IS\", Work\n                     in Progress, October 2005.\n   [ISP-CASES]\
    \       Mickles, C., \"Transition Scenarios for ISP\n                     Networks\"\
    , Work in Progress, September 2002.\n   [Protocol41]      Palet, J., Olvera, C.,\
    \ and D. Fernandez,\n                     \"Forwarding Protocol 41 in NAT Boxes\"\
    , Work\n                     in Progress, October 2003.\n   [RF-Interface]   \
    \ CableLabs, CL., \"DOCSIS 2.0(CM-SP-RFIv2.0-I10-\n                     051209)\"\
    , December 2005.\n   [RFC4562]         Melsen, T. and S. Blake, \"MAC-Forced Forwarding:\
    \ A\n                     Method for Subscriber Separation on an Ethernet\n  \
    \                   Access Network\", RFC 4562, June 2006.\n   [Softwire]    \
    \    Dawkins, S., Ed., \"Softwire Problem Statement\",\n                     Work\
    \ in Progress, May 2006.\n   [v6tc]            Palet, J., Nielsent, K., Parent,\
    \ F., Durand, A.,\n                     Suryanarayanan, R., and P. Savola, \"\
    Goals for\n                     Tunneling Configuration\", Work in Progress,\n\
    \                     August 2005.\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Salman Asadullah\n   Cisco Systems\n   170 West Tasman\
    \ Drive\n   San Jose, CA  95134\n   USA\n   Phone: 408 526 8982\n   EMail: sasad@cisco.com\n\
    \   Adeel Ahmed\n   Cisco Systems\n   2200 East President George Bush Turnpike\n\
    \   Richardson, TX  75082\n   USA\n   Phone: 469 255 4122\n   EMail: adahmed@cisco.com\n\
    \   Ciprian Popoviciu\n   Cisco Systems\n   7025-6 Kit Creek Road\n   Research\
    \ Triangle Park, NC  27709\n   USA\n   Phone: 919 392 3723\n   EMail: cpopovic@cisco.com\n\
    \   Pekka Savola\n   CSC - Scientific Computing Ltd.\n   Espoo\n   Finland\n \
    \  EMail: psavola@funet.fi\n   Jordi Palet Martinez\n   Consulintel\n   San Jose\
    \ Artesano, 1\n   Alcobendas, Madrid  E-28108\n   Spain\n   Phone: +34 91 151\
    \ 81 99\n   EMail: jordi.palet@consulintel.es\n"
- title: Full Copyright Statement
  contents:
  - "Full Copyright Statement\n   Copyright (C) The IETF Trust (2007).\n   This document\
    \ is subject to the rights, licenses and restrictions\n   contained in BCP 78,\
    \ and except as set forth therein, the authors\n   retain all their rights.\n\
    \   This document and the information contained herein are provided on an\n  \
    \ \"AS IS\" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS\n  \
    \ OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST AND\n   THE\
    \ INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS\n   OR IMPLIED,\
    \ INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF\n   THE INFORMATION\
    \ HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED\n   WARRANTIES OF MERCHANTABILITY\
    \ OR FITNESS FOR A PARTICULAR PURPOSE.\n"
- title: Intellectual Property
  contents:
  - "Intellectual Property\n   The IETF takes no position regarding the validity or\
    \ scope of any\n   Intellectual Property Rights or other rights that might be\
    \ claimed to\n   pertain to the implementation or use of the technology described\
    \ in\n   this document or the extent to which any license under such rights\n\
    \   might or might not be available; nor does it represent that it has\n   made\
    \ any independent effort to identify any such rights.  Information\n   on the\
    \ procedures with respect to rights in RFC documents can be\n   found in BCP 78\
    \ and BCP 79.\n   Copies of IPR disclosures made to the IETF Secretariat and any\n\
    \   assurances of licenses to be made available, or the result of an\n   attempt\
    \ made to obtain a general license or permission for the use of\n   such proprietary\
    \ rights by implementers or users of this\n   specification can be obtained from\
    \ the IETF on-line IPR repository at\n   http://www.ietf.org/ipr.\n   The IETF\
    \ invites any interested party to bring to its attention any\n   copyrights, patents\
    \ or patent applications, or other proprietary\n   rights that may cover technology\
    \ that may be required to implement\n   this standard.  Please address the information\
    \ to the IETF at\n   ietf-ipr@ietf.org.\n"
- title: Acknowledgement
  contents:
  - "Acknowledgement\n   Funding for the RFC Editor function is currently provided\
    \ by the\n   Internet Society.\n"
