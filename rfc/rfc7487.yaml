- contents:
  - "                            Configuration of\n Proactive Operations, Administration,
    and Maintenance (OAM) Functions\n            for MPLS-Based Transport Networks
    Using RSVP-TE\n"
  title: __initial_text__
- contents:
  - "Abstract\n   This specification describes the configuration of proactive MPLS\n
    \  Transport Profile (MPLS-TP) Operations, Administration, and\n   Maintenance
    (OAM) functions for a given Label Switched Path (LSP)\n   using a set of TLVs
    that are carried by the GMPLS RSVP-TE protocol\n   based on the OAM Configuration
    Framework for GMPLS RSVP-TE.\n"
  title: Abstract
- contents:
  - "Status of This Memo\n   This is an Internet Standards Track document.\n   This
    document is a product of the Internet Engineering Task Force\n   (IETF).  It represents
    the consensus of the IETF community.  It has\n   received public review and has
    been approved for publication by the\n   Internet Engineering Steering Group (IESG).
    \ Further information on\n   Internet Standards is available in Section 2 of RFC
    5741.\n   Information about the current status of this document, any errata,\n
    \  and how to provide feedback on it may be obtained at\n   http://www.rfc-editor.org/info/rfc7487.\n"
  title: Status of This Memo
- contents:
  - "Copyright Notice\n   Copyright (c) 2015 IETF Trust and the persons identified
    as the\n   document authors.  All rights reserved.\n   This document is subject
    to BCP 78 and the IETF Trust's Legal\n   Provisions Relating to IETF Documents\n
    \  (http://trustee.ietf.org/license-info) in effect on the date of\n   publication
    of this document.  Please review these documents\n   carefully, as they describe
    your rights and restrictions with respect\n   to this document.  Code Components
    extracted from this document must\n   include Simplified BSD License text as described
    in Section 4.e of\n   the Trust Legal Provisions and are provided without warranty
    as\n   described in the Simplified BSD License.\n"
  title: Copyright Notice
- contents:
  - "Table of Contents\n   1. Introduction ....................................................4\n
    \     1.1. Conventions Used in This Document ..........................5\n           1.1.1.
    Terminology .........................................5\n           1.1.2. Requirements
    Language ...............................6\n   2. Overview of MPLS OAM for Transport
    Applications .................6\n   3. Theory of Operations ............................................7\n
    \     3.1. MPLS-TP OAM Configuration Operation Overview ...............7\n           3.1.1.
    Configuration of BFD Sessions .......................8\n           3.1.2. Configuration
    of Performance Monitoring .............8\n           3.1.3. Configuration of Fault
    Management Signals ...........9\n      3.2. MPLS OAM Configuration Sub-TLV .............................9\n
    \          3.2.1. CV Flag Rules of Use ...............................11\n      3.3.
    BFD Configuration Sub-TLV .................................12\n           3.3.1.
    BFD Identifiers Sub-TLV ............................14\n           3.3.2. Negotiation
    Timer Parameters Sub-TLV ...............15\n           3.3.3. BFD Authentication
    Sub-TLV .........................16\n           3.3.4. Traffic Class Sub-TLV ..............................17\n
    \     3.4. Performance Monitoring Sub-TLV ............................17\n           3.4.1.
    MPLS OAM PM Loss Sub-TLV ...........................19\n           3.4.2. MPLS
    OAM PM Delay Sub-TLV ..........................21\n      3.5. MPLS OAM FMS Sub-TLV
    ......................................22\n   4. Summary of MPLS OAM Configuration
    Errors .......................23\n   5. IANA Considerations ............................................25\n
    \     5.1. MPLS OAM Type .............................................25\n      5.2.
    MPLS OAM Configuration Sub-TLV ............................25\n      5.3. MPLS
    OAM Configuration Sub-TLV Types ......................26\n      5.4. BFD Configuration
    Sub-TLV Types ...........................26\n      5.5. Performance Monitoring
    Sub-TLV Types ......................27\n      5.6. New RSVP-TE Error Codes ...................................28\n
    \  6. Security Considerations ........................................28\n   7.
    References .....................................................29\n      7.1.
    Normative References ......................................29\n      7.2. Informative
    References ....................................30\n   Acknowledgements ..................................................31\n
    \  Contributors ......................................................31\n   Authors'
    Addresses ................................................32\n"
  title: Table of Contents
- contents:
  - "1.  Introduction\n   This document describes the configuration of proactive MPLS-TP
    OAM\n   functions for a given LSP using TLVs that use GMPLS RSVP-TE\n   [RFC3473].
    \ [RFC7260] defines use of GMPLS RSVP-TE for the\n   configuration of OAM functions
    in a technology-agnostic way.  This\n   document specifies the additional mechanisms
    necessary to establish\n   MPLS-TP OAM entities at the maintenance points for
    monitoring and\n   performing measurements on an LSP, as well as defining information\n
    \  elements and procedures to configure proactive MPLS-TP OAM functions\n   running
    between Label Edge Routers (LERs).  Initialization and\n   control of on-demand
    MPLS-TP OAM functions are expected to be carried\n   out by directly accessing
    network nodes via a management interface;\n   hence, configuration and control
    of on-demand OAM functions are out\n   of scope for this document.\n   MPLS-TP,
    the Transport Profile of MPLS, must, by definition\n   [RFC5654], be capable of
    operating without a control plane.\n   Therefore, there are several options for
    configuring MPLS-TP OAM\n   without a control plane by using either a Network
    Management System\n   (NMS), an LSP Ping, or signaling protocols such as RSVP-TE
    in the\n   control plane.\n   MPLS-TP describes a profile of MPLS that enables
    operational models\n   typical in transport networks while providing additional
    OAM\n   survivability and other maintenance functions not currently supported\n
    \  by MPLS.  [RFC5860] defines the requirements for the OAM\n   functionality
    of MPLS-TP.\n   Proactive MPLS-TP OAM is performed by three different protocols:\n
    \  Bidirectional Forwarding Detection (BFD) [RFC6428] for Continuity\n   Check
    / Connectivity Verification, the Delay Measurement (DM)\n   protocol [RFC6374]
    for delay and delay variation (jitter)\n   measurements, and the Loss Measurement
    (LM) protocol [RFC6374] for\n   packet loss and throughput measurements.  Additionally,
    there are a\n   number of Fault Management signals that can be configured [RFC6427].\n
    \  BFD is a protocol that provides low-overhead, fast detection of\n   failures
    in the path between two forwarding engines, including the\n   interfaces, data
    link(s), and (to the extent possible) the forwarding\n   engines themselves.  BFD
    can be used to track the liveliness and to\n   detect the data plane failures
    of MPLS-TP point to point and might\n   also be extended to support point-to-multipoint
    connections.\n   The delay and loss measurement protocols [RFC6374] use a simple\n
    \  query/response model for performing bidirectional measurements that\n   allows
    the originating node to measure packet loss and delay in both\n   directions.
    \ By timestamping and/or writing current packet counters\n   to the measurement
    packets four times (Tx and Rx in both directions),\n   current delays and packet
    losses can be calculated.  By performing\n   successive delay measurements, the
    delay variation (jitter) can be\n   calculated.  Current throughput can be calculated
    from the packet\n   loss measurements by dividing the number of packets sent/received\n
    \  with the time it took to perform the measurement, given by the\n   timestamp
    in LM header.  Combined with a packet generator, the\n   throughput measurement
    can be used to measure the maximum capacity of\n   a particular LSP.  It should
    be noted that here we are not\n   configuring on-demand throughput estimates based
    on saturating the\n   connection as defined in [RFC6371].  Rather, we only enable
    the\n   estimation of the current throughput based on loss measurements.\n"
  - contents:
    - '1.1.  Conventions Used in This Document

      '
    - contents:
      - "1.1.1.  Terminology\n   AIS - Alarm Indication Signal\n   BFD - Bidirectional
        Forwarding Detection\n   CC - Continuity Check\n   CV - Connectivity Verification\n
        \  DM - Delay Measurement\n   FMS - Fault Management Signal\n   G-ACh - Generic
        Associated Channel\n   GMPLS - Generalized Multi-Protocol Label Switching\n
        \  LDI - Link Down Indication\n   LER - Label Edge Router\n   LKR - Lock Report\n
        \  LM - Loss Measurement\n   LOC - Loss Of Continuity\n   LSP - Label Switched
        Path\n   LSR - Label Switching Router\n   MEP - Maintenance Entity Group End
        Point\n   MIP - Maintenance Entity Group Intermediate Point\n   MPLS - Multi-Protocol
        Label Switching\n   MPLS-TP - MPLS Transport Profile\n   NMS - Network Management
        System\n   PM - Performance Measurement\n   RSVP-TE - Reservation Protocol
        Traffic Engineering\n   TC - Traffic Class\n"
      title: 1.1.1.  Terminology
    - contents:
      - "1.1.2.  Requirements Language\n   The key words \"MUST\", \"MUST NOT\", \"REQUIRED\",
        \"SHALL\", \"SHALL NOT\",\n   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\",
        \"MAY\", and \"OPTIONAL\" in this\n   document are to be interpreted as described
        in RFC 2119 [RFC2119].\n"
      title: 1.1.2.  Requirements Language
    title: 1.1.  Conventions Used in This Document
  title: 1.  Introduction
- contents:
  - "2.  Overview of MPLS OAM for Transport Applications\n   [RFC6371] describes how
    MPLS-TP OAM mechanisms are operated to meet\n   transport requirements outlined
    in [RFC5860].\n   [RFC6428] specifies two BFD operation modes: 1) \"CC mode\",
    which uses\n   periodic BFD message exchanges with symmetric timer settings\n
    \  supporting Continuity Check, and 2) \"CV/CC mode\", which sends unique\n   maintenance
    entity identifiers in the periodic BFD messages\n   supporting CV as well as CC.\n
    \  [RFC6374] specifies mechanisms for Performance Monitoring of LSPs, in\n   particular
    it specifies loss and delay measurement OAM functions.\n   [RFC6427] specifies
    fault management signals with which a server LSP\n   can notify client LSPs about
    various fault conditions to suppress\n   alarms or to be used as triggers for
    actions in the client LSPs.  The\n   following signals are defined: Alarm Indication
    Signal (AIS), Link\n   Down Indication (LDI), and Lock Report (LKR).\n   [RFC6371]
    describes the mapping of fault conditions to consequent\n   actions.  Some of
    these mappings may be configured by the operator\n   depending on the application
    of the LSP.  The following defects are\n   identified: Loss Of Continuity (LOC),
    Misconnectivity, MEP\n   Misconfiguration, and Period Misconfiguration.  Out of
    these defect\n   conditions, the following consequent actions may be configurable:
    1)\n   whether or not the LOC defect should result in blocking the outgoing\n
    \  data traffic; 2) whether or not the \"Period Misconfiguration defect\"\n   should
    result in a signal fail condition.\n"
  title: 2.  Overview of MPLS OAM for Transport Applications
- contents:
  - '3.  Theory of Operations

    '
  - contents:
    - "3.1.  MPLS-TP OAM Configuration Operation Overview\n   GMPLS RSVP-TE, or alternatively
      LSP Ping [LSP-PING-CONF], can be used\n   to simply enable the different OAM
      functions by setting the\n   corresponding flags in the OAM Function Flags Sub-TLV
      [RFC7260].  For\n   a more detailed configuration, one may include sub-TLVs
      for the\n   different OAM functions in order to specify various parameters in\n
      \  detail.\n   Typically, intermediate nodes SHOULD NOT process or modify any
      of the\n   OAM Configuration TLVs but simply forward them to the end node.\n
      \  There is one exception to this and that is if the MPLS OAM FMS Sub-\n   TLV
      is present.  This sub-TLV MUST be examined even by intermediate\n   nodes that
      support these extensions but only acted upon by nodes\n   capable of transmitting
      FMS signals into the LSP being established.\n   The sub-TLV MAY be present when
      the FMS flag is set in the OAM\n   Function Flags Sub-TLV.  If this sub-TLV
      is present, then the \"OAM\n   MIP entities desired\" and \"OAM MEP entities
      desired\" flags (described\n   in [RFC7260]) in the LSP Attribute Flags TLV
      MUST be set and the\n   entire OAM Configuration TLV placed either in the\n
      \  LSP_REQUIRED_ATTRIBUTES object or in the LSP_ATTRIBUTES object in\n   order
      to ensure that capable intermediate nodes process the\n   configuration.  If
      placed in the LSP_ATTRIBUTES object, nodes that\n   are not able to process
      the OAM Configuration TLV will forward the\n   message without generating an
      error.  If the MPLS OAM FMS Sub-TLV has\n   been placed in the LSP_REQUIRED_ATTRIBUTES
      object, a node that\n   supports RFC 7260 but does not support the MPLS OAM
      FMS Sub-TLV MUST\n   generate a PathErr message with \"OAM Problem/Configuration
      Error\"\n   [RFC7260].  Otherwise, if the node doesn't support RFC 7260, it
      will\n   not raise any errors as described in the Section 4.1 of [RFC7260].\n
      \  Finally, if the MPLS OAM FMS Sub-TLV is not included, only the \"OAM\n   MEP
      entities desired\" flag is set and the OAM Configuration TLV may\n   be placed
      in either LSP_ATTRIBUTES or LSP_REQUIRED_ATTRIBUTES.\n"
    - contents:
      - "3.1.1.  Configuration of BFD Sessions\n   For this specification, BFD MUST
        be run in either one of the two\n   modes:\n   o  Asynchronous mode, where
        both sides should be in active mode; or\n   o  Unidirectional mode.\n   In
        the simplest scenario, RSVP-TE (or alternatively LSP Ping\n   [LSP-PING-CONF]),
        is used only to bootstrap a BFD session for an LSP\n   without any timer negotiation.\n
        \  Timer negotiation can be performed either in subsequent BFD Control\n   messages
        (in this case the operation is similar to LSP-Ping-based\n   bootstrapping
        described in [RFC5884]) or directly in the RSVP-TE\n   signaling messages.\n
        \  When BFD Control packets are transported in the G-ACh, they are not\n   protected
        by any end-to-end checksum; only lower layers are providing\n   error detection/correction.
        \ A single bit error, e.g., a flipped bit\n   in the BFD State field, could
        cause the receiving end to wrongly\n   conclude that the link is down and,
        in turn, trigger protection\n   switching.  To prevent this from happening,
        the BFD Configuration\n   Sub-TLV has an Integrity flag that, when set, enables
        BFD\n   Authentication using Keyed SHA1 with an empty key (all 0s) [RFC5880].\n
        \  This would ensure that every BFD Control packet carries a SHA1 hash\n   of
        itself that can be used to detect errors.\n   If BFD Authentication using
        a pre-shared key / password is desired\n   (i.e., authentication and not only
        error detection), the BFD\n   Authentication Sub-TLV MUST be included in the
        BFD Configuration Sub-\n   TLV.  The BFD Authentication Sub-TLV is used to
        specify which\n   authentication method should be used and which pre-shared
        key /\n   password should be used for this particular session.  How the key\n
        \  exchange is performed is out of scope of this document.\n"
      title: 3.1.1.  Configuration of BFD Sessions
    - contents:
      - "3.1.2.  Configuration of Performance Monitoring\n   It is possible to configure
        Performance Monitoring functionalities\n   such as Loss, Delay, Delay variation
        (jitter), and Throughput, as\n   described in [RFC6374].\n   When configuring
        Performance Monitoring functionalities, it is\n   possible to choose either
        the default configuration (by only setting\n   the respective flags in the
        OAM Function Flags Sub-TLV) or a\n   customized configuration.  To customize
        the configuration, one would\n   set the respective flags and include the
        respective Loss and/or Delay\n   sub-TLVs.\n   By setting the PM/Loss flag
        in the OAM Function Flags Sub-TLV and by\n   including the MPLS OAM PM Loss
        Sub-TLV, one can configure the\n   measurement interval and loss threshold
        values for triggering\n   protection.\n   Delay measurements are configured
        by setting the PM/Delay flag in the\n   OAM Function Flags Sub-TLV; by including
        the MPLS OAM PM Loss Sub-\n   TLV, one can configure the measurement interval
        and the delay\n   threshold values for triggering protection.\n"
      title: 3.1.2.  Configuration of Performance Monitoring
    - contents:
      - "3.1.3.  Configuration of Fault Management Signals\n   To configure Fault
        Management signals and their refresh time, the FMS\n   flag in the OAM Function
        Flags Sub-TLV MUST be set and the MPLS OAM\n   FMS Sub-TLV included.  When
        configuring Fault Management signals, an\n   implementation can enable the
        default configuration by setting the\n   FMS flag in the OAM Function Flags
        Sub-TLV.  In order to modify the\n   default configuration, the MPLS OAM FMS
        Sub-TLV MUST be included.\n   If an intermediate point is intended to originate
        fault management\n   signal messages, this means that such an intermediate
        point is\n   associated with a server MEP through a co-located MPLS-TP client/\n
        \  server adaptation function, and the \"Fault Management subscription\"\n
        \  flag in the MPLS OAM FMS Sub-TLV has been set as an indication of the\n
        \  request to create the association at each intermediate node of the\n   client
        LSP.  The corresponding server MEP needs to be configured by\n   its own RSVP-TE
        session (or, alternatively, via an NMS or LSP Ping).\n"
      title: 3.1.3.  Configuration of Fault Management Signals
    title: 3.1.  MPLS-TP OAM Configuration Operation Overview
  - contents:
    - "3.2.  MPLS OAM Configuration Sub-TLV\n   The OAM Configuration TLV, defined
      in [RFC7260], specifies the OAM\n   functions that are used for the LSP.  This
      document extends the OAM\n   Configuration TLV by defining a new OAM Type: \"MPLS
      OAM\" (3).  The\n   MPLS OAM type is set to request the establishment of OAM
      functions\n   for MPLS-TP LSPs.  The specific OAM functions are specified in
      the\n   OAM Function Flags Sub-TLV as depicted in [RFC7260].\n   When an egress
      LSR receives an OAM Configuration TLV indicating the\n   MPLS OAM type, the
      LSR will first process any present OAM Function\n   Flags Sub-TLV, and then
      it MUST process technology-specific\n   configuration TLVs.  This document defines
      a sub-TLV, the MPLS OAM\n   Configuration Sub-TLV, which is carried in the OAM
      Configuration TLV.\n    0                   1                   2                   3\n
      \   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \  | MPLS OAM Conf. Sub-TLV (33)   |            Length             |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \  |                                                               |\n   ~                           sub-TLVs
      \                           ~\n   |                                                               |\n
      \  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n              Figure
      1: MPLS OAM Configuration Sub-TLV Format\n   Type: 33, the MPLS OAM Configuration
      Sub-TLV.\n   Length: Indicates the total length in octets, including sub-TLVs
      as\n   well as the Type and Length fields.\n   The following MPLS-OAM-specific
      sub-TLVs MAY be included in the MPLS\n   OAM Configuration Sub-TLV:\n   o  BFD
      Configuration Sub-TLV MUST be included if either the CC, the\n      CV, or both
      OAM Function flags are being set in the OAM Function\n      Flags Sub-TLV [RFC7260].
      \ This sub-TLV carries additional sub-\n      TLVs; failure to include the correct
      sub-TLVs MUST result in an\n      error being generated: \"OAM Problem/Configuration
      Error\".  The\n      sub-TLVs are:\n      *  BFD Identifiers Sub-TLV MUST always
      be included.\n      *  Timer Negotiation Parameters Sub-TLV MUST be included
      if the N\n         flag is not set.\n      *  BFD Authentication Sub-TLV MAY
      be included if the I flag is\n         set.\n   o  Performance Monitoring Sub-TLV,
      which MUST be included if any of\n      the PM/Delay, PM/Loss, or PM/Throughput
      flags are set in the OAM\n      Function Flag Sub-TLV [RFC7260].  This sub-TLV
      MAY carry\n      additional sub-TLVs:\n      *  MPLS OAM PM Loss Sub-TLV MAY
      be included if the PM/Loss OAM\n         Function flag is set.  If the MPLS
      OAM PM Loss Sub-TLV is not\n         included, default configuration values
      are used.  The same sub-\n         TLV MAY also be included in case the PM/Throughput
      OAM Function\n         flag is set and there is the need to specify measurement\n
      \        intervals different from the default ones.  Since throughput\n         measurements
      use the same tool as loss measurements, the same\n         TLV is used.\n      *
      \ MPLS OAM PM Delay Sub-TLV MAY be included if the PM/Delay OAM\n         Function
      flag is set.  If the MPLS OAM PM Delay Sub-TLV is not\n         included, default
      configuration values are used.\n   o  MPLS OAM FMS Sub-TLV MAY be included if
      the FMS OAM Function flag\n      is set.  If the MPLS OAM FMS Sub-TLV is not
      included, default\n      configuration values are used.\n   The following are
      some additional rules of processing the MPLS OAM\n   Configuration Sub-TLV:\n
      \  o  The MPLS OAM Configuration Sub-TLV MAY be empty, i.e., have no\n      Value.
      \ If so, then its Length MUST be 8.  Then, all OAM functions\n      that have
      their corresponding flags set in the OAM Function Flags\n      Sub-TLV MUST
      be assigned their default values or left disabled.\n   o  A sub-TLV that doesn't
      have a corresponding flag set MUST be\n      silently ignored.\n   o  If multiple
      copies of a sub-TLV are present, then only the first\n      sub-TLV MUST be
      used and the remaining sub-TLVs MUST be silently\n      ignored.\n   However,
      not all the values can be derived from the standard RSVP-TE\n   objects, in
      particular the locally assigned Tunnel ID at the egress\n   cannot be derived
      by the ingress node.  Therefore, the full LSP MEP-\n   ID used by the ingress
      has to be carried in the BFD Identifiers Sub-\n   TLV in the Path message and
      the egress LSP MEP-ID in the same way in\n   the Resv message.\n"
    - contents:
      - "3.2.1.  CV Flag Rules of Use\n   If the CV flag is set in the OAM Function
        Flags Sub-TLV [RFC7260],\n   then the CC flag MUST be set as well because
        performing Connectivity\n   Verification implies performing Continuity Check
        as well.  The format\n   of an MPLS-TP CV/CC message is shown in [RFC6428].
        \ In order to\n   perform Connectivity Verification, the CV/CC message MUST
        contain the\n   \"LSP MEP-ID\" in addition to the BFD Control packet information.
        \ The\n   \"LSP MEP-ID\" contains four identifiers:\n      MPLS-TP Global_ID\n
        \     MPLS-TP Node Identifier\n      Tunnel_Num\n      LSP_Num\n   These values
        need to be correctly set by both ingress and egress when\n   transmitting
        a CV packet, and both ingress and egress need to know\n   what to expect when
        receiving a CV packet.  Most of these values can\n   be derived from the Path
        and Resv messages [RFC3473], which use a\n   5-tuple to uniquely identify
        an LSP within an operator's network.\n   This tuple is composed of a Tunnel
        Sender Address, Tunnel Endpoint\n   Address, Tunnel_ID, Extended Tunnel ID,
        and (GMPLS) LSP_ID.\n"
      title: 3.2.1.  CV Flag Rules of Use
    title: 3.2.  MPLS OAM Configuration Sub-TLV
  - contents:
    - "3.3.  BFD Configuration Sub-TLV\n   The BFD Configuration Sub-TLV (depicted
      below) is defined for BFD-\n   OAM-specific configuration parameters.  The BFD
      Configuration Sub-TLV\n   is carried as a sub-TLV of the MPLS OAM Configuration
      Sub-TLV.\n   This TLV accommodates generic BFD OAM information and carries sub-\n
      \  TLVs.\n    0                   1                   2                   3\n
      \   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \  |      BFD Conf. Type (1)       |           Length              |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \  |Vers.|N|S|I|G|U|B|       Reserved (set to all 0s)              |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \  |                                                               |\n   ~                           sub-TLVs
      \                           ~\n   |                                                               |\n
      \  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n                Figure
      2: BFD Configuration Sub-TLV Format\n   Type: 1, the BFD Configuration Sub-TLV.\n
      \  Length: Indicates the total length in octets, including sub-TLVs as\n   well
      as the Type and Length fields.\n   Version: Identifies the BFD protocol version.
      \ If the egress LSR does\n   not support the version, an error MUST be generated:
      \"OAM Problem/\n   Unsupported BFD Version\".\n   BFD Negotiation (N): If set
      timer negotiation/re-negotiation via BFD\n   Control messages is enabled, when
      cleared it is disabled.\n   Symmetric Session (S): If set, the BFD session MUST
      use symmetric\n   timing values.\n   Integrity (I): If set, BFD Authentication
      MUST be enabled.  If the\n   BFD Configuration Sub-TLV does not include a BFD
      Authentication Sub-\n   TLV, the authentication MUST use Keyed SHA1 with an
      empty pre-shared\n   key (all 0s).  If the egress LSR does not support BFD Authentication,\n
      \  an error MUST be generated: \"OAM Problem/BFD Authentication\n   unsupported\".\n
      \  Encapsulation Capability (G): If set, it shows the capability of\n   encapsulating
      BFD messages into The G-Ach channel.  If both the G bit\n   and U bit are set,
      configuration gives precedence to the G bit.  If\n   the egress LSR does not
      support any of the ingress LSR Encapsulation\n   Capabilities, an error MUST
      be generated: \"OAM Problem/Unsupported\n   BFD Encapsulation format\".\n   Encapsulation
      Capability (U): If set, it shows the capability of\n   encapsulating BFD messages
      into UDP packets.  If both the G bit and U\n   bit are set, configuration gives
      precedence to the G bit.  If the\n   egress LSR does not support any of the
      ingress LSR Encapsulation\n   Capabilities, an error MUST be generated: \"OAM
      Problem/Unsupported\n   BFD Encapsulation Format\".\n   Bidirectional (B): If
      set, it configures BFD in the Bidirectional\n   mode.  If it is not set, it
      configures BFD in unidirectional mode.\n   In the second case, the source node
      does not expect any Discriminator\n   values back from the destination node.\n
      \  Reserved: Reserved for future specifications; set to 0 on\n   transmission
      and ignored when received.\n   The BFD Configuration Sub-TLV MUST include the
      following sub-TLVs in\n   the Path message:\n   o  BFD Identifiers Sub-TLV;
      and\n   o  Negotiation Timer Parameters Sub-TLV if the N flag is cleared.\n
      \  The BFD Configuration Sub-TLV MUST include the following sub-TLVs in\n   the
      Resv message:\n   o  BFD Identifiers Sub-TLV; and\n   o  Negotiation Timer Parameters
      Sub-TLV if:\n      *  the N and S flags are cleared; or if\n      *  the N flag
      is cleared and the S flag is set and the Negotiation\n         Timer Parameters
      Sub-TLV received by the egress contains\n         unsupported values.  In this
      case, an updated Negotiation Timer\n         Parameters Sub-TLV containing values
      supported by the egress\n         LSR MUST be returned to the ingress.\n"
    - contents:
      - "3.3.1.  BFD Identifiers Sub-TLV\n   The BFD Identifiers Sub-TLV is carried
        as a sub-TLV of the BFD\n   Configuration Sub-TLV and is depicted below.\n
        \   0                   1                   2                   3\n    0 1
        2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |   BFD Identifiers Type (1)    |            Length             |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |                     Local Discriminator                       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |                       MPLS-TP Global_ID                       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |                    MPLS-TP Node Identifier                    |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |           Tunnel_Num          |            LSP_Num            |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \                Figure 3: BFD Identifiers Sub-TLV Format\n   Type: 1, the
        BFD Identifiers Sub-TLV.\n   Length: Indicates the TLV total length in octets,
        including the Type\n   and Length fields (20).\n   Local Discriminator: A
        unique, non-zero discriminator value generated\n   by the transmitting system
        and referring to itself; it is used to de-\n   multiplex multiple BFD sessions
        between the same pair of systems as\n   defined in [RFC5880].\n   MPLS-TP
        Global_ID, Node Identifier, Tunnel_Num, and LSP_Num: All set\n   as defined
        in [RFC6370].\n"
      title: 3.3.1.  BFD Identifiers Sub-TLV
    - contents:
      - "3.3.2.  Negotiation Timer Parameters Sub-TLV\n   The Negotiation Timer Parameters
        Sub-TLV is carried as a sub-TLV of\n   the BFD Configuration Sub-TLV and is
        depicted below.\n    0                   1                   2                   3\n
        \   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |    Nego. Timer Type (2)       |             Length            |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |         Acceptable Min. Asynchronous TX interval              |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |         Acceptable Min. Asynchronous RX interval              |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |               Required Echo TX Interval                       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \          Figure 4: Negotiation Timer Parameters Sub-TLV Format\n   Type:
        2, the Negotiation Timer Parameters Sub-TLV.\n   Length: Indicates the TLV
        total length in octets, including Type and\n   Length fields (16).\n   Acceptable
        Min. Asynchronous TX interval: If the S flag is set in the\n   BFD Configuration
        Sub-TLV, it expresses the desired time interval (in\n   microseconds) at which
        the ingress LER intends to both transmit and\n   receive BFD periodic control
        packets.  If the egress LSR cannot\n   support the value, it SHOULD reply
        with a supported interval.\n   If the S flag is cleared in the BFD Configuration
        Sub-TLV, this field\n   expresses the desired time interval (in microseconds)
        at which the\n   ingress LSR intends to transmit BFD periodic control packets.\n
        \  Acceptable Min. Asynchronous RX interval: If the S flag is set in the\n
        \  BFD Configuration Sub-TLV, this field MUST be set equal to\n   \"Acceptable
        Min. Asynchronous TX interval\" on transmit and MUST be\n   ignored on receipt
        since it has no additional meaning with respect to\n   the one described for
        \"Acceptable Min. Asynchronous TX interval\".\n   If the S flag is cleared
        in the BFD Configuration Sub-TLV, it\n   expresses the minimum time interval
        (in microseconds) at which the\n   ingress/egress LSRs can receive periodic
        BFD Control packets.  If\n   this value is greater than the \"Acceptable Min.
        Asynchronous TX\n   interval\" received from the ingress/egress LSR, the receiving
        LSR\n   MUST adopt the interval expressed in the \"Acceptable Min.\n   Asynchronous
        RX interval\".\n   Required Echo TX Interval: The minimum interval (in microseconds)\n
        \  between received BFD Echo packets that this system is capable of\n   supporting,
        less any jitter applied by the sender as described in\n   Section 6.8.9 of
        [RFC5880].  This value is also an indication for the\n   receiving system
        of the minimum interval between transmitted BFD Echo\n   packets.  If this
        value is zero, the transmitting system does not\n   support the receipt of
        BFD Echo packets.  If the LSR node cannot\n   support this value, it SHOULD
        reply with a supported value (which may\n   be zero if Echo is not supported).\n"
      title: 3.3.2.  Negotiation Timer Parameters Sub-TLV
    - contents:
      - "3.3.3.  BFD Authentication Sub-TLV\n   The BFD Authentication Sub-TLV is
        carried as a sub-TLV of the BFD\n   Configuration Sub-TLV and is depicted
        below.\n    0                   1                   2                   3\n
        \   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |      BFD Auth. Type (3)       |            Length             |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |   Auth Type   |  Auth Key ID  |         Reserved (0s)         |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \               Figure 5: BFD Authentication Sub-TLV Format\n   Type: 3, the
        BFD Authentication Sub-TLV.\n   Length: Indicates the TLV total length in
        octets, including Type and\n   Length fields (8).\n   Auth Type: Indicates
        which type of authentication to use.  The same\n   values are used as are
        defined in Section 4.1 of [RFC5880].  If the\n   egress LSR does not support
        this type, an \"OAM Problem/Unsupported\n   BFD Authentication Type\" error
        MUST be generated.\n   Auth Key ID: Indicates which authentication key or
        password\n   (depending on Auth Type) should be used.  How the key exchange
        is\n   performed is out of scope of this document.  If the egress LSR does\n
        \  not support this Auth Key ID, an \"OAM Problem/Mismatch of BFD\n   Authentication
        Key ID\" error MUST be generated.\n   Reserved: Reserved for future specifications;
        set to 0 on\n   transmission and ignored when received.\n"
      title: 3.3.3.  BFD Authentication Sub-TLV
    - contents:
      - "3.3.4.  Traffic Class Sub-TLV\n   The Traffic Class Sub-TLV is carried as
        a sub-TLV of the BFD\n   Configuration Sub-TLV or Fault Management Signal
        Sub-TLV\n   (Section 3.5) and is depicted in Figure 6.\n    0                   1
        \                  2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3
        4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |  Traffic Class Sub-Type (4)   |            Length             |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |  TC |                 Reserved (set to all 0s)                |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \                 Figure 6: Traffic Class Sub-TLV Format\n   Type: 4, the
        Traffic Class Sub-TLV.\n   Length: Indicates the length of the Value field
        in octets (4).\n   Traffic Class (TC): Identifies the TC [RFC5462] for periodic\n
        \  continuity monitoring messages or packets with fault management\n   information.\n
        \  If the Traffic Class Sub-TLV is present, then the value of the TC\n   field
        MUST be used as the value of the TC field of an MPLS label\n   stack entry.
        \ If the Traffic Class Sub-TLV is absent from BFD\n   Configuration Sub-TLV
        or Fault Management Signal Sub-TLV, then\n   selection of the TC value is
        a local decision.\n"
      title: 3.3.4.  Traffic Class Sub-TLV
    title: 3.3.  BFD Configuration Sub-TLV
  - contents:
    - "3.4.  Performance Monitoring Sub-TLV\n   If the OAM Function Flags Sub-TLV
      has either the PM/Loss, PM/Delay,\n   or PM/Throughput flag set, the Performance
      Monitoring Sub-TLV MUST be\n   present in the MPLS OAM Configuration Sub-TLV.
      \ Failure to include\n   the correct sub-TLVs MUST result in an \"OAM Problem/Configuration\n
      \  Error\" message being generated.\n   The Performance Monitoring Sub-TLV provides
      the configuration\n   information mentioned in Section 7 of [RFC6374].  It includes
      support\n   for the configuration of quality thresholds and, as described in\n
      \  [RFC6374], \"the crossing of which will trigger warnings or alarms,\n   and
      result reporting and exception notification will be integrated\n   into the
      system-wide network management and reporting framework.\"\n   In case the values
      need to be different than the default ones, the\n   Performance Monitoring Sub-TLV
      includes the following sub-TLVs:\n   o  MPLS OAM PM Loss Sub-TLV if the PM/Loss
      and/or PM/Throughput flag\n      is set in the OAM Function Flags Sub-TLV; and\n
      \  o  MPLS OAM PM Delay Sub-TLV if the PM/Delay flag is set in the OAM\n      Function
      Flags Sub-TLV.\n   The Performance Monitoring Sub-TLV depicted below is carried
      as a\n   sub-TLV of the MPLS OAM Configuration Sub-TLV.\n    0                   1
      \                  2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4
      5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \  |    Perf. Monitoring Type (2)  |          Length               |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \  |D|L|J|Y|K|C|            Reserved (set to all 0s)               |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \  |                                                               |\n   ~                           sub-TLVs
      \                           ~\n   |                                                               |\n
      \  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n              Figure
      7: Performance Monitoring Sub-TLV Format\n   Type: 2, the Performance Monitoring
      Sub-TLV.\n   Length: Indicates the TLV total length in octets, including sub-TLVs\n
      \  as well as Type and Length fields.\n   Configuration Flags (for the specific
      function description please\n   refer to [RFC6374]):\n   o  D: Delay inferred/direct
      (0=INFERRED, 1=DIRECT).  If the egress\n      LSR does not support the specified
      mode, an \"OAM Problem/\n      Unsupported Delay Mode\" error MUST be generated.\n
      \  o  L: Loss inferred/direct (0=INFERRED, 1=DIRECT).  If the egress LSR\n      does
      not support the specified mode, an \"OAM Problem/Unsupported\n      Loss Mode\"
      error MUST be generated.\n   o  J: Delay variation/jitter (1=ACTIVE, 0=NOT ACTIVE).
      \ If the egress\n      LSR does not support Delay variation measurements and
      the J flag\n      is set, an \"OAM Problem/Delay variation unsupported\" error
      MUST be\n      generated.\n   o  Y: Dyadic (1=ACTIVE, 0=NOT ACTIVE).  If the
      egress LSR does not\n      support Dyadic mode and the Y flag is set, an \"OAM
      Problem/Dyadic\n      mode unsupported\" error MUST be generated.\n   o  K:
      Loopback (1=ACTIVE, 0=NOT ACTIVE).  If the egress LSR does not\n      support
      Loopback mode and the K flag is set, an \"OAM Problem/\n      Loopback mode
      unsupported\" error MUST be generated.\n   o  C: Combined (1=ACTIVE, 0=NOT ACTIVE).
      \ If the egress LSR does not\n      support Combined mode and the C flag is
      set, an \"OAM Problem/\n      Combined mode unsupported\" error MUST be generated.\n
      \  Reserved: Reserved for future specifications; set to 0 on\n   transmission
      and ignored when received.\n"
    - contents:
      - "3.4.1.  MPLS OAM PM Loss Sub-TLV\n   The MPLS OAM PM Loss Sub-TLV depicted
        below is carried as a sub-TLV\n   of the Performance Monitoring Sub-TLV.\n
        \   0                   1                   2                   3\n    0 1
        2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |       PM Loss Type (1)        |          Length               |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  | OTF |T|B|              Reserved (set to all 0s)               |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |                    Measurement Interval                       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |                       Test Interval                           |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |                      Loss Threshold                           |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \                Figure 8: MPLS OAM PM Loss Sub-TLV Format\n   Type: 1, the
        MPLS OAM PM Loss Sub-TLV.\n   Length: Indicates the length of the parameters
        in octets, including\n   Type and Length fields (20).\n   Origin Timestamp
        Format (OTF): Origin Timestamp Format of the Origin\n   Timestamp field described
        in [RFC6374].  By default, it is set to\n   IEEE 1588 version 1.  If the egress
        LSR cannot support this value, an\n   \"OAM Problem/Unsupported Timestamp
        Format\" error MUST be generated.\n   Configuration Flags (please refer to
        [RFC6374] for further details):\n   o  T: Traffic-class-specific measurement
        indicator.  Set to 1 when\n      the measurement operation is scoped to packets
        of a particular\n      traffic class (Differentiated Service Code Point (DSCP)
        value) and\n      zero otherwise.  When set to 1, the Differentiated Services
        (DS)\n      field of the message indicates the measured traffic class.  By\n
        \     default, it is set to 1.\n   o  B: Octet (byte) count.  When set to
        1, it indicates that the\n      Counter 1-4 fields represent octet counts.
        \ When set to 0, it\n      indicates that the Counter 1-4 fields represent
        packet counts.  By\n      default, it is set to 0.\n   Reserved: Reserved
        for future specifications; set to 0 on\n   transmission and ignored when received.\n
        \  Measurement Interval: The time interval (in milliseconds) at which\n   Loss
        Measurement query messages MUST be sent in both directions.  If\n   the egress
        LSR cannot support the value, it SHOULD reply with a\n   supported interval.
        \ By default, it is set to 100 milliseconds as per\n   [RFC6375].\n   Test
        Interval: Test messages interval (in milliseconds) as described\n   in [RFC6374].
        \ By default, it is set to 10 milliseconds as per\n   [RFC6375].  If the egress
        LSR cannot support the value, it SHOULD\n   reply with a supported interval.\n
        \  Loss Threshold: The threshold value of measured lost packets per\n   measurement
        over which action(s) SHOULD be triggered.\n"
      title: 3.4.1.  MPLS OAM PM Loss Sub-TLV
    - contents:
      - "3.4.2.  MPLS OAM PM Delay Sub-TLV\n   The MPLS OAM PM Delay Sub-TLV depicted
        below is carried as a sub-TLV\n   of the Performance Monitoring Sub-TLV.\n
        \   0                   1                   2                   3\n    0 1
        2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |      PM Delay Type (2)        |          Length               |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  | OTF |T|B|             Reserved (set to all 0s)                |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |                    Measurement Interval                       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |                       Test Interval                           |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |                      Delay Threshold                          |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \               Figure 9: MPLS OAM PM Delay Sub-TLV Format\n   Type: 2, the
        MPLS OAM PM Delay Sub-TLV.\n   Length: Indicates the length of the parameters
        in octets, including\n   Type and Length fields (20).\n   OTF: Origin Timestamp
        Format of the Origin Timestamp field described\n   in [RFC6374].  By default,
        it is set to IEEE 1588 version 1.  If the\n   egress LSR cannot support this
        value, an \"OAM Problem/Unsupported\n   Timestamp Format\" error MUST be generated.\n
        \  Configuration Flags (please refer to [RFC6374] for further details):\n
        \  o  T: Traffic-class-specific measurement indicator.  Set to 1 when\n      the
        measurement operation is scoped to packets of a particular\n      traffic
        class (Differentiated Services Code Point (DSCP) value)\n      and zero otherwise.
        \ When set to 1, the Differentiated Service\n      (DS) field of the message
        indicates the measured traffic class.\n      By default, it is set to 1.\n
        \  o  B: Octet (byte) count.  When set to 1, it indicates that the\n      Counter
        1-4 fields represent octet counts.  When set to 0, it\n      indicates that
        the Counter 1-4 fields represent packet counts.  By\n      default, it is
        set to 0.\n   Reserved: Reserved for future specifications; set to 0 on\n
        \  transmission and ignored when received.\n   Measurement Interval: The time
        interval (in milliseconds) at which\n   Delay Measurement query messages MUST
        be sent on both directions.  If\n   the egress LSR cannot support the value,
        it SHOULD reply with a\n   supported interval.  By default, it is set to 1000
        milliseconds as\n   per [RFC6375].\n   Test Interval: Test messages interval
        (in milliseconds) as described\n   in [RFC6374].  By default, it is set to
        10 milliseconds as per\n   [RFC6375].  If the egress LSR cannot support the
        value, it SHOULD\n   reply with a supported interval.\n   Delay Threshold:
        The threshold value of measured two-way delay (in\n   milliseconds) over which
        action(s) SHOULD be triggered.\n"
      title: 3.4.2.  MPLS OAM PM Delay Sub-TLV
    title: 3.4.  Performance Monitoring Sub-TLV
  - contents:
    - "3.5.  MPLS OAM FMS Sub-TLV\n   The MPLS OAM FMS Sub-TLV depicted below is carried
      as a sub-TLV of\n   the MPLS OAM Configuration Sub-TLV.  When both working and
      protection\n   paths are signaled, both LSPs SHOULD be signaled with identical\n
      \  settings of the E flag, T flag, and the refresh timer.\n    0                   1
      \                  2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4
      5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \  |     MPLS OAM FMS Type (3)     |            Length             |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \  |E|S|T|           Reserved            |      Refresh Timer      |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \  |                                                               |\n   ~                           Sub-TLVs
      \                           ~\n   |                                                               |\n
      \  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n                  Figure
      10: MPLS OAM FMS Sub-TLV Format\n   Type: 3, the MPLS OAM FMS Sub-TLV.\n   Length:
      Indicates the TLV total length in octets, including Type and\n   Length fields
      (8).\n   FMS Signal Flags are used to enable the FMS signals at MEPs and the\n
      \  server MEPs of the links over which the LSP is forwarded.  In this\n   document,
      only the S flag pertains to server MEPs.\n   The following flags are defined:\n
      \     E: Enable Alarm Indication Signal (AIS) and Lock Report (LKR)\n      signaling
      as described in [RFC6427].  The default value is 1\n      (enabled).  If the
      egress MEP does not support FMS signal\n      generation, an \"OAM Problem/Fault
      management signaling\n      unsupported\" error MUST be generated.\n      S:
      Indicate to a server MEP that it should transmit AIS and LKR\n      signals
      on client LSPs.  The default value is 0 (disabled).  If a\n      server MEP,
      which is capable of generating FMS messages, is for\n      some reason unable
      to do so for the LSP being signaled an \"OAM\n      Problem/Unable to create
      fault management association\" error MUST\n      be generated.\n      T: Set
      timer value, enabled by the configuration of a specific\n      timer value.
      \ The Default value is 0 (disabled).\n      Remaining bits: Reserved for a future
      specification and set to 0.\n   Refresh Timer: Indicates (in seconds) the refresh
      timer of fault\n   indication messages.  The value MUST be between 1 to 20 seconds
      as\n   specified for the Refresh Timer field in [RFC6427].  If the egress\n
      \  LSR cannot support the value, it SHOULD reply with a supported timer\n   value.\n
      \  The Fault Management Signals Sub-TLV MAY include the Traffic Class\n   Sub-TLV
      (Section 3.3.4.)  If the Traffic Class Sub-TLV is present,\n   the value of
      the TC field MUST be used as the value of the TC field\n   of an MPLS label
      stack entry for FMS messages.  If the Traffic Class\n   Sub-TLV is absent, then
      selection of the TC value is local decision.\n"
    title: 3.5.  MPLS OAM FMS Sub-TLV
  title: 3.  Theory of Operations
- contents:
  - "4.  Summary of MPLS OAM Configuration Errors\n   In addition to error values
    specified in [RFC7260], this document\n   defines the following values for the
    \"OAM Problem\" error code:\n   o  If an egress LSR does not support the specified
    BFD version, an\n      error MUST be generated: \"OAM Problem/Unsupported BFD
    Version\".\n   o  If an egress LSR does not support the specified BFD Encapsulation\n
    \     format, an error MUST be generated: \"OAM Problem/Unsupported BFD\n      Encapsulation
    format\".\n   o  If an egress LSR does not support BFD Authentication and it is\n
    \     requested, an error MUST be generated: \"OAM Problem/BFD\n      Authentication
    unsupported\".\n   o  If an egress LSR does not support the specified BFD Authentication\n
    \     Type, an error MUST be generated: \"OAM Problem/Unsupported BFD\n      Authentication
    Type\".\n   o  If an egress LSR is not able to use the specified Authentication\n
    \     Key ID, an error MUST be generated: \"OAM Problem/Mismatch of BFD\n      Authentication
    Key ID\".\n   o  If an egress LSR does not support the specified Timestamp Format,\n
    \     an error MUST be generated: \"OAM Problem/Unsupported Timestamp\n      Format\".\n
    \  o  If an egress LSR does not support the specified Delay mode, an\n      \"OAM
    Problem/Unsupported Delay Mode\" error MUST be generated.\n   o  If an egress
    LSR does not support the specified Loss mode, an \"OAM\n      Problem/Unsupported
    Loss Mode\" error MUST be generated.\n   o  If an egress LSR does not support
    Delay variation measurements and\n      it is requested, an \"OAM Problem/Delay
    variation unsupported\"\n      error MUST be generated.\n   o  If an egress LSR
    does not support Dyadic mode and it is requested,\n      an \"OAM Problem/Dyadic
    mode unsupported\" error MUST be generated.\n   o  If an egress LSR does not support
    Loopback mode and it is\n      requested, an \"OAM Problem/Loopback mode unsupported\"
    error MUST\n      be generated.\n   o  If an egress LSR does not support Combined
    mode and it is\n      requested, an \"OAM Problem/Combined mode unsupported\"
    error MUST\n      be generated.\n   o  If an egress LSR does not support Fault
    Monitoring signals and it\n      is requested, an \"OAM Problem/Fault management
    signaling\n      unsupported\" error MUST be generated.\n   o  If an intermediate
    server MEP supports Fault Monitoring signals\n      but is unable to create an
    association when requested to do so, an\n      \"OAM Problem/Unable to create
    fault management association\" error\n      MUST be generated.\n"
  title: 4.  Summary of MPLS OAM Configuration Errors
- contents:
  - '5.  IANA Considerations

    '
  - contents:
    - "5.1.  MPLS OAM Type\n   This document specifies the new MPLS OAM type.  IANA
      has allocated a\n   new type (3) from the \"OAM Types\" space of the \"RSVP-TE
      OAM\n   Configuration Registry\".\n                    +------+-------------+-----------+\n
      \                   | Type | Description | Reference |\n                    +------+-------------+-----------+\n
      \                   |  3   |   MPLS OAM  | [RFC7487] |\n                    +------+-------------+-----------+\n
      \                         Table 1: MPLS OAM Type\n"
    title: 5.1.  MPLS OAM Type
  - contents:
    - "5.2.  MPLS OAM Configuration Sub-TLV\n   This document specifies the MPLS OAM
      Configuration Sub-TLV.  IANA has\n   allocated a new type (33) from the OAM
      Sub-TLV space of the \"RSVP-TE\n   OAM Configuration Registry\".\n           +------+--------------------------------+-----------+\n
      \          | Type |          Description           | Reference |\n           +------+--------------------------------+-----------+\n
      \          |  33  | MPLS OAM Configuration Sub-TLV | [RFC7487] |\n           +------+--------------------------------+-----------+\n
      \              Table 2: MPLS OAM Configuration Sub-TLV Type\n"
    title: 5.2.  MPLS OAM Configuration Sub-TLV
  - contents:
    - "5.3.  MPLS OAM Configuration Sub-TLV Types\n   IANA has created an \"MPLS OAM
      Configuration Sub-TLV Types\" sub-\n   registry in the \"RSVP-TE OAM Configuration
      Registry\" for the sub-TLVs\n   carried in the MPLS OAM Configuration Sub-TLV.
      \ Values from this new\n   sub-registry are to be allocated through IETF Review
      except for the\n   \"Reserved for Experimental Use\" range.  This document defines
      the\n   following types:\n       +-------------+--------------------------------+-----------+\n
      \      |     Type    |          Description           | Reference |\n       +-------------+--------------------------------+-----------+\n
      \      |      0      |            Reserved            | [RFC7487] |\n       |
      \     1      |   BFD Configuration Sub-TLV    | [RFC7487] |\n       |      2
      \     | Performance Monitoring Sub-TLV | [RFC7487] |\n       |      3      |
      \     MPLS OAM FMS Sub-TLV      | [RFC7487] |\n       |   4-65532   |           Unassigned
      \          |           |\n       | 65533-65534 | Reserved for Experimental Use
      \ | [RFC7487] |\n       |    65535    |            Reserved            | [RFC7487]
      |\n       +-------------+--------------------------------+-----------+\n               Table
      3: MPLS OAM Configuration Sub-TLV Types\n"
    title: 5.3.  MPLS OAM Configuration Sub-TLV Types
  - contents:
    - "5.4.  BFD Configuration Sub-TLV Types\n   IANA has created a \"BFD Configuration
      Sub-TLV Types\" sub-registry in\n   the \"RSVP-TE OAM Configuration Registry\"
      for the sub-TLV types\n   carried in the BFD Configuration Sub-TLV.  Values
      from this new sub-\n   registry are to be allocated through IETF Review except
      for the\n   \"Reserved for Experimental Use\" range.  This document defines
      the\n   following types:\n    +-------------+--------------------------------------+-----------+\n
      \   |     Type    |             Description              | Reference |\n    +-------------+--------------------------------------+-----------+\n
      \   |      0      |               Reserved               | [RFC7487] |\n    |
      \     1      |       BFD Identifiers Sub-TLV        | [RFC7487] |\n    |      2
      \     | Negotiation Timer Parameters Sub-TLV | [RFC7487] |\n    |      3      |
      \     BFD Authentication Sub-TLV      | [RFC7487] |\n    |      4      |        Traffic
      Class Sub-TLV         | [RFC7487] |\n    |   5-65532   |              Unassigned
      \             |           |\n    | 65533-65534 |    Reserved for Experimental
      Use     | [RFC7487] |\n    |    65535    |               Reserved               |
      [RFC7487] |\n    +-------------+--------------------------------------+-----------+\n
      \                Table 4: BFD Configuration Sub-TLV Types\n"
    title: 5.4.  BFD Configuration Sub-TLV Types
  - contents:
    - "5.5.  Performance Monitoring Sub-TLV Types\n   IANA has created a \"Performance
      Monitoring Sub-TLV Type\" sub-registry\n   in the \"RSVP-TE OAM Configuration
      Registry\" for the sub-TLV types\n   carried in the Performance Monitoring Sub-TLV.
      \ Values from this new\n   sub-registry are to be allocated through IETF Review
      except for the\n   \"Reserved for Experimental Use\" range.  This document defines
      the\n   following types:\n        +-------------+-------------------------------+-----------+\n
      \       |     Type    |          Description          | Reference |\n        +-------------+-------------------------------+-----------+\n
      \       |      0      |            Reserved           | [RFC7487] |\n        |
      \     1      |    MPLS OAM PM Loss Sub-TLV   | [RFC7487] |\n        |      2
      \     |   MPLS OAM PM Delay Sub-TLV   | [RFC7487] |\n        |   3-65532   |
      \          Unassigned          |           |\n        | 65533-65534 | Reserved
      for Experimental Use | [RFC7487] |\n        |    65535    |            Reserved
      \          | [RFC7487] |\n        +-------------+-------------------------------+-----------+\n
      \              Table 5: Performance Monitoring Sub-TLV Types\n"
    title: 5.5.  Performance Monitoring Sub-TLV Types
  - contents:
    - "5.6.  New RSVP-TE Error Codes\n   The following values have been assigned under
      the \"OAM Problem\" error\n   code [RFC7260] by IETF Review process:\n   +------------------+------------------------------------+-----------+\n
      \  | Error Value Sub- | Description                        | Reference |\n   |
      Codes            |                                    |           |\n   +------------------+------------------------------------+-----------+\n
      \  | 13               | Unsupported BFD Version            | [RFC7487] |\n   |
      14               | Unsupported BFD Encapsulation      | [RFC7487] |\n   |                  |
      format                             |           |\n   | 15               | Unsupported
      BFD Authentication     | [RFC7487] |\n   |                  | Type                               |
      \          |\n   | 16               | Mismatch of BFD Authentication Key | [RFC7487]
      |\n   |                  | ID                                 |           |\n
      \  | 17               | Unsupported Timestamp Format       | [RFC7487] |\n   |
      18               | Unsupported Delay Mode             | [RFC7487] |\n   | 19
      \              | Unsupported Loss Mode              | [RFC7487] |\n   | 20               |
      Delay variation unsupported        | [RFC7487] |\n   | 21               | Dyadic
      mode unsupported            | [RFC7487] |\n   | 22               | Loopback
      mode unsupported          | [RFC7487] |\n   | 23               | Combined mode
      unsupported          | [RFC7487] |\n   | 24               | Fault management
      signaling         | [RFC7487] |\n   |                  | unsupported                        |
      \          |\n   | 25               | Unable to create fault management  | [RFC7487]
      |\n   |                  | association                        |           |\n
      \  +------------------+------------------------------------+-----------+\n                Table
      6: MPLS OAM Configuration Error Codes\n   The \"Sub-Codes - 40 OAM Problem\"
      sub-registry is located in the\n   \"Error Codes and Globally-Defined Error
      Value Sub-Codes\" registry.\n"
    title: 5.6.  New RSVP-TE Error Codes
  title: 5.  IANA Considerations
- contents:
  - "6.  Security Considerations\n   The signaling of OAM-related parameters and the
    automatic\n   establishment of OAM entities introduces additional security\n   considerations
    to those discussed in [RFC3473].  In particular, a\n   network element could be
    overloaded if an attacker were to request\n   high frequency liveliness monitoring
    of a large number of LSPs,\n   targeting a single network element as discussed
    in [RFC7260] and\n   [RFC6060].\n   Additional discussion of security for MPLS
    and GMPLS protocols can be\n   found in [RFC5920].\n"
  title: 6.  Security Considerations
- contents:
  - '7.  References

    '
  - contents:
    - "7.1.  Normative References\n   [RFC2119]  Bradner, S., \"Key words for use
      in RFCs to Indicate\n              Requirement Levels\", BCP 14, RFC 2119, March
      1997,\n              <http://www.rfc-editor.org/info/rfc2119>.\n   [RFC3473]
      \ Berger, L., Ed., \"Generalized Multi-Protocol Label\n              Switching
      (GMPLS) Signaling Resource ReserVation Protocol-\n              Traffic Engineering
      (RSVP-TE) Extensions\", RFC 3473,\n              January 2003, <http://www.rfc-editor.org/info/rfc3473>.\n
      \  [RFC5654]  Niven-Jenkins, B., Ed., Brungard, D., Ed., Betts, M., Ed.,\n              Sprecher,
      N., and S. Ueno, \"Requirements of an MPLS\n              Transport Profile\",
      RFC 5654, September 2009,\n              <http://www.rfc-editor.org/info/rfc5654>.\n
      \  [RFC5860]  Vigoureux, M., Ed., Ward, D., Ed., and M. Betts, Ed.,\n              \"Requirements
      for Operations, Administration, and\n              Maintenance (OAM) in MPLS
      Transport Networks\", RFC 5860,\n              May 2010, <http://www.rfc-editor.org/info/rfc5860>.\n
      \  [RFC5880]  Katz, D. and D. Ward, \"Bidirectional Forwarding Detection\n              (BFD)\",
      RFC 5880, June 2010,\n              <http://www.rfc-editor.org/info/rfc5880>.\n
      \  [RFC5884]  Aggarwal, R., Kompella, K., Nadeau, T., and G. Swallow,\n              \"Bidirectional
      Forwarding Detection (BFD) for MPLS Label\n              Switched Paths (LSPs)\",
      RFC 5884, June 2010,\n              <http://www.rfc-editor.org/info/rfc5884>.\n
      \  [RFC6060]  Fedyk, D., Shah, H., Bitar, N., and A. Takacs,\n              \"Generalized
      Multiprotocol Label Switching (GMPLS) Control\n              of Ethernet Provider
      Backbone Traffic Engineering (PBB-\n              TE)\", RFC 6060, March 2011,\n
      \             <http://www.rfc-editor.org/info/rfc6060>.\n   [RFC6370]  Bocci,
      M., Swallow, G., and E. Gray, \"MPLS Transport\n              Profile (MPLS-TP)
      Identifiers\", RFC 6370, September 2011,\n              <http://www.rfc-editor.org/info/rfc6370>.\n
      \  [RFC6374]  Frost, D. and S. Bryant, \"Packet Loss and Delay\n              Measurement
      for MPLS Networks\", RFC 6374, September 2011,\n              <http://www.rfc-editor.org/info/rfc6374>.\n
      \  [RFC6427]  Swallow, G., Ed., Fulignoli, A., Ed., Vigoureux, M., Ed.,\n              Boutros,
      S., and D. Ward, \"MPLS Fault Management\n              Operations, Administration,
      and Maintenance (OAM)\", RFC\n              6427, November 2011,\n              <http://www.rfc-editor.org/info/rfc6427>.\n
      \  [RFC6428]  Allan, D., Ed., Swallow Ed., G., and J. Drake Ed.,\n              \"Proactive
      Connectivity Verification, Continuity Check,\n              and Remote Defect
      Indication for the MPLS Transport\n              Profile\", RFC 6428, November
      2011,\n              <http://www.rfc-editor.org/info/rfc6428>.\n   [RFC7260]
      \ Takacs, A., Fedyk, D., and J. He, \"GMPLS RSVP-TE\n              Extensions
      for Operations, Administration, and Maintenance\n              (OAM) Configuration\",
      RFC 7260, June 2014,\n              <http://www.rfc-editor.org/info/rfc7260>.\n"
    title: 7.1.  Normative References
  - contents:
    - "7.2.  Informative References\n   [LSP-PING-CONF]\n              Bellagamba,
      E., Mirsky, G., Andersson, L., Skoldstrom, P.,\n              Ward, D., and
      J. Drake, \"Configuration of Proactive\n              Operations, Administration,
      and Maintenance (OAM)\n              Functions for MPLS-based Transport Networks
      using LSP\n              Ping\", Work in Progress, draft-ietf-mpls-lsp-ping-mpls-tp-\n
      \             oam-conf-09, January 2015.\n   [RFC5462]  Andersson, L. and R.
      Asati, \"Multiprotocol Label Switching\n              (MPLS) Label Stack Entry:
      \"EXP\" Field Renamed to \"Traffic\n              Class\" Field\", RFC 5462,
      February 2009,\n              <http://www.rfc-editor.org/info/rfc5462>.\n   [RFC5920]
      \ Fang, L., Ed., \"Security Framework for MPLS and GMPLS\n              Networks\",
      RFC 5920, July 2010,\n              <http://www.rfc-editor.org/info/rfc5920>.\n
      \  [RFC6371]  Busi, I., Ed. and D. Allan, Ed., \"Operations,\n              Administration,
      and Maintenance Framework for MPLS-Based\n              Transport Networks\",
      RFC 6371, September 2011,\n              <http://www.rfc-editor.org/info/rfc6371>.\n
      \  [RFC6375]  Frost, D., Ed. and S. Bryant, Ed., \"A Packet Loss and\n              Delay
      Measurement Profile for MPLS-Based Transport\n              Networks\", RFC
      6375, September 2011,\n              <http://www.rfc-editor.org/info/rfc6375>.\n"
    title: 7.2.  Informative References
  title: 7.  References
- contents:
  - "Acknowledgements\n   The authors would like to thank David Allan, Lou Berger,
    Annamaria\n   Fulignoli, Eric Gray, Andras Kern, David Jocha, and David Sinicrope\n
    \  for their useful comments.\n"
  title: Acknowledgements
- contents:
  - "Contributors\n   This document is the result of a large team of authors and\n
    \  contributors.  The following is a list of the contributors:\n   John Drake\n
    \  Benoit Tremblay\n"
  title: Contributors
- contents:
  - "Authors' Addresses\n   Elisa Bellagamba\n   Ericsson\n   EMail: elisa.bellagamba@ericsson.com\n
    \  Attila Takacs\n   Ericsson\n   EMail: attila.takacs@ericsson.com\n   Gregory
    Mirsky\n   Ericsson\n   EMail: Gregory.Mirsky@ericsson.com\n   Loa Andersson\n
    \  Huawei Technologies\n   EMail: loa@mail01.huawei.com\n   Pontus Skoldstrom\n
    \  Acreo AB\n   Electrum 236\n   Kista  164 40\n   Sweden\n   Phone: +46 70 7957731\n
    \  EMail: pontus.skoldstrom@acreo.se\n   Dave Ward\n   Cisco\n   EMail: dward@cisco.com\n"
  title: Authors' Addresses
