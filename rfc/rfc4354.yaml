- title: __initial_text__
  contents:
  - "   A Session Initiation Protocol (SIP) Event Package and Data Format\n      \
    \              for Various Settings in Support\n            for the Push-to-Talk\
    \ over Cellular (PoC) Service\n"
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This memo provides information for the Internet community.\
    \  It does\n   not specify an Internet standard of any kind.  Distribution of\
    \ this\n   memo is unlimited.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (C) The Internet Society (2006).\n"
- title: Abstract
  contents:
  - "Abstract\n   The Open Mobile Alliance (OMA) is defining the Push-to-talk over\n\
    \   Cellular (PoC) service where SIP is the protocol used to establish\n   half-duplex\
    \ media sessions across different participants, to send\n   instant messages,\
    \ etc.  This document defines a SIP event package to\n   support publication,\
    \ subscription, and notification of additional\n   capabilities required by the\
    \ PoC service.  This SIP event package is\n   applicable to the PoC service and\
    \ may not be applicable to the\n   general Internet.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1. Introduction ....................................................3\n\
    \   2. Terminology .....................................................5\n  \
    \ 3. Applicability Statement .........................................5\n   4.\
    \ Requirements ....................................................5\n   5. The\
    \ \"poc-settings\" Event Package ................................6\n      5.1.\
    \ Package Name ...............................................6\n      5.2. Event\
    \ Package Parameters ...................................7\n      5.3. SUBSCRIBE\
    \ Bodies ...........................................7\n      5.4. Subscription\
    \ Duration ......................................7\n      5.5. NOTIFY Bodies ..............................................7\n\
    \      5.6. Notifier Processing of SUBSCRIBE Requests ..................8\n  \
    \         5.6.1. Authentication ......................................8\n    \
    \       5.6.2. Authorization .......................................8\n      5.7.\
    \ Notifier Generation of NOTIFY Requests .....................8\n      5.8. Subscriber\
    \ Processing of NOTIFY Requests ...................9\n      5.9. Handling of Forked\
    \ Requests ...............................10\n      5.10. Rate of Notifications\
    \ ....................................10\n      5.11. State Agents .............................................10\n\
    \      5.12. Examples .................................................10\n  \
    \    5.13. Use of URIs to Retrieve State ............................10\n    \
    \  5.14. PUBLISH Bodies ...........................................11\n      5.15.\
    \ PUBLISH Response Bodies ..................................11\n      5.16. Multiple\
    \ Sources for Event State .........................11\n      5.17. Event State\
    \ Segmentation .................................11\n      5.18. Rate of Publication\
    \ ......................................12\n   6. PoC-Settings Document ..........................................12\n\
    \      6.1. XML Schema ................................................14\n  \
    \    6.2. Example ...................................................16\n   7.\
    \ Security Considerations ........................................17\n   8. Acknowledgements\
    \ ...............................................17\n   9. IANA Considerations\
    \ ............................................17\n      9.1. Registration of the\
    \ \"poc-settings\" Event Package ..........17\n      9.2. Registration of the\
    \ \"application/poc-settings+xml\"\n           MIME type .................................................18\n\
    \   10. References ....................................................19\n  \
    \    10.1. Normative References .....................................19\n    \
    \  10.2. Informative References ...................................20\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   The Open Mobile Alliance (OMA) (http://www.openmobilealliance.org)\
    \ is\n   currently specifying the Push-to-talk over Cellular (PoC) service.\n\
    \   This service allows a SIP User Agent (PoC terminal) to establish a\n   session\
    \ to one or more SIP User Agents (UAs) simultaneously, usually\n   initiated when\
    \ the initiating user pushes a button.\n   OMA has defined a collection of very\
    \ stringent requirements in\n   support of the PoC service.  In order to provide\
    \ the user with a\n   satisfactory experience, the initial session establishment\
    \ (from the\n   time the user presses the button to the time they get an indication\n\
    \   to speak) must be minimized.\n   The PoC terminal may support hardware capabilities\
    \ such as a\n   speakerphone and/or headset and software that provide the capability\n\
    \   for the user to configure the PoC terminal to accept session\n   initiations\
    \ immediately and play out the media as soon as it is\n   received without requiring\
    \ the intervention of the called user.  This\n   mode of operation is known as\
    \ Auto-Answer mode or automatic mode.\n   The user may alternatively configure\
    \ the PoC terminal to first alert\n   the user and require the user to accept\
    \ the session invitation\n   manually before media is accepted.  This mode of\
    \ operation is known\n   as Manual-Answer mode.  The PoC terminal may support\
    \ both or only one\n   of these modes of operation.  The user may change the Answer\
    \ Mode\n   (AM) configuration of the PoC terminal frequently based on their\n\
    \   current circumstances and preference (perhaps because the user is\n   busy\
    \ or in a public area where she cannot use a speaker phone, etc.).\n   SIP PoC\
    \ terminals can support various SIP-based communication\n   services in addition\
    \ to Push-to-talk (e.g., VoIP telephony, presence\n   services, messaging services,\
    \ etc.).  The user may at times wish to\n   disable the acceptance of Push-to-talk\
    \ sessions whilst still\n   remaining SIP registered for one or more other SIP-based\
    \ services.\n   When the PoC terminal is configured to not accept any incoming\
    \ Push-\n   to-talk sessions, this is known as Incoming Session Barring (ISB).\n\
    \   A user may wish to contact another user who has a PoC terminal with\n   Incoming\
    \ Session Barring enabled.  A user may send an Instant\n   Personal Alert to another\
    \ user to inform him that he wishes to engage\n   him in a PoC Session.  This\
    \ Instant Personal Alert is received even\n   when the destination PoC terminal\
    \ has enabled Incoming Session\n   Barring.  If a user wishes to disable the acceptance\
    \ of Instant\n   Personal Alerts, he can configure his PoC terminal not accept\
    \ any\n   incoming Instant Personal Alerts.  This is known as Instant Personal\n\
    \   Alert Barring (IPAB).\n   Some PoC terminals may provide support for handling\
    \ multiple PoC\n   sessions simultaneously whereas other terminals are only able\
    \ to\n   handle one PoC session at time.  Or, even if the terminal is able to\n\
    \   handle multiple PoC sessions simultaneously, the user may desire to\n   have\
    \ just one single PoC session at a time.  This indication of\n   support for multiple\
    \ PoC sessions simultaneously is known as\n   Simultaneous PoC Sessions Support\
    \ (SSS).\n   The OMA PoC Architecture utilizes SIP servers within the network\
    \ that\n   may perform roles such as a conference focus [12], an RTP translator,\n\
    \   or a policy server.  A possible optimization to minimize the delay in\n  \
    \ providing the caller with an indication to speak consist of the SIP\n   network\
    \ server to perform buffering of media packets in order to\n   provide an early\
    \ or unconfirmed indication to the caller and allow\n   the caller to start speaking\
    \ before the called PoC terminal has\n   answered.  This optimization only is\
    \ appropriate when the called PoC\n   terminal is currently accepting PoC sessions\
    \ and its Answer Mode is\n   set to Auto-Answer.  This optimization therefore\
    \ requires the network\n   SIP server to have knowledge of the current ISB and\
    \ AM settings of\n   the called PoC terminal.\n   Similarly, in order to avoid\
    \ unnecessary transmission of Instant\n   Personal Alerts across the radio interface,\
    \ the network SIP server\n   needs to have knowledge of the current IPAB setting\
    \ at the terminal.\n   When the UA supports multiple PoC sessions simultaneously\
    \ the server\n   needs to act as a B2BUA in order to multiplex media and floor\
    \ control\n   signaling between multiple sessions using a single bandwidth limited\n\
    \   radio bearer.  When handling of multiple PoC sessions simultaneously\n   is\
    \ not needed the server can act as a SIP proxy.  It is therefore\n   advantageous\
    \ for the server to be informed whether the UA currently\n   intends to support\
    \ multiple PoC sessions simultaneously.\n   This document proposes additional\
    \ SIP capabilities to enable the\n   communication of the ISB, AM, IPAB, and SSS\
    \ settings between the SIP\n   PoC terminal and the SIP network server.\n   We\
    \ define a SIP event package that allows a SIP Event Publication\n   Agent (EPA)\
    \ to publish the user's settings at that particular EPA\n   which may impact some\
    \ specific session attempts.  This allows\n   subscribers to subscribe to the\
    \ Event State Compositor to this event\n   package to gather this information,\
    \ and anticipate to the user's\n   needs when a session is attempted to that user.\
    \  It is believed that\n   the SIP event package defined here is not applicable\
    \ to the general\n   Internet: it has been designed to serve the architecture\
    \ of the PoC\n   service.  In particular, and in the context defined by RFC 3903\
    \ [8],\n   it is the intention of OMA to make PoC terminals behave as Event\n\
    \   Publication Agents (EPA), and network servers behave as Event State\n   Compositors\
    \ (ESC).  It is possible that PoC terminals and network\n   servers may also subscribe\
    \ to the user's PoC related settings, so\n   that changes in this state made in\
    \ one terminal are kept in\n   synchronization across all different terminals\
    \ or with the network\n   server for a particular user.\n   This document defines\
    \ a PoC-settings document that allows an EPA to\n   convey its ISB, AM, IPAB,\
    \ and SSS settings to an ESC.  The EPA sends\n   a PoC-settings document in PUBLISH\
    \ requests [8].  The PoC-settings\n   document contain represents the settings\
    \ view at that particular EPA.\n   The ESC can collect PoC-settings document for\
    \ the same user at\n   different EPAs, apply a composition policy, and provide\n\
    \   notifications.  Notifications can contain a composed view of the\n   settings\
    \ or a list of settings per EPA, depending on whether the ESC\n   is able to resolve\
    \ conflicts.  A subscriber can receive notifications\n   of changes in this document\
    \ according to the procedures specified in\n   RFC 3265 [5].  The aim of this\
    \ memo is to follow the procedure\n   indicated in RFC 3427 [6] and to register\
    \ a new poc-settings event\n   package with IANA.\n"
- title: 2.  Terminology
  contents:
  - "2.  Terminology\n   In this document, the key words \"MUST\", \"MUST NOT\", \"\
    REQUIRED\",\n   \"SHALL\", \"SHALL NOT\", \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\"\
    , \"NOT\n   RECOMMENDED\", \"MAY\", and \"OPTIONAL\" are to be interpreted as\n\
    \   described in BCP 14, RFC 2119 [1] and indicate requirement levels for\n  \
    \ compliant implementations.\n"
- title: 3.  Applicability Statement
  contents:
  - "3.  Applicability Statement\n   The event package defined in this document is\
    \ intended for use with\n   network-based application servers that provide a Push-to-Talk\
    \ over\n   Cellular service.\n"
- title: 4.  Requirements
  contents:
  - "4.  Requirements\n   A comprehensive description of all the requirements that\
    \ affect the\n   Push-to-Talk over Cellular service developed by the Open Mobile\n\
    \   Alliance can be found in the Open Mobile Alliance web page at\n   http://www.openmobilealliance.org.\n\
    \   For the sake of simplicity, we briefly discuss here those\n   requirements\
    \ that affect the solution described in this document.\n   These requirements\
    \ can be summarized as follows:\n   1.  There must be a mechanism that reduces\
    \ the session setup time as\n       much as possible.\n   2.  In order to allow\
    \ proper usage of scarce resources, there must be\n       a mechanism that saves\
    \ the air interface from being congested\n       with unneeded or undesired traffic.\n\
    \   3.  The mechanism should not involve the implementation of new\n       protocols,\
    \ unless strictly needed.\n   These requirements lead to a solution whereby the\
    \ user can indicate\n   to a network node his ability to accept or reject sessions\
    \ or certain\n   types of messages.  Pushing these settings to a network node\
    \ allows\n   the network node to produce a faster response to the originator,\n\
    \   perhaps even declining or filtering some SIP requests towards the\n   destination.\
    \  This approaches the goal of reducing the session setup\n   time.\n"
- title: 5.  The "poc-settings" Event Package
  contents:
  - "5.  The \"poc-settings\" Event Package\n   RFC 3265 [5] defines a SIP extension\
    \ for subscribing to remote nodes\n   and receiving notifications of changes (events)\
    \ in their states.  It\n   leaves the definition of many aspects of these events\
    \ to concrete\n   extensions, known as event packages.  This document qualifies\
    \ as an\n   event package.  This section fills in the information required for\n\
    \   all event packages by RFC 3265 [5].\n   Additionally, RFC 3903 [8] defines\
    \ an extension that allows SIP User\n   Agents to publish event state.  According\
    \ to RFC 3903 [8], any event\n   package intended to be used in conjunction with\
    \ the SIP PUBLISH\n   method has to include a considerations section.  This section\
    \ also\n   fills the information for all event packages to be used with PUBLISH\n\
    \   requests.\n   We define a new \"poc-settings\" event package.  Event Publication\n\
    \   Agents (EPA) use PUBLISH requests to inform an Event State Compositor\n  \
    \ (ESC) of changes in the poc-settings event package.  Acting as a\n   notifier,\
    \ the ESC notifies subscribers to the user's poc-settings\n   information when\
    \ changes occur.\n"
- title: 5.1.  Package Name
  contents:
  - "5.1.  Package Name\n   The name of this package is \"poc-settings\".  As specified\
    \ in RFC 3265\n   [5], this value appears in the Event header field present in\n\
    \   SUBSCRIBE and NOTIFY requests.  As specified in RFC 3903 [8], this\n   value\
    \ also appears in the Event header field present in PUBLISH\n   requests.\n"
- title: 5.2.  Event Package Parameters
  contents:
  - "5.2.  Event Package Parameters\n   RFC 3265 [5] allows event packages to define\
    \ additional parameters\n   carried in the Event header field.  This event package,\n\
    \   \"poc-settings\", does not define additional parameters.\n"
- title: 5.3.  SUBSCRIBE Bodies
  contents:
  - "5.3.  SUBSCRIBE Bodies\n   According to RFC 3265 [5], a SUBSCRIBE request can\
    \ contain a body.\n   The purpose of the body depends on its type.  Subscriptions\
    \ to the\n   poc-settings event package will normally not contain bodies.\n  \
    \ The Request-URI of the SUBSCRIBE request identifies the user about\n   whose\
    \ poc-settings the subscriber wants to be informed.\n"
- title: 5.4.  Subscription Duration
  contents:
  - "5.4.  Subscription Duration\n   The default expiration time for subscriptions\
    \ within this package is\n   3600 seconds.  As per RFC 3265 [5], the subscriber\
    \ MAY specify an\n   alternate expiration in the Expires header field.\n"
- title: 5.5.  NOTIFY Bodies
  contents:
  - "5.5.  NOTIFY Bodies\n   As described in RFC 3265 [5], the NOTIFY message will\
    \ contain bodies\n   describing the state of the subscribed resource.  This body\
    \ is in a\n   format listed in the Accept header field of the SUBSCRIBE request,\
    \ or\n   a package-specific default format if the Accept header field was\n  \
    \ omitted from the SUBSCRIBE request.\n   In this event package, the body of the\
    \ notification contains a PoC-\n   settings document (see Section 6).  The ESC\
    \ has gathered PoC-\n   settings documents for the user at different EPAs.  The\
    \ ESC applies a\n   composition policy and composes a PoC-settings document with\
    \ a common\n   view of all these settings across different EPAs.  In case the\
    \ ESC is\n   not able to resolve a conflict, due to contradictory information\n\
    \   provided by two different EPAs, the ESC provides a PoC-settings\n   document\
    \ containing the settings at each terminal so that the\n   subscriber can resolve\
    \ the conflict.\n   All subscribers and notifiers of the \"poc-settings\" event\
    \ package\n   MUST support the \"application/poc-settings+xml\" data format described\n\
    \   in Section 6.  The SUBSCRIBE request MAY contain an Accept header\n   field.\
    \  If no such header field is present, it has a default value of\n   \"application/poc-settings+xml\"\
    \ (assuming that the Event header field\n   contains a value of \"poc-settings\"\
    ).  If the Accept header field is\n   present, it MUST include \"application/poc-settings+xml\"\
    \ and MAY\n   include any other types capable of representing user settings for\n\
    \   PoC.\n"
- title: 5.6.  Notifier Processing of SUBSCRIBE Requests
  contents:
  - "5.6.  Notifier Processing of SUBSCRIBE Requests\n   The contents of a PoC-settings\
    \ document can contain sensitive\n   information that can reveal some privacy\
    \ information.  Therefore,\n   PoC-settings documents MUST only be sent to authorized\
    \ subscribers.\n   In order to determine if a subscription originates in an authorized\n\
    \   user, the user MUST be authenticated as described in Section 5.6.1\n   and\
    \ then he MUST be authorized to be a subscriber as described in\n   Section 5.6.2.\n"
- title: 5.6.1.  Authentication
  contents:
  - "5.6.1.  Authentication\n   Notifiers MUST authenticate all subscription requests.\
    \  This\n   authentication can be done using any of the mechanisms defined in\
    \ RFC\n   3261 [4] and other authentication extensions.\n"
- title: 5.6.2.  Authorization
  contents:
  - "5.6.2.  Authorization\n   Once authenticated, the notifier makes an authorization\
    \ decision.  A\n   notifier MUST NOT accept a subscription unless authorization\
    \ has been\n   provided by the user.  The means by which authorization are provided\n\
    \   are outside the scope of this document.  Authorization may have been\n   provided\
    \ ahead of time through access lists, perhaps specified in a\n   web page.  Authorization\
    \ may have been provided by means of uploading\n   some kind of standardized access\
    \ control list document.\n"
- title: 5.7.  Notifier Generation of NOTIFY Requests
  contents:
  - "5.7.  Notifier Generation of NOTIFY Requests\n   RFC 3265 [5] details the formatting\
    \ and structure of NOTIFY messages.\n   However, packages are mandated to provide\
    \ detailed information on\n   when to send a NOTIFY, how to compute the state\
    \ of the resource, how\n   to generate neutral or fake state information, and\
    \ whether state\n   information is complete or partial.  This section describes\
    \ those\n   details for the poc-settings event package.\n   A notifier MAY send\
    \ a NOTIFY at any time.  Typically, it will send\n   one when the poc-settings\
    \ stage of a user changes.  The NOTIFY\n   request MAY contain a body containing\
    \ a PoC-settings document.  The\n   times at which the NOTIFY is sent for a particular\
    \ subscriber, and\n   the contents of the body within that notification, are subject\
    \ to any\n   rules specified by the authorization policy that governs the\n  \
    \ subscription.  However, typically the NOTIFY will contain an\n   indication\
    \ of those PoC-related services for which a change has\n   occurred.\n   In the\
    \ case of a pending subscription, when final authorization is\n   determined,\
    \ a NOTIFY can be sent.  If the result of the authorization\n   decision was success,\
    \ a NOTIFY SHOULD be sent and SHOULD contain a\n   complete PoC-settings document\
    \ with the current state of the user's\n   PoC settings.  If the subscription\
    \ is rejected, a NOTIFY MAY be sent.\n   As described in RFC 3265 [5], the Subscription-State\
    \ header field\n   indicates the state of the subscription.\n   The body of the\
    \ NOTIFY MUST be sent using one of the types listed in\n   the Accept header field\
    \ in the most recent SUBSCRIBE request, or\n   using the type \"application/poc-settings+xml\"\
    \ if no Accept header\n   field was present.\n   Notifiers will typically act\
    \ as Event State Compositors (ESC) and\n   thus will learn the poc-settings event\
    \ state via PUBLISH requests\n   sent from the user's Event Publication Agent\
    \ (EPA) when the user\n   changes one of those settings.  It is possible that\
    \ the notifier\n   generates a NOTIFY request for a user for which no publication\
    \ has\n   taken place.  In that case, the PoC-settings document will not\n   contain\
    \ any <entity> element (see Section 6.1 for a detailed\n   description of the\
    \ <entity> element).\n   For reasons of privacy, it will frequently be necessary\
    \ to encrypt\n   the contents of the notifications.  This can be accomplished\
    \ using\n   S/MIME [9].  The encryption can be performed using the key of the\n\
    \   subscriber as identified in the From field of the SUBSCRIBE request.\n   Similarly,\
    \ integrity of the notifications is important to\n   subscribers.  As such, the\
    \ contents of the notifications MAY provide\n   authentication and message integrity\
    \ using S/MIME [9].  Since the\n   NOTIFY is generated by the notifier, which\
    \ may not have access to the\n   key of the user represented by the poc-settings\
    \ user, often the\n   NOTIFY will be signed by a third party.  The NOTIFY request\
    \ SHOULD be\n   signed by an authority over the domain of the user.  In other\
    \ words,\n   for a user whose SIP URI is sip:user@example.com, the signator of\
    \ the\n   NOTIFY SHOULD be the authority for example.com.\n"
- title: 5.8.  Subscriber Processing of NOTIFY Requests
  contents:
  - "5.8.  Subscriber Processing of NOTIFY Requests\n   RFC 3265 [5] leaves it to\
    \ event packages to describe the process\n   followed by the subscriber upon receipt\
    \ of a NOTIFY request,\n   including any logic required to form a coherent resource\
    \ state.\n   In this specification, each NOTIFY request contains either no PoC-\n\
    \   settings document, or a document representing one or more PoC related\n  \
    \ settings for a given user.  Within a dialog, the PoC-settings\n   document in\
    \ the NOTIFY request with the highest CSeq header field\n   value is the current\
    \ one.  When no document is present in that\n   NOTIFY, the PoC-settings document\
    \ present in the NOTIFY with the next\n   highest CSeq value is used.\n"
- title: 5.9.  Handling of Forked Requests
  contents:
  - "5.9.  Handling of Forked Requests\n   RFC 3265 [5] requires each package to describe\
    \ handling of forked\n   SUBSCRIBE requests.\n   This specification only allows\
    \ a single dialog to be constructed as a\n   result of emitting an initial SUBSCRIBE\
    \ request.  This guarantees\n   that only a single subscriber is generating notifications\
    \ for a\n   particular subscription to a particular user.  The result of this\
    \ is\n   that a user can have multiple SIP User Agents active, but these\n   should\
    \ be homogeneous, so that each can generate the same set of\n   notifications\
    \ for the user's poc-settings.\n"
- title: 5.10.  Rate of Notifications
  contents:
  - "5.10.  Rate of Notifications\n   RFC 3265 [5] requires each package to specify\
    \ the maximum rate at\n   which notifications can be sent.\n   Poc-settings notifiers\
    \ SHOULD NOT generate notifications for a single\n   user at a rate of more than\
    \ once every five seconds.\n"
- title: 5.11.  State Agents
  contents:
  - "5.11.  State Agents\n   RFC 3265 [5] requires each package to consider the role\
    \ of state\n   agents in the package and, if they are used, to specify how\n \
    \  authentication and authorization are done.\n   This specification allows state\
    \ agents to be located in the network.\n   Publication of PoC-settings document\
    \ is linked to a user.  However, a\n   user may be simultaneously logged in at\
    \ different PoC terminals.  If\n   a user changes her PoC settings from a terminal,\
    \ it will send a\n   PUBLISH request containing a PoC-settings document.  These\
    \ settings\n   are applicable to the user independently of the terminal at which\
    \ she\n   is logged in.  In other words, PoC settings changes done in a\n   terminal\
    \ affect all the PoC terminals where the user is logged.  It\n   is RECOMMENDED\
    \ that each of the terminals where the user is logged in\n   subscribes to its\
    \ own PoC-settings document in order to keep a\n   coherent state view with the\
    \ state agent.\n"
- title: 5.12.  Examples
  contents:
  - "5.12.  Examples\n   An example of a PoC-setting document is provided in Section\
    \ 6.2.\n"
- title: 5.13.  Use of URIs to Retrieve State
  contents:
  - "5.13.  Use of URIs to Retrieve State\n   RFC 3265 [5] allows packages to use\
    \ URIs to retrieve large state\n   documents.\n   PoC-settings documents are fairly\
    \ small.  This event package does not\n   provide a mechanism to use URIs to retrieve\
    \ large state documents.\n"
- title: 5.14.  PUBLISH Bodies
  contents:
  - "5.14.  PUBLISH Bodies\n   RFC 3903 [8] requires event packages to define the\
    \ content types\n   expected in PUBLISH requests.\n   In this event package, the\
    \ body of a PUBLISH request contains a PoC-\n   settings document (see Section\
    \ 6).  This PoC-settings document\n   describes the PoC-related settings of a\
    \ user at an EPA.  EPAs SHOULD\n   include their own information in a PoC-settings\
    \ document; i.e., there\n   SHOULD be a single <entity> element in the body of\
    \ the PUBLISH\n   request (See Section 6.1 for a detailed description of the <entity>\n\
    \   element).\n   All EPAs and ESCs MUST support the \"application/poc-settings+xml\"\
    \n   data format described in Section 6 and MAY support other formats.\n"
- title: 5.15.  PUBLISH Response Bodies
  contents:
  - "5.15.  PUBLISH Response Bodies\n   This specification does not associate semantics\
    \ to a body in a\n   PUBLISH response.\n"
- title: 5.16.  Multiple Sources for Event State
  contents:
  - "5.16.  Multiple Sources for Event State\n   RFC 3903 [8] requires event packages\
    \ to specify whether multiple\n   sources can contribute to the event state view\
    \ at the ESC.\n   This event package allows different EPAs to publish the PoC\
    \ settings\n   for a particular user.  Each EPA publishes its own settings grouped\n\
    \   in an <entity> element.  The EPA provides a globally unique\n   identifier\
    \ for a given address of record.  This allows the ESC to\n   differentiate EPAs\
    \ and either compose a state resolving conflicts or\n   provide the union of the\
    \ states of all the EPAs that contributed to\n   it.  The composition policy at\
    \ the ESC is outside the scope of this\n   document.\n"
- title: 5.17.  Event State Segmentation
  contents:
  - "5.17.  Event State Segmentation\n   RFC 3903 [8] defines segments within a state\
    \ document.  Each segment\n   is defined as one of potentially many identifiable\
    \ sections in the\n   published event state.\n   This event package defines, for\
    \ a given EPA, four segments identified\n   by the elements <isb-settings>, <am-settings>,\
    \ <ipab-settings>, and\n   <sss-settings>, respectively.  Each of them refers\
    \ to different\n   states of the EPA.\n"
- title: 5.18.  Rate of Publication
  contents:
  - "5.18.  Rate of Publication\n   RFC 3903 [8] allows event packages to define their\
    \ own rate of\n   publication.\n   There are no rate-limiting recommendations\
    \ for poc-settings\n   publication.  Since changes in a PoC-settings document\
    \ are typically\n   triggered by interaction with a human user, there is not periodicity,\n\
    \   nor a minimum or maximum rate of publication.\n"
- title: 6.  PoC-Settings Document
  contents:
  - "6.  PoC-Settings Document\n   PoC-settings is an XML document [10] that MUST\
    \ be well-formed and\n   SHOULD be valid.  PoC-settings documents MUST be based\
    \ on XML 1.0 and\n   MUST be encoded using UTF-8 [7].  This specification makes\
    \ use of XML\n   namespaces for identifying PoC-settings documents.  The namespace\
    \ URI\n   for elements defined by this specification is a URN [2], using the\n\
    \   namespace identifier 'oma'.  This URN is:\n      urn:oma:params:xml:ns:poc:poc-settings\n\
    \   PoC-settings documents are identified with the MIME type\n   \"application/poc-settings+xml\"\
    \ and are instances of the XML schema\n   defined in Section 6.1.\n   A PoC-settings\
    \ document begins with the root element tag\n   <poc-settings>.  It consists of\
    \ zero or more <entity> elements, each\n   one including an 'id' attribute that\
    \ contains a globally unique\n   identifier for a given address of record that\
    \ represents an EPA.  An\n   <entity> element represents an EPA, and it is uniquely\
    \ identified by\n   the 'id' attribute.  EPAs SHOULD include a single <entity>\
    \ element in\n   a PoC-settings document.  ESCs MAY include several <entity> elements\n\
    \   in a PoC-settings document, typically when the ESC is unable to\n   resolve\
    \ conflicts due to incongruent publication from different\n   sources.\n     \
    \ A valid PoC-settings document can include zero <entity> elements\n      if the\
    \ ESC provides a notification for which no publication has\n      occurred.\n\
    \   The <entity> element MAY contain other elements and attributes from\n   different\
    \ namespaces for the purposes of extensibility; elements or\n   attributes from\
    \ unknown namespaces MUST be ignored.\n   The <entity> element consists of zero\
    \ or one <isb-settings> elements,\n   zero or one <am-settings> elements, zero\
    \ or one <ipab-settings>, and\n   zero or one <sss-settings> elements.  Other\
    \ elements and attributes\n   from different namespaces MAY be present for the\
    \ purposes of\n   extensibility; elements or attributes from unknown namespaces\
    \ MUST be\n   ignored.\n   An <isb-settings> element contains a single <incoming-session-\n\
    \   barring> element that contains a boolean 'active' attribute.  The\n   'active'\
    \ attribute indicates whether incoming sessions are barred at\n   the UA, depending\
    \ on the user's preferences for this setting.  Other\n   elements and attributes\
    \ from different namespaces MAY be present for\n   the purposes of extensibility;\
    \ elements or attributes from unknown\n   namespaces MUST be ignored.\n   An <am-settings>\
    \ element contains an <answer-mode> element, whose\n   value can be set to either\
    \ \"automatic\" or \"manual\".  Other elements\n   and attributes from different\
    \ namespaces MAY be present for the\n   purposes of extensibility; elements or\
    \ attributes from unknown\n   namespaces MUST be ignored.\n   A server such as\
    \ a URI-list server [11] receives a SIP request\n   addressed to one or more recipients.\
    \  If the intended recipient set\n   the <answer-mode> to \"manual\", the URI-list\
    \ server proceeds with the\n   session attempt.  If she set it to \"automatic\"\
    , the URI-list server\n   generates a 200-class response prior to contacting the\
    \ intended\n   recipient.\n   An <ipab-settings> element contains a single <incoming-personal-\n\
    \   alert-barring> element that contains a boolean 'active' attribute.\n   The\
    \ 'active' attribute indicates whether incoming personal alert\n   messages are\
    \ barred at the UA, depending on the user's preferences\n   for this setting.\
    \  Other elements from different namespaces MAY be\n   present for the purposes\
    \ of extensibility; elements or attributes\n   from unknown namespaces MUST be\
    \ ignored.\n   An <sss-settings> element contains a single <simultaneous-sessions-\n\
    \   support> element that contains a boolean 'active' attribute.  The\n   'active'\
    \ attribute indicates whether the SIP UA is willing to handle\n   more than one\
    \ PoC session simultaneously.  If the 'active' attribute\n   is set to \"false\"\
    \ or \"0\", then when the SIP UA is engaged in a PoC\n   session, and the SIP\
    \ UA receives an second incoming request for a SIP\n   PoC session, the UA will\
    \ decline the invitation.  If the 'active'\n   attribute is set to \"true\" or\
    \ \"1\", then when the SIP UA is engaged in\n   a PoC session, and the SIP UA\
    \ receives an second incoming request for\n   a SIP PoC session, the UA will possibly\
    \ accept the invitation.  Other\n   elements and attributes from different namespaces\
    \ MAY be present for\n   the purposes of extensibility; elements or attributes\
    \ from unknown\n   namespaces MUST be ignored.\n"
- title: 6.1.  XML Schema
  contents:
  - "6.1.  XML Schema\n   Implementations according to this specification MUST comply\
    \ to the\n   following XML Schema, which defines the constraints of the PoC-\n\
    \   settings document:\n   <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n   <xs:schema\
    \ targetNamespace=\"urn:oma:params:xml:ns:poc:poc-settings\"\n       xmlns=\"\
    urn:oma:params:xml:ns:poc:poc-settings\"\n       xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"\
    \n       elementFormDefault=\"qualified\"\n       attributeFormDefault=\"unqualified\"\
    >\n     <xs:import namespace=\"http://www.w3.org/XML/1998/namespace\"\n      \
    \          schemaLocation=\"http://www.w3.org/2001/xml.xsd\"/>\n     <xs:annotation>\n\
    \       <xs:documentation xml:lang=\"en\">\n         XML Schema Definition in\
    \ support of the Incoming Session\n         Barring, Answer Mode, Incoming Personal\
    \ Alert Barring,\n         and Simultaneous Sessions Support in the Push-to-talk\n\
    \         over Cellular (PoC) service.\n       </xs:documentation>\n     </xs:annotation>\n\
    \     <xs:element name=\"poc-settings\" type=\"poc-settingsType\"/>\n     <xs:complexType\
    \ name=\"poc-settingsType\">\n       <xs:sequence>\n         <xs:element name=\"\
    entity\" type=\"entityType\"\n                     minOccurs=\"0\" maxOccurs=\"\
    unbounded\" />\n         <xs:any namespace=\"##other\" processContents=\"lax\"\
    \n                  minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n       </xs:sequence>\n\
    \       <xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n     </xs:complexType>\n\
    \     <xs:complexType name=\"entityType\">\n       <xs:sequence>\n         <xs:element\
    \ name=\"isb-settings\" type=\"isbSettingType\"\n                     minOccurs=\"\
    0\"/>\n         <xs:element name=\"am-settings\" type=\"amSettingType\"\n    \
    \                 minOccurs=\"0\"/>\n         <xs:element name=\"ipab-settings\"\
    \ type=\"ipabSettingType\"\n                     minOccurs=\"0\"/>\n         <xs:element\
    \ name=\"sss-settings\" type=\"sssSettingType\"\n                     minOccurs=\"\
    0\"/>\n         <xs:any namespace=\"##other\" processContents=\"lax\"\n      \
    \           minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n       </xs:sequence>\n\
    \       <xs:attribute name=\"id\" type=\"xs:string\" use=\"required\"/>\n    \
    \   <xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n     </xs:complexType>\n\
    \     <xs:complexType name=\"isbSettingType\">\n       <xs:sequence>\n       \
    \  <xs:element name=\"incoming-session-barring\">\n           <xs:complexType>\n\
    \             <xs:attribute name=\"active\" type=\"xs:boolean\"\n            \
    \               use=\"required\" />\n           </xs:complexType>\n         </xs:element>\n\
    \         <xs:any namespace=\"##any\" processContents=\"lax\"\n              \
    \   minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n       </xs:sequence>\n       <xs:anyAttribute\
    \ namespace=\"##any\" processContents=\"lax\"/>\n     </xs:complexType>\n    \
    \ <xs:complexType name=\"amSettingType\">\n       <xs:sequence>\n         <xs:element\
    \ name=\"answer-mode\">\n           <xs:simpleType>\n             <xs:restriction\
    \ base=\"xs:string\">\n               <xs:enumeration value=\"automatic\"/>\n\
    \               <xs:enumeration value=\"manual\"/>\n             </xs:restriction>\n\
    \           </xs:simpleType>\n         </xs:element>\n         <xs:any namespace=\"\
    ##any\" processContents=\"lax\"\n                 minOccurs=\"0\" maxOccurs=\"\
    unbounded\"/>\n       </xs:sequence>\n       <xs:anyAttribute namespace=\"##any\"\
    \ processContents=\"lax\"/>\n     </xs:complexType>\n     <xs:complexType name=\"\
    ipabSettingType\">\n       <xs:sequence>\n         <xs:element name=\"incoming-personal-alert-barring\"\
    >\n           <xs:complexType>\n             <xs:attribute name=\"active\" type=\"\
    xs:boolean\"\n                           use=\"required\" />\n           </xs:complexType>\n\
    \         </xs:element>\n         <xs:any namespace=\"##any\" processContents=\"\
    lax\"\n                 minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n       </xs:sequence>\n\
    \       <xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n     </xs:complexType>\n\
    \     <xs:complexType name=\"sssSettingType\">\n       <xs:sequence>\n       \
    \  <xs:element name=\"simultaneous-sessions-support\">\n           <xs:complexType>\n\
    \             <xs:attribute name=\"active\" type=\"xs:boolean\"\n            \
    \               use=\"required\"/>\n           </xs:complexType>\n         </xs:element>\n\
    \        <xs:any namespace=\"##any\" processContents=\"lax\"\n               \
    \ minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n       </xs:sequence>\n       <xs:anyAttribute\
    \ namespace=\"##any\" processContents=\"lax\"/>\n     </xs:complexType>\n   </xs:schema>\n"
- title: 6.2.  Example
  contents:
  - "6.2.  Example\n   The following is an example of a PoC-settings document:\n \
    \  <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n   <poc-settings xmlns=\"urn:oma:params:xml:ns:poc:poc-settings\"\
    >\n     <entity id=\"do39s8zksn2d98x\">\n        <isb-settings>\n          <incoming-session-barring\
    \ active=\"true\"/>\n        </isb-settings>\n        <am-settings>\n        \
    \  <answer-mode>automatic</answer-mode>\n        </am-settings>\n        <ipab-settings>\n\
    \          <incoming-personal-alert-barring active=\"false\"/>\n        </ipab-settings>\n\
    \        <sss-settings>\n          <simultaneous-sessions-support active=\"true\"\
    />\n        </sss-settings>\n     </entity>\n   </poc-settings>\n"
- title: 7.  Security Considerations
  contents:
  - "7.  Security Considerations\n   The \"poc-settings\" event package defined by\
    \ this document is meant to\n   be transported with SIP PUBLISH requests.  Therefore,\
    \ the Security\n   Considerations (Section 14) in RFC 3903 [8] apply to this document.\n\
    \   In particular, the settings contained in the \"poc-settings\" event\n   package\
    \ are applicable to the user that generated the SIP PUBLISH\n   request.  Therefore,\
    \ servers that receive SIP PUBLISH requests\n   containing a \"poc-settings\"\
    \ event package SHOULD authenticate the\n   user prior to authorizing the event\
    \ publication (as required by RFC\n   3903 [8]).\n   Authentication and authorization\
    \ of subscriptions have been discussed\n   in Section 5.6.  Lack of authentication\
    \ or authorization may provide\n   poc-settings information to unauthorized parties,\
    \ who can use that\n   information for creating attacks.  For example, an unauthorized\n\
    \   recipient of a PoC-settings document can learn that the publisher's\n   terminal\
    \ is set to answer PoC sessions in automatic answer mode and\n   then create a\
    \ malicious session containing inappropriate media that\n   the UAS will play\
    \ automatically.  Or the attacker can learn that the\n   terminal is willing to\
    \ receive simultaneous PoC sessions and then try\n   to exhaust resources in the\
    \ SIP UA by creating bogus PoC sessions\n   that leave hung states in the attacked\
    \ SIP UA.\n   Integrity protection and confidentiality of notifications are also\n\
    \   discussed in Section 5.7.  If a notifier does not encrypt bodies of\n   NOTIFY\
    \ requests, an eavesdropper could learn the status of a SIP user\n   agent and\
    \ use it to create malicious PoC sessions.  If the notifier\n   does not integrity\
    \ protect the bodies of NOTIFY requests, a man-in-\n   the-middle attacker or\
    \ malicious SIP proxy could modify the contents\n   of the poc-settings event\
    \ package notification.  Although this does\n   not cause harm, it can create\
    \ annoyances (e.g., media clip due to\n   lack of buffering) when PoC sessions\
    \ are delivered to the user.\n"
- title: 8.  Acknowledgements
  contents:
  - "8.  Acknowledgements\n   The author wants to thank Ilkka Westman, Andrew Allen,\
    \ Chinmay\n   Padhye, Gonzalo Camarillo, Paul Kyzivat, Haris Zisimopoulos, Joel\
    \ M.\n   Halpern, and Russ Housley for their comments.\n"
- title: 9.  IANA Considerations
  contents:
  - '9.  IANA Considerations

    '
- title: 9.1.  Registration of the "poc-settings" Event Package
  contents:
  - "9.1.  Registration of the \"poc-settings\" Event Package\n   This specification\
    \ registers an event package, based on the\n   registration procedures defined\
    \ in RFC 3265 [5].  The following is\n   the information required for such a registration:\n\
    \   Package Name: poc-settings\n   Package or Template-Package: This is a package.\n\
    \   Published Document: RFC 4354\n   Person to Contact: Miguel A. Garcia-Martin,\n\
    \   miguel.an.garcia@nokia.com\n"
- title: 9.2.  Registration of the "application/poc-settings+xml" MIME type
  contents:
  - "9.2.  Registration of the \"application/poc-settings+xml\" MIME type\n   To:\
    \ ietf-types@iana.org\n   Subject: Registration of MIME media type application/\n\
    \   poc-settings+xml\n   MIME media type name: application\n   MIME subtype name:\
    \ poc-settings+xml\n   Required parameters: (none)\n   Optional parameters: charset;\
    \ Indicates the character encoding of\n   enclosed XML.  Default is UTF-8 [7].\n\
    \   Encoding considerations: Uses XML, which can employ 8-bit\n   characters,\
    \ depending on the character encoding used.  See RFC\n   3023 [3], Section 3.2.\n\
    \   Security considerations: This content type is designed to carry\n   information\
    \ about current PoC user settings, which in some cases\n   may be considered private\
    \ information.  Appropriate precautions\n   should be adopted to limit disclosure\
    \ of this information.\n   Interoperability considerations: This content type\
    \ provides a\n   common format for exchange of PoC settings information.\n   Published\
    \ specification: RFC 4354 (this document).\n   Applications which use this media\
    \ type: Push-to-talk over Cellular\n   systems in compliance with the Open Mobile\
    \ Alliance (OMA) PoC\n   specifications.\n   Additional information: The Open\
    \ Mobile Alliance publishes the\n   Push-to-talk over Cellular specifications\
    \ in the OMA web site at\n   http://www.openmobilealliance.org\n   Person & email\
    \ address to contact for further information: Miguel\n   A. Garcia-Martin, miguel.an.garcia@nokia.com\n\
    \   Intended usage: Limited use, restricted to PoC terminals and\n   servers.\n\
    \   Author/Change controller: Open Mobile Alliance\n   (http://www.openmobilealliance.org),\
    \ PoC working group.\n   Other information: This media type is a specialization\
    \ of\n   application/xml RFC 3023 [3], and many of the considerations\n   described\
    \ there also apply to application/poc-settings+xml.\n"
- title: 10.  References
  contents:
  - '10.  References

    '
- title: 10.1.  Normative References
  contents:
  - "10.1.  Normative References\n   [1]   Bradner, S., \"Key words for use in RFCs\
    \ to Indicate Requirement\n         Levels\", BCP 14, RFC 2119, March 1997.\n\
    \   [2]   Moats, R., \"URN Syntax\", RFC 2141, May 1997.\n   [3]   Murata, M.,\
    \ St. Laurent, S., and D. Kohn, \"XML Media Types\",\n         RFC 3023, January\
    \ 2001.\n   [4]   Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A.,\n\
    \         Peterson, J., Sparks, R., Handley, M., and E. Schooler, \"SIP:\n   \
    \      Session Initiation Protocol\", RFC 3261, June 2002.\n   [5]   Roach, A.,\
    \ \"Session Initiation Protocol (SIP)-Specific Event\n         Notification\"\
    , RFC 3265, June 2002.\n   [6]   Mankin, A., Bradner, S., Mahy, R., Willis, D.,\
    \ Ott, J., and B.\n         Rosen, \"Change Process for the Session Initiation\
    \ Protocol\n         (SIP)\", BCP 67, RFC 3427, December 2002.\n   [7]   Yergeau,\
    \ F., \"UTF-8, a transformation format of ISO 10646\",\n         STD 63, RFC 3629,\
    \ November 2003.\n   [8]   Niemi, A., \"Session Initiation Protocol (SIP) Extension\
    \ for\n         Event State Publication\", RFC 3903, October 2004.\n   [9]   Ramsdell,\
    \ B., \"Secure/Multipurpose Internet Mail Extensions\n         (S/MIME) Version\
    \ 3.1 Message Specification\", RFC 3851,\n         July 2004.\n   [10]  Paoli,\
    \ J., Sperberg-McQueen, C., Bray, T., and E. Maler,\n         \"Extensible Markup\
    \ Language (XML) 1.0 (Second Edition)\", W3C\n         FirstEdition REC-xml-20001006,\
    \ October 2000.\n"
- title: 10.2.  Informative References
  contents:
  - "10.2.  Informative References\n   [11]  Camarillo, G. and A. Roach, \"Requirements\
    \ and Framework for\n         Session Initiation Protocol (SIP) Uniform Resource\
    \ Identifier\n         (URI)-List Services\", Work in Progress, April 2005.\n\
    \   [12]  Rosenberg, J., \"A Framework for Conferencing with the Session\n   \
    \      Initiation Protocol (SIP)\", RFC 4353, January 2006.\n"
- title: Author's Address
  contents:
  - "Author's Address\n   Miguel A. Garcia-Martin\n   Nokia\n   P.O.Box 407\n   NOKIA\
    \ GROUP, FIN  00045\n   Finland\n   EMail: miguel.an.garcia@nokia.com\n"
- title: Full Copyright Statement
  contents:
  - "Full Copyright Statement\n   Copyright (C) The Internet Society (2006).\n   This\
    \ document is subject to the rights, licenses and restrictions\n   contained in\
    \ BCP 78, and except as set forth therein, the authors\n   retain all their rights.\n\
    \   This document and the information contained herein are provided on an\n  \
    \ \"AS IS\" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS\n  \
    \ OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET\n   ENGINEERING\
    \ TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED,\n   INCLUDING BUT NOT\
    \ LIMITED TO ANY WARRANTY THAT THE USE OF THE\n   INFORMATION HEREIN WILL NOT\
    \ INFRINGE ANY RIGHTS OR ANY IMPLIED\n   WARRANTIES OF MERCHANTABILITY OR FITNESS\
    \ FOR A PARTICULAR PURPOSE.\n"
- title: Intellectual Property
  contents:
  - "Intellectual Property\n   The IETF takes no position regarding the validity or\
    \ scope of any\n   Intellectual Property Rights or other rights that might be\
    \ claimed to\n   pertain to the implementation or use of the technology described\
    \ in\n   this document or the extent to which any license under such rights\n\
    \   might or might not be available; nor does it represent that it has\n   made\
    \ any independent effort to identify any such rights.  Information\n   on the\
    \ procedures with respect to rights in RFC documents can be\n   found in BCP 78\
    \ and BCP 79.\n   Copies of IPR disclosures made to the IETF Secretariat and any\n\
    \   assurances of licenses to be made available, or the result of an\n   attempt\
    \ made to obtain a general license or permission for the use of\n   such proprietary\
    \ rights by implementers or users of this\n   specification can be obtained from\
    \ the IETF on-line IPR repository at\n   http://www.ietf.org/ipr.\n   The IETF\
    \ invites any interested party to bring to its attention any\n   copyrights, patents\
    \ or patent applications, or other proprietary\n   rights that may cover technology\
    \ that may be required to implement\n   this standard.  Please address the information\
    \ to the IETF at\n   ietf-ipr@ietf.org.\n"
- title: Acknowledgement
  contents:
  - "Acknowledgement\n   Funding for the RFC Editor function is provided by the IETF\n\
    \   Administrative Support Activity (IASA).\n"
