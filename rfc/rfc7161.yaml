- title: __initial_text__
  contents:
  - "       Proxy Mobile IPv6 (PMIPv6) Multicast Handover Optimization\n   by the\
    \ Subscription Information Acquisition through the LMA (SIAL)\n"
- title: Abstract
  contents:
  - "Abstract\n   This document specifies an experimental multicast handover\n   optimization\
    \ mechanism for Proxy Mobile IPv6 (PMIPv6) to accelerate\n   the delivery of multicast\
    \ traffic to mobile nodes after handovers.\n   The mechanism, called Subscription\
    \ Information Acquisition through\n   the LMA (SIAL), is based on speeding up\
    \ the acquisition of mobile\n   nodes' multicast context by the mobile access\
    \ gateways.  To do that,\n   extensions to the current PMIPv6 protocol are proposed.\
    \  These\n   extensions are not only applicable to the base solution for multicast\n\
    \   support in Proxy Mobile IPv6, but they can also be applied to other\n   solutions\
    \ developed to avoid the tunnel convergence problem.\n   Furthermore, these extensions\
    \ are also independent of the role played\n   by the mobile access gateway within\
    \ the multicast network (acting as\n   either multicast listener discovery proxy\
    \ or multicast router).\n"
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This document is not an Internet Standards Track specification;\
    \ it is\n   published for examination, experimental implementation, and\n   evaluation.\n\
    \   This document defines an Experimental Protocol for the Internet\n   community.\
    \  This document is a product of the Internet Engineering\n   Task Force (IETF).\
    \  It represents the consensus of the IETF\n   community.  It has received public\
    \ review and has been approved for\n   publication by the Internet Engineering\
    \ Steering Group (IESG).  Not\n   all documents approved by the IESG are a candidate\
    \ for any level of\n   Internet Standard; see Section 2 of RFC 5741.\n   Information\
    \ about the current status of this document, any errata,\n   and how to provide\
    \ feedback on it may be obtained at\n   http://www.rfc-editor.org/info/rfc7161.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (c) 2014 IETF Trust and the persons identified\
    \ as the\n   document authors.  All rights reserved.\n   This document is subject\
    \ to BCP 78 and the IETF Trust's Legal\n   Provisions Relating to IETF Documents\n\
    \   (http://trustee.ietf.org/license-info) in effect on the date of\n   publication\
    \ of this document.  Please review these documents\n   carefully, as they describe\
    \ your rights and restrictions with respect\n   to this document.  Code Components\
    \ extracted from this document must\n   include Simplified BSD License text as\
    \ described in Section 4.e of\n   the Trust Legal Provisions and are provided\
    \ without warranty as\n   described in the Simplified BSD License.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1.  Introduction  . . . . . . . . . . . . . . . . . . .\
    \ . . . . .   3\n     1.1.  Handover Optimization\n           Requirements  .\
    \ . . . . . . . . . . . . . . . . . . . . .   5\n   2.  Terminology . . . . .\
    \ . . . . . . . . . . . . . . . . . . . .   6\n   3.  Overview  . . . . . . .\
    \ . . . . . . . . . . . . . . . . . . .   7\n   4.  Proxy Mobile IPv6 Extensions\
    \  . . . . . . . . . . . . . . . .   8\n     4.1.  Active Multicast Subscription\
    \ Mobility Option . . . . . .   8\n       4.1.1.  Option Application Rules  .\
    \ . . . . . . . . . . . . .   8\n       4.1.2.  Option Format . . . . . . . .\
    \ . . . . . . . . . . . .   9\n       4.1.3.  Backward Compatibility with MLDv1\
    \ . . . . . . . . . .   9\n     4.2.  Multicast Signaling Flag on PBU/PBA Message\
    \ Headers . . .  10\n       4.2.1.  Flag Application Rules  . . . . . . . . .\
    \ . . . . . .  10\n         4.2.1.1.  Registration Process  . . . . . . . . .\
    \ . . . . .  11\n         4.2.1.2.  De-registration Process . . . . . . . . .\
    \ . . . .  12\n       4.2.2.  New Format of Conventional PBU/PBA Messages . .\
    \ . . .  12\n         4.2.2.1.  Proxy Binding Update Message  . . . . . . . .\
    \ . .  12\n         4.2.2.2.  Proxy Binding Acknowledgement Message . . . . .\
    \ .  13\n     4.3.  Messages for Active Multicast Subscription Query  . . . .\
    \  13\n       4.3.1.  Subscription Query Message  . . . . . . . . . . . . .  13\n\
    \         4.3.1.1.  Message Application Rules . . . . . . . . . . . .  13\n  \
    \       4.3.1.2.  Message Format  . . . . . . . . . . . . . . . . .  14\n    \
    \   4.3.2.  Subscription Response Message . . . . . . . . . . . .  15\n      \
    \   4.3.2.1.  Message Application Rules . . . . . . . . . . . .  15\n        \
    \ 4.3.2.2.  Message Format  . . . . . . . . . . . . . . . . .  15\n     4.4. \
    \ New PBA Timer in the LMA  . . . . . . . . . . . . . . . .  16\n   5.  Handover\
    \ Signaling Procedures . . . . . . . . . . . . . . . .  17\n     5.1.  Handover\
    \ of Proactive Type  . . . . . . . . . . . . . . .  17\n       5.1.1.  Rationale\
    \ . . . . . . . . . . . . . . . . . . . . . .  17\n       5.1.2.  Message Flow\
    \ Description  . . . . . . . . . . . . . .  18\n     5.2.  Handover of Reactive\
    \ Type . . . . . . . . . . . . . . . .  20\n       5.2.1.  Rationale . . . . .\
    \ . . . . . . . . . . . . . . . . .  20\n       5.2.2.  Message Flow Description\
    \  . . . . . . . . . . . . . .  21\n       5.2.3.  Further Considerations for\
    \ the Reactive Handover\n               Signaling . . . . . . . . . . . . . .\
    \ . . . . . . . .  22\n     5.3.  Prevention of Large Delays of the Binding\n\
    \           Acknowledgement for Unicast Traffic . . . . . . . . . . .  23\n  \
    \ 6.  IPv4 Support  . . . . . . . . . . . . . . . . . . . . . . . .  26\n    \
    \ 6.1.  Active Multicast Subscription for IPv4  . . . . . . . . .  26\n     6.2.\
    \  Signaling Procedures for IPv4 Support . . . . . . . . . .  27\n     6.3.  Binding\
    \ Cache Extensions for IPv4 Support . . . . . . . .  28\n   7.  Coexistence with\
    \ PMIPv6 Multicast Architectural\n       Evolutions  . . . . . . . . . . . . .\
    \ . . . . . . . . . . . .  28\n   8.  Security Considerations . . . . . . . .\
    \ . . . . . . . . . . .  28\n   9.  IANA Considerations . . . . . . . . . . .\
    \ . . . . . . . . . .  31\n   10. Contributors  . . . . . . . . . . . . . . .\
    \ . . . . . . . . .  31\n   11. Acknowledgments . . . . . . . . . . . . . . .\
    \ . . . . . . . .  31\n   12. References  . . . . . . . . . . . . . . . . . .\
    \ . . . . . . .  32\n     12.1.  Normative References . . . . . . . . . . . .\
    \ . . . . . .  32\n     12.2.  Informative References . . . . . . . . . . . .\
    \ . . . . .  32\n   Appendix A.  Performance Comparison with Base Solution  .\
    \ . . . .  34\n     A.1.  Delay Characterization of the Base Solution . . . .\
    \ . . .  34\n     A.2.  Delay Characterization of SIAL  . . . . . . . . . . .\
    \ . .  35\n     A.3.  Performance Comparison  . . . . . . . . . . . . . . . .\
    \ .  35\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   The base solution for providing continuous multicast service\
    \ delivery\n   in Proxy Mobile IPv6 (PMIPv6) domains is described in [RFC6224].\
    \  It\n   specifies the basic functionality needed in the Proxy Mobile IPv6\n\
    \   [RFC5213] entities to provide a multicast service, so continuous\n   delivery\
    \ of multicast traffic is supported by obtaining, after each\n   handover, the\
    \ ongoing multicast subscription information directly\n   from the Mobile Node\
    \ (MN).  When a mobile node attaches to a new\n   Mobile Access Gateway (MAG),\
    \ the mobile node is queried by the mobile\n   access gateway through a Multicast\
    \ Listener Discovery (MLD) General\n   Query, which is sent just after any new\
    \ link is set up, to learn of\n   any existing subscription, as specified in [RFC2710]\
    \ and [RFC3810].\n   However, the base solution needs to be improved to meet some\n\
    \   performance requirements, especially those referring to the user-\n   perceived\
    \ service quality, which is seriously affected by the\n   disruption of multicast\
    \ content forwarding to the mobile node during\n   handovers.\n   A mobile node\
    \ with an active multicast subscription, moving from one\n   point of attachment\
    \ to another within a Proxy Mobile IPv6 domain,\n   experiences a certain delay\
    \ until it resumes receiving again the\n   multicast content that it was receiving\
    \ at the previous location.\n   Such delay causes a gap in the content reception.\
    \  Two different\n   actions can help mitigate such reception gap.  One of them\
    \ is to\n   buffer at the previous mobile access gateway a copy of the multicast\n\
    \   traffic destined to the mobile node and forward it to the new mobile\n   access\
    \ gateway, in order to deliver that traffic to the mobile node.\n   The other\
    \ possible (complementary) action is to reduce the time\n   needed by the new\
    \ mobile access gateway to learn of the active\n   multicast subscription of the\
    \ mobile node (i.e., the multicast\n   context), so the new mobile access gateway\
    \ can subscribe to the\n   multicast group(s) on behalf of the mobile node as\
    \ soon as possible.\n   While the first mechanism could potentially be accomplished\
    \ by using\n   some adaptation of [RFC5949] to multicast traffic (despite being\
    \ only\n   applicable in the case the underlying radio access technology\n   supports\
    \ Layer 2 (L2) triggers, thus requiring additional support on\n   the mobile node),\
    \ there is no generic standard solution for the\n   accelerated acquisition of\
    \ the ongoing multicast subscription of the\n   mobile node.\n   The approach\
    \ followed by the base solution [RFC6224] to learn of an\n   existing multicast\
    \ subscription relies on the behavior of the IGMP/\n   MLD protocols.  Both protocols\
    \ send multicast membership query\n   messages when a new link is up.  The response\
    \ to such a message\n   reports any existing multicast subscriptions by the mobile\
    \ node.\n   While this is a straightforward approach, the mobile access gateway\n\
    \   can incur in a non-negligible delay in receiving the corresponding\n   MLD\
    \ Report message.  This delay is caused by the time needed for the\n   detection\
    \ of the attachment in the new link and the re-establishment\n   of the data plane\
    \ after the handover, the radio transfer delays\n   associated with the signaling\
    \ to the mobile node, and the MLD query\n   response interval time required by\
    \ this procedure (whose default\n   value is 10 seconds as defined in [RFC2710]\
    \ and [RFC3810], or between\n   5 and 10 seconds as considered in the best case\
    \ wireless link\n   scenario in [RFC6636]).\n   This document extends the Proxy\
    \ Mobile IPv6 signaling protocol\n   defined in the base protocol [RFC5213] by\
    \ including a new multicast\n   information option to update Proxy Mobile IPv6\
    \ entities during the\n   registration and de-registration processes, and new\
    \ messages to\n   trigger the transfer of multicast information.  No extension\
    \ is\n   required in any of the multicast-related protocols in use (IGMP/MLD\n\
    \   or PIM protocols).  Furthermore, this specification does not\n   substitute\
    \ the standard procedures defined in [RFC6224] (e.g., the\n   mobile access gateway\
    \ continues sending an MLD Query to the entering\n   mobile node as soon as the\
    \ point-to-point link is set up), but\n   complements them for accelerating the\
    \ acquisition of the multicast\n   content by the mobile access gateway associated\
    \ to the new point-of-\n   attachment.\n   This document provides a signaling\
    \ method internal to the network to\n   speed up the subscription information\
    \ acquisition by the mobile\n   access gateway, in order to accelerate the multicast\
    \ delivery to the\n   mobile node after having completed a handover.  By doing\
    \ so, the\n   knowledge by the mobile access gateway of the currently active\n\
    \   multicast subscription becomes independent of the underlying radio\n   technology\
    \ dynamics and relaxes the requirement of a rapid response\n   from the mobile\
    \ node in processing IGMP/MLD control messages.  Issues\n   like radio framing,\
    \ radio access contention, channel reliability,\n   MN's capabilities (i.e., L2\
    \ triggering support), IGMP/MLD timers\n   optimization for wireless environments,\
    \ etc., will not impact the\n   observed multicast performance during handovers.\n\
    \   The mechanisms described in this document can also be applied to the\n   solutions\
    \ defined in [RFC7028].  Furthermore, it is also independent\n   of the role played\
    \ by the mobile access gateway within the multicast\n   network (acting as either\
    \ MLD proxy or multicast router).\n"
- title: 1.1.  Handover Optimization Requirements
  contents:
  - "1.1.  Handover Optimization Requirements\n   A basic solution for providing support\
    \ of multicast in a network-\n   based mobility management environment has been\
    \ specified in [RFC6224]\n   without introducing changes on the original PMIPv6\
    \ specification\n   [RFC5213].  The focus of the present document is on improving\
    \ the\n   efficiency of the base solution regarding handover performance.\n  \
    \ One of the critical aspects of the base solution is the expected\n   delay incurred\
    \ by the mobile access gateway (where the mobile node is\n   being attached to)\
    \ to be informed about the ongoing multicast\n   subscription of the entering\
    \ MN, mainly due to the fact that the\n   mechanisms provided in the base solution\
    \ relay on the original MLD\n   procedures, with long timing interactions not\
    \ conceived for mobile\n   environments.  Then, the requirements to be covered\
    \ by a handover\n   optimization solution can be established in the following\
    \ manner:\n   o  The solution MUST be applicable to any kind of MN (that is, not\n\
    \      requiring any particular functionality such as, for example, L2\n     \
    \ trigger capabilities), in such a way that any type of mobile node\n      in\
    \ a PMIPv6 domain being served with multicast traffic can benefit\n      from\
    \ the optimized solution.\n   o  The solution MUST NOT impact existing multicast\
    \ protocols.\n   o  The solution MUST optimize the handover performance with respect\n\
    \      to the performance achieved with the base solution for any kind of\n  \
    \    handover process (i.e., for proactive and reactive handovers).\n   o  The\
    \ solution SHOULD minimize the number and extent of additional\n      support\
    \ (i.e., capabilities) required in the network, aiming at an\n      easier deployment.\n\
    \   o  The solution MUST NOT impact deployments of legacy implementations\n  \
    \    of [RFC5213] and [RFC6224].\n   The present specification addresses all these\
    \ requirements, as\n   described in the following sections.\n"
- title: 2.  Terminology
  contents:
  - "2.  Terminology\n   The key words \"MUST\", \"MUST NOT\", \"REQUIRED\", \"SHALL\"\
    , \"SHALL NOT\",\n   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"MAY\", and\
    \ \"OPTIONAL\" in this\n   document are to be interpreted as described in [RFC2119].\n\
    \   This document uses the terminology referring to PMIPv6 components as\n   defined\
    \ in [RFC5213].\n   Additionally, the following terms are defined and used in\
    \ this\n   document.\n   pMAG:  The previous MAG or pMAG is the mobile access\
    \ gateway where\n      the MN was initially registered before a handover event.\n\
    \   nMAG:  The new MAG or nMAG is the mobile access gateway where the MN\n   \
    \   is registered at the end of the handover event.\n   Reactive Handover:  A\
    \ reactive handover is a handover event in which\n      the Local Mobility Anchor\
    \ (LMA) receives the mobile node\n      registration from the nMAG without having\
    \ previously received the\n      MN de-registration from the pMAG.\n   Proactive\
    \ Handover:  A proactive handover is a handover event where\n      the mobile\
    \ node is firstly de-registered on the local mobility\n      anchor by the pMAG,\
    \ and later on it is registered by the nMAG as a\n      consequence of changing\
    \ the point of attachment.\n   Multicast Membership Context:  In this document,\
    \ multicast membership\n      context makes reference to the information relative\
    \ to the\n      currently active multicast subscription of an MN in a handover\n\
    \      event that is transferred between the PMIPv6 entities to support\n    \
    \  the handover optimization.\n"
- title: 3.  Overview
  contents:
  - "3.  Overview\n   The local mobility anchor is a key element within the PMIPv6\n\
    \   infrastructure, which traces the mobile node reachability along the\n   PMIPv6\
    \ domain.  Therefore, the LMA is the best element to keep the\n   MNs' multicast\
    \ subscription information up-to-date and to forward it\n   to the rest of PMIPv6\
    \ entities (i.e., to the mobile access gateways)\n   as needed when MNs move within\
    \ the domain.  The LMA has timely\n   knowledge of the MNs' locations, especially\
    \ during handover events,\n   and it is therefore able to quickly provide information\
    \ to the new\n   point of attachment (e.g., by querying the previous one).  Figure\
    \ 1\n   summarizes the main idea of the optimization.\n                      \
    \                 +------+\n                                       | pMAG |  \
    \ |\n                                       +------+   |\n                   \
    \                   /           |\n                                     /    \
    \        |\n                                    /             |\n            \
    \                       /              |\n            -*-*-*-*-             /\
    \              (MN)\n           (         )           /                |\n   \
    \       (           )   +-----+      +------+   |\n         (  Internet   )--|\
    \ LMA |------| nMAG |   v\n          (           )   +-----+      +------+\n \
    \          (         )\n            -*-*-*-*-          Registration\n        \
    \                     <--------------\n                            Registration\
    \ Ack\n                          & Multicast Context\n                       \
    \      -------------->\n             Figure 1: High-Level Description of the Solution\n\
    \   The local mobility anchor only obtains the detailed subscription\n   information\
    \ or multicast context during a handover event.  There is\n   no need for continuously\
    \ informing the LMA about MNs' multicast state\n   while the mobile nodes remain\
    \ attached to the same mobile access\n   gateway.  Such a continuous updating\
    \ procedure would significantly\n   increase the signaling load within the PMIPv6\
    \ domain without a clear\n   benefit.  The multicast context is only critical\
    \ during handovers:\n   neither after nor before.  Indicating the active subscription\
    \ while\n   the handover is ongoing guarantees that such information will be up\n\
    \   to date and ready to be transferred to the new MAG where the mobile\n   node\
    \ has just attached.  Therefore, this solution defines the\n   Subscription Information\
    \ Acquisition through the LMA (SIAL) as the\n   procedure to inform the new MAG\
    \ about the multicast subscriptions\n   maintained by the entering MN.\n   To\
    \ be able to transfer the multicast subscription information between\n   PMIPv6\
    \ entities during a handover, this document extends the PMIPv6\n   protocol in\
    \ several ways.  First of all, a new mobility option is\n   defined to carry the\
    \ multicast context of the current subscription.\n   Furthermore, additional messages\
    \ are defined to manage the\n   interchange of the multicast information among\
    \ PMIPv6 entities.\n   Finally, some flags are defined to govern the process.\n"
- title: 4.  Proxy Mobile IPv6 Extensions
  contents:
  - "4.  Proxy Mobile IPv6 Extensions\n   This section outlines the extensions proposed\
    \ to the PMIPv6 protocol\n   specified in [RFC5213].\n"
- title: 4.1.  Active Multicast Subscription Mobility Option
  contents:
  - '4.1.  Active Multicast Subscription Mobility Option

    '
- title: 4.1.1.  Option Application Rules
  contents:
  - "4.1.1.  Option Application Rules\n   A new TLV-encoded mobility option, Active\
    \ Multicast Subscription\n   option is defined for use with the Proxy Binding\
    \ Update (PBU) and\n   Proxy Binding Acknowledgement (PBA) messages exchanged\
    \ between a\n   local mobility anchor and a mobility access gateway to transfer\
    \ the\n   multicast subscription information.  This option is used for\n   exchanging\
    \ the multicast membership context.  This information is\n   carried by directly\
    \ using the format defined in the original MLD\n   specifications.  There can\
    \ be multiple Active Multicast Subscription\n   options present in the message,\
    \ one for each active subscription\n   maintained by the mobile node when the\
    \ handover is taking place\n   (i.e., one per multicast membership context).\n\
    \   This new option is also used for the same purposes by the new\n   Subscription\
    \ Response message defined later in this document.\n   MLDv2 [RFC3810] is the\
    \ primary objective for the definition of the\n   option format.  MLDv1 [RFC2710]\
    \ is also considered for backward\n   compatibility.\n"
- title: 4.1.2.  Option Format
  contents:
  - "4.1.2.  Option Format\n   The format of this new option is as follows:\n    \
    \   0                   1                   2                   3\n       0 1\
    \ 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n              \
    \        +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n                 \
    \     |      Type     |     Length    |    MLD Type   |\n      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \      |                                                               |\n   \
    \   +                  Multicast Membership Context                 +\n      |\
    \                                                               |\n      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   The alignment requirement of this option is 8n+1.\n   Type:\n      57, which\
    \ indicates the Active Multicast Subscription IPv6 option.\n   Length:\n     \
    \ 8-bit unsigned integer indicating the length of the option in\n      octets,\
    \ excluding the type and length fields.\n   MLD type:\n      Field used to identify\
    \ the IPv6 multicast membership protocol in\n      use, and the corresponding\
    \ format of the next Multicast Membership\n      Context information field.  This\
    \ field maps the type codification\n      used in the original MLD specifications\
    \ for the Report message.\n      For MLDv2, the MLD Type value is 143, as specified\
    \ in [RFC3810].\n   Multicast Membership Context:\n      Multicast subscription\
    \ information corresponding to a single\n      subscribed multicast address. \
    \ For MLDv2, the format of this field\n      follows the Multicast Address Record\
    \ format as defined in\n      [RFC3810].\n"
- title: 4.1.3.  Backward Compatibility with MLDv1
  contents:
  - "4.1.3.  Backward Compatibility with MLDv1\n   The following values are adopted\
    \ when MLDv1 is used.\n   MLD type:\n      For MLDv1, the MLD Type value is 131,\
    \ as specified in [RFC2710].\n   Multicast Membership Context:\n      For MLDv1,\
    \ the relevant information for multicast context is\n      simply given, according\
    \ to [RFC2710], by the multicast address of\n      the subscribed content.\n \
    \     In consequence, the Multicast Membership Context is defined as a\n     \
    \ 4-octet reserved field and the Multicast Address of the subscribed\n      content\
    \ as in [RFC2710], as shown next.\n        0                   1             \
    \      2                   3\n        0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9\
    \ 0 1 2 3 4 5 6 7 8 9 0 1\n       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \       |                           Reserved                            |\n  \
    \     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n    \
    \   |                                                               |\n      \
    \ *                                                               *\n       |\
    \                                                               |\n       *  \
    \                     Multicast Address                       *\n       |    \
    \                                                           |\n       *      \
    \                                                         *\n       |        \
    \                                                       |\n       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n"
- title: 4.2.  Multicast Signaling Flag on PBU/PBA Message Headers
  contents:
  - '4.2.  Multicast Signaling Flag on PBU/PBA Message Headers

    '
- title: 4.2.1.  Flag Application Rules
  contents:
  - "4.2.1.  Flag Application Rules\n   A new flag S has been added in both the PBU\
    \ and PBA message headers\n   to advertise the mobile access gateway and the local\
    \ mobility anchor\n   capabilities of processing multicast-related signaling for\
    \ the MN\n   that caused the message.\n   This flag governs the multicast-related\
    \ signaling between the LMA and\n   the MAG.  As a general rule, the value of\
    \ the flag in the PBA message\n   is a copy of the value received in the PBU message.\
    \  Specific rules\n   are described in next subsections.\n"
- title: 4.2.1.1.  Registration Process
  contents:
  - "4.2.1.1.  Registration Process\n   During handover, the entities involved in\
    \ this process are the nMAG\n   and the LMA.  These rules also apply for the initial\
    \ binding\n   registration process.\n   o  PBU message\n      *  S=0 indicates\
    \ that the MAG sending the PBU message does not\n         accept multicast-related\
    \ signaling for the MN being attached.\n         This can be used to discriminate\
    \ PMIPv6 nodes that are not\n         multicast enabled, for backward compatibility\
    \ reasons.\n      *  S=1 indicates that the MAG sending the PBU message accepts\n\
    \         multicast-related signaling for the MN being attached.\n         Depending\
    \ on the type of handover (reactive or proactive) the\n         LMA takes some\
    \ actions, described later in this document.\n   o  PBA message\n      *  If S=0\
    \ in the corresponding PBU message, the value of the flag\n         in the PBA\
    \ message MUST be a copy of the value received in the\n         PBU message (thus\
    \ S=0), without any further meaning.\n      *  If S=1 in the corresponding PBU\
    \ message, two subcases are\n         possible:\n         +  S=1 and Active Multicast\
    \ Subscription mobility option in the\n            PBA message.  When the MN maintains\
    \ an active multicast\n            session, if the LMA is able to provide the\
    \ multicast\n            subscription information during registration, the PBA\n\
    \            message MUST include the Active Multicast Subscription\n        \
    \    mobility option.  If the LMA is not able to provide such\n            information\
    \ during registration, the PBA message MUST NOT\n            include the Active\
    \ Multicast Subscription mobility option.\n            This case is useful to\
    \ decouple unicast and multicast\n            signaling for an MN being registered\
    \ at nMAG.  A way for\n            obtaining later active multicast-subscription\
    \ information is\n            described later in this document.\n         +  S=0\
    \ in the PBA message if the MN does not maintain an active\n            multicast\
    \ subscription (note that for backward compatibility\n            reasons, an\
    \ LMA not supporting multicast related signaling\n            would always send\
    \ S=0).\n"
- title: 4.2.1.2.  De-registration Process
  contents:
  - "4.2.1.2.  De-registration Process\n   During handover, the entities involved\
    \ in this process are the pMAG\n   and the LMA.  These rules apply for the binding\
    \ de-registration\n   process.\n   o  PBU message\n      *  S=0 indicates that\
    \ the MN has no active multicast session (note\n         that for backward compatibility\
    \ reasons, a pMAG not supporting\n         multicast related signaling would always\
    \ send S=0).\n      *  S=1 indicates that the MN has an active multicast session,\
    \ and\n         the multicast context MUST be transported in the Active\n    \
    \     Multicast Subscription mobility option.\n   o  PBA message\n      *  The\
    \ value of the flag in the PBA message SHOULD be 0, without\n         any further\
    \ meaning (note that for backward compatibility\n         reasons, an LMA not\
    \ supporting multicast related signaling\n         would always send S=0).\n"
- title: 4.2.2.  New Format of Conventional PBU/PBA Messages
  contents:
  - '4.2.2.  New Format of Conventional PBU/PBA Messages

    '
- title: 4.2.2.1.  Proxy Binding Update Message
  contents:
  - "4.2.2.1.  Proxy Binding Update Message\n   As result of the new defined flag,\
    \ the PBU message format is updated\n   as follows:\n      0                 \
    \  1                   2                   3\n      0 1 2 3 4 5 6 7 8 9 0 1 2\
    \ 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n                                    \
    \ +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n                                     |  \
    \         Sequence #          |\n     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \     |A|H|L|K|M|R|P|S|   Reserved    |            Lifetime           |\n    \
    \ +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n     |  \
    \                                                             |\n     .      \
    \                                                         .\n     .          \
    \                Mobility Options                     .\n     .              \
    \                                                 .\n     |                  \
    \                                             |\n     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n"
- title: 4.2.2.2.  Proxy Binding Acknowledgement Message
  contents:
  - "4.2.2.2.  Proxy Binding Acknowledgement Message\n   As result of the new defined\
    \ flag, the PBA message format is updated\n   as follows:\n      0           \
    \        1                   2                   3\n      0 1 2 3 4 5 6 7 8 9\
    \ 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n                              \
    \       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n                                  \
    \   |    Status     |K|R|P|S| Rsrvd |\n     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \     |           Sequence #          |           Lifetime            |\n    \
    \ +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n     |  \
    \                                                             |\n     .      \
    \                                                         .\n     .          \
    \              Mobility Options                       .\n     .              \
    \                                                 .\n     |                  \
    \                                             |\n     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n"
- title: 4.3.  Messages for Active Multicast Subscription Query
  contents:
  - "4.3.  Messages for Active Multicast Subscription Query\n   A new pair of messages\
    \ is defined for querying entities about the\n   active multicast subscription\
    \ of the MN when the handover is of\n   reactive type.\n   These messages are\
    \ sent using the Mobility Header as defined in\n   [RFC6275].\n"
- title: 4.3.1.  Subscription Query Message
  contents:
  - '4.3.1.  Subscription Query Message

    '
- title: 4.3.1.1.  Message Application Rules
  contents:
  - "4.3.1.1.  Message Application Rules\n   The Subscription Query message (value\
    \ 22) is sent by the LMA towards\n   the pMAG to query it about any existing multicast\
    \ subscriptions of\n   the MN that is being registered by the nMAG.  This message\
    \ is\n   generated in case the handover is of reactive type.\n   Additionally,\
    \ this message is sent by the nMAG towards the LMA to\n   query it about the existing\
    \ multicast subscriptions of the MN when\n   the LMA acknowledges the PBU sent\
    \ by the nMAG but the multicast\n   context is not provided (namely, when the\
    \ PBU message has set the\n   flag S to 1, and the PBA message has set the flag\
    \ S to 1 but the\n   multicast context is missing).\n"
- title: 4.3.1.2.  Message Format
  contents:
  - "4.3.1.2.  Message Format\n   The Subscription Query message has the following\
    \ format.\n      0                   1                   2                   3\n\
    \      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n     \
    \                                +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n         \
    \                            |  Sequence #   |   Reserved    |\n     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \     |                                                               |\n    \
    \ .                                                               .\n     .  \
    \                      Mobility Options                       .\n     .      \
    \                                                         .\n     |          \
    \                                                     |\n     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   Sequence Number:\n      The Sequence Number field establishes the order of\
    \ the messages\n      sent in the Subscription Query / Subscription Response dialogue\n\
    \      between the LMA and the MAG for a certain MN.  The initial\n      Sequence\
    \ Number MUST be determined by the entity that creates the\n      message (either\
    \ LMA or MAG, depending on the scenario), which is\n      responsible for managing\
    \ this counter.\n      This Sequence Number comparison MUST be performed modulo\
    \ 2**8,\n      i.e., the number is a free-running counter represented modulo 256.\n\
    \      A Sequence Number in a received Subscription Query message is\n      considered\
    \ less than or equal to the last received number if its\n      value lies in the\
    \ range of the last received number and the\n      preceding 128 values, inclusive.\
    \  For example, if the last\n      received sequence number was 15, then messages\
    \ with sequence\n      numbers 0 through 15, as well as 143 through 255, would\
    \ be\n      considered less than or equal.\n   Reserved:\n      This field is\
    \ unused for now.  The value MUST be initialized to 0.\n   Mobility options:\n\
    \      This message carries one or more TLV-encoded mobility options.\n      The\
    \ valid mobility options for this message are the following:\n      *  Mobile\
    \ Node Identifier option [RFC4283] (mandatory).\n      *  Home Network Prefix\
    \ option [RFC5213] (optional).\n      There can be one or more instances of the\
    \ Home Network Prefix\n      option, but only one instance of the Mobile Node\
    \ Identifier\n      option.\n"
- title: 4.3.2.  Subscription Response Message
  contents:
  - '4.3.2.  Subscription Response Message

    '
- title: 4.3.2.1.  Message Application Rules
  contents:
  - "4.3.2.1.  Message Application Rules\n   The Subscription Response message (value\
    \ 23) is sent by the pMAG\n   towards the LMA, or by the LMA towards the nMAG,\
    \ to answer a\n   previously received Subscription Query message, as described\
    \ above.\n"
- title: 4.3.2.2.  Message Format
  contents:
  - "4.3.2.2.  Message Format\n   The Subscription Response message has the following\
    \ format.\n      0                   1                   2                   3\n\
    \      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n     \
    \                                +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n         \
    \                            |  Sequence #   |I|  Reserved   |\n     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \     |                                                               |\n    \
    \ .                                                               .\n     .  \
    \                      Mobility Options                       .\n     .      \
    \                                                         .\n     |          \
    \                                                     |\n     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   Sequence Number:\n      The value of the Sequence Number field in the Subscriber\
    \ Response\n      message MUST be a copy of the Sequence Number received in the\n\
    \      Subscription Query message.\n   Multicast Information (I):\n      The multicast\
    \ Information flag I specifies whether or not there is\n      multicast subscription\
    \ information available for the MN.  The\n      meaning is the following:\n  \
    \       I=0: there is no multicast subscription information available\n      \
    \   for the MN identified by the Mobile Node Identifier option in\n         this\
    \ message.\n         I=1: there is multicast subscription information available\
    \ for\n         the MN identified by the Mobile Node Identifier option in this\n\
    \         message.  The multicast subscription information MUST be\n         carried\
    \ on one or more instances of the Active Multicast\n         Subscription option\
    \ in this message (one instance for each\n         active subscription).\n   Reserved:\n\
    \      This field is unused for now.  The value MUST be initialized to 0.\n  \
    \ Mobility options:\n      This message carries one or more TLV-encoded mobility\
    \ options.\n      The valid mobility options for this message are the following:\n\
    \      *  Mobile Node Identifier option [RFC4283] (mandatory).\n      *  Active\
    \ Multicast Subscription option (mandatory) only when flag\n         I=1; it MUST\
    \ NOT be present in any other case.\n      *  Home Network Prefix option [RFC5213]\
    \ (optional).\n      There can be one or more instances of the Home Network Prefix\n\
    \      option (in all cases) and the Active Multicast Subscription option\n  \
    \    (only when I=1), but only one instance of the Mobile Node\n      Identifier\
    \ option.\n"
- title: 4.4.  New PBA Timer in the LMA
  contents:
  - "4.4.  New PBA Timer in the LMA\n   A new timer named \"PBA timer\" is used in\
    \ the LMA to define the\n   maximum waiting time before the PBA message is sent\
    \ to the nMAG in\n   case the multicast subscription information relative to the\
    \ MN is not\n   yet available.  The aim of this timer is to prevent potential\
    \ large\n   delays in the forwarding of unicast traffic towards the MN being\n\
    \   registered at the nMAG.  This timer allows decoupling the unicast\n   signaling\
    \ from the multicast one in the SIAL solution.\n   This timer SHOULD be upper\
    \ bounded by the constant defined in\n   [RFC6275] INITIAL_BINDACK_TIMEOUT, whose\
    \ default value is 1 s.  This\n   constant sets the time when the nMAG will retry\
    \ the MN registration\n   by sending again the PBU message.  The \"PBA timer\"\
    \ has to be set to a\n   value that ensures that the nMAG does not enter the retry\
    \ mode.\n   Operational experience is needed on how to set up the PBA timer, and\n\
    \   therefore it is RECOMMENDED to set the \"PBA timer\" to zero, except\n   for\
    \ experimental purposes.\n"
- title: 5.  Handover Signaling Procedures
  contents:
  - "5.  Handover Signaling Procedures\n   As the MN moves from one access gateway\
    \ to another, the mobility-\n   related signaling due to the handover event is\
    \ carried out\n   independently by the pMAG and the nMAG.  That signaling process\
    \ is\n   not synchronized; thus, two scenarios need to be considered depending\n\
    \   on the order in which the LMA receives notification of the MN\n   registration\
    \ and de-registration in the nMAG and the pMAG,\n   respectively.\n"
- title: 5.1.  Handover of Proactive Type
  contents:
  - '5.1.  Handover of Proactive Type

    '
- title: 5.1.1.  Rationale
  contents:
  - "5.1.1.  Rationale\n   In the proactive case, the MN is firstly de-registered\
    \ by the pMAG,\n   and later on it is registered by the nMAG as a consequence\
    \ of\n   changing the point of attachment.\n   Only for those MNs that maintain\
    \ an active multicast subscription,\n   the pMAG includes the Active Multicast\
    \ Subscription mobility option\n   carrying the multicast context of the MN at\
    \ that moment as part of\n   the PBU message (with flag S set to 1).\n   The local\
    \ mobility anchor stores that information in the\n   corresponding binding cache.\
    \  If later on the MN attaches to an nMAG,\n   this information is sent (using\
    \ the same TLV option) to the nMAG as\n   part of the PBA confirmation of the\
    \ registration process (if the PBU\n   message sent by the nMAG has the flag S\
    \ set to 1).  On the other\n   hand, if no further registration happens, the multicast\
    \ information\n   is removed together with the rest of binding database for that\
    \ MN.\n   After receiving the multicast context, the nMAG can subscribe to the\n\
    \   multicast flow(s) on behalf of the MN in case there is no other MN\n   already\
    \ receiving it at the nMAG.  The multicast status can also be\n   set in advance\
    \ for the point-to-point link towards the MN.\n   Note that the SIAL solution\
    \ described here does not prevent\n   benefiting from extended support in the\
    \ mobile node / network that\n   facilitates the proactive mode operation of the\
    \ solution, e.g., based\n   on L2 capabilities.\n"
- title: 5.1.2.  Message Flow Description
  contents:
  - "5.1.2.  Message Flow Description\n   Figure 2 summarizes this process.\n    \
    \      +-----+          +----+           +-----+          +----+\n          |\
    \ MN  |          |pMAG|           | LMA |          |nMAG|\n          +-----+ \
    \         +----+           +-----+          +----+\n             |           \
    \     |                |                |\n             |                |==Bi-Dir\
    \ Tunnel=|                |\n             | Multicast Data |                |\
    \                |\n             |<---------------|                |         \
    \       |\n             |                |                |                |\n\
    \      1) MN Detached          |                |                |\n         \
    \    |         MN Detached Event       |                |\n             |    \
    \            |                |                |\n             |             \
    \   |Ext'd DeReg PBU |                |\n      2)     |                |--------------->|\
    \                |\n             |                |                |         \
    \       |\n      3)     |                |            Accept PBU           |\n\
    \             |                |(Multicast Subscription info stored)\n       \
    \      |                |                |                |\n             |  \
    \              |      PBA       |                |\n      4)     |           \
    \     |<---------------|                |\n             |                |   \
    \             |                |\n      5) MN Attached          |            \
    \    |                |\n             |                |                |   MN\
    \ Attached Event\n             |                |                |           \
    \     |\n             |                |                |       PBU      |\n \
    \     6)     |                |                |<---------------|\n          \
    \   |                |                |                |\n             |     \
    \           |                |   Ext'd PBA    |\n      7)     |              \
    \  |                |--------------->|\n             |                |      \
    \          |                |\n      8)     |                |               \
    \ |          Accept PBA,\n             |                |                |   Multicast\
    \ Group join\n             |                |                | and P-t-P status\
    \ setup\n             |                |                |                |\n \
    \            |                |                |==Bi-Dir Tunnel=|\n          \
    \   |                |                |                |\n             |     \
    \           |                | Multicast Data |\n             |<-------------------------------------------------|\n\
    \             |                |                |                |\n         \
    \    |                |                |                |\n                  \
    \     Figure 2: Proactive Handover\n   The message flow is as follows:\n   1.\
    \  A registered MN is receiving a multicast content that has been\n       previously\
    \ subscribed to by sending a standard MLD report from\n       the mobile node\
    \ to the currently serving mobile access gateway,\n       pMAG.  The pMAG keeps\
    \ the multicast state of the point-to-point\n       link with the MN.\n   2. \
    \ The MN initiates a handover process (e.g., because of better\n       radio conditions)\
    \ over a radio access controlled by a new MAG.\n       As a consequence, pMAG\
    \ determines a detachment event\n       corresponding to this mobile node, and\
    \ updates the attachment\n       status of this MN to the local mobility anchor\
    \ by sending an\n       extended Proxy Binding Update message, including the Active\n\
    \       Multicast Subscription, which contains the multicast context of\n    \
    \   the active multicast subscriptions in the moment of handover.\n   3.  The\
    \ LMA processes the PBU message.  Additionally, the LMA stores\n       in the\
    \ binding cache the information regarding the ongoing\n       multicast subscription(s)\
    \ when the detachment is initiated.  This\n       information is kept until a\
    \ new registration of the MN is\n       completed by another MAG, or until the\
    \ binding cache expiration,\n       according to [RFC5213].\n   4.  The local\
    \ mobility anchor acknowledges to the pMAG the previous\n       PBU message.\n\
    \   5.  As a result of the handover process, the mobile node attaches to\n   \
    \    another mobility access gateway, called nMAG.\n   6.  The nMAG triggers a\
    \ registration process by sending a PBU message\n       (with flag S set to 1)\
    \ to the local mobility anchor.\n   7.  After the analysis of the PBU message,\
    \ the LMA sends an extended\n       PBA including the Active Multicast Subscription\
    \ option, which\n       contains the multicast context of the active subscriptions\
    \ in the\n       moment of handover.\n   8.  The nMAG processes the PBA message\
    \ following all the standard\n       procedures described in [RFC5213].  Additionally,\
    \ with the new\n       information relative to multicast subscription, the nMAG\
    \ sets up\n       the multicast status of the point-to-point link between the\
    \ nMAG\n       and the MN, and joins the content identified by (S,G) on behalf\n\
    \       of the MN in case the nMAG is not receiving already such content\n   \
    \    due to a previous subscription ordered by another MN attached to\n      \
    \ it.  From that instant, the multicast content is served to the\n       MN.\n"
- title: 5.2.  Handover of Reactive Type
  contents:
  - '5.2.  Handover of Reactive Type

    '
- title: 5.2.1.  Rationale
  contents:
  - "5.2.1.  Rationale\n   In the reactive case, the LMA receives the mobile node\
    \ registration\n   from the nMAG without having previously received the MN de-\n\
    \   registration from the pMAG.\n   As the nMAG is not aware of any active multicast\
    \ subscription of the\n   mobile node, the nMAG starts a conventional registration\
    \ process, by\n   sending a normal PBU message (with flag S set to 1) towards\
    \ the local\n   mobility anchor.\n   In the reactive handover case, after MN registration\
    \ at the nMAG, the\n   local mobility anchor SHOULD generically query the pMAG\
    \ to retrieve\n   the multicast context of the ongoing multicast subscription\
    \ of the\n   mobile node.  However, the LMA may know in advance if the pMAG\n\
    \   supports multicast signaling based on the value of the flag S\n   received\
    \ during the MN registration in pMAG.  Specifically, in case\n   the pMAG does\
    \ not support multicast signaling (e.g., the S flag value\n   received from pMAG\
    \ at the time of registering the mobile node was 0),\n   the LMA MAY decide not\
    \ to query pMAG even in the case of receiving an\n   nMAG indication of supporting\
    \ multicast signaling.\n   Once the multicast subscription information is retrieved\
    \ from the\n   pMAG, the LMA encapsulates it in the PBA message by using the TLV\n\
    \   option Active Multicast Subscription and forwards the PBA message to\n   the\
    \ nMAG.  Then, the nMAG can subscribe the multicast flow on behalf\n   of the\
    \ MN, if there is no other mobile node receiving it already at\n   the nMAG. \
    \ The multicast status can be also set in advance for the\n   point-to-point link\
    \ towards the mobile node.\n"
- title: 5.2.2.  Message Flow Description
  contents:
  - "5.2.2.  Message Flow Description\n   Figure 3 summarizes this process.\n    \
    \   +-----+          +----+           +-----+          +----+\n       | MN  |\
    \          |pMAG|           | LMA |          |nMAG|\n       +-----+          +----+\
    \           +-----+          +----+\n          |                |            \
    \    |                |\n          |                |                |       \
    \  MN Attached Event\n          |                |                |          \
    \      |\n          |                |                |       PBU      |\n   1)\
    \     |                |                |<---------------|\n          |      \
    \          |                |                |\n          |                | \
    \ Subscr Query  |                |\n   2)     |                |<---------------|\
    \                |\n          |                |                |            \
    \    |\n          |                |  Subscr Resp   |                |\n   3)\
    \     |                |--------------->|                |\n          |      \
    \          |                |                |\n          |                | \
    \   (Multicast Subscription      |\n          |                |        info forwarding)\
    \         |\n          |                |                |                |\n\
    \          |                |                |   Ext'd PBA    |\n   4)     | \
    \               |                |--------------->|\n          |             \
    \   |                |                |\n   5)     |                |        \
    \        |           Accept PBA,\n          |                |               \
    \ |      Multicast Group join\n          |                |                | \
    \    and P-t-P status setup\n          |                |                |   \
    \             |\n          |                |                |==Bi-Dir Tunnel=|\n\
    \          |                |                |                |\n          | \
    \               |                |   (S,G) Data   |\n          |<-------------------------------------------------|\n\
    \          |                |                |                |\n          | \
    \               |                |                |\n                        Figure\
    \ 3: Reactive Handover\n   We next take as starting point the situation where\
    \ an MN is attached\n   to the pMAG, being multicast enabled and maintaining an\
    \ active\n   multicast subscription at this moment.\n   The sequence of messages\
    \ for the handover of the mobile node is the\n   following (as depicted in Figure\
    \ 3):\n   1.  At a certain time, the MN initiates a handover process (e.g.,\n\
    \       because of better radio conditions) over a radio access\n       controlled\
    \ by a new MAG.  Then, the nMAG triggers a registration\n       process by sending\
    \ a PBU message (with flag S set to 1) to the\n       local mobility anchor. \
    \ As it is a reactive case, the pMAG is not\n       aware of the detachment process.\n\
    \   2.  Prior to acknowledging the received PBU message, the LMA queries\n   \
    \    the pMAG about if there is any active multicast subscription for\n      \
    \ the MN, by sending a Subscription Query message.\n   3.  The pMAG answers the\
    \ LMA with a Subscription Response message\n       including the multicast context\
    \ of the existing subscriptions.\n   4.  After processing the pMAG answer, the\
    \ LMA acknowledges (with flag\n       S set to 1) the PBU message, including the\
    \ multicast subscription\n       information within the Active Multicast Subscription\
    \ option.  The\n       nMAG then processes the extended PBA message.\n   5.  The\
    \ nMAG processes the PBA message, and it proceeds to set up the\n       multicast\
    \ status of the point-to-point link between the nMAG and\n       the mobile node,\
    \ and to join the content identified by (S,G) on\n       behalf of the MN in case\
    \ the nMAG is not receiving already such\n       content.  The bidirectional tunnel\
    \ is also set up between the\n       nMAG and the local mobility anchor if it\
    \ has not been established\n       before by another MN connection.  At this moment,\
    \ the multicast\n       content can be served to the MN.  The unicast traffic\
    \ for the\n       mobile node can be forwarded as well.\n"
- title: 5.2.3.  Further Considerations for the Reactive Handover Signaling
  contents:
  - "5.2.3.  Further Considerations for the Reactive Handover Signaling\n   A handover\
    \ event is managed independently by the pMAG and nMAG.  It\n   is not a synchronized\
    \ process.  In a reactive handover, the LMA\n   receives a registration PBU from\
    \ nMAG before a de-registration PBU is\n   received from pMAG.\n   In the message\
    \ flows detailed above, it could be the case that the\n   LMA receives a de-registration\
    \ PBU from pMAG just after sending the\n   Subscription Query message, but before\
    \ receiving the Subscription\n   Response message.  That de-registration PBU message\
    \ from pMAG carries\n   the multicast subscription information required to assist\
    \ the MN in\n   the handover, so such valuable information SHOULD be kept by the\
    \ LMA.\n   Furthermore, it is possible that once the Subscription Query message\n\
    \   arrives to pMAG, the pMAG could have already removed the multicast\n   related\
    \ information for the MN.\n   In order to avoid losing the multicast subscription\
    \ information sent\n   in the de-registration PBU message, the local mobility\
    \ anchor SHOULD\n   store it, and SHOULD include it in the PBA message towards\
    \ the nMAG\n   in case the Subscription Response message from the pMAG does not\n\
    \   contain multicast subscription information for the mobile node.\n"
- title: 5.3.  Prevention of Large Delays of the Binding Acknowledgement for
  contents:
  - "5.3.  Prevention of Large Delays of the Binding Acknowledgement for\n      Unicast\
    \ Traffic\n   According to the message sequences described for the reactive\n\
    \   handover case, in case the LMA has to request the multicast\n   subscription\
    \ information from the pMAG, the binding request sent by\n   the nMAG is maintained\
    \ on-hold until the local mobility anchor\n   receives, processes and includes\
    \ the multicast subscription\n   information into the extended PBA message.  As\
    \ a consequence, the\n   unicast traffic may then suffer an extra delay motivated\
    \ by the\n   multicast-related signaling.  During that time, the unicast traffic\n\
    \   with destination the MN being registered by the nMAG MAY be buffered\n   by\
    \ the local mobility anchor.\n   In order to avoid any potential large delay in\
    \ the forwarding of\n   unicast traffic arriving at the LMA towards the MN, a\
    \ mechanism\n   SHOULD be implemented to decouple multicast from unicast traffic\n\
    \   reception by the MN.  Figure 4 shows this mechanism.\n       +-----+     \
    \     +----+           +-----+          +----+\n       | MN  |          |pMAG|\
    \           | LMA |          |nMAG|\n       +-----+          +----+          \
    \ +-----+          +----+\n   1)     |                |==Bi-Dir Tunnel=|     \
    \           |\n          |  unicast data  |                |                |\n\
    \          |<-v-v-v-v-v-v-v-|                |                |\n          | \
    \               |                |                |\n          | Multicast Data\
    \ |                |                |\n          |<---------------|          \
    \      |                |\n          |                |                |     \
    \   MN Attached Event\n          |                |                |       PBU\
    \      |\n   2)     |                |                |<---------------|\n   \
    \       |                |  Subscr Query  |                |\n   3)     |    \
    \            |<---------------|                |\n          |                |\
    \                |                |\n   4)     |                |       <PBA timer\
    \ starts>        |\n          |                |               ///           \
    \    |\n          |                |               ///               |\n   5)\
    \     |                |       <PBA timer expires>       |\n          |      \
    \          |                |                |\n          |                | \
    \               |   Ext'd PBA    |\n          |                |             \
    \   |--------------->|\n          |                |                |        \
    \        |\n          |                |                |          Accept PBA\n\
    \          |                |                |                |\n          | \
    \               |                |==Bi-Dir Tunnel=|\n          |             \
    \   |                |                |\n          |                |        \
    \        |  Unicast Data  |\n          |<-v-v-v-v-v-v-v-v-v-v-v-v-v-v-v-v-v-v-v-v-v-v-v-v-|\n\
    \          |                |                |                |\n          | \
    \               |                |  Subscr Query  |\n   6)     |             \
    \   |                |<---------------|\n          |                |  Subscr\
    \ Resp   |                |\n   7)     |                |--------------->|   \
    \             |\n          |                |                |               \
    \ |\n          |                |    (Multicast Subscription      |\n        \
    \  |                |        info forwarding)         |\n          |         \
    \       |                |                |\n          |                |    \
    \            |  Subscr Resp   |\n   8)     |                |                |--------------->|\n\
    \          |                |                |                |\n          | \
    \               |                |   Multicast Group join\n          |       \
    \         |                | and P-t-P status setup\n          |             \
    \   | Multicast Data |                |\n          |<-------------------------------------------------|\n\
    \          |                |                |                |\n          Figure\
    \ 4: Decoupling of Unicast and Multicast Signaling\n   The sequence of messages\
    \ is the following:\n   1.  An MN is attached to the pMAG.  The MN is a multicast-enabled\n\
    \       node, and it is receiving both unicast and multicast traffic\n       simultaneously.\n\
    \   2.  Some time later, The MN initiates a handover process (e.g.,\n       because\
    \ of better radio conditions) over a radio access\n       controlled by a new\
    \ mobile access gateway.  Then, the nMAG\n       triggers a registration process\
    \ by sending a PBU message (with\n       flag S set to 1) to the local mobility\
    \ anchor.  As it is a\n       reactive case, the pMAG is not aware of the detachment\
    \ process.\n   3.  Prior to acknowledging the received PBU message, the LMA decides\n\
    \       to query the pMAG about if there is any active multicast\n       subscription\
    \ for the mobile node, by sending a Subscription Query\n       message.\n   4.\
    \  Immediately after sending the Subscription Query message, the LMA\n       starts\
    \ the timer \"PBA timer\", which determines the maximum\n       waiting time before\
    \ the PBA is sent to avoid any potential large\n       delay in the forwarding\
    \ of unicast traffic towards the MN.\n   5.  In case the \"PBA timer\" expires,\
    \ the LMA acknowledges the PBU\n       message, by sending the PBA message with\
    \ flag S=1, without the\n       multicast context information.  The nMAG then\
    \ processes the\n       extended PBA message.  Such acknowledgement allows the\
    \ mobile\n       node to receive the unicast traffic from that time on.  The\n\
    \       bidirectional tunnel is also set up between the nMAG and the LMA\n   \
    \    if it has not been established before.\n   6.  In parallel, the nMAG sends\
    \ a Subscription Query message to the\n       LMA requesting the multicast-subscription\
    \ details yet unknown for\n       the mobile node.\n   7.  The pMAG answers the\
    \ Subscription Query message originally sent\n       by the local mobility anchor,\
    \ including the multicast context.\n   8.  After processing the pMAG answer, the\
    \ LMA sends a Subscription\n       Response message to the nMAG, including the\
    \ multicast\n       subscription information within the Active Multicast Subscription\n\
    \       option.  The nMAG processes the PBA message, and it proceeds to\n    \
    \   set up the multicast status of the point-to-point link between\n       the\
    \ nMAG and the mobile node, and to join the content identified\n       by (S,G)\
    \ on behalf of the MN in case the nMAG is not receiving\n       already such content.\
    \  The bidirectional tunnel is also set up\n       between the nMAG and the LMA\
    \ if it has not been established\n       before.  At this moment, the multicast\
    \ content can also be served\n       to the mobile node.\n   The \"PBA timer\"\
    \ in the LMA determines if the signaling flow follows\n   Figure 3 or Figure 4\
    \ in a reactive handover.  A value of 0 for the\n   \"PBA timer\" guarantees that\
    \ the unicast traffic does not suffer any\n   delay (according to the Figure 4\
    \ signaling flow), because the PBA is\n   sent immediately after the LMA receives\
    \ the PBU from the nMAG.  A\n   small non-zero \"PBA timer\" value MAY be used\
    \ to reduce the signaling\n   load in the LMA and MAGs (as shown in the signaling\
    \ flow of Figure 3\n   if the Subscription Response message from the pMAG is received\
    \ at the\n   LMA before the \"PBA timer\" expires), but this has to be carefully\n\
    \   balanced against added delay to the unicast traffic.\n"
- title: 6.  IPv4 Support
  contents:
  - "6.  IPv4 Support\n   IPv4-based mobile nodes (being either IPv4/IPv6 dual-stack\
    \ or\n   IPv4-only enabled) can be supported in a PMIPv6 domain according to\n\
    \   [RFC5844].  When referring to multicast membership protocols and\n   procedures,\
    \ this means that IGMP functionality has to be also\n   supported between the\
    \ PMIPv6 entities, as documented in [RFC6224], to\n   allow the mobile access\
    \ gateway requesting multicast contents to the\n   mobility anchor on behalf of\
    \ the mobile nodes attached to it.\n"
- title: 6.1.  Active Multicast Subscription for IPv4
  contents:
  - "6.1.  Active Multicast Subscription for IPv4\n   The Active Multicast Subscription\
    \ option defined in Section 4.1,\n   which transports the multicast membership\
    \ context of the mobile node\n   during handover, should be compatible with IGMP-based\
    \ formats.\n   Specifically, the option format is defined for IPv4-based MNs as\n\
    \   follows:\n       0                   1                   2               \
    \    3\n       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n\
    \                      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   \
    \                   |      Type     |     Length    |   IGMP Type   |\n      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \      |                                                               |\n   \
    \   +                  Multicast Membership Context                 +\n      |\
    \                                                               |\n      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   IGMPv3 is the primary objective for the definition of the option\n   format.\
    \  IGMPv1 and IGMPv2 are also considered for backward\n   compatibility.  The\
    \ alignment requirement of this option is 4n+1.\n   Type:\n      56, which indicates\
    \ the Active Multicast Subscription IPv4 option.\n   Length:\n      8-bit unsigned\
    \ integer indicating the length of the option in\n      octets, excluding the\
    \ type and length fields.\n   IGMP type:\n      Field used to identify the IPv4\
    \ multicast membership protocol in\n      use, and the corresponding format of\
    \ the next Multicast Membership\n      Context information field.  This field\
    \ maps the type codification\n      used in the original IGMP specifications for\
    \ the Report message.\n      0x12: Use of IGMPv1 multicast membership protocol.\n\
    \      0x16: Use of IGMPv2 multicast membership protocol.\n      0x22: Use of\
    \ IGMPv3 multicast membership protocol.\n   Multicast Membership Context:\n  \
    \    Multicast subscription information corresponding to a single\n      subscribed\
    \ multicast address.  Depending on the IGMP version being\n      used by the mobile\
    \ node, the format of the Multicast Membership\n      Context could follow the\
    \ following formats:\n      *  For IGMPv1, the Group Address format as defined\
    \ in [RFC1112].\n      *  For IGMPv2, the Group Address format as defined in [RFC2236].\n\
    \      *  For IGMPv3, the Group Record format as defined in [RFC3376].\n"
- title: 6.2.  Signaling Procedures for IPv4 Support
  contents:
  - "6.2.  Signaling Procedures for IPv4 Support\n   Generic signaling procedures\
    \ for the support of IPv4 in PMIPv6\n   domains have been already specified in\
    \ [RFC5844].  In order to\n   prevent errors while signaling the ongoing multicast\
    \ subscription for\n   a mobile node during the handover process, the following\
    \ extensions\n   have to be considered in SIAL.\n   o  If the registration/de-registration\
    \ process in a handover is for\n      an IPv6-only MN, and the type of the received\
    \ Active Multicast\n      Subscription option indicates IPv4, then the multicast\
    \ membership\n      context received MUST be silently discarded.\n   o  If the\
    \ registration/de-registration process in a handover is for\n      an IPv4-only\
    \ MN, and the type of the received Active Multicast\n      Subscription option\
    \ indicates IPv6, then the multicast membership\n      context received MUST be\
    \ silently discarded.\n   o  If the registration/de-registration process in a\
    \ handover is for a\n      dual stack MN, the received Active Multicast Subscription\
    \ option\n      (or options) MUST be accepted independently of the type\n    \
    \  indication.\n"
- title: 6.3.  Binding Cache Extensions for IPv4 Support
  contents:
  - "6.3.  Binding Cache Extensions for IPv4 Support\n   Additionally, since the multicast\
    \ membership information is\n   temporally stored in the mobility anchor under\
    \ some circumstances\n   (e.g., proactive handover), the binding cache entry for\
    \ an IPv4-based\n   multicast-enabled MN should be extended for storing the IGMP-based\n\
    \   context formats mentioned above, including the IGMP version\n   indicator.\n"
- title: 7.  Coexistence with PMIPv6 Multicast Architectural Evolutions
  contents:
  - "7.  Coexistence with PMIPv6 Multicast Architectural Evolutions\n   Throughout\
    \ this document, the base solution for multicast support in\n   Proxy Mobile IPv6,\
    \ described in [RFC6224], has been implicitly\n   considered, i.e., both unicast\
    \ and multicast traffic addressing a\n   mobile node is delivered via the standard\
    \ PMIPv6 bidirectional tunnel\n   between LMA and MAG.  While here all multicast\
    \ traffic is assumed to\n   be delivered via the local mobility anchor, the SIAL\
    \ approach\n   described in this document can be also applied to other solutions\
    \ in\n   which the multicast content is served from other entities in the\n  \
    \ PMIPv6 domain, as described in [RFC7028] to solve the tunnel\n   convergence\
    \ problem.\n   In this case, the transfer of the multicast context would also\
    \ pass\n   through the local mobility anchor, as described here.  However, the\n\
    \   nMAG subscribes to the multicast content through the node in charge\n   of\
    \ distributing multicast according to the adopted solution for\n   multicast distribution\
    \ in the PMIPv6 domain.\n"
- title: 8.  Security Considerations
  contents:
  - "8.  Security Considerations\n   This proposal does not pose any additional security\
    \ threats to those\n   already identified in [RFC5213].  All the security considerations\
    \ in\n   [RFC5213] are directly applicable to this protocol.  The signaling\n\
    \   messages, Proxy Binding Update, and Proxy Binding Acknowledgement\n   (extended\
    \ with the new options defined in this document), the\n   Subscription Query Message,\
    \ and the Subscription Response Message\n   exchanged between the mobile access\
    \ gateway and the local mobility\n   anchor, MUST be protected using end-to-end\
    \ security association(s)\n   offering integrity and data origin authentication.\n\
    \   The mobile access gateway and the local mobility anchor MUST\n   implement\
    \ the IPsec security mechanism mandated by Proxy Mobile IPv6\n   [RFC5213] to\
    \ secure the signaling described in this document.  In the\n   following, we describe\
    \ the Security Policy Database (SPD) and\n   Security Association Database (SAD)\
    \ entries necessary to protect the\n   new signaling introduced by this specification\
    \ (Subscription Query\n   Message and Subscription Response Message).  We use\
    \ the same format\n   used by [RFC4877].  The SPD and SAD entries are only example\n\
    \   configurations.  A particular mobile access gateway implementation\n   and\
    \ a local mobility anchor home agent implementation could configure\n   different\
    \ SPD and SAD entries as long as they provide the required\n   security of the\
    \ signaling messages.\n   For the examples described in this document, a mobile\
    \ access gateway\n   with address \"mag_address_1\", and a local mobility anchor\
    \ with\n   address \"lma_address_1\" are assumed.\n      mobile access gateway\
    \ SPD-S:\n      - IF local_address = mag_address_1 &\n      remote_address = lma_address_1\
    \ &\n      proto = MH & (remote_mh_type = Subscription Query |\n      local_mh_type\
    \ = Subscription Response |\n      remote_mh_type = Multicast Activity Indication\
    \ Ack.|\n      local_mh_type = Multicast Activity Indication)\n      Then use\
    \ SA1 (OUT) and SA2 (IN)\n      mobile access gateway SAD:\n      - SA1(OUT, spi_a,\
    \ lma_address_1, ESP, TRANSPORT):\n      local_address = mag_address_1 &\n   \
    \   remote_address = lma_address_1 &\n      proto = MH\n      - SA2(IN, spi_b,\
    \ mag_address_1, ESP, TRANSPORT):\n      local_address = lma_address_1 &\n   \
    \   remote_address = mag_address_1 &\n      proto = MH\n      local mobility anchor\
    \ SPD-S:\n      - IF local_address = lma_address_1 &\n      remote_address =mag_address_1\
    \ &\n      proto = MH & (remote_mh_type = Subscription Response |\n      local_mh_type\
    \ = Subscription Query |\n      remote_mh_type = Multicast Activity Indication\
    \ |\n      local_mh_type = Multicast Activity Indication Ack.)\n      Then use\
    \ SA2 (OUT) and SA1 (IN)\n      local mobility anchor SAD:\n      - SA2(OUT, spi_b,\
    \ mag_address_1, ESP, TRANSPORT):\n      local_address = lma_address_1 &\n   \
    \   remote_address = mag_address_1 &\n      proto = MH\n      - SA1(IN, spi_a,\
    \ lma_address_1, ESP, TRANSPORT):\n      local_address = mag_address_1 &\n   \
    \   remote_address = lma_address_1 &\n      proto = MH\n   While in the base solution\
    \ the LMA has learned of the subscribed\n   multicast groups per MAG, in this\
    \ specification the LMA is aware\n   (during a handover process) of the multicast\
    \ groups to which an MN\n   visiting the PMIP domain is subscribed.\n"
- title: 9.  IANA Considerations
  contents:
  - "9.  IANA Considerations\n   This document establishes new assignments to the\
    \ IANA mobility\n   parameters registry.\n   o  Mobility Header types: the Subscription\
    \ Query (22) and\n      Subscription Response (23) mobility header types.  The\
    \ Type value\n      for these Headers has been assigned from the \"Mobility Header\n\
    \      Types - for the MH Type field in the Mobility Header\" registry\n     \
    \ defined in <http://www.iana.org/assignments/mobility-parameters>.\n   o  Mobility\
    \ options: the Active Multicast Subscription mobility\n      option for both IPv4\
    \ (56) and IPv6 (57) modes of operation.  The\n      Type value for these Mobility\
    \ options has been assigned from the\n      \"Mobility Options\" registry defined\
    \ in <http://www.iana.org/\n      assignments/mobility-parameters>.\n   o  Flags:\
    \ this document reserves a new multicast Signaling flag (S).\n      This flag\
    \ has been reserved as value 0x0020 in the \"Binding Update\n      Flags\" registry\
    \ and value 0x04 in the \"Binding Acknowledgment\n      Flags\" registry.  These\
    \ registries appear on <http://www.iana.org/\n      assignments/mobility-parameters>.\n"
- title: 10.  Contributors
  contents:
  - "10.  Contributors\n   Dirk Von Hugo (Telekom Innovation Laboratories,\n   Dirk.von-Hugo@telekom.de)\
    \ extensively contributed to this document.\n"
- title: 11.  Acknowledgments
  contents:
  - "11.  Acknowledgments\n   The authors would like to thank (in alphabetical order)\
    \ Hitoshi\n   Asaeda, Sergio Figueiredo, Georgios Karagiannis, Marco Liebsch,\n\
    \   Behcet Sarikaya, Thomas C. Schmidt, and Stig Venaas for their\n   valuable\
    \ comments and discussions on the MULTIMOB mailing list.  The\n   authors are\
    \ also grateful with Hitoshi Asaeda, Akbar Rahman, Behcet\n   Sarikaya, and Stig\
    \ Venaas for their reviews of this document.\n   The research of Carlos J. Bernardos\
    \ leading to these results has\n   received funding from the European Community's\
    \ Seventh Framework\n   Programme (FP7-ICT-2009-5) under grant agreement n. 258053\
    \ (MEDIEVAL\n   project), being also partially supported by the Ministry of Science\n\
    \   and Innovation (MICINN) of Spain under the QUARTET project (TIN2009-\n   13992-C02-01).\n\
    \   The research of Ignacio Soto has also received funding from the\n   Spanish\
    \ MICINN through the I-MOVING project (TEC2010-18907).\n"
- title: 12.  References
  contents:
  - '12.  References

    '
- title: 12.1.  Normative References
  contents:
  - "12.1.  Normative References\n   [RFC1112]  Deering, S., \"Host extensions for\
    \ IP multicasting\", STD 5,\n              RFC 1112, August 1989.\n   [RFC2119]\
    \  Bradner, S., \"Key words for use in RFCs to Indicate\n              Requirement\
    \ Levels\", BCP 14, RFC 2119, March 1997.\n   [RFC2236]  Fenner, W., \"Internet\
    \ Group Management Protocol, Version\n              2\", RFC 2236, November 1997.\n\
    \   [RFC2710]  Deering, S., Fenner, W., and B. Haberman, \"Multicast\n       \
    \       Listener Discovery (MLD) for IPv6\", RFC 2710, October\n             \
    \ 1999.\n   [RFC3376]  Cain, B., Deering, S., Kouvelas, I., Fenner, B., and A.\n\
    \              Thyagarajan, \"Internet Group Management Protocol, Version\n  \
    \            3\", RFC 3376, October 2002.\n   [RFC3810]  Vida, R. and L. Costa,\
    \ \"Multicast Listener Discovery\n              Version 2 (MLDv2) for IPv6\",\
    \ RFC 3810, June 2004.\n   [RFC4283]  Patel, A., Leung, K., Khalil, M., Akhtar,\
    \ H., and K.\n              Chowdhury, \"Mobile Node Identifier Option for Mobile\
    \ IPv6\n              (MIPv6)\", RFC 4283, November 2005.\n   [RFC4877]  Devarapalli,\
    \ V. and F. Dupont, \"Mobile IPv6 Operation with\n              IKEv2 and the\
    \ Revised IPsec Architecture\", RFC 4877, April\n              2007.\n   [RFC5213]\
    \  Gundavelli, S., Leung, K., Devarapalli, V., Chowdhury, K.,\n              and\
    \ B. Patil, \"Proxy Mobile IPv6\", RFC 5213, August 2008.\n   [RFC5844]  Wakikawa,\
    \ R. and S. Gundavelli, \"IPv4 Support for Proxy\n              Mobile IPv6\"\
    , RFC 5844, May 2010.\n   [RFC6275]  Perkins, C., Johnson, D., and J. Arkko, \"\
    Mobility Support\n              in IPv6\", RFC 6275, July 2011.\n"
- title: 12.2.  Informative References
  contents:
  - "12.2.  Informative References\n   [Papagiannaki]\n              Papagiannaki,\
    \ K., Moon, S., Fraliegh, C., Thiran, P., and\n              C. Diot, \"Measurement\
    \ and Analysis of Single-Hop Delay on\n              an IP Backbone Network\"\
    , IEEE Journal on Selected Areas in\n              Communications, vol. 21, no.\
    \ 6, August 2003.\n   [RFC5949]  Yokota, H., Chowdhury, K., Koodli, R., Patil,\
    \ B., and F.\n              Xia, \"Fast Handovers for Proxy Mobile IPv6\", RFC\
    \ 5949,\n              September 2010.\n   [RFC6224]  Schmidt, T., Waehlisch,\
    \ M., and S. Krishnan, \"Base\n              Deployment for Multicast Listener\
    \ Support in Proxy Mobile\n              IPv6 (PMIPv6) Domains\", RFC 6224, April\
    \ 2011.\n   [RFC6636]  Asaeda, H., Liu, H., and Q. Wu, \"Tuning the Behavior of\n\
    \              the Internet Group Management Protocol (IGMP) and\n           \
    \   Multicast Listener Discovery (MLD) for Routers in Mobile\n              and\
    \ Wireless Networks\", RFC 6636, May 2012.\n   [RFC7028]  Zuniga, JC., Contreras,\
    \ LM., Bernardos, CJ., Jeon, S., and\n              Y. Kim, \"Multicast Mobility\
    \ Routing Optimizations for\n              Proxy Mobile IPv6\", RFC 7028, September\
    \ 2013.\n   [Verizon]  Verizon, \"LTE: The Future of Mobile Broadband Technology\"\
    ,\n              Verizon White Paper, 2010,\n              <http://opennetwork.verizonwireless.com/pdfs/\n\
    \              VZW_LTE_White_Paper_12-10.pdf>.\n   [Y.1541]   ITU-T, \"Network\
    \ performance objectives for IP-based\n              services\", ITU-T Recommendation\
    \ Y.1541, December 2011.\n"
- title: Appendix A.  Performance Comparison with Base Solution
  contents:
  - "Appendix A.  Performance Comparison with Base Solution\n   This informative annex\
    \ briefly analyzes and compares the performance\n   improvement provided by the\
    \ fast handover extensions specified in\n   this document with the base multicast\
    \ solution defined in [RFC6224].\n   The main aim is to determine the potential\
    \ delay reduction in the\n   acquisition of the multicast subscription information\
    \ by the nMAG\n   during the MN handover.  To do that, the analysis focuses on\
    \ the\n   delay additional to the unicast handover due to the multicast\n   operation\
    \ in both cases.\n   Different delay components have to be taken into account\
    \ for this\n   comparison.  Since the interaction between the actors during the\n\
    \   handover process (MN, pMAG, nMAG, LMA) is different for each of the\n   solutions,\
    \ different sources of delay can be expected for each of\n   them.\n"
- title: A.1.  Delay Characterization of the Base Solution
  contents:
  - "A.1.  Delay Characterization of the Base Solution\n   The base solution relies\
    \ on the standard MLD procedures to obtain the\n   multicast subscription information\
    \ directly from the MN.  Once the\n   nMAG completes the configuration of point-to-point\
    \ link to the\n   attaching MN (the configuration of this link as downstream interface\n\
    \   of an MLD proxy instance can run in parallel), it immediately sends\n   an\
    \ MLD General Query towards the MN for learning of any active\n   multicast subscription\
    \ by the MN.  When the MN receives the MLD\n   Query, the MN provides information\
    \ about the active memberships it\n   maintains in the form of an MLD Report message.\
    \  After successful\n   transmission of this information via the wireless point\
    \ of attachment\n   to nMAG, the corresponding MLD proxy instance at the nMAG\
    \ sets up the\n   multicast status of the downstream interface.  According to\
    \ this\n   process, the delay is originated on the MAG-MN communication.\n   The\
    \ delay components to be considered for the base solution are the\n   following:\n\
    \   o  D_bh, which is the unidirectional (one-way) delay encountered in\n    \
    \  the transmission path between the nMAG and the wireless point of\n      attachment.\n\
    \   o  D_radio, which is the unidirectional delay due to the transfer of\n   \
    \   MLD control messages over the radio channel (user plane) between\n      the\
    \ wireless point of attachment and the MN, for the MLD Query and\n      Report\
    \ messages.\n   o  D_mld, which is the delay incurred by the MN to answer the\
    \ MLD\n      Query.\n   The total observed delay can be then formulated as:\n\
    \   D_base = 2 x (D_bh + D_radio) + D_mld\n"
- title: A.2.  Delay Characterization of SIAL
  contents:
  - "A.2.  Delay Characterization of SIAL\n   As described in this document, it is\
    \ possible to distinguish two\n   scenarios depending on the order in which the\
    \ LMA receives the\n   notifications of the MN registration and de-registration\
    \ in the nMAG\n   and the pMAG, respectively.\n   In the proactive case, the MN\
    \ is firstly de-registered by the pMAG,\n   and later on it is registered by the\
    \ nMAG.  As specified in this\n   document, the LMA stores the multicast subscription\
    \ information,\n   which is provided to the nMAG during the MN registration process.\n\
    \   Since the registration process necessarily happens before the MLD\n   Query\
    \ and Report process described in the base solution, the\n   proactive case is\
    \ inherently faster than the base solution.  In fact,\n   since the multicast\
    \ subscription information is acquired properly\n   during the registration process,\
    \ the delay incurred is null.\n   In the reactive case, the LMA receives the MN\
    \ registration from the\n   nMAG without having previously received the MN de-registration\
    \ from\n   the pMAG.  In case the MN maintains an active subscription, the LMA\n\
    \   queries the pMAG to retrieve the multicast subscription information,\n   which\
    \ is forwarded to the nMAG.  According to this process, the delay\n   is originated\
    \ on the MAG-LMA communication.\n   The delay components to be considered for\
    \ the base solution are the\n   following:\n   o  D_net, which is the unidirectional\
    \ delay found in the network path\n      between the LMA and the MAG.\n   The\
    \ total observed delay can be then formulated as:\n   D_sial = 2 x D_net\n"
- title: A.3.  Performance Comparison
  contents:
  - "A.3.  Performance Comparison\n   The performance of the base solution is highly\
    \ dependent on the radio\n   technology used by the MN to attach to the PMIPv6\
    \ domain.  Different\n   radio technologies have distinct properties in terms\
    \ of radio\n   framing, radio access contention or collision avoidance, channel\n\
    \   reliability, etc.\n   New radio access technologies, such as the one specified\
    \ in new Long\n   Term Evolution (LTE) standards intend to reduce the latency\
    \ in order\n   to provide high-speed communications.  Even though, typical one-way\n\
    \   latencies in the LTE radio access will stay around 15 ms [Verizon].\n   The\
    \ backhaul delay characterization becomes problematic.  In a real\n   network,\
    \ there are several solutions for the backhaul connection in\n   terms of network\
    \ topology (ring, star, point-to-point, etc.) and\n   technology (optical fiber,\
    \ microwave transmission, xDSL-based\n   accesses, etc.), all of them having distinct\
    \ properties in terms of\n   performance, reliability, and delay.  These solutions\
    \ commonly\n   coexist in a real mobile network, in such a way that an MN changing\n\
    \   the point of attachment can pass smoothly from one solution to\n   another.\
    \  A value of D_bh = 5 ms can be established as the typical\n   value for the\
    \ backhaul latency in modern networks.\n   Finally, the MLD induced delay is intrinsic\
    \ to the MLD protocol\n   specification.  A host receiving an MLD Query message\
    \ waits a random\n   time in the range (0, Maximum Response Delay) to send the\
    \ MLD Report\n   message.  The default value of the Maximum Response Delay\n \
    \  (configurable through the Query Response Interval in MLD) is 10 s in\n   [RFC2710]\
    \ and [RFC3810].  In [RFC6636] the effect of tuning the value\n   of the Query\
    \ Response Interval is analyzed and 5 s is the smallest\n   value recommended\
    \ (best case).  Then, on average, a potential delay\n   of 5 s or 2.5 s, default\
    \ and best case respectively, can be expected.\n   As we have seen, D_base is,\
    \ on average, greater than 2.5 s with the\n   best case of the values of Query\
    \ Response Interval in MLD that are\n   recommended in [RFC6636].  That means\
    \ that the handover delay of the\n   base solution is on the order of seconds,\
    \ while in the solution\n   presented in this specification it is on the order\
    \ of milliseconds\n   (as shown below).  To improve the performance of the base\
    \ solution,\n   we could further reduce the value of Query Response Interval,\
    \ but the\n   implications of doing so would need to be carefully analyzed.  Even\n\
    \   if we assume that Query Response Interval is 0 s, D_base would be\n   around\
    \ 2 x (5 ms + 15 ms) = 40 ms for last-generation systems.  Note\n   that this\
    \ calculation does not take into account the necessary time\n   to re-establish\
    \ the data plane after the handover to make possible\n   the MLD Query reception.\
    \  The expected delay will get much worse for\n   older generation systems (e.g.,\
    \ 3G-based radio systems can suffer\n   radio delays in the order of hundreds\
    \ of ms).\n   For the SIAL case, the delay in the MAG-LMA communication will be\n\
    \   derived from the network diameter (i.e., the number of hops found\n   between\
    \ the MAG and the LMA in the PMIPv6 domain).  This is largely\n   influenced by\
    \ the internal network planning.  An administrative\n   domain can typically have\
    \ in the order of five hops from access to\n   the interconnection gateway providing\
    \ connectivity to other networks.\n   Even if the LMA plays a central role topologically\
    \ in the PMIPv6\n   domain, such number of hops seems reasonable in a common nation-wide\n\
    \   network.  Each hop in the path between MAG and LMA will add a certain\n  \
    \ delay, which can be estimated to be around 1 ms in the best case\n   [Papagiannaki]\
    \  and 3 ms in the worst case [Y.1541].  With this in\n   mind, a total delay\
    \ D_sial of around 2 x 5 x 3 ms = 30 ms can be\n   expected in the worst case.\n\
    \   Then, in conclusion, in a typical deployment, it can be stated that\n   the\
    \ SIAL proposal, even for the worst-case consideration, will\n   perform better\
    \ than the best-case situation for the base solution,\n   which consists of the\
    \ last-generation radio technology, LTE.  For any\n   other radio technology,\
    \ the base solution will show even larger\n   deviations from the delay achievable\
    \ with the SIAL solution.\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Luis M. Contreras\n   Telefonica I+D\n   Ronda de la Comunicacion,\
    \ s/n\n   Sur-3 building, 3rd floor\n   Madrid  28050\n   Spain\n   EMail: lmcm@tid.es\n\
    \   Carlos J. Bernardos\n   Universidad Carlos III de Madrid\n   Av. Universidad,\
    \ 30\n   Leganes, Madrid  28911\n   Spain\n   Phone: +34 91624 6236\n   EMail:\
    \ cjbc@it.uc3m.es\n   URI:   http://www.it.uc3m.es/cjbc/\n   Ignacio Soto\n  \
    \ Universidad Carlos III de Madrid\n   Av. Universidad, 30\n   Leganes, Madrid\
    \  28911\n   Spain\n   EMail: isoto@it.uc3m.es\n"
