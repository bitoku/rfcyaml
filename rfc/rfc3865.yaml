- title: __initial_text__
  contents:
  - "         A No Soliciting Simple Mail Transfer Protocol (SMTP)\n             \
    \              Service Extension\n"
- title: Status of this Memo
  contents:
  - "Status of this Memo\n   This document specifies an Internet standards track protocol\
    \ for the\n   Internet community, and requests discussion and suggestions for\n\
    \   improvements.  Please refer to the current edition of the \"Internet\n   Official\
    \ Protocol Standards\" (STD 1) for the standardization state\n   and status of\
    \ this protocol.  Distribution of this memo is unlimited.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (C) The Internet Society (2004).\n"
- title: Abstract
  contents:
  - "Abstract\n   This document proposes an extension to Soliciting Simple Mail\n\
    \   Transfer Protocol (SMTP) for an electronic mail equivalent to the\n   real-world\
    \ \"No Soliciting\" sign.  In addition to the service\n   extension, a new message\
    \ header and extensions to the existing\n   \"received\" message header are described.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1.  Introduction . . . . . . . . . . . . . . . . . . .\
    \ . . . . . .  3\n       1.1.  The Spam Pandemic. . . . . . . . . . . . . . .\
    \ . . . . .  3\n       1.2.  No Soliciting in the Real World. . . . . . . . .\
    \ . . . .  4\n       1.3.  No Soliciting and Electronic Mail. . . . . . . . .\
    \ . . .  5\n   2.  The No-Soliciting SMTP Service Extension . . . . . . . . .\
    \ . .  6\n       2.1.  The EHLO Exchange. . . . . . . . . . . . . . . . . . .\
    \ .  7\n       2.2.  Solicitation Class Keywords. . . . . . . . . . . . . . .\
    \  7\n             2.2.1.  Note on Choice of Solicitation Class Keywords. .  8\n\
    \       2.3.  The MAIL FROM Command. . . . . . . . . . . . . . . . . .  9\n  \
    \     2.4.  Error Reporting and Enhanced Mail Status Codes . . . . . 10\n    \
    \   2.5.  Solicitation Mail Header . . . . . . . . . . . . . . . . 10\n      \
    \ 2.6.  Insertion of Solicitation Keywords in Trace Fields . . . 11\n       2.7.\
    \  Relay of Messages. . . . . . . . . . . . . . . . . . . . 12\n       2.8.  No\
    \ Default Solicitation Class. . . . . . . . . . . . . . 12\n   3.  Security Considerations\
    \  . . . . . . . . . . . . . . . . . . . 13\n   4.  IANA Considerations  . . .\
    \ . . . . . . . . . . . . . . . . . . 13\n       4.1.  The Mail Parameters Registry\
    \ . . . . . . . . . . . . . . 13\n       4.2.  Trace Fields . . . . . . . . .\
    \ . . . . . . . . . . . . . 14\n       4.3.  The Solicitation Mail Header . .\
    \ . . . . . . . . . . . . 14\n   5.  Author's Acknowledgements  . . . . . . .\
    \ . . . . . . . . . . . 14\n   6.  References . . . . . . . . . . . . . . . .\
    \ . . . . . . . . . . 15\n       6.1.  Normative References . . . . . . . . .\
    \ . . . . . . . . . 15\n       6.2.  Informative References . . . . . . . . .\
    \ . . . . . . . . 15\n   Appendix A.  Collected ABNF Descriptions (Normative)\
    \ . . . . . . . 18\n   Author's Address . . . . . . . . . . . . . . . . . . .\
    \ . . . . . . 18\n   Full Copyright Statement . . . . . . . . . . . . . . . .\
    \ . . . . . 19\n"
- title: 1.  Introduction
  contents:
  - '1.  Introduction

    '
- title: 1.1.  The Spam Pandemic
  contents:
  - "1.1.  The Spam Pandemic\n   Unsolicited Bulk Email (UBE), otherwise known as\
    \ spam, has become as\n   one of the most pressing issues on the Internet.  One\
    \ oft-quoted\n   study estimated that spam would cost businesses $13 billion in\
    \ 2003\n   [Ferris].  In April 2003, AOL reported that it had blocked 2.37\n \
    \  billion pieces of UBE in a single day [CNET].  And, in a sure sign\n   that\
    \ UBE has become of pressing concern, numerous politicians have\n   begun to issue\
    \ pronouncements and prescriptions for fighting this\n   epidemic [Schumer][FTC].\n\
    \   A variety of mechanisms from the technical community have been\n   proposed\
    \ and/or implemented to fight UBE:\n   o  Whitelists are lists of known non-spammers.\
    \  For example, Habeas,\n      Inc. maintains a Habeas User List (HUL) of people\
    \ who have agreed\n      to not spam.  By including a haiku in email headers and\
    \ enforcing\n      copyright on that ditty, they enforce their anti-spamming terms\
    \ of\n      service [Habeas].\n   o  Blacklists are lists of known spammers or\
    \ ISPs that allow spam\n      [ROKSO].\n   o  Spam filters run client-side or\
    \ server-side to filter out spam\n      based on whitelists, blacklists, and textual\
    \ and header analysis\n      [Assassin].\n   o  A large number of documents address\
    \ the overall technical\n      considerations for the control of UBE [crocker-spam-techconsider],\n\
    \      operational considerations for SMTP agents [RFC2505], and various\n   \
    \   extensions to the protocols to support UBE identification and\n      filtering\
    \ [danisch-dns-rr-smtp][daboo-sieve-spamtest][crouzet-\n      amtp].\n   o  Various\
    \ proposals have been advanced for \"do not spam\" lists, akin\n      to the Federal\
    \ Trade Commission's \"Do Not Call\" list for\n      telemarketers [FTC.TSR].\n"
- title: Terminology
  contents:
  - "Terminology\n   The key words \"MUST\", \"MUST NOT\", \"REQUIRED\", \"SHALL\"\
    , \"SHALL NOT\",\n   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"MAY\", and\
    \ \"OPTIONAL\" in this\n   document are to be interpreted as described in BCP\
    \ 14, RFC 2119\n   [RFC2119].\n"
- title: 1.2.  No Soliciting in the Real World
  contents:
  - "1.2.  No Soliciting in the Real World\n   Municipalities frequently require solicitors\
    \ to register with the\n   town government.  And, in many cases, the municipalities\
    \ prohibit\n   soliciting in residences where the occupant has posted a sign.\
    \  The\n   town of West Newbury, Massachusetts, for example, requires:\n     \
    \ \"It shall be unlawful for any canvasser or solicitor to enter the\n      premises\
    \ of a resident or business who has displayed a 'No\n      Trespassing' or 'No\
    \ Soliciting' sign or poster.  Further, it shall\n      be unlawful for canvassers\
    \ or solicitors to ignore a resident or\n      business person's no solicitation\
    \ directive or remain on private\n      property after its owner has indicated\
    \ that the canvasser or\n      solicitor is not welcome\" [Newbury].\n   Registration\
    \ requirements for solicitors, particularly those\n   soliciting for political\
    \ or religious reasons, have been the subject\n   of a long string of court cases.\
    \  However, the courts have generally\n   recognized that individuals may post\
    \ \"No Soliciting\" signs and the\n   government may enforce the citizen's desire.\
    \  In a recent case where\n   Jehovah's Witnesses challenged a registration requirement\
    \ in the city\n   of Stratton, Connecticut, saying they derived their authority\
    \ from\n   the Scriptures, not the city.  However, the court noted:\n      \"\
    A section of the ordinance that petitioners do not challenge\n      establishes\
    \ a procedure by which a resident may prohibit\n      solicitation even by holders\
    \ of permits.  If the resident files a\n      'No Solicitation Registration Form'\
    \ with the mayor, and also posts\n      a 'No Solicitation' sign on his property,\
    \ no uninvited canvassers\n      may enter his property... \" [Watchtower].\n\
    \   Even government, which has a duty to promote free expression, may\n   restrict\
    \ the use of soliciting on government property.  In one case,\n   for example,\
    \ a school district was allowed to give access to its\n   internal electronic\
    \ mail system to the union that was representing\n   teachers, but was not required\
    \ to do so to a rival union that was\n   attempting to gain the right to represent\
    \ the teachers.  The court\n   held that where property is not a traditional public\
    \ forum \"and the\n   Government has not dedicated its property to First Amendment\n\
    \   activity, such regulation is examined only for reasonableness\"\n   [Perry].\n\
    \   The courts have consistently held that the state has a compelling\n   public\
    \ safety reason for regulating solicitation.  In Cantwell v.\n   Connecticut,\
    \ the Supreme Court held that \"a State may protect its\n   citizens from fraudulent\
    \ solicitation by requiring a stranger in the\n   community, before permitting\
    \ him publicly to solicit funds for any\n   purpose, to establish his identity\
    \ and his authority to act for the\n   cause which he purports to represent\"\
    \ [Cantwell].  And, in Martin v.\n   City of Struthers, the court noted that \"\
    burglars frequently pose as\n   canvassers, either in order that they may have\
    \ a pretense to discover\n   whether a house is empty and hence ripe for burglary,\
    \ or for the\n   purpose of spying out the premises in order that they may return\n\
    \   later\" [Martin].  The public safety issue applies very much to email,\n \
    \  where viruses can easily be delivered, in contrast to telephone\n   solicitations\
    \ where public safety is not nearly as much an issue.\n   This analysis is U.S.-centric,\
    \ which is partly due to the background\n   of the author.  However, the concept\
    \ of prohibiting unwanted\n   solicitation does carry over to other countries:\n\
    \   o  In Hong Kong, offices frequently post \"no soliciting\" signs.\n   o  In\
    \ the United Kingdom, where door-to-door peddlers are fairly\n      common, \"\
    no soliciting\" signs are also common.\n   o  In Australia, where door-to-door\
    \ does not appear to be a pressing\n      social problem, there was legislation\
    \ passed which outlawed the\n      practice of placing ads under wipers of parked\
    \ cars.\n   o  In France, which has a long tradition of door-to-door\n      solicitation,\
    \ apartment buildings often use trespass laws to\n      enforce \"no solicitation\"\
    \ policies.\n   o  In the Netherlands, where door-to-door solicitation is not\
    \ a\n      pressing issue, there is a practice of depositing free\n      publications\
    \ in mailboxes.  The postal equivalent of \"no spam\"\n      signs are quite prevalent\
    \ and serve notice that the publications\n      are not desired.\n"
- title: 1.3.  No Soliciting and Electronic Mail
  contents:
  - "1.3.  No Soliciting and Electronic Mail\n   Many of the anti-spam proposals that\
    \ have been advanced have great\n   merit, however none of them give notice to\
    \ an SMTP agent in the\n   process of delivering mail that the receiver does not\
    \ wish to receive\n   solicitations.  Such a virtual sign would serve two purposes:\n\
    \   o  It would allow the receiving system to \"serve notice\" that a\n      certain\
    \ class of electronic mail is not desired.\n   o  If a message is properly identified\
    \ as belonging to a certain\n      class and that class of messages is not desired,\
    \ transfer of the\n      message can be eliminated.  Rather than filtering after\
    \ delivery,\n      elimination of the message transfer can save network bandwidth,\n\
    \      disk space, and processing power.\n   This memo details a series of extensions\
    \ to SMTP that have the\n   following characteristics:\n   o  A service extension\
    \ is described that allows a receiving Mail\n      Transport Agent (MTA) to signal\
    \ the sending MTA that no soliciting\n      is in effect.\n   o  A header field\
    \ for the sender of the message is defined that\n      allows the sender to flag\
    \ a message as conforming to a certain\n      class.\n   o  Trace fields for intermediate\
    \ MTAs are extended to allow the\n      intermediate MTA to signal that a message\
    \ is in a certain class.\n   Allowing the sender of a message to tag a message\
    \ as being, for\n   example, unsolicited commercial email with adult content,\
    \ allows\n   \"good\" spammers to conform to legal content labelling requirements\
    \ by\n   governmental authorities, license agreements with service providers,\n\
    \   or conventions imposed by \"whitelist\" services.  For senders of mail\n \
    \  who choose not to abide by these conventions, the intermediate trace\n   fields\
    \ defined here allow the destination MTAs to perform appropriate\n   dispositions\
    \ on the received message.\n   This extension provides a simple mean for senders,\
    \ MTAs, and\n   receivers to assert keywords.  This extension does not deal with\
    \ any\n   issues of authentication or consent.\n"
- title: 2.  The No-Soliciting SMTP Service Extension
  contents:
  - "2.  The No-Soliciting SMTP Service Extension\n   Per [RFC2821], a \"NO-SOLICITING\"\
    \ SMTP service extension is defined.\n   The service extension is declared during\
    \ the initial \"EHLO\" SMTP\n   exchange.  The extension has one optional parameter,\
    \ consisting of\n   zero or more solicitation class keywords.  Using the notation\
    \ as\n   described in the Augmented BNF [RFC2234], the syntax is:\n      No-Soliciting-Service\
    \ = \"NO-SOLICITING\"\n           [ SP Solicitation-keywords ]\n   As will be\
    \ further described below, the \"Solicitation-keywords\"\n   construct is used\
    \ to indicate which classes of messages are not\n   desired.  A keyword that is\
    \ presented during the initial \"EHLO\"\n   exchange applies to all messages exchanged\
    \ in this session.  As will\n   also be further described below, additional keywords\
    \ may be specified\n   on a per-recipient basis as part of the response to a \"\
    RCPT TO\"\n   command.\n"
- title: 2.1.  The EHLO Exchange
  contents:
  - "2.1.  The EHLO Exchange\n   Keywords presented during the initial exchange indicate\
    \ that no\n   soliciting in the named classes is in effect for all messages\n\
    \   delivered to this system.  It is equivalent to the sign on the door\n   of\
    \ an office building announcing a company-wide policy.  For example:\n      R:\
    \ <wait for connection on TCP port 25>\n      S: <open connection to server>\n\
    \      R: 220 trusted.example.com SMTP service ready\n      S: EHLO untrusted.example.com\n\
    \      R: 250-trusted.example.com says hello\n      R: 250-ENHANCEDSTATUSCODES\n\
    \      R: 250-NO-SOLICITING net.example:ADV\n      R: 250 SIZE 20480000\n   The\
    \ \"net.example:ADV\" parameter to the \"NO-SOLICITING\" extension is\n   an example\
    \ of a solicitation class keyword, the syntax of which is\n   described in the\
    \ following section.\n   Historical Note:\n      A similar proposal was advanced\
    \ in 1999 by John Levine and Paul\n      Hoffman.  This proposal used the SMTP\
    \ greeting banner to specify\n      that unsolicited bulk email is prohibited\
    \ on a particular system\n      through the use of the \"NO UCE\" keyword [Levine].\
    \  As the authors\n      note, their proposal has the potential of overloading\
    \ the\n      semantics of the greeting banner, which may also be used for other\n\
    \      purposes (see, e.g., [Malamud]).\n"
- title: 2.2.  Solicitation Class Keywords
  contents:
  - "2.2.  Solicitation Class Keywords\n   The \"NO-SOLICITING\" service extension\
    \ uses solicitation class\n   keywords to signify classes of solicitations that\
    \ are not accepted.\n   Solicitation class keywords are separated by commas.\n\
    \   There is no default solicitation class keyword for the service.  In\n   other\
    \ words, the following example is a \"no-op\":\n      R : 250-NO-SOLICITING\n\
    \   While the above example is a \"no-op\" it is useful for an MTA that\n   wishes\
    \ to pass along all messages, but would also like to pass along\n   \"SOLICIT=\"\
    \ parameters on a message-by-message basis.  The above\n   example invokes the\
    \ use of the extension but does not signal any\n   restrictions by class of message.\n\
    \   The initial set of solicitation class keywords all begin with a\n   domain\
    \ name with the labels reversed, followed by a colon.  For\n   example, the domain\
    \ name \"example.com\" could be used to form the\n   beginning of a solicitation\
    \ class keyword of \"com.example:\".  The\n   solicitation class keyword is then\
    \ followed by an arbitrary set of\n   characters drawn from the following construct:\n\
    \      Solicitation-keywords = word\n           0*(\",\" word)\n           ; length\
    \ of this string is limited\n           ; to <= 1000 characters\n      word =\
    \ ALPHA 0*(wordchar)\n      wordchar = (\".\" / \"-\" / \"_\" / \":\" / ALPHA\
    \ / DIGIT)\n   A solicitation class keyword MUST be less than 1000 characters.\
    \  Note\n   however that a set of keywords used in the operations defined in this\n\
    \   document must also be less than 1000 characters.  Implementors are\n   thus\
    \ advised to keep their solicitation class keywords brief.\n   Any registrant\
    \ of a domain name may define a solicitation class\n   keyword.  Discovery of\
    \ solicitation class keywords is outside the\n   scope of this document.  However,\
    \ those registrants defining keywords\n   are advised to place a definition of\
    \ their solicitation class\n   keywords on a prominent URL under their control\
    \ such that search\n   engines and other discovery mechanisms can find them.\n\
    \   While this document defines solicitation class keywords as beginning\n   with\
    \ a reversed domain name followed by a colon (\":\"), future RFCs\n   may define\
    \ additional mechanisms that do not conflict with this\n   naming scheme.\n"
- title: 2.2.1.  Note on Choice of Solicitation Class Keywords
  contents:
  - "2.2.1.  Note on Choice of Solicitation Class Keywords\n   This document does\
    \ not specify which solicitation class keywords\n   shall or shall not be used\
    \ on a particular message.  The requirement\n   to use a particular keyword is\
    \ a policy decision well outside the\n   scope of this document.  It is expected\
    \ that relevant policy bodies\n   (e.g., governments, ISPs, developers, or others)\
    \ will specify\n   appropriate keywords, the definition of the meaning of those\n\
    \   keywords, and any other policy requirements, such as a requirement to\n  \
    \ use or not use this extension in particular circumstances.\n   During discussions\
    \ of this proposal, there were several suggestions\n   to do away with the solicitation\
    \ class keywords altogether and\n   replace the mechanism with a simple boolean\
    \ (e.g., \"NO-SOLICITING\n   YES\" or \"ADV\" or \"UBE\").  Under a boolean mechanism,\
    \ this extension\n   would have to adopt a single definition of what \"YES\" or\
    \ other label\n   means.  By using the solicitation class keywords approach, the\
    \ mail\n   infrastructure remains a neutral mechanism, allowing different\n  \
    \ definitions to co-exist.\n"
- title: 2.3.  The MAIL FROM Command
  contents:
  - "2.3.  The MAIL FROM Command\n   \"SOLICIT\" is defined as a parameter for the\
    \ \"MAIL FROM\" command.  The\n   \"SOLICIT\" parameter is followed by an equal\
    \ sign and a comma\n   separated list of solicitation class keywords.  The syntax\
    \ for this\n   parameter is:\n      Mail-From-Solicit-Parameter = \"SOLICIT\"\n\
    \                              \"=\" Solicitation-keywords\n      ; Solicitation-keywords,\
    \ when used in MAIL FROM command\n      ; MUST be identical to those in the Solicitation:\
    \ header.\n   Note that white space is not permitted in this production.\n   As\
    \ an informational message, the \"550\" or \"250\" replies to the \"RCPT\n   TO\"\
    \ command may also contain the \"SOLICIT\" parameter.  If a message\n   is being\
    \ rejected due to a solicitation class keyword match,\n   implementations SHOULD\
    \ echo which solicitation classes are in effect.\n   See Section 2.4 for more\
    \ on error reporting.\n   The receiving system may decide on a per-message basis\
    \ the\n   appropriate disposition of messages:\n   R: <wait for connection on\
    \ TCP port 25>\n   S: <open connection to server>\n   R: 220 trusted.example.com\
    \ SMTP service ready\n   S: EHLO untrusted.example.com\n   R: 250-trusted.example.com\
    \ says hello\n   R: 250-NO-SOLICITING net.example:ADV\n   S: MAIL FROM:<save@example.com>\
    \ SOLICIT=org.example:ADV:ADLT\n   S: RCPT TO:<coupon_clipper@moonlink.example.com>\n\
    \   R: 250 <coupon_clipper@moonlink.example.com>... Recipient ok\n   S: RCPT TO:<grumpy_old_boy@example.net>\n\
    \   R: 550 <grumpy_old_boy@example.net> SOLICIT=org.example:ADV:ADLT\n   In the\
    \ previous example, the receiving MTA returned a \"550\" status\n   code, indicating\
    \ that one message was being rejected.  The\n   implementation also echoes back\
    \ the currently set keywords for that\n   user on the \"550\" status message.\
    \  The solicitation class keyword\n   which is echoed back is \"org.example:ADV:ADLT\"\
    \ which illustrates how\n   this per-recipient solicitation class keyword has\
    \ supplemented the\n   base \"net.example:ADV\" class declared in the \"EHLO\"\
    \ exchange.\n   It is the responsibility of a receiving MTA to maintain a consistent\n\
    \   policy.  If the receiving MTA will reject a message because of\n   solicitation\
    \ class keywords, the MTA SHOULD declare those keywords\n   either in the initial\
    \ \"EHLO\" exchange or on a per-recipient basis.\n   Likewise, a receiving MTA\
    \ SHOULD NOT deliver a message where the\n   \"Solicitation:\" matches a solicitation\
    \ class keyword that was\n   presented during the initial \"EHLO\" exchange or\
    \ on a per-recipient\n   basis.\n   Developers should also note that the source\
    \ of the solicitation class\n   keywords used in the \"MAIL FROM\" command MUST\
    \ be the \"Solicitation:\"\n   header described in Section 2.5 and MUST NOT be\
    \ supplemented by\n   additional solicitation class keywords derived from the\
    \ \"Received:\"\n   header trace fields which are described in Section 2.6.\n"
- title: 2.4.  Error Reporting and Enhanced Mail Status Codes
  contents:
  - "2.4.  Error Reporting and Enhanced Mail Status Codes\n   If a session between\
    \ two MTAs is using both the \"NO-SOLICITING\"\n   extension and the Enhanced\
    \ Mail Status Codes as defined in [RFC3463]\n   and a message is rejected based\
    \ on the presence of a \"SOLICIT\"\n   parameter, the correct error message to\
    \ return will usually be\n   \"5.7.1\", defined as \"the sender is not authorized\
    \ to send to the\n   destination...  (because) of per-host or per-recipient filtering.\"\
    \n   Other codes, including temporary status codes, may be more\n   appropriate\
    \ in some circumstances and developers should look to\n   [RFC3463] on this subject.\
    \  An example of such a situation might be\n   the use of quotas or size restrictions\
    \ on messages by class.  An\n   implementation MAY impose limits such as message\
    \ size restrictions\n   based on solicitation classes, and when such limits are\
    \ exceed they\n   SHOULD be reported using whatever status code is appropriate\
    \ for that\n   limit.\n   In all cases, an implementation SHOULD include a \"\
    Mail-From-Solicit-\n   Parameter\" on a \"550\" or other reply that rejects message\
    \ delivery.\n   The parameter SHOULD includes the solicitation class keyword(s)\
    \ that\n   matched.  In addition to the solicitation class keyword(s) that\n \
    \  matched, an implementation MAY include additional solicitation class\n   keywords\
    \ that are in effect.\n"
- title: 2.5.  Solicitation Mail Header
  contents:
  - "2.5.  Solicitation Mail Header\n   Per [RFC2822], a new \"Solicitation:\" header\
    \ field is defined which\n   contains one or more solicitation class keywords.\n\
    \      Solicitation-header = \"Solicitation:\" 1*SP Solicitation-keywords\n  \
    \ An example of this header follows:\n      To: Coupon Clipper <coupon_clipper@moonlink.example.com>\n\
    \      From: Spam King <save@burntmail.example.com>\n      Solicitation: net.example:ADV,org.example:ADV:ADLT\n\
    \   Several proposals, particularly legal ones, have suggested requiring\n   the\
    \ use of keywords in the \"Subject:\" header.  While embedding\n   information\
    \ in the \"Subject:\" header may provide visual cues to end\n   users, it does\
    \ not provide a straightforward set of cues for computer\n   programs such as\
    \ mail transfer agents.  As with embedding a \"no\n   solicitation\" message in\
    \ a greeting banner, this overloads the\n   semantics of the \"Subject:\" header.\
    \  Of course, there is no reason\n   why both mechanisms can't be used, and in\
    \ any case the\n   \"Solicitation:\" header could be automatically inserted by\
    \ the\n   sender's Mail User Agent (MUA) based on the contents of the subject\n\
    \   line.\n"
- title: 2.6.  Insertion of Solicitation Keywords in Trace Fields
  contents:
  - "2.6.  Insertion of Solicitation Keywords in Trace Fields\n   The \"Solicitation:\"\
    \ mail header is only available to the sending\n   client.  RFCs 2821 and 2822\
    \ are quite specific that intermediate MTAs\n   shall not change message headers,\
    \ with the sole exception of the\n   \"Received:\" trace field.  Since many current\
    \ systems use an\n   intermediate relay to detect unsolicited mail, an addition\
    \ to the\n   \"Received:\" header is described.\n   [RFC2821] documents the following\
    \ productions for the \"Received:\"\n   header in a mail message:\n      ; From\
    \ RFC 2821\n      With = \"WITH\" FWS Protocol CFWS\n      Protocol = \"ESMTP\"\
    \ / \"SMTP\" / Attdl-Protocol\n   Additionally, [RFC2822] defines a comment field\
    \ as follows:\n      ; From RFC 2822\n      comment         =       \"(\" *([FWS]\
    \ ccontent) [FWS] \")\"\n      ccontent        =       ctext / quoted-pair / comment\n\
    \   The \"Mail-From-Solicit-Parameter\" defined in Section 2.3 above is a\n  \
    \ restricted form of ctext, yielding the following production:\n      With-Solicit\
    \ = \"WITH\" FWS Protocol\n                 \"(\" [FWS] comment [FWS] \")\"\n\
    \      comment         =       \"(\" *([FWS] ccontent) [FWS] \")\"\n      ccontent\
    \ = ctext / quoted-pair /\n                 comment / Mail-From-Solicit-Parameter\n\
    \                 ; The Mail-From-Solicit-Parameter\n                 ; is a restricted\
    \ form of ctext\n   An example of a Received: header from a conforming MTA is\
    \ as follows:\n      Received: by foo-mta.example.com with\n         ESMTP (SOLICIT=net.example:ADV,org.example:ADV:ADLT)\
    \ ;\n         Sat, 9 Aug 2003 16:54:42 -0700 (PDT)\n   It should be noted that\
    \ keywords presented in trace fields may not\n   agree with those found in the\
    \ \"Solicitation:\" header and trace fields\n   may exist even if the header is\
    \ not present.  When determining which\n   keywords are applicable to a particular\
    \ exchange of messages,\n   implementors SHOULD examine any keywords found in\
    \ the \"Solicitation:\"\n   header.  Implementors MAY examine other keywords found\
    \ in the trace\n   fields.\n"
- title: 2.7.  Relay of Messages
  contents:
  - "2.7.  Relay of Messages\n   The \"NO-SOLICITING\" service extension, if present,\
    \ applies to all\n   messages handled by the receiving Message Transfer Agent\
    \ (MTA),\n   including those messages intended to be relayed to another system.\n\
    \   Solicitation class keywords supplied by a client on a \"SOLICIT\"\n   parameter\
    \ on a \"MAIL FROM\" command SHOULD be obtained from the\n   \"Solicitation:\"\
    \ field in the message header.  An SMTP client SHOULD,\n   however, verify that\
    \ the list of solicitation class keywords obtained\n   from the \"Solicitation:\"\
    \ field uses valid syntax before conveying its\n   contents.  An SMTP server SHOULD\
    \ set this parameter after detecting\n   the presence of the \"Solicitation:\"\
    \ header field when receiving a\n   message from a non-conforming MTA.\n"
- title: 2.8.  No Default Solicitation Class
  contents:
  - "2.8.  No Default Solicitation Class\n   Implementations of \"NO-SOLICITING\"\
    \ service extension SHOULD NOT\n   enable specific solicitation class keywords\
    \ as a default in their\n   software.  There are some indications that some policy\
    \ makers may\n   view a default filtering in software as a prior restraint on\n\
    \   commercial speech.  In other words, because the person installing and\n  \
    \ using the software did not make an explicit choice to enable a\n   certain type\
    \ of filtering, some might argue that such filtering was\n   not desired.\n  \
    \ Likewise, it is recommended that a system administrator installing\n   software\
    \ SHOULD NOT enable additional per-recipient filtering by\n   default for a user.\
    \  Again, individual users should specifically\n   request any additional solicitation\
    \ class keywords.\n   The mechanism for an individual user to communicate their\
    \ desire to\n   enable certain types of filtering is outside the scope of this\n\
    \   document.\n"
- title: 3.  Security Considerations
  contents:
  - "3.  Security Considerations\n   This extension does not provide authentication\
    \ of senders or other\n   measures intended to promote security measures during\
    \ the message\n   exchange process.\n   In particular, this document does not\
    \ address the circumstances under\n   which a sender of electronic mail should\
    \ or should not use this\n   extension and does not address the issues of whether\
    \ consent to send\n   mail has been granted.\n   This might lead to a scenario\
    \ in which a sender of electronic mail\n   begins to use this extension well before\
    \ the majority of end users\n   have begun to use it.  In this scenario, the sender\
    \ might wish to use\n   the absence of the extension on the receiving MTA as an\
    \ implication\n   of consent to receive mail.  Non-use of the \"NO-SOLICITING\"\
    \ extension\n   by a receiving MTA SHALL NOT indicate consent.\n"
- title: 4.  IANA Considerations
  contents:
  - "4.  IANA Considerations\n   There are three IANA considerations presented in\
    \ this document:\n   1. Addition of the \"NO-SOLICITING\" service extension to\
    \ the Mail\n      Parameters registry.\n   2. Documentation of the use of comments\
    \ in trace fields.\n   3. Creation of a \"Solicitation:\" mail header.\n"
- title: 4.1.  The Mail Parameters Registry
  contents:
  - "4.1.  The Mail Parameters Registry\n   The IANA Mail Parameters registry documents\
    \ SMTP service extensions.\n   The \"NO-SOLICITATION\" service extension has been\
    \ added to this\n   registry as follows.\n   Keywords        Description     \
    \                Reference\n   ------------    ------------------------------\
    \  ---------\n   NO-SOLICITING   Notification of no soliciting.  RFC3865\n   The\
    \ parameters subregistry would need to be modified as follows:\n   Service Ext\
    \    EHLO Keyword   Parameters            Reference\n   -----------    ------------\
    \   -----------           ---------\n   No Soliciting  NO-SOLICITING  Solicitation-keywords\
    \ RFC3865\n   The maximum length of Solicitation-keywords is 1000 characters.\
    \  The\n   \"SOLICIT=\" parameter is defined for use on the MAIL FROM command.\n\
    \   The potential length of the MAIL FROM command is thus increased by\n   1007\
    \ characters.\n"
- title: 4.2.  Trace Fields
  contents:
  - "4.2.  Trace Fields\n   The Mail Parameters registry would need to be modified\
    \ to note the\n   use of the comment facility in trace fields to indicate Solicitation\n\
    \   Class Keywords.\n"
- title: 4.3.  The Solicitation Mail Header
  contents:
  - "4.3.  The Solicitation Mail Header\n   Per [RFC3864], the \"Solicitation:\" header\
    \ field is added to the IANA\n   Permanent Message Header Field Registry.  The\
    \ following is the\n   registration template:\n   o  Header field name: Solicitation\n\
    \   o  Applicable protocol: mail\n   o  Status: standard\n   o  Author/Change\
    \ controller: IETF\n   o  Specification document(s): RFC3865\n   o  Related information:\n"
- title: 5.  Author's Acknowledgements
  contents:
  - "5.  Author's Acknowledgements\n   The author would like to thank Rebecca Malamud\
    \ for many discussions\n   and ideas that led to this proposal and to John C.\
    \ Klensin and\n   Marshall T. Rose for their extensive input on how it could be\n\
    \   properly implemented in SMTP.  Eric Allman, Harald Alvestrand, Steven\n  \
    \ M. Bellovin, Doug Barton, Kent Crispin, Dave Crocker, Ned Freed,\n   Curtis\
    \ Generous, Arnt Gulbrandsen,  John Levine, Keith Moore, Hector\n   Santos, Ted\
    \ Hardie, Paul Vixie, and Pindar Wong kindly provided\n   reviews of the document\
    \ and/or suggestions for improvement.\n   Information about soliciting outside\
    \ the U.S. was received from Rob\n   Blokzijl, Jon Crowcroft, Christian Huitema,\
    \ Geoff Huston, and Pindar\n   Wong. John Levine pointed out the contrast between\
    \ this proposal and\n   \"do not spam\" lists.  As always, all errors and omissions\
    \ are the\n   responsibility of the author.\n"
- title: 6.  References
  contents:
  - '6.  References

    '
- title: 6.1.  Normative References
  contents:
  - "6.1.  Normative References\n   [RFC2119]    Bradner, S., \"Key words for use\
    \ in RFCs to Indicate\n                Requirement Levels\", BCP 14, RFC 2119,\
    \ March 1997.\n   [RFC2234]    Crocker, D., Ed. and P. Overell, \"Augmented BNF\
    \ for\n                Syntax Specifications: ABNF\", RFC 2234, November 1997.\n\
    \   [RFC2821]    Klensin, J., Ed., \"Simple Mail Transfer Protocol\", RFC\n  \
    \              2821, April 2001.\n   [RFC2822]    Resnick, P., Ed., \"Internet\
    \ Message Format\", RFC 2822,\n                April 2001.\n   [RFC3463]    Vaudreuil,\
    \ G., \"Enhanced Mail System Status Codes\", RFC\n                3463, January\
    \ 2003.\n   [RFC3864]    Klyne, G., Nottingham, M., and J. Mogul, \"Registration\n\
    \                Procedures for Message Header Fields\", BCP 90, RFC 3864,\n \
    \               September 2004.\n"
- title: 6.2.  Informative References
  contents:
  - "6.2.  Informative References\n   [Assassin]   Mason, J., \"Spamassassin - Mail\
    \ Filter to Identify Spam\n                Using Text Analysis\", Version 2.55,\
    \ May 2003,\n                <http://www.mirror.ac.uk/sites/spamassassin.taint.org/\n\
    \                spamassassin.org/doc/spamassassin.html>\n   [CNET]       CNET\
    \ News.Com, \"AOL touts spam-fighting prowess\", April\n                2003,\
    \ <http://news.com.com/2100-1025-998944.html>.\n   [Cantwell]   U.S. Supreme Court,\
    \ \"Cantwell v. State of Connecticut\",\n                310 U.S. 296 (1940),\
    \ May 1940,\n                <http://caselaw.lp.findlaw.com/scripts/\n       \
    \         getcase.pl?court=US&vol=310&invol=296>\n   [FTC]        Federal Trade\
    \ Commission, \"Federal, State, Local Law\n                Enforcers Target Deceptive\
    \ Spam and Internet Scams\",\n                November 2002,\n               \
    \ <http://www.ftc.gov/opa/2002/11/nenetforcema.htm>.\n   [FTC.TSR]    Federal\
    \ Trade Commission, \"Telemarketing Sales Rule\",\n                Federal Register\
    \ Vol. 68, No. 19, January 2003,\n                <http://www.ftc.gov/os/2002/12/tsrfinalrule.pdf>.\n\
    \   [Ferris]     Associated Press, \"Study: Spam costs businesses $13\n      \
    \          billion\", January 2003,\n                <http://www.cnn.com/2003/TECH/biztech/01/03/\n\
    \                spam.costs.ap/index.html>\n   [Habeas]     Habeas, Inc., \"Habeas\
    \ Compliance Message\", 2004,\n                <http://www.habeas.com/servicesComplianceStds.html>\n\
    \   [crocker-spam-techconsider]\n                Crocker, D., \"Technical Considerations\
    \ for Spam Control\n                Mechanisms\", Work in Progress, February 2004.\n\
    \   [crouzet-amtp]\n                Crouzet, B., \"Authenticated Mail Transfer\
    \ Protocol\",\n                Work in Progress, May 2004.\n   [daboo-sieve-spamtest]\n\
    \                Daboo, C., \"SIEVE Spamtest and Virustest Extensions\",\n   \
    \             Work in Progress, October 2003.\n   [danisch-dns-rr-smtp]\n    \
    \            Danisch, H., \"The RMX DNS RR and method for lightweight\n      \
    \          SMTP sender authorization\", Work in Progress, August\n           \
    \     2004.\n   [Levine]     Levine, J. and P. Hoffman, \"Anti-UBE and Anti-UCE\n\
    \                Keywords in SMTP Banners\", Revision 1.1, March 1999,\n     \
    \           <http://www.cauce.org/proposal/smtp-banner-rfc.shtml>.\n   [Malamud]\
    \    Malamud, C., \"An Internet Prayer Wheel\", Mappa.Mundi\n                Magazine,\
    \ August 1999,\n                <http://mappa.mundi.net/cartography/Wheel/>.\n\
    \   [Martin]     U.S. Supreme Court, \"Martin v. City of Struthers, Ohio\",\n\
    \                319 U.S. 141 (1943), May 1943,\n                <http://caselaw.lp.findlaw.com/scripts/\n\
    \                getcase.pl?court=US&vol=319&invol=141>\n   [Newbury]    The Town\
    \ of West Newbury, Massachusetts, \"Soliciting/\n                Canvassing By-Law\"\
    , Chapter 18 Section 10, March 2002,\n                <http://www.town.west-newbury.ma.us/Public_Documents/\n\
    \                WestNewburyMA_Bylaws/000A1547-70E903AC>\n   [Perry]      U.S.\
    \ Supreme Court, \"Perry Education Association v.\n                Perry Local\
    \ Educators' Association\", 460 U.S. 37 (1983),\n                February 1983,\
    \ <http://caselaw.lp.findlaw.com/scripts/\n                getcase.pl?court=US&vol=460&invol=37>\n\
    \   [RFC2505]    Lindberg, G., \"Anti-Spam Recommendations for SMTP MTAs\",\n\
    \                BCP 30, RFC 2505, February 1999.\n   [ROKSO]      Spamhaus.Org,\
    \ \"Register of Known Spam Operations\",\n                November 2003,\n   \
    \             <http://www.spamhaus.org/rokso/index.lasso>.\n   [Schumer]    Charles,\
    \ C., \"Schumer, Christian Coalition Team Up to\n                Crack Down on\
    \ Email Spam Pornography\", June 2003,\n                <http://\n           \
    \     www.senate.gov/~schumer/SchumerWebsite/pressroom/\n                press_releases/PR01782.html>.\n\
    \   [Watchtower] U.S. Supreme Court, \"Watchtower Bible & Tract Society of\n \
    \               New York, Inc., et al. v. Village of Stratton et al.\",\n    \
    \            122 S.Ct. 2080 (2002), June 2002,\n                <http://caselaw.lp.findlaw.com/scripts/\n\
    \                getcase.pl?court=US&vol=000&invol=00-1737>\n"
- title: Appendix A.  Collected ABNF Descriptions (Normative)
  contents:
  - "Appendix A.  Collected ABNF Descriptions (Normative)\n   Solicitation-keywords\
    \ = word\n        0*(\",\" word)\n        ; length of this string is limited\n\
    \        ; to <= 1000 characters\n   word = ALPHA 0*(wordchar)\n   wordchar =\
    \ (\".\" / \"-\" / \"_\" / \":\" / ALPHA / DIGIT)\n   ; used in the initial EHLO\
    \ exchange\n   No-Soliciting-Service = \"NO-SOLICITING\"\n        [ SP Solicitation-keywords\
    \ ]\n   ; used on the Solicitation: message header\n   Solicitation-header = \"\
    Solicitation:\" 1*SP Solicitation-keywords\n   ; used on the MAIL FROM command\
    \ and replies,\n   ; and on Received: headers.\n   Mail-From-Solicit-Parameter\
    \ =\n        \"SOLICIT\" \"=\" Solicitation-keywords\n        ; Solicitation-keywords,\
    \ when used in\n        ; the MAIL FROM command MUST be identical\n        ; to\
    \ those in the Solicitation: header.\n   ; Used on Received: headers\n   With-Solicit\
    \ = \"WITH\" FWS Protocol\n              \"(\" [FWS] comment [FWS] \")\"\n   ;\
    \ From RFC 2822\n   comment = \"(\" *([FWS] ccontent) [FWS] \")\"\n   ccontent\
    \ = ctext / quoted-pair /\n              comment / Mail-From-Solicit-Parameter\n\
    \              ; The Mail-From-Solicit-Parameter\n              ; is a restricted\
    \ form of ctext\n   ; From RFC 2821\n   With = \"WITH\" FWS Protocol CFWS\n  \
    \ Protocol = \"ESMTP\" / \"SMTP\" / Attdl-Protocol\n   Attdl-Protocol = Atom\n"
- title: Author's Address
  contents:
  - "Author's Address\n   Carl Malamud\n   Memory Palace Press\n   PO Box 300\n  \
    \ Sixes, OR  97476\n   US\n   EMail: carl@media.org\n"
- title: Full Copyright Statement
  contents:
  - "Full Copyright Statement\n   Copyright (C) The Internet Society (2004).  This\
    \ document is subject\n   to the rights, licenses and restrictions contained in\
    \ BCP 78, and\n   except as set forth therein, the authors retain all their rights.\n\
    \   This document and the information contained herein are provided on an\n  \
    \ \"AS IS\" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS\n  \
    \ OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET\n   ENGINEERING\
    \ TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED,\n   INCLUDING BUT NOT\
    \ LIMITED TO ANY WARRANTY THAT THE USE OF THE\n   INFORMATION HEREIN WILL NOT\
    \ INFRINGE ANY RIGHTS OR ANY IMPLIED\n   WARRANTIES OF MERCHANTABILITY OR FITNESS\
    \ FOR A PARTICULAR PURPOSE.\n"
- title: Intellectual Property
  contents:
  - "Intellectual Property\n   The IETF takes no position regarding the validity or\
    \ scope of any\n   Intellectual Property Rights or other rights that might be\
    \ claimed to\n   pertain to the implementation or use of the technology described\
    \ in\n   this document or the extent to which any license under such rights\n\
    \   might or might not be available; nor does it represent that it has\n   made\
    \ any independent effort to identify any such rights.  Information\n   on the\
    \ procedures with respect to rights in RFC documents can be\n   found in BCP 78\
    \ and BCP 79.\n   Copies of IPR disclosures made to the IETF Secretariat and any\n\
    \   assurances of licenses to be made available, or the result of an\n   attempt\
    \ made to obtain a general license or permission for the use of\n   such proprietary\
    \ rights by implementers or users of this\n   specification can be obtained from\
    \ the IETF on-line IPR repository at\n   http://www.ietf.org/ipr.\n   The IETF\
    \ invites any interested party to bring to its attention any\n   copyrights, patents\
    \ or patent applications, or other proprietary\n   rights that may cover technology\
    \ that may be required to implement\n   this standard.  Please address the information\
    \ to the IETF at ietf-\n   ipr@ietf.org.\n"
- title: Acknowledgement
  contents:
  - "Acknowledgement\n   Funding for the RFC Editor function is currently provided\
    \ by the\n   Internet Society.\n"
