- title: __initial_text__
  contents:
  - '                  Towards Requirements for IP Routers

    '
- title: Status of this Memo
  contents:
  - "Status of this Memo\n   This memo provides information for the Internet community.\
    \  This memo\n   does not specify an Internet standard of any kind.  Distribution\
    \ of\n   this memo is unlimited.\n"
- title: Table of Contents
  contents:
  - 'Table of Contents

    '
- title: 0.  PREFACE .......................................................    1
  contents:
  - '0.  PREFACE .......................................................    1

    '
- title: 1.  INTRODUCTION ..................................................    2
  contents:
  - '1.  INTRODUCTION ..................................................    2

    '
- title: 1.1  Reading this Document ........................................    4
  contents:
  - '1.1  Reading this Document ........................................    4

    '
- title: 1.1.1  Organization ...............................................    4
  contents:
  - '1.1.1  Organization ...............................................    4

    '
- title: 1.1.2  Requirements ...............................................    5
  contents:
  - '1.1.2  Requirements ...............................................    5

    '
- title: 1.1.3  Compliance .................................................    6
  contents:
  - '1.1.3  Compliance .................................................    6

    '
- title: 1.2  Relationships to Other Standards .............................    7
  contents:
  - '1.2  Relationships to Other Standards .............................    7

    '
- title: 1.3  General Considerations .......................................    8
  contents:
  - '1.3  General Considerations .......................................    8

    '
- title: 1.3.1  Continuing Internet Evolution ..............................    8
  contents:
  - '1.3.1  Continuing Internet Evolution ..............................    8

    '
- title: 1.3.2  Robustness Principle .......................................    9
  contents:
  - '1.3.2  Robustness Principle .......................................    9

    '
- title: 1.3.3  Error Logging ..............................................    9
  contents:
  - '1.3.3  Error Logging ..............................................    9

    '
- title: 1.3.4  Configuration ..............................................   10
  contents:
  - '1.3.4  Configuration ..............................................   10

    '
- title: 1.4  Algorithms ...................................................   11
  contents:
  - '1.4  Algorithms ...................................................   11

    '
- title: 2.  INTERNET ARCHITECTURE .........................................   13
  contents:
  - '2.  INTERNET ARCHITECTURE .........................................   13

    '
- title: 2.1  Introduction .................................................   13
  contents:
  - '2.1  Introduction .................................................   13

    '
- title: 2.2  Elements of the Architecture .................................   14
  contents:
  - '2.2  Elements of the Architecture .................................   14

    '
- title: 2.2.1  Protocol Layering ..........................................   14
  contents:
  - '2.2.1  Protocol Layering ..........................................   14

    '
- title: 2.2.2  Networks ...................................................   16
  contents:
  - '2.2.2  Networks ...................................................   16

    '
- title: 2.2.3  Routers ....................................................   17
  contents:
  - '2.2.3  Routers ....................................................   17

    '
- title: 2.2.4  Autonomous Systems .........................................   18
  contents:
  - '2.2.4  Autonomous Systems .........................................   18

    '
- title: 2.2.5  Addresses and Subnets ......................................   18
  contents:
  - '2.2.5  Addresses and Subnets ......................................   18

    '
- title: 2.2.6  IP Multicasting ............................................   20
  contents:
  - '2.2.6  IP Multicasting ............................................   20

    '
- title: 2.2.7  Unnumbered Lines and Networks and Subnets ..................   20
  contents:
  - '2.2.7  Unnumbered Lines and Networks and Subnets ..................   20

    '
- title: 2.2.8  Notable Oddities ...........................................   22
  contents:
  - '2.2.8  Notable Oddities ...........................................   22

    '
- title: 2.2.8.1  Embedded Routers .........................................   22
  contents:
  - '2.2.8.1  Embedded Routers .........................................   22

    '
- title: 2.2.8.2  Transparent Routers ......................................   23
  contents:
  - '2.2.8.2  Transparent Routers ......................................   23

    '
- title: 2.3  Router Characteristics .......................................   24
  contents:
  - '2.3  Router Characteristics .......................................   24

    '
- title: 2.4  Architectural Assumptions ....................................   27
  contents:
  - '2.4  Architectural Assumptions ....................................   27

    '
- title: 3.  LINK LAYER ....................................................   29
  contents:
  - '3.  LINK LAYER ....................................................   29

    '
- title: 3.1  INTRODUCTION .................................................   29
  contents:
  - '3.1  INTRODUCTION .................................................   29

    '
- title: 3.2  LINK/INTERNET LAYER INTERFACE ................................   29
  contents:
  - '3.2  LINK/INTERNET LAYER INTERFACE ................................   29

    '
- title: 3.3  SPECIFIC ISSUES ..............................................   30
  contents:
  - '3.3  SPECIFIC ISSUES ..............................................   30

    '
- title: 3.3.1  Trailer Encapsulation ......................................   30
  contents:
  - '3.3.1  Trailer Encapsulation ......................................   30

    '
- title: 3.3.2  Address Resolution Protocol - ARP ..........................   31
  contents:
  - '3.3.2  Address Resolution Protocol - ARP ..........................   31

    '
- title: 3.3.3  Ethernet and 802.3 Coexistence .............................   31
  contents:
  - '3.3.3  Ethernet and 802.3 Coexistence .............................   31

    '
- title: 3.3.4  Maximum Transmission Unit - MTU ............................   31
  contents:
  - '3.3.4  Maximum Transmission Unit - MTU ............................   31

    '
- title: 3.3.5  Point-to-Point Protocol - PPP ..............................   32
  contents:
  - '3.3.5  Point-to-Point Protocol - PPP ..............................   32

    '
- title: 3.3.5.1  Introduction .............................................   32
  contents:
  - '3.3.5.1  Introduction .............................................   32

    '
- title: 3.3.5.2  Link Control Protocol (LCP) Options ......................   33
  contents:
  - '3.3.5.2  Link Control Protocol (LCP) Options ......................   33

    '
- title: 3.3.5.3  IP Control Protocol (ICP) Options ........................   34
  contents:
  - '3.3.5.3  IP Control Protocol (ICP) Options ........................   34

    '
- title: 3.3.6  Interface Testing ..........................................   35
  contents:
  - '3.3.6  Interface Testing ..........................................   35

    '
- title: 4.  INTERNET LAYER - PROTOCOLS ....................................   36
  contents:
  - '4.  INTERNET LAYER - PROTOCOLS ....................................   36

    '
- title: 4.1  INTRODUCTION .................................................   36
  contents:
  - '4.1  INTRODUCTION .................................................   36

    '
- title: 4.2  INTERNET PROTOCOL - IP .......................................   36
  contents:
  - '4.2  INTERNET PROTOCOL - IP .......................................   36

    '
- title: 4.2.1  INTRODUCTION ...............................................   36
  contents:
  - '4.2.1  INTRODUCTION ...............................................   36

    '
- title: 4.2.2  PROTOCOL WALK-THROUGH ......................................   37
  contents:
  - '4.2.2  PROTOCOL WALK-THROUGH ......................................   37

    '
- title: '4.2.2.1  Options: RFC-791 Section 3.2 .............................   37'
  contents:
  - '4.2.2.1  Options: RFC-791 Section 3.2 .............................   37

    '
- title: '4.2.2.2  Addresses in Options: RFC-791 Section 3.1 ................   40'
  contents:
  - '4.2.2.2  Addresses in Options: RFC-791 Section 3.1 ................   40

    '
- title: '4.2.2.3  Unused IP Header Bits: RFC-791 Section 3.1 ...............   40'
  contents:
  - '4.2.2.3  Unused IP Header Bits: RFC-791 Section 3.1 ...............   40

    '
- title: '4.2.2.4  Type of Service: RFC-791 Section 3.1 .....................   41'
  contents:
  - '4.2.2.4  Type of Service: RFC-791 Section 3.1 .....................   41

    '
- title: '4.2.2.5  Header Checksum: RFC-791 Section 3.1 .....................   41'
  contents:
  - '4.2.2.5  Header Checksum: RFC-791 Section 3.1 .....................   41

    '
- title: '4.2.2.6  Unrecognized Header Options: RFC-791 Section 3.1 .........   41'
  contents:
  - '4.2.2.6  Unrecognized Header Options: RFC-791 Section 3.1 .........   41

    '
- title: '4.2.2.7  Fragmentation: RFC-791 Section 3.2 .......................   42'
  contents:
  - '4.2.2.7  Fragmentation: RFC-791 Section 3.2 .......................   42

    '
- title: '4.2.2.8  Reassembly: RFC-791 Section 3.2 ..........................   43'
  contents:
  - '4.2.2.8  Reassembly: RFC-791 Section 3.2 ..........................   43

    '
- title: '4.2.2.9  Time to Live: RFC-791 Section 3.2 ........................   43'
  contents:
  - '4.2.2.9  Time to Live: RFC-791 Section 3.2 ........................   43

    '
- title: '4.2.2.10  Multi-subnet Broadcasts: RFC-922 ........................   43'
  contents:
  - '4.2.2.10  Multi-subnet Broadcasts: RFC-922 ........................   43

    '
- title: '4.2.2.11  Addressing: RFC-791 Section 3.2 .........................   43'
  contents:
  - '4.2.2.11  Addressing: RFC-791 Section 3.2 .........................   43

    '
- title: 4.2.3  SPECIFIC ISSUES ............................................   47
  contents:
  - '4.2.3  SPECIFIC ISSUES ............................................   47

    '
- title: 4.2.3.1  IP Broadcast Addresses ...................................   47
  contents:
  - '4.2.3.1  IP Broadcast Addresses ...................................   47

    '
- title: 4.2.3.2  IP Multicasting ..........................................   48
  contents:
  - '4.2.3.2  IP Multicasting ..........................................   48

    '
- title: 4.2.3.3  Path MTU Discovery .......................................   48
  contents:
  - '4.2.3.3  Path MTU Discovery .......................................   48

    '
- title: 4.2.3.4  Subnetting ...............................................   49
  contents:
  - '4.2.3.4  Subnetting ...............................................   49

    '
- title: 4.3  INTERNET CONTROL MESSAGE PROTOCOL - ICMP .....................   50
  contents:
  - '4.3  INTERNET CONTROL MESSAGE PROTOCOL - ICMP .....................   50

    '
- title: 4.3.1  INTRODUCTION ...............................................   50
  contents:
  - '4.3.1  INTRODUCTION ...............................................   50

    '
- title: 4.3.2  GENERAL ISSUES .............................................   50
  contents:
  - '4.3.2  GENERAL ISSUES .............................................   50

    '
- title: 4.3.2.1  Unknown Message Types ....................................   50
  contents:
  - '4.3.2.1  Unknown Message Types ....................................   50

    '
- title: 4.3.2.2  ICMP Message TTL .........................................   51
  contents:
  - '4.3.2.2  ICMP Message TTL .........................................   51

    '
- title: 4.3.2.3  Original Message Header ..................................   51
  contents:
  - '4.3.2.3  Original Message Header ..................................   51

    '
- title: 4.3.2.4  ICMP Message Source Address ..............................   51
  contents:
  - '4.3.2.4  ICMP Message Source Address ..............................   51

    '
- title: 4.3.2.5  TOS and Precedence .......................................   51
  contents:
  - '4.3.2.5  TOS and Precedence .......................................   51

    '
- title: 4.3.2.6  Source Route .............................................   52
  contents:
  - '4.3.2.6  Source Route .............................................   52

    '
- title: 4.3.2.7  When Not to Send ICMP Errors .............................   53
  contents:
  - '4.3.2.7  When Not to Send ICMP Errors .............................   53

    '
- title: 4.3.2.8  Rate Limiting ............................................   54
  contents:
  - '4.3.2.8  Rate Limiting ............................................   54

    '
- title: 4.3.3  SPECIFIC ISSUES ............................................   55
  contents:
  - '4.3.3  SPECIFIC ISSUES ............................................   55

    '
- title: 4.3.3.1  Destination Unreachable ..................................   55
  contents:
  - '4.3.3.1  Destination Unreachable ..................................   55

    '
- title: 4.3.3.2  Redirect .................................................   55
  contents:
  - '4.3.3.2  Redirect .................................................   55

    '
- title: 4.3.3.3  Source Quench ............................................   56
  contents:
  - '4.3.3.3  Source Quench ............................................   56

    '
- title: 4.3.3.4  Time Exceeded ............................................   56
  contents:
  - '4.3.3.4  Time Exceeded ............................................   56

    '
- title: 4.3.3.5  Parameter Problem ........................................   57
  contents:
  - '4.3.3.5  Parameter Problem ........................................   57

    '
- title: 4.3.3.6  Echo Request/Reply .......................................   57
  contents:
  - '4.3.3.6  Echo Request/Reply .......................................   57

    '
- title: 4.3.3.7  Information Request/Reply ................................   58
  contents:
  - '4.3.3.7  Information Request/Reply ................................   58

    '
- title: 4.3.3.8  Timestamp and Timestamp Reply ............................   58
  contents:
  - '4.3.3.8  Timestamp and Timestamp Reply ............................   58

    '
- title: 4.3.3.9  Address Mask Request/Reply ...............................   59
  contents:
  - '4.3.3.9  Address Mask Request/Reply ...............................   59

    '
- title: 4.3.3.10  Router Advertisement and Solicitations ..................   61
  contents:
  - '4.3.3.10  Router Advertisement and Solicitations ..................   61

    '
- title: 4.4  INTERNET GROUP MANAGEMENT PROTOCOL - IGMP ....................   61
  contents:
  - '4.4  INTERNET GROUP MANAGEMENT PROTOCOL - IGMP ....................   61

    '
- title: 5.  INTERNET LAYER - FORWARDING ...................................   62
  contents:
  - '5.  INTERNET LAYER - FORWARDING ...................................   62

    '
- title: 5.1  INTRODUCTION .................................................   62
  contents:
  - '5.1  INTRODUCTION .................................................   62

    '
- title: 5.2  FORWARDING WALK-THROUGH ......................................   62
  contents:
  - '5.2  FORWARDING WALK-THROUGH ......................................   62

    '
- title: 5.2.1  Forwarding Algorithm .......................................   62
  contents:
  - '5.2.1  Forwarding Algorithm .......................................   62

    '
- title: 5.2.1.1  General ..................................................   63
  contents:
  - '5.2.1.1  General ..................................................   63

    '
- title: 5.2.1.2  Unicast ..................................................   64
  contents:
  - '5.2.1.2  Unicast ..................................................   64

    '
- title: 5.2.1.3  Multicast ................................................   65
  contents:
  - '5.2.1.3  Multicast ................................................   65

    '
- title: 5.2.2  IP Header Validation .......................................   66
  contents:
  - '5.2.2  IP Header Validation .......................................   66

    '
- title: 5.2.3  Local Delivery Decision ....................................   68
  contents:
  - '5.2.3  Local Delivery Decision ....................................   68

    '
- title: 5.2.4  Determining the Next Hop Address ...........................   70
  contents:
  - '5.2.4  Determining the Next Hop Address ...........................   70

    '
- title: 5.2.4.1  Immediate Destination Address ............................   71
  contents:
  - '5.2.4.1  Immediate Destination Address ............................   71

    '
- title: 5.2.4.2  Local/Remote Decision ....................................   71
  contents:
  - '5.2.4.2  Local/Remote Decision ....................................   71

    '
- title: 5.2.4.3  Next Hop Address .........................................   72
  contents:
  - '5.2.4.3  Next Hop Address .........................................   72

    '
- title: 5.2.4.4  Administrative Preference ................................   77
  contents:
  - '5.2.4.4  Administrative Preference ................................   77

    '
- title: 5.2.4.6  Load Splitting ...........................................   78
  contents:
  - '5.2.4.6  Load Splitting ...........................................   78

    '
- title: '5.2.5  Unused IP Header Bits: RFC-791 Section 3.1 .................   79'
  contents:
  - '5.2.5  Unused IP Header Bits: RFC-791 Section 3.1 .................   79

    '
- title: '5.2.6  Fragmentation and Reassembly: RFC-791 Section 3.2 ..........   79'
  contents:
  - '5.2.6  Fragmentation and Reassembly: RFC-791 Section 3.2 ..........   79

    '
- title: 5.2.7  Internet Control Message Protocol - ICMP ...................   80
  contents:
  - '5.2.7  Internet Control Message Protocol - ICMP ...................   80

    '
- title: 5.2.7.1  Destination Unreachable ..................................   80
  contents:
  - '5.2.7.1  Destination Unreachable ..................................   80

    '
- title: 5.2.7.2  Redirect .................................................   82
  contents:
  - '5.2.7.2  Redirect .................................................   82

    '
- title: 5.2.7.3  Time Exceeded ............................................   84
  contents:
  - '5.2.7.3  Time Exceeded ............................................   84

    '
- title: 5.2.8  INTERNET GROUP MANAGEMENT PROTOCOL - IGMP ..................   84
  contents:
  - '5.2.8  INTERNET GROUP MANAGEMENT PROTOCOL - IGMP ..................   84

    '
- title: 5.3  SPECIFIC ISSUES ..............................................   84
  contents:
  - '5.3  SPECIFIC ISSUES ..............................................   84

    '
- title: 5.3.1  Time to Live (TTL) .........................................   84
  contents:
  - '5.3.1  Time to Live (TTL) .........................................   84

    '
- title: 5.3.2  Type of Service (TOS) ......................................   85
  contents:
  - '5.3.2  Type of Service (TOS) ......................................   85

    '
- title: 5.3.3  IP Precedence ..............................................   87
  contents:
  - '5.3.3  IP Precedence ..............................................   87

    '
- title: 5.3.3.1  Precedence-Ordered Queue Service .........................   88
  contents:
  - '5.3.3.1  Precedence-Ordered Queue Service .........................   88

    '
- title: 5.3.3.2  Lower Layer Precedence Mappings ..........................   88
  contents:
  - '5.3.3.2  Lower Layer Precedence Mappings ..........................   88

    '
- title: 5.3.3.3  Precedence Handling For All Routers ......................   89
  contents:
  - '5.3.3.3  Precedence Handling For All Routers ......................   89

    '
- title: 5.3.4  Forwarding of Link Layer Broadcasts ........................   92
  contents:
  - '5.3.4  Forwarding of Link Layer Broadcasts ........................   92

    '
- title: 5.3.5  Forwarding of Internet Layer Broadcasts ....................   92
  contents:
  - '5.3.5  Forwarding of Internet Layer Broadcasts ....................   92

    '
- title: 5.3.5.1  Limited Broadcasts .......................................   94
  contents:
  - '5.3.5.1  Limited Broadcasts .......................................   94

    '
- title: 5.3.5.2  Net-directed Broadcasts ..................................   94
  contents:
  - '5.3.5.2  Net-directed Broadcasts ..................................   94

    '
- title: 5.3.5.3  All-subnets-directed Broadcasts ..........................   95
  contents:
  - '5.3.5.3  All-subnets-directed Broadcasts ..........................   95

    '
- title: 5.3.5.4  Subnet-directed Broadcasts ...............................   97
  contents:
  - '5.3.5.4  Subnet-directed Broadcasts ...............................   97

    '
- title: 5.3.6  Congestion Control .........................................   97
  contents:
  - '5.3.6  Congestion Control .........................................   97

    '
- title: 5.3.7  Martian Address Filtering ..................................   99
  contents:
  - '5.3.7  Martian Address Filtering ..................................   99

    '
- title: 5.3.8  Source Address Validation ..................................   99
  contents:
  - '5.3.8  Source Address Validation ..................................   99

    '
- title: 5.3.9  Packet Filtering and Access Lists ..........................  100
  contents:
  - '5.3.9  Packet Filtering and Access Lists ..........................  100

    '
- title: 5.3.10  Multicast Routing .........................................  101
  contents:
  - '5.3.10  Multicast Routing .........................................  101

    '
- title: 5.3.11  Controls on Forwarding ....................................  101
  contents:
  - '5.3.11  Controls on Forwarding ....................................  101

    '
- title: 5.3.12  State Changes .............................................  101
  contents:
  - '5.3.12  State Changes .............................................  101

    '
- title: 5.3.12.1  When a Router Ceases Forwarding .........................  102
  contents:
  - '5.3.12.1  When a Router Ceases Forwarding .........................  102

    '
- title: 5.3.12.2  When a Router Starts Forwarding .........................  102
  contents:
  - '5.3.12.2  When a Router Starts Forwarding .........................  102

    '
- title: 5.3.12.3  When an Interface Fails or is Disabled ..................  103
  contents:
  - '5.3.12.3  When an Interface Fails or is Disabled ..................  103

    '
- title: 5.3.12.4  When an Interface is Enabled ............................  103
  contents:
  - '5.3.12.4  When an Interface is Enabled ............................  103

    '
- title: 5.3.13  IP Options ................................................  103
  contents:
  - '5.3.13  IP Options ................................................  103

    '
- title: 5.3.13.1  Unrecognized Options ....................................  103
  contents:
  - '5.3.13.1  Unrecognized Options ....................................  103

    '
- title: 5.3.13.2  Security Option .........................................  104
  contents:
  - '5.3.13.2  Security Option .........................................  104

    '
- title: 5.3.13.3  Stream Identifier Option ................................  104
  contents:
  - '5.3.13.3  Stream Identifier Option ................................  104

    '
- title: 5.3.13.4  Source Route Options ....................................  104
  contents:
  - '5.3.13.4  Source Route Options ....................................  104

    '
- title: 5.3.13.5  Record Route Option .....................................  104
  contents:
  - '5.3.13.5  Record Route Option .....................................  104

    '
- title: 5.3.13.6  Timestamp Option ........................................  105
  contents:
  - '5.3.13.6  Timestamp Option ........................................  105

    '
- title: 6.  TRANSPORT LAYER ...............................................  106
  contents:
  - '6.  TRANSPORT LAYER ...............................................  106

    '
- title: 6.1  USER DATAGRAM PROTOCOL - UDP .................................  106
  contents:
  - '6.1  USER DATAGRAM PROTOCOL - UDP .................................  106

    '
- title: 6.2  TRANSMISSION CONTROL PROTOCOL - TCP ..........................  106
  contents:
  - '6.2  TRANSMISSION CONTROL PROTOCOL - TCP ..........................  106

    '
- title: 7.  APPLICATION LAYER - ROUTING PROTOCOLS .........................  109
  contents:
  - '7.  APPLICATION LAYER - ROUTING PROTOCOLS .........................  109

    '
- title: 7.1  INTRODUCTION .................................................  109
  contents:
  - '7.1  INTRODUCTION .................................................  109

    '
- title: 7.1.1  Routing Security Considerations ............................  109
  contents:
  - '7.1.1  Routing Security Considerations ............................  109

    '
- title: 7.1.2  Precedence .................................................  110
  contents:
  - '7.1.2  Precedence .................................................  110

    '
- title: 7.2  INTERIOR GATEWAY PROTOCOLS ...................................  110
  contents:
  - '7.2  INTERIOR GATEWAY PROTOCOLS ...................................  110

    '
- title: 7.2.1  INTRODUCTION ...............................................  110
  contents:
  - '7.2.1  INTRODUCTION ...............................................  110

    '
- title: 7.2.2  OPEN SHORTEST PATH FIRST - OSPF ............................  111
  contents:
  - '7.2.2  OPEN SHORTEST PATH FIRST - OSPF ............................  111

    '
- title: 7.2.2.1  Introduction .............................................  111
  contents:
  - '7.2.2.1  Introduction .............................................  111

    '
- title: 7.2.2.2  Specific Issues ..........................................  111
  contents:
  - '7.2.2.2  Specific Issues ..........................................  111

    '
- title: 7.2.2.3  New Version of OSPF ......................................  112
  contents:
  - '7.2.2.3  New Version of OSPF ......................................  112

    '
- title: 7.2.3  INTERMEDIATE SYSTEM TO INTERMEDIATE SYSTEM -  DUAL  IS-IS
  contents:
  - "7.2.3  INTERMEDIATE SYSTEM TO INTERMEDIATE SYSTEM -  DUAL  IS-IS\n     ..............................................................\
    \  112\n"
- title: 7.2.4  ROUTING INFORMATION PROTOCOL - RIP .........................  113
  contents:
  - '7.2.4  ROUTING INFORMATION PROTOCOL - RIP .........................  113

    '
- title: 7.2.4.1  Introduction .............................................  113
  contents:
  - '7.2.4.1  Introduction .............................................  113

    '
- title: 7.2.4.2  Protocol Walk-Through ....................................  113
  contents:
  - '7.2.4.2  Protocol Walk-Through ....................................  113

    '
- title: 7.2.4.3  Specific Issues ..........................................  118
  contents:
  - '7.2.4.3  Specific Issues ..........................................  118

    '
- title: 7.2.5  GATEWAY TO GATEWAY PROTOCOL - GGP ..........................  119
  contents:
  - '7.2.5  GATEWAY TO GATEWAY PROTOCOL - GGP ..........................  119

    '
- title: 7.3  EXTERIOR GATEWAY PROTOCOLS ...................................  119
  contents:
  - '7.3  EXTERIOR GATEWAY PROTOCOLS ...................................  119

    '
- title: 7.3.1  INTRODUCTION ...............................................  119
  contents:
  - '7.3.1  INTRODUCTION ...............................................  119

    '
- title: 7.3.2  BORDER GATEWAY PROTOCOL - BGP ..............................  120
  contents:
  - '7.3.2  BORDER GATEWAY PROTOCOL - BGP ..............................  120

    '
- title: 7.3.2.1  Introduction .............................................  120
  contents:
  - '7.3.2.1  Introduction .............................................  120

    '
- title: 7.3.2.2  Protocol Walk-through ....................................  120
  contents:
  - '7.3.2.2  Protocol Walk-through ....................................  120

    '
- title: 7.3.3  EXTERIOR GATEWAY PROTOCOL - EGP ............................  121
  contents:
  - '7.3.3  EXTERIOR GATEWAY PROTOCOL - EGP ............................  121

    '
- title: 7.3.3.1  Introduction .............................................  121
  contents:
  - '7.3.3.1  Introduction .............................................  121

    '
- title: 7.3.3.2  Protocol Walk-through ....................................  122
  contents:
  - '7.3.3.2  Protocol Walk-through ....................................  122

    '
- title: 7.3.4  INTER-AS ROUTING WITHOUT AN EXTERIOR PROTOCOL ..............  124
  contents:
  - '7.3.4  INTER-AS ROUTING WITHOUT AN EXTERIOR PROTOCOL ..............  124

    '
- title: 7.4  STATIC ROUTING ...............................................  125
  contents:
  - '7.4  STATIC ROUTING ...............................................  125

    '
- title: 7.5  FILTERING OF ROUTING INFORMATION .............................  127
  contents:
  - '7.5  FILTERING OF ROUTING INFORMATION .............................  127

    '
- title: 7.5.1  Route Validation ...........................................  127
  contents:
  - '7.5.1  Route Validation ...........................................  127

    '
- title: 7.5.2  Basic Route Filtering ......................................  127
  contents:
  - '7.5.2  Basic Route Filtering ......................................  127

    '
- title: 7.5.3  Advanced Route Filtering ...................................  128
  contents:
  - '7.5.3  Advanced Route Filtering ...................................  128

    '
- title: 7.6  INTER-ROUTING-PROTOCOL INFORMATION EXCHANGE ..................  129
  contents:
  - '7.6  INTER-ROUTING-PROTOCOL INFORMATION EXCHANGE ..................  129

    '
- title: 8.  APPLICATION LAYER - NETWORK MANAGEMENT PROTOCOLS ..............  131
  contents:
  - '8.  APPLICATION LAYER - NETWORK MANAGEMENT PROTOCOLS ..............  131

    '
- title: 8.1  The Simple Network Management Protocol - SNMP ................  131
  contents:
  - '8.1  The Simple Network Management Protocol - SNMP ................  131

    '
- title: 8.1.1  SNMP Protocol Elements .....................................  131
  contents:
  - '8.1.1  SNMP Protocol Elements .....................................  131

    '
- title: 8.2  Community Table ..............................................  132
  contents:
  - '8.2  Community Table ..............................................  132

    '
- title: 8.3  Standard MIBS ................................................  133
  contents:
  - '8.3  Standard MIBS ................................................  133

    '
- title: 8.4  Vendor Specific MIBS .........................................  134
  contents:
  - '8.4  Vendor Specific MIBS .........................................  134

    '
- title: 8.5  Saving Changes ...............................................  135
  contents:
  - '8.5  Saving Changes ...............................................  135

    '
- title: 9.  APPLICATION LAYER - MISCELLANEOUS PROTOCOLS ...................  137
  contents:
  - '9.  APPLICATION LAYER - MISCELLANEOUS PROTOCOLS ...................  137

    '
- title: 9.1  BOOTP ........................................................  137
  contents:
  - '9.1  BOOTP ........................................................  137

    '
- title: 9.1.1  Introduction ...............................................  137
  contents:
  - '9.1.1  Introduction ...............................................  137

    '
- title: 9.1.2  BOOTP Relay Agents .........................................  137
  contents:
  - '9.1.2  BOOTP Relay Agents .........................................  137

    '
- title: 10.  OPERATIONS AND MAINTENANCE ...................................  139
  contents:
  - '10.  OPERATIONS AND MAINTENANCE ...................................  139

    '
- title: 10.1  Introduction ................................................  139
  contents:
  - '10.1  Introduction ................................................  139

    '
- title: 10.2  Router Initialization .......................................  140
  contents:
  - '10.2  Router Initialization .......................................  140

    '
- title: 10.2.1  Minimum Router Configuration ..............................  140
  contents:
  - '10.2.1  Minimum Router Configuration ..............................  140

    '
- title: 10.2.2  Address and Address Mask Initialization ...................  141
  contents:
  - '10.2.2  Address and Address Mask Initialization ...................  141

    '
- title: 10.2.3  Network Booting using BOOTP and TFTP ......................  142
  contents:
  - '10.2.3  Network Booting using BOOTP and TFTP ......................  142

    '
- title: 10.3  Operation and Maintenance ...................................  143
  contents:
  - '10.3  Operation and Maintenance ...................................  143

    '
- title: 10.3.1  Introduction ..............................................  143
  contents:
  - '10.3.1  Introduction ..............................................  143

    '
- title: 10.3.2  Out Of Band Access ........................................  144
  contents:
  - '10.3.2  Out Of Band Access ........................................  144

    '
- title: 10.3.2  Router O&M Functions ......................................  144
  contents:
  - '10.3.2  Router O&M Functions ......................................  144

    '
- title: 10.3.2.1  Maintenance - Hardware Diagnosis ........................  144
  contents:
  - '10.3.2.1  Maintenance - Hardware Diagnosis ........................  144

    '
- title: 10.3.2.2  Control - Dumping and Rebooting .........................  145
  contents:
  - '10.3.2.2  Control - Dumping and Rebooting .........................  145

    '
- title: 10.3.2.3  Control - Configuring the Router ........................  145
  contents:
  - '10.3.2.3  Control - Configuring the Router ........................  145

    '
- title: 10.3.2.4  Netbooting of System Software ...........................  146
  contents:
  - '10.3.2.4  Netbooting of System Software ...........................  146

    '
- title: 10.3.2.5  Detecting and responding to misconfiguration ............  146
  contents:
  - '10.3.2.5  Detecting and responding to misconfiguration ............  146

    '
- title: 10.3.2.6  Minimizing Disruption ...................................  147
  contents:
  - '10.3.2.6  Minimizing Disruption ...................................  147

    '
- title: 10.3.2.7  Control - Troubleshooting Problems ......................  148
  contents:
  - '10.3.2.7  Control - Troubleshooting Problems ......................  148

    '
- title: 10.4  Security Considerations .....................................  149
  contents:
  - '10.4  Security Considerations .....................................  149

    '
- title: 10.4.1  Auditing and Audit Trails .................................  149
  contents:
  - '10.4.1  Auditing and Audit Trails .................................  149

    '
- title: 10.4.2  Configuration Control .....................................  150
  contents:
  - '10.4.2  Configuration Control .....................................  150

    '
- title: 11.  REFERENCES ...................................................  152
  contents:
  - '11.  REFERENCES ...................................................  152

    '
- title: APPENDIX  A. REQUIREMENTS FOR SOURCE-ROUTING HOSTS ................  162
  contents:
  - 'APPENDIX  A. REQUIREMENTS FOR SOURCE-ROUTING HOSTS ................  162

    '
- title: APPENDIX  B. GLOSSARY .............................................  164
  contents:
  - 'APPENDIX  B. GLOSSARY .............................................  164

    '
- title: APPENDIX  C. FUTURE DIRECTIONS ....................................  169
  contents:
  - 'APPENDIX  C. FUTURE DIRECTIONS ....................................  169

    '
- title: APPENDIX D.  Multicast Routing Protocols ..........................  172
  contents:
  - 'APPENDIX D.  Multicast Routing Protocols ..........................  172

    '
- title: D.1  Introduction .................................................  172
  contents:
  - 'D.1  Introduction .................................................  172

    '
- title: D.2  Distance Vector Multicast Routing Protocol - DVMRP ...........  172
  contents:
  - 'D.2  Distance Vector Multicast Routing Protocol - DVMRP ...........  172

    '
- title: D.3  Multicast Extensions to OSPF - MOSPF .........................  173
  contents:
  - 'D.3  Multicast Extensions to OSPF - MOSPF .........................  173

    '
- title: APPENDIX E  Additional Next-Hop Selection Algorithms ..............  174
  contents:
  - 'APPENDIX E  Additional Next-Hop Selection Algorithms ..............  174

    '
- title: E.1. Some Historical Perspective ..................................  174
  contents:
  - 'E.1. Some Historical Perspective ..................................  174

    '
- title: E.2. Additional Pruning Rules .....................................  176
  contents:
  - 'E.2. Additional Pruning Rules .....................................  176

    '
- title: E.3  Some Route Lookup Algorithms .................................  177
  contents:
  - 'E.3  Some Route Lookup Algorithms .................................  177

    '
- title: E.3.1 The Revised Classic Algorithm ...............................  178
  contents:
  - 'E.3.1 The Revised Classic Algorithm ...............................  178

    '
- title: E.3.2 The Variant Router Requirements Algorithm ...................  179
  contents:
  - 'E.3.2 The Variant Router Requirements Algorithm ...................  179

    '
- title: E.3.3 The OSPF Algorithm ..........................................  179
  contents:
  - 'E.3.3 The OSPF Algorithm ..........................................  179

    '
- title: E.3.4 The Integrated IS-IS Algorithm ..............................  180
  contents:
  - 'E.3.4 The Integrated IS-IS Algorithm ..............................  180

    '
- title: Security Considerations ...........................................  182
  contents:
  - 'Security Considerations ...........................................  182

    '
- title: Acknowledgments ...................................................  183
  contents:
  - 'Acknowledgments ...................................................  183

    '
- title: Editor's Address ..................................................  186
  contents:
  - 'Editor''s Address ..................................................  186

    '
- title: 0.  PREFACE
  contents:
  - '0.  PREFACE

    '
- title: This document is a snapshot of the work of the Router Requirements
  contents:
  - 'This document is a snapshot of the work of the Router Requirements

    '
- title: working group as of November 1991.  At that time, the working group had
  contents:
  - 'working group as of November 1991.  At that time, the working group had

    '
- title: essentially finished its task.  There were some final technical matters
  contents:
  - 'essentially finished its task.  There were some final technical matters

    '
- title: to be nailed down, and a great deal of editing needed to be done in
  contents:
  - 'to be nailed down, and a great deal of editing needed to be done in

    '
- title: order to get the document ready for publication.  Unfortunately, these
  contents:
  - 'order to get the document ready for publication.  Unfortunately, these

    '
- title: tasks were never completed.
  contents:
  - 'tasks were never completed.

    '
- title: At the request of the Internet Area Director, the current editor took
  contents:
  - 'At the request of the Internet Area Director, the current editor took

    '
- title: the last draft of the document and, after consulting the mailing list
  contents:
  - 'the last draft of the document and, after consulting the mailing list

    '
- title: archives, meeting minutes, notes, and other members of the working
  contents:
  - 'archives, meeting minutes, notes, and other members of the working

    '
- title: group, edited the document to its current form.  This effort included
  contents:
  - 'group, edited the document to its current form.  This effort included

    '
- title: 'the following tasks: 1) Deleting all the parenthetical material (such as'
  contents:
  - 'the following tasks: 1) Deleting all the parenthetical material (such as

    '
- title: editor's comments). Useful information was turned into DISCUSSION
  contents:
  - 'editor''s comments). Useful information was turned into DISCUSSION

    '
- title: sections, the rest was deleted.  2) Completing the tasks listed in the
  contents:
  - 'sections, the rest was deleted.  2) Completing the tasks listed in the

    '
- title: last draft's To be Done sections. As a part of this task, a new "to be
  contents:
  - 'last draft''s To be Done sections. As a part of this task, a new "to be

    '
- title: done" list was developed and included as an appendix to the current
  contents:
  - 'done" list was developed and included as an appendix to the current

    '
- title: document.  3) Rolling Philip Almquist's "Ruminations on the Next Hop"
  contents:
  - 'document.  3) Rolling Philip Almquist''s "Ruminations on the Next Hop"

    '
- title: and "Ruminations on Route Leaking" into this document.  These represent
  contents:
  - 'and "Ruminations on Route Leaking" into this document.  These represent

    '
- title: significant work and should be kept.  4) Fulfilling the last intents of
  contents:
  - 'significant work and should be kept.  4) Fulfilling the last intents of

    '
- title: the working group as determined from the archival material.  The intent
  contents:
  - 'the working group as determined from the archival material.  The intent

    '
- title: of this effort was to get the document into a form suitable for
  contents:
  - 'of this effort was to get the document into a form suitable for

    '
- title: publication as an Historical RFC so that the significant work which went
  contents:
  - 'publication as an Historical RFC so that the significant work which went

    '
- title: into the creation of this document would be preserved.
  contents:
  - 'into the creation of this document would be preserved.

    '
- title: The content and form of this document are due, in large part, to the
  contents:
  - 'The content and form of this document are due, in large part, to the

    '
- title: 'working group''s chair, and document''s original editor and author: Philip'
  contents:
  - 'working group''s chair, and document''s original editor and author: Philip

    '
- title: Almquist.  Without his efforts, this document would not exist.
  contents:
  - 'Almquist.  Without his efforts, this document would not exist.

    '
- title: 1.  INTRODUCTION
  contents:
  - '1.  INTRODUCTION

    '
- title: The goal of this work is to replace RFC-1009, Requirements for Internet
  contents:
  - 'The goal of this work is to replace RFC-1009, Requirements for Internet

    '
- title: Gateways ([INTRO:1]) with a new document.
  contents:
  - 'Gateways ([INTRO:1]) with a new document.

    '
- title: This memo is an intermediate step toward that goal. It defines and
  contents:
  - 'This memo is an intermediate step toward that goal. It defines and

    '
- title: discusses requirements for devices which perform the network layer
  contents:
  - 'discusses requirements for devices which perform the network layer

    '
- title: forwarding function of the Internet protocol suite.  The Internet
  contents:
  - 'forwarding function of the Internet protocol suite.  The Internet

    '
- title: community usually refers to such devices as IP routers or simply
  contents:
  - 'community usually refers to such devices as IP routers or simply

    '
- title: routers; The OSI community refers to such devices as intermediate
  contents:
  - 'routers; The OSI community refers to such devices as intermediate

    '
- title: systems.  Many older Internet documents refer to these devices as
  contents:
  - 'systems.  Many older Internet documents refer to these devices as

    '
- title: gateways, a name which more recently has largely passed out of favor to
  contents:
  - 'gateways, a name which more recently has largely passed out of favor to

    '
- title: avoid confusion with application gateways.
  contents:
  - 'avoid confusion with application gateways.

    '
- title: An IP router can be distinguished from other sorts of packet switching
  contents:
  - 'An IP router can be distinguished from other sorts of packet switching

    '
- title: devices in that a router examines the IP protocol header as part of the
  contents:
  - 'devices in that a router examines the IP protocol header as part of the

    '
- title: switching process.  It generally has to modify the IP header and to
  contents:
  - 'switching process.  It generally has to modify the IP header and to

    '
- title: strip off and replace the Link Layer framing.
  contents:
  - 'strip off and replace the Link Layer framing.

    '
- title: The authors of this memo recognize, as should its readers, that many
  contents:
  - 'The authors of this memo recognize, as should its readers, that many

    '
- title: routers support multiple protocol suites, and that support for multiple
  contents:
  - 'routers support multiple protocol suites, and that support for multiple

    '
- title: protocol suites will be required in increasingly large parts of the
  contents:
  - 'protocol suites will be required in increasingly large parts of the

    '
- title: Internet in the future.  This memo, however, does not attempt to specify
  contents:
  - 'Internet in the future.  This memo, however, does not attempt to specify

    '
- title: Internet requirements for protocol suites other than TCP/IP.
  contents:
  - 'Internet requirements for protocol suites other than TCP/IP.

    '
- title: This document enumerates standard protocols that a router connected to
  contents:
  - 'This document enumerates standard protocols that a router connected to

    '
- title: the Internet must use, and it incorporates by reference the RFCs and
  contents:
  - 'the Internet must use, and it incorporates by reference the RFCs and

    '
- title: other documents describing the current specifications for these
  contents:
  - 'other documents describing the current specifications for these

    '
- title: protocols.  It corrects errors in the referenced documents and adds
  contents:
  - 'protocols.  It corrects errors in the referenced documents and adds

    '
- title: additional discussion and guidance for an implementor.
  contents:
  - 'additional discussion and guidance for an implementor.

    '
- title: For each protocol, this final version of this memo also contains an
  contents:
  - 'For each protocol, this final version of this memo also contains an

    '
- title: explicit set of requirements, recommendations, and options.  The reader
  contents:
  - 'explicit set of requirements, recommendations, and options.  The reader

    '
- title: must understand that the list of requirements in this memo is incomplete
  contents:
  - 'must understand that the list of requirements in this memo is incomplete

    '
- title: by itself; the complete set of requirements for an Internet protocol
  contents:
  - 'by itself; the complete set of requirements for an Internet protocol

    '
- title: router is primarily defined in the standard protocol specification
  contents:
  - 'router is primarily defined in the standard protocol specification

    '
- title: documents, with the corrections, amendments, and supplements contained
  contents:
  - 'documents, with the corrections, amendments, and supplements contained

    '
- title: in this memo.
  contents:
  - 'in this memo.

    '
- title: This memo should be read in conjunction with the Requirements for
  contents:
  - 'This memo should be read in conjunction with the Requirements for

    '
- title: Internet Hosts RFCs ([INTRO:2] and [INTRO:3]).  Internet hosts and
  contents:
  - 'Internet Hosts RFCs ([INTRO:2] and [INTRO:3]).  Internet hosts and

    '
- title: routers must both be capable of originating IP datagrams and receiving
  contents:
  - 'routers must both be capable of originating IP datagrams and receiving

    '
- title: IP datagrams destined for them.  The major distinction between Internet
  contents:
  - 'IP datagrams destined for them.  The major distinction between Internet

    '
- title: hosts and routers is that routers are required to implement forwarding
  contents:
  - 'hosts and routers is that routers are required to implement forwarding

    '
- title: algorithms and Internet hosts do not require forwarding capabilities.
  contents:
  - 'algorithms and Internet hosts do not require forwarding capabilities.

    '
- title: Any Internet host acting as a router must adhere to the requirements
  contents:
  - 'Any Internet host acting as a router must adhere to the requirements

    '
- title: contained in the final version of this memo.
  contents:
  - 'contained in the final version of this memo.

    '
- title: The goal of open system interconnection dictates that routers must
  contents:
  - 'The goal of open system interconnection dictates that routers must

    '
- title: function correctly as Internet hosts when necessary.  To achieve this,
  contents:
  - 'function correctly as Internet hosts when necessary.  To achieve this,

    '
- title: this memo provides guidelines for such instances.  For simplification
  contents:
  - 'this memo provides guidelines for such instances.  For simplification

    '
- title: and ease of document updates, this memo tries to avoid overlapping
  contents:
  - 'and ease of document updates, this memo tries to avoid overlapping

    '
- title: discussions of host requirements with [INTRO:2] and [INTRO:3] and
  contents:
  - 'discussions of host requirements with [INTRO:2] and [INTRO:3] and

    '
- title: incorporates the relevant requirements of those documents by reference.
  contents:
  - 'incorporates the relevant requirements of those documents by reference.

    '
- title: In some cases the requirements stated in [INTRO:2] and [INTRO:3] are
  contents:
  - 'In some cases the requirements stated in [INTRO:2] and [INTRO:3] are

    '
- title: superseded by the final version of this document.
  contents:
  - 'superseded by the final version of this document.

    '
- title: A good-faith implementation of the protocols produced after careful
  contents:
  - 'A good-faith implementation of the protocols produced after careful

    '
- title: reading of the RFCs, with some interaction with the Internet technical
  contents:
  - 'reading of the RFCs, with some interaction with the Internet technical

    '
- title: community, and that follows good communications software engineering
  contents:
  - 'community, and that follows good communications software engineering

    '
- title: practices, should differ from the requirements of this memo in only
  contents:
  - 'practices, should differ from the requirements of this memo in only

    '
- title: minor ways.  Thus, in many cases, the requirements in this document are
  contents:
  - 'minor ways.  Thus, in many cases, the requirements in this document are

    '
- title: already stated or implied in the standard protocol documents, so that
  contents:
  - 'already stated or implied in the standard protocol documents, so that

    '
- title: their inclusion here is, in a sense, redundant.  However, they were
  contents:
  - 'their inclusion here is, in a sense, redundant.  However, they were

    '
- title: included because some past implementation has made the wrong choice,
  contents:
  - 'included because some past implementation has made the wrong choice,

    '
- title: causing problems of interoperability, performance, and/or robustness.
  contents:
  - 'causing problems of interoperability, performance, and/or robustness.

    '
- title: This memo includes discussion and explanation of many of the
  contents:
  - 'This memo includes discussion and explanation of many of the

    '
- title: requirements and recommendations.  A simple list of requirements would
  contents:
  - 'requirements and recommendations.  A simple list of requirements would

    '
- title: 'be dangerous, because:'
  contents:
  - 'be dangerous, because:

    '
- title: o  Some required features are more important than others, and some
  contents:
  - "o  Some required features are more important than others, and some\n   features\
    \ are optional.\n"
- title: o  Some features are critical in some applications of routers but
  contents:
  - "o  Some features are critical in some applications of routers but\n   irrelevant\
    \ in others.\n"
- title: o  There may be valid reasons why particular vendor products that are
  contents:
  - "o  There may be valid reasons why particular vendor products that are\n   designed\
    \ for restricted contexts might choose to use different\n   specifications.\n"
- title: However, the specifications of this memo must be followed to meet the
  contents:
  - 'However, the specifications of this memo must be followed to meet the

    '
- title: general goal of arbitrary router interoperation across the diversity and
  contents:
  - 'general goal of arbitrary router interoperation across the diversity and

    '
- title: complexity of the Internet.  Although most current implementations fail
  contents:
  - 'complexity of the Internet.  Although most current implementations fail

    '
- title: to meet these requirements in various ways, some minor and some major,
  contents:
  - 'to meet these requirements in various ways, some minor and some major,

    '
- title: this specification is the ideal towards which we need to move.
  contents:
  - 'this specification is the ideal towards which we need to move.

    '
- title: These requirements are based on the current level of Internet
  contents:
  - 'These requirements are based on the current level of Internet

    '
- title: architecture.  This memo will be updated as required to provide
  contents:
  - 'architecture.  This memo will be updated as required to provide

    '
- title: additional clarifications or to include additional information in those
  contents:
  - 'additional clarifications or to include additional information in those

    '
- title: areas in which specifications are still evolving.
  contents:
  - 'areas in which specifications are still evolving.

    '
- title: 1.1  Reading this Document
  contents:
  - '1.1  Reading this Document

    '
- title: 1.1.1  Organization
  contents:
  - "1.1.1  Organization\n      This memo emulates the layered organization used by\
    \ [INTRO:2] and\n      [INTRO:3].  Thus, Chapter 2 describes the layers found\
    \ in the\n      Internet architecture.  Chapter 3 covers the Link Layer.  Chapters\n\
    \      4 and 5 are concerned with the Internet Layer protocols and\n      forwarding\
    \ algorithms.  Chapter 6 covers the Transport Layer.\n      Upper layer protocols\
    \ are divided between Chapter 7, which\n      discusses the protocols which routers\
    \ use to exchange routing\n      information with each other, Chapter 8, which\
    \ discusses network\n      management, and Chapter 9, which discusses other upper\
    \ layer\n      protocols.  The final chapter covers operations and maintenance\n\
    \      features.  This organization was chosen for simplicity, clarity,\n    \
    \  and consistency with the Host Requirements RFCs.  Appendices to\n      this\
    \ memo include a bibliography, a glossary, and some conjectures\n      about future\
    \ directions of router standards.\n      In describing the requirements, we assume\
    \ that an implementation\n      strictly mirrors the layering of the protocols.\
    \  However, strict\n      layering is an imperfect model, both for the protocol\
    \ suite and\n      for recommended implementation approaches.  Protocols in different\n\
    \      layers interact in complex and sometimes subtle ways, and\n      particular\
    \ functions often involve multiple layers.  There are\n      many design choices\
    \ in an implementation, many of which involve\n      creative breaking of strict\
    \ layering.  Every implementor is urged\n      to read [INTRO:4] and [INTRO:5].\n\
    \      In general, each major section of this memo is organized into the\n   \
    \   following subsections:\n      (1)  Introduction\n      (2)  Protocol Walk-Through\
    \ - considers the protocol specification\n           documents section-by-section,\
    \ correcting errors, stating\n           requirements that may be ambiguous or\
    \ ill-defined, and\n           providing further clarification or explanation.\n\
    \      (3)  Specific Issues - discusses protocol design and\n           implementation\
    \ issues that were not included in the walk-\n           through.\n      Under\
    \ many of the individual topics in this memo, there is\n      parenthetical material\
    \ labeled DISCUSSION or IMPLEMENTATION. This\n      material is intended to give\
    \ a justification, clarification or\n      explanation to the preceding requirements\
    \ text.  The\n      implementation material contains suggested approaches that\
    \ an\n      implementor may want to consider.  The DISCUSSION and\n      IMPLEMENTATION\
    \ sections are not part of the standard.\n"
- title: 1.1.2  Requirements
  contents:
  - "1.1.2  Requirements\n      In this memo, the words that are used to define the\
    \ significance\n      of each particular requirement are capitalized.  These words\
    \ are:\n      o  MUST\n         This word means that the item is an absolute requirement\
    \ of the\n         specification.\n      o  MUST IMPLEMENT\n         This phrase\
    \ means that this specification requires that the\n         item be implemented,\
    \ but does not require that it be enabled by\n         default.\n      o  MUST\
    \ NOT\n         This phrase means that the item is an absolute prohibition of\n\
    \         the specification.\n      o  SHOULD\n         This word means that there\
    \ may exist valid reasons in\n         particular circumstances to ignore this\
    \ item, but the full\n         implications should be understood and the case\
    \ carefully\n         weighed before choosing a different course.\n      o  SHOULD\
    \ IMPLEMENT\n         This phrase is similar in meaning to SHOULD, but is used\
    \ when\n         we recommend that a particular feature be provided but does not\n\
    \         necessarily recommend that it be enabled by default.\n      o  SHOULD\
    \ NOT\n         This phrase means that there may exist valid reasons in\n    \
    \     particular circumstances when the described behavior is\n         acceptable\
    \ or even useful, but the full implications should be\n         understood and\
    \ the case carefully weighed before implementing\n         any behavior described\
    \ with this label.\n      o  MAY\n         This word means that this item is truly\
    \ optional.  One vendor\n         may choose to include the item because a particular\
    \ marketplace\n         requires it or because it enhances the product, for example;\n\
    \         another vendor may omit the same item.\n"
- title: 1.1.3  Compliance
  contents:
  - "1.1.3  Compliance\n      Some requirements are applicable to all routers.  Other\n\
    \      requirements are applicable only to those which implement\n      particular\
    \ features or protocols.  In the following paragraphs,\n      Relevant refers\
    \ to the union of the requirements applicable to all\n      routers and the set\
    \ of requirements applicable to a particular\n      router because of the set\
    \ of features and protocols it has\n      implemented.\n      Note that not all\
    \ Relevant requirements are stated directly in\n      this memo.  Various parts\
    \ of this memo incorporate by reference\n      sections of the Host Requirements\
    \ specification, [INTRO:2] and\n      [INTRO:3].  For purposes of determining\
    \ compliance with this memo,\n      it does not matter whether a Relevant requirement\
    \ is stated\n      directly in this memo or merely incorporated by reference from\
    \ one\n      of those documents.\n      An implementation is said to be conditionally\
    \ compliant if it\n      satisfies all of the Relevant MUST, MUST IMPLEMENT, and\
    \ MUST NOT\n      requirements.  An implementation is said to be unconditionally\n\
    \      compliant if it is conditionally compliant and also satisfies all\n   \
    \   of the Relevant SHOULD, SHOULD IMPLEMENT, and SHOULD NOT\n      requirements.\
    \  An implementation is not compliant if it is not\n      conditionally compliant\
    \ (i.e., it fails to satisfy one or more of\n      the Relevant MUST, MUST IMPLEMENT,\
    \ or MUST NOT requirements).\n      For any of the SHOULD and SHOULD NOT requirements,\
    \ a router may\n      provide a configuration option that will cause the router\
    \ to act\n      other than as specified by the requirement.  Having such a\n \
    \     configuration option does not void a router's claim to\n      unconditional\
    \ compliance as long as the option has a default\n      setting, and that leaving\
    \ the option at its default setting causes\n      the router to operate in a manner\
    \ which conforms to the\n      requirement.\n      Likewise, routers may provide,\
    \ except where explicitly prohibited\n      by this memo, options which cause\
    \ them to violate MUST or MUST NOT\n      requirements.  A router which provides\
    \ such options is compliant\n      (either fully or conditionally) if and only\
    \ if each such option\n      has a default setting which causes the router to\
    \ conform to the\n      requirements of this memo.  Please note that the authors\
    \ of this\n      memo, although aware of market realities, strongly recommend\n\
    \      against provision of such options.  Requirements are labeled MUST\n   \
    \   or MUST NOT because experts in the field have judged them to be\n      particularly\
    \ important to interoperability or proper functioning\n      in the Internet.\
    \  Vendors should weigh carefully the customer\n      support costs of providing\
    \ options which violate those rules.\n      Of course, this memo is not a complete\
    \ specification of an IP\n      router, but rather is closer to what in the OSI\
    \ world is called a\n      profile.  For example, this memo requires that a number\
    \ of\n      protocols be implemented.  Although most of the contents of their\n\
    \      protocol specifications are not repeated in this memo,\n      implementors\
    \ are nonetheless required to implement the protocols\n      according to those\
    \ specifications.\n"
- title: 1.2  Relationships to Other Standards
  contents:
  - "1.2  Relationships to Other Standards\n   There are several reference documents\
    \ of interest in checking the\n   current status of protocol specifications and\
    \ standardization:\n     o  INTERNET OFFICIAL PROTOCOL STANDARDS\n        This\
    \ document describes the Internet standards process and lists\n        the standards\
    \ status of the protocols.  As of this writing, the\n        current version of\
    \ this document is STD 1, RFC 1610, [ARCH:7].\n        This document is periodically\
    \ re-issued.  You should always\n        consult an RFC repository and use the\
    \ latest version of this\n        document.\n     o  Assigned Numbers\n      \
    \  This document lists the assigned values of the parameters used\n        in\
    \ the various protocols.  For example, IP protocol codes, TCP\n        port numbers,\
    \ Telnet Option Codes, ARP hardware types, and\n        Terminal Type names. \
    \ As of this writing, the current version of\n        this document is STD 2,\
    \ RFC 1700, [INTRO:7].  This document is\n        periodically re-issued.  You\
    \ should always consult an RFC\n        repository and use the latest version\
    \ of this document.\n     o  Host Requirements\n        This pair of documents\
    \ reviews the specifications that apply to\n        hosts and supplies guidance\
    \ and clarification for any\n        ambiguities.  Note that these requirements\
    \ also apply to\n        routers, except where otherwise specified in this memo.\
    \  As of\n        this writing (December, 1993) the current versions of these\n\
    \        documents are RFC 1122 and RFC 1123, (STD 3) [INTRO:2], and\n       \
    \ [INTRO:3] respectively.\n     o  Router Requirements (formerly Gateway Requirements)\n\
    \        This memo.\n     Note that these documents are revised and updated at\
    \ different\n     times; in case of differences between these documents, the most\n\
    \     recent must prevail.\n     These and other Internet protocol documents may\
    \ be obtained from\n     the:\n     The InterNIC\n     DS.INTERNIC.NET\n     InterNIC\
    \ Directory and Database Service\n     +1 (800) 444-4345 or +1 (619) 445-4600\n\
    \     info@internic.net\n"
- title: 1.3  General Considerations
  contents:
  - "1.3  General Considerations\n   There are several important lessons that vendors\
    \ of Internet software\n   have learned and which a new vendor should consider\
    \ seriously.\n"
- title: 1.3.1  Continuing Internet Evolution
  contents:
  - "1.3.1  Continuing Internet Evolution\n      The enormous growth of the Internet\
    \ has revealed problems of\n      management and scaling in a large datagram-based\
    \ packet\n      communication system.  These problems are being addressed, and\
    \ as\n      a result there will be continuing evolution of the specifications\n\
    \      described in this memo.  New routing protocols, algorithms, and\n     \
    \ architectures are constantly being developed.  New and additional\n      internet-layer\
    \ protocols are also constantly being devised.\n      Because routers play such\
    \ a crucial role in the Internet, and\n      because the number of routers deployed\
    \ in the Internet is much\n      smaller than the number of hosts, vendors should\
    \ expect that\n      router standards will continue to evolve much more quickly\
    \ than\n      host standards.  These changes will be carefully planned and\n \
    \     controlled since there is extensive participation in this planning\n   \
    \   by the vendors and by the organizations responsible for operation\n      of\
    \ the networks.\n      Development, evolution, and revision are characteristic\
    \ of\n      computer network protocols today, and this situation will persist\n\
    \      for some years.  A vendor who develops computer communications\n      software\
    \ for the Internet protocol suite (or any other protocol\n      suite!) and then\
    \ fails to maintain and update that software for\n      changing specifications\
    \ is going to leave a trail of unhappy\n      customers.  The Internet is a large\
    \ communication network, and the\n      users are in constant contact through\
    \ it.  Experience has shown\n      that knowledge of deficiencies in vendor software\
    \ propagates\n      quickly through the Internet technical community.\n"
- title: 1.3.2  Robustness Principle
  contents:
  - "1.3.2  Robustness Principle\n      At every layer of the protocols, there is\
    \ a general rule (from\n      [TRANS:2] by Jon Postel) whose application can lead\
    \ to enormous\n      benefits in robustness and interoperability:\n          \
    \             Be conservative in what you do,\n                  be liberal in\
    \ what you accept from others.\n      Software should be written to deal with\
    \ every conceivable error,\n      no matter how unlikely; sooner or later a packet\
    \ will come in with\n      that particular combination of errors and attributes,\
    \ and unless\n      the software is prepared, chaos can ensue.  In general, it\
    \ is best\n      to assume that the network is filled with malevolent entities\
    \ that\n      will send packets designed to have the worst possible effect.\n\
    \      This assumption will lead to suitably protective design.  The most\n  \
    \    serious problems in the Internet have been caused by unforeseen\n      mechanisms\
    \ triggered by low probability events; mere human malice\n      would never have\
    \ taken so devious a course!\n      Adaptability to change must be designed into\
    \ all levels of router\n      software.  As a simple example, consider a protocol\
    \ specification\n      that contains an enumeration of values for a particular\
    \ header\n      field - e.g., a type field, a port number, or an error code; this\n\
    \      enumeration must be assumed to be incomplete.  If the protocol\n      specification\
    \ defines four possible error codes, the software must\n      not break when a\
    \ fifth code shows up.  An undefined code might be\n      logged, but it must\
    \ not cause a failure.\n      The second part of the principle is almost as important:\
    \ software\n      on hosts or other routers may contain deficiencies that make\
    \ it\n      unwise to exploit legal but obscure protocol features.  It is\n  \
    \    unwise to stray far from the obvious and simple, lest untoward\n      effects\
    \ result elsewhere.  A corollary of this is watch out for\n      misbehaving hosts;\
    \ router software should be prepared to survive\n      in the presence of misbehaving\
    \ hosts.  An important function of\n      routers in the Internet is to limit\
    \ the amount of disruption such\n      hosts can inflict on the shared communication\
    \ facility.\n"
- title: 1.3.3  Error Logging
  contents:
  - "1.3.3  Error Logging\n      The Internet includes a great variety of systems,\
    \ each\n      implementing many protocols and protocol layers, and some of these\n\
    \      contain bugs and misfeatures in their Internet protocol software.\n   \
    \   As a result of complexity, diversity, and distribution of\n      function,\
    \ the diagnosis of problems is often very difficult.\n      Problem diagnosis\
    \ will be aided if routers include a carefully\n      designed facility for logging\
    \ erroneous or strange events.  It is\n      important to include as much diagnostic\
    \ information as possible\n      when an error is logged.  In particular, it is\
    \ often useful to\n      record the header(s) of a packet that caused an error.\
    \  However,\n      care must be taken to ensure that error logging does not consume\n\
    \      prohibitive amounts of resources or otherwise interfere with the\n    \
    \  operation of the router.\n      There is a tendency for abnormal but harmless\
    \ protocol events to\n      overflow error logging files; this can be avoided\
    \ by using a\n      circular log, or by enabling logging only while diagnosing\
    \ a known\n      failure.  It may be useful to filter and count duplicate\n  \
    \    successive messages.  One strategy that seems to work well is to\n      both:\n\
    \      o  Always count abnormalities and make such counts accessible\n       \
    \  through the management protocol (see Chapter 8); and\n      o  Allow the logging\
    \ of a great variety of events to be\n         selectively enabled.  For example,\
    \ it might useful to be able\n         to log everything or to log everything\
    \ for host X.\n      This topic is further discussed in [MGT:5].\n"
- title: 1.3.4  Configuration
  contents:
  - "1.3.4  Configuration\n      In an ideal world, routers would be easy to configure,\
    \ and perhaps\n      even entirely self-configuring.  However, practical experience\
    \ in\n      the real world suggests that this is an impossible goal, and that\n\
    \      in fact many attempts by vendors to make configuration easy\n      actually\
    \ cause customers more grief than they prevent.  As an\n      extreme example,\
    \ a router designed to come up and start routing\n      packets without requiring\
    \ any configuration information at all\n      would almost certainly choose some\
    \ incorrect parameter, possibly\n      causing serious problems on any networks\
    \ unfortunate enough to be\n      connected to it.\n      Often this memo requires\
    \ that a parameter be a configurable\n      option.  There are several reasons\
    \ for this.  In a few cases there\n      currently is some uncertainty or disagreement\
    \ about the best value\n      and it may be necessary to update the recommended\
    \ value in the\n      future.  In other cases, the value really depends on external\n\
    \      factors - e.g., the distribution of its communication load, or the\n  \
    \    speeds and topology of nearby networks - and self-tuning\n      algorithms\
    \ are unavailable and may be insufficient.  In some\n      cases, configurability\
    \ is needed because of administrative\n      requirements.\n      Finally, some\
    \ configuration options are required to communicate\n      with obsolete or incorrect\
    \ implementations of the protocols,\n      distributed without sources, that persist\
    \ in many parts of the\n      Internet.  To make correct systems coexist with\
    \ these faulty\n      systems, administrators must occasionally misconfigure the\
    \ correct\n      systems.  This problem will correct itself gradually as the faulty\n\
    \      systems are retired, but cannot be ignored by vendors.\n      When we say\
    \ that a parameter must be configurable, we do not\n      intend to require that\
    \ its value be explicitly read from a\n      configuration file at every boot\
    \ time.  For many parameters, there\n      is one value that is appropriate for\
    \ all but the most unusual\n      situations.  In such cases, it is quite reasonable\
    \ that the\n      parameter default to that value if not explicitly set.\n   \
    \   This memo requires a particular value for such defaults in some\n      cases.\
    \  The choice of default is a sensitive issue when the\n      configuration item\
    \ controls accommodation of existing, faulty,\n      systems.  If the Internet\
    \ is to converge successfully to complete\n      interoperability, the default\
    \ values built into implementations\n      must implement the official protocol,\
    \ not misconfigurations to\n      accommodate faulty implementations.  Although\
    \ marketing\n      considerations have led some vendors to choose misconfiguration\n\
    \      defaults, we urge vendors to choose defaults that will conform to\n   \
    \   the standard.\n      Finally, we note that a vendor needs to provide adequate\n\
    \      documentation on all configuration parameters, their limits and\n     \
    \ effects.\n"
- title: 1.4  Algorithms
  contents:
  - "1.4  Algorithms\n   In several places in this memo, specific algorithms that\
    \ a router\n   ought to follow are specified.  These algorithms are not, per se,\n\
    \   required of the router.  A router need not implement each algorithm\n   as\
    \ it is written in this document.  Rather, an implementation must\n   present\
    \ a behavior to the external world that is the same as a\n   strict, literal,\
    \ implementation of the specified algorithm.\n   Algorithms are described in a\
    \ manner that differs from the way a good\n   implementor would implement them.\
    \  For expository purposes, a style\n   that emphasizes conciseness, clarity,\
    \ and independence from\n   implementation details has been chosen.  A good implementor\
    \ will\n   choose algorithms and implementation methods which produce the same\n\
    \   results as these algorithms, but may be more efficient or less\n   general.\n\
    \   We note that the art of efficient router implementation is outside of\n  \
    \ the scope of this memo.\n"
- title: 2.  INTERNET ARCHITECTURE
  contents:
  - '2.  INTERNET ARCHITECTURE

    '
- title: This chapter does not contain any requirements.  However, it does
  contents:
  - 'This chapter does not contain any requirements.  However, it does

    '
- title: contain useful background information on the general architecture of the
  contents:
  - 'contain useful background information on the general architecture of the

    '
- title: Internet and of routers.
  contents:
  - 'Internet and of routers.

    '
- title: General background and discussion on the Internet architecture and
  contents:
  - 'General background and discussion on the Internet architecture and

    '
- title: supporting protocol suite can be found in the DDN Protocol Handbook
  contents:
  - 'supporting protocol suite can be found in the DDN Protocol Handbook

    '
- title: '[ARCH:1]; for background see for example [ARCH:2], [ARCH:3], and'
  contents:
  - '[ARCH:1]; for background see for example [ARCH:2], [ARCH:3], and

    '
- title: '[ARCH:4].  The Internet architecture and protocols are also covered in'
  contents:
  - '[ARCH:4].  The Internet architecture and protocols are also covered in

    '
- title: an ever-growing number of textbooks, such as [ARCH:5] and [ARCH:6].
  contents:
  - 'an ever-growing number of textbooks, such as [ARCH:5] and [ARCH:6].

    '
- title: 2.1  Introduction
  contents:
  - "2.1  Introduction\n   The Internet system consists of a number of interconnected\
    \ packet\n   networks supporting communication among host computers using the\n\
    \   Internet protocols.  These protocols include the Internet Protocol\n   (IP),\
    \ the Internet Control Message Protocol (ICMP), the Internet\n   Group Management\
    \ Protocol (IGMP), and a variety transport and\n   application protocols that\
    \ depend upon them.  As was described in\n   Section [1.2], the Internet Engineering\
    \ Steering Group periodically\n   releases an Official Protocols memo listing\
    \ all of the Internet\n   protocols.\n   All Internet protocols use IP as the\
    \ basic data transport mechanism.\n   IP is a datagram, or connectionless, internetwork\
    \ service and\n   includes provision for addressing, type-of-service specification,\n\
    \   fragmentation and reassembly, and security.  ICMP and IGMP are\n   considered\
    \ integral parts of IP, although they are architecturally\n   layered upon IP.\
    \  ICMP provides error reporting, flow control,\n   first-hop router redirection,\
    \ and other maintenance and control\n   functions.  IGMP provides the mechanisms\
    \ by which hosts and routers\n   can join and leave IP multicast groups.\n   Reliable\
    \ data delivery is provided in the Internet protocol suite by\n   Transport Layer\
    \ protocols such as the Transmission Control Protocol\n   (TCP), which provides\
    \ end-end retransmission, resequencing and\n   connection control.  Transport\
    \ Layer connectionless service is\n   provided by the User Datagram Protocol (UDP).\n"
- title: 2.2  Elements of the Architecture
  contents:
  - '2.2  Elements of the Architecture

    '
- title: 2.2.1  Protocol Layering
  contents:
  - "2.2.1  Protocol Layering\n      To communicate using the Internet system, a host\
    \ must implement\n      the layered set of protocols comprising the Internet protocol\n\
    \      suite.  A host typically must implement at least one protocol from\n  \
    \    each layer.\n      The protocol layers used in the Internet architecture\
    \ are as\n      follows [ARCH:7]:\n      o  Application Layer\n         The Application\
    \ Layer is the top layer of the Internet protocol\n         suite.  The Internet\
    \ suite does not further subdivide the\n         Application Layer, although some\
    \ application layer protocols do\n         contain some internal sub-layering.\
    \  The application layer of\n         the Internet suite essentially combines\
    \ the functions of the\n         top two layers - Presentation and Application\
    \ - of the OSI\n         Reference Model [ARCH:8].  The Application Layer in the\n\
    \         Internet protocol suite also includes some of the function\n       \
    \  relegated to the Session Layer in the OSI Reference Model.\n         We distinguish\
    \ two categories of application layer protocols:\n         user protocols that\
    \ provide service directly to users, and\n         support protocols that provide\
    \ common system functions.  The\n         most common Internet user protocols\
    \ are:\n         - Telnet (remote login)\n         - FTP (file transfer)\n   \
    \      - SMTP (electronic mail delivery)\n         There are a number of other\
    \ standardized user protocols and\n         many private user protocols.\n   \
    \      Support protocols, used for host name mapping, booting, and\n         management,\
    \ include SNMP, BOOTP, TFTP, the Domain Name System\n         (DNS) protocol,\
    \ and a variety of routing protocols.\n         Application Layer protocols relevant\
    \ to routers are discussed\n         in chapters 7, 8, and 9 of this memo.\n \
    \     o  Transport Layer\n         The Transport Layer provides end-to-end communication\
    \ services.\n         This layer is roughly equivalent to the Transport Layer\
    \ in the\n         OSI Reference Model, except that it also incorporates some\
    \ of\n         OSI's Session Layer establishment and destruction functions.\n\
    \         There are two primary Transport Layer protocols at present:\n      \
    \   - Transmission Control Protocol (TCP)\n         - User Datagram Protocol (UDP)\n\
    \         TCP is a reliable connection-oriented transport service that\n     \
    \    provides end-to-end reliability, resequencing, and flow\n         control.\
    \  UDP is a connectionless (datagram) transport service.\n         Other transport\
    \ protocols have been developed by the research\n         community, and the set\
    \ of official Internet transport protocols\n         may be expanded in the future.\n\
    \         Transport Layer protocols relevant to routers are discussed in\n   \
    \      Chapter 6.\n      o  Internet Layer\n         All Internet transport protocols\
    \ use the Internet Protocol (IP)\n         to carry data from source host to destination\
    \ host.  IP is a\n         connectionless or datagram internetwork service, providing\
    \ no\n         end-to-end delivery guarantees. IP datagrams may arrive at the\n\
    \         destination host damaged, duplicated, out of order, or not at\n    \
    \     all.  The layers above IP are responsible for reliable delivery\n      \
    \   service when it is required.  The IP protocol includes\n         provision\
    \ for addressing, type-of-service specification,\n         fragmentation and reassembly,\
    \ and security.\n         The datagram or connectionless nature of IP is a fundamental\n\
    \         and characteristic feature of the Internet architecture.\n         The\
    \ Internet Control Message Protocol (ICMP) is a control\n         protocol that\
    \ is considered to be an integral part of IP,\n         although it is architecturally\
    \ layered upon IP, i.e., it uses\n         IP to carry its data end-to-end.  ICMP\
    \ provides error\n         reporting, congestion reporting, and first-hop router\n\
    \         redirection.\n         The Internet Group Management Protocol (IGMP)\
    \ is an Internet\n         layer protocol used for establishing dynamic host groups\
    \ for IP\n         multicasting.\n         The Internet layer protocols IP, ICMP,\
    \ and IGMP are discussed\n         in chapter 4.\n      o  Link Layer\n      \
    \   To communicate on its directly-connected network, a host must\n         implement\
    \ the communication protocol used to interface to that\n         network.  We\
    \ call this a Link Layer layer protocol.\n         Some older Internet documents\
    \ refer to this layer as the\n         Network Layer, but it is not the same as\
    \ the Network Layer in\n         the OSI Reference Model.\n         This layer\
    \ contains everything below the Internet Layer.\n         Protocols in this Layer\
    \ are generally outside the scope of\n         Internet standardization; the Internet\
    \ (intentionally) uses\n         existing standards whenever possible.  Thus,\
    \ Internet Link\n         Layer standards usually address only address resolution\
    \ and\n         rules for transmitting IP packets over specific Link Layer\n \
    \        protocols.  Internet Link Layer standards are discussed in\n        \
    \ chapter 3.\n"
- title: 2.2.2  Networks
  contents:
  - "2.2.2  Networks\n      The constituent networks of the Internet system are required\
    \ to\n      provide only packet (connectionless) transport.  According to the\n\
    \      IP service specification, datagrams can be delivered out of order,\n  \
    \    be lost or duplicated, and/or contain errors.\n      For reasonable performance\
    \ of the protocols that use IP (e.g.,\n      TCP), the loss rate of the network\
    \ should be very low.  In\n      networks providing connection-oriented service,\
    \ the extra\n      reliability provided by virtual circuits enhances the end-end\n\
    \      robustness of the system, but is not necessary for Internet\n      operation.\n\
    \      Constituent networks may generally be divided into two classes:\n     \
    \   o  Local-Area Networks (LANs)\n           LANs may have a variety of designs.\
    \  In general, a LAN will\n           cover a small geographical area (e.g., a\
    \ single building or\n           plant site) and provide high bandwidth with low\
    \ delays.  LANs\n           may be passive (similar to Ethernet) or they may be\
    \ active\n           (such as ATM).\n        o  Wide-Area Networks (WANs)\n  \
    \         Geographically-dispersed hosts and LANs are interconnected by\n    \
    \       wide-area networks, also called long-haul networks.  These\n         \
    \  networks may have a complex internal structure of lines and\n           packet-switches,\
    \ or they may be as simple as point-to-point\n           lines.\n"
- title: 2.2.3  Routers
  contents:
  - "2.2.3  Routers\n      In the Internet model, constituent networks are connected\
    \ together\n      by IP datagram forwarders which are called routers or IP routers.\n\
    \      In this document, every use of the term router is equivalent to IP\n  \
    \    router.  Many older Internet documents refer to routers as\n      gateways.\n\
    \      Historically, routers have been realized with packet-switching\n      software\
    \ executing on a general-purpose CPU.  However, as custom\n      hardware development\
    \ becomes cheaper and as higher throughput is\n      required, but special-purpose\
    \ hardware is becoming increasingly\n      common.  This specification applies\
    \ to routers regardless of how\n      they are implemented.\n      A router is\
    \ connected to two or more networks, appearing to each\n      of these networks\
    \ as a connected host.  Thus, it has (at least)\n      one physical interface\
    \ and (at least) one IP address on each of\n      the connected networks (this\
    \ ignores the concept of un-numbered\n      links, which is discussed in section\
    \ [2.2.7]).  Forwarding an IP\n      datagram generally requires the router to\
    \ choose the address of\n      the next-hop router or (for the final hop) the\
    \ destination host.\n      This choice, called routing, depends upon a routing\
    \ database\n      within the router.  The routing database is also sometimes known\n\
    \      as a routing table or forwarding table.\n      The routing database should\
    \ be maintained dynamically to reflect\n      the current topology of the Internet\
    \ system.  A router normally\n      accomplishes this by participating in distributed\
    \ routing and\n      reachability algorithms with other routers.\n      Routers\
    \ provide datagram transport only, and they seek to minimize\n      the state\
    \ information necessary to sustain this service in the\n      interest of routing\
    \ flexibility and robustness.\n      Packet switching devices may also operate\
    \ at the Link Layer; such\n      devices are usually called bridges. Network segments\
    \ which are\n      connected by bridges share the same IP network number, i.e.,\
    \ they\n      logically form a single IP network.  These other devices are\n \
    \     outside of the scope of this document.\n      Another variation on the simple\
    \ model of networks connected with\n      routers sometimes occurs: a set of routers\
    \ may be interconnected\n      with only serial lines, to form a network in which\
    \ the packet\n      switching is performed at the Internetwork (IP) Layer rather\
    \ than\n      the Link Layer.\n"
- title: 2.2.4  Autonomous Systems
  contents:
  - "2.2.4  Autonomous Systems\n      For technical, managerial, and sometimes political\
    \ reasons, the\n      routers of the Internet system are grouped into collections\
    \ called\n      autonomous systems.  The routers included in a single autonomous\n\
    \      system (AS) are expected to:\n      o  Be under the control of a single\
    \ operations and maintenance\n         (O&M) organization;\n      o  Employ common\
    \ routing protocols among themselves, to\n         dynamically maintain their\
    \ routing databases.\n      A number of different dynamic routing protocols have\
    \ been\n      developed (see Section [7.2]); the routing protocol within a\n \
    \     single AS is generically called an interior gateway protocol or\n      IGP.\n\
    \      An IP datagram may have to traverse the routers of two or more ASs\n  \
    \    to reach its destination, and the ASs must provide each other with\n    \
    \  topology information to allow such forwarding.  An exterior\n      gateway\
    \ protocol (generally BGP or EGP) is used for this purpose.\n"
- title: 2.2.5  Addresses and Subnets
  contents:
  - "2.2.5  Addresses and Subnets\n      An IP datagram carries 32-bit source and\
    \ destination addresses,\n      each of which is partitioned into two parts -\
    \ a constituent\n      network number and a host number on that network.  Symbolically:\n\
    \         IP-address  ::=  { <Network-number>, <Host-number> }\n      To finally\
    \ deliver the datagram, the last router in its path must\n      map the Host-number\
    \ (or rest) part of an IP address into the\n      physical address of a host connection\
    \ to the constituent network.\n      This simple notion has been extended by the\
    \ concept of subnets,\n      which were introduced in order to allow arbitrary\
    \ complexity of\n      interconnected LAN structures within an organization, while\n\
    \      insulating the Internet system against explosive growth in network\n  \
    \    numbers and routing complexity.  Subnets essentially provide a\n      multi-level\
    \ hierarchical routing structure for the Internet\n      system.  The subnet extension,\
    \ described in [INTERNET:2], is now a\n      required part of the Internet architecture.\
    \  The basic idea is to\n      partition the <Host-number> field into two parts:\
    \ a subnet number,\n      and a true host number on that subnet:\n         IP-address\
    \  ::=\n           { <Network-number>, <Subnet-number>, <Host-number> }\n    \
    \  The interconnected physical networks within an organization will\n      be\
    \ given the same network number but different subnet numbers.\n      The distinction\
    \ between the subnets of such a subnetted network is\n      normally not visible\
    \ outside of that network.  Thus, routing in\n      the rest of the Internet will\
    \ be based only upon the <Network-\n      number> part of the IP destination address;\
    \ routers outside the\n      network will combine <Subnet-number> and <Host-number>\
    \ together to\n      form an uninterpreted rest part of the 32-bit IP address.\
    \  Within\n      the subnetted network, the routers must route on the basis of\
    \ an\n      extended network number:\n         { <Network-number>, <Subnet-number>\
    \ }\n      Under certain circumstances, it may be desirable to support\n     \
    \ subnets of a particular network being interconnected only via a\n      path\
    \ which is not part of the subnetted network.  Even though many\n      IGP's and\
    \ no EGP's currently support this configuration\n      effectively, routers need\
    \ to be able to support this configuration\n      of subnetting (see Section [4.2.3.4]).\
    \  In general, routers should\n      not make assumptions about what are subnets\
    \ and what are not, but\n      simply ignore the concept of Class in networks,\
    \ and treat each\n      route as a { network, mask }-tuple.\n      DISCUSSION:\n\
    \         It is becoming clear that as the Internet grows larger and\n       \
    \  larger, the traditional uses of Class A, B, and C networks will\n         be\
    \ modified in order to achieve better use of IP's 32-bit\n         address space.\
    \  Classless Interdomain Routing (CIDR)\n         [INTERNET:15] is a method currently\
    \ being deployed in the\n         Internet backbones to achieve this added efficiency.\
    \  CIDR\n         depends on the ability of assigning and routing to networks\n\
    \         that are not based on Class A, B, or C networks.  Thus, routers\n  \
    \       should always treat a route as a network with a mask.\n      Furthermore,\
    \ for similar reasons, a subnetted network need not\n      have a consistent subnet\
    \ mask through all parts of the network.\n      For example, one subnet may use\
    \ an 8 bit subnet mask, another 10\n      bit, and another 6 bit.  Routers need\
    \ to be able to support this\n      type of configuration (see Section [4.2.3.4]).\n\
    \      The bit positions containing this extended network number are\n      indicated\
    \ by a 32-bit mask called the subnet mask; it is\n      recommended but not required\
    \ that the <Subnet-number> bits be\n      contiguous and fall between the <Network-number>\
    \ and the <Host-\n      number> fields.  No subnet should be assigned the value\
    \ zero or -1\n      (all one bits).\n      Although the inventors of the subnet\
    \ mechanism probably expected\n      that each piece of an organization's network\
    \ would have only a\n      single subnet number, in practice it has often proven\
    \ necessary or\n      useful to have several subnets share a single physical cable.\n\
    \      There are special considerations for the router when a connected\n    \
    \  network provides a broadcast or multicast capability; these will\n      be\
    \ discussed later.\n"
- title: 2.2.6  IP Multicasting
  contents:
  - "2.2.6  IP Multicasting\n      IP multicasting is an extension of Link Layer multicast\
    \ to IP\n      internets.  Using IP multicasts, a single datagram can be\n   \
    \   addressed to multiple hosts. This collection of hosts is called a\n      multicast\
    \ group.  Each multicast group is represented as a Class D\n      IP address.\
    \  An IP datagram sent to the group is to be delivered\n      to each group member\
    \ with the same best-effort delivery as that\n      provided for unicast IP traffic.\
    \  The sender of the datagram does\n      not itself need to be a member of the\
    \ destination group.\n      The semantics of IP multicast group membership are\
    \ defined in\n      [INTERNET:4].  That document describes how hosts and routers\
    \ join\n      and leave multicast groups.  It also defines a protocol, the\n \
    \     Internet Group Management Protocol (IGMP), that monitors IP\n      multicast\
    \ group membership.\n      Forwarding of IP multicast datagrams is accomplished\
    \ either\n      through static routing information or via a multicast routing\n\
    \      protocol.  Devices that forward IP multicast datagrams are called\n   \
    \   multicast routers. They may or may not also forward IP unicasts.\n      In\
    \ general, multicast datagrams are forwarded on the basis of both\n      their\
    \ source and destination addresses.  Forwarding of IP\n      multicast packets\
    \ is described in more detail in Section [5.2.1].\n      Appendix D discusses\
    \ multicast routing protocols.\n"
- title: 2.2.7  Unnumbered Lines and Networks and Subnets
  contents:
  - "2.2.7  Unnumbered Lines and Networks and Subnets\n      Traditionally, each network\
    \ interface on an IP host or router has\n      its own IP address.  Over the years,\
    \ people have observed that\n      this can cause inefficient use of the scarce\
    \ IP address space,\n      since it forces allocation of an IP network number,\
    \ or at least a\n      subnet number, to every point-to-point link.\n      To\
    \ solve this problem, a number of people have proposed and\n      implemented\
    \ the concept of unnumbered serial lines.  An unnumbered\n      serial line does\
    \ not have any IP network or subnet number\n      associated with it.  As a consequence,\
    \ the network interfaces\n      connected to an unnumbered serial line do not\
    \ have IP addresses.\n      Because the IP architecture has traditionally assumed\
    \ that all\n      interfaces had IP addresses, these unnumbered interfaces cause\n\
    \      some interesting dilemmas.  For example, some IP options (e.g.\n      Record\
    \ Route) specify that a router must insert the interface\n      address into the\
    \ option, but an unnumbered interface has no IP\n      address.  Even more fundamental\
    \ (as we shall see in chapter 5) is\n      that routes contain the IP address\
    \ of the next hop router.  A\n      router expects that that IP address will be\
    \ on an IP (sub)net that\n      the router is connected to.  That assumption is\
    \ of course violated\n      if the only connection is an unnumbered serial line.\n\
    \      To get around these difficulties, two schemes have been invented.\n   \
    \   The first scheme says that two routers connected by an unnumbered\n      serial\
    \ line aren't really two routers at all, but rather two\n      half-routers which\
    \ together make up a single (virtual) router.\n      The unnumbered serial line\
    \ is essentially considered to be an\n      internal bus in the virtual router.\
    \  The two halves of the virtual\n      router must coordinate their activities\
    \ in such a way that they\n      act exactly like a single router.\n      This\
    \ scheme fits in well with the IP architecture, but suffers\n      from two important\
    \ drawbacks.  The first is that, although it\n      handles the common case of\
    \ a single unnumbered serial line, it is\n      not readily extensible to handle\
    \ the case of a mesh of routers and\n      unnumbered serial lines.  The second\
    \ drawback is that the\n      interactions between the half routers are necessarily\
    \ complex and\n      are not standardized, effectively precluding the connection\
    \ of\n      equipment from different vendors using unnumbered serial lines.\n\
    \      Because of these drawbacks, this memo has adopted an alternative\n    \
    \  scheme, which has been invented multiple times but which is\n      probably\
    \ originally attributable to Phil Karn.  In this scheme, a\n      router which\
    \ has unnumbered serial lines also has a special IP\n      address, called a router-id\
    \ in this memo.  The router-id is one of\n      the router's IP addresses (a router\
    \ is required to have at least\n      one IP address).  This router-id is used\
    \ as if it is the IP\n      address of all unnumbered interfaces.\n"
- title: 2.2.8  Notable Oddities
  contents:
  - '2.2.8  Notable Oddities

    '
- title: 2.2.8.1  Embedded Routers
  contents:
  - "2.2.8.1  Embedded Routers\n         A router may be a stand-alone computer system,\
    \ dedicated to its\n         IP router functions.  Alternatively, it is possible\
    \ to embed\n         router functions within a host operating system which supports\n\
    \         connections to two or more networks.  The best-known example of\n  \
    \       an operating system with embedded router code is the Berkeley\n      \
    \   BSD system.  The embedded router feature seems to make\n         internetting\
    \ easy, but it has a number of hidden pitfalls:\n         (1)  If a host has only\
    \ a single constituent-network interface,\n              it should not act as\
    \ a router.\n              For example, hosts with embedded router code that\n\
    \              gratuitously forward broadcast packets or datagrams on the\n  \
    \            same net often cause packet avalanches.\n         (2)  If a (multihomed)\
    \ host acts as a router, it must implement\n              ALL the relevant router\
    \ requirements contained in this\n              document.\n              For example,\
    \ the routing protocol issues and the router\n              control and monitoring\
    \ problems are as hard and important\n              for embedded routers as for\
    \ stand-alone routers.\n              Since Internet router requirements and specifications\
    \ may\n              change independently of operating system changes, an\n  \
    \            administration that operates an embedded router in the\n        \
    \      Internet is strongly advised to have the ability to\n              maintain\
    \ and update the router code (e.g., this might\n              require router code\
    \ source).\n         (3)  Once a host runs embedded router code, it becomes part\
    \ of\n              the Internet system.  Thus, errors in software or\n      \
    \        configuration can hinder communication between other\n              hosts.\
    \  As a consequence, the host administrator must lose\n              some autonomy.\n\
    \              In many circumstances, a host administrator will need to\n    \
    \          disable router code embedded in the operating system, and\n       \
    \       any embedded router code must be organized so that it can\n          \
    \    be easily disabled.\n         (4)  If a host running embedded router code\
    \ is concurrently\n              used for other services, the O&M (Operation and\n\
    \              Maintenance) requirements for the two modes of use may be\n   \
    \           in serious conflict.\n              For example, router O&M will in\
    \ many cases be performed\n              remotely by an operations center; this\
    \ may require\n              privileged system access which the host administrator\n\
    \              would not normally want to distribute.\n"
- title: 2.2.8.2  Transparent Routers
  contents:
  - "2.2.8.2  Transparent Routers\n         There are two basic models for interconnecting\
    \ local-area\n         networks and wide-area (or long-haul) networks in the Internet.\n\
    \         In the first, the local-area network is assigned a network\n       \
    \  number and all routers in the Internet must know how to route\n         to\
    \ that network.  In the second, the local-area network shares\n         (a small\
    \ part of) the address space of the wide-area network.\n         Routers that\
    \ support this second model are called address\n         sharing routers or transparent\
    \ routers.  The focus of this memo\n         is on routers that support the first\
    \ model, but this is not\n         intended to exclude the use of transparent\
    \ routers.\n         The basic idea of a transparent router is that the hosts\
    \ on the\n         local-area network behind such a router share the address space\n\
    \         of the wide-area network in front of the router.  In certain\n     \
    \    situations this is a very useful approach and the limitations\n         do\
    \ not present significant drawbacks.\n         The words in front and behind indicate\
    \ one of the limitations\n         of this approach: this model of interconnection\
    \ is suitable\n         only for a geographically (and topologically) limited\
    \ stub\n         environment.  It requires that there be some form of logical\n\
    \         addressing in the network level addressing of the wide-area\n      \
    \   network.  All of the IP addresses in the local environment map\n         to\
    \ a few (usually one) physical address in the wide-area\n         network.  This\
    \ mapping occurs in a way consistent with the { IP\n         address <-> network\
    \ address } mapping used throughout the\n         wide-area network.\n       \
    \  Multihoming is possible on one wide-area network, but may\n         present\
    \ routing problems if the interfaces are geographically\n         or topologically\
    \ separated.  Multihoming on two (or more)\n         wide-area networks is a problem\
    \ due to the confusion of\n         addresses.\n         The behavior that hosts\
    \ see from other hosts in what is\n         apparently the same network may differ\
    \ if the transparent\n         router cannot fully emulate the normal wide-area\
    \ network\n         service.  For example, the ARPANET used a Link Layer protocol\n\
    \         that provided a Destination Dead indication in response to an\n    \
    \     attempt to send to a host which was powered off.  However, if\n        \
    \ there were a transparent router between the ARPANET and an\n         Ethernet,\
    \ a host on the ARPANET would not receive a Destination\n         Dead indication\
    \ if it sent a datagram to a host that was\n         powered off and was connected\
    \ to the ARPANET via the\n         transparent router instead of directly.\n"
- title: 2.3  Router Characteristics
  contents:
  - "2.3  Router Characteristics\n   An Internet router performs the following functions:\n\
    \   (1)  Conforms to specific Internet protocols specified in this\n        document,\
    \ including the Internet Protocol (IP), Internet Control\n        Message Protocol\
    \ (ICMP), and others as necessary.\n   (2)  Interfaces to two or more packet networks.\
    \  For each connected\n        network the router must implement the functions\
    \ required by that\n        network.  These functions typically include:\n   \
    \     o  Encapsulating and decapsulating the IP datagrams with the\n         \
    \  connected network framing (e.g., an Ethernet header and\n           checksum),\n\
    \        o  Sending and receiving IP datagrams up to the maximum size\n      \
    \     supported by that network, this size is the network's Maximum\n        \
    \   Transmission Unit or MTU,\n        o  Translating the IP destination address\
    \ into an appropriate\n           network-level address for the connected network\
    \ (e.g., an\n           Ethernet hardware address), if needed, and\n        o\
    \  Responding to the network flow control and error indication,\n           if\
    \ any.\n        See chapter 3 (Link Layer).\n   (3)  Receives and forwards Internet\
    \ datagrams.  Important issues in\n        this process are buffer management,\
    \ congestion control, and\n        fairness.\n        o  Recognizes various error\
    \ conditions and generates ICMP error\n           and information messages as\
    \ required.\n        o  Drops datagrams whose time-to-live fields have reached\
    \ zero.\n        o  Fragments datagrams when necessary to fit into the MTU of\
    \ the\n           next network.\n        See chapter 4 (Internet Layer - Protocols)\
    \ and chapter 5\n        (Internet Layer - Forwarding) for more information.\n\
    \   (4)  Chooses a next-hop destination for each IP datagram, based on\n     \
    \   the information in its routing database.  See chapter 5\n        (Internet\
    \ Layer - Forwarding) for more information.\n   (5)  (Usually) supports an interior\
    \ gateway protocol (IGP) to carry\n        out distributed routing and reachability\
    \ algorithms with the\n        other routers in the same autonomous system.  In\
    \ addition, some\n        routers will need to support an exterior gateway protocol\
    \ (EGP)\n        to exchange topological information with other autonomous\n \
    \       systems.  See chapter 7 (Application Layer - Routing Protocols)\n    \
    \    for more information.\n   (6)  Provides network management and system support\
    \ facilities,\n        including loading, debugging, status reporting, exception\n\
    \        reporting and control.  See chapter 8 (Application Layer -\n        Network\
    \ Management Protocols) and chapter 10 (Operation and\n        Maintenance) for\
    \ more information.\n   A router vendor will have many choices on power, complexity,\
    \ and\n   features for a particular router product.  It may be helpful to\n  \
    \ observe that the Internet system is neither homogeneous nor fully-\n   connected.\
    \  For reasons of technology and geography it is growing\n   into a global interconnect\
    \ system plus a fringe of LANs around the\n   edge. More and more these fringe\
    \ LANs are becoming richly\n   interconnected, thus making them less out on the\
    \ fringe and more\n   demanding on router requirements.\n   o  The global interconnect\
    \ system is comprised of a number of wide-\n      area networks to which are attached\
    \ routers of several Autonomous\n      Systems (AS); there are relatively few\
    \ hosts connected directly to\n      the system.\n   o  Most hosts are connected\
    \ to LANs.  Many organizations have\n      clusters of LANs interconnected by\
    \ local routers.  Each such\n      cluster is connected by routers at one or more\
    \ points into the\n      global interconnect system.  If it is connected at only\
    \ one point,\n      a LAN is known as a stub network.\n   Routers in the global\
    \ interconnect system generally require:\n   o  Advanced Routing and Forwarding\
    \ Algorithms\n      These routers need routing algorithms which are highly dynamic\
    \ and\n      also offer type-of-service routing.  Congestion is still not a\n\
    \      completely resolved issue (see Section [5.3.6]).  Improvements in\n   \
    \   these areas are expected, as the research community is actively\n      working\
    \ on these issues.\n   o  High Availability\n      These routers need to be highly\
    \ reliable, providing 24 hours a\n      day, 7 days a week service.  Equipment\
    \ and software faults can\n      have a wide-spread (sometimes global) effect.\
    \  In case of failure,\n      they must recover quickly.  In any environment,\
    \ a router must be\n      highly robust and able to operate, possibly in a degraded\
    \ state,\n      under conditions of extreme congestion or failure of network\n\
    \      resources.\n   o  Advanced O&M Features\n      Internet routers normally\
    \ operate in an unattended mode.  They\n      will typically be operated remotely\
    \ from a centralized monitoring\n      center.  They need to provide sophisticated\
    \ means for monitoring\n      and measuring traffic and other events and for diagnosing\
    \ faults.\n   o  High Performance\n      Long-haul lines in the Internet today\
    \ are most frequently 56 Kbps,\n      DS1 (1.4Mbps), and DS3 (45Mbps) speeds.\
    \  LANs are typically\n      Ethernet (10Mbps) and, to a lesser degree, FDDI (100Mbps).\n\
    \      However, network media technology is constantly advancing and even\n  \
    \    higher speeds are likely in the future.  Full-duplex operation is\n     \
    \ provided at all of these speeds.\n   The requirements for routers used in the\
    \ LAN fringe (e.g., campus\n   networks) depend greatly on the demands of the\
    \ local networks.  These\n   may be high or medium-performance devices, probably\
    \ competitively\n   procured from several different vendors and operated by an\
    \ internal\n   organization (e.g., a campus computing center).  The design of\
    \ these\n   routers should emphasize low average latency and good burst\n   performance,\
    \ together with delay and type-of-service sensitive\n   resource management. In\
    \ this environment there may be less formal O&M\n   but it will not be less important.\
    \  The need for the routing\n   mechanism to be highly dynamic will become more\
    \ important as networks\n   become more complex and interconnected.  Users will\
    \ demand more out\n   of their local connections because of the speed of the global\n\
    \   interconnects.\n   As networks have grown, and as more networks have become\
    \ old enough\n   that they are phasing out older equipment, it has become increasingly\n\
    \   imperative that routers interoperate with routers from other vendors.\n  \
    \ Even though the Internet system is not fully interconnected, many\n   parts\
    \ of the system need to have redundant connectivity.  Rich\n   connectivity allows\
    \ reliable service despite failures of\n   communication lines and routers, and\
    \ it can also improve service by\n   shortening Internet paths and by providing\
    \ additional capacity.\n   Unfortunately, this richer topology can make it much\
    \ more difficult\n   to choose the best path to a particular destination.\n"
- title: 2.4  Architectural Assumptions
  contents:
  - "2.4  Architectural Assumptions\n   The current Internet architecture is based\
    \ on a set of assumptions\n   about the communication system.  The assumptions\
    \ most relevant to\n   routers are as follows:\n   o  The Internet is a network\
    \ of networks.\n      Each host is directly connected to some particular network(s);\
    \ its\n      connection to the Internet is only conceptual.  Two hosts on the\n\
    \      same network communicate with each other using the same set of\n      protocols\
    \ that they would use to communicate with hosts on distant\n      networks.\n\
    \   o  Routers don't keep connection state information.\n      To improve the\
    \ robustness of the communication system, routers are\n      designed to be stateless,\
    \ forwarding each IP packet independently\n      of other packets.  As a result,\
    \ redundant paths can be exploited\n      to provide robust service in spite of\
    \ failures of intervening\n      routers and networks.\n      All state information\
    \ required for end-to-end flow control and\n      reliability is implemented in\
    \ the hosts, in the transport layer or\n      in application programs.  All connection\
    \ control information is\n      thus co-located with the end points of the communication,\
    \ so it\n      will be lost only if an end point fails.  Routers effect flow\n\
    \      control only indirectly, by dropping packets or increasing network\n  \
    \    delay.\n      Note that future protocol developments may well end up putting\n\
    \      some more state into routers.  This is especially likely for\n      resource\
    \ reservation and flows.\n   o  Routing complexity should be in the routers.\n\
    \      Routing is a complex and difficult problem, and ought to be\n      performed\
    \ by the routers, not the hosts.  An important objective\n      is to insulate\
    \ host software from changes caused by the inevitable\n      evolution of the\
    \ Internet routing architecture.\n   o  The system must tolerate wide network\
    \ variation.\n      A basic objective of the Internet design is to tolerate a\
    \ wide\n      range of network characteristics - e.g., bandwidth, delay, packet\n\
    \      loss, packet reordering, and maximum packet size.  Another\n      objective\
    \ is robustness against failure of individual networks,\n      routers, and hosts,\
    \ using whatever bandwidth is still available.\n      Finally, the goal is full\
    \ open system interconnection: an Internet\n      router must be able to interoperate\
    \ robustly and effectively with\n      any other router or Internet host, across\
    \ diverse Internet paths.\n      Sometimes implementors have designed for less\
    \ ambitious goals.\n      For example, the LAN environment is typically much more\
    \ benign\n      than the Internet as a whole; LANs have low packet loss and delay\n\
    \      and do not reorder packets.  Some vendors have fielded\n      implementations\
    \ that are adequate for a simple LAN environment,\n      but work badly for general\
    \ interoperation.  The vendor justifies\n      such a product as being economical\
    \ within the restricted LAN\n      market.  However, isolated LANs seldom stay\
    \ isolated for long;\n      they are soon connected to each other, to organization-wide\n\
    \      internets, and eventually to the global Internet system.  In the\n    \
    \  end, neither the customer nor the vendor is served by incomplete\n      or\
    \ substandard routers.\n      The requirements spelled out in this document are\
    \ designed for a\n      full-function router.  It is intended that fully compliant\
    \ routers\n      will be usable in almost any part of the Internet.\n"
- title: 3.  LINK LAYER
  contents:
  - '3.  LINK LAYER

    '
- title: Although  [INTRO:1] covers Link Layer standards (IP over foo, ARP,
  contents:
  - 'Although  [INTRO:1] covers Link Layer standards (IP over foo, ARP,

    '
- title: etc.), this document anticipates that Link-Layer material will be
  contents:
  - 'etc.), this document anticipates that Link-Layer material will be

    '
- title: covered in a separate Link Layer Requirements document.  A Link-Layer
  contents:
  - 'covered in a separate Link Layer Requirements document.  A Link-Layer

    '
- title: requirements document would be applicable to both hosts and routers.
  contents:
  - 'requirements document would be applicable to both hosts and routers.

    '
- title: Thus, this document will not obsolete the parts of [INTRO:1] that deal
  contents:
  - 'Thus, this document will not obsolete the parts of [INTRO:1] that deal

    '
- title: with link-layer issues.
  contents:
  - 'with link-layer issues.

    '
- title: 3.1  INTRODUCTION
  contents:
  - "3.1  INTRODUCTION\n   Routers have essentially the same Link Layer protocol requirements\
    \ as\n   other sorts of Internet systems.  These requirements are given in\n \
    \  chapter 3 of Requirements for Internet Gateways [INTRO:1].  A router\n   MUST\
    \ comply with its requirements and SHOULD comply with its\n   recommendations.\
    \  Since some of the material in that document has\n   become somewhat dated,\
    \ some additional requirements and explanations\n   are included below.\n   DISCUSSION:\n\
    \      It is expected that the Internet community will produce a\n      Requirements\
    \ for Internet Link Layer standard which will supersede\n      both this chapter\
    \ and chapter 3 of [INTRO:1].\n"
- title: 3.2  LINK/INTERNET LAYER INTERFACE
  contents:
  - "3.2  LINK/INTERNET LAYER INTERFACE\n   Although this document does not attempt\
    \ to specify the interface\n   between the Link Layer and the upper layers, it\
    \ is worth noting here\n   that other parts of this document, particularly chapter\
    \ 5, require\n   various sorts of information to be passed across this layer boundary.\n\
    \   This section uses the following definitions:\n   o  Source physical address\n\
    \      The source physical address is the Link Layer address of the host\n   \
    \   or router from which the packet was received.\n   o  Destination physical\
    \ address\n      The destination physical address is the Link Layer address to\n\
    \      which the packet was sent.\n   The information that must pass from the\
    \ Link Layer to the\n   Internetwork Layer for each received packet is:\n   (1)\
    \  The IP packet [5.2.2],\n   (2)  The length of the data portion (i.e., not including\
    \ the Link-\n        Layer framing) of the Link Layer frame [5.2.2],\n   (3) \
    \ The identity of the physical interface from which the IP packet\n        was\
    \ received [5.2.3], and\n   (4)  The classification of the packet's destination\
    \ physical address\n        as a Link Layer unicast, broadcast, or multicast [4.3.2],\n\
    \        [5.3.4].\n   In addition, the Link Layer also should provide:\n   (5)\
    \  The source physical address.\n   The information that must pass from the Internetwork\
    \ Layer to the\n   Link Layer for each transmitted packet is:\n   (1)  The IP\
    \ packet [5.2.1]\n   (2)  The length of the IP packet [5.2.1]\n   (3)  The destination\
    \ physical interface [5.2.1]\n   (4)  The next hop IP address [5.2.1]\n   In addition,\
    \ the Internetwork Layer also should provide:\n   (5)  The Link Layer priority\
    \ value [5.3.3.2]\n   The Link Layer must also notify the Internetwork Layer if\
    \ the packet\n   to be transmitted causes a Link Layer precedence-related error\n\
    \   [5.3.3.3].\n"
- title: 3.3  SPECIFIC ISSUES
  contents:
  - '3.3  SPECIFIC ISSUES

    '
- title: 3.3.1  Trailer Encapsulation
  contents:
  - "3.3.1  Trailer Encapsulation\n      Routers which can connect to 10Mb Ethernets\
    \ MAY be able to receive\n      and forward Ethernet packets encapsulated using\
    \ the trailer\n      encapsulation described in [LINK:1].  However, a router SHOULD\
    \ NOT\n      originate trailer encapsulated packets.  A router MUST NOT\n    \
    \  originate trailer encapsulated packets without first verifying,\n      using\
    \ the mechanism described in section 2.3.1 of [INTRO:2], that\n      the immediate\
    \ destination of the packet is willing and able to\n      accept trailer-encapsulated\
    \ packets.  A router SHOULD NOT agree\n      (using these same mechanisms) to\
    \ accept trailer-encapsulated\n      packets.\n"
- title: 3.3.2  Address Resolution Protocol - ARP
  contents:
  - "3.3.2  Address Resolution Protocol - ARP\n      Routers which implement ARP MUST\
    \ be compliant and SHOULD be\n      unconditionally compliant with the requirements\
    \ in section 2.3.2\n      of [INTRO:2].\n      The link layer MUST NOT report\
    \ a Destination Unreachable error to\n      IP solely because there is no ARP\
    \ cache entry for a destination.\n      A router MUST not believe any ARP reply\
    \ which claims that the Link\n      Layer address of another host or router is\
    \ a broadcast or\n      multicast address.\n"
- title: 3.3.3  Ethernet and 802.3 Coexistence
  contents:
  - "3.3.3  Ethernet and 802.3 Coexistence\n      Routers which can connect to 10Mb\
    \ Ethernets MUST be compliant and\n      SHOULD be unconditionally compliant with\
    \ the requirements of\n      Section [2.3.3] of [INTRO:2].\n"
- title: 3.3.4  Maximum Transmission Unit - MTU
  contents:
  - "3.3.4  Maximum Transmission Unit - MTU\n      The MTU of each logical interface\
    \ MUST be configurable.\n      Many Link Layer protocols define a maximum frame\
    \ size that may be\n      sent.  In such cases, a router MUST NOT allow an MTU\
    \ to be set\n      which would allow sending of frames larger than those allowed\
    \ by\n      the Link Layer protocol.  However, a router SHOULD be willing to\n\
    \      receive a packet as large as the maximum frame size even if that\n    \
    \  is larger than the MTU.\n      DISCUSSION:\n         Note that this is a stricter\
    \ requirement than imposed on hosts\n         by [INTRO:2], which requires that\
    \ the MTU of each physical\n         interface be configurable.\n         If a\
    \ network is using an MTU smaller than the maximum frame\n         size for the\
    \ Link Layer, a router may receive packets larger\n         than the MTU from\
    \ hosts which are in the process of\n         initializing themselves, or which\
    \ have been misconfigured.\n         In general, the Robustness Principle indicates\
    \ that these\n         packets should be successfully received, if at all possible.\n"
- title: 3.3.5  Point-to-Point Protocol - PPP
  contents:
  - "3.3.5  Point-to-Point Protocol - PPP\n      Contrary to [INTRO:1], the Internet\
    \ does have a standard serial\n      line protocol: the Point-to-Point Protocol\
    \ (PPP), defined in\n      [LINK:2], [LINK:3], [LINK:4], and [LINK:5].\n     \
    \ A serial line interface is any interface which is designed to send\n      data\
    \ over a telephone, leased, dedicated or direct line (either 2\n      or 4 wire)\
    \ using a standardized modem or bit serial interface\n      (such as RS-232, RS-449\
    \ or V.35), using either synchronous or\n      asynchronous clocking.\n      A\
    \ general purpose serial interface is a serial line interface\n      which is\
    \ not solely for use as an access line to a network for\n      which an alternative\
    \ IP link layer specification exists (such as\n      X.25 or Frame Relay).\n \
    \     Routers which contain such general purpose serial interfaces MUST\n    \
    \  implement PPP.\n      PPP MUST be supported on all general purpose serial interfaces\
    \ on\n      a router.  The router MAY allow the line to be configured to use\n\
    \      serial line protocols other than PPP, all general purpose serial\n    \
    \  interfaces MUST default to using PPP.\n"
- title: 3.3.5.1  Introduction
  contents:
  - "3.3.5.1  Introduction\n         This section provides guidelines to router implementors\
    \ so that\n         they can ensure interoperability with other routers using\
    \ PPP\n         over either synchronous or asynchronous links.\n         It is\
    \ critical that an implementor understand the semantics of\n         the option\
    \ negotiation mechanism.  Options are a means for a\n         local device to\
    \ indicate to a remote peer what the local device\n         will *accept* from\
    \ the remote peer, not what it wishes to send.\n         It is up to the remote\
    \ peer to decide what is most convenient\n         to send within the confines\
    \ of the set of options that the\n         local device has stated that it can\
    \ accept.  Therefore it is\n         perfectly acceptable and normal for a remote\
    \ peer to ACK all\n         the options indicated in an LCP Configuration Request\
    \ (CR) even\n         if the remote peer does not support any of those options.\n\
    \         Again, the options are simply a mechanism for either device to\n   \
    \      indicate to its peer what it will accept, not necessarily what\n      \
    \   it will send.\n"
- title: 3.3.5.2  Link Control Protocol (LCP) Options
  contents:
  - "3.3.5.2  Link Control Protocol (LCP) Options\n         The PPP Link Control Protocol\
    \ (LCP) offers a number of options\n         that may be negotiated.  These options\
    \ include (among others)\n         address and control field compression, protocol\
    \ field\n         compression, asynchronous character map, Maximum Receive Unit\n\
    \         (MRU), Link Quality Monitoring (LQM), magic number (for\n         loopback\
    \ detection), Password Authentication Protocol (PAP),\n         Challenge Handshake\
    \ Authentication Protocol (CHAP), and the\n         32-bit Frame Check Sequence\
    \ (FCS).\n         A router MAY do address/control field compression on either\n\
    \         synchronous or asynchronous links.  A router MAY do protocol\n     \
    \    field compression on either synchronous or asynchronous links.\n        \
    \ A router MAY indicate that it can accept these compressions,\n         but MUST\
    \ be able to accept uncompressed PPP header information\n         even if it has\
    \ indicated a willingness to receive compressed\n         PPP headers.\n     \
    \    DISCUSSION:\n            These options control the appearance of the PPP\
    \ header.\n            Normally the PPP header consists of the address field (one\n\
    \            byte containing the value 0xff), the control field (one byte\n  \
    \          containing the value 0x03), and the two-byte protocol field\n     \
    \       that identifies the contents of the data area of the frame.\n        \
    \    If a system negotiates address and control field compression\n          \
    \  it indicates to its peer that it will accept PPP frames that\n            have\
    \ or do not have these fields at the front of the header.\n            It does\
    \ not indicate that it will be sending frames with\n            these fields removed.\
    \  The protocol field may also be\n            compressed from two to one byte\
    \ in most cases.\n         IMPLEMENTATION:\n            Some hardware does not\
    \ deal well with variable length header\n            information.  In those cases\
    \ it makes most sense for the\n            remote peer to send the full PPP header.\
    \  Implementations\n            may ensure this by not sending the address/control\
    \ field and\n            protocol field compression options to the remote peer.\
    \  Even\n            if the remote peer has indicated an ability to receive\n\
    \            compressed headers there is no requirement for the local\n      \
    \      router to send compressed headers.\n         A router MUST negotiate the\
    \ Async Control Character Map (ACCM)\n         for asynchronous PPP links, but\
    \ SHOULD NOT negotiate the ACCM\n         for synchronous links.  If a router\
    \ receives an attempt to\n         negotiate the ACCM over a synchronous link,\
    \ it MUST ACKnowledge\n         the option and then ignore it.\n         DISCUSSION:\n\
    \            There are implementations that offer both sync and async\n      \
    \      modes of operation and may use the same code to implement\n           \
    \ the option negotiation.  In this situation it is possible\n            that\
    \ one end or the other may send the ACCM option on a\n            synchronous\
    \ link.\n         A router SHOULD properly negotiate the maximum receive unit\n\
    \         (MRU).  Even if a system negotiates an MRU smaller than 1,500\n    \
    \     bytes, it MUST be able to receive a 1,500 byte frame.\n         A router\
    \ SHOULD negotiate and enable the link quality\n         monitoring (LQM) option.\n\
    \         DISCUSSION:\n            This memo does not specify a policy for deciding\
    \ whether the\n            link's quality is adequate.  However, it is important\
    \ (see\n            Section [3.3.6]) that a router disable failed links.\n   \
    \      A router SHOULD implement and negotiate the magic number option\n     \
    \    for loopback detection.\n         A router MAY support the authentication\
    \ options (PAP - password\n         authentication protocol, and/or CHAP - challenge\
    \ handshake\n         authentication protocol).\n         A router MUST support\
    \ 16-bit CRC frame check sequence (FCS) and\n         MAY support the 32-bit CRC.\n"
- title: 3.3.5.3  IP Control Protocol (ICP) Options
  contents:
  - "3.3.5.3  IP Control Protocol (ICP) Options\n         A router MAY offer to perform\
    \ IP address negotiation.  A router\n         MUST accept a refusal (REJect) to\
    \ perform IP address\n         negotiation from the peer.\n         A router SHOULD\
    \ NOT perform Van Jacobson header compression of\n         TCP/IP packets if the\
    \ link speed is in excess of 64 Kbps.\n         Below that speed the router MAY\
    \ perform Van Jacobson (VJ)\n         header compression.  At link speeds of 19,200\
    \ bps or less the\n         router SHOULD perform VJ header compression.\n"
- title: 3.3.6  Interface Testing
  contents:
  - "3.3.6  Interface Testing\n      A router MUST have a mechanism to allow routing\
    \ software to\n      determine whether a physical interface is available to send\n\
    \      packets or not.  A router SHOULD have a mechanism to allow routing\n  \
    \    software to judge the quality of a physical interface.  A router\n      MUST\
    \ have a mechanism for informing the routing software when a\n      physical interface\
    \ becomes available or unavailable to send\n      packets because of administrative\
    \ action.  A router MUST have a\n      mechanism for informing the routing software\
    \ when it detects a\n      Link level interface has become available or unavailable,\
    \ for any\n      reason.\n      DISCUSSION:\n         It is crucial that routers\
    \ have workable mechanisms for\n         determining that their network connections\
    \ are functioning\n         properly, since failure to do so (or failure to take\
    \ the proper\n         actions when a problem is detected) can lead to black holes.\n\
    \         The mechanisms available for detecting problems with network\n     \
    \    connections vary considerably, depending on the Link Layer\n         protocols\
    \ in use and also in some cases on the interface\n         hardware chosen by\
    \ the router manufacturer.  The intent is to\n         maximize the capability\
    \ to detect failures within the Link-\n         Layer constraints.\n"
- title: 4.  INTERNET LAYER - PROTOCOLS
  contents:
  - '4.  INTERNET LAYER - PROTOCOLS

    '
- title: 4.1  INTRODUCTION
  contents:
  - "4.1  INTRODUCTION\n   This chapter and chapter 5 discuss the protocols used at\
    \ the Internet\n   Layer: IP, ICMP, and IGMP.  Since forwarding is obviously a\
    \ crucial\n   topic in a document discussing routers, chapter 5 limits itself\
    \ to\n   the aspects of the protocols which directly relate to forwarding.\n \
    \  The current chapter contains the remainder of the discussion of the\n   Internet\
    \ Layer protocols.\n"
- title: 4.2  INTERNET PROTOCOL - IP
  contents:
  - '4.2  INTERNET PROTOCOL - IP

    '
- title: 4.2.1  INTRODUCTION
  contents:
  - "4.2.1  INTRODUCTION\n      Routers MUST implement the IP protocol, as defined\
    \ by\n      [INTERNET:1].  They MUST also implement its mandatory extensions:\n\
    \      subnets (defined in [INTERNET:2]), and IP broadcast (defined in\n     \
    \ [INTERNET:3]).\n      A router  MUST be compliant, and SHOULD be unconditionally\n\
    \      compliant, with the requirements of sections 3.2.1 and 3.3 of\n      [INTRO:2],\
    \ except that:\n      o  Section 3.2.1.1 may be ignored, since it duplicates\n\
    \         requirements found in this memo.\n      o  Section 3.2.1.2 may be ignored,\
    \ since it duplicates\n         requirements found in this memo.\n      o  Section\
    \ 3.2.1.3 should be ignored, since it is superseded by\n         Section [4.2.2.11]\
    \ of this memo.\n      o  Section 3.2.1.4 may be ignored, since it duplicates\n\
    \         requirements found in this memo.\n      o  Section 3.2.1.6 should be\
    \ ignored, since it is superseded by\n         Section [4.2.2.4] of this memo.\n\
    \      o  Section 3.2.1.8 should be ignored, since it is superseded by\n     \
    \    Section [4.2.2.1] of this memo.\n      In the following, the action specified\
    \ in certain cases is to\n      silently discard a received datagram.  This means\
    \ that the\n      datagram will be discarded without further processing and that\
    \ the\n      router will not send any ICMP error message (see Section [4.3]) as\n\
    \      a result.  However, for diagnosis of problems a router SHOULD\n      provide\
    \ the capability of logging the error (see Section [1.3.3]),\n      including\
    \ the contents of the silently-discarded datagram, and\n      SHOULD record the\
    \ event in a statistics counter.\n"
- title: 4.2.2  PROTOCOL WALK-THROUGH
  contents:
  - "4.2.2  PROTOCOL WALK-THROUGH\n      RFC 791 is [INTERNET:1], the specification\
    \ for the Internet\n      Protocol.\n"
- title: '4.2.2.1  Options: RFC-791 Section 3.2'
  contents:
  - "4.2.2.1  Options: RFC-791 Section 3.2\n         In datagrams received by the\
    \ router itself, the IP layer MUST\n         interpret those IP options that it\
    \ understands and preserve the\n         rest unchanged for use by higher layer\
    \ protocols.\n         Higher layer protocols may require the ability to set IP\n\
    \         options in datagrams they send or examine IP options in\n         datagrams\
    \ they receive.  Later sections of this document\n         discuss specific IP\
    \ option support required by higher layer\n         protocols.\n         DISCUSSION:\n\
    \            Neither this memo nor [INTRO:2] define the order in which a\n   \
    \         receiver must process multiple options in the same IP\n            header.\
    \  Hosts and routers originating datagrams containing\n            multiple options\
    \ must be aware that this introduces an\n            ambiguity in the meaning\
    \ of certain options when combined\n            with a source-route option.\n\
    \         Here are the requirements for specific IP options:\n         (a)  Security\
    \ Option\n              Some environments require the Security option in every\n\
    \              packet originated or received.  Routers SHOULD IMPLEMENT\n    \
    \          the revised security option described in [INTERNET:5].\n          \
    \    DISCUSSION:\n                 Note that the security options described in\n\
    \                 [INTERNET:1] and RFC 1038 ([INTERNET:16]) are obsolete.\n  \
    \       (b)  Stream Identifier Option\n              This option is obsolete;\
    \ routers SHOULD NOT place this\n              option in a datagram that the router\
    \ originates.  This\n              option MUST be ignored in datagrams received\
    \ by the\n              router.\n         (c)  Source Route Options\n        \
    \      A router MUST be able to act as the final destination of a\n          \
    \    source route.  If a router receives a packet containing a\n             \
    \ completed source route (i.e., the pointer points beyond\n              the last\
    \ field and the destination address in the IP\n              header addresses\
    \ the router), the packet has reached its\n              final destination; the\
    \ option as received (the recorded\n              route) MUST be passed up to\
    \ the transport layer (or to\n              ICMP message processing).\n      \
    \        In order to respond correctly to source-routed datagrams\n          \
    \    it receives, a router MUST provide a means whereby\n              transport\
    \ protocols and applications can reverse the\n              source route in a\
    \ received datagram and insert the\n              reversed source route into datagrams\
    \ they originate (see\n              Section 4 of [INTRO:2] for details).\n  \
    \            Some applications in the router MAY require that the user\n     \
    \         be able to enter a source route.\n              A router MUST NOT originate\
    \ a datagram containing multiple\n              source route options.  What a\
    \ router should do if asked to\n              forward a packet containing multiple\
    \ source route options\n              is described in Section [5.2.4.1].\n   \
    \           When a source route option is created, it MUST be\n              correctly\
    \ formed even if it is being created by reversing\n              a recorded route\
    \ that erroneously includes the source host\n              (see case (B) in the\
    \ discussion below).\n              DISCUSSION:\n                 Suppose a source\
    \ routed datagram is to be routed from\n                 source S to destination\
    \ D via routers G1, G2, ... Gn.\n                 Source S constructs a datagram\
    \ with G1's IP address as\n                 its destination address, and a source\
    \ route option to\n                 get the datagram the rest of the way to its\n\
    \                 destination.  However, there is an ambiguity in the\n      \
    \           specification over whether the source route option in a\n        \
    \         datagram sent out by S should be (A) or (B):\n                 (A):\
    \  {>>G2, G3, ... Gn, D}     <--- CORRECT\n                 (B):  {S, >>G2, G3,\
    \ ... Gn, D}  <---- WRONG\n                 (where >> represents the pointer).\
    \  If (A) is sent, the\n                 datagram received at D will contain the\
    \ option: {G1,\n                 G2, ... Gn >>}, with S and D as the IP source\
    \ and\n                 destination addresses.  If (B) were sent, the datagram\n\
    \                 received at D would again contain S and D as the same\n    \
    \             IP source and destination addresses, but the option\n          \
    \       would be: {S, G1, ...Gn >>}; i.e., the originating host\n            \
    \     would be the first hop in the route.\n         (d)  Record Route Option\n\
    \              Routers MAY support the Record Route option in datagrams\n    \
    \          originated by the router.\n         (e)  Timestamp Option\n       \
    \       Routers MAY support the timestamp option in datagrams\n              originated\
    \ by the router.  The following rules apply:\n              o  When originating\
    \ a datagram containing a Timestamp\n                 Option, a router MUST record\
    \ a timestamp in the option\n                 if\n                 - Its Internet\
    \ address fields are not pre-specified or\n                 - Its first pre-specified\
    \ address is the IP address of\n                    the logical interface over\
    \ which the datagram is\n                    being sent (or the router's router-id\
    \ if the\n                    datagram is being sent over an unnumbered\n    \
    \                interface).\n              o  If the router itself receives a\
    \ datagram containing a\n                 Timestamp Option, the router MUST insert\
    \ the current\n                 timestamp into the Timestamp Option (if there\
    \ is space\n                 in the option to do so) before passing the option\
    \ to\n                 the transport layer or to ICMP for processing.\n      \
    \        o  A timestamp value MUST follow the rules given in\n               \
    \  Section [3.2.2.8] of [INTRO:2].\n              IMPLEMENTATION:\n          \
    \       To maximize the utility of the timestamps contained in\n             \
    \    the timestamp option, it is suggested that the\n                 timestamp\
    \ inserted be, as nearly as practical, the time\n                 at which the\
    \ packet arrived at the router.  For\n                 datagrams originated by\
    \ the router, the timestamp\n                 inserted should be, as nearly as\
    \ practical, the time at\n                 which the datagram was passed to the\
    \ Link Layer for\n                 transmission.\n"
- title: '4.2.2.2  Addresses in Options: RFC-791 Section 3.1'
  contents:
  - "4.2.2.2  Addresses in Options: RFC-791 Section 3.1\n         When a router inserts\
    \ its address into a Record Route, Strict\n         Source and Record Route, Loose\
    \ Source and Record Route, or\n         Timestamp, it MUST use the IP address\
    \ of the logical interface\n         on which the packet is being sent.  Where\
    \ this rule cannot be\n         obeyed because the output interface has no IP\
    \ address (i.e., is\n         an unnumbered interface), the router MUST instead\
    \ insert its\n         router-id.  The router's router-id is one of the router's\
    \ IP\n         addresses.  Which of the router's addresses is used as the\n  \
    \       router-id MUST NOT change (even across reboots) unless changed\n     \
    \    by the network manager or unless the configuration of the\n         router\
    \ is changed such that the IP address used as the router-\n         id ceases\
    \ to be one of the router's IP addresses.  Routers with\n         multiple unnumbered\
    \ interfaces MAY have multiple router-id's.\n         Each unnumbered interface\
    \ MUST be associated with a particular\n         router-id.  This association\
    \ MUST NOT change (even across\n         reboots) without reconfiguration of the\
    \ router.\n         DISCUSSION:\n            This specification does not allow\
    \ for routers which do not\n            have at least one IP address.  We do not\
    \ view this as a\n            serious limitation, since a router needs an IP address\
    \ to\n            meet the manageability requirements of Chapter [8] even if\n\
    \            the router is connected only to point-to-point links.\n         IMPLEMENTATION:\n\
    \            One possible method of choosing the router-id that fulfills\n   \
    \         this requirement is to use the numerically smallest (or\n          \
    \  greatest) IP address (treating the address as a 32-bit\n            integer)\
    \ that is assigned to the router.\n"
- title: '4.2.2.3  Unused IP Header Bits: RFC-791 Section 3.1'
  contents:
  - "4.2.2.3  Unused IP Header Bits: RFC-791 Section 3.1\n         The IP header contains\
    \ two reserved bits: one in the Type of\n         Service byte and the other in\
    \ the Flags field.  A router MUST\n         NOT set either of these bits to one\
    \ in datagrams originated by\n         the router.  A router MUST NOT drop (refuse\
    \ to receive or\n         forward) a packet merely because one or more of these\
    \ reserved\n         bits has a non-zero value.\n         DISCUSSION:\n      \
    \      Future revisions to the IP protocol may make use of these\n           \
    \ unused bits.  These rules are intended to ensure that these\n            revisions\
    \ can be deployed without having to simultaneously\n            upgrade all routers\
    \ in the Internet.\n"
- title: '4.2.2.4  Type of Service: RFC-791 Section 3.1'
  contents:
  - "4.2.2.4  Type of Service: RFC-791 Section 3.1\n         The Type-of-Service byte\
    \ in the IP header is divided into three\n         sections:  the Precedence field\
    \ (high-order 3 bits), a field\n         that is customarily called Type of Service\
    \ or TOS (next 4\n         bits), and a reserved bit (the low order bit).\n  \
    \       Rules governing the reserved bit were described in Section\n         [4.2.2.3].\n\
    \         A more extensive discussion of the TOS field and its use can be\n  \
    \       found in [ROUTE:11].\n         The description of the IP Precedence field\
    \ is superseded by\n         Section [5.3.3].  RFC-795, Service Mappings, is obsolete\
    \ and\n         SHOULD NOT be implemented.\n"
- title: '4.2.2.5  Header Checksum: RFC-791 Section 3.1'
  contents:
  - "4.2.2.5  Header Checksum: RFC-791 Section 3.1\n         As stated in Section\
    \ [5.2.2], a router MUST verify the IP\n         checksum of any packet which\
    \ is received.  The router MUST NOT\n         provide a means to disable this\
    \ checksum verification.\n         IMPLEMENTATION:\n            A more extensive\
    \ description of the IP checksum, including\n            extensive implementation\
    \ hints, can be found in [INTERNET:6]\n            and [INTERNET:7].\n"
- title: '4.2.2.6  Unrecognized Header Options: RFC-791 Section 3.1'
  contents:
  - "4.2.2.6  Unrecognized Header Options: RFC-791 Section 3.1\n         A router\
    \ MUST ignore IP options which it does not recognize.  A\n         corollary of\
    \ this requirement is that a router MUST implement\n         the End of Option\
    \ List option and the No Operation option,\n         since neither contains an\
    \ explicit length.\n         DISCUSSION:\n            All future IP options will\
    \ include an explicit length.\n"
- title: '4.2.2.7  Fragmentation: RFC-791 Section 3.2'
  contents:
  - "4.2.2.7  Fragmentation: RFC-791 Section 3.2\n         Fragmentation, as described\
    \ in [INTERNET:1], MUST be supported\n         by a router.\n         When a router\
    \ fragments an IP datagram, it SHOULD minimize the\n         number of fragments.\
    \  When a router fragments an IP datagram,\n         it MUST send the fragments\
    \ in order.  A fragmentation method\n         which may generate one IP fragment\
    \ which is significantly\n         smaller than the other MAY cause the first\
    \ IP fragment to be\n         the smaller one.\n         DISCUSSION:\n       \
    \     There are several fragmentation techniques in common use in\n          \
    \  the Internet.  One involves splitting the IP datagram into\n            IP\
    \ fragments with the first being MTU sized, and the others\n            being\
    \ approximately the same size, smaller than the MTU.\n            The reason for\
    \ this is twofold.  The first IP fragment in\n            the sequence will be\
    \ the effective MTU of the current path\n            between the hosts, and the\
    \ following IP fragments are sized\n            to hopefully minimize the further\
    \ fragmentation of the IP\n            datagram.  Another technique is to split\
    \ the IP datagram\n            into MTU sized IP fragments, with the last fragment\
    \ being\n            the only one smaller, as per page 26 of [INTERNET:1].\n \
    \           A common trick used by some implementations of TCP/IP is to\n    \
    \        fragment an IP datagram into IP fragments that are no larger\n      \
    \      than 576 bytes when the IP datagram is to travel through a\n          \
    \  router.  In general, this allows the resulting IP fragments\n            to\
    \ pass the rest of the path without further fragmentation.\n            This would,\
    \ though, create more of a load on the destination\n            host, since it\
    \ would have a larger number of IP fragments to\n            reassemble into one\
    \ IP datagram.  It would also not be\n            efficient on networks where\
    \ the MTU only changes once, and\n            stays much larger than 576 bytes\
    \ (such as an 802.5 network\n            with a MTU of 2048 or an Ethernet network\
    \ with an MTU of\n            1536).\n            One other fragmentation technique\
    \ discussed was splitting\n            the IP datagram into approximately equal\
    \ sized IP fragments,\n            with the size being smaller than the next hop\
    \ network's MTU.\n            This is intended to minimize the number of fragments\
    \ that\n            would result from additional fragmentation further down the\n\
    \            path.\n            In most cases, routers should try and create situations\
    \ that\n            will generate the lowest number of IP fragments possible.\n\
    \            Work with slow machines leads us to believe that if it is\n     \
    \       necessary to send small packets in a fragmentation scheme,\n         \
    \   sending the small IP fragment first maximizes the chance of\n            a\
    \ host with a slow interface of receiving all the fragments.\n"
- title: '4.2.2.8  Reassembly: RFC-791 Section 3.2'
  contents:
  - "4.2.2.8  Reassembly: RFC-791 Section 3.2\n         As specified in Section 3.3.2\
    \ of [INTRO:2], a router MUST\n         support reassembly of datagrams which\
    \ it delivers to itself.\n"
- title: '4.2.2.9  Time to Live: RFC-791 Section 3.2'
  contents:
  - "4.2.2.9  Time to Live: RFC-791 Section 3.2\n         Time to Live (TTL) handling\
    \ for packets originated or received\n         by the router is governed by [INTRO:2].\
    \  Note in particular\n         that a router MUST NOT check the TTL of a packet\
    \ except when\n         forwarding it.\n"
- title: '4.2.2.10  Multi-subnet Broadcasts: RFC-922'
  contents:
  - "4.2.2.10  Multi-subnet Broadcasts: RFC-922\n         All-subnets broadcasts (called\
    \ multi-subnet broadcasts in\n         [INTERNET:3]) have been deprecated.  See\
    \ Section [5.3.5.3].\n"
- title: '4.2.2.11  Addressing: RFC-791 Section 3.2'
  contents:
  - "4.2.2.11  Addressing: RFC-791 Section 3.2\n         There are now five classes\
    \ of IP addresses: Class A through\n         Class E.  Class D addresses are used\
    \ for IP multicasting\n         [INTERNET:4], while Class E addresses are reserved\
    \ for\n         experimental use.\n         A multicast (Class D) address is a\
    \ 28-bit logical address that\n         stands for a group of hosts, and may be\
    \ either permanent or\n         transient.  Permanent multicast addresses are\
    \ allocated by the\n         Internet Assigned Number Authority [INTRO:7], while\
    \ transient\n         addresses may be allocated dynamically to transient groups.\n\
    \         Group membership is determined dynamically using IGMP\n         [INTERNET:4].\n\
    \         We now summarize the important special cases for Unicast (that\n   \
    \      is class A, B, and C) IP addresses, using the following\n         notation\
    \ for an IP address:\n            { <Network-number>, <Host-number> }\n      \
    \   or\n            { <Network-number>, <Subnet-number>, <Host-number> }\n   \
    \      and the notation -1 for a field that contains all 1 bits and\n        \
    \ the notation 0 for a field that contains all 0 bits.  This\n         notation\
    \ is not intended to imply that the 1-bits in a subnet\n         mask need be\
    \ contiguous.\n         (a)  { 0, 0 }\n              This host on this network.\
    \  It MUST NOT be used as a\n              source address by routers, except the\
    \ router MAY use this\n              as a source address as part of an initialization\
    \ procedure\n              (e.g., if the router is using BOOTP to load its\n \
    \             configuration information).\n              Incoming datagrams with\
    \ a source address of { 0, 0 } which\n              are received for local delivery\
    \ (see Section [5.2.3]),\n              MUST be accepted if the router implements\
    \ the associated\n              protocol and that protocol clearly defines appropriate\n\
    \              action to be taken.  Otherwise, a router MUST silently\n      \
    \        discard any locally-delivered datagram whose source\n              address\
    \ is { 0, 0 }.\n              DISCUSSION:\n                 Some protocols define\
    \ specific actions to take in\n                 response to a received datagram\
    \ whose source address is\n                 { 0, 0 }.  Two examples are BOOTP\
    \ and ICMP Mask\n                 Request.  The proper operation of these protocols\
    \ often\n                 depends on the ability to receive datagrams whose\n\
    \                 source address is { 0, 0 }.  For most protocols,\n         \
    \        however, it is best to ignore datagrams having a source\n           \
    \      address of { 0, 0 } since they were probably generated\n              \
    \   by a misconfigured host or router.  Thus, if a router\n                 knows\
    \ how to deal with a given datagram having a { 0, 0\n                 } source\
    \ address, the router MUST accept it.\n                 Otherwise, the router\
    \ MUST discard it.\n              See also Section [4.2.3.1] for a non-standard\
    \ use of { 0,\n              0 }.\n         (b)  { 0, <Host-number> }\n      \
    \        Specified host on this network.  It MUST NOT be sent by\n           \
    \   routers except that the router MAY uses this as a source\n              address\
    \ as part of an initialization procedure by which\n              the it learns\
    \ its own IP address.\n         (c)  { -1, -1 }\n              Limited broadcast.\
    \  It MUST NOT be used as a source\n              address.\n              A datagram\
    \ with this destination address will be received\n              by every host\
    \ and router on the connected physical\n              network, but will not be\
    \ forwarded outside that network.\n         (d)  { <Network-number>, -1 }\n  \
    \            Network Directed Broadcast - a broadcast directed to the\n      \
    \        specified network.  It MUST NOT be used as a source\n              address.\
    \  A router MAY originate Network Directed\n              Broadcast packets. \
    \ A router MUST receive Network Directed\n              Broadcast packets; however\
    \ a router MAY have a\n              configuration option to prevent reception\
    \ of these\n              packets.  Such an option MUST default to allowing\n\
    \              reception.\n         (e)  { <Network-number>, <Subnet-number>,\
    \ -1 }\n              Subnetwork Directed Broadcast - a broadcast sent to the\n\
    \              specified subnet.  It MUST NOT be used as a source\n          \
    \    address.  A router MAY originate Network Directed\n              Broadcast\
    \ packets.  A router MUST receive Network Directed\n              Broadcast packets;\
    \ however a router MAY have a\n              configuration option to prevent reception\
    \ of these\n              packets.  Such an option MUST default to allowing\n\
    \              reception.\n         (f)  { <Network-number>, -1, -1 }\n      \
    \        All Subnets Directed Broadcast - a broadcast sent to all\n          \
    \    subnets of the specified subnetted network.  It MUST NOT\n              be\
    \ used as a source address.  A router MAY originate\n              Network Directed\
    \ Broadcast packets.  A router MUST receive\n              Network Directed Broadcast\
    \ packets; however a router MAY\n              have a configuration option to\
    \ prevent reception of these\n              packets.  Such an option MUST default\
    \ to allowing\n              reception.\n         (g)  { 127, <any> }\n      \
    \        Internal host loopback address.  Addresses of this form\n           \
    \   MUST NOT appear outside a host.\n         The <Network-number> is administratively\
    \ assigned so that its\n         value will be unique in the entire world.\n \
    \        IP addresses are not permitted to have the value 0 or -1 for\n      \
    \   any of the <Host-number>, <Network-number>, or <Subnet-number>\n         fields\
    \ (except in the special cases listed above).  This\n         implies that each\
    \ of these fields will be at least two bits\n         long.\n         For further\
    \ discussion of broadcast addresses, see Section\n         [4.2.3.1].\n      \
    \   Since (as described in Section [4.2.1]) a router must support\n         the\
    \ subnet extensions to IP, there will be a subnet mask of the\n         form:\
    \ { -1, -1, 0 } associated with each of the host's local IP\n         addresses;\
    \ see Sections [4.3.3.9], [5.2.4.2], and [10.2.2].\n         When a router originates\
    \ any datagram, the IP source address\n         MUST be one of its own IP addresses\
    \ (but not a broadcast or\n         multicast address).  The only exception is\
    \ during\n         initialization.\n         For most purposes, a datagram addressed\
    \ to a broadcast or\n         multicast destination is processed as if it had\
    \ been addressed\n         to one of the router's IP addresses; that is to say:\n\
    \         o  A router MUST receive and process normally any packets with\n   \
    \         a broadcast destination address.\n         o  A router MUST receive\
    \ and process normally any packets sent\n            to a multicast destination\
    \ address which the router is\n            interested in.\n         The term specific-destination\
    \ address means the equivalent\n         local IP address of the host.  The specific-destination\
    \ address\n         is defined to be the destination address in the IP header\n\
    \         unless the header contains a broadcast or multicast address, in\n  \
    \       which case the specific-destination is an IP address assigned\n      \
    \   to the physical interface on which the datagram arrived.\n         A router\
    \ MUST silently discard any received datagram containing\n         an IP source\
    \ address that is invalid by the rules of this\n         section.  This validation\
    \ could be done either by the IP layer\n         or by each protocol in the transport\
    \ layer.\n         DISCUSSION:\n            A misaddressed datagram might be caused\
    \ by a Link Layer\n            broadcast of a unicast datagram or by another router\
    \ or host\n            that is confused or misconfigured.\n"
- title: 4.2.3  SPECIFIC ISSUES
  contents:
  - '4.2.3  SPECIFIC ISSUES

    '
- title: 4.2.3.1  IP Broadcast Addresses
  contents:
  - "4.2.3.1  IP Broadcast Addresses\n         For historical reasons, there are a\
    \ number of IP addresses\n         (some standard and some not) which are used\
    \ to indicate that an\n         IP packet is an IP broadcast.  A router\n    \
    \     (1)  MUST treat as IP broadcasts packets addressed to\n              255.255.255.255,\
    \ { <Network-number>, -1 }, { <Network-\n              number>, <Subnet-number>,\
    \ -1 }, and { <Network-number>,\n              -1, -1 }.\n         (2)  SHOULD\
    \ silently discard on receipt (i.e., don't even\n              deliver to applications\
    \ in the router) any packet\n              addressed to 0.0.0.0, { <Network-number>,\
    \ 0 }, {\n              <Network-number>, <Subnet-number>, 0 }, or { <Network-\n\
    \              number>, 0, 0 }; if these packets are not silently\n          \
    \    discarded, they MUST be treated as IP broadcasts (see\n              Section\
    \ [5.3.5]).  There MAY be a configuration option to\n              allow receipt\
    \ of these packets.  This option SHOULD\n              default to discarding them.\n\
    \         (3)  SHOULD (by default) use the limited broadcast address\n       \
    \       (255.255.255.255) when originating an IP broadcast\n              destined\
    \ for a connected network or subnet (except when\n              sending an ICMP\
    \ Address Mask Reply, as discussed in\n              Section [4.3.3.9]).  A router\
    \ MUST receive limited\n              broadcasts.\n         (4)  SHOULD NOT originate\
    \ datagrams addressed to 0.0.0.0, {\n              <Network-number>, 0 }, { <Network-number>,\
    \ <Subnet-\n              number>, 0 }, or { <Network-number>, 0, 0 }.  There\
    \ MAY be\n              a configuration option to allow generation of these\n\
    \              packets (instead of using the relevant 1s format\n            \
    \  broadcast).  This option SHOULD default to not generating\n              them.\n\
    \         DISCUSSION:\n            In the second bullet, the router obviously\
    \ cannot recognize\n            addresses of the form { <Network-number>, <Subnet-number>,\
    \ 0\n            } if the router does not know how the particular network is\n\
    \            subnetted.  In that case, the rules of the second bullet do\n   \
    \         not apply because, from the point of view of the router, the\n     \
    \       packet is not an IP broadcast packet.\n"
- title: 4.2.3.2  IP Multicasting
  contents:
  - "4.2.3.2  IP Multicasting\n         An IP router SHOULD satisfy the Host Requirements\
    \ with respect\n         to IP multicasting, as specified in Section 3.3.7 of\
    \ [INTRO:2].\n         An IP router SHOULD support local IP multicasting on all\n\
    \         connected networks for which a mapping from Class D IP\n         addresses\
    \ to link-layer addresses has been specified (see the\n         various IP-over-xxx\
    \ specifications), and on all connected\n         point-to-point links.  Support\
    \ for local IP multicasting\n         includes originating multicast datagrams,\
    \ joining multicast\n         groups and receiving multicast datagrams, and leaving\
    \ multicast\n         groups.  This implies support for all of [INTERNET:4] including\n\
    \         IGMP (see Section [4.4]).\n         DISCUSSION:\n            Although\
    \ [INTERNET:4] is entitled Host Extensions for IP\n            Multicasting, it\
    \ applies to all IP systems, both hosts and\n            routers.  In particular,\
    \ since routers may join multicast\n            groups, it is correct for them\
    \ to perform the host part of\n            IGMP, reporting their group memberships\
    \ to any multicast\n            routers that may be present on their attached\
    \ networks\n            (whether or not they themselves are multicast routers).\n\
    \            Some router protocols may specifically require support for\n    \
    \        IP multicasting (e.g., OSPF [ROUTE:1]), or may recommend it\n       \
    \     (e.g., ICMP Router Discovery [INTERNET:13]).\n"
- title: 4.2.3.3  Path MTU Discovery
  contents:
  - "4.2.3.3  Path MTU Discovery\n         In order to eliminate fragmentation or\
    \ minimize it, it is\n         desirable to know what is the path MTU along the\
    \ path from the\n         source to destination.  The path MTU is the minimum\
    \ of the MTUs\n         of each hop in the path.  [INTERNET:14] describes a technique\n\
    \         for dynamically discovering the maximum transmission unit (MTU)\n  \
    \       of an arbitrary internet path.  For a path that passes through\n     \
    \    a router that does not support [INTERNET:14], this technique\n         might\
    \ not discover the correct Path MTU, but it will always\n         choose a Path\
    \ MTU as accurate as, and in many cases more\n         accurate than, the Path\
    \ MTU that would be chosen by older\n         techniques or the current practice.\n\
    \         When a router is originating an IP datagram, it SHOULD use the\n   \
    \      scheme described in [INTERNET:14] to limit the datagram's size.\n     \
    \    If the router's route to the datagram's destination was learned\n       \
    \  from a routing protocol that provides Path MTU information, the\n         scheme\
    \ described in [INTERNET:14] is still used, but the Path\n         MTU information\
    \ from the routing protocol SHOULD be used as the\n         initial guess as to\
    \ the Path MTU and also as an upper bound on\n         the Path MTU.\n"
- title: 4.2.3.4  Subnetting
  contents:
  - "4.2.3.4  Subnetting\n         Under certain circumstances, it may be desirable\
    \ to support\n         subnets of a particular network being interconnected only\
    \ via a\n         path which is not part of the subnetted network.  This is known\n\
    \         as discontiguous subnetwork support.\n         Routers MUST support\
    \ discontiguous subnetworks.\n         IMPLEMENTATION:\n            In general,\
    \ a router should not make assumptions about what\n            are subnets and\
    \ what are not, but simply ignore the concept\n            of Class in networks,\
    \ and treat each route as a { network,\n            mask }-tuple.\n         DISCUSSION:\n\
    \            The Internet has been growing at a tremendous rate of late.\n   \
    \         This has been placing severe strains on the IP addressing\n        \
    \    technology.  A major factor in this strain is the strict IP\n           \
    \ Address class boundaries.  These make it difficult to\n            efficiently\
    \ size network numbers to their networks and\n            aggregate several network\
    \ numbers into a single route\n            advertisement.  By eliminating the\
    \ strict class boundaries\n            of the IP address and treating each route\
    \ as a {network\n            number, mask}-tuple these strains may be greatly\
    \ reduced.\n            The technology for currently doing this is Classless\n\
    \            Interdomain Routing (CIDR) [INTERNET:15].\n         Furthermore,\
    \ for similar reasons, a subnetted network need not\n         have a consistent\
    \ subnet mask through all parts of the network.\n         For example, one subnet\
    \ may use an 8 bit subnet mask, another\n         10 bit, and another 6 bit. \
    \ This is known as variable subnet-\n         masks.\n         Routers MUST support\
    \ variable subnet-masks.\n"
- title: 4.3  INTERNET CONTROL MESSAGE PROTOCOL - ICMP
  contents:
  - '4.3  INTERNET CONTROL MESSAGE PROTOCOL - ICMP

    '
- title: 4.3.1  INTRODUCTION
  contents:
  - "4.3.1  INTRODUCTION\n      ICMP is an auxiliary protocol, which provides routing,\
    \ diagnostic\n      and and error functionality for IP. It is described in\n \
    \     [INTERNET:8].  A router MUST support ICMP.\n      ICMP messages are grouped\
    \ in two classes which are discussed in\n      the following sections:\n     \
    \ ICMP error messages:\n      Destination Unreachable     Section 4.3.3.1\n  \
    \    Redirect                    Section 4.3.3.2\n      Source Quench        \
    \       Section 4.3.3.3\n      Time Exceeded               Section 4.3.3.4\n \
    \     Parameter Problem           Section 4.3.3.5\n      ICMP query messages:\n\
    \      Echo                        Section 4.3.3.6\n      Information        \
    \         Section 4.3.3.7\n      Timestamp                   Section 4.3.3.8\n\
    \      Address Mask                Section 4.3.3.9\n      Router Discovery   \
    \         Section 4.3.3.10\n      General ICMP requirements and discussion are\
    \ in the next section.\n"
- title: 4.3.2  GENERAL ISSUES
  contents:
  - '4.3.2  GENERAL ISSUES

    '
- title: 4.3.2.1  Unknown Message Types
  contents:
  - "4.3.2.1  Unknown Message Types\n         If an ICMP message of unknown type is\
    \ received, it MUST be\n         passed to the ICMP user interface (if the router\
    \ has one) or\n         silently discarded (if the router doesn't have one).\n"
- title: 4.3.2.2  ICMP Message TTL
  contents:
  - "4.3.2.2  ICMP Message TTL\n         When originating an ICMP message, the router\
    \ MUST initialize\n         the TTL.  The TTL for ICMP responses must not be taken\
    \ from the\n         packet which triggered the response.\n"
- title: 4.3.2.3  Original Message Header
  contents:
  - "4.3.2.3  Original Message Header\n         Every ICMP error message includes\
    \ the Internet header and at\n         least the first 8 data bytes of the datagram\
    \ that triggered the\n         error.  More than 8 bytes MAY be sent, but the\
    \ resulting ICMP\n         datagram SHOULD have a length of less than or equal\
    \ to 576\n         bytes.  The returned IP header (and user data) MUST be\n  \
    \       identical to that which was received, except that the router is\n    \
    \     not required to undo any modifications to the IP header that\n         are\
    \ normally performed in forwarding that were performed before\n         the error\
    \ was detected (e.g., decrementing the TTL, updating\n         options).  Note\
    \ that the requirements of Section [4.3.3.5]\n         supersede this requirement\
    \ in some cases (i.e., for a Parameter\n         Problem message, if the problem\
    \  is in a modified field, the\n         router must undo the modification). \
    \ See Section [4.3.3.5])\n"
- title: 4.3.2.4  ICMP Message Source Address
  contents:
  - "4.3.2.4  ICMP Message Source Address\n         Except where this document specifies\
    \ otherwise, the IP source\n         address in an ICMP message originated by\
    \ the router MUST be one\n         of the IP addresses associated with the physical\
    \ interface over\n         which the ICMP message is transmitted.  If the interface\
    \ has no\n         IP addresses associated with it, the router's router-id (see\n\
    \         Section [5.2.5]) is used instead.\n"
- title: 4.3.2.5  TOS and Precedence
  contents:
  - "4.3.2.5  TOS and Precedence\n         ICMP error messages SHOULD have their TOS\
    \ bits set to the same\n         value as the TOS bits in the packet which provoked\
    \ the sending\n         of the ICMP error message, unless setting them to that\
    \ value\n         would cause the ICMP error message to be immediately discarded\n\
    \         because it could not be routed to its destination.  Otherwise,\n   \
    \      ICMP error messages MUST be sent with a normal (i.e. zero) TOS.\n     \
    \    An ICMP reply message SHOULD have its TOS bits set to the same\n        \
    \ value as the TOS bits in the ICMP request that provoked the\n         reply.\n\
    \         EDITOR'S COMMENTS:\n            The following paragraph originally read:\n\
    \               ICMP error messages MUST have their IP Precedence field\n    \
    \           set to the same value as the IP Precedence field in the\n        \
    \       packet which provoked the sending of the ICMP error\n               message,\
    \ except that the precedence value MUST be 6\n               (INTERNETWORK CONTROL)\
    \ or 7 (NETWORK CONTROL), SHOULD be\n               7, and MAY be settable for\
    \ the following types of ICMP\n               error messages: Unreachable, Redirect,\
    \ Time Exceeded, and\n               Parameter Problem.\n            I believe\
    \ that the following paragraph is equivalent and\n            easier for humans\
    \ to parse (Source Quench is the only other\n            ICMP Error message).\
    \  Other interpretations of the original\n            are sought.\n         ICMP\
    \ Source Quench error messages MUST have their IP Precedence\n         field set\
    \ to the same value as the IP Precedence field in the\n         packet which provoked\
    \ the sending of the ICMP Source Quench\n         message.  All other ICMP error\
    \ messages (Destination\n         Unreachable, Redirect, Time Exceeded, and Parameter\
    \ Problem)\n         MUST have their precedence value set to 6 (INTERNETWORK\n\
    \         CONTROL) or 7 (NETWORK CONTROL), SHOULD be 7.  The IP\n         Precedence\
    \ value for these error messages MAY be settable.\n         An ICMP reply message\
    \ MUST have its IP Precedence field set to\n         the same value as the IP\
    \ Precedence field in the ICMP request\n         that provoked the reply.\n"
- title: 4.3.2.6  Source Route
  contents:
  - "4.3.2.6  Source Route\n         If the packet which provokes the sending of an\
    \ ICMP error\n         message contains a source route option, the ICMP error\
    \ message\n         SHOULD also contain a source route option of the same type\n\
    \         (strict or loose), created by reversing the portion before the\n   \
    \      pointer of the route recorded in the source route option of the\n     \
    \    original packet UNLESS the ICMP error message is an ICMP\n         Parameter\
    \ Problem complaining about a source route option in\n         the original packet.\n\
    \         DISCUSSION:\n            In environments which use the U.S. Department\
    \ of Defense\n            security option (defined in [INTERNET:5]), ICMP messages\
    \ may\n            need to include a security option.  Detailed information on\n\
    \            this topic should be available from the Defense\n            Communications\
    \ Agency.\n"
- title: 4.3.2.7  When Not to Send ICMP Errors
  contents:
  - "4.3.2.7  When Not to Send ICMP Errors\n         An ICMP error message MUST NOT\
    \ be sent as the result of\n         receiving:\n         o  An ICMP error message,\
    \ or\n         o  A packet which fails the IP header validation tests\n      \
    \      described in Section [5.2.2] (except where that section\n            specifically\
    \ permits the sending of an ICMP error message),\n            or\n         o \
    \ A packet destined to an IP broadcast or IP multicast\n            address, or\n\
    \         o  A packet sent as a Link Layer broadcast or multicast, or\n      \
    \   o  A packet whose source address has a network number of zero\n          \
    \  or is an invalid source address (as defined in Section\n            [5.3.7]),\
    \ or\n         o  Any fragment of a datagram other then the first fragment\n \
    \           (i.e., a packet for which the fragment offset in the IP\n        \
    \    header is nonzero).\n         Furthermore, an ICMP error message MUST NOT\
    \ be sent in any case\n         where this memo states that a packet is to be\
    \ silently\n         discarded.\n         NOTE:  THESE RESTRICTIONS TAKE PRECEDENCE\
    \ OVER ANY REQUIREMENT\n         ELSEWHERE IN THIS DOCUMENT FOR SENDING ICMP ERROR\
    \ MESSAGES.\n         DISCUSSION:\n            These rules aim to prevent the\
    \ broadcast storms that have\n            resulted from routers or hosts returning\
    \ ICMP error messages\n            in response to broadcast packets.  For example,\
    \ a broadcast\n            UDP packet to a non-existent port could trigger a flood\
    \ of\n            ICMP Destination Unreachable datagrams from all devices that\n\
    \            do not have a client for that destination port.  On a large\n   \
    \         Ethernet, the resulting collisions can render the network\n        \
    \    useless for a second or more.\n            Every packet that is broadcast\
    \ on the connected network\n            should have a valid IP broadcast address\
    \ as its IP\n            destination (see Section [5.3.4] and [INTRO:2]).  However,\n\
    \            some devices violate this rule.  To be certain to detect\n      \
    \      broadcast packets, therefore, routers are required to check\n         \
    \   for a link-layer broadcast as well as an IP-layer address.\n         IMPLEMENTATION:\n\
    \            This requires that the link layer inform the IP layer when a\n  \
    \          link-layer broadcast packet has been received; see Section\n      \
    \      [3.1].\n"
- title: 4.3.2.8  Rate Limiting
  contents:
  - "4.3.2.8  Rate Limiting\n         A router which sends ICMP Source Quench messages\
    \ MUST be able\n         to limit the rate at which the messages can be generated.\
    \  A\n         router SHOULD also be able to limit the rate at which it sends\n\
    \         other sorts of ICMP error messages (Destination Unreachable,\n     \
    \    Redirect, Time Exceeded, Parameter Problem).  The rate limit\n         parameters\
    \ SHOULD be settable as part of the configuration of\n         the router.  How\
    \ the limits are applied (e.g., per router or\n         per interface) is left\
    \ to the implementor's discretion.\n         DISCUSSION:\n            Two problems\
    \ for a router sending ICMP error message are:\n            (1)  The consumption\
    \ of bandwidth on the reverse path, and\n            (2)  The use of router resources\
    \ (e.g., memory, CPU time)\n            To help solve these problems a router\
    \ can limit the\n            frequency with which it generates ICMP error messages.\
    \  For\n            similar reasons, a router may limit the frequency at which\n\
    \            some other sorts of messages, such as ICMP Echo Replies, are\n  \
    \          generated.\n         IMPLEMENTATION:\n            Various mechanisms\
    \ have been used or proposed for limiting\n            the rate at which ICMP\
    \ messages are sent:\n            (1)  Count-based - for example, send an ICMP\
    \ error message\n                 for every N dropped packets overall or per given\
    \ source\n                 host.  This mechanism might be appropriate for ICMP\n\
    \                 Source Quench, but probably not for other types of ICMP\n  \
    \               messages.\n            (2)  Timer-based - for example, send an\
    \ ICMP error message\n                 to a given source host or overall at most\
    \ once per T\n                 milliseconds.\n            (3)  Bandwidth-based\
    \ - for example, limit the rate at which\n                 ICMP messages are sent\
    \ over a particular interface to\n                 some fraction of the attached\
    \ network's bandwidth.\n"
- title: 4.3.3  SPECIFIC ISSUES
  contents:
  - '4.3.3  SPECIFIC ISSUES

    '
- title: 4.3.3.1  Destination Unreachable
  contents:
  - "4.3.3.1  Destination Unreachable\n         If a route can not forward a packet\
    \ because it has no routes at\n         all to the destination network specified\
    \ in the packet then the\n         router MUST generate a Destination Unreachable,\
    \ Code 0 (Network\n         Unreachable) ICMP message.  If the router does have\
    \ routes to\n         the destination network specified in the packet but the\
    \ TOS\n         specified for the routes is neither the default TOS (0000) nor\n\
    \         the TOS of the packet that the router is attempting to route,\n    \
    \     then the router MUST generate a Destination Unreachable, Code\n        \
    \ 11 (Network Unreachable for TOS) ICMP message.\n         If a packet is to be\
    \ forwarded to a host on a network that is\n         directly connected to the\
    \ router (i.e., the router is the\n         last-hop router) and the router has\
    \ ascertained that there is\n         no path to the destination host then the\
    \ router MUST generate a\n         Destination Unreachable, Code 1 (Host Unreachable)\
    \ ICMP\n         message.  If a packet is to be forwarded to a host that is on\
    \ a\n         network that is directly connected to the router and the router\n\
    \         cannot forward the packet because because no route to the\n        \
    \ destination has a TOS that is either equal to the TOS requested\n         in\
    \ the packet or is the default TOS (0000) then the router MUST\n         generate\
    \ a Destination Unreachable, Code 12 (Host Unreachable\n         for TOS) ICMP\
    \ message.\n         DISCUSSION:\n            The intent is that a router generates\
    \ the \"generic\"\n            host/network unreachable if it has no path at all\
    \ (including\n            default routes) to the destination.  If the router has\
    \ one\n            or more paths to the destination, but none of those paths\n\
    \            have an acceptable TOS, then the router generates the\n         \
    \   \"unreachable for TOS\" message.\n"
- title: 4.3.3.2  Redirect
  contents:
  - "4.3.3.2  Redirect\n         The ICMP Redirect message is generated to inform\
    \ a host on the\n         same subnet that the router used by the host to route\
    \ certain\n         packets should be changed.\n         Contrary to section 3.2.2.2\
    \ of [INTRO:2], a router MAY ignore\n         ICMP Redirects when choosing a path\
    \ for a packet originated by\n         the router if the router is running a routing\
    \ protocol or if\n         forwarding is enabled on the router and on the interface\
    \ over\n         which the packet is being sent.\n"
- title: 4.3.3.3  Source Quench
  contents:
  - "4.3.3.3  Source Quench\n         A router SHOULD NOT originate ICMP Source Quench\
    \ messages.  As\n         specified in Section [4.3.2], a router which does originate\n\
    \         Source Quench messages MUST be able to limit the rate at which\n   \
    \      they are generated.\n         DISCUSSION:\n            Research seems to\
    \ suggest that Source Quench consumes\n            network bandwidth but is an\
    \ ineffective (and unfair)\n            antidote to congestion.  See, for example,\
    \ [INTERNET:9] and\n            [INTERNET:10].  Section [5.3.6] discusses the\
    \ current\n            thinking on how routers ought to deal with overload and\n\
    \            network congestion.\n         A router MAY ignore any ICMP Source\
    \ Quench messages it\n         receives.\n         DISCUSSION:\n            A\
    \ router itself may receive a Source Quench as the result of\n            originating\
    \ a packet sent to another router or host.  Such\n            datagrams might\
    \ be, e.g., an EGP update sent to another\n            router, or a telnet stream\
    \ sent to a host.  A mechanism has\n            been proposed ([INTERNET:11],\
    \ [INTERNET:12]) to make the IP\n            layer respond directly to Source\
    \ Quench by controlling the\n            rate at which packets are sent, however,\
    \ this proposal is\n            currently experimental and not currently recommended.\n"
- title: 4.3.3.4  Time Exceeded
  contents:
  - "4.3.3.4  Time Exceeded\n         When a router is forwarding a packet and the\
    \ TTL field of the\n         packet is reduced to 0, the requirements of section\
    \ [5.2.3.8]\n         apply.\n         When the router is reassembling a packet\
    \ that is destined for\n         the router, it MUST fulfill requirements of [INTRO:2],\
    \ section\n         [3.3.2] apply.\n         When the router receives (i.e., is\
    \ destined for the router) a\n         Time Exceeded message, it MUST comply with\
    \ section 3.2.2.4 of\n         [INTRO:2].\n"
- title: 4.3.3.5  Parameter Problem
  contents:
  - "4.3.3.5  Parameter Problem\n         A router MUST generate a Parameter Problem\
    \ message for any\n         error not specifically covered by another ICMP message.\
    \  The IP\n         header field or IP option including the byte indicated by\
    \ the\n         pointer field MUST be included unchanged in the IP header\n  \
    \       returned with this ICMP message.  Section [4.3.2] defines an\n       \
    \  exception to this requirement.\n         A new variant of the Parameter Problem\
    \ message was defined in\n         [INTRO:2]:\n              Code 1 = required\
    \ option is missing.\n         DISCUSSION:\n            This variant is currently\
    \ in use in the military community\n            for a missing security option.\n"
- title: 4.3.3.6  Echo Request/Reply
  contents:
  - "4.3.3.6  Echo Request/Reply\n         A router MUST implement an ICMP Echo server\
    \ function that\n         receives Echo Requests and sends corresponding Echo\
    \ Replies.  A\n         router MUST be prepared to receive, reassemble and echo\
    \ an ICMP\n         Echo Request datagram at least as large as the maximum of\
    \ 576\n         and the MTUs of all the connected networks.\n         The Echo\
    \ server function MAY choose not to respond to ICMP echo\n         requests addressed\
    \ to IP broadcast or IP multicast addresses.\n         A router SHOULD have a\
    \ configuration option which, if enabled,\n         causes the router to silently\
    \ ignore all ICMP echo requests; if\n         provided, this option MUST default\
    \ to allowing responses.\n         DISCUSSION:\n            The neutral provision\
    \ about responding to broadcast and\n            multicast Echo Requests results\
    \ from the conclusions reached\n            in section [3.2.2.6] of [INTRO:2].\n\
    \         As stated in Section [10.3.3], a router MUST also implement an\n   \
    \      user/application-layer interface for sending an Echo Request\n        \
    \ and receiving an Echo Reply, for diagnostic purposes.  All ICMP\n         Echo\
    \ Reply messages MUST be passed to this interface.\n         The IP source address\
    \ in an ICMP Echo Reply MUST be the same as\n         the specific-destination\
    \ address of the corresponding ICMP Echo\n         Request message.\n        \
    \ Data received in an ICMP Echo Request MUST be entirely included\n         in\
    \ the resulting Echo Reply.\n         If a Record Route and/or Timestamp option\
    \ is received in an\n         ICMP Echo Request, this option (these options) SHOULD\
    \ be\n         updated to include the current router and included in the IP\n\
    \         header of the Echo Reply message, without truncation.  Thus,\n     \
    \    the recorded route will be for the entire round trip.\n         If a Source\
    \ Route option is received in an ICMP Echo Request,\n         the return route\
    \ MUST be reversed and used as a Source Route\n         option for the Echo Reply\
    \ message.\n"
- title: 4.3.3.7  Information Request/Reply
  contents:
  - "4.3.3.7  Information Request/Reply\n         A router SHOULD NOT originate or\
    \ respond to these messages.\n         DISCUSSION:\n            The Information\
    \ Request/Reply pair was intended to support\n            self-configuring systems\
    \ such as diskless workstations, to\n            allow them to discover their\
    \ IP network numbers at boot\n            time.  However, these messages are now\
    \ obsolete.  The RARP\n            and BOOTP protocols provide better mechanisms\
    \ for a host to\n            discover its own IP address.\n"
- title: 4.3.3.8  Timestamp and Timestamp Reply
  contents:
  - "4.3.3.8  Timestamp and Timestamp Reply\n         A router MAY implement Timestamp\
    \ and Timestamp Reply.  If they\n         are implemented then:\n         o  The\
    \ ICMP Timestamp server function MUST return a Timestamp\n            Reply to\
    \ every Timestamp message that is received.  It\n            SHOULD be designed\
    \ for minimum variability in delay.\n         o  An ICMP Timestamp Request message\
    \ to an IP broadcast or IP\n            multicast address MAY be silently discarded.\n\
    \         o  The IP source address in an ICMP Timestamp Reply MUST be the\n  \
    \          same as the specific-destination address of the\n            corresponding\
    \ Timestamp Request message.\n         o  If a Source Route option is received\
    \ in an ICMP Timestamp\n            Request, the return route MUST be reversed\
    \ and used as a\n            Source Route option for the Timestamp Reply message.\n\
    \         o  If a Record Route and/or Timestamp option is received in a\n    \
    \        Timestamp Request, this (these) option(s) SHOULD be updated\n       \
    \     to include the current router and included in the IP header\n          \
    \  of the Timestamp Reply message.\n         o  If the router provides an application-layer\
    \ interface for\n            sending Timestamp Request messages then incoming\
    \ Timestamp\n            Reply messages MUST be passed up to the ICMP user interface.\n\
    \         The preferred form for a timestamp value (the standard value)\n    \
    \     is milliseconds since midnight, Universal Time.  However, it\n         may\
    \ be difficult to provide this value with millisecond\n         resolution. For\
    \ example, many systems use clocks that update\n         only at line frequency,\
    \ 50 or 60 times per second.  Therefore,\n         some latitude is allowed in\
    \ a standard value:\n         (a)  A standard value MUST be updated at least 16\
    \ times per\n              second (i.e., at most the six low-order bits of the\
    \ value\n              may be undefined).\n         (b)  The accuracy of a standard\
    \ value MUST approximate that of\n              operator-set CPU clocks, i.e.,\
    \ correct within a few\n              minutes.\n         IMPLEMENTATION:\n   \
    \         To meet the second condition, a router may need to query\n         \
    \   some time server when the router is booted or restarted. It\n            is\
    \ recommended that the UDP Time Server Protocol be used for\n            this\
    \ purpose. A more advanced implementation would use the\n            Network Time\
    \ Protocol (NTP) to achieve nearly millisecond\n            clock synchronization;\
    \ however, this is not required.\n"
- title: 4.3.3.9  Address Mask Request/Reply
  contents:
  - "4.3.3.9  Address Mask Request/Reply\n         A router MUST implement support\
    \ for receiving ICMP Address Mask\n         Request messages and responding with\
    \ ICMP Address Mask Reply\n         messages.  These messages are defined in [INTERNET:2].\n\
    \         A router SHOULD have a configuration option for each logical\n     \
    \    interface specifying whether the router is allowed to answer\n         Address\
    \ Mask Requests for that interface; this option MUST\n         default to allowing\
    \ responses.  A router MUST NOT respond to an\n         Address Mask Request before\
    \ the router knows the correct subnet\n         mask.\n         A router MUST\
    \ NOT respond to an Address Mask Request which has\n         a source address\
    \ of 0.0.0.0 and which arrives on a physical\n         interface which has associated\
    \ with it multiple logical\n         interfaces and the subnet masks for those\
    \ interfaces are not\n         all the same.\n         A router SHOULD examine\
    \ all ICMP Address Mask Replies which it\n         receives to determine whether\
    \ the information it contains\n         matches the router's knowledge of the\
    \ subnet mask.  If the ICMP\n         Address Mask Reply appears to be in error,\
    \ the router SHOULD\n         log the subnet mask and the sender's IP address.\
    \  A router MUST\n         NOT use the contents of an ICMP Address Mask Reply\
    \ to determine\n         the correct subnet mask.\n         Because hosts may\
    \ not be able to learn the subnet mask if a\n         router is down when the\
    \ host boots up, a router MAY broadcast a\n         gratuitous ICMP Address Mask\
    \ Reply on each of its logical\n         interfaces after it has configured its\
    \ own subnet masks.\n         However, this feature can be dangerous in environments\
    \ which\n         use variable length subnet masks.  Therefore, if this feature\n\
    \         is implemented, gratuitous Address Mask Replies MUST NOT be\n      \
    \   broadcast over any logical interface(s) which either:\n         o  Are not\
    \ configured to send gratuitous Address Mask Replies.\n            Each logical\
    \ interface MUST have a configuration parameter\n            controlling this,\
    \ and that parameter MUST default to not\n            sending the gratuitous Address\
    \ Mask Replies.\n         o  Share the same IP network number and physical interface\
    \ but\n            have different subnet masks.\n         The { <Network-number>,\
    \ -1, -1 } form (on subnetted networks)\n         or the { <Network-number>, -1\
    \ } form (on non-subnetted\n         networks) of the IP broadcast address MUST\
    \ be used for\n         broadcast Address Mask Replies.\n         DISCUSSION:\n\
    \            The ability to disable sending Address Mask Replies by\n        \
    \    routers is required at a few sites which intentionally lie\n            to\
    \ their hosts about the subnet mask.  The need for this is\n            expected\
    \ to go away as more and more hosts become compliant\n            with the Host\
    \ Requirements standards.\n            The reason for both the second bullet above\
    \ and the\n            requirement about which IP broadcast address to use is\
    \ to\n            prevent problems when multiple IP networks or subnets are in\n\
    \            use on the same physical network.\n"
- title: 4.3.3.10  Router Advertisement and Solicitations
  contents:
  - "4.3.3.10  Router Advertisement and Solicitations\n         An IP router MUST\
    \ support the router part of the ICMP Router\n         Discovery Protocol [INTERNET:13]\
    \ on all connected networks on\n         which the router supports either IP multicast\
    \ or IP broadcast\n         addressing.  The implementation MUST include all of\
    \ the\n         configuration variables specified for routers, with the\n    \
    \     specified defaults.\n         DISCUSSION:\n            Routers are not required\
    \ to implement the host part of the\n            ICMP Router Discovery Protocol,\
    \ but might find it useful for\n            operation while IP forwarding is disabled\
    \ (i.e., when\n            operating as a host).\n         DISCUSSION:\n     \
    \       We note that it is quite common for hosts to use RIP as the\n        \
    \    router discovery protocol.  Such hosts listen to RIP traffic\n          \
    \  and use and use information extracted from that traffic to\n            discover\
    \ routers and to make decisions as to which router to\n            use as a first-hop\
    \ router for a given destination.  While\n            this behavior is discouraged,\
    \ it is still common and\n            implementors should be aware of it.\n"
- title: 4.4  INTERNET GROUP MANAGEMENT PROTOCOL - IGMP
  contents:
  - "4.4  INTERNET GROUP MANAGEMENT PROTOCOL - IGMP\n   IGMP [INTERNET:4] is a protocol\
    \ used between hosts and multicast\n   routers on a single physical network to\
    \ establish hosts' membership\n   in particular multicast groups.  Multicast routers\
    \ use this\n   information, in conjunction with a multicast routing protocol,\
    \ to\n   support IP multicast forwarding across the Internet.\n   A router SHOULD\
    \ implement the host part of IGMP.\n"
- title: 5.  INTERNET LAYER - FORWARDING
  contents:
  - '5.  INTERNET LAYER - FORWARDING

    '
- title: 5.1  INTRODUCTION
  contents:
  - "5.1  INTRODUCTION\n   This section describes the process of forwarding packets.\n"
- title: 5.2  FORWARDING WALK-THROUGH
  contents:
  - "5.2  FORWARDING WALK-THROUGH\n   There is no separate specification of the forwarding\
    \ function in IP.\n   Instead, forwarding is covered by the protocol specifications\
    \ for the\n   internet layer protocols ([INTERNET:1], [INTERNET:2], [INTERNET:3],\n\
    \   [INTERNET:8], and [ROUTE:11]).\n"
- title: 5.2.1  Forwarding Algorithm
  contents:
  - "5.2.1  Forwarding Algorithm\n      Since none of the primary protocol documents\
    \ describe the\n      forwarding algorithm in any detail, we present it here.\
    \  This is\n      just a general outline, and omits important details, such as\n\
    \      handling of congestion, that are dealt with in later sections.\n      It\
    \ is not required that an implementation follow exactly the\n      algorithms\
    \ given in sections [5.2.1.1], [5.2.1.2], and [5.2.1.3].\n      Much of the challenge\
    \ of writing router software is to maximize\n      the rate at which the router\
    \ can forward packets while still\n      achieving the same effect of the algorithm.\
    \  Details of how to do\n      that are beyond the scope of this document, in\
    \ part because they\n      are heavily dependent on the architecture of the router.\
    \  Instead,\n      we merely point out the order dependencies among the steps:\n\
    \      (1)  A router MUST verify the IP header, as described in section\n    \
    \       [5.2.2], before performing any actions based on the contents\n       \
    \    of the header.  This allows the router to detect and discard\n          \
    \ bad packets before the expenditure of other resources.\n      (2)  Processing\
    \ of certain IP options requires that the router\n           insert its IP address\
    \ into the option.  As noted in Section\n           [5.2.4], the address inserted\
    \ MUST be the address of the\n           logical interface on which the packet\
    \ is sent or the router's\n           router-id if the packet is sent over an\
    \ unnumbered interface.\n           Thus, processing of these options cannot be\
    \ completed until\n           after the output interface is chosen.\n      (3)\
    \  The router cannot check and decrement the TTL before checking\n           whether\
    \ the packet should be delivered to the router itself,\n           for reasons\
    \ mentioned in Section [4.2.2.9].\n      (4)  More generally, when a packet is\
    \ delivered locally to the\n           router, its IP header MUST NOT be modified\
    \ in any way (except\n           that a router may be required to insert a timestamp\
    \ into any\n           Timestamp options in the IP header).  Thus, before the\
    \ router\n           determines whether the packet is to be delivered locally\
    \ to\n           the router, it cannot update the IP header in any way that it\n\
    \           is not prepared to undo.\n"
- title: 5.2.1.1  General
  contents:
  - "5.2.1.1  General\n         This section covers the general forwarding algorithm.\
    \  This\n         algorithm applies to all forms of packets to be forwarded:\n\
    \         unicast, multicast, and broadcast.\n         (1)  The router receives\
    \ the IP packet (plus additional\n              information about it, as described\
    \ in Section [3.1]) from\n              the Link Layer.\n         (2)  The router\
    \ validates the IP header, as described in\n              Section [5.2.2].  Note\
    \ that IP reassembly is not done,\n              except on IP fragments to be\
    \ queued for local delivery in\n              step (4).\n         (3)  The router\
    \ performs most of the processing of any IP\n              options.  As described\
    \ in Section [5.2.4], some IP options\n              require additional processing\
    \ after the routing decision\n              has been made.\n         (4)  The\
    \ router examines the destination IP address of the IP\n              datagram,\
    \ as described in Section [5.2.3], to determine\n              how it should continue\
    \ to process the IP datagram.  There\n              are three possibilities:\n\
    \              o  The IP datagram is destined for the router, and should\n   \
    \              be queued for local delivery, doing reassembly if\n           \
    \      needed.\n              o  The IP datagram is not destined for the router,\
    \ and\n                 should be queued for forwarding.\n              o  The\
    \ IP datagram should be queued for forwarding, but (a\n                 copy)\
    \ must also be queued for local delivery.\n"
- title: 5.2.1.2  Unicast
  contents:
  - "5.2.1.2  Unicast\n         Since the local delivery case is well-covered by [INTRO:2],\
    \ the\n         following assumes that the IP datagram was queued for\n      \
    \   forwarding.  If the destination is an IP unicast address:\n         (5)  The\
    \ forwarder determines the next hop IP address for the\n              packet,\
    \ usually by looking up the packet's destination in\n              the router's\
    \ routing table.  This procedure is described\n              in more detail in\
    \ Section [5.2.4].  This procedure also\n              decides which network interface\
    \ should be used to send the\n              packet.\n         (6)  The forwarder\
    \ verifies that forwarding the packet is\n              permitted.  The source\
    \ and destination addresses should be\n              valid, as described in Section\
    \ [5.3.7] and Section [5.3.4]\n              If the router supports administrative\
    \ constraints on\n              forwarding, such as those described in Section\
    \ [5.3.9],\n              those constraints must be satisfied.\n         (7) \
    \ The forwarder decrements (by at least one) and checks the\n              packet's\
    \ TTL, as described in Section [5.3.1].\n         (8)  The forwarder performs\
    \ any IP option processing that could\n              not be completed in step\
    \ 3.\n         (9)  The forwarder performs any necessary IP fragmentation, as\n\
    \              described in Section [4.2.2.7].  Since this step occurs\n     \
    \         after outbound interface selection (step 5), all fragments\n       \
    \       of the same datagram will be transmitted out the same\n              interface.\n\
    \         (10) The forwarder determines the Link Layer address of the\n      \
    \        packet's next hop.  The mechanisms for doing this are Link\n        \
    \      Layer-dependent (see chapter 3).\n         (11) The forwarder encapsulates\
    \ the IP datagram (or each of the\n              fragments thereof) in an appropriate\
    \ Link Layer frame and\n              queues it for output on the interface selected\
    \ in step 5.\n         (12) The forwarder sends an ICMP redirect if necessary,\
    \ as\n              described in Section [4.3.3.2].\n"
- title: 5.2.1.3  Multicast
  contents:
  - "5.2.1.3  Multicast\n         If the destination is an IP multicast, the following\
    \ steps are\n         taken.\n         Note that the main differences between\
    \ the forwarding of IP\n         unicasts and the forwarding of IP multicasts\
    \ are\n         o  IP multicasts are usually forwarded based on both the\n   \
    \         datagram's source and destination IP addresses,\n         o  IP multicast\
    \ uses an expanding ring search,\n         o  IP multicasts are forwarded as Link\
    \ Level multicasts, and\n         o  ICMP errors are never sent in response to\
    \ IP multicast\n            datagrams.\n         Note that the forwarding of IP\
    \ multicasts is still somewhat\n         experimental. As a result, the algorithm\
    \ presented below is not\n         mandatory, and is provided as an example only.\n\
    \         (5a) Based on the IP source and destination addresses found in\n   \
    \           the datagram header, the router determines whether the\n         \
    \     datagram has been received on the proper interface for\n              forwarding.\
    \ If not, the datagram is dropped silently.  The\n              method for determining\
    \ the proper receiving interface\n              depends on the multicast routing\
    \ algorithm(s) in use. In\n              one of the simplest algorithms, reverse\
    \ path forwarding\n              (RPF), the proper interface is the one that would\
    \ be used\n              to forward unicasts back to the datagram source.\n  \
    \       (6a) Based on the IP source and destination addresses found in\n     \
    \         the datagram header, the router determines the datagram's\n        \
    \      outgoing interfaces. In order to implement IP multicast's\n           \
    \   expanding ring search (see [INTERNET:4]) a minimum TTL\n              value\
    \ is specified for each outgoing interface. A copy of\n              the multicast\
    \ datagram is forwarded out each outgoing\n              interface whose minimum\
    \ TTL value is less than or equal to\n              the TTL value in the datagram\
    \ header, by separately\n              applying the remaining steps on each such\
    \ interface.\n         (7a) The router decrements the packet's TTL by one.\n \
    \        (8a) The forwarder performs any IP option processing that could\n   \
    \           not be completed in step (3).\n         (9a) The forwarder performs\
    \ any necessary IP fragmentation, as\n              described in Section [4.2.2.7].\n\
    \         (10a) The forwarder determines the Link Layer address to use in\n  \
    \            the Link Level encapsulation. The mechanisms for doing\n        \
    \      this are Link Layer-dependent. On LANs a Link Level\n              multicast\
    \ or broadcast is selected, as an algorithmic\n              translation of the\
    \ datagrams' class D destination address.\n              See the various IP-over-xxx\
    \ specifications for more\n              details.\n         (11a) The forwarder\
    \ encapsulates the packet (or each of the\n              fragments thereof) in\
    \ an appropriate Link Layer frame and\n              queues it for output on the\
    \ appropriate interface.\n"
- title: 5.2.2  IP Header Validation
  contents:
  - "5.2.2  IP Header Validation\n      Before a router can process any IP packet,\
    \ it MUST perform a the\n      following basic validity checks on the packet's\
    \ IP header to\n      ensure that the header is meaningful.  If the packet fails\
    \ any of\n      the following tests, it MUST be silently discarded, and the error\n\
    \      SHOULD be logged.\n      (1)  The packet length reported by the Link Layer\
    \ must be large\n           enough to hold the minimum length legal IP datagram\
    \ (20\n           bytes).\n      (2)  The IP checksum must be correct.\n     \
    \ (3)  The IP version number must be 4.  If the version number is\n          \
    \ not 4 then the packet may well be another version of IP, such\n           as\
    \ ST-II.\n      (4)  The IP header length field must be at least 5.\n      (5)\
    \  The IP total length field must be at least 4 * IP header\n           length\
    \ field.\n      A router MUST NOT have a configuration option which allows\n \
    \     disabling any of these tests.\n      If the packet passes the second and\
    \ third tests, the IP header\n      length field is at least 4, and both the IP\
    \ total length field and\n      the packet length reported by the Link Layer are\
    \ at least 16 then,\n      despite the above rule, the router MAY respond with\
    \ an ICMP\n      Parameter Problem message, whose pointer points at the IP header\n\
    \      length field (if it failed the fourth test) or the IP total length\n  \
    \    field (if it failed the fifth test).  However, it still MUST\n      discard\
    \ the packet and still SHOULD log the error.\n      These rules (and this entire\
    \ document) apply only to version 4 of\n      the Internet Protocol.  These rules\
    \ should not be construed as\n      prohibiting routers from supporting other\
    \ versions of IP.\n      Furthermore, if a router can truly classify a packet\
    \ as being some\n      other version of IP then it ought not treat that packet\
    \ as an\n      error packet within the context of this memo.\n      IMPLEMENTATION:\n\
    \         It is desirable for purposes of error reporting, though not\n      \
    \   always entirely possible, to determine why a header was\n         invalid.\
    \  There are four possible reasons:\n         o  The Link Layer truncated the\
    \ IP header\n         o  The datagram is using a version of IP other than the\n\
    \            standard one (version 4).\n         o  The IP header has been corrupted\
    \ in transit.\n         o  The sender generated an illegal IP header.\n      \
    \   It is probably desirable to perform the checks in the order\n         listed,\
    \ since we believe that this ordering is most likely to\n         correctly categorize\
    \ the cause of the error.  For purposes of\n         error reporting, it may also\
    \ be desirable to check if a packet\n         which fails these tests has an IP\
    \ version number equal to 6.\n         If it does, the packet is probably an ST-II\
    \ datagram and should\n         be treated as such.  ST-II is described in [FORWARD:1].\n\
    \      Additionally, the router SHOULD verify that the packet length\n      reported\
    \ by the Link Layer is at least as large as the IP total\n      length recorded\
    \ in the packet's IP header.  If it appears that the\n      packet has been truncated,\
    \ the packet MUST be discarded, the error\n      SHOULD be logged, and the router\
    \ SHOULD respond with an ICMP\n      Parameter Problem message whose pointer points\
    \ at the IP total\n      length field.\n      DISCUSSION:\n         Because any\
    \ higher layer protocol which concerns itself with\n         data corruption will\
    \ detect truncation of the packet data when\n         it reaches its final destination,\
    \ it is not absolutely\n         necessary for routers to perform the check suggested\
    \ above in\n         order to maintain protocol correctness.  However, by making\n\
    \         this check a router can simplify considerably the task of\n        \
    \ determining which hop in the path is truncating the packets.\n         It will\
    \ also reduce the expenditure of resources down-stream\n         from the router\
    \ in that down-stream systems will not need to\n         deal with the packet.\n\
    \      Finally, if the destination address in the IP header is not one of\n  \
    \    the addresses of the router, the router SHOULD verify that the\n      packet\
    \ does not contain a Strict Source and Record Route option.\n      If a packet\
    \ fails this test, the router SHOULD log the error and\n      SHOULD respond with\
    \ an ICMP Parameter Problem error with the\n      pointer pointing at the offending\
    \ packet's IP destination address.\n      DISCUSSION:\n         Some people might\
    \ suggest that the router should respond with a\n         Bad Source Route message\
    \ instead of a Parameter Problem\n         message.  However, when a packet fails\
    \ this test, it usually\n         indicates a protocol error by the previous hop\
    \ router, whereas\n         Bad Source Route would suggest that the source host\
    \ had\n         requested a nonexistent or broken path through the network.\n"
- title: 5.2.3  Local Delivery Decision
  contents:
  - "5.2.3  Local Delivery Decision\n      When a router receives an IP packet, it\
    \ must decide whether the\n      packet is addressed to the router (and should\
    \ be delivered\n      locally) or the packet is addressed to another system (and\
    \ should\n      be handled by the forwarder).  There is also a hybrid case, where\n\
    \      certain IP broadcasts and IP multicasts are both delivered locally\n  \
    \    and forwarded.  A router MUST determine which of the these three\n      cases\
    \ applies using the following rules:\n      o  An unexpired source route option\
    \ is one whose pointer value\n         does not point past the last entry in the\
    \ source route.  If the\n         packet contains an unexpired source route option,\
    \ the pointer\n         in the option is advanced until either the pointer does\
    \ point\n         past the last address in the option or else the next address\
    \ is\n         not one of the router's own addresses.  In the latter (normal)\n\
    \         case, the  packet is forwarded (and not delivered locally)\n       \
    \  regardless of the rules below.\n      o  The packet is delivered locally and\
    \ not considered for\n         forwarding in the following cases:\n         -\
    \ The packet's destination address exactly matches one of the\n            router's\
    \ IP addresses,\n         - The packet's destination address is a limited broadcast\n\
    \            address ({-1, -1}), and\n         - The packet's destination is an\
    \ IP multicast address which is\n            limited to a single subnet (such\
    \ as 224.0.0.1 or 224.0.0.2)\n            and (at least) one of the logical interfaces\
    \ associated with\n            the physical interface on which the packet arrived\
    \ is a\n            member of the destination multicast group.\n      o  The packet\
    \ is passed to the forwarder AND delivered locally in\n         the following\
    \ cases:\n         - The packet's destination address is an IP broadcast address\n\
    \            that addresses at least one of the router's logical\n           \
    \ interfaces but does not address any of the logical\n            interfaces associated\
    \ with the physical interface on which\n            the packet arrived\n     \
    \    - The packet's destination is an IP multicast address which is\n        \
    \    not limited to a single subnetwork (such as 224.0.0.1 and\n            224.0.0.2\
    \ are) and (at least) one of the logical interfaces\n            associated with\
    \ the physical interface on which the packet\n            arrived is a member\
    \ of the destination multicast group.\n      o  The packet is delivered locally\
    \ if the packet's destination\n         address is an IP broadcast address (other\
    \ than a limited\n         broadcast address) that addresses at least one of the\
    \ logical\n         interfaces associated with the physical interface on which\
    \ the\n         packet arrived.  The packet is ALSO passed to the forwarder\n\
    \         unless the link on which the packet arrived uses an IP\n         encapsulation\
    \ that does not encapsulate broadcasts differently\n         than unicasts (e.g.\
    \ by using different Link Layer destination\n         addresses).\n      o  The\
    \ packet is passed to the forwarder in all other cases.\n      DISCUSSION:\n \
    \        The purpose of the requirement in the last sentence of the\n        \
    \ fourth bullet is to deal with a directed broadcast to another\n         net\
    \ or subnet on the same physical cable.  Normally, this works\n         as expected:\
    \ the sender sends the broadcast to the router as a\n         Link Layer unicast.\
    \  The router notes that it arrived as a\n         unicast, and therefore must\
    \ be destined for a different logical\n         net (or subnet) than the sender\
    \ sent it on.  Therefore, the\n         router can safely send it as a Link Layer\
    \ broadcast out the\n         same (physical) interface over which it arrived.\
    \  However, if\n         the router can't tell whether the packet was received\
    \ as a Link\n         Layer unicast, the sentence ensures that the router does\
    \ the\n         safe but wrong thing rather than the unsafe but right thing.\n\
    \      IMPLEMENTATION:\n         As described in Section [5.3.4], packets received\
    \ as Link Layer\n         broadcasts are generally not forwarded.  It may be advantageous\n\
    \         to avoid passing to the forwarder packets it would later\n         discard\
    \ because of the rules in that section.\n         Some Link Layers (either because\
    \ of the hardware or because of\n         special code in the drivers) can deliver\
    \ to the router copies\n         of all Link Layer broadcasts and multicasts it\
    \ transmits.  Use\n         of this feature can simplify the implementation of\
    \ cases where\n         a packet has to both be passed to the forwarder and delivered\n\
    \         locally, since forwarding the packet will automatically cause\n    \
    \     the router to receive a copy of the packet that it can then\n         deliver\
    \ locally.  One must use care in these circumstances in\n         order to prevent\
    \ treating a received loop-back packet as a\n         normal packet that was received\
    \ (and then being subject to the\n         rules of forwarding, etc etc).\n  \
    \       Even in the absence of such a Link Layer, it is of course\n         hardly\
    \ necessary to make a copy of an entire packet in order to\n         queue it\
    \ both for forwarding and for local delivery, though\n         care must be taken\
    \ with fragments, since reassembly is\n         performed on locally delivered\
    \ packets but not on forwarded\n         packets.  One simple scheme is to associate\
    \ a flag with each\n         packet on the router's output queue which indicates\
    \ whether it\n         should be queued for local delivery after it has been sent.\n"
- title: 5.2.4  Determining the Next Hop Address
  contents:
  - "5.2.4  Determining the Next Hop Address\n      When a router is going to forward\
    \ a packet, it must determine\n      whether it can send it directly to its destination,\
    \ or whether it\n      needs to pass it through another router.  If the latter,\
    \ it needs\n      to determine which router to use.  This section explains how\
    \ these\n      determinations are made.\n      This section makes use of the following\
    \ definitions:\n      o  LSRR - IP Loose Source and Record Route option\n    \
    \  o  SSRR - IP Strict Source and Record Route option\n      o  Source Route Option\
    \ - an LSRR or an SSRR\n      o  Ultimate Destination Address - where the packet\
    \ is being sent\n         to: the last address in the source route of a source-routed\n\
    \         packet, or the destination address in the IP header of a non-\n    \
    \     source-routed packet\n      o  Adjacent - reachable without going through\
    \ any IP routers\n      o  Next Hop Address - the IP address of the adjacent host\
    \ or\n         router to which the packet should be sent next\n      o  Immediate\
    \ Destination Address - the ultimate destination\n         address, except in\
    \ source routed packets, where it is the next\n         address specified in the\
    \ source route\n      o  Immediate Destination - the node, system, router, end-system,\n\
    \         or whatever that is addressed by the Immediate Destination\n       \
    \  Address.\n"
- title: 5.2.4.1  Immediate Destination Address
  contents:
  - "5.2.4.1  Immediate Destination Address\n         If the destination address in\
    \ the IP header is one of the\n         addresses of the router and the packet\
    \ contains a Source Route\n         Option, the Immediate Destination Address\
    \ is the address\n         pointed at by the pointer in that option if the pointer\
    \ does\n         not point past the end of the option.  Otherwise, the Immediate\n\
    \         Destination Address is the same as the IP destination address\n    \
    \     in the IP header.\n         A router MUST use the Immediate Destination\
    \ Address, not the\n         Ultimate Destination Address, when determining how\
    \ to handle a\n         packet.\n         It is an error for more than one source\
    \ route option to appear\n         in a datagram.  If it receives one, it SHOULD\
    \ discard the\n         packet and reply with an ICMP Parameter Problem message\
    \ whose\n         pointer points at the beginning of the second source route\n\
    \         option.\n"
- title: 5.2.4.2  Local/Remote Decision
  contents:
  - "5.2.4.2  Local/Remote Decision\n         After it has been determined that the\
    \ IP packet needs to be\n         forwarded in accordance with the rules specified\
    \ in Section\n         [5.2.3], the following algorithm MUST be used to determine\
    \ if\n         the Immediate Destination is directly accessible (see\n       \
    \  [INTERNET:2]):\n         (1)  For each network interface that has not been\
    \ assigned any\n              IP address (the unnumbered lines as described in\
    \ Section\n              [2.2.7]), compare the router-id of the other end of the\n\
    \              line to the Immediate Destination Address.  If they are\n     \
    \         exactly equal, the packet can be transmitted through this\n        \
    \      interface.\n              DISCUSSION:\n                 In other words,\
    \ the router or host at the remote end of\n                 the line is the destination\
    \ of the packet or is the\n                 next step in the source route of a\
    \ source routed\n                 packet.\n         (2)  If no network interface\
    \ has been selected in the first\n              step, for each IP address assigned\
    \ to the router:\n              (a)  Apply the subnet mask associated with the\
    \ address to\n                   this IP address.\n                   IMPLEMENTATION:\n\
    \                      The result of this operation will usually have\n      \
    \                been computed and saved during initialization.\n            \
    \  (b)  Apply the same subnet mask to the Immediate\n                   Destination\
    \ Address of the packet.\n              (c)  Compare the resulting values. If\
    \ they are equal to\n                   each other, the packet can be transmitted\
    \ through the\n                   corresponding network interface.\n         (3)\
    \  If an interface has still not been selected, the Immediate\n              Destination\
    \ is accessible only through some other router.\n              The selection of\
    \ the router and the next hop IP address is\n              described in Section\
    \ [5.2.4.3].\n"
- title: 5.2.4.3  Next Hop Address
  contents:
  - "5.2.4.3  Next Hop Address\n         EDITOR'S COMMENTS:\n            Note that\
    \ this section has been extensively rewritten.  The\n            original document\
    \ indicated that Phil Almquist wished to\n            revise this section to conform\
    \ to his \"Ruminations on the\n            Next Hop\" document.  I am under the\
    \ assumption that the\n            working group generally agreed with this goal;\
    \ there was an\n            editor's note from Phil that remained in this document\
    \ to\n            that effect, and the RoNH document contains a \"mandatory\n\
    \            RRWG algorithm\".\n            So, I have taken said algorithm from\
    \ RoNH and moved it into\n            here.\n            Additional useful or\
    \ interesting information from RoNH has\n            been extracted and placed\
    \ into an appendix to this note.\n         The router applies the algorithm in\
    \ the previous section to\n         determine if the Immediate Destination Address\
    \ is adjacent.  If\n         so, the next hop address is the same as the Immediate\n\
    \         Destination Address.  Otherwise, the packet must be forwarded\n    \
    \     through another router to reach its Immediate Destination.  The\n      \
    \   selection of this router is the topic of this section.\n         If the packet\
    \ contains an SSRR, the router MUST discard the\n         packet and reply with\
    \ an ICMP Bad Source Route error.\n         Otherwise, the router looks up the\
    \ Immediate Destination\n         Address in its routing table to determine an\
    \ appropriate next\n         hop address.\n         DISCUSSION:\n            Per\
    \ the IP specification, a Strict Source Route must specify\n            a sequence\
    \ of nodes through which the packet must traverse;\n            the packet must\
    \ go from one node of the source route to the\n            next, traversing intermediate\
    \ networks only.  Thus, if the\n            router is not adjacent to the next\
    \ step of the source route,\n            the source route can not be fulfilled.\
    \  Therefore, the ICMP\n            Bad Source Route error.\n         The goal\
    \ of the next-hop selection process is to examine the\n         entries in the\
    \ router's Forwarding Information Base (FIB) and\n         select the best route\
    \ (if there is one) for the packet from\n         those available in the FIB.\n\
    \         Conceptually, any route lookup algorithm starts out with a set\n   \
    \      of candidate routes which consists of the entire contents of\n        \
    \ the FIB.  The algorithm consists of a series of steps which\n         discard\
    \ routes from the set.  These steps are referred to as\n         Pruning Rules.\
    \  Normally, when the algorithm terminates there\n         is exactly one route\
    \ remaining in the set.  If the set ever\n         becomes empty, the packet is\
    \ discarded because the destination\n         is unreachable.  It is also possible\
    \ for the algorithm to\n         terminate when more than one route remains in\
    \ the set.  In this\n         case, the router may arbitrarily discard all but\
    \ one of them,\n         or may perform \"load-splitting\" by choosing whichever\
    \ of the\n         routes has been least recently used.\n         With the exception\
    \ of rule 3 (Weak TOS), a router MUST use the\n         following Pruning Rules\
    \ when selecting a next hop for a packet.\n         If a router does consider\
    \ TOS when making next-hop decisions,\n         the Rule 3 must be applied in\
    \ the order indicated below.  These\n         rules MUST be (conceptually) applied\
    \ to the FIB in the order\n         that they are presented.  (For some historical\
    \ perspective,\n         additional pruning rules, and other common algorithms\
    \ in use,\n         see Appendix E).\n         DISCUSSION:\n            Rule 3\
    \ is optional in that Section [5.3.2] says that a\n            router only SHOULD\
    \ consider TOS when making forwarding\n            decisions.\n         (1)  Basic\
    \ Match\n              This rule discards any routes to destinations other than\n\
    \              the Immediate Destination Address of the packet.  For\n       \
    \       example, if a packet's Immediate Destination Address is\n            \
    \  36.144.2.5, this step would discard a route to net\n              128.12.0.0\
    \ but would retain any routes to net 36.0.0.0,\n              any routes to subnet\
    \ 36.144.0.0, and any default routes.\n              More precisely, we assume\
    \ that each route has a\n              destination attribute, called route.dest,\
    \ and a\n              corresponding mask, called route.mask, to specify which\n\
    \              bits of route.dest are significant.  The Immediate\n          \
    \    Destination Address of the packet being forwarded is\n              ip.dest.\
    \  This rule discards all routes from the set of\n              candidate routes\
    \ except those for which (route.dest &\n              route.mask) = (ip.dest &\
    \ route.mask).\n         (2)  Longest Match\n              Longest Match is a\
    \ refinement of Basic Match, described\n              above.  After Basic Match\
    \ pruning is performed, the\n              remaining routes are examined to determine\
    \ the maximum\n              number of bits set in any of their route.mask attributes.\n\
    \              The step then discards from the set of candidate routes\n     \
    \         any routes which have fewer than that maximum number of\n          \
    \    bits set in their route.mask attributes.\n              For example, if a\
    \ packet's Immediate Destination Address\n              is 36.144.2.5 and there\
    \ are  {route.dest, route.mask}\n              pairs of {36.144.2.0, 255.255.255.0},\
    \ {36.144.0.5,\n              255.255.0.255}, {36.144.0.0, 255.255.0.0}, and {36.0.0.0,\n\
    \              255.0.0.0}, then this rule would keep only the first two\n    \
    \          pairs; {36.144.2.0, 255.255.255.0} and {36.144.0.5,\n             \
    \ 255.255.0.255}.\n         (3)  Weak TOS\n              Each route has a type\
    \ of service attribute, called\n              route.tos, whose possible values\
    \ are assumed to be\n              identical to those used in the TOS field of\
    \ the IP header.\n              Routing protocols which distribute TOS information\
    \ fill in\n              route.tos appropriately in routes they add to the FIB;\n\
    \              routes from other routing protocols are treated as if they\n  \
    \            have the default TOS (0000).  The TOS field in the IP\n         \
    \     header of the packet being routed is called ip.tos.\n              The set\
    \ of candidate routes is examined to determine if it\n              contains any\
    \ routes for which route.tos = ip.tos.  If so,\n              all routes except\
    \ those for which route.tos = ip.tos are\n              discarded.  If not, all\
    \ routes except those for which\n              route.tos = 0000 are discarded\
    \ from the set of candidate\n              routes.\n              Additional discussion\
    \ of routing based on Weak TOS may be\n              found in [ROUTE:11].\n  \
    \            DISCUSSION:\n                 The effect of this rule is to select\
    \ only those routes\n                 which have a TOS that matches the TOS requested\
    \ in the\n                 packet.  If no such routes exist then routes with the\n\
    \                 default TOS are considered.  Routes with a non-default\n   \
    \              TOS that is not the TOS requested in the packet are\n         \
    \        never used, even if such routes are the only available\n            \
    \     routes that go to the packet's destination.\n         (4)  Best Metric\n\
    \              Each route has a metric attribute, called route.metric,\n     \
    \         and a routing domain identifier, called route.domain.\n            \
    \  Each member of the set of candidate routes is compared\n              with\
    \ each other member of the set.  If route.domain is\n              equal for the\
    \ two routes and route.metric is strictly\n              inferior for one when\
    \ compared with the other, then the\n              one with the inferior metric\
    \ is discarded from the set.\n              The determination of inferior is usually\
    \ by a simple\n              arithmetic comparison, though some protocols may\
    \ have\n              structured metrics requiring more complex comparisons.\n\
    \         (5)  Vendor Policy\n              Vendor Policy is sort of a catch-all\
    \ to make up for the\n              fact that the previously listed rules are\
    \ often inadequate\n              to chose from among the possible routes.  Vendor\
    \ Policy\n              pruning rules are extremely vendor-specific.  See section\n\
    \              [5.2.4.4].\n         This algorithm has two distinct disadvantages.\
    \  Presumably, a\n         router implementor might develop techniques to deal\
    \ with these\n         disadvantages and make them a part of the Vendor Policy\
    \ pruning\n         rule.\n         (1)  IS-IS and OSPF route classes are not\
    \ directly handled.\n         (2)  Path properties other than type of service\
    \ (e.g. MTU) are\n              ignored.\n         It is also worth noting a deficiency\
    \ in the way that TOS is\n         supported: routing protocols which support\
    \ TOS are implicitly\n         preferred when forwarding packets which have non-zero\
    \ TOS\n         values.\n         The Basic Match and Longest Match pruning rules\
    \ generalize the\n         treatment of a number of particular types of routes.\
    \  These\n         routes are selected in the following, decreasing, order of\n\
    \         preference:\n         (1)  Host Route: This is a route to a specific\
    \ end system.\n         (2)  Subnetwork Route: This is a route to a particular\
    \ subnet\n              of a network.\n         (3)  Default Subnetwork Route:\
    \ This is a route to all subnets\n              of a particular net for which\
    \ there are not (explicit)\n              subnet routes.\n         (4)  Network\
    \ Route: This is a route to a particular network.\n         (5)  Default Network\
    \ Route (also known as the default route):\n              This is a route to all\
    \ networks for which there are no\n              explicit routes to the net or\
    \ any of its subnets.\n         If, after application of the pruning rules, the\
    \ set of routes\n         is empty (i.e., no routes were found), the packet MUST\
    \ be\n         discarded and an appropriate ICMP error generated (ICMP Bad\n \
    \        Source Route if the Immediate Destination Address came from a\n     \
    \    source route option; otherwise, whichever of ICMP Destination\n         Host\
    \ Unreachable or Destination Network Unreachable is\n         appropriate, as\
    \ described in Section [4.3.3.1]).\n"
- title: 5.2.4.4  Administrative Preference
  contents:
  - "5.2.4.4  Administrative Preference\n         One suggested mechanism for the\
    \ Vendor Policy Pruning Rule is\n         to use administrative preference.\n\
    \         Each route has associated with it a preference value, based on\n   \
    \      various attributes of the route (specific mechanisms for\n         assignment\
    \ of preference values are suggested below).  This\n         preference value\
    \ is an integer in the range [0..255], with zero\n         being the most preferred\
    \ and 254 being the least preferred.\n         255 is a special value that means\
    \ that the route should never\n         be used.  The first step in the Vendor\
    \ Policy pruning rule\n         discards all but the most preferable routes (and\
    \ always\n         discards routes whose preference value is 255).\n         This\
    \ policy is not safe in that it can easily be misused to\n         create routing\
    \ loops.  Since no protocol ensures that the\n         preferences configured\
    \ for a router are consistent with the\n         preferences configured in its\
    \ neighbors, network managers must\n         exercise care in configuring preferences.\n\
    \         o  Address Match\n            It is useful to be able to assign a single\
    \ preference value\n            to all routes (learned from the same routing domain)\
    \ to any\n            of a specified set of destinations, where the set of\n \
    \           destinations is all destinations that match a specified\n        \
    \    address/mask pair.\n         o  Route Class\n            For routing protocols\
    \ which maintain the distinction, it is\n            useful to be able to assign\
    \ a single preference value to all\n            routes (learned from the same\
    \ routing domain) which have a\n            particular route class (intra-area,\
    \ inter-area, external\n            with internal metrics, or external with external\
    \ metrics).\n         o  Interface\n            It is useful to be able to assign\
    \ a single preference value\n            to all routes (learned from a particular\
    \ routing domain)\n            that would cause packets to be routed out a particular\n\
    \            logical interface on the router (logical interfaces\n           \
    \ generally map one-to-one onto the router's network\n            interfaces,\
    \ except that any network interface which has\n            multiple IP addresses\
    \ will have multiple logical interfaces\n            associated with it).\n  \
    \       o  Source router\n            It is useful to be able to assign a single\
    \ preference value\n            to all routes (learned from the same routing domain)\
    \ which\n            were learned from any of a set of routers, where the set\
    \ of\n            routers are those whose updates have a source address which\n\
    \            match a specified address/mask pair.\n         o  Originating AS\n\
    \            For routing protocols which provide the information, it is\n    \
    \        useful to be able to assign a single preference value to all\n      \
    \      routes (learned from a particular routing domain) which\n            originated\
    \ in another particular routing domain.  For BGP\n            routes, the originating\
    \ AS is the first AS listed in the\n            route's AS_PATH attribute.  For\
    \ OSPF external routes, the\n            originating AS may be considered to be\
    \ the low order 16 bits\n            of the route's external route tag if the\
    \ tag's Automatic bit\n            is set and the tag's PathLength is not equal\
    \ to 3.\n         o  External route tag\n            It is useful to be able to\
    \ assign a single preference value\n            to all OSPF external routes (learned\
    \ from the same routing\n            domain) whose external route tags match any\
    \ of a list of\n            specified values.  Because the external route tag\
    \ may\n            contain a structured value, it may be useful to provide the\n\
    \            ability to match particular subfields of the tag.\n         o  AS\
    \ path\n            It may be useful to be able to assign a single preference\n\
    \            value to all BGP routes (learned from the same routing\n        \
    \    domain) whose AS path \"matches\" any of a set of specified\n           \
    \ values.  It is not yet clear exactly what kinds of matches\n            are\
    \ most useful.  A simple option would be to allow matching\n            of all\
    \ routes for which a particular AS number appears (or\n            alternatively,\
    \ does not appear) anywhere in the route's\n            AS_PATH attribute.  A\
    \ more general but somewhat more\n            difficult alternative would be to\
    \ allow matching all routes\n            for which the AS path matches a specified\
    \ regular\n            expression.\n"
- title: 5.2.4.6  Load Splitting
  contents:
  - "5.2.4.6  Load Splitting\n         At the end of the Next-hop selection process,\
    \ multiple routes\n         may still remain.  A router has several options when\
    \ this\n         occurs.  It may arbitrarily discard some of the routes.  It may\n\
    \         reduce the number of candidate routes by comparing metrics of\n    \
    \     routes from routing domains which are not considered\n         equivalent.\
    \  It may retain more than one route and employ a\n         load-splitting mechanism\
    \ to divide traffic among them.  Perhaps\n         the only thing that can be\
    \ said about the relative merits of\n         the options is that load-splitting\
    \ is useful in some situations\n         but not in others, so a wise implementor\
    \ who implements load-\n         splitting will also provide a way for the network\
    \ manager to\n         disable it.\n"
- title: '5.2.5  Unused IP Header Bits: RFC-791 Section 3.1'
  contents:
  - "5.2.5  Unused IP Header Bits: RFC-791 Section 3.1\n      The IP header contains\
    \ several reserved bits, in the Type of\n      Service field and in the Flags\
    \ field.  Routers MUST NOT drop\n      packets merely because one or more of these\
    \ reserved bits has a\n      non-zero value.\n      Routers MUST ignore and MUST\
    \ pass through unchanged the values of\n      these reserved bits.  If a router\
    \ fragments a packet, it MUST copy\n      these bits into each fragment.\n   \
    \   DISCUSSION:\n         Future revisions to the IP protocol may make use of\
    \ these\n         unused bits.  These rules are intended to ensure that these\n\
    \         revisions can be deployed without having to simultaneously\n       \
    \  upgrade all routers in the Internet.\n"
- title: '5.2.6  Fragmentation and Reassembly: RFC-791 Section 3.2'
  contents:
  - "5.2.6  Fragmentation and Reassembly: RFC-791 Section 3.2\n      As was discussed\
    \ in Section [4.2.2.7], a router MUST support IP\n      fragmentation.\n     \
    \ A router MUST NOT reassemble any datagram before forwarding it.\n      DISCUSSION:\n\
    \         A few people have suggested that there might be some topologies\n  \
    \       where reassembly of transit datagrams by routers might improve\n     \
    \    performance.  In general, however, the fact that fragments may\n        \
    \ take different paths to the destination precludes safe use of\n         such\
    \ a feature.\n         Nothing in this section should be construed to control\
    \ or limit\n         fragmentation or reassembly performed as a link layer function\n\
    \         by the router.\n"
- title: 5.2.7  Internet Control Message Protocol - ICMP
  contents:
  - "5.2.7  Internet Control Message Protocol - ICMP\n      General requirements for\
    \ ICMP were discussed in Section [4.3].\n      This section discusses ICMP messages\
    \ which are sent only by\n      routers.\n"
- title: 5.2.7.1  Destination Unreachable
  contents:
  - "5.2.7.1  Destination Unreachable\n         The ICMP Destination Unreachable message\
    \ is sent by a router in\n         response to a packet which it cannot forward\
    \ because the\n         destination (or next hop) is unreachable or a service\
    \ is\n         unavailable\n         A router MUST be able to generate ICMP Destination\
    \ Unreachable\n         messages and SHOULD choose a response code that most closely\n\
    \         matches the reason why the message is being generated.\n         The\
    \ following codes are defined in [INTERNET:8] and [INTRO:2]:\n         0 =  Network\
    \ Unreachable - generated by a router if a\n              forwarding path (route)\
    \ to the destination network is not\n              available;\n         1 =  Host\
    \ Unreachable - generated by a router if a forwarding\n              path (route)\
    \ to the destination host on a directly\n              connected network is not\
    \ available;\n         2 =  Protocol Unreachable - generated if the transport\
    \ protocol\n              designated in a datagram is not supported in the transport\n\
    \              layer of the final destination;\n         3 =  Port Unreachable\
    \ -  generated if the designated transport\n              protocol (e.g. UDP)\
    \ is unable to demultiplex the datagram\n              in the transport layer\
    \ of the final destination but has no\n              protocol mechanism to inform\
    \ the sender;\n         4 =  Fragmentation Needed and DF Set - generated if a\
    \ router\n              needs to fragment a datagram but cannot since the DF flag\n\
    \              is set;\n         5 =  Source Route Failed - generated if a router\
    \ cannot forward\n              a packet to the next hop in a source route option;\n\
    \         6 =  Destination Network Unknown - This code SHOULD NOT be\n       \
    \       generated since it would imply on the part of the router\n           \
    \   that the destination network does not exist (net\n              unreachable\
    \ code 0 SHOULD be used in place of code 6);\n         7 =  Destination Host Unknown\
    \ - generated only when a router\n              can determine (from link layer\
    \ advice) that the\n              destination host does not exist;\n         11\
    \ = Network Unreachable For Type Of Service - generated by a\n              router\
    \ if a forwarding path (route) to the destination\n              network with\
    \ the requested or default TOS is not\n              available;\n         12 =\
    \ Host Unreachable For Type Of Service - generated if a\n              router\
    \ cannot forward a packet because its route(s) to the\n              destination\
    \ do not match either the TOS requested in the\n              datagram or the\
    \ default TOS (0).\n         The following additional codes are hereby defined:\n\
    \         13 = Communication Administratively Prohibited - generated if a\n  \
    \            router cannot forward a packet due to administrative\n          \
    \    filtering;\n         14 = Host Precedence Violation.  Sent by the first hop\
    \ router\n              to a host to indicate that a requested precedence is not\n\
    \              permitted for the particular combination of\n              source/destination\
    \ host or network, upper layer protocol,\n              and source/destination\
    \ port;\n         15 = Precedence cutoff in effect.  The network operators have\n\
    \              imposed a minimum level of precedence required for\n          \
    \    operation, the datagram was sent with a precedence below\n              this\
    \ level;\n         NOTE: [INTRO:2] defined Code 8 for source host isolated.\n\
    \         Routers SHOULD NOT generate Code 8; whichever of Codes 0\n         (Network\
    \ Unreachable) and 1 (Host Unreachable) is appropriate\n         SHOULD be used\
    \ instead.  [INTRO:2] also defined Code 9 for\n         communication with destination\
    \ network administratively\n         prohibited and Code 10 for communication\
    \ with destination host\n         administratively prohibited.  These codes were\
    \ intended for use\n         by end-to-end encryption devices used by U.S military\
    \ agencies.\n         Routers SHOULD use the newly defined Code 13 (Communication\n\
    \         Administratively Prohibited) if they administratively filter\n     \
    \    packets.\n         Routers MAY have a configuration option that causes Code\
    \ 13\n         (Communication Administratively Prohibited) messages not to be\n\
    \         generated.  When this option is enabled, no ICMP error message\n   \
    \      is sent in response to a packet which is dropped because its\n        \
    \ forwarding is administratively prohibited.\n         Similarly, routers MAY\
    \ have a configuration option that causes\n         Code 14 (Host Precedence Violation)\
    \ and Code 15 (Precedence\n         Cutoff in Effect) messages not to be generated.\
    \  When this\n         option is enabled, no ICMP error message is sent in response\
    \ to\n         a packet which is dropped  because of a precedence violation.\n\
    \         Routers MUST use Host Unreachable or Destination Host Unknown\n    \
    \     codes whenever other hosts on the same destination network\n         might\
    \ be reachable; otherwise, the source host may erroneously\n         conclude\
    \ that all hosts on the network are unreachable, and\n         that may not be\
    \ the case.\n         [INTERNET:14] describes a slight modification the form of\n\
    \         Destination Unreachable messages containing Code 4\n         (Fragmentation\
    \ needed and DF set).  A router MUST use this\n         modified form when originating\
    \ Code 4 Destination Unreachable\n         messages.\n"
- title: 5.2.7.2  Redirect
  contents:
  - "5.2.7.2  Redirect\n         The ICMP Redirect message is generated to inform\
    \ a host on the\n         same subnet that the router used by the host to route\
    \ certain\n         packets should be changed.\n         Routers MUST NOT generate\
    \ the Redirect for Network or Redirect\n         for Network and Type of Service\
    \ messages (Codes 0 and 2)\n         specified in [INTERNET:8].  Routers MUST\
    \ be able to generate\n         the Redirect for Host message (Code 1) and SHOULD\
    \ be able to\n         generate the Redirect for Type of Service and Host message\n\
    \         (Code 3) specified in [INTERNET:8].\n         DISCUSSION:\n        \
    \    If the directly-connected network is not subnetted, a router\n          \
    \  can normally generate a network Redirect which applies to\n            all\
    \ hosts on a specified remote network.  Using a network\n            rather than\
    \ a host Redirect may economize slightly on\n            network traffic and on\
    \ host routing table storage.  However,\n            the savings are not significant,\
    \ and subnets create an\n            ambiguity about the subnet mask to be used\
    \ to interpret a\n            network Redirect.  In a general subnet environment,\
    \ it is\n            difficult to specify precisely the cases in which network\n\
    \            Redirects can be used.  Therefore, routers must send only\n     \
    \       host (or host and type of service) Redirects.\n         A Code 3 (Redirect\
    \ for Host and Type of Service) message is\n         generated when the packet\
    \ provoking the redirect has a\n         destination for which the path chosen\
    \ by the router would\n         depend (in part) on the TOS requested.\n     \
    \    Routers which can generate Code 3 redirects (Host and Type of\n         Service)\
    \ MUST have a configuration option (which defaults to\n         on) to enable\
    \ Code 1 (Host) redirects to be substituted for\n         Code 3 redirects.  A\
    \ router MUST send a Code 1 Redirect in\n         place of a Code 3 Redirect if\
    \ it has been configured to do so.\n         If a router is not able to generate\
    \ Code 3 Redirects then it\n         MUST generate Code 1 Redirects in situations\
    \ where a Code 3\n         Redirect is called for.\n         Routers MUST NOT\
    \ generate a Redirect Message unless all of the\n         following conditions\
    \ are met:\n         o  The packet is being forwarded out the same physical\n\
    \            interface that it was received from,\n         o  The IP source address\
    \ in the packet is on the same Logical\n            IP (sub)network as the next-hop\
    \ IP address, and\n         o  The packet does not contain an IP source route\
    \ option.\n         The source address used in the ICMP Redirect MUST belong to\
    \ the\n         same logical (sub)net as the destination address.\n         A\
    \ router using a routing protocol (other than static routes)\n         MUST NOT\
    \ consider paths learned from ICMP Redirects when\n         forwarding a packet.\
    \  If a router is not using a routing\n         protocol, a router MAY have a\
    \ configuration which, if set,\n         allows the router to consider routes\
    \ learned via ICMP Redirects\n         when forwarding packets.\n         DISCUSSION:\n\
    \            ICMP Redirect is a mechanism for routers to convey routing\n    \
    \        information to hosts.  Routers use other mechanisms to learn\n      \
    \      routing information, and therefore have no reason to obey\n           \
    \ redirects.  Believing a redirect which contradicted the\n            router's\
    \ other information would likely create routing\n            loops.\n        \
    \    On the other hand, when a router is not acting as a router,\n           \
    \ it MUST comply with the behavior required of a host.\n"
- title: 5.2.7.3  Time Exceeded
  contents:
  - "5.2.7.3  Time Exceeded\n         A router MUST generate a Time Exceeded message\
    \ Code 0 (In\n         Transit) when it discards a packet due to an expired TTL\
    \ field.\n         A router MAY have a per-interface option to disable origination\n\
    \         of these messages on that interface, but that option MUST\n        \
    \ default to allowing the messages to be originated.\n"
- title: 5.2.8  INTERNET GROUP MANAGEMENT PROTOCOL - IGMP
  contents:
  - "5.2.8  INTERNET GROUP MANAGEMENT PROTOCOL - IGMP\n      IGMP [INTERNET:4] is\
    \ a protocol used between hosts and multicast\n      routers on a single physical\
    \ network to establish hosts'\n      membership in particular multicast groups.\
    \  Multicast routers use\n      this information, in conjunction with a multicast\
    \ routing\n      protocol, to support IP multicast forwarding across the Internet.\n\
    \      A router SHOULD implement the multicast router part of IGMP.\n"
- title: 5.3  SPECIFIC ISSUES
  contents:
  - '5.3  SPECIFIC ISSUES

    '
- title: 5.3.1  Time to Live (TTL)
  contents:
  - "5.3.1  Time to Live (TTL)\n      The Time-to-Live (TTL) field of the IP header\
    \ is defined to be a\n      timer limiting the lifetime of a datagram.  It is\
    \ an 8-bit field\n      and the units are seconds.  Each router (or other module)\
    \ that\n      handles a packet MUST decrement the TTL by at least one, even if\n\
    \      the elapsed time was much less than a second.  Since this is very\n   \
    \   often the case, the TTL is effectively a hop count limit on how\n      far\
    \ a datagram can propagate through the Internet.\n      When a router forwards\
    \ a packet, it MUST reduce the TTL by at\n      least one.  If it holds a packet\
    \ for more than one second, it MAY\n      decrement the TTL by one for each second.\n\
    \      If the TTL is reduced to zero (or less), the packet MUST be\n      discarded,\
    \ and if the destination is not a multicast address the\n      router MUST send\
    \ an ICMP Time Exceeded message, Code 0 (TTL\n      Exceeded in Transit) message\
    \ to the source.  Note that a router\n      MUST NOT discard an IP unicast or\
    \ broadcast packet with a non-zero\n      TTL merely because it can predict that\
    \ another router on the path\n      to the packet's final destination will decrement\
    \ the TTL to zero.\n      However, a router MAY do so for IP multicasts, in order\
    \ to more\n      efficiently implement IP multicast's expanding ring search\n\
    \      algorithm (see [INTERNET:4]).\n      DISCUSSION:\n         The IP TTL is\
    \ used, somewhat schizophrenically, as both a hop\n         count limit and a\
    \ time limit.  Its hop count function is\n         critical to ensuring that routing\
    \ problems can't melt down the\n         network by causing packets to loop infinitely\
    \ in the network.\n         The time limit function is used by transport protocols\
    \ such as\n         TCP to ensure reliable data transfer.  Many current\n    \
    \     implementations treat TTL as a pure hop count, and in parts of\n       \
    \  the Internet community there is a strong sentiment that the\n         time\
    \ limit function should instead be performed by the\n         transport protocols\
    \ that need it.\n         In this specification, we have reluctantly decided to\
    \ follow\n         the strong belief among the router vendors that the time limit\n\
    \         function should be optional.  They argued that implementation\n    \
    \     of the time limit function is difficult enough that it is\n         currently\
    \ not generally done.  They further pointed to the lack\n         of documented\
    \ cases where this shortcut has caused TCP to\n         corrupt data (of course,\
    \ we would expect the problems created\n         to be rare and difficult to reproduce,\
    \ so the lack of\n         documented cases provides little reassurance that there\
    \ haven't\n         been a number of undocumented cases).\n         IP multicast\
    \ notions such as the expanding ring search may not\n         work as expected\
    \ unless the TTL is treated as a pure hop count.\n         The same thing is somewhat\
    \ true of traceroute.\n         ICMP Time Exceeded messages are required because\
    \ the traceroute\n         diagnostic tool depends on them.\n         Thus, the\
    \ tradeoff is between severely crippling, if not\n         eliminating, two very\
    \ useful tools vs. a very rare and\n         transient data transport problem\
    \ (which may not occur at all).\n"
- title: 5.3.2  Type of Service (TOS)
  contents:
  - "5.3.2  Type of Service (TOS)\n      The Type-of-Service byte in the IP header\
    \ is divided into three\n      sections:  the Precedence field (high-order 3 bits),\
    \ a field that\n      is customarily called Type of Service or \"TOS (next 4 bits),\
    \ and a\n      reserved bit (the low order bit).  Rules governing the reserved\n\
    \      bit were described in Section [4.2.2.3].  The Precedence field\n      will\
    \ be discussed in Section [5.3.3].  A more extensive discussion\n      of the\
    \ TOS field and its use can be found in [ROUTE:11].\n      A router SHOULD consider\
    \ the TOS field in a packet's IP header\n      when deciding how to forward it.\
    \  The remainder of this section\n      describes the rules that apply to routers\
    \ that conform to this\n      requirement.\n      A router MUST maintain a TOS\
    \ value for each route in its routing\n      table.  Routes learned via a routing\
    \ protocol which does not\n      support TOS MUST be assigned a TOS of zero (the\
    \ default TOS).\n      To choose a route to a destination, a router MUST use an\
    \ algorithm\n      equivalent to the following:\n      (1)  The router locates\
    \ in its routing table all available routes\n           to the destination (see\
    \ Section [5.2.4]).\n      (2)  If there are none, the router drops the packet\
    \ because the\n           destination is unreachable.  See section [5.2.4].\n\
    \      (3)  If one or more of those routes have a TOS that exactly\n         \
    \  matches the TOS specified in the packet, the router chooses\n           the\
    \ route with the best metric.\n      (4)  Otherwise, the router repeats the above\
    \ step, except looking\n           at routes whose TOS is zero.\n      (5)  If\
    \ no route was chosen above, the router drops the packet\n           because the\
    \ destination is unreachable.  The router returns\n           an ICMP Destination\
    \ Unreachable error specifying the\n           appropriate code: either Network\
    \ Unreachable with Type of\n           Service (code 11) or Host Unreachable with\
    \ Type of Service\n           (code 12).\n      DISCUSSION:\n         Although\
    \ TOS has been little used in the past, its use by hosts\n         is now mandated\
    \ by the Requirements for Internet Hosts RFCs\n         ([INTRO:2] and [INTRO:3]).\
    \  Support for TOS in routers may\n         become a MUST in the future, but is\
    \ a SHOULD for now until we\n         get more experience with it and can better\
    \ judge both its\n         benefits and its costs.\n         Various people have\
    \ proposed that TOS should affect other\n         aspects of the forwarding function.\
    \  For example:\n         (1)  A router could place packets which have the Low\
    \ Delay bit\n              set ahead of other packets in its output queues.\n\
    \         (2)  a router is forced to discard packets, it could try to\n      \
    \        avoid discarding those which have the High Reliability bit\n        \
    \      set.\n         These ideas have been explored in more detail in [INTERNET:17]\n\
    \         but we don't yet have enough experience with such schemes to\n     \
    \    make requirements in this area.\n"
- title: 5.3.3  IP Precedence
  contents:
  - "5.3.3  IP Precedence\n      This section specifies requirements and guidelines\
    \ for appropriate\n      processing of the IP Precedence field in routers.  Precedence\
    \ is a\n      scheme for allocating resources in the network based on the\n  \
    \    relative importance of different traffic flows.  The IP\n      specification\
    \ defines specific values to be used in this field for\n      various types of\
    \ traffic.\n      The basic mechanisms for precedence processing in a router are\n\
    \      preferential resource allocation, including both precedence-\n      ordered\
    \ queue service and precedence-based congestion control, and\n      selection\
    \ of Link Layer priority features.  The router also\n      selects the IP precedence\
    \ for routing, management and control\n      traffic it originates.  For a more\
    \ extensive discussion of IP\n      Precedence and its implementation see [FORWARD:6].\n\
    \      Precedence-ordered queue service, as discussed in this section,\n     \
    \ includes but is not limited to the queue for the forwarding\n      process and\
    \ queues for outgoing links.  It is intended that a\n      router supporting precedence\
    \ should also use the precedence\n      indication at whatever points in its processing\
    \ are concerned with\n      allocation of finite resources, such as packet buffers\
    \ or Link\n      Layer connections.  The set of such points is implementation-\n\
    \      dependent.\n      DISCUSSION:\n         Although the Precedence field was\
    \ originally provided for use\n         in DOD systems where large traffic surges\
    \ or major damage to\n         the network are viewed as inherent threats, it\
    \ has useful\n         applications for many non-military IP networks.  Although\
    \ the\n         traffic handling capacity of networks has grown greatly in\n \
    \        recent years, the traffic generating ability of the users has\n     \
    \    also grown, and network overload conditions still occur at\n         times.\
    \  Since IP-based routing and management protocols have\n         become more\
    \ critical to the successful operation of the\n         Internet, overloads present\
    \ two additional risks to the\n         network:\n         (1)  High delays may\
    \ result in routing protocol packets being\n              lost.  This may cause\
    \ the routing protocol to falsely\n              deduce a topology change and\
    \ propagate this false\n              information to other routers.  Not only\
    \ can this cause\n              routes to oscillate, but an extra processing burden\
    \ may be\n              placed on other routers.\n         (2)  High delays may\
    \ interfere with the use of network\n              management tools to analyze\
    \ and perhaps correct or relieve\n              the problem in the network that\
    \ caused the overload\n              condition to occur.\n         Implementation\
    \ and appropriate use of the Precedence mechanism\n         alleviates both of\
    \ these problems.\n"
- title: 5.3.3.1  Precedence-Ordered Queue Service
  contents:
  - "5.3.3.1  Precedence-Ordered Queue Service\n         Routers SHOULD implement\
    \ precedence-ordered queue service.\n         Precedence-ordered queue service\
    \ means that when a packet is\n         selected for output on a (logical) link,\
    \ the packet of highest\n         precedence that has been queued for that link\
    \ is sent.  Routers\n         that implement precedence-ordered queue service\
    \ MUST also have\n         a configuration option to suppress precedence-ordered\
    \ queue\n         service in the Internet Layer.\n         Any router MAY implement\
    \ other policy-based throughput\n         management procedures that result in\
    \ other than strict\n         precedence ordering, but it MUST be configurable\
    \ to suppress\n         them (i.e., use strict ordering).\n         As detailed\
    \ in Section [5.3.6], routers that implement\n         precedence-ordered queue\
    \ service discard low precedence packets\n         before discarding high precedence\
    \ packets for congestion\n         control purposes.\n         Preemption (interruption\
    \ of processing or transmission of a\n         packet) is not envisioned as a\
    \ function of the Internet Layer.\n         Some protocols at other layers may\
    \ provide preemption features.\n"
- title: 5.3.3.2  Lower Layer Precedence Mappings
  contents:
  - "5.3.3.2  Lower Layer Precedence Mappings\n         Routers that implement precedence-ordered\
    \ queueing MUST\n         IMPLEMENT, and other routers SHOULD IMPLEMENT, Lower\
    \ Layer\n         Precedence Mapping.\n         A router which implements Lower\
    \ Layer Precedence Mapping:\n         o  MUST be able to map IP Precedence to\
    \ Link Layer priority\n            mechanisms for link layers that have such a\
    \ feature defined.\n         o  MUST have a configuration option to select the\
    \ Link Layer's\n            default priority treatment for all IP traffic\n  \
    \       o  SHOULD be able to configure specific nonstandard mappings of\n    \
    \        IP precedence values to Link Layer priority values for each\n       \
    \     interface.\n         DISCUSSION:\n            Some research questions the\
    \ workability of the priority\n            features of some Link Layer protocols,\
    \ and some networks may\n            have faulty implementations of the link layer\
    \ priority\n            mechanism.  It seems prudent to provide an escape mechanism\n\
    \            in case such problems show up in a network.\n            On the other\
    \ hand, there are proposals to use novel queueing\n            strategies to implement\
    \ special services such as low-delay\n            service.  Special services and\
    \ queueing strategies to\n            support them need further research and experimentation\n\
    \            before they are put into widespread use in the Internet.\n      \
    \      Since these requirements are intended to encourage (but not\n         \
    \   force) the use of precedence features in the hope of\n            providing\
    \ better Internet service to all users, routers\n            supporting precedence-ordered\
    \ queue service should default\n            to maintaining strict precedence ordering\
    \ regardless of the\n            type of service requested.\n            Implementors\
    \ may wish to consider that correct link layer\n            mapping of IP precedence\
    \ is required by DOD policy for\n            TCP/IP systems used on DOD networks.\n"
- title: 5.3.3.3  Precedence Handling For All Routers
  contents:
  - "5.3.3.3  Precedence Handling For All Routers\n         A router (whether or not\
    \ it employs precedence-ordered queue\n         service):\n         (1)  MUST\
    \ accept and process incoming traffic of all precedence\n              levels\
    \ normally, unless it has been administratively\n              configured to do\
    \ otherwise.\n         (2)  MAY implement a validation filter to administratively\n\
    \              restrict the use of precedence levels by particular\n         \
    \     traffic sources.  If provided, this filter MUST NOT filter\n           \
    \   out or cut off the following sorts of ICMP error messages:\n             \
    \ Destination Unreachable, Redirect, Time Exceeded, and\n              Parameter\
    \ Problem.  If this filter is provided, the\n              procedures required\
    \ for packet filtering by addresses are\n              required for this filter\
    \ also.\n              DISCUSSION:\n                 Precedence filtering should\
    \ be applicable to specific\n                 source/destination IP Address pairs,\
    \ specific\n                 protocols, specific ports, and so on.\n         \
    \     An ICMP Destination Unreachable message with code 14\n              SHOULD\
    \ be sent when a packet is dropped by the validation\n              filter, unless\
    \ this has been suppressed by configuration\n              choice.\n         (3)\
    \  MAY implement a cutoff function which allows the router to\n              be\
    \ set to refuse or drop traffic with precedence below a\n              specified\
    \ level.  This function may be activated by\n              management actions\
    \ or by some implementation dependent\n              heuristics, but there MUST\
    \ be a configuration option to\n              disable any heuristic mechanism\
    \ that operates without\n              human intervention.  An ICMP Destination\
    \ Unreachable\n              message with code 15 SHOULD be sent when a packet\
    \ is\n              dropped by the cutoff function, unless this has been\n   \
    \           suppressed by configuration choice.\n              A router MUST NOT\
    \ refuse to forward datagrams with IP\n              precedence of 6 (Internetwork\
    \ Control) or 7 (Network\n              Control) solely due to precedence cutoff.\
    \  However, other\n              criteria may be used in conjunction with precedence\
    \ cutoff\n              to filter high precedence traffic.\n              DISCUSSION:\n\
    \                 Unrestricted precedence cutoff could result in an\n        \
    \         unintentional cutoff of routing and control traffic.\n             \
    \    In general, host traffic should be restricted to a\n                 value\
    \ of 5 (CRITIC/ECP) or below although this is not a\n                 requirement\
    \ and may not be valid in certain systems.\n         (4)  MUST NOT change precedence\
    \ settings on packets it did not\n              originate.\n         (5)  SHOULD\
    \ be able to configure distinct precedence values to\n              be used for\
    \ each routing or management protocol supported\n              (except for those\
    \ protocols, such as OSPF, which specify\n              which precedence value\
    \ must be used).\n         (6)  MAY be able to configure routing or management\
    \ traffic\n              precedence values independently for each peer address.\n\
    \         (7)  MUST respond appropriately to Link Layer precedence-\n        \
    \      related error indications where provided.  An ICMP\n              Destination\
    \ Unreachable message with code 15 SHOULD be\n              sent when a packet\
    \ is dropped because a link cannot accept\n              it due to a precedence-related\
    \ condition, unless this has\n              been suppressed by configuration choice.\n\
    \              DISCUSSION:\n                 The precedence cutoff mechanism described\
    \ in (3) is\n                 somewhat controversial.  Depending on the topological\n\
    \                 location of the area affected by the cutoff, transit\n     \
    \            traffic may be directed by routing protocols into the\n         \
    \        area of the cutoff, where it will be dropped.  This is\n            \
    \     only a problem if another path which is unaffected by\n                \
    \ the cutoff exists between the communicating points.\n                 Proposed\
    \ ways of avoiding this problem include\n                 providing some minimum\
    \ bandwidth to all precedence\n                 levels even under overload conditions,\
    \ or propagating\n                 cutoff information in routing protocols.  In\
    \ the\n                 absence of a widely accepted (and implemented) solution\n\
    \                 to this problem, great caution is recommended in\n         \
    \        activating cutoff mechanisms in transit networks.\n                 A\
    \ transport layer relay could legitimately provide the\n                 function\
    \ prohibited by (4) above.  Changing precedence\n                 levels may cause\
    \ subtle interactions with TCP and\n                 perhaps other protocols;\
    \ a correct design is a non-\n                 trivial task.\n               \
    \  The intent of (5) and (6) (and the discussion of IP\n                 Precedence\
    \ in ICMP messages in Section [4.3.2]) is that\n                 the IP precedence\
    \ bits should be appropriately set,\n                 whether or not this router\
    \ acts upon those bits in any\n                 other way.  We expect that in\
    \ the future specifications\n                 for routing protocols and network\
    \ management protocols\n                 will specify how the IP Precedence should\
    \ be set for\n                 messages sent by those protocols.\n           \
    \      The appropriate response for (7) depends on the link\n                \
    \ layer protocol in use.  Typically, the router should\n                 stop\
    \ trying to send offensive traffic to that\n                 destination for some\
    \ period of time, and should return\n                 an ICMP Destination Unreachable\
    \ message with code 15\n                 (service not available for precedence\
    \ requested) to the\n                 traffic source.  It also should not try\
    \ to reestablish\n                 a preempted Link Layer connection for some\
    \ period of\n                 time.\n"
- title: 5.3.4  Forwarding of Link Layer Broadcasts
  contents:
  - "5.3.4  Forwarding of Link Layer Broadcasts\n      The encapsulation of IP packets\
    \ in most Link Layer protocols\n      (except PPP) allows a receiver to distinguish\
    \ broadcasts and\n      multicasts from unicasts simply by examining the Link\
    \ Layer\n      protocol headers (most commonly, the Link Layer destination\n \
    \     address).  The rules in this section which refer to Link Layer\n      broadcasts\
    \ apply only to Link Layer protocols which allow\n      broadcasts to be distinguished;\
    \ likewise, the rules which refer to\n      Link Layer multicasts apply only to\
    \ Link Layer protocols which\n      allow multicasts to be distinguished.\n  \
    \    A router MUST NOT forward any packet which the router received as\n     \
    \ a Link Layer broadcast (even if the IP destination address is also\n      some\
    \ form of broadcast address) unless the packet is an all-\n      subnets-directed\
    \ broadcast being forwarded as specified in\n      [INTERNET:3].\n      DISCUSSION:\n\
    \         As noted in Section [5.3.5.3], forwarding of all-subnets-\n        \
    \ directed broadcasts in accordance with [INTERNET:3] is optional\n         and\
    \ is not something that routers do by default.\n      A router MUST NOT forward\
    \ any packet which the router received as\n      a Link Layer multicast unless\
    \ the packet's destination address is\n      an IP multicast address.\n      A\
    \ router SHOULD silently discard a packet that is received via a\n      Link Layer\
    \ broadcast but does not specify an IP multicast or IP\n      broadcast destination\
    \ address.\n      When a router sends a packet as a Link Layer broadcast, the\
    \ IP\n      destination address MUST be a legal IP broadcast or IP multicast\n\
    \      address.\n"
- title: 5.3.5  Forwarding of Internet Layer Broadcasts
  contents:
  - "5.3.5  Forwarding of Internet Layer Broadcasts\n      There are two major types\
    \ of IP broadcast addresses; limited\n      broadcast and directed broadcast.\
    \  In addition, there are three\n      subtypes of directed broadcast; a broadcast\
    \ directed to a\n      specified network, a broadcast directed to a specified\
    \ subnetwork,\n      and a broadcast directed to all subnets of a specified network.\n\
    \      Classification by a router of a broadcast into one of these\n      categories\
    \ depends on the broadcast address and on the router's\n      understanding (if\
    \ any) of the subnet structure of the destination\n      network.  The same broadcast\
    \ will be classified differently by\n      different routers.\n      A limited\
    \ IP broadcast address is defined to be all-ones: { -1, -1\n      } or 255.255.255.255.\n\
    \      A net-directed broadcast is composed of the network portion of the\n  \
    \    IP address with a local part of all-ones, { <Network-number>, -1\n      }.\
    \  For example, a Class A net broadcast address is\n      net.255.255.255, a Class\
    \ B net broadcast address is\n      net.net.255.255 and a Class C net broadcast\
    \ address is\n      net.net.net.255 where net is a byte of the network address.\n\
    \      An all-subnets-directed broadcast is composed of the network part\n   \
    \   of the IP address with a subnet and a host part of all-ones, {\n      <Network-number>,\
    \ -1, -1 }.  For example, an all-subnets broadcast\n      on a subnetted class\
    \ B network is net.net.255.255.  A network must\n      be known to be subnetted\
    \ and the subnet part must be all-ones\n      before a broadcast can be classified\
    \ as all-subnets-directed.\n      A subnet-directed broadcast address is composed\
    \ of the network and\n      subnet part of the IP address with a host part of\
    \ all-ones, {\n      <Network-number>, <Subnet-number>, -1 }.  For example, a\
    \ subnet-\n      directed broadcast to subnet 2 of a class B network might be\n\
    \      net.net.2.255 (if the subnet mask was 255.255.255.0) or\n      net.net.1.127\
    \ (if the subnet mask was 255.255.255.128).  A network\n      must be known to\
    \ be subnetted and the net and subnet part must not\n      be all-ones before\
    \ an IP broadcast can be classified as subnet-\n      directed.\n      As was\
    \ described in Section [4.2.3.1], a router may encounter\n      certain non-standard\
    \ IP broadcast addresses:\n      o  0.0.0.0 is an obsolete form of the limited\
    \ broadcast address\n      o  { broadcast address.\n      o  { broadcast address.\n\
    \      o  { form of a subnet-directed broadcast address.\n      As was described\
    \ in that section, packets addressed to any of\n      these addresses SHOULD be\
    \ silently discarded, but if they are not,\n      they MUST be treated in accordance\
    \ with the same rules that apply\n      to packets addressed to the non-obsolete\
    \ forms of the broadcast\n      addresses described above.  These rules are described\
    \ in the next\n      few sections.\n"
- title: 5.3.5.1  Limited Broadcasts
  contents:
  - "5.3.5.1  Limited Broadcasts\n         Limited broadcasts MUST NOT be forwarded.\
    \  Limited broadcasts\n         MUST NOT be discarded.  Limited broadcasts MAY\
    \ be sent and\n         SHOULD be sent instead of directed broadcasts where limited\n\
    \         broadcasts will suffice.\n         DISCUSSION:\n            Some routers\
    \ contain UDP servers which function by resending\n            the requests (as\
    \ unicasts or directed broadcasts) to other\n            servers.  This requirement\
    \ should not be interpreted as\n            prohibiting such servers.  Note, however,\
    \ that such servers\n            can easily cause packet looping if misconfigured.\
    \  Thus,\n            providers of such servers would probably be well-advised\
    \ to\n            document their setup carefully and to consider carefully the\n\
    \            TTL on packets which are sent.\n"
- title: 5.3.5.2  Net-directed Broadcasts
  contents:
  - "5.3.5.2  Net-directed Broadcasts\n         A router MUST classify as net-directed\
    \ broadcasts all valid,\n         directed broadcasts destined for a remote network\
    \ or an\n         attached nonsubnetted network.  A router MUST forward net-\n\
    \         directed broadcasts.  Net-directed broadcasts MAY be sent.\n       \
    \  A router MAY have an option to disable receiving net-directed\n         broadcasts\
    \ on an interface and MUST have an option to disable\n         forwarding net-directed\
    \ broadcasts.  These options MUST default\n         to permit receiving and forwarding\
    \ net-directed broadcasts.\n         DISCUSSION:\n            There has been some\
    \ debate about forwarding or not\n            forwarding directed broadcasts.\
    \  In this memo we have made\n            the forwarding decision depend on the\
    \ router's knowledge of\n            the subnet mask for the destination network.\
    \  Forwarding\n            decisions for subnetted networks should be made by\
    \ routers\n            with an understanding of the subnet structure.  Therefore,\n\
    \            in general, routers must forward directed broadcasts for\n      \
    \      networks they are not attached to and for which they do not\n         \
    \   understand the subnet structure.  One router may interpret\n            and\
    \ handle the same IP broadcast packet differently than\n            another, depending\
    \ on its own understanding of the structure\n            of the destination (sub)network.\n"
- title: 5.3.5.3  All-subnets-directed Broadcasts
  contents:
  - "5.3.5.3  All-subnets-directed Broadcasts\n         A router MUST classify as\
    \ all-subnets-directed broadcasts all\n         valid directed broadcasts destined\
    \ for a directly attached\n         subnetted network which have all-ones in the\
    \ subnet part of the\n         address.  If the destination network is not subnetted,\
    \ the\n         broadcast MUST be treated as a net-directed broadcast.\n     \
    \    A router MUST forward an all-subnets-directed broadcast as a\n         link\
    \ level broadcast out all physical interfaces connected to\n         the IP network\
    \ addressed by the broadcast, except that:\n         o  A router MUST NOT forward\
    \ an all-subnet-directed broadcast\n            that was received by the router\
    \ as a Link Layer broadcast,\n            unless the router is forwarding the\
    \ broadcast in accordance\n            with [INTERNET:3] (see below).\n      \
    \   o  If a router receives an all-subnets-directed broadcast over\n         \
    \   a network which does not indicate via Link Layer framing\n            whether\
    \ the frame is a broadcast or a unicast, the packet\n            MUST NOT be forwarded\
    \ to any network which likewise does not\n            indicate whether a frame\
    \ is a broadcast.\n         o  A router MUST NOT forward an all-subnets-directed\
    \ broadcast\n            if the router is configured not to forward such broadcasts.\n\
    \            A router MUST have a configuration option to deny forwarding\n  \
    \          of all-subnets-directed broadcasts.  The configuration\n          \
    \  option MUST default to permit forwarding of all-subnets-\n            directed\
    \ broadcasts.\n         EDITOR'S COMMENTS:\n            The algorithm presented\
    \ here is broken.  The working group\n            explicitly desired this algorithm,\
    \ knowing its failures.\n            The second bullet, above, prevents All Subnets\
    \ Directed\n            Broadcasts from traversing more than one PPP (or other\n\
    \            serial) link in a row.  Such a topology is easily conceived.\n  \
    \          Suppose that some corporation builds its corporate backbone\n     \
    \       out of PPP links, connecting routers at geographically\n            dispersed\
    \ locations.  Suppose that this corporation has 3\n            sites (S1, S2,\
    \ and S3) and there is a router at each site\n            (R1, R2, and R3).  At\
    \ each site there are also several LANs\n            connected to the local router.\
    \  Let there be a PPP link\n            connecting S1 to S2 and one connecting\
    \ S2 to S3 (i.e. the\n            links are R1-R2 and R2-R3).  So, if a host on\
    \ a LAN at S1\n            sends a All Subnets Directed Broadcast, R1 will forward\
    \ the\n            broadcast over the R1-R2 link to R2.  R2 will forward the\n\
    \            broadcast to the LAN(s) connected to R2.  Since the PPP does\n  \
    \          not differentiate broadcast from non-broadcast frames, R2\n       \
    \     will NOT forward the broadcast onto the R2-R3 link.\n            Therefore,\
    \ the broadcast will not reach S3.\n         [INTERNET:3] describes an alternative\
    \ set of rules for\n         forwarding of all-subnets-directed broadcasts (called\
    \ multi-\n         subnet-broadcasts in that document).  A router MAY IMPLEMENT\n\
    \         that alternative set of rules, but MUST use the set of rules\n     \
    \    described above unless explicitly configured to use the\n         [INTERNET:3]\
    \ rules.  If routers will do [INTERNET:3]-style\n         forwarding, then the\
    \ router MUST have a configuration option\n         which MUST default to doing\
    \ the rules presented in this\n         document.\n         DISCUSSION:\n    \
    \        As far as we know, the rules for multi-subnet broadcasts\n          \
    \  described in [INTERNET:3] have never been implemented,\n            suggesting\
    \ that either they are too complex or the utility\n            of multi-subnet\
    \ broadcasts is low.  The rules described in\n            this section match current\
    \ practice.  In the future, we\n            expect that IP multicast (see [INTERNET:4])\
    \ will be used to\n            better solve the sorts of problems that multi-subnets\n\
    \            broadcasts were intended to address.\n            We were also concerned\
    \ that hosts whose system managers\n            neglected to configure with a\
    \ subnet mask could\n            unintentionally send multi-subnet broadcasts.\n\
    \         A router SHOULD NOT originate all-subnets broadcasts, except as\n  \
    \       required by Section [4.3.3.9] when sending ICMP Address Mask\n       \
    \  Replies on subnetted networks.\n         DISCUSSION:\n            The current\
    \ intention is to decree that (like 0-filled IP\n            broadcasts) the notion\
    \ of the all-subnets broadcast is\n            obsolete.  It should be treated\
    \ as a directed broadcast to\n            the first subnet of the net in question\
    \ that it appears on.\n            Routers may implement a switch (default off)\
    \ which if turned\n            on enables the [INTERNET:3] behavior for all-subnets\n\
    \            broadcasts.\n            If a router has a configuration option to\
    \ allow for\n            forwarding all-subnet broadcasts, it should use a spanning\n\
    \            tree, RPF, or other multicast forwarding algorithm (which\n     \
    \       may be computed for other purposes such as bridging or OSPF)\n       \
    \     to distribute the all-subnets broadcast efficiently.  In\n            general,\
    \ it is better to use an IP multicast address rather\n            than an all-subnets\
    \ broadcast.\n"
- title: 5.3.5.4  Subnet-directed Broadcasts
  contents:
  - "5.3.5.4  Subnet-directed Broadcasts\n         A router MUST classify as subnet-directed\
    \ broadcasts all valid\n         directed broadcasts destined for a directly attached\
    \ subnetted\n         network in which the subnet part is not all-ones.  If the\n\
    \         destination network is not subnetted, the broadcast MUST be\n      \
    \   treated as a net-directed broadcast.\n         A router MUST forward subnet-directed\
    \ broadcasts.\n         A router MUST have a configuration option to prohibit\n\
    \         forwarding of subnet-directed broadcasts.  Its default setting\n   \
    \      MUST permit forwarding of subnet-directed broadcasts.\n         A router\
    \ MAY have a configuration option to prohibit forwarding\n         of subnet-directed\
    \ broadcasts from a source on a network on\n         which the router has an interface.\
    \  If such an option is\n         provided, its default setting MUST permit forwarding\
    \ of\n         subnet-directed broadcasts.\n"
- title: 5.3.6  Congestion Control
  contents:
  - "5.3.6  Congestion Control\n      Congestion in a network is loosely defined as\
    \ a condition where\n      demand for resources (usually bandwidth or CPU time)\
    \ exceeds\n      capacity.  Congestion avoidance tries to prevent demand from\n\
    \      exceeding capacity, while congestion recovery tries to restore an\n   \
    \   operative state.  It is possible for a router to contribute to\n      both\
    \ of these mechanisms.  A great deal of effort has been spent\n      studying\
    \ the problem.  The reader is encouraged to read\n      [FORWARD:2] for a survey\
    \ of the work.  Important papers on the\n      subject include [FORWARD:3], [FORWARD:4],\
    \ [FORWARD:5], and\n      [INTERNET:10], among others.\n      The amount of storage\
    \ that router should have available to handle\n      peak instantaneous demand\
    \ when hosts use reasonable congestion\n      policies, such as described in [FORWARD:5],\
    \ is a function of the\n      product of the bandwidth of the link times the path\
    \ delay of the\n      flows using the link, and therefore storage should increase\
    \ as\n      this Bandwidth*Delay product increases.  The exact function\n    \
    \  relating storage capacity to probability of discard is not known.\n      When\
    \ a router receives a packet beyond its storage capacity it\n      must (by definition,\
    \ not by decree) discard it or some other\n      packet or packets.  Which packet\
    \ to discard is the subject of much\n      study but, unfortunately, little agreement\
    \ so far.\n      A router MAY discard the packet it has just received; this is\
    \ the\n      simplest but not the best policy.  It is considered better policy\n\
    \      to randomly pick some transit packet on the queue and discard it\n    \
    \  (see [FORWARD:2]).  A router MAY use this Random Drop algorithm to\n      determine\
    \ which packet to discard.\n      If a router implements a discard policy (such\
    \ as Random Drop)\n      under which it chooses a packet to discard from among\
    \ a pool of\n      eligible packets:\n      o  If precedence-ordered queue service\
    \ (described in Section\n         [5.3.3.1]) is implemented and enabled, the router\
    \ MUST NOT\n         discard a packet whose IP precedence is higher than that\
    \ of a\n         packet which is not discarded.\n      o  A router MAY protect\
    \ packets whose IP headers request the\n         maximize reliability TOS, except\
    \ where doing so would be in\n         violation of the previous rule.\n     \
    \ o  A router MAY protect fragmented IP packets, on the theory that\n        \
    \ dropping a fragment of a datagram may increase congestion by\n         causing\
    \ all fragments of the datagram to be retransmitted by\n         the source.\n\
    \      o  To help prevent routing perturbations or disruption of\n         management\
    \ functions, the router MAY protect packets used for\n         routing control,\
    \ link control, or network management from being\n         discarded.  Dedicated\
    \ routers (i.e.. routers which are not also\n         general purpose hosts, terminal\
    \ servers, etc.) can achieve an\n         approximation of this rule by protecting\
    \ packets whose source\n         or destination is the router itself.\n      Advanced\
    \ methods of congestion control include a notion of\n      fairness, so that the\
    \ 'user' that is penalized by losing a packet\n      is the one that contributed\
    \ the most to the congestion.  No matter\n      what mechanism is implemented\
    \ to deal with bandwidth congestion\n      control, it is important that the CPU\
    \ effort expended be\n      sufficiently small that the router is not driven into\
    \ CPU\n      congestion also.\n      As described in Section [4.3.3.3], this document\
    \ recommends that a\n      router should not send a Source Quench to the sender\
    \ of the packet\n      that it is discarding.  ICMP Source Quench is a very weak\n\
    \      mechanism, so it is not necessary for a router to send it, and\n      host\
    \ software should not use it exclusively as an indicator of\n      congestion.\n"
- title: 5.3.7  Martian Address Filtering
  contents:
  - "5.3.7  Martian Address Filtering\n      An IP source address is invalid if it\
    \ is an IP broadcast address\n      or is not a class A, B, or C address.\n  \
    \    An IP destination address is invalid if it is not a class A, B, C,\n    \
    \  or D address.\n      A router SHOULD NOT forward any packet which has an invalid\
    \ IP\n      source address or a source address on network 0.  A router SHOULD\n\
    \      NOT forward, except over a loopback interface, any packet which\n     \
    \ has a source address on network 127.  A router MAY have a switch\n      which\
    \ allows the network manager to disable these checks.  If such\n      a switch\
    \ is provided, it MUST default to performing the checks.\n      A router SHOULD\
    \ NOT forward any packet which has an invalid IP\n      destination address or\
    \ a destination address on network 0.  A\n      router SHOULD NOT forward, except\
    \ over a loopback interface, any\n      packet which has a destination address\
    \ on network 127.  A router\n      MAY have a switch which allows the network\
    \ manager to disable\n      these checks.  If such a switch is provided, it MUST\
    \ default to\n      performing the checks.\n      If a router discards a packet\
    \ because of these rules, it SHOULD\n      log at least the IP source address,\
    \ the IP destination address,\n      and, if the problem was with the source address,\
    \ the physical\n      interface on which the packet was received and the Link\
    \ Layer\n      address of the host or router from which the packet was received.\n"
- title: 5.3.8  Source Address Validation
  contents:
  - "5.3.8  Source Address Validation\n      A router SHOULD IMPLEMENT the ability\
    \ to filter traffic based on a\n      comparison of the source address of a packet\
    \ and the forwarding\n      table for a logical interface on which the packet\
    \ was received.\n      If this filtering is enabled, the router MUST silently\
    \ discard a\n      packet if the interface on which the packet was received is\
    \ not\n      the interface on which a packet would be forwarded to reach the\n\
    \      address contained in the source address.  In simpler terms, if a\n    \
    \  router wouldn't route a packet containing this address through a\n      particular\
    \ interface, it shouldn't believe the address if it\n      appears as a source\
    \ address in a packet read from this interface.\n      If this feature is implemented,\
    \ it MUST be disabled by default.\n      DISCUSSION:\n         This feature can\
    \ provide useful security improvements in some\n         situations, but can erroneously\
    \ discard valid packets in\n         situations where paths are asymmetric.\n"
- title: 5.3.9  Packet Filtering and Access Lists
  contents:
  - "5.3.9  Packet Filtering and Access Lists\n      As a means of providing security\
    \ and/or limiting traffic through\n      portions of a network a router SHOULD\
    \ provide the ability to\n      selectively forward (or filter) packets.  If this\
    \ capability is\n      provided, filtering of packets MUST be configurable either\
    \ to\n      forward all packets or to selectively forward them based upon the\n\
    \      source and destination addresses.  Each source and destination\n      address\
    \ SHOULD allow specification of an arbitrary mask.\n      If supported, a router\
    \ MUST be configurable to allow one of an\n      o  Include list -  specification\
    \ of a list of address pairs to be\n         forwarded, or an\n      o  Exclude\
    \ list -  specification of a list of address pairs NOT to\n         be forwarded.\n\
    \      A router MAY provide a configuration switch which allows a choice\n   \
    \   between specifying an include or an exclude list.\n      A value matching\
    \ any address (e.g. a keyword any or an address\n      with a mask of all 0's)\
    \ MUST be allowed as a source and/or\n      destination address.\n      In addition\
    \ to address pairs, the router MAY allow any combination\n      of transport and/or\
    \ application protocol and source and\n      destination ports to be specified.\n\
    \      The router MUST allow packets to be silently discarded (i.e..\n      discarded\
    \ without an ICMP error message being sent).\n      The router SHOULD allow an\
    \ appropriate ICMP unreachable message to\n      be sent when a packet is discarded.\
    \ The ICMP message SHOULD\n      specify Communication Administratively Prohibited\
    \ (code 13) as the\n      reason for the destination being unreachable.\n    \
    \  The router SHOULD allow the sending of ICMP destination\n      unreachable\
    \ messages (code 13) to be configured for each\n      combination of address pairs,\
    \ protocol types, and ports it allows\n      to be specified.\n      The router\
    \ SHOULD count and SHOULD allow selective logging of\n      packets not forwarded.\n"
- title: 5.3.10  Multicast Routing
  contents:
  - "5.3.10  Multicast Routing\n      An IP router SHOULD support forwarding of IP\
    \ multicast packets,\n      based either on static multicast routes or on routes\
    \ dynamically\n      determined by a multicast routing protocol (e.g., DVMRP\n\
    \      [ROUTE:9]).  A router that forwards IP multicast packets is called\n  \
    \    a multicast router.\n"
- title: 5.3.11  Controls on Forwarding
  contents:
  - "5.3.11  Controls on Forwarding\n      For each physical interface, a router SHOULD\
    \ have a configuration\n      option which specifies whether forwarding is enabled\
    \ on that\n      interface.  When forwarding on an interface is disabled, the\n\
    \      router:\n      o  MUST silently discard any packets which are received\
    \ on that\n         interface but are not addressed to the router\n      o  MUST\
    \ NOT send packets out that interface, except for datagrams\n         originated\
    \ by the router\n      o  MUST NOT announce via any routing protocols the availability\
    \ of\n         paths through the interface\n      DISCUSSION:\n         This feature\
    \ allows the network manager to essentially turn off\n         an interface but\
    \ leaves it accessible for network management.\n         Ideally, this control\
    \ would apply to logical rather than\n         physical interfaces, but cannot\
    \ because there is no known way\n         for a router to determine which logical\
    \ interface a packet\n         arrived on when there is not a one-to-one correspondence\n\
    \         between logical and physical interfaces.\n"
- title: 5.3.12  State Changes
  contents:
  - "5.3.12  State Changes\n      During the course of router operation, interfaces\
    \ may fail or be\n      manually disabled, or may become available for use by\
    \ the router.\n      Similarly, forwarding may be disabled for a particular interface\n\
    \      or for the entire router or may be (re)enabled.  While such\n      transitions\
    \ are (usually) uncommon, it is important that routers\n      handle them correctly.\n"
- title: 5.3.12.1  When a Router Ceases Forwarding
  contents:
  - "5.3.12.1  When a Router Ceases Forwarding\n         When a router ceases forwarding\
    \ it MUST stop advertising all\n         routes, except for third party routes.\
    \  It MAY continue to\n         receive and use routes from other routers in its\
    \ routing\n         domains.  If the forwarding database is retained, the router\n\
    \         MUST NOT cease timing the routes in the forwarding database.\n     \
    \    If routes that have been received from other routers are\n         remembered,\
    \ the router MUST NOT cease timing the routes which\n         it has remembered.\
    \  It MUST discard any routes whose timers\n         expire while forwarding is\
    \ disabled, just as it would do if\n         forwarding were enabled.\n      \
    \   DISCUSSION:\n            When a router ceases forwarding, it essentially ceases\
    \ being\n            a router.  It is still a host, and must follow all of the\n\
    \            requirements of Host Requirements [INTRO: 2].  The router\n     \
    \       may still be a passive member of one or more routing\n            domains,\
    \ however.  As such, it is allowed to maintain its\n            forwarding database\
    \ by listening to other routers in its\n            routing domain.  It may not,\
    \ however, advertise any of the\n            routes in its forwarding database,\
    \ since it itself is doing\n            no forwarding.  The only exception to\
    \ this rule is when the\n            router is advertising a route which uses\
    \ only some other\n            router, but which this router has been asked to\
    \ advertise.\n         A router MAY send ICMP destination unreachable (host\n\
    \         unreachable) messages to the senders of packets that it is\n       \
    \  unable to forward. It SHOULD NOT send ICMP redirect messages.\n         DISCUSSION:\n\
    \            Note that sending an ICMP destination unreachable (host\n       \
    \     unreachable) is a router action.  This message should not be\n         \
    \   sent by hosts.   This exception to the rules for hosts is\n            allowed\
    \ so that packets may be rerouted in the shortest\n            possible time,\
    \ and so that black holes are avoided.\n"
- title: 5.3.12.2  When a Router Starts Forwarding
  contents:
  - "5.3.12.2  When a Router Starts Forwarding\n         When a router begins forwarding,\
    \ it SHOULD expedite the sending\n         of new routing information to all routers\
    \ with which it\n         normally exchanges routing information.\n"
- title: 5.3.12.3  When an Interface Fails or is Disabled
  contents:
  - "5.3.12.3  When an Interface Fails or is Disabled\n         If an interface fails\
    \ or is disabled a router MUST remove and\n         stop advertising all routes\
    \ in its forwarding database which\n         make use of that interface.  It MUST\
    \ disable all static routes\n         which make use of that interface.  If other\
    \ routes to the same\n         destination and TOS are learned or remembered by\
    \ the router,\n         the router MUST choose the best alternate, and add it\
    \ to its\n         forwarding database.  The router SHOULD send ICMP destination\n\
    \         unreachable or ICMP redirect messages, as appropriate, in reply\n  \
    \       to all packets which it is unable to forward due to the\n         interface\
    \ being unavailable.\n"
- title: 5.3.12.4  When an Interface is Enabled
  contents:
  - "5.3.12.4  When an Interface is Enabled\n         If an interface which had not\
    \ been available becomes available,\n         a router MUST reenable any static\
    \ routes which use that\n         interface.  If routes which would use that interface\
    \ are\n         learned by the router,  then these routes MUST be evaluated\n\
    \         along with all of the other learned routes, and the router MUST\n  \
    \       make a decision as to which routes should be placed in the\n         forwarding\
    \ database.  The implementor is referred to Chapter\n         [7], Application\
    \ Layer - Routing Protocols for further\n         information on how this decision\
    \ is made.\n         A router SHOULD expedite the sending of new routing information\n\
    \         to all routers with which it normally exchanges routing\n         information.\n"
- title: 5.3.13  IP Options
  contents:
  - "5.3.13  IP Options\n      Several options, such as Record Route and Timestamp,\
    \ contain slots\n      into which a router inserts its address when forwarding\
    \ the\n      packet.  However, each such option has a finite number of slots,\n\
    \      and therefore a router may find that there is not free slot into\n    \
    \  which it can insert its address.  No requirement listed below\n      should\
    \ be construed as requiring a router to insert its address\n      into an option\
    \ that has no remaining slot to insert it into.\n      Section [5.2.5] discusses\
    \ how a router must choose which of its\n      addresses to insert into an option.\n"
- title: 5.3.13.1  Unrecognized Options
  contents:
  - "5.3.13.1  Unrecognized Options\n         Unrecognized IP options in forwarded\
    \ packets MUST be passed\n         through unchanged.\n"
- title: 5.3.13.2  Security Option
  contents:
  - "5.3.13.2  Security Option\n         Some environments require the Security option\
    \ in every packet;\n         such a requirement is outside the scope of this document\
    \ and\n         the IP standard specification.  Note, however, that the\n    \
    \     security options described in [INTERNET:1] and [INTERNET:16]\n         are\
    \ obsolete.  Routers SHOULD IMPLEMENT the revised security\n         option described\
    \ in [INTERNET:5].\n"
- title: 5.3.13.3  Stream Identifier Option
  contents:
  - "5.3.13.3  Stream Identifier Option\n         This option is obsolete.  If the\
    \ Stream Identifier option is\n         present in a packet forwarded by the router,\
    \ the option MUST be\n         ignored and passed through unchanged.\n"
- title: 5.3.13.4  Source Route Options
  contents:
  - "5.3.13.4  Source Route Options\n         A router MUST implement support for\
    \ source route options in\n         forwarded packets.  A router MAY implement\
    \ a configuration\n         option which, when enabled, causes all source-routed\
    \ packets to\n         be discarded.  However, such an option MUST NOT be enabled\
    \ by\n         default.\n         DISCUSSION:\n            The ability to source\
    \ route datagrams through the Internet\n            is important to various network\
    \ diagnostic tools.  However,\n            in a few rare cases, source routing\
    \ may be used to bypass\n            administrative and security controls within\
    \ a network.\n            Specifically, those cases where manipulation of routing\n\
    \            tables is used to provide administrative separation in lieu\n   \
    \         of other methods such as packet filtering may be vulnerable\n      \
    \      through source routed packets.\n"
- title: 5.3.13.5  Record Route Option
  contents:
  - "5.3.13.5  Record Route Option\n         Routers MUST support the Record Route\
    \ option in forwarded\n         packets.\n         A router MAY provide a configuration\
    \ option which, if enabled,\n         will cause the router to ignore (i.e. pass\
    \ through unchanged)\n         Record Route options in forwarded packets.  If\
    \ provided, such\n         an option MUST default to enabling the record-route.\
    \  This\n         option does not affect the processing of Record Route options\n\
    \         in datagrams received by the router itself (in particular,\n       \
    \  Record Route options in ICMP echo requests will still be\n         processed\
    \ in accordance with Section [4.3.3.6]).\n         DISCUSSION:\n            There\
    \ are some people who believe that Record Route is a\n            security problem\
    \ because it discloses information about the\n            topology of the network.\
    \  Thus, this document allows it to\n            be disabled.\n"
- title: 5.3.13.6  Timestamp Option
  contents:
  - "5.3.13.6  Timestamp Option\n         Routers MUST support the timestamp option\
    \ in forwarded packets.\n         A timestamp value MUST follow the rules given\
    \ in Section\n         [3.2.2.8] of [INTRO:2].\n         If the flags field =\
    \ 3 (timestamp and prespecified address),\n         the router MUST add its timestamp\
    \ if the next prespecified\n         address matches any of the router's IP addresses.\
    \  It is not\n         necessary that the prespecified address be either the address\n\
    \         of the interface on which the packet arrived or the address of\n   \
    \      the interface over which it will be sent.\n         IMPLEMENTATION:\n \
    \           To maximize the utility of the timestamps contained in the\n     \
    \       timestamp option, it is suggested that the timestamp\n            inserted\
    \ be, as nearly as practical, the time at which the\n            packet arrived\
    \ at the router.  For datagrams originated by\n            the router, the timestamp\
    \ inserted should be, as nearly as\n            practical, the time at which the\
    \ datagram was passed to the\n            network layer for transmission.\n  \
    \       A router MAY provide a configuration option which, if enabled,\n     \
    \    will cause the router to ignore (i.e. pass through unchanged)\n         Timestamp\
    \ options in forwarded datagrams when the flag word is\n         set to zero (timestamps\
    \ only) or one (timestamp and registering\n         IP address).  If provided,\
    \ such an option MUST default to off\n         (that is, the router does not ignore\
    \ the timestamp).  This\n         option does not affect the processing of Timestamp\
    \ options in\n         datagrams received by the router itself (in particular,\
    \ a\n         router will insert timestamps into Timestamp options in\n      \
    \   datagrams received by the router, and Timestamp options in ICMP\n        \
    \ echo requests will still be processed in accordance with\n         Section [4.3.3.6]).\n\
    \         DISCUSSION:\n            Like the Record Route option, the Timestamp\
    \ option can\n            reveal information about a network's topology.  Some\
    \ people\n            consider this to be a security concern.\n"
- title: 6.  TRANSPORT LAYER
  contents:
  - '6.  TRANSPORT LAYER

    '
- title: A router is not required to implement any Transport Layer protocols
  contents:
  - 'A router is not required to implement any Transport Layer protocols

    '
- title: except those required to support Application Layer protocols supported
  contents:
  - 'except those required to support Application Layer protocols supported

    '
- title: by the router.  In practice, this means that most routers implement both
  contents:
  - 'by the router.  In practice, this means that most routers implement both

    '
- title: the Transmission Control Protocol (TCP) and the User Datagram Protocol
  contents:
  - 'the Transmission Control Protocol (TCP) and the User Datagram Protocol

    '
- title: (UDP).
  contents:
  - '(UDP).

    '
- title: 6.1  USER DATAGRAM PROTOCOL - UDP
  contents:
  - "6.1  USER DATAGRAM PROTOCOL - UDP\n   The User Datagram Protocol (UDP) is specified\
    \ in [TRANS:1].\n   A router which implements UDP MUST be compliant, and SHOULD\
    \ be\n   unconditionally compliant, with the requirements of section 4.1.3 of\n\
    \   [INTRO:2], except that:\n   o  This specification does not specify the interfaces\
    \ between the\n      various protocol layers.  Thus, a router need not comply\
    \ with\n      sections 4.1.3.2, 4.1.3.3, and 4.1.3.5 of [INTRO:2] (except of\n\
    \      course where compliance is required for proper functioning of\n      Application\
    \ Layer protocols supported by the router).\n   o  Contrary to section 4.1.3.4\
    \ of [INTRO:2], an application MUST NOT\n      be able to disable to generation\
    \ of UDP checksums.\n   DISCUSSION:\n      Although a particular application protocol\
    \ may require that UDP\n      datagrams it receives must contain a UDP checksum,\
    \ there is no\n      general requirement that received UDP datagrams contain UDP\n\
    \      checksums.  Of course, if a UDP checksum is present in a received\n   \
    \   datagram, the checksum must be verified and the datagram discarded\n     \
    \ if the checksum is incorrect.\n"
- title: 6.2  TRANSMISSION CONTROL PROTOCOL - TCP
  contents:
  - "6.2  TRANSMISSION CONTROL PROTOCOL - TCP\n   The Transmission Control Protocol\
    \ (TCP) is specified in [TRANS:2].\n   A router which implements TCP MUST be compliant,\
    \ and SHOULD be\n   unconditionally compliant, with the requirements of section\
    \ 4.2 of\n   [INTRO:2], except that:\n   o  This specification does not specify\
    \ the interfaces between the\n      various protocol layers.  Thus, a router need\
    \ not comply with the\n      following requirements of [INTRO:2] (except of course\
    \ where\n      compliance is required for proper functioning of Application Layer\n\
    \      protocols supported by the router):\n      Section 4.2.2.2:\n         \
    \  Passing a received PSH flag to the application layer is now\n           OPTIONAL.\n\
    \      Section 4.2.2.4:\n           A TCP MUST inform the application layer asynchronously\n\
    \           whenever it receives an Urgent pointer and there was\n           previously\
    \ no pending urgent data, or whenever the Urgent\n           pointer advances\
    \ in the data stream.  There MUST be a way for\n           the application to\
    \ learn how much urgent data remains to be\n           read from the connection,\
    \ or at least to determine whether or\n           not more urgent data remains\
    \ to be read.\n      Section 4.2.3.5:\n           An application MUST be able\
    \ to set the value for R2 for a\n           particular connection.  For example,\
    \ an interactive\n           application might set R2 to ``infinity,'' giving\
    \ the user\n           control over when to disconnect.\n      Section 4.2.3.7:\n\
    \           If an application on a multihomed host does not specify the\n    \
    \       local IP address when actively opening a TCP connection, then\n      \
    \     the TCP MUST ask the IP layer to select a local IP address\n           before\
    \ sending the (first) SYN.  See the function\n           GET_SRCADDR() in Section\
    \ 3.4.\n      Section 4.2.3.8:\n           An application MUST be able to specify\
    \ a source route when it\n           actively opens a TCP connection, and this\
    \ MUST take\n           precedence over a source route received in a datagram.\n\
    \   o  For similar reasons, a router need not comply with any of the\n      requirements\
    \ of section 4.2.4 of [INTRO:2].\n   o  The requirements of section 4.2.2.6 of\
    \ [INTRO:2] are amended as\n      follows: a router which implements the host\
    \ portion of MTU\n      discovery (discussed in Section [4.2.3.3] of this memo)\
    \ uses 536\n      as the default value of SendMSS only if the path MTU is unknown;\n\
    \      if the path MTU is known, the default value for SendMSS is the\n      path\
    \ MTU - 40.\n   o  The requirements of section 4.2.2.6 of [INTRO:2] are amended\
    \ as\n      follows: ICMP Destination Unreachable codes 11 and 12 are\n      additional\
    \ soft error conditions.  Therefore, these message MUST\n      NOT cause TCP to\
    \ abort a connection.\n   DISCUSSION:\n      It should particularly be noted that\
    \ a TCP implementation in a\n      router must conform to the following requirements\
    \ of [INTRO:2]:\n      o  Providing a configurable TTL. [4.2.2.1]\n      o  Providing\
    \ an interface to configure keep-alive behavior, if\n         keep-alives are\
    \ used at all. [4.2.3.6]\n      o  Providing an error reporting mechanism, and\
    \ the ability to\n         manage it.  [4.2.4.1]\n      o  Specifying type of\
    \ service. [4.2.4.2]\n      The general paradigm applied is that if a particular\
    \ interface is\n      visible outside the router, then all requirements for the\n\
    \      interface must be followed.  For example, if a router provides a\n    \
    \  telnet function, then it will be generating traffic, likely to be\n      routed\
    \ in the external networks.  Therefore, it must be able to\n      set the type\
    \ of service correctly or else the telnet traffic may\n      not get through.\n"
- title: 7.  APPLICATION LAYER - ROUTING PROTOCOLS
  contents:
  - '7.  APPLICATION LAYER - ROUTING PROTOCOLS

    '
- title: 7.1  INTRODUCTION
  contents:
  - "7.1  INTRODUCTION\n   An Autonomous System (AS) is defined as a set of routers\
    \ all\n   belonging under the same authority and all subject to a consistent\n\
    \   set of routing policies.  Interior gateway protocols (IGPs) are used\n   to\
    \ distribute routing information inside of an AS (i.e.  intra-AS\n   routing).\
    \ Exterior gateway protocols are used to exchange routing\n   information between\
    \ ASs (i.e. inter-AS routing).\n"
- title: 7.1.1  Routing Security Considerations
  contents:
  - "7.1.1  Routing Security Considerations\n      Routing is one of the few places\
    \ where the Robustness Principle\n      (be liberal in what you accept) does not\
    \ apply.  Routers should be\n      relatively suspicious in accepting routing\
    \ data from other routing\n      systems.\n      A router SHOULD provide the ability\
    \ to rank routing information\n      sources from most trustworthy to least trustworthy\
    \ and to accept\n      routing information about any particular destination from\
    \ the most\n      trustworthy sources first.  This was implicit in the original\n\
    \      core/stub autonomous system routing model using EGP and various\n     \
    \ interior routing protocols.  It is even more important with the\n      demise\
    \ of a central, trusted core.\n      A router SHOULD provide a mechanism to filter\
    \ out obviously\n      invalid routes (such as those for net 127).\n      Routers\
    \ MUST NOT by default redistribute routing data they do not\n      themselves\
    \ use, trust or otherwise consider invalid.  In rare\n      cases, it may be necessary\
    \ to redistribute suspicious information,\n      but this should only happen under\
    \ direct intercession by some\n      human agency.\n      In general, routers\
    \ must be at least a little paranoid about\n      accepting routing data from\
    \ anyone, and must be especially careful\n      when they distribute routing information\
    \ provided to them by\n      another party.  See below for specific guidelines.\n\
    \      Routers SHOULD IMPLEMENT peer-to-peer authentication for those\n      routing\
    \ protocols that support them.\n"
- title: 7.1.2  Precedence
  contents:
  - "7.1.2  Precedence\n      Except where the specification for a particular routing\
    \ protocol\n      specifies otherwise, a router SHOULD set the IP Precedence value\n\
    \      for IP datagrams carrying routing traffic it originates to 6\n      (INTERNETWORK\
    \ CONTROL).\n      DISCUSSION:\n         Routing traffic with VERY FEW exceptions\
    \ should be the highest\n         precedence traffic on any network.  If a system's\
    \ routing\n         traffic can't get through, chances are nothing else will.\n"
- title: 7.2  INTERIOR GATEWAY PROTOCOLS
  contents:
  - '7.2  INTERIOR GATEWAY PROTOCOLS

    '
- title: 7.2.1  INTRODUCTION
  contents:
  - "7.2.1  INTRODUCTION\n      An Interior Gateway Protocol (IGP) is used to distribute\
    \ routing\n      information between the various routers in a particular AS.\n\
    \      Independent of the algorithm used to implement a particular IGP,\n    \
    \  it should perform the following functions:\n      (1)  Respond quickly to changes\
    \ in the internal topology of an AS\n      (2)  Provide a mechanism such that\
    \ circuit flapping does not cause\n           continuous routing updates\n   \
    \   (3)  Provide quick convergence to loop-free routing\n      (4)  Utilize minimal\
    \ bandwidth\n      (5)  Provide equal cost routes to enable load-splitting\n \
    \     (6)  Provide a means for authentication of routing updates\n      Current\
    \ IGPs used in the internet today are characterized as\n      either being being\
    \ based on a distance-vector or a link-state\n      algorithm.\n      Several\
    \ IGPs are detailed in this section, including those most\n      commonly used\
    \ and some recently developed protocols which may be\n      widely used in the\
    \ future.  Numerous other protocols intended for\n      use in intra-AS routing\
    \ exist in the Internet community.\n      A router which implements any routing\
    \ protocol (other than static\n      routes) MUST IMPLEMENT OSPF (see Section\
    \ [7.2.2]) and MUST\n      IMPLEMENT RIP (see Section [7.2.4]).  A router MAY\
    \ implement\n      additional IGPs.\n"
- title: 7.2.2  OPEN SHORTEST PATH FIRST - OSPF
  contents:
  - '7.2.2  OPEN SHORTEST PATH FIRST - OSPF

    '
- title: 7.2.2.1  Introduction
  contents:
  - "7.2.2.1  Introduction\n         Shortest Path First (SPF) based routing protocols\
    \ are a class\n         of link-state algorithms which are based on the shortest-path\n\
    \         algorithm of Dijkstra.  Although SPF based algorithms have been\n  \
    \       around since the inception of the ARPANet, it is only recently\n     \
    \    that they have achieved popularity both inside both the IP and\n        \
    \ the OSI communities.  In an SPF based system, each router\n         obtains\
    \ an exact replica of the entire topology database via a\n         process known\
    \ as flooding.  Flooding insures a reliable\n         transfer of the information.\
    \ Each individual router then runs\n         the SPF algorithm on its database\
    \ to build the IP routing\n         table.  The OSPF routing protocol is an implementation\
    \ of an\n         SPF algorithm.  The current version, OSPF version 2, is\n  \
    \       specified in [ROUTE:1].  Note that RFC-1131, which describes\n       \
    \  OSPF version 1, is obsolete.\n         Note that to comply with Section [8.3]\
    \ of this memo, a router\n         which implements OSPF MUST implement the OSPF\
    \ MIB [MGT:14].\n"
- title: 7.2.2.2  Specific Issues
  contents:
  - "7.2.2.2  Specific Issues\n         Virtual Links\n              There is a minor\
    \ error in the specification that can cause\n              routing loops when\
    \ all of the following conditions are\n              simultaneously true:\n  \
    \            (1)  A virtual link is configured through a transit area,\n     \
    \         (2)  Two separate paths exist, each having the same\n              \
    \     endpoints, but one utilizing only non-virtual\n                   backbone\
    \ links, and the other using links in the\n                   transit area, and\n\
    \              (3)  The latter path is part of the (underlying physical\n    \
    \               representation of the) configured virtual link,\n            \
    \       routing loops may occur.\n              To prevent this, an implementation\
    \ of OSPF SHOULD invoke\n              the calculation in Section 16.3 of [ROUTE:1]\
    \ whenever any\n              part of the path to the destination is a virtual\
    \ link (the\n              specification only says this is necessary when the\
    \ first\n              hop is a virtual link).\n"
- title: 7.2.2.3  New Version of OSPF
  contents:
  - "7.2.2.3  New Version of OSPF\n         As of this writing (4/4/94) there is a\
    \ new version of the OSPF\n         specification that is winding its way through\
    \ the Internet\n         standardization process.  A prudent implementor will\
    \ be aware\n         of this and develop an implementation accordingly.\n    \
    \     The new version fixes several errors in the current\n         specification\
    \ [ROUTE:1].  For this reason, implementors and\n         vendors ought to expect\
    \ to upgrade to the new version\n         relatively soon.  In particular, the\
    \ following problems exist\n         in [ROUTE:1] that the new version fixes:\n\
    \         o  In [ROUTE:1], certain configurations of virtual links can\n     \
    \       lead to incorrect routing and/or routing loops. A fix for\n          \
    \  this is specified in the new specification.\n         o  In [ROUTE:1], OSPF\
    \ external routes to For example, a router\n            cannot import into an\
    \ OSPF domain external routes both for\n            192.2.0.0, 255.255.0.0 and\
    \ 192.2.0.0, 255.255.255.0.  Routes\n            such as these may become common\
    \ with the deployment of CIDR\n            [INTERNET:15].  This has been addressed\
    \ in the new OSPF\n            specification.\n         o  In [ROUTE:1], OSPF\
    \ Network-LSAs originated before a router\n            changes its OSPF Router\
    \ ID can confuse the Dijkstra\n            calculation if the router again becomes\
    \ Designated Router\n            for the network. This has been fixed.\n"
- title: 7.2.3  INTERMEDIATE SYSTEM TO INTERMEDIATE SYSTEM - DUAL IS-IS
  contents:
  - "7.2.3  INTERMEDIATE SYSTEM TO INTERMEDIATE SYSTEM - DUAL IS-IS\n      The American\
    \ National Standards Institute (ANSI) X3S3.3 committee\n      has defined an intra-domain\
    \ routing protocol.  This protocol is\n      titled Intermediate System to Intermediate\
    \ System Routeing\n      Exchange Protocol.\n      Its application to an IP network\
    \ has been defined in [ROUTE:2],\n      and is referred to as Dual IS-IS (or sometimes\
    \ as Integrated IS-\n      IS).  IS-IS is based on a link-state (SPF) routing\
    \ algorithm and\n      shares all the advantages for this class of protocols.\n"
- title: 7.2.4  ROUTING INFORMATION PROTOCOL - RIP
  contents:
  - '7.2.4  ROUTING INFORMATION PROTOCOL - RIP

    '
- title: 7.2.4.1  Introduction
  contents:
  - "7.2.4.1  Introduction\n         RIP is specified in [ROUTE:3].  Although RIP\
    \ is still quite\n         important in the Internet, it is being replaced in\n\
    \         sophisticated applications by more modern IGPs such as the ones\n  \
    \       described above.\n         Another common use for RIP is as a router discovery\
    \ protocol.\n         Section [4.3.3.10] briefly touches upon this subject.\n"
- title: 7.2.4.2  Protocol Walk-Through
  contents:
  - "7.2.4.2  Protocol Walk-Through\n         Dealing with changes in topology: [ROUTE:3],\
    \ pp. 11\n              An implementation of RIP MUST provide a means for timing\n\
    \              out routes.  Since messages are occasionally lost,\n          \
    \    implementations MUST NOT invalidate a route based on a\n              single\
    \ missed update.\n              Implementations MUST by default wait six times\
    \ the update\n              interval before invalidating a route.  A router MAY\
    \ have\n              configuration options to alter this value.\n           \
    \   DISCUSSION:\n                 It is important to routing stability that all\
    \ routers\n                 in a RIP autonomous system use similar timeout value\n\
    \                 for invalidating routes, and therefore it is important\n   \
    \              that an implementation default to the timeout value\n         \
    \        specified in the RIP specification.  However, that\n                \
    \ timeout value is overly conservative in environments\n                 where\
    \ packet loss is reasonably rare.  In such an\n                 environment, a\
    \ network manager may wish to be able to\n                 decrease the timeout\
    \ period in order to promote faster\n                 recovery from failures.\n\
    \              IMPLEMENTATION:\n                 There is a very simple mechanism\
    \ which a router may use\n                 to meet the requirement to invalidate\
    \ routes promptly\n                 after they time out.  Whenever the router\
    \ scans the\n                 routing table to see if any routes have timed out,\
    \ it\n                 also notes the age of the least recently updated route\n\
    \                 which has not yet timed out.  Subtracting this age from\n  \
    \               the timeout period gives the amount of time until the\n      \
    \           router again needs to scan the table for timed out\n             \
    \    routes.\n         Split Horizon: [ROUTE:3], pp. 14-15\n              An implementation\
    \ of RIP MUST implement split horizon, a\n              scheme used for avoiding\
    \ problems caused by including\n              routes in updates sent to the router\
    \ from which they were\n              learned.\n              An implementation\
    \ of RIP SHOULD implement Split horizon\n              with poisoned reverse,\
    \ a variant of split horizon which\n              includes routes learned from\
    \ a router sent to that router,\n              but sets their metric to infinity.\
    \  Because of the routing\n              overhead which may be incurred by implementing\
    \ split\n              horizon with poisoned reverse, implementations MAY include\n\
    \              an option to select whether poisoned reverse is in effect.\n  \
    \            An implementation SHOULD limit the period of time in which\n    \
    \          it sends reverse routes at an infinite metric.\n              IMPLEMENTATION:\n\
    \                 Each of the following algorithms can be used to limit\n    \
    \             the period of time for which poisoned reverse is\n             \
    \    applied to a route.  The first algorithm is more\n                 complex\
    \ but does a more complete job of limiting\n                 poisoned reverse\
    \ to only those cases where it is\n                 necessary.\n             \
    \    The goal of both algorithms is to ensure that poison\n                 reverse\
    \ is done for any destination whose route has\n                 changed in the\
    \ last Route Lifetime (typically 180\n                 seconds), unless it can\
    \ be sure that the previous route\n                 used the same output interface.\
    \  The Route Lifetime is\n                 used because that is the amount of\
    \ time RIP will keep\n                 around an old route before declaring it\
    \ stale.\n                 The time intervals (and derived variables) used in\
    \ the\n                 following algorithms are as follows:\n               \
    \  Tu   The Update Timer; the number of seconds between\n                    \
    \  RIP updates.  This typically defaults to 30\n                      seconds.\n\
    \                 Rl   The Route Lifetime, in seconds.  This is the\n        \
    \              amount of time that a route is presumed to be\n               \
    \       good, without requiring an update.  This typically\n                 \
    \     defaults to 180 seconds.\n                 Ul   The Update Loss; the number\
    \ of consecutive updates\n                      that have to be lost or fail to\
    \ mention a route\n                      before RIP deletes the route.  Ul is\
    \ calculated to\n                      be (Rl/Tu)+1.  The +1 is to account for\
    \ the fact\n                      that the first time the ifcounter is decremented\n\
    \                      will be less than Tu seconds after it is\n            \
    \          initialized.  Typically, Ul will be 7: (180/30)+1.\n              \
    \   In   The value to set ifcounter to when a destination\n                  \
    \    is newly learned.  This value is Ul-4, where the 4\n                    \
    \  is RIP's garbage collection timer/30\n                 The first algorithm\
    \ is:\n                 - Associated with each destination is a counter, called\n\
    \                    the ifcounter below.  Poison reverse is done for any\n  \
    \                  route whose destination's ifcounter is greater than\n     \
    \               zero.\n                 - After a regular (not triggered or in\
    \ response to a\n                    request) update is sent, all of the non-zero\n\
    \                    ifcounters are decremented by one.\n                 - When\
    \ a route to a destination is created, its\n                    ifcounter is set\
    \ as follows:\n                    - If the new route is superseding a valid route,\
    \ and\n                       the old route used a different (logical) output\n\
    \                       interface, then the ifcounter is set to Ul.\n        \
    \            - If the new route is superseding a stale route, and\n          \
    \             the old route used a different (logical) output\n              \
    \         interface, then the ifcounter is set to MAX(0, Ul\n                \
    \       - INT(seconds that the route has been stale/Ut).\n                   \
    \ - If there was no previous route to the destination,\n                     \
    \  the ifcounter is set to In.\n                    - Otherwise, the ifcounter\
    \ is set to zero\n                 - RIP also maintains a timer, called the resettimer\n\
    \                    below.  Poison reverse is done on all routes\n          \
    \          whenever resettimer has not expired (regardless of\n              \
    \      the ifcounter values).\n                 - When RIP is started, restarted,\
    \ reset, or otherwise\n                    has its routing table cleared, it sets\
    \ the\n                    resettimer to go off in Rl seconds.\n             \
    \    The second algorithm is identical to the first except\n                 that:\n\
    \                 - The rules which set the ifcounter to non-zero values\n   \
    \                 are changed to always set it to Rl/Tu, and\n               \
    \  - The resettimer is eliminated.\n            Triggered updates: [ROUTE:3],\
    \ pp. 15-16; pp. 29\n                 Triggered updates (also called flash updates)\
    \ are a\n                 mechanism for immediately notifying a router's\n   \
    \              neighbors when the router adds or deletes routes or\n         \
    \        changes their metrics.  A router MUST send a triggered\n            \
    \     update when routes are deleted or their metrics are\n                 increased.\
    \  A router MAY send a triggered update when\n                 routes are added\
    \ or their metrics decreased.\n                 Since triggered updates can cause\
    \ excessive routing\n                 overhead, implementations MUST use the following\n\
    \                 mechanism to limit the frequency of triggered updates:\n   \
    \              (1)  When a router sends a triggered update, it sets a\n      \
    \                timer to a random time between one and five\n               \
    \       seconds in the future.  The router must not\n                      generate\
    \ additional triggered updates before this\n                      timer expires.\n\
    \                 (2)  If the router would generate a triggered update\n     \
    \                 during this interval it sets a flag indicating\n           \
    \           that a triggered update is desired.  The router\n                \
    \      also logs the desired triggered update.\n                 (3)  When the\
    \ triggered update timer expires, the\n                      router checks the\
    \ triggered update flag. If the\n                      flag is set then the router\
    \ sends a single\n                      triggered update which includes all of\
    \ the changes\n                      that were logged.  The router then clears\
    \ the flag\n                      and, since a triggered update was sent, restarts\n\
    \                      this algorithm.\n                 (4)  The flag is also\
    \ cleared whenever a regular update\n                      is sent.\n        \
    \         Triggered updates SHOULD include all routes that have\n            \
    \     changed since the most recent regular (non-triggered)\n                \
    \ update.  Triggered updates MUST NOT include routes that\n                 have\
    \ not changed since the most recent regular update.\n                 DISCUSSION:\n\
    \                    Sending all routes, whether they have changed\n         \
    \           recently or not, is unacceptable in triggered\n                  \
    \  updates because the tremendous size of many Internet\n                    routing\
    \ tables could otherwise result in\n                    considerable bandwidth\
    \ being wasted on triggered\n                    updates.\n            Use of\
    \ UDP: [ROUTE:3], pp. 18-19.\n                 RIP packets sent to an IP broadcast\
    \ address SHOULD have\n                 their initial TTL set to one.\n      \
    \           Note that to comply with Section [6.1] of this memo, a\n         \
    \        router MUST use UDP checksums in RIP packets which it\n             \
    \    originates, MUST discard RIP packets received with\n                 invalid\
    \ UDP checksums, but MUST not discard received\n                 RIP packets simply\
    \ because they do not contain UDP\n                 checksums.\n            Addressing\
    \ Considerations: [ROUTE:3], pp. 22\n                 A RIP implementation SHOULD\
    \ support host routes.  If it\n                 does not, it MUST (as described\
    \ on page 27 of\n                 [ROUTE:3]) ignore host routes in received updates.\
    \  A\n                 router MAY log ignored hosts routes.\n                \
    \ The special address 0.0.0.0 is used to describe a\n                 default\
    \ route. A default route is used as the route of\n                 last resort\
    \ (i.e. when a route to the specific net does\n                 not exist in the\
    \ routing table). The router MUST be\n                 able to create a RIP entry\
    \ for the address 0.0.0.0.\n            Input Processing - Response: [ROUTE:3],\
    \ pp. 26\n                 When processing an update, the following validity\n\
    \                 checks MUST be performed:\n                 o  The response\
    \ MUST be from UDP port 520.\n                 o  The source address MUST be on\
    \ a directly connected\n                    subnet (or on a directly connected,\
    \ non-subnetted\n                    network) to be considered valid.\n      \
    \           o  The source address MUST NOT be one of the router's\n          \
    \          addresses.\n                    DISCUSSION:\n                     \
    \  Some networks, media, and interfaces allow a\n                       sending\
    \ node to receive packets that it\n                       broadcasts.  A router\
    \ must not accept its own\n                       packets as valid routing updates\
    \ and process\n                       them.  The last requirement prevents a router\n\
    \                       from accepting its own routing updates and\n         \
    \              processing them (on the assumption that they were\n           \
    \            sent by some other router on the network).\n                 An implementation\
    \ MUST NOT replace an existing route if\n                 the metric received\
    \ is equal to the existing metric\n                 except in accordance with\
    \ the following heuristic.\n                 An implementation MAY choose to implement\
    \ the following\n                 heuristic to deal with the above situation.\
    \ Normally,\n                 it is useless to change the route to a network from\
    \ one\n                 router to another if both are advertised at the same\n\
    \                 metric. However, the route being advertised by one of\n    \
    \             the routers may be in the process of timing out.\n             \
    \    Instead of waiting for the route to timeout, the new\n                 route\
    \ can be used after a specified amount of time has\n                 elapsed.\
    \ If this heuristic is implemented, it MUST wait\n                 at least halfway\
    \ to the expiration point before the new\n                 route is installed.\n"
- title: 7.2.4.3  Specific Issues
  contents:
  - "7.2.4.3  Specific Issues\n         RIP Shutdown\n              An implementation\
    \ of RIP SHOULD provide for a graceful\n              shutdown using the following\
    \ steps:\n              (1)  Input processing is terminated,\n              (2)\
    \  Four updates are generated at random intervals of\n                   between\
    \ two and four seconds, These updates contain\n                   all routes that\
    \ were previously announced, but with\n                   some metric changes.\
    \  Routes that were being\n                   announced at a metric of infinity\
    \ should continue to\n                   use this metric.  Routes that had been\
    \ announced with\n                   a non-infinite metric should be announced\
    \ with a\n                   metric of 15 (infinity - 1).\n                  \
    \ DISCUSSION:\n                      The metric used for the above really ought\
    \ to be\n                      16 (infinity); setting it to 15 is a kludge to\n\
    \                      avoid breaking certain old hosts which wiretap the\n  \
    \                    RIP protocol.  Such a host will (erroneously)\n         \
    \             abort a TCP connection if it tries to send a\n                 \
    \     datagram on the connection while the host has no\n                     \
    \ route to the destination (even if the period when\n                      the\
    \ host has no route lasts only a few seconds\n                      while RIP\
    \ chooses an alternate path to the\n                      destination).\n    \
    \     RIP Split Horizon and Static Routes\n              Split horizon SHOULD\
    \ be applied to static routes by\n              default.  An implementation SHOULD\
    \ provide a way to\n              specify, per static route, that split horizon\
    \ should not\n              be applied to this route.\n"
- title: 7.2.5  GATEWAY TO GATEWAY PROTOCOL - GGP
  contents:
  - "7.2.5  GATEWAY TO GATEWAY PROTOCOL - GGP\n      The Gateway to Gateway protocol\
    \ is considered obsolete and SHOULD\n      NOT be implemented.\n"
- title: 7.3  EXTERIOR GATEWAY PROTOCOLS
  contents:
  - '7.3  EXTERIOR GATEWAY PROTOCOLS

    '
- title: 7.3.1  INTRODUCTION
  contents:
  - "7.3.1  INTRODUCTION\n      Exterior Gateway Protocols are utilized for inter-Autonomous\n\
    \      System routing to exchange reachability information for a set of\n    \
    \  networks internal to a particular autonomous system to a\n      neighboring\
    \ autonomous system.\n      The area of inter-AS routing is a current topic of\
    \ research inside\n      the Internet Engineering Task Force.  The Exterior Gateway\n\
    \      Protocol (EGP) described in Section [7.3.3] has traditionally been\n  \
    \    the inter-AS protocol of choice.  The Border Gateway Protocol\n      (BGP)\
    \ eliminates many of the restrictions and limitations of EGP,\n      and is therefore\
    \ growing rapidly in popularity.  A router is not\n      required to implement\
    \ any inter-AS routing protocol.  However, if\n      a router does implement EGP\
    \ it also MUST IMPLEMENT BGP.\n      Although it was not designed as an exterior\
    \ gateway protocol, RIP\n      (described in Section [7.2.4]) is sometimes used\
    \ for inter-AS\n      routing.\n"
- title: 7.3.2  BORDER GATEWAY PROTOCOL - BGP
  contents:
  - '7.3.2  BORDER GATEWAY PROTOCOL - BGP

    '
- title: 7.3.2.1  Introduction
  contents:
  - "7.3.2.1  Introduction\n         The Border Gateway Protocol (BGP) is an inter-AS\
    \ routing\n         protocol which exchanges network reachability information\
    \ with\n         other BGP speakers. The information for a network includes the\n\
    \         complete list of ASs that traffic must transit to reach that\n     \
    \    network. This information can then be used to insure loop-free\n        \
    \ paths.  This information is sufficient to construct a graph of\n         AS\
    \ connectivity from which routing loops may be pruned and some\n         policy\
    \ decisions at the AS level may be enforced.\n         BGP is defined by [ROUTE:4].\
    \  [ROUTE:5] specifies the proper\n         usage of BGP in the Internet, and\
    \ provides some useful\n         implementation hints and guidelines.  [ROUTE:12]\
    \ and [ROUTE:13]\n         provide additional useful information.\n         To\
    \ comply with Section [8.3] of this memo, a router which\n         implements\
    \ BGP MUST also implement the BGP MIB [MGT:15].\n         To characterize the\
    \ set of policy decisions that can be\n         enforced using BGP, one must focus\
    \ on the rule that an AS\n         advertises to its neighbor ASs only those routes\
    \ that it itself\n         uses.  This rule reflects the hop-by-hop routing paradigm\n\
    \         generally used throughout the current Internet.  Note that some\n  \
    \       policies cannot be supported by the hop-by-hop routing paradigm\n    \
    \     and thus require techniques such as source routing to enforce.\n       \
    \  For example, BGP does not enable one AS to send traffic to a\n         neighbor\
    \ AS intending that that traffic take a different route\n         from that taken\
    \ by traffic originating in the neighbor AS.  On\n         the other hand, BGP\
    \ can support any policy conforming to the\n         hop-by-hop routing paradigm.\n\
    \         Implementors of BGP are strongly encouraged to follow the\n        \
    \ recommendations outlined in Section 6 of [ROUTE:5].\n"
- title: 7.3.2.2  Protocol Walk-through
  contents:
  - "7.3.2.2  Protocol Walk-through\n         While BGP provides support for quite\
    \ complex routing policies\n         (as an example see Section 4.2 in [ROUTE:5]),\
    \ it is not\n         required for all BGP implementors to support such policies.\
    \  At\n         a minimum, however, a BGP implementation:\n         (1)  SHOULD\
    \ allow an AS to control announcements of the BGP\n              learned routes\
    \ to adjacent AS's. Implementations SHOULD\n              support such control\
    \ with at least the granularity of a\n              single network. Implementations\
    \ SHOULD also support such\n              control with the granularity of an autonomous\
    \ system,\n              where the autonomous system may be either the autonomous\n\
    \              system that originated the route, or the autonomous system\n  \
    \            that advertised the route to the local system (adjacent\n       \
    \       autonomous system).\n         (2)  SHOULD allow an AS to prefer a particular\
    \ path to a\n              destination (when more than one path is available).\
    \  Such\n              function SHOULD be implemented by allowing system\n   \
    \           administrator to assign weights to Autonomous Systems, and\n     \
    \         making route selection process to select a route with the\n        \
    \      lowest weight (where weight of a route is defined as a sum\n          \
    \    of weights of all AS's in the AS_PATH path attribute\n              associated\
    \ with that route).\n         (3)  SHOULD allow an AS to ignore routes with certain\
    \ AS's in\n              the AS_PATH path attribute. Such function can be\n  \
    \            implemented by using technique outlined in (2), and by\n        \
    \      assigning infinity as weights for such AS's. The route\n              selection\
    \ process must ignore routes that have weight\n              equal to infinity.\n"
- title: 7.3.3  EXTERIOR GATEWAY PROTOCOL - EGP
  contents:
  - '7.3.3  EXTERIOR GATEWAY PROTOCOL - EGP

    '
- title: 7.3.3.1  Introduction
  contents:
  - "7.3.3.1  Introduction\n         The Exterior Gateway Protocol (EGP) specifies\
    \ an EGP which is\n         used to exchange reachability information between\
    \ routers of\n         the same or differing autonomous systems. EGP is not considered\n\
    \         a routing protocol since there is no standard interpretation\n     \
    \    (i.e. metric) for the distance fields in the EGP update\n         message,\
    \ so distances are comparable only among routers of the\n         same AS.  It\
    \ is however designed to provide high-quality\n         reachability information,\
    \ both about neighbor routers and about\n         routes to non-neighbor routers.\n\
    \         EGP is defined by [ROUTE:6].  An implementor almost certainly\n    \
    \     wants to read [ROUTE:7] and [ROUTE:8] as well, for they contain\n      \
    \   useful explanations and background material.\n         DISCUSSION:\n     \
    \       The present EGP specification has serious limitations, most\n        \
    \    importantly a restriction which limits routers to\n            advertising\
    \ only those networks which are reachable from\n            within the router's\
    \ autonomous system.  This restriction\n            against propagating third\
    \ party EGP information is to\n            prevent long-lived routing loops. \
    \ This effectively limits\n            EGP to a two-level hierarchy.\n       \
    \     RFC-975 is not a part of the EGP specification, and should\n           \
    \ be ignored.\n"
- title: 7.3.3.2  Protocol Walk-through
  contents:
  - "7.3.3.2  Protocol Walk-through\n         Indirect Neighbors: RFC-888, pp. 26\n\
    \            An implementation of EGP MUST include indirect neighbor\n       \
    \     support.\n         Polling Intervals: RFC-904, pp. 10\n            The interval\
    \ between Hello command retransmissions and the\n            interval between\
    \ Poll retransmissions SHOULD be configurable\n            but there MUST be a\
    \ minimum value defined.\n            The interval at which an implementation\
    \ will respond to\n            Hello commands and Poll commands SHOULD be configurable\
    \ but\n            there MUST be a minimum value defined.\n         Network Reachability:\
    \ RFC-904, pp. 15\n            An implementation MUST default to not providing\
    \ the external\n            list of routers in other autonomous systems; only\
    \ the\n            internal list of routers together with the nets which are\n\
    \            reachable via those routers should be included in an Update\n   \
    \         Response/Indication packet.  However, an implementation MAY\n      \
    \      elect to provide a configuration option enabling the\n            external\
    \ list to be provided.  An implementation MUST NOT\n            include in the\
    \ external list routers which were learned via\n            the external list\
    \ provided by a router in another autonomous\n            system. An implementation\
    \ MUST NOT send a network back to\n            the autonomous system from which\
    \ it is learned, i.e. it MUST\n            do split-horizon on an autonomous system\
    \ level.\n            If more than 255 internal or 255 external routers need to\
    \ be\n            specified in a Network Reachability update, the networks\n \
    \           reachable from routers that can not be listed MUST be merged\n   \
    \         into the list for one of the listed routers.  Which of the\n       \
    \     listed routers is chosen for this purpose SHOULD be user\n            configurable,\
    \ but SHOULD default to the source address of\n            the EGP update being\
    \ generated.\n            An EGP update contains a series of blocks of network\n\
    \            numbers, where each block contains a list of network numbers\n  \
    \          reachable at a particular distance via a particular router.\n     \
    \       If more than 255 networks are reachable at a particular\n            distance\
    \ via a particular router, they are split into\n            multiple blocks (all\
    \ of which have the same distance).\n            Similarly, if more than 255 blocks\
    \ are required to list the\n            networks reachable via a particular router,\
    \ the router's\n            address is listed as many times as necessary to include\
    \ all\n            of the blocks in the update.\n         Unsolicited Updates:\
    \ RFC-904, pp. 16\n            If a network is shared with the peer, an implementation\
    \ MUST\n            send an unsolicited update upon entry to the Up state\n  \
    \          assuming that the source network is the shared network.\n         Neighbor\
    \ Reachability: RFC-904, pp. 6, 13-15\n            The table on page 6 which describes\
    \ the values of j and k\n            (the neighbor up and down thresholds) is\
    \ incorrect.  It is\n            reproduced correctly here:\n               Name\
    \    Active  Passive Description\n               -----------------------------------------------\n\
    \                j         3       1    neighbor-up threshold\n              \
    \  k         1       0    neighbor-down threshold\n            The value for k\
    \ in passive mode also specified incorrectly\n            in RFC-904, pp. 14 The\
    \ values in parenthesis should read:\n               (j = 1, k = 0, and T3/T1\
    \ = 4)\n            As an optimization, an implementation can refrain from\n \
    \           sending a Hello command when a Poll is due.  If an\n            implementation\
    \ does so, it SHOULD provide a user\n            configurable option to disable\
    \ this optimization.\n         Abort timer: RFC-904, pp. 6, 12, 13\n         \
    \   An EGP implementation MUST include support for the abort\n            timer\
    \ (as documented in section 4.1.4 of RFC-904).  An\n            implementation\
    \ SHOULD use the abort timer in the Idle state\n            to automatically issue\
    \ a Start event to restart the protocol\n            machine.  Recommended values\
    \ are P4 for a critical error\n            (Administratively prohibited, Protocol\
    \ Violation and\n            Parameter Problem) and P5 for all others.  The abort\
    \ timer\n            SHOULD NOT be started when a Stop event was manually\n  \
    \          initiated (such as via a network management protocol).\n         Cease\
    \ command received in Idle state: RFC-904, pp. 13\n            When the EGP state\
    \ machine is in the Idle state, it MUST\n            reply to Cease commands with\
    \ a Cease-ack response.\n         Hello Polling Mode: RFC-904, pp. 11\n      \
    \      An EGP implementation MUST include support for both active\n          \
    \  and passive polling modes.\n         Neighbor Acquisition Messages: RFC-904,\
    \ pp. 18\n            As noted the Hello and Poll Intervals should only be present\n\
    \            in Request and Confirm messages.  Therefore the length of an\n  \
    \          EGP Neighbor Acquisition Message is 14 bytes for a Request\n      \
    \      or Confirm message and 10 bytes for a Refuse, Cease or\n            Cease-ack\
    \ message.  Implementations MUST NOT send 14 bytes\n            for Refuse, Cease\
    \ or Cease-ack messages but MUST allow for\n            implementations that send\
    \ 14 bytes for these messages.\n         Sequence Numbers: RFC-904, pp. 10\n \
    \           Response or indication packets received with a sequence\n        \
    \    number not equal to S MUST be discarded.  The send sequence\n           \
    \ number S MUST be incremented just before the time a Poll\n            command\
    \ is sent and at no other times.\n"
- title: 7.3.4  INTER-AS ROUTING WITHOUT AN EXTERIOR PROTOCOL
  contents:
  - "7.3.4  INTER-AS ROUTING WITHOUT AN EXTERIOR PROTOCOL\n      It is possible to\
    \ exchange routing information between two\n      autonomous systems or routing\
    \ domains without using a standard\n      exterior routing protocol between two\
    \ separate, standard interior\n      routing protocols.  The most common way of\
    \ doing this is to run\n      both interior protocols independently in one of\
    \ the border routers\n      with an exchange of route information between the\
    \ two processes.\n      As with the exchange of information from an EGP to an\
    \ IGP, without\n      appropriate controls these exchanges of routing information\n\
    \      between two IGPs in a single router are subject to creation of\n      routing\
    \ loops.\n"
- title: 7.4  STATIC ROUTING
  contents:
  - "7.4  STATIC ROUTING\n   Static routing provides a means of explicitly defining\
    \ the next hop\n   from a router for a particular destination.  A router SHOULD\
    \ provide\n   a means for defining a static route to a destination, where the\n\
    \   destination is defined by an address and an address mask.  The\n   mechanism\
    \ SHOULD also allow for a metric to be specified for each\n   static route.\n\
    \   A router which supports a dynamic routing protocol MUST allow static\n   routes\
    \ to be defined with any metric valid for the routing protocol\n   used.  The\
    \ router MUST provide the ability for the user to specify a\n   list of static\
    \ routes which may or may not be propagated via the\n   routing protocol.  In\
    \ addition, a router SHOULD support the following\n   additional information if\
    \ it supports a routing protocol that could\n   make use of the information. They\
    \ are:\n   o  TOS,\n   o  Subnet mask, or\n   o  A metric specific to a given\
    \ routing protocol that can import the\n      route.\n   DISCUSSION:\n      We\
    \ intend that one needs to support only the things useful to the\n      given\
    \ routing protocol.  The need for TOS should not require the\n      vendor to\
    \ implement the other parts if they are not used.\n   Whether a router prefers\
    \ a static route over a dynamic route (or vice\n   versa) or whether the associated\
    \ metrics are used to choose between\n   conflicting static and dynamic routes\
    \ SHOULD be configurable for each\n   static route.\n   A router MUST allow a\
    \ metric to be assigned to a static route for\n   each routing domain that it\
    \ supports.  Each such metric MUST be\n   explicitly assigned to a specific routing\
    \ domain.  For example:\n        route 36.0.0.0 255.0.0.0 via 192.19.200.3 rip\
    \ metric 3\n        route 36.21.0.0 255.255.0.0 via 192.19.200.4 ospf inter-area\n\
    \        metric 27\n        route 36.22.0.0 255.255.0.0 via 192.19.200.5 egp 123\
    \ metric 99\n        route 36.23.0.0 255.255.0.0 via 192.19.200.6 igrp 47 metric\
    \ 1 2\n        3 4 5\n   DISCUSSION:\n      It has been suggested that, ideally,\
    \ static routes should have\n      preference values rather than metrics (since\
    \ metrics can only be\n      compared with metrics of other routes in the same\
    \ routing domain,\n      the metric of a static route could only be compared with\
    \ metrics\n      of other static routes).  This is contrary to some current\n\
    \      implementations, where static routes really do have metrics, and\n    \
    \  those metrics are used to determine whether a particular dynamic\n      route\
    \ overrides the static route to the same destination.  Thus,\n      this document\
    \ uses the term metric rather than preference.\n      This technique essentially\
    \ makes the static route into a RIP\n      route, or an OSPF route (or whatever,\
    \ depending on the domain of\n      the metric).  Thus, the route lookup algorithm\
    \ of that domain\n      applies.  However, this is NOT route leaking, in that\
    \ coercing a\n      static route into a dynamic routing domain does not authorize\
    \ the\n      router to redistribute the route into the dynamic routing domain.\n\
    \      For static routes not put into a specific routing domain, the\n      route\
    \ lookup algorithm is:\n      (1)  Basic match\n      (2)  Longest match\n   \
    \   (3)  Weak TOS (if TOS supported)\n      (4)  Best metric (where metric are\
    \ implementation-defined)\n      The last step may not be necessary, but it's\
    \ useful in the case\n      where you want to have a primary static route over\
    \ one interface\n      and a secondary static route over an alternate interface,\
    \ with\n      failover to the alternate path if the interface for the primary\n\
    \      route fails.\n"
- title: 7.5  FILTERING OF ROUTING INFORMATION
  contents:
  - "7.5  FILTERING OF ROUTING INFORMATION\n   Each router within a network makes\
    \ forwarding decisions based upon\n   information contained within its forwarding\
    \ database.  In a simple\n   network the contents of the database may be statically\
    \ configured.\n   As the network grows more complex, the need for dynamic updating\
    \ of\n   the forwarding database becomes critical to the efficient operation\n\
    \   of the network.\n   If the data flow through a network is to be as efficient\
    \ as possible,\n   it is necessary to provide a mechanism for controlling the\n\
    \   propagation of the information a router uses to build its forwarding\n   database.\
    \  This control takes the form of choosing which sources of\n   routing information\
    \ should be trusted and selecting which pieces of\n   the information to believe.\
    \  The resulting forwarding database is a\n   filtered version of the available\
    \ routing information.\n   In addition to efficiency, controlling the propagation\
    \ of routing\n   information can reduce instability by preventing the spread of\n\
    \   incorrect or bad routing information.\n   In some cases local policy may require\
    \ that complete routing\n   information not be widely propagated.\n   These filtering\
    \ requirements apply only to non-SPF-based protocols\n   (and therefore not at\
    \ all to routers which don't implement any\n   distance vector protocols).\n"
- title: 7.5.1  Route Validation
  contents:
  - "7.5.1  Route Validation\n      A router SHOULD log as an error any routing update\
    \ advertising a\n      route to network zero, subnet zero, or subnet -1, unless\
    \ the\n      routing protocol from which the update was received uses those\n\
    \      values to encode special routes (such as default routes).\n"
- title: 7.5.2  Basic Route Filtering
  contents:
  - "7.5.2  Basic Route Filtering\n      Filtering of routing information allows control\
    \ of paths used by a\n      router to forward packets it receives.  A router should\
    \ be\n      selective in which sources of routing information it listens to\n\
    \      and what routes it believes.  Therefore, a router MUST provide the\n  \
    \    ability to specify:\n      o  On which logical interfaces routing information\
    \ will be\n         accepted and which routes will be accepted from each logical\n\
    \         interface.\n      o  Whether all routes or only a default route is advertised\
    \ on a\n         logical interface.\n      Some routing protocols do not recognize\
    \ logical interfaces as a\n      source of routing information.  In such cases\
    \ the router MUST\n      provide the ability to specify\n      o  from which other\
    \ routers routing information will be accepted.\n      For example, assume a router\
    \ connecting one or more leaf networks\n      to the main portion or backbone\
    \ of a larger network.  Since each\n      of the leaf networks has only one path\
    \ in and out, the router can\n      simply send a default route to them.  It advertises\
    \ the leaf\n      networks to the main network.\n"
- title: 7.5.3  Advanced Route Filtering
  contents:
  - "7.5.3  Advanced Route Filtering\n      As the topology of a network grows more\
    \ complex, the need for more\n      complex route filtering arises.  Therefore,\
    \ a router SHOULD\n      provide the ability to specify independently for each\
    \ routing\n      protocol:\n      o  Which logical interfaces or routers routing\
    \ information\n         (routes) will be accepted from and which routes will be\n\
    \         believed from each other router or logical interface,\n      o  Which\
    \ routes will be sent via which logical interface(s), and\n      o  Which routers\
    \ routing information will be sent to, if this is\n         supported by the routing\
    \ protocol in use.\n      In many situations it is desirable to assign a reliability\n\
    \      ordering to routing information received from another router\n      instead\
    \ of the simple believe or don't believe choice listed in\n      the first bullet\
    \ above.  A router MAY provide the ability to\n      specify:\n      o  A reliability\
    \ or preference to be assigned to each route\n         received.  A route with\
    \ higher reliability will be chosen over\n         one with lower reliability\
    \ regardless of the routing metric\n         associated with each route.\n   \
    \   If a router supports assignment of preferences, the router MUST\n      NOT\
    \ propagate any routes it does not prefer as first party\n      information. \
    \ If the routing protocol being used to propagate the\n      routes does not support\
    \ distinguishing between first and third\n      party information, the router\
    \ MUST NOT propagate any routes it\n      does not prefer.\n      DISCUSSION:\n\
    \         For example, assume a router receives a route to network C from\n  \
    \       router R and a route to the same network from router S.  If\n        \
    \ router R is considered more reliable than router S traffic\n         destined\
    \ for network C will be forwarded to router R regardless\n         of the route\
    \ received from router S.\n      Routing information for routes which the router\
    \ does not use\n      (router S in the above example) MUST NOT be passed to any\
    \ other\n      router.\n"
- title: 7.6  INTER-ROUTING-PROTOCOL INFORMATION EXCHANGE
  contents:
  - "7.6  INTER-ROUTING-PROTOCOL INFORMATION EXCHANGE\n   Routers MUST be able to\
    \ exchange routing information between separate\n   IP interior routing protocols,\
    \ if independent IP routing processes\n   can run in the same router.  Routers\
    \ MUST provide some mechanism for\n   avoiding routing loops when routers are\
    \ configured for bi-directional\n   exchange of routing information between two\
    \ separate interior routing\n   processes.  Routers MUST provide some priority\
    \ mechanism for choosing\n   routes from among independent routing processes.\
    \  Routers SHOULD\n   provide administrative control of IGP-IGP exchange when\
    \ used across\n   administrative boundaries.\n   Routers SHOULD provide some mechanism\
    \ for translating or transforming\n   metrics on a per network basis.  Routers\
    \ (or routing protocols) MAY\n   allow for global preference of exterior routes\
    \ imported into an IGP.\n   DISCUSSION:\n      Different IGPs use different metrics,\
    \ requiring some translation\n      technique when introducing information from\
    \ one protocol into\n      another protocol with a different form of metric. \
    \ Some IGPs can\n      run multiple instances within the same router or set of\
    \ routers.\n      In this case metric information can be preserved exactly or\n\
    \      translated.\n      There are at least two techniques for translation between\n\
    \      different routing processes.  The static (or reachability)\n      approach\
    \ uses the existence of a route advertisement in one IGP to\n      generate a\
    \ route advertisement in the other IGP with a given\n      metric.  The translation\
    \ or tabular approach uses the metric in\n      one IGP to create a metric in\
    \ the other IGP through use of either\n      a function (such as adding a constant)\
    \ or a table lookup.\n      Bi-directional exchange of routing information is\
    \ dangerous\n      without control mechanisms to limit feedback.  This is the\
    \ same\n      problem that distance vector routing protocols must address with\n\
    \      the split horizon technique and that EGP addresses with the\n      third-party\
    \ rule.  Routing loops can be avoided explicitly through\n      use of tables\
    \ or lists of permitted/denied routes or implicitly\n      through use of a split\
    \ horizon rule, a no-third-party rule, or a\n      route tagging mechanism.  Vendors\
    \ are encouraged to use implicit\n      techniques where possible to make administration\
    \ easier for\n      network operators.\n"
- title: 8.  APPLICATION LAYER - NETWORK MANAGEMENT PROTOCOLS
  contents:
  - '8.  APPLICATION LAYER - NETWORK MANAGEMENT PROTOCOLS

    '
- title: Note that this chapter supersedes any requirements stated in section 6.3
  contents:
  - 'Note that this chapter supersedes any requirements stated in section 6.3

    '
- title: of [INTRO:3].
  contents:
  - 'of [INTRO:3].

    '
- title: 8.1  The Simple Network Management Protocol - SNMP
  contents:
  - '8.1  The Simple Network Management Protocol - SNMP

    '
- title: 8.1.1  SNMP Protocol Elements
  contents:
  - "8.1.1  SNMP Protocol Elements\n      Routers MUST be manageable by SNMP [MGT:3].\
    \  The SNMP MUST operate\n      using UDP/IP as its transport and network protocols.\
    \  Others MAY\n      be supported (e.g., see [MGT:25, MGT:26, MGT:27, and MGT:28]).\n\
    \      SNMP management operations MUST operate as if the SNMP was\n      implemented\
    \ on the router itself. Specifically, management\n      operations MUST be effected\
    \ by sending SNMP management requests to\n      any of the IP addresses assigned\
    \ to any of the router's\n      interfaces. The actual management operation may\
    \ be performed\n      either by the router or by a proxy for the router.\n   \
    \   DISCUSSION:\n         This wording is intended to allow management either\
    \ by proxy,\n         where the proxy device responds to SNMP packets which have\
    \ one\n         of the router's IP addresses in the packets destination address\n\
    \         field, or the SNMP is implemented directly in the router itself\n  \
    \       and receives packets and responds to them in the proper manner.\n    \
    \     It is important that management operations can be sent to one\n        \
    \ of the router's IP Addresses.  In diagnosing network problems\n         the\
    \ only thing identifying the router that is available may be\n         one of\
    \ the router's IP address; obtained perhaps by looking\n         through another\
    \ router's routing table.\n      All SNMP operations (get, get-next, get-response,\
    \ set, and trap)\n      MUST be implemented.\n      Routers MUST provide a mechanism\
    \ for rate-limiting the generation\n      of SNMP trap messages.  Routers MAY\
    \ provide this mechanism via the\n      algorithms for asynchronous alert management\
    \ described in [MGT:5].\n      DISCUSSION:\n         Although there is general\
    \ agreement about the need to rate-\n         limit traps, there is not yet consensus\
    \ on how this is best\n         achieved.  The reference cited is considered experimental.\n"
- title: 8.2  Community Table
  contents:
  - "8.2  Community Table\n   For the purposes of this specification, we assume that\
    \ there is an\n   abstract `community table' in the router.  This table contains\n\
    \   several entries, each entry for a specific community and containing\n   the\
    \ parameters necessary to completely define the attributes of that\n   community.\
    \  The actual implementation method of the abstract\n   community table is, of\
    \ course, implementation specific.\n   A router's community table MUST allow for\
    \ at least one entry and\n   SHOULD allow for at least two entries.\n   DISCUSSION:\n\
    \      A community table with zero capacity is useless.  It means that\n     \
    \ the router will not recognize any communities and, therefore, all\n      SNMP\
    \ operations will be rejected.\n      Therefore, one entry is the minimal useful\
    \ size of the table.\n      Having two entries allows one entry to be limited\
    \ to read-only\n      access while the other would have write capabilities.\n\
    \   Routers MUST allow the user to manually (i.e., without using SNMP)\n   examine,\
    \ add, delete and change entries in the SNMP community table.\n   The user MUST\
    \ be able to set the community name.  The user MUST be\n   able to configure communities\
    \ as read-only (i.e., they do not allow\n   SETs) or read-write (i.e., they do\
    \ allow SETs).\n   The user MUST be able to define at least one IP address to\
    \ which\n   traps are sent for each community.  These addresses MUST be definable\n\
    \   on a per-community basis.  Traps MUST be enablable or disablable on a\n  \
    \ per-community basis.\n   A router SHOULD provide the ability to specify a list\
    \ of valid\n   network managers for any particular community.  If enabled, a router\n\
    \   MUST validate the source address of the SNMP datagram against the\n   list\
    \ and MUST discard the datagram if its address does not appear.\n   If the datagram\
    \ is discarded the router MUST take all actions\n   appropriate to an SNMP authentication\
    \ failure.\n   DISCUSSION:\n      This is a rather limited authentication system,\
    \ but coupled with\n      various forms of packet filtering may provide some small\
    \ measure\n      of increased security.\n   The community table MUST be saved\
    \ in non-volatile storage.\n   The initial state of the community table SHOULD\
    \ contain one entry,\n   with the community name string public and read-only access.\
    \  The\n   default state of this entry MUST NOT send traps.  If it is\n   implemented,\
    \ then this entry MUST remain in the community table until\n   the administrator\
    \ changes it or deletes it.\n   DISCUSSION:\n      By default, traps are not sent\
    \ to this community.  Trap PDUs are\n      sent to unicast IP addresses. This\
    \ address must be configured into\n      the router in some manner. Before the\
    \ configuration occurs, there\n      is no such address, so to whom should the\
    \ trap be sent? Therefore\n      trap sending to the public community defaults\
    \ to be disabled. This\n      can, of course, be changed by an administrative\
    \ operation once the\n      router is operational.\n"
- title: 8.3  Standard MIBS
  contents:
  - "8.3  Standard MIBS\n   All MIBS relevant to a router's configuration are to be\
    \ implemented.\n   To wit:\n   o  The System, Interface, IP, ICMP, and UDP groups\
    \ of MIB-II [MGT:2]\n      MUST be implemented.\n   o  The Interface Extensions\
    \ MIB [MGT:18] MUST be implemented.\n   o  The IP Forwarding Table MIB [MGT:20]\
    \ MUST be implemented.\n   o  If the router implements TCP (e.g. for Telnet) then\
    \ the TCP group\n      of MIB-II [MGT:2] MUST be implemented.\n   o  If the router\
    \ implements EGP then the EGP group of MIB-II [MGT:2]\n      MUST be implemented.\n\
    \   o  If the router supports OSPF then the OSPF MIB [MGT:14] MUST be\n      implemented.\n\
    \   o  If the router supports BGP then the BGP MIB [MGT:15] MUST be\n      implemented.\n\
    \   o  If the router has Ethernet, 802.3, or StarLan interfaces then the\n   \
    \   Ethernet-Like MIB [MGT:6] MUST be implemented.\n   o  If the router has 802.4\
    \ interfaces then the 802.4 MIB [MGT:7] MAY\n      be implemented.\n   o  If the\
    \ router has 802.5 interfaces then the 802.5 MIB [MGT:8] MUST\n      be implemented.\n\
    \   o  If the router has FDDI interfaces that implement ANSI SMT 7.3 then\n  \
    \    the FDDI MIB [MGT:9] MUST be implemented.\n   o  If the router has FDDI interfaces\
    \ that implement ANSI SMT 6.2 then\n      the FDDI MIB [MGT:29] MUST be implemented.\n\
    \   o  If the router has RS-232 interfaces then the RS-232 [MGT:10] MIB\n    \
    \  MUST be implemented.\n   o  If the router has T1/DS1 interfaces then the T1/DS1\
    \ MIB [MGT:16]\n      MUST be implemented.\n   o  If the router has T3/DS3 interfaces\
    \ then the T3/DS3 MIB [MGT:17]\n      MUST be implemented.\n   o  If the router\
    \ has SMDS interfaces then the SMDS Interface Protocol\n      MIB [MGT:19] MUST\
    \ be implemented.\n   o  If the router supports PPP over any of its interfaces\
    \ then the PPP\n      MIBs [MGT:11], [MGT:12], and [MGT:13] MUST be implemented.\n\
    \   o  If the router supports RIP Version 2 then the RIP Version 2 MIB\n     \
    \ [MGT:21] MUST be implemented.\n   o  If the router supports X.25 over any of\
    \ its interfaces then the\n      X.25 MIBs [MGT:22, MGT:23 and MGT:24] MUST be\
    \ implemented.\n"
- title: 8.4  Vendor Specific MIBS
  contents:
  - "8.4  Vendor Specific MIBS\n   The Internet Standard and Experimental MIBs do\
    \ not cover the entire\n   range of statistical, state, configuration and control\
    \ information\n   that may be available in a network element. This information\
    \ is,\n   never the less, extremely useful. Vendors of routers (and other\n  \
    \ network devices) generally have developed MIB extensions that cover\n   this\
    \ information. These MIB extensions are called Vendor Specific\n   MIBs.\n   The\
    \ Vendor Specific MIB for the router MUST provide access to all\n   statistical,\
    \ state, configuration, and control information that is\n   not available through\
    \ the Standard and Experimental MIBs that have\n   been implemented.  This information\
    \ MUST be available for both\n   monitoring and control operations.\n   DISCUSSION:\n\
    \      The intent of this requirement is to provide the ability to do\n      anything\
    \ on the router via SNMP that can be done via a console.  A\n      certain minimal\
    \ amount of configuration is necessary before SNMP\n      can operate (e.g., the\
    \ router must have an IP address). This\n      initial configuration can not be\
    \ done via SNMP. However, once the\n      initial configuration is done, full\
    \ capabilities ought to be\n      available via network management.\n   The vendor\
    \ SHOULD make available the specifications for all Vendor\n   Specific MIB variables.\
    \ These specifications MUST conform to the SMI\n   [MGT:1] and the descriptions\
    \ MUST be in the form specified in\n   [MGT:4].\n   DISCUSSION:\n      Making\
    \ the Vendor Specific MIB available to the user is necessary.\n      Without this\
    \ information the users would not be able to configure\n      their network management\
    \ systems to be able to access the Vendor\n      Specific parameters.  These parameters\
    \ would then be useless.\n      The format of the MIB specification is also specified.\
    \  Parsers\n      which read MIB specifications and generate the needed tables\
    \ for\n      the network management station are available.  These parsers\n  \
    \    generally understand only the standard MIB specification format.\n"
- title: 8.5  Saving Changes
  contents:
  - "8.5  Saving Changes\n   Parameters altered by SNMP MAY be saved to non-volatile\
    \ storage.\n   DISCUSSION:\n      Reasons why this requirement is a MAY:\n   \
    \   o  The exact physical nature of non-volatile storage is not\n         specified\
    \ in this document.  Hence, parameters may be saved in\n         NVRAM/EEPROM,\
    \ local floppy or hard disk, or in some TFTP file\n         server or BOOTP server,\
    \ etc. Suppose that that this information\n         is in a file that is retrieved\
    \ via TFTP. In that case, a change\n         made to a configuration parameter\
    \ on the router would need to\n         be propagated back to the file server\
    \ holding the configuration\n         file.  Alternatively, the SNMP operation\
    \ would need to be\n         directed to the file server, and then the change\
    \ somehow\n         propagated to the router.  The answer to this problem does\
    \ not\n         seem obvious.\n         This also places more requirements on\
    \ the host holding the\n         configuration information than just having an\
    \ available tftp\n         server, so much more that its probably unsafe for a\
    \ vendor to\n         assume that any potential customer will have a suitable\
    \ host\n         available.\n      o  The timing of committing changed parameters\
    \ to non-volatile\n         storage is still an issue for debate. Some prefer\
    \ to commit all\n         changes immediately. Others prefer to commit changes\
    \ to non-\n         volatile storage only upon an explicit command.\n"
- title: 9.  APPLICATION LAYER - MISCELLANEOUS PROTOCOLS
  contents:
  - '9.  APPLICATION LAYER - MISCELLANEOUS PROTOCOLS

    '
- title: For all additional application protocols that a router implements, the
  contents:
  - 'For all additional application protocols that a router implements, the

    '
- title: router MUST be compliant and SHOULD be unconditionally compliant with
  contents:
  - 'router MUST be compliant and SHOULD be unconditionally compliant with

    '
- title: the relevant requirements of [INTRO:3].
  contents:
  - 'the relevant requirements of [INTRO:3].

    '
- title: 9.1  BOOTP
  contents:
  - '9.1  BOOTP

    '
- title: 9.1.1  Introduction
  contents:
  - "9.1.1  Introduction\n      The Bootstrap Protocol (BOOTP) is a UDP/IP-based protocol\
    \ which\n      allows a booting host to configure itself dynamically and without\n\
    \      user supervision.  BOOTP provides a means to notify a host of its\n   \
    \   assigned IP address, the IP address of a boot server host, and the\n     \
    \ name of a file to be loaded into memory and executed ([APPL:1]).\n      Other\
    \ configuration information such as the local subnet mask, the\n      local time\
    \ offset, the addresses of default routers, and the\n      addresses of various\
    \ Internet servers can also be communicated to\n      a host using BOOTP ([APPL:2]).\n"
- title: 9.1.2  BOOTP Relay Agents
  contents:
  - "9.1.2  BOOTP Relay Agents\n      In many cases, BOOTP clients and their associated\
    \ BOOTP server(s)\n      do not reside on the same IP network or subnet.  In such\
    \ cases, a\n      third-party agent is required to transfer BOOTP messages between\n\
    \      clients and servers.  Such an agent was originally referred to as\n   \
    \   a BOOTP forwarding agent.  However, in order to avoid confusion\n      with\
    \ the IP forwarding function of a router, the name BOOTP relay\n      agent has\
    \ been adopted instead.\n      DISCUSSION:\n         A BOOTP relay agent performs\
    \ a task which is distinct from a\n         router's normal IP forwarding function.\
    \  While a router\n         normally switches IP datagrams between networks more-or-less\n\
    \         transparently, a BOOTP relay agent may more properly be thought\n  \
    \       to receive BOOTP messages as a final destination and then\n         generate\
    \ new BOOTP messages as a result.  One should resist the\n         notion of simply\
    \ forwarding a BOOTP message straight through\n         like a regular packet.\n\
    \      This relay-agent functionality is most conveniently located in the\n  \
    \    routers which interconnect the clients and servers (although it\n      may\
    \ alternatively be located in a host which is directly connected\n      to the\
    \ client subnet).\n      A router MAY provide BOOTP relay-agent capability.  If\
    \ it does, it\n      MUST conform to the specifications in [APPL:3].\n      Section\
    \ [5.2.3] discussed the circumstances under which a packet\n      is delivered\
    \ locally (to the router).  All locally delivered UDP\n      messages whose UDP\
    \ destination port number is BOOTPS (67) are\n      considered for special processing\
    \ by the router's logical BOOTP\n      relay agent.\n      Sections [4.2.2.11]\
    \ and [5.3.7] discussed invalid IP source\n      addresses.  According to these\
    \ rules, a router must not forward\n      any received datagram whose IP source\
    \ address is 0.0.0.0.\n      However, routers which support a BOOTP relay agent\
    \ MUST accept for\n      local delivery to the relay agent BOOTREQUEST messages\
    \ whose IP\n      source address is 0.0.0.0.\n"
- title: 10.  OPERATIONS AND MAINTENANCE
  contents:
  - '10.  OPERATIONS AND MAINTENANCE

    '
- title: This chapter supersedes any requirements stated in section 6.2 of
  contents:
  - 'This chapter supersedes any requirements stated in section 6.2 of

    '
- title: '[INTRO:3].'
  contents:
  - '[INTRO:3].

    '
- title: Facilities to support operation and maintenance (O&M) activities form an
  contents:
  - 'Facilities to support operation and maintenance (O&M) activities form an

    '
- title: essential part of any router implementation.  Although these functions
  contents:
  - 'essential part of any router implementation.  Although these functions

    '
- title: do not seem to relate directly to interoperability, they are essential
  contents:
  - 'do not seem to relate directly to interoperability, they are essential

    '
- title: to the network manager who must make the router interoperate and must
  contents:
  - 'to the network manager who must make the router interoperate and must

    '
- title: track down problems when it doesn't.  This chapter also includes some
  contents:
  - 'track down problems when it doesn''t.  This chapter also includes some

    '
- title: discussion of router initialization and of facilities to assist network
  contents:
  - 'discussion of router initialization and of facilities to assist network

    '
- title: managers in securing and accounting for their networks.
  contents:
  - 'managers in securing and accounting for their networks.

    '
- title: 10.1  Introduction
  contents:
  - "10.1  Introduction\n   The following kinds of activities are included under router\
    \ O&M:\n   o  Diagnosing hardware problems in the router's processor, in its\n\
    \      network interfaces, or in its connected networks, modems, or\n      communication\
    \ lines.\n   o  Installing new hardware\n   o  Installing new software.\n   o\
    \  Restarting or rebooting the router after a crash.\n   o  Configuring (or reconfiguring)\
    \ the router.\n   o  Detecting and diagnosing Internet problems such as congestion,\n\
    \      routing loops, bad IP addresses, black holes, packet avalanches,\n    \
    \  and misbehaved hosts.\n   o  Changing network topology, either temporarily\
    \ (e.g., to bypass a\n      communication line problem) or permanently.\n   o\
    \  Monitoring the status and performance of the routers and the\n      connected\
    \ networks.\n   o  Collecting traffic statistics for use in (Inter-)network planning.\n\
    \   o  Coordinating the above activities with appropriate vendors and\n      telecommunications\
    \ specialists.\n   Routers and their connected communication lines are often operated\
    \ as\n   a system by a centralized O&M organization.  This organization may\n\
    \   maintain a (Inter-)network operation center, or NOC, to carry out its\n  \
    \ O&M functions.  It is essential that routers support remote control\n   and\
    \ monitoring from such a NOC through an Internet path, since\n   routers might\
    \ not be connected to the same network as their NOC.\n   Since a network failure\
    \ may temporarily preclude network access, many\n   NOCs insist that routers be\
    \ accessible for network management via an\n   alternative means, often dialup\
    \ modems attached to console ports on\n   the routers.\n   Since an IP packet\
    \ traversing an internet will often use routers\n   under the control of more\
    \ than one NOC, Internet problem diagnosis\n   will often involve cooperation\
    \ of personnel of more than one NOC.  In\n   some cases, the same router may need\
    \ to be monitored by more than one\n   NOC, but only if necessary, because excessive\
    \ monitoring could impact\n   a router's performance.\n   The tools available\
    \ for monitoring at a NOC may cover a wide range of\n   sophistication. Current\
    \ implementations include multi-window, dynamic\n   displays of the entire router\
    \ system. The use of AI techniques for\n   automatic problem diagnosis is proposed\
    \ for the future.\n   Router O&M facilities discussed here are only a part of\
    \ the large and\n   difficult problem of Internet management.  These problems\
    \ encompass\n   not only multiple management organizations, but also multiple\n\
    \   protocol layers.  For example, at the current stage of evolution of\n   the\
    \ Internet architecture, there is a strong coupling between host\n   TCP implementations\
    \ and eventual IP-level congestion in the router\n   system [OPER:1].  Therefore,\
    \ diagnosis of congestion problems will\n   sometimes require the monitoring of\
    \ TCP statistics in hosts.  There\n   are currently a number of R&D efforts in\
    \ progress in the area of\n   Internet management and more specifically router\
    \ O&M. These R&D\n   efforts have already produced standards for router O&M. This\
    \ is also\n   an area in which vendor creativity can make a significant\n   contribution.\n"
- title: 10.2  Router Initialization
  contents:
  - '10.2  Router Initialization

    '
- title: 10.2.1  Minimum Router Configuration
  contents:
  - "10.2.1  Minimum Router Configuration\n      There exists a minimum set of conditions\
    \ that must be satisfied\n      before a router may forward packets.  A router\
    \ MUST NOT enable\n      forwarding on any physical interface unless either:\n\
    \      (1)  The router knows the IP address and associated subnet mask of\n  \
    \         at least one logical interface associated with that physical\n     \
    \      interface, or\n      (2)  The router knows that the interface is an unnumbered\n\
    \           interface and also knows its router-id.\n      These parameters MUST\
    \ be explicitly configured:\n      o  A router MUST NOT use factory-configured\
    \ default values for its\n         IP addresses, subnet masks, or router-id, and\n\
    \      o  A router MUST NOT assume that an unconfigured interface is an\n    \
    \     unnumbered interface.\n      DISCUSSION:\n         There have been instances\
    \ in which routers have been shipped\n         with vendor-installed default addresses\
    \ for interfaces.  In a\n         few cases, this has resulted in routers advertising\
    \ these\n         default addresses into active networks.\n"
- title: 10.2.2  Address and Address Mask Initialization
  contents:
  - "10.2.2  Address and Address Mask Initialization\n      A router MUST allow its\
    \ IP addresses and their subnet masks to be\n      statically configured and saved\
    \ in permanent storage.\n      A router MAY obtain its IP addresses and their\
    \ corresponding\n      subnet masks dynamically as a side effect of the system\n\
    \      initialization process (see Section 10.2.3]);\n      If the dynamic method\
    \ is provided, the choice of method to be used\n      in a particular router MUST\
    \ be configurable.\n      As was described in Section [4.2.2.11], IP addresses\
    \ are not\n      permitted to have the value 0 or -1 for any of the <Host-number>,\n\
    \      <Network-number>, or <Subnet-number> fields.  Therefore, a router\n   \
    \   SHOULD NOT allow an IP address or subnet mask to be set to a value\n     \
    \ which would make any of the the three fields above have the value\n      zero\
    \ or -1.\n      DISCUSSION:\n         It is possible using variable length subnet\
    \ masks to create\n         situations in which routing is ambiguous (i.e., two\
    \ routes with\n         different but equally-specific subnet masks match a particular\n\
    \         destination address).  We suspect that a router could, when\n      \
    \   setting a subnet mask, check whether the mask would cause\n         routing\
    \ to be ambiguous, and that implementors might be able to\n         decrease their\
    \ customer support costs by having routers\n         prohibit or log such erroneous\
    \ configurations.  However, at\n         this time we do not require routers to\
    \ make such checks because\n         we know of no published method for accurately\
    \ making this\n         check.\n      A router SHOULD make the following checks\
    \ on any subnet mask it\n      installs:\n      o  The mask is not all 1-bits.\n\
    \      o  The bits which correspond to the network number part of the\n      \
    \   address are all set to 1.\n      DISCUSSION:\n         The masks associated\
    \ with routes are also sometimes called\n         subnet masks, this test should\
    \ not be applied to them.\n"
- title: 10.2.3  Network Booting using BOOTP and TFTP
  contents:
  - "10.2.3  Network Booting using BOOTP and TFTP\n      There has been a lot of discussion\
    \ on how routers can and should\n      be booted from the network.  In general,\
    \ these discussions have\n      centered around BOOTP and TFTP.  Currently, there\
    \ are routers that\n      boot with TFTP from the network.  There is no reason\
    \ that BOOTP\n      could not be used for locating the server that the boot image\n\
    \      should be loaded from.\n      In general, BOOTP is a protocol used to boot\
    \ end systems, and\n      requires some stretching to accommodate its use with\
    \ routers.  If\n      a router is using BOOTP to locate the current boot host,\
    \ it should\n      send a BOOTP Request with its hardware address for its first\n\
    \      interface, or, if it has been previously configured otherwise,\n      with\
    \ either another interface's hardware address, or another\n      number to put\
    \ in the hardware address field of the BOOTP packet.\n      This is to allow routers\
    \ without hardware addresses (like sync\n      line only routers) to use BOOTP\
    \ for bootload discovery.  TFTP can\n      then be used to retrieve the image\
    \ found in the BOOTP Reply.  If\n      there are no configured interfaces or numbers\
    \ to use, a router MAY\n      cycle through the interface hardware addresses it\
    \ has until a\n      match is found by the BOOTP server.\n      A router SHOULD\
    \ IMPLEMENT the ability to store parameters learned\n      via BOOTP into local\
    \ stable storage.  A router MAY implement the\n      ability to store a system\
    \ image loaded over the network into local\n      stable storage.\n      A router\
    \ MAY have a facility to allow a remote user to request\n      that the router\
    \ get a new boot image.  Differentiation should be\n      made between getting\
    \ the new boot image from one of three\n      locations: the one included in the\
    \ request, from the last boot\n      image server, and using BOOTP to locate a\
    \ server.\n"
- title: 10.3  Operation and Maintenance
  contents:
  - '10.3  Operation and Maintenance

    '
- title: 10.3.1  Introduction
  contents:
  - "10.3.1  Introduction\n      There is a range of possible models for performing\
    \ O&M functions\n      on a router.  At one extreme is the local-only model, under\
    \ which\n      the O&M functions can only be executed locally (e.g., from a\n\
    \      terminal plugged into the router machine).  At the other extreme,\n   \
    \   the fully-remote model allows only an absolute minimum of\n      functions\
    \ to be performed locally (e.g., forcing a boot), with\n      most O&M being done\
    \ remotely from the NOC.  There are intermediate\n      models, such as one in\
    \ which NOC personnel can log into the router\n      as a host, using the Telnet\
    \ protocol, to perform functions which\n      can also be invoked locally.  The\
    \ local-only model may be adequate\n      in a few router installations, but in\
    \ general remote operation\n      from a NOC will be required, and therefore remote\
    \ O&M provisions\n      are required for most routers.\n      Remote O&M functions\
    \ may be exercised through a control agent\n      (program).  In the direct approach,\
    \ the router would support\n      remote O&M functions directly from the NOC using\
    \ standard Internet\n      protocols (e.g., SNMP, UDP or TCP); in the indirect\
    \ approach, the\n      control agent would support these protocols and control\
    \ the router\n      itself using proprietary protocols.  The direct approach is\n\
    \      preferred, although either approach is acceptable.  The use of\n      specialized\
    \ host hardware and/or software requiring significant\n      additional investment\
    \ is discouraged; nevertheless, some vendors\n      may elect to provide the control\
    \ agent as an integrated part of\n      the network in which the routers are a\
    \ part.  If this is the case,\n      it is required that a means be available\
    \ to operate the control\n      agent from a remote site using Internet protocols\
    \ and paths and\n      with equivalent functionality with respect to a local agent\n\
    \      terminal.\n      It is desirable that a control agent and any other NOC\
    \ software\n      tools which a vendor provides operate as user programs in a\n\
    \      standard operating system.  The use of the standard Internet\n      protocols\
    \ UDP and TCP for communicating with the routers should\n      facilitate this.\n\
    \      Remote router monitoring and (especially) remote router control\n     \
    \ present important access control problems which must be addressed.\n      Care\
    \ must also be taken to ensure control of the use of router\n      resources for\
    \ these functions.  It is not desirable to let router\n      monitoring take more\
    \ than some limited fraction of the router CPU\n      time, for example.  On the\
    \ other hand, O&M functions must receive\n      priority so they can be exercised\
    \ when the router is congested,\n      since often that is when O&M is most needed.\n"
- title: 10.3.2  Out Of Band Access
  contents:
  - "10.3.2  Out Of Band Access\n      Routers MUST support Out-Of-Band (OOB) access.\
    \  OOB access SHOULD\n      provide the same functionality as in-band access.\n\
    \      DISCUSSION:\n         This Out-Of-Band access will allow the NOC a way\
    \ to access\n         isolated routers during times when network access is not\n\
    \         available.\n         Out-Of-Band access is an important management tool\
    \ for the\n         network administrator.  It allows the access of equipment\n\
    \         independent of the network connections.  There are many ways to\n  \
    \       achieve this access.  Whichever one is used it is important\n        \
    \ that the access is independent of the network connections.  An\n         example\
    \ of Out-Of-Band access would be a serial port connected\n         to a modem\
    \ that provides dial up access to the router.\n         It is important that the\
    \ OOB access provides the same\n         functionality as in-band access.  In-band\
    \ access, or accessing\n         equipment through the existing network connection,\
    \ is limiting,\n         because most of the time, administrators need to reach\n\
    \         equipment to figure out why it is unreachable.  In band access\n   \
    \      is still very important for configuring a router, and for\n         troubleshooting\
    \ more subtle problems.\n"
- title: 10.3.2  Router O&M Functions
  contents:
  - '10.3.2  Router O&M Functions

    '
- title: 10.3.2.1  Maintenance - Hardware Diagnosis
  contents:
  - "10.3.2.1  Maintenance - Hardware Diagnosis\n         Each router SHOULD operate\
    \ as a stand-alone device for the\n         purposes of local hardware maintenance.\
    \  Means SHOULD be\n         available to run diagnostic programs at the router\
    \ site using\n         only on-site tools.  A router SHOULD be able to run diagnostics\n\
    \         in case of a fault.  For suggested hardware and software\n         diagnostics\
    \ see Section [10.3.3].\n"
- title: 10.3.2.2  Control - Dumping and Rebooting
  contents:
  - "10.3.2.2  Control - Dumping and Rebooting\n         A router MUST include both\
    \ in-band and out-of-band mechanisms\n         to allow the network manager to\
    \ reload, stop, and restart the\n         router.  A router SHOULD also contain\
    \ a mechanism (such as a\n         watchdog timer) which will reboot the router\
    \ automatically if\n         it hangs due to a software or hardware fault.\n \
    \        A router SHOULD IMPLEMENT a mechanism for dumping the contents\n    \
    \     of a router's memory (and/or other state useful for vendor\n         debugging\
    \ after a crash), and either saving them on a stable\n         storage device\
    \ local to the router or saving them on another\n         host via an up-line\
    \ dump mechanism such as TFTP (see [OPER:2],\n         [INTRO:3]).\n"
- title: 10.3.2.3  Control - Configuring the Router
  contents:
  - "10.3.2.3  Control - Configuring the Router\n         Every router has configuration\
    \ parameters which may need to be\n         set.  It SHOULD be possible to update\
    \ the parameters without\n         rebooting the router; at worst, a restart MAY\
    \ be required.\n         There may be cases when it is not possible to change\
    \ parameters\n         without rebooting the router (for instance, changing the\
    \ IP\n         address of an interface).  In these cases, care should be taken\n\
    \         to minimize disruption to the router and the surrounding\n         network.\n\
    \         There SHOULD be a way to configure the router over the network\n   \
    \      either manually or automatically.  A router SHOULD be able to\n       \
    \  upload or download its parameters from a host or another\n         router,\
    \ and these parameters SHOULD be convertible into some\n         sort of text\
    \ format for making changes and then back to the\n         form the router can\
    \ read.  A router SHOULD have some sort of\n         stable storage for its configuration.\
    \ A router SHOULD NOT\n         believe protocols such as RARP, ICMP Address Mask\
    \ Reply, and\n         MAY not believe BOOTP.\n         DISCUSSION:\n        \
    \    It is necessary to note here that in the future RARP, ICMP\n            Address\
    \ Mask Reply, BOOTP and other mechanisms may be needed\n            to allow a\
    \ router to auto-configure.  Although routers may\n            in the future be\
    \ able to configure automatically, the intent\n            here is to discourage\
    \ this practice in a production\n            environment until such time as auto-configuration\
    \ has been\n            tested more thoroughly. The intent is NOT to discourage\n\
    \            auto-configuration all together.  In cases where a router is\n  \
    \          expected to get its configuration automatically it may be\n       \
    \     wise to allow the router to believe these things as it comes\n         \
    \   up and then ignore them after it has gotten its\n            configuration.\n"
- title: 10.3.2.4  Netbooting of System Software
  contents:
  - "10.3.2.4  Netbooting of System Software\n         A router SHOULD keep its system\
    \ image in local non-volatile\n         storage such as PROM, NVRAM, or disk.\
    \ It MAY also be able to\n         load its system software over the network from\
    \ a host or\n         another router.\n         A router which can keep its system\
    \ image in local non-volatile\n         storage MAY be configurable to boot its\
    \ system image over the\n         network.  A router which offers this option\
    \ SHOULD be\n         configurable to boot the system image in its non-volatile\
    \ local\n         storage if it is unable to boot its system image over the\n\
    \         network.\n         DISCUSSION:\n            It is important that the\
    \ router be able to come up and run\n            on its own.  NVRAM may be a particular\
    \ solution for routers\n            used in large networks, since changing PROMs\
    \ can be quite\n            time consuming for a network manager responsible for\n\
    \            numerous or geographically dispersed routers.  It is\n          \
    \  important to be able to netboot the system image because\n            there\
    \ should be an easy way for a router to get a bug fix or\n            new feature\
    \ more quickly than getting PROMS installed.  Also\n            if the router\
    \ has NVRAM instead of PROMs, it will netboot\n            the image and then\
    \ put it in NVRAM.\n         A router MAY also be able to distinguish between\
    \ different\n         configurations based on which software it is running. If\n\
    \         configuration commands change from one software version to\n       \
    \  another, it would be helpful if the router could use the\n         configuration\
    \ that was compatible with the software.\n"
- title: 10.3.2.5  Detecting and responding to misconfiguration
  contents:
  - "10.3.2.5  Detecting and responding to misconfiguration\n         There MUST be\
    \ mechanisms for detecting and responding to\n         misconfigurations.  If\
    \ a command is executed incorrectly, the\n         router SHOULD give an error\
    \ message.  The router SHOULD NOT\n         accept a poorly formed command as\
    \ if it were correct.\n         DISCUSSION:\n            There are cases where\
    \ it is not possible to detect errors:\n            the command is correctly formed,\
    \ but incorrect with respect\n            to the network.  This may be detected\
    \ by the router, but may\n            not be possible.\n         Another form\
    \ of misconfiguration is misconfiguration of the\n         network to which the\
    \ router is attached.  A router MAY detect\n         misconfigurations in the\
    \ network.  The router MAY log these\n         findings to a file, either on the\
    \ router or a host, so that the\n         network manager will see that there\
    \ are possible problems on\n         the network.\n         DISCUSSION:\n    \
    \        Examples of such misconfigurations might be another router\n        \
    \    with the same address as the one in question or a router\n            with\
    \ the wrong subnet mask.  If a router detects such\n            problems it is\
    \ probably not the best idea for the router to\n            try to fix the situation.\
    \  That could cause more harm than\n            good.\n"
- title: 10.3.2.6  Minimizing Disruption
  contents:
  - "10.3.2.6  Minimizing Disruption\n         Changing the configuration of a router\
    \ SHOULD have minimal\n         affect on the network.   Routing tables SHOULD\
    \ NOT be\n         unnecessarily flushed when a simple change is made to the\n\
    \         router.  If a router is running several routing protocols,\n       \
    \  stopping one routing protocol SHOULD NOT disrupt other routing\n         protocols,\
    \ except in the case where one network is learned by\n         more than one routing\
    \ protocol.\n         DISCUSSION:\n            It is the goal of a network manager\
    \ to run a network so that\n            users of the network get the best connectivity\
    \ possible.\n            Reloading a router for simple configuration changes can\n\
    \            cause disruptions in routing and ultimately cause\n            disruptions\
    \ to the network and its users.  If routing tables\n            are unnecessarily\
    \ flushed, for instance, the default route\n            will be lost as well as\
    \ specific routes to sites within the\n            network.  This sort of disruption\
    \ will cause significant\n            downtime for the users. It is the purpose\
    \ of this section to\n            point out that whenever possible, these disruptions\
    \ should\n            be avoided.\n"
- title: 10.3.2.7  Control - Troubleshooting Problems
  contents:
  - "10.3.2.7  Control - Troubleshooting Problems\n         (1)  A router MUST provide\
    \ in-band network access, but (except\n              as required by Section [8.2])\
    \ for security considerations\n              this access SHOULD be disabled by\
    \ default.  Vendors MUST\n              document the default state of any in-band\
    \ access.\n              DISCUSSION:\n                 In-band access primarily\
    \ refers to access via the\n                 normal network protocols which may\
    \ or may not affect\n                 the permanent operational state of the router.\
    \  This\n                 includes, but is not limited to Telnet/RLOGIN console\n\
    \                 access and SNMP operations.\n                 This was a point\
    \ of contention between the operational\n                 out of the box and secure\
    \ out of the box contingents.\n                 Any automagic access to the router\
    \ may introduce\n                 insecurities, but it may be more important for\
    \ the\n                 customer to have a router which is accessible over the\n\
    \                 network as soon as it is plugged in.  At least one\n       \
    \          vendor supplies routers without any external console\n            \
    \     access and depends on being able to access the router\n                \
    \ via the network to complete its configuration.\n                 Basically,\
    \ it is the vendors call whether or not in-\n                 band access is enabled\
    \ by default; but it is also the\n                 vendors responsibility to make\
    \ its customers aware of\n                 possible insecurities.\n         (2)\
    \  A router MUST provide the ability to initiate an ICMP\n              echo.\
    \  The following options SHOULD be implemented:\n              o  Choice of data\
    \ patterns\n              o  Choice of packet size\n              o  Record route\n\
    \              and the following additional options MAY be implemented:\n    \
    \          o  Loose source route\n              o  Strict source route\n     \
    \         o  Timestamps\n         (3)  A router SHOULD provide the ability to\
    \ initiate a\n              traceroute.  If traceroute is provided, then the 3rd\
    \ party\n              traceroute SHOULD be implemented.\n         Each of the\
    \ above three facilities (if implemented) SHOULD have\n         access restrictions\
    \ placed on it to prevent its abuse by\n         unauthorized persons.\n"
- title: 10.4  Security Considerations
  contents:
  - '10.4  Security Considerations

    '
- title: 10.4.1  Auditing and Audit Trails
  contents:
  - "10.4.1  Auditing and Audit Trails\n      Auditing and billing are the bane of\
    \ the network operator, but are\n      the two features most requested by those\
    \ in charge of network\n      security and those who are responsible for paying\
    \ the bills.  In\n      the context of security, auditing is desirable if it helps\
    \ you\n      keep your network working and protects your resources from abuse,\n\
    \      without costing you more than those resources are worth.\n      (1)  Configuration\
    \ Changes\n           Router SHOULD provide a method for auditing a configuration\n\
    \           change of a router, even if it's something as simple as\n        \
    \   recording the operator's initials and time of change.\n           DISCUSSION:\n\
    \              Having the ability to track who made changes and when is\n    \
    \          highly desirable, especially if your packets suddenly\n           \
    \   start getting routed through Alaska on their way across\n              town.\n\
    \      (2)  Packet Accounting\n           Vendors should strongly consider providing\
    \ a system for\n           tracking traffic levels between pairs of hosts or networks.\n\
    \           A mechanism for limiting the collection of this information\n    \
    \       to specific pairs of hosts or networks is also strongly\n           encouraged.\n\
    \           DISCUSSION:\n              A host traffic matrix as described above\
    \ can give the\n              network operator a glimpse of traffic trends not\
    \ apparent\n              from other statistics.  It can also identify hosts or\n\
    \              networks which are probing the structure of the attached\n    \
    \          networks - e.g., a single external host which tries to\n          \
    \    send packets to every IP address in the network address\n              range\
    \ for a connected network.\n      (3)  Security Auditing\n           Routers MUST\
    \ provide a method for auditing security related\n           failures or violations\
    \ to include:\n           o  Authorization Failures:  bad passwords, invalid SNMP\n\
    \              communities, invalid authorization tokens,\n           o  Violations\
    \ of Policy Controls:  Prohibited Source Routes,\n              Filtered Destinations,\
    \ and\n           o  Authorization Approvals:  good passwords - Telnet in-band\n\
    \              access, console access.\n           Routers MUST provide a method\
    \ of limiting or disabling such\n           auditing but auditing SHOULD be on\
    \ by default.  Possible\n           methods for auditing include listing violations\
    \ to a console\n           if present, logging or counting them internally, or\
    \ logging\n           them to a remote security server via the SNMP trap mechanism\n\
    \           or the Unix logging mechanism as appropriate.  A router MUST\n   \
    \        implement at least one of these reporting mechanisms - it MAY\n     \
    \      implement more than one.\n"
- title: 10.4.2  Configuration Control
  contents:
  - "10.4.2  Configuration Control\n      A vendor has a responsibility to use good\
    \ configuration control\n      practices in the creation of the software/firmware\
    \ loads for their\n      routers.  In particular, if a vendor makes updates and\
    \ loads\n      available for retrieval over the Internet, the vendor should also\n\
    \      provide a way for the customer to confirm the load is a valid one,\n  \
    \    perhaps by the verification of a checksum over the load.\n      DISCUSSION:\n\
    \         Many vendors currently provide short notice updates of their\n     \
    \    software products via the Internet.  This a good trend and\n         should\
    \ be encouraged, but provides a point of vulnerability in\n         the configuration\
    \ control process.\n      If a vendor provides the ability for the customer to\
    \ change the\n      configuration parameters of a router remotely, for example\
    \ via a\n      Telnet session, the ability to do so SHOULD be configurable and\n\
    \      SHOULD default to off.  The router SHOULD require a password or\n     \
    \ other valid authentication before permitting remote\n      reconfiguration.\n\
    \      DISCUSSION:\n         Allowing your properly identified network operator\
    \ to twiddle\n         with your routers is necessary; allowing anyone else to\
    \ do so\n         is foolhardy.\n      A router MUST NOT have undocumented back\
    \ door access and master\n      passwords.  A vendor MUST ensure any such access\
    \ added for\n      purposes of debugging or product development are deleted before\n\
    \      the product is distributed to its customers.\n      DISCUSSION:\n     \
    \    A vendor has a responsibility to its customers to ensure they\n         are\
    \ aware of the vulnerabilities present in its code by\n         intention - e.g.\
    \  in-band access.  Trap doors, back doors and\n         master passwords intentional\
    \ or unintentional can turn a\n         relatively secure router into a major\
    \ problem on an operational\n         network.  The supposed operational benefits\
    \ are not matched by\n         the potential problems.\n"
- title: 11.  REFERENCES
  contents:
  - '11.  REFERENCES

    '
- title: Implementors should be aware that Internet protocol standards are
  contents:
  - 'Implementors should be aware that Internet protocol standards are

    '
- title: occasionally updated.  These references are current as of this writing,
  contents:
  - 'occasionally updated.  These references are current as of this writing,

    '
- title: but a cautious implementor will always check a recent version of the RFC
  contents:
  - 'but a cautious implementor will always check a recent version of the RFC

    '
- title: index to ensure that an RFC has not been updated or superseded by
  contents:
  - 'index to ensure that an RFC has not been updated or superseded by

    '
- title: another, more recent RFC.  Reference [INTRO:6] explains various ways to
  contents:
  - 'another, more recent RFC.  Reference [INTRO:6] explains various ways to

    '
- title: obtain a current RFC index.
  contents:
  - 'obtain a current RFC index.

    '
- title: APPL:1.
  contents:
  - "APPL:1.\n     B. Croft and J. Gilmore, Bootstrap Protocol (BOOTP), Request For\n\
    \     Comments (RFC) 951, Stanford and SUN Microsystems, September 1985.\n"
- title: APPL:2.
  contents:
  - "APPL:2.\n     S. Alexander and R. Droms, DHCP Options and BOOTP Vendor\n    \
    \ Extensions, Request For Comments (RFC) 1533, Lachman Technology,\n     Inc.,\
    \ Bucknell University, October 1993.\n"
- title: APPL:3.
  contents:
  - "APPL:3.\n     W. Wimer, Clarifications and Extensions for the Bootstrap Protocol,\n\
    \     Request For Comments (RFC) 1542, Carnegie Mellon University,\n     October\
    \ 1993.\n"
- title: ARCH:1.
  contents:
  - "ARCH:1.\n     DDN Protocol Handbook, NIC-50004, NIC-50005, NIC-50006 (three\n\
    \     volumes), DDN Network Information Center, SRI International, Menlo\n   \
    \  Park, California, USA, December 1985.\n"
- title: ARCH:2.
  contents:
  - "ARCH:2.\n     V. Cerf and R. Kahn, A Protocol for Packet Network\n     Intercommunication,\"\
    \ IEEE Transactions on Communication, May 1974.\n     Also included in [ARCH:1].\n"
- title: ARCH:3.
  contents:
  - "ARCH:3.\n     J. Postel, C. Sunshine, and D. Cohen, The ARPA Internet Protocol,\"\
    \n     Computer Networks, vol. 5, no. 4, July 1981.  Also included in\n     [ARCH:1].\n"
- title: ARCH:4.
  contents:
  - "ARCH:4.\n     B. Leiner, J. Postel, R. Cole, and D. Mills, The DARPA Internet\n\
    \     Protocol Suite, Proceedings of INFOCOM '85, IEEE, Washington, DC,\n    \
    \ March 1985.  Also in: IEEE Communications Magazine, March 1985.\n     Also available\
    \ from the Information Sciences Institute, University\n     of Southern California\
    \ as Technical Report ISI-RS-85-153.\n"
- title: ARCH:5.
  contents:
  - "ARCH:5.\n     D. Comer, Internetworking With TCP/IP Volume 1: Principles,\n \
    \    Protocols, and Architecture, Prentice Hall, Englewood Cliffs, NJ,\n     1991.\n"
- title: ARCH:6.
  contents:
  - "ARCH:6.\n     W. Stallings, Handbook of Computer-Communications Standards Volume\n\
    \     3: The TCP/IP Protocol Suite, Macmillan, New York, NY, 1990.\n"
- title: ARCH:7.
  contents:
  - "ARCH:7.\n     J. Postel, Internet Official Protocol Standards, Request For\n\
    \     Comments (RFC) 1610, STD 1, USC/Information Sciences Institute,\n     July\
    \ 1994.\n"
- title: ARCH:8.
  contents:
  - "ARCH:8.\n     Information processing systems - Open Systems Interconnection -\n\
    \     Basic Reference Model, ISO 7489, International Standards\n     Organization,\
    \ 1984.\n"
- title: FORWARD:1.
  contents:
  - "FORWARD:1.\n     IETF CIP Working Group (C. Topolcic, Editor), Experimental Internet\n\
    \     Stream Protocol, Version 2 (ST-II), Request For Comments (RFC)\n     1190,\
    \ CIP Working Group, October 1990.\n"
- title: FORWARD:2.
  contents:
  - "FORWARD:2.\n     A. Mankin and K. Ramakrishnan, Editors, Gateway Congestion Control\n\
    \     Survey, Request For Comments (RFC) 1254, MITRE, Digital Equipment\n    \
    \ Corporation, August 1991.\n"
- title: FORWARD:3.
  contents:
  - "FORWARD:3.\n     J. Nagle, On Packet Switches with Infinite Storage, IEEE\n \
    \    Transactions on Communications, vol. COM-35, no. 4, April 1987.\n"
- title: FORWARD:4.
  contents:
  - "FORWARD:4.\n     R. Jain, K. Ramakrishnan, and D. Chiu, Congestion Avoidance\
    \ in\n     Computer Networks With a Connectionless Network Layer, Technical\n\
    \     Report DEC-TR-506, Digital Equipment Corporation.\n"
- title: FORWARD:5.
  contents:
  - "FORWARD:5.\n     V. Jacobson, Congestion Avoidance and Control, Proceedings of\n\
    \     SIGCOMM '88, Association for Computing Machinery, August 1988.\n"
- title: FORWARD:6.
  contents:
  - "FORWARD:6.\n     W. Barns, Precedence and Priority Access Implementation for\n\
    \     Department of Defense Data Networks, Technical Report MTR-91W00029,\n  \
    \   The Mitre Corporation, McLean, Virginia, USA, July 1991.\n"
- title: INTERNET:1.
  contents:
  - "INTERNET:1.\n     J. Postel, Internet Protocol, Request For Comments (RFC) 791,\
    \ STD\n     5, USC/Information Sciences Institute, September 1981.\n"
- title: INTERNET:2.
  contents:
  - "INTERNET:2.\n     J. Mogul and J. Postel, Internet Standard Subnetting Procedure,\n\
    \     Request For Comments (RFC) 950, STD 5, USC/Information Sciences\n     Institute,\
    \ August 1985.\n"
- title: INTERNET:3.
  contents:
  - "INTERNET:3.\n     J. Mogul, Broadcasting Internet Datagrams in the Presence of\n\
    \     Subnets, Request For Comments (RFC) 922, STD 5, Stanford, October\n    \
    \ 1984.\n"
- title: INTERNET:4.
  contents:
  - "INTERNET:4.\n     S. Deering, Host Extensions for IP Multicasting, Request For\n\
    \     Comments (RFC) 1112, STD 5, Stanford University, August 1989.\n"
- title: INTERNET:5.
  contents:
  - "INTERNET:5.\n     S. Kent, U.S. Department of Defense Security Options for the\n\
    \     Internet Protocol, Request for Comments (RFC) 1108, BBN\n     Communications,\
    \ November 1991.\n"
- title: INTERNET:6.
  contents:
  - "INTERNET:6.\n     R. Braden, D. Borman, and C. Partridge, Computing the Internet\n\
    \     Checksum, Request For Comments (RFC) 1071, USC/Information Sciences\n  \
    \   Institute, Cray Researc, BBN, September 1988.\n"
- title: INTERNET:7.
  contents:
  - "INTERNET:7.\n     T. Mallory and A. Kullberg, Incremental Updating of the Internet\n\
    \     Checksum, Request For Comments (RFC) 1141, BBN, January 1990.\n"
- title: INTERNET:8.
  contents:
  - "INTERNET:8.\n     J. Postel, Internet Control Message Protocol, Request For Comments\n\
    \     (RFC) 792, STD 5, USC/Information Sciences Institute, September\n     1981.\n"
- title: INTERNET:9.
  contents:
  - "INTERNET:9.\n     A. Mankin, G. Hollingsworth, G. Reichlen, K. Thompson, R. \
    \ Wilder,\n     and R. Zahavi, Evaluation of Internet Performance - FY89, Technical\n\
    \     Report MTR-89W00216, MITRE Corporation, February, 1990.\n"
- title: INTERNET:10.
  contents:
  - "INTERNET:10.\n     G. Finn, A Connectionless Congestion Control Algorithm, Computer\n\
    \     Communications Review, vol. 19, no. 5, Association for Computing\n     Machinery,\
    \ October 1989.\n"
- title: INTERNET:11.
  contents:
  - "INTERNET:11.\n     W. Prue, J. Postel, The Source Quench Introduced Delay (SQuID),\n\
    \     Request For Comments (RFC) 1016, USC/Information Sciences\n     Institute,\
    \ August 1987.\n"
- title: INTERNET:12.
  contents:
  - "INTERNET:12.\n     A. McKenzie, Some comments on SQuID, Request For Comments\
    \ (RFC)\n     1018, BBN, August 1987.\n"
- title: INTERNET:13.
  contents:
  - "INTERNET:13.\n     S. Deering, ICMP Router Discovery Messages, Request For Comments\n\
    \     (RFC) 1256, Xerox PARC, September 1991.\n"
- title: INTERNET:14.
  contents:
  - "INTERNET:14.\n     J. Mogul and S. Deering, Path MTU Discovery, Request For Comments\n\
    \     (RFC) 1191, DECWRL, Stanford University, November 1990.\n"
- title: INTERNET:15
  contents:
  - "INTERNET:15\n     V. Fuller, T. Li, J. Yi, and K. Varadhan, Classless Inter-Domain\n\
    \     Routing (CIDR): an Address Assignment and Aggregation Strategy\n     Request\
    \ For Comments (RFC) 1519, BARRNet, cisco, Merit, OARnet,\n     September 1993.\n"
- title: INTERNET:16
  contents:
  - "INTERNET:16\n     M. St. Johns, Draft Revised IP Security Option, Request for\n\
    \     Comments 1038, IETF, January 1988.\n"
- title: INTERNET:17
  contents:
  - "INTERNET:17\n     W. Prue and J. Postel, Queuing Algorithm to Provide Type-of-service\n\
    \     For IP Links, Request for Comments 1046, USC/Information Sciences\n    \
    \ Institute, February 1988.\n"
- title: INTRO:1.
  contents:
  - "INTRO:1.\n     R. Braden and J. Postel, Requirements for Internet Gateways,\n\
    \     Request For Comments (RFC) 1009, STD 4, USC/Information Sciences\n     Institute,\
    \ June 1987.\n"
- title: INTRO:2.
  contents:
  - "INTRO:2.\n     Internet Engineering Task Force (R. Braden, Editor), Requirements\n\
    \     for Internet Hosts - Communication Layers, Request For Comments\n     (RFC)\
    \ 1122, STD 3, USC/Information Sciences Institute, October\n     1989.\n"
- title: INTRO:3.
  contents:
  - "INTRO:3.\n     Internet Engineering Task Force (R. Braden, Editor), Requirements\n\
    \     for Internet Hosts - Application and Support, Request For Comments\n   \
    \  (RFC) 1123, STD 3, USC/Information Sciences Institute, October\n     1989.\n"
- title: INTRO:4.
  contents:
  - "INTRO:4.\n     D. Clark, Modularity and Efficiency in Protocol Implementations,\n\
    \     Request For Comments (RFC) 817, MIT, July 1982.\n"
- title: INTRO:5.
  contents:
  - "INTRO:5.\n     D. Clark, The Structuring of Systems Using Upcalls, Proceedings\
    \ of\n     10th ACM SOSP, December 1985.\n"
- title: INTRO:6.
  contents:
  - "INTRO:6.\n     O. Jacobsen and J. Postel, Protocol Document Order Information,\n\
    \     Request For Comments (RFC) 980, SRI, USC/Information Sciences\n     Institute,\
    \ March 1986.\n"
- title: INTRO:7.
  contents:
  - "INTRO:7.\n     J. Reynolds and J. Postel, Assigned Numbers, Request For Comments\n\
    \     (RFC) 1700, STD 2, USC/Information Sciences Institute, October\n     1994.\
    \  This document is periodically updated and reissued with a\n     new number.\
    \  It is wise to verify occasionally that the version you\n     have is still\
    \ current.\n"
- title: INTRO:8.
  contents:
  - "INTRO:8.\n     DoD Trusted Computer System Evaluation Criteria, DoD publication\n\
    \     5200.28-STD, U.S. Department of Defense, December 1985.\n"
- title: INTRO:9
  contents:
  - "INTRO:9\n     G. Malkin and T. LaQuey Parker, Internet Users' Glossary, Request\n\
    \     for Comments (RFC) 1392 (also FYI 0018), Xylogics, Inc., UTexas,\n     January\
    \ 1993.\n"
- title: LINK:1.
  contents:
  - "LINK:1.\n     S. Leffler and M. Karels, Trailer Encapsulations, Request For\n\
    \     Comments (RFC) 893, U. C. Berkeley, April 1984.\n"
- title: LINK:2
  contents:
  - "LINK:2\n     W. Simpson, The Point-to-Point Protocol (PPP) for the Transmission\n\
    \     of Multi-protocol Datagrams over Point-to-Point Links, Daydreamer,\n   \
    \  Request For Comments (RFC) 1331, May 1992.\n"
- title: LINK:3
  contents:
  - "LINK:3\n     G. McGregor, The PPP Internet Protocol Control Protocol (IPCP),\n\
    \     Request For Comments (RFC) 1332, Merit, May 1992.\n"
- title: LINK:4
  contents:
  - "LINK:4\n     B. Lloyd, W. Simpson, PPP Authentication Protocols, Request For\n\
    \     Comments (RFC) 1334, Daydreamer, May 1992.\n"
- title: LINK:5
  contents:
  - "LINK:5\n     W. Simpson, PPP Link Quality Monitoring, Daydreamer, Request For\n\
    \     Comments (RFC) 1333, May 1992.\n"
- title: MGT:1.
  contents:
  - "MGT:1.\n     M. Rose and K. McCloghrie, Structure and Identification of\n   \
    \  Management Information of TCP/IP-based Internets, Request For\n     Comments\
    \ (RFC) 1155, STD 16, Performance Systems International,\n     Hughes LAN Systems,\
    \ May 1990.\n"
- title: MGT:2.
  contents:
  - "MGT:2.\n     K. McCloghrie and M. Rose (Editors), Management Information Base\
    \ of\n     TCP/IP-Based Internets: MIB-II, Request For Comments (RFC) 1213,\n\
    \     STD 16, Hughes LAN Systems, Performance Systems International,\n     March\
    \ 1991.\n"
- title: MGT:3.
  contents:
  - "MGT:3.\n     J. Case, M. Fedor, M. Schoffstall, and J. Davin, Simple Network\n\
    \     Management Protocol, Request For Comments (RFC) 1157, STD 15, SNMP\n   \
    \  Research, Performance Systems International, MIT Laboratory for\n     Computer\
    \ Science, May 1990.\n"
- title: MGT:4.
  contents:
  - "MGT:4.\n     M. Rose and K. McCloghrie (Editors), Towards Concise MIB\n     Definitions,\
    \ Request For Comments (RFC) 1212, STD 16, Performance\n     Systems International,\
    \ Hughes LAN Systems, March 1991.\n"
- title: MGT:5.
  contents:
  - "MGT:5.\n     L. Steinberg, Techniques for Managing Asynchronously Generated\n\
    \     Alerts, Request for Comments (RFC) 1224, IBM, May 1991.\n"
- title: MGT:6.
  contents:
  - "MGT:6.\n     F. Kastenholz, Definitions of Managed Objects for the Ethernet-like\n\
    \     Interface Types, Request for Comments (RFC) 1398, FTP Software\n     January\
    \ 1993.\n"
- title: MGT:7.
  contents:
  - "MGT:7.\n     R. Fox and K. McCloghrie, IEEE 802.4 Token Bus MIB, Request for\n\
    \     Comments (RFC) 1230, Hughes LAN Systems, Synoptics, Inc., May 1991.\n"
- title: MGT:8.
  contents:
  - "MGT:8.\n     K. McCloghrie, R. Fox and E. Decker, IEEE 802.5 Token Ring MIB,\n\
    \     Request for Comments (RFC) 1231, Hughes LAN Systems, Synoptics,\n     Inc.,\
    \ cisco Systems, Inc., February 1993.\n"
- title: MGT:9.
  contents:
  - "MGT:9.\n     J. Case and A. Rijsinghani, FDDI Management Information Base,\n\
    \     Request for Comments (RFC) 1512, SNMP Research, Digital Equipment\n    \
    \ Corporation, September 1993.\n"
- title: MGT:10.
  contents:
  - "MGT:10.\n     B. Stewart, Definitions of Managed Objects for RS-232-like Hardware\n\
    \     Devices, Request for Comments (RFC) 1317, Xyplex, Inc., April 1992.\n"
- title: MGT:11.
  contents:
  - "MGT:11.\n     F. Kastenholz, Definitions of Managed Objects for the Link Control\n\
    \     Protocol of the Point-to-Point Protocol, Request For Comments (RFC)\n  \
    \   1471, FTP Software, June 1992.\n"
- title: MGT:12.
  contents:
  - "MGT:12.\n     F. Kastenholz, The Definitions of Managed Objects for the Security\n\
    \     Protocols of the Point-to-Point Protocol, Request For Comments\n     (RFC)\
    \ 1472, FTP Software, June 1992.\n"
- title: MGT:13.
  contents:
  - "MGT:13.\n     F. Kastenholz, The Definitions of Managed Objects for the IP\n\
    \     Network Control Protocol of the Point-to-Point Protocol, Request\n     For\
    \ Comments (RFC) 1473, FTP Software, June 1992.\n"
- title: MGT:14.
  contents:
  - "MGT:14.\n     F. Baker and R. Coltun, OSPF Version 2 Management Information Base,\n\
    \     Request For Comments (RFC) 1253, ACC, Computer Science Center,\n     August\
    \ 1991.\n"
- title: MGT:15.
  contents:
  - "MGT:15.\n     S. Willis and J. Burruss, Definitions of Managed Objects for the\n\
    \     Border Gateway Protocol (Version 3), Request For Comments (RFC)\n     1269,\
    \ Wellfleet Communications Inc., October 1991.\n"
- title: MGT:16.
  contents:
  - "MGT:16.\n     F. Baker, J. Watt, Definitions of Managed Objects for the DS1 and\n\
    \     E1 Interface Types, Request For Comments (RFC) 1406, Advanced\n     Computer\
    \ Communications, Newbridge Networks Corporation, January\n     1993.\n"
- title: MGT:17.
  contents:
  - "MGT:17.\n     T. Cox and K. Tesink, Definitions of Managed Objects for the DS3/E3\n\
    \     Interface Types, Request For Comments (RFC) 1407, Bell\n     Communications\
    \ Research, January 1993.\n"
- title: MGT:18.
  contents:
  - "MGT:18.\n     K. McCloghrie, Extensions to the Generic-Interface MIB, Request\
    \ For\n     Comments (RFC) 1229,  Hughes LAN Systems, August 1992.\n"
- title: MGT:19.
  contents:
  - "MGT:19.\n     T. Cox and K. Tesink, Definitions of Managed Objects for the SIP\n\
    \     Interface Type, Request For Comments (RFC) 1304, Bell\n     Communications\
    \ Research, February 1992.\n"
- title: MGT:20
  contents:
  - "MGT:20\n     F. Baker, IP Forwarding Table MIB, Request For Comments (RFC) 1354,\n\
    \     ACC, July 1992.\n"
- title: MGT:21.
  contents:
  - "MGT:21.\n     G. Malkin and F. Baker, RIP Version 2 MIB Extension, Request For\n\
    \     Comments (RFC) 1389, Xylogics, Inc., Advanced Computer\n     Communications,\
    \ January 1993.\n"
- title: MGT:22.
  contents:
  - "MGT:22.\n     D. Throop, SNMP MIB Extension for the X.25 Packet Layer, Request\n\
    \     For Comments (RFC) 1382, Data General Corporation, November 1992.\n"
- title: MGT:23.
  contents:
  - "MGT:23.\n     D. Throop and F. Baker, SNMP MIB Extension for X.25 LAPB, Request\n\
    \     For Comments (RFC) 1381, Data General Corporation, Advanced\n     Computer\
    \ Communications, November 1992.\n"
- title: MGT:24.
  contents:
  - "MGT:24.\n     D. Throop and F. Baker, SNMP MIB Extension for MultiProtocol\n\
    \     Interconnect over X.25, Request For Comments (RFC) 1461, Data\n     General\
    \ Corporation, May 1993.\n"
- title: MGT:25.
  contents:
  - "MGT:25.\n     M. Rose, SNMP over OSI, Request For Comments (RFC) 1418, Dover\n\
    \     Beach Consulting, Inc., March 1993.\n"
- title: MGT:26.
  contents:
  - "MGT:26.\n     G. Minshall and M. Ritter, SNMP over AppleTalk, Request For\n \
    \    Comments (RFC) 1419, Novell, Inc., Apple Computer, Inc., March\n     1993.\n"
- title: MGT:27.
  contents:
  - "MGT:27.\n     S. Bostock, SNMP over IPX, Request For Comments (RFC) 1420, Novell,\n\
    \     Inc., March 1993.\n"
- title: MGT:28.
  contents:
  - "MGT:28.\n     M. Schoffstall, C. Davin, M. Fedor, J. Case, SNMP over Ethernet,\n\
    \     Request For Comments (RFC) 1089, Rensselaer Polytechnic Institute,\n   \
    \  MIT Laboratory for Computer Science, NYSERNet, Inc., University of\n     Tennessee\
    \ at Knoxville, February 1989.\n"
- title: MGT:29.
  contents:
  - "MGT:29.\n     J. Case, FDDI Management Information Base, Request For Comments\n\
    \     (RFC) 1285, SNMP Research, Incorporated, January 1992.\n"
- title: OPER:1.
  contents:
  - "OPER:1.\n     J. Nagle, Congestion Control in IP/TCP Internetworks, Request For\n\
    \     Comments (RFC) 896, FACC, January 1984.\n"
- title: OPER:2.
  contents:
  - "OPER:2.\n     K.R. Sollins, TFTP Protocol (revision 2), Request For Comments\n\
    \     (RFC) 1350, MIT, July 1992.\n"
- title: ROUTE:1.
  contents:
  - "ROUTE:1.\n     J. Moy, OSPF Version 2, Request For Comments (RFC) 1247, Proteon,\n\
    \     July 1991.\n"
- title: ROUTE:2.
  contents:
  - "ROUTE:2.\n     R. Callon, Use of OSI IS-IS for Routing in TCP/IP and Dual\n \
    \    Environments, Request For Comments (RFC) 1195, DEC, December 1990.\n"
- title: ROUTE:3.
  contents:
  - "ROUTE:3.\n     C. L. Hedrick, Routing Information Protocol, Request For Comments\n\
    \     (RFC) 1058, Rutgers University, June 1988.\n"
- title: ROUTE:4.
  contents:
  - "ROUTE:4.\n     K. Lougheed and Y. Rekhter, A Border Gateway Protocol 3 (BGP-3),\n\
    \     Request For Comments (RFC) 1267, cisco, T.J. Watson Research\n     Center,\
    \ IBM Corp., October 1991.\n"
- title: ROUTE:5.
  contents:
  - "ROUTE:5.\n     Y. Rekhter and P. Gross Application of the Border Gateway Protocol\n\
    \     in the Internet, Request For Comments (RFC) 1268, T.J. Watson\n     Research\
    \ Center, IBM Corp., ANS, October 1991.\n"
- title: ROUTE:6.
  contents:
  - "ROUTE:6.\n     D. Mills, Exterior Gateway Protocol Formal Specification, Request\n\
    \     For Comments (RFC) 904, UDEL, April 1984.\n"
- title: ROUTE:7.
  contents:
  - "ROUTE:7.\n     E. Rosen, Exterior Gateway Protocol (EGP), Request For Comments\n\
    \     (RFC) 827, BBN, October 1982.\n"
- title: ROUTE:8.
  contents:
  - "ROUTE:8.\n     L. Seamonson and E. Rosen, \"STUB\" Exterior Gateway Protocol,\n\
    \     Request For Comments (RFC) 888, BBN, January 1984.\n"
- title: ROUTE:9.
  contents:
  - "ROUTE:9.\n     D. Waitzman, C. Partridge, and S. Deering, Distance Vector\n \
    \    Multicast Routing Protocol, Request For Comments (RFC) 1075, BBN,\n     Stanford,\
    \ November 1988.\n"
- title: ROUTE:10.
  contents:
  - "ROUTE:10.\n     S. Deering, Multicast Routing in Internetworks and Extended LANs,\n\
    \     Proceedings of SIGCOMM '88, Association for Computing Machinery,\n     August\
    \ 1988.\n"
- title: ROUTE:11.
  contents:
  - "ROUTE:11.\n     P. Almquist, Type of Service in the Internet Protocol Suite,\n\
    \     Request for Comments (RFC) 1349, Consultant, July 1992.\n"
- title: ROUTE:12.
  contents:
  - "ROUTE:12.\n     Y. Rekhter, Experience with the BGP Protocol, Request For Comments\n\
    \     (RFC) 1266, T.J. Watson Research Center, IBM Corp., October 1991.\n"
- title: ROUTE:13.
  contents:
  - "ROUTE:13.\n     Y. Rekhter, BGP Protocol Analysis, Request For Comments (RFC)\
    \ 1265,\n     T.J. Watson Research Center, IBM Corp., October 1991.\n"
- title: TRANS:1.
  contents:
  - "TRANS:1.\n     J. Postel, User Datagram Protocol, Request For Comments (RFC)\
    \ 768,\n     STD 6, USC/Information Sciences Institute, August 1980.\n"
- title: TRANS:2.
  contents:
  - "TRANS:2.\n     J. Postel, Transmission Control Protocol, Request For Comments\n\
    \     (RFC) 793, STD 7, T.J. Watson Research Center, IBM Corp., September\n  \
    \   1981.\n"
- title: APPENDIX  A. REQUIREMENTS FOR SOURCE-ROUTING HOSTS
  contents:
  - 'APPENDIX  A. REQUIREMENTS FOR SOURCE-ROUTING HOSTS

    '
- title: Subject to restrictions given below, a host MAY be able to act as an
  contents:
  - 'Subject to restrictions given below, a host MAY be able to act as an

    '
- title: intermediate hop in a source route, forwarding a source-routed datagram
  contents:
  - 'intermediate hop in a source route, forwarding a source-routed datagram

    '
- title: to the next specified hop.
  contents:
  - 'to the next specified hop.

    '
- title: However, in performing this router-like function, the host MUST obey all
  contents:
  - 'However, in performing this router-like function, the host MUST obey all

    '
- title: the relevant rules for a router forwarding source-routed datagrams
  contents:
  - 'the relevant rules for a router forwarding source-routed datagrams

    '
- title: '[INTRO:2].  This includes the following specific provisions:'
  contents:
  - '[INTRO:2].  This includes the following specific provisions:

    '
- title: (A)  TTL
  contents:
  - "(A)  TTL\n     The TTL field MUST be decremented and the datagram perhaps\n \
    \    discarded as specified for a router in [INTRO:2].\n"
- title: (B)  ICMP Destination Unreachable
  contents:
  - "(B)  ICMP Destination Unreachable\n     A host MUST be able to generate Destination\
    \ Unreachable messages\n     with the following codes:\n     4 (Fragmentation\
    \ Required but DF Set) when a source-routed datagram\n       cannot be fragmented\
    \ to fit into the target network;\n     5 (Source Route Failed) when a source-routed\
    \ datagram cannot be\n       forwarded, e.g., because of a routing problem or\
    \ because the next\n       hop of a strict source route is not on a connected\
    \ network.\n"
- title: (C)  IP Source Address
  contents:
  - "(C)  IP Source Address\n     A source-routed datagram being forwarded MAY (and\
    \ normally will)\n     have a source address that is not one of the IP addresses\
    \ of the\n     forwarding host.\n"
- title: (D)  Record Route Option
  contents:
  - "(D)  Record Route Option\n     A host that is forwarding a source-routed datagram\
    \ containing a\n     Record Route option MUST update that option, if it has room.\n"
- title: (E)  Timestamp Option
  contents:
  - "(E)  Timestamp Option\n     A host that is forwarding a source-routed datagram\
    \ containing a\n     Timestamp Option MUST add the current timestamp to that option,\n\
    \     according to the rules for this option.\n"
- title: To define the rules restricting host forwarding of source-routed
  contents:
  - 'To define the rules restricting host forwarding of source-routed

    '
- title: datagrams, we use the term local source-routing if the next hop will be
  contents:
  - 'datagrams, we use the term local source-routing if the next hop will be

    '
- title: through the same physical interface through which the datagram arrived;
  contents:
  - 'through the same physical interface through which the datagram arrived;

    '
- title: otherwise, it is non-local source-routing.
  contents:
  - 'otherwise, it is non-local source-routing.

    '
- title: A host is permitted to perform local source-routing without restriction.
  contents:
  - 'A host is permitted to perform local source-routing without restriction.

    '
- title: A host that supports non-local source-routing MUST have a configurable
  contents:
  - 'A host that supports non-local source-routing MUST have a configurable

    '
- title: switch to disable forwarding, and this switch MUST default to disabled.
  contents:
  - 'switch to disable forwarding, and this switch MUST default to disabled.

    '
- title: The host MUST satisfy all router requirements for configurable policy
  contents:
  - 'The host MUST satisfy all router requirements for configurable policy

    '
- title: filters [INTRO:2] restricting non-local forwarding.
  contents:
  - 'filters [INTRO:2] restricting non-local forwarding.

    '
- title: If a host receives a datagram with an incomplete source route but does
  contents:
  - 'If a host receives a datagram with an incomplete source route but does

    '
- title: not forward it for some reason, the host SHOULD return an ICMP
  contents:
  - 'not forward it for some reason, the host SHOULD return an ICMP

    '
- title: Destination Unreachable (code 5, Source Route Failed) message, unless
  contents:
  - 'Destination Unreachable (code 5, Source Route Failed) message, unless

    '
- title: the datagram was itself an ICMP error message.
  contents:
  - 'the datagram was itself an ICMP error message.

    '
- title: APPENDIX  B. GLOSSARY
  contents:
  - 'APPENDIX  B. GLOSSARY

    '
- title: This Appendix defines specific terms used in this memo.  It also defines
  contents:
  - 'This Appendix defines specific terms used in this memo.  It also defines

    '
- title: some general purpose terms that may be of interest.  See also [INTRO:9]
  contents:
  - 'some general purpose terms that may be of interest.  See also [INTRO:9]

    '
- title: for a more general set of definitions.
  contents:
  - 'for a more general set of definitions.

    '
- title: AS
  contents:
  - "AS\n     Autonomous System A collection of routers under a single\n     administrative\
    \ authority using a common Interior Gateway Protocol\n     for routing packets.\n"
- title: Connected Network
  contents:
  - "Connected Network\n     A network to which a router is interfaced is often known\
    \ as the\n     local network or the subnetwork relative to that router. However,\n\
    \     these terms can cause confusion, and therefore we use the term\n     Connected\
    \ Network in this memo.\n"
- title: Connected (Sub)Network
  contents:
  - "Connected (Sub)Network\n     A Connected (Sub)Network is an IP subnetwork to\
    \ which a router is\n     interfaced, or a connected network if the connected\
    \ network is not\n     subnetted.  See also Connected Network.\n"
- title: Datagram
  contents:
  - "Datagram\n     The unit transmitted between a pair of internet modules.  data,\n\
    \     called datagrams, from sources to destinations.  The Internet\n     Protocol\
    \ does not provide a reliable communication facility.  There\n     are no acknowledgments\
    \ either end-to-end or hop-by-hop.  There is\n     no error no retransmissions.\
    \  There is no flow control.  See IP.\n"
- title: Default Route
  contents:
  - "Default Route\n     A routing table entry which is used to direct any data addressed\
    \ to\n     any network numbers not explicitly listed in the routing table.\n"
- title: EGP
  contents:
  - "EGP\n     Exterior Gateway Protocol A protocol which distributes routing\n  \
    \   information to the gateways (routers) which connect autonomous\n     systems.\
    \  See IGP.\n"
- title: EGP-2
  contents:
  - "EGP-2\n     Exterior Gateway Protocol version 2 This is an EGP routing protocol\n\
    \     developed to handle traffic between AS's in the Internet.\n"
- title: Forwarder
  contents:
  - "Forwarder\n     The logical entity within a router that is responsible for\n\
    \     switching packets among the router's interfaces.  The Forwarder\n     also\
    \ makes the decisions to queue a packet for local delivery, to\n     queue a packet\
    \ for transmission out another interface, or both.\n"
- title: Forwarding
  contents:
  - "Forwarding\n     Forwarding is the process a router goes through for each packet\n\
    \     received by the router.  The packet may be consumed by the router,\n   \
    \  it may be output on one or more interfaces of the router, or both.\n     Forwarding\
    \ includes the process of deciding what to do with the\n     packet as well as\
    \ queuing it up for (possible) output or internal\n     consumption.\n"
- title: Fragment
  contents:
  - "Fragment\n     An IP datagram which represents a portion of a higher layer's\n\
    \     packet which was too large to be sent in its entirety over the\n     output\
    \ network.\n"
- title: IGP
  contents:
  - "IGP\n     Interior Gateway Protocol A protocol which distributes routing\n  \
    \   information with an Autonomous System (AS).  See EGP.\n"
- title: Interface IP Address
  contents:
  - "Interface IP Address\n     The IP Address and subnet mask that is assigned to\
    \ a specific\n     interface of a router.\n"
- title: Internet Address
  contents:
  - "Internet Address\n     An assigned number which identifies a host in an internet.\
    \  It has\n     two or three parts: network number, optional subnet number, and\n\
    \     host number.\n"
- title: IP
  contents:
  - "IP\n     Internet Protocol The network layer protocol for the Internet.  It\n\
    \     is a packet switching, datagram protocol defined in RFC 791.  IP\n     does\
    \ not provide a reliable communications facility; that is, there\n     are no\
    \ end-to-end of hop-by-hop acknowledgments.\n"
- title: IP Datagram
  contents:
  - "IP Datagram\n     An IP Datagram is the unit of end-to-end transmission in the\n\
    \     Internet Protocol.  An IP Datagram consists of an IP header\n     followed\
    \ by all of higher-layer data (such as TCP, UDP, ICMP, and\n     the like).  An\
    \ IP Datagram is an IP header followed by a message.\n     An IP Datagram is a\
    \ complete IP end-to-end transmission unit.  An\n     IP Datagram is composed\
    \ of one or more IP Fragments.\n     In this memo, the unqualified term Datagram\
    \ should be understood to\n     refer to an IP Datagram.\n"
- title: IP Fragment
  contents:
  - "IP Fragment\n     An IP Fragment is a component of an IP Datagram.  An IP Fragment\n\
    \     consists of an IP header followed by all or part of the higher-\n     layer\
    \ of the original IP Datagram.\n     One or more IP Fragments comprises a single\
    \ IP Datagram.\n     In this memo, the unqualified term Fragment should be understood\
    \ to\n     refer to an IP Fragment.\n"
- title: IP Packet
  contents:
  - "IP Packet\n     An IP Datagram or an IP Fragment.\n     In this memo, the unqualified\
    \ term Packet should generally be\n     understood to refer to an IP Packet.\n"
- title: Logical [network] interface
  contents:
  - "Logical [network] interface\n     We define a logical [network] interface to\
    \ be a logical path,\n     distinguished by a unique IP address, to a connected\
    \ network.\n"
- title: Martian Filtering
  contents:
  - "Martian Filtering\n     A packet which contains an invalid source or destination\
    \ address is\n     considered to be martian and discarded.\n"
- title: MTU (Maximum Transmission Unit)
  contents:
  - "MTU (Maximum Transmission Unit)\n     The size of the largest packet that can\
    \ be transmitted or received\n     through a logical interface.  This size includes\
    \ the IP header but\n     does not include the size of any Link Layer headers\
    \ or framing.\n"
- title: Multicast
  contents:
  - "Multicast\n     A packet which is destined for multiple hosts.  See broadcast.\n"
- title: Multicast Address
  contents:
  - "Multicast Address\n     A special type of address which is recognized by multiple\
    \ hosts.\n     A Multicast Address is sometimes known as a Functional Address\
    \ or a\n     Group Address.\n"
- title: Originate
  contents:
  - "Originate\n     Packets can be transmitted by a router for one of two reasons:\
    \ 1)\n     the packet was received and is being forwarded or 2) the router\n \
    \    itself created the packet for transmission (such as route\n     advertisements).\
    \  Packets that the router creates for transmission\n     are said to originate\
    \ at the router.\n"
- title: Packet
  contents:
  - "Packet\n     A packet is the unit of data passed across the interface between\n\
    \     the Internet Layer and the Link Layer.  It includes an IP header\n     and\
    \ data.  A packet may be a complete IP datagram or a fragment of\n     an IP datagram.\n"
- title: Path
  contents:
  - "Path\n     The sequence of routers and (sub-)networks which a packet traverses\n\
    \     from a particular router to a particular destination host.  Note\n     that\
    \ a path is uni-directional; it is not unusual to have different\n     paths in\
    \ the two directions between a given host pair.\n"
- title: Physical Network
  contents:
  - "Physical Network\n     A Physical Network is a network (or a piece of an internet)\
    \ which\n     is contiguous at the Link Layer.  Its internal structure (if any)\n\
    \     is transparent to the Internet Layer.\n     In this memo, several media\
    \ components that are connected together\n     via devices such as bridges or\
    \ repeaters are considered to be a\n     single Physical Network since such devices\
    \ are transparent to the\n     IP.\n"
- title: Physical Network Interface
  contents:
  - "Physical Network Interface\n     This is a physical interface to a Connected\
    \ Network and has a\n     (possibly unique) Link-Layer address.  Multiple Physical\
    \ Network\n     Interfaces on a single router may share the same Link-Layer\n\
    \     address, but the address must be unique for different routers on\n     the\
    \ same Physical Network.\n"
- title: router
  contents:
  - "router\n     A special-purpose dedicated computer that attaches several networks\n\
    \     together.  Routers switch packets between these networks in a\n     process\
    \ known as forwarding.  This process may be repeated several\n     times on a\
    \ single packet by multiple routers until the packet can\n     be delivered to\
    \ the final destination - switching the packet from\n     router to router to\
    \ router... until the packet gets to its\n     destination.\n"
- title: RPF
  contents:
  - "RPF\n     Reverse Path Forwarding A method used to deduce the next hops for\n\
    \     broadcast and multicast packets.\n"
- title: serial line
  contents:
  - "serial line\n     A physical medium which we cannot define, but we recognize\
    \ one when\n     we see one.  See the U.S. Supreme Court's definitions on\n  \
    \   pornography.\n"
- title: Silently Discard
  contents:
  - "Silently Discard\n     This memo specifies several cases where a router is to\
    \ Silently\n     Discard a received packet (or datagram).  This means that the\n\
    \     router should discard the packet without further processing, and\n     that\
    \ the router will not send any ICMP error message (see Section\n     [4.3.2])\
    \ as a result.  However, for diagnosis of problems, the\n     router should provide\
    \ the capability of logging the error (see\n     Section [1.3.3]), including the\
    \ contents of the silently-discarded\n     packet, and should record the event\
    \ in a statistics counter.\n"
- title: Silently Ignore
  contents:
  - "Silently Ignore\n     A router is said to Silently Ignore an error or condition\
    \ if it\n     takes no action other than possibly generating an error report in\n\
    \     an error log or via some network management protocol, and\n     discarding,\
    \ or ignoring, the source of the error.  In particular,\n     the router does\
    \ NOT generate an ICMP error message.\n"
- title: Specific-destination address
  contents:
  - "Specific-destination address\n     This is defined to be the destination address\
    \ in the IP header\n     unless the header contains an IP broadcast or IP multicast\
    \ address,\n     in which case the specific-destination is an IP address assigned\
    \ to\n     the physical interface on which the packet arrived.\n"
- title: subnet
  contents:
  - "subnet\n     A portion of a network, which may be a physically independent\n\
    \     network, which shares a network address with other portions of the\n   \
    \  network and is distinguished by a subnet number.  A subnet is to a\n     network\
    \ what a network is to an internet.\n"
- title: subnet number
  contents:
  - "subnet number\n     A part of the internet address which designates a subnet.\
    \  It is\n     ignored for the purposes internet routing, but is used for intranet\n\
    \     routing.\n"
- title: TOS
  contents:
  - "TOS\n     Type Of Service A field in the IP header which represents the\n   \
    \  degree of reliability expected from the network layer by the\n     transport\
    \ layer or application.\n"
- title: TTL
  contents:
  - "TTL\n     Time To Live A field in the IP header which represents how long a\n\
    \     packet is considered valid.  It is a combination hop count and\n     timer\
    \ value.\n"
- title: APPENDIX  C. FUTURE DIRECTIONS
  contents:
  - 'APPENDIX  C. FUTURE DIRECTIONS

    '
- title: This appendix lists work that future revisions of this document may wish
  contents:
  - 'This appendix lists work that future revisions of this document may wish

    '
- title: to address.
  contents:
  - 'to address.

    '
- title: In the preparation of Router Requirements, we stumbled across several
  contents:
  - 'In the preparation of Router Requirements, we stumbled across several

    '
- title: other architectural issues.  Each of these is dealt with somewhat in the
  contents:
  - 'other architectural issues.  Each of these is dealt with somewhat in the

    '
- title: document, but still ought to be classified as an open issue in the IP
  contents:
  - 'document, but still ought to be classified as an open issue in the IP

    '
- title: architecture.
  contents:
  - 'architecture.

    '
- title: Most of the he topics presented here generally indicate areas where the
  contents:
  - 'Most of the he topics presented here generally indicate areas where the

    '
- title: technology is still relatively new and it is not appropriate to develop
  contents:
  - 'technology is still relatively new and it is not appropriate to develop

    '
- title: specific requirements since the community is still gaining operational
  contents:
  - 'specific requirements since the community is still gaining operational

    '
- title: experience.
  contents:
  - 'experience.

    '
- title: Other topics represent areas of ongoing research and indicate areas that
  contents:
  - 'Other topics represent areas of ongoing research and indicate areas that

    '
- title: the prudent developer would closely monitor.
  contents:
  - 'the prudent developer would closely monitor.

    '
- title: (1)  SNMP Version 2
  contents:
  - '(1)  SNMP Version 2

    '
- title: (2)  Additional SNMP MIBs
  contents:
  - '(2)  Additional SNMP MIBs

    '
- title: (3)  IDPR
  contents:
  - '(3)  IDPR

    '
- title: (4)  CIPSO
  contents:
  - '(4)  CIPSO

    '
- title: (5)  IP Next Generation research
  contents:
  - '(5)  IP Next Generation research

    '
- title: (6)  More detailed requirements for next-hop selection
  contents:
  - '(6)  More detailed requirements for next-hop selection

    '
- title: (7)  More detailed requirements for leaking routes between routing
  contents:
  - "(7)  More detailed requirements for leaking routes between routing\n     protocols\n"
- title: (8)  Router system security
  contents:
  - '(8)  Router system security

    '
- title: (9)  Routing protocol security
  contents:
  - '(9)  Routing protocol security

    '
- title: (10) Internetwork Protocol layer security.  There has been extensive
  contents:
  - "(10) Internetwork Protocol layer security.  There has been extensive\n     work\
    \ refining the security of IP since the original work writing\n     this document.\
    \  This security work should be included in here.\n"
- title: (11) Route caching
  contents:
  - '(11) Route caching

    '
- title: (12) Load Splitting
  contents:
  - '(12) Load Splitting

    '
- title: (13) Sending fragments along different paths
  contents:
  - '(13) Sending fragments along different paths

    '
- title: (14) Variable width subnet masks (i.e., not all subnets of a particular
  contents:
  - "(14) Variable width subnet masks (i.e., not all subnets of a particular\n   \
    \  net use the same subnet mask).  Routers are required (MUST) support\n     them,\
    \ but are not required to detect ambiguous configurations.\n"
- title: (15) Multiple logical (sub)nets on the same wire.  Router Requirements
  contents:
  - "(15) Multiple logical (sub)nets on the same wire.  Router Requirements\n    \
    \ does not require support for this.  We made some attempt to\n     identify pieces\
    \ of the architecture (e.g. forwarding of directed\n     broadcasts and issuing\
    \ of Redirects) where the wording of the rules\n     has to be done carefully\
    \ to make the right thing happen, and tried\n     to clearly distinguish logical\
    \ interfaces from physical interfaces.\n     However, we did not study this issue\
    \ in detail, and we are not at\n     all confident that all of the rules in the\
    \ document are correct in\n     the presence of multiple logical (sub)nets on\
    \ the same wire.\n"
- title: (15) Congestion control and resource management.  On the advice of the
  contents:
  - "(15) Congestion control and resource management.  On the advice of the\n    \
    \ IETF's experts (Mankin and Ramakrishnan) we deprecated (SHOULD NOT)\n     Source\
    \ Quench and said little else concrete (Section 5.3.6).\n"
- title: (16) Developing a Link-Layer requirements document that would be common
  contents:
  - "(16) Developing a Link-Layer requirements document that would be common\n   \
    \  for both routers and hosts.\n"
- title: (17) Developing a common PPP LQM algorithm.
  contents:
  - '(17) Developing a common PPP LQM algorithm.

    '
- title: (18) Investigate of other information (above and beyond section [3.2])
  contents:
  - "(18) Investigate of other information (above and beyond section [3.2])\n    \
    \ that passes between the layers, such as physical network MTU,\n     mappings\
    \ of IP precedence to Link Layer priority values, etc.\n"
- title: (19) Should the Link Layer notify IP if address resolution failed (just
  contents:
  - "(19) Should the Link Layer notify IP if address resolution failed (just\n   \
    \  like it notifies IP when there is a Link Layer priority value\n     problem)?\n"
- title: (20) Should all routers be required to implement a DNS resolver?
  contents:
  - '(20) Should all routers be required to implement a DNS resolver?

    '
- title: (21) Should a human user be able to use a host name anywhere you can use
  contents:
  - "(21) Should a human user be able to use a host name anywhere you can use\n  \
    \   an IP address when configuring the router? Even in ping and\n     traceroute?\n"
- title: (22) Almquist's draft ruminations on the next hop and ruminations on
  contents:
  - "(22) Almquist's draft ruminations on the next hop and ruminations on\n     route\
    \ leaking need to be reviewed, brought up to date, and\n     published.\n"
- title: (23) Investigation is needed to determine if a redirect message for
  contents:
  - "(23) Investigation is needed to determine if a redirect message for\n     precedence\
    \ is needed or not. If not, are the type-of-service\n     redirects acceptable?\n"
- title: (24) RIPv2 and RIP+CIDR and variable length subnet masks.
  contents:
  - '(24) RIPv2 and RIP+CIDR and variable length subnet masks.

    '
- title: (25) BGP-4 CIDR is going to be important, and everyone is betting on
  contents:
  - "(25) BGP-4 CIDR is going to be important, and everyone is betting on\n     BGP-4.\
    \ We can't avoid mentioning it.  Probably need to describe the\n     differences\
    \ between BGP-3 and BGP-4, and explore upgrade issues...\n"
- title: (26) Loose Source Route Mobile IP and some multicasting may require
  contents:
  - "(26) Loose Source Route Mobile IP and some multicasting may require\n     this.\
    \  Perhaps it should be elevated to a SHOULD (per Fred Baker's\n     Suggestion).\n"
- title: APPENDIX D.  Multicast Routing Protocols
  contents:
  - 'APPENDIX D.  Multicast Routing Protocols

    '
- title: Multicasting is a relatively new technology within the Internet Protocol
  contents:
  - 'Multicasting is a relatively new technology within the Internet Protocol

    '
- title: family.  It is not widely deployed or commonly in use yet.  Its
  contents:
  - 'family.  It is not widely deployed or commonly in use yet.  Its

    '
- title: importance, however, is expected to grow over the coming years.
  contents:
  - 'importance, however, is expected to grow over the coming years.

    '
- title: This Appendix describes some of the technologies being investigated for
  contents:
  - 'This Appendix describes some of the technologies being investigated for

    '
- title: routing multicasts through the Internet.
  contents:
  - 'routing multicasts through the Internet.

    '
- title: A diligent implementor will keep abreast of developments in this area in
  contents:
  - 'A diligent implementor will keep abreast of developments in this area in

    '
- title: order to properly develop multicast facilities.
  contents:
  - 'order to properly develop multicast facilities.

    '
- title: This Appendix does not specify any standards or requirements.
  contents:
  - 'This Appendix does not specify any standards or requirements.

    '
- title: D.1  Introduction
  contents:
  - "D.1  Introduction\n   Multicast routing protocols enable the forwarding of IP\
    \ multicast\n   datagrams throughout a TCP/IP internet. Generally these algorithms\n\
    \   forward the datagram based on its source and destination addresses.\n   Additionally,\
    \ the datagram may need to be forwarded to several\n   multicast group members,\
    \ at times requiring the datagram to be\n   replicated and sent out multiple interfaces.\n\
    \   The state of multicast routing protocols is less developed than the\n   protocols\
    \ available for the forwarding of IP unicasts.  Two multicast\n   routing protocols\
    \ have been documented for TCP/IP; both are currently\n   considered to be experimental.\
    \  Both also use the IGMP protocol\n   (discussed in Section [4.4]) to monitor\
    \ multicast group membership.\n"
- title: D.2  Distance Vector Multicast Routing Protocol - DVMRP
  contents:
  - "D.2  Distance Vector Multicast Routing Protocol - DVMRP\n   DVMRP, documented\
    \ in [ROUTE:9], is based on Distance Vector or\n   Bellman-Ford technology. It\
    \ routes multicast datagrams only, and does\n   so within a single Autonomous\
    \ System. DVMRP is an implementation of\n   the Truncated Reverse Path Broadcasting\
    \ algorithm described in\n   [ROUTE:10].  In addition, it specifies the tunneling\
    \ of IP multicasts\n   through non-multicast-routing-capable IP domains.\n"
- title: D.3  Multicast Extensions to OSPF - MOSPF
  contents:
  - "D.3  Multicast Extensions to OSPF - MOSPF\n   MOSPF, currently under development,\
    \ is a backward-compatible addition\n   to OSPF that allows the forwarding of\
    \ both IP multicasts and unicasts\n   within an Autonomous System. MOSPF routers\
    \ can be mixed with OSPF\n   routers within a routing domain, and they will interoperate\
    \ in the\n   forwarding of unicasts. OSPF is a link-state or SPF-based protocol.\n\
    \   By adding link state advertisements that pinpoint group membership,\n   MOSPF\
    \ routers can calculate the path of a multicast datagram as a\n   tree rooted\
    \ at the datagram source. Those branches that do not\n   contain group members\
    \ can then be discarded, eliminating unnecessary\n   datagram forwarding hops.\n"
- title: APPENDIX E  Additional Next-Hop Selection Algorithms
  contents:
  - 'APPENDIX E  Additional Next-Hop Selection Algorithms

    '
- title: Section [5.2.4.3] specifies an algorithm that routers ought to use when
  contents:
  - 'Section [5.2.4.3] specifies an algorithm that routers ought to use when

    '
- title: selecting a next-hop for a packet.
  contents:
  - 'selecting a next-hop for a packet.

    '
- title: This appendix provides historical perspective for the next-hop selection
  contents:
  - 'This appendix provides historical perspective for the next-hop selection

    '
- title: problem.  It also presents several additional pruning rules and next-hop
  contents:
  - 'problem.  It also presents several additional pruning rules and next-hop

    '
- title: selection algorithms that might be found in the Internet.
  contents:
  - 'selection algorithms that might be found in the Internet.

    '
- title: This appendix presents material drawn from an earlier, unpublished, work
  contents:
  - 'This appendix presents material drawn from an earlier, unpublished, work

    '
- title: by Philip Almquist; Ruminations on the Next Hop.
  contents:
  - 'by Philip Almquist; Ruminations on the Next Hop.

    '
- title: This Appendix does not specify any standards or requirements.
  contents:
  - 'This Appendix does not specify any standards or requirements.

    '
- title: E.1. Some Historical Perspective
  contents:
  - "E.1. Some Historical Perspective\n   It is useful to briefly review the history\
    \ of the topic, beginning\n   with what is sometimes called the \"classic model\"\
    \ of how a router\n   makes routing decisions.  This model predates IP.  In this\
    \ model, a\n   router speaks some single routing protocol such as RIP.  The protocol\n\
    \   completely determines the contents of the router's FIB.  The route\n   lookup\
    \ algorithm is trivial: the router looks in the FIB for a route\n   whose destination\
    \ attribute exactly matches the network number\n   portion of the destination\
    \ address in the packet.  If one is found,\n   it is used; if none is found, the\
    \ destination is unreachable.\n   Because the routing protocol keeps at most one\
    \ route to each\n   destination, the problem of what to do when there are multiple\
    \ routes\n   which match the same destination cannot arise.\n   Over the years,\
    \ this classic model has been augmented in small ways.\n   With the advent of\
    \ default routes, subnets, and host routes, it\n   became possible to have more\
    \ than one routing table entry which in\n   some sense matched the destination.\
    \  This was easily resolved by a\n   consensus that there was a hierarchy of routes:\
    \ host routes should be\n   preferred over subnet routes, subnet routes over net\
    \ routes, and net\n   routes over default routes.\n   With the advent of variable\
    \ length subnet masks, the general approach\n   remained the same although its\
    \ description became a little more\n   complicated. We now say that each route\
    \ has a bit mask associated\n   with it.  If a particular bit in a route's bit\
    \ mask is set, the\n   corresponding bit in the route's destination attribute\
    \ is\n   significant. A route cannot be used to route a packet unless each\n \
    \  significant bit in the route's destination attribute matches the\n   corresponding\
    \ bit in the packet's destination address, and routes\n   with more bits set in\
    \ their masks are preferred over routes which\n   have fewer bits set in their\
    \ masks. This is simply a generalization\n   of the hierarchy of routes described\
    \ above, and will be referred to\n   for the rest of this memo as choosing a route\
    \ by preferring longest\n   match.\n   Another way the classic model has been\
    \ augmented is through a small\n   amount of relaxation of the notion that a routing\
    \ protocol has\n   complete control over the contents of the routing table.  First,\n\
    \   static routes were introduced.  For the first time, it was possible\n   to\
    \ simultaneously have two routes (one dynamic and one static) to the\n   same\
    \ destination.  When this happened, a router had to have a policy\n   (in some\
    \ cases configurable, and in other cases chosen by the author\n   of the router's\
    \ software) which determined whether the static route\n   or the dynamic route\
    \ was preferred. However, this policy was only\n   used as a tie-breaker when\
    \ longest match didn't uniquely determine\n   which route to use. Thus, for example,\
    \ a static default route would\n   never be preferred over a dynamic net route\
    \ even if the policy\n   preferred static routes over dynamic routes.\n   The\
    \ classic model had to be further augmented when inter-domain\n   routing protocols\
    \ were invented. Traditional routing protocols came\n   to be called \"interior\
    \ gateway protocols\" (IGPs), and at each\n   Internet site there was a strange\
    \ new beast called an \"exterior\n   gateway\", a router which spoke EGP to several\
    \ \"BBN Core Gateways\"\n   (the routers which made up the Internet backbone at\
    \ the time) at the\n   same time as it spoke its IGP to the other routers at its\
    \ site. Both\n   protocols wanted to determine the contents of the router's routing\n\
    \   table. Theoretically, this could result in a router having three\n   routes\
    \ (EGP, IGP, and static) to the same destination.  Because of\n   the Internet\
    \ topology at the time, it was resolved with little debate\n   that routers would\
    \ be best served by a policy of preferring IGP\n   routes over EGP routes.  However,\
    \ the sanctity of longest match\n   remained unquestioned: a default route learned\
    \ from the IGP would\n   never be preferred over a net route from learned EGP.\n\
    \   Although the Internet topology, and consequently routing in the\n   Internet,\
    \ have evolved considerably since then, this slightly\n   augmented version of\
    \ the classic model has survived pretty much\n   intact to this day in the Internet\
    \ (except that BGP has replaced\n   EGP).  Conceptually (and often in implementation)\
    \ each router has a\n   routing table and one or more routing protocol processes.\
    \  Each of\n   these processes can add any entry that it pleases, and can delete\
    \ or\n   modify any entry that it has created. When routing a packet, the\n  \
    \ router picks the best route using longest match, augmented with a\n   policy\
    \ mechanism to break ties. Although this augmented classic model\n   has served\
    \ us well, it has a number of shortcomings:\n   o  It ignores (although it could\
    \ be augmented to consider) path\n      characteristics such as quality of service\
    \ and MTU.\n   o  It doesn't support routing protocols (such as OSPF and Integrated\n\
    \      IS-IS) that require route lookup algorithms different than pure\n     \
    \ longest match.\n   o  There has not been a firm consensus on what the tie-breaking\n\
    \      mechanism ought to be. Tie-breaking mechanisms have often been\n      found\
    \ to be difficult if not impossible to configure in such a way\n      that the\
    \ router will always pick what the network manger considers\n      to be the \"\
    correct\" route.\n"
- title: E.2. Additional Pruning Rules
  contents:
  - "E.2. Additional Pruning Rules\n   Section [5.2.4.3] defined several pruning rules\
    \ to use to select\n   routes from the FIB.  There are other rules that could\
    \ also be used.\n   o  OSPF Route Class\n      Routing protocols which have areas\
    \ or make a distinction between\n      internal and external routes divide their\
    \ routes into classes,\n      where classes are rank-ordered in terms of preference.\
    \ A route is\n      always chosen from the most preferred class unless none is\n\
    \      available, in which case one is chosen from the second most\n      preferred\
    \ class, and so on. In OSPF, the classes (in order from\n      most preferred\
    \ to least preferred) are intra-area, inter-area,\n      type 1 external (external\
    \ routes with internal metrics), and type\n      2 external. As an additional\
    \ wrinkle, a router is configured to\n      know what addresses ought to be accessible\
    \ via intra-area routes,\n      and will not use inter- area or external routes\
    \ to reach these\n      destinations even when no intra-area route is available.\n\
    \      More precisely, we assume that each route has a class attribute,\n    \
    \  called route.class, which is assigned by the routing protocol.\n      The set\
    \ of candidate routes is examined to determine if it\n      contains any for which\
    \ route.class = intra-area.  If so, all\n      routes except those for which route.class\
    \ = intra-area are\n      discarded.  Otherwise, router checks whether the packet's\n\
    \      destination falls within the address ranges configured for the\n      local\
    \ area.  If so, the entire set of candidate routes is deleted.\n      Otherwise,\
    \ the set of candidate routes is examined to determine if\n      it contains any\
    \ for which route.class = inter-area.  If so, all\n      routes except those for\
    \ which route.class = inter-area are\n      discarded.  Otherwise, the set of\
    \ candidate routes is examined to\n      determine if it contains any for which\
    \ route.class = type 1\n      external.  If so, all routes except those for which\
    \ route.class =\n      type 1 external are discarded.\n   o  IS-IS Route Class\n\
    \      IS-IS route classes work identically to OSPF's. However, the set\n    \
    \  of classes defined by Integrated IS-IS is different, such that\n      there\
    \ isn't a one-to-one mapping between IS-IS route classes and\n      OSPF route\
    \ classes. The route classes used by Integrated IS-IS are\n      (in order from\
    \ most preferred to least preferred) intra-area,\n      inter-area, and external.\n\
    \      The Integrated IS-IS internal class is equivalent to the OSPF\n      internal\
    \ class. Likewise, the Integrated IS-IS external class is\n      equivalent to\
    \ OSPF's type 2 external class. However, Integrated\n      IS-IS does not make\
    \ a distinction between inter-area routes and\n      external routes with internal\
    \ metrics - both are considered to be\n      inter-area routes. Thus, OSPF prefers\
    \ true inter-area routes over\n      external routes with internal metrics, whereas\
    \ Integrated IS-IS\n      gives the two types of routes equal preference.\n  \
    \ o  IDPR Policy\n      A specific case of Policy. The IETF's Inter-domain Policy\
    \ Routing\n      Working Group is devising a routing protocol called Inter-Domain\n\
    \      Policy Routing (IDPR) to support true policy-based routing in the\n   \
    \   Internet. Packets with certain combinations of header attributes\n      (such\
    \ as specific combinations of source and destination addresses\n      or special\
    \ IDPR source route options) are required to use routes\n      provided by the\
    \ IDPR protocol. Thus, unlike other Policy pruning\n      rules, IDPR Policy would\
    \ have to be applied before any other\n      pruning rules except Basic Match.\n\
    \      Specifically, IDPR Policy examines the packet being forwarded to\n    \
    \  ascertain if its attributes require that it be forwarded using\n      policy-based\
    \ routes. If so, IDPR Policy deletes all routes not\n      provided by the IDPR\
    \ protocol.\n"
- title: E.3  Some Route Lookup Algorithms
  contents:
  - "E.3  Some Route Lookup Algorithms\n   This section examines several route lookup\
    \ algorithms that are in use\n   or have been proposed.  Each is described by\
    \ giving the sequence of\n   pruning rules it uses.  The strengths and weaknesses\
    \ of each\n   algorithm are presented\n"
- title: E.3.1 The Revised Classic Algorithm
  contents:
  - "E.3.1 The Revised Classic Algorithm\n      The Revised Classic Algorithm is the\
    \ form of the traditional\n      algorithm which was discussed in Section [E.1].\
    \  The steps of this\n      algorithm are:\n      1.  Basic match\n      2.  Longest\
    \ match\n      3.  Best metric\n      4.  Policy\n      Some implementations omit\
    \ the Policy step, since it is needed only\n      when routes may have metrics\
    \ that are not comparable (because they\n      were learned from different routing\
    \ domains).\n      The advantages of this algorithm are:\n      (1)  It is widely\
    \ implemented.\n      (2)  Except for the Policy step (which an implementor can\
    \ choose\n           to make arbitrarily complex) the algorithm is simple both\
    \ to\n           understand and to implement.\n      Its disadvantages are:\n\
    \      (1)  It does not handle IS-IS or OSPF route classes, and therefore\n  \
    \         cannot be used for Integrated IS-IS or OSPF.\n      (2)  It does not\
    \ handle TOS or other path attributes.\n      (3)  The policy mechanisms are not\
    \ standardized in any way, and\n           are therefore are often implementation-specific.\
    \  This causes\n           extra work for implementors (who must invent appropriate\n\
    \           policy mechanisms) and for users (who must learn how to use\n    \
    \       the mechanisms.  This lack of a standardized mechanism also\n        \
    \   makes it difficult to build consistent configurations for\n           routers\
    \ from different vendors.  This presents a significant\n           practical deterrent\
    \ to multi-vendor interoperability.\n      (4)  The proprietary policy mechanisms\
    \ currently provided by\n           vendors are often inadequate in complex parts\
    \ of the\n           Internet.\n      (5)  The algorithm has not been written\
    \ down in any generally\n           available document or standard.  It is, in\
    \ effect, a part of\n           the Internet Folklore.\n"
- title: E.3.2 The Variant Router Requirements Algorithm
  contents:
  - "E.3.2 The Variant Router Requirements Algorithm\n      Some Router Requirements\
    \ Working Group members have proposed a\n      slight variant of the algorithm\
    \ described in the Section\n      [5.2.4.3].  In this variant, matching the type\
    \ of service\n      requested is considered to be more important, rather than\
    \ less\n      important, than matching as much of the destination address as\n\
    \      possible.  For example, this algorithm would prefer a default\n      route\
    \ which had the correct type of service over a network route\n      which had\
    \ the default type of service, whereas the algorithm in\n      [5.2.4.3] would\
    \ make the opposite choice.\n      The steps of the algorithm are:\n      1. \
    \ Basic match\n      2.  Weak TOS\n      3.  Longest match\n      4.  Best metric\n\
    \      5.  Policy\n      Debate between the proponents of this algorithm and the\
    \ regular\n      Router Requirements Algorithm suggests that each side can show\n\
    \      cases where its algorithm leads to simpler, more intuitive routing\n  \
    \    than the other's algorithm does.  In general, this variant has the\n    \
    \  same set of advantages and disadvantages that the algorithm\n      specified\
    \ in [5.2.4.3] does, except that pruning on Weak TOS\n      before pruning on\
    \ Longest Match makes this algorithm less\n      compatible with OSPF and Integrated\
    \ IS-IS than the standard Router\n      Requirements Algorithm.\n"
- title: E.3.3 The OSPF Algorithm
  contents:
  - "E.3.3 The OSPF Algorithm\n      OSPF uses an algorithm which is virtually identical\
    \ to the Router\n      Requirements Algorithm except for one crucial difference:\
    \ OSPF\n      considers OSPF route classes.\n      The algorithm is:\n      1.\
    \  Basic match\n      2.  OSPF route class\n      3.  Longest match\n      4.\
    \  Weak TOS\n      5.  Best metric\n      6.  Policy\n      Type of service support\
    \ is not always present.  If it is not\n      present then, of course, the fourth\
    \ step would be omitted\n      This algorithm has some advantages over the Revised\
    \ Classic\n      Algorithm:\n      (1)  It supports type of service routing.\n\
    \      (2)  Its rules are written down, rather than merely being a part\n    \
    \       of the Internet folklore.\n      (3)  It (obviously) works with OSPF.\n\
    \      However, this algorithm also retains some of the disadvantages of\n   \
    \   the Revised Classic Algorithm:\n      (1)  Path properties other than type\
    \ of service (e.g. MTU) are\n           ignored.\n      (2)  As in the Revised\
    \ Classic Algorithm, the details (or even the\n           existence) of the Policy\
    \ step are left to the discretion of\n           the implementor.\n      The OSPF\
    \ Algorithm also has a further disadvantage (which is not\n      shared by the\
    \ Revised Classic Algorithm).  OSPF internal (intra-\n      area or inter-area)\
    \ routes are always considered to be superior to\n      routes learned from other\
    \ routing protocols, even in cases where\n      the OSPF route matches fewer bits\
    \ of the destination address.\n      This is a policy decision that is inappropriate\
    \ in some networks.\n      Finally, it is worth noting that the OSPF Algorithm's\
    \ TOS support\n      suffers from a deficiency in that routing protocols which\
    \ support\n      TOS are implicitly preferred when forwarding packets which have\n\
    \      non-zero TOS values.  This may not be appropriate in some cases.\n"
- title: E.3.4 The Integrated IS-IS Algorithm
  contents:
  - "E.3.4 The Integrated IS-IS Algorithm\n      Integrated IS-IS uses an algorithm\
    \ which is similar to but not\n      quite identical to the OSPF Algorithm.  Integrated\
    \ IS-IS uses a\n      different set of route classes, and also differs slightly\
    \ in its\n      handling of type of service.  The algorithm is:\n      1. Basic\
    \ Match\n      2. IS-IS Route Classes\n      3. Longest Match\n      4. Weak TOS\n\
    \      5. Best Metric\n      6. Policy\n      Although Integrated IS-IS uses Weak\
    \ TOS, the protocol is only\n      capable of carrying routes for a small specific\
    \ subset of the\n      possible values for the TOS field in the IP header.  Packets\n\
    \      containing other values in the TOS field are routed using the\n      default\
    \ TOS.\n      Type of service support is optional; if disabled, the fourth step\n\
    \      would be omitted.  As in OSPF, the specification does not include\n   \
    \   the Policy step.\n      This algorithm has some advantages over the Revised\
    \ Classic\n      Algorithm:\n      (1)  It supports type of service routing.\n\
    \      (2)  Its rules are written down, rather than merely being a part\n    \
    \       of the Internet folklore.\n      (3)  It (obviously) works with Integrated\
    \ IS-IS.\n      However, this algorithm also retains some of the disadvantages\
    \ of\n      the Revised Classic Algorithm:\n      (1)  Path properties other than\
    \ type of service (e.g. MTU) are\n           ignored.\n      (2)  As in the Revised\
    \ Classic Algorithm, the details (or even the\n           existence) of the Policy\
    \ step are left to the discretion of\n           the implementor.\n      (3) \
    \ It doesn't work with OSPF because of the differences between\n           IS-IS\
    \ route classes and OSPF route classes.  Also, because\n           IS-IS supports\
    \ only a subset of the possible TOS values, some\n           obvious implementations\
    \ of the Integrated IS-IS algorithm\n           would not support OSPF's interpretation\
    \ of TOS.\n      The Integrated IS-IS Algorithm also has a further disadvantage\n\
    \      (which is not shared by the Revised Classic Algorithm): IS-IS\n      internal\
    \ (intra-area or inter-area) routes are always considered\n      to be superior\
    \ to routes learned from other routing protocols,\n      even in cases where the\
    \ IS-IS route matches fewer bits of the\n      destination address and doesn't\
    \ provide the requested type of\n      service.  This is a policy decision that\
    \ may not be appropriate in\n      all cases.\n      Finally, it is worth noting\
    \ that the Integrated IS-IS Algorithm's\n      TOS support suffers from the same\
    \ deficiency noted for the OSPF\n      Algorithm.\n"
- title: Security Considerations
  contents:
  - 'Security Considerations

    '
- title: Although the focus of this document is interoperability rather than
  contents:
  - 'Although the focus of this document is interoperability rather than

    '
- title: security, there are obviously many sections of this document which have
  contents:
  - 'security, there are obviously many sections of this document which have

    '
- title: some ramifications on network security.
  contents:
  - 'some ramifications on network security.

    '
- title: Security means different things to different people.  Security from a
  contents:
  - 'Security means different things to different people.  Security from a

    '
- title: router's point of view is anything that helps to keep its own networks
  contents:
  - 'router''s point of view is anything that helps to keep its own networks

    '
- title: operational and in addition helps to keep the Internet as a whole
  contents:
  - 'operational and in addition helps to keep the Internet as a whole

    '
- title: healthy.  For the purposes of this document, the security services we
  contents:
  - 'healthy.  For the purposes of this document, the security services we

    '
- title: are concerned with are denial of service, integrity, and authentication
  contents:
  - 'are concerned with are denial of service, integrity, and authentication

    '
- title: as it applies to the first two.  Privacy as a security service is
  contents:
  - 'as it applies to the first two.  Privacy as a security service is

    '
- title: important, but only peripherally a concern of a router - at least as of
  contents:
  - 'important, but only peripherally a concern of a router - at least as of

    '
- title: the date of this document.
  contents:
  - 'the date of this document.

    '
- title: In several places in this document there are sections entitled ...
  contents:
  - 'In several places in this document there are sections entitled ...

    '
- title: Security Considerations. These sections discuss specific considerations
  contents:
  - 'Security Considerations. These sections discuss specific considerations

    '
- title: that apply to the general topic under discussion.
  contents:
  - 'that apply to the general topic under discussion.

    '
- title: Rarely does this document say do this and your router/network will be
  contents:
  - 'Rarely does this document say do this and your router/network will be

    '
- title: secure.  More likely, it says this is a good idea and if you do it, it
  contents:
  - 'secure.  More likely, it says this is a good idea and if you do it, it

    '
- title: '*may* improve the security of the Internet and your local system in'
  contents:
  - '*may* improve the security of the Internet and your local system in

    '
- title: general.
  contents:
  - 'general.

    '
- title: Unfortunately, this is the state-of-the-art AT THIS TIME.  Few if any of
  contents:
  - 'Unfortunately, this is the state-of-the-art AT THIS TIME.  Few if any of

    '
- title: the network protocols a router is concerned with have reasonable,
  contents:
  - 'the network protocols a router is concerned with have reasonable,

    '
- title: built-in security features.  Industry and the protocol designers have
  contents:
  - 'built-in security features.  Industry and the protocol designers have

    '
- title: been and are continuing to struggle with these issues.  There is
  contents:
  - 'been and are continuing to struggle with these issues.  There is

    '
- title: progress, but only small baby steps such as the peer-to-peer
  contents:
  - 'progress, but only small baby steps such as the peer-to-peer

    '
- title: authentication available in the BGP and OSPF routing protocols.
  contents:
  - 'authentication available in the BGP and OSPF routing protocols.

    '
- title: In particular, this document notes the current research into developing
  contents:
  - 'In particular, this document notes the current research into developing

    '
- title: and enhancing network security.  Specific areas of research,
  contents:
  - 'and enhancing network security.  Specific areas of research,

    '
- title: development, and engineering that are underway as of this writing
  contents:
  - 'development, and engineering that are underway as of this writing

    '
- title: (December 1993) are in IP Security, SNMP Security, and common
  contents:
  - '(December 1993) are in IP Security, SNMP Security, and common

    '
- title: authentication technologies.
  contents:
  - 'authentication technologies.

    '
- title: Notwithstanding all of the above, there are things both vendors and
  contents:
  - 'Notwithstanding all of the above, there are things both vendors and

    '
- title: users can do to improve the security of their router.  Vendors should
  contents:
  - 'users can do to improve the security of their router.  Vendors should

    '
- title: get a copy of Trusted Computer System Interpretation [INTRO:8].  Even if
  contents:
  - 'get a copy of Trusted Computer System Interpretation [INTRO:8].  Even if

    '
- title: a vendor decides not to submit their device for formal verification
  contents:
  - 'a vendor decides not to submit their device for formal verification

    '
- title: under these guidelines, the publication provides excellent guidance on
  contents:
  - 'under these guidelines, the publication provides excellent guidance on

    '
- title: general security design and practices for computing devices.
  contents:
  - 'general security design and practices for computing devices.

    '
- title: Acknowledgments
  contents:
  - 'Acknowledgments

    '
- title: O that we now had here
  contents:
  - 'O that we now had here

    '
- title: But one ten thousand of those men in England
  contents:
  - 'But one ten thousand of those men in England

    '
- title: That do no work to-day!
  contents:
  - 'That do no work to-day!

    '
- title: What's he that wishes so?
  contents:
  - 'What''s he that wishes so?

    '
- title: 'My cousin Westmoreland? No, my fair cousin:'
  contents:
  - 'My cousin Westmoreland? No, my fair cousin:

    '
- title: If we are mark'd to die, we are enow
  contents:
  - 'If we are mark''d to die, we are enow

    '
- title: To do our country loss; and if to live,
  contents:
  - 'To do our country loss; and if to live,

    '
- title: The fewer men, the greater share of honour.
  contents:
  - 'The fewer men, the greater share of honour.

    '
- title: God's will! I pray thee, wish not one man more.
  contents:
  - 'God''s will! I pray thee, wish not one man more.

    '
- title: By Jove, I am not covetous for gold,
  contents:
  - 'By Jove, I am not covetous for gold,

    '
- title: Nor care I who doth feed upon my cost;
  contents:
  - 'Nor care I who doth feed upon my cost;

    '
- title: It yearns me not if men my garments wear;
  contents:
  - 'It yearns me not if men my garments wear;

    '
- title: 'Such outward things dwell not in my desires:'
  contents:
  - 'Such outward things dwell not in my desires:

    '
- title: But if it be a sin to covet honour,
  contents:
  - 'But if it be a sin to covet honour,

    '
- title: I am the most offending soul alive.
  contents:
  - 'I am the most offending soul alive.

    '
- title: 'No, faith, my coz, wish not a man from England:'
  contents:
  - 'No, faith, my coz, wish not a man from England:

    '
- title: God's peace! I would not lose so great an honour
  contents:
  - 'God''s peace! I would not lose so great an honour

    '
- title: As one man more, methinks, would share from me
  contents:
  - 'As one man more, methinks, would share from me

    '
- title: For the best hope I have. O, do not wish one more!
  contents:
  - 'For the best hope I have. O, do not wish one more!

    '
- title: Rather proclaim it, Westmoreland, through my host,
  contents:
  - 'Rather proclaim it, Westmoreland, through my host,

    '
- title: That he which hath no stomach to this fight,
  contents:
  - 'That he which hath no stomach to this fight,

    '
- title: Let him depart; his passport shall be made
  contents:
  - 'Let him depart; his passport shall be made

    '
- title: 'And crowns for convoy put into his purse:'
  contents:
  - 'And crowns for convoy put into his purse:

    '
- title: We would not die in that man's company
  contents:
  - 'We would not die in that man''s company

    '
- title: That fears his fellowship to die with us.
  contents:
  - 'That fears his fellowship to die with us.

    '
- title: 'This day is called the feast of Crispian:'
  contents:
  - 'This day is called the feast of Crispian:

    '
- title: He that outlives this day, and comes safe home,
  contents:
  - 'He that outlives this day, and comes safe home,

    '
- title: Will stand a tip-toe when the day is named,
  contents:
  - 'Will stand a tip-toe when the day is named,

    '
- title: And rouse him at the name of Crispian.
  contents:
  - 'And rouse him at the name of Crispian.

    '
- title: He that shall live this day, and see old age,
  contents:
  - 'He that shall live this day, and see old age,

    '
- title: Will yearly on the vigil feast his neighbours,
  contents:
  - 'Will yearly on the vigil feast his neighbours,

    '
- title: And say 'To-morrow is Saint Crispian:'
  contents:
  - 'And say ''To-morrow is Saint Crispian:''

    '
- title: Then will he strip his sleeve and show his scars.
  contents:
  - 'Then will he strip his sleeve and show his scars.

    '
- title: And say 'These wounds I had on Crispin's day.'
  contents:
  - 'And say ''These wounds I had on Crispin''s day.''

    '
- title: 'Old men forget: yet all shall be forgot,'
  contents:
  - 'Old men forget: yet all shall be forgot,

    '
- title: But he'll remember with advantages
  contents:
  - 'But he''ll remember with advantages

    '
- title: 'What feats he did that day: then shall our names.'
  contents:
  - 'What feats he did that day: then shall our names.

    '
- title: Familiar in his mouth as household words
  contents:
  - 'Familiar in his mouth as household words

    '
- title: Harry the king, Bedford and Exeter,
  contents:
  - 'Harry the king, Bedford and Exeter,

    '
- title: Warwick and Talbot, Salisbury and Gloucester,
  contents:
  - 'Warwick and Talbot, Salisbury and Gloucester,

    '
- title: Be in their flowing cups freshly remember'd.
  contents:
  - 'Be in their flowing cups freshly remember''d.

    '
- title: This story shall the good man teach his son;
  contents:
  - 'This story shall the good man teach his son;

    '
- title: And Crispin Crispian shall ne'er go by,
  contents:
  - 'And Crispin Crispian shall ne''er go by,

    '
- title: From this day to the ending of the world,
  contents:
  - 'From this day to the ending of the world,

    '
- title: But we in it shall be remember'd;
  contents:
  - 'But we in it shall be remember''d;

    '
- title: We few, we happy few, we band of brothers;
  contents:
  - 'We few, we happy few, we band of brothers;

    '
- title: For he to-day that sheds his blood with me
  contents:
  - 'For he to-day that sheds his blood with me

    '
- title: Shall be my brother; be he ne'er so vile,
  contents:
  - 'Shall be my brother; be he ne''er so vile,

    '
- title: 'This day shall gentle his condition:'
  contents:
  - 'This day shall gentle his condition:

    '
- title: And gentlemen in England now a-bed
  contents:
  - 'And gentlemen in England now a-bed

    '
- title: Shall think themselves accursed they were not here,
  contents:
  - 'Shall think themselves accursed they were not here,

    '
- title: And hold their manhoods cheap whiles any speaks
  contents:
  - 'And hold their manhoods cheap whiles any speaks

    '
- title: That fought with us upon Saint Crispin's day.
  contents:
  - 'That fought with us upon Saint Crispin''s day.

    '
- title: This memo is a product of the IETF's Router Requirements Working Group.
  contents:
  - 'This memo is a product of the IETF''s Router Requirements Working Group.

    '
- title: A memo such as this one is of necessity the work of many more people
  contents:
  - 'A memo such as this one is of necessity the work of many more people

    '
- title: than could be listed here.  A wide variety of vendors, network managers,
  contents:
  - 'than could be listed here.  A wide variety of vendors, network managers,

    '
- title: and other experts from the Internet community graciously contributed
  contents:
  - 'and other experts from the Internet community graciously contributed

    '
- title: their time and wisdom to improve the quality of this memo.  The editor
  contents:
  - 'their time and wisdom to improve the quality of this memo.  The editor

    '
- title: wishes to extend sincere thanks to all of them.
  contents:
  - 'wishes to extend sincere thanks to all of them.

    '
- title: The current editor also wishes to single out and extend his heartfelt
  contents:
  - 'The current editor also wishes to single out and extend his heartfelt

    '
- title: gratitude and appreciation to the original editor of this document;
  contents:
  - 'gratitude and appreciation to the original editor of this document;

    '
- title: Philip Almquist.  Without Philip's work, both as the original editor and
  contents:
  - 'Philip Almquist.  Without Philip''s work, both as the original editor and

    '
- title: as the Chair of the working group, this document would not have been
  contents:
  - 'as the Chair of the working group, this document would not have been

    '
- title: produced.
  contents:
  - 'produced.

    '
- title: Philip Almquist, Jeffrey Burgan, Frank Kastenholz, and Cathy Wittbrodt
  contents:
  - 'Philip Almquist, Jeffrey Burgan, Frank Kastenholz, and Cathy Wittbrodt

    '
- title: each wrote major chapters of this memo.  Others who made major
  contents:
  - 'each wrote major chapters of this memo.  Others who made major

    '
- title: contributions to the document included Bill Barns, Steve Deering, Kent
  contents:
  - 'contributions to the document included Bill Barns, Steve Deering, Kent

    '
- title: England, Jim Forster, Martin Gross, Jeff Honig, Steve Knowles, Yoni
  contents:
  - 'England, Jim Forster, Martin Gross, Jeff Honig, Steve Knowles, Yoni

    '
- title: Malachi, Michael Reilly, and Walt Wimer.
  contents:
  - 'Malachi, Michael Reilly, and Walt Wimer.

    '
- title: Additional text came from Art Berggreen, John Cavanaugh, Ross Callon,
  contents:
  - 'Additional text came from Art Berggreen, John Cavanaugh, Ross Callon,

    '
- title: John Lekashman, Brian Lloyd, Gary Malkin, Milo Medin, John Moy, Craig
  contents:
  - 'John Lekashman, Brian Lloyd, Gary Malkin, Milo Medin, John Moy, Craig

    '
- title: Partridge, Stephanie Price, Yakov Rekhter, Steve Senum, Richard Smith,
  contents:
  - 'Partridge, Stephanie Price, Yakov Rekhter, Steve Senum, Richard Smith,

    '
- title: Frank Solensky, Rich Woundy, and others who have been inadvertently
  contents:
  - 'Frank Solensky, Rich Woundy, and others who have been inadvertently

    '
- title: overlooked.
  contents:
  - 'overlooked.

    '
- title: Some of the text in this memo has been (shamelessly) plagiarized from
  contents:
  - 'Some of the text in this memo has been (shamelessly) plagiarized from

    '
- title: earlier documents, most notably RFC-1122 by Bob Braden and the Host
  contents:
  - 'earlier documents, most notably RFC-1122 by Bob Braden and the Host

    '
- title: Requirements Working Group, and RFC-1009 by Bob Braden and Jon Postel.
  contents:
  - 'Requirements Working Group, and RFC-1009 by Bob Braden and Jon Postel.

    '
- title: The work of these earlier authors is gratefully acknowledged.
  contents:
  - 'The work of these earlier authors is gratefully acknowledged.

    '
- title: Jim Forster was a co-chair of the Router Requirements Working Group
  contents:
  - 'Jim Forster was a co-chair of the Router Requirements Working Group

    '
- title: during its early meetings, and was instrumental in getting the group off
  contents:
  - 'during its early meetings, and was instrumental in getting the group off

    '
- title: to a good start.  Jon Postel, Bob Braden, and Walt Prue also contributed
  contents:
  - 'to a good start.  Jon Postel, Bob Braden, and Walt Prue also contributed

    '
- title: to the success by providing a wealth of good advice prior to the group's
  contents:
  - 'to the success by providing a wealth of good advice prior to the group''s

    '
- title: first meeting.  Later on, Phill Gross, Vint Cerf, and Noel Chiappa all
  contents:
  - 'first meeting.  Later on, Phill Gross, Vint Cerf, and Noel Chiappa all

    '
- title: provided valuable advice and support.
  contents:
  - 'provided valuable advice and support.

    '
- title: Mike St. Johns coordinated the Working Group's interactions with the
  contents:
  - 'Mike St. Johns coordinated the Working Group''s interactions with the

    '
- title: security community, and Frank Kastenholz coordinated the Working Group's
  contents:
  - 'security community, and Frank Kastenholz coordinated the Working Group''s

    '
- title: interactions with the network management area.  Allison Mankin and K.K.
  contents:
  - 'interactions with the network management area.  Allison Mankin and K.K.

    '
- title: Ramakrishnan provided expertise on the issues of congestion control and
  contents:
  - 'Ramakrishnan provided expertise on the issues of congestion control and

    '
- title: resource allocation.
  contents:
  - 'resource allocation.

    '
- title: Many more people than could possibly be listed or credited here
  contents:
  - 'Many more people than could possibly be listed or credited here

    '
- title: participated in the deliberations of the Router Requirements Working
  contents:
  - 'participated in the deliberations of the Router Requirements Working

    '
- title: Group, either through electronic mail or by attending meetings.
  contents:
  - 'Group, either through electronic mail or by attending meetings.

    '
- title: However, the efforts of Ross Callon and Vince Fuller in sorting out the
  contents:
  - 'However, the efforts of Ross Callon and Vince Fuller in sorting out the

    '
- title: difficult issues of route choice and route leaking are especially
  contents:
  - 'difficult issues of route choice and route leaking are especially

    '
- title: acknowledged.
  contents:
  - 'acknowledged.

    '
- title: The previous editor, Philip Almquist, wishes to extend his thanks and
  contents:
  - 'The previous editor, Philip Almquist, wishes to extend his thanks and

    '
- title: appreciation to his former employers, Stanford University and BARRNet,
  contents:
  - 'appreciation to his former employers, Stanford University and BARRNet,

    '
- title: for allowing him to spend a large fraction (probably far more than they
  contents:
  - 'for allowing him to spend a large fraction (probably far more than they

    '
- title: ever imagined when he started on this) of his time working on this
  contents:
  - 'ever imagined when he started on this) of his time working on this

    '
- title: project.
  contents:
  - 'project.

    '
- title: The current editor wishes to thank his employer, FTP Software, for
  contents:
  - 'The current editor wishes to thank his employer, FTP Software, for

    '
- title: allowing him to spend the time necessary to finish this document.
  contents:
  - 'allowing him to spend the time necessary to finish this document.

    '
- title: Editor's Address
  contents:
  - 'Editor''s Address

    '
- title: The address of the current editor of this document is
  contents:
  - "The address of the current editor of this document is\n   Frank J. Kastenholz\n\
    \   FTP Software\n   2 High Street\n   North Andover, MA, 01845-2620\n   USA\n\
    \   Phone: +1 508-685-4000\n   EMail: kasten@ftp.com\n"
