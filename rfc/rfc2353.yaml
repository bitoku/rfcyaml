- title: __initial_text__
  contents:
  - "                        APPN/HPR in IP Networks\n           APPN Implementers'\
    \ Workshop Closed Pages Document\n"
- title: Status of this Memo
  contents:
  - "Status of this Memo\n   This memo provides information for the Internet community.\
    \  It does\n   not specify an Internet standard of any kind.  Distribution of\
    \ this\n   memo is unlimited.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (C) The Internet Society (1998).  All Rights Reserved.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1.0  Introduction  . . . . . . . . . . . . . . . . . .\
    \ . . . . .   2\n   1.1  Requirements  . . . . . . . . . . . . . . . . . . . .\
    \ . . .   3\n   2.0  IP as a Data Link Control (DLC) for HPR   . . . . . . . .\
    \ .   3\n   2.1  Use of UDP and IP   . . . . . . . . . . . . . . . . . . . . \
    \  4\n   2.2  Node Structure  . . . . . . . . . . . . . . . . . . . . . .   5\n\
    \   2.3  Logical Link Control (LLC) Used for IP  . . . . . . . . . .   8\n   \
    \  2.3.1  LDLC Liveness   . . . . . . . . . . . . . . . . . . . .   8\n      \
    \ 2.3.1.1  Option to Reduce Liveness Traffic   . . . . . . . .   9\n   2.4  IP\
    \ Port Activation  . . . . . . . . . . . . . . . . . . . .  10\n     2.4.1  Maximum\
    \ BTU Sizes for HPR/IP  . . . . . . . . . . . . .  12\n   2.5  IP Transmission\
    \ Groups (TGs)  . . . . . . . . . . . . . . .  12\n     2.5.1  Regular TGs   .\
    \ . . . . . . . . . . . . . . . . . . . .  12\n       2.5.1.1  Limited Resources\
    \ and Auto-Activation   . . . . . .  19\n     2.5.2  IP Connection Networks  .\
    \ . . . . . . . . . . . . . . .  19\n       2.5.2.1  Establishing IP Connection\
    \ Networks   . . . . . . .  20\n       2.5.2.2  IP Connection Network Parameters\
    \  . . . . . . . . .  22\n       2.5.2.3  Sharing of TGs  . . . . . . . . . .\
    \ . . . . . . . .  24\n       2.5.2.4  Minimizing RSCV Length  . . . . . . . .\
    \ . . . . . .  25\n     2.5.3  XID Changes   . . . . . . . . . . . . . . . . .\
    \ . . . .  26\n     2.5.4  Unsuccessful IP Link Activation   . . . . . . . . .\
    \ . .  30\n   2.6  IP Throughput Characteristics   . . . . . . . . . . . . . .\
    \  34\n     2.6.1  IP Prioritization   . . . . . . . . . . . . . . . . . .  34\n\
    \     2.6.2  APPN Transmission Priority and COS  . . . . . . . . . .  36\n   \
    \  2.6.3  Default TG Characteristics  . . . . . . . . . . . . . .  36\n     2.6.4\
    \  SNA-Defined COS Tables  . . . . . . . . . . . . . . . .  38\n     2.6.5  Route\
    \ Setup over HPR/IP links   . . . . . . . . . . . .  39\n     2.6.6  Access Link\
    \ Queueing  . . . . . . . . . . . . . . . . .  39\n   2.7  Port Link Activation\
    \ Limits   . . . . . . . . . . . . . . .  40\n   2.8  Network Management  . .\
    \ . . . . . . . . . . . . . . . . . .  40\n   2.9  IPv4-to-IPv6 Migration  . .\
    \ . . . . . . . . . . . . . . . .  41\n   3.0  References  . . . . . . . . . .\
    \ . . . . . . . . . . . . . .  42\n   4.0  Security Considerations   . . . . .\
    \ . . . . . . . . . . . .  43\n   5.0  Author's Address  . . . . . . . . . . .\
    \ . . . . . . . . . .  44\n   6.0  Appendix - Packet Format  . . . . . . . . .\
    \ . . . . . . . .  45\n   6.1  HPR Use of IP Formats   . . . . . . . . . . . .\
    \ . . . . . .  45\n     6.1.1  IP Format for LLC Commands and Responses  . . .\
    \ . . . .  45\n     6.1.2  IP Format for NLPs in UI Frames   . . . . . . . . .\
    \ . .  46\n   7.0  Full Copyright Statement  . . . . . . . . . . . . . . . . .\
    \  48\n"
- title: 1.0  Introduction
  contents:
  - "1.0  Introduction\n   The APPN Implementers' Workshop (AIW) is an industry-wide\
    \ consortium\n   of networking vendors that develops Advanced Peer-to-Peer\n \
    \  Networking(R) (APPN(R)) standards and other standards related to\n   Systems\
    \ Network Architecture (SNA), and facilitates high quality,\n   fully interoperable\
    \ APPN and SNA internetworking products.  The AIW\n   approved Closed Pages (CP)\
    \ status for the architecture in this\n   document on December 2, 1997, and, as\
    \ a result, the architecture was\n   added to the AIW architecture of record.\
    \  A CP-level document is\n   sufficiently detailed that implementing products\
    \ will be able to\n   interoperate; it contains a clear and complete specification\
    \ of all\n   necessary changes to the architecture of record.  However, the AIW\n\
    \   has procedures by which the architecture may be modified, and the AIW\n  \
    \ is open to suggestions from the internet community.\n   The architecture for\
    \ APPN nodes is specified in \"Systems Network\n   Architecture Advanced Peer-to-Peer\
    \ Networking Architecture Reference\"\n   [1].  A set of APPN enhancements for\
    \ High Performance Routing (HPR)\n   is specified in \"Systems Network Architecture\
    \ Advanced Peer-to-Peer\n   Networking High Performance Routing Architecture Reference,\
    \ Version\n   3.0\" [2].  The formats associated with these architectures are\n\
    \   specified in \"Systems Network Architecture Formats\" [3].  This memo\n  \
    \ assumes the reader is familiar with these specifications.\n   This memo defines\
    \ a method with which HPR nodes can use IP networks\n   for communication, and\
    \ the enhancements to APPN required by this\n   method.  This memo also describes\
    \ an option set that allows the use\n   of the APPN connection network model to\
    \ allow HPR nodes to use IP\n   networks for communication without having to predefine\
    \ link\n   connections.\n   (R) 'Advanced Peer-to-Peer Networking' and 'APPN'\
    \ are trademarks of\n   the IBM Corporation.\n"
- title: 1.1  Requirements
  contents:
  - "1.1  Requirements\n   The following are the requirements for the architecture\
    \ specified in\n   this memo:\n   1.  Facilitate APPN product interoperation in\
    \ IP networks by\n       documenting agreements such as the choice of the logical\
    \ link\n       control (LLC).\n   2.  Reduce system definition (e.g., by extending\
    \ the connection\n       network model to IP networks) -- Connection network support\
    \ is an\n       optional function.\n   3.  Use class of service (COS) to retain\
    \ existing path selection and\n       transmission priority services in IP networks;\
    \ extend\n       transmission priority function to include IP networks.\n   4.\
    \  Allow customers the flexibility to design their networks for low\n       cost\
    \ and high performance.\n   5.  Use HPR functions to improve both availability\
    \ and scalability\n       over existing integration techniques such as Data Link\
    \ Switching\n       (DLSw) which is specified in RFC 1795 [4] and RFC 2166 [5].\n"
- title: 2.0  IP as a Data Link Control (DLC) for HPR
  contents:
  - "2.0  IP as a Data Link Control (DLC) for HPR\n   This memo specifies the use\
    \ of IP and UDP as a new DLC that can be\n   supported by APPN nodes with the\
    \ three HPR option sets:  HPR (option\n   set 1400), Rapid Transport Protocol\
    \ (RTP) (option set 1401), and\n   Control Flows over RTP (option set 1402). \
    \ Logical Data Link Control\n   (LDLC) Support (option set 2006) is also a prerequisite.\n\
    \   RTP is a connection-oriented, full-duplex protocol designed to\n   transport\
    \ data in high-speed networks.  HPR uses RTP connections to\n   transport SNA\
    \ session traffic.  RTP provides reliability (i.e., error\n   recovery via selective\
    \ retransmission), in-order delivery (i.e., a\n   first-in-first-out [FIFO] service\
    \ provided by resequencing data that\n   arrives out of order), and adaptive rate-based\
    \ (ARB) flow/congestion\n   control. Because RTP provides these functions on an\
    \ end-to-end basis,\n   it eliminates the need for these functions on the link\
    \ level along\n   the path of the connection.  The result is improved overall\n\
    \   performance for HPR.  For a more complete description of RTP, see\n   Appendix\
    \ F of [2].\n   This new DLC (referred to as the native IP DLC) allows customers\
    \ to\n   take advantage of APPN/HPR functions such as class of service (COS)\n\
    \   and ARB flow/congestion control in the IP environment.  HPR links\n   established\
    \ over the native IP DLC are referred to as HPR/IP links.\n   The following sections\
    \ describe in detail the considerations and\n   enhancements associated with the\
    \ native IP DLC.\n"
- title: 2.1  Use of UDP and IP
  contents:
  - "2.1  Use of UDP and IP\n   The native IP DLC will use the User Datagram Protocol\
    \ (UDP) defined\n   in RFC 768 [6] and the Internet Protocol (IP) version 4 defined\
    \ in\n   RFC 791 [7].\n   Typically, access to UDP is provided by a sockets API.\
    \  UDP provides\n   an unreliable connectionless delivery service using IP to\
    \ transport\n   messages between nodes.  UDP has the ability to distinguish among\n\
    \   multiple destinations within a given node, and allows port-number-\n   based\
    \ prioritization in the IP network.  UDP provides detection of\n   corrupted packets,\
    \ a function required by HPR.  Higher-layer\n   protocols such as HPR are responsible\
    \ for handling problems of\n   message loss, duplication, delay, out-of-order\
    \ delivery, and loss of\n   connectivity.  UDP is adequate because HPR uses RTP\
    \ to provide end-\n   to-end error recovery and in-order delivery; in addition,\
    \ LDLC\n   detects loss of connectivity.  The Transmission Control Protocol\n\
    \   (TCP) was not chosen for the native IP DLC because the additional\n   services\
    \ provided by TCP such as error recovery are not needed.\n   Furthermore, the\
    \ termination of TCP connections would require\n   additional node resources (control\
    \ blocks, buffers, timers, and\n   retransmit queues) and would, thereby, reduce\
    \ the scalability of the\n   design.\n   The UDP header has four two-byte fields.\
    \  The UDP Destination Port is\n   a 16-bit field that contains the UDP protocol\
    \ port number used to\n   demultiplex datagrams at the destination.  The UDP Source\
    \ Port is a\n   16-bit field that contains the UDP protocol port number that\n\
    \   specifies the port to which replies should be sent when other\n   information\
    \ is not available.  A zero setting indicates that no\n   source port number information\
    \ is being provided.  When used with the\n   native IP DLC, this field is not\
    \ used to convey a port number for\n   replies; moreover, the zero setting is\
    \ not used.  IANA has registered\n   port numbers 12000 through 12004 for use\
    \ in these two fields by the\n   native IP DLC; use of these port numbers allows\
    \ prioritization in the\n   IP network.  For more details of the use of these\
    \ fields, see 2.6.1,\n   \"IP Prioritization\" on page 28.\n   The UDP Checksum\
    \ is a 16-bit optional field that provides coverage of\n   the UDP header and\
    \ the user data; it also provides coverage of a\n   pseudo-header that contains\
    \ the source and destination IP addresses.\n   The UDP checksum is used to guarantee\
    \ that the data has arrived\n   intact at the intended receiver.  When the UDP\
    \ checksum is set to\n   zero, it indicates that the checksum was not calculated\
    \ and should\n   not be checked by the receiver.  Use of the checksum is recommended\n\
    \   for use with the native IP DLC.\n   IP provides an unreliable, connectionless\
    \ delivery mechanism.  The IP\n   protocol defines the basic unit of data transfer\
    \ through the IP\n   network, and performs the routing function (i.e., choosing\
    \ the path\n   over which data will be sent).  In addition, IP characterizes how\n\
    \   \"hosts\" and \"gateways\" should process packets, the circumstances\n   under\
    \ which error messages are generated, and the conditions under\n   which packets\
    \ are discarded.  An IP version 4 header contains an 8-\n   bit Type of Service\
    \ field that specifies how the datagram should be\n   handled.  As defined in\
    \ RFC 1349 [8], the type-of-service byte\n   contains two defined fields.  The\
    \ 3-bit precedence field allows\n   senders to indicate the priority of each datagram.\
    \  The 4-bit type of\n   service field indicates how the network should make tradeoffs\
    \ between\n   throughput, delay, reliability, and cost.  The 8-bit Protocol field\n\
    \   specifies which higher-level protocol created the datagram.  When\n   used\
    \ with the native IP DLC, this field is set to 17 which indicates\n   the higher-layer\
    \ protocol is UDP.\n"
- title: 2.2  Node Structure
  contents:
  - "2.2  Node Structure\n   Figure 1 on page 6 shows a possible node functional decomposition\
    \ for\n   transport of HPR traffic across an IP network.  There will be\n   variations\
    \ in different platforms based on platform characteristics.\n   The native IP\
    \ DLC includes a DLC manager, one LDLC component for each\n   link, and a link\
    \ demultiplexor.  Because UDP is a connectionless\n   delivery service, there\
    \ is no need for HPR to activate and deactivate\n   lower-level connections.\n\
    \   The DLC manager activates and deactivates a link demultiplexor for\n   each\
    \ port and an instance of LDLC for each link established in an IP\n   network.\
    \  Multiple links (e.g., one defined link and one dynamic link\n   for connection\
    \ network traffic) may be established between a pair of\n   IP addresses.  Each\
    \ link is identified by the source and destination\n   IP addresses in the IP\
    \ header and the source and destination service\n   access point (SAP) addresses\
    \ in the IEEE 802.2 LLC header (see 6.0,\n   \"Appendix - Packet Format\" on page\
    \ 37); the link demultiplexor passes\n   incoming packets to the correct instance\
    \ of LDLC based on these\n   identifiers.  Moreover, the IP address pair associated\
    \ with an active\n   link and used in the IP header may not change.\n   LDLC also\
    \ provides other functions (for example, reliable delivery of\n   Exchange Identification\
    \ [XID] commands).  Error recovery for HPR RTP\n   packets is provided by the\
    \ protocols between the RTP endpoints.\n   The network control layer (NCL) uses\
    \ the automatic network routing\n   (ANR) information in the HPR network header\
    \ to either pass incoming\n   packets to RTP or an outgoing link.\n   All components\
    \ are shown as single entities, but the number of\n   logical instances of each\
    \ is as follows:\n   o   DLC manager -- 1 per node\n   o   LDLC -- 1 per link\n\
    \   o   Link demultiplexor -- 1 per port\n   o   NCL -- 1 per node (or 1 per port\
    \ for efficiency)\n   o   RTP -- 1 per RTP connection\n   o   UDP -- 1 per port\n\
    \   o   IP -- 1 per port\n   Products are free to implement other structures.\
    \  Products\n   implementing other structures will need to make the appropriate\n\
    \   modifications to the algorithms and protocol boundaries shown in this\n  \
    \ document.\n   --------------------------------------------------------------------\n\
    \                                         -*\n      *-------------*       *-------*\
    \     |\n      |Configuration|       | Path  |     |\n      |   Services  |  \
    \     |Control|     |\n      *-------------*       *-------*     |\n         \
    \   A A                 A         |\n            | |                 |       \
    \  |\n            | |                 V         |\n            | |           \
    \   *-----*      | APPN/HPR\n            | |              | RTP |      |\n   \
    \         | |              *-----*      |\n            | |                 A \
    \        |\n            | |                 |         |\n            | |     \
    \            V         |\n            | |              *-----*      |\n      \
    \      | |              | NCL |      |\n            | |              *-----* \
    \     |\n            | *------------*    A        -*\n            |          \
    \    |    |\n            V              V    V        -*\n          *---------*\
    \    *---------*      |\n          |   DLC   |--->|  LDLC   |      |\n       \
    \   | manager |    |         |      |\n          *---------*    *---------*  \
    \    |\n               |              A |         | IP DLC\n               *-----------*\
    \  | *----*    |\n                           V  |      |    |\n              \
    \           *---------* |    |\n                         |  LINK   | |    |\n\
    \                         |  DEMUX  | |    |\n                         *---------*\
    \ |    |\n                              A    *-*   -*\n                      \
    \        |    |\n                              |    V\n                      \
    \     *---------*\n                           |   UDP   |\n                  \
    \         *---------*\n                                A\n                   \
    \             |\n                                V\n                         \
    \  *---------*\n                           |   IP    |\n                     \
    \      *---------*\n   --------------------------------------------------------------------\n\
    \                      Figure 1. HPR/IP Node Structure\n"
- title: 2.3  Logical Link Control (LLC) Used for IP
  contents:
  - "2.3  Logical Link Control (LLC) Used for IP\n   Logical Data Link Control (LDLC)\
    \ is used by the native IP DLC.  LDLC\n   is defined in [2].  LDLC uses a subset\
    \ of the services defined by\n   IEEE 802.2 LLC type 2 (LLC2).  LDLC uses only\
    \ the TEST, XID, DISC,\n   DM, and UI frames.\n   LDLC was defined to be used\
    \ in conjunction with HPR (with the HPR\n   Control Flows over RTP option set\
    \ 1402) over reliable links that do\n   not require link-level error recovery.\
    \  Most frame loss in IP\n   networks (and the underlying frame networks) is due\
    \ to congestion,\n   not problems with the facilities.  When LDLC is used on a\
    \ link, no\n   link-level error recovery is available; as a result, only RTP traffic\n\
    \   is supported by the native IP DLC.  Using LDLC eliminates the need\n   for\
    \ LLC2 and its associated cost (adapter storage, longer path\n   length, etc.).\n"
- title: 2.3.1  LDLC Liveness
  contents:
  - "2.3.1  LDLC Liveness\n   LDLC liveness (using the LDLC TEST command and response)\
    \ is required\n   when the underlying subnetwork does not provide notification\
    \ of\n   connection outage.  Because UDP is connectionless, it does not\n   provide\
    \ outage notification; as a result, LDLC liveness is required\n   for HPR/IP links.\n\
    \   Liveness should be sent periodically on active links except as\n   described\
    \ in the following subsection when the option to reduce\n   liveness traffic is\
    \ implemented.  The default liveness timer period\n   is 10 seconds.  When the\
    \ defaults for the liveness timer and retry\n   timer (15 seconds) are used, the\
    \ period between liveness tests is\n   smaller than the time required to detect\
    \ failure (retry count\n   multiplied by retry timer period) and may be smaller\
    \ than the time\n   for liveness to complete successfully (on the order of round-trip\n\
    \   delay).  When liveness is implemented as specified in the LDLC\n   finite-state\
    \ machine (see [2]) this is not a problem because the\n   liveness protocol works\
    \ as follows:  The liveness timer is for a\n   single link.  The timer is started\
    \ when the link is first activated\n   and each time a liveness test completes\
    \ successfully.  When the timer\n   expires, a liveness test is performed.  When\
    \ the link is operational,\n   the period between liveness tests is on the order\
    \ of the liveness\n   timer period plus the round-trip delay.\n   For each implementation,\
    \ it is necessary to check if the liveness\n   protocol will work in a satisfactory\
    \ manner with the default settings\n   for the liveness and retry timers.  If,\
    \ for example, the liveness\n   timer is restarted immediately upon expiration,\
    \ then a different\n   default for the liveness timer should be used.\n"
- title: 2.3.1.1  Option to Reduce Liveness Traffic
  contents:
  - "2.3.1.1  Option to Reduce Liveness Traffic\n   In some environments, it is advantageous\
    \ to reduce the amount of\n   liveness traffic when the link is otherwise idle.\
    \  (For example, this\n   could allow underlying facilities to be temporarily\
    \ deactivated when\n   not needed.)  As an option, implementations may choose\
    \ not to send\n   liveness when the link is idle (i.e., when data was neither\
    \ sent nor\n   received over the link while the liveness timer was running). \
    \ (If\n   the implementation is not aware of whether data has been received,\n\
    \   liveness testing may be stopped while data is not being sent.)\n   However,\
    \ the RTP connections also have a liveness mechanism which\n   will generate traffic.\
    \  Some implementations of RTP will allow\n   setting a large value for the ALIVE\
    \ timer, thus reducing the amount\n   of RTP liveness traffic.\n   If LDLC liveness\
    \ is turned off while the link is idle, one side of\n   the link may detect a\
    \ link failure much earlier than the other.  This\n   can cause the following\
    \ problems:\n   o   If a node that is aware of a link failure attempts to reactivate\n\
    \       the link, the partner node (unaware of the link failure) may\n       reject\
    \ the activation as an unsupported parallel link between the\n       two ports.\n\
    \   o   If a node that is unaware of an earlier link failure sends data\n    \
    \   (including new session activations) on the link, it may be\n       discarded\
    \ by a node that detected the earlier failure and\n       deactivated the link.\
    \  As a result, session activations would\n       fail.\n   The mechanisms described\
    \ below can be used to remedy these problems.\n   These mechanisms are needed\
    \ only in a node not sending liveness when\n   the link is idle; thus, they would\
    \ not be required of a node not\n   implementing this option that just happened\
    \ to be adjacent to a node\n   implementing the option.\n   o   (Mandatory unless\
    \ the node supports multiple active defined links\n       between a pair of HPR/IP\
    \ ports and supports multiple active\n       dynamic links between a pair of HPR/IP\
    \ ports.)  Anytime a node\n       rejects the activation of an HPR/IP link as\
    \ an unsupported\n       parallel link between a pair of HPR/IP ports (sense data\n\
    \       X'10160045' or X'10160046'), it should perform liveness on any\n     \
    \  active link between the two ports that is using a different SAP\n       pair.\
    \  Thus, if the activation was not for a parallel link but\n       rather was\
    \ a reactivation because one of these active links had\n       failed, the failed\
    \ link will be detected.  (If the SAP pair for\n       the link being activated\
    \ matches the SAP pair for an active link,\n       a liveness test would succeed\
    \ because the adjacent node would\n       respond for the link being activated.)\
    \  A simple way to implement\n       this function is for LDLC, upon receiving\
    \ an activation XID, to\n       run liveness on all active links with a matching\
    \ IP address pair\n       and a different SAP pair.\n   o   (Mandatory) Anytime\
    \ a node receives an activation XID with an IP\n       address pair and a SAP\
    \ pair that match those of an active link,\n       it should deactivate the active\
    \ link and allow it to be\n       reestablished.  A timer is required to prevent\
    \ stray XIDs from\n       deactivating an active link.\n   o   (Recommended) A\
    \ node should attempt to reactivate an HPR/IP link\n       before acting on an\
    \ LDLC-detected failure.  This mechanism is\n       helpful in preventing session\
    \ activation failures in scenarios\n       where the other side detected a link\
    \ failure earlier, but the\n       network has recovered.\n"
- title: 2.4  IP Port Activation
  contents:
  - "2.4  IP Port Activation\n   The node operator (NO) creates a native IP DLC by\
    \ issuing\n   DEFINE_DLC(RQ) (containing customer-configured parameters) and\n\
    \   START_DLC(RQ) commands to the node operator facility (NOF).  NOF, in\n   turn,\
    \ passes DEFINE_DLC(RQ) and START_DLC(RQ) signals to\n   configuration services\
    \ (CS), and CS creates the DLC manager.  Then,\n   the node operator can define\
    \ a port by issuing DEFINE_PORT(RQ) (also\n   containing customer-configured parameters)\
    \ to NOF with NOF passing\n   the associated signal to CS.\n   A node with adapters\
    \ attached to multiple IP subnetworks may\n   represent the multiple adapters\
    \ as a single HPR/IP port.  However, in\n   that case, the node associates a single\
    \ IP address with that port.\n   RFC 1122 [9] requires that a node with multiple\
    \ adapters be able to\n   use the same source IP address on outgoing UDP packets\
    \ regardless of\n   the adapter used for transmission.\n     *----------------------------------------------*\n\
    \     |  NOF                CS                  DLC  |\n     *----------------------------------------------*\n\
    \         . DEFINE_DLC(RQ)   .\n   1     o----------------->o\n         . DEFINE_DLC(RSP)\
    \  |\n   2     o<-----------------*\n         . START_DLC(RQ)    .      create\n\
    \   3     o----------------->o------------------->o\n         . START_DLC(RSP)\
    \   |                    .\n   4     o<-----------------*                    .\n\
    \         . DEFINE_PORT(RQ)  .                    .\n   5     o----------------->o\
    \                    .\n         . DEFINE_PORT(RSP) |                    .\n \
    \  6     o<-----------------*                    .\n             Figure 2. IP\
    \ Port Activation\n   The following parameters are received in DEFINE_PORT(RQ):\n\
    \   o   Port name\n   o   DLC name\n   o   Port type (if IP connection networks\
    \ are supported, set to shared\n       access transport facility [SATF]; otherwise,\
    \ set to switched)\n   o   Link station role (set to negotiable)\n   o   Maximum\
    \ receive BTU size (default is 1461 [1492 less an allowance\n       for the IP,\
    \ UDP, and LLC headers])\n   o   Maximum send BTU size (default is 1461 [1492\
    \ less an allowance\n       for the IP, UDP, and LLC headers])\n   o   Link activation\
    \ limits (total, inbound, and outbound)\n   o   IPv4 supported (set to yes)\n\
    \   o   The local IPv4 address (required if IPv4 is supported)\n   o   IPv6 supported\
    \ (set to no; may be set to yes in the future; see\n       2.9, \"IPv4-to-IPv6\
    \ Migration\" on page 35)\n   o   The local IPv6 address (required if IPv6 is\
    \ supported)\n   o   Retry count for LDLC (default is 3)\n   o   Retry timer period\
    \ for LDLC (default is 15 seconds; a smaller\n       value such as 10 seconds\
    \ can be used for a campus network)\n   o   LDLC liveness timer period (default\
    \ is 10 seconds; see 2.3.1,\n       \"LDLC Liveness\" on page 7)\n   o   IP precedence\
    \ (the setting of the 3-bit field within the Type of\n       Service byte of the\
    \ IP header for the LLC commands such as XID\n       and for each of the APPN\
    \ transmission priorities; the defaults\n       are given in 2.6.1, \"IP Prioritization\"\
    \ on page 28.)\n"
- title: 2.4.1  Maximum BTU Sizes for HPR/IP
  contents:
  - "2.4.1  Maximum BTU Sizes for HPR/IP\n   When IP datagrams are larger than the\
    \ underlying physical links\n   support, IP performs fragmentation.  When HPR/IP\
    \ links are\n   established, the default maximum basic transmission unit (BTU)\
    \ sizes\n   are 1461 bytes, which corresponds to the typical IP maximum\n   transmission\
    \ unit (MTU) size of 1492 bytes supported by routers on\n   token-ring networks.\
    \  1461 is 1492 less 20 bytes for the IP header, 8\n   bytes for the UDP header,\
    \ and 3 bytes for the IEEE 802.2 LLC header.\n   The IP header is larger than\
    \ 20 bytes when optional fields are\n   included; smaller maximum BTU sizes should\
    \ be configured if optional\n   IP header fields are used in the IP network. \
    \ For IPv6, the default\n   is reduced to 1441 bytes to allow for the typical\
    \ IPv6 header size of\n   40 bytes.  Smaller maximum BTU sizes (but not less than\
    \ 768) should\n   be used to avoid fragmentation when necessary.  Larger BTU sizes\n\
    \   should be used to improve performance when the customer's IP network\n   supports\
    \ a sufficiently large IP MTU size.  The maximum receive and\n   send BTU sizes\
    \ are passed to CS in DEFINE_PORT(RQ).  These maximum\n   BTU sizes can be overridden\
    \ in DEFINE_CN_TG(RQ) or DEFINE_LS(RQ).\n   The Flags field in the IP header should\
    \ be set to allow\n   fragmentation.  Some products will not be able to control\
    \ the setting\n   of the bit allowing fragmentation; in that case, fragmentation\
    \ will\n   most likely be allowed.  Although fragmentation is slow and prevents\n\
    \   prioritization based on UDP port numbers, it does allow connectivity\n   across\
    \ paths with small MTU sizes.\n"
- title: 2.5  IP Transmission Groups (TGs)
  contents:
  - '2.5  IP Transmission Groups (TGs)

    '
- title: 2.5.1  Regular TGs
  contents:
  - "2.5.1  Regular TGs\n   Regular HPR TGs may be established in IP networks using\
    \ the native IP\n   DLC architecture.  Each of these TGs is composed of one or\
    \ more\n   HPR/IP links.  Configuration services (CS) identifies the TG with the\n\
    \   destination control point (CP) name and TG number; the destination CP\n  \
    \ name may be configured or learned via XID, and the TG number, which\n   may\
    \ be configured, is negotiated via XID.  For auto-activatable\n   links, the destination\
    \ CP name and TG number must be configured.\n   When multiple links (dynamic or\
    \ defined) are established between a\n   pair of IP ports (each associated with\
    \ a single IP address), an\n   incoming packet can be mapped to its associated\
    \ link using the IP\n   address pair and the service access point (SAP) address\
    \ pair.  If a\n   node receives an activation XID for a defined link with an IP\
    \ address\n   pair and a SAP pair that are the same as for an active defined link,\n\
    \   that node can assume that the link has failed and that the partner\n   node\
    \ is reactivating the link.  In such a case as an optimization,\n   the node receiving\
    \ the XID can take down the active link and allow\n   the link to be reestablished\
    \ in the IP network.  Because UDP packets\n   can arrive out of order, implementation\
    \ of this optimization requires\n   the use of a timer to prevent a stray XID\
    \ from deactivating an active\n   link.\n   Support for multiple defined links\
    \ between a pair of HPR/IP ports is\n   optional.  There is currently no value\
    \ in defining multiple HPR/IP\n   links between a pair of ports.  In the future\
    \ if HPR/IP support for\n   the Resource ReSerVation Protocol (RSVP) [10] is defined,\
    \ it may be\n   advantageous to define such parallel links to segregate traffic\
    \ by\n   COS on RSVP \"sessions.\"  Using RSVP, HPR would be able to reserve\n\
    \   bandwidth in IP networks.  An HPR logical link would be mapped to an\n   RSVP\
    \ \"session\" that would likely be identified by either a specific\n   application-provided\
    \ UDP port number or a dynamically-assigned UDP\n   port number.\n   When multiple\
    \ defined HPR/IP links between ports are not supported,\n   an incoming activation\
    \ for a defined HPR/IP link may be rejected with\n   sense data X'10160045' if\
    \ an active defined HPR/IP link already\n   exists between the ports.  If the\
    \ SAP pair in the activation XID\n   matches the SAP pair for the existing link,\
    \ the optimization\n   described above may be used instead.\n   If parallel defined\
    \ HPR/IP links between ports are not supported, an\n   incoming activation XID\
    \ is mapped to the defined link station (if it\n   exists) associated with the\
    \ port on the adjacent node using the\n   source IP address in the incoming activation\
    \ XID.  This source IP\n   address should be the same as the destination IP address\
    \ associated\n   with the matching defined link station.  (They may not be the\
    \ same if\n   the adjacent node has multiple IP addresses, and the configuration\n\
    \   was not coordinated correctly.)\n   If parallel HPR/IP links between ports\
    \ are supported, multiple\n   defined link stations may be associated with the\
    \ port on the adjacent\n   node.  In that case, predefined TG numbers (see \"\
    Partitioning the TG\n   Number Space\" in Chapter 9 Configuration Services of\
    \ [1]) may be used\n   to map the XID to a specific link station.  However, because\
    \ the same\n   TG characteristics may be used for all HPR/IP links between a given\n\
    \   pair of ports, all the link stations associated with the port in the\n   adjacent\
    \ node should be equivalent; as a result, TG number\n   negotiation using negotiable\
    \ TG numbers may be used.\n   In the future, if multiple HPR/IP links with different\n\
    \   characteristics are defined between a pair of ports using RSVP,\n   defined\
    \ link stations will need sufficient configured information to\n   be matched\
    \ with incoming XIDs.  (Correct matching of an incoming XID\n   to a defined link\
    \ station allows CS to provide the correct TG\n   characteristics to topology\
    \ and routing services (TRS).)  At that\n   time CS will do the mapping based\
    \ on both the IP address of the\n   adjacent node and a predefined TG number.\n\
    \   The node initiating link activation knows which link it is\n   activating.\
    \  Some parameters sent in prenegotiation XID are defined\n   in the regular link\
    \ station configuration and not allowed to change\n   in following negotiation-proceeding\
    \ XIDs.  To allow for forward\n   migration to RSVP, when a regular TG is activated\
    \ in an IP network,\n   the node receiving the first XID (i.e., the node not initiating\
    \ link\n   activation) must also understand which defined link station is being\n\
    \   activated before sending a prenegotiation XID in order to correctly\n   set\
    \ parameters that cannot change.  For this reason, the node\n   initiating link\
    \ activation will indicate the TG number in\n   prenegotiation XIDs by including\
    \ a TG Descriptor (X'46') control\n   vector containing a TG Identifier (X'80')\
    \ subfield.  Furthermore, the\n   node receiving the first XID will force the\
    \ node activating the link\n   to send the first prenegotiation XID by responding\
    \ to null XIDs with\n   null XIDs.  To prevent potential deadlocks, the node receiving\
    \ the\n   first XID has a limit (the LDLC retry count can be used) on the\n  \
    \ number of null XIDs it will send.  Once this limit is reached, that\n   node\
    \ will send an XID with an XID Negotiation Error (X'22') control\n   vector in\
    \ response to a null XID; sense data X'0809003A' is included\n   in the control\
    \ vector to indicate unexpected null XID.  If the node\n   that received the first\
    \ XID receives a prenegotiation XID without the\n   TG Identifier subfield, it\
    \ will send an XID with an XID Negotiation\n   Error control vector to reject\
    \ the link connection; sense data\n   X'088C4680' is included in the control vector\
    \ to indicate the\n   subfield was missing.\n   For a regular TG, the TG parameters\
    \ are provided by the node operator\n   based on customer configuration in DEFINE_PORT(RQ)\
    \ and DEFINE_LS(RQ).\n   The following parameters are supplied in DEFINE_LS(RQ)\
    \ for HPR/IP\n   links:\n   o   The destination IP host name (this parameter can\
    \ usually be\n       mapped to the destination IP address):  If the link is not\n\
    \       activated at node initialization, the IP host name should be\n       mapped\
    \ to an IP address, and the IP address should be stored with\n       the link\
    \ station definition.  This is required to allow an\n       incoming link activation\
    \ to be matched with the link station\n       definition.  If the adjacent node\
    \ activates the link with a\n       different IP address (e.g., it could have\
    \ multiple ports), it\n       will not be possible to match the link activation\
    \ with the link\n       station definition, and the default parameters specified\
    \ in the\n       local port definition will be used.\n   o   The destination IP\
    \ version (set to version 4, support for version\n       6 may be required in\
    \ the future; this parameter is only required\n       if the address and version\
    \ cannot be determined using the\n       destination IP host name.)\n   o   The\
    \ destination IP address (in the format specified by the\n       destination IP\
    \ version; this parameter is only required if the\n       address cannot be determined\
    \ using the destination IP host name.)\n   o   Source service access point address\
    \ (SSAP) used for XID, TEST,\n       DISC, and DM (default is X'04'; other values\
    \ may be specified\n       when multiple links between a pair of IP addresses\
    \ are defined)\n   o   Destination service access point address (DSAP) used for\
    \ XID,\n       TEST, DISC, and DM (default is X'04')\n   o   Source service access\
    \ point address (SSAP) used for HPR network\n       layer packets (NLPs) (default\
    \ is X'C8'; other values may be\n       specified when multiple links between\
    \ a pair of IP addresses are\n       defined.)\n   o   Maximum receive BTU size\
    \ (default is 1461; this parameter is used\n       to override the setting in\
    \ DEFINE_PORT.)\n   o   Maximum send BTU size (default is 1461; this parameter\
    \ is used to\n       override the setting in DEFINE_PORT.)\n   o   IP precedence\
    \ (the setting of the 3-bit field within the Type of\n       Service byte of the\
    \ IP header for LLC commands such as XID and\n       for each of the APPN transmission\
    \ priorities; the defaults are\n       given in 2.6.1, \"IP Prioritization\" on\
    \ page 28; this parameter is\n       used to override the settings in DEFINE_PORT)\n\
    \   o   Shareable with connection network traffic (default is yes for\n      \
    \ non-RSVP links)\n   o   Retry count for LDLC (default is 3; this parameter is\
    \ used to\n       override the setting in DEFINE_PORT)\n   o   Retry timer period\
    \ for LDLC (default is 15 seconds; a smaller\n       value such as 10 seconds\
    \ can be used for a campus link; this\n       parameter is used to override the\
    \ setting in DEFINE_PORT)\n   o   LDLC liveness timer period (default is 10 seconds;\
    \ this parameter\n       is to override the setting in DEFINE_PORT; see 2.3.1,\
    \ \"LDLC ness\"\n       on page 7)\n   o   Auto-activation supported (default\
    \ is no; may be set to yes when\n       the local node has switched access to\
    \ the IP network)\n   o   Limited resource (default is to set in concert with\
    \ auto-\n       activation supported)\n   o   Limited resource liveness timer\
    \ (default is 45 sec.)\n   o   Port name\n   o   Adjacent CP name (optional)\n\
    \   o   Local CP-CP sessions supported\n   o   Defined TG number (optional)\n\
    \   o   TG characteristics\n   The following figures show the activation and deactivation\
    \ of regular\n   TGs.\n"
- title: '*------------------------------------------------------------------*'
  contents:
  - '*------------------------------------------------------------------*

    '
- title: '|CS              DLC             LDLC           DMUX            UDP|'
  contents:
  - '|CS              DLC             LDLC           DMUX            UDP|

    '
- title: '*------------------------------------------------------------------*'
  contents:
  - "*------------------------------------------------------------------*\n .    \
    \            .                              .               .\n .CONNECT_OUT(RQ)\
    \ .  create                      .               .\n o--------------->o-------------->o\
    \              .               .\n .                |        new LDLC        \
    \      .               .\n .                o----------------------------->o \
    \              .\n CONNECT_OUT(+RSP)|               .              .         \
    \      .\n o<---------------*               .              .               .\n\
    \ |               XID              .           XID(CMD)           . XID\n *------------------------------->o----------------------------->o----->\n\
    \               Figure 3. Regular TG Activation (outgoing)\n   In Figure 3 upon\
    \ receiving START_LS(RQ) from NOF, CS starts the link\n   activation process by\
    \ sending CONNECT_OUT(RQ) to the DLC manager.\n   The DLC manager creates an instance\
    \ of LDLC for the link, informs the\n   link demultiplexor, and sends CONNECT_OUT(+RSP)\
    \ to CS.  Then, CS\n   starts the activation XID exchange.\n"
- title: '*------------------------------------------------------------------*'
  contents:
  - '*------------------------------------------------------------------*

    '
- title: '|CS              DLC             LDLC           DMUX            UDP|'
  contents:
  - '|CS              DLC             LDLC           DMUX            UDP|

    '
- title: '*------------------------------------------------------------------*'
  contents:
  - "*------------------------------------------------------------------*\n .    \
    \            .                              .               .\n . CONNECT_IN(RQ)\
    \ .          XID(CMD)            .     XID       . XID\n o<---------------o<-----------------------------o<--------------o<-----\n\
    \ | CONNECT_IN(RSP).    create                    .               .\n *--------------->o-------------->o\
    \              .               .\n .                |          new LDLC      \
    \      .               .\n .                o----------------------------->o \
    \              .\n .                |  XID(CMD)     .              .         \
    \      .\n .                *-------------->o              .               .\n\
    \ .               XID              |              .               .\n o<-------------------------------*\
    \              .               .\n |               XID              .        \
    \    XID(RSP)          . XID\n *------------------------------->o----------------------------->o----->\n\
    \               Figure 4. Regular TG Activation (incoming)\n   In Figure 4, when\
    \ an XID is received for a new link, it is passed to\n   the DLC manager.  The\
    \ DLC manager sends CONNECT_IN(RQ) to notify CS\n   of the incoming link activation,\
    \ and CS sends CONNECT_IN(+RSP)\n   accepting the link activation.  The DLC manager\
    \ then creates a new\n   instance of LDLC, informs the link demultiplexor, and\
    \ forwards the\n   XID to to CS via LDLC.  CS then responds by sending an XID\
    \ to the\n   adjacent node.\n   The two following figures show normal TG deactivation\
    \ (outgoing and\n   incoming).\n"
- title: '*------------------------------------------------------------------*'
  contents:
  - '*------------------------------------------------------------------*

    '
- title: '|CS              DLC             LDLC           DMUX            UDP|'
  contents:
  - '|CS              DLC             LDLC           DMUX            UDP|

    '
- title: '*------------------------------------------------------------------*'
  contents:
  - "*------------------------------------------------------------------*\n .    \
    \            .               .              .               .\n .            \
    \ DEACT              .            DISC              . DISC\n o------------------------------->o----------------------------->o----->\n\
    \ .             DEACT              .       DM     .       DM      . DM\n o<-------------------------------o<-------------o<--------------o<-----\n\
    \ | DISCONNECT(RQ) .    destroy    .              .               .\n *--------------->o-------------->o\
    \              .               .\n  DISCONNECT(RSP) |                        \
    \      .               .\n o<---------------*                              . \
    \              .\n              Figure 5. Regular TG Deactivation (outgoing)\n\
    \   In Figure 5 upon receiving STOP_LS(RQ) from NOF, CS sends DEACT to\n   notify\
    \ the partner node that the HPR link is being deactivated.  When\n   the response\
    \ is received, CS sends DISCONNECT(RQ) to the DLC manager,\n   and the DLC manager\
    \ deactivates the instance of LDLC.  Upon receiving\n   DISCONNECT(RSP), CS sends\
    \ STOP_LS(RSP) to NOF.\n"
- title: '*------------------------------------------------------------------*'
  contents:
  - '*------------------------------------------------------------------*

    '
- title: '|CS              DLC             LDLC           DMUX            UDP|'
  contents:
  - '|CS              DLC             LDLC           DMUX            UDP|

    '
- title: '*------------------------------------------------------------------*'
  contents:
  - "*------------------------------------------------------------------*\n .    \
    \            .               .              .               .\n .            \
    \ DEACT              .      DISC    .      DISC     . DISC\n o<-------------------------------o<-------------o<--------------o<-----\n\
    \ |                .               |             DM               . DM\n |   \
    \             .               *----------------------------->o----->\n | DISCONNECT(RQ)\
    \ .    destroy    .              .               .\n *--------------->o-------------->o\
    \              .               .\n .DISCONNECT(RSP) |                        \
    \      .               .\n o<---------------*                              . \
    \              .\n              Figure 6. Regular TG Deactivation (incoming)\n\
    \   In Figure 6, when an adjacent node deactivates a TG, the local node\n   receives\
    \ a DISC.  CS sends STOP_LS(IND) to NOF.  Because IP is\n   connectionless, the\
    \ DLC manager is not aware that the link has been\n   deactivated.  For that reason,\
    \ CS also needs to send DISCONNECT(RQ)\n   to the DLC manager; the DLC manager\
    \ deactivates the instance of LDLC.\n"
- title: 2.5.1.1  Limited Resources and Auto-Activation
  contents:
  - "2.5.1.1  Limited Resources and Auto-Activation\n   To reduce tariff charges,\
    \ the APPN architecture supports the\n   definition of switched links as limited\
    \ resources.  A limited-\n   resource link is deactivated when there are no sessions\
    \ traversing\n   the link.  Intermediate HPR nodes are not aware of sessions between\n\
    \   logical units (referred to as LU-LU sessions) carried in crossing RTP\n  \
    \ connections; in HPR nodes, limited-resource TGs are deactivated when\n   no\
    \ traffic is detected for some period of time.  Furthermore, APPN\n   links may\
    \ be defined as auto-activatable.  Auto-activatable links are\n   activated when\
    \ a new session has been routed across the link.\n   An HPR node may have access\
    \ to an IP network via a switched access\n   link.  In such environments, it may\
    \ be advisable for customers to\n   define regular HPR/IP links as limited resources\
    \ and as being auto-\n   activatable.\n"
- title: 2.5.2  IP Connection Networks
  contents:
  - "2.5.2  IP Connection Networks\n   Connection network support for IP networks\
    \ (option set 2010), is\n   described in this section.\n   APPN architecture defines\
    \ single link TGs across the point-to-point\n   lines connecting APPN nodes. \
    \ The natural extension of this model\n   would be to define a TG between each\
    \ pair of nodes connected to a\n   shared access transport facility (SATF) such\
    \ as a LAN or IP network.\n   However, the high cost of the system definition\
    \ of such a mesh of TGs\n   is prohibitive for a network of more than a few nodes.\
    \  For that\n   reason, the APPN connection network model was devised to reduce\
    \ the\n   system definition required to establish TGs between APPN nodes.\n  \
    \ Other TGs may be defined through the SATF which are not part of the\n   connection\
    \ network.  Such TGs (referred to as regular TGs in this\n   document) are required\
    \ for sessions between control points (referred\n   to as CP-CP sessions) but\
    \ may also be used for LU-LU sessions.\n   In the connection network model, a\
    \ virtual routing node (VRN) is\n   defined to represent the SATF.  Each node\
    \ attached to the SATF\n   defines a single TG to the VRN rather than TGs to all\
    \ other attached\n   nodes.\n   Topology and routing services (TRS) specifies\
    \ that a session is to be\n   routed between two nodes across a connection network\
    \ by including the\n   connection network TGs between each of those nodes and\
    \ the VRN in the\n   Route Selection control vector (RSCV).  When a network node\
    \ has a TG\n   to a VRN, the network topology information associated with that\
    \ TG\n   includes DLC signaling information required to establish connectivity\n\
    \   to that node across the SATF.  For an end node, the DLC signaling\n   information\
    \ is returned as part of the normal directory services (DS)\n   process.  TRS\
    \ includes the DLC signaling information for TGs across\n   connection networks\
    \ in RSCVs.\n   CS creates a dynamic link station when the next hop in the RSCV\
    \ of an\n   ACTIVATE_ROUTE signal received from session services (SS) is a\n \
    \  connection network TG or when an adjacent node initiates link\n   activation\
    \ upon receiving such an ACTIVATE_ROUTE signal.  Dynamic\n   link stations are\
    \ normally treated as limited resources, which means\n   they are deactivated\
    \ when no sessions are using them.  CP-CP sessions\n   are not supported on connections\
    \ using dynamic link stations because\n   CP-CP sessions normally need to be kept\
    \ up continuously.\n   Establishment of a link across a connection network normally\
    \ requires\n   the use of CP-CP sessions to determine the destination IP address.\n\
    \   Because CP-CP sessions must flow across regular TGs, the definition\n   of\
    \ a connection network does not eliminate the need to define regular\n   TGs as\
    \ well.\n   Normally, one connection network is defined on a LAN (i.e., one VRN\n\
    \   is defined.)  For an environment with several interconnected campus\n   IP\
    \ networks, a single wide-area connection network can be defined; in\n   addition,\
    \ separate connection networks can be defined between the\n   nodes connected\
    \ to each campus IP network.\n"
- title: 2.5.2.1  Establishing IP Connection Networks
  contents:
  - "2.5.2.1  Establishing IP Connection Networks\n   Once the port is defined, a\
    \ connection network can be defined on the\n   port.  In order to support multiple\
    \ TGs from a port to a VRN, the\n   connection network is defined by the following\
    \ process:\n   1.  A connection network and its associated VRN are defined on\
    \ the\n       port.  This is accomplished by the node operator issuing a\n   \
    \    DEFINE_CONNECTION_NETWORK(RQ) command to NOF and NOF passing a\n       DEFINE_CN(RQ)\
    \ signal to CS.\n   2.  Each TG from the port to the VRN is defined by the node\
    \ operator\n       issuing DEFINE_CONNECTION_NETWORK_TG(RQ) to NOF and NOF passing\n\
    \       DEFINE_CN_TG(RQ) to CS.\n   Prior to implementation of Resource ReSerVation\
    \ Protocol (RSVP)\n   support, only one connection network TG between a port and\
    \ a VRN is\n   required.  In that case, product support for the DEFINE_CN_TG(RQ)\n\
    \   signal is not required because a single set of port configuration\n   parameters\
    \ for each connection network is sufficient.  If a NOF\n   implementation does\
    \ not support DEFINE_CN_TG(RQ), the parameters\n   listed in the following section\
    \ for DEFINE_CN_TG(RQ), are provided by\n   DEFINE_CN(RQ) instead.  Furthermore,\
    \ the Connection Network TG\n   Numbers (X'81') subfield in the TG Descriptor\
    \ (X'46') control vector\n   on an activation XID is only required to support\
    \ multiple connection\n   network TGs to a VRN, and its use is optional.\n   \
    \  *-----------------------------------------------------*\n     |   NO      \
    \                  NOF                CS   |\n     *-----------------------------------------------------*\n\
    \        DEFINE_CONNECTION_NETWORK(RQ)   DEFINE_CN(RQ)  .\n          o------------------------>o----------------->o\n\
    \       DEFINE_CONNECTION_NETWORK(RSP)   DEFINE_CN(RSP) |\n          o<------------------------o<-----------------*\n\
    \     DEFINE_CONNECTION_NETWORK_TG(RQ) DEFINE_CN_TG(RQ) .\n          o------------------------>o----------------->o\n\
    \    DEFINE_CONNECTION_NETWORK_TG(RSP) DEFINE_CN_TG(RSP)|\n          o<------------------------o<-----------------*\n\
    \          Figure 7. IP Connection Network Definition\n   An incoming dynamic\
    \ link activation may be rejected with sense data\n   X'10160046' if there is\
    \ an existing dynamic link between the two\n   ports over the same connection\
    \ network (i.e., with the same VRN CP\n   name).  If a node receives an activation\
    \ XID for a dynamic link with\n   an IP address pair, a SAP pair, and a VRN CP\
    \ name that are the same\n   as for an active dynamic link, that node can assume\
    \ that the link has\n   failed and that the partner node is reactivating the link.\
    \  In such a\n   case as an optimization, the node receiving the XID can take\
    \ down the\n   active link and allow the link to be reestablished in the IP network.\n\
    \   Because UDP packets can arrive out of order, implementation of this\n   optimization\
    \ requires the use of a timer to prevent a stray XID from\n   deactivating an\
    \ active link.\n   Once all the connection networks are defined, the node operator\n\
    \   issues START_PORT(RQ), NOF passes the associated signal to CS, and CS\n  \
    \ passes ACTIVATE_PORT(RQ) to the DLC manager.  Upon receiving the\n   ACTIVATE_PORT(RSP)\
    \ signal from the DLC manager, CS sends a TG_UPDATE\n   signal to TRS for each\
    \ defined connection network TG.  Each signal\n   notifies TRS that a TG to the\
    \ VRN has been activated and includes TG\n   vectors describing the TG.  If the\
    \ port fails or is deactivated, CS\n   sends TG_UPDATE indicating the connection\
    \ network TGs are no longer\n   operational.  Information about TGs between a\
    \ network node and the\n   VRN is maintained in the network topology database.\
    \  Information\n   about TGs between an end node and the VRN is maintained only\
    \ in the\n   local topology database.  If TRS has no node entry in its topology\n\
    \   database for the VRN, TRS dynamically creates such an entry.  A VRN\n   node\
    \ entry will become part of the network topology database only if\n   a network\
    \ node has defined a TG to the VRN; however, TRS is capable\n   of selecting a\
    \ direct path between two end nodes across a connection\n   network without a\
    \ VRN node entry.\n"
- title: '*--------------------------------------------------------------------*'
  contents:
  - '*--------------------------------------------------------------------*

    '
- title: '|   CS                   TRS                 DLC               DMUX  |'
  contents:
  - '|   CS                   TRS                 DLC               DMUX  |

    '
- title: '*--------------------------------------------------------------------*'
  contents:
  - "*--------------------------------------------------------------------*\n    \
    \ .            ACTIVATE_PORT(RQ)           .     create\n     o--------------------------------------->o----------------->o\n\
    \     .            ACTIVATE_PORT(RSP)          |                  .\n     o<---------------------------------------*\
    \                  .\n     |  TG_UPDATE         .                   .        \
    \          .\n     *------------------->o                   .                \
    \  .\n     .                    .                   .                  .\n   \
    \        Figure 8. IP Connection Network Establishment\n"
- title: The TG vectors for IP connection network TGs include the following
  contents:
  - 'The TG vectors for IP connection network TGs include the following

    '
- title: 'information:'
  contents:
  - "information:\n   o   TG number\n   o   VRN CP name\n   o   TG characteristics\
    \ used during route selection\n       -   Effective capacity\n       -   Cost\
    \ per connect time\n       -   Cost per byte transmitted\n       -   Security\n\
    \       -   Propagation delay\n       -   User defined parameters\n   o   Signaling\
    \ information\n       -   IP version (indicates the format of the IP header including\n\
    \           the IP address)\n       -   IP address\n       -   Link service access\
    \ point address (LSAP) used for XID, TEST,\n           DISC, and DM\n"
- title: 2.5.2.2  IP Connection Network Parameters
  contents:
  - "2.5.2.2  IP Connection Network Parameters\n   For a connection network TG, the\
    \ parameters are determined by CS\n   using several inputs.  Parameters that are\
    \ particular to the local\n   port, connection network, or TG are system defined\
    \ and received in\n   DEFINE_PORT(RQ), DEFINE_CN(RQ), or DEFINE_CN_TG(RQ).  Signaling\n\
    \   information for the destination node including its IP address is\n   received\
    \ in the ACTIVATE_ROUTE request from SS.\n   The following configuration parameters\
    \ are received in DEFINE_CN(RQ):\n   o   Connection network name (CP name of the\
    \ VRN)\n   o   Limited resource liveness timer (default is 45 sec.)\n   o   IP\
    \ precedence (the setting of the 3-bit field within the Type of\n       Service\
    \ byte of the IP header for LLC commands such as XID and\n       for each of the\
    \ APPN transmission priorities; the defaults are\n       given in 2.6.1, \"IP\
    \ Prioritization\" on page 28; this parameter is\n       used to override the\
    \ settings in DEFINE_PORT)\n   The following configuration parameters are received\
    \ in\n   DEFINE_CN_TG(RQ):\n   o   Port name\n   o   Connection network name (CP\
    \ name of the VRN)\n   o   Connection network TG number (set to a value between\
    \ 1 and 239)\n   o   TG characteristics (see 2.6.3, \"Default TG Characteristics\"\
    \ on\n       page 30)\n   o   Link service access point address (LSAP) used for\
    \ XID, TEST,\n       DISC, and DM (default is X'04')\n   o   Link service access\
    \ point address (LSAP) used for HPR network\n       layer packets (default is\
    \ X'C8')\n   o   Limited resource (default is yes)\n   o   Retry count for LDLC\
    \ (default is 3; this parameter is used to\n       override the setting in DEFINE_PORT)\n\
    \   o   Retry timer period for LDLC (default is 15 sec.; a smaller value\n   \
    \    such as 10 seconds can be used for a campus connection network;\n       this\
    \ parameter is used to override the setting in DEFINE_PORT)\n   o   LDLC liveness\
    \ timer period (default is 10 seconds; this parameter\n       is used to override\
    \ the setting in DEFINE_PORT; see 2.3.1, \"LDLC\n       Liveness\" on page 7)\n\
    \   o   Shareable with other HPR traffic (default is yes for non-RSVP\n      \
    \ links)\n   o   Maximum receive BTU size (default is 1461; this parameter is\
    \ used\n       to override the value in DEFINE_PORT(RQ).)\n   o   Maximum send\
    \ BTU size (default is 1461; this parameter is used to\n       override the value\
    \ in DEFINE_PORT(RQ).)\n   The following parameters are received in ACTIVATE_ROUTE\
    \ for\n   connection network TGs:\n   o   The TG pair\n   o   The destination\
    \ IP version (if this version is not supported by\n       the local node, the\
    \ ACTIVATE_ROUTE_RSP reports the activation\n       failure with sense data X'086B46A5'.)\n\
    \   o   The destination IP address (in the format specified by the\n       destination\
    \ IP version)\n   o   Destination service access point address (DSAP) used for\
    \ XID,\n       TEST, DISC, and DM\n"
- title: 2.5.2.3  Sharing of TGs
  contents:
  - "2.5.2.3  Sharing of TGs\n   Connection network traffic is multiplexed onto a\
    \ regular defined IP\n   TG (usually used for CP-CP session traffic) in order\
    \ to reduce the\n   control block storage.  No XIDs flow to establish a new TG\
    \ on the IP\n   network, and no new LLC is created.  When a regular TG is shared,\n\
    \   incoming traffic is demultiplexed using the normal means.  If the\n   regular\
    \ TG is deactivated, a path switch is required for the HPR\n   connection network\
    \ traffic sharing the TG.\n   Multiplexing is possible if the following conditions\
    \ hold:\n   1.  Both the regular TG and the connection network TG to the VRN are\n\
    \       defined as shareable between HPR traffic streams.\n   2.  The destination\
    \ IP address is the same.\n   3.  The regular TG is established first.  (Because\
    \ links established\n       for connection network traffic do not support CP-CP\
    \ sessions,\n       there is little value in allowing a regular TG to share such\
    \ a\n       link.)\n   The destination node is notified via XID when a TG can\
    \ be shared\n   between HPR data streams.  At either end, upon receiving\n   ACTIVATE_ROUTE\
    \ requesting a shared TG for connection network traffic,\n   CS checks its TGs\
    \ for one meeting the required specifications before\n   initiating a new link.\
    \  First, CS looks for a link established for\n   the TG pair; if there is no\
    \ such link, CS determines if there is a\n   regular TG that can be shared and,\
    \ if multiple such TGs exist, which\n   TG to choose.  As a result, RTP connections\
    \ routed over the same TG\n   pair may actually use different links, and RTP connections\
    \ routed\n   over different TG pairs may use the same link.\n"
- title: 2.5.2.4  Minimizing RSCV Length
  contents:
  - "2.5.2.4  Minimizing RSCV Length\n   The maximum length of a Route Selection (X'2B')\
    \ control vector (RSCV)\n   is 255 bytes.  Use of connection networks significantly\
    \ increases the\n   size of the RSCV contents required to describe a \"hop\" across\
    \ an\n   SATF.  First, because two connection network TGs are used to specify\n\
    \   an SATF hop, two TG Descriptor (X'46') control vectors are required.\n   Furthermore,\
    \ inclusion of DLC signaling information within the TG\n   Descriptor control\
    \ vectors increases the length of these control\n   vectors.  As a result, the\
    \ total number of hops that can be specified\n   in RSCVs traversing connection\
    \ networks is reduced.\n   To avoid unnecessarily limiting the number of hops,\
    \ a primary goal in\n   designing the formats for IP signaling information is\
    \ to minimize\n   their size.  Additional techniques are also used to reduce the\
    \ effect\n   of the RSCV length limitation.\n   For an IP connection network,\
    \ DLC signaling information is required\n   only for the second TG (i.e., from\
    \ the VRN to the destination node);\n   the signaling information for the first\
    \ TG is locally defined at the\n   origin node.  For this reason, the topology\
    \ database does not include\n   DLC signaling information for the entry describing\
    \ a connection\n   network TG from a network node to a VRN.  The DLC signaling\n\
    \   information is included in the allied entry for the TG in the\n   opposite\
    \ direction.  This mechanism cannot be used for a connection\n   network TG between\
    \ a VRN and an end node.  However, a node\n   implementing IP connection networks\
    \ does not include IP signaling\n   information for the first connection network\
    \ TG when constructing an\n   RSCV.\n   In an environment where APPN network nodes\
    \ are used to route between\n   legacy LANs and wide-area IP networks, it is recommended\
    \ that\n   customers not define connection network TGs between these network\n\
    \   nodes and VRNs representing legacy LANs.  Typically, defined links\n   are\
    \ required between end nodes on the legacy LANs and such network\n   nodes which\
    \ also act as network node servers for the end nodes.\n   These defined links\
    \ can be used for user traffic as well as control\n   traffic.  This technique\
    \ will reduce the number of connection network\n   hops in RSCVs between end nodes\
    \ on different legacy LANs.\n   Lastly, for environments where RSCVs are still\
    \ not able to include\n   enough hops, extended border nodes (EBNs) can be used\
    \ to partition\n   the network.  In this case, the EBNs will also provide piecewise\n\
    \   subnet route calculation and RSCV swapping.  Thus, the entire route\n   does\
    \ not need to be described in a single RSCV with its length\n   limitation.\n"
- title: 2.5.3  XID Changes
  contents:
  - "2.5.3  XID Changes\n   Packets transmitted over IP networks are lost or arrive\
    \ out of order\n   more often than packets transmitted over other \"link\" technologies.\n\
    \   As a result, the following problem with the XID3 negotiation protocol\n  \
    \ was exposed:\n   --------------------------------------------------------------------\n\
    \         *---------------------------------*\n         |Node A              \
    \       Node B|\n         *---------------------------------*\n              \
    \            o\n                          o\n                          o\n   \
    \                        XID3 (np, NEG)\n             o<-------------------------o\n\
    \             |XID3 (np, SEC)\n             *------------------------->o\n   \
    \                       XID3 (np, PRI)|\n                        lost<-----------*\n\
    \           time out\n              XID3 (np, SEC)\n             o------------------------->o\n\
    \                               SETMODE  |\n             o<-------------------------*\n\
    \    fail because never\n    received XID3 (np, PRI)\n   Notation: np  - negotiation\
    \ proceeding\n             NEG - negotiable link station role\n             SEC\
    \ - secondary link station role\n             PRI - primary link station role\n\
    \   --------------------------------------------------------------------\n   \
    \                   Figure 9. XID3 Protocol Problem\n   In the above sequence,\
    \ the XID3(np, PRI), which is a link-level\n   response to the received XID3(np,\
    \ SEC), is lost.  Node A times out\n   and resends the XID3(np, SEC) as a link-level\
    \ command.  When Node B\n   receives this command, it thinks that the XID3(np,\
    \ PRI) was\n   successfully received by Node A and that the activation XID exchange\n\
    \   is complete.  As a result, Node B sends SETMODE (SNRM, SABME, or\n   XID_DONE_RQ,\
    \ depending upon the link type).  When Node A receives\n   SETMODE, it fails the\
    \ link activation because it has not received an\n   XID3(np, PRI) from Node B\
    \ confirming that Node B does indeed agree to\n   be the primary.  Moreover, there\
    \ are similar problems with incomplete\n   TG number negotiation.\n   To solve\
    \ the problems with incomplete role and TG number negotiation,\n   two new indicators\
    \ are defined in XID3.  The problems are solved only\n   if both link stations\
    \ support these new indicators:\n   o   Negotiation Complete Supported indicator\
    \ (byte 12 bit 0) -- this\n       1-bit field indicates whether the Negotiation\
    \ Complete indicator\n       is supported.  This field is meaningful when the\
    \ XID exchange\n       state is negotiation proceeding; otherwise, it is reserved.\
    \  A\n       value of 0 means the Negotiation Complete indicator is not\n    \
    \   supported; a value of 1 means the indicator is supported.\n   o   Negotiation\
    \ Complete indicator (byte 12 bit 1) -- this 1-bit\n       field is meaningful\
    \ only when the XID exchange state is\n       negotiation proceeding, the XID3\
    \ is sent by the secondary link\n       station, and the Negotiation Complete\
    \ Supported indicator is set\n       to 1; otherwise, this field is reserved.\
    \  This field is set to 1\n       by a secondary link station that supports enhanced\
    \ XID\n       negotiation when it considers the activation XID negotiation to\n\
    \       be complete for both link station role and TG number (i.e., it is\n  \
    \     ready to receive a SETMODE command from the primary link\n       station.)\n\
    \   When a primary link station that supports enhanced XID negotiation\n   receives\
    \ an XID3(np) with both the Negotiation Complete Supported\n   indicator and the\
    \ Negotiation Complete indicator set to 1, the\n   primary link station will know\
    \ that it can safely send SETMODE if it\n   also considers the XID negotiation\
    \ to be complete.  The new\n   indicators are used as shown in the following sequence\
    \ when both the\n   primary and secondary link stations support enhanced XID negotiation.\n\
    \   --------------------------------------------------------------------\n   \
    \      *----------------------------------*\n         |Node A                \
    \     Node B |\n         *----------------------------------*\n              \
    \            o\n                          o\n                          o\n   \
    \                 XID3 (np, NEG, S, ^C)\n   1         o<--------------------------o\n\
    \             |XID3 (np, SEC, S, ^C)\n   2         *-------------------------->o\n\
    \                    XID3 (np, PRI, S, ^C)|\n   3                    lost <-----------*\n\
    \           time out\n              XID3 (np, SEC, S, ^C)\n   4         o-------------------------->o\n\
    \                    XID3 (np, PRI, S, ^C)|\n   5         o<--------------------------*\n\
    \             |XID3 (np, SEC, S, C)\n   6         *-------------------------->o\n\
    \                                SETMODE  |\n   7         o<--------------------------*\n\
    \   ^S indicates that byte 12 bit 0 is set to 0.\n    S indicates that byte 12\
    \ bit 0 is set to 1.\n   ^C indicates that byte 12 bit 1 is set to 0.\n    C indicates\
    \ that byte 12 bit 1 is set to 1.\n   --------------------------------------------------------------------\n\
    \   Figure 10. Enhanced XID Negotiation\n   When Node B receives the XID in flow\
    \ 4, it realizes that the Node A\n   does not consider XID negotiation to be complete;\
    \ as a result, it\n   resends its current XID information in flow 5.  When Node\
    \ A receives\n   this XID, it responds in flow 6 with an XID that indicates XID\n\
    \   negotiation is complete.  At this point, Node B, acting as the\n   primary\
    \ link station, sends SETMODE, and the link is activated\n   successfully.\n \
    \  Migration cases with only one link station supporting enhanced XID\n   negotiation\
    \ are shown in the two following sequences.  In the next\n   sequence, only Node\
    \ A (acting as the secondary link station) supports\n   the new function.\n  \
    \ --------------------------------------------------------------------\n     \
    \    *---------------------------------*\n         |Node A                   \
    \  Node B|\n         *---------------------------------*\n                   \
    \       o\n                          o\n                          o\n        \
    \               XID3 (np, NEG, ^S)\n   1         o<--------------------------o\n\
    \             |XID3 (np, SEC, S, ^C)\n   2         *-------------------------->o\n\
    \                       XID3 (np, PRI, ^S)|\n   3                    lost <-----------*\n\
    \           time out\n              XID3 (np, SEC, S, ^C)\n   4         o-------------------------->o\n\
    \                                SETMODE  |\n   5         o<--------------------------*\n\
    \           fail\n   --------------------------------------------------------------------\n\
    \                      Figure 11. First Migration Case\n   The XID negotiation\
    \ fails because Node B does not understand the new\n   indicators and responds\
    \ to flow 4 with SETMODE.\n   In the next sequence, Node B supports the new indicators\
    \ but Node A\n   does not.\n   --------------------------------------------------------------------\n\
    \         *---------------------------------*\n         |Node A              \
    \       Node B|\n         *---------------------------------*\n              \
    \            o\n                          o\n                          o\n   \
    \                 XID3 (np, NEG, S, ^C)\n   1         o<--------------------------o\n\
    \             |XID3 (np, SEC, ^S)\n   2         *-------------------------->o\n\
    \                    XID3 (np, PRI, S, ^C)|\n   3                    lost <-----------*\n\
    \           time out\n              XID3 (np, SEC, ^S)\n   4         o-------------------------->o\n\
    \                                 SETMODE |\n   5         o<--------------------------*\n\
    \           fail\n   ------------------------------------------------------------------------\n\
    \                     Figure 12. Second Migration Case\n   The XID negotiation\
    \ fails because Nobe A does not understand the new\n   indicators and thus cannot\
    \ indicate that it thinks XID negotiation is\n   not complete in flow 4.  Node\
    \ B understands that the secondary link\n   station (node A) does not support\
    \ the new indicators and respond with\n   SETMODE in flow 5.\n   Products that\
    \ support HPR/IP links are required to support enhanced\n   XID negotiation. \
    \ Moreover, it is recommended that products\n   implementing this solution for\
    \ HPR/IP links also support it for other\n   link types.\n"
- title: 2.5.4  Unsuccessful IP Link Activation
  contents:
  - "2.5.4  Unsuccessful IP Link Activation\n   Link activation may fail for several\
    \ different reasons.  When link\n   activation over a connection network or of\
    \ an auto-activatable link\n   is attempted upon receiving ACTIVATE_ROUTE from\
    \ SS, activation\n   failure is reported with ACTIVATE_ROUTE_RSP containing sense\
    \ data\n   explaining the cause of failure.  Likewise, when activation fails for\n\
    \   other regular defined links, the failure is reported with\n   START_LS(RSP)\
    \ containing sense data.\n   As is normal for session activation failures, the\
    \ sense data is also\n   sent to the node that initiated the session.  At the\
    \ APPN-to-HPR\n   boundary, a -RSP(BIND) or an UNBIND with an Extended Sense Data\n\
    \   control vector is generated and returned to the primary logical unit\n   (PLU).\n\
    \   At an intermediate HPR node, link activation failure can be reported\n   with\
    \ sense data X'08010000' or X'80020000'.  At a node with route-\n   selection\
    \ responsibility, such failure can be reported with sense\n   data X'80140001'.\n\
    \   The following table contains the sense data for the various causes of\n  \
    \ link activation failure:\n"
- title: +----------------------------------------------------------------------+
  contents:
  - '+----------------------------------------------------------------------+

    '
- title: '| Table 1 (Page 1 of 2). Native IP DLC Link Activation Failure Sense   |'
  contents:
  - '| Table 1 (Page 1 of 2). Native IP DLC Link Activation Failure Sense   |

    '
- title: '|                        Data                                          |'
  contents:
  - '|                        Data                                          |

    '
- title: +--------------------------------------------------------+-------------+
  contents:
  - '+--------------------------------------------------------+-------------+

    '
- title: '| ERROR DESCRIPTION                                      | SENSE DATA  |'
  contents:
  - '| ERROR DESCRIPTION                                      | SENSE DATA  |

    '
- title: +--------------------------------------------------------+-------------+
  contents:
  - '+--------------------------------------------------------+-------------+

    '
- title: '| The link specified in the RSCV is not available.       | X''08010000''
    |'
  contents:
  - '| The link specified in the RSCV is not available.       | X''08010000'' |

    '
- title: +--------------------------------------------------------+-------------+
  contents:
  - '+--------------------------------------------------------+-------------+

    '
- title: '| The limit for null XID responses by a called node was  | X''0809003A''
    |'
  contents:
  - '| The limit for null XID responses by a called node was  | X''0809003A'' |

    '
- title: '| reached.                                               |             |'
  contents:
  - '| reached.                                               |             |

    '
- title: +--------------------------------------------------------+-------------+
  contents:
  - '+--------------------------------------------------------+-------------+

    '
- title: '| A BIND was received over a subarea link, but the next  | X''08400002''
    |'
  contents:
  - '| A BIND was received over a subarea link, but the next  | X''08400002'' |

    '
- title: '| hop is over a port that supports only HPR links.  The  |             |'
  contents:
  - '| hop is over a port that supports only HPR links.  The  |             |

    '
- title: '| receiver does not support this configuration.          |             |'
  contents:
  - '| receiver does not support this configuration.          |             |

    '
- title: +--------------------------------------------------------+-------------+
  contents:
  - '+--------------------------------------------------------+-------------+

    '
- title: '| The contents of the DLC Signaling Type (X''91'')         | X''086B4691''
    |'
  contents:
  - '| The contents of the DLC Signaling Type (X''91'')         | X''086B4691'' |

    '
- title: '| subfield of the TG Descriptor (X''46'') control vector   |             |'
  contents:
  - '| subfield of the TG Descriptor (X''46'') control vector   |             |

    '
- title: '| contained in the RSCV were invalid.                    |             |'
  contents:
  - '| contained in the RSCV were invalid.                    |             |

    '
- title: +--------------------------------------------------------+-------------+
  contents:
  - '+--------------------------------------------------------+-------------+

    '
- title: '| The contents of the IP Address and Link Service Access | X''086B46A5''
    |'
  contents:
  - '| The contents of the IP Address and Link Service Access | X''086B46A5'' |

    '
- title: '| Point Address (X''A5'') subfield of the TG Descriptor    |             |'
  contents:
  - '| Point Address (X''A5'') subfield of the TG Descriptor    |             |

    '
- title: '| (X''46'') control vector contained in the RSCV were      |             |'
  contents:
  - '| (X''46'') control vector contained in the RSCV were      |             |

    '
- title: '| invalid.                                               |             |'
  contents:
  - '| invalid.                                               |             |

    '
- title: +--------------------------------------------------------+-------------+
  contents:
  - '+--------------------------------------------------------+-------------+

    '
- title: '| No DLC Signaling Type (X''91'') subfield was found in    | X''086D4691''
    |'
  contents:
  - '| No DLC Signaling Type (X''91'') subfield was found in    | X''086D4691'' |

    '
- title: '| the TG Descriptor (X''46'') control vector contained in  |             |'
  contents:
  - '| the TG Descriptor (X''46'') control vector contained in  |             |

    '
- title: '| the RSCV.                                              |             |'
  contents:
  - '| the RSCV.                                              |             |

    '
- title: +--------------------------------------------------------+-------------+
  contents:
  - '+--------------------------------------------------------+-------------+

    '
- title: '| No IP Address and Link Service Access Point Address    | X''086D46A5''
    |'
  contents:
  - '| No IP Address and Link Service Access Point Address    | X''086D46A5'' |

    '
- title: '| (X''A5'') subfield was found in the TG Descriptor        |             |'
  contents:
  - '| (X''A5'') subfield was found in the TG Descriptor        |             |

    '
- title: '| (X''46'') control vector contained in the RSCV.          |             |'
  contents:
  - '| (X''46'') control vector contained in the RSCV.          |             |

    '
- title: +--------------------------------------------------------+-------------+
  contents:
  - '+--------------------------------------------------------+-------------+

    '
- title: '| Multiple sets of DLC signaling information were found  | X''08770019''
    |'
  contents:
  - '| Multiple sets of DLC signaling information were found  | X''08770019'' |

    '
- title: '| in the TG Descriptor (X''46'') control vector contained  |             |'
  contents:
  - '| in the TG Descriptor (X''46'') control vector contained  |             |

    '
- title: '| in the RSCV.  IP supports only one set of DLC          |             |'
  contents:
  - '| in the RSCV.  IP supports only one set of DLC          |             |

    '
- title: '| signaling information.                                 |             |'
  contents:
  - '| signaling information.                                 |             |

    '
- title: +--------------------------------------------------------+-------------+
  contents:
  - '+--------------------------------------------------------+-------------+

    '
- title: '| Link Definition Error:  A link is defined as not       | X''08770026''
    |'
  contents:
  - '| Link Definition Error:  A link is defined as not       | X''08770026'' |

    '
- title: '| supporting HPR, but the port only supports HPR links.  |             |'
  contents:
  - '| supporting HPR, but the port only supports HPR links.  |             |

    '
- title: +--------------------------------------------------------+-------------+
  contents:
  - '+--------------------------------------------------------+-------------+

    '
- title: '| A called node found no TG Identifier (X''80'') subfield  | X''088C4680''
    |'
  contents:
  - '| A called node found no TG Identifier (X''80'') subfield  | X''088C4680'' |

    '
- title: '| within a TG Descriptor (X''46'') control vector in a     |             |'
  contents:
  - '| within a TG Descriptor (X''46'') control vector in a     |             |

    '
- title: '| prenegotiation XID for a defined link in an IP         |             |'
  contents:
  - '| prenegotiation XID for a defined link in an IP         |             |

    '
- title: '| network.                                               |             |'
  contents:
  - '| network.                                               |             |

    '
- title: +--------------------------------------------------------+-------------+
  contents:
  - '+--------------------------------------------------------+-------------+

    '
- title: +----------------------------------------------------------------------+
  contents:
  - '+----------------------------------------------------------------------+

    '
- title: '| Table 1 (Page 2 of 2). Native IP DLC Link Activation Failure Sense   |'
  contents:
  - '| Table 1 (Page 2 of 2). Native IP DLC Link Activation Failure Sense   |

    '
- title: '|                        Data                                          |'
  contents:
  - '|                        Data                                          |

    '
- title: +--------------------------------------------------------+-------------+
  contents:
  - '+--------------------------------------------------------+-------------+

    '
- title: '| The XID3 received from the adjacent node does not      | X''10160031''
    |'
  contents:
  - '| The XID3 received from the adjacent node does not      | X''10160031'' |

    '
- title: '| contain an HPR Capabilities (X''61'') control vector.    |             |'
  contents:
  - '| contain an HPR Capabilities (X''61'') control vector.    |             |

    '
- title: '| The IP port supports only HPR links.                   |             |'
  contents:
  - '| The IP port supports only HPR links.                   |             |

    '
- title: +--------------------------------------------------------+-------------+
  contents:
  - '+--------------------------------------------------------+-------------+

    '
- title: '| The RTP Supported indicator is set to 0 in the HPR     | X''10160032''
    |'
  contents:
  - '| The RTP Supported indicator is set to 0 in the HPR     | X''10160032'' |

    '
- title: '| Capabilities (X''61'') control vector of the XID3        |             |'
  contents:
  - '| Capabilities (X''61'') control vector of the XID3        |             |

    '
- title: '| received from the adjacent node.  The IP port supports |             |'
  contents:
  - '| received from the adjacent node.  The IP port supports |             |

    '
- title: '| only links to nodes that support RTP.                  |             |'
  contents:
  - '| only links to nodes that support RTP.                  |             |

    '
- title: +--------------------------------------------------------+-------------+
  contents:
  - '+--------------------------------------------------------+-------------+

    '
- title: '| The Control Flows over RTP Supported indicator is set  | X''10160033''
    |'
  contents:
  - '| The Control Flows over RTP Supported indicator is set  | X''10160033'' |

    '
- title: '| to 0 in the HPR Capabilities (X''61'') control vector of |             |'
  contents:
  - '| to 0 in the HPR Capabilities (X''61'') control vector of |             |

    '
- title: '| the XID3 received from the adjacent node.  The IP port |             |'
  contents:
  - '| the XID3 received from the adjacent node.  The IP port |             |

    '
- title: '| supports only links to nodes that support control      |             |'
  contents:
  - '| supports only links to nodes that support control      |             |

    '
- title: '| flows over RTP.                                        |             |'
  contents:
  - '| flows over RTP.                                        |             |

    '
- title: +--------------------------------------------------------+-------------+
  contents:
  - '+--------------------------------------------------------+-------------+

    '
- title: '| The LDLC Supported indicator is set to 0 in the HPR    | X''10160034''
    |'
  contents:
  - '| The LDLC Supported indicator is set to 0 in the HPR    | X''10160034'' |

    '
- title: '| Capabilities (X''61'') control vector of the XID3        |             |'
  contents:
  - '| Capabilities (X''61'') control vector of the XID3        |             |

    '
- title: '| received from the adjacent node.  The IP port supports |             |'
  contents:
  - '| received from the adjacent node.  The IP port supports |             |

    '
- title: '| only links to nodes that support LDLC.                 |             |'
  contents:
  - '| only links to nodes that support LDLC.                 |             |

    '
- title: +--------------------------------------------------------+-------------+
  contents:
  - '+--------------------------------------------------------+-------------+

    '
- title: '| The HPR Capabilities (X''61'') control vector received   | X''10160044''
    |'
  contents:
  - '| The HPR Capabilities (X''61'') control vector received   | X''10160044'' |

    '
- title: '| in XID3 does not include an IEEE 802.2 LLC (X''80'') HPR |             |'
  contents:
  - '| in XID3 does not include an IEEE 802.2 LLC (X''80'') HPR |             |

    '
- title: '| Capabilities subfield.  The subfield is required on an |             |'
  contents:
  - '| Capabilities subfield.  The subfield is required on an |             |

    '
- title: '| IP link.                                               |             |'
  contents:
  - '| IP link.                                               |             |

    '
- title: +--------------------------------------------------------+-------------+
  contents:
  - '+--------------------------------------------------------+-------------+

    '
- title: '| Multiple defined links between a pair of switched      | X''10160045''
    |'
  contents:
  - '| Multiple defined links between a pair of switched      | X''10160045'' |

    '
- title: '| ports is not supported by the local node.  A link      |             |'
  contents:
  - '| ports is not supported by the local node.  A link      |             |

    '
- title: '| activation request was received for a defined link,    |             |'
  contents:
  - '| activation request was received for a defined link,    |             |

    '
- title: '| but there is an active defined link between the paired |             |'
  contents:
  - '| but there is an active defined link between the paired |             |

    '
- title: '| switched ports.                                        |             |'
  contents:
  - '| switched ports.                                        |             |

    '
- title: +--------------------------------------------------------+-------------+
  contents:
  - '+--------------------------------------------------------+-------------+

    '
- title: '| Multiple dynamic links across a connection network     | X''10160046''
    |'
  contents:
  - '| Multiple dynamic links across a connection network     | X''10160046'' |

    '
- title: '| between a pair of switched ports is not supported by   |             |'
  contents:
  - '| between a pair of switched ports is not supported by   |             |

    '
- title: '| the local node.  A link activation request was         |             |'
  contents:
  - '| the local node.  A link activation request was         |             |

    '
- title: '| received for a dynamic link, but there is an active    |             |'
  contents:
  - '| received for a dynamic link, but there is an active    |             |

    '
- title: '| dynamic link between the paired switched ports across  |             |'
  contents:
  - '| dynamic link between the paired switched ports across  |             |

    '
- title: '| the same connection network.                           |             |'
  contents:
  - '| the same connection network.                           |             |

    '
- title: +--------------------------------------------------------+-------------+
  contents:
  - '+--------------------------------------------------------+-------------+

    '
- title: '| Link failure                                           | X''80020000''
    |'
  contents:
  - '| Link failure                                           | X''80020000'' |

    '
- title: +--------------------------------------------------------+-------------+
  contents:
  - '+--------------------------------------------------------+-------------+

    '
- title: '| Route selection services has determined that no path   | X''80140001''
    |'
  contents:
  - '| Route selection services has determined that no path   | X''80140001'' |

    '
- title: '| to the destination node exists for the specified COS.  |             |'
  contents:
  - '| to the destination node exists for the specified COS.  |             |

    '
- title: +--------------------------------------------------------+-------------+
  contents:
  - '+--------------------------------------------------------+-------------+

    '
- title: 2.6  IP Throughput Characteristics
  contents:
  - '2.6  IP Throughput Characteristics

    '
- title: 2.6.1  IP Prioritization
  contents:
  - "2.6.1  IP Prioritization\n   Typically, IP routers process packets on a first-come-first-served\n\
    \   basis; i.e., no packets are given transmission priority.  However,\n   some\
    \ IP routers prioritize packets based on IP precedence (the 3-bit\n   field within\
    \ the Type of Service byte of the IP header) or UDP port\n   numbers.  (With the\
    \ current plans for IP security, the UDP port\n   numbers are encrypted; as a\
    \ result, IP routers would not be able to\n   prioritize encrypted traffic based\
    \ on the UDP port numbers.)  HPR\n   will be able to exploit routers that provide\
    \ priority function.\n   The 5 UDP port numbers, 12000-12004 (decimal), have been\
    \ assigned by\n   the Internet Assigned Number Authority (IANA).  Four of these\
    \ port\n   numbers are used for ANR-routed network layer packets (NLPs) and\n\
    \   correspond to the APPN transmission priorities (network, 12001; high,\n  \
    \ 12002; medium, 12003; and low, 12004), and one port number (12000) is\n   used\
    \ for a set of LLC commands (i.e., XID, TEST, DISC, and DM) and\n   function-routed\
    \ NLPs (i.e., XID_DONE_RQ and XID_DONE_RSP).  These\n   port numbers are used\
    \ for \"listening\" and are also used in the\n   destination port number field\
    \ of the UDP header of transmitted\n   packets.  The source port number field\
    \ of the UDP header can be set\n   either to one of these port numbers or to an\
    \ ephemeral port number.\n   The IP precedence for each transmission priority\
    \ and for the set of\n   LLC commands (including function-routed NLPs) are configurable.\
    \  The\n   implicit assumption is that the precedence value is associated with\n\
    \   priority queueing and not with bandwidth allocation; however,\n   bandwidth\
    \ allocation policies can be administered by matching on the\n   precedence field.\
    \  The default mapping to IP precedence is shown in\n   the following table:\n\
    \   +---------------------------------------------+\n   | Table 2. Default IP\
    \ Precedence Settings     |\n   +----------------------+----------------------+\n\
    \   | PRIORITY             |      PRECEDENCE      |\n   +----------------------+----------------------+\n\
    \   | LLC commands and     |          110         |\n   | function-routed NLPs\
    \ |                      |\n   +----------------------+----------------------+\n\
    \   | Network              |          110         |\n   +----------------------+----------------------+\n\
    \   | High                 |          100         |\n   +----------------------+----------------------+\n\
    \   | Medium               |          010         |\n   +----------------------+----------------------+\n\
    \   | Low                  |          001         |\n   +----------------------+----------------------+\n\
    \   As an example, with this default mapping, telnet, interactive ftp,\n   and\
    \ business-use web traffic could be mapped to a precedence value of\n   011, and\
    \ batch ftp could be mapped to a value of 000.\n   These settings were devised\
    \ based on the AIW's understanding of the\n   intended use of IP precedence. \
    \ The use of IP precedence will be\n   modified appropriately if the IETF standardizes\
    \ its use differently.\n   The other fields in the IP TOS byte are not used and\
    \ should be set to\n   0.\n   For outgoing ANR-routed NLPs, the destination (and\
    \ optionally the\n   source) UDP port numbers and IP precedence are set based\
    \ on the\n   transmission priority specified in the HPR network header.\n   It\
    \ is expected that the native IP DLC architecture described in this\n   document\
    \ will be used primarily for private campus or wide-area\n   intranets where the\
    \ customer will be able to configure the routers to\n   honor the transmission\
    \ priority associated with the UDP port numbers\n   or IP precedence.  The architecture\
    \ can be used to route HPR traffic\n   in the Internet; however, in that environment,\
    \ routers do not\n   currently provide the priority function, and customers may\
    \ find the\n   performance unacceptable.\n   In the future, a form of bandwidth\
    \ reservation may be possible in IP\n   networks using the Resource ReSerVation\
    \ Protocol (RSVP), or the\n   differentiated services currently being studied\
    \ by the Integrated\n   Services working group of the IETF.  Bandwidth could be\
    \ reserved for\n   an HPR/IP link thus insulating the HPR traffic from congestion\n\
    \   associated with the traffic of other protocols.\n"
- title: 2.6.2  APPN Transmission Priority and COS
  contents:
  - "2.6.2  APPN Transmission Priority and COS\n   APPN transmission priority and\
    \ class of service (COS) allow APPN TGs\n   to be highly utilized with batch traffic\
    \ without impacting the\n   performance of response-time sensitive interactive\
    \ traffic.\n   Furthermore, scheduling algorithms guarantee that lower-priority\n\
    \   traffic is not completely blocked.  The result is predictable\n   performance.\n\
    \   When a session is initiated across an APPN network, the session's\n   mode\
    \ is mapped into a COS and transmission priority.  For each COS,\n   APPN has\
    \ a COS table that is used in the route selection process to\n   select the most\
    \ appropriate TGs (based on their TG characteristics)\n   for the session to traverse.\
    \  The TG characteristics and COS tables\n   are defined such that APPN topology\
    \ and routing services (TRS) will\n   select the appropriate TG for the traffic\
    \ of each COS.\n"
- title: 2.6.3  Default TG Characteristics
  contents:
  - "2.6.3  Default TG Characteristics\n   In Chapter 7 (TRS) of [1], there is a set\
    \ of SNA-defined TG default\n   profiles.  When a TG (connection network or regular)\
    \ is defined as\n   being of a particular technology (e.g., ethernet or X.25)\
    \ without\n   specification of the TG's characteristics, parameters from the\n\
    \   technology's default profile are used in the TG's topology entry.\n   The\
    \ customer is free to override these values via configuration.\n   Some technologies\
    \ have multiple profiles (e.g., ISDN has both a\n   profile for switched and nonswitched.)\
    \  Two default profiles are\n   required for IP TGs.  This many are needed because\
    \ there are both\n   campus and wide-area IP networks.  As a result for each HPR/IP\
    \ TG, a\n   customer should specify, at minimum, campus or wide area.  HPR/IP\
    \ TGs\n   traversing the Internet should be specified as wide-area links.  If\n\
    \   no specification is made, a campus network is assumed.\n   The 2 IP profiles\
    \ are as follows:\n"
- title: +----------------------------------------------------------------------+
  contents:
  - '+----------------------------------------------------------------------+

    '
- title: '| Table 3. IP Default TG Characteristics                               |'
  contents:
  - '| Table 3. IP Default TG Characteristics                               |

    '
- title: +-------------------+---------+----------+---------+---------+---------+
  contents:
  - '+-------------------+---------+----------+---------+---------+---------+

    '
- title: '|                   | Cost    | Cost per | Security| Propa-  | Effec-  |'
  contents:
  - '|                   | Cost    | Cost per | Security| Propa-  | Effec-  |

    '
- title: '|                   | per     | byte     |         | gation  | tive    |'
  contents:
  - '|                   | per     | byte     |         | gation  | tive    |

    '
- title: '|                   | connect |          |         | delay   | capacity|'
  contents:
  - '|                   | connect |          |         | delay   | capacity|

    '
- title: '|                   | time    |          |         |         |         |'
  contents:
  - '|                   | time    |          |         |         |         |

    '
- title: +-------------------+---------+----------+---------+---------+---------+
  contents:
  - '+-------------------+---------+----------+---------+---------+---------+

    '
- title: '| Campus            | 0       | 0        | X''01''   | X''71''   | X''75''   |'
  contents:
  - '| Campus            | 0       | 0        | X''01''   | X''71''   | X''75''   |

    '
- title: +-------------------+---------+----------+---------+---------+---------+
  contents:
  - '+-------------------+---------+----------+---------+---------+---------+

    '
- title: '| Wide area         | 0       | 0        | X''20''   | X''91''   | X''43''   |'
  contents:
  - '| Wide area         | 0       | 0        | X''20''   | X''91''   | X''43''   |

    '
- title: +-------------------+---------+----------+---------+---------+---------+
  contents:
  - "+-------------------+---------+----------+---------+---------+---------+\n  \
    \ Typically, a TG is either considered to be \"free\" if it is owned or\n   leased\
    \ or \"costly\" if it is a switched carrier facility.  Free TGs\n   have 0 for\
    \ both cost parameters, and costly TGs have 128 for both\n   parameters.  For\
    \ campus IP networks, the default for both cost\n   parameters is 0.\n   It is\
    \ less clear what the defaults should be for wide area.  Because\n   a router\
    \ normally has leased access to an IP network, the defaults\n   for both costs\
    \ are also 0.  This assumes the IP network is not\n   tariffed.  However, if the\
    \ IP network is tariffed, then the customer\n   should set the cost per byte to\
    \ 0 or 128 depending on whether the\n   tariff contains a component based on quantity\
    \ of data transmitted,\n   and the customer should set the cost per connect time\
    \ to 0 or 128\n   based on whether there is a tariff component based on connect\
    \ time.\n   Furthermore, for switched access to the IP network, the customer\n\
    \   settings for both costs should also reflect the tariff associated\n   with\
    \ the switched access link.\n   Only architected values (see \"Security\" in [1])\
    \ may be used for a\n   TG's security parameter.  The default security value is\
    \ X'01'\n   (lowest) for campus and X'20' (public switched network; secure in\
    \ the\n   sense that there is no predetermined route the traffic will take) for\n\
    \   wide-area IP networks.  The network administrator may override the\n   default\
    \ value but should, in that case, ensure that an appropriate\n   level of security\
    \ exists.\n   For wide area, the value X'91' (packet switched) is the default\
    \ for\n   propagation delay; this is consistent with other wide-area facilities\n\
    \   and indicates that IP packets will experience both terrestrial\n   propagation\
    \ delay and queueing delay in intermediate routers.  This\n   value is suitable\
    \ for both the Internet and wide-area intranets;\n   however, the customer could\
    \ use different values to favor intranets\n   over the Internet during route selection.\
    \  The value X'99' (long) may\n   be appropriate for some international links\
    \ across the Internet.  For\n   campus, the default is X'71' (terrestrial); this\
    \ setting essentially\n   equates the queueing delay in IP networks with terrestrial\n\
    \   propagation delay.\n   For wide area, X'43' (56 kbs) is shown as the default\
    \ effective\n   capacity; this is at the low-end of typical speeds for wide-area\
    \ IP\n   links.  For campus, X'75' (4 Mbs) is the default; this is at the\n  \
    \ low-end of typical speeds for campus IP links.  However, customers\n   should\
    \ set the effective capacity for both campus and wide area IP\n   links based\
    \ on the actual physical speed of the access link to the IP\n   network; for regular\
    \ links, if both the source and destination access\n   speeds are known, customers\
    \ should set the effective capacity based\n   on the minimum of these two link\
    \ speeds.  If there are multiple\n   access links, the capacity setting should\
    \ be based on the physical\n   speed of the access link that is expected to be\
    \ used for the link.\n   For the encoding technique for effective capacity in\
    \ the topology\n   database, see \"Effective Capacity\" in Chapter 7, Topology\
    \ and Routing\n   Services of [1].  The table in that section can be extended\
    \ as\n   follows for higher speeds:\n"
- title: +----------------------------------------------------------------------+
  contents:
  - '+----------------------------------------------------------------------+

    '
- title: '| Table 4. Calculated Effective Capacity Representations               |'
  contents:
  - '| Table 4. Calculated Effective Capacity Representations               |

    '
- title: +-----------------------------------+----------------------------------+
  contents:
  - '+-----------------------------------+----------------------------------+

    '
- title: '| Link Speed (Approx.)              | Effective Capacity               |'
  contents:
  - '| Link Speed (Approx.)              | Effective Capacity               |

    '
- title: +-----------------------------------+----------------------------------+
  contents:
  - '+-----------------------------------+----------------------------------+

    '
- title: '| 25M                               | X''8A''                            |'
  contents:
  - '| 25M                               | X''8A''                            |

    '
- title: +-----------------------------------+----------------------------------+
  contents:
  - '+-----------------------------------+----------------------------------+

    '
- title: '| 45M                               | X''91''                            |'
  contents:
  - '| 45M                               | X''91''                            |

    '
- title: +-----------------------------------+----------------------------------+
  contents:
  - '+-----------------------------------+----------------------------------+

    '
- title: '| 100M                              | X''9A''                            |'
  contents:
  - '| 100M                              | X''9A''                            |

    '
- title: +-----------------------------------+----------------------------------+
  contents:
  - '+-----------------------------------+----------------------------------+

    '
- title: '| 155M                              | X''A0''                            |'
  contents:
  - '| 155M                              | X''A0''                            |

    '
- title: +-----------------------------------+----------------------------------+
  contents:
  - '+-----------------------------------+----------------------------------+

    '
- title: '| 467M                              | X''AC''                            |'
  contents:
  - '| 467M                              | X''AC''                            |

    '
- title: +-----------------------------------+----------------------------------+
  contents:
  - '+-----------------------------------+----------------------------------+

    '
- title: '| 622M                              | X''B0''                            |'
  contents:
  - '| 622M                              | X''B0''                            |

    '
- title: +-----------------------------------+----------------------------------+
  contents:
  - '+-----------------------------------+----------------------------------+

    '
- title: '| 1G                                | X''B5''                            |'
  contents:
  - '| 1G                                | X''B5''                            |

    '
- title: +-----------------------------------+----------------------------------+
  contents:
  - '+-----------------------------------+----------------------------------+

    '
- title: '| 1.9G                              | X''BC''                            |'
  contents:
  - '| 1.9G                              | X''BC''                            |

    '
- title: +-----------------------------------+----------------------------------+
  contents:
  - '+-----------------------------------+----------------------------------+

    '
- title: 2.6.4  SNA-Defined COS Tables
  contents:
  - "2.6.4  SNA-Defined COS Tables\n   SNA-defined batch and interactive COS tables\
    \ are provided in [1].\n   These tables are enhanced in [2] (see section 18.7.2)\
    \ for the\n   following reasons:\n   o   To ensure that the tables assign reasonable\
    \ weights to ATM TGs\n       relative to each other and other technologies based\
    \ on cost,\n       speed, and delay\n   o   To facilitate use of other new higher-speed\
    \ facilities - This\n       goal is met by providing several speed groupings above\
    \ 10 Mbps.\n       To keep the tables from growing beyond 12 rows, low-speed\n\
    \       groupings are merged.\n   Products implementing the native IP DLC should\
    \ use the new COS\n   tables.  Although the effective capacity values in the old\
    \ tables are\n   sufficient for typical IP speeds, the new tables are valuable\
    \ because\n   higher-speed links can be used for IP networks.\n"
- title: 2.6.5  Route Setup over HPR/IP links
  contents:
  - "2.6.5  Route Setup over HPR/IP links\n   The Resequence (\"REFIFO\") indicator\
    \ is set in Route Setup request and\n   reply when the RTP path uses a multi-link\
    \ TG because packets may not\n   be received in the order sent.  The Resequence\
    \ indicator is also set\n   when the RTP path includes an HPR/IP link as packets\
    \ sent over an IP\n   network may arrive out of order.\n   Adaptive rate-based\
    \ congestion control (ARB) is an HPR Rapid\n   Transport Protocol (RTP) function\
    \ that controls the data transmission\n   rate over RTP connections.  ARB also\
    \ provides fairness between the\n   RTP traffic streams sharing a link.  For ARB\
    \ to perform these\n   functions in the IP environment, it is necessary to coordinate\
    \ the\n   ARB parameters with the IP TG characteristics.  This is done for IP\n\
    \   links in a similar manner to that done for other link types.\n"
- title: 2.6.6  Access Link Queueing
  contents:
  - "2.6.6  Access Link Queueing\n   Typically, nodes implementing the native IP DLC\
    \ have an access link\n   to a network of IP routers.  These IP routers may be\
    \ providing\n   prioritization based on UDP port numbers or IP precedence.  A\
    \ node\n   implementing the native IP DLC can be either an IP host or an IP\n\
    \   router; in both cases, such nodes should also honor the priorities\n   associated\
    \ with either the UDP port numbers or the IP precedence when\n   transmitting\
    \ HPR data over the access link to the IP network.\n"
- title: '--------------------------------------------------------------------'
  contents:
  - '--------------------------------------------------------------------

    '
- title: '*--------* access link *--------*     *--------*'
  contents:
  - '*--------* access link *--------*     *--------*

    '
- title: '|  HPR   |-------------|   IP   |-----|   IP   |'
  contents:
  - '|  HPR   |-------------|   IP   |-----|   IP   |

    '
- title: '|  node  |             | Router |     | Router |'
  contents:
  - '|  node  |             | Router |     | Router |

    '
- title: '*--------*             *--------*     *--------*'
  contents:
  - "*--------*             *--------*     *--------*\n                          \
    \  |              |\n                            |              |\n          \
    \                  |              |\n                       *--------*     *--------*\
    \ access link *--------*\n                       |   IP   |-----|   IP   |-------------|\
    \  HPR   |\n                       | Router |     | Router |             |  node\
    \  |\n                       *--------*     *--------*             *--------*\n"
- title: '--------------------------------------------------------------------'
  contents:
  - "--------------------------------------------------------------------\n      \
    \                  Figure 13. Access Links\n   Otherwise, the priority function\
    \ in the router network will be\n   negated with the result being HPR interactive\
    \ traffic delayed by\n   either HPR batch traffic or the traffic of other higher-layer\n\
    \   protocols at the access link queues.\n"
- title: 2.7  Port Link Activation Limits
  contents:
  - "2.7  Port Link Activation Limits\n   Three parameters are provided by NOF to\
    \ CS on DEFINE_PORT(RQ) to\n   define the link activation limits for a port: total\
    \ limit, inbound\n   limit, and outbound limit.  The total limit is the desired\
    \ maximum\n   number of active link stations allowed on the port for both regular\n\
    \   TGs and connection network TGs.  The inbound limit is the desired\n   number\
    \ of link stations reserved for connections initiated by\n   adjacent nodes; the\
    \ purpose of this field is to insure that a minimum\n   number of link stations\
    \ may be activated by adjacent nodes.  The\n   outbound limit is the desired number\
    \ of link stations reserved for\n   connections initiated by the local node. \
    \ The sum of the inbound and\n   outbound limits must be less than or equal to\
    \ the total limit.  If\n   the sum is less than the total limit, the difference\
    \ is the number of\n   link stations that can be activated on a demand basis as\
    \ either\n   inbound or outbound.  These limits should be based on the actual\n\
    \   adapter capability and the node's resources (e.g., control blocks).\n   A\
    \ connection network TG will be reported to topology as quiescing\n   when its\
    \ port's total limit threshold is reached; likewise, an\n   inactive auto-activatable\
    \ regular TG is reported as nonoperational.\n   When the number of active link\
    \ stations drops far enough below the\n   threshold (e.g., so that at least 20\
    \ percent of the original link\n   activation limit has been recovered), connection\
    \ network TGs are\n   reported as not quiescing, and auto-activatable TGs are\
    \ reported as\n   operational.\n"
- title: 2.8  Network Management
  contents:
  - "2.8  Network Management\n   APPN and HPR management information is defined by\
    \ the APPN MIB (RFC\n   2155 [11]) and the HPR MIB (RFC 2238 [13]).  In addition,\
    \ the SNANAU\n   working group of the IETF plans to define an HPR-IP-MIB that\
    \ will\n   provide HPR/IP-specific management information.  In particular, this\n\
    \   MIB will provide a mapping of APPN traffic types to IP Type of\n   Service\
    \ Precedence values, as well as a count of UDP packets sent for\n   each traffic\
    \ type.\n   There are also rules that must be specified concerning the values\
    \ an\n   HPR/IP implementation returns for objects in the APPN MIB:\n   o   Several\
    \ objects in the APPN MIB have the syntax IANAifType.  The\n       value 126,\
    \ defined as \"IP (for APPN HPR in IP networks)\" should\n       be returned by\
    \ the following three objects when they identify an\n       HPR/IP link:\n   \
    \    -   appnPortDlcType\n       -   appnLsDlcType\n       -   appnLsStatusDlcType\n\
    \   o   Link-level addresses are reported in the following objects:\n       -\
    \   appnPortDlcLocalAddr\n       -   appnLsLocalAddr\n       -   appnLsRemoteAddr\n\
    \       -   appnLsStatusLocalAddr\n       -   appnLsStatusRemoteAddr\n       All\
    \ of these objects should return ASCII character strings that\n       represent\
    \ IP addresses in the usual dotted-decimal format.  (At\n       this point it's\
    \ not clear what the \"usual...format\" will be for\n       IPv6 addresses, but\
    \ whatever it turns out to be, that is what\n       these objects will return\
    \ when an HPR/IP link traverses an IP\n       network.)\n   o   The following\
    \ two objects return Object Identifiers that tie\n       table entries in the\
    \ APPN MIB to entries in lower-layer MIBs:\n       -   appnPortSpecific\n    \
    \   -   appnLsSpecific\n       Both of these objects should return the same value:\
    \  a RowPointer\n       to the ifEntry in the agent's ifTable for the physical\
    \ interface\n       associated with the local IP address for the port.  If the\
    \ agent\n       implements the IP-MIB (RFC 2011 [12]), this association between\n\
    \       the IP address and the physical interface will be represented in\n   \
    \    the ipNetToMediaTable.\n"
- title: 2.9  IPv4-to-IPv6 Migration
  contents:
  - "2.9  IPv4-to-IPv6 Migration\n   The native IP DLC is architected to use IP version\
    \ 4 (IPv4).\n   However, support for IP version 6 (IPv6) may be required in the\n\
    \   future.\n   IP routers and hosts can interoperate only if both ends use the\
    \ same\n   version of the IP protocol.  However, most IPv6 implementations\n \
    \  (routers and hosts) will actually have dual IPv4/IPv6 stacks.  IPv4\n   and\
    \ IPv6 traffic can share transmission facilities provided that the\n   router/host\
    \ at each end has a dual stack.  IPv4 and IPv6 traffic will\n   coexist on the\
    \ same infrastructure in most areas.  The version number\n   in the IP header\
    \ is used to map incoming packets to either the IPv4\n   or IPv6 stack.  A dual-stack\
    \ host which wishes to talk to an IPv4\n   host will use IPv4.\n   Hosts which\
    \ have an IPv4 address can use it as an IPv6 address using\n   a special IPv6\
    \ address prefix (i.e., it is an embedded IPv4 address).\n   This mapping was\
    \ provided mainly for \"legacy\" application\n   compatibility purposes as such\
    \ applications don't have the socket\n   structures needed to store full IPv6\
    \ addresses.  Two IPv6 hosts may\n   communicate using IPv6 with embedded-IPv4\
    \ addresses.\n   Both IPv4 and IPv6 addresses can be stored by the domain name\
    \ service\n   (DNS). When an application queries DNS, it asks for IPv4 addresses,\n\
    \   IPv6 addresses, or both. So, it's the application that decides which\n   stack\
    \ to use based on which addresses it asks for.\n   Migration for HPR/IP ports\
    \ will work as follows:\n   An HPR/IP port is configured to support IPv4, IPv6,\
    \ or both.  If IPv4\n   is supported, a local IPv4 address is defined; if IPv6\
    \ is supported,\n   a local IPv6 address (which can be an embedded IPv4 address)\
    \ is\n   defined.  If both IPv4 and IPv6 are supported, both a local IPv4\n  \
    \ address and a local IPv6 address are defined.\n   Defined links will work as\
    \ follows:  If the local node supports IPv4\n   only, a destination IPv4 address\
    \ may be defined, or an IP host name\n   may be defined in which case DNS will\
    \ be queried for an IPv4 address.\n   If the local node supports IPv6 only, a\
    \ destination IPv6 address may\n   be defined, or an IP host name may be defined\
    \ in which case DNS will\n   be queried for an IPv6 address.  If both IPv4 and\
    \ IPv6 are supported,\n   a destination IPv4 address may be defined, a destination\
    \ IPv6 address\n   may be defined, or an IP host name may be defined in which\
    \ case DNS\n   will be queried for both IPv4 and IPv6 addresses; if provided by\
    \ DNS,\n   an IPv6 address can be used, and an IPv4 address can be used\n   otherwise.\n\
    \   Separate IPv4 and IPv6 connection networks can be defined.  If the\n   local\
    \ node supports IPv4, it can define a connection network TG to\n   the IPv4 VRN.\
    \  If the local node supports IPv6, it can define a TG to\n   the IPv6 VRN.  If\
    \ both are supported, TGs can be defined to both\n   VRNs.  Therefore, the signaling\
    \ information received in RSCVs will be\n   compatible with the local node's capabilities\
    \ unless a configuration\n   error has occurred.\n"
- title: 3.0  References
  contents:
  - "3.0  References\n   [1]  IBM, Systems Network Architecture Advanced Peer-to-Peer\n\
    \   Networking Architecture Reference, SC30-3442-04. Viewable at URL:\n   http://www.raleigh.ibm.com/cgi-bin/bookmgr/BOOKS/D50L0000/CCONTENTS\n\
    \   [2]  IBM, Systems Network Architecture Advanced Peer-to-Peer\n   Networking\
    \ High Performance Routing Architecture Reference, Version\n   3.0, SV40-1018-02.\
    \  Viewable at URL: http://www.raleigh.ibm.com/cgi-\n   bin/bookmgr/BOOKS/D50H6001/CCONTENTS\n\
    \   [3]  IBM, Systems Network Architecture Formats, GA27-3136-16.\n   Viewable\
    \ at URL: http://www.raleigh.ibm.com/cgi-\n   bin/bookmgr/BOOKS/D50A5003/CCONTENTS\n\
    \   [4]  Wells, L. and A. Bartky, \"Data Link Switching: Switch-to-Switch\n  \
    \ Protocol, AIW DLSw RIG:  DLSw Closed Pages, DLSw Standard Version\n   1.0\"\
    , RFC 1795, April 1995.\n   [5]  Bryant, D. and P. Brittain, \"APPN Implementers'\
    \ Workshop Closed\n   Pages Document DLSw v2.0 Enhancements\", RFC 2166, June\
    \ 1997.\n   [6]  Postel, J., \"User Datagram Protocol\", STD 6, RFC 768, August\n\
    \   1980.\n   [7]  Postel, J., \"Internet Protocol\", STD 5, RFC 791, September\
    \ 1981.\n   [8]  Almquist, P., \"Type of Service in the Internet Protocol Suite\"\
    ,\n   RFC 1349, July 1992.\n   [9]  Braden, R., \"Requirements for Internet Hosts\
    \ -- Communication\n   Layers\", STD 3, RFC 1122, October 1989.\n   [10] Braden,\
    \ R., Zhang, L., Berson, S., Herzog, S., and S. Jamin,\n   \"Resource ReSerVation\
    \ Protocol (RSVP) -- Version 1 Functional\n   Specification\", RFC 2205, September\
    \ 1997.\n   [11] Clouston, B., and B. Moore, \"Definitions of Managed Objects\
    \ for\n   APPN using SMIv2\", RFC 2155, June 1997.\n   [12] McCloghrie, K., \"\
    SNMPv2 Management Information Base for the\n   Internet Protocol using SMIv2\"\
    , RFC 2011, November 1996.\n   [13] Clouston, B., and B. Moore, \"Definitions\
    \ of Managed Objects for\n   HPR using SMIv2\", RFC 2238, November 1997.\n"
- title: 4.0  Security Considerations
  contents:
  - "4.0  Security Considerations\n   For HPR, the IP network appears to be a link.\
    \  For that reason, the\n   SNA session-level security functions (user authentication,\
    \ LU\n   authentication, session encryption, etc.) are still available for\n \
    \  use.  In addition, as HPR traffic flows as UDP datagrams through the\n   IP\
    \ network, IPsec can be used to provide network-layer security\n   inside the\
    \ IP network.\n   There are firewall considerations when supporting HPR traffic\
    \ using\n   the native IP DLC.  First, the firewall filters can be set to allow\n\
    \   the HPR traffic to pass.  Traffic can be restricted based on the\n   source\
    \ and destination IP addresses and the destination port number;\n   the source\
    \ port number is not relevant.  That is, the firewall should\n   accept traffic\
    \ with the IP addresses of the HPR/IP nodes and with\n   destination port numbers\
    \ in the range 12000 to 12004.  Second, the\n   possibility exists for an attack\
    \ using forged UDP datagrams; such\n   attacks could cause the RTP connection\
    \ to fail or even introduce\n   false data on a session.  In environments where\
    \ such attacks are\n   expected, the use of network-layer security is recommended.\n"
- title: 5.0  Author's Address
  contents:
  - "5.0  Author's Address\n   Gary Dudley\n   C3BA/501\n   IBM Corporation\n   P.O.\
    \ Box 12195\n   Research Triangle Park, NC 27709, USA\n   Phone: +1 919-254-4358\n\
    \   Fax:   +1 919-254-6243\n   EMail: dudleyg@us.ibm.com\n"
- title: 6.0  Appendix - Packet Format
  contents:
  - '6.0  Appendix - Packet Format

    '
- title: 6.1  HPR Use of IP Formats
  contents:
  - '6.1  HPR Use of IP Formats

    '
- title: +----------------------------------------------------------------------+
  contents:
  - '+----------------------------------------------------------------------+

    '
- title: '| 6.1.1  IP Format for LLC Commands and Responses                      |'
  contents:
  - '| 6.1.1  IP Format for LLC Commands and Responses                      |

    '
- title: '|                                                                      |'
  contents:
  - '|                                                                      |

    '
- title: '|                     The formats described here are used for the      |'
  contents:
  - '|                     The formats described here are used for the      |

    '
- title: '|                     following LLC commands and responses:  XID       |'
  contents:
  - '|                     following LLC commands and responses:  XID       |

    '
- title: '|                     command and response, TEST command and response, |'
  contents:
  - '|                     command and response, TEST command and response, |

    '
- title: '|                     DISC command, and DM response.                   |'
  contents:
  - '|                     DISC command, and DM response.                   |

    '
- title: +----------------------------------------------------------------------+
  contents:
  - '+----------------------------------------------------------------------+

    '
- title: +----------------------------------------------------------------------+
  contents:
  - '+----------------------------------------------------------------------+

    '
- title: '| IP Format for LLC Commands and Responses                             |'
  contents:
  - '| IP Format for LLC Commands and Responses                             |

    '
- title: +-------+-----+--------------------------------------------------------+
  contents:
  - '+-------+-----+--------------------------------------------------------+

    '
- title: '| Byte  | Bit | Content                                                |'
  contents:
  - '| Byte  | Bit | Content                                                |

    '
- title: +-------+-----+--------------------------------------------------------+
  contents:
  - '+-------+-----+--------------------------------------------------------+

    '
- title: +-------+-----+--------------------------------------------------------+
  contents:
  - '+-------+-----+--------------------------------------------------------+

    '
- title: '| 0-p   |     | IP header (see note 1)                                 |'
  contents:
  - '| 0-p   |     | IP header (see note 1)                                 |

    '
- title: +-------+-----+--------------------------------------------------------+
  contents:
  - '+-------+-----+--------------------------------------------------------+

    '
- title: +-------+-----+--------------------------------------------------------+
  contents:
  - '+-------+-----+--------------------------------------------------------+

    '
- title: '| p+1-  |     | UDP header (see note 2)                                |'
  contents:
  - '| p+1-  |     | UDP header (see note 2)                                |

    '
- title: '| p+8   |     |                                                        |'
  contents:
  - '| p+8   |     |                                                        |

    '
- title: +-------+-----+--------------------------------------------------------+
  contents:
  - '+-------+-----+--------------------------------------------------------+

    '
- title: +-------+-----+--------------------------------------------------------+
  contents:
  - '+-------+-----+--------------------------------------------------------+

    '
- title: '| p+9-  |     | IEEE 802.2 LLC header (see note 3)                     |'
  contents:
  - "| p+9-  |     | IEEE 802.2 LLC header (see note 3)                     |\n  \
    \              _____________________\n"
- title: '| p+11  |     |                                                        |'
  contents:
  - '| p+11  |     |                                                        |

    '
- title: +-------+-----+--------------------------------------------------------+
  contents:
  - '+-------+-----+--------------------------------------------------------+

    '
- title: +-------+-----+--------------------------------------------------------+
  contents:
  - '+-------+-----+--------------------------------------------------------+

    '
- title: '| p+9   |     | DSAP:  same as for the base APPN (i.e., X''04'' or an    |'
  contents:
  - '| p+9   |     | DSAP:  same as for the base APPN (i.e., X''04'' or an    |

    '
- title: '|       |     | installation-defined value)                            |'
  contents:
  - '|       |     | installation-defined value)                            |

    '
- title: +-------+-----+--------------------------------------------------------+
  contents:
  - '+-------+-----+--------------------------------------------------------+

    '
- title: +-------+-----+--------------------------------------------------------+
  contents:
  - '+-------+-----+--------------------------------------------------------+

    '
- title: '| p+10  |     | SSAP:  same as for the base APPN (i.e., X''04'' or an    |'
  contents:
  - '| p+10  |     | SSAP:  same as for the base APPN (i.e., X''04'' or an    |

    '
- title: '|       |     | installation-defined value)                            |'
  contents:
  - '|       |     | installation-defined value)                            |

    '
- title: +-------+-----+--------------------------------------------------------+
  contents:
  - '+-------+-----+--------------------------------------------------------+

    '
- title: +-------+-----+--------------------------------------------------------+
  contents:
  - '+-------+-----+--------------------------------------------------------+

    '
- title: '| p+11  |     | Control: set as appropriate                            |'
  contents:
  - '| p+11  |     | Control: set as appropriate                            |

    '
- title: +-------+-----+--------------------------------------------------------+
  contents:
  - '+-------+-----+--------------------------------------------------------+

    '
- title: +-------+-----+--------------------------------------------------------+
  contents:
  - '+-------+-----+--------------------------------------------------------+

    '
- title: '| p+12-n|     | Remainder of PDU:  XID3 or TEST information field, or  |'
  contents:
  - '| p+12-n|     | Remainder of PDU:  XID3 or TEST information field, or  |

    '
- title: '|       |     | null for DISC command and DM response                  |'
  contents:
  - '|       |     | null for DISC command and DM response                  |

    '
- title: +-------+-----+--------------------------------------------------------+
  contents:
  - '+-------+-----+--------------------------------------------------------+

    '
- title: +-------+-----+--------------------------------------------------------+
  contents:
  - '+-------+-----+--------------------------------------------------------+

    '
- title: '|       |     | Note 1:  Rules for encoding the IP header can be found |'
  contents:
  - '|       |     | Note 1:  Rules for encoding the IP header can be found |

    '
- title: '|       |     | in RFC 791.                                            |'
  contents:
  - '|       |     | in RFC 791.                                            |

    '
- title: +-------+-----+--------------------------------------------------------+
  contents:
  - '+-------+-----+--------------------------------------------------------+

    '
- title: +-------+-----+--------------------------------------------------------+
  contents:
  - '+-------+-----+--------------------------------------------------------+

    '
- title: '|       |     | Note 2:  Rules for encoding the UDP header can be      |'
  contents:
  - '|       |     | Note 2:  Rules for encoding the UDP header can be      |

    '
- title: '|       |     | found in RFC 768.                                      |'
  contents:
  - '|       |     | found in RFC 768.                                      |

    '
- title: +-------+-----+--------------------------------------------------------+
  contents:
  - '+-------+-----+--------------------------------------------------------+

    '
- title: +----------------------------------------------------------------------+
  contents:
  - '+----------------------------------------------------------------------+

    '
- title: '| IP Format for LLC Commands and Responses                             |'
  contents:
  - '| IP Format for LLC Commands and Responses                             |

    '
- title: +-------+-----+--------------------------------------------------------+
  contents:
  - '+-------+-----+--------------------------------------------------------+

    '
- title: '| Byte  | Bit | Content                                                |'
  contents:
  - '| Byte  | Bit | Content                                                |

    '
- title: +-------+-----+--------------------------------------------------------+
  contents:
  - '+-------+-----+--------------------------------------------------------+

    '
- title: +-------+-----+--------------------------------------------------------+
  contents:
  - '+-------+-----+--------------------------------------------------------+

    '
- title: '|       |     | Note 3:  Rules for encoding the IEEE 802.2 LLC header  |'
  contents:
  - '|       |     | Note 3:  Rules for encoding the IEEE 802.2 LLC header  |

    '
- title: '|       |     | can be found in ISO/IEC 8802-2:1994 (ANSI/IEEE Std     |'
  contents:
  - '|       |     | can be found in ISO/IEC 8802-2:1994 (ANSI/IEEE Std     |

    '
- title: '|       |     | 802.2, 1994 Edition), Information technology -         |'
  contents:
  - '|       |     | 802.2, 1994 Edition), Information technology -         |

    '
- title: '|       |     | Telecommunications and information exchange between    |'
  contents:
  - '|       |     | Telecommunications and information exchange between    |

    '
- title: '|       |     | systems - Local and metropolitan area networks -       |'
  contents:
  - '|       |     | systems - Local and metropolitan area networks -       |

    '
- title: '|       |     | Specific requirements - Part 2:  Logical Link Control. |'
  contents:
  - '|       |     | Specific requirements - Part 2:  Logical Link Control. |

    '
- title: +-------+-----+--------------------------------------------------------+
  contents:
  - '+-------+-----+--------------------------------------------------------+

    '
- title: +----------------------------------------------------------------------+
  contents:
  - '+----------------------------------------------------------------------+

    '
- title: '| 6.1.2  IP Format for NLPs in UI Frames                               |'
  contents:
  - '| 6.1.2  IP Format for NLPs in UI Frames                               |

    '
- title: '|                                                                      |'
  contents:
  - '|                                                                      |

    '
- title: '|                     This format is used for either LDLC specific     |'
  contents:
  - '|                     This format is used for either LDLC specific     |

    '
- title: '|                     messages or HPR session and control traffic.     |'
  contents:
  - '|                     messages or HPR session and control traffic.     |

    '
- title: +----------------------------------------------------------------------+
  contents:
  - '+----------------------------------------------------------------------+

    '
- title: +----------------------------------------------------------------------+
  contents:
  - '+----------------------------------------------------------------------+

    '
- title: '| IP Format for NLPs in UI Frames                                      |'
  contents:
  - '| IP Format for NLPs in UI Frames                                      |

    '
- title: +-------+-----+--------------------------------------------------------+
  contents:
  - '+-------+-----+--------------------------------------------------------+

    '
- title: '| Byte  | Bit | Content                                                |'
  contents:
  - '| Byte  | Bit | Content                                                |

    '
- title: +-------+-----+--------------------------------------------------------+
  contents:
  - '+-------+-----+--------------------------------------------------------+

    '
- title: +-------+-----+--------------------------------------------------------+
  contents:
  - '+-------+-----+--------------------------------------------------------+

    '
- title: '| 0-p   |     | IP header (see note 1)                                 |'
  contents:
  - '| 0-p   |     | IP header (see note 1)                                 |

    '
- title: +-------+-----+--------------------------------------------------------+
  contents:
  - '+-------+-----+--------------------------------------------------------+

    '
- title: +-------+-----+--------------------------------------------------------+
  contents:
  - '+-------+-----+--------------------------------------------------------+

    '
- title: '| p+1-  |     | UDP header (see note 2)                                |'
  contents:
  - '| p+1-  |     | UDP header (see note 2)                                |

    '
- title: '| p+8   |     |                                                        |'
  contents:
  - '| p+8   |     |                                                        |

    '
- title: +-------+-----+--------------------------------------------------------+
  contents:
  - '+-------+-----+--------------------------------------------------------+

    '
- title: +-------+-----+--------------------------------------------------------+
  contents:
  - '+-------+-----+--------------------------------------------------------+

    '
- title: '| p+9-  |     | IEEE 802.2 LLC header                                  |'
  contents:
  - "| p+9-  |     | IEEE 802.2 LLC header                                  |\n  \
    \              _____________________\n"
- title: '| p+11  |     |                                                        |'
  contents:
  - '| p+11  |     |                                                        |

    '
- title: +-------+-----+--------------------------------------------------------+
  contents:
  - '+-------+-----+--------------------------------------------------------+

    '
- title: +-------+-----+--------------------------------------------------------+
  contents:
  - '+-------+-----+--------------------------------------------------------+

    '
- title: '| p+9   |     | DSAP:  the destination SAP obtained from the IEEE      |'
  contents:
  - '| p+9   |     | DSAP:  the destination SAP obtained from the IEEE      |

    '
- title: '|       |     | 802.2 LLC (X''80'') subfield in the HPR Capabilities     |'
  contents:
  - '|       |     | 802.2 LLC (X''80'') subfield in the HPR Capabilities     |

    '
- title: '|       |     | (X''61'') control vector in the received XID3 (see note  |'
  contents:
  - '|       |     | (X''61'') control vector in the received XID3 (see note  |

    '
- title: '|       |     | 3)                                                     |'
  contents:
  - '|       |     | 3)                                                     |

    '
- title: +-------+-----+--------------------------------------------------------+
  contents:
  - '+-------+-----+--------------------------------------------------------+

    '
- title: +-------+-----+--------------------------------------------------------+
  contents:
  - '+-------+-----+--------------------------------------------------------+

    '
- title: '| p+10  |     | SSAP:  the source SAP obtained from the IEEE 802.2 LLC |'
  contents:
  - '| p+10  |     | SSAP:  the source SAP obtained from the IEEE 802.2 LLC |

    '
- title: '|       |     | (X''80'') subfield in the HPR Capabilities (X''61'')       |'
  contents:
  - '|       |     | (X''80'') subfield in the HPR Capabilities (X''61'')       |

    '
- title: '|       |     | control vector in the sent XID3 (see note 4)           |'
  contents:
  - '|       |     | control vector in the sent XID3 (see note 4)           |

    '
- title: +-------+-----+--------------------------------------------------------+
  contents:
  - '+-------+-----+--------------------------------------------------------+

    '
- title: +-------+-----+--------------------------------------------------------+
  contents:
  - '+-------+-----+--------------------------------------------------------+

    '
- title: '| p+11  |     | Control:                                               |'
  contents:
  - '| p+11  |     | Control:                                               |

    '
- title: +-------+-----+-------+------------------------------------------------+
  contents:
  - '+-------+-----+-------+------------------------------------------------+

    '
- title: '|       |     | X''03'' | UI with P/F bit off                            |'
  contents:
  - '|       |     | X''03'' | UI with P/F bit off                            |

    '
- title: +-------+-----+-------+------------------------------------------------+
  contents:
  - '+-------+-----+-------+------------------------------------------------+

    '
- title: +-------+-----+--------------------------------------------------------+
  contents:
  - '+-------+-----+--------------------------------------------------------+

    '
- title: '| p+12-n|     | Remainder of PDU:  NLP                                 |'
  contents:
  - '| p+12-n|     | Remainder of PDU:  NLP                                 |

    '
- title: +-------+-----+--------------------------------------------------------+
  contents:
  - '+-------+-----+--------------------------------------------------------+

    '
- title: +-------+-----+--------------------------------------------------------+
  contents:
  - '+-------+-----+--------------------------------------------------------+

    '
- title: '|       |     | Note 1:  Rules for encoding the IP header can be found |'
  contents:
  - '|       |     | Note 1:  Rules for encoding the IP header can be found |

    '
- title: '|       |     | in RFC 791.                                            |'
  contents:
  - '|       |     | in RFC 791.                                            |

    '
- title: +-------+-----+--------------------------------------------------------+
  contents:
  - '+-------+-----+--------------------------------------------------------+

    '
- title: +-------+-----+--------------------------------------------------------+
  contents:
  - '+-------+-----+--------------------------------------------------------+

    '
- title: '|       |     | Note 2:  Rules for encoding the UDP header can be      |'
  contents:
  - '|       |     | Note 2:  Rules for encoding the UDP header can be      |

    '
- title: '|       |     | found in RFC 768.                                      |'
  contents:
  - '|       |     | found in RFC 768.                                      |

    '
- title: +-------+-----+--------------------------------------------------------+
  contents:
  - '+-------+-----+--------------------------------------------------------+

    '
- title: +----------------------------------------------------------------------+
  contents:
  - '+----------------------------------------------------------------------+

    '
- title: '| IP Format for NLPs in UI Frames                                      |'
  contents:
  - '| IP Format for NLPs in UI Frames                                      |

    '
- title: +-------+-----+--------------------------------------------------------+
  contents:
  - '+-------+-----+--------------------------------------------------------+

    '
- title: '| Byte  | Bit | Content                                                |'
  contents:
  - '| Byte  | Bit | Content                                                |

    '
- title: +-------+-----+--------------------------------------------------------+
  contents:
  - '+-------+-----+--------------------------------------------------------+

    '
- title: +-------+-----+--------------------------------------------------------+
  contents:
  - '+-------+-----+--------------------------------------------------------+

    '
- title: '|       |     | Note 3:  The User-Defined Address bit is considered    |'
  contents:
  - '|       |     | Note 3:  The User-Defined Address bit is considered    |

    '
- title: '|       |     | part of the DSAP.  The Individual/Group bit in the     |'
  contents:
  - '|       |     | part of the DSAP.  The Individual/Group bit in the     |

    '
- title: '|       |     | DSAP field is set to 0 by the sender and ignored by    |'
  contents:
  - '|       |     | DSAP field is set to 0 by the sender and ignored by    |

    '
- title: '|       |     | the receiver.                                          |'
  contents:
  - '|       |     | the receiver.                                          |

    '
- title: +-------+-----+--------------------------------------------------------+
  contents:
  - '+-------+-----+--------------------------------------------------------+

    '
- title: +-------+-----+--------------------------------------------------------+
  contents:
  - '+-------+-----+--------------------------------------------------------+

    '
- title: '|       |     | Note 4:  The User-Defined Address bit is considered    |'
  contents:
  - '|       |     | Note 4:  The User-Defined Address bit is considered    |

    '
- title: '|       |     | part of the SSAP.  The Command/Response bit in the     |'
  contents:
  - '|       |     | part of the SSAP.  The Command/Response bit in the     |

    '
- title: '|       |     | SSAP field is set to 0 by the sender and ignored by    |'
  contents:
  - '|       |     | SSAP field is set to 0 by the sender and ignored by    |

    '
- title: '|       |     | the receiver.                                          |'
  contents:
  - '|       |     | the receiver.                                          |

    '
- title: +-------+-----+--------------------------------------------------------+
  contents:
  - '+-------+-----+--------------------------------------------------------+

    '
- title: 7.0  Full Copyright Statement
  contents:
  - '7.0  Full Copyright Statement

    '
- title: Copyright (C) The Internet Society (1997).  All Rights Reserved.
  contents:
  - 'Copyright (C) The Internet Society (1997).  All Rights Reserved.

    '
- title: This document and translations of it may be copied and furnished to
  contents:
  - 'This document and translations of it may be copied and furnished to

    '
- title: others, and derivative works that comment on or otherwise explain it or
  contents:
  - 'others, and derivative works that comment on or otherwise explain it or

    '
- title: assist in its implementation may be prepared, copied, published and
  contents:
  - 'assist in its implementation may be prepared, copied, published and

    '
- title: distributed, in whole or in part, without restriction of any kind,
  contents:
  - 'distributed, in whole or in part, without restriction of any kind,

    '
- title: provided that the above copyright notice and this paragraph are included
  contents:
  - 'provided that the above copyright notice and this paragraph are included

    '
- title: on all such copies and derivative works.  However, this document itself
  contents:
  - 'on all such copies and derivative works.  However, this document itself

    '
- title: may not be modified in any way, such as by removing the copyright notice
  contents:
  - 'may not be modified in any way, such as by removing the copyright notice

    '
- title: or references to the Internet Society or other Internet organizations,
  contents:
  - 'or references to the Internet Society or other Internet organizations,

    '
- title: except as needed for the purpose of developing Internet standards in
  contents:
  - 'except as needed for the purpose of developing Internet standards in

    '
- title: which case the procedures for copyrights defined in the Internet
  contents:
  - 'which case the procedures for copyrights defined in the Internet

    '
- title: Standards process must be followed, or as required to translate it into
  contents:
  - 'Standards process must be followed, or as required to translate it into

    '
- title: languages other than English.
  contents:
  - 'languages other than English.

    '
- title: The limited permissions granted above are perpetual and will not be
  contents:
  - 'The limited permissions granted above are perpetual and will not be

    '
- title: revoked by the Internet Society or its successors or assigns.
  contents:
  - 'revoked by the Internet Society or its successors or assigns.

    '
- title: This document and the information contained herein is provided on an "AS
  contents:
  - 'This document and the information contained herein is provided on an "AS

    '
- title: IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING TASK
  contents:
  - 'IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING TASK

    '
- title: FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT
  contents:
  - 'FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT

    '
- title: LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION HEREIN WILL NOT
  contents:
  - 'LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION HEREIN WILL NOT

    '
- title: INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF MERCHANTABILITY OR
  contents:
  - 'INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF MERCHANTABILITY OR

    '
- title: FITNESS FOR A PARTICULAR PURPOSE.
  contents:
  - 'FITNESS FOR A PARTICULAR PURPOSE.

    '
