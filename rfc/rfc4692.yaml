- title: __initial_text__
  contents:
  - '             Considerations on the IPv6 Host Density Metric

    '
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This memo provides information for the Internet community.\
    \  It does\n   not specify an Internet standard of any kind.  Distribution of\
    \ this\n   memo is unlimited.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (C) The Internet Society (2006).\n"
- title: Abstract
  contents:
  - "Abstract\n   This memo provides an analysis of the Host Density metric as it\
    \ is\n   currently used to guide registry allocations of IPv6 unicast address\n\
    \   blocks.  This document contrasts the address efficiency as currently\n   adopted\
    \ in the allocation of IPv4 network addresses and that used by\n   the IPv6 protocol.\
    \  Note that for large allocations there are very\n   significant variations in\
    \ the target efficiency metric between the\n   two approaches.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1. Introduction ....................................................2\n\
    \   2. IPv6 Address Structure ..........................................2\n  \
    \ 3. The Host Density Ratio ..........................................3\n   4.\
    \ The Role of an Address Efficiency Metric ........................4\n   5. Network\
    \ Structure and Address Efficiency Metric .................6\n   6. Varying the\
    \ HD-Ratio ............................................7\n      6.1. Simulation\
    \ Results .........................................8\n   7. Considerations .................................................10\n\
    \   8. Security Considerations ........................................11\n  \
    \ 9. Acknowledgements ...............................................11\n   10.\
    \ References ....................................................12\n      10.1.\
    \ Normative References .....................................12\n      10.2. Informative\
    \ References ...................................12\n   Appendix A.  Comparison\
    \ Tables ....................................13\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   Metrics of address assignment efficiency are used in the\
    \ context of\n   the Regional Internet Registries' (RIRs') address allocation\n\
    \   function.  Through the use of a common address assignment efficiency\n   metric,\
    \ individual networks can be compared to a threshold value in\n   an objective\
    \ fashion.  The common use of this metric is to form part\n   of the supporting\
    \ material for an address allocation request,\n   demonstrating that the network\
    \ has met or exceeded the threshold\n   address efficiency value, and it forms\
    \ part of the supportive\n   material relating to the justification of the allocation\
    \ of a further\n   address block.\n   Public and private IP networks have significant\
    \ differences in\n   purpose, structure, size, and technology.  Attempting to\
    \ impose a\n   single efficiency metric across this very diverse environment is\
    \ a\n   challenging task.  Any address assignment efficiency threshold value\n\
    \   has to represent a balance between stating an achievable outcome for\n   any\
    \ competently designed and operated service platform while without\n   setting\
    \ a level of consumption of address resources that imperils the\n   protocol's\
    \ longer term viability through consequent address scarcity.\n   There are a number\
    \ of views relating to address assignment\n   efficiency, both in terms of theoretic\
    \ analyses of assignment\n   efficiency and in terms of practical targets that\
    \ are part of current\n   address assignment practices in today's Internet.\n\
    \   This document contrasts the address efficiency metric and threshold\n   value\
    \ as currently adopted in the allocation of IPv4 network\n   addresses and the\
    \ framework used by the address allocation process\n   for the IPv6 protocol.\n"
- title: 2.  IPv6 Address Structure
  contents:
  - "2.  IPv6 Address Structure\n   Before looking at address allocation efficiency\
    \ metrics, it is\n   appropriate to summarize the address structure for IPv6 global\n\
    \   unicast addresses.\n   The general format for IPv6 global unicast addresses\
    \ is defined in\n   [RFC4291] as follows (Figure 1).\n    |         64 - m bits\
    \    |   m bits  |       64 bits              |\n    +------------------------+-----------+----------------------------+\n\
    \    | global routing prefix  | subnet ID |       interface ID         |\n   \
    \ +------------------------+-----------+----------------------------+\n      \
    \                    IPv6 Address Structure\n                                \
    \ Figure 1\n   Within the current policy framework for allocation of IPv6 addresses\n\
    \   in the context of the public Internet, the value for 'm' in the\n   figure\
    \ above, referring to the subnet ID, is commonly a 16-bit field.\n   Therefore,\
    \ the end-site global routing prefix is 48 bits in length,\n   the per-customer\
    \ subnet ID is 16 bits in length, and the interface ID\n   is 64 bits in length\
    \ [RFC3177].\n   In relating this address structure to the address allocation\n\
    \   function, the efficiency metric is not intended to refer to the use\n   of\
    \ individual 128-bit IPv6 addresses nor that of the use of the 64-\n   bit subnet\
    \ prefix.  Instead, it is limited to a measure of efficiency\n   of use of the\
    \ end-site global routing prefix.  This allocation model\n   assumes that each\
    \ customer is allocated a minimum of a single /48\n   address block.  Given that\
    \ this block allows 2^16 possible subnets,\n   it is also assumed that a /48 allocation\
    \ will be used in the overall\n   majority of cases of end-customer address assignment.\n\
    \   The following discussion makes the assumption that the address\n   allocation\
    \ unit in IPv6 is an address prefix of 48 bits in length,\n   and that the address\
    \ assignment efficiency in this context is the\n   efficiency of assignment of\
    \ /48 address allocation units.  However,\n   the analysis presented here refers\
    \ more generally to end-site address\n   allocation practices rather than /48\
    \ address prefixes in particular,\n   and is applicable in the context of any\
    \ size of end-site global\n   routing prefix.\n"
- title: 3.  The Host Density Ratio
  contents:
  - "3.  The Host Density Ratio\n   The \"Host Density Ratio\" was first described\
    \ in [RFC1715] and\n   subsequently updated in [RFC3194].\n   The \"H Ratio\"\
    , as defined in RFC 1715, is:\n                            log (number of objects)\n\
    \                        H = -----------------------\n                       \
    \           available bits\n                                 Figure 2\n   The\
    \ argument presented in [RFC1715] draws on a number of examples to\n   support\
    \ the assertion that this metric reflects a useful generic\n   measure of address\
    \ assignment efficiency in a range of end-site\n   addressed networks, and furthermore\
    \ that the optimal point for such a\n   utilization efficiency metric lies in\
    \ an H Ratio value between 0.14\n   and 0.26.  Lower H Ratio values represent\
    \ inefficient address use,\n   and higher H Ratio values tend to be associated\
    \ with various forms of\n   additional network overhead related to forced re-addressing\n\
    \   operations.\n   This particular metric has a maximal value of log base 10\
    \ of 2, or\n   0.30103.\n   The metric was 'normalized' in RFC 3194, and a new\
    \ metric, the \"HD-\n   Ratio\" was introduced, with the following definition:\n\
    \                        log(number of allocated objects)\n              HD =\
    \ ------------------------------------------\n                   log(maximum number\
    \ of allocatable objects)\n                                 Figure 3\n   HD-Ratio\
    \ values are proportional to the H ratio, and the values of\n   the HD-Ratio range\
    \ from 0 to 1.  The analysis described in [RFC3194]\n   applied this HD-Ratio\
    \ metric to the examples given in [RFC1715] and,\n   on the basis of these examples,\
    \ postulated that HD-Ratio values of\n   0.85 or higher force the network into\
    \ some form of renumbering.  HD-\n   Ratio values of 0.80 or lower were considered\
    \ an acceptable network\n   efficiency metric.\n   The HD-Ratio is referenced\
    \ within the IPv6 address allocation\n   policies used by the Regional Internet\
    \ Registries, and their IPv6\n   address allocation policy documents specify that\
    \ an HD-Ratio metric\n   of 0.8 is an acceptable objective in terms of address\
    \ assignment\n   efficiency for an IPv6 network.\n   By contrast, the generally\
    \ used address efficiency metric for IPv4 is\n   the simple ratio of the number\
    \ of allocated (or addressed) objects to\n   the maximum number of allocatable\
    \ objects.  For IPv4, the commonly\n   applied value for this ratio is 0.8 (or\
    \ 80%).\n   A comparison of these two metrics is given in Table 1 of Attachment\n\
    \   A.\n"
- title: 4.  The Role of an Address Efficiency Metric
  contents:
  - "4.  The Role of an Address Efficiency Metric\n   The role of the address efficiency\
    \ metric is to provide objective\n   metrics relating to a network's use of address\
    \ space that can be used\n   by both the allocation entity and the applicant to\
    \ determine whether\n   an address allocation is warranted, and provide some indication\
    \ of\n   the size of the address allocation that should be undertaken.  The\n\
    \   metric provides a target address utilization level that indicates at\n   what\
    \ point a network's address resource may be considered \"fully\n   utilized\"\
    .\n   The objective here is to allow the network service provider to deploy\n\
    \   addresses across both network infrastructure and the network's\n   customers\
    \ in a manner that does not entail periodic renumbering, and\n   in a manner that\
    \ allows both the internal routing system and inter-\n   domain routing system\
    \ to operate without excessive fragmentation of\n   the address space and consequent\
    \ expansion of the number of route\n   objects carried within the routing systems.\
    \  This entails use of an\n   addressing plan where at each level of structure\
    \ within the network\n   there is a pool of address blocks that allows expansion\
    \ of the\n   network at that structure level without requiring renumbering of\
    \ the\n   remainder of the network.\n   It is recognized that an address utilization\
    \ efficiency metric of\n   100% is unrealistic in any scenario.  Within a typical\
    \ network\n   address plan, the network's address space is exhausted not when\
    \ all\n   address resources have been used, but at the point when one element\n\
    \   within the structure has exhausted its pool, and when augmentation of\n  \
    \ this pool by drawing from the pools of other elements would entail\n   extensive\
    \ renumbering.  While it is not possible to provide a\n   definitive threshold\
    \ of what overall efficiency level is obtainable\n   in all IP networks, experience\
    \ with IPv4 network deployments suggests\n   that it is reasonable to observe\
    \ that at any particular level within\n   a hierarchically structured address\
    \ deployment plan an efficiency\n   level of between 60% to 80% is an achievable\
    \ metric in the general\n   case.\n   This IPv4 efficiency threshold is significantly\
    \ greater than that\n   observed in the examples provided in conjunction with\
    \ the HD-Ratio\n   description in [RFC1715].  Note that the examples used in the\
    \ HD-\n   Ratio are drawn from, among other sources, the Public Switched\n   Telephone\
    \ Network (PSTN).  This comparison with the PSTN warrants\n   some additional\
    \ examination.  There are a number of differences\n   between public IP network\
    \ deployments and PSTN deployments that may\n   account for this difference. \
    \ IP addresses are deployed on a per-\n   provider basis with an alignment to\
    \ network topology.  PSTN addresses\n   are, on the whole, deployed using a geographical\
    \ distribution system\n   of \"call areas\" that share a common number prefix.\
    \  Within each call\n   area, a sufficient number blocks from the number prefix\
    \ must be\n   available to allow each operator to draw their own number block\
    \ from\n   the area pool.  Within the IP environment, service providers do not\n\
    \   draw address blocks from a common geographic number pool but receive\n   address\
    \ blocks from the Regional Internet Registry on a 'whole of\n   network' basis.\
    \  This difference in the address structure allows an\n   IP environment to achieve\
    \ an overall higher level of address\n   utilization efficiency.\n   In terms\
    \ of considering the number of levels of internal hierarchy in\n   IP networks,\
    \ the interior routing protocol, if uniformly deployed,\n   admits a hierarchical\
    \ network structure that is only two levels deep,\n   with a fully connected backbone\
    \ \"core\" and a number of satellite\n   areas that are directly attached to this\
    \ \"core\".  Additional levels\n   of routing hierarchy may be obtained using\
    \ various forms of routing\n   confederations, but this is not an extremely common\
    \ deployment\n   technique.  The most common form of network structure used in\
    \ large\n   IP networks is a three-level structure using regions, individual\n\
    \   Points of Presence (POPs), and end-customers.\n   Also, note that large-scale\
    \ IP deployments typically use a relatively\n   flat routing structure, as compared\
    \ to a deeply hierarchical\n   structure.  In order to improve the dynamic performance\
    \ of the\n   interior routing protocol the number of routes carried in the\n \
    \  interior routing protocol, is commonly restricted to the routes\n   corresponding\
    \ to next-hop destinations for iBGP routes, and customer\n   routes are carried\
    \ in the iBGP domain and aggregated at the point\n   where the routes are announced\
    \ in eBGP sessions.  This implies that\n   per-POP or per-region address aggregations\
    \ according to some fixed\n   address hierarchy is not a necessary feature of\
    \ large IP networks, so\n   strict hierarchical address structure within all parts\
    \ of the network\n   is not a necessity in such routing environments.\n"
- title: 5.  Network Structure and Address Efficiency Metric
  contents:
  - "5.  Network Structure and Address Efficiency Metric\n   An address efficiency\
    \ metric can be expressed using the number of\n   levels of structure (n) and\
    \ the efficiency achieved at each level\n   (e).  If the same efficiency threshold\
    \ is applied at each level of\n   structure, the resultant efficiency threshold\
    \ is e^n.  This then\n   allows us to make some additional observations about\
    \ the HD-Ratio\n   values.  Table 2 of Appendix A (Figure 8) indicates the number\
    \ of\n   levels of structure that are implied by a given HD-Ratio value of 0.8\n\
    \   for each address allocation block size, assuming a fixed efficiency\n   level\
    \ at all levels of the structure.  The implication is that for\n   large address\
    \ blocks, the HD-Ratio assumes a large number of elements\n   in the hierarchical\
    \ structure, or a very low level of address\n   efficiency at the lower levels.\
    \  In the case of IP network\n   deployments, this latter situation is not commonly\
    \ the case.\n   The most common form of interior routing structure used in IP\n\
    \   networks is a two-level routing structure.  It is consistent with\n   this\
    \ constrained routing architecture that network address plans\n   appear to be\
    \ commonly devised using up to a three-level hierarchical\n   structure, while\
    \ for larger networks a four-level structure may\n   generally be used.\n   Table\
    \ 3 of Attachment A (Figure 9) shows an example of address\n   efficiency outcomes\
    \ using a per-level efficiency metric of 0.75 (75%)\n   and a progressively deeper\
    \ network structure as the address block\n   expands.  This model (termed here\
    \ \"limited levels\") limits the\n   maximal number of levels of internal hierarchy\
    \ to 6 and uses a model\n   where the number of levels of network hierarchy increases\
    \ by 1 when\n   the network increases in size by a factor of a little over one\
    \ order\n   of magnitude.\n   It is illustrative to compare these metrics for\
    \ a larger network\n   deployment.  If, for example, the network is designed to\
    \ encompass 8\n   million end customers, each of which is assigned a 16-bit subnet\
    \ ID\n   for their end site, then the following table Figure 4 indicates the\n\
    \   associated allocation size as determined by the address efficiency\n   metric.\n\
    \         Allocation:  8M Customers\n                                   Allocation\
    \    Relative Ratio\n         100% Allocation Efficiency   /25               1\n\
    \         80%  Efficiency (IPv4)       /24               2\n         0.8  HD-Ratio\
    \                /19              64\n         75%  with Limited Level      /23\
    \               4\n         0.94 HD-Ratio                /23               4\n\
    \                                    Figure 4\n   Note that the 0.8 HD-Ratio produces\
    \ a significantly lower efficiency\n   level than the other metrics.  The limited-level\
    \ model appears to\n   point to a more realistic value for an efficiency value\
    \ for networks\n   of this scale (corresponding to a network with 4 levels of\
    \ internal\n   hierarchy, each with a target utilization efficiency of 75%). \
    \ This\n   limited-level model corresponds to an HD-Ratio with a threshold value\n\
    \   of 0.945.\n"
- title: 6.  Varying the HD-Ratio
  contents:
  - "6.  Varying the HD-Ratio\n   One way to model the range of outcomes of taking\
    \ a more limited\n   approach to the number of levels of aggregateable hierarchy\
    \ is to\n   look at a comparison of various values for the HD-Ratio with the\n\
    \   model of a fixed efficiency and the \"Limited Levels\" model.  This is\n \
    \  indicated in Figure 5.\n          Prefix Length (bits)\n          |\n     \
    \     |\n          | Limited    HD-Ratio\n          |  Levels    0.98    0.94\
    \    0.90    0.86    0.82    0.80\n          |       |       |       |       |\
    \       |       |       |\n          1   0.750   0.986   0.959   0.933   0.908\
    \   0.883   0.871\n          4   0.750   0.946   0.847   0.758   0.678   0.607\
    \   0.574\n          8   0.750   0.895   0.717   0.574   0.460   0.369   0.330\n\
    \         12   0.563   0.847   0.607   0.435   0.312   0.224   0.189\n       \
    \  16   0.563   0.801   0.514   0.330   0.212   0.136   0.109\n         20   0.422\
    \   0.758   0.435   0.250   0.144   0.082   0.062\n         24   0.422   0.717\
    \   0.369   0.189   0.097   0.050   0.036\n         28   0.316   0.678   0.312\
    \   0.144   0.066   0.030   0.021\n         32   0.316   0.642   0.264   0.109\
    \   0.045   0.018   0.012\n         36   0.237   0.607   0.224   0.082   0.030\
    \   0.011   0.007\n         40   0.237   0.574   0.189   0.062   0.021   0.007\
    \   0.004\n         44   0.178   0.543   0.160   0.047   0.014   0.004   0.002\n\
    \         48   0.178   0.514   0.136   0.036   0.009   0.003   0.001\n       \
    \                          Figure 5\n   As shown in this figure, it is possible\
    \ to select an HD-Ratio value\n   that models IP level structures in a fashion\
    \ that behaves more\n   consistently for very large deployments.  In this case,\
    \ the choice of\n   an HD-Ratio of 0.94 is consistent with a limited-level model\
    \ of up to\n   6 levels of hierarchy with a metric of 75% density at each level.\n\
    \   This correlation is indicated in Table 3 of Attachment A.\n"
- title: 6.1.  Simulation Results
  contents:
  - "6.1.  Simulation Results\n   In attempting to assess the impact of potentially\
    \ changing the HD-\n   Ratio to a lower value, it is useful to assess this using\
    \ actual\n   address consumption data.  The results described here use the IPv4\n\
    \   allocation data as published by the Regional Internet Registries\n   [RIR-Data].\
    \  The simulation work assumes that the IPv4 delegation\n   data uses an IPv4\
    \ /32 for each end customer, and that assignments\n   have been made based on\
    \ an 80% density metric in terms of assumed\n   customer count.  The customer\
    \ count is then used as the basis of an\n   IPv6 address allocation, using the\
    \ HD-Ratio to map from a customer\n   count to the size of an address allocation.\n\
    \   The result presented here is that of a simulation of an IPv6 address\n   allocation\
    \ registry, using IPv4 allocation data as published by the\n   RIRs spanning the\
    \ period from January 1, 1999 until August 31, 2004.\n   The aim is to identify\
    \ the relative level of IPv6 address consumption\n   using a IPv6 request size\
    \ profile based on the application of various\n   HD-Ratio values to the derived\
    \ customer numbers.\n   The profile of total address consumption for selected\
    \ HD-Ratio values\n   is indicated in Figure 6.  The simulation results indicate\
    \ that the\n   choice of an HD-Ratio of 0.8 consumes a total of 7 times the address\n\
    \   space of that consumed when using an HD-Ratio of 0.94.\n                 HD-Ratio\
    \       Total Address Consumption\n                 |        Prefix Length   Count\
    \ of\n                 |        Notation        /32 prefixes\n               \
    \  0.80    /14.45          191,901\n                 0.81    /14.71          160,254\n\
    \                 0.82    /15.04          127,488\n                 0.83    /15.27\
    \          108,701\n                 0.84    /15.46           95,288\n       \
    \          0.85    /15.73           79,024\n                 0.86    /15.88  \
    \         71,220\n                 0.87    /16.10           61,447\n         \
    \        0.88    /16.29           53,602\n                 0.89    /16.52    \
    \       45,703\n                 0.90    /16.70           40,302\n           \
    \      0.91    /16.77           38,431\n                 0.92    /16.81      \
    \     37,381\n                 0.93    /16.96           33,689\n             \
    \    0.94    /17.26           27,364\n                 0.95    /17.32        \
    \   26,249\n                 0.96    /17.33           26,068\n               \
    \  0.97    /17.33           26,068\n                 0.98    /17.40          \
    \ 24,834\n                 0.99    /17.67           20,595\n                 \
    \                Figure 6\n   The implication of these results imply that an IPv6\
    \ address registry\n   will probably see sufficient distribution of allocation\
    \ request sizes\n   such that the choice of a threshold HD-Ratio will impact the\
    \ total\n   address consumption rates, and the variance between an HD-Ratio of\n\
    \   0.8 and an HD-Ratio of 0.99 is a factor of one order of magnitude in\n   relative\
    \ address consumption over an extended period of time.  The\n   simulation also\
    \ indicates that the overall majority of allocations\n   fall within a /32 minimum\
    \ allocation size (between 74% to 95% of all\n   address allocations), and that\
    \ the selection of a particular HD-Ratio\n   value has a significant impact in\
    \ terms of allocation sizes for a\n   small proportion of allocation transactions\
    \ (the remainder of\n   allocations range between a /19 to a /31 for an HD-Ratio\
    \ of 0.8 and\n   between a /26 and a /31 for an HD-Ratio of 0.99).\n   The conclusion\
    \ here is that the choice of the HD-Ratio will have some\n   impact on one quarter\
    \ of all allocations, while the remainder are\n   serviced using the minimum allocation\
    \ unit of a /32 address prefix.\n   Of these 'impacted' allocations that are larger\
    \ than the minimum\n   allocation, approximately one tenth of these allocations\
    \ are 'large'\n   allocations.  These large allocations have a significant impact\
    \ on\n   total address consumption, and varying the HD-Ratio for these\n   allocations\
    \ between 0.8 to 0.99 results in a net difference in total\n   address consumption\
    \ of approximately one order of magnitude.  This is\n   a heavy-tail distribution,\
    \ where a small proportion of large address\n   allocations significantly impact\
    \ the total address consumption rate.\n   Altering the HD-Ratio will have little\
    \ impact on more than 95% of the\n   IPv6 allocations but will generate significant\
    \ variance within the\n   largest 2% of these allocations, which, in turn, will\
    \ have a\n   significant impact on total address consumption rates.\n"
- title: 7.  Considerations
  contents:
  - "7.  Considerations\n   The HD-Ratio with a value of 0.8 as a model of network\
    \ address\n   utilization efficiency produces extremely low efficiency outcomes\
    \ for\n   networks spanning of the order of 10**6 end customers and larger.\n\
    \   The HD-Ratio with a 0.8 value makes the assumption that as the\n   address\
    \ allocation block increases in size, the network within which\n   the addresses\
    \ will be deployed adds additional levels of hierarchical\n   structure.  This\
    \ increasing depth of hierarchical structure to\n   arbitrarily deep hierarchies\
    \ is not a commonly observed feature of\n   public IP network deployments.\n \
    \  The fixed efficiency model, as used in the IPv4 address allocation\n   policy,\
    \ uses the assumption that as the allocation block becomes\n   larger, the network\
    \ structure remains at a fixed level of levels; if\n   the number of levels is\
    \ increased, then efficiency achieved at each\n   level increases significantly.\
    \  There is little evidence to suggest\n   that increasing a number of levels\
    \ in a network hierarchy increases\n   the efficiency at each level.\n   It is\
    \ evident that neither of these models accurately encompass IP\n   network infrastructure\
    \ models and the associated requirements of\n   address deployment.  The fixed\
    \ efficiency model places an excessive\n   burden on the network operator to achieve\
    \ very high levels of\n   utilization at each level in the network hierarchy,\
    \ leading to either\n   customer renumbering or deployment of technologies such\
    \ as Network\n   Address Translation (NAT) to meet the target efficiency value\
    \ in a\n   hierarchically structured network.  The HD-Ratio model using a value\n\
    \   of 0.8 specifies an extremely low address efficiency target for\n   larger\
    \ networks, and while this places no particular stress on\n   network architects\
    \ in terms of forced renumbering, there is the\n   concern that this represents\
    \ an extremely inefficient use of address\n   resources.  If the objective of\
    \ IPv6 is to encompass a number of\n   decades of deployment, and to span a public\
    \ network that ultimately\n   encompasses many billions of end customers and a\
    \ very high range and\n   number of end use devices and components, then there\
    \ is legitimate\n   cause for concern that the HD-Ratio value of 0.8 may be setting\
    \ too\n   conservative a target for address efficiency, in that the total\n  \
    \ address consumption targets may be achieved too early.\n   This study concludes\
    \ that consideration should be given to the\n   viability of specifying a higher\
    \ HD-Ratio value as representing a\n   more relevant model of internal network\
    \ structure, internal routing,\n   and internal address aggregation structures\
    \ in the context of IPv6\n   network deployment.\n"
- title: 8.  Security Considerations
  contents:
  - "8.  Security Considerations\n   Considerations of various forms of host density\
    \ metrics create no new\n   threats to the security of the Internet.\n"
- title: 9.  Acknowledgements
  contents:
  - "9.  Acknowledgements\n   The document was reviewed by Kurt Lindqvist, Thomas\
    \ Narten, Paul\n   Wilson, David Kessens, Bob Hinden, Brian Haberman, and Marcelo\n\
    \   Bagnulo.\n"
- title: 10. References
  contents:
  - '10. References

    '
- title: 10.1.  Normative References
  contents:
  - "10.1.  Normative References\n   [RFC1715]   Huitema, C., \"The H Ratio for Address\
    \ Assignment\n               Efficiency\", RFC 1715, November 1994.\n   [RFC3177]\
    \   IAB and IESG, \"IAB/IESG Recommendations on IPv6 Address\n               Allocations\
    \ to Sites\", RFC 3177, September 2001.\n   [RFC3194]   Durand, A. and C. Huitema,\
    \ \"The H-Density Ratio for\n               Address Assignment Efficiency An Update\
    \ on the H ratio\",\n               RFC 3194, November 2001.\n   [RFC4291]   Hinden,\
    \ R. and S. Deering, \"IP Version 6 Addressing\n               Architecture\"\
    , RFC 4291, February 2006.\n"
- title: 10.2.  Informative References
  contents:
  - "10.2.  Informative References\n   [RIR-Data]  RIRs, \"RIR Delegation Records\"\
    , February 2005,\n               <ftp://ftp.apnic.net/pub/stats/>.\n"
- title: Appendix A.  Comparison Tables
  contents:
  - "Appendix A.  Comparison Tables\n   The first table compares the threshold number\
    \ of /48 end user\n   allocations that would be performed for a given assigned\
    \ address\n   block in order to consider that the utilization has achieved its\n\
    \   threshold utilization level.\n   Fixed Efficiency Value  0.8\n   HD-Ratio\
    \ Value          0.8\n                               Number of /48 allocations\
    \ to fill the\n                                address block to the threshold\
    \ level\n   Prefix          Size              Fixed Efficiency      HD-Ratio\n\
    \                                       0.8                     0.8\n   /48  \
    \               1                 1 100%              1  100%\n   /47        \
    \         2                 2 100%              2   87%\n   /46              \
    \   4                 4 100%              3   76%\n   /45                 8  \
    \               7  88%              5   66%\n   /44                16        \
    \        13  81%              9   57%\n   /43                32              \
    \  26  81%             16   50%\n   /42                64                52  81%\
    \             28   44%\n   /41               128               103  80%      \
    \       49   38%\n   /40               256               205  80%            \
    \ 84   33%\n   /39               512               410  80%            147   29%\n\
    \   /38             1,024               820  80%            256   25%\n   /37\
    \             2,048             1,639  80%            446   22%\n   /36      \
    \       4,096             3,277  80%            776   19%\n   /35            \
    \ 8,192             6,554  80%          1,351   16%\n   /34            16,384\
    \            13,108  80%          2,353   14%\n   /33            32,768      \
    \      26,215  80%          4,096   13%\n   /32            65,536            52,429\
    \  80%          7,132   11%\n   /31           131,072           104,858  80% \
    \        12,417    9%\n   /30           262,144           209,716  80%       \
    \  21,619    8%\n   /29           524,288           419,431  80%         37,641\
    \    7%\n   /28         1,048,576           838,861  80%         65,536    6%\n\
    \   /27         2,097,152         1,677,722  80%        114,105    5%\n   /26\
    \         4,194,304         3,355,444  80%        198,668    5%\n   /25      \
    \   8,388,608         6,710,887  80%        345,901    4%\n   /24        16,777,216\
    \        13,421,773  80%        602,249    4%\n   /23        33,554,432      \
    \  26,843,546  80%      1,048,576    3%\n   /22        67,108,864        53,687,092\
    \  80%      1,825,677    3%\n   /21       134,217,728       107,374,180  80% \
    \     3,178,688    2%\n   /20       268,435,456       214,748,365  80%      5,534,417\
    \    2%\n   /19       536,870,912       429,496,730  80%      9,635,980    2%\n\
    \   /18     1,073,741,824       858,993,460  80%     16,777,216    2%\n   /17\
    \     2,147,483,648     1,717,986,919  80%     29,210,830    1%\n   /16     4,294,967,296\
    \     3,435,973,837  80%     50,859,008    1%\n   /15     8,589,934,592     6,871,947,674\
    \  80%     88,550,677    1%\n   /14    17,179,869,184    13,743,895,348  80% \
    \   154,175,683    1%\n   /13    34,359,738,368    27,487,790,695  80%    268,435,456\
    \    1%\n   /12    68,719,476,736    54,975,581,389  80%    467,373,275    1%\n\
    \   /11   137,438,953,472   109,951,162,778  80%    813,744,135    1%\n   /10\
    \   274,877,906,944   219,902,325,556  80%  1,416,810,831    1%\n   /9    549,755,813,888\
    \   439,804,651,111  80%  2,466,810,934    0%\n   /8  1,099,511,627,776   879,609,302,221\
    \  80%  4,294,967,296    0%\n   /7  2,199,023,255,552 1,759,218,604,442  80% \
    \ 7,477,972,398    0%\n   /6  4,398,046,511,104 3,518,437,208,884  80% 13,019,906,166\
    \    0%\n   /5  8,796,093,022,208 7,036,874,417,767  80% 22,668,973,294    0%\n\
    \           Table 1.  Comparison of Fixed Efficiency Threshold vs\n          \
    \           HD-Ratio Threshold\n                                 Figure 7\n  \
    \ One possible assumption behind the HD-Ratio is that the\n   inefficiencies that\
    \ are a consequence of large-scale deployments are\n   an outcome of an increased\
    \ number of levels of hierarchical structure\n   within the network.  The following\
    \ table calculates the depth of the\n   hierarchy in order to achieve a 0.8 HD-Ratio,\
    \ assuming a 0.8\n   utilization efficiency at each level in the hierarchy.\n\
    \   Prefix          Size              0.8 Structure\n                        \
    \        HD-Ratio    Levels\n   /48                 1               1        \
    \ 1\n   /47                 2               2         1\n   /46              \
    \   4               3         2\n   /45                 8               5    \
    \     2\n   /44                16               9         3\n   /43          \
    \      32              16         4\n   /42                64              28\
    \         4\n   /41               128              49         5\n   /40      \
    \         256              84         5\n   /39               512            \
    \ 147         6\n   /38             1,024             256         7\n   /37  \
    \           2,048             446         7\n   /36             4,096        \
    \     776         8\n   /35             8,192           1,351         9\n   /34\
    \            16,384           2,353         9\n   /33            32,768      \
    \     4,096        10\n   /32            65,536           7,132        10\n  \
    \ /31           131,072          12,417        11\n   /30           262,144  \
    \        21,619        12\n   /29           524,288          37,641        12\n\
    \   /28         1,048,576          65,536        13\n   /27         2,097,152\
    \         114,105        14\n   /26         4,194,304         198,668        14\n\
    \   /25         8,388,608         345,901        15\n   /24        16,777,216\
    \         602,249        15\n   /23        33,554,432       1,048,576        16\n\
    \   /22        67,108,864       1,825,677        17\n   /21       134,217,728\
    \       3,178,688        17\n   /20       268,435,456       5,534,417        18\n\
    \   /19       536,870,912       9,635,980        19\n   /18     1,073,741,824\
    \      16,777,216        19\n   /17     2,147,483,648      29,210,830        20\n\
    \   /16     4,294,967,296      50,859,008        20\n   /15     8,589,934,592\
    \      88,550,677        21\n   /14    17,179,869,184     154,175,683        22\n\
    \   /13    34,359,738,368     268,435,456        22\n   /12    68,719,476,736\
    \     467,373,275        23\n   /11   137,438,953,472     813,744,135        23\n\
    \   /10   274,877,906,944   1,416,810,831        24\n   /9    549,755,813,888\
    \   2,466,810,934        25\n   /8  1,099,511,627,776   4,294,967,296        25\n\
    \          Table 2: Number of Structure Levels Assumed by HD-Ratio\n         \
    \                        Figure 8\n   An alternative approach is to use a model\
    \ of network deployment where\n   the number of levels of hierarchy increases\
    \ at a lower rate than that\n   indicated in a 0.8 HD-Ratio model.  One such model\
    \ is indicated in\n   the following table.  This is compared to using an HD-Ratio\
    \ value of\n   0.94.\n   Per-Level Target Efficiency: 0.75\n   Prefix        \
    \   Size Stepped      Stepped Efficiency      HD-Ratio\n                     \
    \    Levels          0.75                   0.94\n   /48                 1  1\
    \                1 100%                 1 100%\n   /47                 2  1  \
    \              2 100%                 2 100%\n   /46                 4  1    \
    \            3  75%                 4 100%\n   /45                 8  1      \
    \          6  75%                 7  88%\n   /44                16  1        \
    \       12  75%                13  81%\n   /43                32  1          \
    \     24  75%                25  78%\n   /42                64  1            \
    \   48  75%                48  75%\n   /41               128  1              \
    \ 96  75%                92  72%\n   /40               256  1              192\
    \  75%               177  69%\n   /39               512  2              384  75%\
    \               338  66%\n   /38             1,024  2              576  56%  \
    \             649  63%\n   /37             2,048  2            1,152  56%    \
    \         1,244  61%\n   /36             4,096  2            2,304  56%      \
    \       2,386  58%\n   /35             8,192  2            4,608  56%        \
    \     4,577  56%\n   /34            16,384  2            9,216  56%          \
    \   8,780  54%\n   /33            32,768  2           18,432  56%            16,845\
    \  51%\n   /32            65,536  2           36,864  56%            32,317  49%\n\
    \   /31           131,072  3           73,728  56%            62,001  47%\n  \
    \ /30           262,144  3          110,592  42%           118,951  45%\n   /29\
    \           524,288  3          221,184  42%           228,210  44%\n   /28  \
    \       1,048,576  3          442,368  42%           437,827  42%\n   /27    \
    \     2,097,152  3          884,736  42%           839,983  40%\n   /26      \
    \   4,194,304  3        1,769,472  42%         1,611,531  38%\n   /25        \
    \ 8,388,608  3        3,538,944  42%         3,091,767  37%\n   /24        16,777,216\
    \  3        7,077,888  42%         5,931,642  35%\n   /23        33,554,432  4\
    \       14,155,776  42%        11,380,022  34%\n   /22        67,108,864  4  \
    \     21,233,664  32%        21,832,894  33%\n   /21       134,217,728  4    \
    \   42,467,328  32%        41,887,023  31%\n   /20       268,435,456  4      \
    \ 84,934,656  32%        80,361,436  30%\n   /19       536,870,912  4      169,869,312\
    \  32%       154,175,684  29%\n   /18     1,073,741,824  4      339,738,624  32%\
    \       295,790,403  28%\n   /17     2,147,483,648  4      679,477,248  32%  \
    \     567,482,240  26%\n   /16     4,294,967,296  4    1,358,954,496  32%    \
    \ 1,088,730,702  25%\n   /15     8,589,934,592  5    2,717,908,992  32%     2,088,760,595\
    \  24%\n   /14    17,179,869,184  5    4,076,863,488  24%     4,007,346,185  23%\n\
    \   /13    34,359,738,368  5    8,153,726,976  24%     7,688,206,818  22%\n  \
    \ /12    68,719,476,736  5   16,307,453,952  24%    14,750,041,884  21%\n   /11\
    \   137,438,953,472  5   32,614,907,904  24%    28,298,371,876  21%\n   /10  \
    \ 274,877,906,944  5   65,229,815,808  24%    54,291,225,552  20%\n   /9    549,755,813,888\
    \  5  130,459,631,616  24%   104,159,249,331  19%\n   /8  1,099,511,627,776  5\
    \  260,919,263,232  24%   199,832,461,158  18%\n                   Table 3: Limited\
    \ Levels of Structure\n                                 Figure 9\n"
- title: Author's Address
  contents:
  - "Author's Address\n   Geoff Huston\n   APNIC\n   EMail: gih@apnic.net\n"
- title: Full Copyright Statement
  contents:
  - "Full Copyright Statement\n   Copyright (C) The Internet Society (2006).\n   This\
    \ document is subject to the rights, licenses and restrictions\n   contained in\
    \ BCP 78, and except as set forth therein, the authors\n   retain all their rights.\n\
    \   This document and the information contained herein are provided on an\n  \
    \ \"AS IS\" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS\n  \
    \ OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET\n   ENGINEERING\
    \ TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED,\n   INCLUDING BUT NOT\
    \ LIMITED TO ANY WARRANTY THAT THE USE OF THE\n   INFORMATION HEREIN WILL NOT\
    \ INFRINGE ANY RIGHTS OR ANY IMPLIED\n   WARRANTIES OF MERCHANTABILITY OR FITNESS\
    \ FOR A PARTICULAR PURPOSE.\n"
- title: Intellectual Property
  contents:
  - "Intellectual Property\n   The IETF takes no position regarding the validity or\
    \ scope of any\n   Intellectual Property Rights or other rights that might be\
    \ claimed to\n   pertain to the implementation or use of the technology described\
    \ in\n   this document or the extent to which any license under such rights\n\
    \   might or might not be available; nor does it represent that it has\n   made\
    \ any independent effort to identify any such rights.  Information\n   on the\
    \ procedures with respect to rights in RFC documents can be\n   found in BCP 78\
    \ and BCP 79.\n   Copies of IPR disclosures made to the IETF Secretariat and any\n\
    \   assurances of licenses to be made available, or the result of an\n   attempt\
    \ made to obtain a general license or permission for the use of\n   such proprietary\
    \ rights by implementers or users of this\n   specification can be obtained from\
    \ the IETF on-line IPR repository at\n   http://www.ietf.org/ipr.\n   The IETF\
    \ invites any interested party to bring to its attention any\n   copyrights, patents\
    \ or patent applications, or other proprietary\n   rights that may cover technology\
    \ that may be required to implement\n   this standard.  Please address the information\
    \ to the IETF at\n   ietf-ipr@ietf.org.\n"
- title: Acknowledgement
  contents:
  - "Acknowledgement\n   Funding for the RFC Editor function is provided by the IETF\n\
    \   Administrative Support Activity (IASA).\n"
