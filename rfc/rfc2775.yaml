- title: __initial_text__
  contents:
  - '                         Internet Transparency

    '
- title: Status of this Memo
  contents:
  - "Status of this Memo\n   This memo provides information for the Internet community.\
    \  It does\n   not specify an Internet standard of any kind.  Distribution of\
    \ this\n   memo is unlimited.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (C) The Internet Society (2000).  All Rights Reserved.\n"
- title: Abstract
  contents:
  - "Abstract\n   This document describes the current state of the Internet from the\n\
    \   architectural viewpoint, concentrating on issues of end-to-end\n   connectivity\
    \ and transparency. It concludes with a summary of some\n   major architectural\
    \ alternatives facing the Internet network layer.\n   This document was used as\
    \ input to the IAB workshop on the future of\n   the network layer held in July\
    \ 1999. For this reason, it does not\n   claim to be complete and definitive,\
    \ and it refrains from making\n   recommendations.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   3.8 Split DNS...................................................9\n\
    \   3.9 Various load-sharing tricks.................................9\n   4. Summary\
    \ of current status and impact.........................9\n   5. Possible future\
    \ directions..................................11\n   5.1 Successful migration\
    \ to IPv6...............................11\n   5.2 Complete failure of IPv6...................................12\n\
    \   5.2.1 Re-allocating the IPv4 address space.....................12\n   5.2.2\
    \ Exhaustion...............................................13\n   5.3 Partial\
    \ deployment of IPv6.................................13\n   6. Conclusion..................................................13\n\
    \   7. Security Considerations.....................................13\n   Acknowledgements...............................................14\n\
    \   References.....................................................14\n   Author's\
    \ Address...............................................17\n   Full Copyright\
    \ Statement.......................................18\n"
- title: 1. Introduction
  contents:
  - "1. Introduction\n      \"There's a freedom about the Internet: As long as we\
    \ accept the\n       rules of sending packets around, we can send packets containing\n\
    \       anything to anywhere.\" [Berners-Lee]\n   The Internet is experiencing\
    \ growing pains which are often referred\n   to as \"the end-to-end problem\"\
    . This document attempts to analyse\n   those growing pains by reviewing the current\
    \ state of the network\n   layer, especially its progressive loss of transparency.\
    \ For the\n   purposes of this document, \"transparency\" refers to the original\n\
    \   Internet concept of a single universal logical addressing scheme, and\n  \
    \ the mechanisms by which packets may flow from source to destination\n   essentially\
    \ unaltered.\n   The causes of this loss of transparency are partly artefacts\
    \ of\n   parsimonious allocation of the limited address space available to\n \
    \  IPv4, and partly the result of broader issues resulting from the\n   widespread\
    \ use of TCP/IP technology by businesses and consumers. For\n   example, network\
    \ address translation is an artefact, but Intranets\n   are not.\n   Thus the\
    \ way forward must recognise the fundamental changes in the\n   usage of TCP/IP\
    \ that are driving current Internet growth. In one\n   scenario, a complete migration\
    \ to IPv6 potentially allows the\n   restoration of global address transparency,\
    \ but without removing\n   firewalls and proxies from the picture. At the other\
    \ extreme, a total\n   failure of IPv6 leads to complete fragmentation of the\
    \ network layer,\n   with global connectivity depending on endless patchwork.\n\
    \   This document does not discuss the routing implications of address\n   space,\
    \ nor the implications of quality of service management on\n   router state, although\
    \ both these matters interact with transparency\n   to some extent. It also does\
    \ not substantively discuss namespace\n   issues.\n"
- title: 2. Aspects of end-to-end connectivity
  contents:
  - "2. Aspects of end-to-end connectivity\n   The phrase \"end to end\", often abbreviated\
    \ as \"e2e\", is widely used\n   in architectural discussions of the Internet.\
    \ For the purposes of\n   this paper, we first present three distinct aspects\
    \ of end-to-\n   endness.\n"
- title: 2.1 The end-to-end argument
  contents:
  - "2.1 The end-to-end argument\n   This is an argument first described in [Saltzer]\
    \ and reviewed in [RFC\n   1958], from which an extended quotation follows:\n\
    \      \"The basic argument is that, as a first principle, certain\n      required\
    \ end-to-end functions can only be performed correctly by\n      the end-systems\
    \ themselves. A specific case is that any network,\n      however carefully designed,\
    \ will be subject to failures of\n      transmission at some statistically determined\
    \ rate. The best way\n      to cope with this is to accept it, and give responsibility\
    \ for the\n      integrity of communication to the end systems. Another specific\n\
    \      case is end-to-end security.\n      \"To quote from [Saltzer], 'The function\
    \ in question can completely\n      and correctly be implemented only with the\
    \ knowledge and help of\n      the application standing at the endpoints of the\
    \ communication\n      system.  Therefore, providing that questioned function\
    \ as a\n      feature of the communication system itself is not possible.\n  \
    \    (Sometimes an incomplete version of the function provided by the\n      communication\
    \ system may be useful as a performance enhancement.)'\n      \"This principle\
    \ has important consequences if we require\n      applications to survive partial\
    \ network failures. An end-to-end\n      protocol design should not rely on the\
    \ maintenance of state (i.e.\n      information about the state of the end-to-end\
    \ communication)\n      inside the network. Such state should be maintained only\
    \ in the\n      endpoints, in such a way that the state can only be destroyed\
    \ when\n      the endpoint itself breaks (known as fate-sharing). An immediate\n\
    \      consequence of this is that datagrams are better than classical\n     \
    \ virtual circuits.  The network's job is to transmit datagrams as\n      efficiently\
    \ and flexibly as possible.  Everything else should be\n      done at the fringes.\"\
    \n   Thus this first aspect of end-to-endness limits what the network is\n   expected\
    \ to do, and clarifies what the end-system is expected to do.\n   The end-to-end\
    \ argument underlies the rest of this document.\n"
- title: 2.2 End-to-end performance
  contents:
  - "2.2 End-to-end performance\n   Another aspect, in which the behaviour of the\
    \ network and that of the\n   end-systems interact in a complex way, is performance,\
    \ in a\n   generalised sense. This is not a primary focus of the present\n   document,\
    \ but it is mentioned briefly since it is often referred to\n   when discussing\
    \ end-to-end issues.\n   Much work has been done over many years to improve and\
    \ optimise the\n   performance of TCP. Interestingly, this has led to comparatively\n\
    \   minor changes to TCP itself; [STD 7] is still valid apart from minor\n   additions\
    \ [RFC 1323, RFC 2581, RFC 2018]. However a great deal of\n   knowledge about\
    \ good practice in TCP implementations has built up,\n   and the queuing and discard\
    \ mechanisms in routers have been fine-\n   tuned to improve system performance\
    \ in congested conditions.\n   Unfortunately all this experience in TCP performance\
    \ does not help\n   with transport protocols that do not exhibit TCP-like response\
    \ to\n   congestion [RFC 2309]. Also, the requirement for specified quality of\n\
    \   service for different applications and/or customers has led to much\n   new\
    \ development, especially the Integrated Services [RFC 1633, RFC\n   2210] and\
    \ Differentiated Services [RFC 2475] models. At the same time\n   new transport-related\
    \ protocols have appeared [RFC 1889, RFC 2326] or\n   are in discussion in the\
    \ IETF. It should also be noted that since the\n   speed of light is not set by\
    \ an IETF standard, our current notions of\n   end-to-end performance will be\
    \ largely irrelevant to interplanetary\n   networking.\n   Thus, despite the fact\
    \ that performance and congestion issues for TCP\n   are now quite well understood,\
    \ the arrival of QOS mechanisms and of\n   new transport protocols raise new questions\
    \ about end-to-end\n   performance, but these are not further discussed here.\n"
- title: 2.3 End-to-end address transparency
  contents:
  - "2.3 End-to-end address transparency\n   When the catenet concept (a network of\
    \ networks) was first described\n   by Cerf in 1978 [IEN 48] following an earlier\
    \ suggestion by Pouzin in\n   1974 [CATENET], a clear assumption was that a single\
    \ logical address\n   space would cover the whole catenet (or Internet as we now\
    \ know it).\n   This applied not only to the early TCP/IP Internet, but also to\
    \ the\n   Xerox PUP design, the OSI connectionless network design, XNS, and\n\
    \   numerous other proprietary network architectures.\n   This concept had two\
    \ clear consequences - packets could flow\n   essentially unaltered throughout\
    \ the network, and their source and\n   destination addresses could be used as\
    \ unique labels for the end\n   systems.\n   The first of these consequences is\
    \ not absolute.  In practice changes\n   can be made to packets in transit. Some\
    \ of these are reversible at\n   the destination (such as fragmentation and compression).\
    \ Others may\n   be irreversible (such as changing type of service bits or\n \
    \  decrementing a hop limit), but do not seriously obstruct the end-to-\n   end\
    \ principle of Section 2.1. However, any change made to a packet in\n   transit\
    \ that requires per-flow state information to be kept at an\n   intermediate point\
    \ would violate the fate-sharing aspect of the end-\n   to-end principle.\n  \
    \ The second consequence, using addresses as unique labels, was in a\n   sense\
    \ a side-effect of the catenet concept. However, it was a side-\n   effect that\
    \ came to be highly significant. The uniqueness and\n   durability of addresses\
    \ have been exploited in many ways, in\n   particular by incorporating them in\
    \ transport identifiers.  Thus they\n   have been built into transport checksums,\
    \ cryptographic signatures,\n   Web documents, and proprietary software licence\
    \ servers. [RFC 2101]\n   explores this topic in some detail. Its main conclusion\
    \ is that IPv4\n   addresses can no longer be assumed to be either globally unique\
    \ or\n   invariant, and any protocol or applications design that assumes these\n\
    \   properties will fail unpredictably. Work in the IAB and the NAT\n   working\
    \ group [NAT-ARCH] has analysed the impact of one specific\n   cause of non-uniqueness\
    \ and non-invariance, i.e., network address\n   translators. Again the conclusion\
    \ is that many applications will\n   fail, unless they are specifically adapted\
    \ to avoid the assumption of\n   address transparency. One form of adaptation\
    \ is the insertion of some\n   form of application level gateway, and another\
    \ form is for the NAT to\n   modify payloads on the fly, but in either case the\
    \ adaptation is\n   application-specific.\n   Non-transparency of addresses is\
    \ part of a more general phenomenon.\n   We have to recognise that the Internet\
    \ has lost end-to-end\n   transparency, and this requires further analysis.\n"
- title: 3. Multiple causes of loss of transparency
  contents:
  - "3. Multiple causes of loss of transparency\n   This section describes various\
    \ recent inventions that have led to the\n   loss of end-to-end transparency in\
    \ the Internet.\n"
- title: 3.1 The Intranet model
  contents:
  - "3.1 The Intranet model\n   Underlying a number of the specific developments mentioned\
    \ below is\n   the concept of an \"Intranet\", loosely defined as a private corporate\n\
    \   network using TCP/IP technology, and connected to the Internet at\n   large\
    \ in a carefully controlled manner. The Intranet is presumed to\n   be used by\
    \ corporate employees for business purposes, and to\n   interconnect hosts that\
    \ carry sensitive or confidential information.\n   It is also held to a higher\
    \ standard of operational availability than\n   the Internet at large. Its usage\
    \ can be monitored and controlled, and\n   its resources can be better planned\
    \ and tuned than those of the\n   public network. These arguments of security\
    \ and resource management\n   have ensured the dominance of the Intranet model\
    \ in most corporations\n   and campuses.\n   The emergence of the Intranet model\
    \ has had a profound effect on the\n   notion of application transparency. Many\
    \ corporate network managers\n   feel it is for them alone to determine which\
    \ applications can\n   traverse the Internet/Intranet boundary. In this world\
    \ view, address\n   transparency may seem to be an unimportant consideration.\n"
- title: 3.2 Dynamic address allocation
  contents:
  - '3.2 Dynamic address allocation

    '
- title: 3.2.1 SLIP and PPP
  contents:
  - "3.2.1 SLIP and PPP\n   It is to be noted that with the advent of vast numbers\
    \ of dial-up\n   Internet users, whose addresses are allocated at dial-up time,\
    \ and\n   whose traffic may be tunneled back to their home ISP, the actual IP\n\
    \   addresses of such users are purely transient. During their period of\n   validity\
    \ they can be relied on end-to-end, but they must be forgotten\n   at the end\
    \ of every session. In particular they can have no permanent\n   association with\
    \ the domain name of the host borrowing them.\n"
- title: 3.2.2 DHCP
  contents:
  - "3.2.2 DHCP\n   Similarly, LAN-based users of the Internet today frequently use\
    \ DHCP\n   to acquire a new address at system restart, so here again the actual\n\
    \   value of the address is potentially transient and must not be stored\n   between\
    \ sessions.\n"
- title: 3.3 Firewalls
  contents:
  - '3.3 Firewalls

    '
- title: 3.3.1 Basic firewalls
  contents:
  - "3.3.1 Basic firewalls\n   Intranet managers have a major concern about security:\
    \ unauthorised\n   traffic must be kept out of the Intranet at all costs. This\
    \ concern\n   led directly to the firewall concept (a system that intercepts all\n\
    \   traffic between the Internet and the Intranet, and only lets through\n   selected\
    \ traffic, usually belonging to a very limited set of\n   applications). Firewalls,\
    \ by their nature, fundamentally limit\n   transparency.\n"
- title: 3.3.2 SOCKS
  contents:
  - "3.3.2 SOCKS\n   A footnote to the effect of firewalls is the SOCKS mechanism\
    \ [RFC\n   1928] by which untrusted applications such as telnet and ftp can\n\
    \   punch through a firewall.  SOCKS requires a shim library in the\n   Intranet\
    \ client, and a server in the firewall which is essentially an\n   application\
    \ level relay. As a result, the remote server does not see\n   the real client;\
    \ it believes that the firewall is the client.\n"
- title: 3.4 Private addresses
  contents:
  - "3.4 Private addresses\n   When the threat of IPv4 address exhaustion first arose,\
    \ and in some\n   cases user sites were known to be \"pirating\" addresses for\
    \ private\n   use, a set of official private addresses were hurriedly allocated\n\
    \   [RFC 1597] and later more carefully defined [BCP 5].  The legitimate\n   existence\
    \ of such an address allocation proved to very appealing, so\n   Intranets with\
    \ large numbers of non-global addresses came into\n   existence. Unfortunately,\
    \ such addresses by their nature cannot be\n   used for communication across the\
    \ public Internet; without special\n   measures, hosts using private addresses\
    \ are cut off from the world.\n   Note that private address space is sometimes\
    \ asserted to be a\n   security feature, based on the notion that outside knowledge\
    \ of\n   internal addresses might help intruders. This is a false argument,\n\
    \   since it is trivial to hide addresses by suitable access control\n   lists,\
    \ even if they are globally unique - indeed that is a basic\n   feature of a filtering\
    \ router, the simplest form of firewall. A\n   system with a hidden address is\
    \ just as private as a system with a\n   private address.  There is of course\
    \ no possible point in hiding the\n   addresses of servers to which outside access\
    \ is required.\n   It is also worth noting that the IPv6 equivalent of private\n\
    \   addresses, i.e. site-local addresses, have similar characteristics to\n  \
    \ BCP 5 addresses, but their use will not be forced by a lack of\n   globally\
    \ unique IPv6 addresses.\n"
- title: 3.5 Network address translators
  contents:
  - "3.5 Network address translators\n   Network address translators (NATs) are an\
    \ almost inevitable\n   consequence of the existence of Intranets using private\
    \ addresses yet\n   needing to communicate with the Internet at large. Their\n\
    \   architectural implications are discussed at length in [NAT-ARCH], the\n  \
    \ fundamental point being that address translation on the fly destroys\n   end-to-end\
    \ address transparency and breaks any middleware or\n   applications that depend\
    \ on it. Numerous protocols, for example\n   H.323, carry IP addresses at application\
    \ level and fail to traverse a\n   simple NAT box correctly. If the full range\
    \ of Internet applications\n   is to be used, NATs have to be coupled with application\
    \ level\n   gateways (ALGs) or proxies. Furthermore, the ALG or proxy must be\n\
    \   updated whenever a new address-dependent application comes along.  In\n  \
    \ practice, NAT functionality is built into many firewall products, and\n   all\
    \ useful NATs have associated ALGs, so it is difficult to\n   disentangle their\
    \ various impacts.\n"
- title: 3.6 Application level gateways, relays, proxies, and caches
  contents:
  - "3.6 Application level gateways, relays, proxies, and caches\n   It is reasonable\
    \ to position application level gateways, relays,\n   proxies, and caches at certain\
    \ critical topological points,\n   especially the Intranet/Internet boundary.\
    \  For example, if an\n   Intranet does not use SMTP as its mail protocol, an\
    \ SMTP gateway is\n   needed. Even in the normal case, an SMTP relay is common,\
    \ and can\n   perform useful mail routing functions, spam filtering, etc. (It\
    \ may\n   be observed that spam filtering is in some ways a firewall function,\n\
    \   but the store-and-forward nature of electronic mail and the\n   availability\
    \ of MX records allow it to be a distinct and separate\n   function.)\n   Similarly,\
    \ for a protocol such as HTTP with a well-defined voluntary\n   proxy mechanism,\
    \ application proxies also serving as caches are very\n   useful. Although these\
    \ devices interfere with transparency, they do\n   so in a precise way, correctly\
    \ terminating network, transport and\n   application protocols on both sides.\
    \ They can however exhibit some\n   shortfalls in ease of configuration and failover.\n\
    \   However, there appear to be cases of \"involuntary\" applications level\n\
    \   devices such as proxies that grab and modify HTTP traffic without\n   using\
    \ the appropriate mechanisms, sometimes known as \"transparent\n   caches\", or\
    \ mail relays that purport to remove undesirable words.\n   These devices are\
    \ by definition not transparent, and may have totally\n   unforeseeable side effects.\
    \  (A possible conclusion is that even for\n   non-store-and-forward protocols,\
    \ a generic diversion mechanism\n   analogous to the MX record would be of benefit.\
    \ The SRV record [RFC\n   2052] is a step in this direction.)\n"
- title: 3.7 Voluntary isolation and peer networks
  contents:
  - "3.7 Voluntary isolation and peer networks\n   There are communities that think\
    \ of themselves as being so different\n   that they require isolation via an explicit\
    \ proxy, and even by using\n   proprietary protocols and addressing schemes within\
    \ their network. An\n   example is the WAP Forum which targets very small phone-like\
    \ devices\n   with some capabilities for Internet connectivity. However, it's\
    \ not\n   the Internet they're connecting directly to. They have to go through\n\
    \   a proxy. This could potentially mean that millions of devices will\n   never\
    \ know the benefits of end-to-end connectivity to the Internet.\n   A similar\
    \ effect arises when applications such as telephony span both\n   an IP network\
    \ and a peer network layer using a different technology.\n   Although the application\
    \ may work end-to-end, there is no possibility\n   of end-to-end packet transmission.\n"
- title: 3.8 Split DNS
  contents:
  - "3.8 Split DNS\n   Another consequence of the Intranet/Internet split is \"split\
    \ DNS\" or\n   \"two faced DNS\", where a corporate network serves up partly or\n\
    \   completely different DNS inside and outside its firewall. There are\n   many\
    \ possible variants on this; the basic point is that the\n   correspondence between\
    \ a given FQDN (fully qualified domain name) and\n   a given IPv4 address is no\
    \ longer universal and stable over long\n   periods.\n"
- title: 3.9 Various load-sharing tricks
  contents:
  - "3.9 Various load-sharing tricks\n   IPv4 was not designed to support anycast\
    \ [RFC 1546], so there is no\n   natural approach to load-sharing when one server\
    \ cannot do the job.\n   Various tricks have been used to resolve this (multicast\
    \ to find a\n   free server, the DNS returns different addresses for the same\
    \ FQDN in\n   a round-robin, a router actually routes packets sent to the same\n\
    \   address automatically to different servers, etc.). While these tricks\n  \
    \ are not particularly harmful in the overall picture, they can be\n   implemented\
    \ in such a way as to interfere with name or address\n   transparency.\n"
- title: 4. Summary of current status and impact
  contents:
  - "4. Summary of current status and impact\n   It is impossible to estimate with\
    \ any numerical reliability how\n   widely the above inventions have been deployed.\
    \ Since many of them\n   preserve the illusion of transparency while actually\
    \ interfering with\n   it, they are extremely difficult to measure.\n   However\
    \ it is certain that all the mechanisms just described are in\n   very widespread\
    \ use; they are not a marginal phenomenon. In corporate\n   networks, many of\
    \ them are the norm. Some of them (firewalls, relays,\n   proxies and caches)\
    \ clearly have intrinsic value given the Intranet\n   concept. The others are\
    \ largely artefacts and pragmatic responses to\n   various pressures in the operational\
    \ Internet, and they must be\n   costing the industry very dearly in constant\
    \ administration and\n   complex fault diagnosis.\n   In particular, the decline\
    \ of transparency is having a severe effect\n   on deployment of end-to-end IP\
    \ security. The Internet security model\n   [SECMECH] calls for security at several\
    \ levels (roughly, network,\n   applications, and object levels).  The current\
    \ network level security\n   model [RFC 2401] was constructed prior to the recognition\
    \ that end-\n   to-end address transparency was under severe threat.  Although\n\
    \   alternative proposals have begun to emerge [HIP] the current reality\n   is\
    \ that IPSEC cannot be deployed end-to-end in the general case.\n   Tunnel-mode\
    \ IPSEC can be deployed between corporate gateways or\n   firewalls.  Transport-mode\
    \ IPSEC can be deployed within a corporate\n   network in some cases, but it cannot\
    \ span from Intranet to Internet\n   and back to another Intranet if there is\
    \ any chance of a NAT along\n   the way.\n   Indeed, NAT breaks other security\
    \ mechanisms as well, such as DNSSEC\n   and Kerberos, since they rely on address\
    \ values.\n   The loss of transparency brought about by private addresses and\
    \ NATs\n   affects many applications protocols to a greater or lesser extent.\n\
    \   This is explored in detail in [NAT-PROT]. A more subtle effect is\n   that\
    \ the prevalence of dynamic addresses (from DHCP, SLIP and PPP)\n   has fed upon\
    \ the trend towards client/server computing.  Today it is\n   largely true that\
    \ servers have fixed addresses, clients have dynamic\n   addresses, and servers\
    \ can in no way assume that a client's IP\n   address identifies the client. On\
    \ the other hand, clients rely on\n   servers having stable addresses since a\
    \ DNS lookup is the only\n   generally deployed mechanism by which a client can\
    \ find a server and\n   solicit service.  In this environment, there is little\
    \ scope for true\n   peer-to-peer applications protocols, and no easy solution\
    \ for mobile\n   servers. Indeed, the very limited demand for Mobile IP might\
    \ be\n   partly attributed to the market dominance of client/server\n   applications\
    \ in which the client's address is of transient\n   significance. We also see\
    \ a trend towards single points of failure\n   such as media gateways, again resulting\
    \ from the difficulty of\n   implementing peer-to-peer solutions directly between\
    \ clients with no\n   fixed address.\n   The notion that servers can use precious\
    \ globally unique addresses\n   from a small pool, because there will always be\
    \ fewer servers than\n   clients, may become anachronistic when most electrical\
    \ devices become\n   network-manageable and thus become servers for a management\
    \ protocol.\n   Similarly, if every PC becomes a telephone (or the converse),\
    \ capable\n   of receiving unsolicited incoming calls, the lack of stable IP\n\
    \   addresses for PCs will be an issue. Another impending paradigm shift\n   is\
    \ when domestic and small-office subscribers move from dial-up to\n   always-on\
    \ Internet connectivity, at which point transient address\n   assignment from\
    \ a pool becomes much less appropriate.\n   Many of the inventions described in\
    \ the previous section lead to the\n   datagram traffic between two hosts being\
    \ directly or indirectly\n   mediated by at least one other host. For example\
    \ a client may depend\n   on a DHCP server, a server may depend on a NAT, and\
    \ any host may\n   depend on a firewall. This violates the fate-sharing principle\
    \ of\n   [Saltzer] and introduces single points of failure. Worse, most of\n \
    \  these points of failure require configuration data, yet another\n   source\
    \ of operational risk. The original notion that datagrams would\n   find their\
    \ way around failures, especially around failed routers, has\n   been lost; indeed\
    \ the overloading of border routers with additional\n   functions has turned them\
    \ into critical rather than redundant\n   components, even for multihomed sites.\n\
    \   The loss of address transparency has other negative effects.  For\n   example,\
    \ large scale servers may use heuristics or even formal\n   policies that assign\
    \ different priorities to service for different\n   clients, based on their addresses.\
    \ As addresses lose their global\n   meaning, this mechanism will fail. Similarly,\
    \ any anti-spam or anti-\n   spoofing techniques that rely on reverse DNS lookup\
    \ of address values\n   can be confused by translated addresses. (Uncoordinated\
    \ renumbering\n   can have similar disadvantages.)\n   The above issues are not\
    \ academic. They add up to complexity in\n   applications design, complexity in\
    \ network configuration, complexity\n   in security mechanisms, and complexity\
    \ in network management.\n   Specifically, they make fault diagnosis much harder,\
    \ and by\n   introducing more single points of failure, they make faults more\n\
    \   likely to occur.\n"
- title: 5. Possible future directions
  contents:
  - '5. Possible future directions

    '
- title: 5.1 Successful migration to IPv6
  contents:
  - "5.1 Successful migration to IPv6\n   In this scenario, IPv6 becomes fully implemented\
    \ on all hosts and\n   routers, including the adaptation of middleware, applications,\
    \ and\n   management systems. Since the address space then becomes big enough\n\
    \   for all conceivable needs, address transparency can be restored.\n   Transport-mode\
    \ IPSEC can in principle deploy, given adequate security\n   policy tools and\
    \ a key infrastructure.  However, it is widely\n   believed that the Intranet/firewall\
    \ model will certainly persist.\n   Note that it is a basic assumption of IPv6\
    \ that no artificial\n   constraints will be placed on the supply of addresses,\
    \ given that\n   there are so many of them. Current practices by which some ISPs\n\
    \   strongly limit the number of IPv4 addresses per client will have no\n   reason\
    \ to exist for IPv6. (However, addresses will still be assigned\n   prudently,\
    \ according to guidelines designed to favour hierarchical\n   routing.)\n   Clearly\
    \ this is in any case a very long term scenario, since it\n   assumes that IPv4\
    \ has declined to the point where IPv6 is required\n   for universal connectivity.\
    \ Thus, a viable version of Scenario 5.3 is\n   a prerequisite for Scenario 5.1.\n"
- title: 5.2 Complete failure of IPv6
  contents:
  - "5.2 Complete failure of IPv6\n   In this scenario, IPv6 fails to reach any significant\
    \ level of\n   operational deployment, IPv4 addressing is the only available\n\
    \   mechanism, and address transparency cannot be restored. IPSEC cannot\n   be\
    \ deployed globally in its current form. In the very long term, the\n   pool of\
    \ globally unique IPv4 addresses will be nearly totally\n   allocated, and new\
    \ addresses will generally not be available for any\n   purpose.\n   It is unclear\
    \ exactly what is likely to happen if the Internet\n   continues to rely exclusively\
    \ on IPv4, because in that eventuality a\n   variety of schemes are likely to\
    \ promulgated, with a view toward\n   providing an acceptable evolutionary path\
    \ for the network. However,\n   we can examine two of the more simplistic sub-scenarios\
    \ which are\n   possible, while realising that the future would be unlikely to\
    \ match\n   either one exactly:\n"
- title: 5.2.1 Re-allocating the IPv4 address space
  contents:
  - "5.2.1 Re-allocating the IPv4 address space\n   Suppose that a mechanism is created\
    \ to continuously recover and re-\n   allocate IPv4 addresses. A single global\
    \ address space is maintained,\n   with all sites progressively moving to an Intranet\
    \ private address\n   model, with global addresses being assigned temporarily\
    \ from a pool\n   of several billion.\n   5.2.1.1 A sub-sub-scenario of this is\
    \ generalised use of NAT and NAPT\n           (NAT with port number translation).\
    \ This has the disadvantage\n           that the host is unaware of the unique\
    \ address being used for\n           its traffic, being aware only of its ambiguous\
    \ private\n           address, with all the problems that this generates. See\n\
    \           [NAT-ARCH].\n   5.2.1.2 Another sub-sub-scenario is the use of realm-specific\
    \ IP\n           addressing implemented at the host rather than by a NAT box.\n\
    \           See [RSIP]. In this case the host is aware of its unique\n       \
    \    address, allowing for substantial restoration of the end-to-\n          \
    \ end usefulness of addresses, e.g. for TCP or cryptographic\n           checksums.\n\
    \   5.2.1.3 A final sub-sub-scenario is the \"map and encapsulate\" model\n  \
    \         in which address translation is replaced by systematic\n           encapsulation\
    \ of all packets for wide-area transport.  This\n           model has never been\
    \ fully developed, although it is\n           completely compatible with end-to-end\
    \ addressing.\n"
- title: 5.2.2 Exhaustion
  contents:
  - "5.2.2 Exhaustion\n   Suppose that no mechanism is created to recover addresses\
    \ (except\n   perhaps black or open market trading). Sites with large address\n\
    \   blocks keep them.  All the scenarios of 5.2.1 appear but are\n   insufficient.\
    \  Eventually the global address space is no longer\n   adequate.  This is a nightmare\
    \ scenario - NATs appear within the\n   \"global\" address space, for example\
    \ at ISP-ISP boundaries. It is\n   unclear how a global routing system and a global\
    \ DNS system can be\n   maintained; the Internet is permanently fragmented.\n"
- title: 5.3 Partial deployment of IPv6
  contents:
  - "5.3 Partial deployment of IPv6\n   In this scenario, IPv6 is completely implemented\
    \ but only deploys in\n   certain segments of the network (e.g. in certain countries,\
    \ or in\n   certain areas of application such as mobile hand-held devices).\n\
    \   Instead of being transitional in nature, some of the IPv6 transition\n   techniques\
    \ become permanent features of the landscape. Sometimes\n   addresses are 32 bits,\
    \ sometimes they are 128 bits. DNS lookups may\n   return either or both. In the\
    \ 32 bit world, the scenarios 5.2.1 and\n   5.2.2 may occur. IPSEC can only deploy\
    \ partially.\n"
- title: 6. Conclusion
  contents:
  - "6. Conclusion\n   None of the above scenarios is clean, simple and straightforward.\n\
    \   Although the pure IPv6 scenario is the cleanest and simplest, it is\n   not\
    \ straightforward to reach it. The various scenarios without use of\n   IPv6 are\
    \ all messy and ultimately seem to lead to dead ends of one\n   kind or another.\
    \ Partial deployment of IPv6, which is a required step\n   on the road to full\
    \ deployment, is also messy but avoids the dead\n   ends.\n"
- title: 7. Security Considerations
  contents:
  - "7. Security Considerations\n   The loss of transparency is both a bug and a feature\
    \ from the\n   security viewpoint. To the extent that it prevents the end-to-end\n\
    \   deployment of IPSEC, it damages security and creates vulnerabilities.\n  \
    \ For example, if a standard NAT box is in the path, then the best that\n   can\
    \ be done is to decrypt and re-encrypt IP traffic in the NAT.  The\n   traffic\
    \ will therefore be momentarily in clear text and potentially\n   vulnerable.\
    \ Furthermore, the NAT will possess many keys and will be a\n   prime target of\
    \ attack.  In environments where this is unacceptable,\n   encryption must be\
    \ applied above the network layer instead, of course\n   with no usage whatever\
    \ of IP addresses in data that is\n   cryptographically protected. See section\
    \ 4 for further discussion.\n   In certain scenarios, i.e. 5.1 (full IPv6) and\
    \ 5.2.1.2 (RSIP), end-\n   to-end IPSEC would become possible, especially using\
    \ the \"distributed\n   firewalls\" model advocated in [Bellovin].\n   The loss\
    \ of transparency at the Intranet/Internet boundary may be\n   considered a security\
    \ feature, since it provides a well defined point\n   at which to apply restrictions.\
    \ This form of security is subject to\n   the \"crunchy outside, soft inside\"\
    \ risk, whereby any successful\n   penetration of the boundary exposes the entire\
    \ Intranet to trivial\n   attack. The lack of end-to-end security applied within\
    \ the Intranet\n   also ignores insider threats.\n   It should be noted that security\
    \ applied above the transport level,\n   such as SSL, SSH, PGP or S/MIME, is not\
    \ affected by network layer\n   transparency issues.\n"
- title: Acknowledgements
  contents:
  - "Acknowledgements\n   This document and the related issues have been discussed\
    \ extensively\n   by the IAB. Special thanks to Steve Deering for a detailed review\
    \ and\n   to Noel Chiappa. Useful comments or ideas were also received from Rob\n\
    \   Austein, John Bartas, Jim Bound, Scott Bradner, Vint Cerf, Spencer\n   Dawkins,\
    \ Anoop Ghanwani, Erik Guttmann, Eric A. Hall, Graham Klyne,\n   Dan Kohn, Gabriel\
    \ Montenegro, Thomas Narten, Erik Nordmark, Vern\n   Paxson, Michael Quinlan,\
    \ Eric Rosen, Daniel Senie, Henning\n   Schulzrinne, Bill Sommerfeld, and George\
    \ Tsirtsis.\n"
- title: References
  contents:
  - "References\n   [Bellovin]    Distributed Firewalls, S. Bellovin, available at\n\
    \                 http://www.research.att.com/~smb/papers/distfw.pdf or\n    \
    \             http://www.research.att.com/~smb/papers/distfw.ps (work\n      \
    \           in progress).\n   [Berners-Lee] Weaving the Web, T. Berners-Lee, M.\
    \ Fischetti,\n                 HarperCollins, 1999, p 208.\n   [Saltzer]     End-To-End\
    \ Arguments in System Design, J.H. Saltzer,\n                 D.P.Reed, D.D.Clark,\
    \ ACM TOCS, Vol 2, Number 4,\n                 November 1984, pp 277-288.\n  \
    \ [IEN 48]      Cerf, V., \"The Catenet Model for Internetworking,\"\n       \
    \          Information Processing Techniques Office, Defense\n               \
    \  Advanced Research Projects Agency, IEN 48, July 1978.\n   [CATENET]     Pouzin,\
    \ L., \"A Proposal for Interconnecting Packet\n                 Switching Networks,\"\
    \ Proceedings of EUROCOMP, Brunel\n                 University, May 1974, pp.\
    \ 1023-36.\n   [STD 7]       Postel, J., \"Transmission Control Protocol\", STD\
    \ 7, RFC\n                 793, September 1981.\n   [RFC 1546]    Partridge, C.,\
    \ Mendez, T. and  W. Milliken,  \"Host\n                 Anycasting Service\"\
    , RFC 1546, November 1993.\n   [RFC 1597]    Rekhter, Y., Moskowitz, B., Karrenberg,\
    \ D. and G. de\n                 Groot, \"Address Allocation for Private Internets\"\
    , RFC\n                 1597, March 1994.\n   [RFC 1633]    Braden, R., Clark,\
    \ D. and S. Shenker, \"Integrated\n                 Services in the Internet Architecture:\
    \ an Overview\",\n                 RFC 1633, June 1994.\n   [RFC 1889]    Schulzrinne,\
    \ H., Casner, S., Frederick, R. and V.\n                 Jacobson, \"RTP: A Transport\
    \ Protocol for Real-Time\n                 Applications\", RFC 1889, January 1996.\n\
    \   [BCP 5]       Rekhter, Y., Moskowitz, B., Karrenberg, D., de Groot,\n    \
    \             G.  and E. Lear, \"Address Allocation for Private\n            \
    \     Internets\", BCP 5, RFC 1918, February 1996.\n   [RFC 1928]    Leech, M.,\
    \ Ganis, M., Lee, Y., Kuris, R., Koblas, D.\n                 and L. Jones, \"\
    SOCKS Protocol Version 5\", RFC 1928,\n                 March 1996.\n   [RFC 1958]\
    \    Carpenter, B., \"Architectural Principles of the\n                 Internet\"\
    , RFC 1958, June 1996.\n   [RFC 2018]    Mathis, M., Mahdavi, J., Floyd, S. and\
    \ A. Romanow, \"TCP\n                 Selective Acknowledgement Options\", RFC\
    \ 2018, October\n                 1996.\n   [RFC 2052]    Gulbrandsen, A. and\
    \ P. Vixie, \"A DNS RR for specifying\n                 the location of services\
    \ (DNS SRV)\", RFC 2052, October\n                 1996.\n   [RFC 2101]    Carpenter,\
    \ B., Crowcroft, J. and Y. Rekhter, \"IPv4\n                 Address Behaviour\
    \ Today\", RFC 2101, February 1997.\n   [RFC 2210]    Wroclawski, J., \"The Use\
    \ of RSVP with IETF Integrated\n                 Services\", RFC 2210, September\
    \ 1997.\n   [RFC 2309]    Braden, B., Clark, D., Crowcroft, J., Davie, B.,\n \
    \                Deering, S., Estrin, D., Floyd, S., Jacobson, V.,\n         \
    \        Minshall, G., Partridge, C., Peterson, L.,\n                 Ramakrishnan,\
    \ K., Shenker, S., Wroclawski, J. and L.\n                 Zhang, \"Recommendations\
    \ on Queue Management and\n                 Congestion Avoidance in the Internet\"\
    , RFC 2309, April\n                 1998.\n   [RFC 2326]    Schulzrinne, H., Rao,\
    \ A. and R. Lanphier, \"Real Time\n                 Streaming Protocol (RTSP)\"\
    , RFC 2326, April 1998.\n   [RFC 2401]    Kent, S. and R. Atkinson, \"Security\
    \ Architecture for\n                 the Internet Protocol\", RFC 2401, November\
    \ 1998.\n   [RFC 2475]    Blake, S., Black, D., Carlson, M., Davies, E., Wang,\
    \ Z.\n                 and W. Weiss, \"An Architecture for Differentiated\n  \
    \               Service\", RFC 2475, December 1998.\n   [RFC 2581]    Allman,\
    \ M., Paxson, V. and W. Stevens, \"TCP Congestion\n                 Control\"\
    , RFC 2581, April 1999.\n   [NAT-ARCH]    Hain, T., \"Architectural Implications\
    \ of NAT\", Work in\n                 Progress.\n   [NAT-PROT]    Holdrege, M.\
    \ and P. Srisuresh, \"Protocol Complications\n                 with the IP Network\
    \ Address Translator (NAT)\", Work in\n                 Progress.\n   [SECMECH]\
    \     Bellovin, S., \"Security Mechanisms for the Internet\",\n              \
    \   Work in Progress.\n   [RSIP]        Lo, J., Borella, M. and D. Grabelsky,\
    \ \"Realm Specific\n                 IP: A Framework\", Work in Progress.\n  \
    \ [HIP]         Moskowitz, R., \"The Host Identity Payload\", Work in\n      \
    \           Progress.\n"
- title: Author's Address
  contents:
  - "Author's Address\n   Brian E. Carpenter\n   IBM\n   c/o iCAIR\n   Suite 150\n\
    \   1890 Maple Avenue\n   Evanston, IL 60201\n   USA\n   EMail: brian@icair.org\n"
- title: Full Copyright Statement
  contents:
  - "Full Copyright Statement\n   Copyright (C) The Internet Society (2000).  All\
    \ Rights Reserved.\n   This document and translations of it may be copied and\
    \ furnished to\n   others, and derivative works that comment on or otherwise explain\
    \ it\n   or assist in its implementation may be prepared, copied, published\n\
    \   and distributed, in whole or in part, without restriction of any\n   kind,\
    \ provided that the above copyright notice and this paragraph are\n   included\
    \ on all such copies and derivative works.  However, this\n   document itself\
    \ may not be modified in any way, such as by removing\n   the copyright notice\
    \ or references to the Internet Society or other\n   Internet organizations, except\
    \ as needed for the purpose of\n   developing Internet standards in which case\
    \ the procedures for\n   copyrights defined in the Internet Standards process\
    \ must be\n   followed, or as required to translate it into languages other than\n\
    \   English.\n   The limited permissions granted above are perpetual and will\
    \ not be\n   revoked by the Internet Society or its successors or assigns.\n \
    \  This document and the information contained herein is provided on an\n   \"\
    AS IS\" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING\n   TASK FORCE\
    \ DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING\n   BUT NOT LIMITED\
    \ TO ANY WARRANTY THAT THE USE OF THE INFORMATION\n   HEREIN WILL NOT INFRINGE\
    \ ANY RIGHTS OR ANY IMPLIED WARRANTIES OF\n   MERCHANTABILITY OR FITNESS FOR A\
    \ PARTICULAR PURPOSE.\n"
- title: Acknowledgement
  contents:
  - "Acknowledgement\n   Funding for the RFC Editor function is currently provided\
    \ by the\n   Internet Society.\n"
