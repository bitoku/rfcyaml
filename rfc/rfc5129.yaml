- title: __initial_text__
  contents:
  - '                  Explicit Congestion Marking in MPLS

    '
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This document specifies an Internet standards track protocol\
    \ for the\n   Internet community, and requests discussion and suggestions for\n\
    \   improvements.  Please refer to the current edition of the \"Internet\n   Official\
    \ Protocol Standards\" (STD 1) for the standardization state\n   and status of\
    \ this protocol.  Distribution of this memo is unlimited.\n"
- title: Abstract
  contents:
  - "Abstract\n   RFC 3270 defines how to support the Diffserv architecture in MPLS\n\
    \   networks, including how to encode Diffserv Code Points (DSCPs) in an\n   MPLS\
    \ header.  DSCPs may be encoded in the EXP field, while other uses\n   of that\
    \ field are not precluded.  RFC 3270 makes no statement about\n   how Explicit\
    \ Congestion Notification (ECN) marking might be encoded\n   in the MPLS header.\
    \  This document defines how an operator might\n   define some of the EXP codepoints\
    \ for explicit congestion\n   notification, without precluding other uses.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1.  Introduction . . . . . . . . . . . . . . . . . . .\
    \ . . . . . .  3\n     1.1.  Background . . . . . . . . . . . . . . . . . . .\
    \ . . . . .  3\n     1.2.  Intent . . . . . . . . . . . . . . . . . . . . . .\
    \ . . . .  4\n     1.3.  Terminology  . . . . . . . . . . . . . . . . . . . .\
    \ . . .  4\n   2.  Use of MPLS EXP Field for ECN  . . . . . . . . . . . . . .\
    \ . .  5\n   3.  Per-Domain ECT Checking  . . . . . . . . . . . . . . . . . .\
    \ .  7\n   4.  ECN-Enabled MPLS Domain  . . . . . . . . . . . . . . . . . . .\
    \  8\n     4.1.  Pushing (Adding) One or More Labels to an IP Packet  . . .  8\n\
    \     4.2.  Pushing One or More Labels onto an MPLS Labeled Packet . .  8\n  \
    \   4.3.  Congestion Experienced in an Interior MPLS Node  . . . . .  8\n    \
    \ 4.4.  Crossing a Diffserv Domain Boundary  . . . . . . . . . . .  8\n     4.5.\
    \  Popping an MPLS Label (Not the End of the Stack) . . . . .  9\n     4.6.  Popping\
    \ the Last MPLS Label in the Stack . . . . . . . . .  9\n     4.7.  Diffserv Tunneling\
    \ Models  . . . . . . . . . . . . . . . . 10\n   5.  ECN-Disabled MPLS Domain\
    \ . . . . . . . . . . . . . . . . . . . 10\n   6.  The Use of More Codepoints\
    \ with E-LSPs and L-LSPs  . . . . . . 10\n   7.  Relationship to Tunnel Behavior\
    \ in RFC 3168  . . . . . . . . . 11\n   8.  Deployment Considerations  . . . .\
    \ . . . . . . . . . . . . . . 11\n     8.1.  Marking Non-ECN-Capable Packets \
    \ . . . . . . . . . . . . . 11\n     8.2.  Non-ECN-Capable Routers in an MPLS\
    \ Domain  . . . . . . . . 12\n   9.  Example Uses . . . . . . . . . . . . . .\
    \ . . . . . . . . . . . 13\n     9.1.  RFC 3168-Style ECN . . . . . . . . . .\
    \ . . . . . . . . . . 13\n     9.2.  ECN Co-Existence with Diffserv E-LSPs  .\
    \ . . . . . . . . . 13\n     9.3.  Congestion-Feedback-Based Traffic Engineering\
    \  . . . . . . 14\n     9.4.  PCN Flow Admission Control and Flow Termination\
    \  . . . . . 14\n   10. Security Considerations  . . . . . . . . . . . . . . .\
    \ . . . . 14\n   11. Acknowledgments  . . . . . . . . . . . . . . . . . . . .\
    \ . . . 15\n   Appendix A.   Extension to Pre-Congestion Notification . . . .\
    \ . . 16\n     A.1. Label Push onto IP Packet . . . . . . . . . . . . . . . .\
    \ . 16\n     A.2. Pushing Additional MPLS Labels  . . . . . . . . . . . . . .\
    \ 16\n     A.3. Admission Control or Flow Termination Marking Inside\n       \
    \   MPLS Domain . . . . . . . . . . . . . . . . . . . . . . . . 17\n     A.4.\
    \ Popping an MPLS Label (Not End of Stack)  . . . . . . . . . 17\n     A.5. Popping\
    \ the Last MPLS Label to Expose IP Header . . . . . . 17\n   Normative References\
    \ . . . . . . . . . . . . . . . . . . . . . . . 18\n   Informative References\
    \ . . . . . . . . . . . . . . . . . . . . . . 18\n"
- title: 1.  Introduction
  contents:
  - '1.  Introduction

    '
- title: 1.1.  Background
  contents:
  - "1.1.  Background\n   [RFC3168] defines Explicit Congestion Notification (ECN)\
    \ for IP.  The\n   primary purpose of ECN is to allow congestion to be signalled\
    \ without\n   dropping packets.\n   [RFC3270] defines how to support the Diffserv\
    \ architecture in MPLS\n   networks, including how to encode Diffserv Code Points\
    \ (DSCPs) in an\n   MPLS header.  DSCPs may be encoded in the EXP field, while\
    \ other uses\n   of that field are not precluded.  RFC 3270 makes no statement\
    \ about\n   how Explicit Congestion Notification (ECN) marking might be encoded\n\
    \   in the MPLS header.\n   This document defines how an operator might define\
    \ some of the EXP\n   codepoints for explicit congestion notification, without\
    \ precluding\n   other uses.  In parallel to the activity defining the addition\
    \ of ECN\n   to IP [RFC3168], two proposals were made to add ECN to MPLS\n   [Floyd][Shayman].\
    \  These proposals, however, fell by the wayside.\n   With ECN for IP now being\
    \ a proposed standard, and developing\n   interest in using pre-congestion notification\
    \ (PCN) for admission\n   control and flow termination [PCN], there is consequent\
    \ interest in\n   being able to support ECN across IP networks consisting of MPLS-\n\
    \   enabled domains.  Therefore, it is necessary to specify the protocol\n   for\
    \ including ECN in the MPLS shim header and the protocol behavior\n   of edge\
    \ MPLS nodes.\n   We note that in [RFC3168], there are four codepoints used for\
    \ ECN\n   marking, which are encoded using two bits of the IP header.  The MPLS\n\
    \   EXP field is the logical place to encode ECN codepoints, but with\n   only\
    \ 3 bits (8 codepoints) available, and with the same field being\n   used to convey\
    \ DSCP information as well, there is a clear incentive\n   to conserve the number\
    \ of codepoints consumed for ECN purposes.\n   Efficient use of the EXP field\
    \ has been a focus of prior documents\n   [Floyd] [Shayman], and we draw on those\
    \ efforts in this document as\n   well.\n   We also note that [RFC3168] defines\
    \ default usage of the ECN field,\n   but it allows for the possibility that some\
    \ Diffserv Per Hop\n   Behaviors (PHBs) might include different specifications\
    \ on how the\n   ECN field is to be used.  This document seeks to preserve that\n\
    \   capability.\n"
- title: 1.2.  Intent
  contents:
  - "1.2.  Intent\n   Our intent is to specify how the MPLS shim header [RFC3032]\
    \ should\n   denote ECN marking and how MPLS nodes should understand whether the\n\
    \   transport for a packet will be ECN capable.  We offer this as a\n   building\
    \ block, from which to build different congestion-notification\n   systems.  We\
    \ do not intend to specify how the resulting congestion\n   notification is fed\
    \ back to an upstream node that can mitigate\n   congestion.  For instance, unlike\
    \ [Shayman], we do not specify edge-\n   to-edge MPLS domain feedback, but we\
    \ also do not preclude it.\n   Nonetheless, we do specify how the egress node\
    \ of an MPLS domain\n   should copy congestion notification from the MPLS shim\
    \ into the\n   encapsulated IP header if the ECN is to be carried onward towards\
    \ the\n   IP receiver; but we do *not* mandate that MPLS congestion\n   notification\
    \ must be copied into the IP header for onward\n   transmission.  This document\
    \ aims to be generic for any use of\n   congestion notification in MPLS.  Support\
    \ of [RFC3168] is our primary\n   motivation; some additional potential applications\
    \ to illustrate the\n   flexibility of our approach are described in Section 9.\
    \  In\n   particular, we aim to support possible future schemes that may use\n\
    \   more than one level of congestion marking.\n"
- title: 1.3.  Terminology
  contents:
  - "1.3.  Terminology\n   This document draws freely on the terminology of ECN [RFC3168]\
    \ and\n   MPLS [RFC3031].  For ease of reference, we have included some\n   definitions\
    \ here, but refer the reader to the references above for\n   complete specifications\
    \ of the relevant technologies:\n   o  CE: Congestion Experienced.  One of the\
    \ states with which a packet\n      may be marked in a network supporting ECN.\
    \  A packet is marked in\n      this state by an ECN-capable router to indicate\
    \ that this router\n      was experiencing congestion at the time the packet arrived.\n\
    \   o  ECT: ECN-capable Transport.  One of the ECN states that a packet\n    \
    \  may be in when it is sent by an end system.  An end system marks a\n      packet\
    \ with an ECT codepoint to indicate that the endpoints of the\n      transport\
    \ protocol are ECN-capable.  A router may not mark a\n      packet as CE unless\
    \ the packet was marked ECT when it arrived.\n   o  Not-ECT: Not ECN-capable transport.\
    \  An end system marks a packet\n      with this codepoint to indicate that the\
    \ endpoints of the\n      transport protocol are not ECN-capable.  A congested\
    \ router cannot\n      mark such packets as CE, and thus it can only drop them\
    \ to\n      indicate congestion.\n   o  EXP field.  A 3-bit field in the MPLS\
    \ label header [RFC3032] that\n      may be used to convey Diffserv information\
    \ (and is also used in\n      this document to carry ECN information).\n   o \
    \ PHP.  Penultimate Hop Popping.  An MPLS operation in which the\n      penultimate\
    \ Label Switching Router (LSR) on a Label Switched Path\n      (LSP) removes the\
    \ top label from the packet before forwarding the\n      packet to the final LSR\
    \ on the LSP.\n   Requirements Language\n   The key words \"MUST\", \"MUST NOT\"\
    , \"REQUIRED\", \"SHALL\", \"SHALL NOT\",\n   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\"\
    , \"MAY\", and \"OPTIONAL\" in this\n   document are to be interpreted as described\
    \ in RFC 2119 [RFC2119].\n"
- title: 2.  Use of MPLS EXP Field for ECN
  contents:
  - "2.  Use of MPLS EXP Field for ECN\n   We propose that LSRs configured for explicit\
    \ congestion notification\n   should use the EXP field in the MPLS shim header.\
    \  However, [RFC3270]\n   already defines use of codepoints in the EXP field for\
    \ differentiated\n   services.  Although it does not preclude other compatible\
    \ uses of the\n   EXP field, this clearly seems to limit the space available for\
    \ ECN,\n   given the field is only 3 bits (8 codepoints).\n   [RFC3270] defines\
    \ two possible approaches for requesting\n   differentiated service treatment\
    \ from an LSR:\n   o  In the EXP-Inferred-PSC LSP (E-LSP) approach, different\
    \ codepoints\n      of the EXP field in the MPLS shim header are used to indicate\
    \ the\n      packet's per hop behavior (PHB).\n   o  In the Label-Only-Inferred-PSC\
    \ LSP (L-LSP) approach, an MPLS label\n      is assigned for each PHB scheduling\
    \ class (PSC, as defined in\n      [RFC3260], so that an LSR determines both its\
    \ forwarding and its\n      scheduling behavior from the label.\n   If an MPLS\
    \ domain uses the L-LSP approach, there is likely to be\n   space in the EXP field\
    \ for ECN codepoint(s).  Where the E-LSP\n   approach is used, codepoint space\
    \ in the EXP field is likely to be\n   scarce.  This document focuses on interworking\
    \ ECN marking with the\n   E-LSP approach, as it is the tougher problem.  Consequently,\
    \ the same\n   approach can also be applied with L-LSPs.\n   We recommend that\
    \ explicit congestion notification in MPLS should use\n   codepoints instead of\
    \ bits in the EXP field.  Since not every PHB\n   will necessarily require an\
    \ associated ECN codepoint, it would be\n   wasteful to assign a dedicated bit\
    \ for ECN.  (There may also be cases\n   where a given PHB might need more than\
    \ one ECN-like codepoint; see\n   Section 9.4 for an example).\n   For each PHB\
    \ that uses ECN marking, we assume one EXP codepoint will\n   be defined as not\
    \ congestion marked (Not-CM), and at least one other\n   codepoint will be defined\
    \ as congestion marked (CM).  Therefore, each\n   PHB that uses ECN marking will\
    \ consume at least two EXP codepoints,\n   but PHBs that do not use ECN marking\
    \ will only consume one.\n   Further, we wish to use minimal space in the MPLS\
    \ shim header to tell\n   interior LSRs whether each packet will be received by\
    \ an ECN-capable\n   transport (ECT).  Nonetheless, we must ensure that an endpoint\
    \ that\n   would not understand an ECN mark will not receive one, otherwise it\n\
    \   will not be able to respond to congestion as it should.  In the past,\n  \
    \ three solutions to this problem have been proposed:\n   o  One possible approach\
    \ is for congested LSRs to mark the ECN field\n      in the underlying IP header\
    \ at the bottom of the label stack.\n      Although many commercial LSRs routinely\
    \ access the IP header for\n      other reasons (equal cost multi-path - ECMP),\
    \ there are numerous\n      drawbacks to attempting to find an IP header beneath\
    \ an MPLS label\n      stack.  Notably, there is the challenge of detecting the\
    \ absence\n      of an IP header when non-IP packets are carried on an LSP.\n\
    \      Therefore, we will not consider this approach further.\n   o  In the scheme\
    \ suggested by [Floyd], ECT and CE are overloaded into\n      one bit, so that\
    \ a 0 means ECT while a 1 might either mean Not-ECT\n      or it might mean CE.\
    \  A packet that has been marked as having\n      experienced congestion upstream,\
    \ and then is picked out for\n      marking at a second congested LSR, will be\
    \ dropped by the second\n      LSR since it cannot determine whether the packet\
    \ has previously\n      experienced congestion or if ECN is not supported by the\n\
    \      transport.\n      While such an approach seemed potentially palatable,\
    \ we do not\n      recommend it here for the following reasons.  In some cases,\
    \ we\n      wish to be able to use ECN marking long before actual congestion\n\
    \      (e.g., pre-congestion notification).  In these circumstances,\n      marking\
    \ rates at each LSR might be non-negligible most of the\n      time, so the chances\
    \ of a previously marked packet encountering an\n      LSR that wants to mark\
    \ it again will also be non-negligible.  In\n      the case where CE and not-ECT\
    \ are indistinguishable to core\n      routers, such a scenario could lead to\
    \ unacceptable drop rates.\n      If the typical marking rate at every router\
    \ or LSR is p, and the\n      typical diameter of the network of LSRs is d, then\
    \ the probability\n      that a marked packet will be chosen for marking more\
    \ than once is\n      1-[Pr(never marked) + Pr(marked at exactly one hop)] = 1-\
    \ [(1-p)^d\n      + dp(1-p)^(d-1)].  For instance, with 6 LSRs in a row, each\n\
    \      marking ECN with 1% probability, the chances of a packet that is\n    \
    \  already marked being chosen for marking a second time is 0.15%.\n      The\
    \ bit-overloading scheme would therefore introduce a drop rate\n      of 0.15%\
    \ unnecessarily.  Given that most modern core networks are\n      sized to introduce\
    \ near-zero packet drop, it may be unacceptable\n      to drop over one in a thousand\
    \ packets unnecessarily.\n   o  A third possible approach was suggested by [Shayman].\
    \  In this\n      scheme, interior LSRs assume that the endpoints are ECN-capable,\n\
    \      but this assumption is checked when the final label is popped.  If\n  \
    \    an interior LSR has marked ECN in the EXP field of the shim\n      header,\
    \ but the IP header says the endpoints are not ECN-capable,\n      the edge router\
    \ (or penultimate router, if using penultimate hop\n      popping) drops the packet.\
    \  We recommend this scheme, which we\n      call `per-domain ECT checking', and\
    \ define it more precisely in\n      the following section.  Its chief drawback\
    \ is that it can cause\n      packets to be forwarded after encountering congestion\
    \ only to be\n      dropped at the egress of the MPLS domain.  The rationale for\
    \ this\n      decision is given in Section 8.1.\n"
- title: 3.  Per-Domain ECT Checking
  contents:
  - "3.  Per-Domain ECT Checking\n   For the purposes of this discussion, we define\
    \ the egress nodes of an\n   MPLS domain as the nodes that pop the last MPLS label\
    \ from the label\n   stack, exposing the IP (or, potentially non-IP) header. \
    \ Note that\n   such a node may be the ultimate or penultimate hop of an LSP,\n\
    \   depending on whether penultimate hop popping (PHP) is employed.\n   In the\
    \ per-domain ECT checking approach, the egress nodes take\n   responsibility for\
    \ checking whether the transport is ECN-capable.\n   This document does not specify\
    \ how these nodes should pass on\n   congestion notification because different\
    \ approaches are likely in\n   different scenarios.  However, if congestion notification\
    \ in the MPLS\n   header is copied into the IP header, the procedure MUST conform\
    \ to\n   the specification given here.\n   If congestion notification is passed\
    \ to the transport without first\n   passing it onward in the IP header, the approach\
    \ used must take\n   similar care to check that the transport is ECN-capable before\n\
    \   passing it ECN markings.  Specifically, if the transport for a\n   particular\
    \ congestion marked MPLS packet is found not to be ECN-\n   capable, the packet\
    \ MUST be dropped at this egress node.\n   In the per-domain ECT checking approach,\
    \ only the egress nodes check\n   whether an IP packet is destined for an ECN-capable\
    \ transport.\n   Therefore, any single LSR within an MPLS domain MUST NOT be\n\
    \   configured to enable ECN marking unless all the egress LSRs\n   surrounding\
    \ it are already configured to handle ECN marking.\n   We call a domain surrounded\
    \ by ECN-capable egress LSRs an ECN-enabled\n   MPLS domain.  This term only implies\
    \ that all the egress LSRs are\n   ECN-enabled; some interior LSRs may not be\
    \ ECN-enabled.  For\n   instance, it would be possible to use some legacy LSRs\
    \ incapable of\n   supporting ECN in the interior of an MPLS domain as long as\
    \ all the\n   egress LSRs were ECN-capable.  Note that if PHP is used, the\n \
    \  \"penultimate hop\" routers that perform the pop operation do need to\n   be\
    \ ECN-enabled since they are acting in this context as egress LSRs.\n"
- title: 4.  ECN-Enabled MPLS Domain
  contents:
  - "4.  ECN-Enabled MPLS Domain\n   In the following subsections, we describe various\
    \ operations\n   affecting the ECN marking of a packet that may be performed at\
    \ MPLS-\n   edge and core LSRs.\n"
- title: 4.1.  Pushing (Adding) One or More Labels to an IP Packet
  contents:
  - "4.1.  Pushing (Adding) One or More Labels to an IP Packet\n   On encapsulating\
    \ an IP packet with an MPLS label stack, the ECN field\n   must be translated\
    \ from the IP packet into the MPLS EXP field.  The\n   Not-CM (not congestion\
    \ marked) state is set in the MPLS EXP field if\n   the ECN status of the IP packet\
    \ is Not-ECT or ECT(1) or ECT(0).  The\n   CM state is set if the ECN status of\
    \ the IP packet is CE.  If more\n   than one label is pushed at one time, the\
    \ same value should be placed\n   in the EXP value of all label stack entries.\n"
- title: 4.2.  Pushing One or More Labels onto an MPLS Labeled Packet
  contents:
  - "4.2.  Pushing One or More Labels onto an MPLS Labeled Packet\n   The EXP field\
    \ is copied directly from the topmost label before the\n   push to the newly added\
    \ outer label.  If more than one label is being\n   pushed, the same EXP value\
    \ is copied to all label-stack entries.\n"
- title: 4.3.  Congestion Experienced in an Interior MPLS Node
  contents:
  - "4.3.  Congestion Experienced in an Interior MPLS Node\n   If the EXP codepoint\
    \ of the packet maps to a PHB that uses ECN\n   marking, and the marking algorithm\
    \ requires the packet to be marked,\n   the CM state is set (irrespective of whether\
    \ it is already in the CM\n   state).\n   If the buffer is full, a packet is dropped.\n"
- title: 4.4.  Crossing a Diffserv Domain Boundary
  contents:
  - "4.4.  Crossing a Diffserv Domain Boundary\n   If an MPLS-encapsulated packet\
    \ crosses a Diffserv domain boundary, it\n   may be the case that the two domains\
    \ use different encodings of the\n   same PHB in the EXP field.  In such cases,\
    \ the EXP field must be\n   rewritten at the domain boundary.  If the PHB is one\
    \ that supports\n   ECN, then the appropriate ECN marking should also be preserved\
    \ when\n   the EXP field is mapped at the boundary.\n   If an MPLS-encapsulated\
    \ packet that is in the CM state crosses from a\n   domain that is ECN-enabled\
    \ (as defined in Section 3) to a domain that\n   is not ECN-enabled, then it is\
    \ necessary to perform the egress\n   checking procedures at the egress LSR of\
    \ the ECN-enabled domain.\n   This means that if the encapsulated packet is not\
    \ ECN-capable, the\n   packet MUST be dropped.  Note that this implies the egress\
    \ LSR must\n   be able to look beneath the MPLS header without popping the label\n\
    \   stack.\n   The related issue of Diffserv tunnel models is discussed in\n \
    \  Section 4.7.\n"
- title: 4.5.  Popping an MPLS Label (Not the End of the Stack)
  contents:
  - "4.5.  Popping an MPLS Label (Not the End of the Stack)\n   When a packet has\
    \ more than one MPLS label in the stack and the top\n   label is popped, another\
    \ MPLS label is exposed.  In this case, the\n   ECN information should be transferred\
    \ from the outer EXP field to the\n   inner MPLS label in the following manner.\
    \  If the inner EXP field is\n   Not-CM, the inner EXP field is set to the same\
    \ CM or Not-CM state as\n   the outer EXP field.  If the inner EXP field is CM,\
    \ it remains\n   unchanged whatever the outer EXP field.  Note that an inner value\
    \ of\n   CM and an outer value of not-CM should be considered anomalous, and\n\
    \   SHOULD be logged in some way by the LSR.\n"
- title: 4.6.  Popping the Last MPLS Label in the Stack
  contents:
  - "4.6.  Popping the Last MPLS Label in the Stack\n   When the last MPLS label is\
    \ popped from the packet, its payload is\n   exposed.  If that packet is not IP,\
    \ and does not have any capability\n   equivalent to ECT, it is assumed Not-ECT,\
    \ and it is treated as such.\n   That means that if the EXP value of the MPLS\
    \ header is CM, the packet\n   MUST be dropped.\n   Assuming an IP packet was\
    \ exposed, we have to examine whether or not\n   that packet is ECT.  A Not-ECT\
    \ packet MUST be dropped if the EXP\n   field is CM.\n   For the remainder of\
    \ this section, we describe the behavior that is\n   required if the ECN information\
    \ is to be transferred from the MPLS\n   header into the exposed IP header for\
    \ onward transmission.  As noted\n   in Section 1.2, such behavior is not mandated\
    \ by this document, but\n   may be selected by an operator.\n   If the inner IP\
    \ packet is Not-ECT, its ECN field remains unchanged if\n   the EXP field is Not-CM.\
    \  If the ECN field of the inner packet is set\n   to ECT(0), ECT(1), or CE, the\
    \ ECN field remains unchanged if the EXP\n   field is set to Not-CM.  The ECN\
    \ field is set to CE if the EXP field\n   is CM.  Note that an inner value of\
    \ CE and an outer value of not-CM\n   should be considered anomalous, and SHOULD\
    \ be logged in some way by\n   the LSR.\n"
- title: 4.7.  Diffserv Tunneling Models
  contents:
  - "4.7.  Diffserv Tunneling Models\n   [RFC3270] describes three tunneling models\
    \ for Diffserv support\n   across MPLS Domains, referred to as the uniform, short\
    \ pipe, and pipe\n   models.  The differences between these models lie in whether\
    \ the\n   Diffserv treatment that applies to a packet while it travels along a\n\
    \   particular LSP is carried to the ingress of the last hop, to the\n   egress\
    \ of the last hop, or beyond the last hop.  Depending on which\n   mode is preferred\
    \ by an operator, the EXP value or DSCP value of an\n   exposed header following\
    \ a label pop may or may not be dependent on\n   the EXP value of the label that\
    \ is removed by the pop operation.  We\n   believe that, in the case of ECN marking,\
    \ the use of these models\n   should only apply to the encoding of the Diffserv\
    \ PHB in the EXP\n   value, and that the choice of codepoint for ECN should always\
    \ be made\n   based on the procedures described above, independent of the tunneling\n\
    \   model.\n"
- title: 5.  ECN-Disabled MPLS Domain
  contents:
  - "5.  ECN-Disabled MPLS Domain\n   If ECN is not enabled on all the egress LSRs\
    \ of a domain, ECN MUST\n   NOT be enabled on any LSRs throughout the domain.\
    \  If congestion is\n   experienced on any LSR in an ECN-disabled MPLS domain,\
    \ packets MUST\n   be dropped; they MUST NOT be marked.  The exact algorithm for\n\
    \   deciding when to drop packets during congestion (e.g., tail-drop,\n   RED,\
    \ etc.) is a local matter for the operator of the domain.\n"
- title: 6.  The Use of More Codepoints with E-LSPs and L-LSPs
  contents:
  - "6.  The Use of More Codepoints with E-LSPs and L-LSPs\n   [RFC3270] gives different\
    \ options with E-LSPs and L-LSPs, and some of\n   those could potentially provide\
    \ ample EXP codepoints for ECN.\n   However, deploying L-LSPs vs. E-LSPs has many\
    \ implications, such as\n   platform support and operational complexity.  The\
    \ above ECN MPLS\n   solution should provide some flexibility.  If the operator\
    \ has\n   deployed one L-LSP per PHB scheduling class, then EXP space will be\
    \ a\n   non-issue, and it could be used to achieve more sophisticated ECN\n  \
    \ behavior if required.  If the operator wants to stick to E-LSPs and\n   uses\
    \ a handful of EXP codepoints for Diffserv, it may be desirable to\n   operate\
    \ with a minimum number of extra ECN codepoints, even if this\n   comes with some\
    \ compromise on ECN optimality.  See Section 9 for\n   discussion of some possible\
    \ deployment scenarios.\n   We note that in a network where L-LSPs are used, ECN\
    \ marking SHOULD\n   NOT cause packets from the same microflow, but with different\
    \ ECN\n   markings, to be sent on different LSPs.  As discussed in [RFC3270],\n\
    \   packets of a single microflow should always travel on the same LSP to\n  \
    \ avoid possible misordering.  Thus, ECN marking of packets on L-LSPs\n   SHOULD\
    \ only affect the EXP value of the packets.\n"
- title: 7.  Relationship to Tunnel Behavior in RFC 3168
  contents:
  - "7.  Relationship to Tunnel Behavior in RFC 3168\n   [RFC3168] defines two modes\
    \ of encapsulating ECN-marked IP packets\n   inside additional IP headers when\
    \ tunnels are used.  The two modes\n   are the \"full functionality\" and \"limited\
    \ functionality\" modes.  In\n   the full functionality mode, the ECT information\
    \ from the inner\n   header is copied to the outer header at the tunnel ingress,\
    \ but the\n   CE information is not.  In the limited functionality mode, neither\n\
    \   ECT nor CE information is copied to the outer header, and thus ECN\n   cannot\
    \ be applied to the encapsulated packet.\n   The behavior that is specified in\
    \ Section 4 of this document\n   resembles the \"full functionality\" mode in\
    \ the sense that it conveys\n   some information from inner to outer header, and\
    \ in the sense that it\n   enables full ECN support along the MPLS LSP (which\
    \ is analogous to an\n   IP tunnel in this context).  However it differs in one\
    \ respect, which\n   is that the CE information is conveyed from the inner header\
    \ to the\n   outer header.  Our original reason for this different design choice\n\
    \   was to give interior routers and LSRs more information about upstream\n  \
    \ marking in multi-bottleneck cases.  For instance, the flow\n   termination marking\
    \ mechanism proposed for PCN works by only\n   considering packets for marking\
    \ that have not already been marked\n   upstream.  Unless existing flow termination\
    \ marking is copied from\n   the inner to the outer header at tunnel ingress,\
    \ the mechanism\n   doesn't terminate enough traffic in cases where anomalous\
    \ events hit\n   multiple domains at once.  [RFC3168] does not give any reasons\n\
    \   against conveying CE information from the inner header to the outer\n   in\
    \ the \"full functionality\" mode.  Furthermore, [RFC4301] specifies\n   that\
    \ the ECN marking should be copied from inner header to outer\n   header in IPSEC\
    \ tunnels, consistent with the approach defined here.\n   [BRISCOE-ECN] discusses\
    \ this issue in more detail.  In summary, the\n   approach described in Section\
    \ 4 appears to be both a sound technical\n   choice and consistent with the current\
    \ state of thinking in the IETF.\n"
- title: 8.  Deployment Considerations
  contents:
  - '8.  Deployment Considerations

    '
- title: 8.1.  Marking Non-ECN-Capable Packets
  contents:
  - "8.1.  Marking Non-ECN-Capable Packets\n   What are the consequences of marking\
    \ a packet that is not ECN-\n   capable?  Even if it will be dropped before leaving\
    \ the domain,\n   doesn't this consume resources unnecessarily?\n   The problem\
    \ only arises if there is congestion downstream of an\n   earlier congested queue\
    \ in the same MPLS domain.  Congested LSRs\n   downstream might forward packets\
    \ already marked, even though they\n   will be dropped later when the inner IP\
    \ header is found to be Not-ECT\n   on decapsulation.  Such packets might cause\
    \ the downstream LSRs to\n   mark (or drop) other packets that they would otherwise\
    \ not have had\n   to.\n   We expect congestion will typically be rare in MPLS\
    \ networks, but it\n   might not be.  The extra unnecessary load at downstream\
    \ LSRs will not\n   be more than the fraction of marked packets from upstream\
    \ LSRs, even\n   in the worst case where no transports are ECN-capable.  Therefore,\n\
    \   the amount of unnecessary marking (or drop) on an LSR will not be\n   more\
    \ than the product of its local marking rate and the marking rate\n   due to upstream\
    \ LSRs within the same domain -- typically the product\n   of two small (often\
    \ zero) probabilities.\n   This is why we decided to use the per-domain ECT checking\
    \ approach --\n   because the most likely effect would be a very slightly increased\n\
    \   marking rate, which would result in very slightly higher drop only\n   for\
    \ non-ECN-capable transports.  We chose not to use the [Floyd]\n   alternative,\
    \ which introduced a low but persistent level of\n   unnecessary packet drop for\
    \ all time, even for ECN-capable\n   transports.  Although that scheme did not\
    \ carry traffic to the edge\n   of the MPLS domain only to be dropped on decapsulation,\
    \ we felt our\n   minor inefficiency was a small price to pay; and it would get\
    \ smaller\n   still if ECN deployment widened.\n   A partial solution would be\
    \ to preferentially drop packets arriving\n   at a congested router that were\
    \ already marked.  There is no solution\n   to the problem of marking a packet\
    \ when congestion is caused by\n   another packet that should have been dropped.\
    \  However, the chance of\n   such an occurrence is very low, and the consequences\
    \ are not\n   significant.  It merely causes an application to very occasionally\n\
    \   slow down its rate when it did not have to.\n"
- title: 8.2.  Non-ECN-Capable Routers in an MPLS Domain
  contents:
  - "8.2.  Non-ECN-Capable Routers in an MPLS Domain\n   What if an MPLS domain wants\
    \ to use ECN, but not all legacy routers\n   are able to support it?\n   If the\
    \ legacy router(s) are used in the interior, this is not a\n   problem.  They\
    \ will simply have to drop the packets if they are\n   congested, rather than\
    \ mark them, which is the standard behavior for\n   IP routers that are not ECN-enabled.\n\
    \   If the legacy router were used as an egress router, it would not be\n   able\
    \ to check the ECN-capability of the transport correctly.  An\n   operator in\
    \ this position would not be able to use this solution and\n   therefore MUST\
    \ NOT enable ECN unless all egress routers are ECN-\n   capable.\n"
- title: 9.  Example Uses
  contents:
  - '9.  Example Uses

    '
- title: 9.1.  RFC 3168-Style ECN
  contents:
  - "9.1.  RFC 3168-Style ECN\n   [RFC3168] proposes the use of ECN in TCP, and it\
    \ introduces the use\n   of ECN-Echo and Congestion Window Reduced (CWR) flags\
    \ in the TCP\n   header for initialization.  The TCP sender responds accordingly\
    \ (such\n   as not increasing the congestion window) when it receives an ECN-Echo\n\
    \   (ECE) ACK packet (that is, an ACK packet with ECN-Echo flag set in\n   the\
    \ TCP header), then the sender knows that congestion was\n   encountered in the\
    \ network on the path from the sender to the\n   receiver.\n   It would be possible\
    \ to enable ECN in an MPLS domain for Diffserv\n   PHBs like AF and best efforts\
    \ that are expected to be used by TCP and\n   similar transports (e.g., DCCP [RFC4340]).\
    \  Then, end-to-end\n   congestion control in transports capable of understanding\
    \ ECN would\n   be able to respond to approaching congestion on LSRs without having\n\
    \   to rely on packet discard to signal congestion.\n"
- title: 9.2.  ECN Co-Existence with Diffserv E-LSPs
  contents:
  - "9.2.  ECN Co-Existence with Diffserv E-LSPs\n   Many operators today have deployed\
    \ Diffserv using the E-LSP approach\n   of [RFC3270].  In many cases, the number\
    \ of PHBs used is less than 8,\n   and hence there remain available codepoints\
    \ in the EXP space.  If an\n   operator wished to support ECN for a single PHB,\
    \ this could be\n   accomplished by simply allocating a second codepoint to the\
    \ PHB for\n   the CM state of that PHB and retaining the old codepoint for the\n\
    \   not-CM state.  An operator with only four deployed PHBs could, of\n   course,\
    \ enable ECN marking on all those PHBs.  It is easy to imagine\n   cases where\
    \ some PHBs might benefit more from ECN than others -- for\n   example, an operator\
    \ might use ECN on a premium data service but not\n   on a PHB used for best-effort\
    \ Internet traffic.\n   As an illustrative example of how the EXP field might\
    \ be used in this\n   case, consider the example of an operator who is using the\
    \ aggregated\n   service classes proposed in [TSVWG].  He may choose to support\
    \ ECN\n   only for the Assured Elastic Treatment Aggregate, using the EXP\n  \
    \ codepoint 010 for the not-CM state and 011 for the CM state.  All\n   other\
    \ codepoints could be the same as in [TSVWG].  Of course, any\n   other combination\
    \ of EXP values can be used according to the specific\n   set of PHBs and marking\
    \ conventions used within that operator's\n   network.\n"
- title: 9.3.  Congestion-Feedback-Based Traffic Engineering
  contents:
  - "9.3.  Congestion-Feedback-Based Traffic Engineering\n   Shayman's traffic engineering\
    \ [Shayman] presents another example\n   application of ECN feedback in an MPLS\
    \ domain.  Shayman proposed the\n   use of ECN by an egress LSR feeding back congestion\
    \ to an ingress LSR\n   to mitigate congestion by employing dynamic traffic engineering\n\
    \   techniques, such as shifting flows to an alternate path.  It proposed\n  \
    \ a new Resource Reservation Protocol (RSVP) message, which was sent by\n   the\
    \ egress LSR to the ingress LSR (and ignored by transit LSRs) to\n   indicate\
    \ congestion along the path.  Thus, rather than providing the\n   same style of\
    \ congestion notification to endpoints as defined in\n   [RFC3168], [Shayman]\
    \ limits its scope to the MPLS domain only.  This\n   application of ECN in an\
    \ MPLS domain could make use of the ECN\n   encoding in the MPLS header that is\
    \ defined in this document.\n"
- title: 9.4.  PCN Flow Admission Control and Flow Termination
  contents:
  - "9.4.  PCN Flow Admission Control and Flow Termination\n   [PCN] proposes using\
    \ pre-congestion notification (PCN) on routers\n   within an edge-to-edge Diffserv\
    \ region to control admission of new\n   flows to the region and, if necessary,\
    \ to terminate existing flows in\n   response to disasters and other anomalous\
    \ routing events.  In this\n   approach, the current level of PCN marking is picked\
    \ up by the\n   signaling used to initiate each flow in order to inform the admission\n\
    \   control decision for the whole region at once.  For example,\n   extensions\
    \ to RSVP [LEFAUCHEUR] and Next Steps in Signaling (NSIS)\n   [NSIS], [ARUMAITHURAI]\
    \ have been proposed.\n   If LSRs are able to mark packets to signify congestion\
    \ in MPLS, PCN\n   marking could be used for admission control and flow termination\n\
    \   across a Diffserv region, irrespective of whether it contained pure\n   IP\
    \ routers, MPLS LSRs, or both.  Indeed, the solution could be\n   somewhat more\
    \ efficient to implement if aggregates could identify\n   themselves by their\
    \ MPLS label.  Appendix A describes the mechanisms\n   by which the necessary\
    \ markings for PCN could be carried in the MPLS\n   header.\n"
- title: 10.  Security Considerations
  contents:
  - "10.  Security Considerations\n   We believe no new vulnerabilities are introduced\
    \ by this document.\n   We have considered whether malicious sources might be\
    \ able to exploit\n   the fact that interior LSRs will mark packets that are Not-ECT,\n\
    \   relying on their egress LSR to drop them.  Although this might allow\n   sources\
    \ to engineer a situation where more traffic is carried across\n   an MPLS domain\
    \ than should be, we figured that even if we hadn't\n   introduced this feature,\
    \ these sources would have been able to\n   prevent these LSRs dropping this traffic\
    \ anyway, simply by setting\n   ECT in the first place.\n   An ECN sender can\
    \ use the ECN nonce [RFC3540] to detect a misbehaving\n   receiver.  The ECN nonce\
    \ works correctly across an MPLS domain\n   without requiring any specific support\
    \ from the proposal in this\n   document.  The nonce does not need to be present\
    \ in the MPLS shim\n   header to detect a misbehaving receiver.  As long as the\
    \ nonce is\n   present in the IP header when the ECN information is copied from\
    \ the\n   last MPLS shim header, it will be overwritten if congestion has been\n\
    \   experienced by an LSR.  This is all that is necessary for the sender\n   to\
    \ detect a misbehaving receiver.  If there were a need for an ECN\n   nonce in\
    \ the MPLS shim header (e.g., to detect if one LSR were\n   erasing the markings\
    \ of an upstream LSR in the same domain), we\n   believe this proposal does not\
    \ preclude the later addition of an ECN\n   nonce capability for specific DSCPs,\
    \ just as it does not preclude any\n   other use of the EXP codepoints.\n"
- title: 11.  Acknowledgments
  contents:
  - "11.  Acknowledgments\n   Thanks to K.K. Ramakrishnan and Sally Floyd for getting\
    \ us thinking\n   about this in the first place and for providing advice on tunneling\n\
    \   of ECN packets, and to Sally Floyd, Joe Babiarz, Ben Niven-Jenkins,\n   Phil\
    \ Eardley, Ruediger Geib, and Magnus Westerlund for their comments\n   on the\
    \ document.\n"
- title: Appendix A.  Extension to Pre-Congestion Notification
  contents:
  - "Appendix A.  Extension to Pre-Congestion Notification\n   This appendix describes\
    \ how the mechanisms described in the body of\n   the document can be extended\
    \ to support PCN [PCN].  Our intent here\n   is to show that the mechanisms are\
    \ readily extended to more complex\n   scenarios than ECN, particularly in the\
    \ case where more codepoints\n   are needed, but this appendix may be safely ignored\
    \ if one is\n   interested only in supporting ECN.  Note that the PCN standards\
    \ are\n   still very much under development at the time of writing; hence, the\n\
    \   precise details contained in this appendix may be subject to change,\n   and\
    \ we stress that this appendix is for illustrative purposes only.\n   The relevant\
    \ aspects of PCN for the purposes of this discussion are:\n   o  PCN uses 3 states\
    \ rather than 2 for ECN -- these are referred to\n      as admission marked (AM),\
    \ termination marked (TM), and not marked\n      (NM) states.  (See Section 9.4\
    \ for further discussion of PCN and\n      the possibility of using fewer codepoints).\n\
    \   o  A packet can go from NM to AM, from NM to TM, or from AM to TM,\n     \
    \ but no other transition is possible.\n   o  The determination of whether a packet\
    \ is subject to PCN is based\n      on the PHB of the packet.\n   Thus, to support\
    \ PCN fully in an MPLS domain for a particular PHB, a\n   total of 3 codepoints\
    \ need to be allocated for that PHB.  These 3\n   codepoints represent the admission\
    \ marked (AM), termination marked\n   (TM), and not marked (NM) states.  The procedures\
    \ described in\n   Section 4 above need to be slightly modified to support this\n\
    \   scenario.  The following procedures are invoked when the topmost DSCP\n  \
    \ or EXP value indicates a PHB that supports PCN.\n"
- title: A.1.  Label Push onto IP Packet
  contents:
  - "A.1.  Label Push onto IP Packet\n   If the IP packet header indicates AM, set\
    \ the EXP value of all\n   entries in the label stack to AM.  If the IP packet\
    \ header indicates\n   TM, set the EXP value of all entries in the label stack\
    \ to TM.  For\n   any other marking of the IP header, set the EXP value of all\
    \ entries\n   in the label stack to NM.\n"
- title: A.2.  Pushing Additional MPLS Labels
  contents:
  - "A.2.  Pushing Additional MPLS Labels\n   The procedures of Section 4.2 apply.\n"
- title: A.3.  Admission Control or Flow Termination Marking Inside MPLS Domain
  contents:
  - "A.3.  Admission Control or Flow Termination Marking Inside MPLS Domain\n   The\
    \ EXP value can be set to AM or TM according to the same procedures\n   as described\
    \ in [BRISCOE-CL].  For the purposes of this document, it\n   does not matter\
    \ exactly which algorithms are used to decide when to\n   set AM or TM; all that\
    \ matters is that if a router would have marked\n   AM (or TM) in the IP header,\
    \ it should set the EXP value in the MPLS\n   header to the AM (or TM) codepoint.\n"
- title: A.4.  Popping an MPLS Label (Not End of Stack)
  contents:
  - "A.4.  Popping an MPLS Label (Not End of Stack)\n   When popping an MPLS Label\
    \ exposes another MPLS label, the AM or TM\n   marking should be transferred to\
    \ the exposed EXP field in the\n   following manner:\n   o  If the inner EXP value\
    \ is NM, then it should be set to the same\n      marking state as the EXP value\
    \ of the popped label stack entry.\n   o  If the inner EXP value is AM, it should\
    \ be unchanged if the popped\n      EXP value was AM, and it should be set to\
    \ TM if the popped EXP\n      value was TM.  If the popped EXP value was NM, this\
    \ should be\n      logged in some way, and the inner EXP value should be unchanged.\n\
    \   o  If the inner EXP value is TM, it should be unchanged whatever the\n   \
    \   popped EXP value was, but any EXP value other than TM should be\n      logged.\n"
- title: A.5.  Popping the Last MPLS Label to Expose IP Header
  contents:
  - "A.5.  Popping the Last MPLS Label to Expose IP Header\n   When popping the last\
    \ MPLS Label exposes the IP header, there are two\n   cases to consider:\n   o\
    \  the popping LSR is *not* the egress router of the PCN region, in\n      which\
    \ case AM or TM marking should be transferred to the exposed\n      IP header\
    \ field; or\n   o  the popping LSR *is* the egress router of the PCN region.\n\
    \   In the latter case, the behavior of the egress LSR is defined in\n   [PCN]\
    \ and is beyond the scope of this document.  In the former case,\n   the marking\
    \ should be transferred from the popped MPLS header to the\n   exposed IP header\
    \ as follows:\n   o  If the inner IP header value is neither AM nor TM, and the\
    \ EXP\n      value was NM, then the IP header should be unchanged.  For any\n\
    \      other EXP value, the IP header should be set to the same marking\n    \
    \  state as the EXP value of the popped label stack entry.\n   o  If the inner\
    \ IP header value is AM, it should be unchanged if the\n      popped EXP value\
    \ was AM, and it should be set to TM if the popped\n      EXP value was TM.  If\
    \ the popped EXP value was NM, this should be\n      logged in some way and the\
    \ inner IP header value should be\n      unchanged.\n   o  If the IP header value\
    \ is TM, it should be unchanged whatever the\n      popped EXP value was, but\
    \ any EXP value other than TM should be\n      logged.\n"
- title: Normative References
  contents:
  - "Normative References\n   [RFC2119]       Bradner, S., \"Key words for use in\
    \ RFCs to Indicate\n                   Requirement Levels\", BCP 14, RFC 2119,\
    \ March 1997.\n   [RFC3031]       Rosen, E., Viswanathan, A., and R. Callon,\n\
    \                   \"Multiprotocol Label Switching Architecture\",\n        \
    \           RFC 3031, January 2001.\n   [RFC3032]       Rosen, E., Tappan, D.,\
    \ Fedorkow, G., Rekhter, Y.,\n                   Farinacci, D., Li, T., and A.\
    \ Conta, \"MPLS Label\n                   Stack Encoding\", RFC 3032, January\
    \ 2001.\n   [RFC3168]       Ramakrishnan, K., Floyd, S., and D. Black, \"The\n\
    \                   Addition of Explicit Congestion Notification (ECN) to\n  \
    \                 IP\", RFC 3168, September 2001.\n   [RFC3270]       Le Faucheur,\
    \ F., Wu, L., Davie, B., Davari, S.,\n                   Vaananen, P., Krishnan,\
    \ R., Cheval, P., and J.\n                   Heinanen, \"Multi-Protocol Label\
    \ Switching (MPLS)\n                   Support of Differentiated Services\", RFC\
    \ 3270,\n                   May 2002.\n   [RFC4301]       Kent, S. and K. Seo,\
    \ \"Security Architecture for the\n                   Internet Protocol\", RFC\
    \ 4301, December 2005.\n"
- title: Informative References
  contents:
  - "Informative References\n   [ARUMAITHURAI]  Arumaithurai, M., \"NSIS PCN-QoSM:\
    \ A Quality of\n                   Service Model for Pre-Congestion Notification\
    \ (PCN)\",\n                   Work in Progress, September 2007.\n   [BRISCOE-CL]\
    \    Briscoe, B., \"Pre-Congestion Notification Marking\",\n                 \
    \  Work in Progress, October 2006.\n   [BRISCOE-ECN]   Briscoe, B., \"Layered\
    \ Encapsulation of Congestion\n                   Notification\", Work in Progress,\
    \ July 2007.\n   [Floyd]         Ramakrishnan, K., Floyd, S., and B. Davie, \"\
    A\n                   Proposal to Incorporate ECN in MPLS\", Work in\n       \
    \            Progress, June 1999.\n   [LEFAUCHEUR]    Faucheur, F., Charny, A.,\
    \ Briscoe, B., Eardley, P.,\n                   Barbiaz, J., and K. Chan, \"RSVP\
    \ Extensions for\n                   Admission Control over Diffserv using Pre-congestion\n\
    \                   Notification (PCN)\", Work in Progress, June 2006.\n   [NSIS]\
    \          Bader, A., Westberg, L., Karagiannis, G., Cornelia,\n             \
    \      C., and T. Phelan, \"RMD-QOSM - The Resource\n                   Management\
    \ in Diffserv QOS Model\", Work in Progress,\n                   November 2007.\n\
    \   [PCN]           Eardley, P., \"Pre-Congestion Notification\n             \
    \      Architecture\", Work in Progress, November 2007.\n   [RFC3260]       Grossman,\
    \ D., \"New Terminology and Clarifications for\n                   Diffserv\"\
    , RFC 3260, April 2002.\n   [RFC3540]       Spring, N., Wetherall, D., and D.\
    \ Ely, \"Robust\n                   Explicit Congestion Notification (ECN) Signaling\
    \ with\n                   Nonces\", RFC 3540, June 2003.\n   [RFC4340]      \
    \ Kohler, E., Handley, M., and S. Floyd, \"Datagram\n                   Congestion\
    \ Control Protocol (DCCP)\", RFC 4340,\n                   March 2006.\n   [Shayman]\
    \       Shayman, M. and R. Jaeger, \"Using ECN to Signal\n                   Congestion\
    \ Within an MPLS Domain\", Work in Progress,\n                   November 2000.\n\
    \   [TSVWG]         Chan, K., Babiarz, J., and F. Baker, \"Aggregation of\n  \
    \                 DiffServ Service Classes\", Work in Progress,\n            \
    \       November 2007.\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Bruce Davie\n   Cisco Systems, Inc.\n   1414 Mass. Ave.\n\
    \   Boxborough, MA  01719\n   USA\n   EMail: bsd@cisco.com\n   Bob Briscoe\n \
    \  BT Research\n   B54/77, Sirius House\n   Adastral Park\n   Martlesham Heath\n\
    \   Ipswich\n   Suffolk  IP5 3RE\n   United Kingdom\n   EMail: bob.briscoe@bt.com\n\
    \   June Tay\n   BT Research\n   B54/77, Sirius House\n   Adastral Park\n   Martlesham\
    \ Heath\n   Ipswich\n   Suffolk  IP5 3RE\n   United Kingdom\n   EMail: june.tay@bt.com\n"
- title: Full Copyright Statement
  contents:
  - "Full Copyright Statement\n   Copyright (C) The IETF Trust (2008).\n   This document\
    \ is subject to the rights, licenses and restrictions\n   contained in BCP 78,\
    \ and except as set forth therein, the authors\n   retain all their rights.\n\
    \   This document and the information contained herein are provided on an\n  \
    \ \"AS IS\" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS\n  \
    \ OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST AND\n   THE\
    \ INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS\n   OR IMPLIED,\
    \ INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF\n   THE INFORMATION\
    \ HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED\n   WARRANTIES OF MERCHANTABILITY\
    \ OR FITNESS FOR A PARTICULAR PURPOSE.\n"
- title: Intellectual Property
  contents:
  - "Intellectual Property\n   The IETF takes no position regarding the validity or\
    \ scope of any\n   Intellectual Property Rights or other rights that might be\
    \ claimed to\n   pertain to the implementation or use of the technology described\
    \ in\n   this document or the extent to which any license under such rights\n\
    \   might or might not be available; nor does it represent that it has\n   made\
    \ any independent effort to identify any such rights.  Information\n   on the\
    \ procedures with respect to rights in RFC documents can be\n   found in BCP 78\
    \ and BCP 79.\n   Copies of IPR disclosures made to the IETF Secretariat and any\n\
    \   assurances of licenses to be made available, or the result of an\n   attempt\
    \ made to obtain a general license or permission for the use of\n   such proprietary\
    \ rights by implementers or users of this\n   specification can be obtained from\
    \ the IETF on-line IPR repository at\n   http://www.ietf.org/ipr.\n   The IETF\
    \ invites any interested party to bring to its attention any\n   copyrights, patents\
    \ or patent applications, or other proprietary\n   rights that may cover technology\
    \ that may be required to implement\n   this standard.  Please address the information\
    \ to the IETF at\n   ietf-ipr@ietf.org.\n"
