- title: __initial_text__
  contents:
  - '   Mobility Support for Nimrod :  Challenges and Solution Approaches

    '
- title: Status of this Memo
  contents:
  - "Status of this Memo\n   This memo provides information for the Internet community.\
    \  This memo\n   does not specify an Internet standard of any kind.  Distribution\
    \ of\n   this memo is unlimited.\n"
- title: Abstract
  contents:
  - "Abstract\n   We discuss the issue of mobility in Nimrod.  While a mobility\n\
    \   solution is not part of the Nimrod architecture, Nimrod does require\n   that\
    \ the solution have certain characteristics.  We identify the\n   requirements\
    \ that Nimrod has of any solution for mobility support.\n   We also classify and\
    \ compare existing approaches for supporting\n   mobility within an internetwork\
    \ and discuss their advantages and\n   disadvantages.  Finally, as an example,\
    \ we outline the mechanisms to\n   support mobility in Nimrod using the scheme\
    \ currently being developed\n   within the IETF - namely, the Mobile-IP protocol.\n"
- title: Table of Contents
  contents:
  - 'Table of Contents

    '
- title: 1  Introduction
  contents:
  - "1  Introduction\n   The nature of emerging applications makes the support for\
    \ mobility\n   essential for any future routing architecture.  It is the intent\
    \ of\n   Nimrod to allow physical devices as well as networks to be mobile.\n\
    \   Nimrod, as a routing and addressing architecture, does not directly\n   concern\
    \ itself with mobility.  That is, Nimrod does not propose a\n   solution for the\
    \ mobility problem.  There are two chief reasons for\n   this.  First, mobility\
    \ is a non-trivial problem whose implications\n   and requirements are still not\
    \ well understood and will perhaps be\n   understood only when a mobile internetwork\
    \ is deployed on a large\n   scale.  Second, a number of groups (for instance\
    \ the Mobile-IP\n   working group of the IETF) are studying the problem by itself\
    \ and it\n   is not our intention to duplicate those efforts.\n   This attitude\
    \ towards mobility is consistent with Nimrod's general\n   philosophy of flexibility,\
    \ adaptability and incremental change.\n   While a mobility solution is not part\
    \ of the \"core\" Nimrod\n   architecture, Nimrod does require that the solution\
    \ have certain\n   characteristics.  It is the purpose of this document to discuss\
    \ some\n   of these requirements and evaluate approaches towards meeting them.\n\
    \   We begin by identifying the precise nature of the functionality\n   needed\
    \ to accommodate mobile entities (section 2).  Following that,\n   we discuss\
    \ the effects of mobility on Nimrod (section 3).  Next, we\n   classify current\
    \ and possible approaches to a solution for mobility\n   (section 4) and finally\
    \ (in section 5) we describe how mobility can\n   be implemented using the IETF's\
    \ Mobile-IP protocol.\n   This document uses many terms and concepts from the\
    \ Nimrod\n   Architecture document [CCS96] and some terms and concepts (in section\n\
    \   5) from the Nimrod Functionality document [RS96].  Much of the\n   discussion\
    \ assumes that you have read at least the Nimrod\n   Architecture document [CCS96].\n"
- title: '2  Mobility :  A Modular Perspective'
  contents:
  - "2  Mobility :  A Modular Perspective\n   Nimrod has a basic feature that helps\
    \ accommodate mobility in a\n   graceful and natural manner, namely, the separation\
    \ of the endpoint\n   naming space from the locator space.  The Nimrod architecture\
    \ [CCS96]\n   associates an endpoint with a globally unique endpoint identifier\n\
    \   (EID) and an endpoint label (EL). The location of the endpoint within\n  \
    \ the Internetwork topology is given by its locator.  When an endpoint\n   moves,\
    \ its EID and EL remain the same, but its locator might change.\n   Nimrod can\
    \ route a packet to the endpoint after the move, provided it\n   is able to obtain\
    \ its new locator.\n   Thus, providing a solution to mobility in the context of\
    \ Nimrod may\n   be perceived as one of maintaining a dynamic association between\
    \ the\n   endpoints and the locators.  Extending this viewpoint further, one\n\
    \   can think of mobility-capable Nimrod as essentially consisting of two\n  \
    \ \"modules\":  the Nimrod routing module and the dynamic association\n   module\
    \ (DAM). The DAM is an abstraction, embodying the functionality\n   pertinent\
    \ to maintaining the dynamic association.  This is a valuable\n   paradigm because\
    \ it facilitates the comparison of various mobility\n   schemes from a common\
    \ viewpoint.  Our discussion will be structured\n   based on the DAM abstraction\
    \ and will be in two parts, the themes of\n   which are :\n   o What constitutes\
    \ mobility for the DAM and Nimrod?  Is the\n     realization of mobility as a\
    \ mobility \"module\" that interacts\n     with Nimrod viable? What then are the\
    \ interactions between\n     Nimrod and such a module?  These points will be discussed\
    \ in\n     section 3.\n   o What are some of the approaches one can take in engineering\
    \ the DAM\n     functionality?  We classify some approaches and compare them in\n\
    \     section 4.\n   A word of caution:  the DAM should not be thought of as something\n\
    \   equivalent to the current day Domain Name Service (DNS) - the DAM is\n   a\
    \ more general concept than that.  For instance, consider a mobility\n   solution\
    \ for Nimrod similar to the scheme described in [Sim94].  Very\n   roughly, this\
    \ approach is as follows:  Every endpoint is associated\n   with a \"home\" locator.\
    \  If the endpoint moves, it tells a \"home\n   representative\" about its new\
    \ locator.  Packets destined for the\n   endpoint sent to the old locator are\
    \ picked up by the home\n   representative and sent to the new locator.  In this\
    \ scheme, the DAM\n   embodies the functionalities implemented by all of the home\n\
    \   representatives in regard to tracking the mobile hosts.  The point is\n  \
    \ that the association maintenance, while required in some form or\n   other,\
    \ may not be an explicitly distinct part, but implicit in the\n   way mobility\
    \ is handled.\n   Thus, the DAM is merely an abstraction useful to our discussion\
    \ and\n   should not be construed as dictating a design.\n   In summary, we view\
    \ the Nimrod architecture as carrying a functional\n   \"stub\" for mobility,\
    \ the details of the stub being deferred for\n   later.  The stub will be elaborated\
    \ when a solution that meets the\n   requirements of Nimrod becomes available\
    \ (for instance from the IETF\n   Mobile-IP research).  We do not, however, preclude\
    \ the modification\n   of any such solutions to meet the Nimrod requirements or\
    \ preclude the\n   development of an independent solution within Nimrod.\n"
- title: 3  Effects of Mobility
  contents:
  - "3  Effects of Mobility\n   One consequence of mobility is the change in the locator\
    \ of an\n   endpoint.  However, not all instances of mobility result in a locator\n\
    \   change (for instance, there is no locator change if a host moves\n   within\
    \ a LAN) and a change in the locator is not the only possible\n   effect of mobility.\
    \  Mobility might also cause a change in the\n   topology map.  This typically\
    \ happens when entire networks move\n   (e.g., an organization relocates, a wireless\
    \ network in a train or\n   plane moves between cells, etc.).  If the network\
    \ is a Nimrod\n   network, we might have a change in the connectivity of the node\n\
    \   representing the network and hence a change in the map.\n   In this section,\
    \ we consider the effects of mobility on the two\n   \"modules\" identified above:\
    \  Nimrod, which provides routing to a\n   locator, and a hypothetical instantiation\
    \ of the DAM, which provides\n   a dynamic endpoint-locator association, for use\
    \ by Nimrod.  We\n   consider four scenarios based on whether or not the topology\
    \ and an\n   endpoint's locator changes and comment on the effect of the scenarios\n\
    \   on Nimrod and the DAM.\n   Scenario 1.  Neither the locator nor the topology\
    \ changes.  This\n       is the trivial case and affects neither the DAM nor Nimrod.\
    \  An\n       example of this scenario is when a workstation is moved to a new\n\
    \       interface on the same local area network(This is not true for all\n  \
    \     LANs, only those in which all interfaces are part of the same\n       Nimrod\
    \ node) or when mobility is handled transparently\n       (by lower layers).\n\
    \   Scenario 2.  The locator changes but the topology remains the same.\n    \
    \   This is the case when an endpoint moves from one node to another,\n      \
    \ thereby changing its locator.  The DAM is affected in this case,\n       since\
    \ it has to note the new endpoint-locator association and\n       indicate this\
    \ to Nimrod if necessary.  The effect on Nimrod is\n       related to obtaining\
    \ this change from the DAM. For instance,\n       Nimrod may be informed of this\
    \ change or ask for the association\n       if and when it finds out that the\
    \ mobile host cannot be reached.\n   Scenario 3.  The locator does not change\
    \ but the topology changes.\n       One way this could happen is if a network\
    \ node moves and changes\n       its neighbors (topology change) but remains within\
    \ the same\n       enclosing node.  The DAM is not affected because the\n    \
    \   endpoint-locator association has not changed.  Nimrod is affected\n      \
    \ in the sense that the topology map would now have to be updated.\n   Scenario\
    \ 4.  Both the locator and the topology change.  If a network\n       node moves\
    \ out of its enclosing node, we have a change both in\n       the map and in the\
    \ locators of the devices in the network.  In\n       this case, both Nimrod and\
    \ the DAM are affected.\n   In scenarios 3 and 4, it may not be sufficient to\
    \ simply let Nimrod\n   handle the topological change using the update mechanisms\
    \ described\n   in [RS96].  These mechanisms are likely to be optimized for\n\
    \   relatively slow changes.\n   Mobile wireless networks (in trains and cars\
    \ for instance) are likely\n   to produce more frequent changes in topology. \
    \ Therefore, it might be\n   necessary that topological updates caused by mobility\
    \ be handled\n   using additional mechanisms.  For instance, one might send specific\n\
    \   updates to appropriate node representatives, so that packets entering\n  \
    \ that node can be routed using the new topology.  We observe that\n   accommodating\
    \ mobility of networks, especially the fast moving ones,\n   might require a closer\
    \ interaction between Nimrod and the DAM than\n   required for endpoint mobility.\
    \  It is beyond the scope of this\n   document to specify the nature of this interaction;\
    \ however, we note\n   that a solution to mobility should handle the case when\
    \ a network as\n   a whole moves.  Current trends [WJ92] indicate that such situations\n\
    \   are likely to be common in future when wireless networks will be\n   present\
    \ in trains, airplanes, cars, ships, etc.\n   In summary, if we discount the movement\
    \ of networks, i.e., assume no\n   topology changes, it appears that the mobility\
    \ solution can be kept\n   fairly independent of Nimrod and in fact can be accommodated\
    \ by an\n   implementation of the DAM. However, to accommodate network mobility\n\
    \   (scenarios 3 and 4), it might be necessary for Nimrod routing/routers\n  \
    \ to get involved with mobility.\n   Beyond the constraints imposed by the interaction\
    \ with Nimrod, it is\n   desirable that the mobility solution have some general\
    \ features.  By\n   general, we mean that these are not Nimrod specific.  However,\
    \ their\n   paramount importance in future applications makes them worth\n   mentioning\
    \ in this document.  The desirable features are :\n   o Support of both off-line\
    \ and on-line mobility.  Off-line mobility\n     (or portability) refers to the\
    \ situation in which a session is\n     torn down during the move, while on-line\
    \ mobility refers to the\n     situation in which the session stays up during\
    \ the move.  While\n     currently much of the mobility is off-line, trends indicate\
    \ that\n     a large part of mobility in the future is likely to be on-line. \
    \ A\n     solution that only supports off-line mobility would probably have\n\
    \     limited applications in future.\n   o Scalability.  One of the primary goals\
    \ of Nimrod is scalability,\n     and it would be contrary to our design goals\
    \ if the mobility\n     solution does not scale.  The Internet is rapidly growing\
    \ and with\n     the advent of Personal Communication Systems (PCS) [WJ92], the\n\
    \     number and rapidity of mobile components in the Internet is also\n     likely\
    \ to increase.  Thus, there are three directions in which\n     scalability is\
    \ important :  size of the network, number of mobile\n     entities and the frequency\
    \ of movement of the mobile entities.\n     Note that for any given system with\
    \ minimum response time (to a\n     move) of o seconds, if the mobile entity changes\
    \ attachment points\n     faster than 1=o changes per second, the system will\
    \ fail to track\n     the entity.  Augmenting traditional location tracking mechanisms\n\
    \     with special techniques such as predictive routing might be\n     necessary\
    \ in this case.  Hooks in the mobility solution for such\n     augmentation is\
    \ a desirable feature.\n   o Security.  It is likely that in the future, there\
    \ will be increased\n     demand for secure communications.  Apart from the non-mobility\n\
    \     specific security mechanisms, the solution should address the\n     following\
    \ :\n"
- title: '-  Authentication.  The information sent by a mobile host about its'
  contents:
  - "-  Authentication.  The information sent by a mobile host about its\n   location\
    \ should be authenticated to prevent impersonation.\n   Additionally, there should\
    \ be mechanisms to decide if a mobile user\n   who wishes to join a network has\
    \ the privileges to do so or not.\n"
- title: '-  Denial of service.  The schemes employed for handling mobility in'
  contents:
  - "-  Denial of service.  The schemes employed for handling mobility in\n   general\
    \ could be a drain on the resources if not controlled\n   carefully.  Specifically,\
    \ the resource intensive portions of the\n   protocol should be guarded so that\
    \ inappropriate use of them does\n   not cause excessive load on the network.\n"
- title: 4  Approaches
  contents:
  - "4  Approaches\n   As discussed in section 2, the problem of mobility in the context\
    \ of\n   Nimrod may be viewed as one of maintaining a dynamic association\n  \
    \ (DAM) and communicating this association and changes therein to\n   Nimrod.\
    \  Approaches to mobility may be classified based on how\n   different aspects\
    \ of the DAM are addressed.\n   Our classification identifies two aspects to the\
    \ mobility solution :\n   1. How and where to maintain the dynamic association\
    \ between\n      endpoints and locators?  This may be perceived as a problem of\n\
    \      database maintenance. The database may be maintained in a\n      centralized\
    \ fashion, wherein a single entity maintains the\n      association and updates\
    \ are sent to it by the mobile host or in\n      a distributed fashion, wherein\
    \ there are a number of entities\n      that store the associations.\n      A\
    \ (distributed) database that stores the endpoint-locator\n      mapping is required\
    \ by Nimrod even in the absence of mobility.  If\n      this service can accommodate\
    \ dynamic update and retrieval requests\n      at the rate produced by mobility,\
    \ this service is a candidate for a\n      solution. However, we note that the\
    \ availability of such a system\n      should not be a requirement for the mobility\
    \ solution.\n   2. Where to do the remapping between the endpoint and locator,\
    \ in\n      case of a change in association?  By remapping, we mean associate\n\
    \      a new locator with the endpoint.  Some candidates are :  the\n      source,\
    \ the \"home\" location of the host that has moved and any\n      router (say,\
    \ between the source and the destination) in the network.\n   Many of the existing\
    \ approaches and perhaps some new approaches to\n   the problem of mobile internetworking\
    \ may be seen to be\n   instantiations of a combination of a dynamic association\
    \ method and a\n   remapping method.  We\n                         (Re-mapping\
    \ location)\n                                   |\n                          \
    \         v\n          -----------------------------------------\n          |\
    \            |Source |  Home  | Routers |\n          -----------------------------------------\n\
    \ (Assoc.  |Centralized |  A1   |   X    |    X    |\n  maint)-> ----------------------------------------\n\
    \          |Distributed |  X    |   A2   |   A3    |\n          ----------------------------------------\n"
- title: 'Table 1 : Classification of approaches based on how the association'
  contents:
  - "Table 1 : Classification of approaches based on how the association\n       \
    \   is maintained and where the remapping is done.\n   consider some combinations\
    \ as illustrated in Table 1.  We discuss\n   three combinations (marked A1 - A3\
    \ in the table) and examine their\n   advantages and disadvantages in the context\
    \ of our requirements.  The\n   other combinations (marked X in the table) are\
    \ possible, but do not\n   represent a substantially different class of solutions\
    \ from the ones\n   discussed and hence are not considered here.\n   Note that\
    \ this is but one classsification of mobility schemes and\n   that the remapping\
    \ and endpoint-locator maintenance strategies\n   mentioned in the table are not\
    \ exhaustive.  The main intention is to\n   help understand better the kinds of\
    \ approaches that would be most\n   suitable for Nimrod.\n   In the following,\
    \ we use the term source to refer to the endpoint\n   that is attempting to communicate\
    \ with or sending packets to a mobile\n   endpoint.  The source could be static\
    \ or mobile.  We use the term\n   mobile destination to refer to the endpoint\
    \ that is the intended\n   destination of the source's packets.\n"
- title: A1.  In this approach, all endpoint-locator mappings are maintained
  contents:
  - "A1.  In this approach, all endpoint-locator mappings are maintained\n    at a\
    \ centralized location.  The source queries the database to\n    get the locator\
    \ of the mobile destination.  Alternatively, the\n    database can send updates\
    \ to the source when the mobile\n    destination moves. The main advantage of\
    \ this scheme is its\n    simplicity.  Also, no modification to routers is required,\
    \ and the\n    route from the source to a mobile destination is direct.\n    The\
    \ main disadvantage of this scheme is vulnerability - if the\n    centralized\
    \ location goes down, all information is lost.  While\n    this scheme may be\
    \ sufficient for small networks with low\n    mobility, it does not scale adequately\
    \ to be a long term solution\n    for Nimrod.\n"
- title: A2.  This approach uses distributed association maintenance with
  contents:
  - "A2.  This approach uses distributed association maintenance with\n    remapping\
    \ done at the home.  This is the approach that is being\n    used by the Mobile-IP\
    \ working group of the IETF for the draft\n    proposal and by the Cellular Digital\
    \ Packet Data (CDPD)\n    consortium.  In this approach, every mobile endpoint\
    \ is associated\n    with a \"home\" and a \"home representative\" keeps track\
    \ of the\n    location of every mobile endpoint associated with it.  A protocol\n\
    \    between a mobile endpoint and the home representative is used to\n    keep\
    \ the information up-to-date.  The source sends the packet\n    using the home\
    \ locator of the mobile destination, and the home\n    representative forwards\
    \ the packet to the mobile destination. The\n    advantage of this scheme is that\
    \ it is fairly simple and does not\n    involve either the source or the routers\
    \ in the network.\n    Furthermore, the mobile destination can keep its location\
    \ secret\n    (known only to the home representative) - this is likely to be a\n\
    \    desirable feature for mobile hosts in some applications.  Finally,\n    most\
    \ of the control information is confined to the node containing\n    the home\
    \ representative and the mobile host and this is a plus for\n    scalability.\
    \ The main disadvantage is a problem often referred to\n    as triangular routing.\
    \  That is, the packets have to go from the\n    source to the home representative\
    \ first before going to the mobile\n    destination.  This is especially inefficient\
    \ if, for instance,\n    both the source and mobile destination are in, say, England\
    \ and\n    the home representative is in, say, Australia.  Also, there is\n  \
    \  still some vulnerability, since if the home representative becomes\n    unreachable,\
    \ the location of all of the mobile hosts it tracks is\n    lost and communication\
    \ from most sources to the mobile host is\n    cut-off.  It is also not clear\
    \ how well this scheme will scale to\n    mobile internetworks of the future.\n\
    \    Nevertheless, we feel that this approach or a modification thereof\n    might\
    \ be a viable first-cut mobility solution for Nimrod.\n"
- title: A3.  In each of the previous cases, the routers in the network were
  contents:
  - "A3.  In each of the previous cases, the routers in the network were\n    not\
    \ involved in tracking the location of the mobile host.  In\n    this approach,\
    \ state is maintained in the routers.  An example\n    is the approach proposed\
    \ in [TYT91] wherein the packets sent by\n    a mobile host are snooped and state\
    \ is created.  The packets\n    contain the mobile host's home location and its\
    \ new location.\n    This mapping is maintained at some routers in the network.\
    \  When\n    a packet intended for the mobile host addressed to its home\n   \
    \ location enters such a router, a translation is made and the\n    packet is\
    \ redirected to the new location.\n    An alternate mechanism is to maintain the\
    \ mapping in all of the\n    border routers (e.g., forwarding agents) in the node\
    \ within which\n    the movement took place.  A packet from outside the node intended\n\
    \    for a destination within the node would typically enter the node\n    through\
    \ one of the border routers.  Using the mapping, the border\n    router could\
    \ figure out the most recent locator of the mobile\n    destination and send the\
    \ packet directly to that locator.  If most\n    of the movements are within low\
    \ level nodes, this would scale to\n    large numbers of movements. Furthermore,\
    \ the packet takes an\n    optimal path (or as optimal as one can get with a hierarchical\n\
    \    network) to the new location within the time it takes for the node\n    representative\
    \ to get the new information, which is typically\n    quite small for low-level\
    \ nodes.\n    The main disadvantage of this scheme is that routers have to be\n\
    \    involved.  However, future requirements in regard to scalability and\n  \
    \  response time might necessitate such an approach.  Furthermore, this\n    solution\
    \ has closer ties with Nimrod routing and is better suited to\n    handling scenarios\
    \ 3 and 4 where the topology changes as a result of\n    mobility.\n   All of\
    \ these approaches seem potentially capable of handling\n   scenarios 1 and 2\
    \ of the previous section.  Scenarios 3 and 4 are\n   best handled by an approach\
    \ similar to A3.  However, approaches like\n   A3 are more complex and involve\
    \ more Nimrod entities (e.g., routers)\n   than may be desirable.\n   We have\
    \ tried to bring out the various issues governing mobility in\n   Nimrod.  In\
    \ the final analysis, the tradeoffs between the various\n   options will have\
    \ to be examined vis-a-vis our particular\n   requirements (for instance, the\
    \ need to support network mobility) in\n   adopting a solution.  It is likely\
    \ that general requirements such as\n   scalability and security will also influence\
    \ the direction of the\n   approach to mobility in Nimrod.\n"
- title: 5  A Solution using IETF Mobile-IP
  contents:
  - "5  A Solution using IETF Mobile-IP\n   The Mobile-IP Working Group of the IETF\
    \ is in the process of\n   standardizing a protocol that allows an IPv4 capable\
    \ network to\n   support mobile hosts.  In this section, we outline how mobility\
    \ can\n   be implemented within Nimrod using the same mechanism and indeed, the\n\
    \   same protocol headers defined in [Sim94].  Not all functionality\n   described\
    \ in [Sim94] are covered - only those that form the \"core\" of\n   mobility support.\n\
    \   In order to follow this section, the reader is required to have some\n   familiarity\
    \ with the IETF Mobile-IP protocol (see [Sim94]).\n"
- title: 5.1  Overview
  contents:
  - "5.1  Overview\n   The general scheme employed by the IETF Mobile-IP protocol\
    \ is as\n   follows.  A Mobile Host (MH) has a predefined Home Agent (HA) that\
    \ is\n   responsible for the MH's whereabouts.  Typically, the MH spends most\n\
    \   of its time in the network containing the HA. Let us assume that the\n   MH\
    \ wanders to a new network.  The MH then contacts a Foreign Agent\n   (FA) at\
    \ the new network that will act on its behalf and sends a\n   registration request\
    \ to the HA via the FA. This serves the purpose of\n   informing the HA of the\
    \ MH's new whereabouts and also is a means of\n   verification of the MH's authenticity.\
    \  It also contains the address\n   of the FA as the new Care-of-Address.  A correspondent\
    \ host (CH)\n   wishing to send a message to the MH uses the MH's Home IP address.\n\
    \   This message is captured by the HA and tunnelled using encapsulation\n   to\
    \ the FA whereupon the FA decapsulates and sends the original\n   message to the\
    \ MH.\n   If the MH can get itself a new transient address then there is no\n\
    \   need for a Foreign Agent.  The transient address will be sent as the\n   Care-of-Address.\
    \  The packets will be tunnelled directly to this\n   address by the Home Agent.\
    \  Note, however, that some networks may\n   require that a mobile host go through\
    \ a Foreign Agent.\n   A fundamental difference between IP and Nimrod is that\
    \ in the latter\n   an endpoint has both a (topologically sensitive) locator and\
    \ a\n   (topologically insensitive) endpoint-id (EID). In IP, the IP address\n\
    \   serves as both the EID and the locator.  Thus, it should be possible\n   to\
    \ use the Mobile-IP protocol for providing mobility support in\n   Nimrod by simply\
    \ using the EID of the MH wherever its Home IP Address\n   was being used and\
    \ by appropriately using the EID and locator of the\n   FA and HA in place of\
    \ their IP addresses (An issue is the format and\n   length compatibility between\
    \ EIDs and IP addresses.  For the\n   discussion here, we assume that an EID can\
    \ fit into an IP (v4 or v6)\n   address given in Figure 1).  We give below the\
    \ details of the\n   protocol fields and the actions taken by the MH, FA and HA\
    \ to show\n   that this is possible and that it is quite simple.\n"
- title: 5.2  Protocol Details
  contents:
  - "5.2  Protocol Details\n   There are two kinds of protocol headers relevant to\
    \ our discussion -\n   the Mobile-IP Protocol (MIPP headers) and the headers for\
    \ data\n   packets transported by Nimrod (NP headers).  It is our intent that\n\
    \   Nimrod use, as much as possible, the next generation IP (IPv6)\n   header.\
    \  The NP header contains as a subset fields that would\n   eventually be present\
    \ in the IPv6 header.\n   In the scheme given below, the MIPP header is enclosed\
    \ within the NP\n   packet (i.e., MIPP operates over NP). The details of the fields\n\
    \   constituting the NP header are beyond the scope of this document.\n   However,\
    \ without venturing into bit lengths, etc., we identify below\n   a few fields\
    \ that are relevant to our discussion:\n   o Source EID (S-EID) : The endpoint\
    \ ID of the source entity\n     originating the packet.\n   o Destination EID\
    \ (D-EID) : The endpoint ID of the destination.\n   o Source locator (S-LOC) :\
    \ Locator of the entity originating the\n     packet.\n   o Destination locator\
    \ (D-LOC) : Locator of the destination.\n   The MIPP header fields are described\
    \ in [Sim94].\n   In what follows, we describe the values that must be assigned\
    \ to the\n   relevant NP and MIPP fields in order for Nimrod to work with Mobile-\n\
    \   IP.  There are three phases we must consider : agent discovery,\n   registration\
    \ and forwarding [Sim94].  A pictorial summary of the\n   control and data packets\
    \ is given in Figure 1.\n   Agent Discovery: In this phase, the MH discovers the\
    \ foreign agent,\n   if any, that will act on its behalf.  In MIPP, this is done\
    \ using the\n   ICMP Router Discovery messages.\n   When an MH attaches to a Nimrod\
    \ network (node), foreign agent\n   discovery is done as follows.  We assume that\
    \ a link-level connection\n   is established between the MH and a node N belonging\
    \ to the network.\n   For instance, this node could be a wireless equipped base\
    \ station\n   that establishes a signalling channel for communication with the\
    \ MH.\n   If the MH is itself a node then N and the MH execute an arc formation\n\
    \   procedure between themselves as described in [RS96].  This results in\n  \
    \ a locator being assigned to the MH and to the arcs between N and MH.\n   If\
    \ the MH is not a node but only an endpoint, then MH initiates\n   locator acquisition\
    \ procedure as described in [RS96].  This results\n   in a locator being assigned\
    \ to the MH.\n   The MH then sends a Foreign Agent Request message to N. This\
    \ message\n   contains, amongst other information, the EID and locator of the\
    \ MH.\n   If N is not itself the foreign agent, then we assume that it knows of\n\
    \   and has the ability to reach a foreign agent.\n   The foreign agent (FA) notes\
    \ the EID of the MH in its Visitor List\n   and sends a Foreign Agent Reply to\
    \ the MH. This contains the EID and\n   the locator of the FA and will be used\
    \ as the \"Care-of-Address\" (COA)\n   of the MH for a prespecified period.\n\
    \   Registration: In the registration phase, infomation is exchanged\n   between\
    \ the MH and the Home Agent (HA). The HA could, for instance,\n   be the endpoint\
    \ representative of the endpoint in its home location.\n   The registration procedure\
    \ is used to create a mobility binding which\n   the HA uses to forward data packets\
    \ intended for the MH. Another\n   purpose of registration is to verify the authenticity\
    \ of the MH.\n   There are four parts to the registration.  We describe the values\n\
    \   assigned to the relevant fields.  Recall that there are two headers\n   we\
    \ must create - the Nimrod Protocol (NP) header and the Mobile-IP\n   Protocol\
    \ (MIPP) header.  The NP fields are as described above and the\n   MIPP fields\
    \ are as in [Sim94].  The fields mh-eid(mh-loc), fa-\n   eid(fa-loc), ha-eid(ha-loc)\
    \ are used to refer to the EID (locator) of\n   the mobile host, foreign agent\
    \ and home agent respectively.\n   1. The MH sends a Registration Request to the\
    \ prospective Foreign\n      Agent to begin the registration process.\n   o NP\
    \ fields :  S-EID = mh-eid; D-EID = fa-eid; S-LOC = mh-loc ; D-LOC\n     = fa-loc.\n\
    \   o MIPP fields :  Home Agent = ha-eid; Home Address = mh-eid;\n     Care-of-Address\
    \ = fa-eid.\n   Note that the mh-loc is known to the MH by virtue of the locator\n\
    \   acquisition (see paragraph on \"Agent Discovery\") and that the fa-eid\n \
    \  is known to the MH from the Foreign Agent Reply.  The FA caches the\n   mh-eid\
    \ for future reference.\n   2. The Foreign Agent relays the request by sending\
    \ a Registration\n      Request to the Home Agent, to ask the Home Agent to provide\
    \ the\n      requested service.\n   o NP fields :  S-EID = fa-eid; D-EID = ha-eid;\
    \ S-LOC = fa-loc; D-LOC\n     = ha-loc.\n   o MIPP fields :  Same as in (copied\
    \ from) (1) above.\n   The HA caches the (Home Address, Care-of-Address) as a\
    \ mobility\n   binding.  Optionally, for efficiency, it may also cache fa-loc.\n\
    \   3. The Home Agent sends a Registration Reply to the Foreign Agent to\n   \
    \   grant or deny service.\n   o NP fields :  S-EID = ha-eid; D-EID = fa-eid;\
    \ S-LOC = ha-loc; D-LOC\n     = fa-loc.\n   o MIPP fields :  Home Address = mh-eid;\
    \ code = as in [Sim94].\n   The S-EID and D-EID fields are taken from the Request\
    \ and swapped, as\n   are the S-LOC and D-LOC fields.  The Home Address in the\
    \ MIPP is the\n   same as the Home Address in the Request.  The code indicates\
    \ whether\n   or not permission was granted by the Home Agent.\n   4. The Foreign\
    \ Agent sends a copy of the Registration Reply to the MH\n      to inform it of\
    \ the disposition of its request.\n   o NP fields :  S-EID = fa-eid; D-EID = mh-eid;\
    \ S-LOC = fa-loc; D-LOC\n     = mh-loc.\n   o MIPP fields :  Same as (copied from)\
    \ (3) above.\n   At this point the MH is registered with the HA (provided the\n\
    \   registration request is approved by the HA) and packets can be\n   forwarded\
    \ to the MH.\n  +--------+\n  |  CH    |\n  +--------+\n      V\n      V\n  #--------------#\n\
    \  |mh-eid | data | = P(orig)\n  #--------------#\n      V\n  +--------+  *----------------*\
    \   +--------+ *--------------* +------+\n  |        |  |fa-eid | mh-eid |   |\
    \        | | ha-eid|mh-eid| |      |\n  |        |  *----------------*   |   \
    \     | *--------------* |      |\n  |  HA    |------<-REG REQ-<------|  FA  \
    \  |----<-REG REQ-<---| MH   |\n  |        |   2                   |        |\
    \  1               |      |\n  | mh-eid |                    3  | mh-eid |   \
    \             4 |      |\n  |   |    |------>-REG REPL->-----|   |    |---->-REG\
    \ REPL->--|      |\n  |   v    |  *----------------*   |   v    | *--------------*\
    \ |      |\n  | fa-eid |  |mh-eid | yes/no |   | mh-loc | |mh-eid|yes/no | | \
    \     |\n  |        |  *----------------*   |        | *--------------* |    \
    \  |\n  |        |  #------------------# |        | #---------#      |      |\n\
    \  |        |>>|       #--------# |>|        |>| P (orig)|>>>>> |      |\n  +--------+5\
    \ |fa-eid | P(orig)| | +--------+ #---------#  6   +------+\n              | \
    \      #--------# |\n              #------------------#\n"
- title: 'Figure 1 : The control and data packets for mobility handling using'
  contents:
  - "Figure 1 : The control and data packets for mobility handling using\n       \
    \    the Mobile-IP protocol. The packets bordered as # denote\n           data\
    \ packets and those bordered * denote control packets.\n           Only the crucial\
    \ information conveyed in each message is\n           shown (i.e., locators and\
    \ EIDs in packet headers are not\n           shown. The associations maintained\
    \ at HA and FA are shown.\n   Forwarding Data: We describe the manner in which\
    \ a packet from the\n   correspondent host (CH) intended for the MH is encapsulated\
    \ and\n   forwarded by the HA.\n"
- title: 'o At HA : Suppose that a packet P intended for MH arrives at HA. For'
  contents:
  - "o At HA : Suppose that a packet P intended for MH arrives at HA. For\n  instance,\
    \ P first comes to the router for the local network and the\n  router finds that\
    \ MH is unreachable.  The router then forwards P to the\n  HA for possible redirection.\n\
    \   The HA extracts the destination EID from the NP header for P. If no\n   match\
    \ is found in its mobility binding, then the MH is deemed as\n   unreachable.\
    \  If a match is found, the corresponding fa-eid is\n   extracted.  A new header\
    \ is prepended to P. For this header, S-EID =\n   ha-eid, D-EID = fa-eid, S-LOC\
    \ = ha-loc and D-LOC = fa-loc.  The fa-\n   loc may be obtained from the Association\
    \ Database [CCS96].\n   Alternatively, if it was cached in (2) above, it could\
    \ be obtained\n   from the cache.\n"
- title: 'o At FA: By looking at the next header field in the Nimrod Protocol'
  contents:
  - "o At FA: By looking at the next header field in the Nimrod Protocol\n  packet\
    \ header, the FA knows that the packet is an encapsulated one.\n  It removes the\
    \ wrapping and looks at the EID in P. If that EID is\n  found in the Visitor List\
    \ then the FA knows the locator of the MH\n  and can deliver the packet to the\
    \ MH. Otherwise, the packet is\n  discarded and an error message is returned to\
    \ HA.\n   Other Issues: We have not addressed a number of issues such as\n   deregistration,\
    \ authentication, etc.  The mobility specific portion\n   of authentication can\
    \ be adapted from the specification in [Sim94];\n   deregistration can be done\
    \ in a manner similar to registration.\n   The protocol in [Sim94] describes a\
    \ registration scheme without the\n   involvement of the Foreign Agent.  This\
    \ is done when the MH obtains a\n   transient IP address using some link-level\
    \ protocol (e.g.  PPP). A\n   similar scheme can be given in the context of Nimrod.\
    \  In this case,\n   the MH obtains its locator (typically inherited from the\
    \ node to\n   which it attaches) and sends this locator as its Care-of-Address\
    \ in\n   the Registration Request.  The HA, while forwarding, uses this as the\n\
    \   locator in the outer NP header and thus the encapsulated packet is\n   delivered\
    \ directly to the MH which then decapsulates it.  No Foreign\n   Agent Discovery\
    \ is needed.  Apart from this, the fields used are as\n   described for the scheme\
    \ with the FA.\n   We note however that many networks may require that the registration\n\
    \   be through a Foreign Agent, for purposes of security, billing etc.\n"
- title: 6  Security Considerations
  contents:
  - "6  Security Considerations\n   The registration protocol between a mobile host\
    \ and the network (for\n   instance, in the mobile-ip protocol, the MH and the\
    \ HA) contains\n   security mechanisms to validate access, prevent impersonation\
    \ etc.\n   This document is not a protocol specification and therefore does not\n\
    \   contain a description of security mechanisms for Nimrod.\n"
- title: 7  Summary
  contents:
  - '7  Summary

    '
- title: o Nimrod permits physical devices to be mobile, but does not specify a
  contents:
  - "o Nimrod permits physical devices to be mobile, but does not specify a\n  particular\
    \ solution for routing in the face of mobility.\n"
- title: o The fact that the endpoint naming (EID) space and the locator space are
  contents:
  - "o The fact that the endpoint naming (EID) space and the locator space are\n \
    \ separated in Nimrod helps in accommodating mobility in a graceful and\n  natural\
    \ manner.  Mobility may be percieved, essentially, as dynamism in\n  the endpoint\
    \ - locator association.\n"
- title: 'o Nimrod allows two kinds of mobility:'
  contents:
  - "o Nimrod allows two kinds of mobility:\n   -  Endpoint mobility.  For example,\
    \ when a host in a network moves.\n      This might cause a change in the locator\
    \ associated with the host,\n      but does not cause a change in the topology\
    \ map for Nimrod.\n   -  Network mobility.  For example, when a router or an entire\
    \ network\n      moves.  This might cause a change in the topology in addition\
    \ to\n      the locator.\n"
- title: o Endpoint mobility may be handled by maintaining a dynamic association
  contents:
  - "o Endpoint mobility may be handled by maintaining a dynamic association\n  between\
    \ endpoints and locators.  However, network mobility requires\n  addressing the\
    \ topology change problem as well.\n"
- title: o Apart from the ability to handle network mobility, it is desirable that
  contents:
  - "o Apart from the ability to handle network mobility, it is desirable that\n \
    \ the mobility solution be scalable to large networks and large numbers\n  of\
    \ mobile devices and provide security mechanisms.\n"
- title: o There are a number of existing and emerging solutions to mobility.  In
  contents:
  - "o There are a number of existing and emerging solutions to mobility.  In\n  particular,\
    \ adaptation of solutions developed by the IETF is a first\n  cut possibility\
    \ for Nimrod.  As the description given in section 5\n  shows, it is relatively\
    \ easy to implement the scheme being designed by\n  the Mobile-IP working group\
    \ in the context of Nimrod.\n"
- title: 8  Acknowledgements
  contents:
  - "8  Acknowledgements\n   We thank Isidro Castineyra (BBN), Charles Lynn (BBN),\
    \ Martha\n   Steenstrup (BBN) and other members of the Nimrod Working Group for\n\
    \   their comments and suggestions on this memo.\n"
- title: 9  Author's Address
  contents:
  - "9  Author's Address\n   Ram Ramanathan\n   BBN Systems and Technologies\n   10\
    \ Moulton Street\n   Cambridge, MA 02138\n   Phone :  (617) 873-2736\n   Email\
    \ :  ramanath@bbn.com\n"
- title: References
  contents:
  - 'References

    '
- title: '[CCS96] Castineyra, I., Chiappa, N., and M. Steenstrup, "The Nimrod'
  contents:
  - "[CCS96] Castineyra, I., Chiappa, N., and M. Steenstrup, \"The Nimrod\n      \
    \  Routing Architecture\", RFC 1992, August 1996.\n"
- title: '[RS96]  Ramanathan, S., and M. Steenstrup.  Nimrod functional and'
  contents:
  - "[RS96]  Ramanathan, S., and M. Steenstrup.  Nimrod functional and\n        protocol\
    \ specifications, Work in Progress.\n"
- title: '[Sim94] Perkins, C., "IP Mobility Support", RFC 2002, October 1996.'
  contents:
  - '[Sim94] Perkins, C., "IP Mobility Support", RFC 2002, October 1996.

    '
- title: '[TYT91] F. Teraoka, Y. Yokote, and M. Tokoro.  A network architecture'
  contents:
  - "[TYT91] F. Teraoka, Y. Yokote, and M. Tokoro.  A network architecture\n     \
    \   providing host migration transparency.  In Proceedings of ACM\n        SIGCOMM,\
    \ 1991.\n"
- title: '[WJ92]  K. A. Wimmer and J. B. Jones.  Global development of pcs. IEEE'
  contents:
  - "[WJ92]  K. A. Wimmer and J. B. Jones.  Global development of pcs. IEEE\n    \
    \    Communications Magazine, pages 22--27, Jun 1992.\n"
