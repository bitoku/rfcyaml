- title: __initial_text__
  contents:
  - "  Extensions to Generic Aggregate RSVP for IPv4 and IPv6 Reservations\n     \
    \        over Pre-Congestion Notification (PCN) Domains\n"
- title: Abstract
  contents:
  - "Abstract\n   This document specifies extensions to Generic Aggregate RSVP (RFC\n\
    \   4860) for support of the Pre-Congestion Notification (PCN) Controlled\n  \
    \ Load (CL) and Single Marking (SM) edge behaviors over a Diffserv\n   cloud using\
    \ PCN.\n"
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This document is not an Internet Standards Track specification;\
    \ it is\n   published for examination, experimental implementation, and\n   evaluation.\n\
    \   This document defines an Experimental Protocol for the Internet\n   community.\
    \  This document is a product of the Internet Engineering\n   Task Force (IETF).\
    \  It represents the consensus of the IETF\n   community.  It has received public\
    \ review and has been approved for\n   publication by the Internet Engineering\
    \ Steering Group (IESG).  Not\n   all documents approved by the IESG are a candidate\
    \ for any level of\n   Internet Standard; see Section 2 of RFC 5741.\n   Information\
    \ about the current status of this document, any errata,\n   and how to provide\
    \ feedback on it may be obtained at\n   http://www.rfc-editor.org/info/rfc7417.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (c) 2014 IETF Trust and the persons identified\
    \ as the\n   document authors.  All rights reserved.\n   This document is subject\
    \ to BCP 78 and the IETF Trust's Legal\n   Provisions Relating to IETF Documents\n\
    \   (http://trustee.ietf.org/license-info) in effect on the date of\n   publication\
    \ of this document.  Please review these documents\n   carefully, as they describe\
    \ your rights and restrictions with respect\n   to this document.  Code Components\
    \ extracted from this document must\n   include Simplified BSD License text as\
    \ described in Section 4.e of\n   the Trust Legal Provisions and are provided\
    \ without warranty as\n   described in the Simplified BSD License.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1. Introduction ....................................................4\n\
    \      1.1. Objective ..................................................4\n  \
    \    1.2. Overview and Motivation ....................................5\n    \
    \  1.3. Requirements Language and Terminology ......................8\n      1.4.\
    \ Organization of This Document .............................12\n   2. Overview\
    \ of RSVP Extensions and Operations .....................12\n      2.1. Overview\
    \ of RSVP Aggregation Procedures in PCN-Domains ....12\n      2.2. PCN-Marking,\
    \ Encoding, and Transport of\n           Pre-congestion Information ................................14\n\
    \      2.3. Traffic Classification within the Aggregation Region ......14\n  \
    \    2.4. Deaggregator (PCN-Egress-Node) Determination ..............15\n    \
    \  2.5. Mapping E2E Reservations onto Aggregate Reservations ......15\n      2.6.\
    \ Size of Aggregate Reservations ............................16\n      2.7. E2E\
    \ Path ADSPEC Update ....................................16\n      2.8. Intra-domain\
    \ Routes .......................................16\n      2.9. Inter-domain Routes\
    \ .......................................16\n      2.10. Reservations for Multicast\
    \ Sessions ......................16\n      2.11. Multi-level Aggregation ..................................16\n\
    \      2.12. Reliability Issues .......................................17\n  \
    \ 3. Elements of Procedures .........................................17\n    \
    \  3.1. Receipt of E2E Path Message by PCN-Ingress-Node\n           (Aggregating\
    \ Router) ......................................17\n      3.2. Handling of E2E\
    \ Path Message by Interior Routers ..........17\n      3.3. Receipt of E2E Path\
    \ Message by PCN-Egress-Node\n           (Deaggregating Router) ....................................18\n\
    \      3.4. Initiation of New Aggregate Path Message by\n           PCN-Ingress-Node\
    \ (Aggregating Router) .....................18\n      3.5. Handling of Aggregate\
    \ Path Message by Interior Routers ....18\n      3.6. Handling of Aggregate Path\
    \ Message by\n           Deaggregating Router ......................................18\n\
    \      3.7. Handling of E2E Resv Message by Deaggregating Router ......19\n  \
    \    3.8. Handling of E2E Resv Message by Interior Routers ..........19\n    \
    \  3.9. Initiation of New Aggregate Resv Message by\n           Deaggregating\
    \ Router ......................................20\n      3.10. Handling of Aggregate\
    \ Resv Message by Interior Routers ...20\n      3.11. Handling of E2E Resv Message\
    \ by Aggregating Router .......21\n      3.12. Handling of Aggregate Resv Message\
    \ by\n            Aggregating Router .......................................21\n\
    \      3.13. Removal of E2E Reservation ...............................21\n  \
    \    3.14. Removal of Aggregate Reservation .........................22\n    \
    \  3.15. Handling of Data on Reserved E2E Flow by\n            Aggregating Router\
    \ .......................................22\n      3.16. Procedures for Multicast\
    \ Sessions ........................22\n      3.17. Misconfiguration of PCN-Node\
    \ .............................22\n      3.18. PCN-Based Flow Termination ...............................22\n\
    \   4. Protocol Elements ..............................................23\n  \
    \    4.1. PCN Objects ...............................................24\n   5.\
    \ Security Considerations ........................................28\n   6. IANA\
    \ Considerations ............................................29\n   7. References\
    \ .....................................................29\n      7.1. Normative\
    \ References ......................................29\n      7.2. Informative\
    \ References ....................................30\n   Appendix A. Example Signaling\
    \ Flow ................................33\n   Acknowledgments ...................................................35\n\
    \   Authors' Addresses ................................................36\n"
- title: 1.  Introduction
  contents:
  - '1.  Introduction

    '
- title: 1.1.  Objective
  contents:
  - "1.1.  Objective\n   Pre-Congestion Notification (PCN) can support the Quality\
    \ of Service\n   (QoS) of inelastic flows within a Diffserv domain in a simple,\n\
    \   scalable, and robust fashion.  Two mechanisms are used: admission\n   control\
    \ and flow termination.  Admission control is used to decide\n   whether to admit\
    \ or block a new flow request, while flow termination\n   is used in abnormal\
    \ circumstances to decide whether to terminate some\n   of the existing flows.\
    \  To support these two features, the overall\n   rate of PCN-traffic is metered\
    \ on every link in the domain, and\n   PCN-packets are appropriately marked when\
    \ certain configured rates\n   are exceeded.  These configured rates are below\
    \ the rate of the link,\n   thus providing notification to boundary nodes about\
    \ overloads before\n   any congestion occurs (hence \"pre-congestion\" notification).\
    \  The\n   PCN-egress-nodes measure the rates of differently marked PCN-traffic\n\
    \   in periodic intervals and report these rates to the Decision Points\n   for\
    \ admission control and flow termination; the Decision Points use\n   these rates\
    \ to make decisions.  The Decision Points may be collocated\n   with the PCN-ingress-nodes,\
    \ or their function may be implemented in\n   another node.  For more details,\
    \ see [RFC5559], [RFC6661], and\n   [RFC6662].\n   The main objective of this\
    \ document is to specify the signaling\n   protocol that can be used within a\
    \ PCN-domain to carry reports from a\n   PCN-ingress-node to a PCN Decision Point,\
    \ considering that the PCN\n   Decision Point and PCN-egress-node are collocated.\n\
    \   If the PCN Decision Point is not collocated with the PCN-egress-node,\n  \
    \ then additional signaling procedures are required that are out of\n   scope\
    \ for this document.  Moreover, as mentioned above, this\n   architecture conforms\
    \ with Policy-Based Admission Control (PBAC),\n   where the Decision Point is\
    \ located in a node other than the\n   PCN-ingress-node [RFC2753].\n   Several\
    \ signaling protocols can be used to carry information between\n   PCN-boundary-nodes\
    \ (PCN-ingress-node and PCN-egress-node).  However,\n   since (1) both the PCN-egress-node\
    \ and PCN-ingress-node are located\n   on the data path and (2) the admission\
    \ control procedure needs to be\n   done at the PCN-egress-node, a signaling protocol\
    \ that follows the\n   same path as the data path, like RSVP, is more suited for\
    \ this\n   purpose.  In particular, this document specifies extensions to\n  \
    \ Generic Aggregate RSVP [RFC4860] for support of the PCN Controlled\n   Load\
    \ (CL) and Single Marking (SM) edge behaviors over a Diffserv\n   cloud using\
    \ Pre-Congestion Notification.\n   This document is published as an Experimental\
    \ document in order to:\n   o  validate industry interest by allowing implementation\
    \ and\n      deployment\n   o  gather operational experience, particularly related\
    \ to dynamic\n      interactions of RSVP signaling and PCN, and corresponding\
    \ levels\n      of performance\n   Support for the techniques specified in this\
    \ document involves RSVP\n   functionality in boundary nodes of a PCN-domain whose\
    \ interior nodes\n   forward RSVP traffic without performing RSVP functionality.\n"
- title: 1.2.  Overview and Motivation
  contents:
  - "1.2.  Overview and Motivation\n   Two main QoS architectures have been specified\
    \ by the IETF: the\n   Integrated Services (Intserv) [RFC1633] architecture and\
    \ the\n   Differentiated Services (Diffserv) architecture ([RFC2475]).\n   Intserv\
    \ provides methods for the delivery of end-to-end QoS to\n   applications over\
    \ heterogeneous networks.  One of the QoS signaling\n   protocols used by the\
    \ Intserv architecture is RSVP [RFC2205], which\n   can be used by applications\
    \ to request per-flow resources from the\n   network.  These RSVP requests can\
    \ be admitted or rejected by the\n   network.  Applications can express their\
    \ quantifiable resource\n   requirements using Intserv parameters as defined in\
    \ [RFC2211] and\n   [RFC2212].  The Controlled Load (CL) service [RFC2211] is\
    \ a form of\n   QoS that closely approximates the QoS that the same flow would\n\
    \   receive from a lightly loaded network element.  The CL service is\n   useful\
    \ for inelastic flows such as those used for real-time media.\n   The Diffserv\
    \ architecture can support the differentiated treatment of\n   packets in very\
    \ large-scale environments.  While Intserv and RSVP\n   classify packets per flow,\
    \ Diffserv networks classify packets into\n   one of a small number of aggregated\
    \ flows or \"classes\", based on the\n   Diffserv Codepoint (DSCP) in the packet\
    \ IP header.  At each Diffserv\n   router, packets are subjected to a \"Per Hop\
    \ Behavior\" (PHB), which is\n   invoked by the DSCP.  The primary benefit of\
    \ Diffserv is its\n   scalability, since the need for per-flow state and per-flow\n\
    \   processing is eliminated.\n   However, Diffserv does not include any mechanism\
    \ for communication\n   between applications and the network.  Several solutions\
    \ have been\n   specified to solve this issue.  One of these solutions is Intserv\n\
    \   over Diffserv [RFC2998], including Resource-Based Admission Control\n   (RBAC),\
    \ PBAC, assistance in traffic identification/classification,\n   and traffic conditioning.\
    \  Intserv over Diffserv can operate over a\n   statically provisioned or an RSVP-aware\
    \ Diffserv region.  When it is\n   RSVP aware, several mechanisms may be used\
    \ to support dynamic\n   provisioning and topology-aware admission control, including\n\
    \   aggregate RSVP reservations, per-flow RSVP, or a bandwidth broker.\n   [RFC3175]\
    \ specifies aggregation of RSVP end-to-end reservations over\n   aggregate RSVP\
    \ reservations.  In [RFC3175], the RSVP generic\n   aggregate reservation is characterized\
    \ by an RSVP SESSION object\n   using the 3-tuple <source IP address, destination\
    \ IP address,\n   Diffserv Codepoint>.\n   Several scenarios require the use of\
    \ multiple generic aggregate\n   reservations that are established for a given\
    \ PHB from a given source\n   IP address to a given destination IP address; see\
    \ [RFC4923] and\n   [RFC4860].  For example, multiple generic aggregate reservations\
    \ can\n   be applied in situations where multiple end-to-end (E2E) reservations\n\
    \   using different preemption priorities need to be aggregated through a\n  \
    \ PCN-domain using the same PHB.  Using multiple aggregate reservations\n   for\
    \ the same PHB allows\n   o  enforcement of the different preemption priorities\
    \ within the\n      aggregation region\n   o  more efficient management of Diffserv\
    \ resources\n   o  sustainment of a larger number of E2E reservations with higher\n\
    \      preemption priorities during periods of resource shortage\n   In particular,\
    \ [RFC4923] discusses in detail how end-to-end RSVP\n   reservations can be established\
    \ in a nested VPN environment through\n   RSVP aggregation.\n   [RFC4860] provides\
    \ generic aggregate reservations by extending\n   [RFC3175] to support multiple\
    \ aggregate reservations for the same\n   source IP address, destination IP address,\
    \ and PHB (or set of PHBs).\n   In particular, multiple such generic aggregate\
    \ reservations can be\n   established for a given PHB from a given source IP address\
    \ to a given\n   destination IP address.  This is achieved by adding the concept\
    \ of a\n   Virtual Destination Port and an Extended Virtual Destination Port in\n\
    \   the RSVP SESSION object.  In addition to this, the RSVP SESSION\n   object\
    \ for generic aggregate reservations uses the PHB Identification\n   Code (PHB-ID)\
    \ defined in [RFC3140] instead of using the Diffserv\n   Codepoint (DSCP) used\
    \ in [RFC3175].  The PHB-ID is used to identify\n   the PHB, or set of PHBs, from\
    \ which the Diffserv resources are to be\n   reserved.\n   The RSVP-like signaling\
    \ protocol required to carry (1) requests from\n   a PCN-egress-node to a PCN-ingress-node\
    \ and (2) reports from a\n   PCN-ingress-node to a PCN-egress-node needs to follow\
    \ the PCN\n   signaling requirements defined in [RFC6663].  In addition to that,\n\
    \   the signaling protocol functionality supported by the PCN-ingress-\n   nodes\
    \ and PCN-egress-nodes needs to maintain logical aggregate\n   constructs (i.e.,\
    \ ingress-egress-aggregate state) and be able to map\n   E2E reservations to these\
    \ aggregate constructs.  Moreover, no actual\n   reservation state is needed to\
    \ be maintained inside the PCN-domain,\n   i.e., the PCN-interior-nodes are not\
    \ maintaining any reservation\n   state.\n   This can be accomplished by two possible\
    \ approaches:\n   Approach (1):\n   o  adapting the aggregation procedures of\
    \ RFC 4860 to fit the PCN\n      requirements with as little change as possible\
    \ over the\n      functionality provided in RFC 4860.\n   o  hence, performing\
    \ aggregate RSVP signaling (even if it is to be\n      ignored by PCN-interior-nodes).\n\
    \   o  using the aggregate RSVP signaling procedures to carry PCN\n      information\
    \ between the PCN-boundary-nodes (PCN-ingress-node and\n      PCN-egress-node).\n\
    \   Approach (2):\n   o  adapting the aggregation procedures of RFC 4860 to fit\
    \ the PCN\n      requirements with significant changes over RFC 4860 (i.e., the\n\
    \      aspect of the procedures that have to do with maintaining\n      aggregate\
    \ states and mapping the E2E reservations to aggregate\n      constructs are kept,\
    \ but the procedures that are specific to\n      aggregate RSVP signaling and\
    \ aggregate reservation\n      establishment/maintenance are dropped).\n   o \
    \ hence not performing aggregate RSVP signaling.\n   o  piggybacking the PCN information\
    \ inside the E2E RSVP signaling.\n   Both approaches are probably viable; however,\
    \ since the operations of\n   RFC 4860 have been thoroughly studied and implemented,\
    \ it can be\n   considered that the solution from RFC 4860 can better deal with\
    \ the\n   more challenging situations (rerouting in the PCN-domain, failure of\n\
    \   a PCN-ingress-node, failure of a PCN-egress-node, rerouting towards a\n  \
    \ different edge, etc.).  This is the reason for choosing Approach (1)\n   for\
    \ the specification of the signaling protocol used to carry PCN\n   information\
    \ between the PCN-boundary-nodes (PCN-ingress-node and\n   PCN-egress-node).\n\
    \   As noted earlier, this document specifies extensions to Generic\n   Aggregate\
    \ RSVP [RFC4860] for support of the PCN Controlled Load (CL)\n   and Single Marking\
    \ (SM) edge behaviors over a Diffserv cloud using\n   Pre-Congestion Notification.\n\
    \   This document follows the PCN signaling requirements defined in\n   [RFC6663]\
    \ and specifies extensions to Generic Aggregate RSVP\n   [RFC4860] for support\
    \ of PCN edge behaviors as specified in [RFC6661]\n   and [RFC6662].  Moreover,\
    \ this document specifies how RSVP\n   aggregation can be used to set up and maintain\
    \ (1) Ingress-Egress-\n   Aggregate (IEA) states at Ingress and Egress nodes and\
    \ (2) generic\n   aggregation of end-to-end RSVP reservations over PCN (Congestion\
    \ and\n   Pre-Congestion Notification) domains.\n   To comply with this specification,\
    \ PCN-nodes MUST be able to support\n   the functionality specified in [RFC5670],\
    \ [RFC5559], [RFC6660],\n   [RFC6661], and [RFC6662].  Furthermore, the PCN-boundary-nodes\
    \ MUST\n   support the RSVP generic aggregate reservation procedures specified\n\
    \   in [RFC4860], which are augmented with procedures specified in this\n   document.\n"
- title: 1.3.  Requirements Language and Terminology
  contents:
  - "1.3.  Requirements Language and Terminology\n   The key words \"MUST\", \"MUST\
    \ NOT\", \"REQUIRED\", \"SHALL\", \"SHALL NOT\",\n   \"SHOULD\", \"SHOULD NOT\"\
    , \"RECOMMENDED\", \"MAY\", and \"OPTIONAL\" in this\n   document are to be interpreted\
    \ as described in [RFC2119].\n   This document uses terms defined in [RFC4860],\
    \ [RFC3175], [RFC5559],\n   [RFC5670], [RFC6661], and [RFC6662].\n   For readability,\
    \ a number of definitions from [RFC3175] as well as\n   definitions for terms\
    \ used in [RFC5559], [RFC6661], and [RFC6662] are\n   provided here, where some\
    \ of them are augmented with new meanings:\n   Aggregator\n      The process in\
    \ (or associated with) the router at the ingress edge\n      of the aggregation\
    \ region (with respect to the end-to-end RSVP\n      reservation) and behaving\
    \ in accordance with [RFC4860].  In this\n      document, it is also the PCN-ingress-node.\
    \  It is important to\n      notice that in the context of this document the Aggregator\
    \ must be\n      able to determine the Deaggregator using the procedures specified\n\
    \      in Section 4 of [RFC4860] and Section 1.4.2 of [RFC3175].\n   Congestion\
    \ Level Estimate (CLE)\n      The ratio of PCN-marked to total PCN-traffic (measured\
    \ in octets)\n      received for a given ingress-egress-aggregate during a given\n\
    \      measurement period.  The CLE is used to derive the PCN-admission-\n   \
    \   state and is also used by the report suppression procedure if\n      report\
    \ suppression is activated.\n   Deaggregator\n      The process in (or associated\
    \ with) the router at the egress edge\n      of the aggregation region (with respect\
    \ to the end-to-end RSVP\n      reservation) and behaving in accordance with [RFC4860].\
    \  In this\n      document, it is also the PCN-egress-node and Decision Point.\n\
    \   E2E\n      End to end\n   E2E Microflow\n      A microflow where its associated\
    \ packets are being forwarded on an\n      E2E path.\n   E2E Reservation\n   \
    \   An RSVP reservation such that:\n      (1) corresponding RSVP Path messages\
    \ are initiated upstream of the\n          Aggregator and terminated downstream\
    \ of the Deaggregator, and\n      (2) corresponding RSVP Resv messages are initiated\
    \ downstream of\n          the Deaggregator and terminated upstream of the Aggregator,\n\
    \          and\n      (3) this RSVP reservation is aggregated over an Ingress-Egress-\n\
    \          Aggregate (IEA) between the Aggregator and Deaggregator.\n      An\
    \ E2E RSVP reservation may be a per-flow reservation, which in\n      this document\
    \ is only maintained at the PCN-ingress-node and\n      PCN-egress-node.  Alternatively,\
    \ the E2E reservation may itself be\n      an aggregate reservation of various\
    \ types (e.g., Aggregate IP\n      reservation, Aggregate IPsec reservation [RFC4860]).\
    \  As per\n      regular RSVP operations, E2E RSVP reservations are unidirectional.\n\
    \   ETM-Rate\n      The rate of excess-traffic-marked (ETM) PCN-traffic received\
    \ at a\n      PCN-egress-node for a given ingress-egress-aggregate in octets\n\
    \      per second.\n   Extended vDstPort (Extended Virtual Destination Port)\n\
    \      An identifier used in the SESSION that remains constant over the\n    \
    \  life of the generic aggregate reservation.  The length of this\n      identifier\
    \ is 32 bits when IPv4 addresses are used and 128 bits\n      when IPv6 addresses\
    \ are used.\n      A sender (or Aggregator) that wishes to narrow the scope of\
    \ a\n      SESSION to the sender-receiver pair (or Aggregator-Deaggregator\n \
    \     pair) should place its IPv4 or IPv6 address here as a network\n      unique\
    \ identifier.  A sender (or Aggregator) that wishes to use a\n      common session\
    \ with other senders (or Aggregators) in order to use\n      a shared reservation\
    \ across senders (or Aggregators) must set this\n      field to all zeros.  In\
    \ this document, the Extended vDstPort\n      should contain the IPv4 or IPv6\
    \ address of the Aggregator.\n   Ingress-Egress-Aggregate (IEA)\n      The collection\
    \ of PCN-packets from all PCN-flows that travel in\n      one direction between\
    \ a specific pair of PCN-boundary-nodes.  In\n      this document, one RSVP generic\
    \ aggregate reservation is mapped to\n      only one ingress-egress-aggregate,\
    \ while one ingress-egress-\n      aggregate is mapped to one or more RSVP generic\
    \ aggregate\n      reservations.  PCN-flows and their PCN-traffic that are mapped\n\
    \      into a specific RSVP generic aggregate reservation can also be\n      easily\
    \ mapped into their corresponding ingress-egress-aggregate.\n   Microflow (from\
    \ [RFC2474])\n      A single instance of an application-to-application flow of\n\
    \      packets, which is identified by <source address, destination\n      address,\
    \ protocol id> and (where applicable) <source port,\n      destination port>.\n\
    \   PCN-Admission-State\n      The state (\"admit\" or \"block\") derived by the\
    \ Decision Point for a\n      given ingress-egress-aggregate based on statistics\
    \ about\n      PCN-packet marking.  The Decision Point decides to admit or block\n\
    \      new flows offered to the aggregate based on the current value of\n    \
    \  the PCN-admission-state.\n   PCN-Boundary-Node\n      A PCN-node that connects\
    \ one PCN-domain to a node in either\n      another PCN-domain or a non-PCN-domain.\n\
    \   PCN-Domain\n      A PCN-capable domain; a contiguous set of PCN-enabled nodes\
    \ that\n      perform Diffserv scheduling [RFC2474]; the complete set of\n   \
    \   PCN-nodes that in principle can, through PCN-marking packets,\n      influence\
    \ decisions about flow admission and termination within\n      the domain; includes\
    \ the PCN-egress-nodes, which measure these\n      PCN-marks, and the PCN-ingress-nodes.\n\
    \   PCN-Egress-Node\n      A PCN-boundary-node in its role in handling traffic\
    \ as it leaves a\n      PCN-domain.  In this document, the PCN-egress-node also\
    \ operates\n      as a Decision Point and Deaggregator.\n   PCN-Flow\n      The\
    \ unit of PCN-traffic that the PCN-boundary-node admits (or\n      terminates);\
    \ the unit could be a single E2E microflow (as defined\n      in [RFC2474]) or\
    \ some identifiable collection of microflows.\n   PCN-Ingress-Node\n      A PCN-boundary-node\
    \ in its role in handling traffic as it enters a\n      PCN-domain.  In this document,\
    \ the PCN-ingress-node also operates\n      as an Aggregator.\n   PCN-Interior-Node\n\
    \      A node in a PCN-domain that is not a PCN-boundary-node.\n   PCN-Node\n\
    \      A PCN-boundary-node or a PCN-interior-node.\n   PCN-Sent-Rate\n      The\
    \ rate of PCN-traffic received at a PCN-ingress-node and\n      destined for a\
    \ given ingress-egress-aggregate in octets per\n      second.\n   PCN-Traffic,\
    \ PCN-Packets, PCN-BA\n      A PCN-domain carries traffic of different Diffserv\
    \ Behavior\n      Aggregates (BAs) [RFC2474].  The PCN-BA uses the PCN mechanisms\
    \ to\n      carry PCN-traffic, and the corresponding packets are PCN-packets.\n\
    \      The same network will carry traffic of other Diffserv BAs.  The\n     \
    \ PCN-BA is distinguished by a combination of the Diffserv Codepoint\n      (DSCP)\
    \ and Explicit Congestion Notification (ECN) fields.\n   PHB-ID (Per Hop Behavior\
    \ Identification Code)\n      A 16-bit field containing the Per Hop Behavior Identification\
    \ Code\n      of the PHB, or of the set of PHBs, from which Diffserv resources\n\
    \      are to be reserved.  This field must be encoded as specified in\n     \
    \ Section 2 of [RFC3140].\n   RSVP Generic Aggregate Reservation\n      An RSVP\
    \ reservation that is identified by using the RSVP SESSION\n      object for generic\
    \ RSVP aggregate reservation.  This RSVP SESSION\n      object is based on the\
    \ RSVP SESSION object specified in [RFC4860],\n      augmented with the following\
    \ information:\n      o  The IPv4 DestAddress, IPv6 DestAddress should be set\
    \ to the\n         IPv4 or IPv6 destination addresses, respectively, of the\n\
    \         Deaggregator (PCN-egress-node).\n      o  The PHB-ID should be set equal\
    \ to PCN-compatible Diffserv\n         Codepoint(s).\n      o  The Extended vDstPort\
    \ should be set to the IPv4 or IPv6\n         destination addresses, of the Aggregator\
    \ (PCN-ingress-node).\n   VDstPort (Virtual Destination Port)\n      A 16-bit\
    \ identifier used in the SESSION that remains constant over\n      the life of\
    \ the generic aggregate reservation.\n"
- title: 1.4.  Organization of This Document
  contents:
  - "1.4.  Organization of This Document\n   This document is organized as follows.\
    \  Section 2 gives an overview\n   of RSVP extensions and operations.  The elements\
    \ of the procedures\n   that are used in this document are specified in Section\
    \ 3.  Section 4\n   describes the protocol elements.  The security considerations\
    \ are\n   given in Section 5, and the IANA considerations are provided in\n  \
    \ Section 6.\n"
- title: 2.  Overview of RSVP Extensions and Operations
  contents:
  - '2.  Overview of RSVP Extensions and Operations

    '
- title: 2.1.  Overview of RSVP Aggregation Procedures in PCN-Domains
  contents:
  - "2.1.  Overview of RSVP Aggregation Procedures in PCN-Domains\n   The PCN-boundary-nodes\
    \ (see Figure 1) can support RSVP SESSIONS for\n   generic aggregate reservations\
    \ [RFC4860], which depend on ingress-\n   egress-aggregates.  In particular, one\
    \ RSVP generic aggregate\n   reservation matches to only one ingress-egress-aggregate.\n\
    \   However, one ingress-egress-aggregate matches to one or more RSVP\n   generic\
    \ aggregate reservations.  In addition, to comply with this\n   specification,\
    \ the PCN-boundary-nodes need to distinguish and process\n   (1) RSVP SESSIONS\
    \ for generic aggregate sessions and their messages\n   according to [RFC4860]\
    \ and (2) E2E RSVP SESSIONS and messages\n   according to [RFC2205].\n   This\
    \ document locates all RSVP processing for a PCN-domain at\n   PCN-boundary-nodes.\
    \  PCN-interior-nodes do not perform any RSVP\n   functionality or maintain RSVP-related\
    \ state information.  Rather,\n   PCN-interior-nodes forward all RSVP messages\
    \ (for both generic\n   aggregate reservations [RFC4860] and E2E reservations\
    \ [RFC2205]) as\n   if they were ordinary network traffic.\n   Moreover, each\
    \ Aggregator and Deaggregator (i.e., PCN-boundary-nodes)\n   needs to support\
    \ policies to initiate and maintain, for each pair of\n   PCN-boundary-nodes of\
    \ the same PCN-domain, one ingress-egress-\n   aggregate.\n                  \
    \     --------------------------\n                      /       PCN-domain   \
    \      \\\n         |----|      |                            |      |----|\n \
    \     H--| R  |\\ |-----|                       |------| /| R  |-->H\n      H--|\
    \    |\\\\|     |   |---|     |---|     |      |//|    |-->H\n         |----|\
    \ \\|     |   | I |     | I |     |      |/ |----|\n                 | Agg |======================>|\
    \ Deag |\n                /|     |   |   |     |   |     |      |\\\n      H--------//|\
    \     |   |---|     |---|     |      |\\\\-------->H\n      H--------/ |-----|\
    \                       |------| \\-------->H\n                     |        \
    \                    |\n                      \\                          /\n\
    \                       --------------------------\n      H     = Host requesting\
    \ end-to-end RSVP reservations\n      R     = RSVP router\n      Agg   = Aggregator\
    \ (PCN-ingress-node)\n      Deag  = Deaggregator (PCN-egress-node)\n      I  \
    \   = Interior Router (PCN-interior-node)\n      -->   = E2E RSVP reservation\n\
    \      ==>   = Aggregate RSVP reservation\n     Figure 1: Aggregation of E2E Reservations\
    \ over Generic Aggregate\n           RSVP Reservations in PCN-Domains, Based on\
    \ [RFC4860]\n   Both the Aggregator and Deaggregator can maintain one or more\
    \ RSVP\n   generic aggregate reservations, but the Deaggregator is the entity\n\
    \   that initiates these RSVP generic aggregate reservations.  Note that\n   one\
    \ RSVP generic aggregate reservation matches to only one ingress-\n   egress-aggregate,\
    \ while one ingress-egress-aggregate matches to one\n   or more RSVP generic aggregate\
    \ reservations.  This can be\n   accomplished by using for the different RSVP\
    \ generic aggregate\n   reservations the same combinations of ingress and egress\
    \ identifiers,\n   but with a different PHB-ID value (see [RFC4860]).  The procedures\n\
    \   for aggregation of E2E reservations over generic aggregate RSVP\n   reservations\
    \ are the same as the procedures specified in Section 4 of\n   [RFC4860], augmented\
    \ with the ones specified in Section 2.5.\n   One significant difference between\
    \ this document and [RFC4860] is the\n   fact that in this document the admission\
    \ control of E2E RSVP\n   reservations over the PCN-core is performed according\
    \ to the PCN\n   procedures, while in [RFC4860] this is achieved via first admitting\n\
    \   aggregate RSVP reservations over the aggregation region and then\n   admitting\
    \ the E2E reservations over the aggregate RSVP reservations.\n   Therefore, in\
    \ this document, the RSVP generic aggregate RSVP\n   reservations are not subject\
    \ to admission control in the PCN-core,\n   and the E2E RSVP reservations are\
    \ not subject to admission control\n   over the aggregate reservations.  In turn,\
    \ this means that several\n   procedures described in [RFC4860] are significantly\
    \ simplified in\n   this document:\n   o  Unlike [RFC4860], the generic aggregate\
    \ RSVP reservations need not\n      be admitted in the PCN-core.\n   o  Unlike\
    \ [RFC4860], the RSVP aggregated traffic does not need to be\n      tunneled between\
    \ Aggregator and Deaggregator; see Section 2.3.\n   o  Unlike [RFC4860], the Deaggregator\
    \ need not perform admission\n      control of E2E reservations over the aggregate\
    \ RSVP reservations.\n   o  Unlike [RFC4860], there is no need for dynamic adjustment\
    \ of the\n      RSVP generic aggregate reservation size; see Section 2.6.\n"
- title: 2.2.  PCN-Marking, Encoding, and Transport of Pre-congestion Information
  contents:
  - "2.2.  PCN-Marking, Encoding, and Transport of Pre-congestion Information\n  \
    \ The method of PCN-marking within the PCN-domain is specified in\n   [RFC5670].\
    \  In addition, the method of encoding and transport of\n   pre-congestion information\
    \ is specified in [RFC6660].  The PHB-ID\n   (Per Hop Behavior Identification\
    \ Code) used SHOULD be set equal to\n   PCN-compatible Diffserv Codepoint(s).\n"
- title: 2.3.  Traffic Classification within the Aggregation Region
  contents:
  - "2.3.  Traffic Classification within the Aggregation Region\n   The PCN-ingress\
    \ marks a PCN-BA using PCN-marking (i.e., a combination\n   of the DSCP and ECN\
    \ fields), which interior nodes use to classify\n   PCN-traffic.  The PCN-traffic\
    \ (e.g., E2E microflows) belonging to an\n   RSVP generic aggregate reservation\
    \ can be classified only at the\n   PCN-boundary-nodes (i.e., Aggregator and Deaggregator)\
    \ by using the\n   RSVP SESSION object for RSVP generic aggregate reservations;\
    \ see\n   Section 2.1 of [RFC4860].  Note that the DSCP value included in the\n\
    \   SESSION object SHOULD be set equal to a PCN-compatible Diffserv\n   Codepoint.\
    \  Since no admission control procedures over the RSVP\n   generic aggregate reservations\
    \ in the PCN-core are required, unlike\n   [RFC4860], the RSVP aggregated traffic\
    \ need not be tunneled between\n   Aggregator and Deaggregator.  In this document,\
    \ one RSVP generic\n   aggregate reservation is mapped to only one ingress-egress-aggregate,\n\
    \   while one ingress-egress-aggregate is mapped to one or more RSVP\n   generic\
    \ aggregate reservations.  PCN-flows and their PCN-traffic that\n   are mapped\
    \ into a specific RSVP generic aggregate reservation can\n   also easily be classified\
    \ into their corresponding ingress-egress-\n   aggregate.  The method of traffic\
    \ conditioning of PCN-traffic and\n   non-PCN-traffic, as well as the method of\
    \ PHB configuration, are\n   described in [RFC6661] and [RFC6662].\n"
- title: 2.4.  Deaggregator (PCN-Egress-Node) Determination
  contents:
  - "2.4.  Deaggregator (PCN-Egress-Node) Determination\n   This document assumes\
    \ the same dynamic Deaggregator determination\n   method as that used in [RFC4860].\n"
- title: 2.5.  Mapping E2E Reservations onto Aggregate Reservations
  contents:
  - "2.5.  Mapping E2E Reservations onto Aggregate Reservations\n   To comply with\
    \ this specification, for the mapping of E2E\n   reservations onto aggregate reservations,\
    \ the same methods MUST be\n   used as the ones described in Section 4 of [RFC4860],\
    \ augmented by\n   the following rules:\n   o  An Aggregator (PCN-ingress-node)\
    \ or Deaggregator (PCN-egress-node\n      and Decision Point) MUST use one or\
    \ more policies to determine\n      whether an RSVP generic aggregate reservation\
    \ can be mapped into\n      an ingress-egress-aggregate.  This can be accomplished\
    \ by using\n      for the different RSVP generic aggregate reservations the same\n\
    \      combinations of ingress and egress identifiers, but with a\n      different\
    \ PHB-ID value (see [RFC4860]) corresponding to the PCN\n      specifications\
    \ -- in particular, the RSVP SESSION object specified\n      in [RFC4860], augmented\
    \ with the following information:\n      o  The IPv4 DestAddress, IPv6 DestAddress\
    \ MUST be set to the IPv4\n         or IPv6 destination addresses, respectively,\
    \ of the\n         Deaggregator (PCN-egress-node); see [RFC4860].  Note that the\n\
    \         PCN-domain is considered as being only one RSVP hop (for\n         generic\
    \ aggregate RSVP or E2E RSVP).  This means that the next\n         RSVP hop for\
    \ the Aggregator in the downstream direction is the\n         Deaggregator and\
    \ the next RSVP hop for the Deaggregator in the\n         upstream direction is\
    \ the Aggregator.\n      o  The PHB-ID (Per Hop Behavior Identification Code)\
    \ SHOULD be set\n         equal to PCN-compatible Diffserv Codepoint(s).\n   \
    \   o  The Extended vDstPort SHOULD be set to the IPv4 or IPv6\n         destination\
    \ addresses of the Aggregator (PCN-ingress-node); see\n         [RFC4860].\n"
- title: 2.6.  Size of Aggregate Reservations
  contents:
  - "2.6.  Size of Aggregate Reservations\n   Since (1) no admission control of E2E\
    \ reservations over the RSVP\n   aggregate reservations is required and (2) no\
    \ admission control of\n   the RSVP aggregate reservation over the PCN-core is\
    \ required, the\n   size of the generic aggregate reservation is irrelevant and\
    \ can be\n   set to any arbitrary value by the Deaggregator.  The Deaggregator\n\
    \   SHOULD set the value of a generic aggregate reservation to a null\n   bandwidth.\
    \  We also observe that there is no need for dynamic\n   adjustment of the RSVP\
    \ aggregate reservation size.\n"
- title: 2.7.  E2E Path ADSPEC Update
  contents:
  - "2.7.  E2E Path ADSPEC Update\n   To comply with this specification, for the update\
    \ of the E2E Path\n   ADSPEC, the same methods can be used as the ones described\
    \ in\n   [RFC4860].\n"
- title: 2.8.  Intra-domain Routes
  contents:
  - "2.8.  Intra-domain Routes\n   The PCN-interior-nodes maintain neither E2E RSVP\
    \ nor RSVP generic\n   aggregation states and reservations.  Therefore, intra-domain\
    \ route\n   changes will not affect intra-domain reservations, since such\n  \
    \ reservations are not maintained by the PCN-interior-nodes.\n   Furthermore,\
    \ it is considered that by configuration the PCN-interior-\n   nodes can distinguish\
    \ neither RSVP generic aggregate sessions and\n   their associated messages [RFC4860]\
    \ nor E2E RSVP SESSIONS and their\n   associated messages [RFC2205].\n"
- title: 2.9.  Inter-domain Routes
  contents:
  - "2.9.  Inter-domain Routes\n   The PCN-charter scope precludes inter-domain considerations.\n\
    \   However, for solving inter-domain route changes associated with the\n   operation\
    \ of the RSVP messages, the same methods SHOULD be used as\n   the ones described\
    \ in [RFC4860] and in Section 1.4.7 of [RFC3175].\n"
- title: 2.10.  Reservations for Multicast Sessions
  contents:
  - "2.10.  Reservations for Multicast Sessions\n   PCN does not consider reservations\
    \ for multicast sessions.\n"
- title: 2.11.  Multi-level Aggregation
  contents:
  - "2.11.  Multi-level Aggregation\n   PCN does not consider multi-level aggregations\
    \ within the PCN-domain.\n   Therefore, the PCN-interior-nodes do not support\
    \ multi-level\n   aggregation procedures.  However, the Aggregator and Deaggregator\n\
    \   SHOULD support the multi-level aggregation procedures specified in\n   [RFC4860]\
    \ and in Section 1.4.9 of [RFC3175].\n"
- title: 2.12.  Reliability Issues
  contents:
  - "2.12.  Reliability Issues\n   To comply with this specification, for solving\
    \ possible reliability\n   issues, the same methods MUST be used as the ones described\
    \ in\n   Section 4 of [RFC4860].\n"
- title: 3.  Elements of Procedures
  contents:
  - "3.  Elements of Procedures\n   This section describes the procedures used to\
    \ implement the aggregate\n   RSVP procedure over PCN.  It is considered that\
    \ the procedures for\n   aggregation of E2E reservations over generic aggregate\
    \ RSVP\n   reservations are the same as the procedures specified in Section 4\
    \ of\n   [RFC4860], except where a departure from these procedures is\n   explicitly\
    \ described in this section.  Please refer to Appendix B of\n   [RFC2205] and\
    \ Section 3 of [RFC4860] for the processing rules and\n   error handling for the\
    \ error cases listed below:\n   o  Message formatting errors, e.g., incomplete\
    \ message\n   o  Unknown objects\n"
- title: 3.1.  Receipt of E2E Path Message by PCN-Ingress-Node
  contents:
  - "3.1.  Receipt of E2E Path Message by PCN-Ingress-Node\n      (Aggregating Router)\n\
    \   When the E2E Path message arrives at the exterior interface of the\n   Aggregator\
    \ (PCN-ingress-node), then standard RSVP generic aggregation\n   [RFC4860] procedures\
    \ are used.\n"
- title: 3.2.  Handling of E2E Path Message by Interior Routers
  contents:
  - "3.2.  Handling of E2E Path Message by Interior Routers\n   The E2E Path messages\
    \ traverse zero or more PCN-interior-nodes.  The\n   PCN-interior-nodes receive\
    \ the E2E Path message on an interior\n   interface and forward it on another\
    \ interior interface.  It is\n   considered that, by configuration, the PCN-interior-nodes\
    \ ignore the\n   E2E RSVP signaling messages [RFC2205].  Therefore, the E2E Path\n\
    \   messages are simply forwarded as normal IP datagrams.\n"
- title: 3.3.  Receipt of E2E Path Message by PCN-Egress-Node
  contents:
  - "3.3.  Receipt of E2E Path Message by PCN-Egress-Node\n      (Deaggregating Router)\n\
    \   When receiving the E2E Path message, the Deaggregator (PCN-egress-\n   node\
    \ and Decision Point) performs the regular procedures of\n   [RFC4860], augmented\
    \ with the following rules:\n   o  The Deaggregator MUST NOT perform the RSVP-TTL\
    \ vs. IP TTL-check\n      (TTL = Time To Live) and MUST NOT update the ADSPEC\
    \ Break bit.\n      This is because the whole PCN-domain is effectively handled\
    \ by E2E\n      RSVP as a virtual link on which integrated service is indeed\n\
    \      supported (and admission control performed) so that the Break bit\n   \
    \   MUST NOT be set; see also [RSVP-PCN-CL].\n   The Deaggregator forwards the\
    \ E2E Path message towards the receiver.\n"
- title: 3.4.  Initiation of New Aggregate Path Message by PCN-Ingress-Node
  contents:
  - "3.4.  Initiation of New Aggregate Path Message by PCN-Ingress-Node\n      (Aggregating\
    \ Router)\n   To comply with this specification, for the initiation of the new\
    \ RSVP\n   generic aggregate Path message by the Aggregator (PCN-ingress-node),\n\
    \   the same methods MUST be used as the ones described in [RFC4860].\n"
- title: 3.5.  Handling of Aggregate Path Message by Interior Routers
  contents:
  - "3.5.  Handling of Aggregate Path Message by Interior Routers\n   The Aggregate\
    \ Path messages traverse zero or more PCN-interior-nodes.\n   The PCN-interior-nodes\
    \ receive the Aggregate Path message on an\n   interior interface and forward\
    \ it on another interior interface.  It\n   is considered that, by configuration,\
    \ the PCN-interior-nodes ignore\n   the Aggregate Path signaling messages.  Therefore,\
    \ the Aggregate Path\n   messages are simply forwarded as normal IP datagrams.\n"
- title: 3.6.  Handling of Aggregate Path Message by Deaggregating Router
  contents:
  - "3.6.  Handling of Aggregate Path Message by Deaggregating Router\n   When receiving\
    \ the Aggregate Path message, the Deaggregator\n   (PCN-egress-node and Decision\
    \ Point) performs the regular procedures\n   of [RFC4860], augmented with the\
    \ following rules:\n   o  When the received Aggregate Path message by the Deaggregator\n\
    \      contains the RSVP-AGGREGATE-IPv4-PCN-response or RSVP-AGGREGATE-\n    \
    \  IPv6-PCN-response PCN objects, which carry the PCN-sent-rate, then\n      the\
    \ procedures specified in Section 3.18 of this document MUST be\n      followed.\n"
- title: 3.7.  Handling of E2E Resv Message by Deaggregating Router
  contents:
  - "3.7.  Handling of E2E Resv Message by Deaggregating Router\n   When the E2E Resv\
    \ message arrives at the exterior interface of the\n   Deaggregator (PCN-egress-node\
    \ and Decision Point), then standard RSVP\n   aggregation procedures of [RFC4860]\
    \ are used, augmented with the\n   following rules:\n   o  The E2E RSVP SESSION\
    \ associated with an E2E Resv message that\n      arrives at the external interface\
    \ of the Deaggregator is\n      mapped/matched with an RSVP generic aggregate\
    \ and with a PCN\n      ingress-egress-aggregate.\n   o  Depending on the type\
    \ of the PCN edge behavior supported by the\n      Deaggregator, the PCN admission\
    \ control procedures specified in\n      Section 3.3.1 of [RFC6661] or [RFC6662]\
    \ MUST be followed.  Since\n      no admission control procedures over the RSVP\
    \ aggregate\n      reservations in the PCN-core are required, unlike [RFC4860],\
    \ the\n      Deaggregator does not perform any admission control of the E2E\n\
    \      reservation over the mapped generic aggregate RSVP reservation.\n     \
    \ If the PCN-based admission control procedure is successful, then\n      the\
    \ Deaggregator MUST allow the new flow to be admitted onto the\n      associated\
    \ RSVP generic aggregation reservation and onto the PCN\n      ingress-egress-aggregate;\
    \ see [RFC6661] and [RFC6662].  If the\n      PCN-based admission control procedure\
    \ is not successful, then the\n      E2E Resv MUST NOT be admitted onto the associated\
    \ RSVP generic\n      aggregate reservation and onto the PCN ingress-egress-aggregation.\n\
    \      The E2E Resv message is further processed according to [RFC4860].\n   How\
    \ the PCN-admission-state is maintained is specified in [RFC6661]\n   and [RFC6662].\n"
- title: 3.8.  Handling of E2E Resv Message by Interior Routers
  contents:
  - "3.8.  Handling of E2E Resv Message by Interior Routers\n   The E2E Resv messages\
    \ traversing the PCN-core are IP addressed to the\n   Aggregating router and are\
    \ not marked with Router Alert; therefore,\n   the E2E Resv messages are simply\
    \ forwarded as normal IP datagrams.\n"
- title: 3.9.  Initiation of New Aggregate Resv Message by Deaggregating Router
  contents:
  - "3.9.  Initiation of New Aggregate Resv Message by Deaggregating Router\n   To\
    \ comply with this specification, for the initiation of the new RSVP\n   generic\
    \ aggregate Resv message by the Deaggregator (PCN-egress-node\n   and Decision\
    \ Point), the same methods MUST be used as the ones\n   described in Section 4\
    \ of [RFC4860], augmented with the following\n   rules:\n   o  The size of the\
    \ generic aggregate reservation is irrelevant (see\n      Section 2.6) and can\
    \ be set to any arbitrary value by the\n      PCN-egress-node.  The Deaggregator\
    \ SHOULD set the value of an RSVP\n      generic aggregate reservation to a null\
    \ bandwidth.  We also\n      observe that there is no need for dynamic adjustment\
    \ of the RSVP\n      generic aggregate reservation size.\n   o  When [RFC6661]\
    \ is used and the ETM-rate measured by the\n      Deaggregator contains a non-zero\
    \ value for some ingress-egress-\n      aggregate (see [RFC6661] and [RFC6662]),\
    \ the Deaggregator MUST\n      request the PCN-ingress-node to provide an estimate\
    \ of the rate\n      (PCN-sent-rate) at which the Aggregator (PCN-ingress-node)\
    \ is\n      receiving PCN-traffic that is destined for the given ingress-\n  \
    \    egress-aggregate.\n   o  When [RFC6662] is used and the PCN-admission-state\
    \ computed by the\n      Deaggregator on the basis of the CLE is \"block\" for\
    \ the given\n      ingress-egress-aggregate, the Deaggregator MUST request the\n\
    \      PCN-ingress-node to provide an estimate of the rate\n      (PCN-sent-rate)\
    \ at which the Aggregator is receiving PCN-traffic\n      that is destined for\
    \ the given ingress-egress-aggregate.\n   o  In the above two cases and when the\
    \ PCN-sent-rate needs to be\n      requested from the Aggregator, the Deaggregator\
    \ MUST generate and\n      send to the Aggregator a (refresh) Aggregate Resv message\
    \ that\n      MUST carry one of the following PCN objects (see Section 4.1),\n\
    \      depending on whether IPv4 or IPv6 is supported:\n      o  RSVP-AGGREGATE-IPv4-PCN-request\n\
    \      o  RSVP-AGGREGATE-IPv6-PCN-request\n"
- title: 3.10.  Handling of Aggregate Resv Message by Interior Routers
  contents:
  - "3.10.  Handling of Aggregate Resv Message by Interior Routers\n   The Aggregate\
    \ Resv messages traversing the PCN-core are IP addressed\n   to the Aggregating\
    \ router and are not marked with Router Alert;\n   therefore, the Aggregate Resv\
    \ messages are simply forwarded as normal\n   IP datagrams.\n"
- title: 3.11.  Handling of E2E Resv Message by Aggregating Router
  contents:
  - "3.11.  Handling of E2E Resv Message by Aggregating Router\n   When the E2E Resv\
    \ message arrives at the interior interface of the\n   Aggregator (PCN-ingress-node),\
    \ then standard RSVP aggregation\n   procedures of [RFC4860] are used.\n"
- title: 3.12.  Handling of Aggregate Resv Message by Aggregating Router
  contents:
  - "3.12.  Handling of Aggregate Resv Message by Aggregating Router\n   When the\
    \ Aggregate Resv message arrives at the interior interface of\n   the Aggregator\
    \ (PCN-ingress-node), then standard RSVP aggregation\n   procedures of [RFC4860]\
    \ are used, augmented with the following rules:\n   o  The Aggregator SHOULD use\
    \ the information carried by the PCN\n      objects (see Section 4) and follow\
    \ the steps specified in\n      Section 3.4 of [RFC6661] and [RFC6662].  If the\
    \ \"R\" flag carried\n      by the RSVP-AGGREGATE-IPv4-PCN-request or RSVP-AGGREGATE-IPv6-PCN-\n\
    \      request PCN objects is set to ON (see Section 4.1), then the\n      Aggregator\
    \ follows the steps described in Section 3.4 of [RFC6661]\n      and [RFC6662]\
    \ on calculating the PCN-sent-rate.  In particular,\n      the Aggregator MUST\
    \ provide the estimated current rate of\n      PCN-traffic received at that node\
    \ and destined for a given\n      ingress-egress-aggregate in octets per second\
    \ (the PCN-sent-rate).\n      The way this rate estimate is derived is a matter\
    \ of\n      implementation; see [RFC6661] or [RFC6662].\n   o  The Aggregator\
    \ initiates an Aggregate Path message.  In\n      particular, when the Aggregator\
    \ receives an Aggregate Resv message\n      that carries one of the following\
    \ PCN objects -- RSVP-AGGREGATE-\n      IPv4-PCN-request or RSVP-AGGREGATE-IPv6-PCN-request\
    \ -- with the\n      \"R\" flag set to ON (see Section 4.1), the Aggregator initiates\
    \ an\n      Aggregate Path message and includes the calculated PCN-sent-rate\n\
    \      in the RSVP-AGGREGATE-IPv4-PCN-response or RSVP-AGGREGATE-\n      IPv6-PCN-response\
    \ PCN objects (see Section 4.1), which MUST be\n      carried by the Aggregate\
    \ Path message.  This Aggregate Path\n      message is sent towards the Deaggregator\
    \ (PCN-egress-node and\n      Decision Point) that requested the calculation of\
    \ the\n      PCN-sent-rate.\n"
- title: 3.13.  Removal of E2E Reservation
  contents:
  - "3.13.  Removal of E2E Reservation\n   To comply with this specification, for\
    \ the removal of E2E\n   reservations, the same methods MUST be used as the ones\
    \ described in\n   Section 4 of [RFC4860] and Section 5 of [RFC4495].\n"
- title: 3.14.  Removal of Aggregate Reservation
  contents:
  - "3.14.  Removal of Aggregate Reservation\n   To comply with this specification,\
    \ for the removal of RSVP generic\n   aggregate reservations, the same methods\
    \ MUST be used as the ones\n   described in Section 4 of [RFC4860] and Section\
    \ 2.10 of [RFC3175].\n   In particular, should an aggregate reservation go away\
    \ (presumably\n   due to a configuration change, route change, or policy event),\
    \ the\n   E2E reservations it supports are no longer active.  They MUST be\n \
    \  treated accordingly.\n"
- title: 3.15.  Handling of Data on Reserved E2E Flow by Aggregating Router
  contents:
  - "3.15.  Handling of Data on Reserved E2E Flow by Aggregating Router\n   The handling\
    \ of data on the reserved E2E flow by the Aggregator\n   (PCN-ingress-node) uses\
    \ the procedures described in [RFC4860],\n   augmented with the following:\n \
    \  o  Regarding PCN-marking and traffic classification, the procedures\n     \
    \ defined in Sections 2.2 and 2.3 of this document are used.\n"
- title: 3.16.  Procedures for Multicast Sessions
  contents:
  - "3.16.  Procedures for Multicast Sessions\n   No multicast sessions are considered\
    \ in this document.\n"
- title: 3.17.  Misconfiguration of PCN-Node
  contents:
  - "3.17.  Misconfiguration of PCN-Node\n   In an event where a PCN-node is misconfigured\
    \ within a PCN-domain,\n   the desired behavior is the same as that described\
    \ in Section 3.10.\n"
- title: 3.18.  PCN-Based Flow Termination
  contents:
  - "3.18.  PCN-Based Flow Termination\n   When the Deaggregator (PCN-egress-node\
    \ and Decision Point) needs to\n   terminate an amount of traffic associated with\
    \ one ingress-egress-\n   aggregate (see Section 3.3.2 of [RFC6661] and [RFC6662]),\
    \ then\n   several procedures for terminating E2E microflows can be deployed.\n\
    \   The default procedure for terminating E2E microflows (i.e.,\n   PCN-flows)\
    \ is as follows; see, for example, [RFC6661] and [RFC6662].\n   For the same ingress-egress-aggregate,\
    \ select a number of E2E\n   microflows to be terminated in order to decrease\
    \ the total incoming\n   amount of bandwidth associated with one ingress-egress-aggregate\
    \ by\n   the amount of traffic to be terminated.  In this situation, the same\n\
    \   mechanisms for terminating an E2E microflow can be followed as the\n   mechanisms\
    \ specified in [RFC2205].  However, based on a local policy,\n   the Deaggregator\
    \ could use other ways of selecting which microflows\n   should be terminated.\
    \  For example, for the same ingress-egress-\n   aggregate, select a number of\
    \ E2E microflows to be terminated or to\n   reduce their reserved bandwidth in\
    \ order to decrease the total\n   incoming amount of bandwidth associated with\
    \ one ingress-egress-\n   aggregate by the amount of traffic to be terminated.\
    \  In this\n   situation, the same mechanisms for terminating an E2E microflow\
    \ or\n   reducing bandwidth associated with an E2E microflow can be followed\n\
    \   as the mechanisms specified in Section 5 of [RFC4495].\n"
- title: 4.  Protocol Elements
  contents:
  - "4.  Protocol Elements\n   The protocol elements in this document are using the\
    \ elements defined\n   in Section 4 of [RFC4860] and Section 3 of [RFC3175], augmented\
    \ with\n   the following rules:\n   o  The DSCP value included in the SESSION\
    \ object SHOULD be set equal\n      to a PCN-compatible Diffserv Codepoint.\n\
    \   o  The Extended vDstPort SHOULD be set to the IPv4 or IPv6\n      destination\
    \ addresses of the Aggregator (PCN-ingress-node); see\n      [RFC4860].\n   o\
    \  When the Deaggregator (PCN-egress-node and Decision Point) needs\n      to\
    \ request the PCN-sent-rate from the PCN-ingress-node (see\n      Section 3.9\
    \ of this document), the Deaggregator MUST generate and\n      send a (refresh)\
    \ Aggregate Resv message to the Aggregator that\n      MUST carry one of the following\
    \ PCN objects (see Section 4.1),\n      depending on whether IPv4 or IPv6 is supported:\n\
    \      o  RSVP-AGGREGATE-IPv4-PCN-request\n      o  RSVP-AGGREGATE-IPv6-PCN-request\n\
    \   o  When the Aggregator receives an Aggregate Resv message that\n      carries\
    \ one of the following PCN objects -- RSVP-AGGREGATE-\n      IPv4-PCN-request\
    \ or RSVP-AGGREGATE-IPv6-PCN-request, with the \"R\"\n      flag set to ON (see\
    \ Section 4.1) -- then the Aggregator MUST\n      generate and send to the Deaggregator\
    \ an Aggregate Path message\n      that carries one of the following PCN objects\
    \ (see Section 4.1),\n      depending on whether IPv4 or IPv6 is supported:\n\
    \      o  RSVP-AGGREGATE-IPv4-PCN-response\n      o  RSVP-AGGREGATE-IPv6-PCN-response\n"
- title: 4.1.  PCN Objects
  contents:
  - "4.1.  PCN Objects\n   This section describes four types of PCN objects that can\
    \ be carried\n   by the (refresh) Aggregate Path or the (refresh) Aggregate Resv\n\
    \   messages specified in [RFC4860].\n   These objects are as follows:\n     \
    \ o  RSVP-AGGREGATE-IPv4-PCN-request\n      o  RSVP-AGGREGATE-IPv6-PCN-request\n\
    \      o  RSVP-AGGREGATE-IPv4-PCN-response\n      o  RSVP-AGGREGATE-IPv6-PCN-response\n\
    \   o  RSVP-AGGREGATE-IPv4-PCN-request: PCN request object, when IPv4\n      addresses\
    \ are used:\n      Class = 248 (PCN)\n      C-Type = 1 (RSVP-AGGREGATE-IPv4-PCN-request)\n\
    \      +-------------+-------------+-------------+-------------+\n      |    \
    \ IPv4 PCN-ingress-node Address (4 bytes)           |\n      +-------------+-------------+-------------+-------------+\n\
    \      |     IPv4 PCN-egress-node Address (4 bytes)            |\n      +-------------+-------------+-------------+-------------+\n\
    \      |     IPv4 Decision Point Address (4 bytes)             |\n      +-------------+-------------+-------------+-------------+\n\
    \      |R|     Reserved                                        |\n      +-------------+-------------+-------------+-------------+\n\
    \   o  RSVP-AGGREGATE-IPv6-PCN-request: PCN object, when IPv6 addresses\n    \
    \  are used:\n      Class = 248 (PCN)\n      C-Type = 2 (RSVP-AGGREGATE-IPv6-PCN-request)\n\
    \      +-------------+-------------+-------------+-------------+\n      |    \
    \                                                   |\n      +               \
    \                                        +\n      |                          \
    \                             |\n      +     IPv6 PCN-ingress-node Address (16\
    \ bytes)          +\n      |                                                 \
    \      |\n      +                                                       +\n  \
    \    |                                                       |\n      +-------------+-------------+-------------+-------------+\n\
    \      |                                                       |\n      +    \
    \                                                   +\n      |               \
    \                                        |\n      +     IPv6 PCN-egress-node Address\
    \ (16 bytes)           +\n      |                                            \
    \           |\n      +                                                       +\n\
    \      |                                                       |\n      +-------------+-------------+-------------+-------------+\n\
    \      |                                                       |\n      +    \
    \                                                   +\n      |               \
    \                                        |\n      +     Decision Point Address\
    \ (16 bytes)                 +\n      |                                      \
    \                 |\n      +                                                 \
    \      +\n      |                                                       |\n  \
    \    +-------------+-------------+-------------+-------------+\n      |R|    \
    \ Reserved                                        |\n      +-------------+-------------+-------------+-------------+\n\
    \   o  RSVP-AGGREGATE-IPv4-PCN-response: PCN object, IPv4 addresses\n      are\
    \ used:\n      Class = 248 (PCN)\n      C-Type = 3 (RSVP-AGGREGATE-IPv4-PCN-response)\n\
    \      +-------------+-------------+-------------+-------------+\n      |    \
    \ IPv4 PCN-ingress-node Address (4 bytes)           |\n      +-------------+-------------+-------------+-------------+\n\
    \      |     IPv4 PCN-egress-node Address (4 bytes)            |\n      +-------------+-------------+-------------+-------------+\n\
    \      |     IPv4 Decision Point Address (4 bytes)             |\n      +-------------+-------------+-------------+-------------+\n\
    \      | PCN-sent-rate                                         |\n      +-------------+-------------+-------------+-------------+\n\
    \   o  RSVP-AGGREGATE-IPv6-PCN-response: PCN object, IPv6 addresses\n      are\
    \ used:\n      Class = 248 (PCN)\n      C-Type = 4 (RSVP-AGGREGATE-IPv6-PCN-response)\n\
    \      +-------------+-------------+-------------+-------------+\n      |    \
    \                                                   |\n      +               \
    \                                        +\n      |                          \
    \                             |\n      +     IPv6 PCN-ingress-node Address (16\
    \ bytes)          +\n      |                                                 \
    \      |\n      +                                                       +\n  \
    \    |                                                       |\n      +-------------+-------------+-------------+-------------+\n\
    \      |                                                       |\n      +    \
    \                                                   +\n      |               \
    \                                        |\n      +     IPv6 PCN-egress-node Address\
    \ (16 bytes)           +\n      |                                            \
    \           |\n      +                                                       +\n\
    \      |                                                       |\n      +-------------+-------------+-------------+-------------+\n\
    \      |                                                       |\n      +    \
    \                                                   +\n      |               \
    \                                        |\n      +     Decision Point Address\
    \ (16 bytes)                 +\n      |                                      \
    \                 |\n      +                                                 \
    \      +\n      |                                                       |\n  \
    \    +-------------+-------------+-------------+-------------+\n      | PCN-sent-rate\
    \                                         |\n      +-------------+-------------+-------------+-------------+\n\
    \   The fields carried by the PCN object are specified in [RFC6663],\n   [RFC6661],\
    \ and [RFC6662]:\n   o  The IPv4 or IPv6 address of the PCN-ingress-node (Aggregator)\
    \ and\n      the IPv4 or IPv6 address of the PCN-egress-node (Deaggregator):\n\
    \      together, they specify the ingress-egress-aggregate to which the\n    \
    \  report refers.  According to [RFC6663], the report should carry\n      the\
    \ identifier of the PCN-ingress-node (Aggregator) and the\n      identifier of\
    \ the PCN-egress-node (Deaggregator) (typically their\n      IP addresses).\n\
    \   o  Decision Point Address: specifies the IPv4 or IPv6 address of the\n   \
    \   Decision Point.  In this document, this field MUST contain the IP\n      address\
    \ of the Deaggregator.\n   o  \"R\": 1-bit flag that, when set to ON, signifies,\
    \ according to\n      [RFC6661] and [RFC6662], that the PCN-ingress-node (Aggregator)\n\
    \      MUST provide an estimate of the rate (PCN-sent-rate) at which the\n   \
    \   PCN-ingress-node (Aggregator) is receiving PCN-traffic that is\n      destined\
    \ for the given ingress-egress-aggregate.\n   o  \"Reserved\": 31 bits that are\
    \ currently not used by this document\n      and are reserved.  These SHALL be\
    \ set to 0 and SHALL be ignored on\n      reception.\n   o  PCN-sent-rate: the\
    \ estimate of the rate at which the PCN-ingress-\n      node (Aggregator) is receiving\
    \ PCN-traffic that is destined for\n      the given ingress-egress-aggregate.\
    \  It is expressed in\n      octets/second; its format is a 32-bit IEEE floating-point\
    \ number.\n      The PCN-sent-rate is specified in [RFC6661] and [RFC6662].\n"
- title: 5.  Security Considerations
  contents:
  - "5.  Security Considerations\n   The security considerations specified in [RFC2205],\
    \ [RFC4860], and\n   [RFC5559] apply to this document.  In addition, [RFC4230]\
    \ and\n   [RFC6411] provide useful guidance on RSVP security mechanisms.\n   Security\
    \ within a PCN-domain is fundamentally based on the controlled\n   environment\
    \ trust assumption stated in Section 6.3.1 of [RFC5559] --\n   in particular,\
    \ that all PCN-nodes are PCN-enabled and are trusted to\n   perform accurate PCN-metering\
    \ and PCN-marking.\n   In the PCN-domain environments addressed by this document,\
    \ Generic\n   Aggregate RSVP messages specified in [RFC4860] are used for support\n\
    \   of the PCN Controlled Load (CL) and Single Marking (SM) edge\n   behaviors\
    \ over a Diffserv cloud using Pre-Congestion Notification.\n   Hence, the security\
    \ mechanisms discussed in [RFC4860] are applicable.\n   Specifically, the INTEGRITY\
    \ object [RFC2747] [RFC3097] can be used to\n   provide hop-by-hop RSVP message\
    \ integrity, node authentication, and\n   replay protection, thereby protecting\
    \ against corruption and spoofing\n   of RSVP messages and PCN feedback conveyed\
    \ by RSVP messages.\n   For these reasons, this document does not introduce significant\n\
    \   additional security considerations beyond those discussed in\n   [RFC5559]\
    \ and [RFC4860].\n"
- title: 6.  IANA Considerations
  contents:
  - "6.  IANA Considerations\n   IANA has modified the \"Class Names, Class Numbers,\
    \ and Class Types\"\n   subregistry of the \"Resource Reservation Protocol (RSVP)\
    \ Parameters\"\n   registry, to add a new Class Number and assign four new C-Types\
    \ under\n   this new Class Number, as described below; see Section 4.1:\n   Class\n\
    \   Number   Class Name                                  Reference\n   -------\
    \  ----------------------                      -------------\n   248      PCN\
    \                                         RFC 7417\n   Class Types or C-Types\
    \ - 248 PCN\n   Value    Description                        Reference\n   ------\
    \   ------------------------------     ------------\n   1        RSVP-AGGREGATE-IPv4-PCN-request\
    \    RFC 7417\n   2        RSVP-AGGREGATE-IPv6-PCN-request    RFC 7417\n   3 \
    \       RSVP-AGGREGATE-IPv4-PCN-response   RFC 7417\n   4        RSVP-AGGREGATE-IPv6-PCN-response\
    \   RFC 7417\n"
- title: 7.  References
  contents:
  - '7.  References

    '
- title: 7.1.  Normative References
  contents:
  - "7.1.  Normative References\n   [RFC2119]  Bradner, S., \"Key words for use in\
    \ RFCs to Indicate\n              Requirement Levels\", BCP 14, RFC 2119, March\
    \ 1997,\n              <http://www.rfc-editor.org/info/rfc2119>.\n   [RFC2205]\
    \  Braden, R., Ed., Zhang, L., Berson, S., Herzog, S., and S.\n              Jamin,\
    \ \"Resource ReSerVation Protocol (RSVP) -- Version 1\n              Functional\
    \ Specification\", RFC 2205, September 1997,\n              <http://www.rfc-editor.org/info/rfc2205>.\n\
    \   [RFC3140]  Black, D., Brim, S., Carpenter, B., and F. Le Faucheur,\n     \
    \         \"Per Hop Behavior Identification Codes\", RFC 3140,\n             \
    \ June 2001, <http://www.rfc-editor.org/info/rfc3140>.\n   [RFC3175]  Baker, F.,\
    \ Iturralde, C., Le Faucheur, F., and B. Davie,\n              \"Aggregation of\
    \ RSVP for IPv4 and IPv6 Reservations\",\n              RFC 3175, September 2001,\n\
    \              <http://www.rfc-editor.org/info/rfc3175>.\n   [RFC4495]  Polk,\
    \ J. and S. Dhesikan, \"A Resource Reservation Protocol\n              (RSVP)\
    \ Extension for the Reduction of Bandwidth of a\n              Reservation Flow\"\
    , RFC 4495, May 2006,\n              <http://www.rfc-editor.org/info/rfc4495>.\n\
    \   [RFC4860]  Le Faucheur, F., Davie, B., Bose, P., Christou, C., and M.\n  \
    \            Davenport, \"Generic Aggregate Resource ReSerVation\n           \
    \   Protocol (RSVP) Reservations\", RFC 4860, May 2007,\n              <http://www.rfc-editor.org/info/rfc4860>.\n\
    \   [RFC5670]  Eardley, P., Ed., \"Metering and Marking Behaviour of\n       \
    \       PCN-Nodes\", RFC 5670, November 2009,\n              <http://www.rfc-editor.org/info/rfc5670>.\n\
    \   [RFC6660]  Briscoe, B., Moncaster, T., and M. Menth, \"Encoding Three\n  \
    \            Pre-Congestion Notification (PCN) States in the IP Header\n     \
    \         Using a Single Diffserv Codepoint (DSCP)\", RFC 6660,\n            \
    \  July 2012, <http://www.rfc-editor.org/info/rfc6660>.\n   [RFC6661]  Charny,\
    \ A., Huang, F., Karagiannis, G., Menth, M., and T.\n              Taylor, Ed.,\
    \ \"Pre-Congestion Notification (PCN) Boundary-\n              Node Behavior for\
    \ the Controlled Load (CL) Mode of\n              Operation\", RFC 6661, July\
    \ 2012,\n              <http://www.rfc-editor.org/info/rfc6661>.\n   [RFC6662]\
    \  Charny, A., Zhang, J., Karagiannis, G., Menth, M., and T.\n              Taylor,\
    \ Ed., \"Pre-Congestion Notification (PCN) Boundary-\n              Node Behavior\
    \ for the Single Marking (SM) Mode of\n              Operation\", RFC 6662, July\
    \ 2012,\n              <http://www.rfc-editor.org/info/rfc6662>.\n   [RFC6663]\
    \  Karagiannis, G., Taylor, T., Chan, K., Menth, M., and P.\n              Eardley,\
    \ \"Requirements for Signaling of Pre-Congestion\n              Information in\
    \ a Diffserv Domain\", RFC 6663, July 2012,\n              <http://www.rfc-editor.org/info/rfc6663>.\n"
- title: 7.2.  Informative References
  contents:
  - "7.2.  Informative References\n   [RFC1633]  Braden, R., Clark, D., and S. Shenker,\
    \ \"Integrated\n              Services in the Internet Architecture: an Overview\"\
    ,\n              RFC 1633, June 1994,\n              <http://www.rfc-editor.org/info/rfc1633>.\n\
    \   [RFC2211]  Wroclawski, J., \"Specification of the Controlled-Load\n      \
    \        Network Element Service\", RFC 2211, September 1997,\n              <http://www.rfc-editor.org/info/rfc2211>.\n\
    \   [RFC2212]  Shenker, S., Partridge, C., and R. Guerin, \"Specification\n  \
    \            of Guaranteed Quality of Service\", RFC 2212,\n              September\
    \ 1997, <http://www.rfc-editor.org/info/rfc2212>.\n   [RFC2474]  Nichols, K.,\
    \ Blake, S., Baker, F., and D. Black,\n              \"Definition of the Differentiated\
    \ Services Field (DS\n              Field) in the IPv4 and IPv6 Headers\", RFC\
    \ 2474,\n              December 1998, <http://www.rfc-editor.org/info/rfc2474>.\n\
    \   [RFC2475]  Blake, S., Black, D., Carlson, M., Davies, E., Wang, Z.,\n    \
    \          and W. Weiss, \"An Architecture for Differentiated\n              Services\"\
    , RFC 2475, December 1998,\n              <http://www.rfc-editor.org/info/rfc2475>.\n\
    \   [RFC2747]  Baker, F., Lindell, B., and M. Talwar, \"RSVP Cryptographic\n \
    \             Authentication\", RFC 2747, January 2000,\n              <http://www.rfc-editor.org/info/rfc2747>.\n\
    \   [RFC2753]  Yavatkar, R., Pendarakis, D., and R. Guerin, \"A Framework\n  \
    \            for Policy-based Admission Control\", RFC 2753,\n              January\
    \ 2000, <http://www.rfc-editor.org/info/rfc2753>.\n   [RFC2998]  Bernet, Y., Ford,\
    \ P., Yavatkar, R., Baker, F., Zhang, L.,\n              Speer, M., Braden, R.,\
    \ Davie, B., Wroclawski, J., and E.\n              Felstaine, \"A Framework for\
    \ Integrated Services Operation\n              over Diffserv Networks\", RFC 2998,\
    \ November 2000,\n              <http://www.rfc-editor.org/info/rfc2998>.\n  \
    \ [RFC3097]  Braden, R. and L. Zhang, \"RSVP Cryptographic\n              Authentication\
    \ -- Updated Message Type Value\", RFC 3097,\n              April 2001, <http://www.rfc-editor.org/info/rfc3097>.\n\
    \   [RFC4230]  Tschofenig, H. and R. Graveman, \"RSVP Security\n             \
    \ Properties\", RFC 4230, December 2005,\n              <http://www.rfc-editor.org/info/rfc4230>.\n\
    \   [RFC4923]  Baker, F. and P. Bose, \"Quality of Service (QoS) Signaling\n \
    \             in a Nested Virtual Private Network\", RFC 4923,\n             \
    \ August 2007, <http://www.rfc-editor.org/info/rfc4923>.\n   [RFC5559]  Eardley,\
    \ P., Ed., \"Pre-Congestion Notification (PCN)\n              Architecture\",\
    \ RFC 5559, June 2009,\n              <http://www.rfc-editor.org/info/rfc5559>.\n\
    \   [RFC6411]  Behringer, M., Le Faucheur, F., and B. Weis,\n              \"\
    Applicability of Keying Methods for RSVP Security\",\n              RFC 6411,\
    \ October 2011,\n              <http://www.rfc-editor.org/info/rfc6411>.\n   [RSVP-PCN-CL]\n\
    \              Le Faucheur, F., Charny, A., Briscoe, B., Eardley, P.,\n      \
    \        Babiarz, J., and K. Chan, \"RSVP Extensions for Admission\n         \
    \     Control over Diffserv using Pre-congestion Notification\n              (PCN)\"\
    , Work in Progress, draft-lefaucheur-rsvp-ecn-01,\n              June 2006.\n"
- title: Appendix A.  Example Signaling Flow
  contents:
  - "Appendix A.  Example Signaling Flow\n   This appendix is based on Appendix A\
    \ of [RFC4860].  In particular, it\n   provides an example signaling flow of the\
    \ specifications detailed in\n   Sections 3 and 4.\n   This signaling flow assumes\
    \ an environment where E2E reservations are\n   aggregated over generic aggregate\
    \ RSVP reservations and applied over\n   a PCN-domain.  In particular, the Aggregator\
    \ (PCN-ingress-node) and\n   Deaggregator (PCN-egress-node) are located at the\
    \ boundaries of the\n   PCN-domain.  The PCN-interior-nodes are located within\
    \ the\n   PCN-domain, between the PCN-boundary-nodes, but are not shown in the\n\
    \   diagram below.  It illustrates a possible RSVP message flow that\n   could\
    \ take place in the successful establishment of a unicast E2E\n   reservation\
    \ that is the first between a given Aggregator-Deaggregator\n   pair.\n      \
    \  Aggregator (PCN-ingress-node)     Deaggregator (PCN-egress-node)\n      E2E\
    \ Path\n     ----------->\n                  (1)\n                           \
    \  E2E Path\n                     ------------------------------->\n         \
    \                                                      (2)\n                 \
    \     E2E PathErr(NEW-AGGREGATE-NEEDED,SOI=GApcn)\n                     <----------------------------------------\n\
    \   (3)\n                           AggPath(Session=GApcn)\n                 \
    \    ------------------------------->\n   (4)\n                              \
    \                               E2E Path\n                                   \
    \                         ----------->\n                                     \
    \                    (5)\n                           AggResv (Session=GApcn) (PCN\
    \ object)\n                     <-------------------------------\n   (6)\n   \
    \                    AggResvConfirm (Session=GApcn)\n                     ------------------------------>\n\
    \   (7)\n                                                             E2E Resv\n\
    \                                                            <---------\n    \
    \                                                     (8)\n                  \
    \           E2E Resv (SOI=GApcn)\n                     <-----------------------------\n\
    \                  (9)\n        E2E Resv\n     <-----------\n   (1) The Aggregator\
    \ forwards E2E Path into the aggregation region\n       after modifying its IP\
    \ protocol number to RSVP-E2E-IGNORE.\n   (2) Let's assume that no Aggregate Path\
    \ exists.  To be able to\n       accurately update the ADSPEC of the E2E Path,\
    \ the Deaggregator\n       needs the ADSPEC of Aggregate Path.  In this example,\
    \ the\n       Deaggregator elects to instruct the Aggregator to set up an\n  \
    \     Aggregate Path state for the PCN PHB-ID.  To do that, the\n       Deaggregator\
    \ sends an E2E PathErr message with a\n       NEW-AGGREGATE-NEEDED PathErr code.\n\
    \       The PathErr message also contains a SESSION-OF-INTEREST (SOI)\n      \
    \ object.  The SOI contains a GENERIC-AGGREGATE SESSION (GApcn)\n       whose\
    \ PHB-ID is set to the PCN PHB-ID.  The GENERIC-AGGREGATE\n       SESSION contains\
    \ an interface-independent Deaggregator address\n       inside the DestAddress\
    \ and appropriate values inside the vDstPort\n       and Extended vDstPort fields.\
    \  In this document, the Extended\n       vDstPort SHOULD contain the IPv4 or\
    \ IPv6 address of the\n       Aggregator.\n   (3) The Aggregator follows the request\
    \ from the Deaggregator and\n       signals an Aggregate Path for the GENERIC-AGGREGATE\
    \ SESSION\n       (GApcn).\n   (4) The Deaggregator takes into account the information\
    \ contained in\n       the ADSPEC from both Aggregate Paths and updates the E2E\
    \ Path\n       ADSPEC accordingly.  The PCN-egress-node MUST NOT perform the\n\
    \       RSVP-TTL vs. IP TTL-check and MUST NOT update the ADSPEC Break\n     \
    \  bit.  This is because the whole PCN-domain is effectively handled\n       by\
    \ E2E RSVP as a virtual link on which integrated service is\n       indeed supported\
    \ (and admission control performed) so that the\n       Break bit MUST NOT be\
    \ set; see also [RSVP-PCN-CL].  The\n       Deaggregator also modifies the E2E\
    \ Path IP protocol number to\n       RSVP before forwarding it.\n   (5) In this\
    \ example, the Deaggregator elects to immediately proceed\n       with establishment\
    \ of the generic aggregate reservation.  In\n       effect, the Deaggregator can\
    \ be seen as anticipating the actual\n       demand of E2E reservations so that\
    \ the generic aggregate\n       reservation is in place when the E2E Resv request\
    \ arrives, in\n       order to speed up establishment of E2E reservations.  Here\
    \ it is\n       also assumed that the Deaggregator includes the optional\n   \
    \    ResvConfirm Request in the Aggregate Resv message.\n   (6) The Aggregator\
    \ merely complies with the received ResvConfirm\n       Request and returns the\
    \ corresponding Aggregate ResvConfirm.\n   (7) The Deaggregator has explicit confirmation\
    \ that the generic\n       aggregate reservation is established.\n   (8) On receipt\
    \ of the E2E Resv, the Deaggregator applies the mapping\n       policy defined\
    \ by the network administrator to map the E2E Resv\n       onto a generic aggregate\
    \ reservation.  Let's assume that this\n       policy is such that the E2E reservation\
    \ is to be mapped onto the\n       generic aggregate reservation with the PCN\
    \ PHB-ID=x.  After the\n       previous step (7), the Deaggregator knows that\
    \ a generic\n       aggregate reservation (GApcn) is in place for the corresponding\n\
    \       PHB-ID.  At this step, the Deaggregator maps the generic\n       aggregate\
    \ reservation onto one ingress-egress-aggregate\n       maintained by the Deaggregator\
    \ (as a PCN-egress-node); see\n       Section 3.7.  The Deaggregator performs\
    \ admission control of the\n       E2E Resv onto the generic aggregate reservation\
    \ for the PCN\n       PHB-ID (GApcn).  The Deaggregator also takes into account\
    \ the PCN\n       admission control procedure as specified in [RFC6661] and\n\
    \       [RFC6662]; see Section 3.7.  If one or both of the admission\n       control\
    \ procedures (the PCN-based admission control procedure\n       described in Section\
    \ 3.3.1 of [RFC6661] or [RFC6662], and the\n       admission control procedure\
    \ specified in [RFC4860]) are not\n       successful, then the E2E Resv is not\
    \ admitted onto the associated\n       RSVP generic aggregate reservation for\
    \ the PCN PHB-ID (GApcn).\n       Otherwise, assuming that the generic aggregate\
    \ reservation for\n       the PCN (GApcn) had been established with sufficient\
    \ bandwidth to\n       support the E2E Resv, the Deaggregator adjusts its counter,\n\
    \       tracking the unused bandwidth on the generic aggregate\n       reservation.\
    \  Then it forwards the E2E Resv to the Aggregator,\n       including a SESSION-OF-INTEREST\
    \ object conveying the selected\n       mapping onto GApcn (and hence onto the\
    \ PCN PHB-ID).\n   (9) The Aggregator records the mapping of the E2E Resv onto\
    \ GApcn\n       (and onto the PCN PHB-ID).  The Aggregator removes the SOI object\n\
    \       and forwards the E2E Resv towards the sender.\n"
- title: Acknowledgments
  contents:
  - "Acknowledgments\n   We would like to thank the authors of [RSVP-PCN-CL], since\
    \ some ideas\n   used in this document are based on the work initiated in\n  \
    \ [RSVP-PCN-CL].  Moreover, we would like to thank Bob Briscoe, David\n   Black,\
    \ Ken Carlberg, Tom Taylor, Philip Eardley, Michael Menth, Toby\n   Moncaster,\
    \ James Polk, Scott Bradner, Lixia Zhang, and Robert Sparks\n   for the provided\
    \ comments.  In particular, we would like to thank\n   Francois Le Faucheur for\
    \ contributing a significant amount of text,\n   in addition to his comments.\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Georgios Karagiannis\n   Huawei Technologies\n   Hansaallee\
    \ 205\n   40549 Dusseldorf\n   Germany\n   EMail: Georgios.Karagiannis@huawei.com\n\
    \   Anurag Bhargava\n   Cisco Systems, Inc.\n   7100-9 Kit Creek Road\n   PO Box\
    \ 14987\n   Research Triangle Park, NC  27709-4987\n   United States\n   EMail:\
    \ anuragb@cisco.com\n"
