- title: __initial_text__
  contents:
  - '        A One-Way Loss Metric for IP Performance Metrics (IPPM)

    '
- title: Abstract
  contents:
  - "Abstract\n   This memo defines a metric for one-way loss of packets across\n\
    \   Internet paths.  It builds on notions introduced and discussed in the\n  \
    \ IP Performance Metrics (IPPM) Framework document, RFC 2330; the\n   reader is\
    \ assumed to be familiar with that document.  This memo makes\n   RFC 2680 obsolete.\n"
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This is an Internet Standards Track document.\n   This\
    \ document is a product of the Internet Engineering Task Force\n   (IETF).  It\
    \ represents the consensus of the IETF community.  It has\n   received public\
    \ review and has been approved for publication by the\n   Internet Engineering\
    \ Steering Group (IESG).  Further information on\n   Internet Standards is available\
    \ in Section 2 of RFC 5741.\n   Information about the current status of this document,\
    \ any errata,\n   and how to provide feedback on it may be obtained at\n   http://www.rfc-editor.org/info/rfc7680.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (c) 2016 IETF Trust and the persons identified\
    \ as the\n   document authors.  All rights reserved.\n   This document is subject\
    \ to BCP 78 and the IETF Trust's Legal\n   Provisions Relating to IETF Documents\n\
    \   (http://trustee.ietf.org/license-info) in effect on the date of\n   publication\
    \ of this document.  Please review these documents\n   carefully, as they describe\
    \ your rights and restrictions with respect\n   to this document.  Code Components\
    \ extracted from this document must\n   include Simplified BSD License text as\
    \ described in Section 4.e of\n   the Trust Legal Provisions and are provided\
    \ without warranty as\n   described in the Simplified BSD License.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1.  Introduction  . . . . . . . . . . . . . . . . . . .\
    \ . . . . .   4\n     1.1.  Motivation  . . . . . . . . . . . . . . . . . . .\
    \ . . . .   5\n     1.2.  General Issues regarding Time . . . . . . . . . . .\
    \ . . .   6\n   2.  A Singleton Definition for One-Way Packet Loss  . . . . .\
    \ . .   7\n     2.1.  Metric Name . . . . . . . . . . . . . . . . . . . . . .\
    \ .   7\n     2.2.  Metric Parameters . . . . . . . . . . . . . . . . . . . .\
    \   7\n     2.3.  Metric Units  . . . . . . . . . . . . . . . . . . . . . .  \
    \ 7\n     2.4.  Definition  . . . . . . . . . . . . . . . . . . . . . . .   7\n\
    \     2.5.  Discussion  . . . . . . . . . . . . . . . . . . . . . . .   8\n  \
    \   2.6.  Methodologies . . . . . . . . . . . . . . . . . . . . . .   9\n    \
    \ 2.7.  Errors and Uncertainties  . . . . . . . . . . . . . . . .  10\n     2.8.\
    \  Reporting the Metric  . . . . . . . . . . . . . . . . . .  11\n       2.8.1.\
    \  Type-P  . . . . . . . . . . . . . . . . . . . . . . .  11\n       2.8.2.  Loss\
    \ Threshold  . . . . . . . . . . . . . . . . . . .  11\n       2.8.3.  Calibration\
    \ Results . . . . . . . . . . . . . . . . .  11\n       2.8.4.  Path  . . . .\
    \ . . . . . . . . . . . . . . . . . . . .  12\n   3.  A Definition for Samples\
    \ of One-Way Packet Loss . . . . . . .  12\n     3.1.  Metric Name . . . . . .\
    \ . . . . . . . . . . . . . . . . .  12\n     3.2.  Metric Parameters . . . .\
    \ . . . . . . . . . . . . . . . .  13\n     3.3.  Metric Units  . . . . . . .\
    \ . . . . . . . . . . . . . . .  13\n     3.4.  Definition  . . . . . . . . .\
    \ . . . . . . . . . . . . . .  13\n     3.5.  Discussion  . . . . . . . . . .\
    \ . . . . . . . . . . . . .  13\n     3.6.  Methodologies . . . . . . . . . .\
    \ . . . . . . . . . . . .  14\n     3.7.  Errors and Uncertainties  . . . . .\
    \ . . . . . . . . . . .  15\n     3.8.  Reporting the Metric  . . . . . . . .\
    \ . . . . . . . . . .  15\n   4.  Some Statistics Definitions for One-Way Packet\
    \ Loss . . . . .  15\n     4.1.  Type-P-One-way-Packet-Loss-Ratio  . . . . . .\
    \ . . . . . .  15\n   5.  Security Considerations . . . . . . . . . . . . . .\
    \ . . . . .  16\n   6.  Changes from RFC 2680 . . . . . . . . . . . . . . . .\
    \ . . . .  17\n   7.  References  . . . . . . . . . . . . . . . . . . . . . .\
    \ . . .  19\n     7.1.  Normative References  . . . . . . . . . . . . . . . .\
    \ . .  19\n     7.2.  Informative References  . . . . . . . . . . . . . . . .\
    \ .  20\n   Acknowledgements  . . . . . . . . . . . . . . . . . . . . . . . .\
    \  21\n   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  22\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   This memo defines a metric for one-way packet loss across\
    \ Internet\n   paths.  It builds on notions introduced and discussed in the IPPM\n\
    \   Framework document, [RFC2330]; the reader is assumed to be familiar\n   with\
    \ that document and its recent update [RFC7312].\n   This memo is intended to\
    \ be parallel in structure to a companion\n   document for One-way Delay (\"A\
    \ One-Way Delay Metric for IP\n   Performance Metrics (IPPM)\") [RFC7679]; the\
    \ reader is assumed to be\n   familiar with that document.\n   The key words \"\
    MUST\", \"MUST NOT\", \"REQUIRED\", \"SHALL\", \"SHALL NOT\",\n   \"SHOULD\",\
    \ \"SHOULD NOT\", \"RECOMMENDED\", \"MAY\", and \"OPTIONAL\" in this\n   document\
    \ are to be interpreted as described in [RFC2119].  Although\n   [RFC2119] was\
    \ written with protocols in mind, the key words are used\n   in this document\
    \ for similar reasons.  They are used to ensure the\n   results of measurements\
    \ from two different implementations are\n   comparable and to note instances\
    \ when an implementation could perturb\n   the network.\n   Whenever a technical\
    \ term from the IPPM Framework document is first\n   used in this memo, it will\
    \ be tagged with a trailing asterisk.  For\n   example, \"term*\" indicates that\
    \ \"term\" is defined in the Framework\n   document.\n   The structure of the\
    \ memo is as follows:\n   o  A 'singleton*' analytic metric, called Type-P-One-way-Packet-Loss,\n\
    \      is introduced to measure a single observation of packet\n      transmission\
    \ or loss.\n   o  Using this singleton metric, a 'sample*' called Type-P-One-way-\n\
    \      Packet-Loss-Poisson-Stream is introduced to measure a sequence of\n   \
    \   singleton transmissions and/or losses measured at times taken from\n     \
    \ a Poisson process, as defined in Section 11.1.1 of [RFC2330].\n   o  Using this\
    \ sample, several 'statistics*' of the sample will be\n      defined and discussed.\n\
    \   This progression from singleton to sample to statistics, with clear\n   separation\
    \ among them, is important.\n"
- title: 1.1.  Motivation
  contents:
  - "1.1.  Motivation\n   Understanding one-way packet loss of Type-P* packets from\
    \ a source\n   host* to a destination host is useful for several reasons:\n  \
    \ o  Some applications do not perform well (or at all) if end-to-end\n      loss\
    \ between hosts is large relative to some threshold value.\n   o  Excessive packet\
    \ loss may make it difficult to support certain\n      real-time applications\
    \ (where the precise threshold of \"excessive\"\n      depends on the application).\n\
    \   o  The larger the value of packet loss, the more difficult it is for\n   \
    \   transport-layer protocols to sustain high bandwidths.\n   o  The sensitivity\
    \ of real-time applications and of transport-layer\n      protocols to loss become\
    \ especially important when very large\n      delay-bandwidth products must be\
    \ supported.\n   The measurement of one-way loss instead of round-trip loss is\n\
    \   motivated by the following factors:\n   o  In today's Internet, the path from\
    \ a source to a destination may\n      be different than the path from the destination\
    \ back to the source\n      (\"asymmetric paths\"), such that different sequences\
    \ of routers are\n      used for the forward and reverse paths.  Therefore, round-trip\n\
    \      measurements actually measure the performance of two distinct\n      paths\
    \ together.  Measuring each path independently highlights the\n      performance\
    \ difference between the two paths that may traverse\n      different Internet\
    \ service providers and even radically different\n      types of networks (for\
    \ example, research versus commodity\n      networks, or networks with asymmetric\
    \ link capacities, or wireless\n      versus wireline access).\n   o  Even when\
    \ the two paths are symmetric, they may have radically\n      different performance\
    \ characteristics due to asymmetric queuing.\n   o  Performance of an application\
    \ may depend mostly on the performance\n      in one direction.  For example,\
    \ a TCP-based communication will\n      experience reduced throughput if congestion\
    \ occurs in one\n      direction of its communication.  Troubleshooting may be\
    \ simplified\n      if the congested direction of TCP transmission can be identified.\n\
    \   o  In networks in which quality of service (QoS) is enabled,\n      provisioning\
    \ in one direction may be radically different than\n      provisioning in the\
    \ reverse direction and thus the QoS guarantees\n      differ.  Measuring the\
    \ paths independently allows the verification\n      of both guarantees.\n   It\
    \ is outside the scope of this document to say precisely how loss\n   metrics\
    \ would be applied to specific problems.\n"
- title: 1.2.  General Issues regarding Time
  contents:
  - "1.2.  General Issues regarding Time\n   {Comment: The terminology below differs\
    \ from that defined by ITU-T\n   documents (e.g., G.810, \"Definitions and terminology\
    \ for\n   synchronization networks\" and I.356, \"B-ISDN ATM layer cell transfer\n\
    \   performance\") but is consistent with the IPPM Framework document.  In\n \
    \  general, these differences derive from the different backgrounds; the\n   ITU-T\
    \ documents historically have a telephony origin, while the\n   authors of this\
    \ document (and the Framework document) have a computer\n   systems background.\
    \  Although the terms defined below have no direct\n   equivalent in the ITU-T\
    \ definitions, after our definitions we will\n   provide a rough mapping.  However,\
    \ note one potential confusion: our\n   definition of \"clock\" is the computer\
    \ operating systems definition\n   denoting a time-of-day clock, while the ITU-T\
    \ definition of clock\n   denotes a frequency reference.}\n   Whenever a time\
    \ (i.e., a moment in history) is mentioned here, it is\n   understood to be measured\
    \ in seconds (and fractions) relative to UTC.\n   As described more fully in the\
    \ Framework document, there are four\n   distinct, but related notions of clock\
    \ uncertainty:\n   synchronization*\n   measures the extent to which two clocks\
    \ agree on what time it is.\n   For example, the clock on one host might be 5.4\
    \ msec ahead of the\n   clock on a second host. {Comment: A rough ITU-T equivalent\
    \ is \"time\n   error\".}\n   accuracy*\n   measures the extent to which a given\
    \ clock agrees with UTC.  For\n   example, the clock on a host might be 27.1 msec\
    \ behind UTC. {Comment:\n   A rough ITU-T equivalent is \"time error from UTC\"\
    .}\n   resolution*\n   is a specification of the smallest unit by which the clock's\
    \ time is\n   updated.  It gives a lower bound on the clock's uncertainty.  For\n\
    \   example, the clock on an old Unix host might tick only once every 10\n   msec\
    \ and thus have a resolution of only 10 msec. {Comment: A very\n   rough ITU-T\
    \ equivalent is \"sampling period\".}\n   skew*\n   measures the change of accuracy,\
    \ or of synchronization, with time.\n   For example, the clock on a given host\
    \ might gain 1.3 msec per hour\n   and thus be 27.1 msec behind UTC at one time\
    \ and only 25.8 msec an\n   hour later.  In this case, we say that the clock of\
    \ the given host\n   has a skew of 1.3 msec per hour relative to UTC, which threatens\n\
    \   accuracy.  We might also speak of the skew of one clock relative to\n   another\
    \ clock, which threatens synchronization. {Comment: A rough\n   ITU-T equivalent\
    \ is \"time drift\".}\n"
- title: 2.  A Singleton Definition for One-Way Packet Loss
  contents:
  - '2.  A Singleton Definition for One-Way Packet Loss

    '
- title: 2.1.  Metric Name
  contents:
  - "2.1.  Metric Name\n   Type-P-One-way-Packet-Loss\n"
- title: 2.2.  Metric Parameters
  contents:
  - "2.2.  Metric Parameters\n   o  Src, the IP address of a host\n   o  Dst, the\
    \ IP address of a host\n   o  T, a time\n   o  Tmax, a loss threshold waiting\
    \ time\n"
- title: 2.3.  Metric Units
  contents:
  - "2.3.  Metric Units\n   The value of a Type-P-One-way-Packet-Loss is either a\
    \ zero\n   (signifying successful transmission of the packet) or a one\n   (signifying\
    \ loss).\n"
- title: 2.4.  Definition
  contents:
  - "2.4.  Definition\n   >>The *Type-P-One-way-Packet-Loss* from Src to Dst at T\
    \ is 0<< means\n   that Src sent the first bit of a Type-P packet to Dst at wire\
    \ time* T\n   and that Dst received that packet.\n   >>The *Type-P-One-way-Packet-Loss*\
    \ from Src to Dst at T is 1<< means\n   that Src sent the first bit of a Type-P\
    \ packet to Dst at wire time T\n   and that Dst did not receive that packet (within\
    \ the loss threshold\n   waiting time, Tmax).\n"
- title: 2.5.  Discussion
  contents:
  - "2.5.  Discussion\n   Thus, Type-P-One-way-Packet-Loss is 0 exactly when Type-P-One-way-\n\
    \   Delay is a finite value, and it is 1 exactly when Type-P-One-way-\n   Delay\
    \ is undefined.\n   The following issues are likely to come up in practice:\n\
    \   o  A given methodology will have to include a way to distinguish\n      between\
    \ a packet loss and a very large (but finite) delay.  As\n      noted by Mahdavi\
    \ and Paxson [RFC2678], simple upper bounds (such\n      as the 255-second theoretical\
    \ upper bound on the lifetimes of IP\n      packets [RFC791]) could be used, but\
    \ good engineering, including\n      an understanding of packet lifetimes, will\
    \ be needed in practice.\n      {Comment: Note that, for many applications of\
    \ these metrics, there\n      may be no harm in treating a large delay as packet\
    \ loss.  An audio\n      playback packet, for example, that arrives only after\
    \ the playback\n      point may as well have been lost.  See Section 4.1.1 of\
    \ [RFC6703]\n      for examination of unusual packet delays and application\n\
    \      performance estimation.}\n   o  If the packet arrives but is corrupted,\
    \ then it is counted as\n      lost. {Comment: One is tempted to count the packet\
    \ as received\n      since corruption and packet loss are related but distinct\n\
    \      phenomena.  If the IP header is corrupted, however, one cannot be\n   \
    \   sure about the source or destination IP addresses and is thus on\n      shaky\
    \ grounds about knowing that the corrupted received packet\n      corresponds\
    \ to a given sent test packet.  Similarly, if other\n      parts of the packet\
    \ needed by the methodology to know that the\n      corrupted received packet\
    \ corresponds to a given sent test packet,\n      then such a packet would have\
    \ to be counted as lost.  It would be\n      inconsistent to count packets with\
    \ corrupted methodology-specific\n      fields as lost, and not to count packets\
    \ with other corrupted\n      aspects in the same category.} Section 15 of [RFC2330]\
    \ defines the\n      \"standard-formed\" packet that is applicable to all metrics.\
    \  Note\n      that at this time the definition of standard-formed packets only\n\
    \      applies to IPv4 (see also [IPPM-UPDATES]).\n   o  If the packet is duplicated\
    \ along the path (or paths) so that\n      multiple non-corrupt copies arrive\
    \ at the destination, then the\n      packet is counted as received.\n   o  If\
    \ the packet is fragmented and if, for whatever reason,\n      reassembly does\
    \ not occur, then the packet will be deemed lost.\n"
- title: 2.6.  Methodologies
  contents:
  - "2.6.  Methodologies\n   As with other Type-P-* metrics, the detailed methodology\
    \ will depend\n   on the Type-P (e.g., protocol number, UDP/TCP port number, size,\n\
    \   Differentiated Services (DS) Field [RFC2780]).\n   Generally, for a given\
    \ Type-P, one possible methodology would proceed\n   as follows:\n   o  Arrange\
    \ that Src and Dst have clocks that are synchronized with\n      each other. \
    \ The degree of synchronization is a parameter of the\n      methodology and depends\
    \ on the threshold used to determine loss\n      (see below).\n   o  At the Src\
    \ host, select Src and Dst IP addresses and form a test\n      packet of Type-P\
    \ with these addresses.\n   o  At the Dst host, arrange to receive the packet.\n\
    \   o  At the Src host, place a timestamp in the prepared Type-P packet,\n   \
    \   and send it towards Dst (ideally minimizing time before sending).\n   o  If\
    \ the packet arrives within a reasonable period of time, the one-\n      way packet\
    \ loss is taken to be zero (and take a timestamp as soon\n      as possible upon\
    \ the receipt of the packet).\n   o  If the packet fails to arrive within a reasonable\
    \ period of time,\n      Tmax, the one-way packet loss is taken to be one.  Note\
    \ that the\n      threshold of \"reasonable\" here is a parameter of the metric.\n\
    \   {Comment: The definition of reasonable is intentionally vague and is\n   intended\
    \ to indicate a value \"Th\" so large that any value in the\n   closed interval\
    \ [Th-delta, Th+delta] is an equivalent threshold for\n   loss.  Here, delta encompasses\
    \ all error in clock synchronization and\n   timestamp acquisition and assignment\
    \ along the measured path.  If\n   there is a single value, Tmax, after which\
    \ the packet must be counted\n   as lost, then we reintroduce the need for a degree\
    \ of clock\n   synchronization similar to that needed for one-way delay, and\n\
    \   virtually all practical measurement systems combine methods for delay\n  \
    \ and loss.  Therefore, if a measure of packet loss parameterized by a\n   specific\
    \ non-huge \"reasonable\" time-out value is needed, one can\n   always measure\
    \ one-way delay and see what percentage of packets from\n   a given stream exceed\
    \ a given time-out value.  This point is examined\n   in detail in [RFC6703],\
    \ including analysis preferences to assign\n   undefined delay to packets that\
    \ fail to arrive with the difficulties\n   emerging from the informal \"infinite\
    \ delay\" assignment, and an\n   estimation of an upper bound on waiting time\
    \ for packets in transit.\n   Further, enforcing a specific constant waiting time\
    \ on stored\n   singletons of one-way delay is compliant with this specification\
    \ and\n   may allow the results to serve more than one reporting audience.}\n\
    \   Issues such as the packet format, the means by which Dst knows when\n   to\
    \ expect the test packet, and the means by which Src and Dst are\n   synchronized\
    \ are outside the scope of this document. {Comment: We\n   plan to document the\
    \ implementation techniques of our work in much\n   more detail elsewhere; we\
    \ encourage others to do so as well.}\n"
- title: 2.7.  Errors and Uncertainties
  contents:
  - "2.7.  Errors and Uncertainties\n   The description of any specific measurement\
    \ method should include an\n   accounting and analysis of various sources of error\
    \ or uncertainty.\n   The Framework document provides general guidance on this\
    \ point.\n   For loss, there are three sources of error:\n   o  synchronization\
    \ between clocks on Src and Dst.\n   o  the packet-loss threshold (which is related\
    \ to the synchronization\n      between clocks).\n   o  resource limits in the\
    \ network interface or software on the\n      receiving instrument.\n   The first\
    \ two sources are interrelated and could result in a test\n   packet with finite\
    \ delay being reported as lost.  Type-P-One-way-\n   Packet-Loss is 1 if the test\
    \ packet does not arrive, or if it does\n   arrive and the difference between\
    \ the Src timestamp and the Dst\n   timestamp is greater than the \"reasonable\
    \ period of time\" or loss\n   threshold.  If the clocks are not sufficiently\
    \ synchronized, the loss\n   threshold may not be \"reasonable\" - the packet\
    \ may take much less\n   time to arrive than its Src timestamp indicates.  Similarly,\
    \ if the\n   loss threshold is set too low, then many packets may be counted as\n\
    \   lost.  The loss threshold must be high enough and the clocks\n   synchronized\
    \ well enough so that a packet that arrives is rarely\n   counted as lost.  (See\
    \ the discussions in the previous two sections.)\n   Since the sensitivity of\
    \ packet-loss measurement alone to lack of\n   clock synchronization is less than\
    \ for delay, we refer the reader to\n   the treatment of synchronization errors\
    \ in the \"One-way Delay Metric\n   for IPPM\" [RFC2330] for more details.\n \
    \  The last source of error, resource limits, cause the packet to be\n   dropped\
    \ by the measurement instrument and counted as lost when in\n   fact the network\
    \ delivered the packet in reasonable time.\n   The measurement instruments should\
    \ be calibrated such that the loss\n   threshold is reasonable for application\
    \ of the metrics and the clocks\n   are synchronized enough so the loss threshold\
    \ remains reasonable.\n   In addition, the instruments should be checked to ensure\
    \ that the\n   possibility a packet arrives at the network interface but is lost\
    \ due\n   to congestion on the interface or to other resource exhaustion (e.g.,\n\
    \   buffers) on the instrument is low.\n"
- title: 2.8.  Reporting the Metric
  contents:
  - "2.8.  Reporting the Metric\n   The calibration and context in which the metric\
    \ is measured MUST be\n   carefully considered and SHOULD always be reported along\
    \ with metric\n   results.  We now present four items to consider: Type-P of the\
    \ test\n   packets, the loss threshold, instrument calibration, and the path\n\
    \   traversed by the test packets.  This list is not exhaustive; any\n   additional\
    \ information that could be useful in interpreting\n   applications of the metrics\
    \ should also be reported (see [RFC6703]\n   for extensive discussion of reporting\
    \ considerations for different\n   audiences).\n"
- title: 2.8.1.  Type-P
  contents:
  - "2.8.1.  Type-P\n   As noted in Section 13 of the Framework document [RFC2330],\
    \ the value\n   of the metric may depend on the type of IP packets used to make\
    \ the\n   measurement, or \"Type-P\".  The value of Type-P-One-way-Delay could\n\
    \   change if the protocol (UDP or TCP), port number, size, or\n   arrangement\
    \ for special treatment (e.g., IP DS Field [RFC2780],\n   Explicit Congestion\
    \ Notification (ECN) [RFC3168], or RSVP) changes.\n   Additional packet distinctions\
    \ identified in future extensions of the\n   Type-P definition will apply.  The\
    \ exact Type-P used to make the\n   measurements MUST be accurately reported.\n"
- title: 2.8.2.  Loss Threshold
  contents:
  - "2.8.2.  Loss Threshold\n   The threshold, Tmax, between a large finite delay\
    \ and loss (or other\n   methodology to distinguish between finite delay and loss)\
    \ MUST be\n   reported.\n"
- title: 2.8.3.  Calibration Results
  contents:
  - "2.8.3.  Calibration Results\n   The degree of synchronization between the Src\
    \ and Dst clocks MUST be\n   reported.  If possible, a test packet that arrives\
    \ at the Dst network\n   interface and is reported as lost due to resource exhaustion\
    \ on Dst\n   SHOULD be reported.\n"
- title: 2.8.4.  Path
  contents:
  - "2.8.4.  Path\n   Finally, the path traversed by the packet SHOULD be reported,\
    \ if\n   possible.  In general, it is impractical to know the precise path a\n\
    \   given packet takes through the network.  The precise path may be\n   known\
    \ for certain Type-P on short or stable paths.  If Type-P\n   includes the record\
    \ route (or loose-source route) option in the IP\n   header, and the path is short\
    \ enough, and all routers* on the path\n   support record (or loose-source) route,\
    \ then the path will be\n   precisely recorded.  This is impractical because the\
    \ route must be\n   short enough, many routers do not support (or are not configured\
    \ for)\n   record route, and use of this feature would often artificially worsen\n\
    \   the performance observed by removing the packet from common-case\n   processing.\
    \  However, partial information is still valuable context.\n   For example, if\
    \ a host can choose between two links* (and hence, two\n   separate routes from\
    \ Src to Dst), then the initial link used is\n   valuable context. {Comment: Backbone\
    \ path selection services come and\n   go.  A historical example was Merit's NetNow\
    \ setup, where a Src on\n   one Network Access Point (NAP) can reach a Dst on\
    \ another NAP by\n   either of several different backbone networks.}\n"
- title: 3.  A Definition for Samples of One-Way Packet Loss
  contents:
  - "3.  A Definition for Samples of One-Way Packet Loss\n   Given the singleton metric\
    \ Type-P-One-way-Packet-Loss, we now define\n   one particular sample of such\
    \ singletons.  The idea of the sample is\n   to select a particular binding of\
    \ the parameters Src, Dst, and Type-\n   P, then define a sample of values of\
    \ parameter T.  The means for\n   defining the values of T is to select a beginning\
    \ time T0, a final\n   time Tf, and an average rate lambda, then define a pseudorandom\n\
    \   Poisson process of rate lambda, whose values fall between T0 and Tf.\n   The\
    \ time interval between successive values of T will then average 1/\n   lambda.\n\
    \   Note that Poisson sampling is only one way of defining a sample.\n   Poisson\
    \ has the advantage of limiting bias, but other methods of\n   sampling will be\
    \ appropriate for different situations.  For example,\n   a truncated Poisson\
    \ distribution may be needed to avoid reactive\n   network state changes during\
    \ intervals of inactivity, see Section 4.6\n   of [RFC7312].  Sometimes the goal\
    \ is sampling with a known bias, and\n   [RFC3432] describes a method for periodic\
    \ sampling with random start\n   times.\n"
- title: 3.1.  Metric Name
  contents:
  - "3.1.  Metric Name\n   Type-P-One-way-Packet-Loss-Poisson-Stream\n"
- title: 3.2.  Metric Parameters
  contents:
  - "3.2.  Metric Parameters\n   o  Src, the IP address of a host\n   o  Dst, the\
    \ IP address of a host\n   o  T0, a time\n   o  Tf, a time\n   o  Tmax, a loss\
    \ threshold waiting time\n   o  lambda, a rate in reciprocal seconds\n"
- title: 3.3.  Metric Units
  contents:
  - "3.3.  Metric Units\n   A sequence of pairs; the elements of each pair are:\n\
    \   o  T, a time, and\n   o  L, either a zero or a one.\n   The values of T in\
    \ the sequence are monotonic increasing.  Note that\n   T would be a valid parameter\
    \ to Type-P-One-way-Packet-Loss and that L\n   would be a valid value of Type-P-One-way-Packet-Loss.\n"
- title: 3.4.  Definition
  contents:
  - "3.4.  Definition\n   Given T0, Tf, and lambda, we compute a pseudorandom Poisson\
    \ process\n   beginning at or before T0, with average arrival rate lambda, and\n\
    \   ending at or after Tf.  Those time values greater than or equal to T0\n  \
    \ and less than or equal to Tf are then selected.  At each of the\n   selected\
    \ times in this process, we obtain one value of Type-P-One-\n   way-Delay.  The\
    \ value of the sample is the sequence made up of the\n   resulting <time, loss>\
    \ pairs.  If there are no such pairs, the\n   sequence is of length zero and the\
    \ sample is said to be empty.\n"
- title: 3.5.  Discussion
  contents:
  - "3.5.  Discussion\n   The reader should be familiar with the in-depth discussion\
    \ of Poisson\n   sampling in the Framework document [RFC2330], which includes\
    \ methods\n   to compute and verify the pseudorandom Poisson process.\n   We specifically\
    \ do not constrain the value of lambda except to note\n   the extremes.  If the\
    \ rate is too large, then the measurement traffic\n   will perturb the network\
    \ and itself cause congestion.  If the rate is\n   too small, then you might not\
    \ capture interesting network behavior.\n   {Comment: We expect to document our\
    \ experiences with, and suggestions\n   for, lambda elsewhere, culminating in\
    \ a \"Best Current Practice\"\n   document.}\n   Since a pseudorandom number sequence\
    \ is employed, the sequence of\n   times, and hence the value of the sample, is\
    \ not fully specified.\n   Pseudorandom number generators of good quality will\
    \ be needed to\n   achieve the desired qualities.\n   The sample is defined in\
    \ terms of a Poisson process both to avoid the\n   effects of self-synchronization\
    \ and also capture a sample that is\n   statistically as unbiased as possible.\
    \  The Poisson process is used\n   to schedule the loss measurements.  The test\
    \ packets will generally\n   not arrive at Dst according to a Poisson distribution,\
    \ since they are\n   influenced by the network.  Time-slotted links described\
    \ in\n   Section 3.4 [RFC7312] can greatly modify the sample characteristics.\n\
    \   The main concern is that unbiased packet streams with randomized\n   inter-packet\
    \ time intervals will be converted to some new\n   distribution after encountering\
    \ a time-slotted link, possibly with\n   strong periodic characteristics instead.\n\
    \   {Comment: there is, of course, no claim that real Internet traffic\n   arrives\
    \ according to a Poisson arrival process.\n   It is important to note that, in\
    \ contrast to this metric, loss ratios\n   observed by transport connections do\
    \ not reflect unbiased samples.\n   For example, TCP transmissions both (1) occur\
    \ in bursts, which can\n   induce loss due to the burst volume that would not\
    \ otherwise have\n   been observed, and (2) adapt their transmission rate in an\
    \ attempt to\n   minimize the loss ratio observed by the connection.}\n   All\
    \ the singleton Type-P-One-way-Packet-Loss metrics in the sequence\n   will have\
    \ the same values of Src, Dst, and Type-P.\n   Note also that, given one sample\
    \ that runs from T0 to Tf, and given\n   new time values T0' and Tf' such that\
    \ T0 <= T0' <= Tf' <= Tf, the\n   subsequence of the given sample whose time values\
    \ fall between T0'\n   and Tf' are also a valid Type-P-One-way-Packet-Loss-Poisson-Stream\n\
    \   sample.\n"
- title: 3.6.  Methodologies
  contents:
  - "3.6.  Methodologies\n   The methodologies follow directly from:\n   o  the selection\
    \ of specific times using the specified Poisson\n      arrival process, and\n\
    \   o  the methodologies discussion already given for the singleton Type-\n  \
    \    P-One-way-Packet-Loss metric.\n   Care must be given to correctly handle\
    \ out-of-order arrival of test\n   packets; it is possible that the Src could\
    \ send one test packet at\n   TS[i], then send a second one (later) at TS[i+1]\
    \ while the Dst could\n   receive the second test packet at TR[i+1], and then\
    \ receive the first\n   one (later) at TR[i].  Metrics for reordering may be found\
    \ in\n   [RFC4737].\n"
- title: 3.7.  Errors and Uncertainties
  contents:
  - "3.7.  Errors and Uncertainties\n   In addition to sources of errors and uncertainties\
    \ associated with\n   methods employed to measure the singleton values that make\
    \ up the\n   sample, care must be given to analyze the accuracy of the Poisson\n\
    \   arrival process of the wire times of the sending of the test packets.\n  \
    \ Problems with this process could be caused by several things,\n   including\
    \ problems with the pseudorandom number techniques used to\n   generate the Poisson\
    \ arrival process.  The Framework document shows\n   how to use the Anderson-Darling\
    \ test to verify the accuracy of the\n   Poisson process over small time frames.\
    \ {Comment: The goal is to\n   ensure that the test packets are sent \"close enough\"\
    \ to a Poisson\n   schedule and avoid periodic behavior.}\n"
- title: 3.8.  Reporting the Metric
  contents:
  - "3.8.  Reporting the Metric\n   The calibration and context for the underlying\
    \ singletons MUST be\n   reported along with the stream (see \"Reporting the Metric\"\
    \n   (Section 2.8) for Type-P-One-way-Packet-Loss).\n"
- title: 4.  Some Statistics Definitions for One-Way Packet Loss
  contents:
  - "4.  Some Statistics Definitions for One-Way Packet Loss\n   Given the sample\
    \ metric Type-P-One-way-Packet-Loss-Poisson-Stream, we\n   now offer several statistics\
    \ of that sample.  These statistics are\n   offered mostly to be illustrative\
    \ of what could be done.  See\n   [RFC6703] for additional discussion of statistics\
    \ that are relevant\n   to different audiences.\n"
- title: 4.1.  Type-P-One-way-Packet-Loss-Ratio
  contents:
  - "4.1.  Type-P-One-way-Packet-Loss-Ratio\n   Given a Type-P-One-way-Packet-Loss-Poisson-Stream,\
    \ the average of all\n   the L values in the stream is the ratio of losses to\
    \ total packets in\n   the stream.  In addition, the Type-P-One-way-Packet-Loss-Ratio\
    \ is\n   undefined if the sample is empty.\n   For example, suppose we take a\
    \ sample and the results are as follows:\n   Stream1 = <\n   <T1, 0>\n   <T2,\
    \ 0>\n   <T3, 1>\n   <T4, 0>\n   <T5, 0>\n   >\n   Then, the average of loss results\
    \ would be 0.2, the loss ratio.\n   Note that, since healthy Internet paths should\
    \ be operating at loss\n   ratios below 1% (particularly if high delay-bandwidth\
    \ products are to\n   be sustained), the sample sizes needed might be larger than\
    \ one would\n   like.  Thus, for example, if one wants to discriminate between\n\
    \   various fractions of 1% over one-minute periods, then several hundred\n  \
    \ samples per minute might be needed.  This would result in larger\n   values\
    \ of lambda than one would ordinarily want.\n   Note that although the loss threshold\
    \ should be set such that any\n   errors in loss are not significant, if the possibility\
    \ that a packet\n   that arrived is counted as lost due to resource exhaustion\
    \ is\n   significant compared to the loss ratio of interest, Type-P-One-way-\n\
    \   Packet-Loss-Ratio will be meaningless.\n"
- title: 5.  Security Considerations
  contents:
  - "5.  Security Considerations\n   Conducting Internet measurements raises both\
    \ security and privacy\n   concerns.  This memo does not specify an implementation\
    \ of the\n   metrics, so it does not directly affect the security of the Internet\n\
    \   nor of applications that run on the Internet.  However,\n   implementations\
    \ of these metrics must be mindful of security and\n   privacy concerns.\n   There\
    \ are two types of security concerns: potential harm caused by\n   the measurements\
    \ and potential harm to the measurements.  The\n   measurements could cause harm\
    \ because they are active and inject\n   packets into the network.  The measurement\
    \ parameters MUST be\n   carefully selected so that the measurements inject trivial\
    \ amounts of\n   additional traffic into the networks they measure.  If they inject\n\
    \   \"too much\" traffic, they can skew the results of the measurement and\n \
    \  in extreme cases cause congestion and denial of service.\n   The measurements\
    \ themselves could be harmed by routers giving\n   measurement traffic a different\
    \ priority than \"normal\" traffic or by\n   an attacker injecting artificial\
    \ measurement traffic.  If routers can\n   recognize measurement traffic and treat\
    \ it separately, the\n   measurements will not reflect actual user traffic.  If\
    \ an attacker\n   injects artificial traffic that is accepted as legitimate, the\
    \ loss\n   ratio will be artificially lowered.  Therefore, the measurement\n \
    \  methodologies SHOULD include appropriate techniques to reduce the\n   probability\
    \ that measurement traffic can be distinguished from\n   \"normal\" traffic. \
    \ Authentication techniques, such as digital\n   signatures, may be used where\
    \ appropriate to guard against injected\n   traffic attacks.\n   When considering\
    \ privacy of those involved in measurement or those\n   whose traffic is measured,\
    \ the sensitive information available to\n   potential observers is greatly reduced\
    \ when using active techniques\n   that are within this scope of work.  Passive\
    \ observations of user\n   traffic for measurement purposes raise many privacy\
    \ issues.  We refer\n   the reader to the privacy considerations described in\
    \ the Large Scale\n   Measurement of Broadband Performance (LMAP) Framework [RFC7594],\n\
    \   which covers active and passive techniques.\n   Collecting measurements or\
    \ using measurement results for\n   reconnaissance to assist in subsequent system\
    \ attacks is quite\n   common.  Access to measurement results or control of the\
    \ measurement\n   systems to perform reconnaissance should be guarded against.\
    \  See\n   Section 7 of [RFC7594] (the Security Considerations section of the\n\
    \   LMAP Framework) for system requirements that help to avoid\n   measurement\
    \ system compromise.\n"
- title: 6.  Changes from RFC 2680
  contents:
  - "6.  Changes from RFC 2680\n   The text above constitutes a revision to RFC 2680,\
    \ which is now an\n   Internet Standard.\n   [RFC7290] provides the test plan\
    \ and results supporting [RFC2680]\n   advancement along the Standards Track,\
    \ according to the process in\n   [RFC6576].  The conclusions of [RFC7290] list\
    \ four minor\n   modifications for inclusion:\n   1.  Section 6.2.3 of [RFC7290]\
    \ asserts that the assumption of post-\n       processing to enforce a constant\
    \ waiting time threshold is\n       compliant and that the text of the RFC should\
    \ be revised slightly\n       to include this point.  The applicability of post-processing\
    \ was\n       added in the last list item of Section 2.6, above.\n   2.  Section\
    \ 6.5 of [RFC7290] indicates that the Type-P-One-way-\n       Packet-Loss-Average\
    \ statistic is more commonly called a Packet\n       Loss Ratio, so it is renamed\
    \ in this document (this small\n       discrepancy does not affect candidacy for\
    \ advancement).  The\n       renaming was implemented in Section 4.1, above.\n\
    \   3.  The IETF has reached consensus on guidance for reporting metrics\n   \
    \    in [RFC6703], and the memo is referenced this document to\n       incorporate\
    \ recent experience where appropriate.  This reference\n       was added in the\
    \ last list item of Section 2.6, in Section 2.8,\n       and in Section 4 above.\n\
    \   4.  There are currently two errata with status \"Verified\" (EID 1528)\n \
    \      and \"Held for Document Update\" (EID 3186) for [RFC2680], and\n      \
    \ these minor revisions were incorporated in Sections 1 and 2.7.\n   A number\
    \ of updates to the [RFC2680] text have been implemented in\n   the text to reference\
    \ key IPPM RFCs that were approved after\n   [RFC2680] (see Sections 3 and 3.6,\
    \ above) and to address comments on\n   the IPPM mailing list describing current\
    \ conditions and experience.\n   1.   Near the end of Section 1.1, there is an\
    \ update of a network\n        example using ATM, a clarification of TCP's affect\
    \ on queue\n        occupation, and discussion of the importance of one-way delay\n\
    \        measurement.\n   2.   Clarification of the definition of \"resolution\"\
    \ in Section 1.2.\n   3.   Explicit inclusion of the maximum waiting time input\
    \ parameter\n        in Sections 2.2, 2.4, and 3.2, reflecting recognition of\
    \ this\n        parameter in more recent RFCs and ITU-T Recommendation Y.1540.\n\
    \   4.   Addition of a reference to RFC 6703 in the discussion of packet\n   \
    \     lifetime and application timeouts in Section 2.5.\n   5.   Replaced \"precedence\"\
    \ with updated terminology (DS Field) in\n        Sections 2.6 and 2.8.1 (with\
    \ reference).\n   6.   Added parenthetical guidance on minimizing the interval\
    \ between\n        timestamp placement to send time or reception time in\n   \
    \     Section 2.6.  Also, the text now recognizes the timestamp\n        acquisition\
    \ process and that practical systems measure both\n        delay and loss (thus\
    \ requiring the max waiting time parameter).\n   7.   Added a reference to RFC\
    \ 3432 regarding periodic sampling\n        alongside Poisson sampling in Section\
    \ 3 and also noted that a\n        truncated Poisson distribution may be needed\
    \ with modern\n        networks as described in the IPPM Framework update [RFC7312].\n\
    \   8.   Recognition that time-slotted links described in [RFC7312] can\n    \
    \    greatly modify the sample characteristics, in Section 3.5.\n   9.   Added\
    \ a reference to RFC 4737 regarding reordering metrics in\n        the related\
    \ discussion of Section 3.6, \"Methodologies\".\n   10.  Expanded and updated\
    \ the material on privacy and added cautions\n        on use of measurements for\
    \ reconnaissance in Section 5,\n        \"Security Considerations\".\n   Section\
    \ 5.4.4 of [RFC6390] suggests a common template for performance\n   metrics partially\
    \ derived from previous IPPM and Benchmarking\n   Methodology Working Group (BMWG)\
    \ RFCs, but it also contains some new\n   items.  All of the normative parts of\
    \ [RFC6390] are covered, but not\n   quite in the same section names or orientation.\
    \  Several of the\n   informative parts are covered.  Maintaining the familiar\
    \ outline of\n   IPPM literature has value and minimizes unnecessary differences\n\
    \   between this revised RFC and current/future IPPM RFCs.\n"
- title: 7.  References
  contents:
  - '7.  References

    '
- title: 7.1.  Normative References
  contents:
  - "7.1.  Normative References\n   [RFC791]   Postel, J., \"Internet Protocol\",\
    \ STD 5, RFC 791,\n              DOI 10.17487/RFC0791, September 1981,\n     \
    \         <http://www.rfc-editor.org/info/rfc791>.\n   [RFC2119]  Bradner, S.,\
    \ \"Key words for use in RFCs to Indicate\n              Requirement Levels\"\
    , BCP 14, RFC 2119,\n              DOI 10.17487/RFC2119, March 1997,\n       \
    \       <http://www.rfc-editor.org/info/rfc2119>.\n   [RFC2330]  Paxson, V., Almes,\
    \ G., Mahdavi, J., and M. Mathis,\n              \"Framework for IP Performance\
    \ Metrics\", RFC 2330,\n              DOI 10.17487/RFC2330, May 1998,\n      \
    \        <http://www.rfc-editor.org/info/rfc2330>.\n   [RFC2678]  Mahdavi, J.\
    \ and V. Paxson, \"IPPM Metrics for Measuring\n              Connectivity\", RFC\
    \ 2678, DOI 10.17487/RFC2678, September\n              1999, <http://www.rfc-editor.org/info/rfc2678>.\n\
    \   [RFC2680]  Almes, G., Kalidindi, S., and M. Zekauskas, \"A One-way\n     \
    \         Packet Loss Metric for IPPM\", RFC 2680,\n              DOI 10.17487/RFC2680,\
    \ September 1999,\n              <http://www.rfc-editor.org/info/rfc2680>.\n \
    \  [RFC2780]  Bradner, S. and V. Paxson, \"IANA Allocation Guidelines For\n  \
    \            Values In the Internet Protocol and Related Headers\",\n        \
    \      BCP 37, RFC 2780, DOI 10.17487/RFC2780, March 2000,\n              <http://www.rfc-editor.org/info/rfc2780>.\n\
    \   [RFC3432]  Raisanen, V., Grotefeld, G., and A. Morton, \"Network\n       \
    \       performance measurement with periodic streams\", RFC 3432,\n         \
    \     DOI 10.17487/RFC3432, November 2002,\n              <http://www.rfc-editor.org/info/rfc3432>.\n\
    \   [RFC6576]  Geib, R., Ed., Morton, A., Fardid, R., and A. Steinmitz,\n    \
    \          \"IP Performance Metrics (IPPM) Standard Advancement\n            \
    \  Testing\", BCP 176, RFC 6576, DOI 10.17487/RFC6576, March\n              2012,\
    \ <http://www.rfc-editor.org/info/rfc6576>.\n   [RFC7312]  Fabini, J. and A. Morton,\
    \ \"Advanced Stream and Sampling\n              Framework for IP Performance Metrics\
    \ (IPPM)\", RFC 7312,\n              DOI 10.17487/RFC7312, August 2014,\n    \
    \          <http://www.rfc-editor.org/info/rfc7312>.\n   [RFC7679]  Almes, G.,\
    \ Kalidindi, S., Zekauskas, M., and A. Morton,\n              Ed., \"A One-Way\
    \ Delay Metric for IP Performance Metrics\n              (IPPM)\", STD 81, RFC\
    \ 7679, DOI 10.17487/RFC7679, January\n              2016, <http://www.rfc-editor.org/info/rfc7679>.\n"
- title: 7.2.  Informative References
  contents:
  - "7.2.  Informative References\n   [IPPM-UPDATES]\n              Morton, A., Fabini,\
    \ J., Elkins, N., Ackermann, M., and V.\n              Hegde, \"Updates for IPPM's\
    \ Active Metric Framework:\n              Packets of Type-P and Standard-Formed\
    \ Packets\", Work in\n              Progress, draft-morton-ippm-2330-stdform-typep-02,\n\
    \              December 2015.\n   [RFC3168]  Ramakrishnan, K., Floyd, S., and\
    \ D. Black, \"The Addition\n              of Explicit Congestion Notification\
    \ (ECN) to IP\",\n              RFC 3168, DOI 10.17487/RFC3168, September 2001,\n\
    \              <http://www.rfc-editor.org/info/rfc3168>.\n   [RFC4737]  Morton,\
    \ A., Ciavattone, L., Ramachandran, G., Shalunov,\n              S., and J. Perser,\
    \ \"Packet Reordering Metrics\", RFC 4737,\n              DOI 10.17487/RFC4737,\
    \ November 2006,\n              <http://www.rfc-editor.org/info/rfc4737>.\n  \
    \ [RFC6390]  Clark, A. and B. Claise, \"Guidelines for Considering New\n     \
    \         Performance Metric Development\", BCP 170, RFC 6390,\n             \
    \ DOI 10.17487/RFC6390, October 2011,\n              <http://www.rfc-editor.org/info/rfc6390>.\n\
    \   [RFC6703]  Morton, A., Ramachandran, G., and G. Maguluri, \"Reporting\n  \
    \            IP Network Performance Metrics: Different Points of View\",\n   \
    \           RFC 6703, DOI 10.17487/RFC6703, August 2012,\n              <http://www.rfc-editor.org/info/rfc6703>.\n\
    \   [RFC7290]  Ciavattone, L., Geib, R., Morton, A., and M. Wieser, \"Test\n \
    \             Plan and Results for Advancing RFC 2680 on the Standards\n     \
    \         Track\", RFC 7290, DOI 10.17487/RFC7290, July 2014,\n              <http://www.rfc-editor.org/info/rfc7290>.\n\
    \   [RFC7594]  Eardley, P., Morton, A., Bagnulo, M., Burbridge, T.,\n        \
    \      Aitken, P., and A. Akhter, \"A Framework for Large-Scale\n            \
    \  Measurement of Broadband Performance (LMAP)\", RFC 7594,\n              DOI\
    \ 10.17487/RFC7594, September 2015,\n              <http://www.rfc-editor.org/info/rfc7594>.\n"
- title: Acknowledgements
  contents:
  - "Acknowledgements\n   For [RFC2680], thanks are due to Matt Mathis for encouraging\
    \ this\n   work and for calling attention on so many occasions to the\n   significance\
    \ of packet loss.  Thanks are due also to Vern Paxson for\n   his valuable comments\
    \ on early drafts and to Garry Couch and Will\n   Leland for several useful suggestions.\n\
    \   For this document, thanks to Joachim Fabini, Ruediger Geib, Nalini\n   Elkins,\
    \ and Barry Constantine for sharing their measurement\n   experience as part of\
    \ their careful reviews.  Brian Carpenter and\n   Scott Bradner provided useful\
    \ feedback at IETF Last Call.\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Guy Almes\n   Texas A&M\n   Email: almes@acm.org\n   Sunil\
    \ Kalidindi\n   Ixia\n   Email: skalidindi@ixiacom.com\n   Matt Zekauskas\n  \
    \ Internet2\n   Email: matt@internet2.edu\n   Al Morton (editor)\n   AT&T Labs\n\
    \   200 Laurel Avenue South\n   Middletown, NJ  07748\n   United States\n   Phone:\
    \ +1 732 420 1571\n   Fax:   +1 732 368 1192\n   Email: acmorton@att.com\n   URI:\
    \   http://home.comcast.net/~acmacm/\n"
