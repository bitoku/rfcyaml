- title: __initial_text__
  contents:
  - '    IS-IS Extensions Supporting IEEE 802.1aq Shortest Path Bridging

    '
- title: Abstract
  contents:
  - "Abstract\n   802.1aq Shortest Path Bridging (SPB) has been standardized by the\n\
    \   IEEE as the next step in the evolution of the various spanning tree\n   and\
    \ registration protocols.  802.1aq allows for true shortest path\n   forwarding\
    \ in a mesh Ethernet network context utilizing multiple\n   equal cost paths.\
    \  This permits it to support much larger Layer 2\n   topologies, with faster\
    \ convergence, and vastly improved use of the\n   mesh topology.  Combined with\
    \ this is single point provisioning for\n   logical connectivity membership, which\
    \ includes point-to-point,\n   point-to-multipoint, and multipoint-to-multipoint\
    \ variations.  This\n   memo documents the IS-IS changes required to support this\
    \ IEEE\n   protocol and provides some context and examples.\n"
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This is an Internet Standards Track document.\n   This\
    \ document is a product of the Internet Engineering Task Force\n   (IETF).  It\
    \ represents the consensus of the IETF community.  It has\n   received public\
    \ review and has been approved for publication by the\n   Internet Engineering\
    \ Steering Group (IESG).  Further information on\n   Internet Standards is available\
    \ in Section 2 of RFC 5741.\n   Information about the current status of this document,\
    \ any errata,\n   and how to provide feedback on it may be obtained at\n   http://www.rfc-editor.org/info/rfc6329.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (c) 2012 IETF Trust and the persons identified\
    \ as the\n   document authors.  All rights reserved.\n   This document is subject\
    \ to BCP 78 and the IETF Trust's Legal\n   Provisions Relating to IETF Documents\n\
    \   (http://trustee.ietf.org/license-info) in effect on the date of\n   publication\
    \ of this document.  Please review these documents\n   carefully, as they describe\
    \ your rights and restrictions with respect\n   to this document.  Code Components\
    \ extracted from this document must\n   include Simplified BSD License text as\
    \ described in Section 4.e of\n   the Trust Legal Provisions and are provided\
    \ without warranty as\n   described in the Simplified BSD License.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1. Introduction ....................................................4\n\
    \   2. Terminology .....................................................4\n  \
    \ 3. Conventions Used in This Document ...............................5\n   4.\
    \ 802.1aq Overview ................................................6\n      4.1.\
    \ Multi-Topology Support .....................................8\n      4.2. Data\
    \ Path SPBM - Unicast ...................................8\n      4.3. Data Path\
    \ SPBM - Multicast (Head-End Replication) ..........9\n      4.4. Data Path SPBM\
    \ - Multicast (Tandem Replication) ............9\n      4.5. Data Path SPBV Broadcast\
    \ ..................................11\n      4.6. Data Path SPBV Unicast ....................................11\n\
    \      4.7. Data Path SPBV Multicast ..................................12\n  \
    \ 5. SPBM Example ...................................................12\n   6.\
    \ SPBV Example ...................................................14\n   7. SPB\
    \ Supported Adjacency types ..................................16\n   8. SPB IS-IS\
    \ Adjacency Addressing .................................16\n   9. IS-IS Area Address\
    \ and SYSID ...................................17\n   10. Level 1/2 Adjacency\
    \ ...........................................17\n   11. Shortest Path Default\
    \ Tie-Breaking ............................17\n   12. Shortest Path ECT .............................................18\n\
    \   13. Hello (IIH) Protocol Extensions ...............................19\n  \
    \    13.1. SPB-MCID Sub-TLV .........................................20\n    \
    \  13.2. SPB-Digest Sub-TLV .......................................21\n      13.3.\
    \ SPB Base VLAN Identifiers (SPB-B-VID) Sub-TLV ............23\n   14. Node Information\
    \ Extensions ...................................24\n      14.1. SPB Instance (SPB-Inst)\
    \ Sub-TLV ..........................24\n           14.1.1. SPB Instance Opaque\
    \ ECT-ALGORITHM\n                   (SPB-I-OALG) Sub-TLV ..............................28\n\
    \   15. Adjacency Information Extensions ..............................29\n  \
    \    15.1. SPB Link Metric (SPB-Metric) Sub-TLV .....................29\n    \
    \       15.1.1. SPB Adjacency Opaque ECT-ALGORITHM\n                   (SPB-A-OALG)\
    \ Sub-TLV ..............................30\n   16. Service Information Extensions\
    \ ................................30\n      16.1. SPBM Service Identifier and\
    \ Unicast Address\n            (SPBM-SI) Sub-TLV ........................................30\n\
    \      16.2. SPBV MAC Address (SPBV-ADDR) Sub-TLV .....................32\n  \
    \ 17. Security Considerations .......................................34\n   18.\
    \ IANA Considerations ...........................................34\n   19. References\
    \ ....................................................35\n      19.1. Normative\
    \ References .....................................35\n      19.2. Informative\
    \ References ...................................36\n   20. Acknowledgments ...............................................36\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   802.1aq Shortest Path Bridging (SPB) [802.1aq] has been\
    \ standardized\n   by the IEEE as the next step in the evolution of the various\
    \ spanning\n   tree and registration protocols.  802.1aq allows for true shortest\n\
    \   path forwarding in an Ethernet mesh network context utilizing\n   multiple\
    \ equal cost paths.  This permits SPB to support much larger\n   Layer 2 topologies,\
    \ with faster convergence, and vastly improved use\n   of the mesh topology. \
    \ Combined with this is single point\n   provisioning for logical connectivity\
    \ membership, which includes\n   point-to-point (E-LINE), point-to-multipoint\
    \ (E-TREE), and\n   multipoint-to-multipoint (E-LAN) variations.\n   The control\
    \ protocol for 802.1aq is IS-IS [IS-IS] augmented with a\n   small number of TLVs\
    \ and sub-TLVs.  This supports two Ethernet\n   encapsulating data paths, 802.1ad\
    \ (Provider Bridges) [PB] and 802.1ah\n   (Provider Backbone Bridges) [PBB]. \
    \ This memo documents those TLVs\n   while providing some overview.\n   Note that\
    \ 802.1aq requires no state machine or other substantive\n   changes to [IS-IS].\
    \  802.1aq simply requires a new Network Layer\n   Protocol Identifier (NLPID)\
    \ and set of TLVs.  In the event of\n   confusion between this document and [IS-IS],\
    \ [IS-IS] should be taken\n   as authoritative.\n"
- title: 2.  Terminology
  contents:
  - "2.  Terminology\n   In addition to well-understood IS-IS terms, this memo uses\n\
    \   terminology from IEEE 802.1 and introduces a few terms:\n   802.1ad      \
    \  Provider Bridges (PBs) - Q-in-Q encapsulation\n   802.1ah        Provider Backbone\
    \ Bridges (PBBs), MAC-IN-MAC\n                  encapsulation\n   802.1aq    \
    \    Shortest Path Bridging (SPB)\n   Base VID       VID used to identify a VLAN\
    \ in management operations\n   B-DA           Backbone Destination Address 802.1ah\
    \ PBB\n   B-MAC          Backbone MAC Address\n   B-SA           Backbone Source\
    \ Address in 802.1ah PBB header\n   B-VID          Backbone VLAN ID in 802.1ah\
    \ PBB header\n   B-VLAN         Backbone Virtual LAN\n   BPDU           Bridge\
    \ PDU\n   BridgeID       64-bit quantity = (Bridge Priority:16)<<48 | SYSID:48\n\
    \   BridgePriority 16-bit relative priority of a node for tie-breaking\n   C-MAC\
    \          Customer MAC.  Inner MAC in 802.1ah PBB header\n   C-VID          Customer\
    \ VLAN ID\n   ECT-ALGORITHM  32-bit unique ID of an SPF tie-breaking set of rules\n\
    \   ECT-MASK       64-bit mask XORed with BridgeID during tie-breaking\n   E-LAN\
    \          Bidirectional Logical Connectivity between >2 UNIs\n   E-LINE     \
    \    Bidirectional Logical Connectivity between two UNIs\n   E-TREE         Asymmetric\
    \ Logical Connectivity between UNIs\n   FDB            Filtering Database: {DA/VID}->{next\
    \ hops}\n   I-SID          Ethernet Services Instance Identifier used for\n  \
    \                Logical Grouping for E-LAN/LINE/TREE UNIs\n   LAN           \
    \ Local Area Network\n   LSDB           Link State Database\n   LSP          \
    \  Link State PDU\n   MAC            Media Access Control\n   MAC-IN-MAC     Ethernet\
    \ in Ethernet framing as per 802.1ah [PBB]\n   MDT            Multicast Distribution\
    \ Tree\n   MMRP           Multiple MAC Registration Protocol 802.1ak [MMRP]\n\
    \   MT             Multi-Topology.  As used in [MT]\n   MT ID          Multi-Topology\
    \ Identifier (12 bits).  As used in [MT]\n   NLPID          Network Layer Protocol\
    \ Identifier: IEEE 802.1aq= 0xC1\n   NNI            Network-Network Interface\n\
    \   Q-in-Q         Additional S-VID after a C-VID (802.1ad) [PB]\n   PBB     \
    \       Provider Backbone Bridge - forwards using PBB\n   Ingress Check  Source\
    \ Forwarding Check - drops misdirected frames\n   (S,G)          Source & Group\
    \ - identity of a source-specific tree\n   (*,G)          Any Source & Group -\
    \ identity of a shared tree\n   S-VID          Service VLAN ID\n   SA        \
    \     Source Address\n   SPB            Shortest Path Bridging - generally all\
    \ of 802.1aq\n   SPB            Shortest Path Bridge - device implementing 802.1aq\n\
    \   SPB-instance   Logical SPB instance correlated by MT ID\n   SPBM         \
    \  Device implementing SPB MAC mode\n   SPBV           Device implementing SPB\
    \ VID mode\n   SPSourceID     20-bit identifier of the source of multicast frames\n\
    \   SPT            Shortest Path Tree computed by one ECT-ALGORITHM\n   SPT Region\
    \     A set of SPBs with identical VID usage on their NNIs\n   SPVID         \
    \ Shortest Path VLAN ID: a C-VID or S-VID that\n                  identifies the\
    \ source\n   STP            Spanning Tree Protocol\n   UNI            User-Network\
    \ Interface: customer-to-SPB attach point\n   VID            VLAN ID: 12-bit logical\
    \ identifier after MAC header\n   VLAN           Virtual LAN: a logical network\
    \ in the control plane\n"
- title: 3.  Conventions Used in This Document
  contents:
  - "3.  Conventions Used in This Document\n   The key words \"MUST\", \"MUST NOT\"\
    , \"REQUIRED\", \"SHALL\", \"SHALL NOT\",\n   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\"\
    , \"MAY\", and \"OPTIONAL\" in this\n   document are to be interpreted as described\
    \ in [RFC2119].\n   The lowercase forms with an initial capital \"Must\", \"Must\
    \ Not\",\n   \"Shall\", \"Shall Not\", \"Should\", \"Should Not\", \"May\", and\
    \ \"Optional\"\n   in this document are to be interpreted in the sense defined\
    \ in\n   [RFC2119], but are used where the normative behavior is defined in\n\
    \   documents published by SDOs other than the IETF.\n"
- title: 4.  802.1aq Overview
  contents:
  - "4.  802.1aq Overview\n   This section provides an overview of the behavior of\
    \ [802.1aq] and is\n   not intended to be interpreted as normative text.  For\
    \ the definitive\n   behavior, the reader should consult [802.1aq].  Nonetheless,\n\
    \   lowercase forms with initial capitalization of the conventions in RFC\n  \
    \ 2119 are used in this section to give the reader an indication of the\n   intended\
    \ normative behaviors as above.\n   802.1aq utilizes 802.1Q-based Ethernet bridging.\
    \  The filtering\n   database (FDB) is populated as a consequence of the topology\
    \ computed\n   from the IS-IS database.  For the reader unfamiliar with IEEE\n\
    \   terminology, the definition of Ethernet behavior is almost entirely\n   in\
    \ terms of \"filtering\" (of broadcast traffic) rather than\n   \"forwarding\"\
    \ (the explicit direction of unicast traffic).  This\n   document uses the generic\
    \ term \"forwarding\", and it has to be\n   understood that these two terms simply\
    \ represent different ways of\n   expressing the same behaviors.\n   802.1aq supports\
    \ multiple modes of operation depending on the type of\n   data plane and the\
    \ desired behavior.  For the initial two modes of\n   802.1aq (SPBV and SPBM),\
    \ routes are shortest path, are forward- and\n   reverse-path symmetric with respect\
    \ to any source/destination pair\n   within the SPB domain, and are congruent\
    \ with respect to unicast and\n   multicast.  Hence, the shortest path tree (SPT)\
    \ to a given node is\n   congruent with the multicast distribution tree (MDT)\
    \ from a given\n   node.  The MDT for a given VLAN is a pruned subset of the complete\n\
    \   MDT for a given node that is identical to its SPT.  Symmetry and\n   congruency\
    \ preserve packet ordering and proper fate sharing of\n   Operations, Administration,\
    \ and Maintenance (OAM) flows by the\n   forwarding path.  Such modes are fully\
    \ supported by existing\n   [802.1ag] and [Y.1731] OAM mechanisms.\n   VLANs provide\
    \ a natural delineation of service instances.  802.1aq\n   supports two modes,\
    \ SPB VID (SPBV) and SPB MAC (SPBM).  In SPBV,\n   multiple VLANS can be used\
    \ to distribute load on different shortest\n   path trees (each computed by a\
    \ different tie-breaking rule) on a\n   service basis.  In SPBM, service instances\
    \ are delineated by I-SIDs\n   but VLANs again can be used to distribute load\
    \ on different shortest\n   path trees.\n   There are two encapsulation methods\
    \ supported.  SPBM can be used in a\n   PBB network implementing PBB (802.1ah\
    \ [PBB]) encapsulation.  SPBV can\n   be used in PB networks implementing VLANs,\
    \ PB (802.1aq [PB]), or PBB\n   encapsulation.  The two modes can co-exist simultaneously\
    \ in an SPB\n   network.\n   The practical design goals for SPBV and SPBM in the\
    \ current 802.1aq\n   specification are networks of size 100 nodes and 1000 nodes\n\
    \   respectively.  However, since SPBV can be sparsely used in an SPB\n   region\
    \ it can simply span a large SPB region with a small number of\n   SPVIDs.\n \
    \  In SPBM and SPBV each bridge has at least one unique \"known\" MAC\n   address\
    \ which is advertised by IS-IS in the SYSID.\n   In the forwarding plane, SPBM\
    \ uses the combination of one or more\n   B-VIDs and \"known\" Backbone-MAC (B-MAC)\
    \ addresses that have been\n   advertised in IS-IS.  The term Backbone simply\
    \ implies an\n   encapsulation that is often used in the backbone networks, but\
    \ the\n   encapsulation is useful in other types of networks where hiding\n  \
    \ C-MACs is useful.\n   The SPBM filtering database (FDB) is computed and installed\
    \ for\n   unicast and multicast MAC addresses, while the SPBV filtering\n   database\
    \ is computed and installed for unidirectional VIDs (referred\n   to as SPVIDs),\
    \ after which MAC reachability is learned (exactly as in\n   bridged Ethernet)\
    \ for unicast MACs.\n   Both SPBV and SPBM use source-specific multicast trees.\
    \  If they\n   share the same ECT-ALGORITHM (32-bit worldwide unique definition\
    \ of\n   the computation), the tree is the same SPT.  For SPBV, (S,G) is\n   encoded\
    \ by a source-specific VID (the SPVID) and a standard Group MAC\n   address. \
    \ For SPBM, (S,G) is encoded in the destination B-MAC address\n   as the concatenation\
    \ of a 20-bit SPB wide unique nodal nickname\n   (referred to as the SPSourceID)\
    \ and the 24-bit I-SID together with\n   the B-VID that corresponds to the ECT-ALGORITHM\
    \ network wide.\n   802.1aq supports membership attributes that are advertised\
    \ with the\n   I-SID (SPBM) or Group Address (SPBV) that defines the group.\n\
    \   Individual members can be transmitters (T) and/or receivers (R)\n   within\
    \ the group, and the multicast state is appropriately sized to\n   these requests.\
    \  Multicast group membership is possible even without\n   transmit membership\
    \ by performing head-end replication to the\n   receivers thereby eliminating\
    \ transit multicast state entirely.\n   Some highly connected mesh networks provide\
    \ for path diversity by\n   offering multiple equal cost alternatives between\
    \ nodes.  Since\n   congruency and symmetry Must be honored, a single tree may\
    \ leave some\n   links under-utilized.  By using different deterministic tie-breakers,\n\
    \   up to 16 shortest paths of arbitrary diversity are possible between\n   any\
    \ pair of nodes.  This distributes the traffic on a VLAN basis.\n   SPBV and SPBM\
    \ May share a single SPT with a single ECT-ALGORITHM or\n   use any combination\
    \ of the 16 ECT-ALGORITHMs.  An extensible\n   framework permits additional or\
    \ alternative algorithms with other\n   properties and parameters (e.g., ECMP,\
    \ (*,G)) to also be supported\n   without any changes in this or the IEEE documents.\n"
- title: 4.1.  Multi-Topology Support
  contents:
  - "4.1.  Multi-Topology Support\n   SPB incorporates the multi topology features\
    \ of [MT] thereby allowing\n   multiple logical SPB instances within a single\
    \ IS-IS instance.\n   To accomplish this, all SPB-related information is either\
    \ explicitly\n   or implicitly associated with a Multi-Topology Identifier (MT\
    \ ID).\n   SPB information related to a given MT ID thus forms a single logical\n\
    \   SPB instance.\n   Since SPB has its own adjacency metrics and those metrics\
    \ are also\n   associated with an MT ID, it is possible to have different adjacency\n\
    \   metrics (or infinite metrics) for SPB adjacencies that are not only\n   distinct\
    \ from IP or other NLPIDs riding in this IS-IS instance, but\n   also distinct\
    \ from those used by other SPB instances in the same\n   IS-IS instance.\n   Data\
    \ plane traffic for a given MT ID is intrinsically isolated by the\n   VLANs assigned\
    \ to the SPB instance in question.  Therefore, VLANs\n   (represented by VIDs\
    \ in TLVs and in the data plane) Must Not overlap\n   between SPB instances (regardless\
    \ of how the control planes are\n   isolated).\n   The [MT] mechanism when applied\
    \ to SPB allows different routing\n   metrics and topology subsets for different\
    \ classes of services.\n   The use of [MT] other than the default MT ID #0 is\
    \ completely\n   OPTIONAL.\n   The use of [MT] to separate SPB from other NLPIDs\
    \ is also OPTIONAL.\n"
- title: 4.2.  Data Path SPBM - Unicast
  contents:
  - "4.2.  Data Path SPBM - Unicast\n   Unicast frames in SPBM are encapsulated as\
    \ per 802.1ah [PBB].  A\n   Backbone Source Address (B-SA), Backbone Destination\
    \ Address (B-DA),\n   Backbone VLAN ID (B-VID), and an I-Component Service Instance\
    \ ID\n   (I-TAG) are used to encapsulate the Ethernet frame.  The B-SA is a\n\
    \   B-MAC associated with the ingress 802.1aq bridge, usually the \"known\"\n\
    \   B-MAC of that entire bridge.  The B-DA is one of the \"known\" B-MACs\n  \
    \ associated with the egress 802.1aq bridge.  The B-VID and I-TAG are\n   mapped\
    \ based on the physical or logical UNI port (untagged, or tagged\n   either by\
    \ S-TAG or C-TAG) being bridged.  Normal learning and\n   broadcast to unknown\
    \ C-MACs is applied as per [PBB] at the\n   ingress/egress SPBs only.\n   Unlike\
    \ [PBB] on a (*,G) tree, the B-DA forwarding on tandem nodes\n   (NNI to NNI)\
    \ is performed without learning.  Instead, the output of\n   802.1aq computations,\
    \ based on the TLVs specified in this document,\n   is used to populate the filtering\
    \ databases (FDBs).  The FDB entries\n   map {B-DA, B-VID} to an outgoing interface\
    \ and are only populated\n   from the IS-IS database and computations.\n   The\
    \ B-SA/B-VID is checked on tandem nodes against the ingress port.\n   If the B-SA/B-VID\
    \ (as a destination) entry in the FDB does not point\n   to the port on which\
    \ the packet arrived, the packet is discarded.\n   This is referred to as an ingress\
    \ check and serves as a very powerful\n   loop mitigation mechanism.\n"
- title: 4.3.  Data Path SPBM - Multicast (Head-End Replication)
  contents:
  - "4.3.  Data Path SPBM - Multicast (Head-End Replication)\n   Head-end replication\
    \ is supported for instances where there is a\n   sparse community of interest\
    \ or a low likelihood of multicast\n   traffic.  Head-end replication requires\
    \ no multicast state in the\n   core.  A UNI port wishing to use head-end replication\
    \ Must Not\n   advertise its I-SID membership with the Transmit (T) bit set but\n\
    \   instead Must locally and dynamically construct the appropriate\n   unicast\
    \ serial replication to all the other receivers (Receive (R)\n   bit set) of the\
    \ same I-SID.\n   When an unknown customer unicast or a multicast frame arrives\
    \ at an\n   SPBM User-Network Interface (UNI) port that has been configured to\n\
    \   replicate only at the head end, the packet is replicated once for\n   each\
    \ receiver, encapsulated, and sent as a unicast frame.  The set of\n   receivers\
    \ is determined by inspecting the IS-IS database for other\n   SPBs that have\
    \ registered interest in the same I-SID with the R bit\n   set.  This R bit /\
    \ I-SID pair is found in the SPBM Service Identifier\n   and Unicast Address (SPBM-SI)\
    \ sub-TLV.  The packets are encapsulated\n   as per the SPBM unicast forwarding\
    \ above.\n"
- title: 4.4.  Data Path SPBM - Multicast (Tandem Replication)
  contents:
  - "4.4.  Data Path SPBM - Multicast (Tandem Replication)\n   Tandem replication\
    \ uses the shortest path tree to replicate frames\n   only where the tree forks\
    \ and there is at least one receiver on each\n   branch.  Tandem replication is\
    \ bandwidth efficient but uses multicast\n   FDB entries (state) in core bridges,\
    \ which might be unnecessary if\n   there is little multicast traffic demand.\
    \  The head-end replication\n   mode is best suited for the case where there is\
    \ little or no true\n   multicast traffic for an I-SID.  Tandem replication is\
    \ triggered on\n   transit nodes when the I-SID is advertised with the T bit set.\n\
    \   Broadcast, unknown unicast, or multicast frames arriving at an SPBM\n   UNI\
    \ port are encapsulated with a B-DA multicast address that uniquely\n   identifies\
    \ the encapsulating node (the root of the Multicast\n   Distribution Tree) and\
    \ the I-SID scoping this multicast.\n   This B-DA address is a well-formed multicast\
    \ group address (as per\n   802.1Q and 802.1ah) that concatenates the SPSourceID\
    \ A' with the\n   I-SID M (written as DA=<A',M> and uniquely identifying the (S,G)\n\
    \   tree).  This exact format is given in Figure 1 below:\n    M L TYP\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |1|1|0|0|SPSrcMS|  SPSrc [8:15] |  SPSrc [0:7]  | I-SID [16:23] |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   | I-SID [8:15]  |  I-SID [0:7]  |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \                  Figure 1: SPBM Multicast Address Format\n                 \
    \   (SPSrcMS represents SPSrc [16:19])\n   Note: In Figure 1, the index numbering\
    \ from less significant bit to\n      more significant bit within a byte or field\
    \ within a byte gives\n      the wire order of the bits in the address consistent\
    \ with the IETF\n      format in the rest of this document.  (The IEEE convention\
    \ for\n      number representation reverses the bits within an octet compared\n\
    \      with IETF practice.)\n   o  M is the multicast bit, always set to 1 for\
    \ a multicast DA.  (It\n      is the lowest bit in the most significant byte.)\n\
    \   o  L is the local bit, always set to 1 for an SPBM-constructed\n      multicast\
    \ DA.\n   o  TYP is the SPSourceID type.  00 is the only type supported at this\n\
    \      time.\n   o  SPSrc (SPSourceID) is a 20-bit quantity that uniquely identifies\
    \ a\n      SPBM node for all B-VIDs allocated to SPBM operation.  This is\n  \
    \    just the SPSourceID advertised in the SPB Instance (SPB-Inst) sub-\n    \
    \  TLV.  The value SPSourceID = 0 has special significance; it is\n      advertised\
    \ by an SPBM node that has been configured to assign its\n      SPSourceID dynamically,\
    \ which requires LSDB synchronization, but\n      where the SPSourceID assignment\
    \ has not yet completed.\n   o  I-SID is the 24-bit I-Component Service ID advertised\
    \ in the SPBM\n      Service Identifier TLV.  It occupies the lower 24 bits of\
    \ the SPBM\n      multicast DA.  The I-SID value 0xfff is reserved for SPBM control\n\
    \      traffic (refer to the default I-SID in [802.1aq]).\n   This multicast address\
    \ format is used as the DA on frames when they\n   are first encapsulated at ingress\
    \ to the SPBM network.  The DA is\n   also installed into the FDBs on all SPBM\
    \ nodes that are on the\n   corresponding SPT between the source and other nodes\
    \ that have\n   registered receiver interest in the same I-SID.\n   Just as with\
    \ unicast forwarding, the B-SA/B-VID May be used to\n   perform an ingress check,\
    \ but the SPSourceID encoded in the DA and\n   the \"drop-on-unknown\" functionality\
    \ of the FDB in [PBB] achieve the\n   same effect.\n   The I-Component at the\
    \ egress SPBM device has completely standard\n   [PBB] behavior and therefore\
    \ will:\n   1) learn the remote C-SA to B-SA relationship and\n   2) bridge the\
    \ original customer frame to the set of local UNI ports\n      that are associated\
    \ with the I-SID.\n"
- title: 4.5.  Data Path SPBV Broadcast
  contents:
  - "4.5.  Data Path SPBV Broadcast\n   When a packet for an unknown DA arrives at\
    \ an SPBV UNI port, VID\n   translation (or VID encapsulation for untagged Frames)\
    \ with the\n   corresponding SPVID for this VLAN and ingress SPB is performed.\n\
    \   SPVID forwarding is simply an SPT that follows normal VLAN forwarding\n  \
    \ behavior, with the exception that the SPVID is unidirectional.  As a\n   result,\
    \ shared VLAN learning (SVL) is used between the forward- and\n   reverse-path\
    \ SPVIDs associated with the same Base VID to allow SPBV\n   unicast forwarding\
    \ to operate in the normal reverse learning fashion.\n   Ingress check is done\
    \ by simply verifying that the bridge to which\n   the SPVID has been assigned\
    \ is indeed \"shortest path\" reachable over\n   the link over which the packet\
    \ tagged with that SPVID arrived.  This\n   is computed from the IS-IS database\
    \ and is implied when the SPVID is\n   associated with a specific incoming port.\n"
- title: 4.6.  Data Path SPBV Unicast
  contents:
  - "4.6.  Data Path SPBV Unicast\n   When a packet for a known DA arrives at an SPBV\
    \ UNI port, VID\n   translation (or VID encapsulation for untagged Frames) with\
    \ the\n   corresponding SPVID for this VLAN and ingress bridge is performed.\n\
    \   Since the SPVID will have been configured to follow a source-specific\n  \
    \ SPT and the DA is known, the packet will follow the source-specific\n   path\
    \ towards the destination C-MAC.\n   Ingress check is as per the previous SPBV\
    \ section.\n"
- title: 4.7.  Data Path SPBV Multicast
  contents:
  - "4.7.  Data Path SPBV Multicast\n   C-DA multicast addresses May be advertised\
    \ from SPBV UNI ports.\n   These may be configured or learned through the Multiple\
    \ MAC\n   Registration Protocol (MMRP).  MMRP is terminated at the edge of the\n\
    \   SPBV network and IS-IS carries the multicast addresses.  Tandem SPBV\n   devices\
    \ will check to see if they are on the SPF tree between SPBV\n   UNI ports advertising\
    \ the same C-DA multicast address, and if so will\n   install multicast state\
    \ to follow the SPBV SPF trees.\n   Ingress check is as per the previous two SPBV\
    \ sections.\n"
- title: 5.  SPBM Example
  contents:
  - "5.  SPBM Example\n   Consider the small example network shown in Figure 2.  Nodes\
    \ are\n   drawn in boxes with the last nibble of their B-MAC address :1..:7.\n\
    \   The rest of the B-MAC address nibbles are 4455-6677-00xx.  Links are\n   drawn\
    \ as \"--\" and \"/\", while the interface indexes are drawn as\n   numbers next\
    \ to the links.  UNI ports are shown as \"<==>\" with the\n   desired I-SID shown\
    \ at the end of the UNI ports as \"i1\".\n                        +----+     \
    \      +----+\n                        | :4 | 2 ------1 | :5 | <==> i1\n     \
    \                   +----+           +----+\n                       1      3 \
    \        3      2\n                      /        \\       /        \\\n     \
    \                1          4     3          2\n                  +----+     \
    \   +----+          +----+\n          i1 <==> | :1 | 2----1 | :2 | 2------1 |\
    \ :3 | <==> i1\n                  +----+        +----+          +----+\n     \
    \                3          6     5          3\n                      \\     \
    \   /       \\        /\n                       3      2         1      2\n  \
    \                      +----+           +----+\n                        | :6 |\
    \ 1-------3 | :7 | <==> i1\n                        +----+           +----+\n\
    \                  Figure 2: SPBM Example 7-Node Network\n   Using the default\
    \ ECT-ALGORITHM (00-80-C2-01), which picks the equal\n   cost path with the lowest\
    \ BridgeID, this ECT-ALGORITHM is assigned to\n   B-VID 100.  When all links have\
    \ the same cost, then the 1-hop\n   shortest paths are all direct and the 2-hop\
    \ shortest paths (which are\n   of course symmetric) are as follows:\n   { 1-2-3,\
    \  1-2-5, 1-2-7, 6-2-5,\n     4-2-7,  4-1-6, 5-2-7, 6-2-3, 4-2-3 }\n   Node :1's\
    \ unicast forwarding table therefore routes toward B-MACs :7,\n   :3, and :5 via\
    \ interface/2, while its single-hop paths are all direct\n   as can be seen from\
    \ its FDB given in Figure 3.\n   Node :1 originates multicast since it is at the\
    \ head of the MDT to\n   nodes :3, :5, and :7 and is a transmitter of I-SID 1,\
    \ which nodes :3,\n   :5, and :7 all wish to receive.  Node :1 therefore produces\
    \ a\n   multicast forwarding entry whose DA contains its SPSourceID (which is\n\
    \   the last 20 bits of the B-MAC in the example) and the I-SID 1.  Node\n   :1\
    \ thereafter sends packets matching this entry to interface if/2\n   with B-VID=100.\
    \  Node :1's full unicast (U) and multicast (M) table\n   is shown in Figure 3.\
    \  Note that the IN/IF (incoming interface) field\n   is not specified for unicast\
    \ traffic, and for multicast traffic has\n   to point back to the root of the\
    \ tree, unless it is the head of the\n   tree -- in which case, we use the convention\
    \ if/00.  Since node :1 is\n   not transit for any multicast, it only has a single\
    \ entry for the\n   root of its tree for I-SID=1.\n          +-------+-------------------+------+-----------------+\n\
    \          | IN/IF | DESTINATION ADDR  | BVID | OUT/IF(s)       |\n          +-------+-------------------+------+-----------------+\n\
    \         U| if/** |   4455-6677-0002  | 0100 | {if/2           }\n         U|\
    \ if/** |   4455-6677-0003  | 0100 | {if/2           }\n         U| if/** |  \
    \ 4455-6677-0004  | 0100 | {if/1           }\n         U| if/** |   4455-6677-0005\
    \  | 0100 | {if/2           }\n         U| if/** |   4455-6677-0006  | 0100 |\
    \ {if/3           }\n         U| if/** |   4455-6677-0007  | 0100 | {if/2    \
    \       }\n         M| if/00 |   7300-0100-0001  | 0100 | {if/2           }\n\
    \        Figure 3: SPBM Node :1 FDB - Unicast (U) and Multicast (M)\n   Node :2,\
    \ being at the center of the network, has direct 1-hop paths\n   to all other\
    \ nodes; therefore, its unicast FDB simply sends packets\n   with the given B-MAC/B-VID=100\
    \ to the interface directly to the\n   addressed node.  This can be seen by looking\
    \ at the unicast entries\n   (the first 6) shown in Figure 4.\n          +-------+-------------------+------+-----------------+\n\
    \          | IN/IF | DESTINATION ADDR  | BVID | OUT/IF(s)       |\n          +-------+-------------------+------+-----------------+\n\
    \         U| if/** |   4455-6677-0001  | 0100 | {if/1           }\n         U|\
    \ if/** |   4455-6677-0003  | 0100 | {if/2           }\n         U| if/** |  \
    \ 4455-6677-0004  | 0100 | {if/4           }\n         U| if/** |   4455-6677-0005\
    \  | 0100 | {if/3           }\n         U| if/** |   4455-6677-0006  | 0100 |\
    \ {if/6           }\n         U| if/** |   4455-6677-0007  | 0100 | {if/5    \
    \       }\n         M| if/01 |   7300-0100-0001  | 0100 | {if/2,if/3,if/5 }\n\
    \         M| if/02 |   7300-0300-0001  | 0100 | {if/1           }\n         M|\
    \ if/03 |   7300-0500-0001  | 0100 | {if/1,if/5      }\n         M| if/05 |  \
    \ 7300-0700-0001  | 0100 | {if/1,if/3      }\n         Figure 4: SPBM Node :2\
    \ FDB Unicast (U) and Multicast (M)\n   Node :2's multicast is more complicated\
    \ since it is a transit node\n   for the 4 members of I-SID=1; therefore, it requires\
    \ 4 multicast FDB\n   entries depending on which member it is forwarding/replicating\
    \ on\n   behalf of.  For example, node :2 is on the shortest path between each\n\
    \   of nodes {:3, :5, :7} and :1.  So it must replicate from node :1\n   I-SID\
    \ 1 out on interfaces { if/2, if/3 and if/5 } (to reach nodes :3,\n   :5, and\
    \ :7).  It therefore creates a multicast DA with the SPSourceID\n   of node :1\
    \ together with I-SID=1, which it expects to receive over\n   interface/1 and\
    \ will replicate out interfaces { if/2, if/3 and if/5\n   }.  This can be seen\
    \ in the first multicast entry in Figure 4.\n   Note that node :2 is not on the\
    \ shortest path between nodes :3 and :5\n   nor between nodes :3 and :7; however,\
    \ it still has to forward packets\n   to node :1 from node :3 for this I-SID,\
    \ which results in the second\n   multicast forwarding entry in Figure 4.  Likewise,\
    \ for packets\n   originating at nodes :5 or :7, node :2 only has to replicate\
    \ twice,\n   which results in the last two multicast forwarding entries in Figure\n\
    \   4.\n"
- title: 6.  SPBV Example
  contents:
  - "6.  SPBV Example\n   Using the same example network as Figure 2, we will look\
    \ at the FDBs\n   produced for SPBV mode forwarding.  Nodes :1, :5, :3, and :7\
    \ wish to\n   transmit and receive the same multicast MAC traffic using multicast\n\
    \   address 0300-0000-000f and at the same time require congruent and\n   symmetric\
    \ unicast forwarding.  In SPBV mode, the only encapsulation\n   is the C-TAG or\
    \ S-TAG, and the MAC addresses SA and DA are reverse-\n   path learned, as in\
    \ traditional bridging.\n                        +----+           +----+\n   \
    \                     | :4 | 2 ------1 | :5 | <==> MMAC ..:f\n               \
    \         +----+           +----+\n                       1      3         3 \
    \     2\n                      /        \\       /        \\\n               \
    \      1          4     3          2\n                  +----+        +----+ \
    \         +----+\n         MMAC<==> | :1 | 2----1 | :2 | 2------1 | :3 | <==>\
    \ MMAC ..:f\n          ..:f    +----+        +----+          +----+\n        \
    \             3          6     5          3\n                      \\        /\
    \       \\        /\n                       3      2         1      2\n      \
    \                  +----+           +----+\n                        | :6 | 1-------3\
    \ | :7 | <==> MMAC ..:f\n                        +----+           +----+\n   \
    \      Figure 5: SPBV Example 7-Node Network\n   Assuming the same ECT-ALGORITHM\
    \ (00-80-C2-01), which picks the equal\n   cost path with the lowest BridgeID,\
    \ this ECT-ALGORITHM is assigned to\n   Base VID 100, and for each node the SPVID\
    \ = Base VID + Node ID (i.e.,\n   101, 102..107).  When all links have the same\
    \ cost, then the 1-hop\n   shortest paths are all direct, and the 2-hop shortest\
    \ paths (which\n   are of course symmetric) are as previously given for Figure\
    \ 2.\n   Node :1's SPT for this ECT-ALGORITHM is therefore (described as a\n \
    \  sequence of unidirectional paths):\n          { 1->4, 1->6, 1->2->3, 1->2->5,\
    \ 1->2->7 }\n   The FDBs therefore must have entries for the SPVID reserved for\n\
    \   packets originating from node :1, which in this case is VID=101.\n   Node\
    \ :2 therefore has an FDB that looks like Figure 6.  In\n   particular, it takes\
    \ packets from VID 101 on interface/01 and sends\n   to nodes :3, :5, and :7 via\
    \ if/2, if/3, and if/5.  It does not\n   replicate anywhere else because the other\
    \ nodes (:4 and :6) are\n   reached by the SPT directly from node :1.  The rest\
    \ of the FDB\n   unicast entries follow a similar pattern; recall that the shortest\n\
    \   path between :4 and :6 is via node :1, which explains replication\n   onto\
    \ only two interfaces from if/4 and if/6.  Note that the\n   destination addresses\
    \ are wild cards, and SVL exists between these\n   SPVIDs because they are all\
    \ associated with Base VID = 100, which\n   defines the VLAN being bridged.\n\
    \          +-------+-------------------+------+-----------------+\n          |\
    \ IN/IF | DESTINATION ADDR  |  VID | OUT/IF(s)       |\n          +-------+-------------------+------+-----------------+\n\
    \         U| if/01 |   **************  | 0101 | {if/2,if/3,if/5 }\n         U|\
    \ if/02 |   **************  | 0103 | {if/1,if/4,if/6 }\n         U| if/04 |  \
    \ **************  | 0104 | {if/2,if/5      }\n         U| if/03 |   **************\
    \  | 0105 | {if/1,if/5,if/6 }\n         U| if/06 |   **************  | 0106 |\
    \ {if/2,if/3      }\n         U| if/05 |   **************  | 0107 | {if/1,if/3,if/4\
    \ }\n         Figure 6: SPBV Node :2 FDB Unicast\n   Now, since nodes :5, :3,\
    \ :7 and :1 are advertising membership in the\n   same multicast group address\
    \ :f, Node 2 requires additional entries\n   to replicate just to these specific\
    \ nodes for the given multicast\n   group address.  These additional multicast\
    \ entries are given below in\n   Figure 7.\n          +-------+-------------------+------+-----------------+\n\
    \          | IN/IF | DESTINATION ADDR  |  VID | OUT/IF(s)       |\n          +-------+-------------------+------+-----------------+\n\
    \         M| if/01 |   0300-0000-000f  | 0101 | {if/2,if/3,if/5 }\n         M|\
    \ if/02 |   0300-0000-000f  | 0103 | {if/1           }\n         M| if/03 |  \
    \ 0300-0000-000f  | 0105 | {if/1,if/5      }\n         M| if/05 |   0300-0000-000f\
    \  | 0107 | {if/1,if/3      }\n         Figure 7: SPBV Node :2 FDB Multicast (M)\n"
- title: 7.  SPB Supported Adjacency types
  contents:
  - "7.  SPB Supported Adjacency types\n   IS-IS for SPB currently only supports peer-to-peer\
    \ adjacencies.\n   Other link types are for future study.  As a result, pseudonodes\
    \ and\n   links to/from pseudonodes are not considered as part of the IS-IS SPF\n\
    \   computations and will be avoided if present in the physical topology.\n  \
    \ Other NLPIDs MAY of course use them as per normal.\n   IS-IS for SPB Must use\
    \ the IS-IS three-way handshake for IS-IS point-\n   to-point adjacencies described\
    \ in RFC 5303.\n"
- title: 8.  SPB IS-IS Adjacency Addressing
  contents:
  - "8.  SPB IS-IS Adjacency Addressing\n   The default behavior of 802.1aq is to\
    \ use the normal IS-IS Ethernet\n   multicast addresses for IS-IS.\n   There are\
    \ however additional Ethernet multicast addresses that have\n   been assigned\
    \ for 802.1aq for special use cases.  These do not in any\n   way change the state\
    \ machinery or packet formats of IS-IS but simply\n   recommend and reserve different\
    \ multicast addresses.  Refer to\n   [802.1aq] for additional details.\n"
- title: 9.  IS-IS Area Address and SYSID
  contents:
  - "9.  IS-IS Area Address and SYSID\n   A stand-alone implementation (supporting\
    \ ONLY the single NLPID=0xC1)\n   of SPB Must use an IS-IS area address value\
    \ of 0, and the SYSID Must\n   be the well-known MAC address of the SPB device.\n\
    \   Non-stand-alone implementations (supporting other NLPIDs) MUST use\n   the\
    \ normal IS-IS rules for the establishment of a level 1 domain\n   (i.e., multiple\
    \ area addresses are allowed only where immediate\n   adjacencies share a common\
    \ area address).  Level 2 operations of\n   course place no such restriction on\
    \ adjacent area addresses.\n"
- title: 10.  Level 1/2 Adjacency
  contents:
  - "10.  Level 1/2 Adjacency\n   SPBV and SPBM will operate within either an IS-IS\
    \ level 1 or level 2.\n   As a result, the TLVs specified here MAY propagate in\
    \ either level 1\n   or level 2 LSPs.  IS-IS SPB implementations Must support\
    \ level 1 and\n   May support level 2 operations.  Hierarchical SPB is for further\n\
    \   study; therefore, these TLVs Should Not be leaked between level 1 and\n  \
    \ level 2.\n"
- title: 11.  Shortest Path Default Tie-Breaking
  contents:
  - "11.  Shortest Path Default Tie-Breaking\n   The default algorithm is ECT-Algorithm\
    \ = 00-80-c2-01.\n   Two mechanisms are used to ensure symmetry and determinism\
    \ in the\n   shortest path calculations.\n   The first mechanism addresses the\
    \ problem when different ends (nodes)\n   of an adjacency advertise different\
    \ values for the SPB-LINK-METRIC.\n   To solve this, SPB shortest path calculations\
    \ Must use the maximum\n   value of the two nodes' advertised SPB-LINK-METRICs\
    \ when accumulating\n   and minimizing the (sub)path costs.\n   The second mechanism\
    \ addresses the problem when two equal sums of\n   link metrics (sub)paths are\
    \ found.  To solve this, the (sub)path with\n   the fewest hops between the fork/join\
    \ points Must win the tie.\n   However, if both (sub)paths have the same number\
    \ of hops between the\n   fork and join points, then the default tie-breaking\
    \ Must pick the\n   path traversing the intermediate node with the lower BridgeID.\
    \  The\n   BridgeID is an 8-byte quantity whose upper 2 bytes are the node's\n\
    \   BridgePriority and lower 6 bytes are the node's SYSID.\n   For example, consider\
    \ the network in Figure 2 when a shortest path\n   computation is being done from\
    \ node :1.  Upon reaching node :7, two\n   competing sub-paths fork at node :1\
    \ and join at node :7, the first\n   via :2 and the second via :6.  Assuming that\
    \ all the nodes advertise\n   a Bridge Priority of 0, the default tie-breaking\
    \ rule causes the path\n   traversing node :2 to be selected since it has a lower\
    \ BridgeID\n   {0...:2} than node :6 {0...:6}.  Note that the operator may cause\
    \ the\n   tie-breaking logic to pick the alternate path by raising the Bridge\n\
    \   Priority of node :2 above that of node :6.\n   The above algorithm guarantees\
    \ symmetric and deterministic results in\n   addition to having the critical property\
    \ of transitivity (shortest\n   path is made up of sub-shortest paths).\n"
- title: 12.  Shortest Path ECT
  contents:
  - "12.  Shortest Path ECT\n   Standard ECT Algorithms initially have been proposed\
    \ ranging from\n   00-80-c2-01 to 00-80-c2-10.\n   To create diversity in routing,\
    \ SPB defines 16 variations on the\n   above default tie-breaking algorithm; these\
    \ have worldwide unique\n   designations 00-80-C2-01 through 00-80-C2-10.  These\
    \ designations\n   consist of the IEEE 802.1 OUI (Organizationally Unique Identifier)\n\
    \   value 00-80-C2 concatenated with indexes 0X01..0X10.  These\n   individual\
    \ algorithms are implemented by selecting the (sub)path with\n   the lowest value\
    \ of:\n        XOR BYTE BY BYTE(ECT-MASK{ECT-ALGORITHM.index},BridgeID)\n   Where:\n\
    \        ECT-MASK{17} = { 0x00, 0x00, 0xFF, 0x88,\n                         0x77,\
    \ 0x44, 0x33, 0xCC,\n                         0xBB, 0x22, 0x11, 0x66,\n      \
    \                   0x55, 0xAA, 0x99, 0xDD,\n                         0xEE };\n\
    \        XOR BYTE BY BYTE  - XORs BridgeID bytes with ECT-MASK\n   ECT-MASK{1},\
    \ since it XORs with all zeros, yields the default\n   algorithm described above\
    \ (00-80-C2-01); while ECT-MASK{2}, since it\n   XORs with a mask of all ones,\
    \ will invert the BridgeID, essentially\n   picking the path traversing the largest\
    \ Bridge ID.  The other ECT-\n   MASKs produce diverse alternatives.  In all cases,\
    \ the\n   BridgePriority, since it is the most significant part of the\n   BridgeID,\
    \ permits overriding the SYSID as the selection criteria and\n   gives the operator\
    \ a degree of control on the chosen ECT paths.\n   To support many other tie-breaking\
    \ mechanisms in the future, two\n   opaque ECT TLVs are defined, which may be\
    \ used to provide parameters\n   to ECT-ALGORITHMs outside of the currently defined\
    \ space.\n   ECT-ALGORITHMs are mapped to VIDs, and then services can be assigned\n\
    \   to those VIDs.  This permits a degree of traffic engineering since\n   service\
    \ assignment to VID is consistent end to end through the\n   network.\n"
- title: 13.  Hello (IIH) Protocol Extensions
  contents:
  - "13.  Hello (IIH) Protocol Extensions\n   IEEE 802.1aq can run in parallel with\
    \ other network layer protocols\n   such as IPv4 and IPv6; therefore, failure\
    \ of two SPB nodes to\n   establish an adjacency MUST NOT cause rejection of an\
    \ adjacency for\n   the purposes of other network layer protocols.\n   IEEE 802.1aq\
    \ has been assigned the NLPID value 0xC1 [RFC6328], which\n   MUST be used by\
    \ Shortest Path Bridges (SPBs) to indicate their\n   ability to run 802.1aq. \
    \ This is done by including this NLPID value\n   in the IS-IS IIH PDU Protocols\
    \ Supported TLV (type 129).  802.1aq\n   frames MUST only flow on adjacencies\
    \ that advertise this NLPID in\n   both directions of the IIH PDUs.  802.1aq computations\
    \ MUST consider\n   an adjacency that has not advertised 0xC1 NLPID in both directions\
    \ as\n   non-existent (infinite link metric) and MUST ignore any IIH SPB TLVs\n\
    \   they receive over such adjacencies.\n   IEEE 802.1aq augments the normal IIH\
    \ PDU with three new TLVs, which\n   like all other SPB TLVs, travel within Multi-Topology\
    \ [MT] TLVs,\n   therefore allowing multiple logical instances of SPB within a\
    \ single\n   IS-IS protocol instance.\n   Since SPB can use many VIDs and Must\
    \ agree on which VIDs are used for\n   which purposes, the IIH PDUs carry a digest\
    \ of all the used VIDs (on\n   the NNIs) referred to as the SPB-MCID TLV, which\
    \ uses a common and\n   compact encoding reused from 802.1Q.\n   SPB neighbors\
    \ May support a mechanism to verify that the contents of\n   their topology databases\
    \ are synchronized (for the purposes of loop\n   prevention).  This is done by\
    \ exchanging a digest of SPB topology\n   information (computed over all MT IDs)\
    \ and taking specific actions on\n   forwarding entries when the digests indicate\
    \ a mismatch in topology.\n   This digest is carried in the Optional SPB-Digest\
    \ sub-TLV.\n   Finally, SPB needs to know which SPT Sets (defined by ECT-ALGORITHMs)\n\
    \   are being used by which VIDs, and this is carried in the Base VLAN\n   Identifiers\
    \ (SPB-B-VID) sub-TLV.\n"
- title: 13.1.  SPB-MCID Sub-TLV
  contents:
  - "13.1.  SPB-MCID Sub-TLV\n   This sub-TLV is added to an IIH PDU to indicate the\
    \ digest for the\n   multiple spanning tree configuration a.k.a. MCID.  This TLV\
    \ is a\n   digest of local configuration of which VIDs are running which\n   protocols.\
    \  (The information is not to the level of a specific\n   algorithm in the case\
    \ of SPB.)  This information Must be the same on\n   all bridges in the SPT Region\
    \ controlled by an IS-IS instance.  The\n   data used to generate the MCID is\
    \ populated by configuration and is a\n   digest of the VIDs allocated to various\
    \ protocols.  Two MCIDs are\n   carried to allow non-disruptive transitions between\
    \ configurations\n   when the changes are non-critical.\n    0               \
    \    1                   2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2\
    \ 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+\n   |Type=SPB-MCID\
    \  | = 4\n   +-+-+-+-+-+-+-+-+\n   |   Length      |    (1 byte)\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+...+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |                           MCID (51 Bytes)                     |\n   |  \
    \                         ...............                     |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+...+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |                     Aux   MCID (51 Bytes)                     |\n   |  \
    \                         ...............                     |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+...+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   o  Type: sub-TLV type 4.\n   o  Length: The size of the value defined below\
    \ (102).\n   o  MCID (51 bytes): The complete MCID defined in IEEE 802.1Q, which\n\
    \      identifies an SPT Region on the basis of matching assignments of\n    \
    \  VIDs to control regimes (xSTP, SPBV, SPBM, etc.).  Briefly, the\n      MCID\
    \ consists of a 1-byte format selector, a 32-byte configuration\n      name, a\
    \ 2-byte revision level, and finally a 16-byte signature of\n      type HMAC-MD5\
    \ over an array of 4096 elements that contain\n      identifiers of the use of\
    \ the corresponding VID.  Refer to Section\n      13.8 of [802.1aq] for the exact\
    \ format and procedure.  Note that\n      the use of the VID does not include\
    \ specification of a specific\n      SPB ECT-ALGORITHM; rather, it is coarser\
    \ grain.\n   o  Aux MCID (51 bytes): The complete MCID defined in IEEE 802.1Q,\n\
    \      which identifies an SPT Region.  The aux MCID allows SPT Regions\n    \
    \  to be migrated by the allocation of new VLAN to FDB Mappings\n      without\
    \ interruption to existing traffic.\n   The SPB-MCID sub-TLV is carried within\
    \ the MT-Port-Cap TLV [RFC6165]\n   with the MT ID value of 0, which in turn is\
    \ carried in an IIH PDU.\n"
- title: 13.2.  SPB-Digest Sub-TLV
  contents:
  - "13.2.  SPB-Digest Sub-TLV\n   This sub-TLV is Optionally added to an IIH PDU\
    \ to indicate the\n   current SPB topology digest value.  It is always carried\
    \ in an\n   MT-Port-Cap TLV [RFC6165] with an MT ID value of 0.  This information\n\
    \   should settle to be the same on all bridges in an unchanging\n   topology.\
    \  Matching digests indicate (with extremely high\n   probability) that the topology\
    \ view between two SPBs is synchronized;\n   this match (or lack of match) is\
    \ used to control the updating of\n   forwarding information.  The SPB Agreement\
    \ Digest is computed based\n   on contributions derived from the current topologies\
    \ of all SPB MT\n   instances and is designed to change when significant topology\
    \ changes\n   occur within any SPB instance.\n   During the propagation of LSPs,\
    \ the Agreement Digest may vary between\n   neighbors until the key topology information\
    \ in the LSPs is common.\n   The digest is therefore a summarized means of determining\
    \ agreement\n   between nodes on database commonality, and hence of inferring\n\
    \   agreement on the distance to all multicast roots.  When present, it\n   is\
    \ used for loop prevention as follows: for each shortest path tree\n   where it\
    \ has been determined the distance to the root has changed,\n   \"unsafe\" multicast\
    \ forwarding is blocked until the exchanged\n   Agreement Digests match, while\
    \ \"safe\" multicast forwarding is allowed\n   to continue despite the disagreement\
    \ in digests and hence topology\n   views.  Section 28.2 of [802.1aq] defines\
    \ in detail what constitutes\n   \"safe\" vs. \"unsafe\".\n    0             \
    \      1                   2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1\
    \ 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+\n   |Type=SPB-Digest|\
    \ = 5\n   +-+-+-+-+-+-+-+-+\n   |   Length      | (1 byte)\n   +-----+-+---+---+\n\
    \   | Res |V| A | D | (1 byte)\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+...+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |               Agreement Digest (Length - 1)                   |\n   |  \
    \                          ...............                    |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+...+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   o  Type: sub-TLV type 5.\n   o  Length: The size of the value.\n   o  V bit:\
    \ Agreed digest valid bit.  See Section 28.2 of [802.1aq].\n   o  A (2 bits):\
    \ The Agreement Number 0-3, which aligns with the BPDU's\n      Agreement Number\
    \ concept [802.1aq].  When the Agreement Digest for\n      this node changes,\
    \ this number is incremented.  The node then\n      checks for Agreement Digest\
    \ match (as below).  The new local\n      Agreement Number and the updated local\
    \ Discarded Agreement Number\n      are then transmitted with the new Agreement\
    \ Digest to the node's\n      neighbors in the Hello PDU.  Once an Agreement Number\
    \ has been\n      sent, it is considered outstanding until a matching or more\
    \ recent\n      Discarded Agreement Number is received from the neighbor.\n  \
    \ o  D (2 bits): The Discarded Agreement Number 0-3, which aligns with\n     \
    \ BPDU's Agreement Number concept.  When an Agreement Digest is\n      received\
    \ from a neighbor, this number is set to the received\n      Agreement Number\
    \ to signify that this node has received this new\n      agreement and discarded\
    \ any previous ones.  The node then checks\n      whether the local and received\
    \ Agreement Digests match.  If they\n      do, this node then sets:\n      the\
    \ local Discarded Agreement Number = received Agreement Number +\n      1\n  \
    \    If the Agreement Digests match, AND received Discarded Agreement\n      Number\
    \ ==\n                   local Agreement Number + N (N = 0 || 1)\n      then the\
    \ node has a topology matched to its neighbor.\n      Whenever the local Discarded\
    \ Agreement Number relating to a\n      neighbor changes, the local Agreement\
    \ Digest, Agreement Number,\n      and Discarded Agreement Number are transmitted.\n\
    \   o Agreement Digest.  This digest is used to determine when SPB is\n      synchronized\
    \ between neighbors for all SPB instances.  The\n      Agreement Digest is a hash\
    \ computed over the set of all SPB\n      adjacencies in all SPB instances.  In\
    \ other words, the digest\n      includes all VIDs and all adjacencies for all\
    \ MT instances of SPB\n      (but not other network layer protocols).  This reflects\
    \ the fact\n      that all SPB nodes in a region Must have identical VID allocations\n\
    \      (see Section 13.1), and so all SPB instances will contain the same\n  \
    \    set of nodes.  The exact procedure for computing the Agreement\n      Digest\
    \ and its size are defined in Section 28.2 of [802.1aq].\n   The SPB-Digest sub-TLV\
    \ is carried within the MT-Port-Cap TLV\n   [RFC6165] (with the MT ID value 0),\
    \ which in turn is carried in an\n   IIH PDU.\n   When supported, this sub-TLV\
    \ MUST be carried on every IIH between SPB\n   neighbors, not just when a Digest\
    \ changes.\n   When one peer supports this TLV and the other does not, loop\n\
    \   prevention by Agreement Digest Must Not be done by either side.\n"
- title: 13.3.  SPB Base VLAN Identifiers (SPB-B-VID) Sub-TLV
  contents:
  - "13.3.  SPB Base VLAN Identifiers (SPB-B-VID) Sub-TLV\n   This sub-TLV is added\
    \ to an IIH PDU to indicate the mappings between\n   ECT algorithms and Base VIDs\
    \ (and by implication the VID(s) used on\n   the forwarding path for each SPT\
    \ Set for a VLAN identified by a Base\n   VID) that are in use.  Under stable\
    \ operational conditions, this\n   information should be the same on all bridges\
    \ in the topology\n   identified by the MT-Port-Cap TLV [RFC6165] it is being\
    \ carried\n   within.\n    0                   1                   2         \
    \          3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9\
    \ 0 1\n   +-+-+-+-+-+-+-+-+\n   |Type= SPB-B-VID| = 68\n   +-+-+-+-+-+-+-+-+\n\
    \   |   Length      |    (1 byte)\n   +-+-+-+-+-+-+-+-+-----------------------------------------------+\n\
    \   |        ECT-VID Tuple (1)  (6 bytes)                           |\n   +---------------------------------+-----------------------------+\n\
    \   |      ...                        | ECT-VID Tuple(2) (6 bytes)  |\n   +---------------------------------+-----------------------------+\n\
    \   |                          .....                                |\n   +---------------------------------------------------------------+\n\
    \   |                          .....                                |\n   |  \
    \                        .....                                |\n   +---------------------------------------------------------------+\n\
    \   o  Type: sub-TLV type 6.\n   o Length: The size of the value is ECT-VID Tuples*6\
    \ bytes.  Each\n      6-byte part of the ECT-VID tuple is formatted as follows:\n\
    \       0                   1                   2                   3\n      \
    \ 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \      |                       ECT-ALGORITHM (32 bits)                 |\n   \
    \   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n      |\
    \ Base VID (12 bits)    |U|M|RES|\n      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n \
    \  o  ECT-ALGORITHM (4 bytes): The ECT-ALGORITHM is advertised when the\n    \
    \  bridge supports a given ECT-ALGORITHM (by OUI/Index) on a given\n      Base\
    \ VID.  There are 17 predefined IEEE algorithms for SPB with\n      index values\
    \ 0X00..0X10 occupying the low 8 bits and the IEEE\n      OUI=00-80-C2 occupying\
    \ the top 24 bits of the ECT-ALGORITHM.\n   o  Base VID (12 bits): The Base VID\
    \ that is associated with the SPT\n      Set.\n   o  Use-Flag (1 bit): The Use-Flag\
    \ is set if this bridge, or any\n      bridge in the LSDB, is currently using\
    \ this ECT-ALGORITHM and Base\n      VID.  Remote usage is discovered by inspection\
    \ of the U bit in the\n      SPB-Inst sub-TLV of other SPB bridges (see Section\
    \ 14.1)\n   o  M bit (1 bit): The M bit indicates if this Base VID operates in\n\
    \      SPBM (M = 1) or SPBV (M = 0) mode.\n   The SPB-B-VID sub-TLV is carried\
    \ within the MT-Port-Cap TLV\n   [RFC6165], which in turn is carried in an IIH\
    \ PDU.\n"
- title: 14.  Node Information Extensions
  contents:
  - "14.  Node Information Extensions\n   All SPB nodal information extensions travel\
    \ within a new multi-\n   topology capability TLV MT-Capability (type 144).\n\
    \    0                   1                   2                   3\n    0 1 2\
    \ 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+\n\
    \   |Type = MT-CAP  | = 144\n   +-+-+-+-+-+-+-+-+\n   |   Length      |     (1\
    \ byte)\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   |O R R R|       MT ID      \
    \     | (2 bytes)\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n     (sub-TLVs ... )\n\
    \   The format of this TLV is identical in its first 2 bytes to all\n   current\
    \ MT TLVs and carries the MT ID as defined in [MT].\n   The O (overload) bit carried\
    \ in bit 16 has the same semantics as\n   specified in [MT], but in the context\
    \ of SPB adjacencies only.\n   There can be multiple MT-Capability TLVs present,\
    \ depending on the\n   amount of information that needs to be carried.\n"
- title: 14.1.  SPB Instance (SPB-Inst) Sub-TLV
  contents:
  - "14.1.  SPB Instance (SPB-Inst) Sub-TLV\n   The SPB-Inst sub-TLV gives the SPSourceID\
    \ for this node/topology\n   instance.  This is the 20-bit value that is used\
    \ in the formation of\n   multicast DAs for frames originating from this node/instance.\
    \  The\n   SPSourceID occupies the upper 20 bits of the multicast DA together\n\
    \   with 4 other bits (see the SPBM 802.1ah multicast DA address format\n   section).\
    \  This sub-TLV MUST be carried within the MT-Capability TLV\n   in the fragment\
    \ ZERO LSP.  If there is an additional SPB instance, it\n   MUST be declared under\
    \ a separate MT-Capability TLV and also carried\n   in the fragment ZERO LSP.\n\
    \    0                   1                   2                   3\n    0 1 2\
    \ 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+\n\
    \   |Type = SPB-Inst| = 1\n   +-+-+-+-+-+-+-+-+\n   |   Length      |     (1 byte)\n\
    \   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   |  \
    \             CIST Root Identifier  (4 bytes)                 |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |               CIST Root Identifier (cont)  (4 bytes)          |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |           CIST External Root Path Cost     (4 bytes)          |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |        Bridge Priority        |         (2 bytes)\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |R R R R R R R R R R R|V|              SPSourceID               |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   | Num of Trees  |       (1 byte)\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |                  VLAN-ID (1) Tuples    (8 bytes)              |\n   |  \
    \                ...........................                  |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \                      ...........................\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |                  VLAN-ID (N) Tuples    (8 bytes)              |\n   |  \
    \                ...........................                  |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \      where VLAN-ID tuples have the format as:\n    0                   1   \
    \                2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6\
    \ 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+\n   |U|M|A|  Res    |\n\
    \   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   |  \
    \                     ECT-ALGORITHM (32 bits)                 |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   | Base VID (12 bits)    |   SPVID (12 bits)     |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   o  Type: sub-TLV type 1.\n   o  Length: Total number of bytes contained in\
    \ the value field.\n   o  CIST Root Identifier (64 bits): The CIST Root Identifier\
    \ is for\n      SPB interworking with Rapid STP (RSTP) and Multiple STP (MSTP)\
    \ at\n      SPT Region boundaries.  This is an imported value from a spanning\n\
    \      tree.\n   o  CIST External Root Path Cost (32 bits): The CIST External\
    \ Root\n      Path Cost is the cost to root, derived from the spanning tree\n\
    \      algorithm.\n   o  Bridge Priority (16 bits): Bridge priority is the 16\
    \ bits that\n      together with the 6 bytes of the System ID form the Bridge\n\
    \      Identifier.  This allows SPB to build a compatible spanning tree\n    \
    \  using link state by combining the Bridge Priority and the System\n      ID\
    \ to form the 8-byte Bridge Identifier.  The 8-byte Bridge\n      Identifier is\
    \ also the input to the 16 predefined ECT tie-breaker\n      algorithms.\n   o\
    \  V bit (1 bit): The V bit (SPBM) indicates this SPSourceID is auto-\n      allocated\
    \ (Section 27.11 of [802.1aq]).  If the V bit is clear,\n      the SPSourceID\
    \ has been configured and Must be unique.  Allocation\n      of SPSourceID is\
    \ defined in IEEE [802.1aq].  Bridges running SPBM\n      will allocate an SPSourceID\
    \ if they are not configured with an\n      explicit SPSourceID.  The V bit allows\
    \ neighbor bridges to\n      determine if the auto-allocation was enabled.  In\
    \ the rare chance\n      of a collision of SPsourceID allocation, the bridge with\
    \ the\n      highest priority Bridge Identifier will win conflicts.  The lower\n\
    \      priority bridge will be re-allocated; or, if the lower priority\n     \
    \ bridge is configured, it will not be allowed to join the SPT\n      Region.\n\
    \   o  SPSourceID: a 20-bit value used to construct multicast DAs as\n      described\
    \ below for multicast frames originating from the origin\n      (SPB node) of\
    \ the Link State Packet (LSP) that contains this TLV.\n      More details are\
    \ in IEEE [802.1aq].\n   o  Number of Trees (8 bits): The Number of Trees is set\
    \ to the number\n      of {ECT-ALGORITHM, Base VID plus flags} tuples that follow.\
    \  Each\n      ECT-ALGORITHM has a Base VID, an SPVID, and flags described below.\n\
    \      This Must contain at least the one ECT-ALGORITHM (00-80-C2-01).\n   Each\
    \ VID Tuple consists of:\n   o  U bit (1 bit): The U bit is set if this bridge\
    \ is currently using\n      this ECT-ALGORITHM for I-SIDs it sources or sinks.\
    \  This is a\n      strictly local indication; the semantics differ from the Use-Flag\n\
    \      found in the Hello, which will set the Use-Flag if it sees other\n    \
    \  nodal U bits are set OR it sources or sinks itself.\n   o  M bit (1 bit): The\
    \ M bit indicates if this is SPBM or SPBV mode.\n      When cleared, the mode\
    \ is SPBV; when set, the mode is SPBM.\n   o  A bit (1 bit): The A bit (SPB),\
    \ when set, declares this is an\n      SPVID with auto-allocation.  The VID allocation\
    \ logic details are\n      in IEEE [802.1aq].  Since SPVIDs are allocated from\
    \ a small pool\n      of 12-bit resources, the chances of collision are high.\
    \  To\n      minimize collisions during auto-allocation, LSPs are initially\n\
    \      advertised with the originating bridge setting the SPVID to 0.\n      Only\
    \ after learning the other bridges' SPVID allocations does this\n      bridge\
    \ re-advertise this sub-TLV with a non-zero SPVID.  This will\n      minimize\
    \ but not eliminate the chance of a clash.  In the event of\n      a clash, the\
    \ highest Bridge Identifier is used to select the\n      winner, while the loser(s)\
    \ with lower Bridge Identifier(s) Must\n      withdraw their SPVID allocation(s)\
    \ and select an alternative\n      candidate for another trial.  SPVID May also\
    \ be configured.  When\n      the A bit is set to not specify auto-allocation\
    \ and the SPVID is\n      set to 0, this SPBV bridge is used for transit only\
    \ within the SPB\n      region.  If a port is configured with the Base VID as\
    \ a neighbor\n      using RSTP or MSTP, the bridge will act as an ingress filter\
    \ for\n      that VID.\n   o  ECT-ALGORITHM (4 bytes): ECT-ALGORITHM is advertised\
    \ when the\n      bridge supports a given ECT-ALGORITHM (by OUI/Index) on a given\n\
    \      VID.  This declaration Must match the declaration in the Hello PDU\n  \
    \    originating from the same bridge.  The ECT-ALGORITHM and Base VID\n     \
    \ Must match what is generated in the IIHs of the same node.  The\n      ECT-ALGORITHM,\
    \ Base VID tuples can come in any order, however.\n      There are currently 17\
    \ worldwide unique 802.1aq defined ECT-\n      ALGORITHMs given by values 00-80-C2-00\
    \ through 00-80-C2-10.\n   o  Base VID (12 bits): The Base VID that associated\
    \ the SPT Set via\n      the ECT-ALGORITHM.\n   o  SPVID (12 bits): The SPVID\
    \ is the Shortest Path VID assigned for\n      the Base VID to this node when\
    \ using SPBV mode.  It is not defined\n      for SPBM mode and Must be 0 for SPBM\
    \ mode B-VIDs.\n"
- title: 14.1.1.  SPB Instance Opaque ECT-ALGORITHM (SPB-I-OALG) Sub-TLV
  contents:
  - "14.1.1.  SPB Instance Opaque ECT-ALGORITHM (SPB-I-OALG) Sub-TLV\n   There are\
    \ multiple ECT algorithms defined for SPB; however, for the\n   future, additional\
    \ algorithms may be defined including but not\n   limited to ECMP- or hash-based\
    \ behaviors and (*,G) multicast trees.\n   These algorithms will use this Optional\
    \ TLV to define new algorithm\n   parametric data.  For tie-breaking parameters,\
    \ there are two broad\n   classes of algorithm, one that uses nodal data to break\
    \ ties and one\n   that uses link data to break ties.  This sub-TLV is used to\
    \ associate\n   opaque tie-breaking data with a node.  This sub-TLV, when present,\n\
    \   MUST be carried within the MT-Capability TLV (along with a valid SPB-\n  \
    \ Inst sub-TLV).  Multiple copies of this sub-TLV MAY be carried for\n   different\
    \ ECT-ALGORITHMs relating to this node.\n   There are of course many other uses\
    \ of this opaque data that have yet\n   to be defined.\n    0                \
    \   1                   2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3\
    \ 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+\n   |Type=SPB-I-OALG|\
    \ = 2\n   +-+-+-+-+-+-+-+-+\n   |   Length      |     (1 byte)\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |                  Opaque ECT-ALGORITHM    (4 bytes)            |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |                  Opaque ECT Information (variable)            |\n   |  \
    \                 .......................                     |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   o  Type: sub-TLV type 2.\n   o  Length: Total number of bytes contained in\
    \ the value field.\n   o  ECT-ALGORITHM: ECT-ALGORITHM is advertised when the\
    \ bridge\n      supports a given ECT-ALGORITHM (by OUI/Index) on a given VID.\n\
    \   o  ECT Information: ECT-ALGORITHM Information of variable length\n      which\
    \ SHOULD be in sub-TLV format with an IANA numbering space\n      where appropriate.\n"
- title: 15.  Adjacency Information Extensions
  contents:
  - '15.  Adjacency Information Extensions

    '
- title: 15.1.  SPB Link Metric (SPB-Metric) Sub-TLV
  contents:
  - "15.1.  SPB Link Metric (SPB-Metric) Sub-TLV\n   The SPB-Metric sub-TLV (type\
    \ 29) occurs within the Multi-Topology\n   Intermediate System Neighbor (MT-ISN)\
    \ TLV (type 222) or within the\n   Extended IS Reachability TLV (type 22).  If\
    \ this sub-TLV is not\n   present for an IS-IS adjacency, then that adjacency\
    \ Must not carry\n   SPB traffic for the given topology instance.\n    0     \
    \              1                   2                   3\n    0 1 2 3 4 5 6 7\
    \ 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+\n   |Type=SPB-Metric|\
    \ = 29\n   +-+-+-+-+-+-+-+-+\n   |   Length      |     (1 byte)\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       SPB-LINK-METRIC                         |   (3 bytes)\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   | Num of Ports    |     (1 byte)\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n \
    \  |      Port Identifier          |   ( 2 bytes)\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   o  Type: sub-TLV type 29.\n   o  Length: Total number of bytes contained in\
    \ the value field.\n   o  SPB-LINK-METRIC: the administrative cost or weight of\
    \ using this\n      link as a 24-bit unsigned number.  This metric applies to\
    \ the use\n      of this link for SPB traffic only.  Smaller numbers indicate\
    \ lower\n      weights and are more likely to carry SPB traffic.  Only one metric\n\
    \      is allowed per SPB instance per link.  If multiple metrics are\n      required,\
    \ multiple SPB instances Must be used, either within IS-IS\n      or within several\
    \ independent IS-IS instances.  If this metric is\n      different at each end\
    \ of a link, the maximum of the two values\n      Must be used in all SPB calculations\
    \ for the weight of this link.\n      The maximum SPB-LINK-METRIC value 2^24 -\
    \ 1 has a special\n      significance; this value indicates that although the\
    \ IS-IS\n      adjacency has formed, incompatible values have been detected in\n\
    \      parameters configured within SPB itself (for example, different\n     \
    \ regions), and the link Must Not be used for carrying SPB traffic.\n      Full\
    \ details are found in [802.1aq].\n   o  Num of Ports: the number of ports associated\
    \ with this link.\n   o  Port Identifier: the standard IEEE port identifier used\
    \ to build a\n      spanning tree associated with this link.\n"
- title: 15.1.1.  SPB Adjacency Opaque ECT-ALGORITHM (SPB-A-OALG) Sub-TLV
  contents:
  - "15.1.1.  SPB Adjacency Opaque ECT-ALGORITHM (SPB-A-OALG) Sub-TLV\n   There are\
    \ multiple ECT algorithms defined for SPB; however, for the\n   future, additional\
    \ algorithms may be defined.  The SPB-A-OALG sub-TLV\n   occurs within the Multi-Topology\
    \ Intermediate System TLV (type 222)\n   or the Extended IS Reachability TLV (type\
    \ 22).  Multiple copies of\n   this sub-TLV MAY be carried for different ECT-ALGORITHMs\
    \ related to\n   this adjacency.\n    0                   1                  \
    \ 2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4\
    \ 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+\n   |Type=SPB-A-OALG| = 30\n   +-+-+-+-+-+-+-+-+\n\
    \   |   Length      |     (1 byte)\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |                  Opaque ECT Algorithm    (4 bytes)            |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |                  Opaque ECT Information (variable)            |\n   |  \
    \                .........................                    |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   o  Type: sub-TLV type 30.\n   o  Length: Total number of bytes contained in\
    \ the value field.\n   o  ECT-ALGORITHM: ECT-ALGORITHM is advertised when the\
    \ bridge\n      supports a given ECT-ALGORITHM (by OUI/Index) on a given VID.\n\
    \   o  ECT Information: ECT-ALGORITHM Information of variable length in\n    \
    \  sub-TLV format using new IANA type values as appropriate.\n"
- title: 16.  Service Information Extensions
  contents:
  - '16.  Service Information Extensions

    '
- title: 16.1.  SPBM Service Identifier and Unicast Address (SPBM-SI) Sub-TLV
  contents:
  - "16.1.  SPBM Service Identifier and Unicast Address (SPBM-SI) Sub-TLV\n   The\
    \ SPBM-SI sub-TLV (type 3) is used to introduce service group\n   membership on\
    \ the originating node and/or to advertise an additional\n   B-MAC unicast address\
    \ present on, or reachable by the node.\n    0                   1           \
    \        2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0\
    \ 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+\n   |Type = SPBM-SI | = 3\n   +-+-+-+-+-+-+-+-+\n\
    \   |   Length      |     (1 byte)\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |                       B-MAC ADDRESS                           |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |    B-MAC ADDRESS  (6 bytes)   |  Res. |   Base VID (12 bits)  |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |T|R| Reserved  |                 I-SID  #1                     |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |T|R| Reserved  |                 I-SID  #2                     |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \                            .................\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |T|R| Reserved  |                 I-SID  #n                     |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   o  Type: sub-TLV type 3.\n   o  Length: Total number of bytes contained in\
    \ the value field.\n   o  B-MAC ADDRESS: a unicast address of this node.  It may\
    \ be the\n      single nodal address, or it may address a port or any other level\n\
    \      of granularity relative to the node.  In the case where the node\n    \
    \  only has one B-MAC address, this Should be the same as the SYSID\n      of\
    \ the node.  To add multiple B-MACs this TLV MUST be repeated per\n      additional\
    \ B-MAC.\n   o  Base VID (12 bits): The Base VID associated with the B-BMAC allows\n\
    \      the linkage to the ECT-ALGORITHM and SPT Set defined in the SPB-\n    \
    \  Inst sub-TLV.\n   o  I-SID #1 .. #n: 24-bit service group membership identifiers.\
    \  If\n      two nodes have an I-SID in common, intermediate nodes on the\n  \
    \    unique shortest path between them will create forwarding state for\n    \
    \  the related B-MAC addresses and will also construct multicast\n      forwarding\
    \ state using the I-SID and the node's SPSourceID to\n      construct a multicast\
    \ DA as described in IEEE 802.1aq LSB.  Each\n      I-SID has a Transmit (T) and\
    \ Receive (R) bit that indicates if the\n      membership is as a transmitter,\
    \ a receiver, or both (with both\n      bits set).  In the case where the Transmit\
    \ (T) and Receive (R)\n      bits are both zero, the I-SID instance is ignored\
    \ for the purposes\n      of distributed multicast computation, but the unicast\
    \ B-MAC\n      address Must be processed and installed at nodes providing transit\n\
    \      to that address.  If more I-SIDs are associated with a particular\n   \
    \   B-MAC than can fit in a single sub-TLV, this sub-TLV can be\n      repeated\
    \ with the same B-MAC but with different I-SID values.\n   o  Note: When the T\
    \ bit is not set, an SPB May still multicast to all\n      the other receiving\
    \ members of this I-SID (those advertising with\n      their R bits set), by configuring\
    \ edge replication and serial\n      unicast to each member locally.\n   The SPBM-SI\
    \ sub-TLV, when present, MUST be carried within the\n   MT-Capability TLV and\
    \ can occur multiple times in any LSP fragment.\n"
- title: 16.2.  SPBV MAC Address (SPBV-ADDR) Sub-TLV
  contents:
  - "16.2.  SPBV MAC Address (SPBV-ADDR) Sub-TLV\n   The SPBV-ADDR sub-TLV is IS-IS\
    \ sub-TLV type 4.  It Should be used for\n   advertisement of Group MAC addresses\
    \ in SPBV mode.  Unicast MAC\n   addresses will normally be distributed by reverse-path\
    \ learning, but\n   carrying them in this TLV is not precluded.  It has the following\n\
    \   format:\n    0                   1                   2                   3\n\
    \    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+\n\
    \   | Type=SPBV-ADDR|   = 4            (1 byte)\n   +-+-+-+-+-+-+-+-+\n   |  \
    \ Length      |                  (1 byte)\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |R|R| SR|       SPVID           |  (2 bytes)\n   +-+-+-+-+-+-+-+-+-+-+-+-+...+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |T|R| Reserved  |      MAC 1 Address              |  (1+6 bytes)\n   +-+-+-+-+-+-+-+-+-+-+-+-+...+-+-+-+-+-+-+-+-+-+-+-+\n\
    \                            ...\n   +-+-+-+-+-+-+-+-+-+-+-+-+...+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |T|R| Reserved  |      MAC N Address              |  (1+6 bytes)\n   +-+-+-+-+-+-+-+-+-+-+-+-+...+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   o  Type: sub-TLV type 4.\n   o Length: Total number of bytes contained in\
    \ the value field.  The\n      number of MAC address associated with the SPVID\
    \ is computed by\n      (Length - 2)/7.\n   o  SR bits (2 bits): The SR bits are\
    \ the service requirement\n      parameter from MMRP.  The service requirement\
    \ parameters have the\n      value 0 (Forward all Groups) and 1 (Forward All Unregistered\n\
    \      Groups) defined.  However, this attribute May also be missing.  So\n  \
    \    the SR bits are defined as 0 not declared, 1 Forward all Groups,\n      and\
    \ 2 Forward All Unregistered Groups.  The two 'R' reserved bits\n      immediately\
    \ preceding these SR bits Shall be set to zero when\n      originating this sub-TLV\
    \ and Shall be ignored on receipt.\n   o  SPVID (12 bits): The SPVID and by association\
    \ Base VID and the\n      ECT-ALGORITHM and SPT Set that the MAC addresses defined\
    \ below\n      will use.  If the SPVID is not allocated the SPVID Value is 0.\n\
    \      Note that if the ECT-ALGORITHM in use is spanning tree algorithm\n    \
    \  this value Must be populated with the Base VID and the MAC Must be\n      populated.\n\
    \   o  T bit (1 bit): This is the Transmit allowed bit for a following\n     \
    \ group MAC address.  This is an indication that the Group MAC\n      address\
    \ in the context of the SPVID of the bridge advertising this\n      Group MAC\
    \ Must be installed in the FDB of transit bridges, when\n      the bridge computing\
    \ the trees is on the corresponding ECT-\n      ALGORITHM shortest path between\
    \ the bridge advertising this MAC\n      with the T bit set and any receiver of\
    \ this Group MAC address.  A\n      bridge that does not advertise this bit set\
    \ for a MAC address Must\n      Not cause multicast forwarding state to be installed\
    \ on other\n      transit bridges in the network for traffic originating from\
    \ that\n      bridge.\n   o  R bit (1 bit): This is the Receive allowed bit for\
    \ the following\n      MAC address.  This is an indication that MAC addresses\
    \ as the\n      receiver Must be populated and installed when the bridge computing\n\
    \      the trees lies on the corresponding shortest path for this ECT-\n     \
    \ ALGORITHM between this receiver and any transmitter to this MAC\n      address.\
    \  An entry that does not have this bit set for a Group MAC\n      address is\
    \ prevented from receiving on this Group MAC address\n      because transit bridges\
    \ Must Not install multicast forwarding\n      state towards it in their FDBs.\n\
    \   o  MAC Address (48 bits): The MAC address declares this bridge as\n      part\
    \ of the multicast interest for this destination MAC address.\n      Multicast\
    \ trees can be efficiently constructed for destination by\n      populating FDB\
    \ entries for the subset of the shortest path tree\n      that connects the bridges\
    \ supporting the MAC address.  This\n      replaces the function of MMRP for SPTs.\
    \  The T and R bits above\n      have meaning as specified above.\n   The SPBV-ADDR\
    \ sub-TLV, when present, MUST be carried within the\n   MT-Capability TLV and\
    \ can occur multiple times in any LSP fragment.\n"
- title: 17.  Security Considerations
  contents:
  - "17.  Security Considerations\n   This document adds no additional security risks\
    \ to IS-IS, nor does it\n   provide any additional security for IS-IS when used\
    \ in a configured\n   environment or a single-operator domain such as a data center.\n\
    \   However, this protocol may be used in a zero-configuration\n   environment.\
    \  Zero configuration may apply to the automatic detection\n   and formation of\
    \ an IS-IS adjacency (forming an NNI port).  Likewise,\n   zero configuration\
    \ may apply to the automatic detection of VLAN-\n   tagged traffic and the formation\
    \ of a UNI port, with resultant I-SID\n   advertisements.\n   If zero configuration\
    \ methods are used to autoconfigure NNIs or UNIs,\n   there are intrinsic security\
    \ concerns that should be mitigated with\n   authentication procedures for the\
    \ above cases.  Such procedures are\n   beyond the scope of this document and\
    \ are yet to be defined.\n   In addition, this protocol can create significant\
    \ amounts of\n   multicast state when an I-SID is advertised with the T bit set.\n\
    \   Extra care should be taken to ensure that this cannot be used in a\n   denial-of-service\
    \ attack [RFC4732] in a zero-configuration\n   environment.\n"
- title: 18.  IANA Considerations
  contents:
  - "18.  IANA Considerations\n   Note that the NLPID value 0xC1 [RFC6328] used in\
    \ the IIH PDUs has\n   already been assigned by IANA for the purpose of 802.1aq;\
    \ therefore,\n   no further action is required for this code point.\n   Since\
    \ 802.1aq operates within the IS-IS Multi-Topology framework,\n   every sub-TLV\
    \ MUST occur in the context of the proper MT TLV (with\n   the exception of the\
    \ SPB-Metric sub-TLV, which MAY travel in TLV 22\n   where its MT ID is unspecified\
    \ but implied to be 0).  IANA has\n   allocated sub-TLVs for three Multi-Topology\
    \ TLVs per 802.1aq.  These\n   are the MT-Port-Cap TLV [RFC6165] used in the IIH,\
    \ the MT-Capability\n   TLV (new) used within the LSP, and finally the MT-ISN\
    \ TLV [MT] used\n   to contain adjacency information within the LSP.\n   This\
    \ document creates the following TLVs and sub-TLVs within the IIH\n   and LSP\
    \ PDUs MT TLVs as described below.  The '*' indicates new IANA\n   assignments\
    \ (per this document).  Other entries are shown to provide\n   context only.\n\
    \   The MT-Capability TLV is the only TLV that required a new sub-\n   registry.\
    \  Type value 144 has been assigned, with a starting sub-TLV\n   value of 1, and\
    \ managed by Expert Review.\n      +-----+----+-----------------+--------+------+-------------+\n\
    \      | PDU |TLV | SUB-TLV         | TYPE   | TYPE | #OCCURRENCE |\n      +-----+----+-----------------+--------+------+-------------+\n\
    \        IIH\n             MT-Port-Cap               143\n   *               SPB-MCID\
    \                    4      1\n   *               SPB-Digest                 \
    \ 5      >=0\n   *               SPB-B-VID                   6      1\n      \
    \  LSP\n   *         MT-Capability             144            >=1\n   *      \
    \         SPB-Inst                    1      1\n   *               SPB-I-OALG\
    \                  2      >=0\n   *               SPBM-SI                    \
    \ 3      >=0\n   *               SPBV-ADDR                   4      >=0\n    \
    \         MT-ISN                    222\n          or Extended IS Reachability\
    \   22\n   *               SPB-Metric                 29      1\n   *        \
    \       SPB-A-OALG                 30      >=0\n"
- title: 19.  References
  contents:
  - '19.  References

    '
- title: 19.1.  Normative References
  contents:
  - "19.1.  Normative References\n   [802.1aq]  \"Standard for Local and Metropolitan\
    \ Area Networks:\n              Virtual Bridges and Virtual Bridged Local Area\
    \ Networks -\n              Amendment 9: Shortest Path Bridging\", IEEE P802.1aq,\
    \ Draft\n              4.6, 2012.\n   [IS-IS]    ISO/IEC 10589:2002, Second Edition,\
    \ \"Intermediate System\n              to Intermediate System Intra-Domain Routing\
    \ Exchange\n              Protocol for use in Conjunction with the Protocol for\n\
    \              Providing the Connectionless-mode Network Service (ISO\n      \
    \        8473)\", 2002.\n   [MT]       Przygienda, T., Shen, N., and N. Sheth,\
    \ \"M-ISIS: Multi\n              Topology (MT) Routing in Intermediate System\
    \ to\n              Intermediate Systems (IS-ISs)\", RFC 5120, February 2008.\n\
    \   [RFC2119]  Bradner, S., \"Key words for use in RFCs to Indicate\n        \
    \      Requirement Levels\", BCP 14, RFC 2119, March 1997.\n   [RFC6165]  Banerjee,\
    \ A. and D. Ward, \"Extensions to IS-IS for Layer-2\n              Systems\",\
    \ RFC 6165, April 2011.\n   [RFC6328]  Eastlake 3rd, D., \"IANA Considerations\
    \ for Network Layer\n              Protocol Identifiers\", BCP 164, RFC 6328,\
    \ July 2011.\n"
- title: 19.2.  Informative References
  contents:
  - "19.2.  Informative References\n   [802.1ag]  \"Standard for Local and Metropolitan\
    \ Area Networks /\n              Virtual Bridged Local Area Networks / Amendment\
    \ 5:\n              Connectivity Fault Management\", IEEE STD 802.1ag, 2007.\n\
    \   [MMRP]     \"Standard for Local and Metropolitan Area Networks Virtual\n \
    \             Bridged Local Area Networks - Amendment 07: Multiple\n         \
    \     Registration Protocol\", IEEE STD 802.1ak, 2007.\n   [PB]       \"Standard\
    \ for Local and Metropolitan Area Networks /\n              Virtual Bridged Local\
    \ Area Networks / Amendment 4:\n              Provider Bridges\", IEEE STD 802.1ad,\
    \ 2005.\n   [PBB]      \"Standard for Local and Metropolitan Area Networks /\n\
    \              Virtual Bridged Local Area Networks / Amendment 7:\n          \
    \    Provider Backbone Bridges\", IEEE STD 802.1ah, 2008.\n   [RFC4732]  Handley,\
    \ M., Ed., Rescorla, E., Ed., and IAB, \"Internet\n              Denial-of-Service\
    \ Considerations\", RFC 4732, December\n              2006.\n   [Y.1731]   ITU-T,\
    \ \"OAM Functions and Mechanisms for Ethernet based\n              networks\"\
    , ITU-T Y.1731, 2006.\n"
- title: 20.  Acknowledgments
  contents:
  - "20.  Acknowledgments\n   The authors would like to thank Ayan Banerjee, Mick\
    \ Seaman, Janos\n   Farkas, Les Ginsberg, Stewart Bryant , Donald Eastlake, Matthew\
    \ Bocci\n   and Mike Shand for contributions and/or detailed review.\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Don Fedyk (editor)\n   Alcatel-Lucent\n   Groton, MA \
    \ 01450\n   USA\n   EMail: Donald.Fedyk@alcatel-lucent.com\n   Peter Ashwood-Smith\
    \ (editor)\n   Huawei Technologies Canada Ltd.\n   303 Terry Fox Drive, Suite\
    \ 400\n   Kanata, Ontario, K2K 3J1\n   CANADA\n   EMail: Peter.AshwoodSmith@huawei.com\n\
    \   Dave Allan\n   Ericsson\n   300 Holger Way\n   San Jose, CA  95134\n   USA\n\
    \   EMail: david.i.allan@ericsson.com\n   Nigel Bragg\n   Ciena Limited\n   Ciena\
    \ House\n   43-51 Worship Street\n   London  EC2A 2DX\n   UK\n   EMail: nbragg@ciena.com\n\
    \   Paul Unbehagen\n   Avaya\n   8742 Lucent Boulevard\n   Highlands Ranch, CO\
    \  80129\n   USA\n   EMail: unbehagen@avaya.com\n"
