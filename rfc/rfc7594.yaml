- title: __initial_text__
  contents:
  - ''
- title: A Framework for Large-Scale Measurement of Broadband Performance (LMAP)
  contents:
  - 'A Framework for Large-Scale Measurement of Broadband Performance (LMAP)

    '
- title: Abstract
  contents:
  - "Abstract\n   Measuring broadband service on a large scale requires a description\n\
    \   of the logical architecture and standardisation of the key protocols\n   that\
    \ coordinate interactions between the components.  This document\n   presents\
    \ an overall framework for large-scale measurements.  It also\n   defines terminology\
    \ for LMAP (Large-Scale Measurement of Broadband\n   Performance).\n"
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This document is not an Internet Standards Track specification;\
    \ it is\n   published for informational purposes.\n   This document is a product\
    \ of the Internet Engineering Task Force\n   (IETF).  It represents the consensus\
    \ of the IETF community.  It has\n   received public review and has been approved\
    \ for publication by the\n   Internet Engineering Steering Group (IESG).  Not\
    \ all documents\n   approved by the IESG are a candidate for any level of Internet\n\
    \   Standard; see Section 2 of RFC 5741.\n   Information about the current status\
    \ of this document, any errata,\n   and how to provide feedback on it may be obtained\
    \ at\n   http://www.rfc-editor.org/info/rfc7594.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (c) 2015 IETF Trust and the persons identified\
    \ as the\n   document authors.  All rights reserved.\n   This document is subject\
    \ to BCP 78 and the IETF Trust's Legal\n   Provisions Relating to IETF Documents\n\
    \   (http://trustee.ietf.org/license-info) in effect on the date of\n   publication\
    \ of this document.  Please review these documents\n   carefully, as they describe\
    \ your rights and restrictions with respect\n   to this document.  Code Components\
    \ extracted from this document must\n   include Simplified BSD License text as\
    \ described in Section 4.e of\n   the Trust Legal Provisions and are provided\
    \ without warranty as\n   described in the Simplified BSD License.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1.  Introduction  . . . . . . . . . . . . . . . . . . .\
    \ . . . . .   3\n   2.  Outline of an LMAP-Based Measurement System . . . . .\
    \ . . . .   5\n   3.  Terminology . . . . . . . . . . . . . . . . . . . . . .\
    \ . . .   9\n   4.  Constraints . . . . . . . . . . . . . . . . . . . . . . .\
    \ . .  12\n     4.1.  The Measurement System Is Under the Direction of a Single\n\
    \           Organisation  . . . . . . . . . . . . . . . . . . . . . .  13\n  \
    \   4.2.  Each MA May Only Have a Single Controller at Any Point in\n        \
    \   Time  . . . . . . . . . . . . . . . . . . . . . . . . . .  13\n   5.  Protocol\
    \ Model  . . . . . . . . . . . . . . . . . . . . . . .  13\n     5.1.  Bootstrapping\
    \ Process . . . . . . . . . . . . . . . . . .  14\n     5.2.  Control Protocol\
    \  . . . . . . . . . . . . . . . . . . . .  15\n       5.2.1.  Configuration .\
    \ . . . . . . . . . . . . . . . . . . .  15\n       5.2.2.  Instruction . . .\
    \ . . . . . . . . . . . . . . . . . .  16\n       5.2.3.  Capabilities, Failure,\
    \ and Logging Information  . . .  20\n     5.3.  Operation of Measurement Tasks\
    \  . . . . . . . . . . . . .  22\n       5.3.1.  Starting and Stopping Measurement\
    \ Tasks . . . . . . .  22\n       5.3.2.  Overlapping Measurement Tasks . . .\
    \ . . . . . . . . .  24\n     5.4.  Report Protocol . . . . . . . . . . . . .\
    \ . . . . . . . .  24\n       5.4.1.  Reporting of the Subscriber's Service Parameters\
    \  . .  26\n     5.5.  Operation of LMAP over the Underlying Packet Transfer\n\
    \           Mechanism . . . . . . . . . . . . . . . . . . . . . . . .  26\n  \
    \   5.6.  Items beyond the Scope of the Initial LMAP Work . . . . .  27\n    \
    \   5.6.1.  End-User-Controlled Measurement System  . . . . . . .  28\n   6. \
    \ Deployment Considerations . . . . . . . . . . . . . . . . . .  29\n     6.1.\
    \  Controller and the Measurement System . . . . . . . . . .  29\n     6.2.  Measurement\
    \ Agent . . . . . . . . . . . . . . . . . . . .  30\n       6.2.1.  Measurement\
    \ Agent on a Networked Device . . . . . . .  30\n       6.2.2.  Measurement Agent\
    \ Embedded in a Site Gateway  . . . .  31\n       6.2.3.  Measurement Agent Embedded\
    \ behind a Site NAT or\n               Firewall  . . . . . . . . . . . . . . .\
    \ . . . . . . .  31\n       6.2.4.  Multihomed Measurement Agent  . . . . . .\
    \ . . . . . .  31\n       6.2.5.  Measurement Agent Embedded in an ISP Network\
    \  . . . .  32\n     6.3.  Measurement Peer  . . . . . . . . . . . . . . . . .\
    \ . . .  32\n     6.4.  Deployment Examples . . . . . . . . . . . . . . . . .\
    \ . .  33\n   7.  Security Considerations . . . . . . . . . . . . . . . . . .\
    \ .  36\n   8.  Privacy Considerations  . . . . . . . . . . . . . . . . . . .\
    \  38\n     8.1.  Categories of Entities with Information of Interest . . .  38\n\
    \     8.2.  Examples of Sensitive Information . . . . . . . . . . . .  39\n  \
    \   8.3.  Different Privacy Issues Raised by Different Sorts of\n           Measurement\
    \ Methods . . . . . . . . . . . . . . . . . . .  40\n     8.4.  Privacy Analysis\
    \ of the Communication Models  . . . . . .  41\n       8.4.1.  MA Bootstrapping\
    \  . . . . . . . . . . . . . . . . . .  41\n       8.4.2.  Controller <-> Measurement\
    \ Agent  . . . . . . . . . .  42\n       8.4.3.  Collector <-> Measurement Agent\
    \ . . . . . . . . . . .  43\n       8.4.4.  Measurement Peer <-> Measurement Agent\
    \  . . . . . . .  43\n       8.4.5.  Measurement Agent . . . . . . . . . . . .\
    \ . . . . . .  45\n       8.4.6.  Storage and Reporting of Measurement Results\
    \  . . . .  46\n     8.5.  Threats . . . . . . . . . . . . . . . . . . . . . .\
    \ . . .  46\n       8.5.1.  Surveillance  . . . . . . . . . . . . . . . . . .\
    \ . .  46\n       8.5.2.  Stored Data Compromise  . . . . . . . . . . . . . .\
    \ .  47\n       8.5.3.  Correlation and Identification  . . . . . . . . . . .\
    \  47\n       8.5.4.  Secondary Use and Disclosure  . . . . . . . . . . . .  48\n\
    \     8.6.  Mitigations . . . . . . . . . . . . . . . . . . . . . . .  48\n  \
    \     8.6.1.  Data Minimisation . . . . . . . . . . . . . . . . . .  48\n    \
    \   8.6.2.  Anonymity . . . . . . . . . . . . . . . . . . . . . .  49\n      \
    \ 8.6.3.  Pseudonymity  . . . . . . . . . . . . . . . . . . . .  50\n       8.6.4.\
    \  Other Mitigations . . . . . . . . . . . . . . . . . .  50\n   9.  Informative\
    \ References  . . . . . . . . . . . . . . . . . . .  51\n   Acknowledgments .\
    \ . . . . . . . . . . . . . . . . . . . . . . . .  54\n   Authors' Addresses \
    \ . . . . . . . . . . . . . . . . . . . . . . .  54\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   There is a desire to be able to coordinate the execution\
    \ of broadband\n   measurements and the collection of measurement results across\
    \ a large\n   scale set of Measurement Agents (MAs).  These MAs could be\n   software-based\
    \ agents on PCs, embedded agents in consumer devices\n   (such as TVs or gaming\
    \ consoles), embedded in service-provider-\n   controlled devices such as set-top\
    \ boxes and home gateways, or simply\n   dedicated probes.  MAs may also be embedded\
    \ on a device that is part\n   of an ISP's network, such as a DSLAM (Digital Subscriber\
    \ Line Access\n   Multiplexer), router, Carrier Grade NAT (Network Address Translator),\n\
    \   or ISP Gateway.  It is expected that a measurement system could\n   easily\
    \ encompass a few hundred thousand or even millions of such MAs.\n   Such a scale\
    \ presents unique problems in coordination, execution, and\n   measurement result\
    \ collection.  Several use cases have been proposed\n   for large-scale measurements\
    \ including:\n   o  Operators: to help plan their network and identify faults\n\
    \   o  Regulators: to benchmark several network operators and support\n      public\
    \ policy development\n   Further details of the use cases can be found in [RFC7536].\
    \  The LMAP\n   framework should be useful for these, as well as other use cases,\n\
    \   such as to help end users run diagnostic checks like a network speed\n   test.\n\
    \   The LMAP framework has three basic elements: Measurement Agents,\n   Controllers,\
    \ and Collectors.\n   Measurement Agents (MAs) initiate the actual measurements,\
    \ which are\n   called Measurement Tasks in the LMAP terminology.  In principle,\n\
    \   there are no restrictions on the type of device in which the MA\n   function\
    \ resides.\n   The Controller instructs one or more MAs and communicates the set\
    \ of\n   Measurement Tasks an MA should perform and when.  For example, it may\n\
    \   instruct an MA at a home gateway: \"Measure the 'UDP latency' with\n   www.example.org;\
    \ repeat every hour at xx.05\".  The Controller also\n   manages an MA by instructing\
    \ it on how to report the Measurement\n   Results, for example: \"Report results\
    \ once a day in a batch at 4am\".\n   We refer to these as the Measurement Schedule\
    \ and Report Schedule.\n   The Collector accepts Reports from the MAs with the\
    \ Results from\n   their Measurement Tasks.  Therefore, the MA is a device that\
    \ gets\n   Instructions from the Controller, initiates the Measurement Tasks,\n\
    \   and reports to the Collector.  The communications between these three\n  \
    \ LMAP functions are structured according to a Control Protocol and a\n   Report\
    \ Protocol.\n   The design goals are the following large-scale Measurement System\n\
    \   features:\n   o  Standardised - in terms of the Measurement Tasks that they\n\
    \      perform, the components, the data models, and the protocols for\n     \
    \ transferring information between the components.  Amongst other\n      things,\
    \ standardisation enables meaningful comparisons of\n      measurements made of\
    \ the same Metric at different times and\n      places, and provides the operator\
    \ of a Measurement System with\n      criteria for evaluation of the different\
    \ solutions that can be\n      used for various purposes including buying decisions\
    \ (such as\n      buying the various components from different vendors).  Today's\n\
    \      systems are proprietary in some or all of these aspects.\n   o  Large-scale\
    \ - [RFC7536] envisages Measurement Agents in every home\n      gateway and edge\
    \ device such as set-top boxes and tablet\n      computers, and located throughout\
    \ the Internet as well [RFC7398].\n      It is expected that a Measurement System\
    \ could easily encompass a\n      few hundred thousand or even millions of Measurement\
    \ Agents.\n      Existing systems have up to a few thousand MAs (without judging\n\
    \      how much further they could scale).\n   o  Diversity - a Measurement System\
    \ should handle Measurement Agents\n      from different vendors that are in wired\
    \ and wireless networks,\n      can execute different sorts of Measurement Tasks,\
    \ are on devices\n      with IPv4 or IPv6 addresses, and so on.\n   o  Privacy\
    \ Respecting - the protocols and procedures should respect\n      the sensitive\
    \ information of all those involved in measurements.\n"
- title: 2.  Outline of an LMAP-Based Measurement System
  contents:
  - "2.  Outline of an LMAP-Based Measurement System\n   In this section, we provide\
    \ an overview of the whole Measurement\n   System.  New LMAP-specific terms are\
    \ capitalised; Section 3 provides\n   a terminology section with a compilation\
    \ of all the LMAP terms and\n   their definitions.  Section 4 onwards considers\
    \ the LMAP components\n   in more detail.\n   Other LMAP specifications will define\
    \ an Information Model, the\n   associated Data Models, and select/extend one\
    \ or more protocols for\n   the secure communication: firstly, a Control Protocol,\
    \ for a\n   Controller to instruct Measurement Agents regarding which performance\n\
    \   Metrics to measure, when to measure them, and how/when to report the\n   measurement\
    \ results to a Collector; secondly, a Report Protocol, for\n   a Measurement Agent\
    \ to report the results to the Collector.\n   Figure 1 shows the main components\
    \ of a Measurement System, and the\n   interactions of those components.  Some\
    \ of the components are outside\n   the scope of initial LMAP work.\n   The MA\
    \ performs Measurement Tasks.  One possibility is that the MA\n   observes existing\
    \ traffic.  Another possibility is for the MA to\n   generate (or receive) traffic\
    \ specially created for the purpose and\n   measure some Metric associated with\
    \ its transfer.  Figure 1 includes\n   both possibilities (in practice, it may\
    \ be more usual for an MA to do\n   one) whilst Section 6.4 shows some examples\
    \ of possible arrangements\n   of the components.\n   The MAs are pieces of code\
    \ that can be executed in specialised\n   hardware (hardware probe) or on a general-purpose\
    \ device (like a PC\n   or mobile phone).  A device with a Measurement Agent may\
    \ have\n   multiple physical interfaces (Wi-Fi, Ethernet, DSL (Digital\n   Subscriber\
    \ Line); and non-physical interfaces such as PPPoE\n   (Point-to-Point Protocol\
    \ over Ethernet) or IPsec) and the Measurement\n   Tasks may specify any one of\
    \ these.\n   The Controller manages an MA through use of the Control Protocol,\n\
    \   which transfers the Instruction to the MA.  This describes the\n   Measurement\
    \ Tasks the MA should perform and when.  For example the\n   Controller may instruct\
    \ an MA at a home gateway: \"Count the number of\n   TCP SYN packets observed\
    \ in a 1 minute interval; repeat every hour at\n   xx.05 + Unif[0,180] seconds\"\
    .  The Measurement Schedule determines\n   when the Measurement Tasks are executed.\
    \  The Controller also manages\n   an MA by instructing it on how to report the\
    \ Measurement Results, for\n   example: \"Report results once a day in a batch\
    \ at 4am + Unif[0,180]\n   seconds; if the end user is active then delay the report\
    \ 5 minutes.\"\n   The Report Schedule determines when the Reports are uploaded\
    \ to the\n   Collector.  The Measurement Schedule and Report Schedule can define\n\
    \   one-off (non-recurring) actions (for example, \"Do measurement now\",\n  \
    \ \"Report as soon as possible\"), as well as recurring ones.\n   The Collector\
    \ accepts a Report from an MA with the Measurement\n   Results from its Measurement\
    \ Tasks.  It then provides the Results to\n   a repository.\n   A Measurement\
    \ Method defines how to measure a Metric of interest.  It\n   is very useful to\
    \ standardise Measurement Methods, so that it is\n   meaningful to compare measurements\
    \ of the same Metric made at\n   different times and places.  It is also useful\
    \ to define a registry\n   for commonly used Metrics [IPPM-REG] so that a Metric\
    \ and its\n   associated Measurement Method can be referred to simply by its\n\
    \   identifier in the registry.  The registry will hopefully be\n   referenced\
    \ by other standards organisations.  The Measurement Methods\n   may be defined\
    \ by the IETF, locally, or by some other standards body.\n   Broadly speaking\
    \ there are two types of Measurement Methods.  In both\n   types, a Measurement\
    \ Agent measures a particular Observed Traffic\n   Flow.  It may involve a single\
    \ MA simply observing existing traffic\n   -- for example, the Measurement Agent\
    \ could count bytes or calculate\n   the average loss for a particular flow. \
    \ On the other hand, a\n   Measurement Method may observe traffic created specifically\
    \ for the\n   purpose of measurement.  This requires multiple network entities,\n\
    \   which perform different roles.  For example, to measure the round\n   trip\
    \ delay one possible Measurement Method would consist of an MA\n   sending an\
    \ ICMP (Internet Control Message Protocol) ECHO request\n   (\"ping\") to a responder\
    \ in the Internet.  In LMAP terms, the\n   responder is termed a Measurement Peer\
    \ (MP), meaning that it helps\n   the MA but is not managed by the Controller.\
    \  Other Measurement\n   Methods involve a second MA, with the Controller instructing\
    \ the MAs\n   in a coordinated manner.  Traffic generated specifically as part\
    \ of\n   the Measurement Method is termed Measurement Traffic; in the ping\n \
    \  example, it is the ICMP ECHO Requests and Replies.  The protocols\n   used\
    \ for the Measurement Traffic are out of the scope of initial LMAP\n   work and\
    \ fall within the scope of other IETF WGs such as IPPM (IP\n   Performance Metrics).\n\
    \   A Measurement Task is the action performed by a particular MA at a\n   particular\
    \ time, as the specific instance of its role in a\n   Measurement Method.  LMAP\
    \ is mainly concerned with Measurement Tasks,\n   for instance in terms of its\
    \ Information Model and Protocols.\n   For Measurement Results to be truly comparable,\
    \ as might be required\n   by a regulator, not only do the same Measurement Methods\
    \ need to be\n   used to assess Metrics, but also the set of Measurement Tasks\
    \ should\n   follow a similar Measurement Schedule and be of similar number. \
    \ The\n   details of such a characterisation plan are beyond the scope of IETF\n\
    \   work, although it is certainly facilitated by the IETF's work.\n   Both control\
    \ and report messages are transferred over a secure\n   Channel.  A Control Channel\
    \ is between the Controller and an MA; the\n   Control Protocol delivers Instruction\
    \ Messages to the MA and\n   Capabilities, Failure, and Logging Information in\
    \ the reverse\n   direction.  A Report Channel is between an MA and Collector,\
    \ and the\n   Report Protocol delivers Reports to the Collector.\n   Finally,\
    \ we introduce several components that are outside the scope\n   of initial LMAP\
    \ work that will be provided through existing protocols\n   or applications. \
    \ They affect how the Measurement System uses the\n   Measurement Results and\
    \ how it decides what set of Measurement Tasks\n   to perform.  As shown in Figure\
    \ 1, these components are: the\n   bootstrapper, Subscriber parameter database,\
    \ data analysis tools, and\n   Results repository.\n   The MA needs to be bootstrapped\
    \ with initial details about its\n   Controller, including authentication credentials.\
    \  The LMAP work\n   considers the Bootstrap process, since it affects the Information\n\
    \   Model.  However, LMAP does not define a Bootstrap protocol, since it\n   is\
    \ likely to be technology specific and could be defined by the\n   Broadband Forum,\
    \ CableLabs, or IEEE depending on the device.\n   Possible protocols are SNMP\
    \ (Simple Network Management Protocol),\n   NETCONF (Network Configuration Protocol),\
    \ or (for Home Gateways) CPE\n   WAN Management Protocol (CWMP) from the Auto\
    \ Configuration Server\n   (ACS) (as specified in TR-069 [TR-069]).\n   A Subscriber\
    \ parameter database contains information about the line,\n   such as the customer's\
    \ broadband contract (perhaps 2, 40, or 80\n   Mb/s), the line technology (DSL\
    \ or fibre), the time zone in which the\n   MA is located, and the type of home\
    \ gateway and MA.  These parameters\n   are already gathered and stored by existing\
    \ operations systems.  They\n   may affect the choice of what Measurement Tasks\
    \ to run and how to\n   interpret the Measurement Results.  For example, a download\
    \ test\n   suitable for a line with an 80 Mb/s contract may overwhelm a 2 Mb/s\n\
    \   line.\n   A Results repository records all Measurement Results in an equivalent\n\
    \   form, for example an SQL (Structured Query Language) database, so\n   that\
    \ they can easily be accessed by the data analysis tools.\n   The data analysis\
    \ tools receive the results from the Collector or via\n   the Results repository.\
    \  They might visualise the data or identify\n   which component or link is likely\
    \ to be the cause of a fault or\n   degradation.  This information could help\
    \ the Controller decide what\n   follow-up Measurement Task to perform in order\
    \ to diagnose a fault.\n   The data analysis tools also need to understand the\
    \ Subscriber's\n   service information, for example, the broadband contract.\n\
    \     +--------+      +-----------+              +-----------+      ^\n     |End\
    \ user|      |           |   Observed   | End user  |      |\n     |        |<-----|-----------|---Traffic--->|\
    \           |      |\n     |        |      |           |   Flow       |      \
    \     |      |\n     |        |      |           |              |           |\
    \   Non-LMAP\n     |        |      |           | Measurement  |           |  \
    \  Scope\n     |        |      |           |<--Traffic--->|           |      |\n\
    \     +--------+      |           |              +-----------+      |\n     ................|...........|.................................V\n\
    \        <MP>         |Measurement|                  <MP>           ^\n      \
    \               |Agent:     |                                 |\n            \
    \         |LMAP       |                                 |\n        +----------->|interface\
    \  |                                 |\n        |            +-----------+   \
    \                              |\n        |                ^    |            \
    \                       LMAP\n        |    Instruction |    |  Report        \
    \                  Scope\n        |  (over Control |    | (over Report Channel)\
    \              |\n        |     Channel)   |    +-----------------------+    \
    \        |\n        |                |                            |          \
    \  |\n        |                |                            |            |\n \
    \       |                |                            v            |\n       \
    \ |          +------------+               +------------+     |\n        |    \
    \      | Controller |               |  Collector |     |\n        |          +------------+\
    \               +------------+     v\n        |                ^      ^      \
    \               |            ^\n        |                |      |            \
    \         |            |\n        |                |      +--------+         \
    \   |            |\n        |                |               |            v  \
    \          |\n     +------------+   +----------+    +--------+    +----------+\
    \   |\n     |Bootstrapper|   |Subscriber|--->|  data  |<---| Results  |  Non-\n\
    \     +------------+   |parameter |    |analysis|    |repository|  LMAP\n    \
    \                  |database  |    | tools  |    +----------+ Scope\n        \
    \              +----------+    +--------+                   |\n              \
    \                                                     |\n                    \
    \                                               v\n     MP: Measurement Peer\n\
    \     Figure 1: Schematic of main elements of an LMAP-based Measurement\n   System\
    \ (showing the elements in and out of the scope of initial LMAP\n            \
    \                       work)\n"
- title: 3.  Terminology
  contents:
  - "3.  Terminology\n   This section defines terminology for LMAP.  Please note that\
    \ defined\n   terms are capitalised throughout.\n   Bootstrap: A process that\
    \ integrates a Measurement Agent into a\n   Measurement System.\n   Capabilities:\
    \ Information about the performance measurement\n   capabilities of the MA, in\
    \ particular the Measurement Method roles\n   and measurement protocol roles that\
    \ it can perform, and the device\n   hosting the MA, for example its interface\
    \ type and speed, but not\n   dynamic information.\n   Channel: A bidirectional\
    \ logical connection that is defined by a\n   specific Controller and MA, or Collector\
    \ and MA, plus associated\n   security.\n   Collector: A function that receives\
    \ a Report from an MA.\n   Configuration: A process for informing the MA about\
    \ its MA-ID,\n   (optional) Group-ID, and Control Channel.\n   Controller: A function\
    \ that provides a Measurement Agent with its\n   Instruction.\n   Control Channel:\
    \ A Channel between a Controller and an MA over which\n   Instruction Messages\
    \ and Capabilities, Failure, and Logging\n   Information are sent.\n   Control\
    \ Protocol: The protocol delivering Instruction(s) from a\n   Controller to a\
    \ Measurement Agent.  It also delivers Capabilities,\n   Failure, and Logging\
    \ Information from the Measurement Agent to the\n   Controller.  It can also be\
    \ used to update the MA's Configuration.\n   It runs over the Control Channel.\n\
    \   Cycle-ID: A tag that is sent by the Controller in an Instruction and\n   echoed\
    \ by the MA in its Report.  The same Cycle-ID is used by several\n   MAs that\
    \ use the same Measurement Method for a Metric with the same\n   Input Parameters.\
    \  Hence, the Cycle-ID allows the Collector to easily\n   identify Measurement\
    \ Results that should be comparable.\n   Data Model: The implementation of an\
    \ Information Model in a\n   particular data modelling language [RFC3444].\n \
    \  Environmental Constraint: A parameter that is measured as part of the\n   Measurement\
    \ Task, its value determining whether the rest of the\n   Measurement Task proceeds.\n\
    \   Failure Information: Information about the MA's failure to take\n   action\
    \ or execute an Instruction, whether concerning Measurement\n   Tasks or Reporting.\n\
    \   Group-ID: An identifier of a group of MAs.\n   Information Model: The protocol-neutral\
    \ definition of the semantics\n   of the Instructions, the Report, the status\
    \ of the different elements\n   of the Measurement System, as well of the events\
    \ in the system\n   [RFC3444].\n   Input Parameter: A parameter whose value is\
    \ left open by the Metric\n   and its Measurement Method and is set to a specific\
    \ value in a\n   Measurement Task.  Altering the value of an Input Parameter does\
    \ not\n   change the fundamental nature of the Measurement Task.\n   Instruction:\
    \ The description of Measurement Tasks for an MA to\n   perform and the details\
    \ of the Report for it to send.  It is the\n   collective description of the Measurement\
    \ Task configurations, the\n   configuration of the Measurement Schedules, the\
    \ configuration of the\n   Report Channel(s), the configuration of Report Schedule(s),\
    \ and the\n   details of any Suppression.\n   Instruction Message: The message\
    \ that carries an Instruction from a\n   Controller to a Measurement Agent.\n\
    \   Logging Information: Information about the operation of the\n   Measurement\
    \ Agent, which may be useful for debugging.\n   Measurement Agent (MA): The function\
    \ that receives Instruction\n   Messages from a Controller and operates the Instruction\
    \ by executing\n   Measurement Tasks (using protocols outside the scope of the\
    \ initial\n   LMAP work and perhaps in concert with one or more other Measurement\n\
    \   Agents or Measurement Peers) and (if part of the Instruction) by\n   reporting\
    \ Measurement Results to a Collector or Collectors.\n   Measurement Agent Identifier\
    \ (MA-ID): a Universally Unique IDentifier\n   [RFC4122] that identifies a particular\
    \ MA and is configured as part\n   of the Bootstrapping process.\n   Measurement\
    \ Method: The process for assessing the value of a Metric;\n   the process of\
    \ measuring some performance or reliability Metric\n   associated with the transfer\
    \ of traffic.\n   Measurement Peer (MP): The function that assists a Measurement\
    \ Agent\n   with Measurement Tasks and does not have an interface to the\n   Controller\
    \ or Collector.\n   Measurement Result: The output of a single Measurement Task\
    \ (the\n   value obtained for the Metric).\n   Measurement Schedule: The schedule\
    \ for performing Measurement Tasks.\n   Measurement System: The set of LMAP-defined\
    \ and related components\n   that are operated by a single organisation, for the\
    \ purpose of\n   measuring performance aspects of the network.\n   Measurement\
    \ Task: The action performed by a particular Measurement\n   Agent that consists\
    \ of the single assessment of a Metric through\n   operation of a Measurement\
    \ Method role at a particular time, with all\n   of the role's Input Parameters\
    \ set to specific values.\n   Measurement Traffic: the packet(s) generated by\
    \ some types of\n   Measurement Method that involve measuring some parameter associated\n\
    \   with the transfer of the packet(s).\n   Metric: The quantity related to the\
    \ performance and reliability of\n   the network that we'd like to know the value\
    \ of.\n   Observed Traffic Flow: In RFC 7011 [RFC7011], a Traffic Flow (or\n \
    \  Flow) is defined as \"a set of packets or frames passing an\n   Observation\
    \ Point in the network during a certain time interval.  All\n   packets belonging\
    \ to a particular Flow have a set of common\n   properties,\" such as packet header\
    \ fields, characteristics, and\n   treatments.  A Flow measured by the LMAP system\
    \ is termed an Observed\n   Traffic Flow.  Its properties are summarised and tabulated\
    \ in\n   Measurement Results (as opposed to raw capture and export).\n   Report:\
    \ The set of Measurement Results and other associated\n   information (as defined\
    \ by the Instruction).  The Report is sent by a\n   Measurement Agent to a Collector.\n\
    \   Report Channel: A Channel between a Collector and an MA over which\n   Report\
    \ messages are sent.\n   Report Protocol: The protocol delivering Report(s) from\
    \ a Measurement\n   Agent to a Collector.  It runs over the Report Channel.\n\
    \   Report Schedule: The schedule for sending Reports to a Collector.\n   Subscriber:\
    \ An entity (associated with one or more users) that is\n   engaged in a subscription\
    \ with a service provider.\n   Suppression: The temporary cessation of Measurement\
    \ Tasks.\n"
- title: 4.  Constraints
  contents:
  - "4.  Constraints\n   The LMAP framework makes some important assumptions, which\
    \ constrain\n   the scope of the initial LMAP work.\n"
- title: 4.1.  The Measurement System Is Under the Direction of a Single
  contents:
  - "4.1.  The Measurement System Is Under the Direction of a Single\n      Organisation\n\
    \   In the LMAP framework, the Measurement System is under the direction\n   of\
    \ a single organisation that is responsible for any impact that its\n   measurements\
    \ have on a user's quality of experience and privacy.\n   Clear responsibility\
    \ is critical given that a misbehaving large-scale\n   Measurement System could\
    \ potentially harm user experience, user\n   privacy, and network security.\n\
    \   However, the components of an LMAP Measurement System can be deployed\n  \
    \ in administrative domains that are not owned by the measuring\n   organisation.\
    \  Thus, the system of functions deployed by a single\n   organisation constitutes\
    \ a single LMAP domain, which may span\n   ownership or other administrative boundaries.\n"
- title: 4.2.  Each MA May Only Have a Single Controller at Any Point in Time
  contents:
  - "4.2.  Each MA May Only Have a Single Controller at Any Point in Time\n   An MA\
    \ is instructed by one Controller and is in one Measurement\n   System.  The constraint\
    \ avoids different Controllers giving an MA\n   conflicting instructions and so\
    \ means that the MA does not have to\n   manage contention between multiple Measurement\
    \ (or Report) Schedules.\n   This simplifies the design of MAs (critical for a\
    \ large-scale\n   infrastructure) and allows a Measurement Schedule to be tested\
    \ on\n   specific types of MAs before deployment to ensure that the end-user\n\
    \   experience is not impacted (due to CPU, memory, or broadband-product\n   constraints).\
    \  However, a Measurement System may have several\n   Controllers.\n"
- title: 5.  Protocol Model
  contents:
  - "5.  Protocol Model\n   A protocol model [RFC4101] presents an architectural model\
    \ for how\n   the protocol operates and needs to answer three basic questions:\n\
    \   1.  What problem is the protocol trying to address?\n   2.  What messages\
    \ are being transmitted and what do they mean?\n   3.  What are the important,\
    \ but not obvious [sic], features of the\n       protocol?\n   An LMAP system\
    \ goes through the following phases:\n   o  a Bootstrapping process before the\
    \ MA can take part in the other\n      three phases.\n   o  a Control Protocol,\
    \ which delivers Instruction Messages from a\n      Controller to an MA (amongst\
    \ other things).\n   o  the actual Measurement Tasks, which measure some performance\
    \ or\n      reliability Metric(s) associated with the transfer of packets.\n \
    \  o  a Report Protocol, which delivers Reports containing the\n      Measurement\
    \ Results from an MA to a Collector.\n   The figures show the various LMAP messages\
    \ and use the following\n   conventions:\n   o  (optional): indicated by round\
    \ brackets\n   o  [potentially repeated]: indicated by square brackets\n   The\
    \ protocol model is closely related to the Information Model\n   [LMAP-INFO],\
    \ which is the abstract definition of the information\n   carried by the protocol.\
    \  (If there is any difference between this\n   document and the Information Model,\
    \ the latter is definitive.)  The\n   purpose of both is to provide a protocol\
    \ and device-independent view,\n   which can be implemented via specific protocols.\
    \  LMAP defines a\n   specific Control Protocol and Report Protocol, but others\
    \ could be\n   defined by other standards bodies or be proprietary.  However,\
    \ it is\n   important that they all implement the same Information Model and\n\
    \   protocol model, in order to ease the definition, operation, and\n   interoperability\
    \ of large-scale Measurement Systems.\n"
- title: 5.1.  Bootstrapping Process
  contents:
  - "5.1.  Bootstrapping Process\n   The primary purpose of Bootstrapping is to enable\
    \ an MA to be\n   integrated into a Measurement System.  The MA retrieves information\n\
    \   about itself (like its identity in the Measurement System) and about\n   the\
    \ Controller, the Controller learns information about the MA, and\n   they learn\
    \ about security information to communicate (such as\n   certificates and credentials).\n\
    \   Whilst this memo considers the Bootstrapping process, it is beyond\n   the\
    \ scope of initial LMAP work to define a Bootstrap mechanism, as it\n   depends\
    \ on the type of device and access.\n   As a result of the Bootstrapping process,\
    \ the MA learns the following\n   information ([LMAP-INFO] defines the consequent\
    \ list of information\n   elements):\n   o  its identifier, either its MA-ID or\
    \ a device identifier such as\n      one of its Media Access Control (MAC) addresses\
    \ or both.\n   o  (optionally) a Group-ID, shared by several MAs and could be\
    \ useful\n      for privacy reasons.  For instance, reporting the Group-ID and\
    \ not\n      the MA-ID could hinder tracking of a mobile device.\n   o  the Control\
    \ Channel, which is defined by:\n      *  the address that identifies the Control\
    \ Channel, such as the\n         Controller's FQDN (Fully Qualified Domain Name)\
    \ [RFC1035]).\n      *  security information (for example, to enable the MA to\
    \ decrypt\n         the Instruction Message and encrypt messages sent to the\n\
    \         Controller).\n   The details of the Bootstrapping process are device/access\
    \ specific.\n   For example, the information could be in the firmware, manually\n\
    \   configured, or transferred via a protocol like that described in\n   TR-069\
    \ [TR-069].  There may be a multi-stage process where the MA\n   contacts a 'hard-coded'\
    \ address, which replies with the Bootstrapping\n   information.\n   The MA must\
    \ learn its MA-ID before getting an Instruction, either\n   during Bootstrapping\
    \ or via Configuration (Section 5.2.1).\n"
- title: 5.2.  Control Protocol
  contents:
  - "5.2.  Control Protocol\n   The primary purpose of the Control Protocol is to\
    \ allow the\n   Controller to configure a Measurement Agent with an Instruction\
    \ about\n   what Measurement Tasks to do, when to do them, and how to report the\n\
    \   Measurement Results (Section 5.2.2).  The Measurement Agent then acts\n  \
    \ on the Instruction autonomously.  The Control Protocol also enables\n   the\
    \ MA to inform the Controller about its Capabilities and any\n   Failure and Logging\
    \ Information (Section 5.2.3).  Finally, the\n   Control Protocol allows the Controller\
    \ to update the MA's\n   Configuration.\n"
- title: 5.2.1.  Configuration
  contents:
  - "5.2.1.  Configuration\n   Configuration allows the Controller to update the MA\
    \ about some or\n   all of the information that it obtained during the Bootstrapping\n\
    \   process: the MA-ID, the (optional) Group-ID, and the Control Channel.\n  \
    \ Figure 2 outlines the Configuration process.  The Measurement System\n   might\
    \ use Configuration for several reasons.  For example, the\n   Bootstrapping process\
    \ could 'hard code' the MA with details of an\n   initial Controller, and then\
    \ the initial Controller could configure\n   the MA with details about the Controller\
    \ that sends Instruction\n   Messages.  (Note that an MA only has one Control\
    \ Channel, so it is\n   associated with only one Controller, at any moment.)\n\
    \   Note that an implementation may choose to combine Configuration\n   information\
    \ and an Instruction Message into a single message.\n   +-----------------+  \
    \                                 +-------------+\n   |                 |    \
    \                               | Measurement |\n   |  Controller     |===================================|\
    \  Agent      |\n   +-----------------+                                   +-------------+\n\
    \   Configuration information:               ->\n   (MA-ID),\n   (Group-ID),\n\
    \   (Control Channel)\n                                            <-        Response(details)\n\
    \   MA: Measurement Agent\n                    Figure 2: Outline of Configuration\n"
- title: 5.2.2.  Instruction
  contents:
  - "5.2.2.  Instruction\n   The Instruction is the description of the Measurement\
    \ Tasks for a\n   Measurement Agent to do and the details of the Measurement Reports\n\
    \   for it to send.  Figure 3 outlines the Instruction process.  In order\n  \
    \ to update the Instruction, the Controller uses the Control Protocol\n   to send\
    \ an Instruction Message over the Control Channel.\n   +-----------------+   \
    \                                +-------------+\n   |                 |     \
    \                              | Measurement |\n   |  Controller     |===================================|\
    \  Agent      |\n   +-----------------+                                   +-------------+\n\
    \   Instruction:                            ->\n   [(Measurement Task configuration\n\
    \       URI of Metric(\n      [Input Parameter],\n      (role)\n      (interface),\n\
    \      (Cycle-ID)\n      (measurement point)),\n    (Report Channel),\n    (Schedule),\n\
    \    (Suppression information)]\n                                           <-\
    \         Response(details)\n                     Figure 3: Outline of Instruction\n\
    \   The Instruction defines the following information ([LMAP-INFO]\n   defines\
    \ the consequent list of information elements):\n   o  the Measurement Task configurations,\
    \ each of which needs:\n      *  the Metric, specified as a URI to a registry\
    \ entry; it includes\n         the specification of a Measurement Method.  The\
    \ registry could\n         be defined by a standards organisation or locally by\
    \ the\n         operator of the Measurement System.  Note that, at the time of\n\
    \         writing, the IETF is working on such a registry specification\n    \
    \     [IPPM-REG].\n      *  the Measurement Method role.  For some Measurement\
    \ Methods,\n         different parties play different roles; for example, an iperf\n\
    \         sender and receiver (see Section 6.4).  Each Metric and its\n      \
    \   associated Measurement Method will describe all measurement\n         roles\
    \ involved in the process.\n      *  a boolean flag (suppress or do-not-suppress)\
    \ indicating if such\n         a Measurement Task is impacted by a Suppression\
    \ message (see\n         Section 5.2.2.1).  Thus, the flag is an Input Parameter.\n\
    \      *  any Input Parameters that need to be set for the Metric and the\n  \
    \       Measurement Method.  For example, the address of a Measurement\n     \
    \    Peer (or other Measurement Agent) that may be involved in a\n         Measurement\
    \ Task, or traffic filters associated with the\n         Observed Traffic Flow.\n\
    \      *  the interface to use (if not defined, then the default\n         interface\
    \ is used), if the device with the MA has multiple\n         interfaces.\n   \
    \   *  optionally, a Cycle-ID.\n      *  optionally, the measurement point designation\
    \ [RFC7398] of the\n         MA and, if applicable, of the MP or other MA.  This\
    \ can be\n         useful for reporting.\n   o  configuration of the Schedules,\
    \ each of which needs:\n      *  the timing of when the Measurement Tasks are\
    \ to be performed or\n         the Measurement Reports are to be sent.  Possible\
    \ types of\n         timing are periodic, calendar-based periodic, one-off\n \
    \        immediate, and one-off at a future time.\n   o  configuration of the\
    \ Report Channel(s), each of which needs:\n      *  the address of the Collector,\
    \ for instance its URL.\n      *  security for this Report Channel, for example,\
    \ the X.509\n         certificate.\n   o  Suppression information, if any (see\
    \ Section 5.2.2.1).\n   A single Instruction Message may contain some or all of\
    \ the above\n   parts.  The finest level of granularity possible in an Instruction\n\
    \   Message is determined by the implementation and operation of the\n   Control\
    \ Protocol.  For example, a single Instruction Message may add\n   or update an\
    \ individual Measurement Schedule -- or it may only update\n   the complete set\
    \ of Measurement Schedules; a single Instruction\n   Message may update both Measurement\
    \ Schedules and Measurement Task\n   configurations -- or only one at a time;\
    \ and so on.  However,\n   Suppression information always replaces (rather than\
    \ adds to) any\n   previous Suppression information.\n   The MA informs the Controller\
    \ that it has successfully understood the\n   Instruction Message, or that it\
    \ cannot take action on the Instruction\n   -- for example, if it doesn't include\
    \ a parameter that is mandatory\n   for the requested Metric and Measurement Method,\
    \ or if it is missing\n   details of the target Collector.\n   The Instruction\
    \ Message instructs the MA; the Control Protocol does\n   not allow the MA to\
    \ negotiate, as this would add complexity to the\n   MA, Controller, and Control\
    \ Protocol for little benefit.\n"
- title: 5.2.2.1.  Suppression
  contents:
  - "5.2.2.1.  Suppression\n   The Instruction may include Suppression information.\
    \  The main\n   motivation for Suppression is to enable the Measurement System\
    \ to\n   eliminate Measurement Traffic, because there is some unexpected\n   network\
    \ issue, for example.  There may be other circumstances when\n   Suppression is\
    \ useful, for example, to eliminate inessential\n   Reporting traffic (even if\
    \ there is no Measurement Traffic).\n   Figure 4 outlines the Suppression process.\n\
    \   The Suppression information may include any of the following optional\n  \
    \ fields:\n   o  a set of Measurement Tasks to suppress; the others are not\n\
    \      suppressed.  For example, this could be useful if a particular\n      Measurement\
    \ Task is overloading a Measurement Peer with\n      Measurement Traffic.\n  \
    \ o  a set of Measurement Schedules to suppress; the others are not\n      suppressed.\
    \  For example, suppose the Measurement System has\n      defined two Schedules,\
    \ one with the most critical Measurement\n      Tasks and the other with less\
    \ critical ones that create a lot of\n      Measurement Traffic, in which case\
    \ it may only want to suppress\n      the second.\n   o  a set of Reporting Schedules\
    \ to suppress; the others are not\n      suppressed.  This can be particularly\
    \ useful in the case of a\n      Measurement Method that doesn't generate Measurement\
    \ Traffic; it\n      may need to continue observing traffic flows but temporarily\n\
    \      suppress Reports due to the network footprint of the Reports.\n   o  if\
    \ all the previous fields are included then the MA suppresses the\n      union\
    \ -- in other words, it suppresses the set of Measurement\n      Tasks, the set\
    \ of Measurement Schedules, and the set of Reporting\n      Schedules.\n   o \
    \ if the Suppression information includes neither a set of\n      Measurement\
    \ Tasks nor a set of Measurement Schedules, then the MA\n      does not begin\
    \ new Measurement Tasks that have the boolean flag\n      set to suppress; however,\
    \ the MA does begin new Measurement Tasks\n      that have the flag set to do-not-suppress.\n\
    \   o  a start time, at which Suppression begins.  If absent, then\n      Suppression\
    \ begins immediately.\n   o  an end time, at which Suppression ends.  If absent,\
    \ then\n      Suppression continues until the MA receives an Un-suppress\n   \
    \   message.\n   o  a demand that the MA immediately end on-going Measurement\
    \ Task(s)\n      that are tagged for Suppression.  (Most likely it is appropriate\n\
    \      to delete the associated partial Measurement Result(s).)  This\n      could\
    \ be useful in the case of a network emergency so that the\n      operator can\
    \ eliminate all inessential traffic as rapidly as\n      possible.  If absent,\
    \ the MA completes on-going Measurement Tasks.\n   An Un-suppress message instructs\
    \ the MA to no longer suppress,\n   meaning that the MA once again begins new\
    \ Measurement Tasks,\n   according to its Measurement Schedule.\n   Note that\
    \ Suppression is not intended to permanently stop a\n   Measurement Task (instead,\
    \ the Controller should send a new\n   Measurement Schedule), nor to permanently\
    \ disable an MA (instead,\n   some kind of management action is suggested).\n\
    \   +-----------------+                              +-------------+\n   |   \
    \              |                              | Measurement |\n   |  Controller\
    \     |==============================|  Agent      |\n   +-----------------+ \
    \                             +-------------+\n   Suppress:\n   [(Measurement\
    \ Task),                  ->\n    (Measurement Schedule),\n    (start time),\n\
    \    (end time),\n    (on-going suppressed?)]\n   Un-suppress                \
    \           ->\n                     Figure 4: Outline of Suppression\n"
- title: 5.2.3.  Capabilities, Failure, and Logging Information
  contents:
  - "5.2.3.  Capabilities, Failure, and Logging Information\n   The Control Protocol\
    \ also enables the MA to inform the Controller\n   about various information,\
    \ such as its Capabilities and any Failures.\n   Figure 5 outlines the process\
    \ for Capabilities, Failure, and Logging\n   Information.  It is also possible\
    \ to use a device-specific mechanism,\n   which is beyond the scope of the initial\
    \ LMAP work.\n   Capabilities are information about the MA that the Controller\
    \ needs\n   to know in order to correctly instruct the MA, such as:\n   o  the\
    \ Measurement Method (roles) that the MA supports.\n   o  the measurement protocol\
    \ types and roles that the MA supports.\n   o  the interfaces that the MA has.\n\
    \   o  the version of the MA.\n   o  the version of the hardware, firmware, or\
    \ software of the device\n      with the MA.\n   o  its Instruction (this could\
    \ be useful if the Controller thinks\n      something has gone wrong and wants\
    \ to check what Instruction the\n      MA is using).\n   o  but not dynamic information\
    \ like the currently unused CPU, memory,\n      or battery life of the device\
    \ with the MA.\n   Failure Information concerns why the MA has been unable to\
    \ execute a\n   Measurement Task or deliver a Report, for example:\n   o  the\
    \ Measurement Task failed to run properly because the MA\n      (unexpectedly)\
    \ has no spare CPU cycles.\n   o  the MA failed to record the Measurement Results\
    \ because it\n      (unexpectedly) is out of spare memory.\n   o  a Report failed\
    \ to deliver Measurement Results because the\n      Collector (unexpectedly) is\
    \ not responding.\n   o  but not if a Measurement Task correctly doesn't start.\
    \  For\n      example, the first step of some Measurement Methods is for the MA\n\
    \      to check that there is no cross-traffic.\n   Logging Information concerns\
    \ how the MA is operating and may help\n   debugging, for example:\n   o  the\
    \ last time the MA ran a Measurement Task.\n   o  the last time the MA sent a\
    \ Measurement Report.\n   o  the last time the MA received an Instruction Message.\n\
    \   o  whether the MA is currently suppressing Measurement Tasks.\n   Capabilities,\
    \ Failure, and Logging Information are sent by the MA,\n   either in response\
    \ to a request from the Controller (for example, if\n   the Controller forgets\
    \ what the MA can do or otherwise wants to\n   resynchronise what it knows about\
    \ the MA), or on its own initiative\n   (for example, when the MA first communicates\
    \ with a Controller or if\n   it becomes capable of a new Measurement Method).\
    \  Another example of\n   the latter case is if the device with the MA re-boots,\
    \ then the MA\n   should notify its Controller in case its Instruction needs to\
    \ be\n   updated; to avoid a \"mass calling event\" after a widespread power\n\
    \   restoration affecting many MAs, it is sensible for an MA to pause for\n  \
    \ a random delay, perhaps in the range of one minute or so.\n   +-----------------+\
    \                                  +-------------+\n   |                 |   \
    \                               | Measurement |\n   |  Controller     |==================================|\
    \  Agent      |\n   +-----------------+                                  +-------------+\n\
    \       (Request Capabilities),\n       (Request Failure Information),\n     \
    \  (Request Logging Information),\n       (Request Instruction)              \
    \  ->\n                                            <-           (Capabilities),\n\
    \                                                  (Failure Information),\n  \
    \                                                (Logging Information),\n    \
    \                                                      (Instruction)\n    Figure\
    \ 5: Outline of Capabilities, Failure, and Logging Information\n"
- title: 5.3.  Operation of Measurement Tasks
  contents:
  - "5.3.  Operation of Measurement Tasks\n   This LMAP framework is neutral to what\
    \ the actual Measurement Task\n   is.  It does not define Metrics and Measurement\
    \ Methods; these are\n   defined elsewhere.\n   The MA carries out the Measurement\
    \ Tasks as instructed, unless it\n   gets an updated Instruction.  The MA acts\
    \ autonomously, in terms of\n   operation of the Measurement Tasks and reporting\
    \ of the Results; it\n   doesn't do a 'safety check' with the Controller to ask\
    \ whether it\n   should still continue with the requested Measurement Tasks.\n\
    \   The MA may operate Measurement Tasks sequentially or in parallel (see\n  \
    \ Section 5.3.2).\n"
- title: 5.3.1.  Starting and Stopping Measurement Tasks
  contents:
  - "5.3.1.  Starting and Stopping Measurement Tasks\n   This LMAP framework does\
    \ not define a generic start and stop process,\n   since the correct approach\
    \ depends on the particular Measurement\n   Task; the details are defined as part\
    \ of each Measurement Method.\n   This section provides some general hints.  The\
    \ MA does not inform the\n   Controller about Measurement Tasks starting and stopping.\n\
    \   Before beginning a Measurement Task, the MA may want to run a\n   pre-check.\
    \  (The pre-check could be defined as a separate, preceding\n   Task or as the\
    \ first part of a larger Task.)\n   For Measurement Tasks that observe existing\
    \ traffic, action could\n   include:\n   o  checking that there is traffic of\
    \ interest.\n   o  checking that the device with the MA has enough resources to\n\
    \      execute the Measurement Task reliably.  Note that the designer of\n   \
    \   the Measurement System should ensure that the device's resources\n      are\
    \ normally sufficient to comfortably operate the Measurement\n      Tasks.\n \
    \  For Measurement Tasks that generate Measurement Traffic, a pre-check\n   could\
    \ include:\n   o  the MA checking that there is no cross-traffic.  In other words,\
    \ a\n      check that the end-user isn't already sending traffic.\n   o  the MA\
    \ checking with the Measurement Peer (or other Measurement\n      Agent) involved\
    \ in the Measurement Task that it can handle a new\n      Measurement Task.  For\
    \ example, the Measurement Peer may already\n      be handling many Measurement\
    \ Tasks with other MAs.\n   o  sending traffic that probes the path to check it\
    \ isn't overloaded.\n   o  checking that the device with the MA has enough resources\
    \ to\n      execute the Measurement Task reliably.\n   Similar checks may continue\
    \ during the Measurement Task, in\n   particular for a Measurement Task that is\
    \ long-running and/or creates\n   a lot of Measurement Traffic.  If, for example,\
    \ the check detects\n   that the end-user has started sending traffic, then the\
    \ Measurement\n   Task can be abandoned.  A Measurement Task could also be abandoned\
    \ in\n   response to a \"suppress\" message (see Section 5.2.2.1).  Action could\n\
    \   include:\n   o  for 'upload' tests, the MA not sending traffic.\n   o  for\
    \ 'download' tests, the MA closing the TCP connection or sending\n      a TWAMP\
    \ (Two-Way Active Measurement Protocol) Stop-Sessions\n      command [RFC5357].\n\
    \   The Controller may want an MA to run the same Measurement Task\n   indefinitely\
    \ (for example, \"run the 'upload speed' Measurement Task\n   once an hour until\
    \ further notice\").  To prevent the MA continuously\n   generating traffic after\
    \ a Controller has permanently failed (or\n   communications with the Controller\
    \ have failed), the MA can be\n   configured with a time limit; if the MA doesn't\
    \ hear from the\n   Controller for this length of time, then it stops operating\n\
    \   Measurement Tasks.\n"
- title: 5.3.2.  Overlapping Measurement Tasks
  contents:
  - "5.3.2.  Overlapping Measurement Tasks\n   An MA may start a new Measurement Task\
    \ before another Measurement\n   Task has completed.  This may be intentional\
    \ (the way that the\n   Measurement System has designed the Measurement Schedules),\
    \ but it\n   could also be unintentional -- for instance, if a Measurement Task\n\
    \   has a 'wait for X' step that pauses for an unexpectedly long time.\n   This\
    \ document makes no assumptions about the impact of one\n   Measurement Task on\
    \ another.\n   The operator of the Measurement System can handle (or not)\n  \
    \ overlapping Measurement Tasks in any way they choose -- it is a\n   policy or\
    \ implementation issue and not the concern of LMAP.  Some\n   possible approaches\
    \ are: to configure the MA to not begin the second\n   Measurement Task; to start\
    \ the second Measurement Task as usual; for\n   the action to be an Input Parameter\
    \ of the Measurement Task; and so\n   on.\n   It may be important for the Measurement\
    \ Report to include the fact\n   that the Measurement Tasks overlapped.\n"
- title: 5.4.  Report Protocol
  contents:
  - "5.4.  Report Protocol\n   The primary purpose of the Report Protocol is to allow\
    \ a Measurement\n   Agent to report its Measurement Results to a Collector, along\
    \ with\n   the context in which they were obtained.  Figure 6 outlines the\n \
    \  Report process.\n   +-----------------+                                  +-------------+\n\
    \   |                 |                                  | Measurement |\n   |\
    \   Collector     |==================================|  Agent      |\n   +-----------------+\
    \                                  +-------------+\n                         \
    \            <-    Report:\n                                                 \
    \ [MA-ID &/or Group-ID],\n                                                   [Measurement\
    \ Result],\n                                          [details of Measurement\
    \ Task],\n                                                             (Cycle-ID)\n\
    \   ACK                               ->\n   MA: Measurement Agent\n         \
    \             Figure 6: Outline of the Report\n   The Report contains:\n   o \
    \ the MA-ID or a Group-ID (to anonymise results).\n   o  the actual Measurement\
    \ Results, including the time they were\n      measured.  In general, the time\
    \ is simply the MA's best estimate\n      and there is no guarantee on the accuracy\
    \ or granularity of the\n      information.  It is possible that some specific\
    \ analysis of a\n      particular Measurement Method's Results will impose timing\n\
    \      requirements.\n   o  the details of the Measurement Task (to avoid the\
    \ Collector having\n      to ask the Controller for this information later), for\
    \ example,\n      the interface used for the measurements.\n   o  the Cycle-ID,\
    \ if one was included in the Instruction.\n   o  perhaps the Subscriber's service\
    \ parameters (see Section 5.4.1).\n   o  the measurement point designation of\
    \ the MA and, if applicable,\n      the MP or other MA, if the information was\
    \ included in the\n      Instruction.  This numbering system is defined in [RFC7398]\
    \ and\n      allows a Measurement Report to describe the path measured\n     \
    \ abstractly (for example, \"from a measurement agent at a home\n      gateway\
    \ to a measurement peer at a DSLAM\").  Also, the MA can\n      anonymise results\
    \ by including measurement point designations\n      instead of IP addresses (Section\
    \ 8.6.2).\n   The MA sends Reports as defined by the Instruction.  The Instruction\n\
    \   may tell the MA to report the same Results to more than one\n   Collector,\
    \ or to report a different subset of Results to different\n   Collectors.  Also,\
    \ a Measurement Task may create two (or more)\n   Measurement Results, which could\
    \ be reported differently (for\n   example, one Result could be reported periodically,\
    \ whilst the second\n   Result could be an alarm that is created as soon as the\
    \ measured\n   value of the Metric crosses a threshold and that is reported\n\
    \   immediately).\n   Optionally, a Report is not sent when there are no Measurement\n\
    \   Results.\n   In the initial LMAP Information Model and Report Protocol, for\n\
    \   simplicity we assume that all Measurement Results are reported as-is,\n  \
    \ but allow extensibility so that a Measurement System (or perhaps a\n   second\
    \ phase of LMAP) could allow an MA to:\n   o  label, or perhaps not include, Measurement\
    \ Results impacted by,\n      for instance, cross-traffic or a Measurement Peer\
    \ (or other\n      Measurement Agent) being busy.\n   o  label Measurement Results\
    \ obtained by a Measurement Task that\n      overlapped with another.\n   o  not\
    \ report the Measurement Results if the MA believes that they\n      are invalid.\n\
    \   o  detail when Suppression started and ended.\n   As discussed in Section\
    \ 6.1, data analysis of the Results should\n   carefully consider potential bias\
    \ from any Measurement Results that\n   are not reported, or from Measurement\
    \ Results that are reported but\n   may be invalid.\n"
- title: 5.4.1.  Reporting of the Subscriber's Service Parameters
  contents:
  - "5.4.1.  Reporting of the Subscriber's Service Parameters\n   The Subscriber's\
    \ service parameters are information about his/her\n   broadband contract, line\
    \ rate and so on.  Such information is likely\n   to be needed to help analyse\
    \ the Measurement Results, for example to\n   help decide whether the measured\
    \ download speed is reasonable.\n   The information could be transferred directly\
    \ from the Subscriber\n   parameter database to the data analysis tools.  If the\
    \ Subscriber's\n   service parameters are available to the MAs, they could be\
    \ reported\n   with the Measurement Results in the Report Protocol.  How (and\
    \ if)\n   the MA knows such information is likely to depend on the device type.\n\
    \   The MA could either include the information in a Measurement Report\n   or\
    \ separately.\n"
- title: 5.5.  Operation of LMAP over the Underlying Packet Transfer Mechanism
  contents:
  - "5.5.  Operation of LMAP over the Underlying Packet Transfer Mechanism\n   The\
    \ above sections have described LMAP's protocol model.  Other\n   specifications\
    \ will define the actual Control and Report Protocols,\n   possibly operating\
    \ over an existing protocol, such as REST-style\n   [REST] HTTP(S).  It is also\
    \ possible that a different choice is made\n   for the Control and Report Protocols,\
    \ for example NETCONF-YANG\n   [RFC6241] and IPFIX (Internet Protocol Flow Information\
    \ Export)\n   [RFC7011], respectively.\n   From an LMAP perspective, the Controller\
    \ needs to know that the MA\n   has received the Instruction Message, or at least\
    \ that it needs to be\n   re-sent as it may have failed to be delivered.  Similarly\
    \ the MA\n   needs to know about the delivery of Capabilities, Failure, and\n\
    \   Logging Information to the Controller and Reports to the Collector.\n   How\
    \ this is done depends on the design of the Control and Report\n   Protocols and\
    \ the underlying packet transfer mechanism.\n   For the Control Protocol, the\
    \ underlying packet transfer mechanism\n   could be:\n   o  a 'push' protocol\
    \ (that is, from the Controller to the MA).\n   o  a multicast protocol (from\
    \ the Controller to a group of MAs).\n   o  a 'pull' protocol.  The MA periodically\
    \ checks with Controller if\n      the Instruction has changed and pulls a new\
    \ Instruction if\n      necessary.  A pull protocol seems attractive for an MA\
    \ behind a\n      NAT or firewall (as is typical for an MA on an end-user's device)\n\
    \      so that it can initiate the communications.  It also seems\n      attractive\
    \ for an MA on a mobile device, where the Controller\n      might not know how\
    \ to reach the MA.  A pull mechanism is likely to\n      require that the MA be\
    \ configured with how frequently it should\n      check in with the Controller,\
    \ and perhaps what it should do if the\n      Controller is unreachable after\
    \ a certain number of attempts.\n   o  a hybrid protocol.  In addition to a pull\
    \ protocol, the Controller\n      can also push an alert to the MA that it should\
    \ immediately pull a\n      new Instruction.\n   For the Report Protocol, the\
    \ underlying packet transfer mechanism\n   could be:\n   o  a 'push' protocol\
    \ (that is, from the MA to the Collector)\n   o  perhaps supplemented by the ability\
    \ for the Collector to 'pull'\n      Measurement Results from an MA.\n"
- title: 5.6.  Items beyond the Scope of the Initial LMAP Work
  contents:
  - "5.6.  Items beyond the Scope of the Initial LMAP Work\n   There are several potential\
    \ interactions between LMAP elements that\n   are beyond the scope of the initial\
    \ LMAP work, which are as follows:\n   1.  It does not define a coordination process\
    \ between MAs.  Whilst a\n       Measurement System may define coordinated Measurement\
    \ Schedules\n       across its various MAs, there is no direct coordination between\n\
    \       MAs.\n   2.  It does not define interactions between the Collector and\n\
    \       Controller.  It is quite likely that there will be such\n       interactions,\
    \ optionally intermediated by the data analysis\n       tools.  For example, if\
    \ there is an \"interesting\" Measurement\n       Result, then the Measurement\
    \ System may want to trigger extra\n       Measurement Tasks that explore the\
    \ potential cause in more\n       detail; or if the Collector unexpectedly does\
    \ not hear from an\n       MA, then the Measurement System may want to trigger\
    \ the\n       Controller to send a fresh Instruction Message to the MA.\n   3.\
    \  It does not define coordination between different Measurement\n       Systems.\
    \  For example, it does not define the interaction of an\n       MA in one Measurement\
    \ System with a Controller or Collector in a\n       different Measurement System.\
    \  Whilst it is likely that the\n       Control and Report Protocols could be\
    \ re-used or adapted for this\n       scenario, any form of coordination between\
    \ different\n       organisations involves difficult commercial and technical\
    \ issues\n       and so, given the novelty of large-scale measurement efforts,\
    \ any\n       form of inter-organisation coordination is outside the scope of\n\
    \       the initial LMAP work.  Note that a single MA is instructed by a\n   \
    \    single Controller and is only in one Measurement System.\n       *  An interesting\
    \ scenario is where a home contains two\n          independent MAs, for example\
    \ one controlled by a regulator and\n          one controlled by an ISP.  Then\
    \ the Measurement Traffic of one\n          MA is treated by the other MA just\
    \ like any other end-user\n          traffic.\n   4.  It does not consider how\
    \ to prevent a malicious party \"gaming the\n       system\".  For example, where\
    \ a regulator is running a Measurement\n       System in order to benchmark operators,\
    \ a malicious operator\n       could try to identify the broadband lines that\
    \ the regulator was\n       measuring and prioritise that traffic.  It is assumed\
    \ that this\n       is a policy issue and would be dealt with through a code of\n\
    \       conduct for instance.\n   5.  It does not define how to analyse Measurement\
    \ Results, including\n       how to interpret missing Results.\n   6.  It does\
    \ not specifically define a end-user-controlled Measurement\n       System, see\
    \ Section 5.6.1.\n"
- title: 5.6.1.  End-User-Controlled Measurement System
  contents:
  - "5.6.1.  End-User-Controlled Measurement System\n   This framework concentrates\
    \ on the cases where an ISP or a regulator\n   runs the Measurement System.  However,\
    \ we expect that LMAP\n   functionality will also be used in the context of an\
    \ end-user-\n   controlled Measurement System.  There are at least two ways this\n\
    \   could happen (they have various pros and cons):\n   1.  an end-user could\
    \ somehow request the ISP-run (or regulator-run)\n       Measurement System to\
    \ test his/her line.  The ISP (or regulator)\n       Controller would then send\
    \ an Instruction to the MA in the usual\n       LMAP way.\n   2.  an end-user\
    \ could deploy their own Measurement System, with their\n       own MA, Controller,\
    \ and Collector.  For example, the user could\n       implement all three functions\
    \ onto the same end-user-owned end\n       device, perhaps by downloading the\
    \ functions from the ISP or\n       regulator.  Then the LMAP Control and Report\
    \ Protocols do not\n       need to be used, but using LMAP's Information Model\
    \ would still\n       be beneficial.  A Measurement Peer (or other MA involved\
    \ in a\n       Measurement Task) could be in the home gateway or outside the\n\
    \       home network; in the latter case, the Measurement Peer is highly\n   \
    \    likely to be run by a different organisation, which raises extra\n      \
    \ privacy considerations.\n   In both cases, there will be some way for the end-user\
    \ to initiate\n   the Measurement Task(s).  The mechanism is outside the scope\
    \ of the\n   initial LMAP work, but could include the user clicking a button on\
    \ a\n   GUI or sending a text message.  Presumably the user will also be able\n\
    \   to see the Measurement Results, perhaps summarised on a webpage.  It\n   is\
    \ suggested that these interfaces conform to the LMAP guidance on\n   privacy\
    \ in Section 8.\n"
- title: 6.  Deployment Considerations
  contents:
  - '6.  Deployment Considerations

    '
- title: 6.1.  Controller and the Measurement System
  contents:
  - "6.1.  Controller and the Measurement System\n   The Controller should understand\
    \ both the MA's LMAP Capabilities (for\n   example, what Metrics and Measurement\
    \ Methods it can perform) and the\n   MA's other capabilities like processing\
    \ power and memory.  This\n   allows the Controller to ensure that the Measurement\
    \ Schedule of\n   Measurement Tasks and the Reporting Schedule are sensible for\
    \ each MA\n   that it instructs.\n   An Instruction is likely to include several\
    \ Measurement Tasks.\n   Typically these run at different times, but it is also\
    \ possible for\n   them to run at the same time.  Some Tasks may be compatible\
    \ in that\n   they do not affect each other's Results, whilst with others great\n\
    \   care would need to be taken.  Some Tasks may be complementary.  For\n   example,\
    \ one Task may be followed by a traceroute Task to the same\n   destination address,\
    \ in order to learn the network path that was\n   measured.\n   The Controller\
    \ should ensure that the Measurement Tasks do not have\n   an adverse effect on\
    \ the end user.  Tasks, especially those that\n   generate a substantial amount\
    \ of Measurement Traffic, will often\n   include a pre-check that the user isn't\
    \ already sending traffic\n   (Section 5.3.1).  Another consideration is whether\
    \ Measurement\n   Traffic will impact a Subscriber's bill or traffic cap.\n  \
    \ A Measurement System may have multiple Controllers (but note the\n   overriding\
    \ principle that a single MA be instructed by a single\n   Controller at any point\
    \ in time (Section 4.2)).  For example, there\n   could be different Controllers\
    \ for different types of MA (for\n   example, home gateways, tablets) or locations\
    \ (for example, Ipswich,\n   Edinburgh, Paris), for load balancing or to cope\
    \ with failure of one\n   Controller.\n   The measurement system also needs to\
    \ consider carefully how to\n   interpret missing Results.  The correct interpretation\
    \ depends on why\n   the Results are missing (perhaps related to measurement Suppression\n\
    \   or delayed Report submission) and potentially on the specifics of the\n  \
    \ Measurement Task and Measurement Schedule.  For example, an Observed\n   Traffic\
    \ Flow may be empty, but the Measurement Report may still be\n   sent according\
    \ to the Report Schedule.\n"
- title: 6.2.  Measurement Agent
  contents:
  - "6.2.  Measurement Agent\n   The MA should be cautious about resuming Measurement\
    \ Tasks if it\n   reboots or has been offline for some time, as its Instruction\
    \ may be\n   stale.  In the former case, it also needs to ensure that its clock\n\
    \   has reset correctly, so that it interprets the Schedule correctly.\n   If\
    \ the MA runs out of storage space for Measurement Results or can't\n   contact\
    \ the Controller, then the appropriate action is specific to\n   the device and\
    \ Measurement System.\n   The Measurement Agent could take a number of forms.\
    \  For example, an\n   MA could be a dedicated probe or software on a PC; it could\
    \ also be\n   embedded into an appliance or even embedded into a gateway.  A single\n\
    \   site (for example, home, branch office, etc.) that is participating\n   in\
    \ a measurement could make use of one or multiple Measurement Agents\n   or Measurement\
    \ Peers in a single measurement.\n   The Measurement Agent could be deployed in\
    \ a variety of locations.\n   Not all deployment locations are available to every\
    \ kind of\n   Measurement Agent.  There are also a variety of limitations and\n\
    \   trade-offs depending on the final placement.  The next sections\n   outline\
    \ some of the locations a Measurement Agent may be deployed.\n   This is not an\
    \ exhaustive list and combinations may also apply.\n"
- title: 6.2.1.  Measurement Agent on a Networked Device
  contents:
  - "6.2.1.  Measurement Agent on a Networked Device\n   An MA may be embedded on\
    \ a device that is directly connected to the\n   network, such as an MA on a smartphone.\
    \  Other examples include an MA\n   downloaded and installed on a subscriber's\
    \ laptop computer or tablet\n   when the network service is provided on wired\
    \ or other wireless radio\n   technologies, such as Wi-Fi.\n"
- title: 6.2.2.  Measurement Agent Embedded in a Site Gateway
  contents:
  - "6.2.2.  Measurement Agent Embedded in a Site Gateway\n   One of the better places\
    \ the Measurement Agent could be deployed is\n   embedded within the site gateway\
    \ (for example, a home router or the\n   edge router of a branch office in a managed\
    \ service environment).\n   All site-to-ISP traffic would traverse through the\
    \ gateway.  So,\n   Measurement Methods that measure user traffic could easily\
    \ be\n   performed.  Similarly, due to this user traffic visibility, a\n   Measurement\
    \ Method that generates Measurement Traffic could ensure it\n   does not compete\
    \ with user traffic.  Generally NAT and firewall\n   services are built into the\
    \ gateway, allowing the Measurement Agent\n   the option to offer its Controller-facing\
    \ management interface\n   outside of the NAT/firewall.  This placement of the\
    \ management\n   interface allows the Controller to unilaterally contact the\n\
    \   Measurement Agent with Instructions.  However, a Measurement Agent on\n  \
    \ a site gateway (whether end-user or service-provider owned) will\n   generally\
    \ not be directly available for over-the-top providers, the\n   regulator, end\
    \ users, or enterprises.\n"
- title: 6.2.3.  Measurement Agent Embedded behind a Site NAT or Firewall
  contents:
  - "6.2.3.  Measurement Agent Embedded behind a Site NAT or Firewall\n   The Measurement\
    \ Agent could also be embedded behind a NAT, a\n   firewall, or both.  In this\
    \ case, the Controller may not be able to\n   unilaterally contact the Measurement\
    \ Agent unless either static port\n   forwarding or firewall pin holing is configured.\
    \  Configuring port\n   forwarding could use protocols such as the Port Control\
    \ Protocol\n   [RFC6887], the CPE WAN Management Protocol [TR-069], or Universal\n\
    \   Plug and Play [UPnP].  To open a pin hole in the firewall, the\n   Measurement\
    \ Agent could send keepalives towards the Controller (and\n   perhaps use these\
    \ also as a network reachability test).\n"
- title: 6.2.4.  Multihomed Measurement Agent
  contents:
  - "6.2.4.  Multihomed Measurement Agent\n   If the device with the Measurement Agent\
    \ is single homed, then there\n   is no confusion about what interface to measure.\
    \  Similarly, if the\n   MA is at the gateway and the gateway only has a single\
    \ WAN-side and a\n   single LAN-side interface, there is little confusion -- for\n\
    \   Measurement Methods that generate Measurement Traffic, the location\n   of\
    \ the other MA or Measurement Peer determines whether the WAN or LAN\n   is measured.\n\
    \   However, the device with the Measurement Agent may be multihomed.\n   For\
    \ example, a home or campus may be connected to multiple broadband\n   ISPs, such\
    \ as a wired and wireless broadband provider, perhaps for\n   redundancy or load\
    \ sharing.  It may also be helpful to think of dual\n   stack IPv4 and IPv6 broadband\
    \ devices as multihomed.  More generally,\n   Section 3.2 of [RFC7368] describes\
    \ dual-stack and multihoming\n   topologies that might be encountered in a home\
    \ network, [RFC6419]\n   provides the current practices of multi-interfaces hosts,\
    \ and the\n   Multiple Interfaces (mif) working group covers cases where hosts\
    \ are\n   either directly attached (for example, physical or virtual) or\n   indirectly\
    \ (for example, multiple default routers, etc.) to multiple\n   networks.  In\
    \ these cases, there needs to be clarity on which network\n   connectivity option\
    \ is being measured.\n   One possibility is to have a Measurement Agent per interface.\
    \  Then\n   the Controller's choice of MA determines which interface is measured.\n\
    \   However, if an MA can measure any of the interfaces, then the\n   Controller\
    \ defines in the Instruction which interface the MA should\n   use for a Measurement\
    \ Task.  If the choice of interface is not\n   defined, then the MA uses the default\
    \ one.  Explicit definition is\n   preferred if the Measurement System wants to\
    \ measure the performance\n   of a particular network, whereas using the default\
    \ is better if the\n   Measurement System wants to include the impact of the MA's\
    \ interface\n   selection algorithm.  In any case, the Measurement Result should\n\
    \   include the network that was measured.\n"
- title: 6.2.5.  Measurement Agent Embedded in an ISP Network
  contents:
  - "6.2.5.  Measurement Agent Embedded in an ISP Network\n   An MA may be embedded\
    \ on a device that is part of an ISP's network,\n   such as a router or switch.\
    \  Usually the network devices with an\n   embedded MA will be strategically located,\
    \ such as a Carrier-Grade\n   NAT or ISP Gateway.  [RFC7398] gives many examples\
    \ where an MA might\n   be located within a network to provide an intermediate\
    \ measurement\n   point on the end-to-end path.  Other examples include a network\n\
    \   device whose primary role is to host MA functions and the necessary\n   measurement\
    \ protocol.\n"
- title: 6.3.  Measurement Peer
  contents:
  - "6.3.  Measurement Peer\n   A Measurement Peer participates in some Measurement\
    \ Methods.  It may\n   have specific functionality to enable it to participate\
    \ in a\n   particular Measurement Method.  On the other hand, other Measurement\n\
    \   Methods may require no special functionality.  For example, if the\n   Measurement\
    \ Agent sends a ping to example.com, then the server at\n   example.com plays\
    \ the role of a Measurement Peer; or if the MA\n   monitors existing traffic,\
    \ then the existing end points are\n   Measurement Peers.\n   A device may participate\
    \ in some Measurement Methods as a Measurement\n   Agent and in others as a Measurement\
    \ Peer.\n   Measurement Schedules should account for limited resources in a\n\
    \   Measurement Peer when instructing an MA to execute measurements with\n   a\
    \ Measurement Peer.  In some measurement protocols, such as [RFC4656]\n   and\
    \ [RFC5357], the Measurement Peer can reject a measurement session\n   or refuse\
    \ a control connection prior to setting up a measurement\n   session and so protect\
    \ itself from resource exhaustion.  This is a\n   valuable capability because\
    \ the MP may be used by more than one\n   organisation.\n"
- title: 6.4.  Deployment Examples
  contents:
  - "6.4.  Deployment Examples\n   In this section, we describe some deployment scenarios\
    \ that are\n   feasible within the LMAP framework defined in this document.\n\
    \   A very simple example of a Measurement Peer (MP) is a web server from\n  \
    \ which the MA downloads a web page (such as www.example.com) in order\n   to\
    \ perform a speed test.  The web server is an MP and from its\n   perspective\
    \ the MA is just another client; the MP doesn't have a\n   specific function for\
    \ assisting measurements.  This is described in\n   Figure 7.\n              \
    \                                                ^\n      +------------------+\
    \  web traffic +----------------+ non-LMAP\n      |     web client   |<------------>|\
    \   web server   |  Scope\n      |                  |              +----------------+\
    \    |\n   ...|..................|....................................V...\n \
    \     |MA:LMAP interface |                     <MP>           ^\n      +------------------+\
    \                                    |\n               ^     |               \
    \                         |\n   Instruction |     |  Report                  \
    \              |\n               |     +-----------------+                   \
    \   |\n               |                       |                      |\n     \
    \          |                       v                     LMAP\n         +------------+\
    \         +------------+               Scope\n         | Controller |        \
    \ |  Collector |                |\n         +------------+         +------------+\
    \                V\n   MA: Measurement Agent\n   MP: Measurement Peer\n     Figure\
    \ 7: LMAP deployment example, with Web server as Measurement\n               \
    \                    Peer\n   Another example of an MP is a TWAMP Server and TWAMP\n\
    \   Session-Reflector.  This form of MP is deployed to assist the MAs\n   that\
    \ perform TWAMP tests, where the MA is co-located with the TWAMP\n   Control-Client\
    \ and Session-Sender.  Another example, which was\n   described in Section 2,\
    \ has a ping server as the Measurement Peer.\n   A further example is the case\
    \ of a traceroute-like measurement.  In\n   this case, for each packet sent, the\
    \ router where the TTL expires is\n   performing the MP function.  So for a given\
    \ Measurement Task, there\n   is one MA involved and several MPs, one per hop.\n\
    \   In Figure 8, we depict the case of an OWAMP (One-Way Active\n   Measurement\
    \ Protocol) Server and Session-Receiver acting as an MP.\n   In this case, the\
    \ OWAMP Server conveys results back to the OWAMP\n   Fetch-Client, thus the MP\
    \ conducts both control-plane and data-plane\n   communications with its OWAMP\
    \ counterparts co-located with the MA.\n      +------------------+    OWAMP  \
    \   +-----------------+    ^\n      | OWAMP            |<--control--->|      \
    \           |    |\n      | control-client   |-test-traffic>| OWAMP server & \
    \ | non-LMAP\n      | fetch-client &   |<----fetch----| session-receiver|  Scope\n\
    \      | session-sender   |              |                 |    |\n      |   \
    \               |              +-----------------+    |\n   ...|..................|.....................................v...\n\
    \      |MA:LMAP interface |                    <MP>             ^\n      +------------------+\
    \                                     |\n               ^     |              \
    \                           |\n   Instruction |     |  Report                \
    \                 |\n               |     +-----------------+                \
    \       |\n               |                       |                       |\n\
    \               |                       v                     LMAP\n         +------------+\
    \         +------------+               Scope\n         | Controller |        \
    \ |  Collector |                 |\n         +------------+         +------------+\
    \                 v\n   MA: Measurement Agent\n   MP: Measurement Peer\n    Figure\
    \ 8: LMAP deployment example, with OWAMP server as Measurement\n             \
    \                      Peer\n   However, it is also possible to use two Measurement\
    \ Agents when\n   performing one-way Measurement Tasks, as described in Figure\
    \ 9.  Both\n   MAs are instructed by the Controller: MA-1 to send the traffic\
    \ and\n   MA-2 to measure the received traffic and send Reports to the\n   Collector.\
    \  Note that the Measurement Task at MA-2 can listen for\n   traffic from MA-1\
    \ and respond multiple times without having to be\n   rescheduled.\n      +----------------+\
    \              +-------------------+    ^\n      |                |          \
    \    |                   | non-LMAP\n      | iperf -u sender|-UDP traffic->| iperf\
    \ -u receiver |  Scope\n      |                |              |              \
    \     |    v\n   ...|................|..............|...................|........\n\
    \      |  MA-1:         |              |  MA-2:            |    ^\n      | LMAP\
    \ interface |              | LMAP interface    |    |\n      +----------------+\
    \              +-------------------+    |\n               ^                  \
    \      ^   |                  |\n   Instruction |    Instruction{Report} |   |\
    \ Report           |\n   {Task,      |    +-------------------+   |          \
    \        |\n    Schedule}  |    |                       |                  |\n\
    \               |    |                       v                 LMAP\n        \
    \  +------------+             +------------+          Scope\n          | Controller\
    \ |             |  Collector |            |\n          +------------+        \
    \     +------------+            v\n   MA: Measurement Agent\n      Figure 9: Schematic\
    \ of LMAP-based Measurement System, with two\n           Measurement Agents cooperating\
    \ to measure UDP traffic\n   Next, we consider Measurement Methods that meter\
    \ the Observed Traffic\n   Flow.  Traffic generated in one point in the network\
    \ is flowing\n   towards a given destination and the traffic is observed in some\
    \ point\n   along the path.  One way to implement this is that the endpoints\n\
    \   generating and receiving the traffic are not instructed by the\n   Controller;\
    \ hence they are MPs.  The MA is located along the path\n   with a monitor function\
    \ that measures the traffic.  The MA is\n   instructed by the Controller to monitor\
    \ that particular traffic and\n   to send the Report to the Collector.  It is\
    \ depicted in Figure 10.\n   +--------+   +------------------+            +--------+\
    \      ^\n   |End user|   |      monitor     | Observed   |End user|      |\n\
    \   |        |<--|------------------|--Traffic-->|        |  non-LMAP\n   |  \
    \      |   |                  |   Flow     |        |    Scope\n   +--------+\
    \   |                  |            +--------+      |\n    ............|..................|............................v..\n\
    \      <MP>      |MA:LMAP interface |               <MP>         ^\n         \
    \       +------------------+                            |\n                  \
    \      ^     |                                 |\n            Instruction |  \
    \   |  Report                         |\n                        |     +-----------------+\
    \               |\n                        |                       |         \
    \      |\n                        |                       v              LMAP\n\
    \                  +------------+         +------------+        Scope\n      \
    \            | Controller |         |  Collector |         |\n               \
    \   +------------+         +------------+         v\n   MA: Measurement Agent\n\
    \   MP: Measurement Peer\n       Figure 10: LMAP deployment example, with a Measurement\
    \ Agent\n                            monitoring traffic\n"
- title: 7.  Security Considerations
  contents:
  - "7.  Security Considerations\n   The security of the LMAP framework should protect\
    \ the interests of\n   the measurement operator(s), the network user(s), and other\
    \ actors\n   who could be impacted by a compromised measurement deployment.  The\n\
    \   Measurement System must secure the various components of the system\n   from\
    \ unauthorised access or corruption.  Much of the general advice\n   contained\
    \ in Section 6 of [RFC4656] is applicable here.\n   The process to upgrade the\
    \ firmware in an MA is outside the scope of\n   the initial LMAP work, just as\
    \ is the protocol to Bootstrap the MAs.\n   However, systems that provide remote\
    \ upgrades must secure authorised\n   access and integrity of the process.\n \
    \  We assume that each Measurement Agent (MA) will receive its\n   Instructions\
    \ from a single organisation, which operates the\n   Controller.  These Instructions\
    \ must be authenticated (to ensure that\n   they come from the trusted Controller),\
    \ checked for integrity (to\n   ensure no one has tampered with them), and not\
    \ vulnerable to replay\n   attacks.  If a malicious party can gain control of\
    \ the MA, they can\n   use it to launch denial-of-service (DoS) attacks at targets,\
    \ create a\n   platform for pervasive monitoring [RFC7258], reduce the end-user's\n\
    \   quality of experience, and corrupt the Measurement Results that are\n   reported\
    \ to the Collector.  By altering the Measurement Tasks and/or\n   the address\
    \ that Results are reported to, they can also compromise\n   the confidentiality\
    \ of the network user and the MA environment (such\n   as information about the\
    \ location of devices or their traffic).  The\n   Instruction Messages also need\
    \ to be encrypted to maintain\n   confidentiality, as the information might be\
    \ useful to an attacker.\n   Reporting by the MA must be encrypted to maintain\
    \ confidentiality, so\n   that only the authorised Collector can decrypt the results\
    \ to prevent\n   the leakage of confidential or private information.  Reporting\
    \ must\n   also be authenticated (to ensure that it comes from a trusted MA and\n\
    \   that the MA reports to a genuine Collector) and not vulnerable to\n   tampering\
    \ (which can be ensured through integrity and replay checks).\n   It must not\
    \ be possible to fool an MA into injecting falsified data\n   and the results\
    \ must also be held and processed securely after\n   collection and analysis.\
    \  See Section 8.5.2 for additional\n   considerations on stored data compromise,\
    \ and Section 8.6 on\n   potential mitigations for compromise.\n   Since Collectors\
    \ will be contacted repeatedly by MAs using the Report\n   Protocol to convey\
    \ their recent results, a successful attack to\n   exhaust the communication resources\
    \ would prevent a critical\n   operation: reporting.  Therefore, all LMAP Collectors\
    \ should\n   implement technical mechanisms to:\n   o  limit the number of reporting\
    \ connections from a single MA\n      (simultaneous and established in some time\
    \ period).\n   o  limit the transmission rate from a single MA.\n   o  limit the\
    \ memory/storage consumed by a single MA's reports.\n   o  efficiently reject\
    \ reporting connections from unknown sources.\n   o  separate resources if multiple\
    \ authentication strengths are used,\n      where the resources should be separated\
    \ according to each class of\n      strength.\n   A corrupted MA could report\
    \ falsified information to the Collector.\n   Whether this can be effectively\
    \ mitigated depends on the platform on\n   which the MA is deployed.  However,\
    \ where the MA is deployed on a\n   customer-controlled device, then the reported\
    \ data is to some degree\n   inherently untrustworthy.  Further, a sophisticated\
    \ party could\n   distort some Measurement Methods, perhaps by dropping or delaying\n\
    \   packets for example.  This suggests that the network operator should\n   be\
    \ cautious about relying on Measurement Results for action such as\n   refunding\
    \ fees if a service level agreement is not met.\n   As part of the protocol design,\
    \ it will be decided how LMAP operates\n   over the underlying protocol (Section\
    \ 5.5).  The choice raises\n   various security issues, such as how to operate\
    \ through a NAT and how\n   to protect the Controller and Collector from DoS attacks.\n\
    \   The security mechanisms described above may not be strictly necessary\n  \
    \ if the network's design ensures the LMAP components and their\n   communications\
    \ are already secured, for example potentially if they\n   are all part of an\
    \ ISP's dedicated management network.\n   Finally, there are three other issues\
    \ related to security: privacy\n   (considered in Section 8), availability, and\
    \ \"gaming the system\".\n   While the loss of some MAs may not be considered\
    \ critical, the\n   unavailability of the Collector could mean that valuable business\n\
    \   data or data critical to a regulatory process is lost.  Similarly,\n   the\
    \ unavailability of a Controller could mean that the MAs do not\n   operate a\
    \ correct Measurement Schedule.\n   A malicious party could \"game the system\"\
    .  For example, where a\n   regulator is running a Measurement System in order\
    \ to benchmark\n   operators, an operator could try to identify the broadband\
    \ lines that\n   the regulator was measuring and prioritise that traffic.  Normally,\n\
    \   this potential issue is handled by a code of conduct.  It is outside\n   the\
    \ scope of the initial LMAP work to consider the issue.\n"
- title: 8.  Privacy Considerations
  contents:
  - "8.  Privacy Considerations\n   The LMAP work considers privacy a core requirement\
    \ and will ensure\n   that by default the Control and Report Protocols operate\
    \ in a\n   privacy-sensitive manner and that privacy features are well defined.\n\
    \   This section provides a set of privacy considerations for LMAP.  This\n  \
    \ section benefits greatly from the publication of [RFC6973].  Privacy\n   and\
    \ security (Section 7) are related.  In some jurisdictions, privacy\n   is called\
    \ data protection.\n   We begin with a set of assumptions related to protecting\
    \ the\n   sensitive information of individuals and organisations participating\n\
    \   in LMAP-orchestrated measurement and data collection.\n"
- title: 8.1.  Categories of Entities with Information of Interest
  contents:
  - "8.1.  Categories of Entities with Information of Interest\n   LMAP protocols\
    \ need to protect the sensitive information of the\n   following entities, including\
    \ individuals and organisations who\n   participate in measurement and collection\
    \ of results.\n   o  Individual Internet users: Persons who utilise Internet access\n\
    \      services for communications tasks, according to the terms of\n      service\
    \ of a service agreement.  Such persons may be a service\n      Subscriber, or\
    \ have been given permission by the Subscriber to use\n      the service.\n  \
    \ o  Internet service providers: Organisations that offer Internet\n      access\
    \ service subscriptions, and thus have access to sensitive\n      information\
    \ of individuals who choose to use the service.  These\n      organisations desire\
    \ to protect their Subscribers and their own\n      sensitive information, which\
    \ may be stored in the process of\n      performing Measurement Tasks and collecting\
    \ Results.\n   o  Regulators: Public authorities responsible for exercising\n\
    \      supervision of the electronic communications sector, and which may\n  \
    \    have access to sensitive information of individuals who\n      participate\
    \ in a measurement campaign.  Similarly, regulators\n      desire to protect the\
    \ participants and their own sensitive\n      information.\n   o  Other LMAP system\
    \ operators: Organisations who operate Measurement\n      Systems or participate\
    \ in measurements in some way.\n   Although privacy is a protection extended to\
    \ individuals, we discuss\n   data protection by ISPs and other LMAP system operators\
    \ in this\n   section.  These organisations have sensitive information involved\
    \ in\n   the LMAP system, and many of the same dangers and mitigations are\n \
    \  applicable.  Further, the ISPs store information on their Subscribers\n   beyond\
    \ that used in the LMAP system (for example, billing\n   information), and there\
    \ should be a benefit in considering all the\n   needs and potential solutions\
    \ coherently.\n"
- title: 8.2.  Examples of Sensitive Information
  contents:
  - "8.2.  Examples of Sensitive Information\n   This section gives examples of sensitive\
    \ information that may be\n   measured or stored in a Measurement System, and\
    \ that is to be kept\n   private by default in the LMAP core protocols.\n   Examples\
    \ of Subscriber or authorised Internet user sensitive\n   information:\n   o \
    \ Sub-IP-layer addresses and names (MAC address, base station ID,\n      SSID)\n\
    \   o  IP address in use\n   o  Personal Identification (real name)\n   o  Location\
    \ (street address, city)\n   o  Subscribed service parameters\n   o  Contents\
    \ of traffic (activity, DNS queries, destinations,\n      equipment types, account\
    \ info for other services, etc.)\n   o  Status as a study volunteer and Schedule\
    \ of Measurement Tasks\n   Examples of Internet Service Provider sensitive information:\n\
    \   o  Measurement device identification (equipment ID and IP address)\n   o \
    \ Measurement Instructions (choice of measurements)\n   o  Measurement Results\
    \ (some may be shared, others may be private)\n   o  Measurement Schedule (exact\
    \ times)\n   o  Network topology (locations, connectivity, redundancy)\n   o \
    \ Subscriber billing information, and any of the above Subscriber\n      information\
    \ known to the provider.\n   o  Authentication credentials (such as certificates)\n\
    \   Other organisations will have some combination of the lists above.\n   The\
    \ LMAP system would not typically expose all of the information\n   above, but\
    \ could expose a combination of items that could be\n   correlated with other\
    \ pieces collected by an attacker (as discussed\n   in Section 8.5 on Threats).\n"
- title: 8.3.  Different Privacy Issues Raised by Different Sorts of Measurement
  contents:
  - "8.3.  Different Privacy Issues Raised by Different Sorts of Measurement\n   \
    \   Methods\n   Measurement Methods raise different privacy issues depending on\n\
    \   whether they measure traffic created specifically for that purpose or\n  \
    \ whether they measure user traffic.\n   Measurement Tasks conducted on user traffic\
    \ store sensitive\n   information, however briefly this storage may be.  We note\
    \ that some\n   authorities make a distinction on time of storage, and information\n\
    \   that is kept only temporarily to perform a communications function is\n  \
    \ not subject to regulation (for example, active queue management, deep\n   packet\
    \ inspection).  Such Measurement Tasks could reveal all the\n   websites a Subscriber\
    \ visits and the applications and/or services\n   they use.  This issue is not\
    \ specific to LMAP.  For instance, IPFIX\n   has discussed similar issues (see\
    \ Section 11.8 of [RFC7011]), but\n   mitigations described in the sections below\
    \ were considered beyond\n   their scope.\n   In contrast to Measurement Tasks\
    \ conducted on user traffic, other\n   Measurement Tasks use traffic which is\
    \ created specifically for the\n   purpose of measurement.  Even if a user host\
    \ generates Measurement\n   Traffic, there is limited sensitive information about\
    \ the Subscriber\n   present and stored in the Measurement System:\n   o  IP address\
    \ in use (and possibly sub-IP addresses and names)\n   o  Status as a study volunteer\
    \ and Schedule of Measurement Tasks\n   On the other hand, for a service provider,\
    \ the sensitive information\n   like Measurement Results is the same for all Measurement\
    \ Tasks.\n   From the Subscriber perspective, both types of Measurement Tasks\n\
    \   potentially expose the description of Internet access service and\n   specific\
    \ service parameters, such as the Subscriber rate and type of\n   access.\n"
- title: 8.4.  Privacy Analysis of the Communication Models
  contents:
  - "8.4.  Privacy Analysis of the Communication Models\n   This section examines\
    \ each of the protocol exchanges described at a\n   high level in Section 5 and\
    \ some example Measurement Tasks, and it\n   identifies specific sensitive information\
    \ that must be secured during\n   communication for each case.  With the protocol-related\
    \ sensitive\n   information identified, we can better consider the threats described\n\
    \   in the following section.\n   From the privacy perspective, all entities participating\
    \ in LMAP\n   protocols can be considered \"observers\" according to the definition\n\
    \   in [RFC6973].  Their stored information potentially poses a threat to\n  \
    \ privacy, especially if one or more of these functional entities has\n   been\
    \ compromised.  Likewise, all devices on the paths used for\n   control, reporting,\
    \ and measurement are also observers.\n"
- title: 8.4.1.  MA Bootstrapping
  contents:
  - "8.4.1.  MA Bootstrapping\n   Section 5.1 provides the communication model for\
    \ the Bootstrapping\n   process.\n   Although the specification of mechanisms\
    \ for Bootstrapping the MA are\n   beyond the scope of the initial LMAP work,\
    \ designers should recognise\n   that the Bootstrapping process is extremely powerful\
    \ and could cause\n   an MA to join a new or different LMAP system with a different\n\
    \   Controller and Collector, or simply install new Metrics with\n   associated\
    \ Measurement Methods (for example, to record DNS queries).\n   A Bootstrap attack\
    \ could result in a breach of the LMAP system with\n   significant sensitive information\
    \ exposure depending on the\n   capabilities of the MA, so sufficient security\
    \ protections are\n   warranted.\n   The Bootstrapping process provides sensitive\
    \ information about the\n   LMAP system and the organisation that operates it,\
    \ such as\n   o  the MA's identifier (MA-ID)\n   o  the address that identifies\
    \ the Control Channel, such as the\n      Controller's FQDN\n   o  Security information\
    \ for the Control Channel\n   During the Bootstrap process for an MA located at\
    \ a single\n   Subscriber's service demarcation point, the MA receives an MA-ID,\n\
    \   which is a persistent pseudonym for the Subscriber.  Thus, the MA-ID\n   is\
    \ considered sensitive information because it could provide the link\n   between\
    \ Subscriber identification and Measurements Results.\n   Also, the Bootstrap\
    \ process could assign a Group-ID to the MA.  The\n   specific definition of information\
    \ represented in a Group-ID is to be\n   determined, but several examples are\
    \ envisaged including use as a\n   pseudonym for a set of Subscribers, a class\
    \ of service, an access\n   technology, or other important categories.  Assignment\
    \ of a Group-ID\n   enables anonymisation sets to be formed on the basis of service\n\
    \   type/grade/rates.  Thus, the mapping between Group-ID and MA-ID is\n   considered\
    \ sensitive information.\n"
- title: 8.4.2.  Controller <-> Measurement Agent
  contents:
  - "8.4.2.  Controller <-> Measurement Agent\n   The high-level communication model\
    \ for interactions between the LMAP\n   Controller and Measurement Agent is illustrated\
    \ in Section 5.2.  The\n   primary purpose of this exchange is to authenticate\
    \ and task a\n   Measurement Agent with Measurement Instructions, which the\n\
    \   Measurement Agent then acts on autonomously.\n   Primarily, IP addresses and\
    \ pseudonyms (MA-ID, Group-ID) are\n   exchanged with a capability request, then\
    \ measurement-related\n   information of interest such as the parameters, schedule,\
    \ metrics,\n   and IP addresses of measurement devices.  Thus, the measurement\n\
    \   Instruction contains sensitive information that must be secured.  For\n  \
    \ example, the fact that an ISP is running additional measurements\n   beyond\
    \ the set reported externally is sensitive information, as are\n   the additional\
    \ Measurements Tasks themselves.  The Measurement\n   Schedule is also sensitive,\
    \ because an attacker intending to bias the\n   results without being detected\
    \ can use this information to great\n   advantage.\n   An organisation operating\
    \ the Controller having no service\n   relationship with a user who hosts the\
    \ Measurement Agent *could* gain\n   real-name mapping to a public IP address\
    \ through user participation\n   in an LMAP system (this applies to the Measurement\
    \ Collection\n   protocol, as well).\n"
- title: 8.4.3.  Collector <-> Measurement Agent
  contents:
  - "8.4.3.  Collector <-> Measurement Agent\n   The high-level communication model\
    \ for interactions between the\n   Measurement Agent and Collector is illustrated\
    \ in Section 5.4.  The\n   primary purpose of this exchange is to authenticate\
    \ and collect\n   Measurement Results from an MA, which the MA has measured\n\
    \   autonomously and stored.\n   The Measurement Results are the additional sensitive\
    \ information\n   included in the Collector-MA exchange.  Organisations collecting\
    \ LMAP\n   measurements have responsibility for data control.  Thus, the Results\n\
    \   and other information communicated in the Collector protocol must be\n   secured.\n"
- title: 8.4.4.  Measurement Peer <-> Measurement Agent
  contents:
  - "8.4.4.  Measurement Peer <-> Measurement Agent\n   A Measurement Method involving\
    \ Measurement Traffic raises potential\n   privacy issues, although the specification\
    \ of the mechanisms is\n   beyond the scope of the initial LMAP work.  The high-level\n\
    \   communications model below illustrates the various exchanges to\n   execute\
    \ such a Measurement Method and store the Results.\n   We note the potential for\
    \ additional observers in the figures below\n   by indicating the possible presence\
    \ of a NAT, which has additional\n   significance to the protocols and direction\
    \ of initiation.\n   The various messages are optional, depending on the nature\
    \ of the\n   Measurement Method.  It may involve sending Measurement Traffic from\n\
    \   the Measurement Peer to MA, MA to Measurement Peer, or both.\n   Similarly,\
    \ a second (or more) MAs may be involved.  (Note: For\n   simplicity, Figure 11\
    \ and the description don't show the non-LMAP\n   functionality that is associated\
    \ with the transfer of the Measurement\n   Traffic and is located at the devices\
    \ with the MA and MP.)\n    _________________                              _________________\n\
    \   |                 |                            |                 |\n   |Measurement\
    \ Peer |=========== NAT ? ==========|Measurement Agent|\n   |_________________|\
    \                            |_________________|\n                           \
    \       <-              (Key Negotiation &\n                                 \
    \                  Encryption Setup)\n   (Encrypted Channel             ->\n \
    \  Established)\n   (Announce capabilities         ->\n   & status)\n        \
    \                          <-             (Select capabilities)\n   ACK      \
    \                      ->\n                                  <-              (Measurement\
    \ Request\n                                                 (MA+MP IPAddrs,set\
    \ of\n                                                   Metrics, Schedule))\n\
    \   ACK                            ->\n   Measurement Traffic            <>  \
    \            Measurement Traffic\n   (may/may not be encrypted)              \
    \ (may/may not be encrypted)\n                                  <-           (Stop\
    \ Measurement Task)\n   Measurement Results            ->\n   (if applicable)\n\
    \                                  <-                       ACK, Close\n     Figure\
    \ 11: Interactions between Measurement Peer and Measurement\n                \
    \                   Agent\n   This exchange primarily exposes the IP addresses\
    \ of measurement\n   devices and the inference of measurement participation from\
    \ such\n   traffic.  There may be sensitive information on key points in a\n \
    \  service provider's network included.  There may also be access to\n   measurement-related\
    \ information of interest such as the Metrics,\n   Schedule, and intermediate\
    \ results carried in the Measurement Traffic\n   (usually a set of timestamps).\n\
    \   The Measurement Peer may be able to use traffic analysis (perhaps\n   combined\
    \ with traffic injection) to obtain interesting insights about\n   the Subscriber.\
    \  As a simple example, if the Measurement Task\n   includes a pre-check that\
    \ the end user isn't already sending traffic,\n   the Measurement Peer may be\
    \ able to deduce when the Subscriber is\n   away on holiday.\n   If the Measurement\
    \ Traffic is unencrypted, as found in many systems\n   today, then both timing\
    \ and limited results are open to on-path\n   observers.\n"
- title: 8.4.5.  Measurement Agent
  contents:
  - "8.4.5.  Measurement Agent\n   Some Measurement Methods only involve a single\
    \ Measurement Agent\n   observing existing traffic.  They raise potential privacy\
    \ issues,\n   although the specification of the mechanisms is beyond the scope\
    \ of\n   the initial LMAP work.\n   The high-level communications model shown\
    \ in Figure 12 illustrates\n   the collection of user information of interest\
    \ with the Measurement\n   Agent performing the monitoring and storage of the\
    \ Results.  This\n   particular exchange is for measurement of DNS Response Time,\
    \ which\n   most frequently uses UDP transport.  (Note: For simplicity, Figure\
    \ 12\n   and its description do not show the non-LMAP functionality that is\n\
    \   associated with the transfer (export) of the observed Measurement\n   Traffic\
    \ beyond the measurement devices located with the MA.)\n  _________________  \
    \                                    ____________\n |                 |      \
    \                              |            |\n |  DNS Server     |===========\
    \ NAT ? ==========*=======| User client|\n |_________________|               \
    \             ^       |____________|\n                                       \
    \   ______|_______\n                                         |              |\n\
    \                                         |  Measurement |\n                 \
    \                        |    Agent     |\n                                  \
    \       |______________|\n                                <-              Name\
    \ Resolution Required\n                                               (MA+MP IPAddrs,\n\
    \                                                Desired Domain Name)\n Return\
    \ Record                  ->\n MA: Measurement Agent\n MP: Measurement Peer\n\
    \   Figure 12: LMAP deployment example, with Measurement Agent monitoring\n  \
    \                           DNS response time\n   In this particular example,\
    \ the MA monitors DNS messages in order to\n   measure the DNS response time.\
    \  The Measurement Agent may be embedded\n   in the user host, or it may be located\
    \ in another device capable of\n   observing user traffic.  The MA learns the\
    \ IP addresses of\n   measurement devices and the intent to communicate with or\
    \ access the\n   services of a particular domain name, and perhaps also information\
    \ on\n   key points in a service provider's network, such as the address of\n\
    \   one of its DNS servers.\n   In principle, any of the user sensitive information\
    \ of interest\n   (listed above) can be collected and stored in the monitoring\
    \ scenario\n   and so must be secured.\n   It would also be possible for a Measurement\
    \ Agent to source the DNS\n   query itself, and then there are not many privacy\
    \ concerns.\n"
- title: 8.4.6.  Storage and Reporting of Measurement Results
  contents:
  - "8.4.6.  Storage and Reporting of Measurement Results\n   Although the mechanisms\
    \ for communicating results (beyond the initial\n   Collector) are beyond the\
    \ scope of the initial LMAP work, there are\n   potential privacy issues related\
    \ to a single organisation's storage\n   and reporting of Measurement Results.\
    \  Both storage and reporting\n   functions can help to preserve privacy by implementing\
    \ the\n   mitigations described below.\n"
- title: 8.5.  Threats
  contents:
  - "8.5.  Threats\n   This section indicates how each of the threats described in\
    \ [RFC6973]\n   apply to the LMAP entities and their communication and storage\
    \ of\n   \"information of interest\".  DoS and other attacks described in the\n\
    \   Security section represent threats as well, and these attacks are\n   more\
    \ effective when sensitive information protections have been\n   compromised.\n"
- title: 8.5.1.  Surveillance
  contents:
  - "8.5.1.  Surveillance\n   Section 5.1.1 of [RFC6973] describes surveillance as\
    \ the \"observation\n   or monitoring of an individual's communications or activities.\"\
    \n   Hence, all Measurement Methods that measure user traffic are a form\n   of\
    \ surveillance, with inherent risks.\n   Measurement Methods that avoid periods\
    \ of user transmission\n   indirectly produce a record of times when a subscriber\
    \ or authorised\n   user has used their network access service.\n   Measurement\
    \ Methods may also utilise and store a Subscriber's\n   currently assigned IP\
    \ address when conducting measurements that are\n   relevant to a specific Subscriber.\
    \  Since the Measurement Results are\n   timestamped, they could provide a record\
    \ of IP address assignments\n   over time.\n   Either of the above pieces of information\
    \ could be useful in\n   correlation and identification, as described below.\n"
- title: 8.5.2.  Stored Data Compromise
  contents:
  - "8.5.2.  Stored Data Compromise\n   Section 5.1.2 of [RFC6973] describes Stored\
    \ Data Compromise as\n   resulting from inadequate measures to secure stored data\
    \ from\n   unauthorised or inappropriate access.  For LMAP systems, this\n   includes\
    \ deleting or modifying collected measurement records, as well\n   as data theft.\n\
    \   The primary LMAP entity subject to compromise is the repository,\n   which\
    \ stores the Measurement Results; extensive security and privacy\n   threat mitigations\
    \ are warranted.  The Collector and MA also store\n   sensitive information temporarily\
    \ and need protection.  The\n   communications between the local storage of the\
    \ Collector and the\n   repository is beyond the scope of the initial LMAP work,\
    \ though this\n   communications channel will certainly need protection as will\
    \ the\n   mass storage itself.\n   The LMAP Controller may have direct access\
    \ to storage of Subscriber\n   information (for example, location, billing, service\
    \ parameters,\n   etc.) and other information that the controlling organisation\n\
    \   considers private and again needs protection.\n   Note that there is tension\
    \ between the desire to store all raw\n   results in the LMAP Collector (for reproduction\
    \ and custom analysis)\n   and the need to protect the privacy of measurement\
    \ participants.\n   Many of the mitigations described in Section 8.6 are most\
    \ efficient\n   when deployed at the MA, therefore minimising the risks associated\n\
    \   with stored results.\n"
- title: 8.5.3.  Correlation and Identification
  contents:
  - "8.5.3.  Correlation and Identification\n   Sections 5.2.1 and 5.2.2 of [RFC6973]\
    \ describe correlation as\n   combining various pieces of information to obtain\
    \ desired\n   characteristics of an individual, and identification as using this\n\
    \   combination to infer identity.\n   The main risk is that the LMAP system could\
    \ unwittingly provide a key\n   piece of the correlation chain, starting with\
    \ an unknown Subscriber's\n   IP address and another piece of information.  For\
    \ example, a\n   Subscriber utilised Internet access from 2000 to 2310 UTC, because\n\
    \   the Measurement Tasks were deferred or sent a name resolution for\n   www.example.com\
    \ at 2300 UTC.\n   If a user's access with another system already gave away sensitive\n\
    \   information, correlation is clearly easier and can result in\n   re-identification,\
    \ even when an LMAP system conserves sensitive\n   information to great extent.\n"
- title: 8.5.4.  Secondary Use and Disclosure
  contents:
  - "8.5.4.  Secondary Use and Disclosure\n   Sections 5.2.3 and 5.2.4 of [RFC6973]\
    \ describe secondary use as\n   unauthorised utilisation of an individual's information\
    \ for a purpose\n   the individual did not intend, and disclosure as when such\n\
    \   information is revealed causing another's notions of the individual\n   to\
    \ change or confidentiality to be violated.\n   Measurement Methods that measure\
    \ user traffic are a form of secondary\n   use, and the Subscribers' permission\
    \ should be obtained beforehand.\n   It may be necessary to obtain the measured\
    \ ISP's permission to\n   conduct measurements (for example, when required by\
    \ the terms and\n   conditions of the service agreement) and notification is considered\n\
    \   good measurement practice.\n   For Measurement Methods that measure Measurement\
    \ Traffic the\n   Measurement Results provide some limited information about the\n\
    \   Subscriber or ISP and could result in secondary uses.  For example,\n   the\
    \ use of the Results in unauthorised marketing campaigns would\n   qualify as\
    \ secondary use.  Secondary use may break national laws and\n   regulations, and\
    \ may violate an individual's expectations or desires.\n"
- title: 8.6.  Mitigations
  contents:
  - "8.6.  Mitigations\n   This section examines the mitigations listed in Section\
    \ 6 of\n   [RFC6973] and their applicability to LMAP systems.  Note that each\n\
    \   section in [RFC6973] identifies the threat categories that each\n   technique\
    \ mitigates.\n"
- title: 8.6.1.  Data Minimisation
  contents:
  - "8.6.1.  Data Minimisation\n   Section 6.1 of [RFC6973] encourages collecting\
    \ and storing the\n   minimal information needed to perform a task.\n   LMAP Results\
    \ can be useful for general reporting about performance\n   and for specific troubleshooting.\
    \  They need different levels of\n   information detail, as explained in the paragraphs\
    \ below.\n   For general reporting, the results can be aggregated into large\n\
    \   categories (for example, the month of March, all US subscribers West\n   of\
    \ the Mississippi River).  In this case, all individual\n   identifications (including\
    \ IP address of the MA) can be excluded, and\n   only relevant results are provided.\
    \  However, this implies a\n   filtering process to reduce the information fields,\
    \ because greater\n   detail was needed to conduct the Measurement Tasks in the\
    \ first\n   place.\n   For troubleshooting, so that a network operator or end\
    \ user can\n   identify a performance issue or failure, potentially all the network\n\
    \   information (for example, IP addresses, equipment IDs, location),\n   Measurement\
    \ Schedules, service configurations, Measurement Results,\n   and other information\
    \ may assist in the process.  This includes the\n   information needed to conduct\
    \ the Measurements Tasks, and represents\n   a need where the maximum relevant\
    \ information is desirable;\n   therefore, the greatest protections should be\
    \ applied.  This level of\n   detail is greater than needed for general performance\
    \ monitoring.\n   As regards Measurement Methods that measure user traffic, we\
    \ note\n   that a user may give temporary permission (to enable detailed\n   troubleshooting),\
    \ but withhold permission for them in general.  Here\n   the greatest breadth\
    \ of sensitive information is potentially exposed,\n   and the maximum privacy\
    \ protection must be provided.  The Collector\n   may perform pre-storage minimisation\
    \ and other mitigations\n   (Section 8.6.4) to help preserve privacy.\n   For\
    \ MAs with access to the sensitive information of users (for\n   example, within\
    \ a home or a personal host/handset), it is desirable\n   for the Results collection\
    \ to minimise the data reported, but also to\n   balance this desire with the\
    \ needs of troubleshooting when a service\n   subscription exists between the\
    \ user and organisation operating the\n   measurements.\n"
- title: 8.6.2.  Anonymity
  contents:
  - "8.6.2.  Anonymity\n   Section 6.1.1 of [RFC6973] describes an \"anonymity set\"\
    \ as a way in\n   which anonymity is achieved: \"there must exist a set of individuals\n\
    \   that appear to have the same attribute(s) as the individual.\"\n   Experimental\
    \ methods for anonymisation of user-identifiable data (and\n   so particularly\
    \ applicable to Measurement Methods that measure user\n   traffic) have been identified\
    \ in [RFC6235].  However, the findings of\n   several of the same authors is that\
    \ \"there is increasing evidence\n   that anonymization applied to network trace\
    \ or flow data on its own\n   is insufficient for many data protection applications\
    \ as in [Bur10].\"\n   Essentially, the details of such Measurement Methods can\
    \ only be\n   accessed by closed organisations, and unknown injection attacks\
    \ are\n   always less expensive than the protections from them.  However, some\n\
    \   forms of summary may protect the user's sensitive information\n   sufficiently\
    \ well, and so each Metric must be evaluated in the light\n   of privacy.\n  \
    \ The techniques in [RFC6235] could be applied more successfully in\n   Measurement\
    \ Methods that generate Measurement Traffic, where there\n   are protections from\
    \ injection attack.  The successful attack would\n   require breaking the integrity\
    \ protection of the LMAP Reporting\n   Protocol and injecting Measurement Results\
    \ (known fingerprint, see\n   Section 3.2 of [RFC6973]) for inclusion with the\
    \ shared and\n   anonymised results, then fingerprinting those records to ascertain\n\
    \   the anonymisation process.\n   Beside anonymisation of measured Results for\
    \ a specific user or\n   provider, the value of sensitive information can be further\
    \ diluted\n   by summarising the Results over many individuals or areas served\
    \ by\n   the provider.  There is an opportunity enabled by forming anonymity\n\
    \   sets [RFC6973] based on the reference path measurement points in\n   [RFC7398].\
    \  For example, all measurements from a Subscriber device\n   can be identified\
    \ as \"mp000\", instead of using the IP address or\n   other device information.\
    \  The same anonymisation applies to the\n   Internet Service Provider, where\
    \ their Internet gateway would be\n   referred to as \"mp190\".\n   Another anonymisation\
    \ technique is for the MA to include its Group-ID\n   instead of its MA-ID in\
    \ its Measurement Reports, with several MAs\n   sharing the same Group-ID.\n"
- title: 8.6.3.  Pseudonymity
  contents:
  - "8.6.3.  Pseudonymity\n   Section 6.1.2 of [RFC6973] indicates that pseudonyms,\
    \ or nicknames,\n   are a possible mitigation to revealing one's true identity,\
    \ since\n   there is no requirement to use real names in almost all protocols.\n\
    \   A pseudonym for a measurement device's IP address could be an\n   LMAP-unique\
    \ equipment ID.  However, this would likely be a permanent\n   handle for the\
    \ device, and long-term use weakens a pseudonym's power\n   to obscure identity.\n"
- title: 8.6.4.  Other Mitigations
  contents:
  - "8.6.4.  Other Mitigations\n   Data can be depersonalised by blurring it, for\
    \ example by adding\n   synthetic data, data-swapping, or perturbing the values\
    \ in ways that\n   can be reversed or corrected.\n   Sections 6.2 and 6.3 of [RFC6973]\
    \ describe user participation and\n   security, respectively.\n   Where LMAP measurements\
    \ involve devices on the subscriber's premises\n   or Subscriber-owned equipment,\
    \ it is essential to secure the\n   Subscriber's permission with regard to the\
    \ specific information that\n   will be collected.  The informed consent of the\
    \ Subscriber (and, if\n   different, the end user) may be needed, including the\
    \ specific\n   purpose of the measurements.  The approval process could involve\n\
    \   showing the Subscriber their measured information and results before\n   instituting\
    \ periodic collection, or before all instances of\n   collection, with the option\
    \ to cancel collection temporarily or\n   permanently.\n   It should also be clear\
    \ who is legally responsible for data\n   protection (privacy); in some jurisdictions,\
    \ this role is called the\n   'data controller'.  It is always good practice to\
    \ limit the time that\n   personal information is stored.\n   Although the details\
    \ of verification would be impenetrable to most\n   subscribers, the MA could\
    \ be architected as an \"app\" with open source\n   code, pre-download and embedded\
    \ terms of use and agreement on\n   measurements, and protection from code modifications\
    \ usually provided\n   by the app stores.  Further, the app itself could provide\
    \ data\n   reduction and temporary storage mitigations as appropriate and\n  \
    \ certified through code review.\n   LMAP protocols, devices, and the information\
    \ they store clearly need\n   to be secure from unauthorised access.  This is\
    \ the hand-off between\n   privacy and security considerations (Section 7).  The\
    \ data controller\n   is responsible (legally) for maintaining data protections\
    \ described\n   in the Subscriber's agreement and agreements with other\n   organisations.\n\
    \   Finally, it is recommended that each entity described in Section 8.1,\n  \
    \ (for example, individuals, ISPs, regulators, others) assess the risks\n   of\
    \ LMAP data collection by conducting audits of their data protection\n   methods.\n"
- title: 9.  Informative References
  contents:
  - "9.  Informative References\n   [Bur10]    Burkhart, M., Schatzmann, D., Trammell,\
    \ B., and E. Boschi,\n              \"The Role of Network Trace anonymisation\
    \ Under Attack\",\n              January 2010.\n   [IPPM-REG] Bagnulo, M., Claise,\
    \ B., Eardley, P., Morton, A., and A.\n              Akhter, \"Registry for Performance\
    \ Metrics\", Work in\n              Progress, draft-ietf-ippm-metric-registry-04,\
    \ July 2015.\n   [LMAP-INFO]\n              Burbridge, T., Eardley, P., Bagnulo,\
    \ M., and J.\n              Schoenwaelder, \"Information Model for Large-Scale\n\
    \              Measurement Platforms (LMAP)\", Work in Progress,\n           \
    \   draft-ietf-lmap-information-model-06, July 2015.\n   [REST]     Wikipedia,\
    \ \"Representational state transfer\", July 2015,\n              <https://en.wikipedia.org/w/index.php?\n\
    \              title=Representational_state_transfer&oldid=673799183>.\n   [RFC1035]\
    \  Mockapetris, P., \"Domain names - implementation and\n              specification\"\
    , STD 13, RFC 1035, DOI 10.17487/RFC1035,\n              November 1987, <http://www.rfc-editor.org/info/rfc1035>.\n\
    \   [RFC3444]  Pras, A. and J. Schoenwaelder, \"On the Difference between\n  \
    \            Information Models and Data Models\", RFC 3444,\n              DOI\
    \ 10.17487/RFC3444, January 2003,\n              <http://www.rfc-editor.org/info/rfc3444>.\n\
    \   [RFC4101]  Rescorla, E. and IAB, \"Writing Protocol Models\", RFC 4101,\n\
    \              DOI 10.17487/RFC4101, June 2005,\n              <http://www.rfc-editor.org/info/rfc4101>.\n\
    \   [RFC4122]  Leach, P., Mealling, M., and R. Salz, \"A Universally\n       \
    \       Unique IDentifier (UUID) URN Namespace\", RFC 4122,\n              DOI\
    \ 10.17487/RFC4122, July 2005,\n              <http://www.rfc-editor.org/info/rfc4122>.\n\
    \   [RFC4656]  Shalunov, S., Teitelbaum, B., Karp, A., Boote, J., and M.\n   \
    \           Zekauskas, \"A One-way Active Measurement Protocol\n             \
    \ (OWAMP)\", RFC 4656, DOI 10.17487/RFC4656, September 2006,\n              <http://www.rfc-editor.org/info/rfc4656>.\n\
    \   [RFC5357]  Hedayat, K., Krzanowski, R., Morton, A., Yum, K., and J.\n    \
    \          Babiarz, \"A Two-Way Active Measurement Protocol (TWAMP)\",\n     \
    \         RFC 5357, DOI 10.17487/RFC5357, October 2008,\n              <http://www.rfc-editor.org/info/rfc5357>.\n\
    \   [RFC6235]  Boschi, E. and B. Trammell, \"IP Flow Anonymization\n         \
    \     Support\", RFC 6235, DOI 10.17487/RFC6235, May 2011,\n              <http://www.rfc-editor.org/info/rfc6235>.\n\
    \   [RFC6241]  Enns, R., Ed., Bjorklund, M., Ed., Schoenwaelder, J., Ed.,\n  \
    \            and A. Bierman, Ed., \"Network Configuration Protocol\n         \
    \     (NETCONF)\", RFC 6241, DOI 10.17487/RFC6241, June 2011,\n              <http://www.rfc-editor.org/info/rfc6241>.\n\
    \   [RFC6419]  Wasserman, M. and P. Seite, \"Current Practices for\n         \
    \     Multiple-Interface Hosts\", RFC 6419, DOI 10.17487/RFC6419,\n          \
    \    November 2011, <http://www.rfc-editor.org/info/rfc6419>.\n   [RFC6887]  Wing,\
    \ D., Ed., Cheshire, S., Boucadair, M., Penno, R., and\n              P. Selkirk,\
    \ \"Port Control Protocol (PCP)\", RFC 6887,\n              DOI 10.17487/RFC6887,\
    \ April 2013,\n              <http://www.rfc-editor.org/info/rfc6887>.\n   [RFC6973]\
    \  Cooper, A., Tschofenig, H., Aboba, B., Peterson, J.,\n              Morris,\
    \ J., Hansen, M., and R. Smith, \"Privacy\n              Considerations for Internet\
    \ Protocols\", RFC 6973,\n              DOI 10.17487/RFC6973, July 2013,\n   \
    \           <http://www.rfc-editor.org/info/rfc6973>.\n   [RFC7011]  Claise, B.,\
    \ Ed., Trammell, B., Ed., and P. Aitken,\n              \"Specification of the\
    \ IP Flow Information Export (IPFIX)\n              Protocol for the Exchange\
    \ of Flow Information\", STD 77,\n              RFC 7011, DOI 10.17487/RFC7011,\
    \ September 2013,\n              <http://www.rfc-editor.org/info/rfc7011>.\n \
    \  [RFC7258]  Farrell, S. and H. Tschofenig, \"Pervasive Monitoring Is an\n  \
    \            Attack\", BCP 188, RFC 7258, DOI 10.17487/RFC7258,\n            \
    \  May 2014, <http://www.rfc-editor.org/info/rfc7258>.\n   [RFC7368]  Chown, T.,\
    \ Ed., Arkko, J., Brandt, A., Troan, O., and J.\n              Weil, \"IPv6 Home\
    \ Networking Architecture Principles\",\n              RFC 7368, DOI 10.17487/RFC7368,\
    \ October 2014,\n              <http://www.rfc-editor.org/info/rfc7368>.\n   [RFC7398]\
    \  Bagnulo, M., Burbridge, T., Crawford, S., Eardley, P., and\n              A.\
    \ Morton, \"A Reference Path and Measurement Points for\n              Large-Scale\
    \ Measurement of Broadband Performance\",\n              RFC 7398, DOI 10.17487/RFC7398,\
    \ February 2015,\n              <http://www.rfc-editor.org/info/rfc7398>.\n  \
    \ [RFC7536]  Linsner, M., Eardley, P., Burbridge, T., and F. Sorensen,\n     \
    \         \"Large-Scale Broadband Measurement Use Cases\", RFC 7536,\n       \
    \       DOI 10.17487/RFC7536, May 2015,\n              <http://www.rfc-editor.org/info/rfc7536>.\n\
    \   [TR-069]   The Broadband Forum, \"CPE WAN Management Protocol\", TR-069\n\
    \              Amendment 5, November 2013,\n              <https://www.broadband-forum.org/technical/download/\n\
    \              TR-069_Amendment-5.pdf>.\n   [UPnP]     UPnP Forum, \"UPnP Device\
    \ Architecture 2.0\", February 2015,\n              <http://www.iso.org/iso/home/store/catalogue_ics/\n\
    \              catalogue_detail_ics.htm?csnumber=57195>.\n"
- title: Acknowledgments
  contents:
  - "Acknowledgments\n   This document originated as a merger of three individual\
    \ drafts:\n   \"Terminology for Large MeAsurement Platforms (LMAP)\" (July 2013),\
    \ \"A\n   Framework and Inventory for a Large Scale Measurement System\" (July\n\
    \   2013), and \"A framework for large-scale measurements\" (July 2013).\n   Thanks\
    \ to Juergen Schoenwaelder for his detailed review of the\n   terminology.  Thanks\
    \ to Charles Cook for a very detailed review of an\n   early draft of this document.\
    \  Thanks to Barbara Stark and Ken Ko for\n   many helpful comments about later\
    \ draft versions.\n   Thanks to numerous people for much discussion, directly\
    \ and on the\n   LMAP list (apologies to those unintentionally omitted): Alan\
    \ Clark,\n   Alissa Cooper, Andrea Soppera, Barbara Stark, Benoit Claise, Brian\n\
    \   Trammell, Charles Cook, Dan Romascanu, Dave Thorne, Frode Soerensen,\n   Greg\
    \ Mirsky, Guangqing Deng, Jason Weil, Jean-Francois Tremblay,\n   Jerome Benoit,\
    \ Joachim Fabini, Juergen Schoenwaelder, Jukka Manner,\n   Ken Ko, Lingli Deng,\
    \ Mach Chen, Matt Mathis, Marc Ibrahim, Michael\n   Bugenhagen, Michael Faath,\
    \ Nalini Elkins, Radia Perlman, Rolf Winter,\n   Sam Crawford, Sharam Hakimi,\
    \ Steve Miller, Ted Lemon, Timothy Carey,\n   Vaibhav Bajpai, Vero Zheng, and\
    \ William Lupton.\n   Philip Eardley, Trevor Burbridge and Marcelo Bagnulo worked\
    \ in part\n   on the Leone research project, which received funding from the\n\
    \   European Union Seventh Framework Programme under grant agreement\n   number\
    \ 317647.\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Philip Eardley\n   BT\n   Adastral Park, Martlesham Heath\n\
    \   Ipswich\n   England\n   Email: philip.eardley@bt.com\n   Al Morton\n   AT&T\
    \ Labs\n   200 Laurel Avenue South\n   Middletown, NJ\n   United States\n   Email:\
    \ acmorton@att.com\n   Marcelo Bagnulo\n   Universidad Carlos III de Madrid\n\
    \   Av. Universidad 30\n   Leganes, Madrid  28911\n   Spain\n   Phone: 34 91 6249500\n\
    \   Email: marcelo@it.uc3m.es\n   URI:   http://www.it.uc3m.es\n   Trevor Burbridge\n\
    \   BT\n   Adastral Park, Martlesham Heath\n   Ipswich\n   England\n   Email:\
    \ trevor.burbridge@bt.com\n   Paul Aitken\n   Brocade Communications Systems,\
    \ Inc.\n   19a Canning Street, Level 3\n   Edinburgh, Scotland  EH3 8EG\n   United\
    \ Kingdom\n   Email: paitken@brocade.com\n   Aamer Akhter\n   Consultant\n   118\
    \ Timber Hitch\n   Cary, NC\n   United States\n   Email: aakhter@gmail.com\n"
