The Internet Standard Management Framework
For a detailed overview of the documents that describe the current Internet Standard Management Framework, please refer to section 7 of RFC 3410 [RFC3410].
Managed objects are accessed via a virtual information store, termed the Management Information Base or MIB.
MIB objects are generally accessed through the Simple Network Management Protocol (SNMP).
Objects in the MIB are defined using the mechanisms defined in the Structure of Management Information (SMI).
This memo specifies a MIB module that is compliant to the SMIv2, which is described in STD 58, RFC 2578 [RFC2578], STD 58
, RFC 2579 [RFC2579] and STD 58, RFC 2580
Conceptual Row Creation For the benefit of row creation in "conceptual" tables, DEFVAL (Default Value) clauses are included in the definitions in section 3, suggesting values that an agent should use for instances of variables that need to be created due to a Set Request, but that are not specified in the Set Request.
DEFVAL clauses have not been specified for some objects that are read only, implying that they are zeroed upon row creation.
These objects are of the SYNTAX Counter32
Agents should accept a Set Request with as few of these columnar objects as they need (e.g., the minimum contents of a "row creating" SET consists of those objects for which, as they cannot be intuited, no default is specified).
Default Configuration OSPF is a powerful routing protocol, equipped with features to handle virtually any configuration requirement that might reasonably be found within an Autonomous System (AS).
With this power comes a fair degree of complexity, which the sheer number of objects in the MIB will attest to.
Care has therefore been taken, in constructing this MIB, to define default values for virtually every object, to minimize the amount of parameterization required in the typical case.
That default configuration is as follows:
Given the following assumptions: IP has already been configured.
The ifTable has already been configured.
ifSpeed is estimated by the interface drivers.
The OSPF process automatically discovers all IP interfaces and creates corresponding OSPF interfaces.
The OSPF process automatically creates the areas required for the interfaces.
The simplest configuration of an OSPF process requires the following: The OSPF process be enabled.
This can be accomplished with a single SET:
The configured system will have the following attributes: The RouterID will be one of the IP addresses of the device.
The device will be neither an Area Border Router nor an Autonomous System Border Router.
Every IP interface, with or without an address, will be an OSPF interface.
The AreaID of each interface will be 0.0.0.0, the backbone.
All broadcast and point to point interfaces will be operational.
Non broadcast multi access (NBMA) interfaces require the configuration of at least one neighbor.
Timers on all direct interfaces will be: Hello Interval:
No direct links to hosts will be configured.
No addresses will be summarized.
Metrics, being a measure of bit duration, are unambiguous and intelligent.
No virtual links will be configured.
This MIB defines several counters, namely: ospfOriginateNewLsas, ospfRxNewLsas in the ospfGeneralGroup ospfSpfRuns, ospfAreaNssaTranslatorEvents in the ospfAreaTable ospfIfEvents in the ospfIfTable ospfVirtIfEvents in the ospfVirtIfTable ospfNbrEvents in the ospfNbrTable ospfVirtNbrEvents in the ospfVirtNbrTable
As a best practice, a management entity, when reading these counters, should use the discontinuity object, ospfDiscontinuityTime, to determine if an event that would invalidate the management entity understanding of the counters has occurred.
A restart of the OSPF routing process is a possible example of a discontinuity event.
Multiple OSPF Instances SNMPv3 supports "Contexts" that can be used to implement MIB views on multiple OSPF instances on the same system.
See [RFC3411] or its successors for details.
The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in RFC 2119
This MIB is composed of the following sections: General Variables Area Data Structure Area Stub Metric Table Link State Database (LSDB)
Address Range Table Host Table Interface Table Interface Metric Table Virtual Interface Table Neighbor Table Virtual Neighbor Table External Link State Database Aggregate Range Table
Local Link State Database AS scope
It supports the base OSPFv2 specification [RFC2328] and extensions to OSPFv2 such as [RFC1765], [RFC1793], [RFC2370], [RFC3101] and [RFC3623].
There exists a separate MIB for notifications ("traps"), which is entirely optional.
The Purposes of the Sections in This MIB 2.1.1.
The general variables describe (as it may seem from the name) variables that are global to the OSPF Process.
Area Data Structure and Area Stub Metric Table
The Area Data Structure describes all of the OSPF Areas that the router participates in.
The Area Table includes data for Not
So  Stubby Area (NSSA) translation.
The Area Stub Metric Table describes the metrics advertised into a stub area by the default router(s).
Link State Database and External Link State Database
The link state database is provided primarily to provide detailed information for network debugging.
Address Table and Host Tables
The Address Range Table and Host Table are provided to view configured Network Summary and host route information.
The Interface Table and the Interface Metric Table together describe the various IP interfaces to OSPF.
The metrics are placed in separate tables in order to simplify dealing with multiple types of service.
The Interface table includes link local (Opaque type 9) link state advertisement (LSA) statistics.
The Virtual Interface Table describes virtual links to the OSPF Process, similarly to the (non virtual) Interface Tables.
This Table includes link local (Opaque type 9) LSA statistics.
The Neighbor Table and the Virtual Neighbor Table describe the neighbors to the OSPF Process.
Local Link State Database Table and Virtual Local Link State Database Table
The Local Link State Database Table and Virtual Local Link State Database Table are identical to the OSPF LSDB Table in format, but contain only link local (Opaque type 9) link state advertisements for non virtual and virtual links.
AS scope Link State Database Table
The AS scope Link State Database Table is identical to the OSPF LSDB Table in format, but contains only AS scoped link state advertisements.
The table, which maintains number of link state advertisements on the per area, per LSA type basis.
OSPF MIB Module OSPF MIB DEFINITIONS ::
IMPORTS MODULE IDENTITY, OBJECT TYPE, Counter32, Gauge32, Integer32, Unsigned32,
IpAddress, mib 2 FROM SNMPv2
SMI TEXTUAL CONVENTION, TruthValue, RowStatus, TimeStamp FROM SNMPv2
TC MODULE COMPLIANCE, OBJECT GROUP FROM SNMPv2 CONF
ospf MODULE IDENTITY LAST UPDATED "200611100000Z"   November 10, 2006 00:00:00
EST ORGANIZATION "IETF OSPF Working Group" CONTACT INFO "WG E Mail:
Dan Joyal Nortel 600 Technology Park Drive Billerica
19 Alpha Road Chelmsford, MA 01824
Eleven Madison Ave New York,
The MIB module to describe the OSPF Version 2 Protocol.
Note that some objects in this MIB module may pose a significant security risk.
Refer to the Security Considerations section in RFC 4750 for more information.
This version of this MIB module is part of RFC 4750;  see the RFC itself for full legal notices."
REVISION "200611100000Z"   November 10, 2006 09:00:00
EST DESCRIPTION "Updated for latest changes to OSPF Version 2: updated the General Group with the new ospfRFC1583Compatibility, ospfReferenceBandwidth and ospfDiscontinuityTime objects added graceful restart related objects added stub router related objects updated the Area Table with NSSA related objects
object added Opaque LSA related objects updates to the Compliances and Security sections added area LSA counter table added section describing translation of notification parameters between SNMP versions added ospfComplianceObsolete to contain obsolete object groups deprecated ospfExtLsdbTable See Appendix B of RFC 4750 for more details.
This version published as part of RFC 4750" REVISION "199501201225Z"
Fri Jan 20 12:25:50 PST 1995 DESCRIPTION "
The initial SMIv2 revision of this MIB module, published in RFC 1850."
Note that the Area ID, in OSPF, has the same format as an IP address, but has the function of defining a summarization point for link state advertisements."
Note that the Router ID, in OSPF, has the same format as an IP address, but identifies the router independent of its IP address."
Note that the OSPF metric is defined as an unsigned value in the range."
An indication of the operability of an OSPF function or feature.
For example, the status of an interface: 'enabled' indicates that it is willing to communicate with other OSPF routers, and
'disabled' indicates that it is not."
Values in excess are precluded as unnecessary and prone to interoperability issues."
The range of intervals in seconds on which Hello messages are exchanged."
The values in seconds that one might find or configure for variables bounded by the maximum age of an LSA."
The range of values defined for the priority of a system for becoming the designated router."
TEXTUAL CONVENTION DISPLAY HINT "d 0
6 0 1 0 0
10 0 1 1 0
14 1 0 0 0
18 1 0 1 0
22 1 1 0 0
26 1 1 1 0
The remaining values are left for future definition."
{ ospf 1 } ospfRouterId OBJECT TYPE
A 32 bit integer uniquely identifying the router in the Autonomous System.
By convention, to ensure uniqueness, this should default to the value of one of the router's IP interface addresses.
This object is persistent and when written the entity SHOULD save the change to non volatile storage.
The value 'enabled' denotes that the OSPF Process is active on at least one interface; 'disabled' disables it on all interfaces.
This object is persistent and when written the entity SHOULD save the change to non volatile storage."
"The current version number of the OSPF protocol is 2."
A flag to note whether this router is an Area Border Router.
" REFERENCE "OSPF Version 2, Section 3
"A flag to note whether this router is configured as an Autonomous System Border Router.
This object is persistent and when written the entity SHOULD save the change to non volatile storage.
"The number of external (LS type 5) link state advertisements in the link state database."
REFERENCE "OSPF Version 2, Appendix A.4.5
This sum can be used to determine if there has been a change in a router's link state database and to compare the link state database of two routers.
The value should be treated as unsigned when comparing two sums of checksums."
7 } ospfTOSSupport OBJECT TYPE SYNTAX
This object is persistent and when written the entity SHOULD save the change to non volatile storage.
"The number of new link state advertisements that have been originated.
This number is incremented each time the router originates a new LSA.
Discontinuities in the value of this counter can occur at re initialization of the management system, and at other times as indicated by the value of ospfDiscontinuityTime."
"The number of link state advertisements received that are determined to be new instantiations.
This number does not include newer instantiations of self originated link state advertisements.
Discontinuities in the value of this counter can occur at re initialization of the management system, and at other times as indicated by the value of ospfDiscontinuityTime."
"The maximum number of non default AS external LSAs entries that can be stored in the link state database.
If the value is  1, then there is no limit.
When the number of non default AS external LSAs in a router's link state database reaches ospfExtLsdbLimit, the router enters overflow state.
The router never holds more than ospfExtLsdbLimit non default AS external LSAs in its database.
OspfExtLsdbLimit MUST be set identically in all routers attached to the OSPF backbone and/or any regular OSPF area (i.e., OSPF stub areas and NSSAs are excluded).
This object is persistent and when written the entity SHOULD save the change to non volatile storage.
A bit mask indicating whether the router is forwarding IP multicast (Class D) datagrams based on the algorithms defined in the multicast extensions to OSPF.
Bit 0, if set, indicates that the router can forward IP multicast datagrams in the router's directly attached areas (called intra area multicast routing).
Bit 1, if set, indicates that the router can forward IP multicast datagrams between OSPF areas (called inter area multicast routing).
Bit 2, if set, indicates that the router can forward IP multicast datagrams between Autonomous Systems (called inter AS multicast routing).
Only certain combinations of bit settings are allowed, namely: 0 (no multicast forwarding is enabled), 1 (intra area multicasting only), 3 (intra area and inter area multicasting), 5 (intra area and inter AS multicasting), and 7 (multicasting everywhere).
By default, no multicast forwarding is enabled.
This object is persistent and when written the entity SHOULD save the change to non volatile storage.
The number of seconds that, after entering OverflowState, a router will attempt to leave OverflowState.
This allows the router to again originate non default AS external LSAs.
When set to 0, the router will not leave overflow state until restarted.
This object is persistent and when written the entity SHOULD save the change to non volatile storage.
This object is persistent and when written the entity SHOULD save the change to non volatile storage.
"Indicates metrics used to choose among multiple AS external LSAs.
When RFC1583Compatibility is set to enabled, only cost will be used when choosing among multiple AS external LSAs advertising the same destination.
When RFC1583Compatibility is set to disabled, preference will be driven first by type of path using cost only to break ties.
This object is persistent and when written the entity SHOULD save the change to non volatile storage.
The default value is 100,000 KBPS (100 MBPS).
This object is persistent and when written the entity SHOULD save the change to non volatile storage."
Options include: no restart support, only planned restarts, or both planned and unplanned restarts.
This object is persistent and when written the entity SHOULD save the change to non volatile storage."
Configured OSPF graceful restart timeout interval.
This object is persistent and when written the entity SHOULD save the change to non volatile storage."
"Indicates if strict LSA checking is enabled for graceful restart.
This object is persistent and when written the entity SHOULD save the change to non volatile storage."
"Describes the outcome of the last attempt at a graceful restart.
If the value is 'none', no restart has yet been attempted.
If the value is 'inProgress', a restart attempt is currently underway."
{ ospfGeneralGroup 23 } ospfAsLsaCount OBJECT
"The number of AS scope link state advertisements in the AS scope link state database."
the AS scope link state database.
This sum can be used to determine if there has been a change in a router's AS scope link state database, and to compare the AS scope link state database of two routers."
The router's support for stub router functionality."
"This object controls the advertisement of stub router LSAs by the router.
The value doNotAdvertise will result in the advertisement of a standard router LSA and is the default value.
This object is persistent and when written the entity SHOULD save the change to non volatile storage."
"The value of sysUpTime on the most recent occasion at which any one of this MIB's counters suffered a discontinuity.
If no such discontinuities have occurred since the last re initialization of the local management subsystem, then this object contains a zero value."
The interfaces and virtual links are configured as part of these areas.
Area 0.0.0.0, by definition, is the backbone area.
REFERENCE "OSPF Version 2, Section 6
The interfaces and virtual links are configured as part of these areas.
Area 0.0.0.0, by definition, is the backbone area.
Information in this table is persistent and when this object is written the entity SHOULD save the change to non volatile storage.
A 32 bit integer uniquely identifying an area.
Area ID 0.0.0.0 is used for the OSPF backbone."
"The authentication type specified for an area.
"Indicates if an area is a stub area, NSSA, or standard area.
Type 5 AS external LSAs and type 11 Opaque LSAs are not imported into stub areas or NSSAs.
The number of times that the intra area route table has been calculated using this area's link state database.
This is typically done using Dijkstra's algorithm.
Discontinuities in the value of this counter can occur at re initialization of the management system, and at other times as indicated by the value of ospfDiscontinuityTime."
"The total number of Area Border Routers reachable within this area.
This is initially zero and is calculated in each Shortest Path First (SPF) pass."
"The total number of Autonomous System Border Routers reachable within this area.
This is initially zero and is calculated in each SPF pass."
The 32 bit sum of the link state advertisements' LS checksums contained in this area's link state database.
This sum excludes external (LS type 5)
The sum can be used to determine if there has been a change in a router's link state database, and to compare the link state database of two routers.
The value should be treated as unsigned when comparing two sums of checksums.
"The variable ospfAreaSummary controls the import of summary LSAs into stub and NSSA areas.
It has no effect on other areas.
If it is noAreaSummary, the router will not originate summary LSAs into the stub or NSSA area.
It will rely entirely on its default route.
If it is sendAreaSummary, the router will both summarize and propagate summary LSAs."
"This object permits management of the table by facilitating actions such as row creation, construction, and destruction.
The value of this object has no effect on whether other objects in this conceptual row can be modified."
"Indicates an NSSA border router's ability to perform NSSA translation of type 7 LSAs into type 5 LSAs.
"Indicates if and how an NSSA border router is performing NSSA translation of type 7 LSAs into type 5 LSAs.
When this object is set to enabled, the NSSA Border router's OspfAreaNssaExtTranslatorRole has been set to always.
When this object is set to elected, a candidate NSSA Border router is Translating type 7 LSAs into type 5.
When this object is set to disabled, a candidate NSSA border router is NOT translating type 7 LSAs into type 5."
"The number of seconds after an elected translator determines its services are no longer required, that it should continue to perform its translation duties.
"Indicates the number of translator state changes that have occurred since the last boot up.
Discontinuities in the value of this counter can occur at re initialization of the management system, and at other times as indicated by the value of ospfDiscontinuityTime."
The set of metrics that will be advertised by a default Area Border Router into a stub area."
The metric for a given Type of Service that will be advertised by a default Area Border Router into a stub area.
Information in this table is persistent and when this object is written the entity SHOULD save the change to non volatile storage.
ospfStubMetric BigMetric, ospfStubStatus RowStatus, ospfStubMetricType INTEGER }
On creation, this can be derived from the instance."
The Type of Service associated with the metric.
On creation, this can be derived from the instance."
"The metric value applied at the indicated Type of Service.
By default, this equals the least metric at the Type of Service among the interfaces to other areas."
"This object permits management of the table by facilitating actions such as row creation, construction, and destruction.
The value of this object has no effect on whether other objects in this conceptual row can be modified."
"This variable displays the type of metric advertised as a default route.
The OSPF Process's link state database (LSDB).
The LSDB contains the link state advertisements from throughout the areas that the device is attached to."
current DESCRIPTION "A single link state advertisement.
ospfLsdbAdvertisement OCTET STRING } ospfLsdbAreaId OBJECT
The 32 bit identifier of the area from which the LSA was received.
but see ospfAsLsdbTable multicastLink (6), nssaExternalLink (7), areaOpaqueLink (10) }
The type of the link state advertisement.
Each link state type has a separate advertisement format.
Note: External link state advertisements are permitted for backward compatibility, but should be displayed in the ospfAsLsdbTable rather than here.
REFERENCE "OSPF Version 2, Appendix A.4.1
The Link State ID is an LS Type Specific field containing either a Router ID or an IP address; it identifies the piece of the routing domain that is being described by the advertisement."
"The sequence number field is a signed 32 bit integer.
It starts with the value '80000001'h, or  '7FFFFFFF'h, and increments until '7FFFFFFF'h.
Thus, a typical sequence number will be very negative.
It is used to detect old and duplicate Link State Advertisements.
The space of sequence numbers is linearly ordered.
The larger the sequence number, the more recent the advertisement."
"This field is the age of the link state advertisement in seconds.
"This field is the checksum of the complete contents of the advertisement, excepting the age field.
The age field is excepted so that an advertisement's age can be incremented without updating the checksum.
The checksum used is the same that is used for ISO connectionless datagrams; it is commonly referred to as the Fletcher checksum.
The entire link state advertisement, including its header.
Note that for variable length LSAs, SNMP agents may not be able to return the largest string size.
"The Address Range Table acts as an adjunct to the Area Table.
It describes those Address Range Summaries that are configured to be propagated from an Area to reduce the amount of information about it that is known beyond its borders.
It contains a set of IP address ranges specified by an IP address/IP network mask pair.
For example, class B address range of X.X.X.X with a network mask of 255.255.0.0 includes all IP addresses from X.X.0.0 to X.X.255.255.
Note that this table is obsoleted and is replaced by the Area Aggregate Table."
Information in this table is persistent and when this object is written the entity SHOULD save the change to non volatile storage.
read only   read only since originally
The area that the address range is to be found within."
read only   read only since originally
The IP address of the net or subnet indicated by the range.
"The subnet mask that pertains to the net or subnet."
"This object permits management of the table by facilitating actions such as row creation, construction, and destruction.
The value of this object has no effect on whether other objects in this conceptual row can be modified."
Subnets subsumed by ranges either trigger the advertisement of the indicated summary (advertiseMatching) or result in the subnet's not being advertised at all outside the area.
The Host/Metric Table indicates what hosts are directly attached to the router, what metrics and types of service should be advertised for them, and what areas they are found within."
A metric to be advertised, for a given type of service, when a given host is reachable.
Information in this table is persistent and when this object is written the entity SHOULD save the change to non volatile storage.
ospfHostStatus RowStatus, ospfHostAreaID AreaID, ospfHostCfgAreaID AreaID } ospfHostIpAddress OBJECT TYPE SYNTAX
The IP address of the host."
The Type of Service of the route being configured.
} ospfHostMetric OBJECT TYPE SYNTAX
"The metric to be advertised.
"This object permits management of the table by facilitating actions such as row creation, construction, and destruction.
The value of this object has no effect on whether other objects in this conceptual row can be modified."
REFERENCE "OSPF Version 2, Appendix C.7 Host parameters" ::
{ ospfHostEntry 5 } ospfHostCfgAreaID OBJECT
The OSPF Interface Table describes the interfaces from the viewpoint of OSPF.
It augments the ipAddrTable with OSPF specific information."
The OSPF interface entry describes one interface from the viewpoint of OSPF.
Information in this table is persistent and when this object is written the entity SHOULD save the change to non volatile storage.
PositiveInteger, ospfIfPollInterval PositiveInteger, ospfIfState INTEGER, ospfIfDesignatedRouter IpAddress, ospfIfBackupDesignatedRouter
IpAddress, ospfIfEvents Counter32, ospfIfAuthKey OCTET STRING, ospfIfStatus RowStatus, ospfIfMulticastForwarding INTEGER, ospfIfDemand TruthValue, ospfIfAuthType OspfAuthenticationType, ospfIfLsaCount Gauge32, ospfIfLsaCksumSum Unsigned32, ospfIfDesignatedRouterId RouterID, ospfIfBackupDesignatedRouterId RouterID
The IP address of this OSPF interface."
Area ID 0.0.0.0 is used for the OSPF backbone.
By way of a default, this field may be intuited from the corresponding value of ifType.
Broadcast LANs, such as Ethernet and IEEE 802.5, take the value 'broadcast', X.25 and similar technologies take the value 'nbma', and links that are definitively point to point take the value 'pointToPoint'."
"The OSPF interface's administrative status.
The value formed on the interface, and the interface will be advertised as an internal route to some area.
The value 'disabled' denotes that the interface is external to OSPF."
"The priority of this interface.
Used in multi access networks, this field is used in the designated router election algorithm.
The value 0 signifies that the router is not eligible to become the designated router on this particular network.
In the event of a tie in this value, routers will use their Router ID as a tie breaker.
} ospfIfTransitDelay OBJECT TYPE SYNTAX
"The estimated number of seconds it takes to transmit a link state update packet over this interface.
Note that the minimal value SHOULD be 1 second.
"The number of seconds between link state advertisement retransmissions, for adjacencies belonging to this interface.
This value is also used when retransmitting database description and Link State request packets.
Note that minimal value SHOULD be 1 second."
The length of time, in seconds, between the Hello packets that the router sends on the interface.
This value must be the same for all routers attached to a common network.
"The number of seconds that a router's Hello packets have not been seen before its neighbors declare the router down.
This should be some multiple of the Hello interval.
This value must be the same for all routers attached to a common network.
The larger time interval, in seconds, between the Hello packets sent to an inactive non broadcast multi access neighbor."
The IP address of the designated router."
The IP address of the backup designated router.
"The number of times this OSPF interface has changed its state or an error has occurred.
Discontinuities in the value of this counter can occur at re initialization of the management system, and at other times as indicated by the value of ospfDiscontinuityTime."
} ospfIfAuthKey OBJECT TYPE SYNTAX
"The cleartext password used as an OSPF authentication key when simplePassword security is enabled.
This object does not access any OSPF cryptogaphic (e.g., MD5) authentication key under any circumstance.
If the key length is shorter than 8 octets, the agent will left adjust and zero fill to 8 octets.
Unauthenticated interfaces need no authentication key, and simple password authentication cannot use a key of more than 8 octets.
Note that the use of simplePassword authentication is NOT recommended when there is concern regarding attack upon the OSPF system.
SimplePassword authentication is only sufficient to protect against accidental misconfigurations because it re uses cleartext passwords [RFC1704].
When read, ospfIfAuthKey always returns an octet string of length zero.
" REFERENCE "OSPF Version 2, Section 9
"This object permits management of the table by facilitating actions such as row creation, construction, and destruction.
The value of this object has no effect on whether other objects in this conceptual row can be modified."
"The way multicasts should be forwarded on this interface: not forwarded, forwarded as data link multicasts, or forwarded as data link unicasts.
Data link multicasting is not meaningful on point to point and NBMA interfaces, and setting ospfMulticastForwarding to 0 effectively disables all multicast forwarding.
"Indicates whether Demand OSPF procedures (hello suppression to FULL neighbors and setting the DoNotAge flag on propagated LSAs)
should be performed on this interface."
"The authentication type specified for an interface.
Note that this object can be used to engage in significant attacks against an OSPF router."
"The total number of link local link state advertisements in this interface's link local link state database."
The sum can be used to determine if there has been a change in the interface's link state database and to compare the interface link state database of routers attached to the same subnet."
The Router ID of the designated router."
"The Metric Table describes the metrics to be advertised for a specified interface at the various types of service.
As such, this table is an adjunct of the OSPF Interface Table.
Types of service, as defined by RFC 791, have the ability to request low delay, high bandwidth, or reliable linkage.
For the purposes of this specification, the measure of bandwidth: Metric   referenceBandwidth / ifSpeed is the default value.
The default reference bandwidth is 10^8.
For multiple link interfaces, note that ifSpeed is the sum of the individual link speeds.
This yields a number having the following typical values: Network Type/bit rate
10416 Routes that are not specified use the default (TOS 0)
Note that the default reference bandwidth can be configured using the general group
A particular TOS metric for a non virtual interface identified by the interface index.
Information in this table is persistent and when this object is written the entity SHOULD save the change to non volatile storage.
, ospfIfMetricTOS TOSType, ospfIfMetricValue Metric, ospfIfMetricStatus RowStatus } ospfIfMetricIpAddress
The IP address of this OSPF interface.
On row creation, this can be derived from the instance."
On row creation, this can be derived from the instance."
The Type of Service metric being referenced.
On row creation, this can be derived from the instance."
The metric of using this Type of Service on this interface.
The default value of the TOS
{ ospfIfMetricEntry 4 } ospfIfMetricStatus OBJECT TYPE SYNTAX
"This object permits management of the table by facilitating actions such as row creation, construction, and destruction.
The value of this object has no effect on whether other objects in this conceptual row can be modified."
Information in this table is persistent and when this object is written the entity SHOULD save the change to non volatile storage.
ospfVirtIfRetransInterval UpToMaxAge, ospfVirtIfHelloInterval HelloRange, ospfVirtIfRtrDeadInterval PositiveInteger, ospfVirtIfState INTEGER, ospfVirtIfEvents Counter32, ospfVirtIfAuthKey OCTET STRING, ospfVirtIfStatus RowStatus, ospfVirtIfAuthType OspfAuthenticationType, ospfVirtIfLsaCount Gauge32, ospfVirtIfLsaCksumSum Unsigned32 } ospfVirtIfAreaId OBJECT
The transit area that the virtual link traverses.
By definition, this is not 0.0.0.0."
The Router ID of the virtual neighbor."
"The estimated number of seconds it takes to transmit a Link State update packet over this interface.
Note that the minimal value SHOULD be 1 second.
"The number of seconds between link state avertisement retransmissions, for adjacencies belonging to this interface.
This value is also used when retransmitting database description and Link State request packets.
This value should be well over the expected round trip time.
Note that the minimal value SHOULD be 1 second.
The length of time, in seconds, between the Hello packets that the router sends on the interface.
This value must be the same for the virtual neighbor."
"The number of seconds that a router's Hello packets have not been seen before its neighbors declare the router down.
This should be some multiple of the Hello interval.
This value must be the same for the virtual neighbor."
"The number of state changes or error events on this virtual link.
Discontinuities in the value of this counter can occur at re initialization of the management system, and at other times as indicated by the value of ospfDiscontinuityTime."
"The cleartext password used as an OSPF authentication key when simplePassword security is enabled.
This object does not access any OSPF cryptogaphic (e.g., MD5) authentication key under any circumstance.
If the key length is shorter than 8 octets, the agent will left adjust and zero fill to 8 octets.
Unauthenticated interfaces need no authentication key, and simple password authentication cannot use a key of more than 8 octets.
Note that the use of simplePassword authentication is NOT recommended when there is concern regarding attack upon the OSPF system.
SimplePassword authentication is only sufficient to protect against accidental misconfigurations because it re uses cleartext passwords.
When read, ospfIfAuthKey always returns an octet string of length zero.
" REFERENCE "OSPF Version 2, Section 9
"This object permits management of the table by facilitating actions such as row creation, construction, and destruction.
The value of this object has no effect on whether other objects in this conceptual row can be modified."
"The authentication type specified for a virtual interface.
Note that this object can be used to engage in significant attacks against an OSPF router."
The sum can be used to determine if there has been a change in the virtual interface's link state database, and to compare the virtual interface link state database of the virtual neighbors."
A table describing all non virtual neighbors in the locality of the OSPF router."
REFERENCE "OSPF Version 2, Section 10
The information regarding a single neighbor.
Information in this table is persistent and when this object is written the entity SHOULD save the change to non volatile storage.
REFERENCE "OSPF Version 2, Section 10
ospfNbrRestartHelperExitReason INTEGER } ospfNbrIpAddr OBJECT
The IP address this neighbor is using in its IP source address.
Note that, on addressless links, this will not be 0.0.0.0
but the address of another of the neighbor's interfaces."
On addressless interfaces, the corresponding value of ifIndex in the Internet Standard MIB.
On row creation, this can be derived from the instance."
A 32 bit integer (represented as a type IpAddress) uniquely identifying the neighboring router in the Autonomous System.
A bit mask corresponding to the neighbor's options field.
Bit 0, if set, indicates that the system will operate on Type of Service metrics other than TOS 0.
If zero, the neighbor will ignore all metrics except the TOS 0 metric.
Bit 1, if set, indicates that the associated area accepts and operates on external information; if zero, it is a stub area.
Bit 2, if set, indicates that the system is capable of routing IP multicast datagrams, that is that it implements the multicast extensions to OSPF.
Bit 3, if set, indicates that the associated area is an NSSA.
These areas are capable of carrying type 7 external advertisements, which are translated into type 5 external advertisements at NSSA borders.
4 } ospfNbrPriority OBJECT TYPE SYNTAX
"The priority of this neighbor in the designated router election algorithm.
The value 0 signifies that the neighbor is not eligible to become the designated router on this particular network.
The state of the relationship with this neighbor."
"The number of times this neighbor relationship has changed state or an error has occurred.
The current length of the retransmission queue."
"This object permits management of the table by facilitating actions such as row creation, construction, and destruction.
The value of this object has no effect on whether other objects in this conceptual row can be modified."
10 } ospfNbrHelloSuppressed OBJECT TYPE SYNTAX
"Indicates whether Hellos are being suppressed to the neighbor."
"Indicates whether the router is acting as a graceful restart helper for the neighbor."
aborted due to   topology   change. }
"Describes the outcome of the last attempt at acting as a graceful restart helper for the neighbor."
OSPF Virtual Neighbor Table ospfVirtNbrTable OBJECT
"This table describes all virtual neighbors.
Since virtual links are configured in the Virtual Interface Table, this table is read only.
"A 32 bit integer uniquely identifying the neighboring router in the Autonomous System."
The IP address this virtual neighbor is using."
A bit mask corresponding to the neighbor's options field.
Bit 1, if set, indicates that the system will operate on Type of Service metrics other than TOS 0.
If zero, the neighbor will ignore all metrics except the TOS 0 metric.
Bit 2, if set, indicates that the system is network multicast capable, i.e., that it implements OSPF multicast routing."
The state of the virtual neighbor relationship."
"The number of times this virtual link has changed its state or an error has occurred.
Discontinuities in the value of this counter can occur at re initialization of the management system, and at other times as indicated by the value of ospfDiscontinuityTime."
{ ospfVirtNbrEntry 6 } ospfVirtNbrLsRetransQLen OBJECT
The current length of the retransmission queue."
"Indicates whether Hellos are being suppressed to the neighbor."
notHelping (1), helping (2) }
"Indicates whether the router is acting as a graceful restart helper for the neighbor."
aborted due to   topology   change. }
"Describes the outcome of the last attempt at acting as a graceful restart helper for the neighbor."
deprecated DESCRIPTION "The OSPF Process's external LSA link state database.
This table is identical to the OSPF LSDB Table in format, but contains only external link state advertisements.
The purpose is to allow external LSAs to be displayed once for the router rather than once in each non stub area.
Note that external LSAs are also in the AS scope link state database."
deprecated DESCRIPTION "A single link state advertisement.
ospfExtLsdbChecksum Integer32, ospfExtLsdbAdvertisement OCTET STRING } ospfExtLsdbType
read only   read only since originally
The type of the link state advertisement.
Each link state type has a separate advertisement format.
REFERENCE "OSPF Version 2, Appendix A.4.1
read only   read only since originally
"The Link State ID is an LS Type Specific field containing either a Router ID or an IP address; it identifies the piece of the routing domain that is being described by the advertisement."
read only   read only since originally
"The sequence number field is a signed 32 bit integer.
It starts with the value '80000001'h, or  '7FFFFFFF'h, and increments until '7FFFFFFF'h.
Thus, a typical sequence number will be very negative.
It is used to detect old and duplicate link state advertisements.
The space of sequence numbers is linearly ordered.
The larger the sequence number, the more recent the advertisement."
OSPF Version  2,  Section  12.1.6
"This field is the age of the link state advertisement in seconds.
"This field is the checksum of the complete contents of the advertisement, excepting the age field.
The age field is excepted so that an advertisement's age can be incremented without updating the checksum.
The checksum used is the same that is used for ISO connectionless datagrams; it is commonly referred to as the Fletcher checksum.
The entire link state advertisement, including its header."
Those that leave some discretion are defined here.
ipCidrRouteProto is, of course, ospf (13).
For intra area, inter area routes,
The OSPF Area Aggregate Table
It describes those address aggregates that are configured to be propagated from an area.
Its purpose is to reduce the amount of information that is known beyond an Area's borders.
It contains a set of IP address ranges specified by an IP address/IP network mask pair.
For example, a class B address range of X.X.X.X with a network mask of 255.255.0.0 includes all IP addresses from X.X.0.0 to X.X.255.255.
Note that if ranges are configured such that one range subsumes another range (e.g., 10.0.0.0 mask
255.0.0.0 and 10.1.0.0 mask 255.255.0.0), the most specific match is the preferred one.
current DESCRIPTION "A single area aggregate entry.
Information in this table is persistent and when this object is written the entity SHOULD save the change to non volatile storage.
Appendix C.2  Area parameters" INDEX { ospfAreaAggregateAreaID
AreaID, ospfAreaAggregateLsdbType INTEGER, ospfAreaAggregateNet IpAddress, ospfAreaAggregateMask IpAddress, ospfAreaAggregateStatus RowStatus, ospfAreaAggregateEffect INTEGER, ospfAreaAggregateExtRouteTag Unsigned32
The area within which the address aggregate is to be found.
The type of the address aggregate.
This field specifies the Lsdb type that this address aggregate applies to."
REFERENCE "OSPF Version 2, Appendix A.4.1
read only   read only since originally
The IP address of the net or subnet indicated by the range.
"The subnet mask that pertains to the net or subnet."
"This object permits management of the table by facilitating actions such as row creation, construction, and destruction.
The value of this object has no effect on whether other objects in this conceptual row can be modified."
"Subnets subsumed by ranges either trigger the advertisement of the indicated aggregate (advertiseMatching) or result in the subnet's not being advertised at all outside the area.
The OSPF Process's link local link state database for non virtual links.
This table is identical to the OSPF LSDB Table in format, but contains only link local Link State Advertisements for non virtual links.
The purpose is to allow link local LSAs to be displayed for each non virtual interface.
This table is implemented to support type 9 LSAs that are defined in 'The OSPF Opaque LSA Option'.
The IP address of the interface from which the LSA was received if the interface is numbered.
The interface index of the interface from which the LSA was received if the interface is unnumbered.
The type of the link state advertisement.
Each link state type has a separate advertisement format.
REFERENCE "OSPF Version 2, Appendix A.4.1
"The Link State ID is an LS Type Specific field containing a 32 bit identifier in IP address format; it identifies the piece of the routing domain that is being described by the advertisement."
"The sequence number field is a signed 32 bit integer.
It starts with the value '80000001'h, or  '7FFFFFFF'h, and increments until '7FFFFFFF'h.
Thus, a typical sequence number will be very negative.
It is used to detect old and duplicate link state advertisements.
The space of sequence numbers is linearly ordered.
The larger the sequence number, the more recent the advertisement."
"This field is the age of the link state advertisement in seconds.
"This field is the checksum of the complete contents of the advertisement, excepting the age field.
The age field is excepted so that an advertisement's age can be incremented without updating the checksum.
The checksum used is the same that is used for ISO connectionless datagrams; it is commonly referred to as the Fletcher checksum.
The entire link state advertisement, including its header.
Note that for variable length LSAs, SNMP agents may not be able to return the largest string size.
The OSPF Process's link local link state database for virtual links.
This table is identical to the OSPF LSDB Table in format, but contains only link local Link State Advertisements for virtual links.
The purpose is to allow link local LSAs to be displayed for each virtual interface.
This table is implemented to support type 9 LSAs that are defined in 'The OSPF Opaque LSA Option'.
The transit area that the virtual link traverses.
By definition, this is not 0.0.0.0.
The Router ID of the virtual neighbor."
The type of the link state advertisement.
Each link state type has a separate advertisement format.
REFERENCE "OSPF Version 2, Appendix A.4.1
"The Link State ID is an LS Type Specific field containing a 32 bit identifier in IP address format; it identifies the piece of the routing domain that is being described by the advertisement."
"The sequence number field is a signed 32 bit integer.
It starts with the value '80000001'h, or  '7FFFFFFF'h, and increments until '7FFFFFFF'h.
Thus, a typical sequence number will be very negative.
It is used to detect old and duplicate link state advertisements.
The space of sequence numbers is linearly ordered.
The larger the sequence number, the more recent the advertisement."
6 } ospfVirtLocalLsdbAge OBJECT TYPE SYNTAX
"This field is the age of the link state advertisement in seconds.
"This field is the checksum of the complete contents of the advertisement, excepting the age field.
The age field is excepted so that an advertisement's age can be incremented without updating the checksum.
The checksum used is the same that is used for ISO connectionless datagrams; it is commonly referred to as the Fletcher checksum.
} ospfVirtLocalLsdbAdvertisement OBJECT TYPE SYNTAX
The entire link state advertisement, including its header."
REFERENCE "OSPF Version 2, Section 12 Link State Advertisements.
Note that for variable length LSAs, SNMP agents may not be able to return the largest string size."
The OSPF Process's AS scope
The database contains the AS scope Link State Advertisements from throughout the areas that the device is attached to.
This table is identical to the OSPF LSDB Table in format, but contains only AS scope Link State Advertisements.
The purpose is to allow AS scope LSAs to be displayed once for the router rather than once in each non stub area.
ospfAsLsdbChecksum Integer32, ospfAsLsdbAdvertisement OCTET STRING
The type of the link state advertisement.
Each link state type has a separate advertisement format.
REFERENCE "OSPF Version 2, Appendix A.4.1
"The Link State ID is an LS Type Specific field containing either a Router ID or an IP address; it identifies the piece of the routing domain that is being described by the advertisement."
"The sequence number field is a signed 32 bit integer.
It starts with the value '80000001'h, or  '7FFFFFFF'h, and increments until '7FFFFFFF'h.
Thus, a typical sequence number will be very negative.
It is used to detect old and duplicate link state advertisements.
The space of sequence numbers is linearly ordered.
The larger the sequence number, the more recent the advertisement."
OSPF Version  2,  Section  12.1.6
"This field is the age of the link state advertisement in seconds.
"This field is the checksum of the complete contents of the advertisement, excepting the age field.
The age field is excepted so that an advertisement's age can be incremented without updating the checksum.
The checksum used is the same that is used for ISO connectionless datagrams; it is commonly referred to as the Fletcher checksum.
The entire link state advertisement, including its header."
REFERENCE "OSPF Version 2, Section 12 Link State Advertisements.
Note that for variable length LSAs, SNMP agents may not be able to return the largest string size."
An entry with a number of link advertisements of a given type for a given area.
The compliance statement for OSPF systems conforming to RFC 1850.
GROUP  ospfLsdbGroup DESCRIPTION "This group is mandatory for OSPF systems that display their per area link state database."
GROUP  ospfExtLsdbGroup DESCRIPTION "This group is mandatory for OSPF systems that display their external link state database."
This group is mandatory for OSPF systems that support attached hosts."
GROUP  ospfLsdbGroup DESCRIPTION "This group is mandatory for OSPF systems that display their per area link state database."
GROUP  ospfAsLsdbGroup DESCRIPTION "This group is mandatory for OSPF systems that display their AS scope link state database."
This group is mandatory for OSPF systems that display their per link link state database for non virtual links."
This group is mandatory for OSPF systems that display their per link link state database for virtual links."
This group is mandatory for OSPF systems that display per area, per LSA type counters."
this module GROUP  ospfAreaRangeGroup DESCRIPTION "
This group is obsolete, and it is mandatory only for non Classless Inter Domain Routing (CIDR)
OSPF systems that support multiple areas.
"This group contains obsolete objects, which are no longer required for OSPF systems."
"These objects are used to monitor/manage global OSPF parameters.
This object group conforms to RFC 1850."
OBJECT GROUP OBJECTS { ospfAreaId, ospfImportAsExtern, ospfSpfRuns, ospfAreaBdrRtrCount, ospfAsBdrRtrCount, ospfAreaLsaCount, ospfAreaLsaCksumSum, ospfAreaSummary, ospfAreaStatus } STATUS
"These objects are used for OSPF systems supporting areas per RFC 1850."
OBJECT GROUP OBJECTS { ospfStubAreaId, ospfStubTOS, ospfStubMetric, ospfStubStatus,
"These objects are used for OSPF systems supporting stub areas."
"These objects are used for OSPF systems that display their link state database."
"These objects are used for non CIDR OSPF systems that support multiple areas.
This object group is obsolete."
OBJECT GROUP OBJECTS { ospfHostIpAddress, ospfHostTOS, ospfHostMetric, ospfHostStatus,
"These objects are used for OSPF systems that support attached hosts."
These objects are used to monitor/manage OSPF interfaces.
This object group conforms to RFC 1850."
OBJECT GROUP OBJECTS { ospfIfMetricIpAddress, ospfIfMetricAddressLessIf, ospfIfMetricTOS, ospfIfMetricValue,
"These objects are used for OSPF systems for supporting interface metrics."
These objects are used for OSPF systems for supporting virtual interfaces.
This object group conforms to RFC 1850."
This object group conforms to RFC 1850."
OBJECT GROUP OBJECTS { ospfVirtNbrArea, ospfVirtNbrRtrId, ospfVirtNbrIpAddr, ospfVirtNbrOptions, ospfVirtNbrState, ospfVirtNbrEvents, ospfVirtNbrLsRetransQLen, ospfVirtNbrHelloSuppressed }
These objects are used to monitor/manage OSPF virtual neighbors.
This object group conforms to RFC 1850."
This object group conforms to RFC 1850.
This object group is replaced by the ospfAsLsdbGroup in order to support any AS scope LSA type in a single table."
These objects are used for OSPF systems to support network prefix aggregation across areas."
"These objects are used for OSPF systems that display their link local link state databases for non virtual links."
"These objects are used for OSPF systems that display their link local link state databases for virtual links."
"These objects are used for OSPF systems that display their AS scope link state database."
OBJECT GROUP OBJECTS { ospfRouterId, ospfAdminStat, ospfVersionNumber, ospfAreaBdrRtrStatus, ospfASBdrRtrStatus, ospfExternLsaCount, ospfExternLsaCksumSum, ospfTOSSupport, ospfOriginateNewLsas, ospfRxNewLsas, ospfExtLsdbLimit,
"These objects are used to monitor/manage OSPF global parameters."
OBJECT GROUP OBJECTS { ospfAreaId, ospfImportAsExtern, ospfSpfRuns, ospfAreaBdrRtrCount, ospfAsBdrRtrCount, ospfAreaLsaCount, ospfAreaLsaCksumSum, ospfAreaSummary, ospfAreaStatus, ospfAreaNssaTranslatorRole, ospfAreaNssaTranslatorState,
"These objects are used by OSPF systems to support areas."
"These objects are used to monitor/manage OSPF interfaces."
OBJECT GROUP OBJECTS { ospfVirtIfAreaId, ospfVirtIfNeighbor, ospfVirtIfTransitDelay, ospfVirtIfRetransInterval, ospfVirtIfHelloInterval, ospfVirtIfRtrDeadInterval, ospfVirtIfState, ospfVirtIfEvents, ospfVirtIfAuthType, ospfVirtIfAuthKey, ospfVirtIfStatus, ospfVirtIfLsaCount, ospfVirtIfLsaCksumSum, ospfIfDesignatedRouterId,
These objects are used to monitor/manage OSPF virtual interfaces."
"These objects are used to monitor/
OBJECT GROUP OBJECTS { ospfVirtNbrArea, ospfVirtNbrRtrId, ospfVirtNbrIpAddr, ospfVirtNbrOptions, ospfVirtNbrState, ospfVirtNbrEvents, ospfVirtNbrLsRetransQLen,
"These objects are used to monitor/manage OSPF virtual neighbors."
"These objects are used for OSPF systems to support network prefix aggregation across areas."
OBJECT GROUP OBJECTS { ospfHostIpAddress,
"These objects are used for OSPF systems that support attached hosts."
OBJECT GROUP OBJECTS { ospfAuthType
"These objects are obsolete and are no longer required for OSPF systems.
They are placed into this group for SMI conformance."
Introduction OSPF is an event driven routing protocol, where an event can be a change in an OSPF interface's link level status, the expiration of an OSPF timer, or the reception of an OSPF protocol packet.
Many of the actions that OSPF takes as a result of these events will result in a change of the routing topology.
As routing topologies become large and complex, it is often difficult to locate the source of a topology change or unpredicted routing path by polling a large number or routers.
Because of the difficulty of polling a large number of devices, a more prudent approach is for devices to notify a network manager of potentially critical OSPF events using SNMP traps.
This section defines a set of traps, objects, and mechanisms to enhance the ability to manage IP internetworks that use OSPF as their Interior Gateway Protocol (IGP).
It is an optional but very useful extension to the OSPF MIB.
The mechanism for sending traps is straightforward.
When an exception event occurs, the application notifies the local agent, who sends a trap to the appropriate SNMP management stations.
The message includes the trap type and may include a list of trap  specific variables.
Section 5 gives the trap definitions, which includes the variable lists.
The Router ID of the originator of the trap is included in the variable list so that the network manager may easily determine the source of the trap.
To limit the frequency of OSPF traps, the following additional mechanisms are suggested.
The majority of critical events occur when OSPF is enabled on a router, at which time the designated router is elected and neighbor adjacencies are formed.
During this initial period, a potential flood of traps is unnecessary since the events are expected.
To avoid unnecessary traps, a router should not originate expected OSPF interface related traps until two of that interface's dead timer intervals have elapsed.
The expected OSPF interface traps are ospfIfStateChange, ospfVirtIfStateChange, ospfNbrStateChange, ospfVirtNbrStateChange, ospfTxRetransmit, and ospfVirtIfTxRetransmit.
Additionally, ospfMaxAgeLsa and ospfOriginateLsa traps should not be originated until two dead timer intervals have elapsed where the dead timer interval used should be the dead timer with the smallest value.
The mechanism for throttling the traps is similar to the mechanism explained in RFC 1224 [RFC1224].
The basic premise of the throttling mechanism is that of a sliding window, defined in seconds and an upper bound on the number of traps that may be generated within this window.
Note that unlike RFC 1224, traps are not sent to inform the network manager that the throttling mechanism has kicked in.
A single window should be used to throttle all OSPF trap types except for the ospfLsdbOverflow and the ospfLsdbApproachingOverflow traps, which should not be throttled.
For example, with a window time of 3, an upper bound of 3, and events to cause trap types 1, 3, 5, and 7 (4 traps within a 3 second period), the type 7 (the 4th) trap should not be generated.
Appropriate values are 7 traps with a window time of 10 seconds.
One Trap Per OSPF Event Several of the traps defined in section 5 are generated as the result of finding an unusual condition while parsing an OSPF packet or a processing a timer event.
There may be more than one unusual condition detected while handling the event.
For example, a link state update packet may contain several retransmitted link state advertisements (LSAs), or a retransmitted database description packet may contain several database description entries.
To limit the number of traps and variables, OSPF should generate at most one trap per OSPF event.
Only the variables associated with the first unusual condition should be included with the trap.
Similarly, if more than one type of unusual condition is encountered while parsing the packet, only the first event will generate a trap.
Many of the tables in the OSPF MIB contain generalized event counters.
By enabling the traps defined in this document, a network manager can obtain more specific information about these events.
A network manager may want to poll these event counters and enable specific OSPF traps when a particular counter starts increasing abnormally.
The following table shows the relationship between the event counters defined in the OSPF MIB and the trap types.
The definition of the OSPF notifications pre dates the RFC 2578
[RFC2578] requirement of having a zero value for the penultimate sub identifier for translating SNMPv2/
trap parameters to SNMPv1 trap parameters.
[RFC3584], section 3, defines the translation rules that can be implemented by intermediate proxy  agents or multi lingual agents to convert SNMPv2/SNMPv3 notifications to SNMPv1 notifications and vice versa.
The conversion is not reversible, that is, a conversion to one SNMP version and then back again will result in an incorrectly formatted version of the notification.
According to the rules specified in RFC 3584, section 3.1, translation of OSPF notifications from SNMPv1 to SNMPv2/SNMPv3 would result in the SNMPv2/SNMPv3 snmpTrapOID being the concatenation of the SNMPv1 'enterprise' parameter and two additional sub identifiers, '0' and the SNMPv1 'specific trap' parameter.
According to the rules specified in RFC 3584, section 3.2, translation of OSPF notifications from SNMPv2/SNMPv3 to SNMPv1, as the notifications are defined in this MIB, would result in the SNMPv1 'enterprise' parameter being set to the SNMPv2/SNMPv3 snmpTrapOID parameter value with the last sub identifier removed and the 'specific trap' parameter being set to the last sub identifier of the SNMPv2/SNMPv3 snmpTrapOID parameter.
Note that a notification originated from an SNMPv1 agent will not be converted into the same notification that would be originated from a native SNMPv2/SNMPv3 agent.
The MIB modules that are updated by this document were originally written in SMIv1 for SNMPv1 when only traps were used.
Since this version of the MIB module is written in SMIv2, it should be understood that all types of notifications, trap and inform PDUs, may be used by native SNMPv2 and SNMPv3 agents, although only traps are mentioned.
Also, for backwards compatibility, the OSPF Trap module remains rooted at {ospf 16}.
IMPORTS MODULE IDENTITY, OBJECT TYPE, NOTIFICATION TYPE,
SMI MODULE COMPLIANCE, OBJECT GROUP, NOTIFICATION GROUP FROM SNMPv2 CONF ospfRouterId, ospfIfIpAddress, ospfAddressLessIf, ospfIfState, ospfVirtIfAreaId, ospfVirtIfNeighbor, ospfVirtIfState, ospfNbrIpAddr, ospfNbrAddressLessIndex, ospfNbrRtrId, ospfNbrState, ospfVirtNbrArea, ospfVirtNbrRtrId, ospfVirtNbrState, ospfLsdbType, ospfLsdbLsid, ospfLsdbRouterId, ospfLsdbAreaId, ospfExtLsdbLimit, ospf, ospfAreaId, ospfAreaNssaTranslatorState, ospfRestartStatus, ospfRestartInterval, ospfRestartExitReason, ospfNbrRestartHelperStatus, ospfNbrRestartHelperAge, ospfNbrRestartHelperExitReason, ospfVirtNbrRestartHelperStatus, ospfVirtNbrRestartHelperAge, ospfVirtNbrRestartHelperExitReason FROM OSPF MIB; ospfTrap
MODULE IDENTITY LAST UPDATED "200611100000Z"   November 10, 2006 00:00:00
EST ORGANIZATION "IETF OSPF Working Group" CONTACT INFO "WG E Mail:
Dan Joyal Nortel 600 Technology Park Drive Billerica
19 Alpha Road Chelmsford, MA 01824
Eleven Madison Ave New York,
The MIB module to describe traps for the OSPF Version 2 Protocol.
This version of this MIB module is part of RFC 4750;  see the RFC itself for full legal notices."
REVISION "200611100000Z"   November 10, 2006 00:00:00
Updated for latest changes to OSPFv2:
added graceful restart related traps
added new config error types
See Appendix B of RFC 4750 for more details.
This version published as part of RFC 4750" REVISION "199501201225Z"
Fri Jan 20 12:25:50 PST 1995 DESCRIPTION "
The initial SMIv2 revision of this MIB module, published in RFC 1850."
The following are support objects for the OSPF traps.
2 } ospfSetTrap OBJECT TYPE SYNTAX
This object is used to enable and disable specific OSPF traps where a 1 in the bit field represents enabled.
The right most bit (least significant) represents trap 0.
This object is persistent and when written the entity SHOULD save the change to non volatile storage."
Router is DR eligible unknownVirtualNbr (4), authTypeMismatch(5), authFailure (6), netMaskMismatch (7),
, deadIntervalMismatch (9), optionMismatch (10), mtuMismatch (11), duplicateRouterId (12), noError (13) }
current DESCRIPTION "Potential types of configuration conflicts.
Used by the ospfConfigError and ospfConfigVirtError traps.
When the last value of a trap using this object is needed, but no traps of that type have been sent, this value pertaining to this object should be returned as noError."
When the last value of a trap using this object is needed, but no traps of that type have been sent, this value pertaining to this object should be returned as nullPacket."
The IP address of an inbound packet that cannot be identified by a neighbor instance.
An ospfVirtIfStateChange trap signifies that there has been a change in the state of an OSPF virtual interface.
This trap should be generated when the interface state regresses (e.g., goes from Point to Point to Down) or progresses to a terminal state (i.e., Point to Point)."
"An ospfNbrStateChange trap signifies that there has been a change in the state of a non virtual OSPF neighbor.
This trap should be generated when the neighbor state regresses (e.g., goes from Attempt or Full to 1 Way or Down) or progresses to a terminal state (e.g., 2 Way or Full).
When an neighbor transitions from or to Full on non broadcast multi access and broadcast networks, the trap should be generated by the designated router.
A designated router transitioning to Down will be noted by ospfIfStateChange."
This trap should be generated when the neighbor state regresses (e.g., goes from Attempt or Full to 1 Way or Down) or progresses to a terminal state (e.g., Full)."
The originator of the trap
An ospfIfConfigError trap signifies that a packet has been received on a non virtual interface from a router whose configuration parameters conflict with this router's configuration parameters.
Note that the event optionMismatch should cause a trap only if it prevents an adjacency from forming."
Note that the event optionMismatch should cause a trap only if it prevents an adjacency from forming."
An ospfIfAuthFailure trap signifies that a packet has been received on a non virtual interface from a router whose authentication key or authentication type conflicts with this router's authentication key or authentication type."
An ospfIfRxBadPacket trap signifies that an OSPF packet has been received on a non virtual interface that cannot be parsed."
an OSPF packet has been retransmitted on a non virtual interface.
All packets that may be retransmitted are associated with an LSDB entry.
The LS type, LS ID, and Router ID are used to identify the LSDB entry."
an OSPF packet has been retransmitted on a virtual interface.
All packets that may be retransmitted are associated with an LSDB entry.
The LS type, LS ID, and Router ID are used to identify the LSDB entry."
An ospfOriginateLsa trap signifies that a new LSA has been originated by this router.
This trap should not be invoked for simple refreshes of LSAs (which happens every 30 minutes), but instead will only be invoked when an LSA is (re)originated due to a topology change.
Additionally, this trap does not include LSAs that are being flushed because they have reached MaxAge."
An ospfMaxAgeLsa trap signifies that one of the LSAs in the router's link state database has aged to MaxAge."
An ospfLsdbOverflow trap signifies that the number of LSAs in the router's link state database has exceeded ospfExtLsdbLimit."
An ospfLsdbApproachingOverflow trap signifies that the number of LSAs in the router's link state database has exceeded ninety percent of ospfExtLsdbLimit."
"An ospfIfStateChange trap signifies that there has been a change in the state of a non virtual OSPF interface.
This trap should be generated when the interface state regresses (e.g., goes from Dr to Down) or progresses to a terminal state (i.e., Point to Point, DR Other, Dr, or Backup)."
An ospfNssaTranslatorStatusChange trap indicates that there has been a change in the router's ability to translate OSPF type 7 LSAs into OSPF type 5 LSAs.
This trap should be generated when the translator status transitions from or to any defined status on a per area basis."
An ospfRestartStatusChange trap signifies that there has been a change in the graceful restart state for the router.
This trap should be generated when the router restart status changes."
NOTIFICATION TYPE OBJECTS { ospfRouterId,
An ospfNbrRestartHelperStatusChange trap signifies that there has been a change in the graceful restart helper state for the neighbor.
This trap should be generated when the neighbor restart helper status transitions for a neighbor."
This trap should be generated when the virtual neighbor restart helper status transitions for a virtual neighbor."
This group is optional but recommended for all OSPF systems."
"This object is only required to be supplied within notifications.
"This object is only required to be supplied within notifications.
"This object is only required to be supplied within notifications."
OBJECT GROUP OBJECTS { ospfSetTrap, ospfConfigErrorType, ospfPacketType, ospfPacketSrc
These objects are required to control traps from OSPF systems."
A grouping of OSPF trap events, as specified in NOTIFICATION TYPE constructs."
There are a number of management objects defined in this MIB that have a MAX ACCESS clause of read write and/or read create.
Such objects may be considered sensitive or vulnerable in some network environments.
The support for SET operations in a non secure environment without proper protection can have a negative effect on network operations.
It is recommended that attention be specifically given to implementing the MAX ACCESS clause in a number of objects, including ospfIfAuthKey, ospfIfAuthType, ospfVirtIfAuthKey, and ospfVirtIfAuthType in scenarios that DO NOT use SNMPv3 strong security (i.e., authentication and encryption).
Extreme caution must be used to minimize the risk of cascading security vulnerabilities when SNMPv3 strong security is not used.
When SNMPv3 strong security is not used, these objects should have access of read only, not read create.
by itself is not a secure environment.
Even if the network itself is secure (for example by using IPsec), even then, there is no control as to who on the secure network is allowed to access and
the objects in this MIB.
It is recommended that the implementers consider the security features as provided by the SNMPv3 framework.
Specifically, the use of the User based Security Model RFC 3414 [RFC3414] and the View  based Access Control Model RFC 3415 [RFC3415] is recommended.
It is then a customer/user responsibility to ensure that the SNMP entity giving access to an instance of this MIB, is properly configured to give access to the objects only to those principals (users) that have legitimate rights to indeed GET or SET
The MIB module in this document uses the following IANA assigned OBJECT IDENTIFIER values recorded in the SMI Numbers registry:
} Appendix A.  TOS Support For backward compatibility with previous versions of the OSPF MIB specification
, TOS specific information has been retained in this document, though the TOS routing option has been deleted from OSPF [RFC2328].
Appendix B.  Changes from RFC 1850
This section documents the differences between this memo and RFC 1850.
General Group Changes Added object ospfRFC1583Compatibility to indicate support with "RFC 1583 Compatibility" [RFC1583].
This object has DEFVAL of "enabled".
Added object ospfReferenceBandwidth to allow configuration of a reference bandwidth for calculation of default interface metrics.
ospfRestartSupport, ospfRestartInterval, ospfRestartAge, ospfRestartStrictLsaChecking, and ospfRestartExitReason to support graceful restart.
Added objects ospfStubRouterSupport and ospfStubRouteAdvertisement to support stub routers.
Added object ospfDiscontinuityTime in order for a management entity to detect counter discontinuity events.
OSPF NSSA Enhancement Support Added new objects to OspfAreaTable including the following:  ospfAreaNssaTranslatorRole to indicate the configured NSSA translation role.
to indicate the current NSSA translation role.
ospfAreaNssaTranslatorStabilityInterval to indicate time to continue to perform at current translation status.
ospfAreaNssaTranslatorEvents to indicate the number of times OSPF translation state has changed.
Added new object ospfAreaAggregateExtRouteTag to ospfAreaAggregateTable.
Added new object ospfNssaTranslatorStatusChange to ospfTraps in OSPF TRAP MIB DEFINITIONS.
Added ospfAreaId to IMPORTS in OSPF TRAP MIB DEFINITIONS to support ospfNssaTranslatorStatusChange.
Added ospfAreaExtNssaTranslatorStatus to IMPORTS in OSPF TRAP MIB DEFINITIONS to support ospfNssaTranslatorStatusChange.
Modified the DESCRIPTION clause of the ospfAreaSummary object in the ospfAreaTable to indicate support for NSSA.
Modified the DESCRIPTION clause of the ospfImportAsExtern object in the ospfAreaTable for clarity.
Opaque LSA Support Added object ospfOpaqueLsaSupport to ospfGeneralGroup to indicate support of OSPF Opaque LSAs.
Created ospfLocalLsdbTable, for link local (type 9) LSA support.
This table is indexed by the following:  ospflocalLsdbIpAddress  ospfLocalLsdbAddressLessIf  ospfLocalLsdbType  ospfLocalLsdbLsid  ospfLocalLsdbRouterId ospfLocalLsdbTable contains the following (columnar) objects:  ospfLocalLsdbSequence, to indicate LSA instance  ospfLocalLsdbAge
ospfLocalLsdbChecksum  ospfLocalLsdbAdvertisement, containing the entire LSA Created ospfVirLocalLsdbTable, for link local (type 9) LSA support on virtual links.
This table is indexed by the following:  ospfVirtLocalLsdbTransitArea  ospfVirtLocalLsdbNeighbor, to indicate the router ID of the virtual neighbor
ospfVirLocalLsdbLsid  ospfVirLocalLsdbRouterId ospfVirLocalLsdbTable contains the following (columnar) objects:  ospfVirLocalLsdbSequence, to indicate LSA instance  ospfVirLocalLsdbAge
ospfVirLocalLsdbChecksum  ospfVirLocalLsdbAdvertisement, containing the entire LSA Added objects to ospfIfTable to support link local (type 9) LSAs, including the following:  ospfIfLsaCount  ospfIfLsaCksumSum, to indicate the sum of the type 9 link state advertisement checksums on this interface Added objects to ospfVirIfTable, to support link local (type 9) LSAs on virtual links, including the following:  ospfVirIfLsaCount  ospfVirIfLsaCksumSum, to indicate the sum of the type 9 link state advertisement checksums on this link To support area scope
(type 10) LSAs, the enumeration areaOpaqueLink (10) was added to ospfLsdbType in the ospfLsdbTable.
Created ospfAsLsdbTable, for AS scope LSA support.
This table is indexed by the following:  ospfAsLsdbType
ospfAsLsdbRouterId ospfAsLsdbTable contains the following (columnar) objects:  ospfAsLsdbSequence, to indicate LSA instance  ospfAsLsdbAge
ospfAsLsdbAdvertisement, containing the entire LSA Appendix B.4.
Graceful Restart Support Added objects
ospfRestartSupport, ospfRestartInterval, ospfRestartAge, ospfRestartStrictLsaChecking, and ospfRestartExitReason to general group.
Added objects ospfNbrRestartHelperStatus, ospfNbrRestartHelperAge, and ospfNbrRestartHelperExitReason to OspfNbrTable.
Added objects ospfVirtNbrRestartHelperStatus, ospfVirtNbrRestartHelperAge, and ospfVirtNbrRestartHelperExitReason to OspfVirtNbrTable.
OSPF Compliances New compliance statements were added for new and for obsoleted conformance groups.
These statements include the following:  ospfCompliance2
New conformance groups were created to support new objects added to the group.
These groups include the following:
ospfVirtNbrGroup2  ospfAreaAggregateGroup2 Added completely new conformance groups, including the following:  ospfLocalLsdbGroup, which specifies support for link local (type 9)
LSAs  ospfVirtLocalLsdbGroup, which specifies support for link local (type 9) LSAs on virtual links
ospfObsoleteGroup, for obsolete objects and SMI compatibility Appendix B.6.
As there has been significant concern in the community regarding cascading security vulnerabilities, the following changes have been incorporated:  Modified the DESCRIPTION clause of ospfIfAuthKey due to security concerns and to increase clarity  Modified the DESCRIPTION clause of ospfVirtIfAuthKey due to security concerns and to increase clarity  Modified the DESCRIPTION clause of ospfIfAuthType due to security concerns and to increase clarity  Modified the DESCRIPTION clause of ospfVirtIfType due to security concerns and to increase clarity  Modified the OSPF MIB MODULE DESCRIPTION due to security concerns and to include a reference to the Security Considerations section in this document that will transcend compilation  Modified the Security Considerations section to provide detail Appendix B.7.
OSPF Trap MIB Added ospfTrapEventGroup.
Added importation of NOTIFICATION GROUP.
Changed the STATUS of the ospfTrapCompliance MODULE COMPLIANCE construct to obsolete.
MODULE COMPLIANCE construct, which replaces ospfTrapCompliance.
OspfTrapCompliance includes an updated MANDATORY GROUPS clause and new MIN ACCESS specifications.
Added mtuMismatch enumeration to ospfConfigErrorType object in ospfTrapControl to imply MTU mismatch trap generation.
Added noError enumeration to ospfConfigErrorType object for situations when traps are requested but none have been sent.
Updated the DESCRIPTION clause accordingly.
Added nullPacket enumeration to ospfPacketType object for situations when traps are requested but none have been sent.
Updated the DESCRIPTION clause accordingly.
Updated the DESCRIPTION clause of ospfPacketSrc for situations when traps are requested, but none have been sent.
Added NOTIFICATION TYPE for ospfRestartStatusChange.
Added NOTIFICATION TYPE for ospfNbrRestartHelperStatusChange. Added NOTIFICATION TYPE for ospfVirtNbrRestartHelperStatusChange.
Miscellaneous Various sections have been moved or modified for clarity.
Most of these changes are semantic in nature and include, but are not limited to the following:  The OSPF overview section's format was revised.
Removed information includes OSPF TOS default values.
The trap overview section's format and working were revised.
Modified the DESCRIPTION clause of "Status" "TEXTUAL CONVENTION" for clarity.
The Updates section was moved from the overview to its own section.
Updated "REFERENCE" clauses in all objects, as needed.
Modified the SEQUENCE of the OspfIfTable to reflect the true order of the objects in the table.
Modified the DESCRIPTION clause of all row management objects for clarity.
Added ospfHostCfgAreaID to object to Host table with read create access.
Added importation of InterfaceIndexOrZero from IF MIB.
This TEXTUAL CONVENTION will replace the InterfaceIndex TEXTUAL  CONVENTION.
Changed the SYNTAX clause of ospfNbrAddressLessIndex to use the semantically identical InterfaceIndexOrZero TEXTUAL CONVENTION, as permitted by the SMI.
Changed the STATUS clause of the TEXTUAL CONVENTION InterfaceIndex to obsolete and modified the DESCRIPTION accordingly.
Changed the SYNTAX clause of ospfAddressLessIf to use the semantically identical InterfaceIndexOrZero TEXTUAL CONVENTION, as permitted by the SMI.
Changed the SYNTAX clause of ospfIfMetricAddressLessIf to use the semantically identical InterfaceIndexOrZero TEXTUAL CONVENTION, as permitted by the SMI.
Changed importation of mib 2 from RFC1213 MIB to SNMPv2 SMI Added Intellectual Property Rights section.
Updated REVISION DESCRIPTION clauses with description of major MIB modifications.
Moved all relevant MIB comments to objects' DESCRIPTION clauses.
Added reasoning for object deprecation.
Added persistence information for read write, read create objects.
Described conditions when columns can be modified in RowStatus managed rows as required by RFC 2579.
Defined OspfAuthenticationType TC and modified authentication type objects to use the new type.
Made index objects of new tables not accessible.
Added the UNITS clause to several objects.
Added ospfIfDesignatedRouterId and ospfIfBackupDesignatedRouterId to the OspfIfEntry.
Added the area LSA counter table.
