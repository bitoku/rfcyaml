- title: __initial_text__
  contents:
  - "           An Architecture for Location and Location Privacy\n              \
    \          in Internet Applications\n"
- title: Abstract
  contents:
  - "Abstract\n   Location-based services (such as navigation applications, emergency\n\
    \   services, and management of equipment in the field) need geographic\n   location\
    \ information about Internet hosts, their users, and other\n   related entities.\
    \  These applications need to securely gather and\n   transfer location information\
    \ for location services, and at the same\n   time protect the privacy of the individuals\
    \ involved.  This document\n   describes an architecture for privacy-preserving\
    \ location-based\n   services in the Internet, focusing on authorization, security,\
    \ and\n   privacy requirements for the data formats and protocols used by these\n\
    \   services.\n"
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This memo documents an Internet Best Current Practice.\n\
    \   This document is a product of the Internet Engineering Task Force\n   (IETF).\
    \  It represents the consensus of the IETF community.  It has\n   received public\
    \ review and has been approved for publication by the\n   Internet Engineering\
    \ Steering Group (IESG).  Further information on\n   BCPs is available in Section\
    \ 2 of RFC 5741.\n   Information about the current status of this document, any\
    \ errata,\n   and how to provide feedback on it may be obtained at\n   http://www.rfc-editor.org/info/rfc6280.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (c) 2011 IETF Trust and the persons identified\
    \ as the\n   document authors.  All rights reserved.\n   This document is subject\
    \ to BCP 78 and the IETF Trust's Legal\n   Provisions Relating to IETF Documents\n\
    \   (http://trustee.ietf.org/license-info) in effect on the date of\n   publication\
    \ of this document.  Please review these documents\n   carefully, as they describe\
    \ your rights and restrictions with respect\n   to this document.  Code Components\
    \ extracted from this document must\n   include Simplified BSD License text as\
    \ described in Section 4.e of\n   the Trust Legal Provisions and are provided\
    \ without warranty as\n   described in the Simplified BSD License.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1. Introduction ....................................................3\n\
    \      1.1. Binding Rules to Data ......................................4\n  \
    \    1.2. Location-Specific Privacy Risks ............................5\n    \
    \  1.3. Privacy Paradigms ..........................................6\n   2. Terminology\
    \ Conventions .........................................7\n   3. Overview of the\
    \ Architecture ....................................7\n      3.1. Basic Geopriv\
    \ Scenario .....................................8\n      3.2. Roles and Data Formats\
    \ ....................................10\n   4. The Location Life Cycle ........................................12\n\
    \      4.1. Positioning ...............................................13\n  \
    \         4.1.1. Determination Mechanisms and Protocols .............14\n    \
    \       4.1.2. Privacy Considerations for Positioning .............16\n      \
    \     4.1.3. Security Considerations for Positioning ............16\n      4.2.\
    \ Location Distribution .....................................17\n           4.2.1.\
    \ Privacy Rules ......................................17\n           4.2.2. Location\
    \ Configuration .............................19\n           4.2.3. Location References\
    \ ................................20\n           4.2.4. Privacy Considerations\
    \ for Distribution ............21\n           4.2.5. Security Considerations for\
    \ Distribution ...........23\n      4.3. Location Use ..............................................24\n\
    \           4.3.1. Privacy Considerations for Use .....................25\n  \
    \         4.3.2. Security Considerations for Use ....................25\n   5.\
    \ Security Considerations ........................................25\n   6. Example\
    \ Scenarios ..............................................28\n      6.1. Minimal\
    \ Scenario ..........................................28\n      6.2. Location-Based\
    \ Web Services ...............................29\n      6.3. Emergency Calling\
    \ .........................................31\n      6.4. Combination of Services\
    \ ...................................32\n   7. Glossary .......................................................35\n\
    \   8. Acknowledgements ...............................................38\n  \
    \ 9. References .....................................................38\n    \
    \  9.1. Normative References ......................................38\n      9.2.\
    \ Informative References ....................................38\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   Location-based services (applications that require information\
    \ about\n   the geographic location of an individual or device) are becoming\n\
    \   increasingly common on the Internet.  Navigation and direction\n   services,\
    \ emergency services, friend finders, management of equipment\n   in the field,\
    \ and many other applications require geographic location\n   information about\
    \ Internet hosts, their users, and other related\n   entities.  As the accuracy\
    \ of location information improves and the\n   expense of calculating and obtaining\
    \ it declines, the distribution\n   and use of location information in Internet-based\
    \ services will\n   likely become increasingly pervasive.  Ensuring that location\n\
    \   information is transmitted and accessed in a secure and privacy-\n   protective\
    \ way is essential to the future success of these services,\n   as well as the\
    \ minimization of the privacy harms that could flow from\n   their wide deployment\
    \ and use.\n   Standards for communicating location information over the Internet\n\
    \   have an important role to play in providing a technical basis for\n   privacy\
    \ and security protection.  This document describes a\n   standardized privacy-\
    \ and security-focused architecture for location-\n   based services in the Internet:\
    \ the Geopriv architecture.  The\n   central component of the Geopriv architecture\
    \ is the location object,\n   which is used to convey both location information\
    \ about an individual\n   or device and user-specified privacy rules governing\
    \ that location\n   information.  As location information moves through its life\
    \ cycle --\n   positioning, distribution, and use by its ultimate recipient(s)\
    \ --\n   Geopriv provides mechanisms to secure the integrity and\n   confidentiality\
    \ of location objects and to ensure that location\n   information is only transmitted\
    \ in compliance with the user's privacy\n   rules.\n   The goals of this document\
    \ are two-fold: First, the architecture\n   described revises and expands on the\
    \ basic Geopriv Requirements [2]\n   [3], in order to clarify how these privacy\
    \ concerns and the Geopriv\n   architecture apply to use cases that have arisen\
    \ since the\n   publication of those documents.  Second, this document provides\
    \ a\n   general introduction to Geopriv and Internet location-based services,\n\
    \   and is useful as a good first document for readers new to Geopriv.\n"
- title: 1.1.  Binding Rules to Data
  contents:
  - "1.1.  Binding Rules to Data\n   A central feature of the Geopriv architecture\
    \ is that location\n   information is always bound to privacy rules to ensure\
    \ that entities\n   that receive location information are informed of how they\
    \ may use\n   it.  These rules can convey simple directives (\"do not share my\n\
    \   location with others\"), or more robust preferences (\"allow my spouse\n \
    \  to know my exact location all of the time, but only allow my boss to\n   know\
    \ it during work hours\").  By creating a structure to convey the\n   user's preferences\
    \ along with location information, the likelihood\n   that those preferences will\
    \ be honored necessarily increases.  In\n   particular, no recipient of the location\
    \ information can disavow\n   knowledge of users' preferences for how their location\
    \ may be used.\n   The binding of privacy rules to location information can convey\n\
    \   users' desire for and expectations of privacy, which in turn helps to\n  \
    \ bolster social and legal systems' protection of those expectations.\n   Binding\
    \ of usage rules to sensitive information is a common way of\n   protecting information.\
    \  Several emerging schemes for expressing\n   copyright information provide for\
    \ rules to be transmitted together\n   with copyrighted works.  The Creative Commons\
    \ [28] model is the most\n   prominent example, allowing an owner of a work to\
    \ set four types of\n   rules (\"Attribution\", \"Noncommercial\", \"No Derivative\
    \ Works\", and\n   \"ShareAlike\") governing the subsequent use of the work. \
    \ After the\n   author sets these rules, the rules are conveyed together with\
    \ the\n   work itself, so that every recipient is aware of the copyright terms.\n\
    \   Classification systems for controlling sensitive documents within an\n   organization\
    \ are another example.  In these systems, when a document\n   is created, it is\
    \ marked with a classification such as \"SECRET\" or\n   \"PROPRIETARY\".  Each\
    \ recipient of the document knows from this\n   marking that the document should\
    \ only be shared with other people who\n   are authorized to access documents\
    \ with that marking.  Classification\n   markings can also convey other sorts\
    \ of rules, such as a\n   specification for how long the marking is valid (a declassification\n\
    \   date).  The United States Department of Defense guidelines for\n   classification\
    \ [4] provide one example.\n"
- title: 1.2.  Location-Specific Privacy Risks
  contents:
  - "1.2.  Location-Specific Privacy Risks\n   While location-based services raise\
    \ some privacy concerns that are\n   common to all forms of personal information,\
    \ many of them are\n   heightened, and others are uniquely applicable in the context\
    \ of\n   location information.\n   Location information is frequently generated\
    \ on or by mobile devices.\n   Because individuals often carry their mobile devices\
    \ with them,\n   location data may be collected everywhere and at any time, often\n\
    \   without user interaction, and it may potentially describe both what a\n  \
    \ person is doing and where he or she is doing it.  For example,\n   location\
    \ data can reveal the fact that an individual was at a\n   particular medical\
    \ clinic at a particular time.  The ubiquity of\n   location information may also\
    \ increase the risks of stalking and\n   domestic violence if perpetrators are\
    \ able to use (or abuse)\n   location-based services to gain access to location\
    \ information about\n   their victims.\n   Location information is also of particular\
    \ interest to governments\n   and law enforcers around the world.  The existence\
    \ of detailed\n   records of individuals' movements should not automatically facilitate\n\
    \   the ability for governments to track their citizens, but in some\n   jurisdictions,\
    \ laws dictating what government agents must do to\n   obtain location data are\
    \ either non-existent or out of date.\n"
- title: 1.3.  Privacy Paradigms
  contents:
  - "1.3.  Privacy Paradigms\n   Traditionally, the extent to which data about individuals\
    \ enjoys\n   privacy protections on the Internet has largely been decided by the\n\
    \   recipients of the data.  Internet users may or may not be aware of\n   the\
    \ privacy practices of the entities with whom they share data.\n   Even if they\
    \ are aware, they have generally been limited to making a\n   binary choice between\
    \ sharing data with a particular entity or not\n   sharing it.  Internet users\
    \ have not historically been granted the\n   opportunity to express their own\
    \ privacy preferences to the\n   recipients of their data and to have those preferences\
    \ honored.\n   This paradigm is problematic because the interests of data recipients\n\
    \   are often not aligned with the interests of data subjects.  While\n   both\
    \ parties may agree that data should be collected, used,\n   disclosed, and retained\
    \ as necessary to deliver a particular service\n   to the data subject, they may\
    \ not agree about how the data should\n   otherwise be used.  For example, an\
    \ Internet user may gladly provide\n   his email address on a Web site to receive\
    \ a newsletter, but he may\n   not want the Web site to share his email address\
    \ with marketers,\n   whereas the Web site may profit from such sharing.  Neither\
    \ providing\n   the address for both purposes nor deciding not to provide it is\
    \ an\n   optimal option from the Internet user's perspective.\n   The Geopriv\
    \ model departs from this paradigm for privacy protection.\n   As explained above,\
    \ location information can be uniquely sensitive.\n   And as location-based services\
    \ emerge and proliferate, they\n   increasingly require standardized protocols\
    \ for communicating\n   location information between services and entities.  Recognizing\
    \ both\n   of these dynamics, Geopriv gives data subjects the ability to express\n\
    \   their choices with respect to their own location information, rather\n   than\
    \ allowing the recipients of the information to define how it will\n   be used.\
    \  The combination of heightened privacy risk and the need for\n   standardization\
    \ compelled the Geopriv designers to shift away from\n   the prevailing Internet\
    \ privacy model, instead empowering users to\n   express their privacy preferences\
    \ about the use of their location\n   information.\n   Geopriv does not, by itself,\
    \ provide technical means through which it\n   can be guaranteed that users' location\
    \ privacy rules will be honored\n   by recipients.  The privacy protections in\
    \ the Geopriv architecture\n   are largely provided by virtue of the fact that\
    \ recipients of\n   location information are informed of relevant privacy rules,\
    \ and are\n   expected to only use location information in accordance with those\n\
    \   rules.  The distributed nature of the architecture inherently limits\n   the\
    \ degree to which compliance can be guaranteed and verified by\n   technical means.\
    \  Section 5 describes how some security mechanisms\n   can address this to a\
    \ limited extent.\n   By binding privacy rules to location information, however,\
    \ Geopriv\n   provides valuable information about users' privacy preferences,\
    \ so\n   that non-technical forces such as legal contracts, governmental\n   consumer\
    \ protection authorities, and marketplace feedback can better\n   enforce those\
    \ privacy preferences.  If a commercial recipient of\n   location information,\
    \ for example, violates the location rules bound\n   to the information, the recipient\
    \ can in a growing number of\n   countries be charged with violating consumer\
    \ or data protection laws.\n   In the absence of a binding of rules with location\
    \ information,\n   consumer protection authorities would be less able to protect\n\
    \   individuals whose location information has been abused.\n"
- title: 2.  Terminology Conventions
  contents:
  - "2.  Terminology Conventions\n   The key words \"MUST\", \"MUST NOT\", \"REQUIRED\"\
    , \"SHALL\", \"SHALL NOT\",\n   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"\
    MAY\", and \"OPTIONAL\" in this\n   document are to be interpreted as described\
    \ in RFC 2119 [1].\n   Throughout the remainder of this document, capitalized\
    \ terms defined\n   in Section 7 refer to Geopriv-specific roles and formats;\
    \ the same\n   terms used in all lowercase refer generically to those terms.\n"
- title: 3.  Overview of the Architecture
  contents:
  - "3.  Overview of the Architecture\n   This section provides an overview of the\
    \ Geopriv architecture for the\n   secure and private distribution of location\
    \ information on the\n   Internet.  We describe the three phases of the \"location\
    \ life cycle\"\n   -- positioning, distribution, and use -- and discuss how the\n\
    \   components of the architecture fit within each phase.  The next\n   section\
    \ provides additional detail about how each phase can be\n   achieved in a private\
    \ and secure manner.\n   The risks discussed in the previous section all arise\
    \ from\n   unauthorized disclosure or usage of location information.  Thus, the\n\
    \   Geopriv architecture has two fundamental privacy goals:\n   1.  Ensure that\
    \ location information is distributed only to\n       authorized entities, and\n\
    \   2.  Provide information to those entities about how they are\n       authorized\
    \ to use the location information.\n   If these two goals are met, all parties\
    \ that receive location\n   information will also receive directives about how\
    \ they can use that\n   information.  Privacy-preserving entities will only engage\
    \ in\n   authorized uses, and entities that violate privacy will do so\n   knowingly,\
    \ since they have been informed of what is authorized (and\n   thus, implicitly,\
    \ of what is not).\n   Privacy rules and their distribution are thus the central\
    \ technical\n   components of the privacy system, since they inform location\n\
    \   recipients about how they are authorized to use that information.\n   The\
    \ two goals in the preceding paragraph are enabled by two classes\n   of rules:\n\
    \   1.  Access control rules: Rules that describe which entities may\n       receive\
    \ location information and in what form\n   2.  Usage rules: Rules that describe\
    \ what uses of location\n       information are authorized\n   Within this framework\
    \ for privacy, security mechanisms provide\n   support for the application of\
    \ privacy rules.  For example,\n   authentication mechanisms validate the identities\
    \ of entities\n   requesting a location (so that authorization and access-control\n\
    \   policies can be applied), and confidentiality mechanisms protect\n   location\
    \ information en route between privacy-preserving entities.\n   Security mechanisms\
    \ can also provide assurances that are outside the\n   purview of privacy by,\
    \ for example, assuring location recipients that\n   location information has\
    \ been faithfully transmitted to them by its\n   creator.\n"
- title: 3.1.  Basic Geopriv Scenario
  contents:
  - "3.1.  Basic Geopriv Scenario\n   As location information is transmitted among\
    \ Internet hosts, it goes\n   through a \"location life cycle\": first, the location\
    \ is computed\n   based on some external information (positioning), and then it\
    \ is\n   transmitted from one host to another (distribution) until finally it\n\
    \   is used by a recipient (use).\n   For example, suppose Alice is using a mobile\
    \ device, she learns of\n   her location from a wireless location service, and\
    \ she wishes to\n   share her location privately with her friends by way of a\
    \ presence\n   service.  Alice clearly needs to provide the presence server with\
    \ her\n   location and rules about which friends can be provided with her\n  \
    \ location.  To enable Alice's friends to preserve her privacy, they\n   need\
    \ to be provided with privacy rules.  Alice may tell some of her\n   friends the\
    \ rules directly, or she can have the presence server\n   provide the rules to\
    \ her friends when it provides them with her\n   location.  In this way, every\
    \ friend who receives Alice's location is\n   authorized by Alice to receive it,\
    \ and every friend who receives it\n   knows the rules.  Good friends will obey\
    \ the rules.  If a bad friend\n   breaks them and Alice finds out, the bad friend\
    \ cannot claim that he\n   was unaware of the rules.\n   Some of Alice's friends\
    \ will be interested in using Alice's location\n   only for their own purposes,\
    \ for example, to meet up with her or plot\n   her location over time.  The usage\
    \ rules that they receive direct\n   them as to what they can or cannot do (for\
    \ example, Alice might not\n   want them keeping her location for more than, say,\
    \ two weeks).\n   Consider one friend, Bob, who wants to send Alice's location\
    \ to some\n   of his friends.  To operate in a privacy-protective way, Bob needs\n\
    \   not only usage rules for himself, but also access control rules that\n   describe\
    \ who he can send information to and rules to give to the\n   recipients.  If\
    \ the rules he received from the presence server\n   authorize him to give Alice's\
    \ location to others, he may do so;\n   otherwise, he will require additional\
    \ rules from Alice before he is\n   authorized to distribute her location.  If\
    \ recipients who receive\n   Alice's location from Bob want to distribute the\
    \ location information\n   further, they must go through the same process as Bob.\n\
    \   The whole example is illustrated in the following figure:\n   +----------+\n\
    \   | Wireless |\n   | Location |\n   | Service  |                          Retrieve\n\
    \   +----------+                      Access Control Rules\n       |         \
    \             +--------------------------------+\n       |                   \
    \   | +--------------------------+   |\n    Location                  | |    \
    \    Access            |   |\n       |                      | |     Control Rules\
    \        v   |\n       |                      | |                         +-----+\n\
    \       |                      | |                         | Bob |\n       | \
    \                     | |                         |+---+|--> ...\n       |   \
    \                   | |                  +----->||PC ||\n   ...........      \
    \          v |                  |      ++---++\n   | +------+|            +----------+\
    \             |\n   | |Mobile|+--Location->| Presence |--Location-->|     +----------+\n\
    \   | |Phone ||            | Server   |             |---->| Friend-1 |\n   | +------++---Rules--->|\
    \          |---Rules---->|     +----------+\n   |  Alice  |            +----------+\
    \             |\n   |   O     |                                     |\n   |  /|\\\
    \    |                                     |     +----------+\n   |  / \\    |\
    \                                     +---->| Friend-2 |\n   `---------'     \
    \                                      +----------+\n                     Figure\
    \ 1: Basic Geopriv Scenario\n"
- title: 3.2.  Roles and Data Formats
  contents:
  - "3.2.  Roles and Data Formats\n   The above example illustrates the six basic\
    \ roles in the Geopriv\n   architecture:\n   Target:   An individual or other\
    \ entity whose location is sought in\n      the Geopriv architecture.  In many\
    \ cases, the Target will be the\n      human user of a Device, but it can also\
    \ be an object such as a\n      vehicle or shipping container to which a Device\
    \ is attached.  In\n      some instances, the Target will be the Device itself.\
    \  The Target\n      is the entity whose privacy Geopriv seeks to protect.  Alice\
    \ is\n      the Target in Figure 1.\n   Device:   The physical device, such as\
    \ a mobile phone, PC, or\n      embedded micro-controller, whose location is tracked\
    \ as a proxy\n      for the location of a Target.  Alice's mobile phone is the\
    \ Device\n      in Figure 1.\n   Rule Maker (RM):   Performs the role of creating\
    \ rules governing\n      access to location information for a Target.  In some\
    \ cases, the\n      Target performs the Rule Maker role (as is the case with Alice),\n\
    \      and in other cases they are separate.  For example, a parent may\n    \
    \  serve as the Rule Maker when the Target is his child, or a\n      corporate\
    \ security officer may serve as the Rule Maker for devices\n      owned by the\
    \ corporation but used by employees.  The Rule Maker is\n      also not necessarily\
    \ the owner of the Device.  For example, a\n      corporation may provide a Device\
    \ to an employee but permit the\n      employee to serve as the Rule Maker and\
    \ set her own privacy rules.\n   Location Generator (LG):   Performs the roles\
    \ of initially\n      determining or gathering the location of the Device and\
    \ providing\n      it to Location Servers.  Location Generators may be any sort\
    \ of\n      software or hardware used to obtain the Device's location.\n     \
    \ Examples include Global Positioning System (GPS) chips and\n      cellular networks.\
    \  A Device may even perform the Location\n      Generator role for itself; Devices\
    \ capable of unassisted\n      satellite-based positioning and Devices that accept\
    \ manually\n      entered location information are two examples.  The wireless\n\
    \      location service plays the Location Generator role in Figure 1.\n   Location\
    \ Server (LS):   Performs the roles of receiving location\n      information and\
    \ rules, applying the rules to the location\n      information to determine what\
    \ other entities, if any, can receive\n      location information, and providing\
    \ the location to Location\n      Recipients.  Location Servers receive location\
    \ information from\n      Location Generators and rules from Rule Makers, and\
    \ then apply the\n      rules to the location information.  Location Servers may\
    \ not\n      necessarily be \"servers\" in the colloquial sense of hosts in\n\
    \      remote data centers servicing requests.  Rather, a Location Server\n  \
    \    can be any software or hardware component that distributes\n      location\
    \ information.  Examples include a server in an access\n      network, a presence\
    \ server, or a Web browser or other software\n      running on a Device.  The\
    \ above example includes three Location\n      Servers: Alice's mobile phone,\
    \ the presence service, and Bob's PC.\n   Location Recipient (LR):   Performs\
    \ the role of receiving location\n      information.  A Location Recipient may\
    \ ask for a location\n      explicitly (by sending a query to a Location Server),\
    \ or it may\n      receive a location asynchronously.  The presence service, Bob,\n\
    \      Friend-1, and Friend-2 are Location Recipients in Figure 1.\n   In general,\
    \ these roles may or may not be performed by physically\n   separate entities,\
    \ as demonstrated by the entities in Figure 1, many\n   of which perform multiple\
    \ roles.  It is not uncommon for the same\n   entity to perform both the Location\
    \ Generator and Location Server\n   roles, or both the Location Recipient and\
    \ Location Server roles.  A\n   single entity may take on multiple roles simply\
    \ by virtue of its own\n   capabilities and the permissions provided to it.\n\
    \   Although in the above example there is only a single Location\n   Generator\
    \ and a single Rule Maker, in some cases a Location Server\n   may receive Location\
    \ Objects from multiple Location Generators or\n   Rules from multiple Rule Makers.\
    \  Likewise, a single Location\n   Generator may publish location information\
    \ to multiple Location\n   Servers, and a single Location Recipient may receive\
    \ Location Objects\n   from multiple Location Servers.\n   There is a close relationship\
    \ between a Target and its Device.  The\n   term \"Device\" is used when discussing\
    \ protocol interactions, whereas\n   the term \"Target\" is used when discussing\
    \ generically the person or\n   object being located and its privacy.  While in\
    \ the example above\n   there is a one-to-one relationship between the Target\
    \ and the Device,\n   Geopriv can also be used to convey location information\
    \ about a\n   device that is not directly linked to a single individual or object,\n\
    \   such as a Device shared by multiple individuals.\n   Two data formats are\
    \ necessary within this architecture:\n   Location Object (LO):   An object used\
    \ to convey location information\n      together with Privacy Rules.  Geopriv\
    \ supports both geodetic\n      location data (latitude, longitude, altitude,\
    \ etc.) and civic\n      location data (street, city, state, etc.).  Either or\
    \ both types\n      of location information may be present in a single LO (see\
    \ the\n      considerations in [5] for LOs containing multiple locations).\n \
    \     Location Objects typically include some sort of identifier of the\n    \
    \  Target.\n   Privacy Rule:   A directive that regulates an entity's activities\n\
    \      with respect to location information, including the collection,\n     \
    \ use, disclosure, and retention of the location information.\n      Privacy Rules\
    \ describe which entities may obtain location\n      information in what form\
    \ (access control rules) and how location\n      information may be used by an\
    \ entity (usage rules).\n   The whole example, using Geopriv roles and formats,\
    \ is illustrated in\n   the following figure:\n   +----+\n   | LG |\n   +----+\n\
    \     ^\n     |\n   Positioning\n    Data\n     |\n     |    +------------Privacy\
    \ Rules------------------>+----+\n     |    |                                \
    \      +---->| LR |--> ...\n     |    |                                      |\
    \     | LS |\n     v    |                                      |     +----+\n\
    \   +-------+                                     |\n   |Target |            \
    \    +----+               |     +----+\n   |Device |--------------->| LR |---------------+---->|\
    \ LR |\n   |  RM   |       LO       | LS |       LO      |     +----+\n   |  LS\
    \   |                +----+               |\n   +-------+                    \
    \                 |\n                                                 |     +----+\n\
    \                                                 +---->| LR |\n             \
    \                                          +----+\n                     Figure\
    \ 2: Basic Geopriv Scenario\n"
- title: 4.  The Location Life Cycle
  contents:
  - "4.  The Location Life Cycle\n   The previous section gave an example of how an\
    \ individual's location\n   can be distributed through the Internet.  In general,\
    \ the location\n   life cycle breaks down into three phases:\n   1.  Positioning:\
    \ A Location Generator determines the Device's\n       location.\n   2.  Distribution:\
    \ Location Servers send location information to\n       Location Recipients, which\
    \ may in turn act as Location Servers\n       and further distribute the location\
    \ to other Location Recipients,\n       possibly several times.\n   3.  Use: A\
    \ Location Recipient receives the location and uses it.\n   Each of these phases\
    \ involves a different set of Geopriv roles, and\n   each has a different set\
    \ of privacy and security implications.  The\n   Geopriv roles are mapped onto\
    \ the location life cycle in the figure\n   below.\n                         \
    \      +----------+\n                               |  Rule    |+\n          \
    \                     |  Maker(s)||\n   Positioning                 |        \
    \  ||\n     Data                      +----------+|\n       |                \
    \        +----------+\n       |                            | Rules\n       | \
    \                           |\n       |                            |\n       V\
    \                            V\n   +----------+                +----------+  \
    \              +----------+\n   |Location  |  Location      | Location |+    \
    \  LO       |Location  |\n   |Generator |--------------->| Server(s)||-------------->|Recipient\
    \ |\n   |          |                |          ||               |          |\n\
    \   +----------+                +----------+|               +----------+\n   \
    \                            +----------+\n   <-------------------------><---------------------------><----------->\n\
    \    Positioning                Distribution                 Use\n           \
    \            Figure 3: Location Life Cycle\n"
- title: 4.1.  Positioning
  contents:
  - "4.1.  Positioning\n   Positioning is the process by which the physical location\
    \ of the\n   Device is computed, based on some observations about the Device's\n\
    \   situation in the physical world.  (This process goes by several other\n  \
    \ names, including Location Determination or Sighting.)  The input to\n   the\
    \ positioning process is some information about the Device, and the\n   outcome\
    \ is that the LG knows the location of the Device.\n   In this section, we give\
    \ a brief taxonomy of current positioning\n   systems, their requirements for\
    \ protocol support, and the privacy and\n   security requirements for positioning.\n"
- title: 4.1.1.  Determination Mechanisms and Protocols
  contents:
  - "4.1.1.  Determination Mechanisms and Protocols\n   While the specific positioning\
    \ mechanisms that can be applied for a\n   given Device are strongly dependent\
    \ on the physical situation and\n   capabilities of the Device, these mechanisms\
    \ generally fall into the\n   three categories described in detail below:\n  \
    \ o  Device-based\n   o  Network-based\n   o  Network-assisted\n   As suggested\
    \ by the above names, a positioning scheme can rely on the\n   Device, an Internet-accessible\
    \ resource (not necessarily a network\n   operator), or a combination of the two.\
    \  For a given scheme, the\n   nature of this reliance will dictate the protocol\
    \ mechanisms needed\n   to support it.\n   With Device-based positioning mechanisms,\
    \ the Device is capable of\n   determining its location by itself.  This is the\
    \ case for a manually\n   entered location or for (unassisted) satellite-based\
    \ positioning\n   using a Global Navigation Satellite System (GNSS).  In these\
    \ cases,\n   the Device acts as its own LG, and there are no protocols required\
    \ to\n   support positioning beyond those that transmit the positioning data\n\
    \   from the satellite to the user.\n   In network-based positioning schemes,\
    \ an external LG (an Internet\n   host other than the Device) has access to sufficient\
    \ information\n   about the Device, through out-of-band channels, to establish\
    \ the\n   position of the Device.  The most common examples of this type of LG\n\
    \   are entities that have a physical relationship to the Device (such as\n  \
    \ ISPs).  In wired networks, wiremap-based location is a network-based\n   technique;\
    \ in wireless networks, timing and signal-strength-based\n   techniques that use\
    \ measurements from base stations are considered to\n   be network-based.  Large-scale\
    \ IP-to-geo databases (for example,\n   those based on WHOIS data or latency measurements)\
    \ are also\n   considered to be network-based positioning mechanisms.\n   For\
    \ network-based positioning as for Device-based, no protocols for\n   communication\
    \ between the Device and the LG are strictly necessary to\n   support positioning,\
    \ since positioning information is collected\n   outside of the location distribution\
    \ system (at lower layers of the\n   network stack, for example).  This does not\
    \ rule out the use of other\n   Internet protocols (like the Simple Network Management\
    \ Protocol\n   (SNMP)) to collect inputs to the positioning process.  Rather,\
    \ since\n   these inputs can only be used by certain LGs to determine location,\n\
    \   they are not controlled as private information.  Network-based\n   positioning\
    \ often provides location information to protocols by which\n   the network informs\
    \ a Device of its own location.  These are known as\n   Location Configuration\
    \ Protocols; see Section 4.2.2 for further\n   discussion.\n   Network-assisted\
    \ systems account for the greatest number and\n   diversity of positioning schemes.\
    \  In these systems, the work of\n   positioning is divided between the Device\
    \ and an external LG via\n   some communication (possibly over the Internet),\
    \ typically in one of\n   two ways:\n   o  The Device provides measurements to\
    \ the LG, or\n   o  The LG provides assistance data to the Device.\n   \"Measurements\"\
    \ are understood to be observations about the Device's\n   environment, ranging\
    \ from wireless signal strengths to the Media\n   Access Control (MAC) address\
    \ of a first-hop router.  \"Assistance\" is\n   the complement to measurement,\
    \ namely the positioning information\n   that enables the computation of location\
    \ based on measurements.  A\n   set of wireless base station locations (or wireless\
    \ calibration\n   information) would be an assistance datum, as would be a table\
    \ that\n   maps routers to buildings in a corporate campus.\n   For example, wireless\
    \ and wired networks can serve as the basis for\n   network-assisted positioning.\
    \  In several current 802.11 positioning\n   systems, the Device sends measurements\
    \ (e.g., MAC addresses and\n   signal strengths) to an LG, and the LG returns\
    \ a location to the\n   client.  In wired networks, the Device can send its MAC\
    \ address to\n   the LG, which can query the MAC-layer infrastructure to determine\
    \ the\n   switch and port to which that MAC address is connected, then query a\n\
    \   wire map to determine the location at which the wire connected to\n   that\
    \ port terminates.\n   As an aside, the common phrase \"assisted GPS\" (\"assisted\
    \ GNSS\" more\n   broadly) actually encompasses techniques that transmit both\n\
    \   measurements and assistance data.  Systems in which the Device\n   provides\
    \ the LG with GNSS measurements are measurement-based, while\n   those in which\
    \ the assistance server provides ephemeris or almanac\n   data are assistance-based\
    \ in the above terminology.  (Those familiar\n   with GNSS positioning will note\
    \ that there are of course cases in\n   which both of these interactions occur\
    \ within a single location\n   determination protocol, so the categories are not\
    \ mutually\n   exclusive.)\n   Naturally, the exchange of measurement or positioning\
    \ data between\n   the Device and the LG requires a protocol over which the information\n\
    \   is carried.  The structure of this protocol will depend on which of\n   the\
    \ two patterns a network-assisted scheme follows.  Conversely, the\n   structure\
    \ of the protocol will determine which of the two parties\n   (the Device, the\
    \ LG, or both) is aware of the Device's location at\n   the end of the protocol\
    \ interaction.\n"
- title: 4.1.2.  Privacy Considerations for Positioning
  contents:
  - "4.1.2.  Privacy Considerations for Positioning\n   Positioning is the first point\
    \ at which location may be associated\n   with a particular Device and may be\
    \ associated with the Target's\n   identity.  Local identifiers, unlinked pseudonyms,\
    \ or private\n   identifiers that are not linked to the real identity of the Target\n\
    \   should be used as forms of identity whenever possible.  This provides\n  \
    \ privacy protection by disassociating the location from the Target's\n   identity\
    \ before it is distributed.\n   At the conclusion of the positioning process,\
    \ the entity acting as\n   the LG has the Device's location.  If the Device is\
    \ performing the LG\n   role, then both the Device and LG have it.  If the entity\
    \ acting as\n   the LG also performs the role of LS, the privacy considerations\
    \ in\n   Section 4.2.4 apply.\n   In some deployment scenarios, positioning functions\
    \ and distribution\n   functions may need to be provided by separate entities,\
    \ in which case\n   the LG and LS roles will not be performed by the same entity.\
    \  In\n   this situation, the LG acts as a \"dumb\", non-privacy-aware\n   positioning\
    \ resource, and the LS provides the privacy logic necessary\n   to support distribution\
    \ (possibly with multiple LSes using the same\n   LG).  In order to allow the\
    \ privacy-unaware LG to distribute location\n   information to these LSes while\
    \ maintaining privacy, the relationship\n   between the LG and its set of LSes\
    \ MUST be tightly constrained\n   (effectively \"hard-wired\").  That is, the\
    \ LG MUST only provide\n   location information to a small fixed set of LSes,\
    \ and each of these\n   LSes MUST comply with the requirements of Section 4.2.4.\n"
- title: 4.1.3.  Security Considerations for Positioning
  contents:
  - "4.1.3.  Security Considerations for Positioning\n   Manipulation of the positioning\
    \ process can expose location\n   information through two mechanisms:\n   1) A\
    \ third party could guess or derive measurements about a specific\n   device and\
    \ use them to get the location of that Device.  To mitigate\n   this risk, the\
    \ LG SHOULD be able to authenticate and authorize\n   devices providing measurements\
    \ and, if possible, verify that the\n   presented measurements are likely to be\
    \ the actual physical values\n   measured by that client.  These security procedures\
    \ rely on the type\n   of positioning being done, and may not be technically feasible\
    \ in all\n   cases.\n   2) By eavesdropping, a third party may be able to obtain\
    \ measurements\n   sent by the Device itself that indicate the rough position\
    \ of the\n   Device.  To mitigate this risk, protocols used for positioning MUST\n\
    \   provide confidentiality and integrity protections in order to prevent\n  \
    \ observation and modification of transmitted positioning data while en\n   route\
    \ between the Target and the LG.\n   If an LG or a Target chooses to act as an\
    \ LS, it inherits the\n   security requirements for an LS, described in Section\
    \ 4.2.5.\n"
- title: 4.2.  Location Distribution
  contents:
  - "4.2.  Location Distribution\n   When an entity receives location information\
    \ (from an LG or an LS)\n   and redistributes it to other entities, it acts as\
    \ an LS.  Location\n   Distribution is the process by which one or more LSes provide\
    \ LOs to\n   LRs in a privacy-preserving manner.\n   The role of an LS is thus\
    \ two-fold: First, it must collect location\n   information and Rules that control\
    \ access to that information.  Rules\n   can be communicated within an LO, within\
    \ a protocol that carries LOs,\n   or through a separate protocol that carries\
    \ Rules.  Second, the LS\n   must process requests for location information and\
    \ apply the Rules to\n   these requests in order to determine whether it is authorized\
    \ to\n   fulfill them by returning location information.\n   An LS thus has at\
    \ least two types of interactions with other hosts,\n   namely receiving and sending\
    \ LOs.  An LS may optionally implement a\n   third interaction, allowing Rule\
    \ Makers to provision it with Rules.\n   The distinction between these two cases\
    \ is important in practice,\n   because it determines whether the LS has a direct\
    \ relationship with a\n   Rule Maker: An LS that accepts Rules directly from a\
    \ Rule Maker has\n   such a relationship, while an LS that acquires all its Rules\
    \ through\n   LOs does not.\n"
- title: 4.2.1.  Privacy Rules
  contents:
  - "4.2.1.  Privacy Rules\n   Privacy Rules are the central mechanism in Geopriv\
    \ for maintaining a\n   Target's privacy, because they provide a recipient of\
    \ an LO (an LS or\n   LR) with information on how the LO may be used.\n   Throughout\
    \ the Geopriv architecture, Privacy Rules are communicated\n   in rules languages\
    \ with a defined syntax and semantics.  For example,\n   the Common Policy rules\
    \ language has been defined [6] to provide a\n   framework for broad-based rule\
    \ specifications.  Geopriv Policy [7]\n   defines a language for creating location-specific\
    \ rules.  The XML\n   Configuration Access Protocol (XCAP) [8] can be used as\
    \ a protocol to\n   install rules in both of these formats.\n   Privacy Rules\
    \ follow a default-deny pattern: an empty set of Rules\n   implies that all requests\
    \ for location information should be denied,\n   except requests made by the Target\
    \ itself.  Each Rule adds to the\n   set, granting a specific permission.  Adding\
    \ a Rule can only augment\n   privacy protections because all Rules are positive\
    \ grants of\n   permission.\n   The following are examples of Privacy Rules governing\
    \ location\n   distribution:\n   o  Retransmit location information when requested\
    \ from example.com.\n   o  Retransmit only city and country.\n   o  Retransmit\
    \ location information with no less than a 100-meter\n      radius of uncertainty.\n\
    \   o  Retransmit location information only for the next two weeks.\n   LSes enforce\
    \ Privacy Rules in two ways: by denying requests for\n   location information,\
    \ or by transforming the location information\n   before retransmitting it.\n\
    \   LSes may also receive Rules governing location retention, such as\n   \"Retain\
    \ location only for 48 hours\".  Such Rules are simply\n   directives about how\
    \ long the Target's location information can be\n   retained.\n   Privacy Rules\
    \ can govern the behavior of both LSes and LRs.  Rules\n   that direct LSes about\
    \ how to treat a Target's location information\n   are known as Local Rules. \
    \ Local Rules are used internally by the LS\n   to handle requests from LRs. \
    \ They are not distributed to LRs.\n   Forwarded Rules, on the other hand, travel\
    \ inside LOs and direct LSes\n   and LRs about how to handle the location information\
    \ they receive.\n   Because the Rules themselves may reveal potentially sensitive\n\
    \   information about the Target, only the minimal subset of Forwarded\n   Rules\
    \ necessary to handle the LO is distributed.\n   An example can illustrate the\
    \ interaction between Local Rules and\n   Forwarded Rules.  Suppose Alice provides\
    \ the following Local Rules to\n   an LS:\n   o  The LS may retransmit Alice's\
    \ precise location to Bob, who in turn\n      is permitted to retain the location\
    \ information for one month.\n   o  The LS may retransmit Alice's city, state,\
    \ and country to Steve,\n      who in turn is permitted to retain the location\
    \ information for\n      one hour.\n   o  The LS may retransmit Alice's country\
    \ to a photo-sharing Web site,\n      which in turn is permitted to retain the\
    \ location information for\n      one year and retransmit it to any requesters.\n\
    \   When Steve asks for Alice's location, the LS can transmit to Steve\n   the\
    \ limited location information (city, state, and country) along\n   with Forwarded\
    \ Rules instructing Steve to (a) not further retransmit\n   Alice's location information,\
    \ and (b) only retain the location\n   information for one hour.  By only sending\
    \ these specifically\n   applicable Forwarded Rules to Steve (as opposed to the\
    \ full set of\n   Local Rules), the LS is protecting Alice's privacy by not disclosing\n\
    \   to Steve that (for example) Alice allows Bob to obtain more precise\n   location\
    \ information than Alice allows Steve to receive.\n   Geopriv is designed to be\
    \ usable even by devices with constrained\n   processing capabilities.  To ensure\
    \ that Forwarded Rules can be\n   processed on constrained devices, LOs are required\
    \ to carry only a\n   limited set of Forwarded Rules, with an option to reference\
    \ a more\n   robust set of external Rules.  The limited Rule set covers two\n\
    \   privacy aspects: how long the Target's location may be retained\n   (\"Retention\"\
    ), and whether or not the Target's location may be\n   retransmitted (\"Retransmission\"\
    ).  An LO may contain a pointer to\n   more robust Rules, such as those shown\
    \ in the set of four Rules at\n   the beginning of this section.\n"
- title: 4.2.2.  Location Configuration
  contents:
  - "4.2.2.  Location Configuration\n   Some entities performing the LG role are designed\
    \ only to provide\n   Targets with their own locations, as opposed to distributing\
    \ a\n   Target's location to others.  The process of providing a Target with\n\
    \   its own location is known within Geopriv as Location Configuration.\n   The\
    \ term \"Location Information Server\" (LIS) is often used to\n   describe the\
    \ entity that performs this function.  However, a LIS may\n   also perform other\
    \ functions, such as providing a Target's location\n   to other entities.\n  \
    \ A Location Configuration Protocol (LCP) [9] is one mechanism that can\n   be\
    \ used by a Device to discover its own location from a LIS.  LCPs\n   provide\
    \ functions in the way they obtain, transport, and deliver\n   location requests\
    \ and responses between a LIS and a Device such that\n   the LIS can trust that\
    \ the location requests and responses handled\n   via the LCP are in fact from/to\
    \ the Target.  Several LCPs have been\n   developed within Geopriv [10] [11] [12]\
    \ [13].\n   A LIS whose sole purpose is to perform Location Configuration need\n\
    \   only follow a simple privacy-preserving policy: transmit a Target's\n   location\
    \ only to the Target itself.  This is known as the \"LCP\n   policy\".\n   Importantly,\
    \ if an LS is also serving in the role of LG and it has\n   not been provisioned\
    \ with Privacy Rules for a particular Target, it\n   MUST follow the LCP policy,\
    \ whether it is a LIS or not.  In the\n   positioning phase, an entity serving\
    \ the roles of both LG and LS that\n   has not received Privacy Rules must follow\
    \ this policy.  The same is\n   true for any LS in the distribution phase.\n"
- title: 4.2.3.  Location References
  contents:
  - "4.2.3.  Location References\n   The location distribution process occurs through\
    \ a series of\n   transmissions of LOs: transmissions of location \"by value\"\
    .  Location\n   \"by value\" can be expressed in terms of geodetic location data\n\
    \   (latitude, longitude, altitude, etc.) and civic location data\n   (street,\
    \ city, state, etc.).\n   A location can also be distributed \"by reference\"\
    , where a reference\n   is represented by a URI that can be dereferenced to obtain\
    \ the LO.\n   This document summarizes the properties of location-by-reference\
    \ that\n   are discussed at length in [14].\n   Distribution of location-by-reference\
    \ (distribution of location URIs)\n   offers several benefits.  Location URIs\
    \ are a more compact way of\n   transmitting location information, since URIs\
    \ are usually smaller\n   than LOs.  A recipient of location information can make\
    \ multiple\n   requests to a URI over time to receive updated location information\n\
    \   if the URI is configured to provide a fresh location rather than a\n   single\
    \ \"snapshot\".\n   From a positioning perspective, location-by-reference can\
    \ offer the\n   additional benefit of \"just in time\" positioning.  If a location\
    \ is\n   distributed by reference, an entity acting as a combined LG/LS only\n\
    \   needs to perform positioning operations when a recipient dereferences\n  \
    \ a previously distributed URI.\n   From a privacy perspective, distributing a\
    \ location as a URI instead\n   of as an LO can help protect privacy by forcing\
    \ each recipient of the\n   location to request location information from the\
    \ referenced LS,\n   which can then apply access controls individually to each\
    \ recipient.\n   But the benefit provided here is contingent on the LS applying\
    \ access\n   controls.  If the LS does not apply an access control policy to\n\
    \   requests for a location URI (in other words, if it enforces the\n   \"possession\
    \ model\" defined in [14]), then transmitting a location URI\n   presents the\
    \ same privacy risks as transmitting the LO itself.\n   Moreover, the use of location\
    \ URIs without access controls can\n   introduce additional privacy risks: If\
    \ URIs are predictable, an\n   attacker to whom the URI has not been sent may\
    \ be able to guess the\n   URI and use it to obtain the referenced LO.  To mitigate\
    \ this,\n   location URIs without access controls need to be constructed so that\n\
    \   they contain a random component with sufficient entropy to make\n   guessing\
    \ infeasible.\n"
- title: 4.2.4.  Privacy Considerations for Distribution
  contents:
  - "4.2.4.  Privacy Considerations for Distribution\n   Location information MUST\
    \ be accompanied by Rules throughout the\n   distribution process.  Otherwise,\
    \ a recipient will not know what uses\n   are authorized, and will not be able\
    \ to use the LO.  Consequently,\n   LOs MUST be able to express Rules that convey\
    \ appropriate\n   authorizations.\n   An LS MUST only accept Rules from authorized\
    \ Rule Makers.  For an LS\n   that receives Rules exclusively in LOs and has no\
    \ direct relationship\n   with a Rule Maker, this requirement is met by applying\
    \ the Rules\n   provided in an LO to the distribution of that LO.  For an LS with\
    \ a\n   direct relationship to a Rule Maker, this requirement means that the\n\
    \   LS MUST be configurable with an RM authorization policy.  An LS\n   SHOULD\
    \ define a prescribed set of RMs that may provide Rules for a\n   given Target\
    \ or LO.  For example, an LS may only allow the Target to\n   set Rules for itself,\
    \ or it might allow an RM to set Rules for\n   several Targets (e.g., a parent\
    \ for children, or a corporate security\n   officer for employees).\n   No matter\
    \ how Rules are provided to an LS, for each LO it receives,\n   it MUST combine\
    \ all Rules that apply to the LO into a Rule set that\n   defines which transmissions\
    \ are authorized, and it MUST transmit\n   location information only in ways that\
    \ are authorized by these Rules.\n   An LS that receives Rules exclusively through\
    \ LOs MUST examine the\n   Rules that accompany a given LO in order to determine\
    \ how the LS may\n   use the LO.  If any Rules are included by reference, the\
    \ LS SHOULD\n   attempt to download them.  If the LO includes no Rules that allow\
    \ the\n   LS to transmit the LO to another entity, then the LS MUST NOT\n   transmit\
    \ the LO.  If the LO contains no Rules at all -- for example,\n   if it is in\
    \ a format with no Rules syntax -- then the LS MUST delete\n   it.  Emergency\
    \ services provide an exception in that Rules can be\n   implicit; see [15]).\
    \  If the LO included Rules by reference, but\n   these Rules were not obtained\
    \ for any reason, the LS MUST NOT\n   transmit the LO and MUST adhere to the provided\
    \ value in the\n   retention-expires field.\n   An LS that receives Rules both\
    \ directly from one or more Rule Makers\n   and through LOs MUST combine the Rules\
    \ in a given LO with Rules it\n   has received from the RMs.  The strategy the\
    \ LS uses to combine these\n   sets of Rules is a matter for local policy, depending\
    \ on the relative\n   priority that the LS grants to each source of Rules.  Some\
    \ example\n   policies are:\n   Union:   A transmission of location information\
    \ is authorized if it\n      is authorized by either a rule in the LO or an RM-provided\
    \ rule.\n   Intersection:   A transmission of location information is authorized\n\
    \      if it is authorized by both a rule in the LO and an RM-provided\n     \
    \ rule.\n   RM Override:   A transmission of location information is authorized\n\
    \      if it is authorized by an RM-provided rule, regardless of the LO\n    \
    \  Rules.\n   LO Override:   A transmission of location information is authorized\n\
    \      if it is authorized by an LO-provided rule, regardless of the RM\n    \
    \  Rules.\n   The default combination policy for an LS that receives multiple\
    \ rule\n   sets is to combine them according to procedures in Section 10 of\n\
    \   RFC 4745 [6].  Privacy rules always grant access; i.e., the default\n   is\
    \ to deny access, and rules specify conditions under which access is\n   allowed.\
    \  Thus, when an LS is provided more than one policy document\n   that applies\
    \ to a given LO, it has been instructed to provide access\n   when any of the\
    \ rules apply.  That is, the \"Union\" policy is the\n   default policy for an\
    \ LS with multiple sources of policy.  An LS MAY\n   choose to apply a more restrictive\
    \ policy by ignoring some of the\n   grants of permission in the privacy rules\
    \ provided.  The\n   \"Intersection\" policy and both \"Override\" policies listed\
    \ above are\n   of this latter character.\n   Protocols that are used for managing\
    \ rules should allow an RM to\n   retrieve from the LS the set of rules that will\
    \ ultimately be\n   applied.  For example, in the basic HTTP-based protocol defined\
    \ in\n   [16], an RM can use a GET request to retrieve the policy being\n   applied\
    \ by the LS and a PUT request to specify new rules.\n   Different policies may\
    \ be applicable in different scenarios.  In\n   cases where an external RM is\
    \ more trusted than the source of the LO,\n   the \"RM Override\" policy may be\
    \ suitable (for example, if the\n   external RM is the Target and the LO is provided\
    \ by a third party).\n   Conversely, the \"LO Override\" policy is better suited\
    \ to cases where\n   the LO provider is more trusted than the RM, for example,\
    \ if the RM\n   is the user of a mobile device LS and the LO contains Rules from\
    \ the\n   RM's parents or corporate security office.  The \"Intersection\" policy\n\
    \   takes the strictest view of the permission grants, giving equal\n   weight\
    \ to all RMs (including the LO creator).\n   Each of these policies will also\
    \ have different privacy consequences.\n   Following the \"Intersection\" policy\
    \ ensures that the most privacy-\n   protective subset of all RMs' rules will\
    \ be followed.  The \"Union\"\n   policy and both \"Override\" policies may defy\
    \ the expectations of any\n   RM (including, potentially, the Target) whose policy\
    \ is not followed.\n   For example, if a Target acting as an RM sets Rules and\
    \ those Rules\n   are overridden by the application of a more permissive LO Override\n\
    \   policy that has been set by the Target's parent or employer acting as\n  \
    \ an RM, the retransmission or retention of the Target's data may come\n   as\
    \ a surprise to the Target.  For this reason, it is RECOMMENDED that\n   LSes\
    \ provide a way for RMs to be able to find out which policy will\n   be applied\
    \ to the distribution of a given LO.\n"
- title: 4.2.5.  Security Considerations for Distribution
  contents:
  - "4.2.5.  Security Considerations for Distribution\n   An LS's decisions about\
    \ how to transmit a location are based on the\n   identities of entities requesting\
    \ information and other aspects of\n   requests for a location.  In order to ensure\
    \ that these decisions are\n   made properly, the LS needs assurance of the reliability\
    \ of\n   information on the identities of the entities with which the LS\n   interacts\
    \ (including LRs, LSes, and RMs) and other information in the\n   request.\n \
    \  Protocols to convey LOs and protocols to convey Rules MUST provide\n   information\
    \ on the identity of the recipient of location information\n   and the identity\
    \ of the RM, respectively.  In order to ensure the\n   validity of this information,\
    \ these protocols MUST allow for mutual\n   authentication of both parties, and\
    \ MUST provide integrity protection\n   for protocol messages.  These security\
    \ features ensure that the LG\n   has sufficient information (and sufficiently\
    \ reliable information) to\n   make privacy decisions.\n   As they travel through\
    \ the Internet, LOs necessarily pass through a\n   sequence of intermediaries,\
    \ ranging from layer-2 switches to IP\n   routers to application-layer proxies\
    \ and gateways.  The ability of an\n   LS to protect privacy by making access\
    \ control decisions is reduced\n   if these intermediaries have access to an LO\
    \ as it travels between\n   privacy-preserving entities.\n   Ideally, LOs SHOULD\
    \ be transmitted with confidentiality protection\n   end-to-end between an LS\
    \ that transmits location information and the\n   LR that receives it.  In some\
    \ cases, the protocol conveying an LO\n   provides confidentiality protection\
    \ as a built-in security solution\n   for its signaling (and potentially its data\
    \ traffic).  In this case,\n   carrying an unprotected LO within such an encrypted\
    \ channel is\n   sufficient.  Many protocols, however, are offering communication\n\
    \   modes where messages are either unprotected or protected on a hop-by-\n  \
    \ hop basis (for example, between intermediaries in a store-and-forward\n   protocol).\
    \  In such a case, it is RECOMMENDED that the protocol allow\n   for the use of\
    \ encrypted LOs, or for the transmission of a reference\n   to a location in place\
    \ of an LO [14].\n"
- title: 4.3.  Location Use
  contents:
  - "4.3.  Location Use\n   The primary privacy requirement of an LR is to constrain\
    \ its usage of\n   location information to the set of uses authorized by the Rules\
    \ in an\n   LO.  If an LR only uses an LO in ways that have minimal privacy\n\
    \   impact -- specifically, if it does not transmit the LO to any other\n   entity,\
    \ and does not retain the LO for longer than is required to\n   complete its interaction\
    \ with the LS -- then no further action is\n   necessary for the LR to comply\
    \ with Geopriv requirements.\n   As an example of this simplest case, if an LR\
    \ (a) receives a\n   location, (b) immediately provides to the Target information\
    \ or a\n   service based on the location, (c) does not retain the information,\n\
    \   and (d) does not retransmit the location to any other entity, then\n   the\
    \ LR will comply with any set of Rules that are permissible under\n   Geopriv.\
    \  Thus, a service that, for example, only provides directions\n   to the closest\
    \ bookstore in response to an input of a location, and\n   promptly then discards\
    \ the input location, will be in compliance with\n   any Geopriv Rule set.\n \
    \  LRs that make other uses of an LO (e.g., those that store LOs or send\n   them\
    \ to other service providers to obtain location-based services)\n   MUST meet\
    \ the requirements below to assure that these uses are\n   authorized.\n"
- title: 4.3.1.  Privacy Considerations for Use
  contents:
  - "4.3.1.  Privacy Considerations for Use\n   The principal privacy requirement\
    \ for LRs is to follow usage rules.\n   Any LR that wants to retransmit or retain\
    \ the LO is REQUIRED to\n   examine the rules included with that LO.  Any usage\
    \ the LR makes of\n   the LO MUST be explicitly authorized by these Rules.  Since\
    \ Rules are\n   positive grants of permission, any action not explicitly authorized\n\
    \   is denied by default.\n"
- title: 4.3.2.  Security Considerations for Use
  contents:
  - "4.3.2.  Security Considerations for Use\n   Since the LR role does not involve\
    \ transmission of location\n   information, there are no protocol security considerations\
    \ required\n   to support privacy, other than ensuring that data does not leak\n\
    \   unintentionally due to security breaches.\n   Aside from privacy, LRs often\
    \ require some assurance that an LO is\n   reliable (assurance of the integrity,\
    \ authenticity, and validity of\n   an LO), since LRs use LOs in order to deliver\
    \ location-based\n   services.  Threats against this reliability, and corresponding\n\
    \   mitigations, are discussed in \"Security Considerations\" below.\n"
- title: 5.  Security Considerations
  contents:
  - "5.  Security Considerations\n   Security considerations related to the privacy\
    \ of LOs are discussed\n   throughout this document.  In this section, we summarize\
    \ those\n   concerns and consider security risks not related to privacy.\n   The\
    \ life cycle of an LO often consists of a series of location\n   transmissions.\
    \  Protocols that carry location information can provide\n   strong assurances,\
    \ but only for a single segment of the LO's life\n   cycle.  In particular, a\
    \ protocol can provide integrity protection\n   and confidentiality for the data\
    \ exchanged, and mutual authentication\n   of the parties involved in the protocol,\
    \ by using a secure transport\n   such as IPSec [17] or Transport Layer Security\
    \ (TLS) [18].\n   Additionally, if (1) the protocol provides mutual authentication\
    \ for\n   every segment, and (2) every entity in the location distribution\n \
    \  chain exchanges information only with entities with whom it has a\n   trust\
    \ relationship, entities can transitively obtain assurances\n   regarding the\
    \ origin and ultimate destination of the LO.  Of course,\n   direct assurances\
    \ are always preferred over assurances requiring\n   transitive trust, since they\
    \ require fewer assumptions.\n   Using protocol mechanisms alone, the entities\
    \ can receive assurances\n   only about a single hop in the distribution chain.\
    \  For example,\n   suppose that an LR receives location information from an LS\
    \ over an\n   integrity- and confidentiality-protected channel.  The LR knows\
    \ that\n   the transmitted LO has not been modified or observed en route.\n  \
    \ However, the assurances provided by the protocol do not guarantee\n   that the\
    \ transmitted LO was not corrupted before it was sent to the\n   LS (by a previous\
    \ LS, for example).  Likewise, the LR can verify that\n   the LO was transmitted\
    \ by the LS, but cannot verify the origin of the\n   LO if it did not originate\
    \ with the LS.\n   Security mechanisms in protocols are thus unable to provide\
    \ direct\n   assurances over multiple transmissions of an LO.  However, the\n\
    \   transmission of a location \"by reference\" can be used to effectively\n \
    \  turn multi-hop paths into single-hop paths.  If the multiple\n   transmissions\
    \ of an LO are replaced by multiple transmissions of a\n   URI (a multi-hop dissemination\
    \ channel), the LO need only traverse a\n   single hop, namely the dereference\
    \ transaction between the LR and the\n   dereference server.  The requirements\
    \ for securing a location passed\n   by reference [14] are applicable in this\
    \ case.\n   The major threats to the security of LOs can be grouped into two\n\
    \   categories.  First, threats against the integrity and authenticity of\n  \
    \ LOs can expose entities that rely on LOs.  Second, threats against\n   the confidentiality\
    \ of LOs can allow unauthorized access to location\n   information.\n   An LO\
    \ contains four essential types of information: identifiers for\n   the described\
    \ Target, location information, timestamps, and Rules.\n   By grouping values\
    \ of these various types together within a single\n   structure, an LO encodes\
    \ a set of bindings among them.  That is, the\n   LO asserts that the identified\
    \ Target was present at the given\n   location at the given time and that the\
    \ given Rules express the\n   Target's desired policy at that time for the distribution\
    \ of his\n   location.  Below, we provide a description of the assurances required\n\
    \   by each party involved in the location distribution in order to\n   mitigate\
    \ the possible attacks on these bindings.\n   Rule Maker:   The Rule Maker is\
    \ responsible for creating the Target's\n      Privacy Rules and for uploading\
    \ them to the LSes.  The primary\n      assurance required by the Rule Maker is\
    \ that the Target's Privacy\n      Rules are correctly associated with the Target's\
    \ identity when\n      they are conveyed to each LS that handles the LO.  Ensuring\
    \ the\n      integrity of the Privacy Rules distributed to the LSes prevents\n\
    \      rule-tampering attacks.  In many circumstances, the privacy policy\n  \
    \    of the Target may itself be sensitive information; in these cases,\n    \
    \  the Rule Maker also requires the assurance that the binding\n      between\
    \ the Target's identity and the Target's Privacy Rules are\n      not deducible\
    \ by anyone other than an authorized LS.\n   Location Server:   The Location Server\
    \ is responsible for enforcing\n      the Target's Privacy Rules.  The first assurance\
    \ required by the\n      LS is that the binding between the Target's Privacy Rules\
    \ and the\n      Target's identity is authentic.  Authenticating and authorizing\n\
    \      the Rule Maker who creates, updates, and deletes the Privacy Rules\n  \
    \    prevents rule-tampering attacks.  The LS has to ensure that the\n      authorization\
    \ policies are not exposed to third parties, if so\n      desired by the Rule\
    \ Maker and when the rules themselves are\n      privacy-sensitive.\n   Location\
    \ Recipient:   The Location Recipient is the consumer of the\n      LO.  The LR\
    \ thus requires assurances about the authenticity of the\n      bindings between\
    \ the Target's location, the Target's identity, and\n      the time.  Ensuring\
    \ the authenticity of these bindings helps to\n      prevent various attacks,\
    \ such as falsifying the location,\n      modifying the timestamp, faking the\
    \ identity, and replaying LOs.\n   Location Generator:   The primary assurance\
    \ required by the Location\n      Generator is that the LS to which the LO is\
    \ initially published is\n      one that is trusted to enforce the Target's Privacy\
    \ Rules.\n      Authenticating the trusted LS mitigates the risk of server\n \
    \     impersonation attacks.  Additionally, the LG is responsible for\n      the\
    \ location determination process, which is also sensible from a\n      security\
    \ perspective because wrong input provided by external\n      entities can lead\
    \ to undesirable disclosure or access to location\n      information.\n   Assurances\
    \ as to the integrity and confidentiality of a Location\n   Object can be provided\
    \ directly through the LO format.  RFC 4119 [19]\n   provides a description for\
    \ the usage of Secure/Multipurpose Internet\n   Mail Extensions (S/MIME) to integrity\
    \ and confidentiality protection.\n   Although such direct, end-to-end assurances\
    \ are desirable, and these\n   mechanisms should be used whenever possible, there\
    \ are many\n   deployment scenarios where directly securing an LO is impractical.\n\
    \   For example, in some deployment scenarios a direct trust relationship\n  \
    \ may not exist between the creator of the Location Object and the\n   recipient.\
    \  Additionally, in a scenario where many recipients are\n   authorized to receive\
    \ a given LO, the creator of the LO cannot\n   guarantee end-to-end confidentiality\
    \ without knowing precisely which\n   recipient will receive the LO.  Many of\
    \ these cases can, however, be\n   addressed by the usage of a location-by-reference\
    \ mechanism, possibly\n   combined with an LO.\n"
- title: 6.  Example Scenarios
  contents:
  - "6.  Example Scenarios\n   This section contains a set of examples of how the\
    \ Geopriv\n   architecture can be deployed in practice.  These examples are meant\n\
    \   to illustrate key points of the architecture, rather than to form an\n   exhaustive\
    \ set of use cases.\n   For convenience and clarity in these examples, we assume\
    \ that the\n   Privacy Rules that an LO carries are equivalent to those in a\n\
    \   Presence Information Data Format Location Object (PIDF-LO) [19] --\n   namely,\
    \ that the principal Rules that can be set are limits on the\n   retransmission\
    \ and retention of the LO.  While these two Rules are\n   the most well-known\
    \ and important examples, the specific types of\n   Rules an LS or LR must consider\
    \ will in general depend on the types\n   of LOs it processes.\n"
- title: 6.1.  Minimal Scenario
  contents:
  - "6.1.  Minimal Scenario\n   One of the simplest scenarios in the Geopriv architecture\
    \ is when a\n   Device determines its own location and uses that LO to request\
    \ a\n   service (e.g., by including the LO in an HTTP POST request [20] or\n \
    \  SIP INVITE message [21]), and the server delivers that service\n   immediately\
    \ (e.g., in a 200 OK response in HTTP or SIP), without\n   retaining or retransmitting\
    \ the Device's location.  The Device acts\n   as an LG by using a Device-based\
    \ positioning algorithm (e.g., manual\n   entry) and as an LS by interpreting\
    \ the rule and transmitting the LO.\n   The Target acts as a Rule Maker by specifying\
    \ that the location\n   should be sent to the server.  The server acts as an LR\
    \ by receiving\n   and using the LO.\n   In this case, the privacy of location\
    \ information is maintained in\n   two steps: The first step is that the location\
    \ is only transmitted as\n   directed by the single Rule Maker, namely the Target.\
    \  The second\n   step is simply the fact that the server, as LR, does not do\
    \ anything\n   that creates a privacy risk -- it does not retain or retransmit\
    \ the\n   location.  Because the server limits its behavior in this way, it\n\
    \   does not need to read the Rules in the LO, even though they were\n   provided\
    \ -- no Rule would prevent it from using the location in this\n   safe manner.\n\
    \   The following outline summarizes this scenario:\n   o  Positioning: Device-based,\
    \ Device=LG\n   o  Distribution hop 1: HTTP User Agent (UA) --> Ephemeral Web\n\
    \      service, privacy via user indication\n   o  Use: Ephemeral Web service\
    \ delivers response without retaining or\n      retransmitting location\n   o\
    \  Key point:\n      *  LRs that do not behave in ways that risk privacy are Geopriv-\n\
    \         compliant by default.  No further action is necessary.\n"
- title: 6.2.  Location-Based Web Services
  contents:
  - "6.2.  Location-Based Web Services\n   Many location-based services are delivered\
    \ over the Web, using\n   Javascript code to orchestrate a series of HTTP requests\
    \ for\n   location-specific information.  To support these applications,\n   browser\
    \ extensions have been developed that support Device-based\n   positioning (manual\
    \ entry and Global Positioning System (GPS)) and\n   network-assisted positioning\
    \ (via Assisted GPS (AGPS), and\n   multilateration with 802.11 and cellular signals),\
    \ exposing a\n   location to Web pages through Javascript APIs.\n   In this scenario,\
    \ we consider a Target that uses a browser with a\n   network-assisted positioning\
    \ extension.  When the Target uses this\n   browser to request location-based\
    \ services from a Web page, the\n   browser prompts the user to grant the page\
    \ permission to access the\n   user's location.  If the user grants permission,\
    \ the browser\n   extension sends 802.11 signal strength measurements to a positioning\n\
    \   server, which then returns the position of the host.  The extension\n   constructs\
    \ an LO with this location and Rules set by the user, then\n   passes the LO to\
    \ the page through its Javascript API.  The page then\n   obtains location-relevant\
    \ information using an XMLHttpRequest [22] to\n   a server in the same domain\
    \ as the page and renders this information\n   to the user.\n   At first blush,\
    \ this scenario seems much more complicated than the\n   minimal scenario above.\
    \  However, most of the privacy considerations\n   are actually the same.\n  \
    \ The positioning phase in this scenario begins when the browser\n   extension\
    \ contacts the positioning server.  The positioning server\n   acts as an LG.\n\
    \   The distribution phase actually occurs entirely within the Target\n   host.\
    \  This phase begins when the positioning server, now acting as\n   an LS, follows\
    \ the LCP policy by providing the location only to the\n   Target.  The next hop\
    \ in distribution occurs when the browser\n   extension (an entity under the control\
    \ of the Target) passes an LO to\n   the Web page (an entity under the control\
    \ of its author).  In this\n   phase, the browser extension acts as an LS, with\
    \ the Target as the\n   sole Rule Maker; the user interface for rule-making is\
    \ effectively a\n   protocol for conveying Rules, and the extension's API effectively\n\
    \   defines a way to communicate LOs and an LO format.  The Web site acts\n  \
    \ as an LR when the Web page accepts the LO.\n   The use phase encompasses the\
    \ Web site's use of the LO.  In this\n   context, the phrase \"Web site\" encompasses\
    \ not only the Web page, but\n   also the dedicated supporting logic behind it.\
    \  Considering the\n   entire Web site as a recipient, rather than a single page,\
    \ it becomes\n   clear that sending the LO in an XMLHttpRequest to a back-end\
    \ server\n   is like passing it to a separate component of the LR, as opposed\
    \ to\n   retransmitting it to another entity.  Thus, even in this case, where\n\
    \   location-relevant information is obtained from a back-end server, the\n  \
    \ LR does not retain or retransmit the location, so its behavior is\n   \"privacy-safe\"\
    \ -- it doesn't need to interpret the Rules in the LO.\n   However, consider a\
    \ variation on this scenario where the Web page\n   requests additional information\
    \ (a map, for instance) from a third-\n   party site.  In this case, since location\
    \ information is being\n   transmitted to a third party, the Web site (either\
    \ in the Web page or\n   in a back-end server) would need to verify that this\
    \ transmission is\n   allowed by the LO's Privacy Rules.  Similarly, if the site\
    \ wanted to\n   log the user's location information, then it would need to examine\n\
    \   the LO to determine how long this information can be retained.  In\n   such\
    \ a case, if the LR needs to do something that is not allowed by\n   the Rules,\
    \ it may have to deny service to the user, while hopefully\n   providing a message\
    \ with the reason.  Nonetheless, if the Rules\n   permit retention or retransmission,\
    \ even if this retransmission is\n   limited by access control rules, then the\
    \ LR may do so to the extent\n   the Rules allow.\n   The following outline summarizes\
    \ this scenario:\n   o  Positioning: Network-assisted, positioning server=LG\n\
    \   o  Rule installation: RM (=Target) gives permission to sites and sets\n  \
    \    LO Rules\n   o  Distribution hop 1: positioning server=LS --> Target, privacy\
    \ via\n      LCP policy\n   o  Distribution hop 2: Browser=LS --> Web site=LR,\
    \ privacy via user\n      confirmation\n   o  Use: Back-end server delivers location-relevant\
    \ information\n      without further retransmission, then deletes location; privacy\
    \ via\n      safe behavior\n   o  Key points:\n      *  Privacy in this scenario\
    \ is provided by a combination of\n         explicit user direction and Rules\
    \ in an LO.\n      *  Distribution can occur within a host, between components\
    \ that\n         do not trust each other.\n      *  Some transmissions of the\
    \ location are actually internal to\n         an LR.\n      *  LRs that do things\
    \ that might be constrained by Rules need to\n         verify that these actions\
    \ are allowed for a particular LO.\n"
- title: 6.3.  Emergency Calling
  contents:
  - "6.3.  Emergency Calling\n   Support for emergency calls by Voice-over-IP devices\
    \ is a critical\n   use case for location information about Internet hosts.  The\
    \ details\n   of the Internet architecture for emergency calling are described\
    \ in\n   [23] [24].  In this architecture, there are three critical steps in\n\
    \   the placement of an emergency call, each involving location\n   information:\n\
    \   1.  Determine the location of the caller.\n   2.  Determine the proper Public\
    \ Safety Answering Point (PSAP) for the\n       caller's location.\n   3.  Send\
    \ a SIP INVITE message, including the caller's location, to\n       the PSAP.\n\
    \   The first step in an emergency call is to determine the location of\n   the\
    \ caller.  This step is the positioning phase of the location life\n   cycle.\
    \  The location is determined by whatever means are available to\n   the caller's\
    \ device, or to the network, if this step is being done by\n   a proxy.  The entity\
    \ doing the positioning, whether the caller or a\n   proxy, acts as an LS, preserving\
    \ the privacy of location information\n   by only including it in emergency calls.\n\
    \   The second step in an emergency call encompasses location\n   distribution\
    \ and use.  The entity that is routing the emergency call\n   sends location information\
    \ through the Location-to-Service\n   Translation (LoST) Protocol [15] to a mapping\
    \ server.  In this role,\n   the routing entity acts as an LS and the LoST server\
    \ acts as an LR.\n   The LO format within LoST does not allow Rules to be sent\
    \ along with\n   the location, but because LoST is an application-specific protocol,\n\
    \   the sending of the location within a LoST message authorizes the LoST\n  \
    \ server to use the location to complete the protocol, namely to route\n   the\
    \ message as necessary through the LoST mapping architecture [25].\n   That is,\
    \ the LoST server is authorized to complete the LoST protocol,\n   but to do nothing\
    \ else.\n   The third step in an emergency call is again a combination of\n  \
    \ distribution and use.  The caller, or another entity that inserts the\n   caller's\
    \ location, acts as an LS, and the PSAP acts as an LR.  In\n   this specific example,\
    \ the caller's location is transmitted either as\n   a PIDF-LO or as a reference\
    \ that returns a PIDF-LO, or both; in the\n   latter case, the reference should\
    \ be appropriately protected so that\n   only the PSAP has access.  In any case,\
    \ the receipt of an LO implies\n   that the PSAP should obey the Rules in those\
    \ LOs in order to preserve\n   privacy.  Depending on the regulatory environment,\
    \ the PSAP may have\n   the option to ignore those constraints in order to respond\
    \ to an\n   emergency, or it may be bound to respect these Rules in spite of the\n\
    \   emergency situation.\n   The following outline summarizes this scenario:\n\
    \   o  Positioning: Any\n   o  Distribution/use hop 1: Target=LS --> LoST infrastructure\
    \ (no\n      Rules), privacy via authorization implicit in protocol\n   o  Distribution/use\
    \ hop 2: Target=LS --> PSAP, privacy via Rules\n      in LO\n   o  Use: PSAP uses\
    \ location to deliver emergency services\n   o  Key points:\n      *  Privacy\
    \ in this scenario is provided by a combination of\n         explicit user direction,\
    \ implicit authorization particular to a\n         protocol, and Rules in an LO.\n\
    \      *  LRs may be constrained to respect or ignore Privacy Rules by\n     \
    \    local regulation.\n"
- title: 6.4.  Combination of Services
  contents:
  - "6.4.  Combination of Services\n   In modern Internet applications, users frequently\
    \ receive information\n   via one channel and broadcast it via another.  In this\
    \ sense, both\n   users and channels (e.g., Web services) become LSes.  Here we\n\
    \   consider a more complex example that illustrates this pattern across\n   multiple\
    \ logical hops.\n   Suppose Alice as the Target subscribes to a wireless ISP that\n\
    \   determines her location using a network-based positioning technique,\n   e.g.,\
    \ via the location of the base station serving the Target, and\n   provides that\
    \ information directly to a location-enhanced presence\n   provider.  This presence\
    \ provider might use SIP, the Extensible\n   Messaging and Presence Protocol (XMPP)\
    \ [26], or another protocol).\n   The location-enhanced presence provider allows\
    \ Alice to specify Rules\n   for how this location is distributed: which friends\
    \ should receive\n   Alice's location and what Rules they should get with it.\
    \  Alice uses\n   a few other location-enhanced services as well, so she sends\
    \ Rules\n   that allow her location to be shared with those services, and that\n\
    \   allow those services to retain and retransmit her location.\n   Bob is one\
    \ of Alice's friends, and he receives her location via this\n   location-enhanced\
    \ presence service.  Noting that she's at their\n   favorite coffee shop, Bob\
    \ wants to upload a photo of the two of them\n   at the coffee shop to a photo-sharing\
    \ site, along with an LO that\n   marks the location.  Bob checks the Rules in\
    \ Alice's LO and verifies\n   that the photo-sharing site is one of the services\
    \ that Alice\n   authorized.  Seeing that Alice has authorized him to give the\
    \ LO to\n   the photo-sharing site, he attaches it to the photo and uploads it.\n\
    \   Once the geo-tagged photo is uploaded, the photo-sharing site reads\n   the\
    \ Rules in the LO and verifies that the site is authorized to store\n   the photo\
    \ and to share it with others.  Since Alice has allowed the\n   site to retransmit\
    \ and retain without any constraints, the site\n   fulfills Bob's request to make\
    \ the geo-tagged photo publicly\n   accessible.\n   Eve, another user of the photo-sharing\
    \ site, downloads the photo of\n   Alice and Bob at the coffee shop and receives\
    \ Alice's LO along with\n   it.  Eve posts the photo and location to her public\
    \ page on a social\n   networking site without checking the Rules, even though\
    \ the LO\n   doesn't allow Eve to send the location anywhere else.  The social\n\
    \   networking site, however, observes that no retransmission or\n   retention\
    \ are allowed, both of which it needs for a public posting,\n   and rejects the\
    \ upload.\n   In terms of the location life cycle, this scenario consists of a\n\
    \   positioning step, followed by four distribution hops and use.\n   Positioning\
    \ is the simplest step: An LG in Alice's ISP monitors her\n   location and transmits\
    \ it to the presence service, maintaining\n   privacy by only transmitting the\
    \ location information to a single\n   entity to which Alice has delegated privacy\
    \ responsibilities.\n   The first distribution hop occurs when the presence server\
    \ sends the\n   location to Bob.  In this transaction, the presence server acts\
    \ as an\n   LS, Alice acts as an RM, and Bob acts as an LR.  The privacy of this\n\
    \   transaction is assured by the fact that Alice has installed Rules on\n   the\
    \ presence server that dictate who it may allow to access her\n   location.  The\
    \ second distribution hop is when Bob uploads the LO to\n   the photo-sharing\
    \ site.  Here Bob acts as an LS, preserving the\n   privacy of location information\
    \ by verifying that the Rules in the LO\n   allow him to upload it.  The third\
    \ distribution hop is when the\n   photo-sharing site sends the LO to Eve, likewise\
    \ following the Rules\n   -- but a different set of Rules than for Bob, since\
    \ an LO can specify\n   different Rule sets for different LSes.\n   Eve is the\
    \ fourth LS in the chain, and fails to comply with Geopriv\n   by not checking\
    \ the Rules in the LO prior to uploading the LO to the\n   social networking site.\
    \  The site, however, is a responsible LR -- it\n   checks the Rules in the LO,\
    \ sees that they don't allow it to use the\n   location as it needs to, and discards\
    \ the LO.\n   The following outline summarizes this scenario:\n   o  Positioning:\
    \ Network-based, LG in network, privacy via exclusive\n      relationship with\
    \ presence service\n   o  Distribution/use hop 1: Presence server --> Bob, privacy\
    \ via\n      Alice's access control rules\n   o  Distribution/use hop 2: Bob -->\
    \ photo-sharing site, privacy via\n      Rules for Bob in LO\n   o  Distribution/use\
    \ hop 3: Photo-sharing site --> Eve, privacy via\n      Rules for site in LO\n\
    \   o  Distribution/use hop 4: Eve --> Social networking site, violates\n    \
    \  privacy by retransmitting\n   o  Use: Social networking site, privacy via checking\
    \ Rules and\n      discarding\n   o  Key points:\n      *  Privacy can be preserved\
    \ through multiple hops.\n      *  An LO can specify different Rules for different\
    \ entities.\n      *  An LS can still disobey the Rules, but even then, the\n\
    \         architecture still works in some cases.\n"
- title: 7.  Glossary
  contents:
  - "7.  Glossary\n   Various security-related terms not defined here are to be understood\n\
    \   in the sense defined in RFC 4949 [27].\n   $ Access Control Rule\n      A\
    \ rule that describes which entities may receive location\n      information and\
    \ in what form.\n   $ civic location\n      The geographic position of an entity\
    \ in terms of a postal address\n      or civic landmark.  Examples of such data\
    \ are room number, street\n      number, street name, city, postal code, county,\
    \ state, and\n      country.\n   $ Device\n      The physical device, such as\
    \ a mobile phone, PC, or embedded\n      micro-controller, whose location is tracked\
    \ as a proxy for the\n      location of a Target.\n   $ geodetic location\n  \
    \    The geographic position of an entity in a particular coordinate\n      system,\
    \ for example, a latitude-longitude pair.\n   $ Local Rule\n      A Privacy Rule\
    \ that directs a Location Server about how to treat a\n      Target's location\
    \ information.  Local Rules are used internally by\n      a Location Server to\
    \ handle requests from Location Recipients.\n      They are not distributed to\
    \ Location Recipients.\n   $ Location Generator (LG)\n      Performs the role\
    \ of initially determining or gathering the\n      location of a Target.  Location\
    \ Generators may be any sort of\n      software or hardware used to obtain a Target's\
    \ location.  Examples\n      include GPS chips and cellular networks.\n   $ Location\
    \ Information Server (LIS)\n      An entity responsible for providing devices\
    \ within an access\n      network with information about their own locations.\
    \  A Location\n      Information Server uses knowledge of the access network and\
    \ its\n      physical topology to generate and distribute location information\n\
    \      to devices.\n   $ Location Object (LO)\n      A data unit that conveys\
    \ location information together with\n      Privacy Rules within the Geopriv architecture.\
    \  A Location Object\n      may convey geodetic location data (latitude, longitude,\
    \ altitude),\n      civic location data (street, city, state, etc.), or both.\n\
    \   $ Location Recipient (LR)\n      An ultimate end-point entity to which a Location\
    \ Object is\n      distributed.  Location Recipients request location information\n\
    \      about a particular Target from a Location Server.  If allowed by\n    \
    \  the appropriate Privacy Rules, a Location Recipient will receive\n      Location\
    \ Objects describing the Target's location from the\n      Location Server.\n\
    \   $ Location Server (LS)\n      An entity that receives Location Objects from\
    \ Location Generators,\n      Privacy Rules from Rule Makers, and location requests\
    \ from\n      Location Recipients.  A Location Server applies the appropriate\n\
    \      Privacy Rules to a Location Object received from a Location\n      Generator\
    \ and may disclose the Location Object, in compliance with\n      the Rules, to\
    \ Location Recipients.\n      Location Servers may not necessarily be \"servers\"\
    \ in the\n      colloquial sense of hosts in remote data centers servicing\n \
    \     requests.  Rather, a Location Server can be any software or\n      hardware\
    \ component that receives and distributes location\n      information.  Examples\
    \ include a positioning server (with a\n      location interface) in an access\
    \ network, a presence server, or\n      a Web browser or other software running\
    \ on a Target's device.\n   $ Privacy Rule\n      A directive that regulates an\
    \ entity's activities with respect to\n      a Target's location information,\
    \ including the collection, use,\n      disclosure, and retention of the location\
    \ information.  Privacy\n      Rules describe how location information may be\
    \ used by an entity,\n      the level of detail with which location information\
    \ may be\n      described to an entity, and the conditions under which location\n\
    \      information may be disclosed to an entity.  Privacy Rules are\n      communicated\
    \ from Rule Makers to Location Servers and conveyed in\n      Location Objects\
    \ throughout the Geopriv architecture.\n   $ Rule\n      See Privacy Rule.\n \
    \  $ Rule Maker (RM)\n      An individual or entity that is authorized to set\
    \ Privacy Rules\n      for a Target.  In some cases, a Rule Maker and a Target\
    \ will be\n      the same individual or entity, and in other cases they will be\n\
    \      separate.  For example, a parent may serve as the Rule Maker when\n   \
    \   the Target is his child.  The Rule Maker is also not necessarily\n      the\
    \ owner of a Target device.  For example, a corporation may own\n      a device\
    \ that it provides to an employee but permit the employee\n      to serve as the\
    \ Rule Maker and set her own Privacy Rules.  Rule\n      Makers provide the Privacy\
    \ Rules associated with a Target to\n      Location Servers.\n   $ Forwarded Rule\n\
    \      A Privacy Rule that travels inside a Location Object.  Forwarded\n    \
    \  Rules direct Location Recipients about how to handle the location\n      information\
    \ they receive.  Because the Forwarded Rules themselves\n      may reveal potentially\
    \ sensitive information about a Target, only\n      the minimal subset of Forwarded\
    \ Rules necessary for a Location\n      Recipient to handle a Location Object\
    \ is distributed to the\n      Location Recipient.\n   $ Target\n      An individual\
    \ or other entity whose location is sought in the\n      Geopriv architecture.\
    \  In many cases, the Target will be the human\n      user of a Device, or it\
    \ may be an object such as a vehicle or\n      shipping container to which a Device\
    \ is attached.  In some\n      instances, the Target will be the Device itself.\
    \  The Target is\n      the entity whose privacy Geopriv seeks to protect.\n \
    \  $ Usage Rule\n      A rule that describes what uses of location information\
    \ are\n      authorized.\n"
- title: 8.  Acknowledgements
  contents:
  - "8.  Acknowledgements\n   Section 5 is largely based on the security investigations\
    \ conducted\n   as part of the Geopriv Layer-7 Location Configuration Protocol\
    \ design\n   team, which produced [9].  We would like to thank all the members\
    \ of\n   the design team.\n   We would also like to thank Marc Linsner and Martin\
    \ Thomson for their\n   contributions regarding terminology and LCPs.\n"
- title: 9.  References
  contents:
  - '9.  References

    '
- title: 9.1.  Normative References
  contents:
  - "9.1.  Normative References\n   [1]   Bradner, S., \"Key words for use in RFCs\
    \ to Indicate Requirement\n         Levels\", BCP 14, RFC 2119, March 1997.\n"
- title: 9.2.  Informative References
  contents:
  - "9.2.  Informative References\n   [2]   Cuellar, J., Morris, J., Mulligan, D.,\
    \ Peterson, J., and J.\n         Polk, \"Geopriv Requirements\", RFC 3693, February\
    \ 2004.\n   [3]   Danley, M., Mulligan, D., Morris, J., and J. Peterson, \"Threat\n\
    \         Analysis of the Geopriv Protocol\", RFC 3694, February 2004.\n   [4]\
    \   U.S. Department of Defense, \"National Industrial Security\n         Program\
    \ Operating Manual\", DoD 5220-22M, January 1995.\n   [5]   Winterbottom, J.,\
    \ Thomson, M., and H. Tschofenig, \"GEOPRIV\n         Presence Information Data\
    \ Format Location Object (PIDF-LO)\n         Usage Clarification, Considerations,\
    \ and Recommendations\",\n         RFC 5491, March 2009.\n   [6]   Schulzrinne,\
    \ H., Tschofenig, H., Morris, J., Cuellar, J., Polk,\n         J., and J. Rosenberg,\
    \ \"Common Policy: A Document Format for\n         Expressing Privacy Preferences\"\
    , RFC 4745, February 2007.\n   [7]   Schulzrinne, H., Ed., Tschofenig, H., Ed.,\
    \ Morris, J., Cuellar,\n         J., and J. Polk, \"Geolocation Policy: A Document\
    \ Format for\n         Expressing Privacy Preferences for Location Information\"\
    , Work\n         in Progress, March 2011.\n   [8]   Rosenberg, J., \"The Extensible\
    \ Markup Language (XML)\n         Configuration Access Protocol (XCAP)\", RFC\
    \ 4825, May 2007.\n   [9]   Tschofenig, H. and H. Schulzrinne, \"GEOPRIV Layer\
    \ 7 Location\n         Configuration Protocol: Problem Statement and Requirements\"\
    ,\n         RFC 5687, March 2010.\n   [10]  Polk, J., Schnizlein, J., and M. Linsner,\
    \ \"Dynamic Host\n         Configuration Protocol Option for Coordinate-based\
    \ Location\n         Configuration Information\", RFC 3825, July 2004.\n   [11]\
    \  Schulzrinne, H., \"Dynamic Host Configuration Protocol (DHCPv4\n         and\
    \ DHCPv6) Option for Civic Addresses Configuration\n         Information\", RFC\
    \ 4776, November 2006.\n   [12]  Polk, J., \"Dynamic Host Configuration Protocol\
    \ (DHCP) IPv4 and\n         IPv6 Option for a Location Uniform Resource Identifier\
    \ (URI)\",\n         Work in Progress, February 2011.\n   [13]  Barnes, M., Ed.,\
    \ \"HTTP-Enabled Location Delivery (HELD)\",\n         RFC 5985, September 2010.\n\
    \   [14]  Marshall, R., Ed., \"Requirements for a Location-by-Reference\n    \
    \     Mechanism\", RFC 5808, May 2010.\n   [15]  Hardie, T., Newton, A., Schulzrinne,\
    \ H., and H. Tschofenig,\n         \"LoST: A Location-to-Service Translation Protocol\"\
    , RFC 5222,\n         August 2008.\n   [16]  Barnes, R., Thomson, M., Winterbottom,\
    \ J., and H. Tschofenig,\n         \"Location Configuration Extensions for Policy\
    \ Management\", Work\n         in Progress, June 2011.\n   [17]  Kent, S. and\
    \ K. Seo, \"Security Architecture for the Internet\n         Protocol\", RFC 4301,\
    \ December 2005.\n   [18]  Dierks, T. and E. Rescorla, \"The Transport Layer Security\
    \ (TLS)\n         Protocol Version 1.2\", RFC 5246, August 2008.\n   [19]  Peterson,\
    \ J., \"A Presence-based GEOPRIV Location Object\n         Format\", RFC 4119,\
    \ December 2005.\n   [20]  Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter,\
    \ L.,\n         Leach, P., and T. Berners-Lee, \"Hypertext Transfer Protocol --\n\
    \         HTTP/1.1\", RFC 2616, June 1999.\n   [21]  Rosenberg, J., Schulzrinne,\
    \ H., Camarillo, G., Johnston, A.,\n         Peterson, J., Sparks, R., Handley,\
    \ M., and E. Schooler, \"SIP:\n         Session Initiation Protocol\", RFC 3261,\
    \ June 2002.\n   [22]  World Wide Web Consortium, \"The XMLHttpRequest Object\"\
    , W3C\n         document http://www.w3.org/TR/XMLHttpRequest/, August 2010.\n\
    \   [23]  Rosen, B., Schulzrinne, H., Polk, J., and A. Newton, \"Framework\n \
    \        for Emergency Calling Using Internet Multimedia\", Work\n         in\
    \ Progress, October 2010.\n   [24]  Rosen, B. and J. Polk, \"Best Current Practice\
    \ for\n         Communications Services in support of Emergency Calling\", Work\n\
    \         in Progress, March 2011.\n   [25]  Schulzrinne, H., \"Location-to-URL\
    \ Mapping Architecture and\n         Framework\", RFC 5582, September 2009.\n\
    \   [26]  Saint-Andre, P., \"Extensible Messaging and Presence Protocol\n    \
    \     (XMPP): Core\", RFC 6120, March 2011.\n   [27]  Shirey, R., \"Internet Security\
    \ Glossary, Version 2\", FYI 36,\n         RFC 4949, August 2007.\n   [28]  <http://creativecommons.org/>\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Richard Barnes\n   BBN Technologies\n   9861 Broken Land\
    \ Pkwy, Suite 400\n   Columbia, MD  21046\n   USA\n   Phone: +1 410 290 6169\n\
    \   EMail: rbarnes@bbn.com\n   Matt Lepinski\n   BBN Technologies\n   10 Moulton\
    \ St.\n   Cambridge, MA  02138\n   USA\n   Phone: +1 617 873 5939\n   EMail: mlepinski@bbn.com\n\
    \   Alissa Cooper\n   Center for Democracy & Technology\n   1634 I Street NW,\
    \ Suite 1100\n   Washington, DC\n   USA\n   EMail: acooper@cdt.org\n   John Morris\n\
    \   Center for Democracy & Technology\n   1634 I Street NW, Suite 1100\n   Washington,\
    \ DC\n   USA\n   EMail: jmorris@cdt.org\n   Hannes Tschofenig\n   Nokia Siemens\
    \ Networks\n   Linnoitustie 6\n   Espoo  02600\n   Finland\n   Phone: +358 (50)\
    \ 4871445\n   EMail: Hannes.Tschofenig@gmx.net\n   URI:   http://www.tschofenig.priv.at\n\
    \   Henning Schulzrinne\n   Columbia University\n   Department of Computer Science\n\
    \   450 Computer Science Building\n   New York, NY  10027\n   US\n   Phone: +1\
    \ 212 939 7004\n   EMail: hgs@cs.columbia.edu\n   URI:   http://www.cs.columbia.edu\n"
