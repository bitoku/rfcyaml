- title: __initial_text__
  contents:
  - '             IPv6 Unicast Address Assignment Considerations

    '
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This memo provides information for the Internet community.\
    \  It does\n   not specify an Internet standard of any kind.  Distribution of\
    \ this\n   memo is unlimited.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (c) 2008 IETF Trust and the persons identified\
    \ as the\n   document authors.  All rights reserved.\n   This document is subject\
    \ to BCP 78 and the IETF Trust's Legal\n   Provisions Relating to IETF Documents\
    \ (http://trustee.ietf.org/\n   license-info) in effect on the date of publication\
    \ of this document.\n   Please review these documents carefully, as they describe\
    \ your rights\n   and restrictions with respect to this document.\n"
- title: Abstract
  contents:
  - "Abstract\n   One fundamental aspect of any IP communications infrastructure is\
    \ its\n   addressing plan.  With its new address architecture and allocation\n\
    \   policies, the introduction of IPv6 into a network means that network\n   designers\
    \ and operators need to reconsider their existing approaches\n   to network addressing.\
    \  Lack of guidelines on handling this aspect of\n   network design could slow\
    \ down the deployment and integration of\n   IPv6.  This document aims to provide\
    \ the information and\n   recommendations relevant to planning the addressing\
    \ aspects of IPv6\n   deployments.  The document also provides IPv6 addressing\
    \ case studies\n   for both an enterprise and an ISP network.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1.  Introduction . . . . . . . . . . . . . . . . . . .\
    \ . . . . . .  3\n   2.  Network-Level Addressing Design Considerations . . .\
    \ . . . . .  4\n     2.1.  Globally Unique Addresses  . . . . . . . . . . . .\
    \ . . . .  4\n     2.2.  Unique Local IPv6 Addresses  . . . . . . . . . . . .\
    \ . . .  5\n     2.3.  6bone Address Space  . . . . . . . . . . . . . . . . .\
    \ . .  6\n     2.4.  Network-Level Design Considerations  . . . . . . . . . .\
    \ .  6\n       2.4.1.  Sizing the Network Allocation  . . . . . . . . . . . .\
    \  8\n       2.4.2.  Address Space Conservation . . . . . . . . . . . . . .  8\n\
    \   3.  Subnet Prefix Considerations . . . . . . . . . . . . . . . . .  8\n  \
    \   3.1.  Considerations for /64 Prefixes  . . . . . . . . . . . . . 10\n   4.\
    \  Allocation of the IID of an IPv6 Address . . . . . . . . . . . 10\n     4.1.\
    \  Automatic EUI-64 Format Option . . . . . . . . . . . . . . 10\n     4.2.  Using\
    \ Privacy Extensions . . . . . . . . . . . . . . . . . 10\n     4.3.  Manual/Dynamic\
    \ Assignment Option . . . . . . . . . . . . . 11\n   5.  Security Considerations\
    \  . . . . . . . . . . . . . . . . . . . 11\n   6.  Acknowledgements . . . . .\
    \ . . . . . . . . . . . . . . . . . . 11\n   7.  Informative References . . .\
    \ . . . . . . . . . . . . . . . . . 12\n   Appendix A.  Case Studies  . . . .\
    \ . . . . . . . . . . . . . . . . 16\n     A.1.  Enterprise Considerations  .\
    \ . . . . . . . . . . . . . . . 16\n       A.1.1.  Obtaining General IPv6 Network\
    \ Prefixes  . . . . . . . 16\n       A.1.2.  Forming an Address (Subnet) Allocation\
    \ Plan  . . . . . 17\n       A.1.3.  Other Considerations . . . . . . . . . .\
    \ . . . . . . . 18\n       A.1.4.  Node Configuration Considerations  . . . .\
    \ . . . . . . 18\n     A.2.  Service Provider Considerations  . . . . . . . .\
    \ . . . . . 19\n       A.2.1.  Investigation of Objective Requirements for an\n\
    \               IPv6 Addressing Schema of a Service Provider . . . . . 19\n  \
    \     A.2.2.  Exemplary IPv6 Address Allocation Plan for a\n               Service\
    \ Provider . . . . . . . . . . . . . . . . . . . 23\n       A.2.3.  Additional\
    \ Remarks . . . . . . . . . . . . . . . . . . 28\n   Appendix B.  Considerations\
    \ for Subnet Prefixes Different than\n                /64 . . . . . . . . . .\
    \ . . . . . . . . . . . . . . . 30\n     B.1.  Considerations for Subnet Prefixes\
    \ Shorter than /64  . . . 30\n     B.2.  Considerations for Subnet Prefixes Longer\
    \ than /64 . . . . 31\n       B.2.1.  /126 Addresses . . . . . . . . . . . . .\
    \ . . . . . . . 31\n       B.2.2.  /127 Addresses . . . . . . . . . . . . . .\
    \ . . . . . . 31\n       B.2.3.  /128 Addresses . . . . . . . . . . . . . . .\
    \ . . . . . 31\n       B.2.4.  EUI-64 'u' and 'g' Bits  . . . . . . . . . . .\
    \ . . . . 31\n       B.2.5.  Anycast Addresses  . . . . . . . . . . . . . . .\
    \ . . . 32\n       B.2.6.  Addresses Used by Embedded-RP (RFC 3956) . . . . .\
    \ . . 33\n       B.2.7.  ISATAP Addresses . . . . . . . . . . . . . . . . . .\
    \ . 34\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   The Internet Protocol Version 6 (IPv6) Addressing Architecture\n\
    \   [RFC4291] defines three main types of addresses: unicast, anycast,\n   and\
    \ multicast.  This document focuses on unicast addresses, for which\n   there\
    \ are currently two principal allocated types: Globally Unique\n   Addresses ('globals')\
    \ [RFC3587] and Unique Local IPv6 Addresses\n   (ULAs) [RFC4193].  In addition,\
    \ until recently there has been the\n   'experimental' 6bone address space [RFC3701],\
    \ though its use has been\n   deprecated since June 2006 [RFC3701].\n   The document\
    \ covers aspects that should be considered during IPv6\n   deployment for the\
    \ design and planning of an addressing scheme for an\n   IPv6 network.  The network's\
    \ IPv6 addressing plan may be for an IPv6-\n   only network, or for a dual-stack\
    \ infrastructure where some or all\n   devices have addresses in both protocols.\
    \  These considerations will\n   help an IPv6 network designer to efficiently\
    \ and prudently assign the\n   IPv6 address space that has been allocated to their\
    \ organization.\n   The address assignment considerations are analyzed separately\
    \ for the\n   two major components of the IPv6 unicast addresses -- namely,\n\
    \   'Network-Level Addressing' (the allocation of subnets) and the\n   'interface-id'\
    \ (the identification of the interface within a subnet).\n   Thus, the document\
    \ includes a discussion of aspects of address\n   assignment to nodes and interfaces\
    \ in an IPv6 network.  Finally, the\n   document provides two examples of deployed\
    \ addressing plans in a\n   service provider (ISP) and an enterprise network.\n\
    \   Parts of this document highlight the differences that an experienced\n   IPv4\
    \ network designer should consider when planning an IPv6\n   deployment, for example:\n\
    \   o  IPv6 devices will more likely be multi-addressed in comparison\n      with\
    \ their IPv4 counterparts.\n   o  The practically unlimited size of an IPv6 subnet\
    \ (2^64 bits)\n      reduces the requirement to size subnets to device counts\
    \ for the\n      purposes of (IPv4) address conservation.\n   o  The vastly increased\
    \ subnet size has implications on the threat of\n      address-based host scanning\
    \ and other scanning techniques, as\n      discussed in [RFC5157].\n   We do not\
    \ discuss here how a site or ISP should proceed with\n   acquiring its globally\
    \ routable IPv6 address prefix.  In each case,\n   the prefix received is either\
    \ provider assigned (PA) or provider\n   independent (PI).\n   We do not discuss\
    \ PI policy here.  The observations and\n   recommendations of this text are largely\
    \ independent of the PA or PI\n   nature of the address block being used.  At\
    \ this time, we assume that\n   when an IPv6 network changes provider, typically\
    \ it will need to\n   undergo a renumbering process, as described in [RFC4192].\
    \  A separate\n   document [THINKABOUT] makes recommendations to ease the IPv6\n\
    \   renumbering process.\n   This document does not discuss implementation aspects\
    \ related to the\n   transition from the now obsoleted site-local addresses to\
    \ ULAs.  Some\n   implementations know about site-local addresses even though\
    \ they are\n   deprecated, and do not know about ULAs even though they represent\n\
    \   current specification.  As a result, transitioning between these\n   types\
    \ of addresses may cause difficulties.\n"
- title: 2.  Network-Level Addressing Design Considerations
  contents:
  - "2.  Network-Level Addressing Design Considerations\n   This section discusses\
    \ the kind of IPv6 addresses used at the network\n   level for the IPv6 infrastructure.\
    \  The kind of addresses that can be\n   considered are Globally Unique Addresses\
    \ and ULAs.  We also comment\n   here on the deprecated 6bone address space.\n"
- title: 2.1.  Globally Unique Addresses
  contents:
  - "2.1.  Globally Unique Addresses\n   The most commonly used unicast addresses\
    \ will be Globally Unique\n   Addresses ('globals').  No significant considerations\
    \ are necessary\n   if the organization has an address space assignment and a\
    \ single\n   prefix is deployed through a single upstream provider.\n   However,\
    \ a multihomed site may deploy addresses from two or more\n   service-provider-assigned\
    \ IPv6 address ranges.  Here, the network\n   administrator must have awareness\
    \ on where and how these ranges are\n   used on the multihomed infrastructure\
    \ environment.  The nature of the\n   usage of multiple prefixes may depend on\
    \ the reason for multihoming\n   (e.g., resilience failover, load balancing, policy-based\
    \ routing, or\n   multihoming during an IPv6 renumbering event).  IPv6 introduces\n\
    \   improved support for multi-addressed hosts through the IPv6 default\n   address\
    \ selection methods described in RFC 3484 [RFC3484].  A\n   multihomed host may\
    \ thus have two or more addresses, one per prefix\n   (provider), and select source\
    \ and destination addresses to use as\n   described in that RFC.  However, multihoming\
    \ also has some\n   operational and administrative burdens besides choosing multiple\n\
    \   addresses per interface [RFC4218] [RFC4219].\n"
- title: 2.2.  Unique Local IPv6 Addresses
  contents:
  - "2.2.  Unique Local IPv6 Addresses\n   ULAs have replaced the originally conceived\
    \ site-local addresses in\n   the IPv6 addressing architecture, for reasons described\
    \ in [RFC3879].\n   ULAs improve on site-locals by offering a high probability\
    \ of the\n   global uniqueness of the prefix used, which can be beneficial when\n\
    \   there is (deliberate or accidental) leakage or when networks are\n   merged.\
    \  ULAs are akin to the private address space [RFC1918]\n   assigned for IPv4\
    \ networks, except that in IPv6 networks we may\n   expect to see ULAs used alongside\
    \ global addresses, with ULAs used\n   internally and globals used externally.\
    \  Thus, use of ULAs does not\n   imply use of NAT for IPv6.\n   The ULA address\
    \ range allows network administrators to deploy IPv6\n   addresses on their network\
    \ without asking for a globally unique\n   registered IPv6 address range.  A ULA\
    \ prefix is 48 bits, i.e., a /48,\n   the same as the currently recommended allocation\
    \ for a site from the\n   globally routable IPv6 address space [RFC3177].\n  \
    \ A site that wishes to use ULAs can have (a) multiple /48 prefixes\n   (e.g.,\
    \ a /44) (b) one /48, or (c) a less-than-/48 prefix (e.g., a /56\n   or /64).\
    \  In all of the above cases, the ULAs can be randomly chosen\n   according to\
    \ the principles specified in [RFC4193].  However, in case\n   (a) the use of\
    \ randomly chosen ULAs will provide suboptimal\n   aggregation capabilities.\n\
    \   ULAs provide the means to deploy a fixed addressing scheme that is\n   not\
    \ affected by a change in service provider and the corresponding PA\n   global\
    \ addresses.  Internal operation of the network is thus\n   unaffected during\
    \ renumbering events.  Nevertheless, this type of\n   address must be used with\
    \ caution.\n   A site using ULAs may or may not also deploy global addresses.\
    \  In an\n   isolated network, ULAs may be deployed on their own.  In a connected\n\
    \   network that also deploys global addresses, both may be deployed,\n   such\
    \ that hosts become multi-addressed (one global and one ULA), and\n   the IPv6\
    \ default address selection algorithm will pick the\n   appropriate source and\
    \ destination addresses to use, e.g., ULAs will\n   be selected where both the\
    \ source and destination hosts have ULAs.\n   Because a ULA and a global site\
    \ prefix are both /48 length, an\n   administrator can choose to use the same\
    \ subnetting (and host\n   addressing) plan for both prefixes.\n   As an example\
    \ of the problems ULAs may cause, when using IPv6\n   multicast within the network,\
    \ the IPv6 default address selection\n   algorithm prefers the ULA as the source\
    \ address for the IPv6\n   multicast streams.  This is NOT a valid option when\
    \ sending an IPv6\n   multicast stream to the IPv6 Internet for two reasons. \
    \ For one,\n   these addresses are not globally routable, so Reverse Path Forwarding\n\
    \   checks for such traffic will fail outside the internal network.  The\n   other\
    \ reason is that the traffic will likely not cross the network\n   boundary due\
    \ to multicast domain control and perimeter security\n   policies.\n   In principle,\
    \ ULAs allow easier network mergers than RFC 1918\n   addresses do for IPv4 because\
    \ ULA prefixes have a high probability of\n   uniqueness, if the prefix is chosen\
    \ as described in the RFC.\n"
- title: 2.3.  6bone Address Space
  contents:
  - "2.3.  6bone Address Space\n   The 6bone address space was used before the Regional\
    \ Internet\n   Registries (RIRs) started to distribute 'production' IPv6 prefixes.\n\
    \   The 6bone prefixes have a common first 16 bits in the IPv6 Prefix of\n   3FFE::/16.\
    \  This address range has been deprecated as of 6 June 2006\n   [RFC3701] and\
    \ must not be used on any new IPv6 network deployments.\n   Sites using 6bone\
    \ address space should renumber to production address\n   space using procedures\
    \ as defined in [RFC4192].\n"
- title: 2.4.  Network-Level Design Considerations
  contents:
  - "2.4.  Network-Level Design Considerations\n   IPv6 provides network administrators\
    \ with a significantly larger\n   address space, enabling them to be very creative\
    \ in how they can\n   define logical and practical addressing plans.  The subnetting\
    \ of\n   assigned prefixes can be done based on various logical schemes that\n\
    \   involve factors such as:\n   o  Using existing systems\n      *  translate\
    \ the existing subnet numbers into IPv6 subnet IDs\n      *  translate the VLAN\
    \ IDs into IPv6 subnet IDs\n   o  Redesign\n      *  allocate according to your\
    \ need\n   o  Aggregation\n      *  Geographical Boundaries - by assigning a common\
    \ prefix to all\n         subnets within a geographical area.\n      *  Organizational\
    \ Boundaries - by assigning a common prefix to an\n         entire organization\
    \ or group within a corporate infrastructure.\n      *  Service Type - by reserving\
    \ certain prefixes for predefined\n         services such as: VoIP, content distribution,\
    \ wireless\n         services, Internet access, security areas, etc.  This type\
    \ of\n         addressing may create dependencies on IP addresses that can\n \
    \        make renumbering harder if the nodes or interfaces supporting\n     \
    \    those services on the network are sparse within the topology.\n   Such logical\
    \ addressing plans have the potential to simplify network\n   operations and service\
    \ offerings, and to simplify network management\n   and troubleshooting.  A very\
    \ large network would not need to consider\n   using private address space for\
    \ its infrastructure devices, thereby\n   simplifying network management.\n  \
    \ The network designer must however keep in mind several factors when\n   developing\
    \ these new addressing schemes for networks with and without\n   global connectivity:\n\
    \   o  Prefix aggregation - The larger IPv6 addresses can lead to larger\n   \
    \   routing tables unless network designers are actively pursuing\n      aggregation.\
    \  While prefix aggregation will be enforced by the\n      service provider, it\
    \ is beneficial for the individual\n      organizations to observe the same principles\
    \ in their network\n      design process.\n   o  Network growth - The allocation\
    \ mechanism for flexible growth of a\n      network prefix, documented in RFC\
    \ 3531 [RFC3531] can be used to\n      allow the network infrastructure to grow\
    \ and be numbered in a way\n      that is likely to preserve aggregation (the\
    \ plan leaves 'holes'\n      for growth).\n   o  ULA usage in large networks -\
    \ Networks that have a large number of\n      'sites' that each deploy a ULA prefix\
    \ that will by default be a\n      'random' /48 under fc00::/7 will have no aggregation\
    \ of those\n      prefixes.  Thus, the end result may be cumbersome because the\n\
    \      network will have large amounts of non-aggregated ULA prefixes.\n     \
    \ However, there is no rule to disallow large networks from using a\n      single\
    \ ULA prefix for all 'sites', as a ULA still provides 16 bits\n      for subnetting\
    \ to be used internally.\n   o  Compact numbering of small sites - It is possible\
    \ that as registry\n      policies evolve, a small site may experience an increase\
    \ in prefix\n      length when renumbering, e.g., from /48 to /56.  For this reason,\n\
    \      the best practice is to number subnets compactly rather than\n      sparsely,\
    \ and to use low-order bits as much as possible when\n      numbering subnets.\
    \  In other words, even if a /48 is allocated,\n      act as though only a /56\
    \ is available.  Clearly, this advice does\n      not apply to large sites and\
    \ enterprises that have an intrinsic\n      need for a /48 prefix.\n   o  Consider\
    \ assigning more than one /64 to a site - A small site may\n      want to enable\
    \ routing amongst interfaces connected to a gateway\n      device.  For example,\
    \ a residential gateway that receives a /48\n      and is situated in a home with\
    \ multiple LANs of different media\n      types (sensor network, wired, Wi-Fi,\
    \ etc.), or has a need for\n      traffic segmentation (home, work, kids, etc.),\
    \ could benefit\n      greatly from multiple subnets and routing in IPv6.  Ideally,\n\
    \      residential networks would be given an address range of a /48 or\n    \
    \  /56 [RIPE_Nov07] such that multiple /64 subnets could be used\n      within\
    \ the residence.\n"
- title: 2.4.1.  Sizing the Network Allocation
  contents:
  - "2.4.1.  Sizing the Network Allocation\n   We do not discuss here how a network\
    \ designer sizes their application\n   for address space.  By default, a site\
    \ will receive a /48 prefix\n   [RFC3177]; however, different RIR service regions\
    \ policies may\n   suggest alternative default assignments or let the ISPs decide\
    \ on\n   what they believe is more appropriate for their specific case (see\n\
    \   Section 6.5.4, \"Assignments from LIRs/ISPs\", of [ARIN]).  The default\n\
    \   provider allocation via the RIRs is currently a /32 [RIPE_Nov07].\n   These\
    \ allocations are indicators for a first allocation for a\n   network.  Different\
    \ sizes may be obtained based on the anticipated\n   address usage [RIPE_Nov07].\
    \  At the time of writing, there are\n   examples of allocations as large as /19\
    \ having been made from RIRs to\n   providers.\n"
- title: 2.4.2.  Address Space Conservation
  contents:
  - "2.4.2.  Address Space Conservation\n   Despite the large IPv6 address space,\
    \ which enables easier\n   subnetting, it still is important to ensure an efficient\
    \ use of this\n   resource.  Some addressing schemes, while facilitating aggregation\n\
    \   and management, could lead to significant numbers of addresses being\n   unused.\
    \  Address conservation requirements are less stringent in\n   IPv6, but they\
    \ should still be observed.\n   The proposed Host-Density (HD) value [RFC3194]\
    \ for IPv6 is 0.94\n   compared to the current value of 0.96 for IPv4.  Note that\
    \ with IPv6,\n   HD is calculated for sites (e.g., on a basis of /56), instead\
    \ of for\n   addresses as with IPv4.\n"
- title: 3.  Subnet Prefix Considerations
  contents:
  - "3.  Subnet Prefix Considerations\n   An important part of an IPv4 addressing\
    \ plan is deciding the length\n   of each subnet prefix.  Unlike in IPv4, the\
    \ IPv6 addressing\n   architecture [RFC4291] specifies that all subnets using\
    \ Globally\n   Unique Addresses and ULAs always have the same prefix length of\
    \ 64\n   bits.  (This also applies to the deprecated 6bone and site-local\n  \
    \ addresses.)\n   The only exception to this rule are special addresses starting\
    \ with\n   the binary value 000, such as IPv4-compatible IPv6 addresses.  These\n\
    \   exceptions are largely beyond the scope of this document.\n   Using a subnet\
    \ prefix length other than a /64 will break many\n   features of IPv6, including\
    \ Neighbor Discovery (ND), Secure Neighbor\n   Discovery (SEND) [RFC3971], privacy\
    \ extensions [RFC4941], parts of\n   Mobile IPv6 [RFC4866], Protocol Independent\
    \ Multicast - Sparse Mode\n   (PIM-SM) with Embedded-RP [RFC3956], and Site Multihoming\
    \ by IPv6\n   Intermediation (SHIM6) [SHIM6], among others.  A number of other\n\
    \   features currently in development, or being proposed, also rely on\n   /64\
    \ subnet prefixes.\n   Nevertheless, many IPv6 implementations do not prevent\
    \ the\n   administrator from configuring a subnet prefix length shorter or\n \
    \  longer than 64 bits.  Using subnet prefixes shorter than /64 would\n   rarely\
    \ be useful; see Appendix B.1 for discussion.\n   However, some network administrators\
    \ have used prefixes longer than\n   /64 for links connecting routers, usually\
    \ just two routers on a\n   point-to-point link.  On links where all the addresses\
    \ are assigned\n   by manual configuration, and all nodes on the link are routers\
    \ (not\n   end hosts) that are known by the network, administrators do not need\n\
    \   any of the IPv6 features that rely on /64 subnet prefixes, this can\n   work.\
    \  Using subnet prefixes longer than /64 is not recommended for\n   general use,\
    \ and using them for links containing end hosts would be\n   an especially bad\
    \ idea, as it is difficult to predict what IPv6\n   features the hosts will use\
    \ in the future.\n   Appendix B.2 describes some practical considerations that\
    \ need to be\n   taken into account when using prefixes longer than /64 in limited\n\
    \   cases.  In particular, a number of IPv6 features use interface\n   identifiers\
    \ that have a special form (such as a certain fixed value\n   in some bit positions).\
    \  When using prefixes longer than /64, it is\n   prudent to avoid certain subnet\
    \ prefix values so that nodes who\n   assume that the prefix is /64 will not incorrectly\
    \ identify the\n   addresses in that subnet as having a special form.  Appendix\
    \ B.2\n   describes the subnet prefix values that are currently believed to be\n\
    \   potentially problematic; however, the list is not exhaustive and can\n   be\
    \ expected to grow in the future.\n   Using /64 subnets is strongly recommended,\
    \ also for links connecting\n   only routers.  A deployment compliant with the\
    \ current IPv6\n   specifications cannot use other prefix lengths.  However, the\
    \ V6OPS\n   WG believes that despite the drawbacks (and a potentially expensive\n\
    \   network redesign, if IPv6 features relying on /64 subnets are needed\n   in\
    \ the future), some networks administrators will use prefixes longer\n   than\
    \ /64.\n"
- title: 3.1.  Considerations for /64 Prefixes
  contents:
  - "3.1.  Considerations for /64 Prefixes\n   Based on RFC 3177 [RFC3177], 64 bits\
    \ is the prescribed subnet prefix\n   length to allocate to interfaces and nodes.\n\
    \   When using a /64 subnet length, the address assignment for these\n   addresses\
    \ can be made either by manual configuration, by a Dynamic\n   Host Configuration\
    \ Protocol [RFC3315], by stateless autoconfiguration\n   [RFC4862], or by a combination\
    \ thereof [RFC3736].\n   Note that RFC 3177 strongly prescribes 64-bit subnets\
    \ for general\n   usage, and that stateless autoconfiguration on most link layers\n\
    \   (including Ethernet) is only defined for 64-bit subnets.  While in\n   theory\
    \ it might be possible that some future autoconfiguration\n   mechanisms would\
    \ allow longer than 64-bit prefix lengths to be used,\n   the use of such prefixes\
    \ is not recommended at this time.\n"
- title: 4.  Allocation of the IID of an IPv6 Address
  contents:
  - "4.  Allocation of the IID of an IPv6 Address\n   In order to have a complete\
    \ IPv6 address, an interface must be\n   associated with a prefix and an Interface\
    \ Identifier (IID).  Section\n   3 of this document analyzed the prefix selection\
    \ considerations.\n   This section discusses the elements that should be considered\
    \ when\n   assigning the IID portion of the IPv6 address.\n   There are various\
    \ ways to allocate an IPv6 address to a device or\n   interface.  The option with\
    \ the least amount of caveats for the\n   network administrator is that of EUI-64\
    \ [RFC4862] based addresses.\n   For the manual or dynamic options, the overlap\
    \ with well-known IPv6\n   addresses should be avoided.\n"
- title: 4.1.  Automatic EUI-64 Format Option
  contents:
  - "4.1.  Automatic EUI-64 Format Option\n   When using this method, the network\
    \ administrator has to allocate a\n   valid 64-bit subnet prefix.  Once that allocation\
    \ has been made, the\n   EUI-64 [RFC4862] allocation procedure can assign the\
    \ remaining 64 IID\n   bits in a stateless manner.  All the considerations for\
    \ selecting a\n   valid IID have been incorporated into the EUI-64 methodology.\n"
- title: 4.2.  Using Privacy Extensions
  contents:
  - "4.2.  Using Privacy Extensions\n   The main purpose of IIDs generated based on\
    \ RFC 4941 [RFC4941] is to\n   provide privacy to the entity using an IPv6 address.\
    \  While there are\n   no particular constraints in the usage of IPv6 addresses\
    \ with IIDs as\n   defined in [RFC4941], there are some implications to be aware\
    \ of when\n   using privacy addresses as documented in Section 4 of RFC 4941\n\
    \   [RFC4941]\n"
- title: 4.3.  Manual/Dynamic Assignment Option
  contents:
  - "4.3.  Manual/Dynamic Assignment Option\n   This section discusses those IID allocations\
    \ that are not implemented\n   through stateless address configuration (Section\
    \ 4.1).  They are\n   applicable regardless of the prefix length used on the link.\
    \  It is\n   out of scope for this section to discuss the various assignment\n\
    \   methods (e.g., manual configuration, DHCPv6, etc).\n   In this situation,\
    \ the actual allocation is done by human\n   intervention, and consideration needs\
    \ to be given to the complete\n   IPv6 address so that it does not result in overlaps\
    \ with any of the\n   well-known IPv6 addresses:\n   o  Subnet Router Anycast\
    \ Address (Appendix B.2.5.1)\n   o  Reserved Subnet Anycast Address (Appendix\
    \ B.2.5.2)\n   o  Addresses used by Embedded-RP (Appendix B.2.6)\n   o  Intra-Site\
    \ Automatic Tunnel Addressing Protocol (ISATAP) Addresses\n      (Appendix B.2.7)\n\
    \   When using an address assigned by human intervention, it is\n   recommended\
    \ to choose IPv6 addresses that are not obvious to guess\n   and/or to avoid any\
    \ IPv6 addresses that embed IPv4 addresses used in\n   the current infrastructure.\
    \  Following these two recommendations will\n   make it more difficult for malicious\
    \ third parties to guess targets\n   for attack, and thus reduce security threats\
    \ to a certain extent.\n"
- title: 5.  Security Considerations
  contents:
  - "5.  Security Considerations\n   This document doesn't add any new security considerations\
    \ that aren't\n   already outlined in the security considerations of the references.\n\
    \   It must be noted that using subnet prefixes other than /64 breaks\n   security\
    \ mechanisms such as Cryptographically Generated Addresses\n   (CGAs) and Hash-Based\
    \ Addresses (HBAs), and thus makes it impossible\n   to use protocols that depend\
    \ on them.\n"
- title: 6.  Acknowledgements
  contents:
  - "6.  Acknowledgements\n   Constructive feedback and contributions have been received\
    \ during\n   IESG review cycle and from Marla Azinger, Stig Venaas, Pekka Savola,\n\
    \   John Spence, Patrick Grossetete, Carlos Garcia Braschi, Brian\n   Carpenter,\
    \ Mark Smith, Janos Mohacsi, Jim Bound, Fred Templin, Ginny\n   Listman, Salman\
    \ Assadullah, Krishnan Thirukonda, and the IESG.\n"
- title: 7.  Informative References
  contents:
  - "7.  Informative References\n   [RFC1918]       Rekhter, Y., Moskowitz, R., Karrenberg,\
    \ D., Groot,\n                   G., and E. Lear, \"Address Allocation for Private\n\
    \                   Internets\", BCP 5, RFC 1918, February 1996.\n   [RFC2526]\
    \       Johnson, D. and S. Deering, \"Reserved IPv6 Subnet\n                 \
    \  Anycast Addresses\", RFC 2526, March 1999.\n   [RFC3021]       Retana, A.,\
    \ White, R., Fuller, V., and D. McPherson,\n                   \"Using 31-Bit\
    \ Prefixes on IPv4 Point-to-Point Links\",\n                   RFC 3021, December\
    \ 2000.\n   [RFC3053]       Durand, A., Fasano, P., Guardini, I., and D. Lento,\n\
    \                   \"IPv6 Tunnel Broker\", RFC 3053, January 2001.\n   [RFC3056]\
    \       Carpenter, B. and K. Moore, \"Connection of IPv6\n                   Domains\
    \ via IPv4 Clouds\", RFC 3056, February 2001.\n   [RFC3177]       IAB and IESG,\
    \ \"IAB/IESG Recommendations on IPv6\n                   Address Allocations to\
    \ Sites\", RFC 3177,\n                   September 2001.\n   [RFC3180]       Meyer,\
    \ D. and P. Lothberg, \"GLOP Addressing in\n                   233/8\", BCP 53,\
    \ RFC 3180, September 2001.\n   [RFC3194]       Durand, A. and C. Huitema, \"\
    The H-Density Ratio for\n                   Address Assignment Efficiency An Update\
    \ on the H\n                   ratio\", RFC 3194, November 2001.\n   [RFC3315]\
    \       Droms, R., Bound, J., Volz, B., Lemon, T., Perkins,\n                \
    \   C., and M. Carney, \"Dynamic Host Configuration\n                   Protocol\
    \ for IPv6 (DHCPv6)\", RFC 3315, July 2003.\n   [RFC3484]       Draves, R., \"\
    Default Address Selection for Internet\n                   Protocol version 6\
    \ (IPv6)\", RFC 3484, February 2003.\n   [RFC3531]       Blanchet, M., \"A Flexible\
    \ Method for Managing the\n                   Assignment of Bits of an IPv6 Address\
    \ Block\",\n                   RFC 3531, April 2003.\n   [RFC3587]       Hinden,\
    \ R., Deering, S., and E. Nordmark, \"IPv6\n                   Global Unicast\
    \ Address Format\", RFC 3587,\n                   August 2003.\n   [RFC3627] \
    \      Savola, P., \"Use of /127 Prefix Length Between\n                   Routers\
    \ Considered Harmful\", RFC 3627,\n                   September 2003.\n   [RFC3633]\
    \       Troan, O. and R. Droms, \"IPv6 Prefix Options for\n                  \
    \ Dynamic Host Configuration Protocol (DHCP) version\n                   6\",\
    \ RFC 3633, December 2003.\n   [RFC3701]       Fink, R. and R. Hinden, \"6bone\
    \ (IPv6 Testing Address\n                   Allocation) Phaseout\", RFC 3701,\
    \ March 2004.\n   [RFC3736]       Droms, R., \"Stateless Dynamic Host Configuration\n\
    \                   Protocol (DHCP) Service for IPv6\", RFC 3736,\n          \
    \         April 2004.\n   [RFC3879]       Huitema, C. and B. Carpenter, \"Deprecating\
    \ Site Local\n                   Addresses\", RFC 3879, September 2004.\n   [RFC3956]\
    \       Savola, P. and B. Haberman, \"Embedding the Rendezvous\n             \
    \      Point (RP) Address in an IPv6 Multicast Address\",\n                  \
    \ RFC 3956, November 2004.\n   [RFC3971]       Arkko, J., Kempf, J., Zill, B.,\
    \ and P. Nikander,\n                   \"SEcure Neighbor Discovery (SEND)\", RFC\
    \ 3971,\n                   March 2005.\n   [RFC4192]       Baker, F., Lear, E.,\
    \ and R. Droms, \"Procedures for\n                   Renumbering an IPv6 Network\
    \ without a Flag Day\",\n                   RFC 4192, September 2005.\n   [RFC4193]\
    \       Hinden, R. and B. Haberman, \"Unique Local IPv6\n                   Unicast\
    \ Addresses\", RFC 4193, October 2005.\n   [RFC4218]       Nordmark, E. and T.\
    \ Li, \"Threats Relating to IPv6\n                   Multihoming Solutions\",\
    \ RFC 4218, October 2005.\n   [RFC4219]       Lear, E., \"Things Multihoming in\
    \ IPv6 (MULTI6)\n                   Developers Should Think About\", RFC 4219,\n\
    \                   October 2005.\n   [RFC4271]       Rekhter, Y., Li, T., and\
    \ S. Hares, \"A Border Gateway\n                   Protocol 4 (BGP-4)\", RFC 4271,\
    \ January 2006.\n   [RFC4291]       Hinden, R. and S. Deering, \"IP Version 6\
    \ Addressing\n                   Architecture\", RFC 4291, February 2006.\n  \
    \ [RFC4477]       Chown, T., Venaas, S., and C. Strauf, \"Dynamic Host\n     \
    \              Configuration Protocol (DHCP): IPv4 and IPv6 Dual-\n          \
    \         Stack Issues\", RFC 4477, May 2006.\n   [RFC4798]       De Clercq, J.,\
    \ Ooms, D., Prevost, S., and F. Le\n                   Faucheur, \"Connecting\
    \ IPv6 Islands over IPv4 MPLS\n                   Using IPv6 Provider Edge Routers\
    \ (6PE)\", RFC 4798,\n                   February 2007.\n   [RFC4862]       Thomson,\
    \ S., Narten, T., and T. Jinmei, \"IPv6\n                   Stateless Address\
    \ Autoconfiguration\", RFC 4862,\n                   September 2007.\n   [RFC4866]\
    \       Arkko, J., Vogt, C., and W. Haddad, \"Enhanced Route\n               \
    \    Optimization for Mobile IPv6\", RFC 4866, May 2007.\n   [RFC4941]       Narten,\
    \ T., Draves, R., and S. Krishnan, \"Privacy\n                   Extensions for\
    \ Stateless Address Autoconfiguration in\n                   IPv6\", RFC 4941,\
    \ September 2007.\n   [RFC5214]       Templin, F., Gleeson, T., and D. Thaler,\
    \ \"Intra-Site\n                   Automatic Tunnel Addressing Protocol (ISATAP)\"\
    ,\n                   RFC 5214, March 2008.\n   [RFC5157]       Chown, T., \"\
    IPv6 Implications for Network Scanning\",\n                   RFC 5157, March\
    \ 2008.\n   [SHIM6]         IETF, \"Site Multihoming by IPv6 Intermediation\n\
    \                   (shim6) Charter\", <http://www.ietf.org/html.charters/\n \
    \                  shim6-charter.html>.\n   [ARIN]          ARIN, \"ARIN Number\
    \ Resource Policy Manual\",\n                   Version 2008.4, September 2008,\n\
    \                   <http://www.arin.net/policy/nrpm.html>.\n   [RIPE_Nov07] \
    \   APNIC, ARIN, RIPE NCC, \"IPv6 Address Allocation and\n                   Assignment\
    \ Policy\", ripe-421, November 2007,\n                   <http://www.ripe.net/ripe/docs/ipv6policy.html>.\n\
    \   [RIPE_Jul07]    APNIC, ARIN, RIPE NCC, \"IPv6 Address Allocation and\n   \
    \                Assignment Policy\", ripe-412, July 2007,\n                 \
    \  <http://www.ripe.net/ripe/docs/ripe-412.html>.\n   [APNIC_IPv6]    APNIC, \"\
    IPv6 Address Allocation and Assignment\n                   Policy\", APNIC-089,\
    \ August 2008, <http://\n                   www.apnic.net/policy/ipv6-address-policy.html>.\n\
    \   [LACNIC_IPv6]   LACNIC, \"Internet Resource Management Policies in\n     \
    \              Latin America and the Caribbean: IPv6 Address\n               \
    \    Allocation and Assignment Policy\",\n                   <http://lacnic.net/en/politicas/ipv6.html>.\n\
    \   [AFRINIC_IPv6]  AfriNIC, \"AfriNIC IPv6 Address Allocation and\n         \
    \          Assignment Policy\", March 2004,\n                   <http://www.afrinic.net/docs/policies/\n\
    \                   afpol-v6200407-000.htm>.\n   [THINKABOUT]    Chown, T., Thompson,\
    \ M., Ford, A., and S. Venaas,\n                   \"Things to think about when\
    \ Renumbering an IPv6\n                   network\", Work in Progress, March 2007.\n"
- title: Appendix A.  Case Studies
  contents:
  - "Appendix A.  Case Studies\n   This appendix contains two case studies for IPv6\
    \ addressing schemas\n   that have been based on the statements and considerations\
    \ of this\n   document.  These case studies illustrate how this document has been\n\
    \   used in two specific network scenarios.  The case studies may serve\n   as\
    \ basic considerations for an administrator who designs the IPv6\n   addressing\
    \ schema for an enterprise or ISP network, but are not\n   intended to serve as\
    \ a general design proposal for every kind of IPv6\n   network.  All subnet sizes\
    \ used in this appendix are for practical\n   visualization and do not dictate\
    \ RIR policy.\n"
- title: A.1.  Enterprise Considerations
  contents:
  - "A.1.  Enterprise Considerations\n   In this section, one considers a case study\
    \ of a campus network that\n   is deploying IPv6 in parallel with existing IPv4\
    \ protocols in a dual-\n   stack environment.  The specific example is the University\
    \ of\n   Southampton (UK), focusing on a large department within that network.\n\
    \   The deployment currently spans around 1,000 hosts and over 1,500\n   users.\n"
- title: A.1.1.  Obtaining General IPv6 Network Prefixes
  contents:
  - "A.1.1.  Obtaining General IPv6 Network Prefixes\n   In the case of a campus network,\
    \ the site will typically take its\n   connectivity from its National Research\
    \ and Education Network (NREN).\n   Southampton connects to JANET, the UK academic\
    \ network, via its local\n   regional network LeNSE (Learning Network South East).\
    \  JANET\n   currently has a /32 allocation from RIPE NCC.  The current\n   recommended\
    \ practice is for sites to receive a /48 allocation; on\n   this basis, Southampton\
    \ has received such a prefix for its own use.\n   The regional network also uses\
    \ its own allocation from the NREN\n   provider.\n   No ULA addressing is used\
    \ on site.  The campus is not multihomed\n   (JANET is the sole provider), nor\
    \ does it expect to change service\n   provider, and thus does not plan to use\
    \ ULAs for the (perceived)\n   benefit of easing network renumbering.  Indeed,\
    \ the campus has\n   renumbered following the aforementioned renumbering procedure\n\
    \   [RFC4192] on two occasions, and this has proven adequate (with\n   provisos\
    \ documented in [THINKABOUT]).  The campus does not see any\n   need to deploy\
    \ ULAs for in-band or out-of-band network management;\n   there are enough IPv6\
    \ prefixes available in the site allocation for\n   the infrastructure.  In some\
    \ cases, use of private IP address space\n   in IPv4 creates problems, so University\
    \ of Southampton believes that\n   the availability of ample global IPv6 address\
    \ space for\n   infrastructure may be a benefit for many sites.\n   No 6bone addressing\
    \ is used on site any more.  Since the 6bone\n   phaseout of June 2006 [RFC3701],\
    \ most transit ISPs have begun\n   filtering attempted use of such prefixes.\n\
    \   Southampton does participate in global and organizational scope IPv6\n   multicast\
    \ networks.  Multicast address allocations are not discussed\n   here as they\
    \ are not in scope for the document.  It is noted that\n   IPv6 has advantages\
    \ for multicast group address allocation.  In IPv4,\n   a site needs to use techniques\
    \ like GLOP [RFC3180] to pick a globally\n   unique multicast group to use.  This\
    \ is problematic if the site does\n   not use the Border Gateway Protocol (BGP)\
    \ [RFC4271] and does not have\n   an Autonomous System Number (ASN).  In IPv6,0\
    \ unicast-prefix-based\n   IPv6 multicast addresses empower a site to pick a globally\
    \ unique\n   group address based on its own unicast site or link prefix.\n   Embedded-RP\
    \ is also in use, is seen as a potential advantage for IPv6\n   and multicast,\
    \ and has been tested successfully across providers\n   between sites (including\
    \ paths to/from the US and UK).\n"
- title: A.1.2.  Forming an Address (Subnet) Allocation Plan
  contents:
  - "A.1.2.  Forming an Address (Subnet) Allocation Plan\n   The campus has a /16\
    \ prefix for IPv4 use; in principle, 256 subnets\n   of 256 addresses.  In reality,\
    \ the subnetting is muddier, because of\n   concerns of IPv4 address conservation;\
    \ subnets are sized to the hosts\n   within them, e.g., a /26 IPv4 prefix is used\
    \ if a subnet has 35 hosts\n   in it.  While this is efficient, it increases management\
    \ burden when\n   physical deployments change, and IPv4 subnets require resizing\
    \ (up or\n   down), even when DHCP is in use.\n   The /48 IPv6 prefix is considerably\
    \ larger than the IPv4 allocation\n   already in place at the site.  It is loosely\
    \ equivalent to a 'Class\n   A' IPv4 prefix in that it has 2^16 (over 65,000)\
    \ subnets, but has an\n   effectively unlimited subnet address size (2^64) compared\
    \ to 256 in\n   the IPv4 equivalent.  The increased subnet size means that /64\
    \ IPv6\n   prefixes can be used on all subnets, without any requirement to\n \
    \  resize them at a later date.  The increased subnet volume allows\n   subnets\
    \ to be allocated more generously to schools and departments in\n   the campus.\
    \  While address conservation is still important, it is no\n   longer an impediment\
    \ to network management.  Rather, address (subnet)\n   allocation is more about\
    \ embracing the available address space and\n   planning for future expansion.\n\
    \   In a dual-stack network, it was chosen to deploy the IP subnets\n   congruently\
    \ for IPv4 and IPv6.  This is because the systems are still\n   in the same administrative\
    \ domains and the same geography.  It is not\n   expected to have IPv6-only subnets\
    \ in production use for a while yet,\n   outside the test beds and some early\
    \ Mobile IPv6 trials.  With\n   congruent addressing, the firewall policies are\
    \ also aligned for IPv4\n   and IPv6 traffic at the site border.\n   The subnet\
    \ allocation plan required a division of the address space\n   per school or department.\
    \  Here, a /56 was allocated to the school\n   level of the university; there\
    \ are around 30 schools currently.  A\n   /56 of IPv6 address space equates to\
    \ 256 /64 subnet allocations.\n   Further /56 allocations were made for central\
    \ IT infrastructure, the\n   network infrastructure, and the server side systems.\n"
- title: A.1.3.  Other Considerations
  contents:
  - "A.1.3.  Other Considerations\n   The network uses a Demilitarized Zone (DMZ)\
    \ topology for some level\n   of protection of 'public' systems.  Again, this\
    \ topology is congruent\n   with the IPv4 network.\n   There are no specific transition\
    \ methods deployed internally to the\n   campus; everything is using the conventional\
    \ dual-stack approach.\n   There is no use of ISATAP [RFC5214] for example.\n\
    \   For the Mobile IPv6 early trials, there is one allocated prefix for\n   Home\
    \ Agent (HA) use.  However, there has been no detailed\n   consideration yet regarding\
    \ how Mobile IPv6 usage may grow, and\n   whether more subnets (or even every\
    \ subnet) will require HA support.\n   The university operates a tunnel broker\
    \ [RFC3053] service on behalf\n   of the United Kingdom Education and Research\
    \ Network Association\n   (UKERNA) for JANET sites.  This uses separate address\
    \ space from\n   JANET, not the university site allocation.\n"
- title: A.1.4.  Node Configuration Considerations
  contents:
  - "A.1.4.  Node Configuration Considerations\n   Currently, stateless autoconfiguration\
    \ is used on most subnets for\n   IPv6 hosts.  There is no DHCPv6 service deployed\
    \ yet, beyond tests of\n   early code releases.  It is planned to deploy DHCPv6\
    \ for address\n   assignment when robust client and server code is available (at\
    \ the\n   time of writing, the potential for this looks good, e.g., via the\n\
    \   Internet Systems Consortium (ISC) implementation).  University of\n   Southampton\
    \ is also investigating a common integrated DHCP/DNS\n   management platform,\
    \ even if the servers themselves are not co-\n   located, including integrated\
    \ DHCPv4 and DHCPv6 server configuration,\n   as discussed in [RFC4477].  Currently,\
    \ clients with statelessly\n   autoconfigured addresses are added to the DNS manually,\
    \ though\n   dynamic DNS is an option.  The network administrators would prefer\n\
    \   the use of DHCP because they believe it gives them more management\n   control.\n\
    \   Regarding the implications of the larger IPv6 subnet address space on\n  \
    \ scanning attacks [RFC5157], it is noted that all the hosts are dual-\n   stack,\
    \ and thus are potentially exposed over both protocols anyway.\n   All addresses\
    \ are published in DNS, and the site does not operate a\n   two-faced DNS.\n \
    \  Currently, there is internal usage of RFC 4941 privacy addresses\n   [RFC4941]\
    \ (certain platforms ship with it on by default), but network\n   administrators\
    \ may desire to disable this (perhaps via DHCP) to ease\n   management complexity.\
    \  However, it is desired to determine the\n   feasibility of this on all systems,\
    \ e.g., for guests on wireless LAN\n   or other user-maintained systems.  Network\
    \ management and monitoring\n   should be simpler without RFC 4941 in operation,\
    \ in terms of\n   identifying which physical hosts are using which addresses.\
    \  Note\n   that RFC 4941 is only an issue for outbound connections, and that\n\
    \   there is potential to assign privacy addresses via DHCPv6.\n   Manually configured\
    \ server addresses are used to avoid address\n   changes based upon change of\
    \ network adaptor.  With IPv6 you can pick\n   ::53 for a DNS server, or you can\
    \ pick 'random' addresses for\n   obfuscation, though that's not an issue for\
    \ publicly advertised\n   addresses (dns, mx, web, etc.).\n"
- title: A.2.  Service Provider Considerations
  contents:
  - "A.2.  Service Provider Considerations\n   In this section an IPv6 addressing\
    \ schema is sketched that could\n   serve as an example for an Internet Service\
    \ Provider.\n   Appendix A.2.1 starts with some thoughts regarding objective\n\
    \   requirements of such an addressing schema and derives a few general\n   rules\
    \ of thumb that have to be kept in mind when designing an ISP\n   IPv6 addressing\
    \ plan.\n   Appendix A.2.2 illustrates the findings of Appendix A.2.1 with an\n\
    \   exemplary IPv6 addressing schema for an MPLS-based ISP offering\n   Internet\
    \ services as well as network access services to several\n   millions of customers.\n"
- title: A.2.1.  Investigation of Objective Requirements for an IPv6 Addressing
  contents:
  - "A.2.1.  Investigation of Objective Requirements for an IPv6 Addressing\n    \
    \    Schema of a Service Provider\n   The first step of the IPv6 addressing plan\
    \ design for a service\n   provider should identify all technical, operational,\
    \ political, and\n   business requirements that have to be satisfied by the services\n\
    \   supported by this addressing schema.\n   According to the different technical\
    \ constraints and business models\n   as well as the different weights of these\
    \ requirements (from the\n   point of view of the corresponding service provider),\
    \ it is very\n   likely that different addressing schemas will be developed and\n\
    \   deployed by different ISPs.  Nevertheless, the addressing schema of\n   Appendix\
    \ A.2.2 is one possible example.\n   For this document, it is assumed that our\
    \ exemplary ISP has to\n   fulfill several roles for its customers such as:\n\
    \   o  Local Internet Registry\n   o  Network Access Provider\n   o  Internet\
    \ Service Provider\n"
- title: A.2.1.1.  Recommendations for an IPv6 Addressing Schema from the LIR
  contents:
  - "A.2.1.1.  Recommendations for an IPv6 Addressing Schema from the LIR\n      \
    \    Perspective of the Service Provider\n   In its role as Local Internet Registry\
    \ (LIR), the service provider\n   has to care about the policy constraints of\
    \ the RIRs and the\n   standards of the IETF regarding IPv6 addressing.  In this\
    \ context,\n   the following basic recommendations have to be considered and should\n\
    \   be satisfied by the IPv6 address allocation plan of a service\n   provider:\n\
    \   o  As recommended in RFC 3177 [RFC3177] and in several RIR policies,\n   \
    \   \"Common\" customers sites (normally private customers) should\n      receive\
    \ a /48 prefix from the aggregate of the service provider.\n      (Note: The addressing\
    \ plan must be flexible enough and take into\n      account the possible change\
    \ of the minimum allocation size for end\n      users currently under definition\
    \ by the RIRs.)\n   o  \"Big customers\" (like big enterprises, governmental agencies,\n\
    \      etc.) may receive shorter prefixes according to their needs, when\n   \
    \   their needs can be documented and justified to the RIR.\n   o  The IPv6 address\
    \ allocation schema has to be able to meet the HD-\n      ratio that is proposed\
    \ for IPv6.  This requirement corresponds to\n      the demand for an efficient\
    \ usage of the IPv6 address aggregate by\n      the service provider.  (Note:\
    \ The currently valid IPv6 HD-ratio of\n      0.94 means an effective usage rate\
    \ of about 22% of a /20 prefix of\n      the service provider, on the basis of\
    \ /56 assignments.)\n   o  All assignments to customers have to be documented\
    \ and stored into\n      a database that can also be queried by the RIR.\n   o\
    \  The LIR has to make available the means for supporting the reverse\n      DNS\
    \ mapping of the customer prefixes.\n   o  IPv6 Address Allocation and Assignment\
    \ Policies can be found at\n      RIRs and are similar in many aspects.  See [RIPE_Nov07],\n\
    \      [RIPE_Jul07], [APNIC_IPv6], [LACNIC_IPv6], [AFRINIC_IPv6], and\n      Section\
    \ 6 of [ARIN].\n"
- title: A.2.1.2.  IPv6 Addressing Schema Recommendations from the ISP
  contents:
  - "A.2.1.2.  IPv6 Addressing Schema Recommendations from the ISP\n          Perspective\
    \ of the Service Provider\n   From the ISP perspective, the following basic requirements\
    \ can be\n   identified:\n   o  The IPv6 address allocation schema must be able\
    \ to realize a\n      maximal aggregation of all IPv6 address delegations to customers\n\
    \      into the address aggregate of the service provider.  Only this\n      provider\
    \ aggregate will be routed and injected into the global\n      routing table (DFZ,\
    \ \"Default-Free Zone\").  This strong aggregation\n      keeps the routing tables\
    \ of the DFZ small and eases filtering and\n      access control very much.\n\
    \   o  The IPv6 addressing schema of the SP should contain optimal\n      flexibility\
    \ since the infrastructure of the SP will change over\n      time with new customers,\
    \ transport technologies, and business\n      cases.  The requirement of optimal\
    \ flexibility is contrary to the\n      recommendation of strong IPv6 address\
    \ aggregation and efficient\n      address usage, but each SP has to decide which\
    \ of these\n      requirements to prioritize.\n   o  While keeping the multilevel\
    \ network hierarchy of an ISP in mind,\n      note that due to addressing efficiency\
    \ reasons, not all hierarchy\n      levels can and should be mapped into the IPv6\
    \ addressing schema of\n      an ISP.  Sometimes it is much better to implement\
    \ a more \"flat\"\n      addressing for the ISP network than to lose big chunks\
    \ of the IPv6\n      address aggregate in addressing each level of network hierarchy.\n\
    \      (Note: In special cases, it is even recommended for really \"small\"\n\
    \      ISPs to design and implement a totally flat IPv6 addressing schema\n  \
    \    without any level of hierarchy.)\n   o  A decoupling of provider network\
    \ addressing and customer\n      addressing is recommended.  (Note: A strong aggregation\
    \ (e.g., on\n      POP, Aggregation Router (AG), or Label Edge Router (LER) level)\n\
    \      limits the numbers of customer routes that are visible within the\n   \
    \   ISP network, but also brings down the efficiency of the IPv6\n      addressing\
    \ schema.  That's why each ISP has to decide how many\n      internal aggregation\
    \ levels it wants to deploy.)\n"
- title: A.2.1.3.  IPv6 Addressing Schema Recommendations from the Network Access
  contents:
  - "A.2.1.3.  IPv6 Addressing Schema Recommendations from the Network Access\n  \
    \        Provider Perspective of the Service Provider\n   As already done for\
    \ the LIR and the ISP roles of the SP it is also\n   necessary to identify requirements\
    \ that come from its Network Access\n   Provider role.  Some of the basic requirements\
    \ are:\n   o  The IPv6 addressing schema of the SP, it must be chosen in a way\n\
    \      that it can handle new requirements that are triggered from\n      customer\
    \ side.  For instance, this can be the customer's growing\n      needs for IPv6\
    \ addresses as well as customer-driven modifications\n      within the access\
    \ network topology (e.g., when the customer moves\n      from one point of network\
    \ attachment (POP) to another).  (See\n      Appendix A.2.3.4, \"Changing the\
    \ Point of Network Attachment\".)\n   o  For each IPv6 address assignment to customers,\
    \ a \"buffer zone\"\n      should be reserved that allows the customer to grow\
    \ in its\n      addressing range without renumbering or assignment of additional\n\
    \      prefixes.\n   o  The IPv6 addressing schema of the SP must deal with multiple\n\
    \      attachments of a single customer to the SP network infrastructure\n   \
    \   (i.e., multihomed network access with the same SP).\n   These few requirements\
    \ are only part of the requirements a service\n   provider has to investigate\
    \ and keep in mind during the definition\n   phase of its addressing architecture.\
    \  Each SP will most likely add\n   more constraints to this list.\n"
- title: A.2.1.4.  A Few Rules of Thumb for Designing an ISP IPv6 Addressing
  contents:
  - "A.2.1.4.  A Few Rules of Thumb for Designing an ISP IPv6 Addressing\n       \
    \   Architecture\n   As a result of the above enumeration of requirements regarding\
    \ an ISP\n   IPv6 addressing plan, the following design \"rules of thumb\" have\
    \ been\n   derived:\n   o  No \"One size fits all\".  Each ISP must develop its\
    \ own IPv6\n      address allocation schema depending on its concrete business\n\
    \      needs.  It is not practical to design one addressing plan that\n      fits\
    \ for all kinds of ISPs (small / big, routed / MPLS-based,\n      access / transit,\
    \ LIR / No LIR, etc.).\n   o  The levels of IPv6 address aggregation within the\
    \ ISP addressing\n      schema should strongly correspond to the implemented network\n\
    \      structure, and their number should be minimized because of\n      efficiency\
    \ reasons.  It is assumed that the SP's own\n      infrastructure will be addressed\
    \ in a fairly flat way, whereas\n      part of the customer addressing architecture\
    \ should contain\n      several levels of aggregation.\n   o  Keep the number\
    \ of IPv6 customer routes inside your network as\n      small as possible.  A\
    \ totally flat customer IPv6 addressing\n      architecture without any intermediate\
    \ aggregation level will lead\n      to lots of customer routes inside the SP\
    \ network.  A fair trade-\n      off between address aggregation levels (and hence\
    \ the size of the\n      internal routing table of the SP) and address conservation\
    \ of the\n      addressing architecture has to be found.\n   o  The ISP IPv6 addressing\
    \ schema should provide maximal flexibility.\n      This has to be realized for\
    \ supporting different sizes of customer\n      IPv6 address aggregates (\"big\"\
    \ customers vs. \"small\" customers) as\n      well as to allow future growth\
    \ rates (e.g., of customer\n      aggregates) and possible topological or infrastructural\
    \ changes.\n   o  A limited number of aggregation levels and sizes of customer\n\
    \      aggregates will ease the management of the addressing schema.\n      This\
    \ has to be weighed against the previous \"rule of thumb\" --\n      flexibility.\n"
- title: A.2.2.  Exemplary IPv6 Address Allocation Plan for a Service Provider
  contents:
  - "A.2.2.  Exemplary IPv6 Address Allocation Plan for a Service Provider\n   In\
    \ this example, the service provider is assumed to operate an MPLS-\n   based\
    \ backbone and to implement IPv6 Provider Edge Routers (6PE)\n   [RFC4798] to\
    \ provide IPv6 backbone transport between the different\n   locations (POPs) of\
    \ a fully dual-stacked network access and\n   aggregation area.\n   In addition,\
    \ it is assumed that the service provider:\n   o  has received a /20 from its\
    \ RIR\n   o  operates its own LIR\n   o  has to address its own IPv6 infrastructure\n\
    \   o  delegates prefixes from this aggregate to its customers\n   This addressing\
    \ schema should illustrate how the /20 IPv6 prefix of\n   the SP can be used to\
    \ address the SP's own infrastructure and to\n   delegate IPv6 prefixes to its\
    \ customers, following the above-\n   mentioned requirements and rules of thumb\
    \ as far as possible.\n   The figure below summarizes the device types in an SP\
    \ network and the\n   typical network design of a MPLS-based service provider.\
    \  The network\n   hierarchy of the SP has to be taken into account for the design\
    \ of an\n   IPv6 addressing schema; it defines the basic shape of the addressing\n\
    \   schema and the various levels of aggregation.\n   +------------------------------------------------------------------+\n\
    \   |               LSRs of the MPLS Backbone of the SP                |\n   +------------------------------------------------------------------+\n\
    \      |        |             |              |                 |\n      |    \
    \    |             |              |                 |\n   +-----+  +-----+   \
    \  +--------+     +--------+         +--------+\n   | LER |  | LER |     | LER-BB\
    \ |     | LER-BB |         | LER-BB |\n   +-----+  +-----+     +--------+    \
    \ +--------+         +--------+\n    |   |    |   |        |    |      /     |\
    \              |     |\n    |   |    |   |        |    |     /      |        \
    \      |     |\n    |   |    |   |  +------+  +------+   +------+          | \
    \    |\n    |   |    |   |  |BB-RAR|  |BB-RAR|   |  AG  |          |     |\n \
    \   |   |    |   |  +------+  +------+   +------+          |     |\n    |   |\
    \    |   |    |  |      |  |      |    |           |     |\n    |   |    |   |\
    \    |  |      |  |      |    |           |     |\n    |   |    |   |    |  |\
    \      |  | +-----+  +-----+  +-----+  +-----+\n    |   |    |   |    |  |   \
    \   |  | | RAR |  | RAR |  | RAR |  | RAR |\n    |   |    |   |    |  |      |\
    \  | +-----+  +-----+  +-----+  +-----+\n    |   |    |   |    |  |      |  |\
    \  |   |    |   |    |   |    |   |\n    |   |    |   |    |  |      |  |  | \
    \  |    |   |    |   |    |   |\n   +-------------------------------------------------------------------+\n\
    \   |                       Customer networks                           |\n  \
    \ +-------------------------------------------------------------------+\n   LSR\
    \     Label Switch Router\n   LER     Label Edge Router\n   LER-BB  Broadband\
    \ Label Edge Router\n   RAR     Remote Access Router\n   BB-RAR  Broadband Remote\
    \ Access Router\n   AG      Aggregation Router\n                    Exemplary\
    \ Service Provider Network\n   The following should be taken into consideration\
    \ when making the\n   basic design decisions for the exemplary service provider\
    \ IPv6\n   addressing plan regarding customer prefixes.\n   o  The prefixes assigned\
    \ to all customers behind the same LER (or\n      LER-BB) are aggregated under\
    \ one LER prefix.  This ensures that\n      the number of labels that have to\
    \ be used for 6PE is limited and\n      hence provides strong MPLS label conservation.\n\
    \   o  The /20 prefix of the SP is separated into 3 different pools that\n   \
    \   are used to allocate IPv6 prefixes to the customers of the SP:\n      1. \
    \ A pool (e.g., /24) for satisfying the addressing needs of\n          really\
    \ \"big\" customers (as defined in Appendix A.2.2.1.1) that\n          need IPv6\
    \ prefixes larger than /48 (e.g., /32).  These\n          customers are assumed\
    \ to be connected to several POPs of the\n          access network, so that this\
    \ customer prefix will be visible\n          in each of these POPs.\n      2.\
    \  A pool (e.g., /24) for the LERs with direct customer\n          connections\
    \ (e.g., dedicated line access) and without an\n          additional aggregation\
    \ area between the customer and the LER.\n          (These LERs are mostly connected\
    \ to a limited number of\n          customers because of the limited number of\
    \ interfaces/ports.)\n      3.  A larger pool (e.g., 14*/24) for LERs (or LER-BBs)\
    \ that serve\n          a high number of customers that are normally connected\
    \ via\n          some kind of aggregation network (e.g., DSL customers behind\
    \ a\n          BB-RAR or dial-in customers behind a RAR).\n   o  The IPv6 address\
    \ delegation within each pool (the end customer\n      delegation or the aggregates\
    \ that are dedicated to the LER itself)\n      should be chosen with an additional\
    \ buffer zone of 100-300% for\n      future growth.  That is, 1 or 2 additional\
    \ prefix bits should be\n      reserved according to the expected future growth\
    \ rate of the\n      corresponding customer or the corresponding network device\n\
    \      aggregate.\n"
- title: A.2.2.1.  Defining an IPv6 Address Allocation Plan for Customers of the
  contents:
  - "A.2.2.1.  Defining an IPv6 Address Allocation Plan for Customers of the\n   \
    \       Service Provider\n"
- title: A.2.2.1.1.  "Big" Customers
  contents:
  - "A.2.2.1.1.  \"Big\" Customers\n   The SP's \"big\" customers receive their prefix\
    \ from the /24 IPv6\n   address aggregate that has been reserved for their \"\
    big\" customers.\n   A customer is considered a \"big\" customer if it has a very\
    \ complex\n   network infrastructure and/or huge IPv6 address needs (e.g., because\n\
    \   of very large customer numbers) and/or several uplinks to different\n   POPs\
    \ of the SP network.\n   The assigned IPv6 address prefixes can have a prefix\
    \ length in the\n   range 32-48 and for each assignment a 100 or 300% future growing\
    \ zone\n   is marked as \"reserved\" for this customer.  For instance, this means\n\
    \   that with a delegation of a /34 to a customer the corresponding /32\n   prefix\
    \ (which contains this /34) is reserved for the customer's\n   future usage.\n\
    \   The prefixes for the \"big\" customers can be chosen from the\n   corresponding\
    \ \"big customer\" pool by either using an equidistant\n   algorithm or using\
    \ mechanisms similar to the Sparse Allocation\n   Algorithm (SAA) [RIPE_Nov07].\n"
- title: A.2.2.1.2.  "Common" Customers
  contents:
  - "A.2.2.1.2.  \"Common\" Customers\n   All customers that are not \"big\" customers\
    \ are considered as \"common\"\n   customers.  They represent the majority of\
    \ customers, hence they\n   receive a /48 out of the IPv6 customer address pool\
    \ of the LER where\n   they are directly connected or aggregated.\n   Again a\
    \ 100-300% future growing IPv6 address range is reserved for\n   each customer,\
    \ so that a \"common\" customer receives a /48 allocation\n   but has a /47 or\
    \ /46 reserved.\n   (Note: If it is obvious that the likelihood of needing a /47\
    \ or /46\n   in the future is very small for a \"common\" customer, then no growing\n\
    \   buffer should be reserved for it, and only a /48 will be assigned\n   without\
    \ any growing buffer.)\n   In the network access scenarios where the customer\
    \ is directly\n   connected to the LER, the customer prefix is directly taken\
    \ out of\n   the customer IPv6 address aggregate (e.g., /38) of the corresponding\n\
    \   LER.\n   For other cases (e.g., the customer is attached to a RAR that is\n\
    \   itself aggregated to an AG or to a LER-BB), at least 2 different\n   approaches\
    \ are possible.\n   1)  Mapping of Aggregation Network Hierarchy into Customer\
    \ IPv6\n       Addressing Schema.  The aggregation network hierarchy could be\n\
    \       mapped into the design of the customer prefix pools of each\n       network\
    \ level in order to achieve a maximal aggregation at the\n       LER level as\
    \ well as at the intermediate levels.  (Example:\n       Customer - /48, RAR -\
    \ /38, AG - /32, LER-BB - /30).  At each\n       network level, an adequate growing\
    \ zone should be reserved.\n       (Note: Of course, this approach requires some\
    \ \"fine tuning\" of\n       the addressing schema based on a very good knowledge\
    \ of the\n       Service Provider network topology including actual growing ranges\n\
    \       and rates.)\n       When the IPv6 customer address pool of a LER (or another\
    \ device\n       of the aggregation network -- AG or RAR) is exhausted, the\n\
    \       related LER (or AG or RAR) prefix is shortened by 1 or 2 bits\n      \
    \ (e.g., from /38 to /37 or /36) so that the originally reserved\n       growing\
    \ zone can be used for further IPv6 address allocations to\n       customers.\
    \  In the case where this growing zone is exhausted as\n       well, a new prefix\
    \ range from the corresponding pool of the next-\n       higher hierarchy level\
    \ can be requested.\n   2)  \"Flat\" Customer IPv6 Addressing Schema.  The other\
    \ option is to\n       allocate all the customer prefixes directly out of the\
    \ customer\n       IPv6 address pool of the LER where the customers are attached\
    \ and\n       aggregated and to ignore the intermediate aggregation network\n\
    \       infrastructure.  Of course, this approach leads to a higher\n       amount\
    \ of customer routes at the LER and aggregation network\n       level, but it\
    \ takes a great amount of complexity out of the\n       addressing schema.  Nevertheless,\
    \ the aggregation of the customer\n       prefixes to one prefix at the LER level\
    \ is realized as required\n       above.\n   Note: The handling of changes (e.g.,\
    \ technically triggered changes)\n   within the ISP access network is discussed\
    \ briefly in\n   Appendix A.2.3.5.\n   If the actual observed growing rates show\
    \ that the reserved growing\n   zones are not needed, then they can be freed and\
    \ used for assignments\n   for prefix pools to other devices at the same level\
    \ of the network\n   hierarchy.\n"
- title: A.2.2.2.  Defining an IPv6 Address Allocation Plan for the Service
  contents:
  - "A.2.2.2.  Defining an IPv6 Address Allocation Plan for the Service\n        \
    \  Provider Network Infrastructure\n   For the IPv6 addressing of the SP's own\
    \ network infrastructure, a /32\n   (or /40) from the \"big\" customers address\
    \ pool can be chosen.\n   This SP infrastructure prefix is used to code the network\n\
    \   infrastructure of the SP by assigning a /48 to every POP/location and\n  \
    \ using (for instance) a /56 for coding the corresponding router within\n   this\
    \ POP.  Each SP internal link behind a router interface could be\n   coded using\
    \ a /64 prefix.  (Note: While it is suggested to choose a\n   /48 for addressing\
    \ the POP/location of the SP network, it is left to\n   each SP to decide what\
    \ prefix length to assign to the routers and\n   links within the POP.)\n   The\
    \ IIDs of the router interfaces may be generated by using EUI-64 or\n   through\
    \ plain manual configuration, e.g., for coding additional\n   network or operational\
    \ information into the IID.\n   Again, it is assumed that 100-300% growing zones\
    \ are needed for each\n   level of network hierarchy, and additional prefix bits\
    \ may be\n   assigned to POPs and/or routers if needed.\n   Loopback interfaces\
    \ of routers may be chosen from the first /64 of\n   the /56 router prefix (in\
    \ the example above).\n   (Note: The /32 (or /40) prefix that has been chosen\
    \ for addressing\n   the SP's own IPv6 network infrastructure leaves enough space\
    \ to code\n   additional functionalities like security levels or private and test\n\
    \   infrastructure, although such approaches haven't been considered in\n   more\
    \ detail for the above-described SP until now.)\n   Point-to-point links to customers\
    \ (e.g., PPP links, dedicated lines,\n   etc.) may be addressed using /126 prefixes\
    \ out of the first /64 of\n   the access routers that could be reserved for this\
    \ reason.\n"
- title: A.2.3.  Additional Remarks
  contents:
  - 'A.2.3.  Additional Remarks

    '
- title: A.2.3.1.  ULA
  contents:
  - "A.2.3.1.  ULA\n   There are no compelling reasons for service providers to use\
    \ ULAs.\n   See Section 2.2.\n   ULAs could be used inside the SP network in order\
    \ to have an\n   additional \"site-local scoped\" IPv6 address for the SP's own\n\
    \   infrastructure, for instance, for network management reasons and in\n   order\
    \ to have an addressing schema that can't be reached from outside\n   the SP network.\n\
    \   When ULAs are used, it is possible to map the proposed internal IPv6\n   addressing\
    \ of the SP's own network infrastructure (as described in\n   Appendix A.2.2.2)\
    \ directly to the ULA addressing schema by\n   substituting the /48 POP prefix\
    \ with a /48 ULA site prefix.\n"
- title: A.2.3.2.  Multicast
  contents:
  - "A.2.3.2.  Multicast\n   IPv6 multicast-related addressing issues are out of the\
    \ scope of this\n   document.\n"
- title: A.2.3.3.  POP Multihoming
  contents:
  - "A.2.3.3.  POP Multihoming\n   POP multihoming (or better, LER multihoming) of\
    \ customers with the\n   same SP can be realized within the proposed IPv6 addressing\
    \ schema of\n   the SP by assigning multiple LER-dependent prefixes to this customer\n\
    \   (i.e., considering each customer location as a single customer) or by\n  \
    \ choosing a customer prefix out of the pool of \"big\" customers.  The\n   second\
    \ solution has the disadvantage that in every LER where the\n   customer is attached,\
    \ this prefix will appear inside the IGP routing\n   table, thus requiring an\
    \ explicit MPLS label.\n   Note: The negative effects (described above) of POP/LER\
    \ multihoming\n   on the addressing architecture in the SP access network are\
    \ not\n   resolved by implementing the Site Multihoming by IPv6 Intermediation\n\
    \   (SHIM6) approach.  SHIM6 only targets a mechanism for dealing with\n   multiple\
    \ prefixes in end systems.  The SP is expected to have\n   unaggregated customer\
    \ prefixes in its internal routing tables.\n"
- title: A.2.3.4.  Changing the Point of Network Attachment
  contents:
  - "A.2.3.4.  Changing the Point of Network Attachment\n   In the possible case that\
    \ a customer has to change its point of\n   network attachment to another POP/LER\
    \ within the ISP access network,\n   two different approaches can be applied,\
    \ assuming that the customer\n   uses PA addresses out of the SP aggregate:\n\
    \   1)  The customer has to renumber its network with an adequate\n       customer\
    \ prefix out of the aggregate of the corresponding LER/RAR\n       of its new\
    \ network attachment.  To minimize the administrative\n       burden for the customer,\
    \ the prefix should be of the same size as\n       the former.  This conserves\
    \ the IPv6 address aggregation within\n       the SP network (and the MPLS label\
    \ space) but adds additional\n       burden to the customer.  Hence, this approach\
    \ will most likely\n       only be chosen in the case of \"small customers\" with\
    \ temporary\n       addressing needs and/or prefix delegation with address\n \
    \      autoconfiguration.\n   2)  The customer does not need to renumber its network\
    \ and keeps its\n       address aggregate.\n       This approach leads to additional\
    \ more-specific routing entries\n       within the IGP routing table of the LER\
    \ and will hence consume\n       additional MPLS labels, but it is totally transparent\
    \ to the\n       customer.  Because this results in additional administrative\n\
    \       effort and will stress the router resources (label space, memory)\n  \
    \     of the ISP, this solution will only be offered to the most\n       valuable\
    \ customers of an ISP (e.g., \"big customers\" or\n       \"enterprise customers\"\
    ).\n       Nevertheless, the ISP again has to find a fair trade-off between\n\
    \       customer renumbering and sub-optimal address aggregation (i.e.,\n    \
    \   the generation of additional more-specific routing entries within\n      \
    \ the IGP and the waste of MPLS label space).\n"
- title: A.2.3.5.  Restructuring of SP (Access) Network and Renumbering
  contents:
  - "A.2.3.5.  Restructuring of SP (Access) Network and Renumbering\n   A technically\
    \ triggered restructuring of the SP (access) network (for\n   instance, because\
    \ of split of equipment or installation of new\n   equipment) should not lead\
    \ to a customer network renumbering.  This\n   challenge should be handled in\
    \ advance by an intelligent network\n   design and IPv6 address planning.\n  \
    \ In the worst case, the customer network renumbering could be avoided\n   through\
    \ the implementation of more-specific customer routes.  (Note:\n   Since this\
    \ kind of network restructuring will mostly happen within\n   the access network\
    \ (at the level) below the LER, the LER aggregation\n   level will not be harmed\
    \ and the more-specific routes will not\n   consume additional MPLS label space.)\n"
- title: A.2.3.6.  Extensions Needed for the Later IPv6 Migration Phases
  contents:
  - "A.2.3.6.  Extensions Needed for the Later IPv6 Migration Phases\n   The proposed\
    \ IPv6 addressing schema for an SP needs some slight\n   enhancements / modifications\
    \ for the later phases of IPv6\n   integration, for instance, when the whole MPLS\
    \ backbone\n   infrastructure (LDP, IGP, etc.) is realized over IPv6 transport,\
    \ and\n   an IPv6 addressing of the LSRs is needed.  Other changes may be\n  \
    \ necessary as well but should not be explained at this point.\n"
- title: Appendix B.  Considerations for Subnet Prefixes Different than /64
  contents:
  - 'Appendix B.  Considerations for Subnet Prefixes Different than /64

    '
- title: B.1.  Considerations for Subnet Prefixes Shorter than /64
  contents:
  - "B.1.  Considerations for Subnet Prefixes Shorter than /64\n   An allocation of\
    \ a prefix shorter then 64 bits to a node or interface\n   is considered bad practice.\
    \  One exception to this statement is when\n   using 6to4 technology where a /16\
    \ prefix is utilized for the pseudo-\n   interface [RFC3056].  The shortest subnet\
    \ prefix that could\n   theoretically be assigned to an interface or node is limited\
    \ by the\n   size of the network prefix allocated to the organization.\n   A possible\
    \ reason for choosing the subnet prefix for an interface\n   shorter than /64\
    \ is that it would allow more nodes to be attached to\n   that interface compared\
    \ to a prescribed length of 64 bits.  The\n   prescribed /64 does include 2 functional\
    \ bits, the 'g' bit and the\n   inverted 'u' (universal/local) bit and these can\
    \ not be chosen at\n   will.  However, a larger address space then a /64 is unnecessary\
    \ for\n   most networks, considering that 2^62 provides plenty of node\n   addresses.\n\
    \   The subnet prefix assignments can be made by manual configuration, by\n  \
    \ a stateful Host Configuration Protocol [RFC3315], by a stateful\n   prefix delegation\
    \ mechanism [RFC3633], or implied by stateless\n   autoconfiguration from prefix\
    \ Router Advertisements (RAs).\n"
- title: B.2.  Considerations for Subnet Prefixes Longer than /64
  contents:
  - "B.2.  Considerations for Subnet Prefixes Longer than /64\n   The following subsections\
    \ describe subnet prefix values that should\n   be avoided in deployments because\
    \ nodes who assume that the subnet\n   prefix is /64 could treat them incorrectly.\n"
- title: B.2.1.  /126 Addresses
  contents:
  - "B.2.1.  /126 Addresses\n   126-bit subnet prefixes are typically used for point-to-point\
    \ links\n   similar to a the IPv4 address-conservative /30 allocation for point-\n\
    \   to-point links.  The usage of this subnet address length does not\n   lead\
    \ to any considerations beyond those discussed earlier in this\n   section, particularly\
    \ those related to the 'u' and 'g' bits (see\n   B.2.4.\n"
- title: B.2.2.  /127 Addresses
  contents:
  - "B.2.2.  /127 Addresses\n   The usage of the /127 addresses, the equivalent of\
    \ IPv4's RFC 3021\n   [RFC3021], is not valid and should be strongly discouraged\
    \ as\n   documented in RFC 3627 [RFC3627].\n"
- title: B.2.3.  /128 Addresses
  contents:
  - "B.2.3.  /128 Addresses\n   The 128-bit address prefix may be used in those situations\
    \ where we\n   know that one, and only one, address is sufficient.  Example usage\n\
    \   would be the off-link loopback address of a network device.\n   When choosing\
    \ a 128 bit prefix, it is recommended to take the 'u' and\n   'g' bits into consideration\
    \ and to make sure that there is no overlap\n   with any of the following well-known\
    \ addresses:\n   o  Subnet Router Anycast Address\n   o  Reserved Subnet Anycast\
    \ Address\n   o  Addresses used by Embedded-RP\n   o  ISATAP Addresses\n"
- title: B.2.4.  EUI-64 'u' and 'g' Bits
  contents:
  - "B.2.4.  EUI-64 'u' and 'g' Bits\n   When using subnet prefix lengths other than\
    \ /64, the interface\n   identifier cannot be in Modified EUI-64 format as required\
    \ by\n   [RFC4291].  However, nodes not aware that a prefix length other than\n\
    \   /64 is used might still think it's an EUI-64; therefore, it's prudent\n  \
    \ to take into account the following points when setting the bits.\n   Address\
    \ space conservation is the main motivation for using a subnet\n   prefix length\
    \ longer than 64 bits; however, this kind of address\n   conservation is of little\
    \ benefit compared with the additional\n   considerations one must make when creating\
    \ and maintaining an IPv6\n   addressing plan.\n   The address assignment can\
    \ be made either by manual configuration or\n   by a stateful Host Configuration\
    \ Protocol [RFC3315].\n   When assigning a subnet prefix of more then 70 bits,\
    \ according to RFC\n   4291 [RFC4291], 'u' and 'g' bits (the 71st and 72nd bit,\n\
    \   respectively) need to be taken into consideration and should be set\n   correctly.\n\
    \   The 71st bit of a IPv6 address is the inverted 'u' (universal/local)\n   bit\
    \ and is used to determine whether the address is universally or\n   locally administered.\
    \  If 1, the IEEE, through the designation of a\n   unique company ID, has administered\
    \ the address.  If 0, the address\n   is locally administered.  The network administrator\
    \ has overridden\n   the manufactured address and specified a different address.\n\
    \   The 'g' (the individual/group) bit is the 72nd bit and is used to\n   determine\
    \ whether the address is an individual address (unicast) or a\n   group address\
    \ (multicast).  If '0', the address is a unicast address.\n   If '1', the address\
    \ is a multicast address.\n   In current IPv6 protocol stacks, the relevance of\
    \ the 'u' and 'g'\n   bits is marginal and typically will not give an error when\
    \ configured\n   wrongly; however, future implementations may turn out differently\
    \ if\n   they process the 'u' and 'g' bits in IEEE-like behavior.\n   When using\
    \ subnet lengths longer then 64 bits, it is important to\n   avoid selecting addresses\
    \ that may have a predefined use and could\n   confuse IPv6 protocol stacks. \
    \ The alternate usage may not be a\n   simple unicast address in all cases.  The\
    \ following points should be\n   considered when selecting a subnet length longer\
    \ then 64 bits.\n"
- title: B.2.5.  Anycast Addresses
  contents:
  - 'B.2.5.  Anycast Addresses

    '
- title: B.2.5.1.  Subnet Router Anycast Address
  contents:
  - "B.2.5.1.  Subnet Router Anycast Address\n   RFC 4291 [RFC4291] provides a definition\
    \ for the required Subnet\n   Router Anycast Address as follows:\n    |      \
    \             n bits                   |   128-n bits   |\n    +--------------------------------------------+----------------+\n\
    \    |               subnet prefix                | 00000000000000 |\n    +--------------------------------------------+----------------+\n\
    \   It is recommended to avoid allocating this IPv6 address to a device\n   that\
    \ expects to have a normal unicast address.\n"
- title: B.2.5.2.  Reserved IPv6 Subnet Anycast Addresses
  contents:
  - "B.2.5.2.  Reserved IPv6 Subnet Anycast Addresses\n   RFC 2526 [RFC2526] stated\
    \ that within each subnet, the highest 128\n   interface identifier values are\
    \ reserved for assignment as subnet\n   anycast addresses.\n   The construction\
    \ of a reserved subnet anycast address depends on the\n   type of IPv6 addresses\
    \ used within the subnet, as indicated by the\n   format prefix in the addresses.\n\
    \   The first type of Subnet Anycast addresses have been defined as\n   follows\
    \ for the Modified EUI-64 format:\n    |           64 bits            |      57\
    \ bits     |   7 bits   |\n    +------------------------------+------------------+------------+\n\
    \    |        subnet prefix         | 1111110111...111 | anycast ID |\n    +------------------------------+------------------+------------+\n\
    \   The anycast address structure implies that it is important to avoid\n   creating\
    \ a subnet prefix where the bits 65 to 121 are defined as\n   \"1111110111...111\"\
    \ (57 bits in total) in order to prevent confusion.\n   For other IPv6 address\
    \ types (that is, with format prefixes other\n   than those listed above), the\
    \ interface identifier is not in 64-bit\n   extended unique identifier (EUI-64)\
    \ format and may not be 64 bits in\n   length.  The reserved subnet anycast addresses\
    \ for such address types\n   are constructed as follows:\n    |           n bits\
    \             |    121-n bits    |   7 bits   |\n    +------------------------------+------------------+------------+\n\
    \    |        subnet prefix         | 1111111...111111 | anycast ID |\n    +------------------------------+------------------+------------+\n\
    \                                   |   interface identifier field  |\n   It is\
    \ recommended to avoid allocating this IPv6 address to a device\n   that expects\
    \ to have a normal unicast address.\n"
- title: B.2.6.  Addresses Used by Embedded-RP (RFC 3956)
  contents:
  - "B.2.6.  Addresses Used by Embedded-RP (RFC 3956)\n   Embedded-RP [RFC3956] reflects\
    \ the concept of integrating the\n   Rendezvous Point (RP) IPv6 address into the\
    \ IPv6 multicast group\n   address.  Due to this embedding and the fact that the\
    \ length of the\n   IPv6 address AND the IPv6 multicast address are 128 bits,\
    \ it is not\n   possible to have the complete IPv6 address of the multicast RP\n\
    \   embedded as such.\n   This results in a restriction of 15 possible RP-addresses\
    \ per prefix\n   that can be used with embedded-RP.  The space assigned for the\n\
    \   embedded-RP is based on the 4 low-order bits, while the remainder of\n   the\
    \ Rendezvous Interface ID (RIID) is set to all '0'.  The format of\n   the IPv6\
    \ multicast group address used by embedded-RP is as follows:\n               (IPv6-prefix\
    \ (64 bits))(60 bits all '0')(RIID)\n                   where: (RIID) = 4 bits.\n\
    \   This format implies that when selecting subnet prefixes longer than\n   64,\
    \ and when the bits beyond the 64th bit are non-zero, the subnet\n   cannot use\
    \ embedded-RP.\n   In addition, it is discouraged to assign a matching embedded-RP\
    \ IPv6\n   address to a device that is not a real Multicast Rendezvous Point,\n\
    \   even though it would not generate major problems.\n"
- title: B.2.7.  ISATAP Addresses
  contents:
  - "B.2.7.  ISATAP Addresses\n   ISATAP [RFC5214] is an experimental automatic tunneling\
    \ protocol used\n   to provide IPv6 connectivity over an IPv4 campus or enterprise\n\
    \   environment.  In order to leverage the underlying IPv4\n   infrastructure,\
    \ the IPv6 addresses are constructed in a special\n   format.\n   An IPv6 ISATAP\
    \ address has the IPv4 address embedded, based on a\n   predefined structure policy\
    \ that identifies them as an ISATAP\n   address.  The format is as follows:\n\
    \                [IPv6 Prefix (64 bits)][0000:5EFE][IPv4 address]\n   When using\
    \ a subnet prefix length longer then 64 bits, it is good\n   engineering practice\
    \ to ensure that the portion of the IPv6 prefix\n   from bit 65 to the end of\
    \ the host-ID does not match with the well-\n   known ISATAP [0000:5EFE] address\
    \ when assigning an IPv6 address to a\n   non-ISATAP interface.\n   Note that\
    \ the definition of ISATAP does not support multicast.\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Gunter Van de Velde\n   Cisco Systems\n   De Kleetlaan\
    \ 6a\n   Diegem  1831\n   Belgium\n   Phone: +32 2704 5473\n   EMail: gunter@cisco.com\n\
    \   Ciprian Popoviciu\n   Cisco Systems\n   7025-6 Kit Creek Road\n   Research\
    \ Triangle Park, North Carolina\n   USA\n   EMail: cpopovic@cisco.com\n   Tim\
    \ Chown\n   University of Southampton\n   Highfield\n   Southampton  SO17 1BJ\n\
    \   United Kingdom\n   Phone: +44 23 8059 3257\n   EMail: tjc@ecs.soton.ac.uk\n\
    \   T-Systems Enterprise Services GmbH\n   Goslarer Ufer 35\n   Berlin  10589\n\
    \   Germany\n   Phone: +49 30 3497 3124\n   EMail: Olaf.Bonness@t-systems.com\n\
    \   Christian Hahn\n   T-Systems Enterprise Services GmbH\n   Goslarer Ufer 35\n\
    \   Berlin  10589\n   Germany\n   Phone: +49 30 3497 3164\n   EMail: HahnC@t-systems.com\n"
