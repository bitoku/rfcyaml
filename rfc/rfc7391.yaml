- title: __initial_text__
  contents:
  - ' Forwarding and Control Element Separation (ForCES) Protocol Extensions

    '
- title: Abstract
  contents:
  - "Abstract\n   Experience in implementing and deploying the Forwarding and Control\n\
    \   Element Separation (ForCES) architecture has demonstrated the need\n   for\
    \ a few small extensions both to ease programmability and to\n   improve wire\
    \ efficiency of some transactions.  The ForCES protocol is\n   extended with a\
    \ table range operation and a new extension for error\n   handling.  This document\
    \ updates the semantics in RFCs 5810 and 7121\n   to achieve that end goal.\n"
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This is an Internet Standards Track document.\n   This\
    \ document is a product of the Internet Engineering Task Force\n   (IETF).  It\
    \ represents the consensus of the IETF community.  It has\n   received public\
    \ review and has been approved for publication by the\n   Internet Engineering\
    \ Steering Group (IESG).  Further information on\n   Internet Standards is available\
    \ in Section 2 of RFC 5741.\n   Information about the current status of this document,\
    \ any errata,\n   and how to provide feedback on it may be obtained at\n   http://www.rfc-editor.org/info/rfc7391.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (c) 2014 IETF Trust and the persons identified\
    \ as the\n   document authors.  All rights reserved.\n   This document is subject\
    \ to BCP 78 and the IETF Trust's Legal\n   Provisions Relating to IETF Documents\n\
    \   (http://trustee.ietf.org/license-info) in effect on the date of\n   publication\
    \ of this document.  Please review these documents\n   carefully, as they describe\
    \ your rights and restrictions with respect\n   to this document.  Code Components\
    \ extracted from this document must\n   include Simplified BSD License text as\
    \ described in Section 4.e of\n   the Trust Legal Provisions and are provided\
    \ without warranty as\n   described in the Simplified BSD License.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1. Introduction ....................................................2\n\
    \      1.1. Terminology and Conventions ................................3\n  \
    \         1.1.1. Requirements Language ...............................3\n    \
    \       1.1.2. Terminology .........................................3\n   2. Problem\
    \ Overview ................................................4\n      2.1. Table\
    \ Ranges ...............................................4\n      2.2. Error Codes\
    \ ................................................4\n   3. Protocol Update .................................................5\n\
    \      3.1. Table Ranges ...............................................5\n  \
    \    3.2. Error Codes ................................................6\n    \
    \       3.2.1. New Codes ...........................................7\n      \
    \     3.2.2. Private Vendor Codes ................................8\n        \
    \   3.2.3. Extended Result TLV .................................8\n          \
    \        3.2.3.1. Extended Result Backward Compatibility .....9\n      3.3. Large\
    \ Table Dumping ........................................9\n   4. IANA Considerations\
    \ ............................................11\n   5. Security Considerations\
    \ ........................................12\n   6. References .....................................................12\n\
    \      6.1. Normative References ......................................12\n  \
    \    6.2. Informative References ....................................12\n   Appendix\
    \ A. New FEPO Version ......................................13\n   Acknowledgments\
    \ ...................................................23\n   Author's Address ..................................................23\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   Experience in implementing and deploying the ForCES architecture\
    \ has\n   demonstrated the need for a few small extensions both to ease\n   programmability\
    \ and to improve wire efficiency of some transactions.\n   This document describes\
    \ a few extensions to the semantics in the\n   ForCES protocol specification [RFC5810]\
    \ to achieve that end goal.\n   This document describes and justifies the need\
    \ for two small\n   extensions that are backward compatible.  This document also\n\
    \   clarifies details of how dumping of a large table residing on an FE\n   (Forwarding\
    \ Element) is achieved.  To summarize:\n   1.  A table range operation to allow\
    \ a controller or control\n       application to request an arbitrary range of\
    \ table rows is\n       introduced.\n   2.  Additional error codes returned to\
    \ the controller (or control\n       application) by an FE are introduced.  Additionally,\
    \ a new\n       extension to carry details on error codes is introduced.  As a\n\
    \       result, this document updates the definition of the FE Protocol\n    \
    \   Object (FEPO) Logical Functional Block (LFB) in [RFC7121].\n   3.  While already\
    \ supported, an FE response to a GET request of a\n       large table that does\
    \ not fit in a single Protocol Layer (PL)\n       message is not described in\
    \ [RFC5810].  This document clarifies\n       the details.\n"
- title: 1.1.  Terminology and Conventions
  contents:
  - '1.1.  Terminology and Conventions

    '
- title: 1.1.1.  Requirements Language
  contents:
  - "1.1.1.  Requirements Language\n   The key words \"MUST\", \"MUST NOT\", \"REQUIRED\"\
    , \"SHALL\", \"SHALL NOT\",\n   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"\
    MAY\", and \"OPTIONAL\" in this\n   document are to be interpreted as described\
    \ in [RFC2119].\n"
- title: 1.1.2.  Terminology
  contents:
  - "1.1.2.  Terminology\n   This document reiterates the terminology defined in several\
    \ ForCES\n   documents ([RFC3746], [RFC5810], [RFC5811], and [RFC5812]) for the\n\
    \   sake of contextual clarity.\n      Control Element (CE)\n      Forwarding\
    \ Element (FE)\n      FE Model\n      LFB (Logical Functional Block) Class (or\
    \ type)\n      LFB Instance\n      LFB Model\n      LFB Metadata\n      ForCES\
    \ Component\n      LFB Component\n      ForCES Protocol Layer (ForCES PL)\n  \
    \    ForCES Protocol Transport Mapping Layer (ForCES TML)\n"
- title: 2.  Problem Overview
  contents:
  - "2.  Problem Overview\n   In this section, we present sample use cases to illustrate\
    \ each\n   challenge being addressed.\n"
- title: 2.1.  Table Ranges
  contents:
  - "2.1.  Table Ranges\n   Consider, for the sake of illustration, an FE table with\
    \ 1 million\n   reasonably sized table rows that are sparsely populated.  Assume,\n\
    \   again for the sake of illustration, that there are 2000 table rows\n   sparsely\
    \ populated between the row indices 23-10023.\n   Implementation experience has\
    \ shown that existing approaches for\n   retrieving or deleting a sizable number\
    \ of table rows are both\n   programmatically tedious and inefficient on utilization\
    \ of both\n   compute and wire resources.\n   By definition, ForCES GET and DEL\
    \ requests sent from a controller (or\n   control application) are prepended with\
    \ a path to a component and\n   sent to the FE.  In the case of indexed tables,\
    \ the component path\n   can point to either a table or a table row index.\n \
    \  As an example, a control application attempting to retrieve the first\n   2000\
    \ table rows appearing between row indices 23 and 10023 can\n   achieve its goal\
    \ in one of the following ways:\n   o  Dump the whole table and filter for the\
    \ needed 2000 table rows.\n   o  Send up to 10000 ForCES PL requests, incrementing\
    \ the index by one\n      each time, and stop when the needed 2000 entries are\
    \ retrieved.\n   o  If the application had knowledge of which table rows existed\
    \ (not\n      unreasonable given the controller is supposed to be aware of state\n\
    \      within a Network Element (NE)), then the application could take\n     \
    \ advantage of ForCES batching to send fewer large messages (each\n      with\
    \ different path entries for a total of 2000).\n   As argued, while the above\
    \ options exist, all are tedious.\n"
- title: 2.2.  Error Codes
  contents:
  - "2.2.  Error Codes\n   [RFC5810] has defined a generic set of error codes that\
    \ are to be\n   returned to the CE from an FE.  Deployment experience has shown\
    \ that\n   it would be useful to have more fine-grained error codes.  As an\n\
    \   example, the error code E_NOT_SUPPORTED could be mapped to many FE\n   error\
    \ source possibilities that need to then be interpreted by the\n   caller based\
    \ on some understanding of the nature of the sent request.\n   This makes debugging\
    \ more time consuming.\n"
- title: 3.  Protocol Update
  contents:
  - "3.  Protocol Update\n   This section describes a normative update to the ForCES\
    \ protocol to\n   address the issues discussed in Section 2.\n"
- title: 3.1.  Table Ranges
  contents:
  - "3.1.  Table Ranges\n   We define a new TLV, TABLERANGE-TLV (type ID 0x0117),\
    \ that will be\n   associated with the PATH-DATA-TLV in the same manner the KEYINFO-TLV\n\
    \   is.  Figure 1 shows how this new TLV is constructed.\n      0            \
    \       1                   2                   3\n      0 1 2 3 4 5 6 7 8 9 0\
    \ 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \      |  Type (0x0117)              |     Length                      |\n   \
    \   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n      |\
    \                         Start Index                           |\n      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \      |                         End Index                             |\n   \
    \   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n      \
    \          Figure 1: ForCES Table Range Request Layout\n   Figure 2 illustrates\
    \ a GET request for a range of rows 11 to 23 of a\n   table with a component path\
    \ of \"1/6\".\n      OPER = GET-TLV\n             PATH-DATA-TLV:\n           \
    \    flags = F_SELTABRANGE, IDCount = 2, IDs = {1,6}\n               TABLERANGE-TLV\
    \ content = {11,23}\n               Figure 2: ForCES Table Range Request Example\n\
    \   The path flag F_SELTABRANGE (0x2, i.e., bit 1, where bit 0 is\n   F_SELKEY\
    \ as defined in [RFC5810]) MUST be set to indicate the\n   presence of the TABLERANGE-TLV.\
    \  The path flag bit F_SELTABRANGE can\n   only be used in a GET or DEL and is\
    \ mutually exclusive with F_SELKEY.\n   The FE MUST enforce the path flag constraints\
    \ and ensure that the\n   selected path belongs to a defined, indexed table component.\
    \  Any\n   violation of these constraints MUST be rejected with an error code\
    \ of\n   E_INVALID_TFLAGS with a description of what the problem is when using\n\
    \   extended error reporting (refer to Section 3.2).\n   It should be noted that\
    \ there are combinations of path selection\n   mechanisms that should not appear\
    \ together for the sake of simplicity\n   of operations.  These include TABLERANGE-TLV\
    \ and KEYINFO-TLV as well\n   as multiple nested TABLERANGE-TLVs.\n   The TABLERANGE-TLV\
    \ contents constitute:\n   o  A 32-bit start index.  An index of 0 implies the\
    \ beginning of the\n      table row.\n   o  A 32-bit end index.  A value of 0xFFFFFFFF\
    \ implies the last entry.\n   The response for a table range query will either\
    \ be:\n   o  The requested table data returned (when at least one referenced\n\
    \      row is available); in such a case, a response with a path pointing\n  \
    \    to the table and whose data content contains the row(s) will be\n      sent\
    \ to the CE.  The data content MUST be encapsulated in a\n      SPARSEDATA-TLV.\
    \  The SPARSEDATA-TLV content will have the \"I\" (in\n      Index-Length-Value\
    \ (ILV)) for each table row indicating the table\n      indices.\n   o  An EXTENDEDRESULT-TLV\
    \ (refer to Section 3.2.3) when:\n      *  the response is to a range delete request.\
    \  The result will\n         either be:\n         +  a success if any of the rows\
    \ that were requested are\n            deleted; or\n         +  a proper error\
    \ code if none of the rows that were requested\n            can be deleted.\n\
    \      *  data is absent and an error code of E_EMPTY with an optional\n     \
    \    content string describing the nature of the error is used\n         (refer\
    \ to Section 3.2).\n      *  both a path key and path table range were stated\
    \ on the path\n         flags of the original request.  In such a case, an error\
    \ code\n         of E_INVALID_TFLAGS with an optional content string describing\n\
    \         the nature of the error is used (refer to Section 3.2).\n      *  other\
    \ standard ForCES errors (such as Access Control List (ACL)\n         constraints\
    \ trying to retrieve contents of an unreadable table,\n         accessing unknown\
    \ components, etc.) occur.\n"
- title: 3.2.  Error Codes
  contents:
  - "3.2.  Error Codes\n   We define the following:\n   1.  A new set of error codes.\n\
    \   2.  Allocation of some reserved codes for private use.\n   3.  A new TLV,\
    \ EXTENDEDRESULT-TLV (0x0118), that will carry a code\n       (which will be a\
    \ superset of what is currently specified in\n       [RFC5810]) as well as an\
    \ optional cause content.  This is\n       illustrated in Figure 3.\n"
- title: 3.2.1.  New Codes
  contents:
  - "3.2.1.  New Codes\n   The EXTENDEDRESULT-TLV Result Value is 32 bits and is a\
    \ superset of\n   the RESULT-TLV Result Value defined in [RFC5810].  The new version\n\
    \   code space is 32 bits as opposed to the code size of 8 bits in\n   [RFC5810].\
    \  The first 8-bit values (256 codes) are common to both\n   code spaces.\n  \
    \ +------------+-------------------------+----------------------------+\n   |\
    \ Code       | Mnemonic                | Details                    |\n   +------------+-------------------------+----------------------------+\n\
    \   | 0x18       | E_TIMED_OUT             | A timeout occurred while   |\n  \
    \ |            |                         | processing the message     |\n   |\
    \            |                         |                            |\n   | 0x19\
    \       | E_INVALID_TFLAGS        | Invalid table flags        |\n   |       \
    \     |                         |                            |\n   | 0x1A    \
    \   | E_INVALID_OP            | Requested operation is     |\n   |           \
    \ |                         | invalid                    |\n   |            |\
    \                         |                            |\n   | 0x1B       | E_CONGEST_NT\
    \            | Node congestion            |\n   |            |               \
    \          | notification               |\n   |            |                 \
    \        |                            |\n   | 0x1C       | E_COMPONENT_NOT_A_TABLE\
    \ | Component not a table      |\n   |            |                         |\
    \                            |\n   | 0x1D       | E_PERM                  | Operation\
    \ not permitted    |\n   |            |                         |            \
    \                |\n   | 0x1E       | E_BUSY                  | System is busy\
    \             |\n   |            |                         |                 \
    \           |\n   | 0x1F       | E_EMPTY                 | Table is empty    \
    \         |\n   |            |                         |                     \
    \       |\n   | 0x20       | E_UNKNOWN               | A generic catch-all error\
    \  |\n   |            |                         | code.  Carries a string to |\n\
    \   |            |                         | further extrapolate what   |\n  \
    \ |            |                         | the error implies.         |\n   +------------+-------------------------+----------------------------+\n\
    \                            Table 1: New Codes\n"
- title: 3.2.2.  Private Vendor Codes
  contents:
  - "3.2.2.  Private Vendor Codes\n   Codes 0x100-0x200 are reserved for use as private\
    \ codes.  Since these\n   are freely available, it is expected that the FE and\
    \ CE side\n   implementations will both understand/interpret the semantics of\
    \ any\n   used codes and avoid any conflicts.\n"
- title: 3.2.3.  Extended Result TLV
  contents:
  - "3.2.3.  Extended Result TLV\n        0                   1                  \
    \ 2                   3\n        0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2\
    \ 3 4 5 6 7 8 9 0 1\n       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \       |   Type = EXTENDEDRESULT-TLV   |              Length           |\n  \
    \     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n    \
    \   |                        Result Value                           |\n      \
    \ +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n       |\
    \                    Optional Cause Content                     |\n       .  \
    \                                                             .\n       |    \
    \                                                           |\n       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \                       Figure 3: EXTENDEDRESULT-TLV\n   o  Like all other ForCES\
    \ TLVs, the EXTENDEDRESULT-TLV is expected to\n      be 32-bit aligned.\n   o\
    \  The EXTENDEDRESULT-TLV Result Value derives and extends from the\n      same\
    \ current namespace that is used by the RESULT-TLV Result Value\n      as specified\
    \ in Section 7.1.7 of [RFC5810].  The main difference\n      is that there is\
    \ now a 32-bit Result Value (as opposed to the old\n      8-bit).\n   o  The Optional\
    \ Cause Content is defined to further disambiguate the\n      Result Value.  It\
    \ is expected that UTF-8 string values will be\n      used.  The content Result\
    \ Value is intended to be consumed by the\n      (human) operator, and implementations\
    \ may choose to specify\n      different content for the same error code.  Additionally,\
    \ future\n      codes may specify cause content to be of types other than string.\n\
    \   o  It is recommended that the maximum size of the cause string should\n  \
    \    not exceed 32 bytes.  The cause string is not standardized by this\n    \
    \  document.\n"
- title: 3.2.3.1.  Extended Result Backward Compatibility
  contents:
  - "3.2.3.1.  Extended Result Backward Compatibility\n   To support backward compatibility,\
    \ we update the FEPO LFB (in\n   Appendix A) to version 1.2.  We also add a new\
    \ component ID 16 (named\n   EResultAdmin), and a capability component ID 32 (named\
    \ EResultCapab).\n   An FE will advertise its capability to support extended TLVs\
    \ via the\n   EResultCapab table.  When an FE is capable of responding with both\n\
    \   extended results and older result TLVs, it will have two table rows,\n   one\
    \ for each supported value.  By default, an FE capable of\n   supporting both\
    \ modes will assume the lowest common denominator\n   (i.e., EResultAdmin will\
    \ be EResultNotSupported) and will issue\n   responses using RESULT-TLVs.  It\
    \ should be noted that an FE\n   advertising FEPO version 1.2 MUST support EXTENDEDRESULT-TLVs\
    \ at\n   minimum.\n   On an FE that supports both RESULT-TLVs and EXTENDEDRESULT-TLVs,\
    \ a\n   master CE can turn on support for extended results by setting the\n  \
    \ EResultAdmin value to 2, in which case the FE MUST switch over to\n   sending\
    \ only EXTENDEDRESULT-TLVs.  Likewise, a master CE can turn off\n   extended result\
    \ responses by writing a 1 to the EResultAdmin.  An FE\n   that does not support\
    \ one mode or the other MUST reject setting\n   EResultAdmin to a value it does\
    \ not support by responding with an\n   error code of E_NOT_SUPPORTED.  It is\
    \ expected that all CEs\n   participating in a high availability (HA) mode be\
    \ capable of\n   supporting FEPO version 1.2 whenever EResultAdmin is set to strict\n\
    \   support of EXTENDEDRESULT-TLVs.  The consensus between CEs in an HA\n   set\
    \ up to set strict support of EXTENDEDRESULT-TLVs is out of scope\n   for this\
    \ document.\n"
- title: 3.3.  Large Table Dumping
  contents:
  - "3.3.  Large Table Dumping\n   Imagine a GET request to a path that is a table,\
    \ i.e., a table dump.\n   Such a request is sent to the FE with a specific correlator,\
    \ say X.\n   Imagine this table to have a large number of entries at the FE. \
    \ For\n   the sake of illustration, let's say millions of rows.  This requires\n\
    \   that the FE delivers the response over multiple messages, all using\n   the\
    \ same correlator X.\n   The ForCES protocol document [RFC5810] does not adequately\
    \ describe\n   how a large multi-part GET response message is delivered; the text\
    \ in\n   this section clarifies.  We limit the discussion to a table object\n\
    \   only.\n   Implementation experience of dumping large tables shows that we\
    \ can\n   use transaction flags to indicate that a GET response is the\n   beginning,\
    \ middle, or end of a multi-part message.  In other words,\n   we mirror the effect\
    \ of an atomic transaction sent by a CE to an FE.\n       CE PL              \
    \                                    FE PL\n         |                       \
    \                               |\n         | (0) Query, Path-to-a-large-table,\
    \ OP=GET             |\n         |----------------------------------------------------->|\n\
    \         |                correlator = X                        |\n         |\
    \                                                      |\n         | (1) Query-Response,\
    \ SOT,AT, OP=GET-RESPONSE, DATA    |\n         |<-----------------------------------------------------|\n\
    \         |                correlator = X                        |\n         |\
    \             DATA TLV (SPARSE/FULL)                   |\n         |         \
    \                                             |\n         | (2) Query-Response,\
    \ MOT,AT, OP=GET-RESPONSE, DATA    |\n         |<-----------------------------------------------------|\n\
    \         |                correlator = X                        |\n         |\
    \             DATA TLV (SPARSE/FULL)                   |\n         |         \
    \                                             |\n         | (3) Query-Response,\
    \ MOT,AT, OP=GET-RESPONSE, DATA    |\n         |<-----------------------------------------------------|\n\
    \         |                correlator = X                        |\n         |\
    \             DATA TLV (SPARSE/FULL)                   |\n         .         \
    \                                             .\n         .                  \
    \                                    .\n         .                           \
    \                           .\n         .                                    \
    \                  .\n         |                                             \
    \         |\n         | (N) Query-Response, MOT,AT, OP=GET-RESPONSE, DATA    |\n\
    \         |<-----------------------------------------------------|\n         |\
    \                correlator = X                        |\n         |         \
    \    DATA TLV (SPARSE/FULL)                   |\n         |                  \
    \                                    |\n         | (N) Query-Response, EOT,AT,\
    \ OP=GET-RESPONSE          |\n         |<-----------------------------------------------------|\n\
    \         |                correlator = X                        |\n         |\
    \             RESULT-TLV (SUCCESS)                     |\n         |         \
    \                                             |\n                 Figure 4: Large\
    \ Table Dump Time Sequence\n   The last message to go to the CE, which carries\
    \ the End Of\n   Transaction (EOT) flag, MUST NOT carry any data.  This allows\
    \ us to\n   mirror ForCES two-phase commit (2PC) messaging [RFC5810] where the\n\
    \   last message is an empty commit message.  A GET response will carry a\n  \
    \ RESULT-TLV in such a case.\n"
- title: 4.  IANA Considerations
  contents:
  - "4.  IANA Considerations\n   This document updates <https://www.iana.org/assignments/forces>\n\
    \   as follows:\n   This document registers two new top-level TLVs and two new\
    \ path\n   flags; it also updates an IANA-registered FE Protocol Object Logical\n\
    \   Functional Block (LFB).\n   Appendix A defines an update to the FE Protocol\
    \ Object LFB to\n   version 1.2.  An entry for FE Protocol Object LFB version\
    \ 1.2 has\n   been added to the \"Logical Functional Block (LFB) Class Names and\n\
    \   Class Identifiers\" sub-registry.\n   The following new TLVs have been defined\
    \ and added to the \"TLV Types\"\n   sub-registry:\n   o  TABLERANGE-TLV (type\
    \ ID 0x0117)\n   o  EXTENDEDRESULT-TLV (type ID 0x0118)\n   The \"RESULT-TLV Result\
    \ Values\" sub-registry has been updated\n   as follows:\n   o  Codes 0x21-0xFE\
    \ are marked as Unassigned.\n   o  Codes 0x18-0x20 are defined by this document\
    \ in Section 3.2.1.\n   o  Codes 0x100-0x200 are reserved for private use.\n \
    \  A new \"EXTENDEDRESULT-TLV Result Values\" sub-registry has been\n   created.\
    \  The codes 0x00-0xFF are mirrored from the \"RESULT-TLV\n   Result Values\"\
    \ sub-registry.  Any future allocations of this code\n   range (in the range 0x21-0xFE)\
    \ must be made only in the new\n   \"EXTENDEDRESULT-TLV Result Values\" sub-registry\
    \ and not in the\n   \"RESULT-TLV Result Values\" sub-registry.  The codes 0x100-0x200\
    \ are\n   reserved for private use as described earlier, and the code ranges\n\
    \   0x21-0xFE and 0x201-0xFFFFFFFF are marked as Unassigned with the IANA\n  \
    \ allocation policy of Specification Required [RFC5226].  The\n   Designated Expert\
    \ (DE) needs to ensure that existing deployments are\n   not broken by any specified\
    \ request.  The DE should post a given code\n   request to the ForCES WG mailing\
    \ list (or a successor designated by\n   the Area Director) for comment and review.\
    \  The DE should then either\n   approve or deny the registration request, publish\
    \ a notice of the\n   decision to the ForCES WG mailing list or its successor,\
    \ and inform\n   IANA of his/her decision.  A denial notice must be justified\
    \ by an\n   explanation and, in the cases where it is possible, concrete\n   suggestions\
    \ on how the request can be modified so as to become\n   acceptable.\n"
- title: 5.  Security Considerations
  contents:
  - "5.  Security Considerations\n   The security considerations described in the\
    \ ForCES protocol\n   [RFC5810] apply to this document as well.\n"
- title: 6.  References
  contents:
  - '6.  References

    '
- title: 6.1.  Normative References
  contents:
  - "6.1.  Normative References\n   [RFC2119]  Bradner, S., \"Key words for use in\
    \ RFCs to Indicate\n              Requirement Levels\", BCP 14, RFC 2119, March\
    \ 1997,\n              <http://www.rfc-editor.org/info/rfc2119>.\n   [RFC5226]\
    \  Narten, T. and H. Alvestrand, \"Guidelines for Writing an\n              IANA\
    \ Considerations Section in RFCs\", BCP 26, RFC 5226,\n              May 2008,\
    \ <http://www.rfc-editor.org/info/rfc5226>.\n   [RFC5810]  Doria, A., Hadi Salim,\
    \ J., Haas, R., Khosravi, H., Wang,\n              W., Dong, L., Gopal, R., and\
    \ J. Halpern, \"Forwarding and\n              Control Element Separation (ForCES)\
    \ Protocol\n              Specification\", RFC 5810, March 2010,\n           \
    \   <http://www.rfc-editor.org/info/rfc5810>.\n   [RFC5811]  Hadi Salim, J. and\
    \ K. Ogawa, \"SCTP-Based Transport Mapping\n              Layer (TML) for the\
    \ Forwarding and Control Element\n              Separation (ForCES) Protocol\"\
    , RFC 5811, March 2010,\n              <http://www.rfc-editor.org/info/rfc5811>.\n\
    \   [RFC5812]  Halpern, J. and J. Hadi Salim, \"Forwarding and Control\n     \
    \         Element Separation (ForCES) Forwarding Element Model\",\n          \
    \    RFC 5812, March 2010, <http://www.rfc-editor.org/\n              info/rfc5812>.\n\
    \   [RFC7121]  Ogawa, K., Wang, W., Haleplidis, E., and J. Hadi Salim,\n     \
    \         \"High Availability within a Forwarding and Control Element\n      \
    \        Separation (ForCES) Network Element\", RFC 7121,\n              February\
    \ 2014, <http://www.rfc-editor.org/info/rfc7121>.\n"
- title: 6.2.  Informative References
  contents:
  - "6.2.  Informative References\n   [RFC3746]  Yang, L., Dantu, R., Anderson, T.,\
    \ and R. Gopal,\n              \"Forwarding and Control Element Separation (ForCES)\n\
    \              Framework\", RFC 3746, April 2004,\n              <http://www.rfc-editor.org/info/rfc3746>.\n"
- title: Appendix A.  New FEPO Version
  contents:
  - "Appendix A.  New FEPO Version\n   This version of FEPO updates the earlier one\
    \ given in [RFC7121].  The\n   XML has been validated against the schema defined\
    \ in [RFC5812].\n  <LFBLibrary xmlns=\"urn:ietf:params:xml:ns:forces:lfbmodel:1.0\"\
    \n     xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n     xsi:noNamespaceSchemaLocation=\"\
    lfb-schema.xsd\" provides=\"FEPO\">\n     <!-- XXX -->\n     <dataTypeDefs>\n\
    \        <dataTypeDef>\n           <name>CEHBPolicyValues</name>\n           <synopsis>\n\
    \              The possible values of CE heartbeat policy\n           </synopsis>\n\
    \           <atomic>\n              <baseType>uchar</baseType>\n             \
    \ <specialValues>\n                 <specialValue value=\"0\">\n             \
    \       <name>CEHBPolicy0</name>\n                    <synopsis>\n           \
    \             The CE will send heartbeats to the FE\n                        every\
    \ CEHDI timeout if no other messages\n                        have been sent since.\n\
    \                    </synopsis>\n                 </specialValue>\n         \
    \        <specialValue value=\"1\">\n                    <name>CEHBPolicy1</name>\n\
    \                    <synopsis>\n                        The CE will not send\
    \ heartbeats to the FE.\n                    </synopsis>\n                 </specialValue>\n\
    \              </specialValues>\n           </atomic>\n        </dataTypeDef>\n\
    \        <dataTypeDef>\n           <name>FEHBPolicyValues</name>\n           <synopsis>\n\
    \               The possible values of FE heartbeat policy\n           </synopsis>\n\
    \           <atomic>\n              <baseType>uchar</baseType>\n             \
    \ <specialValues>\n                 <specialValue value=\"0\">\n             \
    \       <name>FEHBPolicy0</name>\n                    <synopsis>\n           \
    \         The FE will not generate any heartbeats to the CE.\n               \
    \     </synopsis>\n                 </specialValue>\n                 <specialValue\
    \ value=\"1\">\n                    <name>FEHBPolicy1</name>\n               \
    \     <synopsis>\n                       The FE generates heartbeats to the CE\
    \ every\n                       FEHI if no other\n                       messages\
    \ have been sent to the CE.\n                    </synopsis>\n               \
    \  </specialValue>\n              </specialValues>\n           </atomic>\n   \
    \     </dataTypeDef>\n        <dataTypeDef>\n           <name>FERestartPolicyValues</name>\n\
    \           <synopsis>\n              The possible values of FE restart policy\n\
    \           </synopsis>\n           <atomic>\n              <baseType>uchar</baseType>\n\
    \              <specialValues>\n                 <specialValue value=\"0\">\n\
    \                    <name>FERestartPolicy0</name>\n                    <synopsis>\n\
    \                       The FE restarts its state from scratch.\n            \
    \        </synopsis>\n                 </specialValue>\n              </specialValues>\n\
    \           </atomic>\n        </dataTypeDef>\n        <dataTypeDef>\n       \
    \    <name>HAModeValues</name>\n           <synopsis>\n              The possible\
    \ values of HA modes\n           </synopsis>\n           <atomic>\n          \
    \    <baseType>uchar</baseType>\n              <specialValues>\n             \
    \    <specialValue value=\"0\">\n                    <name>NoHA</name>\n     \
    \               <synopsis>\n                       The FE is not running in HA\
    \ mode.\n                    </synopsis>\n                 </specialValue>\n \
    \                <specialValue value=\"1\">\n                    <name>ColdStandby</name>\n\
    \                    <synopsis>\n                       The FE is running in HA\
    \ mode cold standby.\n                    </synopsis>\n                 </specialValue>\n\
    \                 <specialValue value=\"2\">\n                    <name>HotStandby</name>\n\
    \                    <synopsis>\n                       The FE is running in HA\
    \ mode hot standby.\n                    </synopsis>\n                 </specialValue>\n\
    \              </specialValues>\n           </atomic>\n        </dataTypeDef>\n\
    \        <dataTypeDef>\n           <name>CEFailoverPolicyValues</name>\n     \
    \      <synopsis>\n              The possible values of CE failover policy\n \
    \          </synopsis>\n           <atomic>\n              <baseType>uchar</baseType>\n\
    \              <specialValues>\n                 <specialValue value=\"0\">\n\
    \                    <name>CEFailoverPolicy0</name>\n                    <synopsis>\n\
    \                        The FE should stop functioning immediately\n        \
    \                and transition to FE OperDisable state.\n                   \
    \ </synopsis>\n                 </specialValue>\n                 <specialValue\
    \ value=\"1\">\n                    <name>CEFailoverPolicy1</name>\n         \
    \           <synopsis>\n                        The FE should continue forwarding\
    \ even\n                        without an associated CE for CEFTI.  The\n   \
    \                     FE goes to FE OperDisable when the CEFTI\n             \
    \           expires and there is no association.  Requires\n                 \
    \       graceful restart support.\n                    </synopsis>\n         \
    \        </specialValue>\n              </specialValues>\n           </atomic>\n\
    \        </dataTypeDef>\n        <dataTypeDef>\n           <name>FEHACapab</name>\n\
    \           <synopsis>\n              The supported HA features\n           </synopsis>\n\
    \           <atomic>\n              <baseType>uchar</baseType>\n             \
    \ <specialValues>\n                 <specialValue value=\"0\">\n             \
    \       <name>GracefullRestart</name>\n                    <synopsis>\n      \
    \                 The FE supports graceful restart.\n                    </synopsis>\n\
    \                 </specialValue>\n                 <specialValue value=\"1\"\
    >\n                    <name>HA</name>\n                    <synopsis>\n     \
    \                  The FE supports HA.\n                    </synopsis>\n    \
    \             </specialValue>\n              </specialValues>\n           </atomic>\n\
    \        </dataTypeDef>\n        <dataTypeDef>\n           <name>CEStatusType</name>\n\
    \           <synopsis>Status values.  Status for each CE</synopsis>\n        \
    \   <atomic>\n              <baseType>uchar</baseType>\n              <specialValues>\n\
    \                 <specialValue value=\"0\">\n                    <name>Disconnected</name>\n\
    \                    <synopsis>No connection attempt with the CE yet\n       \
    \             </synopsis>\n                 </specialValue>\n                \
    \ <specialValue value=\"1\">\n                    <name>Connected</name>\n   \
    \                 <synopsis>The FE connection with the CE at the TML\n       \
    \                has been completed.\n                    </synopsis>\n      \
    \           </specialValue>\n                 <specialValue value=\"2\">\n   \
    \                 <name>Associated</name>\n                    <synopsis>The FE\
    \ has associated with the CE.\n                    </synopsis>\n             \
    \    </specialValue>\n                 <specialValue value=\"3\">\n          \
    \          <name>IsMaster</name>\n                    <synopsis>The CE is the\
    \ master (and associated).\n                    </synopsis>\n                \
    \ </specialValue>\n                 <specialValue value=\"4\">\n             \
    \       <name>LostConnection</name>\n                    <synopsis>The FE was\
    \ associated with the CE but\n                       lost the connection.\n  \
    \                  </synopsis>\n                 </specialValue>\n           \
    \      <specialValue value=\"5\">\n                    <name>Unreachable</name>\n\
    \                    <synopsis>The CE is deemed as unreachable by the FE.\n  \
    \                  </synopsis>\n                 </specialValue>\n           \
    \   </specialValues>\n           </atomic>\n        </dataTypeDef>\n        <dataTypeDef>\n\
    \           <name>StatisticsType</name>\n           <synopsis>Statistics Definition</synopsis>\n\
    \           <struct>\n              <component componentID=\"1\">\n          \
    \       <name>RecvPackets</name>\n                 <synopsis>Packets received</synopsis>\n\
    \                 <typeRef>uint64</typeRef>\n              </component>\n    \
    \          <component componentID=\"2\">\n                 <name>RecvErrPackets</name>\n\
    \                 <synopsis>Packets received from CE with errors\n           \
    \      </synopsis>\n                 <typeRef>uint64</typeRef>\n             \
    \ </component>\n              <component componentID=\"3\">\n                \
    \ <name>RecvBytes</name>\n                 <synopsis>Bytes received from CE</synopsis>\n\
    \                 <typeRef>uint64</typeRef>\n              </component>\n    \
    \          <component componentID=\"4\">\n                 <name>RecvErrBytes</name>\n\
    \                 <synopsis>Bytes received from CE in error</synopsis>\n     \
    \            <typeRef>uint64</typeRef>\n              </component>\n         \
    \     <component componentID=\"5\">\n                 <name>TxmitPackets</name>\n\
    \                 <synopsis>Packets transmitted to CE</synopsis>\n           \
    \      <typeRef>uint64</typeRef>\n              </component>\n              <component\
    \ componentID=\"6\">\n                 <name>TxmitErrPackets</name>\n        \
    \         <synopsis>\n                    Packets transmitted to CE that incurred\n\
    \                    errors\n                 </synopsis>\n                 <typeRef>uint64</typeRef>\n\
    \              </component>\n              <component componentID=\"7\">\n   \
    \              <name>TxmitBytes</name>\n                 <synopsis>Bytes transmitted\
    \ to CE</synopsis>\n                 <typeRef>uint64</typeRef>\n             \
    \ </component>\n              <component componentID=\"8\">\n                \
    \ <name>TxmitErrBytes</name>\n                 <synopsis>Bytes transmitted to\
    \ CE incurring errors\n                 </synopsis>\n                 <typeRef>uint64</typeRef>\n\
    \              </component>\n           </struct>\n        </dataTypeDef>\n  \
    \      <dataTypeDef>\n           <name>AllCEType</name>\n           <synopsis>Table\
    \ Type for AllCE component</synopsis>\n           <struct>\n              <component\
    \ componentID=\"1\">\n                 <name>CEID</name>\n                 <synopsis>ID\
    \ of the CE</synopsis>\n                 <typeRef>uint32</typeRef>\n         \
    \     </component>\n              <component componentID=\"2\">\n            \
    \     <name>Statistics</name>\n                 <synopsis>Statistics per CE</synopsis>\n\
    \                 <typeRef>StatisticsType</typeRef>\n              </component>\n\
    \              <component componentID=\"3\">\n                 <name>CEStatus</name>\n\
    \                 <synopsis>Status of the CE</synopsis>\n                 <typeRef>CEStatusType</typeRef>\n\
    \              </component>\n           </struct>\n        </dataTypeDef>\n  \
    \      <dataTypeDef>\n           <name>ExtendedResultType</name>\n           <synopsis>\n\
    \               Possible extended result support\n           </synopsis>\n   \
    \        <atomic>\n              <baseType>uchar</baseType>\n              <rangeRestriction>\n\
    \                <allowedRange min=\"1\" max=\"2\"/>\n              </rangeRestriction>\n\
    \              <specialValues>\n                 <specialValue value=\"1\">\n\
    \                    <name>EResultNotSupported</name>\n                    <synopsis>\n\
    \                        Extended results are not supported.\n               \
    \     </synopsis>\n                 </specialValue>\n                 <specialValue\
    \ value=\"2\">\n                    <name>EResultSupported</name>\n          \
    \          <synopsis>\n                        Extended results are supported.\n\
    \                    </synopsis>\n                 </specialValue>\n         \
    \     </specialValues>\n           </atomic>\n        </dataTypeDef>\n     </dataTypeDefs>\n\
    \     <LFBClassDefs>\n        <LFBClassDef LFBClassID=\"2\">\n           <name>FEPO</name>\n\
    \           <synopsis>\n              The FE Protocol Object, with extended result\
    \ control\n           </synopsis>\n           <version>1.2</version>\n       \
    \    <components>\n              <component componentID=\"1\" access=\"read-only\"\
    >\n                 <name>CurrentRunningVersion</name>\n                 <synopsis>Currently\
    \ running ForCES version</synopsis>\n                 <typeRef>uchar</typeRef>\n\
    \              </component>\n              <component componentID=\"2\" access=\"\
    read-only\">\n                 <name>FEID</name>\n                 <synopsis>Unicast\
    \ FEID</synopsis>\n                 <typeRef>uint32</typeRef>\n              </component>\n\
    \              <component componentID=\"3\" access=\"read-write\">\n         \
    \        <name>MulticastFEIDs</name>\n                 <synopsis>\n          \
    \          The table of all multicast IDs\n                 </synopsis>\n    \
    \             <array type=\"variable-size\">\n                    <typeRef>uint32</typeRef>\n\
    \                 </array>\n              </component>\n              <component\
    \ componentID=\"4\" access=\"read-write\">\n                 <name>CEHBPolicy</name>\n\
    \                 <synopsis>\n                    The CE Heartbeat Policy\n  \
    \               </synopsis>\n                 <typeRef>CEHBPolicyValues</typeRef>\n\
    \              </component>\n              <component componentID=\"5\" access=\"\
    read-write\">\n                 <name>CEHDI</name>\n                 <synopsis>\n\
    \                    The CE Heartbeat Dead Interval in milliseconds\n        \
    \         </synopsis>\n                 <typeRef>uint32</typeRef>\n          \
    \    </component>\n              <component componentID=\"6\" access=\"read-write\"\
    >\n                 <name>FEHBPolicy</name>\n                 <synopsis>\n   \
    \                 The FE Heartbeat Policy\n                 </synopsis>\n    \
    \             <typeRef>FEHBPolicyValues</typeRef>\n              </component>\n\
    \              <component componentID=\"7\" access=\"read-write\">\n         \
    \        <name>FEHI</name>\n                 <synopsis>\n                    The\
    \ FE Heartbeat Interval in milliseconds\n                 </synopsis>\n      \
    \           <typeRef>uint32</typeRef>\n              </component>\n          \
    \    <component componentID=\"8\" access=\"read-write\">\n                 <name>CEID</name>\n\
    \                 <synopsis>\n                    The Primary CE this FE is associated\
    \ with\n                 </synopsis>\n                 <typeRef>uint32</typeRef>\n\
    \              </component>\n              <component componentID=\"9\" access=\"\
    read-write\">\n                 <name>BackupCEs</name>\n                 <synopsis>\n\
    \                    The table of all backup CEs other than the\n            \
    \        primary\n                 </synopsis>\n                 <array type=\"\
    variable-size\">\n                    <typeRef>uint32</typeRef>\n            \
    \     </array>\n              </component>\n              <component componentID=\"\
    10\" access=\"read-write\">\n                 <name>CEFailoverPolicy</name>\n\
    \                 <synopsis>\n                    The CE Failover Policy\n   \
    \              </synopsis>\n                 <typeRef>CEFailoverPolicyValues</typeRef>\n\
    \              </component>\n              <component componentID=\"11\" access=\"\
    read-write\">\n                 <name>CEFTI</name>\n                 <synopsis>\n\
    \                    The CE Failover Timeout Interval in milliseconds\n      \
    \           </synopsis>\n                 <typeRef>uint32</typeRef>\n        \
    \      </component>\n              <component componentID=\"12\" access=\"read-write\"\
    >\n                 <name>FERestartPolicy</name>\n                 <synopsis>\n\
    \                    The FE Restart Policy\n                 </synopsis>\n   \
    \              <typeRef>FERestartPolicyValues</typeRef>\n              </component>\n\
    \              <component componentID=\"13\" access=\"read-write\">\n        \
    \         <name>LastCEID</name>\n                 <synopsis>\n               \
    \     The Primary CE this FE was last associated\n                    with\n \
    \                </synopsis>\n                 <typeRef>uint32</typeRef>\n   \
    \           </component>\n              <component componentID=\"14\" access=\"\
    read-write\">\n                 <name>HAMode</name>\n                 <synopsis>\n\
    \                    The HA mode used\n                 </synopsis>\n        \
    \         <typeRef>HAModeValues</typeRef>\n              </component>\n      \
    \        <component componentID=\"15\" access=\"read-only\">\n               \
    \  <name>AllCEs</name>\n                 <synopsis>The table of all CEs</synopsis>\n\
    \                 <array type=\"variable-size\">\n                    <typeRef>AllCEType</typeRef>\n\
    \                 </array>\n               </component>\n               <component\
    \ componentID=\"16\" access=\"read-write\">\n                 <name>EResultAdmin</name>\n\
    \                 <synopsis>\n                     Turn extended results off or\
    \ on,\n                     but default to off.\n                 </synopsis>\n\
    \                 <typeRef>ExtendedResultType</typeRef>\n                 <defaultValue>1</defaultValue>\n\
    \              </component>\n           </components>\n           <capabilities>\n\
    \              <capability componentID=\"30\">\n                 <name>SupportableVersions</name>\n\
    \                 <synopsis>\n                    The table of ForCES versions\
    \ that FE supports\n                 </synopsis>\n                 <array type=\"\
    variable-size\">\n                    <typeRef>uchar</typeRef>\n             \
    \    </array>\n              </capability>\n              <capability componentID=\"\
    31\">\n                 <name>HACapabilities</name>\n                 <synopsis>\n\
    \                    The table of HA capabilities the FE supports\n          \
    \       </synopsis>\n                 <array type=\"variable-size\">\n       \
    \             <typeRef>FEHACapab</typeRef>\n                 </array>\n      \
    \        </capability>\n               <capability componentID=\"32\">\n     \
    \            <name>EResultCapab</name>\n                 <synopsis>\n        \
    \            The table of supported result capabilities\n                 </synopsis>\n\
    \                 <array type=\"variable-size\">\n                    <typeRef>ExtendedResultType</typeRef>\n\
    \                 </array>\n             </capability>\n           </capabilities>\n\
    \           <events baseID=\"61\">\n              <event eventID=\"1\">\n    \
    \             <name>PrimaryCEDown</name>\n                 <synopsis>\n      \
    \              The primary CE has changed.\n                 </synopsis>\n   \
    \              <eventTarget>\n                    <eventField>LastCEID</eventField>\n\
    \                 </eventTarget>\n                 <eventChanged/>\n         \
    \        <eventReports>\n                    <eventReport>\n                 \
    \      <eventField>LastCEID</eventField>\n                    </eventReport>\n\
    \                 </eventReports>\n              </event>\n              <event\
    \ eventID=\"2\">\n                 <name>PrimaryCEChanged</name>\n           \
    \      <synopsis>A new primary CE has been selected.\n                 </synopsis>\n\
    \                 <eventTarget>\n                    <eventField>CEID</eventField>\n\
    \                 </eventTarget>\n                 <eventChanged/>\n         \
    \        <eventReports>\n                    <eventReport>\n                 \
    \      <eventField>CEID</eventField>\n                    </eventReport>\n   \
    \              </eventReports>\n              </event>\n           </events>\n\
    \        </LFBClassDef>\n     </LFBClassDefs>\n  </LFBLibrary>\n"
- title: Acknowledgments
  contents:
  - "Acknowledgments\n   The author would like to thank Evangelos Haleplidis and Joel\
    \ Halpern\n   for discussions that made this document better.  Adrian Farrel did\
    \ an\n   excellent AD review of the document, which improved the quality of\n\
    \   this document.  Tobias Gondrom did the Security Directorate review.\n   Brian\
    \ Carpenter did the Gen-ART review.  Nevil Brownlee performed the\n   Operations\
    \ Directorate review.  S. Moonesamy (SM) worked hard to\n   review our publication\
    \ process.  Pearl Liang caught issues in the\n   IANA text.\n   The author would\
    \ like to thank the following IESG members who\n   reviewed and improved this\
    \ document: Alia Atlas, Barry Leiba, Brian\n   Haberman, Kathleen Moriarty, Richard\
    \ Barnes, and Spencer Dawkins.\n"
- title: Author's Address
  contents:
  - "Author's Address\n   Jamal Hadi Salim\n   Mojatatu Networks\n   Suite 400, 303\
    \ Moodie Dr.\n   Ottawa, Ontario  K2H 9R4\n   Canada\n   EMail: hadi@mojatatu.com\n"
