- contents:
  - "    Content Delivery Network Interconnection (CDNI) Request Routing:\n                  Footprint
    and Capabilities Semantics\n"
  title: __initial_text__
- contents:
  - "Abstract\n   This document captures the semantics of the \"Footprint and\n   Capabilities
    Advertisement\" part of the Content Delivery Network\n   Interconnection (CDNI)
    Request Routing interface, i.e., the desired\n   meaning of \"Footprint\" and
    \"Capabilities\" in the CDNI context and\n   what the \"Footprint & Capabilities
    Advertisement interface (FCI)\"\n   offers within CDNI.  The document also provides
    guidelines for the\n   CDNI FCI protocol.  It further defines a Base Advertisement
    Object,\n   the necessary registries for capabilities and footprints, and\n   guidelines
    on how these registries can be extended in the future.\n"
  title: Abstract
- contents:
  - "Status of This Memo\n   This is an Internet Standards Track document.\n   This
    document is a product of the Internet Engineering Task Force\n   (IETF).  It represents
    the consensus of the IETF community.  It has\n   received public review and has
    been approved for publication by the\n   Internet Engineering Steering Group (IESG).
    \ Further information on\n   Internet Standards is available in Section 2 of RFC
    7841.\n   Information about the current status of this document, any errata,\n
    \  and how to provide feedback on it may be obtained at\n   http://www.rfc-editor.org/info/rfc8008.\n"
  title: Status of This Memo
- contents:
  - "Copyright Notice\n   Copyright (c) 2016 IETF Trust and the persons identified
    as the\n   document authors.  All rights reserved.\n   This document is subject
    to BCP 78 and the IETF Trust's Legal\n   Provisions Relating to IETF Documents\n
    \  (http://trustee.ietf.org/license-info) in effect on the date of\n   publication
    of this document.  Please review these documents\n   carefully, as they describe
    your rights and restrictions with respect\n   to this document.  Code Components
    extracted from this document must\n   include Simplified BSD License text as described
    in Section 4.e of\n   the Trust Legal Provisions and are provided without warranty
    as\n   described in the Simplified BSD License.\n"
  title: Copyright Notice
- contents:
  - "Table of Contents\n   1. Introduction and Scope ..........................................4\n
    \     1.1. Terminology ................................................5\n   2.
    Design Decisions for Footprint and Capabilities .................6\n      2.1.
    Advertising Limited Coverage ...............................6\n      2.2. Capabilities
    and Dynamic Data ..............................7\n      2.3. Advertisement versus
    Queries ...............................8\n      2.4. Avoiding or Handling \"Cheating\"
    dCDNs ......................8\n   3. Focusing on Capabilities with Footprint Restrictions
    ............9\n   4. Footprint and Capabilities Extension ............................9\n
    \  5. Capability Advertisement Object ................................11\n      5.1.
    Base Advertisement Object .................................12\n      5.2. Encoding
    ..................................................12\n      5.3. Delivery Protocol
    Capability Object .......................13\n           5.3.1. Delivery Protocol
    Capability Object Serialization ..13\n      5.4. Acquisition Protocol Capability
    Object ....................14\n           5.4.1. Acquisition Protocol Capability
    Object\n                  Serialization ......................................14\n
    \     5.5. Redirection Mode Capability Object ........................15\n           5.5.1.
    Redirection Mode Capability Object Serialization ...15\n      5.6. CDNI Logging
    Capability Object ............................16\n           5.6.1. CDNI Logging
    Capability Object Serialization .......17\n      5.7. CDNI Metadata Capability
    Object ...........................18\n           5.7.1. CDNI Metadata Capability
    Object Serialization ......19\n   6. IANA Considerations ............................................20\n
    \     6.1. CDNI Payload Types ........................................20\n           6.1.1.
    CDNI FCI DeliveryProtocol Payload Type .............20\n           6.1.2. CDNI
    FCI AcquisitionProtocol Payload Type ..........20\n           6.1.3. CDNI FCI
    RedirectionMode Payload Type ..............20\n           6.1.4. CDNI FCI Logging
    Payload Type ......................21\n           6.1.5. CDNI FCI Metadata Payload
    Type .....................21\n      6.2. \"CDNI Capabilities Redirection Modes\"
    Registry ............21\n   7. Security Considerations ........................................22\n
    \  8. References .....................................................23\n      8.1.
    Normative References ......................................23\n      8.2. Informative
    References ....................................24\n   Appendix A. Main Use Case
    to Consider .............................25\n   Appendix B. Semantics for Footprint
    Advertisement .................25\n   Appendix C. Semantics for Capabilities Advertisement
    ..............27\n   Acknowledgments ...................................................30\n
    \  Authors' Addresses ................................................30\n"
  title: Table of Contents
- contents:
  - "1.  Introduction and Scope\n   The CDNI working group is working on a set of
    protocols to enable the\n   interconnection of multiple CDNs.  These CDNI protocols
    can serve\n   multiple purposes, as discussed in [RFC6770] -- for instance, to\n
    \  extend the reach of a given CDN to areas in the network that are not\n   covered
    by that particular CDN.\n   The goal of this document is to achieve a clear understanding
    about\n   the semantics associated with the CDNI Request Routing Footprint &\n
    \  Capabilities Advertisement interface (from now on referred to as\n   the FCI)
    [RFC7336], in particular the type of information a\n   downstream CDN (dCDN) \"advertises\"
    regarding its footprint and\n   capabilities.  To narrow down undecided aspects
    of these semantics,\n   this document tries to establish a common understanding
    of what the\n   FCI needs to offer and accomplish in the context of CDNI.\n   Deciding
    on specific protocols to use for the FCI is explicitly\n   outside the scope of
    this document.  However, we provide guidelines\n   for such FCI protocols.\n   We
    make the following general assumptions in this document:\n   o  The CDNs participating
    in the CDN interconnection have already\n      performed a bootstrap process,
    i.e., they have connected to each\n      other, either directly or indirectly,
    and can exchange information\n      amongst each other.\n   o  The upstream CDN
    (uCDN) receives footprint advertisements and/or\n      capability advertisements
    from a set of dCDNs.  Footprint\n      advertisements and capability advertisements
    need not use the same\n      underlying protocol.\n   o  The uCDN receives the
    initial Request Routing message from the\n      endpoint requesting the resource.\n
    \  The CDNI problem statement [RFC6707] describes the Request Routing\n   interface
    as \"[enabling] a Request Routing function in an Upstream\n   CDN to query a Request
    Routing function in a Downstream CDN to\n   determine if the Downstream CDN is
    able (and willing) to accept the\n   delegated Content Request.\"  In addition,
    [RFC6707] says \"the CDNI\n   Request Routing interface is also expected to enable
    a Downstream CDN\n   to provide to the Upstream CDN (static or dynamic) information
    (e.g.,\n   resources, footprint, load) to facilitate selection of the Downstream\n
    \  CDN by the Upstream CDN Request Routing system when processing\n   subsequent
    Content Requests from User Agents.\"  It thus considers\n   \"resources\" and
    \"load\" as capabilities to be advertised by the dCDN.\n   The range of different
    footprint definitions and possible\n   capabilities is very broad.  Attempting
    to define a comprehensive\n   advertisement solution quickly becomes intractable.
    \ The CDNI\n   requirements document [RFC7337] lists the specific requirements
    for\n   the CDNI FCI in order to disambiguate footprints and capabilities\n   with
    respect to CDNI.  This document defines a common understanding\n   of what the
    terms \"footprint\" and \"capabilities\" mean in the context\n   of CDNI and details
    the semantics of the footprint advertisement\n   mechanism and the capability
    advertisement mechanism.\n"
  - contents:
    - "1.1.  Terminology\n   This document reuses the terminology defined in [RFC6707].\n
      \  Additionally, the following terms are used throughout this document\n   and
      are defined as follows:\n   o  Footprint: a description of a CDN's coverage
      area, i.e., the area\n      from which client requests may originate for content
      and to which\n      the CDN is willing to deliver content.  Note: There are
      many ways\n      to describe a footprint -- for example, by address range (e.g.,\n
      \     IPv4 CIDR or IPv6 CIDR (Classless Inter-Domain Routing), network\n      ID
      (e.g., Autonomous System Number (ASN)), nation boundaries\n      (e.g., country
      code), or GPS coordinates.  This document does not\n      define or endorse
      the quality or suitability of any particular\n      footprint description method;
      rather, it only defines a method for\n      transporting known footprint descriptions
      in Footprint and\n      Capabilities Advertisement messages.\n   o  Capability:
      a feature of a dCDN upon whose support a uCDN relies\n      when making delegation
      decisions.  Support for a given feature can\n      change over time and can
      be restricted to a limited portion of a\n      dCDN's footprint.  Note: There
      are many possible dCDN features\n      that could be of interest to a uCDN.
      \ This document does not\n      presume to define them all; rather, it describes
      a scheme for\n      defining new capabilities and how to transport them in Footprint\n
      \     and Capabilities Advertisement messages.\n   The key words \"MUST\", \"MUST
      NOT\", \"REQUIRED\", \"SHALL\", \"SHALL NOT\",\n   \"SHOULD\", \"SHOULD NOT\",
      \"RECOMMENDED\", \"MAY\", and \"OPTIONAL\" in this\n   document are to be interpreted
      as described in RFC 2119 [RFC2119].\n"
    title: 1.1.  Terminology
  title: 1.  Introduction and Scope
- contents:
  - "2.  Design Decisions for Footprint and Capabilities\n   A large part of the difficulty
    in discussing the FCI lies in\n   understanding what exactly is meant when trying
    to define a footprint\n   in terms of \"coverage\" or \"reachability\".  While
    the operators of\n   CDNs pick strategic locations to situate Surrogates, a Surrogate
    with\n   a public IPv4 address is reachable by any endpoint on the Internet,\n
    \  unless some policy enforcement precludes the use of the Surrogate.\n   Some
    CDNs aspire to cover the entire world; we refer to these as\n   global CDNs.  The
    footprint advertised by such a CDN in the CDNI\n   environment would, from a coverage
    or reachability perspective,\n   presumably cover all prefixes.  Potentially more
    interesting for CDNI\n   use cases, however, are CDNs that claim a more limited
    coverage area\n   but seek to interconnect with other CDNs in order to create
    a single\n   CDN fabric that shares resources.\n   Furthermore, not all capabilities
    need to be footprint-restricted.\n   Depending upon the use case, the optimal
    semantics of \"footprints\n   with capability attributes\" vs. \"capabilities
    with footprint\n   restrictions\" are not clear.\n   The key to understanding
    the semantics of footprint advertisements\n   and capability advertisements lies
    in understanding why a dCDN would\n   advertise a limited coverage area and how
    a uCDN would use such\n   advertisements to decide among one of several dCDNs.
    \ The following\n   section will discuss some of the trade-offs and design decisions
    that\n   need to be made for the CDNI FCI.\n"
  - contents:
    - "2.1.  Advertising Limited Coverage\n   The basic use case that would motivate
      a dCDN to advertise limited\n   coverage is that the CDN was built to cover
      only a particular portion\n   of the Internet.  For example, an ISP could purpose-build
      a CDN to\n   serve only their own customers by situating Surrogates in close\n
      \  topological proximity to high concentrations of their subscribers.\n   The
      ISP knows the prefixes it has allocated to end users and thus can\n   easily
      construct a list of prefixes that its Surrogates were\n   positioned to serve.\n
      \  When such a purpose-built CDN interconnects with other CDNs and\n   advertises
      its footprint to a uCDN, however, the original intended\n   coverage of the
      CDN might not represent its actual value to the\n   interconnection of CDNs.
      \ Consider an ISP-A and ISP-B that both field\n   their own CDNs, which they
      interconnect via CDNI.  A given user E,\n   who is a customer of ISP-B, might
      happen to be topologically closer\n   to a Surrogate fielded by ISP-A, if E
      happens to live in a region\n   where ISP-B has few customers and ISP-A has
      many.  In this case, is\n   it ISP-A's CDN that \"covers\" E?  If ISP-B's CDN
      has a failure\n   condition, is it up to the uCDN to understand that ISP-A's
      Surrogates\n   are potentially available as backups, and if so, how does ISP-A\n
      \  advertise itself as a \"standby\" for E?  What about the case where\n   CDNs
      advertising to the same uCDN express overlapping coverage (for\n   example,
      mixing global and limited CDNs)?\n   The answers to these questions greatly
      depend on how much information\n   the uCDN wants to use to select a dCDN.  If
      a uCDN has three dCDNs to\n   choose from that \"cover\" the IP address of user
      E, obviously the uCDN\n   might be interested in knowing how optimal the coverage
      is from each\n   of the dCDNs.  Coverage need not be binary (i.e., either provided
      or\n   not provided); dCDNs could advertise a coverage \"score\", for example,\n
      \  and provided that they all reported scores fairly on the same scale,\n   uCDNs
      could use that information to make their topological optimality\n   decision.
      \ Alternately, dCDNs could advertise the IP addresses of\n   their Surrogates
      rather than prefix \"coverage\" and let the uCDN\n   decide for itself (based
      on its own topological intelligence) which\n   dCDN has better resources to
      serve a given user.\n   In summary, the semantics of advertising a footprint
      depend on\n   whether (1) such qualitative metrics for expressing a footprint
      (such\n   as the coverage \"score\" mentioned above) are included as part of
      the\n   CDNI FCI or (2) the focus is just on a \"binary\" footprint.\n"
    title: 2.1.  Advertising Limited Coverage
  - contents:
    - "2.2.  Capabilities and Dynamic Data\n   In cases where the apparent footprints
      of dCDNs overlap, uCDNs might\n   also want to rely on other factors to evaluate
      the respective merits\n   of dCDNs.  These include facts related to the Surrogates
      themselves,\n   the network where the Surrogate is deployed, the nature of the\n
      \  resource sought, and the administrative policies of the respective\n   networks.\n
      \  In the absence of network-layer impediments to reaching Surrogates,\n   the
      choice to limit coverage is, by necessity, an administrative\n   policy.  Much
      policy needs to be agreed upon before CDNs can\n   interconnect, including questions
      of membership, compensation,\n   volumes, and so on.  A uCDN certainly will
      factor these sorts of\n   considerations into its decision to select a dCDN,
      but there is\n   probably little need for dCDNs to actually advertise them through
      an\n   interface -- they will be settled out-of-band as a precondition for\n
      \  interconnection.\n   Other facts about the dCDN would be expressed through
      the interface\n   to the uCDN.  Some capabilities of a dCDN are static, and
      some are\n   highly dynamic.  Expressing the total storage built into its\n
      \  Surrogates, for example, changes relatively rarely, whereas the\n   amount
      of storage in use at any given moment is highly volatile.\n   Network bandwidth
      similarly could be expressed either as total\n   bandwidth available to a Surrogate
      or based on the current state of\n   the network.  A Surrogate can at one moment
      lack a particular\n   resource in storage but have it the next.\n   The semantics
      of the capabilities interface will depend on how much\n   of the dCDN state
      needs to be pushed to the uCDN and, qualitatively,\n   how often that information
      needs to be updated.\n"
    title: 2.2.  Capabilities and Dynamic Data
  - contents:
    - "2.3.  Advertisement versus Queries\n   In a CDNI environment, each dCDN shares
      some of its state with the\n   uCDN.  The uCDN uses this information to build
      a unified picture of\n   all of the dCDNs available to it.  In architectures
      that share\n   detailed capability information, the uCDN could perform the entire\n
      \  Request Routing operation down to selecting a particular Surrogate in\n   the
      dCDN.  However, when the uCDN needs to deal with many potential\n   dCDNs, this
      approach does not scale, especially for dCDNs with\n   thousands or tens of
      thousands of Surrogates; the volume of updates\n   to the footprint and the
      capability information becomes onerous.\n   Were the volume of FCI updates from
      dCDNs to exceed the volume of\n   requests to the uCDN, it might make more sense
      for the uCDN to query\n   dCDNs upon receiving requests (as is the case in the
      recursive\n   redirection mode described in [RFC7336]), instead of receiving\n
      \  advertisements and tracking the state of dCDNs.  The advantage of\n   querying
      dCDNs would be that much of the dynamic data that dCDNs\n   cannot share with
      the uCDN would now be factored into the uCDN's\n   decision. dCDNs need not
      replicate any state to the uCDN -- uCDNs\n   could effectively operate in a
      stateless mode.\n   The semantics of both footprint advertisements and capability\n
      \  advertisements depend on the service model here: are there cases\n   where
      a synchronous query/response model would work better for the\n   uCDN decision
      than a state replication model?\n"
    title: 2.3.  Advertisement versus Queries
  - contents:
    - "2.4.  Avoiding or Handling \"Cheating\" dCDNs\n   In a situation where more
      than one dCDN is willing to serve a given\n   end user request, it might be
      attractive for a dCDN to \"cheat\" in the\n   sense that the dCDN provides inaccurate
      information to the uCDN in\n   order to convince the uCDN to select it over
      \"competing\" dCDNs.  It\n   could therefore be desirable to take away the incentive
      for dCDNs to\n   cheat (in information advertised) as much as possible.  One
      option is\n   to make the information the dCDN advertises somehow verifiable
      for\n   the uCDN.  On the other hand, a \"cheating\" dCDN might be avoided or\n
      \  handled by the fact that there will be strong contractual agreements\n   between
      a uCDN and a dCDN, so that a dCDN would risk severe penalties\n   or legal consequences
      when caught cheating.\n   Overall, the information a dCDN advertises (in the
      long run) needs to\n   be somehow qualitatively verifiable by the uCDN, though
      possibly\n   through non-real-time out-of-band audits.  It is probably an overly\n
      \  strict requirement to mandate that such verification be possible\n   \"immediately\",
      i.e., during the Request Routing process itself.  If\n   the uCDN can detect
      a cheating dCDN at a later stage, it might\n   suffice for the uCDN to \"de-incentivize\"
      cheating because it would\n   negatively affect the long-term business relationship
      with a\n   particular dCDN.\n"
    title: 2.4.  Avoiding or Handling "Cheating" dCDNs
  title: 2.  Design Decisions for Footprint and Capabilities
- contents:
  - "3.  Focusing on Capabilities with Footprint Restrictions\n   Given the design
    considerations listed in the previous section, it\n   seems reasonable to assume
    that in most cases it is the uCDN that\n   makes the decision to select a certain
    dCDN for Request Routing based\n   on information the uCDN has received from this
    particular dCDN.  It\n   can be assumed that cheating dCDNs will be dealt with
    via means\n   outside the scope of CDNI and that the information advertised between\n
    \  CDNs is accurate.  In addition, excluding the use of qualitative\n   information
    (e.g., Surrogate proximity, delivery latency, Surrogate\n   load) to predict the
    quality of delivery would further simplify the\n   use case, allowing it to better
    focus on the basic functionality of\n   the FCI.\n   Furthermore, understanding
    that in most cases contractual agreements\n   will define the basic coverage used
    in delegation decisions, the\n   primary focus of the FCI is on providing updates
    to the basic\n   capabilities and coverage by the dCDNs.  As such, the FCI has
    chosen\n   the semantics of \"capabilities with footprint restrictions\".\n"
  title: 3.  Focusing on Capabilities with Footprint Restrictions
- contents:
  - "4.  Footprint and Capabilities Extension\n   Other optional \"coverage/reachability\"
    footprint types or \"resource\"\n   footprint types may be defined by future specifications.
    \ To\n   facilitate this, a clear process for specifying optional footprint\n
    \  types in an IANA registry is specified in the \"CDNI Metadata\n   Footprint
    Types\" registry (defined in the CDNI Metadata interface\n   document [RFC8006]).\n
    \  This document also registers CDNI Payload Types [RFC7736] for the\n   initial
    capability types (see Section 6):\n   o  Delivery Protocol (for delivering content
    to the end user)\n   o  Acquisition Protocol (for acquiring content from the uCDN
    or\n      origin server)\n   o  Redirection Mode (e.g., DNS redirection vs. HTTP
    redirection as\n      discussed in [RFC7336])\n   o  CDNI Logging (i.e., supported
    CDNI Logging fields)\n   o  CDNI Metadata (i.e., supported GenericMetadata types)\n
    \  Each Payload Type is prefaced with \"FCI.\".  Updates to capability\n   objects
    MUST indicate the version of the capability object in a newly\n   registered Payload
    Type, e.g., by appending \".v2\".  Each capability\n   type MAY have a list of
    valid values.  Future specifications that\n   define a given capability MUST define
    any necessary registries (and\n   the rules for adding new entries to the registry)
    for the values\n   advertised for a given capability type.\n   The \"CDNI Logging
    record-types\" registry [RFC7937] defines all known\n   record-types, including
    \"mandatory-to-implement\" record-types.\n   Advertising support for mandatory-to-implement
    record-types would be\n   redundant.  CDNs SHOULD NOT advertise support for\n
    \  mandatory-to-implement record-types.\n   The \"CDNI Logging Field Names\" registry
    [RFC7937] defines all known\n   CDNI Logging fields.  CDNI Logging fields may
    be reused by different\n   record-types and be mandatory-to-implement in some
    record-types, but\n   they may be optional in other record-types.  CDNs MUST advertise\n
    \  support for optional CDNI Logging fields within the context of a\n   specific
    record-type.  For a given record-type, CDNs SHOULD NOT\n   advertise support for
    mandatory-to-implement CDNI Logging fields.\n   The following CDNI Logging fields
    are defined as optional for the\n   \"cdni_http_request_v1\" record-type [RFC7937]:\n
    \  o  s-ccid\n   o  s-sid\n   [RFC8006] requires that CDNs be able to parse all
    the defined\n   metadata objects but does not require dCDNs to support enforcement
    of\n   non-structural GenericMetadata objects.  Advertising support for\n   \"mandatory-to-enforce\"
    GenericMetadata types MUST be provided.\n   Advertising support for non-mandatory-to-enforce
    GenericMetadata\n   types SHOULD be provided.  Advertisement of non-mandatory-to-enforce\n
    \  GenericMetadata MAY be necessary, e.g., to signal temporary outages\n   and
    subsequent recovery.  It is expected that structural metadata\n   will be supported
    at all times.\n   The notion of optional footprint types and capability types
    implies\n   that certain implementations might not support all kinds of\n   footprints
    and capabilities.  Therefore, any FCI solution protocol\n   MUST define how the
    support for optional footprint types and\n   capability types will be negotiated
    between a uCDN and a dCDN that\n   use the particular FCI protocol.  In particular,
    any FCI solution\n   protocol MUST specify how to handle failure cases or non-supported\n
    \  footprint or capability types.\n   In general, a uCDN MAY ignore capabilities
    or footprint types it does\n   not understand; in this case, it only selects a
    suitable dCDN based\n   on the types of capabilities and footprints it understands.\n
    \  Similarly, if a dCDN does not use an optional capability or footprint\n   that
    is, however, supported by a uCDN, this causes no problem for FCI\n   functionality
    because the uCDN decides on the remaining\n   capabilities/footprint information
    that is being conveyed by\n   the dCDN.\n"
  title: 4.  Footprint and Capabilities Extension
- contents:
  - "5.  Capability Advertisement Object\n   To support extensibility, the FCI defines
    a generic base object\n   (similar to the CDNI Metadata interface GenericMetadata
    object)\n   [RFC8006] to facilitate a uniform set of mandatory parsing\n   requirements
    for all future FCI objects.\n   Future object definitions (e.g., regarding the
    CDNI Metadata or CDNI\n   Logging interfaces) will build off the base object defined
    here but\n   will be specified in separate documents.\n   Note: In the following
    sections, the term \"mandatory-to-specify\" is\n   used to convey which properties
    MUST be included when serializing a\n   given capability object.  When mandatory-to-specify
    is defined as\n   \"Yes\" for an individual property, it means that if the object\n
    \  containing that property is included in an FCI message, then the\n   mandatory-to-specify
    property MUST also be included.\n"
  - contents:
    - "5.1.  Base Advertisement Object\n   The FCIBase object is an abstraction for
      managing individual CDNI\n   capabilities in an opaque manner.\n      Property:
      capability-type\n         Description: CDNI capability object type.\n         Type:
      FCI-specific CDNI Payload Type (from the \"CDNI Payload\n         Types\" registry
      [RFC7736])\n         Mandatory-to-Specify: Yes.\n      Property: capability-value\n
      \        Description: CDNI capability object.\n         Type: Format/Type is
      defined by the value of the\n         capability-type property above\n         Mandatory-to-Specify:
      Yes.\n      Property: footprints\n         Description: CDNI capability footprint.\n
      \        Type: List of CDNI Footprint objects (from the \"CDNI Metadata\n         Footprint
      Types\" registry [RFC8006])\n         Mandatory-to-Specify: No.\n"
    title: 5.1.  Base Advertisement Object
  - contents:
    - "5.2.  Encoding\n   CDNI FCI objects MUST be encoded using JSON [RFC7159] and
      MUST also\n   follow the recommendations of I-JSON (Internet JSON) [RFC7493].
      \ FCI\n   objects are composed of a dictionary of (key,value) pairs where the\n
      \  keys are the property names and the values are the associated\n   property
      values.\n   The keys of the dictionary are the names of the properties associated\n
      \  with the object and are therefore dependent on the specific object\n   being
      encoded (i.e., dependent on the CDNI Payload Type of the\n   capability or the
      CDNI Metadata Footprint Type of the footprint).\n   Likewise, the values associated
      with each property (dictionary key)\n   are dependent on the specific object
      being encoded (i.e., dependent\n   on the CDNI Payload Type of the capability
      or the CDNI Metadata\n   Footprint Type of the footprint).\n   Dictionary keys
      (properties) in JSON are case sensitive.  By\n   convention, any dictionary
      key (property) defined by this document\n   MUST be lowercase.\n"
    title: 5.2.  Encoding
  - contents:
    - "5.3.  Delivery Protocol Capability Object\n   The Delivery Protocol capability
      object is used to indicate support\n   for one or more of the protocols listed
      in the \"CDNI Metadata\n   Protocol Types\" registry (defined in [RFC8006]).\n
      \     Property: delivery-protocols\n         Description: List of supported
      CDNI delivery protocols.\n         Type: List of protocol types (from the \"CDNI
      Metadata Protocol\n         Types\" registry [RFC8006])\n         Mandatory-to-Specify:
      Yes.\n"
    - contents:
      - "5.3.1.  Delivery Protocol Capability Object Serialization\n   The following
        shows an example of Delivery Protocol capability object\n   serialization
        for a CDN that supports only HTTP/1.1 without Transport\n   Layer Security
        (TLS) for content delivery.\n   {\n     \"capabilities\": [\n       {\n         \"capability-type\":
        \"FCI.DeliveryProtocol\",\n         \"capability-value\": {\n           \"delivery-protocols\":
        [\n             \"http/1.1\",\n           ]\n         },\n         \"footprints\":
        [\n           <Footprint objects>\n         ]\n       }\n     ]\n   }\n"
      title: 5.3.1.  Delivery Protocol Capability Object Serialization
    title: 5.3.  Delivery Protocol Capability Object
  - contents:
    - "5.4.  Acquisition Protocol Capability Object\n   The Acquisition Protocol capability
      object is used to indicate\n   support for one or more of the protocols listed
      in the \"CDNI Metadata\n   Protocol Types\" registry (defined in [RFC8006]).\n
      \     Property: acquisition-protocols\n         Description: List of supported
      CDNI acquisition protocols.\n         Type: List of protocol types (from the
      \"CDNI Metadata Protocol\n         Types\" registry [RFC8006])\n         Mandatory-to-Specify:
      Yes.\n"
    - contents:
      - "5.4.1.  Acquisition Protocol Capability Object Serialization\n   The following
        shows an example of Acquisition Protocol capability\n   object serialization
        for a CDN that supports HTTP/1.1 with or without\n   TLS for content acquisition.\n
        \  {\n     \"capabilities\": [\n       {\n         \"capability-type\": \"FCI.AcquisitionProtocol\",\n
        \        \"capability-value\": {\n           \"acquisition-protocols\": [\n
        \            \"http/1.1\",\n             \"https/1.1\"\n           ]\n         },\n
        \        \"footprints\": [\n           <Footprint objects>\n         ]\n       }\n
        \    ]\n   }\n"
      title: 5.4.1.  Acquisition Protocol Capability Object Serialization
    title: 5.4.  Acquisition Protocol Capability Object
  - contents:
    - "5.5.  Redirection Mode Capability Object\n   The Redirection Mode capability
      object is used to indicate support\n   for one or more of the modes listed in
      the \"CDNI Capabilities\n   Redirection Modes\" registry (see Section 6.2).\n
      \     Property: redirection-modes\n         Description: List of supported CDNI
      redirection modes.\n         Type: List of redirection modes (from the \"CDNI
      Capabilities\n         Redirection Modes\" registry, defined in Section 6.2)\n
      \        Mandatory-to-Specify: Yes.\n"
    - contents:
      - "5.5.1.  Redirection Mode Capability Object Serialization\n   The following
        shows an example of Redirection Mode capability object\n   serialization for
        a CDN that supports only iterative (i.e., not\n   recursive) redirection with
        HTTP and DNS.\n   {\n     \"capabilities\": [\n       {\n         \"capability-type\":
        \"FCI.RedirectionMode\",\n         \"capability-value\": {\n           \"redirection-modes\":
        [\n             \"DNS-I\",\n             \"HTTP-I\"\n           ]\n         }\n
        \        \"footprints\": [\n           <Footprint objects>\n         ]\n       }\n
        \    ]\n   }\n"
      title: 5.5.1.  Redirection Mode Capability Object Serialization
    title: 5.5.  Redirection Mode Capability Object
  - contents:
    - "5.6.  CDNI Logging Capability Object\n   The CDNI Logging capability object
      is used to indicate support for\n   CDNI Logging record-types, as well as CDNI
      Logging fields that are\n   marked as optional for the specified record-types
      [RFC7937].\n      Property: record-type\n         Description: Supported CDNI
      Logging record-type.\n         Type: String corresponding to an entry from the
      \"CDNI Logging\n         record-types\" registry [RFC7937]\n         Mandatory-to-Specify:
      Yes.\n      Property: fields\n         Description: List of supported CDNI Logging
      fields that are\n         optional for the specified record-type.\n         Type:
      List of strings corresponding to entries from the \"CDNI\n         Logging Field
      Names\" registry [RFC7937]\n         Mandatory-to-Specify: No.  Default is that
      all optional fields\n         are supported.  Omission of this field MUST be
      interpreted as\n         \"all optional fields are supported\".  An empty list
      MUST be\n         interpreted as \"no optional fields are supported\".  Otherwise,\n
      \        if a list of fields is provided, the fields in that list MUST\n         be
      interpreted as \"the only optional fields that are\n         supported\".\n"
    - contents:
      - "5.6.1.  CDNI Logging Capability Object Serialization\n   The following shows
        an example of CDNI Logging capability object\n   serialization for a CDN that
        supports the optional Content\n   Collection ID CDNI Logging field (but not
        the optional Session ID\n   CDNI Logging field) for the \"cdni_http_request_v1\"
        record-type.\n   {\n     \"capabilities\": [\n       {\n         \"capability-type\":
        \"FCI.Logging\",\n         \"capability-value\": {\n           \"record-type\":
        \"cdni_http_request_v1\",\n           \"fields\": [\"s-ccid\"]\n         },\n
        \        \"footprints\": [\n           <Footprint objects>\n         ]\n       }\n
        \    ]\n   }\n   The next example shows the CDNI Logging capability object\n
        \  serialization for a CDN that supports all optional fields for the\n   \"cdni_http_request_v1\"
        record-type.\n   {\n     \"capabilities\": [\n       {\n         \"capability-type\":
        \"FCI.Logging\",\n         \"capability-value\": {\n           \"record-type\":
        \"cdni_http_request_v1\"\n         },\n         \"footprints\": [\n           <Footprint
        objects>\n         ]\n       }\n     ]\n   }\n   The final example shows the
        CDNI Logging capability object\n   serialization for a CDN that supports none
        of the optional fields for\n   the \"cdni_http_request_v1\" record-type.\n
        \  {\n     \"capabilities\": [\n       {\n         \"capability-type\": \"FCI.Logging\",\n
        \        \"capability-value\": {\n           \"record-type\": \"cdni_http_request_v1\",\n
        \          \"fields\": []\n         },\n         \"footprints\": [\n           <Footprint
        objects>\n         ]\n       }\n     ]\n   }\n"
      title: 5.6.1.  CDNI Logging Capability Object Serialization
    title: 5.6.  CDNI Logging Capability Object
  - contents:
    - "5.7.  CDNI Metadata Capability Object\n   The CDNI Metadata capability object
      is used to indicate support for\n   CDNI GenericMetadata types [RFC8006].\n
      \     Property: metadata\n         Description: List of supported CDNI GenericMetadata
      types.\n         Type: List of strings corresponding to entries from the \"CDNI\n
      \        Payload Types\" registry [RFC7736] that correspond to CDNI\n         GenericMetadata
      objects\n         Mandatory-to-Specify: Yes.  An empty list MUST be interpreted\n
      \        as \"no GenericMetadata types are supported\", i.e., \"only\n         structural
      metadata and simple types are supported\"; otherwise,\n         the list must
      be interpreted as containing \"the only\n         GenericMetadata types that
      are supported\" (in addition to\n         structural metadata and simple types)
      [RFC8006].\n"
    - contents:
      - "5.7.1.  CDNI Metadata Capability Object Serialization\n   The following shows
        an example of CDNI Metadata capability object\n   serialization for a CDN
        that supports only the SourceMetadata\n   GenericMetadata type (i.e., it can
        acquire and deliver content but\n   cannot enforce any security policies,
        e.g., time, location, or\n   protocol Access Control Lists (ACLs)).\n   {\n
        \    \"capabilities\": [\n       {\n         \"capability-type\": \"FCI.Metadata\",\n
        \        \"capability-value\": {\n           \"metadata\": [\"MI.SourceMetadata\"]\n
        \        },\n         \"footprints\": [\n           <Footprint objects>\n
        \        ]\n       }\n     ]\n   }\n   The next example shows the CDNI Metadata
        capability object\n   serialization for a CDN that supports only structural
        metadata (i.e.,\n   it can parse metadata as a transit CDN but cannot enforce
        security\n   policies or deliver content).\n   {\n     \"capabilities\": [\n
        \      {\n         \"capability-type\": \"FCI.Metadata\",\n         \"capability-value\":
        {\n           \"metadata\": []\n         },\n         \"footprints\": [\n
        \          <Footprint objects>\n         ]\n       }\n     ]\n   }\n"
      title: 5.7.1.  CDNI Metadata Capability Object Serialization
    title: 5.7.  CDNI Metadata Capability Object
  title: 5.  Capability Advertisement Object
- contents:
  - '6.  IANA Considerations

    '
  - contents:
    - "6.1.  CDNI Payload Types\n   This document registers the following CDNI Payload
      Types under the\n   IANA \"CDNI Payload Types\" registry:\n                +-------------------------+---------------+\n
      \               | Payload Type            | Specification |\n                +-------------------------+---------------+\n
      \               | FCI.DeliveryProtocol    | RFC 8008      |\n                |
      FCI.AcquisitionProtocol | RFC 8008      |\n                | FCI.RedirectionMode
      \    | RFC 8008      |\n                | FCI.Logging             | RFC 8008
      \     |\n                | FCI.Metadata            | RFC 8008      |\n                +-------------------------+---------------+\n"
    - contents:
      - "6.1.1.  CDNI FCI DeliveryProtocol Payload Type\n   Purpose: The purpose of
        this Payload Type is to distinguish FCI\n   advertisement objects for supported
        delivery protocols\n   Interface: FCI\n   Encoding: see Section 5.3\n"
      title: 6.1.1.  CDNI FCI DeliveryProtocol Payload Type
    - contents:
      - "6.1.2.  CDNI FCI AcquisitionProtocol Payload Type\n   Purpose: The purpose
        of this Payload Type is to distinguish FCI\n   advertisement objects for supported
        acquisition protocols\n   Interface: FCI\n   Encoding: see Section 5.4\n"
      title: 6.1.2.  CDNI FCI AcquisitionProtocol Payload Type
    - contents:
      - "6.1.3.  CDNI FCI RedirectionMode Payload Type\n   Purpose: The purpose of
        this Payload Type is to distinguish FCI\n   advertisement objects for supported
        redirection modes\n   Interface: FCI\n   Encoding: see Section 5.5\n"
      title: 6.1.3.  CDNI FCI RedirectionMode Payload Type
    - contents:
      - "6.1.4.  CDNI FCI Logging Payload Type\n   Purpose: The purpose of this Payload
        Type is to distinguish FCI\n   advertisement objects for supported CDNI Logging
        record-types and\n   optional CDNI Logging field names\n   Interface: FCI\n
        \  Encoding: see Section 5.6\n"
      title: 6.1.4.  CDNI FCI Logging Payload Type
    - contents:
      - "6.1.5.  CDNI FCI Metadata Payload Type\n   Purpose: The purpose of this Payload
        Type is to distinguish FCI\n   advertisement objects for supported CDNI GenericMetadata
        types\n   Interface: FCI\n   Encoding: see Section 5.7\n"
      title: 6.1.5.  CDNI FCI Metadata Payload Type
    title: 6.1.  CDNI Payload Types
  - contents:
    - "6.2.  \"CDNI Capabilities Redirection Modes\" Registry\n   IANA has created
      a new \"CDNI Capabilities Redirection Modes\" registry\n   in the \"Content
      Delivery Network Interconnection (CDNI) Parameters\"\n   registry.  The \"CDNI
      Capabilities Redirection Modes\" namespace\n   defines the valid redirection
      modes that can be advertised as\n   supported by a CDN.  Additions to the \"CDNI
      Capabilities Redirection\n   Modes\" namespace conform to the IETF Review policy
      as defined in\n   [RFC5226].\n   The following table defines the initial redirection
      modes:\n    +------------------+----------------------------------+----------+\n
      \   | Redirection Mode | Description                      | RFC      |\n    +------------------+----------------------------------+----------+\n
      \   | DNS-I            | Iterative DNS-based Redirection  | RFC 8008 |\n    |
      DNS-R            | Recursive DNS-based Redirection  | RFC 8008 |\n    | HTTP-I
      \          | Iterative HTTP-based Redirection | RFC 8008 |\n    | HTTP-R           |
      Recursive HTTP-based Redirection | RFC 8008 |\n    +------------------+----------------------------------+----------+\n"
    title: 6.2.  "CDNI Capabilities Redirection Modes" Registry
  title: 6.  IANA Considerations
- contents:
  - "7.  Security Considerations\n   This specification describes the semantics for
    capabilities and\n   footprint advertisement objects across interconnected CDNs.
    \ It does\n   not, however, specify a concrete protocol for transporting those\n
    \  objects.  Specific security mechanisms can only be selected for\n   concrete
    protocols that instantiate these semantics.  This document\n   does, however,
    place some high-level security constraints on such\n   protocols.\n   All protocols
    that implement these capabilities and footprint\n   advertisement objects are
    REQUIRED to provide integrity and\n   authentication services.  Without authentication
    and integrity, an\n   attacker could trivially deny service by forging a footprint\n
    \  advertisement from a dCDN that claims the network has no footprint or\n   capability.
    \ This would prevent the uCDN from delegating any requests\n   to the dCDN.  Since
    a preexisting relationship between all dCDNs and\n   uCDNs is assumed by CDNI,
    the exchange of any necessary credentials\n   could be conducted before the FCI
    is brought online.  The\n   authorization decision to accept advertisements would
    also follow\n   this preexisting relationship and any contractual obligations
    that it\n   stipulates.\n   All protocols that implement these capabilities and
    footprint\n   advertisement objects are REQUIRED to provide confidentiality\n
    \  services.  Some dCDNs are willing to share information about their\n   footprints
    or capabilities with a uCDN but not with other, competing\n   dCDNs.  For example,
    if a dCDN incurs an outage that reduces\n   footprint coverage temporarily, that
    event could be information the\n   dCDN would want to share confidentially with
    the uCDN.\n   As specified in this document, the security requirements of the
    FCI\n   could be met by transport-layer security mechanisms coupled with\n   domain
    certificates as credentials (e.g., TLS transport for HTTP as\n   per [RFC2818]
    and [RFC7230], with usage guidance from [RFC7525])\n   between CDNs.  There is
    no apparent need for further object-level\n   security in this framework, as the
    trust relationships it defines are\n   bilateral relationships between uCDNs and
    dCDNs rather than\n   transitive relationships.\n"
  title: 7.  Security Considerations
- contents:
  - '8.  References

    '
  - contents:
    - "8.1.  Normative References\n   [RFC2119]  Bradner, S., \"Key words for use
      in RFCs to Indicate\n              Requirement Levels\", BCP 14, RFC 2119,\n
      \             DOI 10.17487/RFC2119, March 1997,\n              <http://www.rfc-editor.org/info/rfc2119>.\n
      \  [RFC5226]  Narten, T. and H. Alvestrand, \"Guidelines for Writing an\n              IANA
      Considerations Section in RFCs\", BCP 26, RFC 5226,\n              DOI 10.17487/RFC5226,
      May 2008,\n              <http://www.rfc-editor.org/info/rfc5226>.\n   [RFC7159]
      \ Bray, T., Ed., \"The JavaScript Object Notation (JSON) Data\n              Interchange
      Format\", RFC 7159, DOI 10.17487/RFC7159,\n              March 2014, <http://www.rfc-editor.org/info/rfc7159>.\n
      \  [RFC7336]  Peterson, L., Davie, B., and R. van Brandenburg, Ed.,\n              \"Framework
      for Content Distribution Network\n              Interconnection (CDNI)\", RFC
      7336, DOI 10.17487/RFC7336,\n              August 2014, <http://www.rfc-editor.org/info/rfc7336>.\n
      \  [RFC7493]  Bray, T., Ed., \"The I-JSON Message Format\", RFC 7493,\n              DOI
      10.17487/RFC7493, March 2015,\n              <http://www.rfc-editor.org/info/rfc7493>.\n
      \  [RFC7937]  Le Faucheur, F., Ed., Bertrand, G., Ed., Oprescu, I., Ed.,\n              and
      R. Peterkofsky, \"Content Distribution Network\n              Interconnection
      (CDNI) Logging Interface\", RFC 7937,\n              DOI 10.17487/RFC7937, August
      2016,\n              <http://www.rfc-editor.org/info/rfc7937>.\n   [RFC8006]
      \ Niven-Jenkins, B., Murray, R., Caulfield, M., and K. Ma,\n              \"Content
      Delivery Network Interconnection (CDNI)\n              Metadata\", RFC 8006,
      DOI 10.17487/RFC8006, December 2016,\n              <http://www.rfc-editor.org/info/rfc8006>.\n"
    title: 8.1.  Normative References
  - contents:
    - "8.2.  Informative References\n   [RFC2818]  Rescorla, E., \"HTTP Over TLS\",
      RFC 2818,\n              DOI 10.17487/RFC2818, May 2000,\n              <http://www.rfc-editor.org/info/rfc2818>.\n
      \  [RFC6707]  Niven-Jenkins, B., Le Faucheur, F., and N. Bitar, \"Content\n
      \             Distribution Network Interconnection (CDNI) Problem\n              Statement\",
      RFC 6707, DOI 10.17487/RFC6707,\n              September 2012, <http://www.rfc-editor.org/info/rfc6707>.\n
      \  [RFC6770]  Bertrand, G., Ed., Stephan, E., Burbridge, T., Eardley,\n              P.,
      Ma, K., and G. Watson, \"Use Cases for Content Delivery\n              Network
      Interconnection\", RFC 6770, DOI 10.17487/RFC6770,\n              November 2012,
      <http://www.rfc-editor.org/info/rfc6770>.\n   [RFC7230]  Fielding, R., Ed.,
      and J. Reschke, Ed., \"Hypertext\n              Transfer Protocol (HTTP/1.1):
      Message Syntax and Routing\",\n              RFC 7230, DOI 10.17487/RFC7230,
      June 2014,\n              <http://www.rfc-editor.org/info/rfc7230>.\n   [RFC7337]
      \ Leung, K., Ed., and Y. Lee, Ed., \"Content Distribution\n              Network
      Interconnection (CDNI) Requirements\", RFC 7337,\n              DOI 10.17487/RFC7337,
      August 2014,\n              <http://www.rfc-editor.org/info/rfc7337>.\n   [RFC7525]
      \ Sheffer, Y., Holz, R., and P. Saint-Andre,\n              \"Recommendations
      for Secure Use of Transport Layer\n              Security (TLS) and Datagram
      Transport Layer Security\n              (DTLS)\", BCP 195, RFC 7525, DOI 10.17487/RFC7525,\n
      \             May 2015, <http://www.rfc-editor.org/info/rfc7525>.\n   [RFC7736]
      \ Ma, K., \"Content Delivery Network Interconnection (CDNI)\n              Media
      Type Registration\", RFC 7736, DOI 10.17487/RFC7736,\n              December
      2015, <http://www.rfc-editor.org/info/rfc7736>.\n"
    title: 8.2.  Informative References
  title: 8.  References
- contents:
  - "Appendix A.  Main Use Case to Consider\n   Focusing on a main use case that contains
    a simple (yet somewhat\n   challenging), realistic, and generally imaginable scenario
    can help\n   narrow down the requirements for the CDNI FCI.  To this end, the\n
    \  following (simplified) use case can help clarify the semantics of\n   footprints
    and capabilities for CDNI.  In particular, the intention\n   of the use case is
    to clarify what information needs to be exchanged\n   on the CDNI FCI, what types
    of information need to be supported in a\n   mandatory fashion (and which types
    can be considered optional), and\n   what types of information need to be updated
    with respect to a priori\n   established CDNI contracts.\n   Use case: A given
    uCDN has several dCDNs.  It selects one dCDN for\n   delivery protocol A and footprint
    1 and another dCDN for delivery\n   protocol B and footprint 1.  The dCDN that
    serves delivery protocol B\n   has a further, transitive (level-2) dCDN that serves
    delivery\n   protocol B in a subset of footprint 1 where the first-level dCDN\n
    \  cannot serve delivery protocol B itself.  What happens if\n   capabilities
    change in the transitive level-2 dCDN that might affect\n   how the uCDN selects
    a level-1 dCDN (e.g., in case the level-2 dCDN\n   cannot serve delivery protocol
    B anymore)?  How will these changes be\n   conveyed to the uCDN?  In particular,
    what information does the uCDN\n   need to be able to select a new first-level
    dCDN, for either all of\n   footprint 1 or only the subset of footprint 1 that
    the transitive\n   level-2 dCDN served on behalf of the first-level dCDN?\n"
  title: Appendix A.  Main Use Case to Consider
- contents:
  - "Appendix B.  Semantics for Footprint Advertisement\n   Roughly speaking, \"footprint\"
    can be defined as a dCDN's \"ability and\n   willingness to serve\".  However,
    in addition to simple ability and\n   willingness to serve, the uCDN could want
    additional information\n   before deciding which dCDN to select, e.g., \"how well\"
    a given dCDN\n   can actually serve a given end user request.  The dCDN's ability
    and\n   willingness to serve SHOULD be distinguished from the subjective\n   qualitative
    measurement of how well it can serve a given end user\n   request.  One can imagine
    that such additional information is\n   implicitly associated with a given footprint,
    due to contractual\n   agreements, Service Level Agreements (SLAs), business relationships,\n
    \  or past perceptions of dCDN quality.  As an alternative, such\n   additional
    information could also be explicitly included with the\n   given footprint.\n
    \  It is reasonable to assume that a significant part of the actual\n   footprint
    advertisement will occur out-of-band, prior to any CDNI FCI\n   advertisement,
    with footprints defined in contractual agreements\n   between participating CDNs.
    \ The reason for this assumption is that\n   any contractual agreement is likely
    to contain specifics about the\n   dCDN coverage (footprint) to which the contractual
    agreement applies.\n   In particular, additional information to judge the delivery
    quality\n   associated with a given dCDN footprint might be defined in\n   contractual
    agreements, outside of the CDNI FCI.  Further, one can\n   assume that dCDN contractual
    agreements about the delivery quality\n   associated with a given footprint will
    probably be based on\n   high-level aggregated statistics and will not be too
    detailed.\n   Given that a large part of the footprint advertisement will be\n
    \  defined in contractual agreements, the semantics of CDNI footprint\n   advertisement
    refer to answering the following question: what exactly\n   still needs to be
    advertised by the CDNI FCI?  For instance, updates\n   about temporal failures
    of part of a footprint can be useful\n   information to convey via the CDNI Request
    Routing interface.  Such\n   information would provide updates on information
    previously agreed\n   upon in contracts between the participating CDNs.  In other
    words,\n   the CDNI FCI is a means for a dCDN to provide changes/updates\n   regarding
    a footprint it has previously agreed to serve in a contract\n   with a uCDN.\n
    \  Generally speaking, one can imagine two categories of footprints to\n   be
    advertised by a dCDN:\n   o  A footprint could be defined based on coverage/reachability,
    where\n      \"coverage/reachability\" refers to a set of prefixes, a geographic\n
    \     region, or similar boundary.  The dCDN claims that it can\n      cover/reach
    \"end user requests coming from this footprint\".\n   o  A footprint could be
    defined based on resources, where \"resources\"\n      refers to Surrogates a
    dCDN claims to have (e.g., the location of\n      Surrogates/resources).  The
    dCDN claims that \"from this footprint\"\n      it can serve incoming end user
    requests.\n   For each of these footprint types, there are capabilities associated\n
    \  with a given footprint:\n   o  capabilities such as delivery protocol, redirection
    mode, and\n      metadata, which are supported in the coverage area for a footprint\n
    \     that is defined by coverage/reachability, or\n   o  capabilities of resources,
    such as delivery protocol, redirection\n      mode, and metadata, which apply
    to a footprint that is defined by\n      resources.\n   Resource footprint types
    are more specific than coverage/reachability\n   footprint types, where the actual
    coverage and reachability are\n   extrapolated from the resource location (e.g.,
    a netmask applied to a\n   resource IP address to derive an IP prefix).  The specific
    methods\n   for extrapolating coverage/reachability from the resource location\n
    \  are beyond the scope of this document.  In the degenerate case, the\n   resource
    address could be specified as a coverage/reachability\n   footprint type, in which
    case no extrapolation is necessary.\n   Resource footprint types could expose
    the internal structure of a\n   CDN; this could be undesirable.  As such, the
    resource footprint\n   types are not considered mandatory to support for CDNI.\n
    \  Footprints can be viewed as constraints for delegating requests to a\n   dCDN:
    a dCDN footprint advertisement tells the uCDN the limitations\n   for delegating
    a request to the dCDN.  For IP prefixes or ASN(s), the\n   footprint signals to
    the uCDN that it should consider the dCDN a\n   candidate only if the IP address
    of the Request Routing source falls\n   within the prefix set (or ASN, respectively).
    \ The CDNI\n   specifications do not define how a given uCDN determines what address\n
    \  ranges are in a particular ASN.  Similarly, for country codes, a uCDN\n   should
    only consider the dCDN a candidate if it covers the country of\n   the Request
    Routing source.  The CDNI specifications do not define\n   how a given uCDN determines
    the country of the Request Routing\n   source.  Multiple footprint constraints
    are additive: the\n   advertisement of different footprint types narrows the dCDN's\n
    \  candidacy cumulatively.\n   Independent of the exact type of a footprint, a
    footprint might also\n   include the connectivity of a given dCDN to other CDNs
    that are able\n   to serve content to users on behalf of that dCDN, to cover cases
    with\n   cascaded CDNs.  Further, the dCDN needs to be able to express its\n   footprint
    to an interested uCDN in a comprehensive form, e.g., as a\n   data set containing
    the complete footprint.  However, making\n   incremental updates to express dynamic
    changes in state is also\n   desirable.\n"
  title: Appendix B.  Semantics for Footprint Advertisement
- contents:
  - "Appendix C.  Semantics for Capabilities Advertisement\n   In general, the dCDN
    needs to be able to express its general\n   capabilities to the uCDN.  These general
    capabilities could indicate\n   if the dCDN supports a given service -- for instance,
    HTTP vs. HTTPS\n   delivery.  Furthermore, the dCDN needs to be able to express\n
    \  particular capabilities for service delivery in a particular\n   footprint
    area.  For example, the dCDN might in general offer HTTPS\n   but not in some
    specific areas, either for maintenance reasons or\n   because the Surrogates covering
    this particular area cannot deliver\n   this type of service.  Hence, in certain
    cases a footprint and\n   capabilities are tied together and cannot be interpreted\n
    \  independently of each other.  In such cases, i.e., where capabilities\n   need
    to be expressed on a per-footprint basis, it could be beneficial\n   to combine
    footprint advertisement and capabilities advertisement.\n   A high-level and very
    rough semantic for capabilities is thus the\n   following: capabilities are types
    of information that allow a uCDN to\n   determine if a dCDN is able (and willing)
    to accept (and properly\n   handle) a delegated content request.  In addition,
    capabilities are\n   characterized by the fact that this information can change
    over time\n   based on the state of the network or Surrogates.\n   At first glance,
    several broad categories of capabilities seem useful\n   to convey via an advertisement
    interface; however, advertising\n   capabilities that change highly dynamically
    (e.g., real-time delivery\n   performance metrics, CDN resource load, or other
    highly dynamically\n   changing QoS information) are beyond the scope of the CDNI
    FCI.\n   First, out of the multitude of possible metrics and capabilities, it\n
    \  is hard to agree on a subset and the precise metrics to be used.\n   Second,
    it seems infeasible to specify such highly dynamically\n   changing capabilities
    and the corresponding metrics within a\n   reasonable time frame.\n   Useful capabilities
    refer to information that does not change highly\n   dynamically and that, in
    many cases, is absolutely necessary for\n   deciding on a particular dCDN for
    a given end user request.  For\n   instance, if an end user request concerns the
    delivery of a video\n   file with a certain protocol, the uCDN needs to know if
    a given dCDN\n   is capable of supporting this delivery protocol.\n   Similar
    to footprint advertisement, it is reasonable to assume that a\n   significant
    part of the actual (resource) capabilities advertisement\n   will also occur out-of-band,
    prior to any CDNI FCI advertisement,\n   with capabilities defined in contractual
    agreements between\n   participating CDNs.  The role of capability advertisement
    is hence\n   rather to enable the dCDN to update a uCDN on changes since a\n   contract
    has been set up (e.g., in case a new delivery protocol is\n   suddenly being added
    to the list of supported delivery protocols of a\n   given dCDN or in case a certain
    delivery protocol is suddenly not\n   being supported anymore due to failures).
    \ \"Capabilities\n   advertisement\" thus refers to conveying information to a
    uCDN about\n   changes/updates to certain capabilities with respect to a given\n
    \  contract.\n   Given these semantics, it needs to be decided what exact capabilities\n
    \  are useful and how these can be expressed.  Since the details of CDNI\n   contracts
    are not known at the time of this writing (and the CDNI\n   interface is better
    off being agnostic to these contracts anyway), it\n   remains to be seen what
    capabilities will be used to define\n   agreements between CDNs in practice.  One
    implication for\n   standardization could be to initially only specify a very
    limited set\n   of mandatory capabilities for advertisement and have, on top of
    that,\n   a flexible data model that allows exchanging additional capabilities\n
    \  when needed.  Still, agreement needs to be reached regarding which\n   capabilities
    (if any) will be mandatory among CDNs.\n   It is not feasible to enumerate all
    the possible options for the\n   mandatory capabilities listed above (e.g., all
    the potential delivery\n   protocols or metadata options) or anticipate all the
    future needs for\n   additional capabilities.  FCI object extensibility is necessary
    to\n   support future capabilities, as well as a generic protocol for\n   conveying
    any capability information (e.g., with common encoding,\n   error handling, and
    security mechanisms; further requirements for the\n   CDNI FCI are listed in [RFC7337]).\n"
  title: Appendix C.  Semantics for Capabilities Advertisement
- contents:
  - "Acknowledgments\n   Jan Seedorf is partially supported by the GreenICN project\n
    \  (GreenICN: Architecture and Applications of Green Information Centric\n   Networking),
    a research project supported jointly by the European\n   Commission under its
    7th Framework Program (contract no. 608518) and\n   the National Institute of
    Information and Communications Technology\n   (NICT) in Japan (contract no. 167).
    \ The views and conclusions\n   contained herein are those of the authors and
    should not be\n   interpreted as necessarily representing the official policies
    or\n   endorsements, either expressed or implied, of the GreenICN project,\n   the
    European Commission, or NICT.\n   Martin Stiemerling provided initial input to
    this document and\n   valuable comments to the ongoing discussions among the authors
    of\n   this document.  Thanks to Francois Le Faucheur and Scott Wainner for\n
    \  providing valuable comments and suggestions for the text.\n"
  title: Acknowledgments
- contents:
  - "Authors' Addresses\n   Jan Seedorf\n   HFT Stuttgart - University of Applied
    Sciences Stuttgart\n   Schellingstrasse 24\n   Stuttgart  70174\n   Germany\n
    \  Phone: +49-0711-8926-2801\n   Email: jan.seedorf@hft-stuttgart.de\n   Jon Peterson\n
    \  NeuStar\n   1800 Sutter St. Suite 570\n   Concord, CA  94520\n   United States
    of America\n   Email: jon.peterson@neustar.biz\n   Stefano Previdi\n   Cisco Systems\n
    \  Via Del Serafico 200\n   Rome  0144\n   Italy\n   Email: sprevidi@cisco.com\n
    \  Ray van Brandenburg\n   TNO\n   Anna van Buerenplein 1\n   The Hague  2595DA\n
    \  The Netherlands\n   Phone: +31-88-866-7000\n   Email: ray.vanbrandenburg@tno.nl\n
    \  Kevin J. Ma\n   Ericsson\n   43 Nagog Park\n   Acton, MA  01720\n   United
    States of America\n   Phone: +1-978-844-5100\n   Email: kevin.j.ma@ericsson.com\n"
  title: Authors' Addresses
