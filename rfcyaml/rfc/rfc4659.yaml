- contents:
  - '    BGP-MPLS IP Virtual Private Network (VPN) Extension for IPv6 VPN

    '
  title: __initial_text__
- contents:
  - "Status of This Memo\n   This document specifies an Internet standards track protocol
    for the\n   Internet community, and requests discussion and suggestions for\n
    \  improvements.  Please refer to the current edition of the \"Internet\n   Official
    Protocol Standards\" (STD 1) for the standardization state\n   and status of this
    protocol.  Distribution of this memo is unlimited.\n"
  title: Status of This Memo
- contents:
  - "Copyright Notice\n   Copyright (C) The Internet Society (2006).\n"
  title: Copyright Notice
- contents:
  - "Abstract\n   This document describes a method by which a Service Provider may
    use\n   its packet-switched backbone to provide Virtual Private Network (VPN)\n
    \  services for its IPv6 customers.  This method reuses, and extends\n   where
    necessary, the \"BGP/MPLS IP VPN\" method for support of IPv6.\n   In BGP/MPLS
    IP VPN, \"Multiprotocol BGP\" is used for distributing IPv4\n   VPN routes over
    the service provider backbone, and MPLS is used to\n   forward IPv4 VPN packets
    over the backbone.  This document defines an\n   IPv6 VPN address family and describes
    the corresponding IPv6 VPN\n   route distribution in \"Multiprotocol BGP\".\n
    \  This document defines support of the IPv6 VPN service over both an\n   IPv4
    and an IPv6 backbone, and for using various tunneling techniques\n   over the
    core, including MPLS, IP-in-IP, Generic Routing\n   Encapsulation (GRE) and IPsec
    protected tunnels.  The inter-working\n   between an IPv4 site and an IPv6 site
    is outside the scope of this\n   document.\n"
  title: Abstract
- contents:
  - "Table of Contents\n   1. Introduction ....................................................2\n
    \  2. The VPN-IPv6 Address Family .....................................4\n   3.
    VPN-IPv6 Route Distribution .....................................5\n      3.1.
    Route Distribution Among PEs by BGP ........................5\n      3.2. VPN
    IPv6 NLRI Encoding .....................................6\n           3.2.1. BGP
    Next Hop encoding ...............................6\n                  3.2.1.1.
    BGP Speaker Requesting IPv6 Transport ......7\n                  3.2.1.2. BGP
    Speaker Requesting IPv4 Transport ......8\n      3.3. Route Target ...............................................8\n
    \     3.4. BGP Capability Negotiation .................................8\n   4.
    Encapsulation ...................................................8\n   5. Address
    Types ..................................................10\n   6. Multicast ......................................................11\n
    \  7. Carriers' Carriers .............................................11\n   8.
    Multi-AS Backbones .............................................11\n   9. Accessing
    the Internet from a VPN ..............................13\n   10. Management VPN
    ................................................14\n   11. Security Considerations
    .......................................14\n   12. Quality of Service ............................................15\n
    \  13. Scalability ...................................................15\n   14.
    IANA Considerations ...........................................15\n   15. Acknowledgements
    ..............................................15\n   16. References ....................................................16\n
    \     16.1. Normative References .....................................16\n      16.2.
    Informative References ...................................16\n"
  title: Table of Contents
- contents:
  - "1.  Introduction\n   This document describes a method by which a Service Provider
    may use\n   its packet-switched backbone to provide Virtual Private Network\n
    \  services for its IPv6 customers.\n   This method reuses, and extends where
    necessary, the \"BGP/MPLS IP\n   VPN\" method [BGP/MPLS-VPN] for support of IPv6.
    \ In particular, this\n   method uses the same \"peer model\" as [BGP/MPLS-VPN],
    in which the\n   customers' edge routers (\"CE routers\") send their IPv6 routes
    to the\n   Service Provider's edge routers (\"PE routers\").  BGP (\"Border Gateway\n
    \  Protocol\", [BGP, BGP-MP]) is then used by the Service Provider to\n   exchange
    the routes of a particular IPv6 VPN among the PE routers\n   that are attached
    to that IPv6 VPN.  Eventually, the PE routers\n   distribute, to the CE routers
    in a particular VPN, the IPv6 routes\n   from other CE routers in that VPN.  As
    with IPv4 VPNs, a key\n   characteristic of this \"peer model\" is that the (IPv6)
    CE routers\n   within an (IPv6) VPN do not peer with each other; there is no\n
    \  \"overlay\" visible to the (IPv6) VPN's routing algorithm.\n   This document
    adopts the definitions, acronyms, and mechanisms\n   described in [BGP/MPLS-VPN].
    \ Unless it is stated otherwise, the\n   mechanisms of [BGP/MPLS-VPN] apply and
    will not be re-described here.\n   A VPN is said to be an IPv6 VPN when each site
    of this VPN is IPv6\n   capable and is natively connected over an IPv6 interface
    or sub-\n   interface to the Service Provider (SP) backbone via a Provider Edge\n
    \  device (PE).\n   A site may be both IPv4 capable and IPv6 capable.  The logical\n
    \  interface on which packets arrive at the PE may determine the IP\n   version.
    \ Alternatively, the same logical interface may be used for\n   both IPv4 and
    IPv6, in which case a per-packet lookup at the Version\n   field of the IP packet
    header determines the IP version.\n   This document only concerns itself with
    handling of IPv6\n   communication between IPv6 hosts located on IPv6-capable
    sites.\n   Handling of IPv4 communication between IPv4 hosts located on IPv4-\n
    \  capable sites is outside the scope of this document and is covered in\n   [BGP/MPLS-VPN].
    \ Communication between an IPv4 host located in an\n   IPv4- capable site and
    an IPv6 host located in an IPv6-capable site\n   is outside the scope of this
    document.\n   In a similar manner to how IPv4 VPN routes are distributed in\n
    \  [BGP/MPLS-VPN], BGP and its extensions are used to distribute routes\n   from
    an IPv6 VPN site to all the other PE routers connected to a site\n   of the same
    IPv6 VPN.  PEs use \"VPN Routing and Forwarding tables\"\n   (VRFs) to maintain
    the reachability information and forwarding\n   information of each IPv6 VPN separately.\n
    \  As is done for IPv4 VPNs [BGP/MPLS-VPN], we allow each IPv6 VPN to\n   have
    its own IPv6 address space, which means that a given address may\n   denote different
    systems in different VPNs.  This is achieved via a\n   new address family, the
    VPN-IPv6 Address Family, in a fashion similar\n   to that of the VPN-IPv4 address
    family, defined in [BGP/MPLS-VPN],\n   which prepends a Route Distinguisher to
    the IP address.\n   In addition to its operation over MPLS Label Switched Paths
    (LSPs),\n   the IPv4 BGP/MPLS VPN solution has been extended to allow operation\n
    \  over other tunneling techniques, including GRE tunnels, IP-in-IP\n   tunnels
    [2547-GRE/IP], L2TPv3 tunnels [MPLS-in-L2TPv3], and IPsec\n   protected tunnels
    [2547-IPsec].  In a similar manner, this document\n   allows support of an IPv6
    VPN service over MPLS LSPs, as well as over\n   other tunneling techniques.\n
    \  This document allows support for an IPv6 VPN service over an IPv4\n   backbone,
    as well as over an IPv6 backbone.  The IPv6 VPN service\n   supported is identical
    in both cases.\n   The IPv6 VPN solution defined in this document offers the following\n
    \  benefits:\n      o From both the Service Provider perspective and the customer\n
    \       perspective, the VPN service that can be supported for IPv6\n        sites
    is identical to the one that can be supported for IPv4\n        sites.\n      o
    From the Service Provider perspective, operations of the IPv6\n        VPN service
    require the exact same skills, procedures, and\n        mechanisms as those for
    the IPv4 VPN service.\n      o Where both IPv4 VPNs and IPv6 VPN services are
    supported over an\n        IPv4 core, the same single set of MP-BGP peering relationships\n
    \       and the same single PE-PE tunnel mesh MAY be used for both.\n      o The
    IPv6 VPN service is independent of whether the core runs\n        IPv4 or IPv6.
    \ This is so that the IPv6 VPN service supported\n        before and after a migration
    of the core from IPv4 to IPv6 is\n        undistinguishable to the VPN customer.\n
    \  Note that supporting IPv4 VPN services over an IPv6 core is not\n   covered
    by this document.\n"
  title: 1.  Introduction
- contents:
  - "2.  The VPN-IPv6 Address Family\n   The BGP Multiprotocol Extensions [BGP-MP]
    allow BGP to carry routes\n   from multiple \"address families\".  We introduce
    the notion of the\n   \"VPN-IPv6 address family\", which is similar to the VPN-IPv4
    address\n   family introduced in [BGP/MPLS-VPN].\n   A VPN-IPv6 address is a 24-octet
    quantity, beginning with an 8-octet\n   \"Route Distinguisher\" (RD) and ending
    with a 16-octet IPv6 address.\n   The purpose of the RD is solely to allow one
    to create distinct\n   routes to a common IPv6 address prefix, which is similar
    to the\n   purpose of the RD defined in [BGP/MPLS-VPN].  In the same way as it\n
    \  is possible per [BGP/MPLS-VPN], the RD can be used to create multiple\n   different
    routes to the very same system.  This can be achieved by\n   creating two different
    VPN-IPv6 routes that have the same IPv6 part\n   but different RDs.  This allows
    the provider's BGP to install\n   multiple different routes to the same system
    and allows policy to be\n   used to decide which packets use which route.\n   Also,
    if two VPNs were to use the same IPv6 address prefix\n   (effectively denoting
    different physical systems), the PEs would\n   translate these into unique VPN-IPv6
    address prefixes using different\n   RDs.  This ensures that if the same address
    is ever used in two\n   different VPNs, it is possible to install two completely
    different\n   routes to that address, one for each VPN.\n   Since VPN-IPv6 addresses
    and IPv6 addresses belong to different\n   address families, BGP never treats
    them as comparable addresses.\n   A VRF may have multiple equal-cost VPN-IPv6
    routes for a single IPv6\n   address prefix.  When a packet's destination address
    is matched in a\n   VRF against a VPN-IPv6 route, only the IPv6 part is actually
    matched.\n   The Route Distinguisher format and encoding is as specified in\n
    \  [BGP/MPLS-VPN].\n   When a site is IPv4 capable and IPv6 capable, the same
    RD MAY be used\n   for the advertisement of IPv6 addresses and IPv4 addresses.\n
    \  Alternatively, a different RD MAY be used for the advertisement of\n   the
    IPv4 addresses and of the IPv6 addresses.  Note, however, that in\n   the scope
    of this specification, IPv4 addresses and IPv6 addresses\n   will always be handled
    in separate contexts, and that no IPv4-IPv6\n   interworking issues and techniques
    will be discussed.\n"
  title: 2.  The VPN-IPv6 Address Family
- contents:
  - '3.  VPN-IPv6 Route Distribution

    '
  - contents:
    - "3.1.  Route Distribution Among PEs by BGP\n   As described in [BGP/MPLS-VPN],
      if two sites of a VPN attach to PEs\n   that are in the same Autonomous System,
      the PEs can distribute VPN\n   routes to each other by means of an (IPv4) internal
      Border Gateway\n   Protocol (iBGP) connection between them.  Alternatively,
      each PE can\n   have iBGP connections to route reflectors.  Similarly, for IPv6
      VPN\n   route distribution, PEs can use iBGP connections between them or use\n
      \  iBGP connections to route reflectors.  For IPv6 VPN, the iBGP\n   connections
      MAY be over IPv4 or over IPv6.\n   The PE routers exchange, via MP-BGP [BGP-MP],
      reachability\n   information for the IPv6 prefixes in the IPv6 VPNs and thereby\n
      \  announce themselves as the BGP Next Hop.\n   The rules for encoding the reachability
      information and the BGP Next\n   Hop address are specified in the following
      sections.\n"
    title: 3.1.  Route Distribution Among PEs by BGP
  - contents:
    - "3.2.  VPN IPv6 NLRI Encoding\n   When distributing IPv6 VPN routes, the advertising
      PE router MUST\n   assign and distribute MPLS labels with the IPv6 VPN routes.\n
      \  Essentially, PE routers do not distribute IPv6 VPN routes, but\n   Labeled
      IPv6 VPN routes [MPLS-BGP].  When the advertising PE then\n   receives a packet
      that has this particular advertised label, the PE\n   will pop this label from
      the MPLS stack and process the packet\n   appropriately (i.e., forward it directly
      according to the label or\n   perform a lookup in the corresponding IPv6-VPN
      context).\n   The BGP Multiprotocol Extensions [BGP-MP] are used to advertise
      the\n   IPv6 VPN routes in the MP_REACH Network Layer Reachability\n   Information
      (NLRI).  The Address Family Identifier (AFI) and\n   Subsequent Address Family
      Identifier (SAFI) fields MUST be set as\n   follows:\n      - AFI: 2; for IPv6\n
      \     - SAFI: 128; for MPLS labeled VPN-IPv6\n   The NLRI field itself is encoded
      as specified in [MPLS-BGP].  In the\n   context of this extension, the prefix
      belongs to the VPN-IPv6 Address\n   Family and thus consists of an 8-octet Route
      Distinguisher followed\n   by an IPv6 prefix as specified in Section 2, above.\n"
    - contents:
      - "3.2.1.  BGP Next Hop encoding\n   The encoding of the BGP Next Hop depends
        on whether the policy of the\n   BGP speaker is to request that IPv6 VPN traffic
        be transported to\n   that BGP Next Hop using IPv6 tunneling (\"BGP speaker
        requesting IPv6\n   transport\") or using IPv4 tunneling (\"BGP speaker requesting
        IPv4\n   transport\").\n   Definition of this policy (to request transport
        over IPv4 tunneling\n   or IPv6 tunneling) is the responsibility of the network
        operator and\n   is beyond the scope of this document.  Note that it is possible
        for\n   that policy to request transport over IPv4 (resp. IPv6) tunneling\n
        \  while the BGP speakers exchange IPv6 VPN reachability information\n   over
        IPv6 (resp. IPv4).  However, in that case, a number of\n   operational implications
        are worth considering.  In particular, an\n   undetected fault affecting the
        IPv4 (resp. IPv6) tunneling data path\n   and not affecting the IPv6 (resp.
        IPv4) data path could remain\n   undetected by BGP, which in turn may result
        in black-holing of\n   traffic.\n   Control of this policy is beyond the scope
        of this document and may\n   be based on user configuration.\n"
      - contents:
        - "3.2.1.1.  BGP Speaker Requesting IPv6 Transport\n   When the IPv6 VPN traffic
          is to be transported to the BGP speaker\n   using IPv6 tunneling (e.g.,
          IPv6 MPLS LSPs, IPsec-protected IPv6\n   tunnels), the BGP speaker SHALL
          advertise a Next Hop Network Address\n   field containing a VPN-IPv6 address\n
          \     - whose 8-octet RD is set to zero, and\n      - whose 16-octet IPv6
          address is set to the global IPv6 address of\n        the advertising BGP
          speaker.\n   This is potentially followed by another VPN-IPv6 address\n
          \     - whose 8-octet RD is set to zero, and\n      - whose 16-octet IPv6
          address is set to the link-local IPv6\n        address of the advertising
          BGP speaker.\n   The value of the Length of the Next Hop Network Address
          field in the\n   MP_REACH_NLRI attribute shall be set to 24 when only a
          global address\n   is present, and to 48 if a link-local address is also
          included in the\n   Next Hop field.\n   If the BGP speakers peer using only
          their link-local IPv6 address\n   (for example, in the case where an IPv6
          CE peers with an IPv6 PE,\n   where the CE does not have any IPv6 global
          address, and where eBGP\n   peering is achieved over the link-local addresses),
          the \"unspecified\n   address\" ([V6ADDR]) is used by the advertising BGP
          speaker to\n   indicate the absence of the global IPv6 address in the Next
          Hop\n   Network Address field.\n   The link-local address shall be included
          in the Next Hop field if and\n   only if the advertising BGP speaker shares
          a common subnet with the\n   peer the route is being advertised to [BGP-IPv6].\n
          \  In all other cases, a BGP speaker shall advertise to its peer in the\n
          \  Next Hop Network Address field only the global IPv6 address of the\n
          \  next hop.\n   As a consequence, a BGP speaker that advertises a route
          to an\n   internal peer may modify the Network Address of Next Hop field
          by\n   removing the link-local IPv6 address of the next hop.\n   An example
          scenario where both the global IPv6 address and the link-\n   local IPv6
          address shall be included in the BGP Next Hop address\n   field is that
          where the IPv6 VPN service is supported over a multi-\n   Autonomous System
          (AS) backbone with redistribution of labeled VPN-\n   IPv6 routes between
          Autonomous System Border Routers (ASBR) of\n   different ASes sharing a
          common IPv6 subnet: in that case, both the\n   global IPv6 address and the
          link-local IPv6 address shall be\n   advertised by the ASBRs.\n"
        title: 3.2.1.1.  BGP Speaker Requesting IPv6 Transport
      - contents:
        - "3.2.1.2.  BGP Speaker Requesting IPv4 Transport\n   When the IPv6 VPN traffic
          is to be transported to the BGP speaker\n   using IPv4 tunneling (e.g.,
          IPv4 MPLS LSPs, IPsec-protected IPv4\n   tunnels), the BGP speaker SHALL
          advertise to its peer a Next Hop\n   Network Address field containing a
          VPN-IPv6 address:\n      - whose 8-octet RD is set to zero, and\n      -
          whose 16-octet IPv6 address is encoded as an IPv4-mapped IPv6\n        address
          [V6ADDR] containing the IPv4 address of the advertising\n        BGP speaker.
          \ This IPv4 address must be routable by the other\n        BGP Speaker.\n"
        title: 3.2.1.2.  BGP Speaker Requesting IPv4 Transport
      title: 3.2.1.  BGP Next Hop encoding
    title: 3.2.  VPN IPv6 NLRI Encoding
  - contents:
    - "3.3.  Route Target\n   The use of route target is specified in [BGP/MPLS-VPN]
      and applies to\n   IPv6 VPNs.  Encoding of the extended community attribute
      is defined\n   in [BGP-EXTCOM].\n"
    title: 3.3.  Route Target
  - contents:
    - "3.4.  BGP Capability Negotiation\n   In order for two PEs to exchange labeled
      IPv6 VPN NLRIs, they MUST\n   use BGP Capabilities Negotiation to ensure that
      they both are capable\n   of properly processing such NLRIs.  This is done as
      specified in\n   [BGP-MP] and [BGP-CAP], by using capability code 1 (multiprotocol\n
      \  BGP), with AFI and SAFI values as specified above, in Section 3.2.\n"
    title: 3.4.  BGP Capability Negotiation
  title: 3.  VPN-IPv6 Route Distribution
- contents:
  - "4.  Encapsulation\n   The ingress PE Router MUST tunnel IPv6 VPN data over the
    backbone\n   towards the Egress PE router identified as the BGP Next Hop for the\n
    \  corresponding destination IPv6 VPN prefix.\n   When the 16-octet IPv6 address
    contained in the BGP Next Hop field is\n   encoded as an IPv4-mapped IPv6 address
    (see Section 3.2.1.2), the\n   ingress PE MUST use IPv4 tunneling unless explicitly
    configured to do\n   otherwise.  The ingress PE MAY optionally allow, through
    explicit\n   configuration, the use of IPv6 tunneling when the 16-octet IPv6\n
    \  address contained in the BGP Next Hop field is encoded as an IPv4-\n   mapped
    IPv6 address.  This would allow support of particular\n   deployment environments
    where IPv6 tunneling is desired but where\n   IPv4-mapped IPv6 addresses happen
    to be used for IPv6 reachability of\n   the PEs instead of Global IPv6 addresses.\n
    \  When the 16-octet IPv6 address contained in the BGP Next Hop field is\n   not
    encoded as an IPv4-mapped address (see Section 3.2.1.1), the\n   ingress PE MUST
    use IPv6 tunneling.\n   When a PE receives a packet from an attached CE, it looks
    up the\n   packet's IPv6 destination address in the VRF corresponding to that\n
    \  CE.  This enables it to find a VPN-IPv6 route.  The VPN-IPv6 route\n   will
    have an associated MPLS label and an associated BGP Next Hop.\n   First, this
    MPLS label is pushed on the packet as the bottom label.\n   Then, this labeled
    packet is encapsulated into the tunnel for\n   transport to the egress PE identified
    by the BGP Next Hop.  Details\n   of this encapsulation depend on the actual tunneling
    technique, as\n   follows:\n   As with MPLS/BGP for IPv4 VPNs [2547-GRE/IP], when
    tunneling is done\n   using IPv4 tunnels or IPv6 tunnels (resp. IPv4 GRE tunnels
    or IPv6\n   GRE tunnels), encapsulation of the labeled IPv6 VPN packet results
    in\n   an MPLS-in-IP (resp. MPLS-in-GRE) encapsulated packet as specified in\n
    \  [MPLS-in-IP/GRE].  When tunneling is done using L2TPv3, encapsulation\n   of
    the labeled IPv6 VPN packet results in an MPLS-in-L2TPv3-\n   encapsulated packet,
    as specified in [MPLS-in-L2TPv3].\n   As with MPLS/BGP for IPv4 VPNs, when tunneling
    is done using an IPsec\n   secured tunnel [2547-IPsec], encapsulation of the labeled
    IPv6 VPN\n   packet results in an MPLS-in-IP- or MPLS-in-GRE-encapsulated packet\n
    \  [MPLS-in-IP/GRE].  The IPsec Transport Mode is used to secure this\n   IPv4
    or GRE tunnel from ingress PE to egress PE.\n   When tunneling is done using IPv4
    tunnels (whether IPsec secured or\n   not), the Ingress PE Router MUST use the
    IPv4 address that is encoded\n   in the IPv4-mapped IPv6 address field of the
    BGP next hop field as\n   the destination address of the prepended IPv4 tunneling
    header.  It\n   uses one of its IPv4 addresses as the source address of the prepended\n
    \  IPv4 tunneling header.\n   When tunneling is done using IPv6 tunnels (whether
    IPsec secured or\n   not), the Ingress PE Router MUST use the IPv6 address that
    is\n   contained in the IPv6 address field of the BGP next hop field as the\n
    \  destination address of the prepended IPv6 tunneling header.  It uses\n   one
    of its IPv6 addresses as the source address of the prepended IPv6\n   tunneling
    header.\n   When tunneling is done using MPLS LSPs, the LSPs can be established\n
    \  using any label distribution technique (LDP [LDP], RSVP-TE [RSVP-TE],\n   etc.).\n
    \  When tunneling is done using MPLS LSPs, the ingress PE Router MUST\n   directly
    push the LSP tunnel label on the label stack of the labeled\n   IPv6 VPN packet
    (i.e., without prepending any IPv4 or IPv6 header).\n   This pushed label corresponds
    to the LSP starting on the ingress PE\n   Router and ending on the egress PE Router.
    \ The BGP Next Hop field is\n   used to identify the egress PE router and in turn
    the label to be\n   pushed on the stack.  When the IPv6 address in the BGP Next
    Hop field\n   is an IPv4-mapped IPv6 address, the embedded IPv4 address will\n
    \  determine the tunnel label to push on the label stack.  In any other\n   case,
    the IPv6 address in the BGP Next Hop field will determine the\n   tunnel label
    to push on the label stack.\n   To ensure interoperability among systems that
    implement this VPN\n   architecture, all such systems MUST support tunneling using
    MPLS LSPs\n   established by LDP [LDP].\n"
  title: 4.  Encapsulation
- contents:
  - "5.  Address Types\n   Since Link-local unicast addresses are defined for use
    on a single\n   link only, those may be used on the PE-CE link, but they are not\n
    \  supported for reachability across IPv6 VPN Sites and are never\n   advertised
    via MultiProtocol-Border Gateway Protocol (MP-BGP) to\n   remote PEs.\n   Global
    unicast addresses are defined as uniquely identifying\n   interfaces anywhere
    in the IPv6 Internet.  Global addresses are\n   expected to be commonly used within
    and across IPv6 VPN Sites.  They\n   are obviously supported by this IPv6 VPN
    solution for reachability\n   across IPv6 VPN Sites and advertised via MP-BGP
    to remote PEs and are\n   processed without any specific considerations to their
    global scope.\n   Quoting from [UNIQUE-LOCAL]: \"This document defines an IPv6
    unicast\n   address format that is globally unique and is intended for local\n
    \  communications [IPv6].  These addresses are called Unique Local IPv6\n   Unicast
    Addresses and are abbreviated in this document as Local IPv6\n   addresses.  They
    are not expected to be routable on the global\n   Internet.  They are routable
    inside of a more limited area such as a\n   site.  They may also be routed between
    a limited set of sites.\"\n   [UNIQUE-LOCAL] also says in its Section 4.7: \"Local
    IPv6 addresses\n   can be used for inter-site Virtual Private Networks (VPN) if\n
    \  appropriate routes are set up.  Because the addresses are unique\n   these
    VPNs will work reliably and without the need for translation.\n   They have the
    additional property that they will continue to work if\n   the individual sites
    are renumbered or merged.\"\n   In accordance with this, Unique Local IPv6 Unicast
    Addresses are\n   supported by the IPv6 VPN solution specified in this document
    for\n   reachability across IPv6 VPN Sites.  Hence, reachability to such\n   Unique
    Local IPv6 Addresses may be advertised via MP-BGP to remote\n   PEs and processed
    by PEs in the same way as Global Unicast addresses.\n   Recommendations and considerations
    for which of these supported\n   address types should be used in given IPv6 VPN
    environments are\n   beyond the scope of this document.\n"
  title: 5.  Address Types
- contents:
  - "6.  Multicast\n   Multicast operations are outside the scope of this document.\n"
  title: 6.  Multicast
- contents:
  - "7.  Carriers' Carriers\n   Sometimes, an IPv6 VPN may actually be the network
    of an IPv6 ISP,\n   with its own peering and routing policies.  Sometimes, an
    IPv6 VPN\n   may be the network of an SP that is offering VPN services in turn
    to\n   its own customers.  IPv6 VPNs like these can also obtain backbone\n   service
    from another SP, the \"Carrier's Carrier\", using the Carriers'\n   Carrier method
    described in Section 9 of [BGP/MPLS-VPN] but applied\n   to IPv6 traffic.  All
    the considerations discussed in [BGP/MPLS-VPN]\n   for IPv4 VPN Carriers' Carrier
    apply for IPv6 VPN, with the exception\n   that the use of MPLS (including label
    distribution) between the PE\n   and the CE pertains to IPv6 routes instead of
    IPv4 routes.\n"
  title: 7.  Carriers' Carriers
- contents:
  - "8.  Multi-AS Backbones\n   The same procedures described in Section 10 of [BGP/MPLS-VPN]
    can be\n   used (and have the same scalability properties) to address the\n   situation
    where two sites of an IPv6 VPN are connected to different\n   Autonomous Systems.
    \ However, some additional points should be noted\n   when applying these procedures
    for IPv6 VPNs; these are further\n   described in the remainder of this section.\n
    \  Approach (a): VRF-to-VRF connections at the AS (Autonomous System)\n   border
    routers.\n   This approach is the equivalent for IPv6 VPNs to procedure (a) in\n
    \  Section 10 of [BGP/MPLS-VPN].  In the case of IPv6 VPNs, IPv6 needs\n   to
    be activated on the inter-ASBR VRF-to-VRF (sub)interfaces.  In\n   this approach,
    the ASBRs exchange IPv6 routes (as opposed to VPN-IPv6\n   routes) and may peer
    over IPv6 or over IPv4.  The exchange of IPv6\n   routes MUST be carried out as
    per [BGP-IPv6].  This method does not\n   use inter-AS LSPs.\n   Finally, note
    that with this procedure, since every AS independently\n   implements the intra-AS
    procedures for IPv6 VPNs described in this\n   document, the participating ASes
    may all internally use IPv4\n   tunneling, or IPv6 tunneling; or alternatively,
    some participating\n   ASes may internally use IPv4 tunneling while others use
    IPv6\n   tunneling.\n   Approach (b): EBGP redistribution of labeled VPN-IPv6
    routes from AS\n   to neighboring AS.\n   This approach is the equivalent for
    IPv6 VPNs to procedure (b) in\n   Section 10 of [BGP/MPLS-VPN].  With this approach,
    the ASBRs use EBGP\n   to redistribute labeled VPN-IPv4 routes to ASBRs in other
    ASes.\n   In this approach, IPv6 may or may not be activated on the inter-ASBR\n
    \  links since the ASBRs exchanging VPN-IPv6 routes may peer over IPv4\n   or
    IPv6 (in which case, IPv6 obviously needs to be activated on the\n   inter-ASBR
    link).  The exchange of labeled VPN-IPv6 routes MUST be\n   carried out as per
    [BGP-IPv6] and [MPLS-BGP].  When the VPN-IPv6\n   traffic is to be transported
    using IPv6 tunneling, the BGP Next Hop\n   Field SHALL contain an IPv6 address.
    \ When the VPN-IPv6 traffic is to\n   be transported using IPv4 tunneling, the
    BGP Next Hop Field SHALL\n   contain an IPv4 address encoded as an IPv4-mapped
    IPv6 address.\n   This approach requires that there be inter-AS LSPs.  As such,
    the\n   corresponding (security) considerations described for procedure (b)\n
    \  in Section 10 of [BGP/MPLS-VPN] apply equally to this approach for\n   IPv6.\n
    \  Finally, note that with this procedure, as with procedure (a), since\n   every
    AS independently implements the intra-AS procedures for IPv6\n   VPNs described
    in this document, the participating ASes may all\n   internally use IPv4 tunneling
    or IPv6 tunneling; alternatively, some\n   participating ASes may internally use
    IPv4 tunneling while others use\n   IPv6 tunneling.\n   Approach (c): Multihop
    EBGP redistribution of labeled VPN-IPv6 routes\n   between source and destination
    ASes, with EBGP redistribution of\n   labeled IPv4 or IPv6 routes from AS to neighboring
    AS.\n   This approach is equivalent for exchange of VPN-IPv6 routes to\n   procedure
    (c) in Section 10 of [BGP/MPLS-VPN] for exchange of VPN-\n   IPv4 routes.\n   This
    approach requires that the participating ASes either all use\n   IPv4 tunneling
    or all use IPv6 tunneling.\n   In this approach, VPN-IPv6 routes are neither maintained
    nor\n   distributed by the ASBR routers.  The ASBR routers need not be dual\n
    \  stack.  An ASBR needs to maintain labeled IPv4 (or IPv6) routes to\n   the
    PE routers within its AS.  It uses EBGP to distribute these\n   routes to other
    ASes.  ASBRs in any transit ASes will also have to\n   use EBGP to pass along
    the labeled IPv4 (or IPv6) routes.  This\n   results in the creation of an IPv4
    (or IPv6) label switch path from\n   ingress PE router to egress PE router.  Now,
    PE routers in different\n   ASes can establish multi-hop EBGP connections to each
    other over IPv4\n   or IPv6 and can exchange labeled VPN-IPv6 routes over those
    EBGP\n   connections.  Note that the BGP Next Hop field of these distributed\n
    \  VPN-IPv6 routes will contain an IPv6 address when IPv6 tunneling is\n   used
    or an IPv4-mapped IPv6 address when IPv4 tunneling is used.\n   The considerations
    described for procedure (c) in Section 10 of\n   [BGP/MPLS-VPN] with respect to
    possible use of route-reflectors, with\n   respect to possible use of a third
    label, and with respect to LSPs\n   spanning multiple ASes apply equally to this
    IPv6 VPN approach.\n"
  title: 8.  Multi-AS Backbones
- contents:
  - "9.  Accessing the Internet from a VPN\n   The methods proposed by [BGP/MPLS-VPN]
    to access the global IPv4\n   Internet from an IPv4 VPN can be used in the context
    of IPv6 VPNs and\n   the global IPv6 Internet.  Note, however, that if the IPv6
    packets\n   from IPv6 VPN sites and destined for the global IPv6 Internet need
    to\n   traverse the SP backbone, and that if this is an IPv4 only backbone,\n
    \  these packets must be tunneled through that IPv4 backbone.\n   Clearly, as
    is the case outside the VPN context, access to the IPv6\n   Internet from an IPv6
    VPN requires the use of global IPv6 addresses.\n   In particular, Unique Local
    IPv6 addresses cannot be used for IPv6\n   Internet access.\n"
  title: 9.  Accessing the Internet from a VPN
- contents:
  - "10.  Management VPN\n   The management considerations discussed in Section 12
    of\n   [BGP/MPLS-VPN] apply to the management of IPv6 VPNs.\n   Where the Service
    Provider manages the CE of the IPv6 VPN site, the\n   Service Provider may elect
    to use IPv4 for communication between the\n   management tool and the CE for such
    management purposes.  In that\n   case, regardless of whether a customer IPv4
    site is actually\n   connected to the CE (in addition to the IPv6 site), the CE
    is\n   effectively part of an IPv4 VPN in addition to belonging to an IPv6\n   VPN
    (i.e., the CE is attached to a VRF that supports IPv4 in addition\n   to IPv6).
    \ Considerations presented in [BGP/MPLS-VPN], on how to\n   ensure that the management
    tool can communicate with such managed CEs\n   from multiple VPNs without allowing
    undesired reachability across CEs\n   of different VPNs, are applicable to the
    IPv4 reachability of the VRF\n   to which the CE attaches.\n   Where the Service
    Provider manages the CE of the IPv6 VPN site, the\n   Service Provider may elect
    to use IPv6 for communication between the\n   management tool and the CE for such
    management purposes.\n   Considerations presented in [BGP/MPLS-VPN], on how to
    ensure that the\n   management tool can communicate with such managed CEs from
    multiple\n   VPNs without allowing undesired reachability across CEs of different\n
    \  VPNs, are then applicable to the IPv6 reachability of the VRF to\n   which
    the CE attaches.\n"
  title: 10.  Management VPN
- contents:
  - "11.  Security Considerations\n   The extensions defined in this document allow
    MP-BGP to propagate\n   reachability information about IPv6 VPN routes.\n   Security
    considerations for the transport of IPv6 reachability\n   information using BGP
    are discussed in RFC2545, Section 5, and are\n   equally applicable for the extensions
    described in this document.\n   The extensions described in this document for
    offering IPv6 VPNs use\n   the exact same approach as the approach described in
    [BGP/MPLS-VPN].\n   As such, the same security considerations apply with regards
    to Data\n   Plane security, Control Plane security, and PE and P device security\n
    \  as described in [BGP/MPLS-VPN], Section 13.\n"
  title: 11.  Security Considerations
- contents:
  - "12.  Quality of Service\n   Since all the QoS mechanisms discussed for IPv4 VPNs
    in Section 14 of\n   [BGP/MPLS-VPN] operate in the same way for IPv4 and IPv6
    (Diffserv,\n   Intserv, MPLS Traffic Engineering), the QoS considerations discussed\n
    \  in [BGP/MPLS-VPN] are equally applicable to IPv6 VPNs (and this holds\n   whether
    IPv4 tunneling or IPv6 tunneling is used in the backbone.)\n"
  title: 12.  Quality of Service
- contents:
  - "13.  Scalability\n   Each of the scalability considerations summarized for IPv4
    VPNs in\n   Section 15 of [BGP/MPLS-VPN] is equally applicable to IPv6 VPNs.\n"
  title: 13.  Scalability
- contents:
  - "14.  IANA Considerations\n   This document specifies (see Section 3.2) the use
    of the BGP AFI\n   (Address Family Identifier) value 2, along with the BGP SAFI\n
    \  (Subsequent Address Family Identifier) value 128, to represent the\n   address
    family \"VPN-IPv6 Labeled Addresses\", which is defined in this\n   document.\n
    \  The use of AFI value 2 for IPv6 is as currently specified in the IANA\n   registry
    \"Address Family Identifier\", so IANA need not take any\n   action with respect
    to it.\n   The use of SAFI value 128 for \"MPLS-labeled VPN address\" is as\n
    \  currently specified in the IANA registry \"Subsequence Address Family\n   Identifier\",
    so IANA need not take any action with respect to it.\n"
  title: 14.  IANA Considerations
- contents:
  - "15.  Acknowledgements\n   We would like to thank Gerard Gastaud and Eric Levy-Abegnoli,
    who\n   contributed to this document.\n   In Memoriam\n   The authors would like
    to acknowledge the valuable contribution to\n   this document from Tri T. Nguyen,
    who passed away in April 2002 after\n   a sudden illness.\n"
  title: 15.  Acknowledgements
- contents:
  - '16.  References

    '
  - contents:
    - "16.1.  Normative References\n   [BGP/MPLS-VPN]   Rosen, E. and Y. Rekhter,
      \"BGP/MPLS IP Virtual\n                    Private Networks (VPNs)\", RFC 4364,
      February 2006.\n   [BGP-EXTCOM]     Sangli, S., Tappan, D., and Y. Rekhter,
      \"BGP\n                    Extended Communities Attribute\", RFC 4360, February\n
      \                   2006.\n   [BGP-MP]         Bates, T., Rekhter, Y., Chandra,
      R., and D. Katz,\n                    \"Multiprotocol Extensions for BGP-4\",
      RFC 2858, June\n                    2000.\n   [IPv6]           Deering, S. and
      R. Hinden, \"Internet Protocol,\n                    Version 6 (IPv6) Specification\",
      RFC 2460, December\n                    1998.\n   [MPLS-BGP]       Rekhter,
      Y. and E. Rosen, \"Carrying Label\n                    Information in BGP-4\",
      RFC 3107, May 2001.\n   [BGP-CAP]        Chandra, R. and J. Scudder, \"Capabilities\n
      \                   Advertisement with BGP-4\", RFC 3392, November 2002.\n   [LDP]
      \           Andersson, L., Doolan, P., Feldman, N., Fredette,\n                    A.,
      and B. Thomas, \"LDP Specification\", RFC 3036,\n                    January
      2001.\n   [BGP-IPv6]       Marques, P. and F. Dupont, \"Use of BGP-4\n                    Multiprotocol
      Extensions for IPv6 Inter-Domain\n                    Routing\", RFC 2545, March
      1999.\n"
    title: 16.1.  Normative References
  - contents:
    - "16.2.  Informative References\n   [V6ADDR]         Hinden, R. and S. Deering,
      \"IP Version 6 Addressing\n                    Architecture\", RFC 4291, February
      2006.\n   [UNIQUE-LOCAL]   Hinden, R. and B. Haberman, \"Unique Local IPv6\n
      \                   Unicast Addresses\", RFC 4193, October 2005.\n   [2547-GRE/IP]
      \   Rekhter and Rosen, \"Use of PE-PE GRE or IP in\n                    RFC2547
      VPNs\", Work in Progress.\n   [2547-IPsec]     Rosen, De Clercq, Paridaens,
      T'Joens, Sargor, \"Use\n                    of PE-PE IPsec in RFC2547 VPNs\",
      Work in Progress,\n                    August 2005.\n   [RSVP-TE]        Awduche,
      D., Berger, L., Gan, D., Li, T.,\n                    Srinivasan, V., and G.
      Swallow, \"RSVP-TE: Extensions\n                    to RSVP for LSP Tunnels\",
      RFC 3209, December 2001.\n   [MPLS-in-IP/GRE] Worster, T., Rekhter, Y., and
      E. Rosen,\n                    \"Encapsulating MPLS in IP or Generic Routing\n
      \                   Encapsulation (GRE)\", RFC 4023, March 2005.\n   [MPLS-in-L2TPv3]
      Townsley, M., et al., \"Encapsulation of MPLS over\n                    Layer-2
      Tunneling Protocol Version 3\", Work in\n                    Progress, February
      2006.\n   [BGP]            Rekhter, Y., Li, T., and S. Hares, \"A Border Gateway\n
      \                   Protocol 4 (BGP-4)\", RFC 4271, January 2006.\n"
    title: 16.2.  Informative References
  title: 16.  References
- contents:
  - "Authors' Addresses\n   Jeremy De Clercq\n   Alcatel\n   Copernicuslaan 50, 2018
    Antwerpen, Belgium\n   EMail: jeremy.de_clercq@alcatel.be\n   Dirk Ooms\n   OneSparrow\n
    \  Belegstraat 13, 2018 Antwerpen, Belgium\n   EMail: dirk@onesparrow.com\n   Marco
    Carugi\n   Nortel Networks S.A.\n   Parc d'activites de Magny-Les Jeunes Bois
    CHATEAUFORT\n   78928 YVELINES Cedex 9 - France\n   EMail: marco.carugi@nortel.com\n
    \  Francois Le Faucheur\n   Cisco Systems, Inc.\n   Village d'Entreprise Green
    Side - Batiment T3\n   400, Avenue de Roumanille\n   06410 Biot-Sophia Antipolis\n
    \  France\n   EMail: flefauch@cisco.com\n"
  title: Authors' Addresses
- contents:
  - "Full Copyright Statement\n   Copyright (C) The Internet Society (2006).\n   This
    document is subject to the rights, licenses and restrictions\n   contained in
    BCP 78, and except as set forth therein, the authors\n   retain all their rights.\n
    \  This document and the information contained herein are provided on an\n   \"AS
    IS\" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS\n   OR IS SPONSORED
    BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET\n   ENGINEERING TASK FORCE
    DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED,\n   INCLUDING BUT NOT LIMITED TO
    ANY WARRANTY THAT THE USE OF THE\n   INFORMATION HEREIN WILL NOT INFRINGE ANY
    RIGHTS OR ANY IMPLIED\n   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR
    PURPOSE.\n"
  title: Full Copyright Statement
- contents:
  - "Intellectual Property\n   The IETF takes no position regarding the validity or
    scope of any\n   Intellectual Property Rights or other rights that might be claimed
    to\n   pertain to the implementation or use of the technology described in\n   this
    document or the extent to which any license under such rights\n   might or might
    not be available; nor does it represent that it has\n   made any independent effort
    to identify any such rights.  Information\n   on the procedures with respect to
    rights in RFC documents can be\n   found in BCP 78 and BCP 79.\n   Copies of IPR
    disclosures made to the IETF Secretariat and any\n   assurances of licenses to
    be made available, or the result of an\n   attempt made to obtain a general license
    or permission for the use of\n   such proprietary rights by implementers or users
    of this\n   specification can be obtained from the IETF on-line IPR repository
    at\n   http://www.ietf.org/ipr.\n   The IETF invites any interested party to bring
    to its attention any\n   copyrights, patents or patent applications, or other
    proprietary\n   rights that may cover technology that may be required to implement\n
    \  this standard.  Please address the information to the IETF at\n   ietf-ipr@ietf.org.\n"
  title: Intellectual Property
- contents:
  - "Acknowledgement\n   Funding for the RFC Editor function is provided by the IETF\n
    \  Administrative Support Activity (IASA).\n"
  title: Acknowledgement
