- title: __initial_text__
  contents:
  - '                   IP over ATM: A Framework Document

    '
- title: Status of this Memo
  contents:
  - "Status of this Memo\n   This memo provides information for the Internet community.\
    \  This memo\n   does not specify an Internet standard of any kind.  Distribution\
    \ of\n   this memo is unlimited.\n   Abstract\n   The discussions of the IP over\
    \ ATM working group over the last\n   several years have produced a diverse set\
    \ of proposals, some of which\n   are no longer under active consideration.  A\
    \ categorization is\n   provided for the purpose of focusing discussion on the\
    \ various\n   proposals for IP over ATM deemed of primary interest by the IP over\n\
    \   ATM working group.  The intent of this framework is to help clarify\n   the\
    \ differences between proposals and identify common features in\n   order to promote\
    \ convergence to a smaller and more mutually\n   compatible set of standards.\
    \  In summary, it is hoped that this\n   document, in classifying ATM approaches\
    \ and issues will help to focus\n   the IP over ATM working group's direction.\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   The IP over ATM Working Group of the Internet Engineering\
    \ Task Force\n   (IETF) is chartered to develop standards for routing and forwarding\n\
    \   IP packets over ATM sub-networks.  This document provides a\n   classification/taxonomy\
    \ of IP over ATM options and issues and then\n   describes various proposals in\
    \ these terms.\n   The remainder of this memorandum is organized as follows:\n\
    \   o Section 2 defines several terms relating to networking and\n     internetworking.\n\
    \   o Section 3 discusses the parameters for a taxonomy of the\n     different\
    \ ATM models under discussion.\n   o Section 4 discusses the options for low level\
    \ encapsulation.\n   o Section 5 discusses tradeoffs between connection oriented\
    \ and\n     connectionless approaches.\n   o Section 6 discusses the various means\
    \ of providing direct\n     connections across IP subnet boundaries.\n   o Section\
    \ 7 discusses the proposal to extend IP routing to better\n     accommodate direct\
    \ connections across IP subnet boundaries.\n   o Section 8 identifies several\
    \ prominent IP over ATM proposals that\n     have been discussed within the IP\
    \ over ATM Working Group and\n     their relationship to the framework described\
    \ in this document.\n   o Section 9 addresses the relationship between the documents\n\
    \     developed in the IP over ATM and related working groups and the\n     various\
    \ models discussed.\n"
- title: 2.  Definitions and Terminology
  contents:
  - "2.  Definitions and Terminology\n   We define several terms:\n   A Host or End\
    \ System: A host delivers/receives IP packets to/from\n     other systems, but\
    \ does not relay IP packets.\n   A Router or Intermediate System: A router delivers/receives\
    \ IP\n     packets to/from other systems, and relays IP packets among\n     systems.\n\
    \   IP Subnet: In an IP subnet, all members of the subnet are able to\n      transmit\
    \ packets to all other members of the subnet directly,\n      without forwarding\
    \ by intermediate entities.  No two subnet\n      members are considered closer\
    \ in the IP topology than any other.\n      From an IP routing and IP forwarding\
    \ standpoint a subnet is\n      atomic, though there may be repeaters, hubs, bridges,\
    \ or switches\n      between the physical interfaces of subnet members.\n   Bridged\
    \ IP Subnet: A bridged IP subnet is one in which two or\n      more physically\
    \ disjoint media are made to appear as a single IP\n      subnet.  There are two\
    \ basic types of bridging, media access\n      control (MAC) level, and proxy\
    \ ARP (see section 6).\n   A Broadcast Subnet: A broadcast network supports an\
    \ arbitrary\n      number of hosts and routers and additionally is capable of\n\
    \      transmitting a single IP packet to all of these systems.\n   A Multicast\
    \ Capable Subnet: A multicast capable subnet supports\n     a facility to send\
    \ a packet which reaches a subset of the\n     destinations on the subnet.  Multicast\
    \ setup may be sender\n     initiated, or leaf initiated.  ATM UNI 3.0 [4] and\
    \ UNI 3.1\n     support only sender initiated while IP supports leaf initiated\n\
    \     join.  UNI 4.0 will support leaf initiated join.\n   A Non-Broadcast Multiple\
    \ Access (NBMA) Subnet: An NBMA supports\n     an arbitrary number of hosts and\
    \ routers but does not\n     natively support a convenient multi-destination connectionless\n\
    \     transmission facility, as does a broadcast or multicast capable\n     subnetwork.\n\
    \   An End-to-End path: An end-to-end path consists of two hosts which\n     \
    \ can communicate with one another over an arbitrary number of\n      routers\
    \ and subnets.\n   An internetwork: An internetwork (small \"i\") is the concatenation\n\
    \      of networks, often of various different media and lower level\n      encapsulations,\
    \ to form an integrated larger network supporting\n      communication between\
    \ any of the hosts on any of the component\n      networks.  The Internet (big\
    \ \"I\") is a specific well known\n      global concatenation of (over 40,000\
    \ at the time of writing)\n      component networks.\n   IP forwarding: IP forwarding\
    \ is the process of receiving a packet\n      and using a very low overhead decision\
    \ process determining how\n      to handle the packet.  The packet may be delivered\
    \ locally\n      (for example, management traffic) or forwarded externally.  For\n\
    \      traffic that is forwarded externally, the IP forwarding process\n     \
    \ also determines which interface the packet should be sent out on,\n      and\
    \ if necessary, either removes one media layer encapsulation\n      and replaces\
    \ it with another, or modifies certain fields in the\n      media layer encapsulation.\n\
    \   IP routing: IP routing is the exchange of information that takes\n      place\
    \ in order to have available the information necessary to\n      make a correct\
    \ IP forwarding decision.\n   IP address resolution: A quasi-static mapping exists\
    \ between IP\n      address on the local IP subnet and media address on the local\n\
    \      subnet.  This mapping is known as IP address resolution.\n      An address\
    \ resolution protocol (ARP) is a protocol supporting\n      address resolution.\n\
    \   In order to support end-to-end connectivity, two techniques are used.\n  \
    \ One involves allowing direct connectivity across classic IP subnet\n   boundaries\
    \ supported by certain NBMA media, which includes ATM.  The\n   other involves\
    \ IP routing and IP forwarding.  In essence, the former\n   technique is extending\
    \ IP address resolution beyond the boundaries of\n   the IP subnet, while the\
    \ latter is interconnecting IP subnets.\n   Large internetworks, and in particular\
    \ the Internet, are unlikely to\n   be composed of a single media, or a star topology,\
    \ with a single\n   media at the center.  Within a large network supporting a\
    \ common\n   media, typically any large NBMA such as ATM, IP routing and IP\n\
    \   forwarding must always be accommodated if the internetwork is larger\n   than\
    \ the NBMA, particularly if there are multiple points of\n   interconnection with\
    \ the NBMA and/or redundant, diverse\n   interconnections.\n   Routing information\
    \ exchange in a very large internetwork can be\n   quite dynamic due to the high\
    \ probability that some network elements\n   are changing state.  The address\
    \ resolution space consumption and\n   resource consumption due to state change,\
    \ or maintenance of state\n   information is rarely a problem in classic IP subnets.\
    \  It can become\n   a problem in large bridged networks or in proposals that\
    \ attempt to\n   extend address resolution beyond the IP subnet.  Scaling properties\n\
    \   of address resolution and routing proposals, with respect to state\n   information\
    \ and state change, must be considered.\n"
- title: 3.  Parameters Common to IP Over ATM Proposals
  contents:
  - "3.  Parameters Common to IP Over ATM Proposals\n   In some discussion of IP over\
    \ ATM distinctions have made between\n   local area networks (LANs), and wide\
    \ area networks (WANs) that do not\n   necessarily hold.  The distinction between\
    \ a LAN, MAN and WAN is a\n   matter of geographic dispersion.  Geographic dispersion\
    \ affects\n   performance due to increased propagation delay.\n   LANs are used\
    \ for network interconnections at the the major Internet\n   traffic interconnect\
    \ sites.  Such LANs have multiple administrative\n   authorities, currently exclusively\
    \ support routers providing transit\n   to multihomed internets, currently rely\
    \ on PVCs and static address\n   resolution, and rely heavily on IP routing. \
    \ Such a configuration\n   differs from the typical LANs used to interconnect\
    \ computers in\n   corporate or campus environments, and emphasizes the point\
    \ that prior\n   characterization of LANs do not necessarily hold.  Similarly,\
    \ WANs\n   such as those under consideration by numerous large IP providers, do\n\
    \   not conform to prior characterizations of ATM WANs in that they have\n   a\
    \ single administrative authority and a small number of nodes\n   aggregating\
    \ large flows of traffic onto single PVCs and rely on IP\n   routers to avoid\
    \ forming congestion bottlenecks within ATM.\n   The following characteristics\
    \ of the IP over ATM internetwork may be\n   independent of geographic dispersion\
    \ (LAN, MAN, or WAN).\n   o The size of the IP over ATM internetwork (number of\
    \ nodes).\n   o The size of ATM IP subnets (LIS) in the ATM Internetwork.\n  \
    \ o Single IP subnet vs multiple IP subnet ATM internetworks.\n   o Single or\
    \ multiple administrative authority.\n   o Presence of routers providing transit\
    \ to multihomed internets.\n   o The presence or absence of dynamic address resolution.\n\
    \   o The presence or absence of an IP routing protocol.\n"
- title: 'IP over ATM should therefore be characterized by:'
  contents:
  - "IP over ATM should therefore be characterized by:\n   o Encapsulations below\
    \ the IP level.\n   o Degree to which a connection oriented lower level is available\n\
    \     and utilized.\n   o Type of address resolution at the IP subnet level (static\
    \ or\n     dynamic).\n   o Degree to which address resolution is extended beyond\
    \ the IP\n     subnet boundary.\n   o The type of routing (if any) supported above\
    \ the IP level.\n"
- title: 'ATM-specific attributes of particular importance include:'
  contents:
  - "ATM-specific attributes of particular importance include:\n   o The different\
    \ types of services provided by the ATM Adaptation\n     Layers (AAL).  These\
    \ specify the Quality-of-Service, the\n     connection-mode, etc.  The models\
    \ discussed within this document\n     assume an underlying connection-oriented\
    \ service.\n   o The type of virtual circuits used, i.e., PVCs versus SVCs.  The\n\
    \     PVC environment requires the use of either static tables for\n     ATM-to-IP\
    \ address mapping or the use of inverse ARP, while the\n     SVC environment requires\
    \ ARP functionality to be provided.\n   o The type of support for multicast services.\
    \  If point-to-point\n     services only are available, then a server for IP multicast\
    \ is\n     required.  If point-to-multipoint services are available, then\n  \
    \   IP multicast can be supported via meshes of point-to-multipoint\n     connections\
    \ (although use of a server may be necessary due to\n     limits on the number\
    \ of multipoint VCs able to be supported or to\n     maintain the leaf initiated\
    \ join semantics).\n   o The presence of logical link identifiers (VPI/VCIs) and\
    \ the\n     various information element (IE) encodings within the ATM SVC\n  \
    \   signaling specification, i.e., the ATM Forum UNI version 3.1.\n     This allows\
    \ a VC originator to specify a range of \"layer\"\n     entities as the destination\
    \ \"AAL User\".  The AAL specifications\n     do not prohibit any particular \"\
    layer X\" from attaching\n     directly to a local AAL service.  Taken together\
    \ these points\n     imply a range of methods for encapsulation of upper layer\n\
    \     protocols over ATM. For example, while LLC/SNAP encapsulation is\n     one\
    \ approach (the default), it is also possible to bind virtual\n     circuits to\
    \ higher level entities in the TCP/IP protocol stack.\n     Some examples of the\
    \ latter are single VC per protocol binding,\n     TULIP, and TUNIC, discussed\
    \ further in Section 4.\n   o The number and type of ATM administrative domains/networks,\
    \ and\n     type of addressing used within an administrative domain/network.\n\
    \     In particular, in the single domain/network case, all attached\n     systems\
    \ may be safely assumed to be using a single common\n     addressing format, while\
    \ in the multiple domain case, attached\n     stations may not all be using the\
    \ same common format,\n     with corresponding implications on address resolution.\
    \  (See\n     Appendix A for a discussion of some of the issues that arise\n \
    \    when multiple ATM address formats are used in the same logical\n     IP subnet\
    \ (LIS).) Also security/authentication is much more of a\n     concern in the\
    \ multiple domain case.\n   IP over ATM proposals do not universally accept that\
    \ IP routing over\n   an ATM network is required.  Certain proposals rely on the\
    \ following\n   assumptions:\n   o The widespread deployment of ATM within premises-based\
    \ networks,\n     private wide-area networks and public networks, and\n   o The\
    \ definition of interfaces, signaling and routing protocols\n     among private\
    \ ATM networks.\n   The above assumptions amount to ubiquitous deployment of a\
    \ seamless\n   ATM fabric which serves as the hub of a star topology around which\n\
    \   all other media is attached.  There has been a great deal of\n   discussion\
    \ over when, if ever, this will be a realistic assumption\n   for very large internetworks,\
    \ such as the Internet.  Advocates of\n   such approaches point out that even\
    \ if these are not relevant to very\n   large internetworks such as the Internet,\
    \ there may be a place for\n   such models in smaller internetworks, such as corporate\
    \ networks.\n   The NHRP protocol (Section 8.2), not necessarily specific to ATM,\n\
    \   would be particularly appropriate for the case of ubiquitous ATM\n   deployment.\
    \  NHRP supports the establishment of direct connections\n   across IP subnets\
    \ in the ATM domain.  The use of NHRP does not\n   require ubiquitous ATM deployment,\
    \ but currently imposes topology\n   constraints to avoid routing loops (see Section\
    \ 7).  Section 8.2\n   describes NHRP in greater detail.\n   The Peer Model assumes\
    \ that internetwork layer addresses can be\n   mapped onto ATM addresses and vice\
    \ versa, and that reachability\n   information between ATM routing and internetwork\
    \ layer routing can be\n   exchanged.  This approach has limited applicability\
    \ unless ubiquitous\n   deployment of ATM holds.  The peer model is described\
    \ in Section 8.4.\n   The Integrated Model proposes a routing solution supporting\
    \ an\n   exchange of routing information between ATM routing and higher level\n\
    \   routing.  This provides timely external routing information within\n   the\
    \ ATM routing and provides transit of external routing information\n   through\
    \ the ATM routing between external routing domains.  Such\n   proposals may better\
    \ support a possibly lengthy transition during\n   which assumptions of ubiquitous\
    \ ATM access do not hold.  The\n   Integrated Model is described in Section 8.5.\n\
    \   The Multiprotocol over ATM (MPOA) Sub-Working Group was formed by the\n  \
    \ ATM Forum to provide multiprotocol support over ATM. The MPOA effort\n   is\
    \ at an early stage at the time of this writing.  An MPOA baseline\n   document\
    \ has been drafted, which provides terminology for further\n   discussion of the\
    \ architecture.  This document is available from the\n   FTP server ftp.atmforum.com\
    \ in pub/contributions as the file atm95-\n   0824.ps or atm95-0824.txt.\n"
- title: 4.  Encapsulations and Lower Layer Identification
  contents:
  - "4.  Encapsulations and Lower Layer Identification\n   Data encapsulation, and\
    \ the identification of VC endpoints,\n   constitute two important issues that\
    \ are somewhat orthogonal to the\n   issues of network topology and routing. \
    \ The relationship between\n   these two issues is also a potential sources of\
    \ confusion.  In\n   conventional LAN technologies the 'encapsulation' wrapped\
    \ around a\n   packet of data typically defines the (de)multiplexing path within\n\
    \   source and destination nodes (e.g.  the Ethertype field of an\n   Ethernet\
    \ packet).  Choice of the protocol endpoint within the\n   packet's destination\
    \ node is essentially carried 'in-band'.\n   As the multiplexing is pushed towards\
    \ ATM and away from LLC/SNAP\n   mechanism, a greater burden will be placed upon\
    \ the call setup and\n   teardown capacity of the ATM network.  This may result\
    \ in some\n   questions being raised regarding the scalability of these lower\
    \ level\n   multiplexing options.\n   With the ATM Forum UNI version 3.1 service\
    \ the choice of endpoint\n   within a destination node is made 'out of band' -\
    \ during the Call\n   Setup phase.  This is quite independent of any in-band encapsulation\n\
    \   mechanisms that may be in use.  The B-LLI Information Element allows\n   Layer\
    \ 2 or Layer 3 entities to be specified as a VC's endpoint.  When\n   faced with\
    \ an incoming SETUP message the Called Party will search\n   locally for an AAL\
    \ User that claims to provide the service of the\n   layer specified in the B-LLI.\
    \  If one is found then the VC will be\n   accepted (assuming other conditions\
    \ such as QoS requirements are also\n   met).\n   An obvious approach for IP environments\
    \ is to simply specify the\n   Internet Protocol layer as the VCs endpoint, and\
    \ place IP packets\n   into AAL--SDUs for transmission.  This is termed 'VC multiplexing'\
    \ or\n   'Null Encapsulation', because it involves terminating a VC (through\n\
    \   an AAL instance) directly on a layer 3 endpoint.  However, this\n   approach\
    \ has limitations in environments that need to support\n   multiple layer 3 protocols\
    \ between the same two ATM level endpoints.\n   Each pair of layer 3 protocol\
    \ entities that wish to exchange packets\n   require their own VC.\n   RFC-1483\
    \ [6] notes that VC multiplexing is possible, but focuses on\n   describing an\
    \ alternative termed 'LLC/SNAP Encapsulation'.  This\n   allows any set of protocols\
    \ that may be uniquely identified by an\n   LLC/SNAP header to be multiplexed\
    \ onto a single VC. Figure 1 shows\n   how this works for IP packets - the first\
    \ 3 bytes indicate that the\n   payload is a Routed Non-ISO PDU, and the Organizationally\
    \ Unique\n   Identifier (OUI) of 0x00-00-00 indicates that the Protocol Identifier\n\
    \   (PID) is derived from the EtherType associated with IP packets\n   (0x800).\
    \  ARP packets are multiplexed onto a VC by using a PID of\n   0x806 instead of\
    \ 0x800.\n                                               .---------------.\n \
    \                                              :               :\n           \
    \                                    :   IP Packet   :\n                     \
    \                          :               :\n                               \
    \                 ---------------\n                                          \
    \       :           :\n                                                 :    \
    \       :\n                 8 byte header                   V           V\n  \
    \    .-------------.-------------.------------.---------------.\n      :     \
    \        :             :            :               :\n      :             : \
    \            :            : Encapsulated  :\n      : 0xAA-AA-03  :  0x00-00-00\
    \ :   0x08-00  :    Payload    :\n      :             :             :        \
    \    :               :\n       -------------^-------------^------------^---------------\n\
    \       :                                     :   :           :\n       :   (LLC)\
    \         (OUI)         (PID) :   :           :\n       V                    \
    \                 V   V           V\n     .----------------------------------------------------------.\n\
    \     :                                                          :\n     :   \
    \                       AAL SDU                         :\n     :            \
    \                                              :\n      ----------------------------------------------------------\n\
    \            Figure 1:  IP packet encapsulated in an AAL5 SDU\n      .----------.\
    \     .----------.    .---------.     .----------.\n      :          :     : \
    \         :    :         :     :          :\n      :    IP    :     :   ARP  \
    \  :    :AppleTalk:     :   etc... :\n      :          :     :          :    :\
    \         :     :          :\n       ----------       ----------      ---------\
    \       ----------\n         ^    :           ^    :         ^     :         \
    \ ^     :\n         :    :           :    :         :     :          :     :\n\
    \         :    V           :    V         :     V          :     V\n      .-----------------------------------------------------------.\n\
    \      :                                                           :\n      :\
    \  0x800             0x806          0x809            other  :\n      :       \
    \                                                    :\n      :         Instance\
    \ of layer using LLC/SNAP header to        :\n      :            perform multiplexing/demultiplexing\
    \            :\n      :                                                      \
    \     :\n       -----------------------------------------------------------\n\
    \                               ^  :\n                               :  :\n  \
    \                             :  V\n                        .------------------.\n\
    \                        :                  :\n                        : Instance\
    \ of AAL5 :\n                        :    terminating   :\n                  \
    \      :      one VCC     :\n                        :                  :\n  \
    \                       ------------------\n        Figure 2: LLC/SNAP encapsulation\
    \ allows more than just\n                           IP or ARP per VC.\n   Whatever\
    \ layer terminates a VC carrying LLC/SNAP encapsulated traffic\n   must know how\
    \ to parse the AAL--SDUs in order to retrieve the\n   packets.  The recently approved\
    \ signalling standards for IP over ATM\n   are more explicit, noting that the\
    \ default SETUP message used to\n   establish IP over ATM VCs must carry a B-LLI\
    \ specifying an ISO 8802/2\n   Layer 2 (LLC) entity as each VCs endpoint.  More\
    \ significantly, there\n   is no information carried within the SETUP message\
    \ about the identity\n   of the layer 3 protocol that originated the request -\
    \ until the\n   packets begin arriving the terminating LLC entity cannot know\
    \ which\n   one or more higher layers are packet destinations.\n   Taken together,\
    \ this means that hosts require a protocol entity to\n   register with the host's\
    \ local UNI 3.1 management layer as being an\n   LLC entity, and this same entity\
    \ must know how to handle and generate\n   LLC/SNAP encapsulated packets.  The\
    \ LLC entity will also require\n   mechanisms for attaching to higher layer protocols\
    \ such as IP and\n   ARP.  Figure 2 attempts to show this, and also highlights\
    \ the fact\n   that such an LLC entity might support many more than just IP and\
    \ ARP.\n   In fact the combination of RFC 1483 LLC/SNAP encapsulation, LLC\n \
    \  entities terminating VCs, and suitable choice of LLC/SNAP values, can\n   go\
    \ a long way towards providing an integrated approach to building\n   multiprotocol\
    \ networks over ATM.\n   The processes of actually establishing AAL Users, and\
    \ identifying\n   them to the local UNI 3.1 management layers, are still undefined\
    \ and\n   are likely to be very dependent on operating system environments.\n\
    \   Two encapsulations have been discussed within the IP over ATM working\n  \
    \ group which differ from those given in RFC-1483 [6].  These have the\n   characteristic\
    \ of largely or totally eliminating IP header overhead.\n   These models were\
    \ discussed in the July 1993 IETF meeting in\n   Amsterdam, but have not been\
    \ fully defined by the working group.\n   TULIP and TUNIC assume single hop reachability\
    \ between IP entities.\n   Following name resolution, address resolution, and\
    \ SVC signaling, an\n   implicit binding is established between entities in the\
    \ two hosts.\n   In this case full IP headers (and in particular source and\n\
    \   destination addresses) are not required in each data packet.\n   o The first\
    \ model is \"TCP and UDP over Lightweight IP\" (TULIP)\n     in which only the\
    \ IP protocol field is carried in each packet,\n     everything else being bound\
    \ at call set-up time.  In this\n     case the implicit binding is between the\
    \ IP entities in each\n     host.  Since there is no further routing problem once\
    \ the binding\n     is established, since AAL5 can indicate packet size, since\n\
    \     fragmentation cannot occur, and since ATM signaling will handle\n     exception\
    \ conditions, the absence of all other IP header fields\n     and of ICMP should\
    \ not be an issue.  Entry to TULIP mode would\n     occur as the last stage in\
    \ SVC signaling, by a simple extension\n     to the encapsulation negotiation\
    \ described in RFC-1755 [10].\n     TULIP changes nothing in the abstract architecture\
    \ of the IP\n     model, since each host or router still has an IP address which\
    \ is\n     resolved to an ATM address.  It simply uses the point-to-point\n  \
    \   property of VCs to allow the elimination of some per-packet\n     overhead.\
    \  The use of TULIP could in principle be negotiated on a\n     per-SVC basis\
    \ or configured on a per-PVC basis.\n   o The second model is \"TCP and UDP over\
    \ a Nonexistent IP\n     Connection\" (TUNIC). In this case no network-layer information\n\
    \     is carried in each packet, everything being bound at virtual\n     circuit\
    \ set-up time.  The implicit binding is between two\n     applications using either\
    \ TCP or UDP directly over AAL5 on a\n     dedicated VC.  If this can be achieved,\
    \ the IP protocol field has\n     no useful dynamic function.  However, in order\
    \ to achieve binding\n     between two applications, the use of a well-known port\
    \ number\n     in classical IP or in TULIP mode may be necessary during call\n\
    \     set-up.  This is a subject for further study and would require\n     significant\
    \ extensions to the use of SVC signaling described in\n     RFC-1755 [10].\n \
    \   Encapsulation   In setup message            Demultiplexing\n    -------------+--------------------------+------------------------\n\
    \    SNAP/LLC     _ nothing                  _ source and destination\n      \
    \           _                          _ address, protocol\n                 _\
    \                          _ family, protocol, ports\n                 _     \
    \                     _\n    NULL encaps  _ protocol family          _ source\
    \ and destination\n                 _                          _ address, protocol,\
    \ ports\n                 _                          _\n    TULIP        _ source\
    \ and destination   _ protocol, ports\n                 _ address, protocol family\
    \ _\n                 _                          _\n    TUNIC - A    _ source\
    \ and destination   _ ports\n                 _ address, protocol family _\n \
    \                _ protocol                 _\n                 _            \
    \              _\n    TUNIC - B    _ source and destination   _ nothing\n    \
    \             _ address, protocol family _\n                 _ protocol, ports\
    \          _\n                Table 1:  Summary of Encapsulation Types\n"
- title: TULIP/TUNIC can be presented as being on one end of a continuum opposite
  contents:
  - 'TULIP/TUNIC can be presented as being on one end of a continuum opposite

    '
- title: the SNAP/LLC encapsulation, with various forms of null encapsulation
  contents:
  - 'the SNAP/LLC encapsulation, with various forms of null encapsulation

    '
- title: somewhere in the middle.  The continuum is simply a matter of how much
  contents:
  - 'somewhere in the middle.  The continuum is simply a matter of how much

    '
- title: is moved from in-stream demultiplexing to call setup demultiplexing.
  contents:
  - 'is moved from in-stream demultiplexing to call setup demultiplexing.

    '
- title: The various encapsulation types are presented in Table 1.
  contents:
  - 'The various encapsulation types are presented in Table 1.

    '
- title: Encapsulations such as TULIP and TUNIC make assumptions with regard to
  contents:
  - 'Encapsulations such as TULIP and TUNIC make assumptions with regard to

    '
- title: the desirability to support connection oriented flow.  The tradeoffs
  contents:
  - 'the desirability to support connection oriented flow.  The tradeoffs

    '
- title: between connection oriented and connectionless are discussed in Section
  contents:
  - 'between connection oriented and connectionless are discussed in Section

    '
- title: '5.'
  contents:
  - '5.

    '
- title: 5.  Connection Oriented and Connectionless Tradeoffs
  contents:
  - '5.  Connection Oriented and Connectionless Tradeoffs

    '
- title: The connection oriented and connectionless approaches each offer
  contents:
  - 'The connection oriented and connectionless approaches each offer

    '
- title: advantages and disadvantages.  In the past, strong advocates of pure
  contents:
  - 'advantages and disadvantages.  In the past, strong advocates of pure

    '
- title: connection oriented and pure connectionless architectures have argued
  contents:
  - 'connection oriented and pure connectionless architectures have argued

    '
- title: intensely.  IP over ATM does not need to be purely connectionless or
  contents:
  - 'intensely.  IP over ATM does not need to be purely connectionless or

    '
- title: purely connection oriented.
  contents:
  - "purely connection oriented.\n    APPLICATION       Pure Connection Oriented Approach\n\
    \    ----------------+-------------------------------------------------\n    General\
    \         _ Always set up a VC\n                    _\n    Short Duration  _ Set\
    \ up a VC.  Either hold the packet during VC\n    UDP (DNS)       _ setup or drop\
    \ it and await a retransmission.\n                    _ Teardown on a timer basis.\n\
    \                    _\n    Short Duration  _ Set up a VC.  Either hold packet(s)\
    \ during VC\n    TCP (SMTP)      _ setup or drop them and await retransmission.\n\
    \                    _ Teardown on detection of FIN-ACK or on a timer\n      \
    \              _ basis.\n                    _\n    Elastic (TCP)   _ Set up a\
    \ VC same as above.  No clear method to\n    Bulk Transfer   _ set QoS parameters\
    \ has emerged.\n                    _\n    Real Time       _ Set up a VC.  QoS\
    \ parameters are assumed to\n    (audio, video)  _ precede traffic in RSVP or\
    \ be carried in some\n                    _ form within the traffic itself.\n\
    \      Table 2: Connection Oriented vs. Connectionless - a) a pure\n         \
    \             connection oriented approach\n"
- title: ATM with basic AAL 5 service is connection oriented.  The IP layer
  contents:
  - 'ATM with basic AAL 5 service is connection oriented.  The IP layer

    '
- title: above ATM is connectionless.  On top of IP much of the traffic is
  contents:
  - 'above ATM is connectionless.  On top of IP much of the traffic is

    '
- title: supported by TCP, a reliable end-to-end connection oriented protocol.
  contents:
  - 'supported by TCP, a reliable end-to-end connection oriented protocol.

    '
- title: A fundamental question is to what degree is it beneficial to map
  contents:
  - 'A fundamental question is to what degree is it beneficial to map

    '
- title: different flows above IP into separate connections below IP.  There is
  contents:
  - 'different flows above IP into separate connections below IP.  There is

    '
- title: a broad spectrum of opinion on this.
  contents:
  - 'a broad spectrum of opinion on this.

    '
- title: As stated in section 4, at one end of the spectrum, IP would remain
  contents:
  - 'As stated in section 4, at one end of the spectrum, IP would remain

    '
- title: highly connectionless and set up single VCs between routers which are
  contents:
  - 'highly connectionless and set up single VCs between routers which are

    '
- title: adjacent on an IP subnet and for which there was active traffic flow.
  contents:
  - 'adjacent on an IP subnet and for which there was active traffic flow.

    '
- title: All traffic between the such routers would be multiplexed on a single
  contents:
  - 'All traffic between the such routers would be multiplexed on a single

    '
- title: ATM VC. At the other end of the spectrum, a separate ATM VC would be
  contents:
  - 'ATM VC. At the other end of the spectrum, a separate ATM VC would be

    '
- title: created for each identifiable flow.  For every unique TCP or UDP
  contents:
  - 'created for each identifiable flow.  For every unique TCP or UDP

    '
- title: address and port pair encountered a new VC would be required.  Part of
  contents:
  - 'address and port pair encountered a new VC would be required.  Part of

    '
- title: the intensity of early arguments has been over failure to recognize
  contents:
  - 'the intensity of early arguments has been over failure to recognize

    '
- title: that there is a middle ground.
  contents:
  - 'that there is a middle ground.

    '
- title: ATM offers QoS and traffic management capabilities that are well
  contents:
  - 'ATM offers QoS and traffic management capabilities that are well

    '
- title: suited for certain types of services.  It may be advantageous to use
  contents:
  - 'suited for certain types of services.  It may be advantageous to use

    '
- title: separate ATM VC for such services.  Other IP services such as DNS, are
  contents:
  - 'separate ATM VC for such services.  Other IP services such as DNS, are

    '
- title: ill suited for connection oriented delivery, due to their normal very
  contents:
  - 'ill suited for connection oriented delivery, due to their normal very

    '
- title: short duration (typically one packet in each direction).  Short
  contents:
  - 'short duration (typically one packet in each direction).  Short

    '
- title: duration transactions, even many using TCP, may also be poorly suited
  contents:
  - 'duration transactions, even many using TCP, may also be poorly suited

    '
- title: for a connection oriented model due to setup and state overhead.  ATM
  contents:
  - 'for a connection oriented model due to setup and state overhead.  ATM

    '
- title: QoS and traffic management capabilities may be poorly suited for
  contents:
  - 'QoS and traffic management capabilities may be poorly suited for

    '
- title: elastic traffic.
  contents:
  - "elastic traffic.\n    APPLICATION       Middle Ground\n    ----------------+-------------------------------------------------\n\
    \    General         _ Use RSVP or other indication which clearly\n          \
    \          _ indicate a VC is needed and what QoS parameters\n               \
    \     _ are appropriate.\n                    _\n    Short Duration  _ Forward\
    \ hop by hop.  RSVP is unlikely to precede\n    UDP (DNS)       _ this type of\
    \ traffic.\n                    _\n    Short Duration  _ Forward hop by hop unless\
    \ RSVP indicates\n    TCP (SMTP)      _ otherwise.  RSVP is unlikely to precede\
    \ this\n                    _ type of traffic.\n                    _\n    Elastic\
    \ (TCP)   _ By default hop by hop forwarding is used.\n    Bulk Transfer   _ However,\
    \ RSVP information, local configuration\n                    _ about TCP port\
    \ number usage, or a locally\n                    _ implemented method for passing\
    \ QoS information\n                    _ from the application to the IP/ATM driver\
    \ may\n                    _ allow/suggest the establishment of direct VCs.\n\
    \                    _\n    Real Time       _ Forward hop by hop unless RSVP indicates\n\
    \    (audio, video)  _ otherwise.  RSVP will indicate QoS requirements.\n    \
    \                _ It is assumed RSVP will generally be used for\n           \
    \         _ this case.  A local decision can be made as to\n                 \
    \   _ whether the QoS is better served by a separate\n                    _ VC.\n\
    \ Table 3: Connection Oriented vs.  Connectionless - b) a middle ground\n    \
    \                            approach\n    APPLICATION       Pure Connectionless\
    \ Approach\n    ----------------+-------------------------------------------------\n\
    \    General         _ Always forward hop by hop.  Use queueing\n            \
    \        _ algorithms implemented at the IP layer to\n                    _ support\
    \ reservations such as those specified by\n                    _ RSVP.\n     \
    \               _\n    Short Duration  _ Forward hop by hop.\n    UDP (DNS)  \
    \     _\n                    _\n    Short Duration  _ Forward hop by hop.\n  \
    \  TCP (SMTP)      _\n                    _\n    Elastic (TCP)   _ Forward hop\
    \ by hop.  Assume ability of TCP to\n    Bulk Transfer   _ share bandwidth (within\
    \ a VBR VC) works as well\n                    _ or better than ATM traffic management.\n\
    \                    _\n    Real Time       _ Forward hop by hop.  Assume that\
    \ queueing\n    (audio, video)  _ algorithms at the IP level can be designed to\n\
    \                    _ work with sufficiently good performance\n             \
    \       _ (e.g., due to support for predictive\n                    _ reservation).\n\
    \      Table 4: Connection Oriented vs.  Connectionless - c) a pure\n        \
    \                connectionless approach\n   Work in progress is addressing how\
    \ QoS requirements might be\n   expressed and how the local decisions might be\
    \ made as to whether\n   those requirements are best and/or most cost effectively\
    \ accomplished\n   using ATM or IP capabilities.  Table 2, Table 3, and Table\
    \ 4 describe\n   typical treatment of various types of traffic using a pure connection\n\
    \   oriented approach, middle ground approach, and pure connectionless\n   approach.\n\
    \   The above qualitative description of connection oriented vs\n   connectionless\
    \ service serve only as examples to illustrate differing\n   approaches.  Work\
    \ in the area of an integrated service model, QoS and\n   resource reservation\
    \ are related to but outside the scope of the IP\n   over ATM Work Group.  This\
    \ work falls under the Integrated Services\n   Work Group (int-serv) and Reservation\
    \ Protocol Work Group (rsvp), and\n   will ultimately determine when direct connections\
    \ will be\n   established.  The IP over ATM Work Group can make more rapid progress\n\
    \   if concentrating solely on how direct connections are established.\n"
- title: 6.  Crossing IP Subnet Boundaries
  contents:
  - "6.  Crossing IP Subnet Boundaries\n   A single IP subnet will not scale well\
    \ to a large size.  Techniques\n   which extend the size of an IP subnet in other\
    \ media include MAC\n   layer bridging, and proxy ARP bridging.\n   MAC layer\
    \ bridging alone does not scale well.  Protocols such as ARP\n   rely on the media\
    \ broadcast to exchange address resolution\n   information.  Most bridges improve\
    \ scaling characteristics by\n   capturing ARP packets and retaining the content,\
    \ and distributing the\n   information among bridging peers.  The ARP information\
    \ gathered from\n   ARP replies is broadcast only where explicit ARP requests\
    \ are made.\n   This technique is known as proxy ARP.\n   Proxy ARP bridging improves\
    \ scaling by reducing broadcast traffic,\n   but still suffers scaling problems.\
    \  If the bridged IP subnet is part\n   of a larger internetwork, a routing protocol\
    \ is required to indicate\n   what destinations are beyond the IP subnet unless\
    \ a statically\n   configured default route is used.  A default route is only\
    \ applicable\n   to a very simple topology with respect to the larger internet\
    \ and\n   creates a single point of failure.  Because internets of enormous\n\
    \   size create scaling problems for routing protocols, the component\n   networks\
    \ of such large internets are often partitioned into areas,\n   autonomous systems\
    \ or routing domains, and routing confederacies.\n   The scaling limits of the\
    \ simple IP subnet require a large network to\n   be partitioned into smaller\
    \ IP subnets.  For NBMA media like ATM,\n   there are advantages to creating direct\
    \ connections across the entire\n   underlying NBMA network.  This leads to the\
    \ need to create direct\n   connections across IP subnet boundaries.\n       \
    \                         .----------.\n                       ---------<  Non-ATM\
    \ :\n          .-------.   /       /-<  Subnet  >-\\\n          :Sub-ES >--/ \
    \       :  ----------  :\n           -------            :              :\n   \
    \                           :              :\n                           .--^---.\
    \       .--^---.\n                           :Router:       :Router:\n       \
    \                     -v-v--         -v-v--\n                             : :\
    \            : :\n                  .--------. : : .--------. : : .--------.\n\
    \      .-------.   :        >-/ \\-<        >-/ \\-<        :   .-------.\n  \
    \    :Sub-ES :---: Subnet :-----: Subnet :-----: Subnet :---:Sub-ES :\n      \
    \ -------    :        :     :        :     :        :    -------\n           \
    \        --------       ---v----       --------\n                            \
    \         :\n                                  .--^----.\n                   \
    \               :Sub-ES :\n                                   -------\n    Figure\
    \ 3: A configuration with both ATM-based and non-ATM based\n                 \
    \               subnets.\n   For example, figure 3 shows an end-to-end configuration\
    \ consisting of\n   four components, three of which are ATM technology based,\
    \ while the\n   fourth is a standard IP subnet based on non-ATM technology.  End-\n\
    \   systems (either hosts or routers) attached to the ATM-based networks\n   may\
    \ communicate either using the Classical IP model or directly via\n   ATM (subject\
    \ to policy constraints).  Such nodes may communicate\n   directly at the IP level\
    \ without necessarily needing an intermediate\n   router, even if end-systems\
    \ do not share a common IP-level network\n   prefix.  Communication with end-systems\
    \ on the non-ATM-based\n   Classical IP subnet takes place via a router, following\
    \ the Classical\n   IP model (see Section 8.1 below).\n   Many of the problems\
    \ and issues associated with creating such direct\n   connections across subnet\
    \ boundaries were originally being addressed\n   in the IETF's IPLPDN working\
    \ group and the IP over ATM working group.\n   This area is now being addressed\
    \ in the Routing over Large Clouds\n   working group.  Examples of work performed\
    \ in the IPLPDN working\n   group include short-cut routing (proposed by P. Tsuchiya)\
    \ and\n   directed ARP RFC-1433 [5] over SMDS networks.  The ROLC working group\n\
    \   has produced the distributed ARP server architectures and the NBMA\n   Address\
    \ Resolution Protocol (NARP) [7].  The Next Hop Resolution\n   Protocol (NHRP)\
    \ is still work in progress, though the ROLC WG is\n   considering advancing the\
    \ current document.  Questions/issues\n   specifically related to defining a capability\
    \ to cross IP subnet\n   boundaries include:\n   o How can routing be optimized\
    \ across multiple logical IP subnets\n     over both a common ATM based and a\
    \ non-ATM based infrastructure.\n     For example, in Figure 3, there are two\
    \ gateways/routers between\n     the non-ATM subnet and the ATM subnets.  The\
    \ optimal path\n     from end-systems on any ATM-based subnet to the non ATM-based\n\
    \     subnet is a function of the routing state information of the two\n     routers.\n\
    \   o How to incorporate policy routing constraints.\n   o What is the proper\
    \ coupling between routing and address\n     resolution particularly with respect\
    \ to off-subnet communication.\n   o What are the local procedures to be followed\
    \ by hosts and\n     routers.\n   o Routing between hosts not sharing a common\
    \ IP-level (or L3)\n     network prefix, but able to be directly connected at\
    \ the NBMA\n     media level.\n   o Defining the details for an efficient address\
    \ resolution\n     architecture including defining the procedures to be followed\
    \ by\n     clients and servers (see RFC-1433 [5], RFC-1735 [7] and NHRP).\n  \
    \ o How to identify the need for and accommodate special purpose SVCs\n     for\
    \ control or routing and high bandwidth data transfers.\n   For ATM (unlike other\
    \ NBMA media), an additional complexity in\n   supporting IP routing over these\
    \ ATM internets lies in the\n   multiplicity of address formats in UNI 3.0 [4].\
    \  NSAP modeled address\n   formats only are supported on \"private ATM\" networks,\
    \ while either 1)\n   E.164 only, 2) NSAP modeled formats only, or 3) both are\
    \ supported on\n   \"public ATM\" networks.  Further, while both the E.164 and\
    \ NSAP\n   modeled address formats are to be considered as network points of\n\
    \   attachment, it seems that E.164 only networks are to be considered as\n  \
    \ subordinate to \"private networks\", in some sense.  This leads to some\n  \
    \ confusion in defining an ARP mechanism in supporting all combinations\n   of\
    \ end-to-end scenarios (refer to the discussion in Appendix A on the\n   possible\
    \ scenarios to be supported by ARP).\n"
- title: 7.  Extensions to IP Routing
  contents:
  - "7.  Extensions to IP Routing\n   RFC-1620 [3] describes the problems and issues\
    \ associated with direct\n   connections across IP subnet boundaries in greater\
    \ detail, as well as\n   possible solution approaches.  The ROLC WG has identified\
    \ persistent\n   routing loop problems that can occur if protocols which lose\n\
    \   information critical to path vector routing protocol loop suppression\n  \
    \ are used to accomplish direct connections across IP subnet\n   boundaries.\n\
    \   The problems may arise when a destination network which is not on the\n  \
    \ NBMA network is reachable via different routers attached to the NBMA\n   network.\
    \  This problem occurs with proposals that attempt to carry\n   reachability information,\
    \ but do not carry full path attributes (for\n   path vector routing) needed for\
    \ inter-AS path suppression, or full\n   metrics (for distance vector or link\
    \ state routing even if path\n   vector routing is not used) for intra-AS routing.\n\
    \   For example, the NHRP protocol may be used to support the\n   establishment\
    \ of direct connections across subnetwork boundaries.\n   NHRP assumes that routers\
    \ do run routing protocols (intra and/or\n   inter domain) and/or static routing.\
    \  NHRP further assumes that\n   forwarding tables constructed by these protocols\
    \ result in a steady\n   state loop-free forwarding.  Note that these two assumptions\
    \ do not\n   impose any additional requirements on routers, beyond what is\n \
    \  required in the absence of NHRP.\n   NHRP runs in addition to routing protocols,\
    \ and provides the\n   information that allows the elimination of multiple IP\
    \ hops (the\n   multiple IP hops result from the forwarding tables constructed\
    \ by the\n   routing protocols) when traversing an NBMA network.  The IPATM and\n\
    \   ROLC WGs have both expended considerable effort in discussing and\n   coming\
    \ to understand these limitations.\n   It is well-known that truncating path information\
    \ in Path Vector\n   protocols (e.g., BGP) or losing metric information in Distance\
    \ Vector\n   protocols (e.g., RIP) could result in persistent forwarding loops.\n\
    \   These loops could occur without ATM and without NHRP.\n   The combination\
    \ of NHRP and static routing alone cannot be used in\n   some topologies where\
    \ some of the destinations are served by multiple\n   routers on the NBMA. The\
    \ combination of NHRP and an intra-AS routing\n   protocol that does not carry\
    \ inter-AS routing path attributes alone\n   cannot be used in some topologies\
    \ in which the NBMA will provide\n   inter-AS transit connectivity to destinations\
    \ from other AS served by\n   multiple routers on the NBMA.\n   Figure 4 provides\
    \ an example of the routing loops that may be formed\n   in these circumstances.\
    \  The example illustrates how the use of NHRP\n   in the environment where forwarding\
    \ loops could exist even without\n   NHRP (due to either truncated path information\
    \ or loss of metric\n   information) would still produce forwarding loops.\n \
    \  There are many potential scenarios for routing loops.  An example is\n   given\
    \ in Figure 4.  It is possible to produce a simpler example where\n   a loop can\
    \ form.  The example in Figure 4 illustrates a loop which\n   will persist even\
    \ if the protocol on the NBMA supports redirects or\n   can invalidate any route\
    \ which changes in any way, but does not\n   support the communication of full\
    \ metrics or path attributes.\n    .----.    .----.\n    : H1 >----< S1 :    \
    \     Notes:\n     ----      vvvv        H#n == host #n\n               / : \\\
    \        R#n == router #n\n              /  :  \\        S#n == subnet #n\n  \
    \    /------/   :   \\\n      :          :    \\        S2 to R3 breaks\n   .--^---.\
    \   .----. .-^--.\n   :      :   : R4 : : R6 :\n   : NBMA :    --v-   --v-   \
    \   See the text for\n   :      :      :      :       details of the\n    -v--v-\
    \       =      =       looping conditions\n     :   \\       = SLOW =       and\
    \ mechanisms\n     :  .-^--.   = LINK =\n     :  : R2 :   =      =\n     :   --v-\
    \    :      :\n     :     :  .--^-. .--^-.\n   .-^--.  :  : R5 : : R7 :\n   :\
    \ R8 :  :   --v-   --v-\n    --v-    \\    :      :\n      :      \\  /      \
    \ :\n       \\    .-^^-.   .--^-.\n        \\   : S2 :   : S4 :\n         \\ \
    \  --v-     --v-\n          \\     \\      /\n           \\     \\    /\n    \
    \        \\    .^--^.\n             \\   : R3 :    path before the break is\n\
    \              \\   -v--    H1->S1->R1->NBMA->R2->S2->R3->H2\n               \\\
    \  /\n     .----.   .-^^-.    path after the break is\n     : H2 >---< S3 :  \
    \  H1->S1->R1->NBMA->R2->S2->R5->R4->S1\n      ----     ----         \\------<--the-loop--<-------/\n\
    \      Figure 4:  A Routing Loop Due to Lost PV Routing Attributes.\n   In the\
    \ example in Figure 4, Host 1 is sending traffic toward Host 2.\n   In practice,\
    \ host routes would not be used, so the destination for\n   the purpose of routing\
    \ would be Subnet 3.  The traffic travels by way\n   of Router 1 which establishes\
    \ a \"cut-through\" SVC to the NBMA next-\n   hop, shown here as Router 2.  Router\
    \ 2 forwards traffic destined for\n   Subnet 3 through Subnet 2 to Router 3. \
    \ Traffic from Host 1 would\n   then reach Host 2.\n   Router 1's cut-through\
    \ routing implementation caches an association\n   between Host 2's IP address\
    \ (or more likely all of Subnet 3) and\n   Router 2's NBMA address.  While the\
    \ cut-through SVC is still up, Link\n   1 fails.  Router 5 loses it's preferred\
    \ route through Router 3 and\n   must direct traffic in the other direction. \
    \ Router 2 loses a route\n   through Router 3, but picks up an alternate route\
    \ through Router 5.\n   Router 1 is still directing traffic toward Router 2 and\
    \ advertising a\n   means of reaching Subnet 3 to Subnet 1.  Router 5 and Router\
    \ 2 will\n   see a route, creating a loop.\n   This loop would not form if path\
    \ information normally carried by\n   interdomain routing protocols such as BGP\
    \ and IDRP were retained\n   across the NBMA. Router 2 would reject the initial\
    \ route from Router\n   5 due to the path information.  When Router 2 declares\
    \ the route to\n   Subnet 3 unreachable, Router 1 withdraws the route from routing\
    \ at\n   Subnet 1, leaving the route through Router 4, which would then reach\n\
    \   Router 5, and would reach Router 2 through both Router 1 and Router\n   5.\
    \  Similarly, a link state protocol would not form such a loop.\n   Two proposals\
    \ for breaking this form of routing loop have been\n   discussed.  Redirect in\
    \ this example would have no effect, since\n   Router 2 still has a route, just\
    \ has different path attributes.  A\n   second proposal is that is that when a\
    \ route changes in any way, the\n   advertising NBMA cut-through router invalidates\
    \ the advertisement for\n   some time period.  This is similar to the notion of\
    \ Poison Reverse in\n   distance vector routing protocols.  In this example, Router\
    \ 2 would\n   eventually readvertise a route since a route through Router 6 exists.\n\
    \   When Router 1 discovers this route, it will advertise it to Subnet 1\n   and\
    \ form the loop.  Without path information, Router 1 cannot\n   distinguish between\
    \ a loop and restoration of normal service through\n   the link L1.\n   The loop\
    \ in Figure 4 can be prevented by configuring Router 4 or\n   Router 5 to refuse\
    \ to use the reverse path.  This would break backup\n   connectivity through Router\
    \ 8 if L1 and L3 failed.  The loop can also\n   be broken by configuring Router\
    \ 2 to refuse to use the path through\n   Router 5 unless it could not reach the\
    \ NBMA. Special configuration of\n   Router 2 would work as long as Router 2 was\
    \ not distanced from Router\n   3 and Router 5 by additional subnets such that\
    \ it could not determine\n   which path was in use.  If Subnet 1 is in a different\
    \ AS or RD than\n   Subnet 2 or Subnet 4, then the decision at Router 2 could\
    \ be based on\n   path information.\n                        .--------.    .--------.\n\
    \                        : Router :    : Router :\n                         --v-v---\
    \      ---v-v--\n                           : :            : :\n   .--------.\
    \   .--------. : : .--------. : : .--------.   .--------.\n   : Sub-ES :---: Subnet\
    \ :-/ \\-: Subnet :-/ \\-: Subnet :---: Sub-ES :\n    --------     --------  \
    \     --------       --------     --------\n Figure 5: The Classical IP model\
    \ as a concatenation of three separate\n                            ATM IP subnets.\n\
    \   In order for loops to be prevented by special configuration at the\n   NBMA\
    \ border router, that router would need to know all paths that\n   could lead\
    \ back to the NBMA. The same argument that special\n   configuration could overcome\
    \ loss of path information was posed in\n   favor of retaining the use of the\
    \ EGP protocol defined in the now\n   historic RFC-904 [11].  This turned out\
    \ to be unmanageable, with\n   routing problems occurring when topology was changed\
    \ elsewhere.\n"
- title: 8.  IP Over ATM Proposals
  contents:
  - '8.  IP Over ATM Proposals

    '
- title: 8.1  The Classical IP Model
  contents:
  - "8.1  The Classical IP Model\n   The Classical IP Model was suggested at the Spring\
    \ 1993 IETF meeting\n   [8] and retains the classical IP subnet architecture.\
    \  This model\n   simply consists of cascading instances of IP subnets with IP-level\n\
    \   (or L3) routers at IP subnet borders.  An example realization of this\n  \
    \ model consists of a concatenation of three IP subnets.  This is shown\n   in\
    \ Figure 5.  Forwarding IP packets over this Classical IP model is\n   straight\
    \ forward using already well established routing techniques\n   and protocols.\n\
    \   SVC-based ATM IP subnets are simplified in that they:\n   o limit the number\
    \ of hosts which must be directly connected at any\n     given time to those that\
    \ may actually exchange traffic.\n   o The ATM network is capable of setting up\
    \ connections between\n     any pair of hosts.  Consistent with the standard IP\
    \ routing\n     algorithm [2] connectivity to the \"outside\" world is achieved\n\
    \     only through a router, which may provide firewall functionality\n     if\
    \ so desired.\n   o The IP subnet supports an efficient mechanism for address\n\
    \     resolution.\n   Issues addressed by the IP Over ATM Working Group, and some\
    \ of the\n   resolutions, for this model are:\n   o Methods of encapsulation and\
    \ multiplexing.  This issue is\n     addressed in RFC-1483 [6], in which two methods\
    \ of encapsulation\n     are defined, an LLC/SNAP and a per-VC multiplexing option.\n\
    \   o The definition of an address resolution server (defined in\n     RFC-1577).\n\
    \   o Defining the default MTU size.  This issue is addressed in\n     RFC-1626\
    \ [1] which proposes the use of the MTU discovery\n     protocol (RFC-1191 [9]).\n\
    \   o Support for IP multicasting.  In the summer of 1994, work began\n     on\
    \ the issue of supporting IP multicasting over the SVC LATM\n     model.  The\
    \ proposal for IP multicasting is currently defined by\n     a set of IP over\
    \ ATM WG Works in Progress, referred to collectively\n     as the IPMC documents.\
    \  In order to support IP multicasting the\n     ATM subnet must either support\
    \ point-to- multipoint SVCs, or\n     multicast servers, or both.\n   o Defining\
    \ interim SVC parameters, such as QoS parameters and\n     time-out values.\n\
    \   o Signaling and negotiations of parameters such as MTU size\n     and method\
    \ of encapsulation.  RFC-1755 [10] describes an\n     implementation agreement\
    \ for routers signaling the ATM network\n     to establish SVCs initially based\
    \ upon the ATM Forum's UNI\n     version 3.0 specification [4], and eventually\
    \ to be based\n     upon the ATM Forum's UNI version 3.1 and later specifications.\n\
    \     Topics addressed in RFC-1755 include (but are not limited to)\n     VC management\
    \ procedures, e.g., when to time-out SVCs, QOS\n     parameters, service classes,\
    \ explicit setup message formats for\n     various encapsulation methods, node\
    \ (host or router) to node\n     negotiations, etc.\n   RFC-1577 is also applicable\
    \ to PVC-based subnets.  Full mesh PVC\n   connectivity is required.\n   For more\
    \ information see RFC-1577 [8].\n"
- title: 8.2 The ROLC NHRP Model
  contents:
  - "8.2 The ROLC NHRP Model\n   The Next Hop Resolution Protocol (NHRP), currently\
    \ a work in progress\n   defined by the Routing Over Large Clouds Working Group\
    \ (ROLC),\n   performs address resolution to accomplish direct connections across\n\
    \   IP subnet boundaries.  NHRP can supplement RFC-1577 ARP. There has\n   been\
    \ recent discussion of replacing RFC-1577 ARP with NHRP. NHRP can\n   also perform\
    \ a proxy address resolution to provide the address of the\n   border router serving\
    \ a destination off of the NBMA which is only\n   served by a single router on\
    \ the NBMA. NHRP as currently defined\n   cannot be used in this way to support\
    \ addresses learned from routers\n   for which the same destinations may be heard\
    \ at other routers,\n   without the risk of creating persistent routing loops.\n"
- title: 8.3 "Conventional" Model
  contents:
  - "8.3 \"Conventional\" Model\n   The \"Conventional Model\" assumes that a router\
    \ can relay IP packets\n   cell by cell, with the VPI/VCI identifying a flow between\
    \ adjacent\n   routers rather than a flow between a pair of nodes.  A latency\n\
    \   advantage can be provided if cell interleaving from multiple IP\n   packets\
    \ is allowed.  Interleaving frames within the same VCI requires\n   an ATM AAL\
    \ such as AAL3/4 rather than AAL5.  Cell forwarding is\n   accomplished through\
    \ a higher level mapping, above the ATM VCI layer.\n   The conventional model\
    \ is not under consideration by the IP/ATM WG.\n   The COLIP WG has been formed\
    \ to develop protocols based on the\n   conventional model.\n"
- title: 8.4 The Peer Model
  contents:
  - "8.4 The Peer Model\n   The Peer Model places IP routers/gateways on an addressing\
    \ peer basis\n   with corresponding entities in an ATM cloud (where the ATM cloud\
    \ may\n   consist of a set of ATM networks, inter-connected via UNI or P-NNI\n\
    \   interfaces).  ATM network entities and the attached IP hosts or\n   routers\
    \ exchange call routing information on a peer basis by\n   algorithmically mapping\
    \ IP addressing into the NSAP space.  Within\n   the ATM cloud, ATM network level\
    \ addressing (NSAP-style), call\n   routing and packet formats are used.\n   In\
    \ the Peer Model no provision is made for selection of primary path\n   and use\
    \ of alternate paths in the event of primary path failure in\n   reaching multihomed\
    \ non-ATM destinations.  This will limit the\n   topologies for which the peer\
    \ model alone is applicable to only those\n   topologies in which non-ATM networks\
    \ are singly homed, or where loss\n   of backup connectivity is not an issue.\
    \  The Peer Model may be used\n   to avoid the need for an address resolution\
    \ protocol and in a proxy-\n   ARP mode for stub networks, in conjunction with\
    \ other mechanisms\n   suitable to handle multihomed destinations.\n   During\
    \ the discussions of the IP over ATM working group, it was felt\n   that the problems\
    \ with the end-to-end peer model were much harder\n   than any other model, and\
    \ had more unresolved technical issues.\n   While encouraging interested individuals/companies\
    \ to research this\n   area, it was not an initial priority of the working group\
    \ to address\n   these issues.  The ATM Forum Network Layer Multiprotocol Working\n\
    \   Group has reached a similar conclusion.\n"
- title: 8.5 The PNNI and the Integrated Models
  contents:
  - "8.5 The PNNI and the Integrated Models\n   The Integrated model (proposed and\
    \ under study within the\n   Multiprotocol group of ATM Forum) considers a single\
    \ routing protocol\n   to be used for both IP and for ATM. A single routing information\n\
    \   exchange is used to distribute topological information.  The routing\n   computation\
    \ used to calculate routes for IP will take into account\n   the topology, including\
    \ link and node characteristics, of both the IP\n   and ATM networks and calculates\
    \ an optimal route for IP packets over\n   the combined topology.\n   The PNNI\
    \ is a hierarchical link state routing protocol with multiple\n   link metrics\
    \ providing various available QoS parameters given current\n   loading.  Call\
    \ route selection takes into account QoS requirements.\n   Hysteresis is built\
    \ into link metric readvertisements in order to\n   avoid computational overload\
    \ and topological hierarchy serves to\n   subdivide and summarize complex topologies,\
    \ helping to bound\n   computational requirements.\n   Integrated Routing is a\
    \ proposal to use PNNI routing as an IP routing\n   protocol.  There are several\
    \ sets of technical issues that need to be\n   addressed, including the interaction\
    \ of multiple routing protocols,\n   adaptation of PNNI to broadcast media, support\
    \ for NHRP, and others.\n   These are being investigated.  However, the ATM Forum\
    \ MPOA group is\n   not currently performing this investigation.  Concerned individuals\n\
    \   are, with an expectation of bringing the work to the ATM Forum and\n   the\
    \ IETF.\n   PNNI has provisions for carrying uninterpreted information.  While\n\
    \   not yet defined, a compatible extension of the base PNNI could be\n   used\
    \ to carry external routing attributes and avoid the routing loop\n   problems\
    \ described in Section 7.\n               ++++++++++++++++++++++++++++++++++++++++++\n\
    \               +   .------------.      .------------.   +\n   .---------. + .-:\
    \            :-.  .-:            :-. +\n   : Host or >-+-< : Single ATM : >--<\
    \ : Single ATM : >-+-----\\\n   : Router  : + : :   Domain   : :  : :   Domain\
    \   : : +     :\n    ---------  +  -:            :-    -:            :-  + .---^----.\n\
    \               +    ------------        ------------    + : Router :\n      \
    \         +                       .------------.   +  ---v----\n   .---------.\
    \ +                     .-:            :-. +     :\n   : Host or >-+- ...    \
    \      ... --< : Single ATM : >-+-----/\n   : Router  : +                    \
    \ : :   Domain   : : +\n    ---------  +  ATM Cloud           -:            :-\
    \  +\n               +                        ------------    +\n            \
    \   ++++++++++++++++++++++++++++++++++++++++++\n                  Note: IS within\
    \ ATM cloud are ATM IS\n  Figure 6: The ATM transition model assuming the presence\
    \ of gateways\n     or routers between the ATM networks and the ATM peer networks.\n"
- title: 8.6 Transition Models
  contents:
  - "8.6 Transition Models\n   Finally, it is useful to consider transition models,\
    \ lying somewhere\n   between the Classical IP Models and the Peer and Integrated\
    \ Models.\n   Some possible architectures for transition models have been suggested\n\
    \   by Fong Liaw.  Others are possible, for example Figure 6 showing a\n   Classical\
    \ IP transition model which assumes the presence of gateways\n   between ATM networks\
    \ and ATM Peer networks.\n   Some of the models described in the prior sections,\
    \ most notably the\n   Integrated Model, anticipate the need for mixed environment\
    \ with\n   complex routing topologies.  These inherently support transition\n\
    \   (possibly with an indefinite transition period).  Models which\n   provide\
    \ no transition support are primarily of interest to new\n   deployments which\
    \ make exclusive, or near exclusive use of ATM or\n   deployments capable of wholesale\
    \ replacement of existing networks or\n   willing to retain only non-ATM stub\
    \ networks.\n   For some models, most notably the Peer Model, the ability to attach\n\
    \   to a large non-ATM or mixed internetwork is infeasible without\n   routing\
    \ support at a higher level, or at best may pose\n   interconnection topology\
    \ constraints (for example: single point of\n   attachment and a static default\
    \ route).  If a particular model\n   requires routing support at a higher level\
    \ a large deployment will\n   need to be subdivided to provide scalability at\
    \ the higher level,\n   which for some models degenerates back to the Classical\
    \ model.\n"
- title: 9.  Application of the Working Group's and Related Documents
  contents:
  - "9.  Application of the Working Group's and Related Documents\n   The IP Over\
    \ ATM Working Group has generated several Works in Progress\n   and RFCs.  This\
    \ section identifies the relationship of these and\n   other related documents\
    \ to the various IP Over ATM Models identified\n   in this document.  The documents\
    \ and RFCs produced to date are the\n   following references, RFC-1483 [6], RFC-1577\
    \ [8], RFC-1626 [1], RFC-\n   1755 [10] and the IPMC documents.  The ROLC WG has\
    \ produced the NHRP\n   document.  Table 5 gives a summary of these documents\
    \ and their\n   relationship to the various IP Over ATM Models.\n"
- title: Acknowledgments
  contents:
  - "Acknowledgments\n   This memo is the direct result of the numerous discussions\
    \ of the IP\n   over ATM Working Group of the Internet Engineering Task Force.\
    \  The\n   authors also had the benefit of several private discussions with H.\n\
    \   Nguyen of AT&T Bell Laboratories.  Brian Carpenter of CERN was kind\n   enough\
    \ to contribute the TULIP and TUNIC sections to this memo.\n   Grenville Armitage\
    \ of Bellcore was kind enough to contribute the\n   sections on VC binding, encapsulations\
    \ and the use of B-LLI\n   information elements to signal such bindings.  The\
    \ text of Appendix A\n   was pirated liberally from Anthony Alles' of Cisco posting\
    \ on the IP\n   over ATM discussion list (and modified at the authors' discretion).\n\
    \   M. Ohta provided a description of the Conventional Model (again which\n  \
    \ the authors modified at their discretion).  This memo also has\n   benefitted\
    \ from numerous suggestions from John T. Amenyo of ANS, Joel\n   Halpern of Newbridge,\
    \ and Andy Malis of Ascom-Timplex.  Yakov Rekhter\n   of Cisco provided valuable\
    \ comments leading to the clarification of\n   normal loop free NHRP operation\
    \ and the potential for routing loop\n   problems only with the improper use of\
    \ NHRP.\n    Documents         Summary\n    ----------------+-------------------------------------------------\n\
    \    RFC-1483        _ How to identify/label multiple\n                    _ packet/frame-based\
    \ protocols multiplexed over\n                    _ ATM AAL5. Applies to any model\
    \ dealing with IP\n                    _ over ATM AAL5.\n                    _\n\
    \    RFC-1577        _ Model for transporting IP and ARP over ATM AAL5\n     \
    \               _ in an IP subnet where all nodes share a common\n           \
    \         _ IP network prefix.  Includes ARP server/Inv-ARP\n                \
    \    _ packet formats and procedures for SVC/PVC\n                    _ subnets.\n\
    \                    _\n    RFC-1626        _ Specifies default IP MTU size to\
    \ be used with\n                    _ ATM AAL5. Requires use of PATH MTU discovery.\n\
    \                    _ Applies to any model dealing with IP over ATM\n       \
    \             _ AAL5\n                    _\n    RFC-1755        _ Defines how\
    \ implementations of IP over ATM\n                    _ should use ATM call control\
    \ signaling\n                    _ procedures, and recommends values of mandatory\n\
    \                    _ and optional IEs focusing particularly on the\n       \
    \             _ Classical IP model.\n                    _\n    IPMC         \
    \   _ Defines how to support IP multicast in Classical\n                    _\
    \ IP model using either (or both) meshes of\n                    _ point-to-multipoint\
    \ ATM VCs, or multicast\n                    _ server(s).  IPMC is work in progress.\n\
    \                    _\n    NHRP            _ Describes a protocol that can be\
    \ used by hosts\n                    _ and routers to determine the NBMA next\
    \ hop\n                    _ address of a destination in \"NBMA\n            \
    \        _ connectivity\"\n                    _ of the sending node.  If the\
    \ destination is not\n                    _ connected to the NBMA fabric, the\
    \ IP and NBMA\n                    _ addresses of preferred egress points are\n\
    \                    _ returned.  NHRP is work in progress (ROLC WG).\n      \
    \             Table 5:  Summary of WG Documents\n"
- title: References
  contents:
  - "References\n   [1] Atkinson, R., \"Default IP MTU for use over ATM AAL5\", RFC\
    \ 1626,\n       Naval Research Laboratory, May 1994.\n   [2] Braden, R., and J.\
    \ Postel, \"Requirements for Internet Gateways\",\n       STD 4, RFC 1009, USC/Information\
    \ Sciences Institute, June 1987.\n   [3] Braden, R., Postel, J., and Y. Rekhter,\
    \ \"Internet Architecture\n       Extensions for Shared Media\", RFC 1620, USC/Information\
    \ Sciences\n       Institute, IBM Research, May 1994.\n   [4] ATM Forum, \"ATM\
    \ User-Network Interface Specification\",  Prentice\n       Hall, September 1993.\n\
    \   [5] Garrett, J., Hagan, J., and J. Wong, \"Directed ARP\", RFC 1433,\n   \
    \    AT&T Bell Labs, University of Pennsylvania, March 1993.\n   [6] Heinanen,\
    \ J., \"Multiprotocol Encapsulation over ATM Adaptation\n       Layer 5\", RFC\
    \ 1483, Telecom Finland, July 1993.\n   [7] Heinanen, J., and R. Govindan, \"\
    NBMA Address Resolution Protocol\n       (NARP)\", RFC 1735, Telecom Finland,\
    \ USC/Information Sciences\n       Institute, December 1994.\n   [8] Laubach,\
    \ M., \"Classical IP and ARP over ATM\", RFC 1577,\n       Hewlett-Packard Laboratories,\
    \ January 1994.\n   [9] Mogul, J., and S. Deering, \"Path MTU Discovery\", RFC\
    \ 1191,\n       DECWRL, Stanford University, November 1990.\n  [10] Perez, M.,\
    \ Liaw, F., Grossman, D., Mankin, A., and A. Hoffman,\n       \"ATM signalling\
    \ support for IP over ATM\", RFC  1755,\n       USC/Information Sciences Institute,\
    \ FORE Systems, Inc., Motorola\n       Codex, Ascom Timeplex, Inc., January 1995.\n\
    \  [11] Mills, D., \"Exterior Gateway Protocol Formal Specification\",\n     \
    \  STD 18, RFC 904, BBN, April 1984.\n"
- title: A Potential Interworking Scenarios to be Supported by ARP
  contents:
  - "A Potential Interworking Scenarios to be Supported by ARP\n   The architectural\
    \ model of the VC routing protocol, being defined by\n   the Private Network-to-Network\
    \ Interface (P-NNI) working group of the\n   ATM Forum, categorizes ATM networks\
    \ into two types:\n   o Those that participate in the VC routing protocols and\
    \ use NSAP\n     modeled addresses UNI 3.0 [4] (referred to as private networks,\n\
    \     for short), and\n   o Those that do not participate in the VC routing protocol.\n\
    \     Typically, but possibly not in all cases, public ATM networks\n     that\
    \ use native mode E.164 addresses UNI 3.0 [4] will fall into\n     this later\
    \ category.\n   The issue for ARP, then is to know what information must be returned\n\
    \   to allow such connectivity.  Consider the following scenarios:\n   o Private\
    \ host to Private Host, no intervening public transit\n     network(s): Clearly\
    \ requires that ARP return only the NSAP\n     modeled address format of the end\
    \ host.\n   o Private host to Private host, through intervening public\n     networks:\
    \ In this case, the connection setup from host A to host\n     B must transit\
    \ the public network(s).  This requires that at\n     each ingress point to the\
    \ public network that a routing decision\n     be made as to which is the correct\
    \ egress point from that public\n     network to the next hop private ATM switch,\
    \ and that the native\n     E.164 address of that egress point be found (finding\
    \ this is a VC\n     routing problem, probably requiring configuration of the\
    \ public\n     network links and connectivity information).  ARP should return,\n\
    \     at least, the NSAP address of the endpoint in which case the\n     mapping\
    \ of the NSAP addresses to the E.164 address, as specified\n     in [4], is the\
    \ responsibility of ingress switch to the public\n     network.\n   o Private\
    \ Network Host to Public Network Host: To get connectivity\n     between the public\
    \ node and the private nodes requires the\n     same kind of routing information\
    \ discussed above - namely, the\n     directly attached public network needs to\
    \ know the (NSAP format)\n     ATM address of the private station, and the native\
    \ E.164 address\n     of the egress point from the public network to that private\n\
    \     network (or to that of an intervening transit private network\n     etc.).\
    \  There is some argument, that the ARP mechanism could\n     return this egress\
    \ point native E.164 address, but this may\n     be considered inconsistent for\
    \ ARP to return what to some is\n     clearly routing information, and to others\
    \ is required signaling\n     information.\n   In the opposite direction, the\
    \ private network node can use, and\n   should only get, the E.164 address of\
    \ the directly attached public\n   node.  What format should this information\
    \ be carried in?  This\n   question is clearly answered, by Note 9 of Annex A\
    \ of UNI 3.0 [4],\n   vis:\n      \"A call originated on a Private UNI destined\
    \ for an host which\n      only has a native (non-NSAP) E.164 address (i.e.  a\
    \ system\n      directly attached to a public network supporting the native E.164\n\
    \      format) will code the Called Party number information element in\n    \
    \  the (NSAP) E.164 private ATM Address Format, with the RD, AREA,\n      and\
    \ ESI fields set to zero.  The Called Party Subaddress\n      information element\
    \ is not used.\"\n   Hence, in this case, ARP should return the E.164 address\
    \ of the\n   public ATM station in NSAP format.  This is essentially implying\
    \ an\n   algorithmic resolution between the native E.164 and NSAP addresses of\n\
    \   directly attached public stations.\n   o Public network host to Public network\
    \ host, no intervening\n     private network: In this case, clearly the Q.2931\
    \ requests would\n     use native E.164 address formats.\n   o Public network\
    \ host to Public network host, intervening private\n     network: same as the\
    \ case immediately above, since getting\n     to and through the private network\
    \ is a VC routing, not an\n     addressing issue.\n   So several issues arise\
    \ for ARP in supporting arbitrary connections\n   between hosts on private and\
    \ public network.  One is how to\n   distinguish between E.164 address and E.164\
    \ encoded NSAP modeled\n   address.  Another is what is the information to be\
    \ supplied by ARP,\n   e.g., in the public to private scenario should ARP return\
    \ only the\n   private NSAP modeled address or both an E.164 address, for a point\
    \ of\n   attachment between the public and private networks, along with the\n\
    \   private NSAP modeled address.\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Robert G. Cole\n   AT&T Bell Laboratories\n   101 Crawfords\
    \ Corner Road, Rm. 3L-533\n   Holmdel, NJ 07733\n   Phone: (908) 949-1950\n  \
    \ Fax: (908) 949-8887\n   EMail: rgc@qsun.att.com\n   David H. Shur\n   AT&T Bell\
    \ Laboratories\n   101 Crawfords Corner Road, Rm. 1F-338\n   Holmdel, NJ 07733\n\
    \   Phone: (908) 949-6719\n   Fax: (908) 949-5775\n   EMail: d.shur@att.com\n\
    \   Curtis Villamizar\n   ANS\n   100 Clearbrook Road\n   Elmsford, NY 10523\n\
    \   EMail: curtis@ans.net\n"
