- title: __initial_text__
  contents:
  - '           Instant Messaging / Presence Protocol Requirements

    '
- title: Status of this Memo
  contents:
  - "Status of this Memo\n   This memo provides information for the Internet community.\
    \  It does\n   not specify an Internet standard of any kind.  Distribution of\
    \ this\n   memo is unlimited.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (C) The Internet Society (2000).  All Rights Reserved.\n"
- title: Abstract
  contents:
  - "Abstract\n   Presence and Instant Messaging have recently emerged as a new medium\n\
    \   of communications over the Internet.  Presence is a means for\n   finding,\
    \ retrieving, and subscribing to changes in the presence\n   information (e.g.\
    \ \"online\" or \"offline\") of other users. Instant\n   messaging is a means\
    \ for sending small, simple messages that are\n   delivered immediately to online\
    \ users.\n   Applications of presence and instant messaging currently use\n  \
    \ independent, non-standard and non-interoperable protocols developed\n   by various\
    \ vendors.  The goal of the Instant Messaging and Presence\n   Protocol (IMPP)\
    \ Working Group is to define a standard protocol so\n   that independently developed\
    \ applications of instant messaging and/or\n   presence can interoperate across\
    \ the Internet. This document defines\n   a minimal set of requirements that IMPP\
    \ must meet.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1. Terminology...................................................\
    \  3\n   2. Shared Requirements...........................................  4\n\
    \    2.1. Namespace and Administration...............................  5\n   \
    \ 2.2. Scalability................................................  5\n    2.3.\
    \ Access Control.............................................  6\n    2.4. Network\
    \ Topology...........................................  6\n    2.5. Message Encryption\
    \ and Authentication......................  7\n   3. Additional Requirements for\
    \ PRESENCE INFORMATION..............  7\n    3.1. Common Presence Format.....................................\
    \  7\n    3.2. Presence Lookup and Notification...........................  8\n\
    \    3.3. Presence Caching and Replication...........................  8\n   \
    \ 3.4. Performance................................................  9\n   4. Additional\
    \ Requirements for INSTANT MESSAGES..................  9\n    4.1. Common Message\
    \ Format......................................  9\n    4.2. Reliability................................................\
    \ 10\n    4.3. Performance................................................ 10\n\
    \    4.4. Presence Format............................................ 10\n   5.\
    \ Security Considerations....................................... 11\n    5.1.\
    \ Requirements related to SUBSCRIPTIONS...................... 11\n    5.2. Requirements\
    \ related to NOTIFICATION....................... 12\n    5.3. Requirements related\
    \ to receiving a NOTIFICATION........... 13\n    5.4. Requirements related to\
    \ INSTANT MESSAGES................... 13\n   6. References....................................................\
    \ 14\n   7. Authors' Addresses............................................ 15\n\
    \   8. Appendix: Security Expectations and Deriving Requirements..... 16\n   \
    \ 8.1. Presence Information....................................... 16\n     8.1.1.\
    \ Subscription............................................ 16\n     8.1.2. Publication.............................................\
    \ 19\n     8.1.3. Publication for Notification............................ 19\n\
    \     8.1.4. Receiving a Notification................................ 20\n   \
    \ 8.2. Instant Messaging.......................................... 21\n     8.2.1.\
    \ Named Instant Messaging................................. 21\n     8.2.2. Anonymous\
    \ Instant Messaging............................. 23\n     8.2.3. Administrator\
    \ Expectations.............................. 24\n   Full Copyright Statement.........................................\
    \ 26\n"
- title: 1. Terminology
  contents:
  - "1. Terminology\n   The following terms are defined in [RFC 2778] and are used\
    \ with those\n   definitions in this document:\n   ACCESS RULES\n   CLOSED\n \
    \  FETCHER\n   INSTANT INBOX\n   INSTANT MESSAGE\n   NOTIFICATION\n   OPEN\n \
    \  POLLER\n   PRESENCE INFORMATION\n   PRESENCE SERVICE\n   PRESENTITY\n   PRINCIPAL\n\
    \   PROXY\n   SERVER\n   STATUS\n   SUBSCRIBER\n   SUBSCRIPTION\n   WATCHER\n\
    \   The terms MUST and SHOULD are used in the following sense while\n   specifying\
    \ requirements:\n   MUST: A proposed solution will have to meet this requirement.\n\
    \   SHOULD: A proposed solution may choose not to meet this requirement.\n   Note\
    \ that this usage of MUST and SHOULD differs from that of RFC\n   2119.\n   Additionally,\
    \ the following terms are used in this document and\n   defined here:\n   ADMINISTRATOR:\
    \ A PRINCIPAL with authority over local computer and\n   network resources, who\
    \ manages local DOMAINS or FIREWALLS. For\n   security and other purposes, an\
    \ ADMINISTRATOR often needs or wants to\n   impose restrictions on network usage\
    \ based on traffic type, content,\n   volume, or endpoints. A PRINCIPAL's ADMINISTRATOR\
    \ has authority over\n   some or all of that PRINCIPAL's computer and network\
    \ resources.\n   DOMAIN: A portion of a NAMESPACE.\n   ENTITY: Any of PRESENTITY,\
    \ SUBSCRIBER, FETCHER, POLLER, or WATCHER\n   (all defined in [RFC 2778]).\n \
    \  FIREWALL: A point of administrative control over connectivity.\n   Depending\
    \ on the policies being enforced, parties may need to take\n   unusual measures\
    \ to establish communications through the FIREWALL.\n   IDENTIFIER: A means of\
    \ indicating a point of contact, intended for\n   public use such as on a business\
    \ card. Telephone numbers, email\n   addresses, and typical home page URLs are\
    \ all examples of IDENTIFIERS\n   in other systems.  Numeric IP addresses like\
    \ 10.0.0.26 are not, and\n   neither are URLs containing numerous CGI parameters\
    \ or long arbitrary\n   identifiers.\n   INTENDED RECIPIENT: The PRINCIPAL to\
    \ whom the sender of an INSTANT\n   MESSAGE is sending it.\n   NAMESPACE: The\
    \ system that maps from a name of an ENTITY to the\n   concrete implementation\
    \ of that ENTITY. A NAMESPACE may be composed\n   of a number of distinct DOMAINS.\n\
    \   OUT OF CONTACT: A situation in which some ENTITY and the PRESENCE\n   SERVICE\
    \ cannot communicate.\n   SUCCESSFUL DELIVERY: A situation in which an INSTANT\
    \ MESSAGE was\n   transmitted to an INSTANT INBOX for the INTENDED RECIPIENT,\
    \ and the\n   INSTANT INBOX acknowledged its receipt. SUCCESSFUL DELIVERY usually\n\
    \   also implies that an INBOX USER AGENT has handled the message in a\n   way\
    \ chosen by the PRINCIPAL. However, SUCCESSFUL DELIVERY does not\n   imply that\
    \ the message was actually seen by that PRINCIPAL.\n"
- title: 2. Shared Requirements
  contents:
  - "2. Shared Requirements\n   This section describes non-security requirements that\
    \ are common to\n   both an PRESENCE SERVICE and an INSTANT MESSAGE SERVICE. \
    \ Section 6\n   describes requirements specific to a PRESENCE SERVICE, while Section\n\
    \   7 describes requirements specific to an INSTANT MESSAGE SERVICE.\n   Section\
    \ 8 describes security considerations. The reader should note\n   that Section\
    \ 11 is an appendix that provides historical context and\n   aids in tracing the\
    \ origins of requirements in Section 8. Section 11\n   is not, however, a statement\
    \ of current IMPP requirements.\n   It is expected that Presence and Instant Messaging\
    \ services will be\n   particularly valuable to users over mobile IP wireless\
    \ access\n   devices.  Indeed the number of devices connected to the Internet\
    \ via\n   wireless means is expected to grow substantially in the coming years.\n\
    \   It is not reasonable to assume that separate protocols will be\n   available\
    \ for the wireless portions of the Internet. In addition, we\n   note that wireless\
    \ infrastructure is maturing rapidly; the work\n   undertaken by this group should\
    \ take into account the expected state\n   of the maturity of the technology in\
    \ the time-frame in which the\n   Presence and Instant Messaging protocols are\
    \ expected to be deployed.\n   To this end, the protocols designed by this Working\
    \ Group must be\n   suitable for operation in a context typically associated with\
    \ mobile\n   wireless access devices, viz.  high latency, low bandwidth and\n\
    \   possibly intermittent connectivity (which lead to a desire to\n   minimize\
    \ round-trip delays), modest computing power, battery\n   constraints, small displays,\
    \ etc. In particular, the protocols must\n   be designed to be reasonably efficient\
    \ for small payloads.\n"
- title: 2.1. Namespace and Administration
  contents:
  - "2.1. Namespace and Administration\n   2.1.1. The protocols MUST allow a PRESENCE\
    \ SERVICE to be available\n   independent of whether an INSTANT MESSAGE SERVICE\
    \ is available, and\n   vice-versa.\n   2.1.2. The protocols must not assume that\
    \ an INSTANT INBOX is\n   necessarily reached by the same IDENTIFIER as that of\
    \ a PRESENTITY.\n   Specifically, the protocols must assume that some INSTANT\
    \ INBOXes may\n   have no associated PRESENTITIES, and vice versa.\n   2.1.3.\
    \ The protocols MUST also allow an INSTANT INBOX to be reached\n   via the same\
    \ IDENTIFIER as the IDENTIFIER of some PRESENTITY.\n   2.1.4. The administration\
    \ and naming of ENTITIES within a given\n   DOMAIN MUST be able to operate independently\
    \ of actions in any other\n   DOMAIN.\n   2.1.5. The protocol MUST allow for an\
    \ arbitrary number of DOMAINS\n   within the NAMESPACE.\n"
- title: 2.2. Scalability
  contents:
  - "2.2. Scalability\n   2.2.1. It MUST be possible for ENTITIES in one DOMAIN to\
    \ interoperate\n   with ENTITIES in another DOMAIN, without the DOMAINS having\n\
    \   previously been aware of each other.\n   The protocol MUST be capable of meeting\
    \  its other functional and\n   performance requirements even when\n      -- (2.2.2)\
    \ there are millions of ENTITIES within a single DOMAIN.\n      -- (2.2.3) there\
    \ are millions of DOMAINS within the single\n         NAMESPACE.\n      -- (2.2.4)\
    \ every single SUBSCRIBER has SUBSCRIPTIONS to hundreds\n         of PRESENTITIES.\n\
    \      -- (2.2.5) hundreds of distinct SUBSCRIBERS have SUBSCRIPTIONS to\n   \
    \      a single PRESENTITY.\n      -- (2.2.6) every single SUBSCRIBER has SUBSCRIPTIONS\
    \ to\n         PRESENTITIES in hundreds of distinct DOMAINS.\n   These are protocol\
    \ design goals; implementations may choose to place\n   lower limits.\n"
- title: 2.3. Access Control
  contents:
  - "2.3. Access Control\n   The PRINCIPAL controlling a PRESENTITY MUST be able to\
    \ control\n      -- (2.3.1) which WATCHERS can observe that PRESENTITY's PRESENCE\n\
    \         INFORMATION.\n      -- (2.3.2) which WATCHERS can have SUBSCRIPTIONS\
    \ to that\n         PRESENTITY's PRESENCE INFORMATION.\n      -- (2.3.3) what\
    \ PRESENCE INFORMATION a particular WATCHER will see\n         for that PRESENTITY,\
    \ regardless of whether the WATCHER gets it\n         by fetching or NOTIFICATION.\n\
    \      -- (2.3.4) which other PRINCIPALS, if any, can update the PRESENCE\n  \
    \       INFORMATION of that PRESENTITY.\n   The PRINCIPAL controlling an INSTANT\
    \ INBOX MUST be able to control\n      -- (2.3.5) which other PRINCIPALS, if any,\
    \ can send INSTANT\n         MESSAGES to that INSTANT INBOX.\n      -- (2.3.6)\
    \ which other PRINCIPALS, if any, can read INSTANT\n         MESSAGES from that\
    \ INSTANT INBOX.\n   2.3.7. Access control MUST be independent of presence: the\
    \ PRESENCE\n   SERVICE MUST be able to make access control decisions even when\
    \ the\n   PRESENTITY is OUT OF CONTACT.\n"
- title: 2.4. Network Topology
  contents:
  - "2.4. Network Topology\n   Note that intermediaries such as PROXIES may be necessitated\
    \ between\n   IP and non-IP networks, and by an end-user's desire to provide\n\
    \   anonymity and hide their IP address.\n   2.4.1. The protocol MUST allow the\
    \ creation of a SUBSCRIPTION both\n   directly and via intermediaries, such as\
    \ PROXIES.\n   2.4.2. The protocol MUST allow the sending of a NOTIFICATION both\n\
    \   directly and via intermediaries, such as PROXIES.\n   2.4.3. The protocol\
    \ MUST allow the sending of an INSTANT MESSAGE both\n   directly and via intermediaries,\
    \ such as PROXIES.\n   2.4.4. The protocol proxying facilities and transport practices\
    \ MUST\n   allow ADMINISTRATORS ways to enable and disable protocol activity\n\
    \   through existing and commonly-deployed FIREWALLS.  The protocol MUST\n   specify\
    \ how it can be effectively filtered by such FIREWALLS.\n"
- title: 2.5. Message Encryption and Authentication
  contents:
  - "2.5. Message Encryption and Authentication\n   2.5.1. The protocol MUST provide\
    \ means to ensure confidence that a\n   received message (NOTIFICATION or INSTANT\
    \ MESSAGE) has not been\n   corrupted or tampered with.\n   2.5.2. The protocol\
    \ MUST provide means to ensure confidence that a\n   received message (NOTIFICATION\
    \ or INSTANT MESSAGE) has not been\n   recorded and played back by an adversary.\n\
    \   2.5.3. The protocol MUST provide means to ensure that a sent message\n   (NOTIFICATION\
    \ or INSTANT MESSAGE) is only readable by ENTITIES that\n   the sender allows.\n\
    \   2.5.4. The protocol MUST allow any client to use the means to ensure\n   non-corruption,\
    \ non-playback, and privacy, but the protocol MUST NOT\n   require that all clients\
    \ use these means at all times.\n"
- title: 3. Additional Requirements for PRESENCE INFORMATION
  contents:
  - "3. Additional Requirements for PRESENCE INFORMATION\n   The requirements in section\
    \ 6 are applicable only to PRESENCE\n   INFORMATION and not to INSTANT MESSAGES.\
    \  Additional constraints on\n   PRESENCE INFORMATION in a system supporting INSTANT\
    \ MESSAGES appear\n   in Section 7.4.\n"
- title: 3.1. Common Presence Format
  contents:
  - "3.1. Common Presence Format\n   3.1.1. All ENTITIES MUST produce and consume\
    \ at least a common base\n   format for PRESENCE INFORMATION.\n   3.1.2. The common\
    \ presence format MUST include a means to uniquely\n   identify the PRESENTITY\
    \ whose PRESENCE INFORMATION is reported.\n   3.1.3. The common presence format\
    \ MUST include a means to encapsulate\n   contact information for the PRESENTITY's\
    \ PRINCIPAL (if applicable),\n   such as email address, telephone number, postal\
    \ address, or the like.\n   3.1.4. There MUST be a means of extending the common\
    \ presence format\n   to represent additional information not included in the\
    \ common\n   format, without undermining or rendering invalid the fields of the\n\
    \   common format.\n   3.1.5. The working group must define the extension and\
    \ registration\n   mechanisms for presence information schema, including new STATUS\n\
    \   conditions and new forms for OTHER PRESENCE MARKUP.\n   3.1.6. The presence\
    \ format SHOULD be based on IETF standards such as\n   vCard [RFC 2426] if possible.\n"
- title: 3.2. Presence Lookup and Notification
  contents:
  - "3.2. Presence Lookup and Notification\n   3.2.1. A FETCHER MUST be able to fetch\
    \ a PRESENTITY's PRESENCE\n   INFORMATION even when the PRESENTITY is OUT OF CONTACT.\n\
    \   3.2.2. A SUBSCRIBER MUST be able to request a SUBSCRIPTION to a\n   PRESENTITY's\
    \ PRESENCE INFORMATION, even when the PRESENTITY is OUT OF\n   CONTACT.\n   3.2.3.\
    \ If the PRESENCE SERVICE has SUBSCRIPTIONS for a PRESENTITY's\n   PRESENCE INFORMATION,\
    \ and that PRESENCE INFORMATION changes, the\n   PRESENCE SERVICE MUST deliver\
    \ a NOTIFICATION to each SUBSCRIBER,\n   unless prevented by the PRESENTITY's\
    \ ACCESS RULES.\n   3.2.4. The protocol MUST provide a mechanism for detecting\
    \ when a\n   PRESENTITY or SUBSCRIBER has gone OUT OF CONTACT.\n   3.2.5. The\
    \ protocol MUST NOT depend on a PRESENTITY or SUBSCRIBER\n   gracefully telling\
    \ the service that it will no longer be in\n   communication, since a PRESENTITY\
    \ or SUBSCRIBER may go OUT OF CONTACT\n   due to unanticipated failures.\n"
- title: 3.3. Presence Caching and Replication
  contents:
  - "3.3. Presence Caching and Replication\n   3.3.1. The protocol MUST include mechanisms\
    \ to allow PRESENCE\n   INFORMATION to be cached.\n   3.3.2. The protocol MUST\
    \ include mechanisms to allow cached PRESENCE\n   INFORMATION to be updated when\
    \ the master copy changes.\n   3.3.3 The protocol caching facilities MUST NOT\
    \ circumvent established\n   ACCESS RULES or restrict choice of authentication/encryption\n\
    \   mechanisms.\n"
- title: 3.4 Performance
  contents:
  - "3.4 Performance\n   3.4.1 When a PRESENTITY changes its PRESENCE INFORMATION,\
    \ any\n   SUBSCRIBER to that information MUST be notified of the changed\n   information\
    \ rapidly, except when such notification is entirely\n   prevented by ACCESS RULES.\
    \ This requirement is met if each\n   SUBSCRIBER's NOTIFICATION is transported\
    \ as rapidly as an INSTANT\n   MESSAGE would be transported to an INSTANT INBOX.\n"
- title: 4. Additional Requirements for INSTANT MESSAGES
  contents:
  - "4. Additional Requirements for INSTANT MESSAGES\n   The requirements in section\
    \ 4 are applicable only to INSTANT MESSAGES\n   and not to PRESENCE INFORMATION,\
    \ with the exception of Section 4.4.\n   Section 4.4 describes constraints on\
    \ PRESENCE INFORMATION that are\n   relevant only to systems that support both\
    \ INSTANT MESSAGES and\n   PRESENCE INFORMATION.\n"
- title: 4.1. Common Message Format
  contents:
  - "4.1. Common Message Format\n   4.1.1. All ENTITIES sending and receiving INSTANT\
    \ MESSAGES MUST\n   implement at least a common base format for INSTANT MESSAGES.\n\
    \   4.1.2. The common base format for an INSTANT MESSAGE MUST identify\n   the\
    \ sender and intended recipient.\n   4.1.3. The common message format MUST include\
    \ a return address for\n   the receiver to reply to the sender with another INSTANT\
    \ MESSAGE.\n   4.1.4. The common message format SHOULD include standard forms\
    \ of\n   addresses or contact means for media other than INSTANT MESSAGES,\n \
    \  such as telephone numbers or email addresses.\n   4.1.5. The common message\
    \ format MUST permit the encoding and\n   identification of the message payload\
    \ to allow for non-ASCII or\n   encrypted content.\n   4.1.6. The protocol must\
    \ reflect best current practices related to\n   internationalization.\n   4.1.7.\
    \ The protocol must reflect best current practices related to\n   accessibility.\n\
    \   4.1.8. The working group MUST define the extension and registration\n   mechanisms\
    \ for the message format, including new fields and new\n   schemes for INSTANT\
    \ INBOX ADDRESSES.\n   4.1.9. The working group MUST determine whether the common\
    \ message\n   format includes fields for numbering or identifying messages. If\n\
    \   there are such fields, the working group MUST define the scope within\n  \
    \ which such identifiers are unique and the acceptable means of\n   generating\
    \ such identifiers.\n   4.1.10. The common message format SHOULD be based on IETF-standard\n\
    \   MIME [RFC 2045].\n"
- title: 4.2. Reliability
  contents:
  - "4.2. Reliability\n   4.2.1. The protocol MUST include mechanisms so that a sender\
    \ can be\n   informed of the SUCCESSFUL DELIVERY of an INSTANT MESSAGE or reasons\n\
    \   for failure.  The working group must determine what mechanisms apply\n   when\
    \ final delivery status is unknown, such as when a message is\n   relayed to non-IMPP\
    \ systems.\n"
- title: 4.3 Performance
  contents:
  - "4.3 Performance\n   4.3.1. The transport of INSTANT MESSAGES MUST be sufficiently\
    \ rapid\n   to allow for comfortable conversational exchanges of short messages.\n"
- title: 4.4 Presence Format
  contents:
  - "4.4 Presence Format\n   4.4.1. The common presence format MUST define a minimum\
    \ standard\n   presence schema suitable for INSTANT MESSAGE SERVICES.\n   4.4.2.\
    \ When used in a system supporting INSTANT MESSAGES, the common\n   presence format\
    \ MUST include a means to represent the STATUS\n   conditions OPEN and CLOSED.\n\
    \   4.4.3. The STATUS conditions OPEN and CLOSED may also be applied to\n   messaging\
    \ or communication modes other than INSTANT MESSAGE SERVICES.\n"
- title: 5. Security Considerations
  contents:
  - "5. Security Considerations\n   Security considerations are addressed in section\
    \ 2.3, Access Control,\n   and section 2.5, Message authentication and encryption.\n\
    \   This section describes further security-related requirements that the\n  \
    \ protocol must meet.\n   The security requirements were derived from a set of\
    \ all-encompassing\n   \"security expectations\" that were then evaluated for\
    \ practicality and\n   implementability and translated into requirements.  In\
    \ the appendix,\n   we describe the expectations and the process used to transform\
    \ them\n   into requirements. In this section, we simply list the consolidated\n\
    \   set of derived requirements.\n   Note that in the requirements, ADMINISTRATORs\
    \ may have privileges\n   beyond those allowed to PRINCIPALs referred to in the\
    \ requirements.\n   (Unless otherwise noted, the individual expectations specifically\n\
    \   refer to PRINCIPALs.)  It is up to individual implementations to\n   control\
    \ administrative access and implement the security privileges\n   of ADMINISTRATORs\
    \ without compromising the requirements made on\n   PRINCIPALs.\n   Unless noted\
    \ otherwise, A,B,C are all names of non-ADMINISTRATOR\n   PRINCIPALS.\n"
- title: 5.1. Requirements related to SUBSCRIPTIONS
  contents:
  - "5.1. Requirements related to SUBSCRIPTIONS\n   When A establishes a SUBSCRIPTION\
    \ to B's PRESENCE INFORMATION:\n   5.1.1. The protocol MUST provide A means of\
    \ identifying and\n   authenticating that the PRESENTITY subscribed to is controlled\
    \ by B.\n   5.1.2. If A so chooses, the protocol SHOULD NOT make A's SUBSCRIPTION\n\
    \   to B obvious to a third party C.\n   5.1.3. The protocol MUST provide B with\
    \ means of allowing an\n   unauthenticated subscription by A.\n   5.1.4. The protocol\
    \ MUST provide A means of verifying the accurate\n   receipt of the content B\
    \ chooses to disclose to A.\n   5.1.5. B MUST inform A if B refuses A's SUBSCRIPTION.\
    \ Note that B may\n   choose to accept A's SUBSCRIPTION, but fail to deliver any\n\
    \   information to it (so-called \"polite blocking\"). See 5.1.15.\n   5.1.6.\
    \ The protocol MUST NOT let any third party C force A to\n   subscribe to B's\
    \ PRESENCE INFORMATION without A's consent.\n   5.1.7. A MUST be able to cancel\
    \ her SUBSCRIPTION to B's PRESENCE\n   INFORMATION at any time and for any reason.\
    \  When A does so, the\n   PRESENCE SERVICE stops informing A of changes to B's\
    \ PRESENCE\n   INFORMATION.\n   5.1.8. The protocol MUST NOT let an unauthorized\
    \ party C cancel A's\n   SUBSCRIPTION to B.\n   5.1.9. If A's SUBSCRIPTION to\
    \ B is cancelled, the service SHOULD\n   inform A of the cancellation.\n   5.1.10.\
    \ A SHOULD be able to determine the status of A's SUBSCRIPTION\n   to B, at any\
    \ time.\n   5.1.11. The protocol MUST provide B means of learning about A's\n\
    \   SUBSCRIPTION to B, both at the time of establishing the SUBSCRIPTION\n   and\
    \ afterwards.\n   5.1.12. The protocol MUST provide B means of identifying and\n\
    \   authenticating the SUBSCRIBER's PRINCIPAL, A.\n   5.1.13. It MUST be possible\
    \ for B to prevent any particular PRINCIPAL\n   from subscribing.\n   5.1.14.\
    \ It MUST be possible for B to prevent anonymous PRINCIPALS\n   from subscribing.\n\
    \   5.1.15. It MUST be possible for B to configure the PRESENCE SERVICE\n   to\
    \ deny A's subscription while appearing to A as if the subscription\n   has been\
    \ granted (this is sometimes called \"polite blocking\").  The\n   protocol MUST\
    \ NOT mandate the PRESENCE SERVICE to service\n   subscriptions that are treated\
    \ in this manner.\n   5.1.16. B MUST be able to cancel A's subscription at will.\n\
    \   5.1.17. The protocol MUST NOT require A to reveal A's IP address to\n   B.\n\
    \   5.1.18 The protocol MUST NOT require B to reveal B's IP address to A.\n"
- title: 5.2. Requirements related to NOTIFICATION
  contents:
  - "5.2. Requirements related to NOTIFICATION\n   When a PRINCIPAL B publishes PRESENCE\
    \ INFORMATION for NOTIFICATION to\n   another PRINCIPAL A:\n   5.2.1. The protocol\
    \ MUST provide means of ensuring that only the\n   PRINCIPAL A being sent the\
    \ NOTIFICATION by B can read the\n   NOTIFICATION.\n   5.2.2. A should receive\
    \ all NOTIFICATIONS intended for her.\n   5.2.3. It MUST be possible for B to\
    \ prevent A from receiving\n   notifications, even if A is ordinarily permitted\
    \ to see such\n   notifications.  It MUST be possible for B to, at its choosing,\
    \ notify\n   different subscribers differently, through different notification\n\
    \   mechanisms or through publishing different content. This is a\n   variation\
    \ on \"polite blocking\".\n   5.2.4. The protocol MUST provide means of protecting\
    \ B from another\n   PRINCIPAL C \"spoofing\" notification messages about B.\n\
    \   5.2.5. The protocol MUST NOT require that A reveal A's IP address to\n   B.\n\
    \   5.2.6. The protocol MUST NOT require that B reveal B's IP address to\n   A.\n"
- title: 5.3. Requirements related to receiving a NOTIFICATION
  contents:
  - "5.3. Requirements related to receiving a NOTIFICATION\n   When a PRINCIPAL A\
    \ receives a notification message from another\n   principal B, conveying PRESENCE\
    \ INFORMATION,\n   5.3.1. The protocol MUST provide A means of verifying that\
    \ the\n   presence information is accurate, as sent by B.\n   5.3.2. The protocol\
    \ MUST ensure that A is only sent NOTIFICATIONS\n   from entities she has subscribed\
    \ to.\n   5.3.3. The protocol MUST provide A means of verifying that the\n   notification\
    \ was sent by B.\n"
- title: 5.4. Requirements related to INSTANT MESSAGES
  contents:
  - "5.4. Requirements related to INSTANT MESSAGES\n   When a user A sends an INSTANT\
    \ MESSAGE M to another user B,\n   5.4.1. A MUST receive confirmation of non-delivery.\n\
    \   5.4.2. If M is delivered, B MUST receive the message only once.\n   5.4.3.\
    \ The protocol MUST provide B means of verifying that A sent the\n   message.\n\
    \   5.4.4. B MUST be able to reply to the message via another instant\n   message.\n\
    \   5.4.5. The protocol MUST NOT always require A to reveal A's IP\n   address,\
    \ for A to send an instant message.\n   5.4.6. The protocol MUST provide A means\
    \ of ensuring that no other\n   PRINCIPAL C can see the content of M.\n   5.4.7.\
    \ The protocol MUST provide A means of ensuring that no other\n   PRINCIPAL C\
    \ can tamper with M, and B means to verify that no\n   tampering has occurred.\n\
    \   5.4.8. B must be able to read M.\n   5.4.9. The protocol MUST allow A to sign\
    \ the message, using existing\n   standards for digital signatures.\n   5.4.10.\
    \ B MUST be able to prevent A from sending him messages\n"
- title: 6. References
  contents:
  - "6. References\n   [RFC 2778] Day, M., Rosenberg, J. and H. Sagano, \"A Model\
    \ for\n              Presence and Instant Messaging\", RFC 2778, February 2000.\n\
    \   [RFC 2426] Dawson, F. and T. Howes, \"vCard MIME Directory Profile\",\n  \
    \            RFC 2426, September 1998.\n   [RFC 2045] Freed, N. and N. Borenstein,\
    \ \"Multipurpose Internet Mail\n              Extensions (MIME) - Part One: Format\
    \ of Internet Message\n              Bodies\", RFC 2045, November 1996.\n   [RFC\
    \ 2119] Bradner, S., \"Key Words for Use in RFCs to Indicate\n              Requirement\
    \ Levels\", BCP 14, RFC 2119, March 1997.\n"
- title: 7. Authors' Addresses
  contents:
  - "7. Authors' Addresses\n   Mark Day\n   SightPath, Inc.\n   135 Beaver Street\n\
    \   Waltham, MA 02452\n   USA\n   EMail: mday@alum.mit.edu\n   (Formerly Mark_Day@lotus.com)\n\
    \   Sonu Aggarwal\n   Microsoft Corporation\n   One Microsoft Way\n   Redmond,\
    \ WA 98052\n   USA\n   EMail: sonuag@microsoft.com\n   Gordon Mohr\n   EMail:\
    \ gojomo@usa.net\n   (Formerly gojomo@activerse.com)\n   Jesse Vincent\n   Into\
    \ Networks, Inc.\n   150 Cambridgepark Drive\n   Cambridge, MA 02140\n   USA\n\
    \   EMail: jesse@intonet.com\n   (Formerly jvincent@microsoft.com)\n"
- title: '8. Appendix: Security Expectations and Deriving Requirements'
  contents:
  - "8. Appendix: Security Expectations and Deriving Requirements\n   This appendix\
    \ is based on the security expectations discussed on the\n   impp mailing list\
    \ and assembled by Jesse Vincent.  The original form\n   of numbering has been\
    \ preserved in this appendix (so there are\n   several different items labeled\
    \ B1, for example). The derived\n   requirements have new numbers that are consistent\
    \ with the main body\n   of the document.  This appendix is included to provide\
    \ a connection\n   from discussions on the list to the requirements of Section\
    \ 8, but it\n   is not intended to introduce any new requirements beyond those\n\
    \   presented in Sections 5 through 8.\n"
- title: 8.1. PRESENCE INFORMATION
  contents:
  - "8.1. PRESENCE INFORMATION\n   In the case of PRESENCE INFORMATION, the controlling\
    \ PRINCIPAL's\n   privacy interests are paramount; we agreed that \"polite blocking\"\
    \n   (denying without saying that the subscription is denied, or providing\n \
    \  false information) should be possible.\n   8.1.1. Subscription\n   When a user\
    \ Alice subscribes to another person, Bob's presence info,\n   Alice expects:\n\
    \   A1. the PRESENTITY's PRINCIPAL, B, is identifiable and authenticated\n   \
    \    Discussion: Stands as a requirement.  Note that the protocol\n       should\
    \ provide Alice the capability of authenticating, without\n       requiring that\
    \ Alice authenticate every SUBSCRIPTION.  This\n       caveat is made necessary\
    \ by performance concerns, among others,\n       and applies to many of the other\
    \ requirements derived below.\n       [Requirement 5.1.1]\n   A2. no third party\
    \ will know that A has subscribed to B.\n       Discussion: This is somewhat unreasonable\
    \ to enforce as is.  For\n       example, in some topologies, nothing can prevent\
    \ someone doing\n       traffic analysis to deduce that A has subscribed to B.\
    \  We should\n       merely require that the protocol not expose subscription\n\
    \       information in any obvious manner. [Requirement 5.1.2]\n   A3. A has the\
    \ capability to subscribe to B's presence without B's\n   knowledge, if B permits\
    \ anonymous subscriptions.\n       Discussion: An \"anonymous subscription\" above\
    \ can have two\n       implications - (i) B may allow an unauthenticated subscription\
    \ by\n       A, and (ii) B may be unaware of A's stated identity.  Requirement\n\
    \       (i) is reasonable [Requirement 8.1.3], but (ii) doesn't appear to\n  \
    \     be a core requirement -- it can be adequately simulated via a\n       subscription\
    \ pseudonym.\n   A4. A will accurately receive what B chooses to disclose to A\n\
    \   regarding B's presence.\n       Discussion: Stands as a requirement, with\
    \ the \"optional\"\n       caveat. [Requirement 8.1.4]\n   A5. B will inform A\
    \ if B refuses A's subscription\n       Discussion:  Stands as a requirement.\
    \ [Requirement 5.1.5]\n   A6. No third party, C can force A to subscribe to B's\
    \ presence\n   without A's consent.\n       Discussion: Stands as a requirement.\
    \ [Requirement 5.1.6]\n   A7. A can cancel her subscription to B's presence at\
    \ any time and for\n   any reason. When A does so, she will receive no further\
    \ information\n   about B's presence information.\n       Discussion: This essentially\
    \ stands.  However, implementations\n       may have to contend with a timing\
    \ window where A receives, after\n       sending her cancellation request, a notification\
    \ sent by B before\n       B received the cancellation request.  Therefore, the\
    \ requirement\n       should focus on B's ceasing to send presence information,\
    \ rather\n       than A's ceasing to receive it. [Requirement 5.1.7]\n   A8. no\
    \ third party, C, can cancel A's subscription to B.\n       Discussion: Stands,\
    \ although the administrative exception does\n       apply. [Requirement 5.1.8]\n\
    \   A9. A is notified if her subscription to B is cancelled for any\n   reason.\n\
    \       Discussion: Although the intent is reasonable, there are a number\n  \
    \     of scenarios (e.g. overburdened server, clogged network, server\n      \
    \ crash) where delivering a notification to A of the cancellation\n       is undesirable\
    \ or impossible.  Therefore, the service should make\n       an attempt to inform,\
    \ but this is not required. [Requirement\n       5.1.9]\n   Bob expects:\n   B1.\
    \ B will be informed that A subscribed to B's presence information,\n   as long\
    \ as A has not subscribed anonymously.\n       Discussion: This essentially stands.\
    \  However, B can also choose\n       to determine A's subscription after the\
    \ fact.  [Requirement\n       5.1.10]\n   B2. A is identifiable and authenticated.\n\
    \       Discussion: This stands as a requirement. [Requirement 5.1.11]\n   B3.\
    \ B can prevent a particular user, D, from subscribing.\n       Discussion:  This\
    \ stands as a requirement. [Requirement 5.1.12]\n   B4. B can prevent anonymous\
    \ users from subscribing.\n       Discussion:  This stands as a requirement. [Requirement\
    \ 5.1.13]\n   B5. B's presence information is not republished by A to a third\n\
    \   party, E, who does not.\n       Discussion: This is practically impossible\
    \ to enforce, so it is\n       omitted from the requirement set.\n   B6. B can\
    \ deny A's subscription without letting A know that she's\n   been blocked.\n\
    \       Discussion: This \"polite blocking\" capability essentially stands;\n\
    \       accepting a \"denied\" subscription should bear no implication on\n  \
    \     servicing it for status notifications. [Requirement 5.1.14]\n   B7. B can\
    \ cancel A's subscription at will.\n       Discussion:  Stands as a requirement.\
    \ [Requirement 5.1.15]\n   Charlie, bob's network administrator expects:\n   C1.\
    \ C knows who is subscribed to B at all times.\n       Discussion: Administrators\
    \ should be able to determine who is\n       subscribed, but needn't be continuously\
    \ informed of the list of\n       subscribers.  Also, in some cases user agents\
    \ (e.g. proxies) may\n       have subscribed on behalf of users, and in these\
    \ cases the\n       administrator can only determine the identity of these agents,\n\
    \       not their users. [Requirement 5.1.16]\n   C2. C can manage all aspects\
    \ of A's presence information.\n       Discussion: This stands as a requirement.\
    \ [Requirement 5.1.17]\n   C3. C can control who can access A's presence information\
    \ and\n   exchange instant messages with A.\n       Discussion: This stands in\
    \ principle, but C should be able to\n       waive these capabilities if C desires.\
    \ [Requirement 5.1.18]\n   8.1.2. Publication\n   The publisher of status information,\
    \ Bob, expects:\n   B1. That information about B is not provided to any entity\
    \ without\n   B's knowledge and consent.\n       Discussion: This is nearly impossible\
    \ to accomplish, so it is\n       omitted from the requirements.\n   8.1.3. Publication\
    \ for Notification\n   When information is published for notification, B expects:\n\
    \   B1. only a person being sent a notification, A, can read the\n   notification.\n\
    \       Discussion: Stands as a requirement. [Requirement 5.2.1]\n   B2. A reliably\
    \ receives all notifications intended for her.\n       Discussion: This stands,\
    \ although \"Reliably\" is a little strong\n       (e.g. network outages, etc.).\
    \ [Requirement 5.2.2]\n   B3. B can prevent A from receiving notifications, even\
    \ if A is\n   ordinarily permitted to see such notifications.  This is a variation\n\
    \   on \"polite blocking.\"\n       Discussion: This stands as a requirement.\
    \ Also incorporated into\n       this requirement is the notifications equivalent\
    \ of the next\n       expectation, B4. [Requirement 5.2.3]\n   B4. B can provide\
    \ two interested parties A and E with different\n   status information at the\
    \ same time. (B could represent the same\n   event differently to different people.)\n\
    \       Discussion: This stands as a requirement; it has been\n       incorporated\
    \ into the corresponding requirement for B3 above.\n   B5. B expects that malicious\
    \ C cannot spoof notification messages\n   about B.\n       Discussion: Stands\
    \ in principle, but it should be optional for B.\n       [Requirement 5.2.4]\n\
    \   8.1.4. Receiving a Notification\n   When Alice receives a notification, the\
    \ recipient, Alice, expects:\n   A1. That the notification information is accurate,\
    \ truthful.\n       Discussion: Stands in principle, although being \"truthful\"\
    \ can't\n       be a requirement, and the verification is optional for Alice.\n\
    \       [Requirement 5.3.1]\n   A2. That information about subscriptions remains\
    \ private; people do\n   not learn that A's subscription to B's information exists\
    \ by watching\n   notifications occur.\n       Discussion: This is omitted from\
    \ the requirements, as traffic\n       analysis, even of encrypted traffic, can\
    \ convey this information\n       in some situations.\n   A3. That she only receives\
    \ notifications of things she's subscribed\n   to.\n       Discussion:  Stands\
    \ as a requirement. [Requirement 5.3.2]\n   A4. Notifications come from the apparent\
    \ sender, B.\n       Discussion: Stands in principle, although the verification\
    \ should\n       be  optional for A. [Requirement 5.3.3]\n   A5. A can tell the\
    \ difference between a message generated by the\n   user, and a message legitimately\
    \ generated by the agent on behalf of\n   the user.\n       Discussion: This could\
    \ be quite difficult to enforce and could\n       unduly restrict usage scenarios;\
    \ this is omitted from the\n       requirements.\n   A6. That information given\
    \ by agents on behalf of users can also be\n   expected to be truthful, complete,\
    \ and legitimately offered; the user\n   permitted the agent to publish these\
    \ notifications.\n       Discussion: This is difficult to enforce and is omitted\
    \ from the\n       requirements.\n   A7. A can prove that a notification from\
    \ B was delivered in a timely\n   fashion and can prove exactly how long the message\
    \ took to be\n   delivered.\n       Discussion: This is difficult to enforce and\
    \ is omitted from the\n       requirements.  For example, such proof may entail\
    \ global time\n       synchronization mechanisms (since any system clocks have\n\
    \       associated unreliability), which is outside the scope of this\n      \
    \ effort.\n   A8. A can prove that B was indeed the sender of a given message.\n\
    \       Discussion: This is a duplication of expectation A4 above and is\n   \
    \    reflected in the corresponding requirement 5.3.3.\n"
- title: 8.2. INSTANT MESSAGEs
  contents:
  - "8.2. INSTANT MESSAGEs\n   8.2.1. Named Instant Messaging\n   When a user Alice\
    \ sends an instant message M to another user Bob:\n   Alice expects that she:\n\
    \   A1. will receive notification of non-delivery\n       Discussion: Stands as\
    \ a requirement. [Requirement 5.4.1]\n   Alice expects that Bob:\n   B1. will\
    \ receive the message\n       Discussion: covered by A1 and is reflected in the\
    \ corresponding\n       requirement 5.4.1.\n   B2. will receive the message quickly\n\
    \       Discussion: Stands as a requirement, although this is also\n       covered\
    \ elsewhere (in the non-security requirements), so this is\n       omitted from\
    \ the security requirements.\n   B3. will receive the message only once\n    \
    \   Discussion: Stands as a requirement. [Requirement 5.4.2]\n   B4. will be able\
    \ to verify that Alice sent the message\n       Discussion:  Stands as a requirement.\
    \ [Requirement 5.4.3]\n   B5. will not know whether there were BCCs\n       Discussion:\
    \ Emulating e-mail conventions and social protocols is\n       not a core goal\
    \ of this effort, and therefore references to\n       standard mail fields are\
    \ omitted from the requirements.\n   B6. will be able to reply to the message\n\
    \       Discussion: Stands in principle; the recipient should be able to\n   \
    \    reply via an instant message. [Requirement 5.4.4]\n   B7. will know if he\
    \ was a bcc recipient\n       Discussion: Omitted, as noted above.\n   B8. will\
    \ not be able to determine any information about A (such as\n   her location or\
    \ IP address) without A's knowledge and consent.\n       Discussion: \"Any information\
    \ about A\" is too general; the\n       requirement should focus on IP address.\
    \  Further, \"without A's\n       knowledge and consent\" may be overkill. [Requirement\
    \ 5.4.5]\n   Alice expects that no other user Charlie will be able to:\n   C1.\
    \ see the content of M\n       Discussion: Stands in principle, although this\
    \ should not be\n       mandated for all IM communication. [Requirement 5.4.6]\n\
    \   C2. tamper with M\n       Discussion: Stands, with the same caveat as above.\n\
    \       [Requirement 5.4.7]\n   C3. know that M was sent\n       Discussion: It\
    \ is impossible to prevent traffic analysis, and\n       this is therefore omitted\
    \ from the requirements.\n   When a user Bob receives an instant message M from\
    \ another user\n   Alice:\n   Bob expects that Bob:\n   D1. will be able to read\
    \ M\n       Discussion: Stands as a requirement. [Requirement 5.4.8]\n   D2. will\
    \ be able to verify M's authenticity (both Temporal and the\n   sender's identity)\n\
    \       Discussion: As noted earlier, it is not reasonable to directly\n     \
    \  require temporal checks.  The protocol should, however, allow\n       signing\
    \ messages using existing standards for signing.\n       [Requirement 5.4.9]\n\
    \   D3. will be able to verify M's integrity\n       Discussion:  Stands as a\
    \ requirement. [Requirement 5.4.10]\n   D4. will be able to prevent A from sending\
    \ him future messages\n       Discussion: Stands as a requirement. [Requirement\
    \ 5.4.11]\n   Bob expects that Alice:\n   E1. intended to send the message to\
    \ Bob\n       Discussion: This is covered by the corresponding requirement\n \
    \      5.4.6 for C1 above.\n   E2. informed Bob of all CCs.\n       Discussion:\
    \ As noted earlier, references to cc:'s are omitted\n       from the requirements.\n\
    \   8.2.2. Anonymous Instant Messaging\n       Discussion: Anonymous instant messaging,\
    \ as in \"hiding the\n       identity of the sender\", is not deemed to be a core\
    \ requirement\n       of the protocol and references to it are therefore omitted\
    \ from\n       the requirements. Implementations may provide facilities for\n\
    \       anonymous messaging if they wish, in ways that are consistent\n      \
    \ with the other requirements.\n   When a user Alice sends an anonymous instant\
    \ message to another user\n   Bob:\n   Alice expects that Bob:\n   B1. will receive\
    \ the message\n   B2. will receive the message quickly\n   B3. will receive the\
    \ message only once\n   AB4.1. cannot know Alice sent it\n   AB4.2. will know\
    \ that the IM is anonymous, and not from a specific\n   named user\n   AB4.3 \
    \  may not allow anonymous IMs\n   B5. will not know whether there were BCCs\n\
    \   B6. will be able to reply to the message\n   Alice expects that she:\n   C1.\
    \ will receive notification of non-delivery\n   AC2. will receive an error if\
    \ the IM was refused\n   Bob expects that he:\n   D1. will be able to read M\n\
    \   D2. will be able to verify M's authenticity (both temporal and the\n   sender's\
    \ identity)\n   D3. will be able to verify M's integrity\n   AD4. will know if\
    \ an IM was sent anonymously\n   AD5. will be able to automatically discard anonymous\
    \ IM if desired\n   AD6. will be able to control whether an error is sent to Alice\
    \ if M\n   is discarded.\n   8.2.3. Administrator Expectations\n   Charlie, Alice's\
    \ network administrator expects:\n   C1. that C will be able to send A instant\
    \ messages at any time.\n   C2. that A will receive any message he sends while\
    \ A is online.\n   C3. that A will not be able to refuse delivery of any instant\n\
    \   messages sent by C.\n       Discussion for C1-C3: It is not clear this needs\
    \ to be specially\n       handled at the protocol level; Administrators may accomplish\
    \ the\n       above objectives through other means.  For example, an\n       administrator\
    \ may send a message to a user through the normal\n       mechanisms.  This is\
    \ therefore omitted from the requirements.\n"
- title: Full Copyright Statement
  contents:
  - "Full Copyright Statement\n   Copyright (C) The Internet Society (2000).  All\
    \ Rights Reserved.\n   This document and translations of it may be copied and\
    \ furnished to\n   others, and derivative works that comment on or otherwise explain\
    \ it\n   or assist in its implementation may be prepared, copied, published\n\
    \   and distributed, in whole or in part, without restriction of any\n   kind,\
    \ provided that the above copyright notice and this paragraph are\n   included\
    \ on all such copies and derivative works.  However, this\n   document itself\
    \ may not be modified in any way, such as by removing\n   the copyright notice\
    \ or references to the Internet Society or other\n   Internet organizations, except\
    \ as needed for the purpose of\n   developing Internet standards in which case\
    \ the procedures for\n   copyrights defined in the Internet Standards process\
    \ must be\n   followed, or as required to translate it into languages other than\n\
    \   English.\n   The limited permissions granted above are perpetual and will\
    \ not be\n   revoked by the Internet Society or its successors or assigns.\n \
    \  This document and the information contained herein is provided on an\n   \"\
    AS IS\" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING\n   TASK FORCE\
    \ DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING\n   BUT NOT LIMITED\
    \ TO ANY WARRANTY THAT THE USE OF THE INFORMATION\n   HEREIN WILL NOT INFRINGE\
    \ ANY RIGHTS OR ANY IMPLIED WARRANTIES OF\n   MERCHANTABILITY OR FITNESS FOR A\
    \ PARTICULAR PURPOSE.\n"
- title: Acknowledgement
  contents:
  - "Acknowledgement\n   Funding for the RFC Editor function is currently provided\
    \ by the\n   Internet Society.\n"
