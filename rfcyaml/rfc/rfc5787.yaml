- title: __initial_text__
  contents:
  - "                OSPFv2 Routing Protocols Extensions for\n         Automatically\
    \ Switched Optical Network (ASON) Routing\n"
- title: Abstract
  contents:
  - "Abstract\n   The ITU-T has defined an architecture and requirements for operating\n\
    \   an Automatically Switched Optical Network (ASON).\n   The Generalized Multiprotocol\
    \ Label Switching (GMPLS) protocol suite\n   is designed to provide a control\
    \ plane for a range of network\n   technologies including optical networks such\
    \ as time division\n   multiplexing (TDM) networks including SONET/SDH and Optical\
    \ Transport\n   Networks (OTNs), and lambda switching optical networks.\n   The\
    \ requirements for GMPLS routing to satisfy the requirements of\n   ASON routing,\
    \ and an evaluation of existing GMPLS routing protocols\n   are provided in other\
    \ documents.  This document defines extensions to\n   the OSPFv2 Link State Routing\
    \ Protocol to meet the requirements for\n   routing in an ASON.\n   Note that\
    \ this work is scoped to the requirements and evaluation\n   expressed in RFC\
    \ 4258 and RFC 4652 and the ITU-T Recommendations\n   current when those documents\
    \ were written.  Future extensions of\n   revisions of this work may be necessary\
    \ if the ITU-T Recommendations\n   are revised or if new requirements are introduced\
    \ into a revision of\n   RFC 4258.\n"
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This document is not an Internet Standards Track specification;\
    \ it is\n   published for examination, experimental implementation, and\n   evaluation.\n\
    \   This document defines an Experimental Protocol for the Internet\n   community.\
    \  This document is a product of the Internet Engineering\n   Task Force (IETF).\
    \  It represents the consensus of the IETF\n   community.  It has received public\
    \ review and has been approved for\n   publication by the Internet Engineering\
    \ Steering Group (IESG).  Not\n   all documents approved by the IESG are a candidate\
    \ for any level of\n   Internet Standard; see Section 2 of RFC 5741.\n   Information\
    \ about the current status of this document, any errata,\n   and how to provide\
    \ feedback on it may be obtained at\n   http://www.rfc-editor.org/info/rfc5787.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (c) 2010 IETF Trust and the persons identified\
    \ as the\n   document authors.  All rights reserved.\n   This document is subject\
    \ to BCP 78 and the IETF Trust's Legal\n   Provisions Relating to IETF Documents\n\
    \   (http://trustee.ietf.org/license-info) in effect on the date of\n   publication\
    \ of this document.  Please review these documents\n   carefully, as they describe\
    \ your rights and restrictions with respect\n   to this document.  Code Components\
    \ extracted from this document must\n   include Simplified BSD License text as\
    \ described in Section 4.e of\n   the Trust Legal Provisions and are provided\
    \ without warranty as\n   described in the Simplified BSD License.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1. Introduction ....................................................4\n\
    \      1.1. Conventions Used in This Document ..........................5\n  \
    \ 2. Routing Areas, OSPF Areas, and Protocol Instances ...............5\n   3.\
    \ Reachability ....................................................6\n      3.1.\
    \ Node IPv4 Local Prefix Sub-TLV .............................6\n      3.2. Node\
    \ IPv6 Local Prefix Sub-TLV .............................7\n   4. Link Attribute\
    \ ..................................................8\n      4.1. Local Adaptation\
    \ ...........................................8\n      4.2. Bandwidth Accounting\
    \ .......................................9\n   5. Routing Information Scope .......................................9\n\
    \      5.1. Terminology and Identification .............................9\n  \
    \    5.2. Link Advertisement (Local and Remote TE Router ID\n           Sub-TLV)\
    \ ..................................................10\n      5.3. Reachability\
    \ Advertisement (Local TE Router ID sub-TLV) ...11\n   6. Routing Information\
    \ Dissemination ..............................12\n      6.1. Import/Export Rules\
    \ .......................................13\n      6.2. Discovery and Selection\
    \ ...................................13\n           6.2.1. Upward Discovery and\
    \ Selection .....................13\n           6.2.2. Downward Discovery and\
    \ Selection ...................14\n           6.2.3. Router Information Experimental\
    \ Capabilities TLV ...16\n      6.3. Loop Prevention ...........................................16\n\
    \           6.3.1. Associated RA ID ...................................17\n  \
    \         6.3.2. Processing .........................................18\n    \
    \  6.4. Resiliency ................................................19\n      6.5.\
    \ Neighbor Relationship and Routing Adjacency ...............20\n      6.6. Reconfiguration\
    \ ...........................................20\n   7. OSPFv2 Scalability .............................................21\n\
    \   8. Security Considerations ........................................21\n  \
    \ 9. Experimental Code Points .......................................21\n    \
    \  9.1. Sub-TLVs of the Link TLV ..................................22\n      9.2.\
    \ Sub-TLVs of the Node Attribute TLV ........................22\n      9.3. Sub-TLVs\
    \ of the Router Address TLV ........................23\n      9.4. TLVs of the\
    \ Router Information LSA ........................23\n   10. References ....................................................24\n\
    \      10.1. Normative References .....................................24\n  \
    \    10.2. Informative References ...................................25\n   11.\
    \ Acknowledgements ..............................................26\n   Appendix\
    \ A. ASON Terminology ......................................27\n   Appendix B.\
    \ ASON Routing Terminology ..............................28\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   The Generalized Multiprotocol Label Switching (GMPLS) [RFC3945]\n\
    \   protocol suite is designed to provide a control plane for a range of\n   network\
    \ technologies including optical networks such as time division\n   multiplexing\
    \ (TDM) networks including SONET/SDH and Optical Transport\n   Networks (OTNs),\
    \ and lambda switching optical networks.\n   The ITU-T defines the architecture\
    \ of the Automatically Switched\n   Optical Network (ASON) in [G.8080].\n   [RFC4258]\
    \ details the routing requirements for the GMPLS suite of\n   routing protocols\
    \ to support the capabilities and functionality of\n   ASON control planes identified\
    \ in [G.7715] and in [G.7715.1].\n   [RFC4652] evaluates the IETF Link State routing\
    \ protocols against the\n   requirements identified in [RFC4258].  Section 7.1\
    \ of [RFC4652]\n   summarizes the capabilities to be provided by OSPFv2 [RFC2328]\
    \ in\n   support of ASON routing.  This document details the OSPFv2 specifics\n\
    \   for ASON routing.\n   Multi-layer transport networks are constructed from\
    \ multiple networks\n   of different technologies operating in a client-server\
    \ relationship.\n   The ASON routing model includes the definition of routing\
    \ levels that\n   provide scaling and confidentiality benefits.  In multi-level\n\
    \   routing, domains called routing areas (RAs) are arranged in a\n   hierarchical\
    \ relationship.  Note that as described in [RFC4652] there\n   is no implied relationship\
    \ between multi-layer transport networks and\n   multi-level routing.  The multi-level\
    \ routing mechanisms described in\n   this document work for both single-layer\
    \ and multi-layer networks.\n   Implementations may support a hierarchical routing\
    \ topology (multi-\n   level) for multiple transport network layers and/or a hierarchical\n\
    \   routing topology for a single transport network layer.\n   This document details\
    \ the processing of the generic (technology-\n   independent) link attributes\
    \ that are defined in [RFC3630],\n   [RFC4202], and [RFC4203] and that are extended\
    \ in this document.  As\n   detailed in Section 4.2, technology-specific traffic\
    \ engineering\n   attributes (and their processing) may be defined in other documents\n\
    \   that complement this document.\n   Note that this work is scoped to the requirements\
    \ and evaluation\n   expressed in [RFC4258] and [RFC4652] and the ITU-T Recommendations\n\
    \   current when those documents were written.  Future extensions of\n   revisions\
    \ of this work may be necessary if the ITU-T Recommendations\n   are revised or\
    \ if new requirements are introduced into a revision of\n   [RFC4258].\n   This\
    \ document is classified as Experimental.  Significant changes to\n   routing\
    \ protocols are of concern to the stability of the Internet.\n   The extensions\
    \ described in this document are intended for cautious\n   use in self-contained\
    \ environments.  The objective is to determine\n   whether these extensions are\
    \ stable and functional, whether there is\n   a demand for implementation and\
    \ deployment, and whether the\n   extensions have any impact on existing routing\
    \ protocol deployments.\n"
- title: 1.1.  Conventions Used in This Document
  contents:
  - "1.1.  Conventions Used in This Document\n   The key words \"MUST\", \"MUST NOT\"\
    , \"REQUIRED\", \"SHALL\", \"SHALL NOT\",\n   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\"\
    ,  \"MAY\", and \"OPTIONAL\" in this\n   document are to be interpreted as described\
    \ in RFC 2119 [RFC2119].\n   The reader is assumed to be familiar with the terminology\
    \ and\n   requirements developed in [RFC4258] and the evaluation outcomes\n  \
    \ detailed in [RFC4652].\n   General ASON terminology is provided in Appendix\
    \ A.  ASON routing\n   terminology is described in Appendix B.\n"
- title: 2.  Routing Areas, OSPF Areas, and Protocol Instances
  contents:
  - "2.  Routing Areas, OSPF Areas, and Protocol Instances\n   An ASON routing area\
    \ (RA) represents a partition of the data plane,\n   and its identifier is used\
    \ within the control plane as the\n   representation of this partition.\n   RAs\
    \ are arranged in hierarchical levels such that any one RA may\n   contain multiple\
    \ other RAs, and is wholly contained by a single RA.\n   Thus, an RA may contain\
    \ smaller RAs inter-connected by links.  The\n   limit of the subdivision results\
    \ in an RA that contains just two sub-\n   networks interconnected by a single\
    \ link.\n   An ASON RA can be mapped to an OSPF area, but the hierarchy of ASON\n\
    \   RA levels does not map to the hierarchy of OSPF routing areas.\n   Instead,\
    \ successive hierarchical levels of RAs MUST be represented by\n   separate instances\
    \ of the protocol.  Thus, inter-level routing\n   information exchange (as described\
    \ in Section 6) involves the export\n   and import of routing information between\
    \ protocol instances.\n   An ASON RA may therefore be identified by the combination\
    \ of its OSPF\n   instance identifier and its OSPF area identifier.  With proper\
    \ and\n   careful network-wide configuration, this can be achieved using just\n\
    \   the OSPF area identifier, and this process is RECOMMENDED in this\n   document.\
    \  These concepts and the subsequent handling of network\n   reconfiguration is\
    \ discussed in Section 6.\n"
- title: 3.  Reachability
  contents:
  - "3.  Reachability\n   In order to advertise blocks of reachable address prefixes,\
    \ a\n   summarization mechanism is introduced that complements the techniques\n\
    \   described in [RFC5786].\n   This extension takes the form of a network mask\
    \ (a 32-bit number\n   indicating the range of IP addresses residing on a single\
    \ IP\n   network/subnet).  The set of local addresses is carried in an OSPFv2\n\
    \   TE LSA Node Attribute TLV (a specific sub-TLV is defined per address\n   family,\
    \ i.e., IPv4 and IPv6, used as network-unique identifiers).\n   The proposed solution\
    \ is to advertise the local address prefixes of a\n   router as new sub-TLVs of\
    \ the (OSPFv2 TE LSA) Node Attribute top-\n   level TLV.  This document defines\
    \ the following sub-TLVs:\n      - Node IPv4 Local Prefix sub-TLV: Length: variable\n\
    \      - Node IPv6 Local Prefix sub-TLV: Length: variable\n"
- title: 3.1.  Node IPv4 Local Prefix Sub-TLV
  contents:
  - "3.1.  Node IPv4 Local Prefix Sub-TLV\n   The Type field of the Node IPv4 Local\
    \ Prefix sub-TLV is assigned a\n   value in the range 32768-32777 agreed to by\
    \ all participants in the\n   experiment.  The Value field of this sub-TLV contains\
    \ one or more\n   local IPv4 prefixes.  The Length is measured in bytes and, as\
    \ defined\n   in [RFC3630], reports the length in bytes of the Value part of the\n\
    \   sub-TLV.  It is set to 8 x n, where n is the number of local IPv4\n   prefixes\
    \ included in the sub-TLV.\n   The Node IPv4 Local Prefix sub-TLV has the following\
    \ format:\n     0                   1                   2                   3\n\
    \     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \    |              Type             |         Length (8 x n)        |\n    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \    |                         Network Mask 1                        |\n    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \    |                         IPv4 Address 1                        |\n    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \    |                                                               |\n    //\
    \                             ...                              //\n    |     \
    \                                                          |\n    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \    |                         Network Mask n                        |\n    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \    |                         IPv4 Address n                        |\n    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   Network mask i: A 32-bit number indicating the IPv4 address mask for\n   the\
    \ ith advertised destination prefix.\n   Each <Network mask, IPv4 Address> pair\
    \ listed as part of this sub-TLV\n   represents a reachable destination prefix\
    \ hosted by the advertising\n   Router ID.\n   The local addresses that can be\
    \ learned from Opaque TE LSAs (that is,\n   the router address and TE interface\
    \ addresses) SHOULD NOT be\n   advertised in the node IPv4 Local Prefix sub-TLV.\n"
- title: 3.2.  Node IPv6 Local Prefix Sub-TLV
  contents:
  - "3.2.  Node IPv6 Local Prefix Sub-TLV\n   The Type field of the Node IPv6 Local\
    \ Prefix sub-TLV is assigned a\n   value in the range 32768-32777 agreed to by\
    \ all participants in the\n   experiment.  The Value field of this sub-TLV contains\
    \ one or more\n   local IPv6 prefixes.  IPv6 Prefix representation uses [RFC5340],\n\
    \   Section A.4.1.\n   The Node IPv6 Local Prefix sub-TLV has the following format:\n\
    \    0                   1                   2                   3\n    0 1 2\
    \ 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |              Type             |            Length             |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   | PrefixLength  | PrefixOptions |             (0)               |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |                                                               |\n   |  \
    \                   IPv6 Address Prefix 1                     |\n   |        \
    \                                                       |\n   |              \
    \                                                 |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |                                                               |\n   // \
    \                            ...                              //\n   |       \
    \                                                        |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   | PrefixLength  | PrefixOptions |             (0)               |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |                                                               |\n   |  \
    \                   IPv6 Address Prefix n                     |\n   |        \
    \                                                       |\n   |              \
    \                                                 |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   Length reports the length of the Value part of the sub-TLV in bytes.\n   It\
    \ is set to the sum over all of the local prefixes included in the\n   sub-TLV\
    \ of (4 + (number of 32-bit words in the prefix) * 4).\n   The encoding of each\
    \ prefix potentially using fewer than four 32-bit\n   words is described below.\n\
    \     PrefixLength: Length in bits of the prefix.\n     PrefixOptions: 8-bit field\
    \ describing various capabilities\n       associated with the prefix (see [RFC5340],\
    \ Section A.4.2).\n     IPv6 Address Prefix i: The ith IPv6 address prefix in\
    \ the list.\n       Each prefix is encoded in an even multiple of 32-bit words\
    \ using\n       the fewest pairs of 32-bit words necessary to include the entire\n\
    \       prefix.  Thus, each prefix is encoded in either 64 or 128 bits\n     \
    \  with trailing zero bit padding as necessary.\n   The local addresses that can\
    \ be learned from TE LSAs, i.e., router\n   address and TE interface addresses,\
    \ SHOULD NOT be advertised in the\n   node IPv6 Local Prefix sub-TLV.\n"
- title: 4.  Link Attribute
  contents:
  - "4.  Link Attribute\n   [RFC4652] provides a map between link attributes and characteristics\n\
    \   and their representation in sub-TLVs of the top-level Link TLV of the\n  \
    \ Opaque TE LSA [RFC3630] and [RFC4203], with the exception of the\n   local adaptation\
    \ (see below).  Advertisement of this information\n   SHOULD be supported on a\
    \ per-layer basis, i.e., one Opaque TE LSA per\n   switching capability (and per\
    \ bandwidth granularity, e.g., low-order\n   virtual container and high-order\
    \ virtual container).\n"
- title: 4.1.  Local Adaptation
  contents:
  - "4.1.  Local Adaptation\n   Local adaptation is defined as a TE link attribute\
    \ (i.e., sub-TLV)\n   that describes the cross/inter-layer relationships.\n  \
    \ The Interface Switching Capability Descriptor (ISCD) TE Attribute\n   [RFC4202]\
    \ identifies the ability of the TE link to support cross-\n   connection to another\
    \ link within the same layer, and the ability to\n   use a locally terminated\
    \ connection that belongs to one layer as a\n   data link for another layer (adaptation\
    \ capability).  However, the\n   information associated with the ability to terminate\
    \ connections\n   within that layer (referred to as the termination capability)\
    \ is\n   embedded with the adaptation capability.\n   For instance, a link between\
    \ two optical cross-connects will contain\n   at least one ISCD attribute describing\
    \ the lambda switching capable\n   (LSC) switching capability; whereas a link\
    \ between an optical cross-\n   connect and an IP/MPLS LSR will contain at least\
    \ two ISCD attributes:\n   one for the description of the LSC termination capability\
    \ and one for\n   the packet switching capable (PSC) adaptation capability.\n\
    \   In OSPFv2, the Interface Switching Capability Descriptor (ISCD) is a\n   sub-TLV\
    \ (of type 15) of the top-level Link TLV (of type 2) [RFC4203].\n   The adaptation\
    \ and termination capabilities are advertised using two\n   separate ISCD sub-TLVs\
    \ within the same top-level Link TLV.\n   Per [RFC4202] and [RFC4203], an interface\
    \ MAY have more than one ISCD\n   sub-TLV.  Hence, the corresponding advertisements\
    \ should not result\n   in any compatibility issues.\n   Further refinement of\
    \ the ISCD sub-TLV for multi-layer networks is\n   outside the scope of this document.\n"
- title: 4.2.  Bandwidth Accounting
  contents:
  - "4.2.  Bandwidth Accounting\n   GMPLS routing defines an Interface Switching Capability\
    \ Descriptor\n   (ISCD) that delivers, among other things, information about the\n\
    \   (maximum/minimum) bandwidth per priority that a Label Switched Path\n   (LSP)\
    \ can make use of.  Per [RFC4202] and [RFC4203], one or more ISCD\n   sub-TLVs\
    \ can be associated with an interface.  This information,\n   combined with the\
    \ Unreserved Bandwidth (sub-TLV defined in [RFC3630],\n   Section 2.5.8), provides\
    \ the basis for bandwidth accounting.\n   In the ASON context, additional information\
    \ may be included when the\n   representation and information in the other advertised\
    \ fields are not\n   sufficient for a specific technology (e.g., SDH).  The definition\
    \ of\n   technology-specific information elements is beyond the scope of this\n\
    \   document.  Some technologies will not require additional information\n   beyond\
    \ what is already defined in [RFC3630], [RFC4202], and\n   [RFC4203].\n"
- title: 5.  Routing Information Scope
  contents:
  - '5.  Routing Information Scope

    '
- title: 5.1.  Terminology and Identification
  contents:
  - "5.1.  Terminology and Identification\n   The definition of short-hand terminology\
    \ introduced in [RFC4652] is\n   repeated here for clarity.\n   - Pi is a physical\
    \ (bearer/data/transport plane) node.\n   - Li is a logical control plane entity\
    \ that is associated to a single\n     data plane (abstract) node.  Each Li is\
    \ identified by a unique TE\n     Router ID.  The latter is a control plane identifier,\
    \ defined as\n     the Router Address top-level TLV of the Type 1 TE LSA [RFC3630].\n\
    \     Note: The Router Address top-level TLV definition, processing, and\n   \
    \  usage remain per [RFC3630].  This TLV specifies a stable IP address\n     of\
    \ the advertising router (Ri) that is always reachable if there is\n     any IP\
    \ connectivity to it (e.g., via the Data Communication\n     Network).  Moreover,\
    \ each advertising router advertises a unique,\n     reachable IP address for\
    \ each Pi on behalf of which it makes\n     advertisements.\n   - Ri is a logical\
    \ control plane entity that is associated to a\n     control plane \"router\"\
    .  The latter is the source for topology\n     information that it generates and\
    \ shares with other control plane\n     \"routers\".  The Ri is identified by\
    \ the (advertising) Router ID\n     (32-bit) [RFC2328].\n     The Router ID, which\
    \ is represented by Ri and which corresponds to\n     the RC-ID [RFC4258], does\
    \ not enter into the identification of the\n     logical entities representing\
    \ the data plane resources such as\n     links.  The Routing Database (RDB) is\
    \ associated to the Ri.\n   Note: Aside from the Li/Pi mappings, these identifiers\
    \ are not\n   assumed to be in a particular entity relationship except that the\
    \ Ri\n   may have multiple Lis in its scope.  The relationship between Ri and\n\
    \   Li is simple at any moment in time: an Li may be advertised by only\n   one\
    \ Ri at any time.  However, an Ri may advertise a set of one or\n   more Lis.\
    \  Hence, the OSPFv2 routing protocol must support a single\n   Ri advertising\
    \ on behalf of more than one Li.\n"
- title: 5.2.  Link Advertisement (Local and Remote TE Router ID Sub-TLV)
  contents:
  - "5.2.  Link Advertisement (Local and Remote TE Router ID Sub-TLV)\n   A Router\
    \ ID (Ri) advertising on behalf multiple TE Router IDs (Lis)\n   creates a 1:N\
    \ relationship between the Router ID and the TE Router\n   ID.  As the link local\
    \ and link remote (unnumbered) ID association is\n   not unique per node (per\
    \ Li unicity), the advertisement needs to\n   indicate the remote Lj value and\
    \ rely on the initial discovery\n   process to retrieve the [Li;Lj] relationship.\
    \  In brief, as\n   unnumbered links have their ID defined on a per-Li basis,\
    \ the remote\n   Lj needs to be identified to scope the link remote ID to the\
    \ local\n   Li.  Therefore, the routing protocol MUST be able to disambiguate\
    \ the\n   advertised TE links so that they can be associated with the correct\n\
    \   TE Router ID.\n   For this purpose, a new sub-TLV of the (OSPFv2 TE LSA) top-level\
    \ Link\n   TLV is introduced that defines the Local and Remote TE Router ID.\n\
    \   The Type field of the Local and Remote TE Router ID sub-TLV is\n   assigned\
    \ a value in the range 32768-32777 agreed to by all\n   participants in the experiment.\
    \  The Length field takes the value 8.\n   The Value field of this sub-TLV contains\
    \ 4 octets of the Local TE\n   Router Identifier followed by 4 octets of the Remote\
    \ TE Router\n   Identifier.  The value of the Local and Remote TE Router Identifier\n\
    \   SHOULD NOT be set to 0.\n   The format of the Local and Remote TE Router ID\
    \ sub-TLV is:\n    0                   1                   2                 \
    \  3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n  \
    \ +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   |    \
    \          Type             |          Length (8)           |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |                 Local TE Router Identifier                    |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |                 Remote TE Router Identifier                   |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   This sub-TLV is only required to be included as part of the top-level\n  \
    \ Link TLV if the Router ID is advertising on behalf of more than one\n   TE Router\
    \ ID.  In any other case, this sub-TLV SHOULD be omitted\n   except if the operator\
    \ plans to start off with 1 Li and progressively\n   add more Lis (under the same\
    \ Ri) such as to maintain consistency.\n   Note: The Link ID sub-TLV that identifies\
    \ the other end of the link\n   (i.e., Router ID of the neighbor for point-to-point\
    \ links) MUST\n   appear exactly once per Link TLV.  This sub-TLV MUST be processed\
    \ as\n   defined in [RFC3630].\n"
- title: 5.3.  Reachability Advertisement (Local TE Router ID sub-TLV)
  contents:
  - "5.3.  Reachability Advertisement (Local TE Router ID sub-TLV)\n   When the Router\
    \ ID is advertised on behalf of multiple TE Router IDs\n   (Lis), the routing\
    \ protocol MUST be able to associate the advertised\n   reachability information\
    \ with the correct TE Router ID.\n   For this purpose, a new sub-TLV of the (OSPFv2\
    \ TE LSA) top-level Node\n   Attribute TLV is introduced.  This TLV associates\
    \ the local prefixes\n   (see above) to a given TE Router ID.\n   The Type field\
    \ of the Local TE Router ID sub-TLV is assigned a value\n   in the range 32768-32777\
    \ agreed to by all participants in the\n   experiment.  The Length field takes\
    \ the value 4.  The Value field of\n   this sub-TLV contains the Local TE Router\
    \ Identifier [RFC3630]\n   encoded over 4 octets.\n   The format of the Local\
    \ TE Router ID sub-TLV is:\n    0                   1                   2    \
    \               3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7\
    \ 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |              Type             |          Length (4)           |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |                 Local TE Router Identifier                    |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   This sub-TLV is only required to be included as part of the Node\n   Attribute\
    \ TLV if the Router ID is advertising on behalf of more than\n   one TE Router\
    \ ID.  In any other case, this sub-TLV SHOULD be omitted.\n"
- title: 6.  Routing Information Dissemination
  contents:
  - "6.  Routing Information Dissemination\n   An ASON routing area (RA) represents\
    \ a partition of the data plane,\n   and its identifier is used within the control\
    \ plane as the\n   representation of this partition.  An RA may contain smaller\
    \ RAs\n   inter-connected by links.  The limit of the subdivision results is an\n\
    \   RA that contains two sub-networks interconnected by a single link.\n   ASON\
    \ RA levels do not reflect routing protocol levels (such as OSPF\n   areas).\n\
    \   Successive hierarchical levels of RAs can be represented by separate\n   instances\
    \ of the protocol.\n   Routing controllers (RCs) supporting RAs disseminate information\n\
    \   downward and upward in this hierarchy.  The vertical routing\n   information\
    \ dissemination mechanisms described in this section do not\n   introduce or imply\
    \ a new OSPF routing area hierarchy.  RCs supporting\n   RAs at multiple levels\
    \ are structured as separate OSPF instances with\n   routing information exchanges\
    \ between levels described by import and\n   export rules operating between OSPF\
    \ instances.\n   The implication is that an RC that performs import/export of\
    \ routing\n   information as described in this document does not implement an\
    \ Area\n   Border Router (ABR) functionality.\n"
- title: 6.1.  Import/Export Rules
  contents:
  - "6.1.  Import/Export Rules\n   RCs supporting RAs disseminate information upward\
    \ and downward in the\n   hierarchy by importing/exporting routing information\
    \ as Opaque TE\n   LSAs (Opaque Type 1) of LS Type 10.  The information that MAY\
    \ be\n   exchanged between adjacent levels includes the Router Address, Link,\n\
    \   and Node Attribute top-level TLVs.\n   The Opaque TE LSA import/export rules\
    \ are governed as follows:\n   - If the export target interface is associated\
    \ with the same RA as is\n     associated with the import interface, the Opaque\
    \ LSA MUST NOT be\n     imported.\n   - If a match is found between the advertising\
    \ Router ID in the header\n     of the received Opaque TE LSA and one of the Router\
    \ IDs belonging\n     to the RA of the export target interface, the Opaque LSA\
    \ MUST NOT\n     be imported.\n   - If these two conditions are not met, the Opaque\
    \ TE LSA MAY be\n     imported according to local policy.  If imported, the LSA\
    \ MAY be\n     disseminated according to local policy.  If disseminated, the\n\
    \     normal OSPF flooding rules MUST be followed and the advertising\n     Router\
    \ ID MUST be set to the importing router's Router ID.\n   The imported/exported\
    \ routing information content MAY be transformed,\n   e.g., filtered or aggregated,\
    \ as long as the resulting routing\n   information is consistent.  In particular,\
    \ when more than one RC is\n   bound to adjacent levels and both are allowed to\
    \ import/export\n   routing information, it is expected that these transformations\
    \ are\n   performed in a consistent manner.  Definition of these policy-based\n\
    \   mechanisms is outside the scope of this document.\n   In practice, and in\
    \ order to avoid scalability and processing\n   overhead, routing information\
    \ imported/exported downward/upward in\n   the hierarchy is expected to include\
    \ reachability information (see\n   Section 3) and, upon strict policy control,\
    \ link topology\n   information.\n"
- title: 6.2 Discovery and Selection
  contents:
  - '6.2 Discovery and Selection

    '
- title: 6.2.1.  Upward Discovery and Selection
  contents:
  - "6.2.1.  Upward Discovery and Selection\n   In order to discover RCs that are\
    \ capable of disseminating routing\n   information up the routing hierarchy, the\
    \ following capability\n   descriptor bit is set in the OSPF Router Information\
    \ Experimental\n   Capabilities TLV (see Section 6.2.3) carried in the Router\n\
    \   Information LSA ([RFC4970]).\n   - U bit: When set, this flag indicates that\
    \ the RC is capable of\n     disseminating routing information upward to the adjacent\
    \ level.\n   In the case that multiple RCs are advertised from the same RA with\n\
    \   their U bit set, the RC with the highest Router ID, among those RCs\n   with\
    \ the U bit set, SHOULD be selected as the RC for upward\n   dissemination of\
    \ routing information.  The other RCs MUST NOT\n   participate in the upward dissemination\
    \ of routing information as\n   long as the Opaque LSA information corresponding\
    \ to the highest\n   Router ID RC does not reach MaxAge.  This mechanism prevents\
    \ more\n   than one RC advertising routing information upward in the routing\n\
    \   hierarchy from the same RA.\n   Note that if the information to allow the\
    \ selection of the RC that\n   will be used to disseminate routing information\
    \ up the hierarchy from\n   a specific RA cannot be discovered automatically,\
    \ it MUST be manually\n   configured.\n   Once an RC has been selected, it remains\
    \ unmodified even if an RC\n   with a higher Router ID is introduced and advertises\
    \ its capability\n   to disseminate routing information upward the adjacent level\
    \ (i.e., U\n   bit set).  This hysteresis mechanism prevents from disturbing the\n\
    \   upward routing information dissemination process in case, e.g., of\n   flapping.\n"
- title: 6.2.2.  Downward Discovery and Selection
  contents:
  - "6.2.2.  Downward Discovery and Selection\n   The same discovery mechanism is\
    \ used for selecting the RC responsible\n   for dissemination of routing information\
    \ downward in the hierarchy.\n   However, an additional restriction MUST be applied\
    \ such that the RC\n   selection process takes into account that an upper level\
    \ may be\n   adjacent to one or more lower (RA) levels.  For this purpose, a\n\
    \   specific TLV indexing the (lower) RA ID to which the RCs are capable\n   of\
    \ disseminating routing information is needed.\n   The Downstream Associated RA\
    \ ID TLV is carried in the OSPF Router\n   Information LSA [RFC4970].  The Type\
    \ field of the Downstream\n   Associated RA ID TLV is assigned a value in the\
    \ range 32768-32777\n   agreed to by all participants in the experiment.  The\
    \ Length of this\n   TLV is n x 4 octets.  The Value field of this sub-TLV contains\
    \ the\n   list of Associated RA IDs.  Each Associated RA ID value is encoded\n\
    \   following the OSPF area ID (32 bits) encoding rules defined in\n   [RFC2328].\n\
    \   The format of the Downstream Associated RA ID TLV is:\n    0             \
    \      1                   2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1\
    \ 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |              Type             |         Length (4 x n)        |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |                     Associated RA ID 1                        |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |                                                               |\n   // \
    \                            ...                              //\n   |       \
    \                                                        |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |                     Associated RA ID n                        |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   To discover RCs that are capable of disseminating routing information\n  \
    \ downward through the routing hierarchy, the following capability\n   descriptor\
    \ bit is set in the OSPF Router Information Experimental\n   Capabilities TLV\
    \ (see Section 6.2.3) carried in the Router\n   Information LSA ([RFC4970]).\n\
    \   Note that the Downstream Associated RA ID TLV MUST be present when\n   the\
    \ D bit is set.\n   - D bit: when set, this flag indicates that the RC is capable\
    \ of\n     disseminating routing information downward to the adjacent levels.\n\
    \   If multiple RCs are advertised for the same Associated RA ID, the RC\n   with\
    \ the highest Router ID, among the RCs with the D bit set, MUST be\n   selected\
    \ as the RC for downward dissemination of routing information.\n   The other RCs\
    \ for the same Associated RA ID MUST NOT participate in\n   the downward dissemination\
    \ of routing information as long as the\n   Opaque LSA information corresponding\
    \ to the highest Router ID RC does\n   not reach MaxAge.  This mechanism prevents\
    \ more than one RC from\n   advertising routing information downward through the\
    \ routing\n   hierarchy.\n   Note that if the information to allow the selection\
    \ of the RC that\n   will be used to disseminate routing information down the\
    \ hierarchy to\n   a specific RA cannot be discovered automatically, it MUST be\
    \ manually\n   configured.\n   The OSPF Router information Opaque LSA (Opaque\
    \ type of 4, Opaque ID\n   of 0) and its content, in particular the Router Informational\n\
    \   Capabilities TLV [RFC4970] and TE Node Capability Descriptor TLV\n   [RFC5073],\
    \ MUST NOT be re-originated.\n"
- title: 6.2.3.  Router Information Experimental Capabilities TLV
  contents:
  - "6.2.3.  Router Information Experimental Capabilities TLV\n   A new TLV is defined\
    \ for inclusion in the Router Information LSA to\n   carry experimental capabilities\
    \ because the assignment policy for\n   bits in the Router Informational Capabilities\
    \ TLV is \"Standards\n   Action\" [RFC5226] prohibiting its use from Experimental\
    \ documents.\n   The format of the Router Information Experimental Capabilities\
    \ TLV is\n   as follows:\n       0                   1                   2   \
    \                3\n       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5\
    \ 6 7 8 9 0 1\n      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \      |              Type             |             Length            |\n   \
    \   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n      |\
    \             Experimental Capabilities                         |\n      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \      Type     A value in the range 32768-32777 agreed to by all\n          \
    \     participants in the experiment.\n      Length   A 16-bit field that indicates\
    \ the length of the value\n               portion in octets and will be a multiple\
    \ of 4 octets\n               dependent on the number of capabilities advertised.\n\
    \               Initially, the length will be 4, denoting 4 octets of\n      \
    \         informational capability bits.\n      Value    A variable-length sequence\
    \ of capability bits rounded to\n               a multiple of 4 octets padded\
    \ with undefined bits.\n   The following experimental capability bits are assigned:\n\
    \      Bit       Capabilities\n      0         The U bit (see Section 6.2.1)\n\
    \      1         The D bit (see Section 6.2.2)\n"
- title: 6.3.  Loop Prevention
  contents:
  - "6.3.  Loop Prevention\n   When more than one RC is bound to an adjacent level\
    \ of the hierarchy,\n   and is configured or selected to redistribute routing\
    \ information\n   upward and downward, a specific mechanism is required to avoid\n\
    \   looping of routing information.  Looping is the re-introduction of\n   routing\
    \ information that has been advertised from the upper level\n   back to the upper\
    \ level.  This specific case occurs, for example,\n   when the RC advertising\
    \ routing information downward in the hierarchy\n   is not the same one that advertises\
    \ routing upward in the hierarchy.\n   When these conditions are met, it is necessary\
    \ to have a means by\n   which an RC receiving an Opaque TE LSA imported/exported\
    \ downward by\n   an RC associated to the same RA does not import/export the content\
    \ of\n   this LSA back upward into the (same) upper level.\n   Note that configuration\
    \ and operational simplification can be\n   obtained when both functionalities\
    \ are configured on a single RC (per\n   pair of adjacent levels) fulfilling both\
    \ roles.  Figure 1 provides an\n   example where such simplification applies.\n\
    \              ....................................................\n        \
    \      .                                                  .\n              . \
    \           RC_5 ------------ RC_6                .\n              .         \
    \    |                 |                  .\n              .             |   \
    \              |            RA_Y  .\n     Upper    .           *********     \
    \    *********            .\n     Layer    ............* RC_1a *.........* RC_2a\
    \ *.............\n        __________________* |     *_________* |     *__________________\n\
    \              ............* RC_1b *...   ...* RC 2b *.............\n     Lower\
    \    .           *********  .   .  *********            .\n     Layer    .   \
    \          |        .   .    |                  .\n              .  RA_Z     \
    \  |        .   .    |            RA_X  .\n              .            RC_3   \
    \   .   .   RC_4                .\n              .                      .   .\
    \                       .\n              ........................   .........................\n\
    \               Figure 1.  Hierarchical Environment (Example)\n   In this case,\
    \ the procedure described in this section MAY be omitted,\n   as long as these\
    \ conditions are permanently guaranteed.  In all other\n   cases, without exception,\
    \ the procedure described in this section\n   MUST be applied.\n"
- title: 6.3.1.  Associated RA ID
  contents:
  - "6.3.1.  Associated RA ID\n   We need some way of filtering the downward/upward\
    \ re-originated\n   Opaque TE LSA.  Per [RFC5250], the information contained in\
    \ Opaque\n   LSAs may be used directly by OSPF.  By adding the RA ID associated\n\
    \   with the incoming routing information, the loop prevention problem\n   can\
    \ be solved.\n   This additional information, referred to as the Associated RA\
    \ ID, MAY\n   be carried in Opaque LSAs that include any of the following top-level\n\
    \   TLVs:\n      - Router Address top-level TLV\n      - Link top-level TLV\n\
    \      - Node Attribute top-level TLV\n   The Associated RA ID reflects the identifier\
    \ of the area from which\n   the routing information is received.  For example,\
    \ for a multi-level\n   hierarchy, this identifier does not reflect the originating\
    \ RA ID; it\n   will reflect the RA from which the routing information is imported.\n\
    \   The Type field of the Associated RA ID sub-TLV is assigned a value in\n  \
    \ the range 32768-32777 agreed to by all participants in the\n   experiment. \
    \ The same value MUST be used for the Type regardless of\n   which TLV the sub-TLV\
    \ appears in.\n   The Length of the Associated RA ID TLV is 4 octets.  The Value\
    \ field\n   of this sub-TLV contains the Associated RA ID.  The Associated RA\
    \ ID\n   value is encoded following the OSPF area ID (32 bits) encoding rules\n\
    \   defined in [RFC2328].\n   The format of the Associated RA ID TLV is defined\
    \ as follows:\n    0                   1                   2                 \
    \  3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n  \
    \ +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   |    \
    \          Type             |           Length (4)          |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |                       Associated RA ID                        |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n"
- title: 6.3.2.  Processing
  contents:
  - "6.3.2.  Processing\n   When fulfilling the rules detailed in Section 6.1, a given\
    \ Opaque LSA\n   is imported/exported downward or upward the routing hierarchy,\
    \ and\n   the Associated RA ID TLV is added to the received Opaque LSA list of\n\
    \   TLVs such as to identify the area from which this routing information\n  \
    \ has been received.\n   When the RC adjacent to the lower or upper routing level\
    \ receives\n   this Opaque LSA, the following rule is applied (in addition to\
    \ the\n   rule governing the import/export of Opaque LSAs as detailed in\n   Section\
    \ 6.1).\n   - If a match is found between the Associated RA ID of the received\n\
    \     Opaque TE LSA and the RA ID belonging to the area of the export\n     target\
    \ interface, the Opaque TE LSA MUST NOT be imported.\n   - Otherwise, this Opaque\
    \ LSA MAY be imported and disseminated\n     downward or upward the routing hierarchy\
    \ following the OSPF\n     flooding rules.\n   This mechanism ensures that no\
    \ race condition occurs when the\n   conditions depicted in Figure 2 are met.\n\
    \                           RC_5 ------------- RC_6\n                        \
    \    |                 |\n                            |                 |    \
    \        RA_Y\n     Upper                *********         *********\n     Layer\
    \    ............* RC_1a *.........* RC_2a *.............\n        __________________*\
    \ |     *_________* |     *__________________\n              ............* RC_1b\
    \ *.........* RC_2b *.............\n     Lower                *********      \
    \   *********\n     Layer                  |                 |\n             \
    \               |                 |            RA_X\n                        \
    \   RC_3 --- . . . --- RC_4\n               Figure 2.  Race Condition Prevention\
    \ (Example)\n   Assume that RC_1b is configured for exporting routing information\n\
    \   upward toward RA_Y (upward the routing hierarchy) and that RC_2a is\n   configured\
    \ for exporting routing information toward RA_X (downward\n   the routing hierarchy).\n\
    \   Assume that routing information advertised by RC_3 would reach RC_4\n   faster\
    \ across RA_Y through hierarchy.\n   If RC_2b is not able to prevent from importing\
    \ that information, RC_4\n   may receive that information before the same advertisement\
    \ would\n   propagate in RA_X (from RC_3) to RC_4.  For this purpose, RC_1a\n\
    \   inserts the Associated RA X to the imported routing information from\n   RA_X.\
    \  Because RC_2b finds a match between the Associated RA ID (X)\n   of the received\
    \ Opaque TE LSA and the ID (X) of the RA of the export\n   target interface, this\
    \ LSA MUST NOT be imported.\n"
- title: 6.4.  Resiliency
  contents:
  - "6.4.  Resiliency\n   OSPF creates adjacencies between neighboring routers for\
    \ the purpose\n   of exchanging routing information.  After a neighbor has been\n\
    \   discovered, bidirectional communication is ensured, and a routing\n   adjacency\
    \ is formed between RCs, loss of communication may result in\n   partitioned OSPF\
    \ areas and so in partitioned RAs.\n   Consider for instance (see Figure 2) the\
    \ case where RC_1a and RC_1b\n   are configured for exchanging routing information\
    \ downward and upward\n   RA_Y, respectively, and that RC_2a and RC_2b are not\
    \ configured for\n   exchanging any routing information toward RA_X.  If the communication\n\
    \   between RC_1a and RC_2a is broken (due, e.g., to RC_5 - RC_6\n   communication\
    \ failure), RA_Y could be partitioned.\n   In these conditions, it is RECOMMENDED\
    \ that RC_2a be re-configurable\n   such as to allow for exchanging routing information\
    \ downward to RA_X.\n   This reconfiguration MAY be performed manually or automatically.\
    \  In\n   the latter cases, automatic reconfiguration uses the mechanism\n   described\
    \ in Section 6.2 (forcing MaxAge of the corresponding opaque\n   LSA information\
    \ in case the originating RC becomes unreachable).\n   Manual reconfiguration\
    \ MUST be supported.\n"
- title: 6.5.  Neighbor Relationship and Routing Adjacency
  contents:
  - "6.5.  Neighbor Relationship and Routing Adjacency\n   It is assumed that (point-to-point)\
    \ IP control channels are\n   provisioned/configured between RCs belonging to\
    \ the same routing\n   level.  Provisioning/configuration techniques are outside\
    \ the scope\n   of this document.\n   Once established, the OSPF Hello protocol\
    \ is responsible for\n   establishing and maintaining neighbor relationships.\
    \  This protocol\n   also ensures that communication between neighbors is bidirectional.\n\
    \   Routing adjacency can subsequently be formed between RCs following\n   mechanisms\
    \ defined in [RFC2328].\n"
- title: 6.6 Reconfiguration
  contents:
  - "6.6 Reconfiguration\n   This section details the RA ID reconfiguration steps.\n\
    \   Reconfiguration of the RA ID occurs when the RA ID is modified, e.g.,\n  \
    \ from value Z to value X or Y (see Figure 2).\n   The process of reconfiguring\
    \ the RA ID involves:\n   - Disable the import/export of routing information from\
    \ the upper and\n     lower levels (to prevent any LS information update).\n \
    \  - Change the RA ID of the local level RA from, e.g., Z to X or Y.\n     Perform\
    \ a Link State Database (LSDB) checksum on all routers to\n     verify that LSDBs\
    \ are consistent.\n   - Enable import of upstream and downstream routing information\
    \ such\n     as to re-synchronize local-level LSDBs from any LS information that\n\
    \     may have occurred in an upper or a lower routing level.\n   - Enable export\
    \ of routing information downstream such as to re-sync\n     the downstream level\
    \ with the newly reconfigured RA ID (as part of\n     the re-advertised Opaque\
    \ TE LSA).\n   - Enable export of routing information upstream such as to re-sync\n\
    \     the upstream level with the newly reconfigured RA ID (as part of\n     the\
    \ re-advertised Opaque TE LSA).\n   Note that the re-sync operation needs to be\
    \ carried out only between\n   the directly adjacent upper and lower routing levels.\n"
- title: 7.  OSPFv2 Scalability
  contents:
  - "7.  OSPFv2 Scalability\n   - Routing information exchange upward/downward in\
    \ the hierarchy\n     between adjacent RAs SHOULD by default be limited to reachability\n\
    \     information.  In addition, several transformations such as prefix\n    \
    \ aggregation are RECOMMENDED when allowing the amount of information\n     imported/exported\
    \ by a given RC to be decreased without impacting\n     consistency.\n   - Routing\
    \ information exchange upward/downward in the hierarchy\n     involving TE attributes\
    \ MUST be under strict policy control.\n     Pacing and min/max thresholds for\
    \ triggered updates are strongly\n     RECOMMENDED.\n   - The number of routing\
    \ levels MUST be maintained under strict policy\n     control.\n"
- title: 8.  Security Considerations
  contents:
  - "8.  Security Considerations\n   This document specifies the contents and processing\
    \ of Opaque LSAs in\n   OSPFv2 [RFC2328].  Opaque TE and RI LSAs defined in this\
    \ document are\n   not used for SPF computation, and so have no direct effect\
    \ on IP\n   routing.  Additionally, ASON routing domains are delimited by the\n\
    \   usual administrative domain boundaries.\n   Any mechanisms used for securing\
    \ the exchange of normal OSPF LSAs can\n   be applied equally to all Opaque TE\
    \ and RI LSAs used in the ASON\n   context.  Authentication of OSPFv2 LSA exchanges\
    \ (such as OSPF\n   cryptographic authentication [RFC2328] and [RFC5709]) can\
    \ be used to\n   secure against passive attacks and provide significant protection\n\
    \   against active attacks.  [RFC5709] defines a mechanism for\n   authenticating\
    \ OSPF packets by making use of the HMAC algorithm in\n   conjunction with the\
    \ SHA family of cryptographic hash functions.\n   [RFC2154] adds 1) digital signatures\
    \ to authenticate OSPF LSA data,\n   2) a certification mechanism for distribution\
    \ of routing information,\n   and 3) a neighbor-to-neighbor authentication algorithm\
    \ to protect\n   local OSPFv2 protocol exchanges.\n"
- title: 9.  Experimental Code Points
  contents:
  - "9.  Experimental Code Points\n   This document is classified as Experimental.\
    \  It defines new TLVs and\n   sub-TLVs for inclusion in OSPF LSAs.  According\
    \ to the assignment\n   policies for the registries of code points for these TLVs\
    \ and sub-\n   TLVs, values must be assigned from the experimental ranges and\
    \ must\n   not be recorded by IANA or mentioned in this document.\n   The following\
    \ sections summarize the TLVs and sub-TLVs concerned.\n"
- title: 9.1.  Sub-TLVs of the Link TLV
  contents:
  - "9.1.  Sub-TLVs of the Link TLV\n   This document defines the following sub-TLVs\
    \ of the Link TLV carried\n   in the OSPF TE LSA:\n   - Local and Remote TE Router\
    \ ID sub-TLV\n   - Associated RA ID sub-TLV\n   The defining text for code point\
    \ assignment for sub-TLVs of the OSPF\n   TE Link TLV says ([RFC3630]):\n    \
    \  o  Types in the range 10-32767 are to be assigned via Standards\n         Action.\n\
    \      o  Types in the range 32768-32777 are for experimental use; these\n   \
    \      will not be registered with IANA, and MUST NOT be mentioned by\n      \
    \   RFCs.\n      o  Types in the range 32778-65535 are not to be assigned at this\n\
    \         time.\n   That means that the new sub-TLVs must be assigned type values\
    \ from\n   the range 32768-32777.  It is a matter for experimental\n   implementations\
    \ to assign their own code points, and to agree with\n   cooperating implementations\
    \ participating in the same experiments\n   what values to use.\n   Note that\
    \ the same value for the Associated RA ID sub-TLV MUST be\n   used when it appears\
    \ in the Link TLV, the Node Attribute TLV, and the\n   Router Address TLV.\n"
- title: 9.2.  Sub-TLVs of the Node Attribute TLV
  contents:
  - "9.2.  Sub-TLVs of the Node Attribute TLV\n   This document defines the following\
    \ sub-TLVs of the Node Attribute\n   TLV carried in the OSPF TE LSA.\n      -\
    \ Node IPv4 Local Prefix sub-TLV\n      - Node IPv6 Local Prefix sub-TLV\n   \
    \   - Local TE Router ID sub-TLV\n      - Associated RA ID sub-TLV\n   The defining\
    \ text for code point assignment for sub-TLVs of the OSPF\n   Node Attribute TLV\
    \ says ([RFC5786]):\n      o  Types in the range 3-32767 are to be assigned via\
    \ Standards\n         Action.\n      o  Types in the range 32768-32777 are for\
    \ experimental use; these\n         will not be registered with IANA, and MUST\
    \ NOT be mentioned by\n         RFCs.\n      o  Types in the range 32778-65535\
    \ are not to be assigned at this\n         time.  Before any assignments can be\
    \ made in this range, there\n         MUST be a Standards Track RFC that specifies\
    \ IANA\n         Considerations that covers the range being assigned.\n   That\
    \ means that the new sub-TLVs must be assigned type values from\n   the range\
    \ 32768-32777.  It is a matter for experimental\n   implementations to assign\
    \ their own code points, and to agree with\n   cooperating implementations participating\
    \ in the same experiments\n   what values to use.\n   Note that the same value\
    \ for the Associated RA ID sub-TLV MUST be\n   used when it appears in the Link\
    \ TLV, the Node Attribute TLV, and the\n   Router Address TLV.\n"
- title: 9.3.  Sub-TLVs of the Router Address TLV
  contents:
  - "9.3.  Sub-TLVs of the Router Address TLV\n   The OSPF Router Address TLV is defined\
    \ in [RFC3630].  No sub-TLVs are\n   defined in that document and there is no\
    \ registry or allocation\n   policy for sub-TLVs of the Router Address TLV.\n\
    \   This document defines the following new sub-TLV for inclusion in the\n   OSPF\
    \ Router Address TLV:\n   - Associated RA ID sub-TLV\n   Note that the same value\
    \ for the Associated RA ID sub-TLV MUST be\n   used when it appears in the Link\
    \ TLV, the Node Attribute TLV, and the\n   Router Address TLV.  This is consistent\
    \ with potential for a future\n   definition of a registry with policies that\
    \ match the other existing\n   registries.\n"
- title: 9.4.  TLVs of the Router Information LSA
  contents:
  - "9.4.  TLVs of the Router Information LSA\n   This document defines two new TLVs\
    \ to be carried in the Router\n   Information LSA.\n      - Downstream Associated\
    \ RA ID TLV\n      - Router Information Experimental Capabilities TLV\n   The\
    \ defining text for code point assignment for TLVs of the OSPF\n   Router Information\
    \ LSA says ([RFC4970]):\n      o  1-32767 Standards Action.\n      o  Types in\
    \ the range 32768-32777 are for experimental use; these\n         will not be\
    \ registered with IANA and MUST NOT be mentioned by\n         RFCs.\n      o \
    \ Types in the range 32778-65535 are reserved and are not to be\n         assigned\
    \ at this time.  Before any assignments can be made in\n         this range, there\
    \ MUST be a Standards Track RFC that specifies\n         IANA Considerations that\
    \ covers the range being assigned.\n   That means that the new TLVs must be assigned\
    \ type values from the\n   range 32768-32777.  It is a matter for experimental\
    \ implementations\n   to assign their own code points, and to agree with cooperating\n\
    \   implementations participating in the same experiments what values to\n   use.\n"
- title: 10.  References
  contents:
  - '10.  References

    '
- title: 10.1.  Normative References
  contents:
  - "10.1.  Normative References\n   [RFC2119]    Bradner, S., \"Key words for use\
    \ in RFCs to Indicate\n                Requirement Levels\", BCP 14, RFC 2119,\
    \ March 1997.\n   [RFC2154]    Murphy, S., Badger, M., and B. Wellington, \"OSPF\
    \ with\n                Digital Signatures\", RFC 2154, June 1997.\n   [RFC2328]\
    \    Moy, J., \"OSPF Version 2\", STD 54, RFC 2328, April 1998.\n   [RFC3630]\
    \    Katz, D., Kompella, K., and D. Yeung, \"Traffic\n                Engineering\
    \ (TE) Extensions to OSPF Version 2\", RFC\n                3630, September 2003.\n\
    \   [RFC3945]    Mannie, E., Ed., \"Generalized Multi-Protocol Label\n       \
    \         Switching (GMPLS) Architecture\", RFC 3945, October 2004.\n   [RFC4202]\
    \    Kompella, K., Ed., and Y. Rekhter, Ed., \"Routing\n                Extensions\
    \ in Support of Generalized Multi-Protocol\n                Label Switching (GMPLS)\"\
    , RFC 4202, October 2005.\n   [RFC4203]    Kompella, K., Ed., and Y. Rekhter,\
    \ Ed., \"OSPF Extensions\n                in Support of Generalized Multi-Protocol\
    \ Label Switching\n                (GMPLS)\", RFC 4203, October 2005.\n   [RFC4970]\
    \    Lindem, A., Ed., Shen, N., Vasseur, JP., Aggarwal, R.,\n                and\
    \ S. Shaffer, \"Extensions to OSPF for Advertising\n                Optional Router\
    \ Capabilities\", RFC 4970, July 2007.\n   [RFC5226]    Narten, T. and H. Alvestrand,\
    \ \"Guidelines for Writing an\n                IANA Considerations Section in\
    \ RFCs\", BCP 26, RFC 5226,\n                May 2008.\n   [RFC5250]    Berger,\
    \ L., Bryskin, I., Zinin, A., and R. Coltun, \"The\n                OSPF Opaque\
    \ LSA Option\", RFC 5250, July 2008.\n   [RFC5340]    Coltun, R., Ferguson, D.,\
    \ Moy, J., and A. Lindem, \"OSPF\n                for IPv6\", RFC 5340, July 2008.\n\
    \   [RFC5786]    Aggarwal, R. and K. Kompella, \"Advertising a Router's\n    \
    \            Local Addresses in OSPF TE Extensions\", RFC 5786, March\n      \
    \          2010.\n"
- title: 10.2.  Informative References
  contents:
  - "10.2.  Informative References\n   [RFC4258]    Brungard, D., Ed., \"Requirements\
    \ for Generalized Multi-\n                Protocol Label Switching (GMPLS) Routing\
    \ for the\n                Automatically Switched Optical Network (ASON)\", RFC\n\
    \                4258, November 2005.\n   [RFC4652]    Papadimitriou, D., Ed.,\
    \ Ong, L., Sadler, J., Shew, S.,\n                and D. Ward, \"Evaluation of\
    \ Existing Routing Protocols\n                against Automatic Switched Optical\
    \ Network (ASON)\n                Routing Requirements\", RFC 4652, October 2006.\n\
    \   [RFC5073]    Vasseur, J., Ed., and J. Le Roux, Ed., \"IGP Routing\n      \
    \          Protocol Extensions for Discovery of Traffic Engineering\n        \
    \        Node Capabilities\", RFC 5073, December 2007.\n   [RFC5709]    Bhatia,\
    \ M., Manral, V., Fanto, M., White, R., Barnes,\n                M., Li, T., and\
    \ R. Atkinson, \"OSPFv2 HMAC-SHA\n                Cryptographic Authentication\"\
    , RFC 5709, October 2009.\n   For information on the availability of ITU Documents,\
    \ please see\n   http://www.itu.int.\n   [G.7715]     ITU-T Rec. G.7715/Y.1306,\
    \ \"Architecture and Requirements\n                for the Automatically Switched\
    \ Optical Network (ASON)\",\n                June 2002.\n   [G.7715.1]   ITU-T\
    \ Draft Rec. G.7715.1/Y.1706.1, \"ASON Routing\n                Architecture and\
    \ Requirements for Link State Protocols\",\n                November 2003.\n \
    \  [G.805]      ITU-T Rec. G.805, \"Generic functional architecture of\n     \
    \           transport networks)\", March 2000.\n   [G.8080]     ITU-T Rec. G.8080/Y.1304,\
    \ \"Architecture for the\n                Automatically Switched Optical Network\
    \ (ASON),\" November\n                2001 (and Revision, January 2003).\n"
- title: 11.  Acknowledgements
  contents:
  - "11.  Acknowledgements\n   The author would like to thank Dean Cheng, Acee Lindem,\
    \ Pandian\n   Vijay, Alan Davey, Adrian Farrel, Deborah Brungard, and Ben Campbell\n\
    \   for their useful comments and suggestions.\n   Lisa Dusseault and Jari Arkko\
    \ provided useful comments during IESG\n   review.\n   Question 14 of Study Group\
    \ 15 of the ITU-T provided useful and\n   constructive input.\n"
- title: Appendix A.  ASON Terminology
  contents:
  - "Appendix A.  ASON Terminology\n   This document makes use of the following terms:\n\
    \   Administrative domain: (See Recommendation [G.805].)  For the\n      purposes\
    \ of [G7715.1], an administrative domain represents the\n      extent of resources\
    \ that belong to a single player such as a\n      network operator, a service\
    \ provider, or an end-user.\n      Administrative domains of different players\
    \ do not overlap amongst\n      themselves.\n   Control plane: performs the call\
    \ control and connection control\n      functions.  Through signaling, the control\
    \ plane sets up and\n      releases connections, and may restore a connection\
    \ in case of a\n      failure.\n   (Control) Domain: represents a collection of\
    \ (control) entities that\n      are grouped for a particular purpose.  The control\
    \ plane is\n      subdivided into domains matching administrative domains.  Within\n\
    \      an administrative domain, further subdivisions of the control\n      plane\
    \ are recursively applied.  A routing control domain is an\n      abstract entity\
    \ that hides the details of the RC distribution.\n   External NNI (E-NNI): interfaces\
    \ are located between protocol\n      controllers between control domains.\n \
    \  Internal NNI (I-NNI): interfaces are located between protocol\n      controllers\
    \ within control domains.\n   Link: (See Recommendation G.805.)  A \"topological\
    \ component\" that\n      describes a fixed relationship between a \"subnetwork\"\
    \ or \"access\n      group\" and another \"subnetwork\" or \"access group\". \
    \ Links are not\n      limited to being provided by a single server trail.\n \
    \  Management plane: performs management functions for the transport\n      plane,\
    \ the control plane, and the system as a whole.  It also\n      provides coordination\
    \ between all the planes.  The following\n      management functional areas are\
    \ performed in the management plane:\n      performance, fault, configuration,\
    \ accounting, and security\n      management.\n   Management domain: (See Recommendation\
    \ G.805.)  A management domain\n      defines a collection of managed objects\
    \ that are grouped to meet\n      organizational requirements according to geography,\
    \ technology,\n      policy, or other structure, and for a number of functional\
    \ areas\n      such as configuration, security, (FCAPS), for the purpose of\n\
    \      providing control in a consistent manner.  Management domains can\n   \
    \   be disjoint, contained, or overlapping.  As such, the resources\n      within\
    \ an administrative domain can be distributed into several\n      possible overlapping\
    \ management domains.  The same resource can\n      therefore belong to several\
    \ management domains simultaneously, but\n      a management domain shall not\
    \ cross the border of an\n      administrative domain.\n   Subnetwork Point (SNP):\
    \ The SNP is a control plane abstraction that\n      represents an actual or potential\
    \ transport plane resource.  SNPs\n      (in different subnetwork partitions)\
    \ may represent the same\n      transport resource.  A one-to-one correspondence\
    \ should not be\n      assumed.\n   Subnetwork Point Pool (SNPP): A set of SNPs\
    \ that are grouped together\n      for the purposes of routing.\n   Termination\
    \ Connection Point (TCP): A TCP represents the output of a\n      Trail Termination\
    \ function or the input to a Trail Termination\n      Sink function.\n   Transport\
    \ plane: provides bidirectional or unidirectional transfer of\n      user information,\
    \ from one location to another.  It can also\n      provide transfer of some control\
    \ and network management\n      information.  The transport plane is layered;\
    \ it is equivalent to\n      the Transport Network defined in Recommendation G.805.\n\
    \   User Network Interface (UNI): interfaces are located between protocol\n  \
    \    controllers between a user and a control domain.  Note: There is\n      no\
    \ routing function associated with a UNI reference point.\n"
- title: Appendix B.  ASON Routing Terminology
  contents:
  - "Appendix B.  ASON Routing Terminology\n   This document makes use of the following\
    \ terms:\n   Routing Area (RA): an RA represents a partition of the data plane,\n\
    \      and its identifier is used within the control plane as the\n      representation\
    \ of this partition.  Per [G.8080], an RA is defined\n      by a set of sub-networks,\
    \ the links that interconnect them, and\n      the interfaces representing the\
    \ ends of the links exiting that RA.\n      An RA may contain smaller RAs inter-connected\
    \ by links.  The limit\n      of subdivision results in an RA that contains two\
    \ sub-networks\n      interconnected by a single link.\n   Routing Database (RDB):\
    \ a repository for the local topology, network\n      topology, reachability,\
    \ and other routing information that is\n      updated as part of the routing\
    \ information exchange and may\n      additionally contain information that is\
    \ configured.  The RDB may\n      contain routing information for more than one\
    \ routing area (RA).\n   Routing Components: ASON routing architecture functions.\
    \  These\n      functions can be classified as protocol independent (Link Resource\n\
    \      Manager or LRM, Routing Controller or RC) or protocol specific\n      (Protocol\
    \ Controller or PC).\n   Routing Controller (RC): handles (abstract) information\
    \ needed for\n      routing and the routing information exchange with peering\
    \ RCs by\n      operating on the RDB.  The RC has access to a view of the RDB.\n\
    \      The RC is protocol independent.\n   Note: Since the RDB may contain routing\
    \ information pertaining to\n      multiple RAs (and possibly to multiple layer\
    \ networks), the RCs\n      accessing the RDB may share the routing information.\n\
    \   Link Resource Manager (LRM): supplies all the relevant component and\n   \
    \   TE link information to the RC.  It informs the RC about any state\n      changes\
    \ of the link resources it controls.\n   Protocol Controller (PC): handles protocol-specific\
    \ message exchanges\n      according to the reference point over which the information\
    \ is\n      exchanged (e.g., E-NNI, I-NNI), and internal exchanges with the\n\
    \      RC.  The PC function is protocol dependent.\n"
- title: Author's Address
  contents:
  - "Author's Address\n   Dimitri Papadimitriou\n   Alcatel-Lucent Bell\n   Copernicuslaan\
    \ 50\n   B-2018 Antwerpen\n   Belgium\n   Phone: +32 3 2408491\n   EMail: dimitri.papadimitriou@alcatel-lucent.be\n"
