- title: __initial_text__
  contents:
  - "       Operations, Administration, and Maintenance Framework for\n          \
    \           MPLS-Based Transport Networks\n"
- title: Abstract
  contents:
  - "Abstract\n   The Transport Profile of Multiprotocol Label Switching (MPLS-TP)\
    \ is a\n   packet-based transport technology based on the MPLS Traffic\n   Engineering\
    \ (MPLS-TE) and pseudowire (PW) data-plane architectures.\n   This document describes\
    \ a framework to support a comprehensive set of\n   Operations, Administration,\
    \ and Maintenance (OAM) procedures that\n   fulfill the MPLS-TP OAM requirements\
    \ for fault, performance, and\n   protection-switching management and that do\
    \ not rely on the presence\n   of a control plane.\n   This document is a product\
    \ of a joint Internet Engineering Task Force\n   (IETF) / International Telecommunications\
    \ Union Telecommunication\n   Standardization Sector (ITU-T) effort to include\
    \ an MPLS Transport\n   Profile within the IETF MPLS and Pseudowire Emulation\
    \ Edge-to-Edge\n   (PWE3) architectures to support the capabilities and functionalities\n\
    \   of a packet transport network as defined by the ITU-T.\n"
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This document is not an Internet Standards Track specification;\
    \ it is\n   published for informational purposes.\n   This document is a product\
    \ of the Internet Engineering Task Force\n   (IETF).  It represents the consensus\
    \ of the IETF community.  It has\n   received public review and has been approved\
    \ for publication by the\n   Internet Engineering Steering Group (IESG).  Not\
    \ all documents\n   approved by the IESG are a candidate for any level of Internet\n\
    \   Standard; see Section 2 of RFC 5741.\n   Information about the current status\
    \ of this document, any errata,\n   and how to provide feedback on it may be obtained\
    \ at\n   http://www.rfc-editor.org/info/rfc6371.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (c) 2011 IETF Trust and the persons identified\
    \ as the\n   document authors.  All rights reserved.\n   This document is subject\
    \ to BCP 78 and the IETF Trust's Legal\n   Provisions Relating to IETF Documents\n\
    \   (http://trustee.ietf.org/license-info) in effect on the date of\n   publication\
    \ of this document.  Please review these documents\n   carefully, as they describe\
    \ your rights and restrictions with respect\n   to this document.  Code Components\
    \ extracted from this document must\n   include Simplified BSD License text as\
    \ described in Section 4.e of\n   the Trust Legal Provisions and are provided\
    \ without warranty as\n   described in the Simplified BSD License.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1. Introduction ....................................................3\n\
    \   2. Conventions Used in This Document ...............................5\n  \
    \    2.1. Terminology ................................................5\n    \
    \  2.2. Definitions ................................................7\n   3. Functional\
    \ Components ..........................................10\n      3.1. Maintenance\
    \ Entity and Maintenance Entity Group ...........10\n      3.2. MEG Nesting: SPMEs\
    \ and Tandem Connection Monitoring .......13\n      3.3. MEG End Points (MEPs)\
    \ .....................................14\n      3.4. MEG Intermediate Points\
    \ (MIPs) ............................18\n      3.5. Server MEPs ...............................................20\n\
    \      3.6. Configuration Considerations ..............................21\n  \
    \    3.7. P2MP Considerations .......................................21\n    \
    \  3.8. Further Considerations of Enhanced Segment Monitoring .....22\n   4. Reference\
    \ Model ................................................23\n      4.1. MPLS-TP\
    \ Section Monitoring (SMEG) .........................26\n      4.2. MPLS-TP LSP\
    \ End-to-End Monitoring Group (LMEG) ............27\n      4.3. MPLS-TP PW Monitoring\
    \ (PMEG) ..............................27\n      4.4. MPLS-TP LSP SPME Monitoring\
    \ (LSMEG) .......................28\n      4.5. MPLS-TP MS-PW SPME Monitoring\
    \ (PSMEG) .....................30\n      4.6. Fate-Sharing Considerations for\
    \ Multilink .................31\n   5. OAM Functions for Proactive Monitoring\
    \ .........................32\n      5.1. Continuity Check and Connectivity Verification\
    \ ............33\n           5.1.1. Defects Identified by CC-V .........................35\n\
    \           5.1.2. Consequent Action ..................................37\n  \
    \         5.1.3. Configuration Considerations .......................38\n    \
    \  5.2. Remote Defect Indication ..................................40\n      \
    \     5.2.1. Configuration Considerations .......................40\n      5.3.\
    \ Alarm Reporting ...........................................41\n      5.4. Lock\
    \ Reporting ............................................42\n      5.5. Packet\
    \ Loss Measurement ...................................44\n           5.5.1. Configuration\
    \ Considerations .......................45\n           5.5.2. Sampling Skew ......................................45\n\
    \           5.5.3. Multilink Issues ...................................45\n  \
    \    5.6. Packet Delay Measurement ..................................46\n    \
    \       5.6.1. Configuration Considerations .......................46\n      5.7.\
    \ Client Failure Indication .................................47\n           5.7.1.\
    \ Configuration Considerations .......................47\n   6. OAM Functions\
    \ for On-Demand Monitoring .........................48\n      6.1. Connectivity\
    \ Verification .................................48\n           6.1.1. Configuration\
    \ Considerations .......................49\n      6.2. Packet Loss Measurement\
    \ ...................................50\n           6.2.1. Configuration Considerations\
    \ .......................50\n           6.2.2. Sampling Skew ......................................50\n\
    \           6.2.3. Multilink Issues ...................................50\n  \
    \    6.3. Diagnostic Tests ..........................................50\n    \
    \       6.3.1. Throughput Estimation ..............................51\n      \
    \     6.3.2. Data-Plane Loopback ................................52\n      6.4.\
    \ Route Tracing .............................................54\n           6.4.1.\
    \ Configuration Considerations .......................54\n      6.5. Packet Delay\
    \ Measurement ..................................54\n           6.5.1. Configuration\
    \ Considerations .......................55\n   7. OAM Functions for Administration\
    \ Control .......................55\n      7.1. Lock Instruct .............................................55\n\
    \           7.1.1. Locking a Transport Path ...........................56\n  \
    \         7.1.2. Unlocking a Transport Path .........................56\n   8.\
    \ Security Considerations ........................................57\n   9. Acknowledgments\
    \ ................................................58\n   10. References ....................................................58\n\
    \      10.1. Normative References .....................................58\n  \
    \    10.2. Informative References ...................................59\n   11.\
    \ Contributing Authors ..........................................60\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   As noted in the MPLS Transport Profile (MPLS-TP) framework\
    \ RFCs (RFC\n   5921 [8] and RFC 6215 [9]), MPLS-TP is a packet-based transport\n\
    \   technology based on the MPLS Traffic Engineering (MPLS-TE) and\n   pseudowire\
    \ (PW) data-plane architectures defined in RFC 3031 [1], RFC\n   3985 [2], and\
    \ RFC 5659 [4].\n   MPLS-TP utilizes a comprehensive set of Operations, Administration,\n\
    \   and Maintenance (OAM) procedures for fault, performance, and\n   protection-switching\
    \ management that do not rely on the presence of a\n   control plane.\n   In line\
    \ with [15], existing MPLS OAM mechanisms will be used wherever\n   possible,\
    \ and extensions or new OAM mechanisms will be defined only\n   where existing\
    \ mechanisms are not sufficient to meet the\n   requirements.  Some extensions\
    \ discussed in this framework may end up\n   as aspirational capabilities and\
    \ may be determined to be not\n   tractably realizable in some implementations.\
    \  Extensions do not\n   deprecate support for existing MPLS OAM capabilities.\n\
    \   The MPLS-TP OAM framework defined in this document provides a\n   protocol-neutral\
    \ description of the required OAM functions and of the\n   data-plane OAM architecture\
    \ to support a comprehensive set of OAM\n   procedures that satisfy the MPLS-TP\
    \ OAM requirements of RFC 5860\n   [11].  In this regard, it defines similar OAM\
    \ functionality as for\n   existing Synchronous Optical Network / Synchronous\
    \ Digital Hierarchy\n   (SONET/SDH) and Optical Transport Network (OTN) OAM mechanisms\
    \ (e.g.,\n   [19]).\n   The MPLS-TP OAM framework is applicable to Sections, Label\
    \ Switched\n   Paths (LSPs), Multi-Segment Pseudowires (MS-PWs), and Sub-Path\n\
    \   Maintenance Elements (SPMEs).  It supports co-routed and associated\n   bidirectional\
    \ P2P transport paths as well as unidirectional P2P and\n   P2MP transport paths.\n\
    \   OAM packets that instrument a particular direction of a transport\n   path\
    \ are subject to the same forwarding treatment (i.e., fate-share)\n   as the user\
    \ data packets and in some cases, where Explicitly TC-\n   encoded-PSC LSPs (E-LSPs)\
    \ are employed, may be required to have\n   common per-hop behavior (PHB) Scheduling\
    \ Class (PSC) End-to-End (E2E)\n   with the class of traffic monitored.  In case\
    \ of Label-Only-Inferred-\n   PSC LSP (L-LSP), only one class of traffic needs\
    \ to be monitored, and\n   therefore the OAM packets have common PSC with the\
    \ monitored traffic\n   class.\n   OAM packets can be distinguished from the used\
    \ data packets using the\n   Generic Associated Channel Label (GAL) and Associated\
    \ Channel Header\n   (ACH) constructs of RFC 5586 [7] for LSP, SPME, and Section,\
    \ or the\n   ACH construct of RFC 5085 [3] and RFC 5586 [7] for (MS-)PW.  OAM\n\
    \   packets are never fragmented and are not combined with user data in\n   the\
    \ same packet payload.\n   This framework makes certain assumptions as to the\
    \ utility and\n   frequency of different classes of measurement that naturally\
    \ suggest\n   different functions are implemented as distinct OAM flows or packets.\n\
    \   This is dictated by the combination of the class of problem being\n   detected\
    \ and the need for timeliness of network response to the\n   problem.  For example,\
    \ fault detection is expected to operate on an\n   entirely different time base\
    \ than performance monitoring, which is\n   also expected to operate on an entirely\
    \ different time base than in-\n   band management transactions.\n   The remainder\
    \ of this memo is structured as follows:\n   Section 2 covers the definitions\
    \ and terminology used in this memo.\n   Section 3 describes the functional component\
    \ that generates and\n   processes OAM packets.\n   Section 4 describes the reference\
    \ models for applying OAM functions\n   to Sections, LSP, MS-PW, and their SPMEs.\n\
    \   Sections 5, 6, and 7 provide a protocol-neutral description of the\n   OAM\
    \ functions, defined in RFC 5860 [11], aimed at clarifying how the\n   OAM protocol\
    \ solutions will behave to achieve their functional\n   objectives.\n   Section\
    \ 8 discusses the security implications of OAM protocol design\n   in the MPLS-TP\
    \ context.\n   The OAM protocol solutions designed as a consequence of this document\n\
    \   are expected to comply with the functional behavior described in\n   Sections\
    \ 5, 6, and 7.  Alternative solutions to required functional\n   behaviors may\
    \ also be defined.\n   OAM specifications following this OAM framework may be\
    \ provided in\n   different documents to cover distinct OAM functions.\n   This\
    \ document is a product of a joint Internet Engineering Task Force\n   (IETF)\
    \ / International Telecommunication Union Telecommunication\n   Standardization\
    \ Sector (ITU-T) effort to include an MPLS Transport\n   Profile within the IETF\
    \ MPLS and PWE3 architectures to support the\n   capabilities and functionalities\
    \ of a packet transport network as\n   defined by the ITU-T.\n"
- title: 2.  Conventions Used in This Document
  contents:
  - '2.  Conventions Used in This Document

    '
- title: 2.1.  Terminology
  contents:
  - "2.1.  Terminology\n   AC     Attachment Circuit\n   AIS    Alarm Indication Signal\n\
    \   CC     Continuity Check\n   CC-V   Continuity Check and Connectivity Verification\n\
    \   CV     Connectivity Verification\n   DBN    Domain Border Node\n   E-LSP \
    \ Explicitly TC-encoded-PSC LSP\n   ICC    ITU Carrier Code\n   LER    Label Edge\
    \ Router\n   LKR    Lock Report\n   L-LSP  Label-Only-Inferred-PSC LSP\n   LM\
    \     Loss Measurement\n   LME    LSP Maintenance Entity\n   LMEG   LSP ME Group\n\
    \   LSP    Label Switched Path\n   LSR    Label Switching Router\n   LSME   LSP\
    \ SPME ME\n   LSMEG  LSP SPME ME Group\n   ME     Maintenance Entity\n   MEG \
    \   Maintenance Entity Group\n   MEP    Maintenance Entity Group End Point\n \
    \  MIP    Maintenance Entity Group Intermediate Point\n   NMS    Network Management\
    \ System\n   PE     Provider Edge\n   PHB    Per-Hop Behavior\n   PM     Performance\
    \ Monitoring\n   PME    PW Maintenance Entity\n   PMEG   PW ME Group\n   PSC \
    \   PHB Scheduling Class\n   PSME   PW SPME ME\n   PSMEG  PW SPME ME Group\n \
    \  PW     Pseudowire\n   SLA    Service Level Agreement\n   SME    Section Maintenance\
    \ Entity\n   SMEG   Section ME Group\n   SPME   Sub-Path Maintenance Element\n\
    \   S-PE   Switching Provider Edge\n   TC     Traffic Class\n   T-PE   Terminating\
    \ Provider Edge\n"
- title: 2.2.  Definitions
  contents:
  - "2.2.  Definitions\n   This document uses the terms defined in RFC 5654 [5].\n\
    \   This document uses the term 'per-hop behavior' as defined in RFC 2474\n  \
    \ [16].\n   This document uses the term 'LSP' to indicate either a service LSP\
    \ or\n   a transport LSP (as defined in RFC 5921 [8]).\n   This document uses\
    \ the term 'Section' exclusively to refer to the n=0\n   case of the term 'Section'\
    \ defined in RFC 5960 [10].\n   This document uses the term 'Sub-Path Maintenance\
    \ Element (SPME)' as\n   defined in RFC 5921 [8].\n   This document uses the term\
    \ 'traffic profile' as defined in RFC 2475\n   [13].\n   Where appropriate, the\
    \ following definitions are aligned with ITU-T\n   recommendation Y.1731 [21]\
    \ in order to have a common, unambiguous\n   terminology.  They do not however\
    \ intend to imply a certain\n   implementation but rather serve as a framework\
    \ to describe the\n   necessary OAM functions for MPLS-TP.\n   Adaptation function:\
    \ The adaptation function is the interface between\n   the client (sub-)layer\
    \ and the server (sub-)layer.\n   Branch Node: A node along a point-to-multipoint\
    \ transport path that\n   is connected to more than one downstream node.\n   Bud\
    \ Node: A node along a point-to-multipoint transport path that is\n   at the same\
    \ time a branch node and a leaf node for this transport\n   path.\n   Data-plane\
    \ loopback: An out-of-service test where a transport path at\n   either an intermediate\
    \ or terminating node is placed into a data-\n   plane loopback state, such that\
    \ all traffic (including both payload\n   and OAM) received on the looped back\
    \ interface is sent on the reverse\n   direction of the transport path.\n    \
    \  Note: The only way to send an OAM packet to a node that has been\n      put\
    \ into data-plane loopback mode is via Time to Live (TTL)\n      expiry, irrespective\
    \ of whether the node is hosting MIPs or MEPs.\n   Domain Border Node (DBN): An\
    \ intermediate node in an MPLS-TP LSP that\n   is at the boundary between two\
    \ MPLS-TP OAM domains.  Such a node may\n   be present on the edge of two domains\
    \ or may be connected by a link\n   to the DBN at the edge of another OAM domain.\n\
    \   Down MEP: A MEP that receives OAM packets from, and transmits them\n   towards,\
    \ the direction of a server layer.\n   Forwarding Engine: An abstract functional\
    \ component, residing in an\n   LSR, that forwards the packets from an ingress\
    \ interface toward the\n   egress interface(s).\n   In-Service: The administrative\
    \ status of a transport path when it is\n   unlocked.\n   Interface: An interface\
    \ is the attachment point to a server\n   (sub-)layer, e.g., a MPLS-TP Section\
    \ or MPLS-TP tunnel.\n   Intermediate Node: An intermediate node transits traffic\
    \ for an LSP\n   or a PW.  An intermediate node may originate OAM flows directed\
    \ to\n   downstream intermediate nodes or MEPs.\n   Loopback: See data-plane loopback\
    \ and OAM loopback definitions.\n   Maintenance Entity (ME): Some portion of a\
    \ transport path that\n   requires management bounded by two points (called MEPs),\
    \ and the\n   relationship between those points to which maintenance and monitoring\n\
    \   operations apply (details in Section 3.1).\n   Maintenance Entity Group (MEG):\
    \ The set of one or more maintenance\n   entities that maintain and monitor a\
    \ section or a transport path in\n   an OAM domain.\n   MEP: A MEG End Point (MEP)\
    \ is capable of initiating (source MEP) and\n   terminating (sink MEP) OAM packets\
    \ for fault management and\n   performance monitoring.  MEPs define the boundaries\
    \ of an ME (details\n   in Section 3.3).\n   MIP: A MEG intermediate point (MIP)\
    \ terminates and processes OAM\n   packets that are sent to this particular MIP\
    \ and may generate OAM\n   packets in reaction to received OAM packets.  It never\
    \ generates\n   unsolicited OAM packets itself.  A MIP resides within a MEG between\n\
    \   MEPs (details in Section 3.3).\n   OAM domain: A domain, as defined in [5],\
    \ whose entities are grouped\n   for the purpose of keeping the OAM confined within\
    \ that domain.  An\n   OAM domain contains zero or more MEGs.\n      Note: Within\
    \ the rest of this document, the term \"domain\" is used\n      to indicate an\
    \ \"OAM domain\".\n   OAM flow: The set of all OAM packets originating with a\
    \ specific\n   source MEP that instrument one direction of a MEG (or possibly\
    \ both\n   in the special case of data-plane loopback).\n   OAM loopback: The\
    \ capability of a node to be directed by a received\n   OAM packet to generate\
    \ a reply back to the sender.  OAM loopback can\n   work in-service and can support\
    \ different OAM functions (e.g.,\n   bidirectional on-demand connectivity verification).\n\
    \   OAM Packet: A packet that carries OAM information between MEPs and/or\n  \
    \ MIPs in a MEG to perform some OAM functionality (e.g., connectivity\n   verification).\n\
    \   Originating MEP: A MEP that originates an OAM transaction packet\n   (toward\
    \ a target MIP/MEP) and expects a reply, either in-band or out-\n   of-band, from\
    \ that target MIP/MEP.  The originating MEP always\n   generates the OAM request\
    \ packets in-band and expects and processes\n   only OAM reply packets returned\
    \ by the target MIP/MEP.\n   Out-of-Service: The administrative status of a transport\
    \ path when it\n   is locked.  When a path is in a locked condition, it is blocked\
    \ from\n   carrying client traffic.\n   Path Segment: It is either a segment or\
    \ a concatenated segment, as\n   defined in RFC 5654 [5].\n   Signal Degrade:\
    \ A condition declared by a MEP when the data\n   forwarding capability associated\
    \ with a transport path has\n   deteriorated, as determined by performance monitoring\
    \ (PM).  See also\n   ITU-T recommendation G.806 [14].\n   Signal Fail: A condition\
    \ declared by a MEP when the data forwarding\n   capability associated with a\
    \ transport path has failed, e.g., loss of\n   continuity.  See also ITU-T recommendation\
    \ G.806 [14].\n   Sink MEP: A MEP acts as a sink MEP for an OAM packet when it\n\
    \   terminates and processes the packets received from its associated\n   MEG.\n\
    \   Source MEP: A MEP acts as source MEP for an OAM packet when it\n   originates\
    \ and inserts the packet into the transport path for its\n   associated MEG.\n\
    \   Tandem Connection: A tandem connection is an arbitrary part of a\n   transport\
    \ path that can be monitored (via OAM) independent of the\n   end-to-end monitoring\
    \ (OAM).  The tandem connection may also include\n   the forwarding engine(s)\
    \ of the node(s) at the boundaries of the\n   tandem connection.  Tandem connections\
    \ may be nested but cannot\n   overlap.  See also ITU-T recommendation G.805 [20].\n\
    \   Target MEP/MIP: A MEP or a MIP that is targeted by OAM transaction\n   packets\
    \ and that replies to the originating MEP that initiated the\n   OAM transactions.\
    \  The target MEP or MIP can reply either in-band or\n   out-of-band.  The target\
    \ sink MEP function always receives the OAM\n   request packets in-band, while\
    \ the target source MEP function only\n   generates the OAM reply packets that\
    \ are sent in-band.\n   Up MEP: A MEP that transmits OAM packets towards, and\
    \ receives them\n   from, the direction of the forwarding engine.\n"
- title: 3.  Functional Components
  contents:
  - "3.  Functional Components\n   MPLS-TP is a packet-based transport technology\
    \ based on the MPLS and\n   PW data plane architectures ([1], [2], and [4]) and\
    \ is capable of\n   transporting service traffic where the characteristics of\
    \ information\n   transfer between the transport path end points can be demonstrated\
    \ to\n   comply with certain performance and quality guarantees.\n   In order\
    \ to describe the required OAM functionality, this document\n   introduces a set\
    \ of functional components.\n"
- title: 3.1.  Maintenance Entity and Maintenance Entity Group
  contents:
  - "3.1.  Maintenance Entity and Maintenance Entity Group\n   MPLS-TP OAM operates\
    \ in the context of Maintenance Entities (MEs)\n   that define a relationship\
    \ between two points of a transport path to\n   which maintenance and monitoring\
    \ operations apply.  The two points\n   that define a maintenance entity are called\
    \ Maintenance Entity Group\n   End Points (MEPs).  The collection of one or more\
    \ MEs that belongs to\n   the same transport path and that are maintained and\
    \ monitored as a\n   group are known as a Maintenance Entity Group (MEG).  In\
    \ between\n   MEPs, there are zero or more intermediate points, called Maintenance\n\
    \   Entity Group Intermediate Points (MIPs).  MEPs and MIPs are\n   associated\
    \ with the MEG and can be shared by more than one ME in a\n   MEG.\n   An abstract\
    \ reference model for an ME is illustrated in Figure 1\n   below.\n          \
    \               +-+    +-+    +-+    +-+\n                         |A|----|B|----|C|----|D|\n\
    \                         +-+    +-+    +-+    +-+\n                   Figure\
    \ 1: ME Abstract Reference Model\n   The instantiation of this abstract model\
    \ to different MPLS-TP\n   entities is described in Section 4.  In Figure 1, nodes\
    \ A and D can\n   be Label Edge Routers (LERs) for an LSP or the Terminating Provider\n\
    \   Edges (T-PEs) for an MS-PW, nodes B and C are LSRs for an LSP or\n   Switching\
    \ PEs (S-PEs) for an MS-PW.  MEPs reside in nodes A and D,\n   while MIPs reside\
    \ in nodes B and C and may reside in A and D.  The\n   links connecting adjacent\
    \ nodes can be physical links, (sub-)layer\n   LSPs/SPMEs, or server-layer paths.\n\
    \   This functional model defines the relationships between all OAM\n   entities\
    \ from a maintenance perspective and it allows each\n   Maintenance Entity to\
    \ provide monitoring and management for the\n   (sub-)layer network under its\
    \ responsibility and efficient\n   localization of problems.\n   An MPLS-TP Maintenance\
    \ Entity Group may be defined to monitor the\n   transport path for fault and/or\
    \ performance management.\n   The MEPs that form a MEG bound the scope of an OAM\
    \ flow to the MEG\n   (i.e., within the domain of the transport path that is being\n\
    \   monitored and managed).  There are two exceptions to this:\n   1) A misbranching\
    \ fault may cause OAM packets to be delivered to a\n      MEP that is not in the\
    \ MEG of origin.\n   2) An out-of-band return path may be used between a MIP or\
    \ a MEP and\n      the originating MEP.\n   In case of a unidirectional point-to-point\
    \ transport path, a single\n   unidirectional Maintenance Entity is defined to\
    \ monitor it.\n   In case of associated bidirectional point-to-point transport\
    \ paths,\n   two independent unidirectional Maintenance Entities are defined to\n\
    \   independently monitor each direction.  This has implications for\n   transactions\
    \ that terminate at or query a MIP, as a return path from\n   MIP to the originating\
    \ MEP does not necessarily exist in the MEG.\n   In case of co-routed bidirectional\
    \ point-to-point transport paths, a\n   single bidirectional Maintenance Entity\
    \ is defined to monitor both\n   directions congruently.\n   In case of unidirectional\
    \ point-to-multipoint transport paths, a\n   single unidirectional Maintenance\
    \ Entity for each leaf is defined to\n   monitor the transport path from the root\
    \ to that leaf.\n   In all cases, portions of the transport path may be monitored\
    \ by the\n   instantiation of SPMEs (see Section 3.2).\n   The reference model\
    \ for the P2MP MEG is represented in Figure 2.\n                             \
    \                +-+\n                                          /--|D|\n     \
    \                                    /   +-+\n                               \
    \       +-+\n                                   /--|C|\n                     \
    \   +-+    +-+/   +-+\\   +-+\n                        |A|----|B|        \\--|E|\n\
    \                        +-+    +-+\\   +-+    +-+\n                         \
    \          \\--|F|\n                                      +-+\n              \
    \   Figure 2: Reference Model for P2MP MEG\n   In the case of P2MP transport paths,\
    \ the OAM measurements are\n   independent for each ME (A-D, A-E, and A-F):\n\
    \   o  Fault conditions - some faults may impact more than one ME\n      depending\
    \ on where the failure is located;\n   o  Packet loss - packet dropping may impact\
    \ more than one ME\n      depending from where the packets are lost;\n   o  Packet\
    \ delay - will be unique per ME.\n   Each leaf (i.e., D, E, and F) terminates\
    \ OAM flows to monitor the ME\n   between itself and the root while the root (i.e.,\
    \ A) generates OAM\n   packets common to all the MEs of the P2MP MEG.  All nodes\
    \ may\n   implement a MIP in the corresponding MEG.\n"
- title: '3.2.  MEG Nesting: SPMEs and Tandem Connection Monitoring'
  contents:
  - "3.2.  MEG Nesting: SPMEs and Tandem Connection Monitoring\n   In order to verify\
    \ and maintain performance and quality guarantees,\n   there is a need to apply\
    \ OAM functionality not only on a transport\n   path granularity (e.g., LSP or\
    \ MS-PW), but also on arbitrary parts of\n   transport paths, defined as tandem\
    \ connections, between any two\n   arbitrary points along a transport path.\n\
    \   Sub-Path Maintenance Elements (SPMEs), as defined in [8], are\n   hierarchical\
    \ LSPs instantiated to provide monitoring of a portion of\n   a set of transport\
    \ paths (LSPs or MS-PWs) that follow the same path\n   between the ingress and\
    \ the egress of the SPME.  The operational\n   aspects of instantiating SPMEs\
    \ are out of scope of this memo.\n   SPMEs can also be employed to meet the requirement\
    \ to provide tandem\n   connection monitoring (TCM), as defined by ITU-T Recommendation\
    \ G.805\n   [20].\n   TCM for a given path segment of a transport path is implemented\
    \ by\n   creating an SPME that has a 1:1 association with the path segment of\n\
    \   the transport path that is to be monitored.\n   In the TCM case, this means\
    \ that the SPME used to provide TCM can\n   carry one and only one transport path,\
    \ thus allowing direct\n   correlation between all fault management and performance\
    \ monitoring\n   information gathered for the SPME and the monitored path segment\
    \ of\n   the end-to-end transport path.\n   There are a number of implications\
    \ to this approach:\n   1) The SPME would use the uniform model [23] of Traffic\
    \ Class (TC)\n      code point copying between sub-layers for Diffserv such that\
    \ the\n      E2E markings and PHB treatment for the transport path were\n    \
    \  preserved by the SPMEs.\n   2) The SPME normally would use the short-pipe model\
    \ for TTL handling\n      [6] (no TTL copying between sub-layers) such that the\
    \ TTL distance\n      to the MIPs for the E2E entity would not be impacted by\
    \ the\n      presence of the SPME, but it should be possible for an operator to\n\
    \      specify use of the uniform model.\n   Note that points 1 and 2 above assume\
    \ that the TTL copying mode and\n   TC copying modes are independently configurable\
    \ for an LSP.\n   The TTL distance to the MIPs plays a critical role for delivering\n\
    \   packets to these MIPs as described in Section 3.4.\n   There are specific\
    \ issues with the use of the uniform model of TTL\n   copying for an SPME:\n \
    \  1. A MIP in the SPME sub-layer is not part of the transport-path MEG;\n   \
    \   hence, only an out-of-band return path for OAM originating in the\n      transport-path\
    \ MEG that addressed an SPME MIP might be available.\n   2. The instantiation\
    \ of a lower-level MEG or protection-switching\n      actions within a lower-level\
    \ MEG may change the TTL distances to\n      MIPs in the higher-level MEGs.\n\
    \   The end points of the SPME are MEPs and limit the scope of an OAM\n   flow\
    \ within the MEG that the MEPs belong to (i.e., within the domain\n   of the SPME\
    \ that is being monitored and managed).\n   When considering SPMEs, it is important\
    \ to consider that the\n   following properties apply to all MPLS-TP MEGs (regardless\
    \ of whether\n   they instrument LSPs, SPMEs, or MS-PWs):\n   o  They can be nested\
    \ but not overlapped, e.g., a MEG may cover a\n      path segment of another MEG\
    \ and may also include the forwarding\n      engine(s) of the node(s) at the edge(s)\
    \ of the path segment.\n      However, when MEGs are nested, the MEPs and MIPs\
    \ in the SPME are\n      no longer part of the encompassing MEG.\n   o  It is\
    \ possible that MEPs of MEGs that are nested reside on a\n      single node but\
    \ again are implemented in such a way that they do\n      not overlap.\n   o \
    \ Each OAM flow is associated with a single MEG.\n   o  When an SPME is instantiated\
    \ after the transport path has been\n      instantiated, the TTL distance to the\
    \ MIPs may change for the\n      short-pipe model of TTL copying, and may change\
    \ for the uniform\n      model if the SPME is not co-routed with the original\
    \ path.\n"
- title: 3.3.  MEG End Points (MEPs)
  contents:
  - "3.3.  MEG End Points (MEPs)\n   MEG End Points (MEPs) are the source and sink\
    \ points of a MEG.  In\n   the context of an MPLS-TP LSP, only LERs can implement\
    \ MEPs, while in\n   the context of an SPME, any LSR of the MPLS-TP LSP can be\
    \ an LER of\n   SPMEs that contributes to the overall monitoring infrastructure\
    \ of\n   the transport path.  Regarding PWs, only T-PEs can implement MEPs;\n\
    \   while for SPMEs supporting one or more PWs, both T-PEs and S-PEs can\n   implement\
    \ SPME MEPs.  Any MPLS-TP LSR can implement a MEP for an\n   MPLS-TP Section.\n\
    \   MEPs are responsible for originating almost all of the proactive and\n   on-demand\
    \ monitoring OAM functionality for the MEG.  There is a\n   separate class of\
    \ notifications (such as Lock Report (LKR) and Alarm\n   Indication Signal (AIS))\
    \ that are originated by intermediate nodes\n   and triggered by server-layer\
    \ events.  A MEP is capable of\n   originating and terminating OAM packets for\
    \ fault management and\n   performance monitoring.  These OAM packets are carried\
    \ within the\n   Generic Associated Channel (G-ACh) with the proper encapsulation\
    \ and\n   an appropriate channel type as defined in RFC 5586 [7].  A MEP\n   terminates\
    \ all the OAM packets it receives from the MEG it belongs to\n   and silently\
    \ discards those that do not.  (Note that in the\n   particular case of Connectivity\
    \ Verification (CV) processing, a CV\n   packet from an incorrect MEG will result\
    \ in a mis-connectivity defect\n   and there are further actions taken.)  The\
    \ MEG the OAM packet belongs\n   to is associated with the MPLS or PW label, whether\
    \ the label is used\n   to infer the MEG or the content of the OAM packet is an\n\
    \   implementation choice.  In the case of an MPLS-TP Section, the MEG is\n  \
    \ inferred from the port on which an OAM packet was received with the\n   GAL\
    \ at the top of the label stack.\n   OAM packets may require the use of an available\
    \ \"out-of-band\" return\n   path (as defined in [8]).  In such cases, sufficient\
    \ information is\n   required in the originating transaction such that the OAM\
    \ reply\n   packet can be constructed and properly forwarded to the originating\n\
    \   MEP (e.g., IP address).\n   Each OAM solution document will further detail\
    \ the applicability of\n   the tools it defines as a proactive or on-demand mechanism\
    \ as well as\n   its usage when:\n   o  The \"in-band\" return path exists and\
    \ it is used.\n   o  An \"out-of-band\" return path exists and it is used.\n \
    \  o  Any return path does not exist or is not used.\n   Once a MEG is configured,\
    \ the operator can configure which proactive\n   OAM functions to use on the MEG,\
    \ but the MEPs are always enabled.\n   MEPs terminate all OAM packets received\
    \ from the associated MEG.  As\n   the MEP corresponds to the termination of the\
    \ forwarding path for a\n   MEG at the given (sub-)layer, OAM packets never leak\
    \ outside of a MEG\n   in a properly configured fault-free implementation.\n \
    \  A MEP of an MPLS-TP transport path coincides with transport path\n   termination\
    \ and monitors it for failures or performance degradation\n   (e.g., based on\
    \ packet counts) in an end-to-end scope.  Note that\n   both the source MEP and\
    \ sink MEP coincide with transport paths'\n   source and sink terminations.\n\
    \   The MEPs of an SPME are not necessarily coincident with the\n   termination\
    \ of the MPLS-TP transport path.  They are used to monitor\n   a path segment\
    \ of the transport path for failures or performance\n   degradation (e.g., based\
    \ on packet counts) only within the boundary\n   of the MEG for the SPME.\n  \
    \ An MPLS-TP sink MEP passes a fault indication to its client\n   (sub-)layer\
    \ network as a consequent action of fault detection.  When\n   the client layer\
    \ is not MPLS-TP, the consequent actions in the client\n   layer (e.g., ignore\
    \ or generate client-layer-specific OAM\n   notifications) are outside the scope\
    \ of this document.\n   A node hosting a MEP can either support per-node MEP or\
    \ per-interface\n   MEP(s).  A per-node MEP resides in an unspecified location\
    \ within the\n   node, while a per-interface MEP resides on a specific side of\
    \ the\n   forwarding engine.  In particular, a per-interface MEP is called an\n\
    \   \"Up MEP\" or a \"Down MEP\" depending on its location relative to the\n \
    \  forwarding engine.  An \"Up MEP\" transmits OAM packets towards, and\n   receives\
    \ them from, the direction of the forwarding engine, while a\n   \"Down MEP\"\
    \ receives OAM packets from, and transmits them towards, the\n   direction of\
    \ a server layer.\n         Source node Up MEP             Destination node Up\
    \ MEP\n       ------------------------         ------------------------\n    \
    \  |                        |       |                        |\n      |----- \
    \             -----|       |-----              -----|\n      | MEP |         \
    \   |     |       |     |            | MEP |\n      |     |    ----    |     |\
    \       |     |    ----    |     |\n      | In  |->-| FW |->-| Out |->- ->-| In\
    \  |->-| FW |->-| Out |\n      | i/f |    ----    | i/f |       | i/f |    ----\
    \    | i/f |\n      |-----              -----|       |-----              -----|\n\
    \      |                        |       |                        |\n       ------------------------\
    \         ------------------------\n                  (1)                    \
    \           (2)\n         Source node Down MEP           Destination node Down\
    \ MEP\n       ------------------------         ------------------------\n    \
    \  |                        |       |                        |\n      |----- \
    \             -----|       |-----              -----|\n      |     |         \
    \   | MEP |       | MEP |            |     |\n      |     |    ----    |     |\
    \       |     |    ----    |     |\n      | In  |->-| FW |->-| Out |->- ->-| In\
    \  |->-| FW |->-| Out |\n      | i/f |    ----    | i/f |       | i/f |    ----\
    \    | i/f |\n      |-----              -----|       |-----              -----|\n\
    \      |                        |       |                        |\n       ------------------------\
    \         ------------------------\n                  (3)                    \
    \           (4)\n                Figure 3: Examples of Per-Interface MEPs\n  \
    \ Figure 3 describes four examples of per-interface Up MEPs: an Up\n   Source\
    \ MEP in a source node (case 1), an Up Sink MEP in a destination\n   node (case\
    \ 2), a Down Source MEP in a source node (case 3), and a\n   Down Sink MEP in\
    \ a destination node (case 4).\n   The usage of per-interface Up MEPs extends\
    \ the coverage of the ME for\n   both fault and performance monitoring closer\
    \ to the edge of the\n   domain and determines that the location of a failure\
    \ or performance\n   degradation is within a node or on a link between two adjacent\
    \ nodes.\n   Each OAM solution document will further detail the implications of\n\
    \   the tools it defines when used with per-interface or per-node MEPs,\n   if\
    \ necessary.\n   It may occur that multiple MEPs for the same MEG are on the same\n\
    \   node, and are all Up MEPs, each on one side of the forwarding engine,\n  \
    \ such that the MEG is entirely internal to the node.\n   It should be noted that\
    \ an ME may span nodes that implement per-node\n   MEPs and per-interface MEPs.\
    \  This guarantees backward compatibility\n   with most of the existing LSRs that\
    \ can implement only a per-node\n   MEP.  In fact, in many current implementations,\
    \ label operations are\n   largely performed on the ingress interface; hence,\
    \ the exposure of\n   the GAL as top label will occur at the ingress interface.\n\
    \   Note that a MEP can only exist at the beginning and end of a\n   (sub-)layer\
    \ in MPLS-TP.  If there is a need to monitor some portion\n   of that LSP or PW,\
    \ a new sub-layer (in the form of an SPME) must be\n   created that permits MEPs\
    \ and associated MEGs to be created.\n   In the case where an intermediate node\
    \ sends an OAM packet to a MEP,\n   it uses the top label of the stack at that\
    \ point.\n"
- title: 3.4.  MEG Intermediate Points (MIPs)
  contents:
  - "3.4.  MEG Intermediate Points (MIPs)\n   A MEG Intermediate Point (MIP) is a\
    \ function located at a point\n   between the MEPs of a MEG for a PW, LSP, or\
    \ SPME.\n   A MIP is capable of reacting to some OAM packets and forwarding all\n\
    \   the other OAM packets while ensuring fate-sharing with user data\n   packets.\
    \  However, a MIP does not initiate unsolicited OAM packets,\n   but may be addressed\
    \ by OAM packets initiated by one of the MEPs of\n   the MEG.  A MIP can generate\
    \ OAM packets only in response to OAM\n   packets that it receives from the MEG\
    \ it belongs to.  The OAM packets\n   generated by the MIP are sent to the originating\
    \ MEP.\n   An intermediate node within a MEG can either:\n   o  support per-node\
    \ MIPs (i.e., a single MIP per node in an\n      unspecified location within the\
    \ node); or\n   o  support per-interface MIPs (i.e., two or more MIPs per node\
    \ on\n      both sides of the forwarding engine).\n   Support of per-interface\
    \ or per-node MIPs is an implementation\n   choice.  It is also possible that\
    \ a node could support per-interface\n   MIPs on some MEGs and per-node MIPs on\
    \ other MEGs for which it is a\n   transit node.\n                           \
    \ Intermediate node\n                        ------------------------\n      \
    \                 |                        |\n                       |-----  \
    \            -----|\n                       | MIP |            | MIP |\n     \
    \                  |     |    ----    |     |\n                    ->-| In  |->-|\
    \ FW |->-| Out |->-\n                       | i/f |    ----    | i/f |\n     \
    \                  |-----              -----|\n                       |      \
    \                  |\n                        ------------------------\n     \
    \           Figure 4: Example of Per-Interface MIPs\n   Figure 4 describes an\
    \ example of two per-interface MIPs at an\n   intermediate node of a point-to-point\
    \ MEG.\n   Using per-interface MIPs allows the network operator to determine\n\
    \   that the location of a failure or performance degradation is within a\n  \
    \ node or on a link between two adjacent nodes.\n   When sending an OAM packet\
    \ to a MIP, the source MEP should set the\n   TTL field to indicate the number\
    \ of hops necessary to reach the node\n   where the MIP resides.\n   The source\
    \ MEP should also include target MIP information in the OAM\n   packets sent to\
    \ a MIP to allow proper identification of the MIP\n   within the node.  The MEG\
    \ the OAM packet belongs to is associated\n   with the MPLS label, whether the\
    \ label is used to infer the MEG or\n   the content of the OAM packet is an implementation\
    \ choice.  In the\n   latter case, the MPLS label is checked to be the expected\
    \ one.\n   The use of TTL expiry to deliver OAM packets to a specific MIP is not\n\
    \   a fully reliable delivery mechanism because the TTL distance of a MIP\n  \
    \ from a MEP can change.  Any MPLS-TP node silently discards any OAM\n   packet\
    \ that is received with an expired TTL and that is not addressed\n   to any of\
    \ its MIPs or MEPs.  An MPLS-TP node that does not support\n   OAM is also expected\
    \ to silently discard any received OAM packet.\n   Packets directed to a MIP may\
    \ not necessarily carry specific MIP\n   identification information beyond that\
    \ of TTL distance.  In this\n   case, a MIP would promiscuously respond to all\
    \ MEP queries on its\n   MEG.  This capability could be used for discovery functions\
    \ (e.g.,\n   route tracing as defined in Section 6.4) or when it is desirable\
    \ to\n   leave to the originating MEP the job of correlating TTL and MIP\n   identifiers\
    \ and noting changes or irregularities (via comparison with\n   information previously\
    \ extracted from the network).\n   MIPs are associated to the MEG they belong\
    \ to, and their identity is\n   unique within the MEG.  However, their identity\
    \ is not necessarily\n   unique to the MEG, e.g., all nodal MIPs in a node can\
    \ have a common\n   identity.\n   A node hosting a MEP can also support per-interface\
    \ Up MEPs and per-\n   interface MIPs on either side of the forwarding engine.\n\
    \   Once a MEG is configured, the operator can enable/disable the MIPs on\n  \
    \ the nodes within the MEG.  All the intermediate nodes and possibly\n   the end\
    \ nodes host MIP(s).  Local policy allows them to be enabled\n   per function\
    \ and per MEG.  The local policy is controlled by the\n   management system, which\
    \ may delegate it to the control plane.  A\n   disabled MIP silently discards\
    \ any received OAM packets.\n"
- title: 3.5.  Server MEPs
  contents:
  - "3.5.  Server MEPs\n   A server MEP is a MEP of a MEG that is either:\n   o  defined\
    \ in a layer network that is \"below\", which is to say\n      encapsulates and\
    \ transports the MPLS-TP layer network being\n      referenced; or\n   o  defined\
    \ in a sub-layer of the MPLS-TP layer network that is\n      \"below\", which\
    \ is to say encapsulates and transports the sub-layer\n      being referenced.\n\
    \   A server MEP can coincide with a MIP or a MEP in the client (MPLS-TP)\n  \
    \ (sub-)layer network.\n   A server MEP also provides server-layer OAM indications\
    \ to the\n   client/server adaptation function between the client (MPLS-TP)\n\
    \   (sub-)layer network and the server (sub-)layer network.  The\n   adaptation\
    \ function maintains state on the mapping of MPLS-TP\n   transport paths that\
    \ are set up over that server (sub-)layer's\n   transport path.\n   For example,\
    \ a server MEP can be:\n   o  a non-MPLS MEP at a termination point of a physical\
    \ link (e.g.,\n      802.3, an SDH Virtual Circuit, or OTN Optical Data Unit (ODU)),\n\
    \      for the MPLS-TP Section layer network, defined in Section 4.1;\n   o  an\
    \ MPLS-TP Section MEP for MPLS-TP LSPs, defined in Section 4.2;\n   o  an MPLS-TP\
    \ LSP MEP for MPLS-TP PWs, defined in Section 4.3;\n   o  an MPLS-TP SPME MEP\
    \ used for LSP path segment monitoring, as\n      defined in Section 4.4, for\
    \ MPLS-TP LSPs or higher-level SPMEs\n      providing LSP path segment monitoring;\
    \ or\n   o  an MPLS-TP SPME MEP used for PW path segment monitoring, as\n    \
    \  defined in Section 4.5, for MPLS-TP PWs or higher-level SPMEs\n      providing\
    \ PW path segment monitoring.\n   The server MEP can run appropriate OAM functions\
    \ for fault detection\n   within the server (sub-)layer network and provides a\
    \ fault indication\n   to its client MPLS-TP layer network via the client/server\
    \ adaptation\n   function.  When the server layer is not MPLS-TP, server MEP OAM\n\
    \   functions are simply assumed to exist but are outside the scope of\n   this\
    \ document.\n"
- title: 3.6.  Configuration Considerations
  contents:
  - "3.6.  Configuration Considerations\n   When a control plane is not present, the\
    \ management plane configures\n   these functional components.  Otherwise, they\
    \ can be configured by\n   either the management plane or the control plane.\n\
    \   Local policy allows disabling the usage of any available \"out-of-\n   band\"\
    \ return path, as defined in [8], irrespective of what is\n   requested by the\
    \ node originating the OAM packet.\n   SPMEs are usually instantiated when the\
    \ transport path is created by\n   either the management plane or the control\
    \ plane (if present).\n   Sometimes an SPME can be instantiated after the transport\
    \ path is\n   initially created.\n"
- title: 3.7.  P2MP Considerations
  contents:
  - "3.7.  P2MP Considerations\n   All the traffic sent over a P2MP transport path,\
    \ including OAM\n   packets generated by a MEP, is sent (multicast) from the root\
    \ to all\n   the leaves.  As a consequence:\n   o  To send an OAM packet to all\
    \ leaves, the source MEP can send a\n      single OAM packet that will be delivered\
    \ by the forwarding plane\n      to all the leaves and processed by all the leaves.\
    \  Hence, a\n      single OAM packet can simultaneously instrument all the MEs\
    \ in a\n      P2MP MEG.\n   o  To send an OAM packet to a single leaf, the source\
    \ MEP sends a\n      single OAM packet that will be delivered by the forwarding\
    \ plane\n      to all the leaves but contains sufficient information to identify\n\
    \      a target leaf, and therefore is processed only by the target leaf\n   \
    \   and can be silently discarded by the other leaves.\n   o  To send an OAM packet\
    \ to a single MIP, the source MEP sends a\n      single OAM packet with the TTL\
    \ field indicating the number of hops\n      necessary to reach the node where\
    \ the MIP resides.  This packet\n      will be delivered by the forwarding plane\
    \ to all intermediate\n      nodes at the same TTL distance of the target MIP\
    \ and to any leaf\n      that is located at a shorter distance.  The OAM packet\
    \ must\n      contain sufficient information to identify the target MIP and\n\
    \      therefore is processed only by the target MIP and can be silently\n   \
    \   discarded by the others.\n   o  In order to send an OAM packet to M leaves\
    \ (i.e., a subset of all\n      the leaves), the source MEP sends M different\
    \ OAM packets targeted\n      to each individual leaf in the group of M leaves.\
    \  Aggregating or\n      subsetting mechanisms are outside the scope of this document.\n\
    \   A bud node with a Down MEP or a per-node MEP will both terminate and\n   relay\
    \ OAM packets.  Similar to how fault coverage is maximized by the\n   explicit\
    \ utilization of Up MEPs, the same is true for MEPs on a bud\n   node.\n   P2MP\
    \ paths are unidirectional; therefore, any return path to an\n   originating MEP\
    \ for on-demand transactions will be out-of-band.  A\n   mechanism to target \"\
    on-demand\" transactions to a single MEP or MIP\n   is required as it relieves\
    \ the originating MEP of an arbitrarily\n   large processing load and of the requirement\
    \ to filter and discard\n   undesired responses.  This is because normally TTL\
    \ exhaustion will\n   address all MIPs at a given distance from the source, and\
    \ failure to\n   exhaust TTL will address all MEPs.\n"
- title: 3.8.  Further Considerations of Enhanced Segment Monitoring
  contents:
  - "3.8.  Further Considerations of Enhanced Segment Monitoring\n   Segment monitoring,\
    \ like any in-service monitoring, in a transport\n   network should meet the following\
    \ network objectives:\n   1. The monitoring and maintenance of existing transport\
    \ paths has to\n      be conducted in service without traffic disruption.\n  \
    \ 2. Segment monitoring must not modify the forwarding of the segment\n      portion\
    \ of the transport path.\n   SPMEs defined in Section 3.2 meet the above two objectives,\
    \ when they\n   are pre-configured or pre-instantiated as exemplified in Section\
    \ 3.6.\n   However, sometimes pre-design and pre-configuration of all the\n  \
    \ considered patterns of SPME are not preferable in real operation due\n   to\
    \ the burden of design works, a number of header consumptions,\n   bandwidth consumption,\
    \ and so on.\n   When SPMEs are configured or instantiated after the transport\
    \ path\n   has been created, network objective (1) can be met: application and\n\
    \   removal of SPME to a faultless monitored transport entity can be\n   performed\
    \ in such a way as not to introduce any loss of traffic,\n   e.g., by using a\
    \ non-disruptive \"make before break\" technique.\n   However, network objective\
    \ (2) cannot be met due to new assignment of\n   MPLS labels.  As a consequence,\
    \ generally speaking, the results of\n   SPME monitoring are not necessarily correlated\
    \ with the behavior of\n   traffic in the monitored entity when it does not use\
    \ SPME.  For\n   example, application of SPME to a problematic/faulty monitoring\n\
    \   entity might \"fix\" the problem encountered by the latter -- for as\n   long\
    \ as SPME is applied.  And vice versa, application of SPME to a\n   faultless\
    \ monitored entity may result in making it faulty -- again,\n   as long as SPME\
    \ is applied.\n   Support for a more sophisticated segment-monitoring mechanism\n\
    \   (temporal and hitless segment monitoring) to efficiently meet the two\n  \
    \ network objectives may be necessary.\n   One possible option to instantiate\
    \ non-intrusive segment monitoring\n   without the use of SPMEs would require\
    \ the MIPs selected as\n   monitoring end points to implement enhanced functionality\
    \ and state\n   for the monitored transport path.\n   For example, the MIPs need\
    \ to be configured with the TTL distance to\n   the peer or with the address of\
    \ the peer, when out-of-band return\n   paths are used.\n   A further issue that\
    \ would need to be considered is events that\n   result in changing the TTL distance\
    \ to the peer monitoring entity,\n   such as protection events that may temporarily\
    \ invalidate OAM\n   information gleaned from the use of this technique.\n   Further\
    \ considerations on this technique are outside the scope of\n   this document.\n"
- title: 4.  Reference Model
  contents:
  - "4.  Reference Model\n   The reference model for the MPLS-TP OAM framework builds\
    \ upon the\n   concept of a MEG, and its associated MEPs and MIPs, to support\
    \ the\n   functional requirements specified in RFC 5860 [11].\n   The following\
    \ MPLS-TP MEGs are specified in this document:\n   o  A Section Maintenance Entity\
    \ Group (SMEG), allowing monitoring and\n      management of MPLS-TP Sections\
    \ (between MPLS LSRs).\n   o  An LSP Maintenance Entity Group (LMEG), allowing\
    \ monitoring and\n      management of an end-to-end LSP (between LERs).\n   o\
    \  A PW Maintenance Entity Group (PMEG), allowing monitoring and\n      management\
    \ of an end-to-end Single-Segment Pseudowire (SS-PW) or\n      MS-PW (between\
    \ T-PEs).\n   o  An LSP SPME ME Group (LSMEG), allowing monitoring and management\n\
    \      of an SPME (between a given pair of LERs and/or LSRs along an\n      LSP).\n\
    \   o  A PW SPME ME Group (PSMEG), allowing monitoring and management of\n   \
    \   an SPME (between a given pair of T-PEs and/or S-PEs along an\n      (MS-)PW).\n\
    \   The MEGs specified in this MPLS-TP OAM framework are compliant with\n   the\
    \ architecture framework for MPLS-TP [8] that includes both MS-PWs\n   [4] and\
    \ LSPs [1].\n   Hierarchical LSPs are also supported in the form of SPMEs.  In\
    \ this\n   case, each LSP in the hierarchy is a different sub-layer network that\n\
    \   can be monitored, independently from higher- and lower-level LSPs in\n   the\
    \ hierarchy, on an end-to-end basis (from LER to LER) by an SPME.\n   It is possible\
    \ to monitor a portion of a hierarchical LSP by\n   instantiating a hierarchical\
    \ SPME between any LERs/LSRs along the\n   hierarchical LSP.\n    Native |<------------------\
    \ MS-PW1Z ---------------->|  Native\n    Layer  |                           \
    \                  |   Layer\n   Service |    |<LSP13>|    |<-LSP3X->|    |<LSPXZ>|\
    \    |  Service\n    (AC1)  V    V       V    V         V    V       V    V  \
    \ (AC2)\n           +----+ +---+ +----+         +----+ +---+ +----+\n   +----+\
    \  |T-PE| |LSR| |S-PE|         |S-PE| |LSR| |T-PE|   +----+\n   |    |  | 1  |\
    \ | 2 | | 3  |         | X  | | Y | | Z  |   |    |\n   |    |  |    |=======|\
    \    |=========|    |=======|    |   |    |\n   | CE1|--|.......PW13......|...PW3X..|......PWXZ.......|---|CE2\
    \ |\n   |    |  |    |=======|    |=========|    |=======|    |   |    |\n   |\
    \    |  |    | |   | |    |         |    | |   | |    |   |    |\n   +----+  |\
    \    | |   | |    |         |    | |   | |    |   +----+\n           +----+ +---+\
    \ +----+         +----+ +---+ +----+\n           .                 .         .\
    \                 .\n           |                 |         |                \
    \ |\n           |<--- Domain 1 -->|         |<--- Domain Z -->|\n           ^-----------------\
    \ PW1Z  PMEG ----------------^\n           ^--- PW13 PSMEG --^         ^--- PWXZ\
    \ PSMEG --^\n                ^-------^                   ^-------^\n         \
    \       LSP13 LMEG                  LSPXZ LMEG\n                ^--^ ^--^    ^---------^\
    \    ^--^ ^--^\n               Sec12 Sec23      Sec3X      SecXY SecYZ\n     \
    \           SMEG  SMEG       SMEG       SMEG  SMEG\n   ^---^ ME\n   ^     MEP\n\
    \   ====  LSP\n   .... PW\n   T-PE 1: Terminating Provider Edge 1\n   LSR 2: \
    \ Label Switching Router 2\n   S-PE 3: Switching Provider Edge 3\n   S-PE X: Switching\
    \ Provider Edge X\n   LSR Y:  Label Switching Router Y\n   T-PE Z: Terminating\
    \ Provider Edge Z\n        Figure 5: Reference Model for the MPLS-TP OAM Framework\n\
    \   Figure 5 depicts a high-level reference model for the MPLS-TP OAM\n   framework.\
    \  The figure depicts portions of two MPLS-TP-enabled\n   network domains, Domain\
    \ 1 and Domain Z.  In Domain 1, T-PE 1 is\n   adjacent to LSR 2 via the MPLS-TP\
    \ Section Sec12, and LSR 2 is\n   adjacent to S-PE 3 via the MPLS-TP Section Sec23.\
    \  Similarly, in\n   Domain Z, S-PE X is adjacent to LSR Y via the MPLS-TP Section\
    \ SecXY,\n   and LSR Y is adjacent to T-PE Z via the MPLS-TP Section SecYZ.  In\n\
    \   addition, S-PE 3 is adjacent to S-PE X via the MPLS-TP Section Sec3X.\n  \
    \ Figure 5 also shows a bidirectional MS-PW (MS-PW1Z) between AC1 on\n   T-PE1\
    \ and AC2 on T-PE Z.  The MS-PW consists of three bidirectional\n   PW path segments:\
    \ 1) PW13 path segment between T-PE 1 and S-PE 3 via\n   the bidirectional LSP13\
    \ LSP, 2) PW3X path segment between S-PE 3 and\n   S-PE X via the bidirectional\
    \ LSP3X LSP, and 3) PWXZ path segment\n   between S-PE X and T-PE Z via the bidirectional\
    \ LSPXZ LSP.\n   The MPLS-TP OAM procedures that apply to a MEG are expected to\n\
    \   operate independently from procedures on other MEGs.  Yet, this does\n   not\
    \ preclude that multiple MEGs may be affected simultaneously by the\n   same network\
    \ condition -- for example, a fiber cut event.\n   Note that there are no constraints\
    \ imposed by this OAM framework on\n   the number or type (P2P, P2MP, LSP, or\
    \ PW), of MEGs that may be\n   instantiated on a particular node.  In particular,\
    \ when looking at\n   Figure 5, it should be possible to configure one or more\
    \ MEPs on the\n   same node if that node is the end point of one or more MEGs.\n\
    \   Figure 5 does not describe a PW3X PSMEG because typically SPMEs are\n   used\
    \ to monitor an OAM domain (like PW13 and PWXZ PSMEGs) rather than\n   the segment\
    \ between two OAM domains.  However, the OAM framework does\n   not pose any constraints\
    \ on the way SPMEs are instantiated as long as\n   they are not overlapping.\n\
    \   The subsections below define the MEGs specified in this MPLS-TP OAM\n   architecture\
    \ framework document.  Unless otherwise stated, all\n   references to domains,\
    \ LSRs, MPLS-TP Sections, LSPs, pseudowires, and\n   MEGs in this section are\
    \ made in relation to those shown in Figure 5.\n"
- title: 4.1.  MPLS-TP Section Monitoring (SMEG)
  contents:
  - "4.1.  MPLS-TP Section Monitoring (SMEG)\n   An MPLS-TP Section MEG (SMEG) is\
    \ an MPLS-TP maintenance entity\n   intended to monitor an MPLS-TP Section.  An\
    \ SMEG may be configured on\n   any MPLS-TP section.  SMEG OAM packets must fate-share\
    \ with the user\n   data packets sent over the monitored MPLS-TP Section.\n  \
    \ An SMEG is intended to be deployed for applications where it is\n   preferable\
    \ to monitor the link between topologically adjacent (next\n   hop in this layer\
    \ network) MPLS-TP LSRs rather than monitoring the\n   individual LSP or PW path\
    \ segments traversing the MPLS-TP Section and\n   where the server-layer technology\
    \ does not provide adequate OAM\n   capabilities.\n   Figure 5 shows five Section\
    \ MEGs configured in the network between\n   AC1 and AC2:\n   1. Sec12 MEG associated\
    \ with the MPLS-TP Section between T-PE 1 and\n      LSR 2,\n   2. Sec23 MEG associated\
    \ with the MPLS-TP Section between LSR 2 and\n      S-PE 3,\n   3. Sec3X MEG associated\
    \ with the MPLS-TP Section between S-PE 3 and\n      S-PE X,\n   4. SecXY MEG\
    \ associated with the MPLS-TP Section between S-PE X and\n      LSR Y, and\n \
    \  5. SecYZ MEG associated with the MPLS-TP Section between LSR Y and\n      T-PE\
    \ Z\n"
- title: 4.2.  MPLS-TP LSP End-to-End Monitoring Group (LMEG)
  contents:
  - "4.2.  MPLS-TP LSP End-to-End Monitoring Group (LMEG)\n   An MPLS-TP LSP MEG (LMEG)\
    \ is an MPLS-TP maintenance entity group\n   intended to monitor an end-to-end\
    \ LSP between its LERs.  An LMEG may\n   be configured on any MPLS LSP.  LMEG\
    \ OAM packets must fate-share with\n   user data packets sent over the monitored\
    \ MPLS-TP LSP.\n   An LMEG is intended to be deployed in scenarios where it is\
    \ desirable\n   to monitor an entire LSP between its LERs, rather than, say,\n\
    \   monitoring individual PWs.\n   Figure 5 depicts two LMEGs configured in the\
    \ network between AC1 and\n   AC2: 1) the LSP13 LMEG between T-PE 1 and S-PE 3,\
    \ and 2) the LSPXZ\n   LMEG between S-PE X and T-PE Z.  Note that the presence\
    \ of a LSP3X\n   LMEG in such a configuration is optional, and hence, not precluded\
    \ by\n   this framework.  For instance, the network operator may prefer to\n \
    \  monitor the MPLS-TP Section between the two LSRs rather than the\n   individual\
    \ LSPs.\n"
- title: 4.3.  MPLS-TP PW Monitoring (PMEG)
  contents:
  - "4.3.  MPLS-TP PW Monitoring (PMEG)\n   An MPLS-TP PW MEG (PMEG) is an MPLS-TP\
    \ maintenance entity intended to\n   monitor a SS-PW or MS-PW between its T-PEs.\
    \  A PMEG can be configured\n   on any SS-PW or MS-PW.  PMEG OAM packets must\
    \ fate-share with the\n   user data packets sent over the monitored PW.\n   A\
    \ PMEG is intended to be deployed in scenarios where it is desirable\n   to monitor\
    \ an entire PW between a pair of MPLS-TP-enabled T-PEs\n   rather than monitoring\
    \ the LSP that aggregates multiple PWs between\n   PEs.\n   Figure 5 depicts an\
    \ MS-PW (MS-PW1Z) consisting of three path segments\n   (PW13, PW3X, and PWXZ)\
    \ and its associated end-to-end PMEG (PW1Z\n   PMEG).\n"
- title: 4.4.  MPLS-TP LSP SPME Monitoring (LSMEG)
  contents:
  - "4.4.  MPLS-TP LSP SPME Monitoring (LSMEG)\n   An MPLS-TP LSP SPME MEG (LSMEG)\
    \ is an MPLS-TP SPME with an associated\n   maintenance entity group intended\
    \ to monitor an arbitrary part of an\n   LSP between the MEPs instantiated for\
    \ the SPME, independent from the\n   end-to-end monitoring (LMEG).  An LSMEG can\
    \ monitor an LSP path\n   segment, and it may also include the forwarding engine(s)\
    \ of the\n   node(s) at the edge(s) of the path segment.\n   When an SPME is established\
    \ between non-adjacent LSRs, the edges of\n   the SPME become adjacent at the\
    \ LSP sub-layer network and any LSR\n   that was previously in between becomes\
    \ an LSR for the SPME.\n   Multiple hierarchical LSMEGs can be configured on any\
    \ LSP.  LSMEG OAM\n   packets must fate-share with the user data packets sent\
    \ over the\n   monitored LSP path segment.\n   A LSME can be defined between the\
    \ following entities:\n   o  The LER and LSR of a given LSP.\n   o  Any two LSRs\
    \ of a given LSP.\n   An LSMEG is intended to be deployed in scenarios where it\
    \ is\n   preferable to monitor the behavior of a part of an LSP or set of LSPs\n\
    \   rather than the entire LSP itself, for example, when there is a need\n   to\
    \ monitor a part of an LSP that extends beyond the administrative\n   boundaries\
    \ of an MPLS-TP-enabled administrative domain.\n            |<--------------------\
    \ PW1Z ------------------->|\n            |                                  \
    \             |\n            |    |<-------------LSP1Z LSP------------->|    |\n\
    \            |    |<-LSP13->|    |<LSP3X>|    |<-LSPXZ->|    |\n            V\
    \    V         V    V       V    V         V    V\n            +----+  +---+ \
    \ +----+       +----+  +---+  +----+\n   +----+   | PE |  |LSR|  |DBN |      \
    \ |DBN |  |LSR|  | PE |   +----+\n   |    |   | 1  |  | 2 |  | 3  |       | X\
    \  |  | Y |  | Z  |   |    |\n   |    |AC1|    |=====================================|\
    \    |AC2|    |\n   | CE1|---|.....................PW1Z......................|---|CE2\
    \ |\n   |    |   |    |=====================================|    |   |    |\n\
    \   |    |   |    |  |   |  |    |       |    |  |   |  |    |   |    |\n   +----+\
    \   |    |  |   |  |    |       |    |  |   |  |    |   +----+\n            +----+\
    \  +---+  +----+       +----+  +---+  +----+\n            .                  \
    \ .       .                   .\n            |                   |       |   \
    \                |\n            |<---- Domain 1 --->|       |<---- Domain Z --->|\n\
    \                 ^---------^                 ^---------^\n                 LSP13\
    \ LSMEG                 LSPXZ LSMEG\n                 ^-------------------------------------^\n\
    \                                LSP1Z LMEG\n   DBN: Domain Border Node\n   PE\
    \ 1:  Provider Edge 1\n   LSR 2: Label Switching Router 2\n   DBN 3: Domain Border\
    \ Node 3\n   DBN X: Domain Border Node X\n   LSR Y: Label Switching Router Y\n\
    \   PE Z:  Provider Edge Z\n                 Figure 6: MPLS-TP LSP SPME MEG (LSMEG)\n\
    \   Figure 6 depicts a variation of the reference model in Figure 5 where\n  \
    \ there is an end-to-end LSP (LSP1Z) between PE 1 and PE Z.  LSP1Z\n   consists\
    \ of, at least, three LSP Concatenated Segments: LSP13, LSP3X,\n   and LSPXZ.\
    \  In this scenario, there are two separate LSMEGs\n   configured to monitor the\
    \ LSP1Z: 1) a LSMEG monitoring the LSP13\n   Concatenated Segment on Domain 1\
    \ (LSP13 LSMEG), and 2) a LSMEG\n   monitoring the LSPXZ Concatenated Segment\
    \ on Domain Z (LSPXZ LSMEG).\n   It is worth noticing that LSMEGs can coexist\
    \ with the LMEG monitoring\n   the end-to-end LSP and that LSMEG MEPs and LMEG\
    \ MEPs can be\n   coincident in the same node (e.g., PE 1 node supports both the\
    \ LSP1Z\n   LMEG MEP and the LSP13 LSMEG MEP).\n"
- title: 4.5.  MPLS-TP MS-PW SPME Monitoring (PSMEG)
  contents:
  - "4.5.  MPLS-TP MS-PW SPME Monitoring (PSMEG)\n   An MPLS-TP MS-PW SPME Monitoring\
    \ MEG (PSMEG) is an MPLS-TP SPME with\n   an associated maintenance entity group\
    \ intended to monitor an\n   arbitrary part of an MS-PW between the MEPs instantiated\
    \ for the\n   SPME, independently of the end-to-end monitoring (PMEG).  A PSMEG\
    \ can\n   monitor a PW path segment, and it may also include the forwarding\n\
    \   engine(s) of the node(s) at the edge(s) of the path segment.  A PSMEG\n  \
    \ is no different than an SPME; it is simply named as such to discuss\n   SPMEs\
    \ specifically in a PW context.\n   When SPME is established between non-adjacent\
    \ S-PEs, the edges of the\n   SPME become adjacent at the MS-PW sub-layer network,\
    \ and any S-PE\n   that was previously in between becomes an LSR for the SPME.\n\
    \   S-PE placement is typically dictated by considerations other than\n   OAM.\
    \  S-PEs will frequently reside at operational boundaries such as\n   the transition\
    \ from distributed control plane (CP) to centralized\n   Network Management System\
    \ (NMS) control or at a routing area\n   boundary.  As such, the architecture\
    \ would appear not to have the\n   flexibility that arbitrary placement of SPME\
    \ segments would imply.\n   Support for an arbitrary placement of PSMEG would\
    \ require the\n   definition of additional PW sub-layering.  Multiple hierarchical\n\
    \   PSMEGs can be configured on any MS-PW.  PSMEG OAM packets fate-share\n   with\
    \ the user data packets sent over the monitored PW path Segment.\n   A PSMEG does\
    \ not add hierarchical components to the MPLS\n   architecture; it defines the\
    \ role of existing components for the\n   purposes of discussing OAM functionality.\n\
    \   A PSME can be defined between the following entities:\n   o  The T-PE and\
    \ any S-PE of a given MS-PW.\n   o  Any two S-PEs of a given MS-PW.\n   Note that,\
    \ in line with the SPME description in Section 3.2, when a\n   PW SPME is instantiated\
    \ after the MS-PW has been instantiated, the\n   TTL distance of the MIPs may\
    \ change and MIPs in the PW SPME are no\n   longer part of the encompassing MEG.\
    \  This means that the S-PE nodes\n   hosting these MIPs are no longer S-PEs but\
    \ P nodes at the SPME LSP\n   level.  The consequences are that the S-PEs hosting\
    \ the PSMEG MEPs\n   become adjacent S-PEs.  This is no different than the operation\
    \ of\n   SPMEs in general.\n   A PSMEG is intended to be deployed in scenarios\
    \ where it is\n   preferable to monitor the behavior of a part of an MS-PW rather\
    \ than\n   the entire end-to-end PW itself, for example, when monitoring an MS-\n\
    \   PW path segment within a given network domain of an inter-domain MS-\n   PW.\n\
    \   Figure 5 depicts an MS-PW (MS-PW1Z) consisting of three path\n   segments:\
    \ PW13, PW3X, and PWXZ with two separate PSMEGs: 1) a PSMEG\n   monitoring the\
    \ PW13 MS-PW path segment on Domain 1 (PW13 PSMEG) and\n   2) a PSMEG monitoring\
    \ the PWXZ MS-PW path segment on Domain Z with\n   (PWXZ PSMEG).\n   It is worth\
    \ noticing that PSMEGs can coexist with the PMEG monitoring\n   the end-to-end\
    \ MS-PW and that PSMEG MEPs and PMEG MEPs can be\n   coincident in the same node\
    \ (e.g., T-PE 1 node supports both the PW1Z\n   PMEG MEP and the PW13 PSMEG MEP).\n"
- title: 4.6.  Fate-Sharing Considerations for Multilink
  contents:
  - "4.6.  Fate-Sharing Considerations for Multilink\n   Multilink techniques are\
    \ in use today and are expected to continue to\n   be used in future deployments.\
    \  These techniques include Ethernet\n   link aggregation [22] and the use of\
    \ link bundling for MPLS [18]\n   where the option to spread traffic over component\
    \ links is supported\n   and enabled.  While the use of link bundling can be controlled\
    \ at the\n   MPLS-TP layer, use of link aggregation (or any server-layer-specific\n\
    \   multilink) is not necessarily under the control of the MPLS-TP layer.\n  \
    \ Other techniques may emerge in the future.  These techniques\n   frequently\
    \ share the characteristic that an LSP may be spread over a\n   set of component\
    \ links and therefore be reordered, but no flow within\n   the LSP is reordered\
    \ (except when very infrequent and minimally\n   disruptive load rebalancing occurs).\n\
    \   The use of multilink techniques may be prohibited or permitted in any\n  \
    \ particular deployment.  If multilink techniques are used, the\n   deployment\
    \ can be considered to be only partially MPLS-TP compliant;\n   however, this\
    \ is unlikely to prevent their use.\n   The implications for OAM are that not\
    \ all components of a multilink\n   will be exercised, independent server-layer\
    \ OAM being required to\n   exercise the aggregated link components.  This has\
    \ further\n   implications for MIP and MEP placement, as per-interface MIPs or\
    \ Down\n   MEPs on a multilink interface are akin to a layer violation, as they\n\
    \   instrument at the granularity of the server layer.  The implications\n   for\
    \ reduced OAM loss measurement functionality are documented in\n   Sections 5.5.3\
    \ and 6.2.3.\n"
- title: 5.  OAM Functions for Proactive Monitoring
  contents:
  - "5.  OAM Functions for Proactive Monitoring\n   In this document, proactive monitoring\
    \ refers to OAM operations that\n   are either configured to be carried out periodically\
    \ and continuously\n   or preconfigured to act on certain events such as alarm\
    \ signals.\n   Proactive monitoring is usually performed \"in-service\".  Such\n\
    \   transactions are universally MEP to MEP in operation, while\n   notifications\
    \ can be node to node (e.g., some MS-PW transactions) or\n   node to MEPs (e.g.,\
    \ AIS).  The control and measurement considerations\n   are:\n   1. Proactive\
    \ monitoring for a MEG is typically configured at the\n      creation time of\
    \ the transport path.\n   2. The operational characteristics of in-band measurement\n\
    \      transactions (e.g., CV, Loss Measurement (LM), etc.) are\n      configured\
    \ at the MEPs.\n   3. Server-layer events are reported by OAM packets originating\
    \ at\n      intermediate nodes.\n   4. The measurements resulting from proactive\
    \ monitoring are typically\n      reported outside of the MEG (e.g., to a management\
    \ system) as\n      notification events such as faults or indications of performance\n\
    \      degradations (such as signal degrade conditions).\n   5. The measurements\
    \ resulting from proactive monitoring may be\n      periodically harvested by\
    \ an NMS.\n   Proactive fault reporting is assumed to be subject to unreliable\n\
    \   delivery and soft-state, and it needs to operate in cases where a\n   return\
    \ path is not available or faulty.  Therefore, periodic\n   repetition is assumed\
    \ to be used for reliability, instead of\n   handshaking.\n   Delay measurement\
    \ also requires periodic repetition to allow\n   estimation of the packet delay\
    \ variation for the MEG.\n   For statically provisioned transport paths, the above\
    \ information is\n   statically configured; for dynamically established transport\
    \ paths,\n   the configuration information is signaled via the control plane or\n\
    \   configured via the management plane.\n   The operator may enable/disable some\
    \ of the consequent actions\n   defined in Section 5.1.2.\n"
- title: 5.1.  Continuity Check and Connectivity Verification
  contents:
  - "5.1.  Continuity Check and Connectivity Verification\n   Proactive Continuity\
    \ Check functions, as required in Section 2.2.2 of\n   RFC 5860 [11], are used\
    \ to detect a loss of continuity (LOC) defect\n   between two MEPs in a MEG.\n\
    \   Proactive Connectivity Verification functions, as required in Section\n  \
    \ 2.2.3 of RFC 5860 [11], are used to detect an unexpected connectivity\n   defect\
    \ between two MEGs (e.g., mismerging or misconnection), as well\n   as unexpected\
    \ connectivity within the MEG with an unexpected MEP.\n   Both functions are based\
    \ on the (proactive) generation, at the same\n   rate, of OAM packets by the source\
    \ MEP that are processed by the peer\n   sink MEP(s).  As a consequence, in order\
    \ to save OAM bandwidth\n   consumption, CV, when used, is linked with CC into\
    \ Continuity Check\n   and Connectivity Verification (CC-V) OAM packets.\n   In\
    \ order to perform proactive Connectivity Verification, each CC-V\n   OAM packet\
    \ also includes a globally unique Source MEP identifier,\n   whose value needs\
    \ to be configured on the source MEP and on the peer\n   sink MEP(s).  In some\
    \ cases, to avoid the need to configure the\n   globally unique Source MEP identifier,\
    \ it is preferable to perform\n   only proactive Continuity Check.  In this case,\
    \ the CC-V OAM packet\n   does not need to include any globally unique Source\
    \ MEP identifier.\n   Therefore, a MEG can be monitored only for CC or for both\
    \ CC and CV.\n   CC-V OAM packets used for CC-only monitoring are called CC OAM\n\
    \   packets, while CC-V OAM packets used for both CC and CV are called CV\n  \
    \ OAM packets.\n   As a consequence, it is not possible to detect misconnections\
    \ between\n   two MEGs monitored only for continuity as neither the OAM packet\
    \ type\n   nor the OAM packet content provides sufficient information to\n   disambiguate\
    \ an invalid source.  To expand:\n   o  For a CC OAM packet leaking into a CC\
    \ monitored MEG -\n      undetectable.\n   o  For a CV OAM packet leaking into\
    \ a CC monitored MEG - reception of\n      CV OAM packets instead of a CC OAM\
    \ packets (e.g., with the\n      additional Source MEP identifier) allows detecting\
    \ the fault.\n   o  For a CC OAM packet leaking into a CV monitored MEG - reception\
    \ of\n      CC OAM packets instead of CV OAM packets (e.g., lack of additional\n\
    \      Source MEP identifier) allows detecting the fault.\n   o  For a CV OAM\
    \ packet leaking into a CV monitored MEG - reception of\n      CV OAM packets\
    \ with different Source MEP identifier permits fault\n      to be identified.\n\
    \   Having a common packet format for CC-V OAM packets would simplify\n   parsing\
    \ in a sink MEP to properly detect all the misconfiguration\n   cases described\
    \ above.\n   MPLS-TP OAM supports different formats of MEP identifiers to address\n\
    \   different environments.  When an alternative to IP addressing is\n   desired\
    \ (e.g., MPLS-TP is deployed in transport network environments\n   where consistent\
    \ operations with other transport technologies defined\n   by the ITU-T are required),\
    \ the ITU Carrier Code (ICC)-based format\n   for MEP identification is used:\
    \ this format is under definition in\n   [25].  When MPLS-TP is deployed in an\
    \ environment where IP\n   capabilities are available and desired for OAM, the\
    \ IP-based MEP\n   identification is used: this format is described in [24].\n\
    \   CC-V OAM packets are transmitted at a regular, operator-configurable\n   rate.\
    \  The default CC-V transmission periods are application\n   dependent (see Section\
    \ 5.1.3).\n   Proactive CC-V OAM packets are transmitted with the \"minimum loss\n\
    \   probability PHB\" within the transport path (LSP, PW) they are\n   monitoring.\
    \  For E-LSPs, this PHB is configurable on the network\n   operator's basis, while\
    \ for L-LSPs this is determined as per RFC 3270\n   [23].  PHBs can be translated\
    \ at the network borders by the same\n   function that translates them for user\
    \ data traffic.  The implication\n   is that CC-V fate-shares with much of the\
    \ forwarding implementation,\n   but not all aspects of PHB processing are exercised.\
    \  Either on-\n   demand tools are used for finer-grained fault finding or an\n\
    \   implementation may utilize a CC-V flow per PHB to ensure a CC-V flow\n   fate-shares\
    \ with each individual PHB.\n   In a co-routed or associated, bidirectional point-to-point\
    \ transport\n   path, when a MEP is enabled to generate proactive CC-V OAM packets\n\
    \   with a configured transmission rate, it also expects to receive\n   proactive\
    \ CC-V OAM packets from its peer MEP at the same transmission\n   rate.  This\
    \ is because a common SLA applies to all components of the\n   transport path.\
    \  In a unidirectional transport path (either point-to-\n   point or point-to-multipoint),\
    \ the source MEP is enabled only to\n   generate CC-V OAM packets, while each\
    \ sink MEP is configured to\n   expect these packets at the configured rate.\n\
    \   MIPs, as well as intermediate nodes not supporting MPLS-TP OAM, are\n   transparent\
    \ to the proactive CC-V information and forward these\n   proactive CC-V OAM packets\
    \ as regular data packets.\n   During path setup and tear down, situations arise\
    \ where CC-V checks\n   would give rise to alarms, as the path is not fully instantiated.\
    \  In\n   order to avoid these spurious alarms, the following procedures are\n\
    \   recommended.  At initialization, the source MEP function (generating\n   proactive\
    \ CC-V packets) should be enabled prior to the corresponding\n   sink MEP function\
    \ (detecting continuity and connectivity defects).\n   When disabling the CC-V\
    \ proactive functionality, the sink MEP\n   function should be disabled prior\
    \ to the corresponding source MEP\n   function.\n   It should be noted that different\
    \ encapsulations are possible for\n   CC-V packets, and therefore it is possible\
    \ that in case of\n   misconfigurations or mis-connectivity, CC-V packets are\
    \ received with\n   an unexpected encapsulation.\n   There are practical limitations\
    \ to detecting unexpected\n   encapsulation.  It is possible that there are misconfiguration\
    \ or\n   mis-connectivity scenarios where OAM packets can alias as payload,\n\
    \   e.g., when a transport path can carry an arbitrary payload without a\n   pseudowire.\n\
    \   When CC-V packets are received with an unexpected encapsulation that\n   can\
    \ be parsed by a sink MEP, the CC-V packet is processed as if it\n   were received\
    \ with the correct encapsulation.  If it is not a\n   manifestation of a mis-connectivity\
    \ defect, a warning is raised (see\n   Section 5.1.1.4).  Otherwise, the CC-V\
    \ packet may be silently\n   discarded as unrecognized and a LOC defect may be\
    \ detected (see\n   Section 5.1.1.1).\n   The defect conditions are described\
    \ in no specific order.\n"
- title: 5.1.1.  Defects Identified by CC-V
  contents:
  - "5.1.1.  Defects Identified by CC-V\n   Proactive CC-V functions allow a sink\
    \ MEP to detect the defect\n   conditions described in the following subsections.\
    \  For all of the\n   described defect cases, a sink MEP should notify the equipment\
    \ fault\n   management process of the detected defect.\n   Sequential consecutive\
    \ loss of CC-V packets is considered indicative\n   of an actual break and not\
    \ of congestive loss or physical-layer\n   degradation.  The loss of 3 packets\
    \ in a row (implying a detection\n   interval that is 3.5 times the insertion\
    \ time) is interpreted as a\n   true break and a condition that will not clear\
    \ by itself.\n   A CC-V OAM packet is considered to carry an unexpected globally\n\
    \   unique Source MEP identifier if it is a CC OAM packet received by a\n   sink\
    \ MEP monitoring the MEG for CV; it is a CV OAM packet received by\n   a sink\
    \ MEP monitoring the MEG for CC, or it is a CV OAM packet\n   received by a sink\
    \ MEP monitoring the MEG for CV but carrying a\n   unique Source MEP identifier\
    \ that is different that the expected one.\n   Conversely, the CC-V packet is\
    \ considered to have an expected\n   globally unique Source MEP identifier; it\
    \ is a CC OAM packet received\n   by a sink MEP monitoring the MEG for CC, or\
    \ it is a CV OAM packet\n   received by a sink MEP monitoring the MEG for CV and\
    \ carrying a\n   unique Source MEP identifier that is equal to the expected one.\n"
- title: 5.1.1.1.  Loss of Continuity Defect
  contents:
  - "5.1.1.1.  Loss of Continuity Defect\n   When proactive CC-V is enabled, a sink\
    \ MEP detects a loss of\n   continuity (LOC) defect when it fails to receive proactive\
    \ CC-V OAM\n   packets from the source MEP.\n   o  Entry criteria:  If no proactive\
    \ CC-V OAM packets from the source\n      MEP (and in the case of CV, this includes\
    \ the requirement to have\n      the expected globally unique Source MEP identifier)\
    \ are received\n      within the interval equal to 3.5 times the receiving MEP's\n\
    \      configured CC-V reception period.\n   o  Exit criteria: A proactive CC-V\
    \ OAM packet from the source MEP\n      (and again in the case of CV, with the\
    \ expected globally unique\n      Source MEP identifier) is received.\n"
- title: 5.1.1.2.  Mis-Connectivity Defect
  contents:
  - "5.1.1.2.  Mis-Connectivity Defect\n   When a proactive CC-V OAM packet is received,\
    \ a sink MEP identifies a\n   mis-connectivity defect (e.g., mismerge, misconnection,\
    \ or unintended\n   looping) when the received packet carries an unexpected globally\n\
    \   unique Source MEP identifier.\n   o  Entry criteria: The sink MEP receives\
    \ a proactive CC-V OAM packet\n      with an unexpected globally unique Source\
    \ MEP identifier or with\n      an unexpected encapsulation.\n   o  Exit criteria:\
    \ The sink MEP does not receive any proactive CC-V\n      OAM packet with an unexpected\
    \ globally unique Source MEP\n      identifier for an interval equal at least\
    \ to 3.5 times the longest\n      transmission period of the proactive CC-V OAM\
    \ packets received\n      with an unexpected globally unique Source MEP identifier\
    \ since\n      this defect has been raised.  This requires the OAM packet to\n\
    \      self-identify the CC-V periodicity, as not all MEPs can be\n      expected\
    \ to have knowledge of all MEGs.\n"
- title: 5.1.1.3.  Period Misconfiguration Defect
  contents:
  - "5.1.1.3.  Period Misconfiguration Defect\n   If proactive CC-V OAM packets are\
    \ received with the expected globally\n   unique Source MEP identifier but with\
    \ a transmission period different\n   than the locally configured reception period,\
    \ then a CC-V period\n   misconfiguration defect is detected.\n   o  Entry criteria:\
    \ A MEP receives a CC-V proactive packet with the\n      expected globally unique\
    \ Source MEP identifier but with a\n      transmission period different than its\
    \ own CC-V-configured\n      transmission period.\n   o  Exit criteria: The sink\
    \ MEP does not receive any proactive CC-V\n      OAM packet with the expected\
    \ globally unique Source MEP identifier\n      and an incorrect transmission period\
    \ for an interval equal at\n      least to 3.5 times the longest transmission\
    \ period of the\n      proactive CC-V OAM packets received with the expected globally\n\
    \      unique Source MEP identifier and an incorrect transmission period\n   \
    \   since this defect has been raised.\n"
- title: 5.1.1.4.  Unexpected Encapsulation Defect
  contents:
  - "5.1.1.4.  Unexpected Encapsulation Defect\n   If proactive CC-V OAM packets are\
    \ received with the expected globally\n   unique Source MEP identifier but with\
    \ an unexpected encapsulation,\n   then a CC-V unexpected encapsulation defect\
    \ is detected.\n   It should be noted that there are practical limitations to\
    \ detecting\n   unexpected encapsulation (see Section 5.1.1).\n   o  Entry criteria:\
    \ A MEP receives a CC-V proactive packet with the\n      expected globally unique\
    \ Source MEP identifier but with an\n      unexpected encapsulation.\n   o  Exit\
    \ criteria: The sink MEP does not receive any proactive CC-V\n      OAM packet\
    \ with the expected globally unique Source MEP identifier\n      and an unexpected\
    \ encapsulation for an interval equal at least to\n      3.5 times the longest\
    \ transmission period of the proactive CC-V\n      OAM packets received with the\
    \ expected globally unique Source MEP\n      identifier and an unexpected encapsulation\
    \ since this defect has\n      been raised.\n"
- title: 5.1.2.  Consequent Action
  contents:
  - "5.1.2.  Consequent Action\n   A sink MEP that detects any of the defect conditions\
    \ defined in\n   Section 5.1.1 declares a defect condition and performs the following\n\
    \   consequent actions.\n   If a MEP detects a mis-connectivity defect, it blocks\
    \ all the traffic\n   (including also the user data packets) that it receives\
    \ from the\n   misconnected transport path.\n   If a MEP detects a LOC defect\
    \ that is not caused by a period\n   misconfiguration, it should block all the\
    \ traffic (including also the\n   user data packets) that it receives from the\
    \ transport path, if this\n   consequent action has been enabled by the operator.\n\
    \   It is worth noticing that the OAM requirements document [11]\n   recommends\
    \ that CC-V proactive monitoring be enabled on every MEG in\n   order to reliably\
    \ detect connectivity defects.  However, CC-V\n   proactive monitoring can be\
    \ disabled by an operator for a MEG.  In\n   the event of a misconnection between\
    \ a transport path that is\n   proactively monitored for CC-V and a transport\
    \ path that is not, the\n   MEP of the former transport path will detect a LOC\
    \ defect\n   representing a connectivity problem (e.g., a misconnection with a\n\
    \   transport path where CC-V proactive monitoring is not enabled)\n   instead\
    \ of a continuity problem, with a consequence of delivery of\n   traffic to an\
    \ incorrect destination.  For these reasons, the traffic\n   block consequent\
    \ action is applied even when a LOC condition occurs.\n   This block consequent\
    \ action can be disabled through configuration.\n   This deactivation of the block\
    \ action may be used for activating or\n   deactivating the monitoring when it\
    \ is not possible to synchronize\n   the function activation of the two peer MEPs.\n\
    \   If a MEP detects a LOC defect (Section 5.1.1.1) or a mis-connectivity\n  \
    \ defect (Section 5.1.1.2), it declares a signal fail condition of the\n   ME.\n\
    \   It is a matter of local policy whether or not a MEP that detects a\n   period\
    \ misconfiguration defect (Section 5.1.1.3) declares a signal\n   fail condition\
    \ of the ME.\n   The detection of an unexpected encapsulation defect does not\
    \ have any\n   consequent action: it is just a warning for the network operator.\
    \  An\n   implementation able to detect an unexpected encapsulation but not\n\
    \   able to verify the source MEP ID may choose to declare a mis-\n   connectivity\
    \ defect.\n"
- title: 5.1.3.  Configuration Considerations
  contents:
  - "5.1.3.  Configuration Considerations\n   At all MEPs inside a MEG, the following\
    \ configuration information\n   needs to be configured when a proactive CC-V function\
    \ is enabled:\n   o  MEG-ID: the MEG identifier to which the MEP belongs.\n  \
    \ o  MEP-ID: the MEP's own identity inside the MEG.\n   o  list of the other MEPs\
    \ in the MEG.  For a point-to-point MEG, the\n      list would consist of the\
    \ single MEP ID from which the OAM packets\n      are expected.  In case of the\
    \ root MEP of a P2MP MEG, the list is\n      composed of all the leaf MEP IDs\
    \ inside the MEG.  In case of the\n      leaf MEP of a P2MP MEG, the list is composed\
    \ of the root MEP ID\n      (i.e., each leaf needs to know the root MEP ID from\
    \ which it\n      expects to receive the CC-V OAM packets).\n   o  PHB for E-LSPs.\
    \  It identifies the per-hop behavior of a CC-V\n      packet.  Proactive CC-V\
    \ packets are transmitted with the \"minimum\n      loss probability PHB\" previously\
    \ configured within a single\n      network operator.  This PHB is configurable\
    \ on network operator's\n      basis.  PHBs can be translated at the network borders.\n\
    \   o  transmission rate.  The default CC-V transmission periods are\n      application\
    \ dependent (depending on whether they are used to\n      support fault management,\
    \ performance monitoring, or protection-\n      switching applications):\n   \
    \   *  Fault Management: default transmission period is 1 s (i.e.,\n         transmission\
    \ rate of 1 packet/second).\n      *  Performance Management: default transmission\
    \ period is 100 ms\n         (i.e., transmission rate of 10 packets/second). \
    \ CC-V\n         contributes to the accuracy of performance monitoring\n     \
    \    statistics by permitting the defect-free periods to be properly\n       \
    \  distinguished as described in Sections 5.5.1 and 5.6.1.\n      *  Protection\
    \ Switching: If protection switching with CC-V, defect\n         entry criteria\
    \ of 12 ms is required (for example, in\n         conjunction with the requirement\
    \ to support 50 ms recovery time\n         as indicated in RFC 5654 [5]), then\
    \ an implementation should\n         use a default transmission period of 3.33\
    \ ms (i.e.,\n         transmission rate of 300 packets/second).  Sometimes, the\n\
    \         requirement of 50 ms recovery time is associated with the\n        \
    \ requirement for a CC-V defect entry criteria period of 35 ms;\n         in these\
    \ cases a transmission period of 10 ms (i.e.,\n         transmission rate of 100\
    \ packets/second) can be used.\n         Furthermore, when there is no need for\
    \ so small CC-V defect\n         entry criteria periods, a larger transmission\
    \ period can be\n         used.\n   It should be possible for the operator to\
    \ configure these\n   transmission rates for all applications, to satisfy specific\
    \ network\n   requirements.\n   Note that the reception period is the same as\
    \ the configured\n   transmission rate.\n   For management-provisioned transport\
    \ paths, the above parameters are\n   statically configured; for dynamically signaled\
    \ transport paths, the\n   configuration information is distributed via the control\
    \ plane.\n   The operator should be able to enable/disable some of the consequent\n\
    \   actions.  Which consequent actions can be enabled/disabled is\n   described\
    \ in Section 5.1.2.\n"
- title: 5.2.  Remote Defect Indication
  contents:
  - "5.2.  Remote Defect Indication\n   The Remote Defect Indication (RDI) function,\
    \ as required in Section\n   2.2.9 of RFC 5860 [11], is an indicator that is transmitted\
    \ by a sink\n   MEP to communicate to its source MEP that a signal fail condition\n\
    \   exists.  In case of co-routed and associated bidirectional transport\n   paths,\
    \ RDI is associated with proactive CC-V, and the RDI indicator\n   can be piggy-backed\
    \ onto the CC-V packet.  In case of unidirectional\n   transport paths, the RDI\
    \ indicator can be sent only using an out-of-\n   band return path if it exists\
    \ and its usage is enabled by policy\n   actions.\n   When a MEP detects a signal\
    \ fail condition (e.g., in case of a\n   continuity or connectivity defect), it\
    \ should begin transmitting an\n   RDI indicator to its peer MEP.  When incorporated\
    \ into CC-V, the RDI\n   information will be included in all proactive CC-V packets\
    \ that it\n   generates for the duration of the signal fail condition's existence.\n\
    \   A MEP that receives packets from a peer MEP with the RDI information\n   should\
    \ determine that its peer MEP has encountered a defect condition\n   associated\
    \ with a signal fail condition.\n   MIPs as well as intermediate nodes not supporting\
    \ MPLS-TP OAM are\n   transparent to the RDI indicator and forward OAM packets\
    \ that include\n   the RDI indicator as regular data packets, i.e., the MIP should\
    \ not\n   perform any actions nor examine the indicator.\n   When the signal fail\
    \ condition clears, the MEP should stop\n   transmitting the RDI indicator to\
    \ its peer MEP.  When incorporated\n   into CC-V, the RDI indicator will not be\
    \ set for subsequent\n   transmission of proactive CC-V packets.  A MEP should\
    \ clear the RDI\n   defect upon reception of an RDI indicator cleared.\n"
- title: 5.2.1.  Configuration Considerations
  contents:
  - "5.2.1.  Configuration Considerations\n   In order to support RDI, the indication\
    \ may be carried in a unique\n   OAM packet or may be embedded in a CC-V packet.\
    \  The in-band RDI\n   transmission rate and PHB of the OAM packets carrying RDIs\
    \ should be\n   the same as that configured for CC-V to allow both far-end and\
    \ near-\n   end defect conditions being resolved in a timeframe that has the same\n\
    \   order of magnitude.  This timeframe is application specific as\n   described\
    \ in Section 5.1.3.  Methods of the out-of-band return paths\n   will dictate\
    \ how out-of-band RDIs are transmitted.\n"
- title: 5.3.  Alarm Reporting
  contents:
  - "5.3.  Alarm Reporting\n   The Alarm Reporting function, as required in Section\
    \ 2.2.8 of RFC\n   5860 [11], relies upon an Alarm Indication Signal (AIS) packet\
    \ to\n   suppress alarms following detection of defect conditions at the\n   server\
    \ (sub-)layer.\n   When a server MEP asserts a signal fail condition, it notifies\
    \ that\n   to the co-located MPLS-TP client/server adaptation function that then\n\
    \   generates OAM packets with AIS information in the downstream\n   direction\
    \ to allow the suppression of secondary alarms at the MPLS-TP\n   MEP in the client\
    \ (sub-)layer.\n   The generation of packets with AIS information starts immediately\n\
    \   when the server MEP asserts a signal fail condition.  These periodic\n   OAM\
    \ packets, with AIS information, continue to be transmitted until\n   the signal\
    \ fail condition is cleared.\n   It is assumed that to avoid spurious alarm generation\
    \ a MEP detecting\n   a loss of continuity defect (see Section 5.1.1.1) will wait\
    \ for a\n   hold-off interval prior to asserting an alarm to the management\n\
    \   system.  Therefore, upon receiving an OAM packet with AIS\n   information,\
    \ an MPLS-TP MEP enters an AIS defect condition and\n   suppresses reporting of\
    \ alarms to the NMS on the loss of continuity\n   with its peer MEP, but it does\
    \ not block traffic received from the\n   transport path.  A MEP resumes loss\
    \ of continuity alarm generation\n   upon detecting loss of continuity defect\
    \ conditions in the absence of\n   AIS condition.\n   MIPs, as well as intermediate\
    \ nodes, do not process AIS information\n   and forward these AIS OAM packets\
    \ as regular data packets.\n   For example, let's consider a fiber cut between\
    \ T-PE 1 and LSR 2 in\n   the reference network of Figure 5.  Assuming that all\
    \ of the MEGs\n   described in Figure 5 have proactive CC-V enabled, a LOC defect\
    \ is\n   detected by the MEPs of Sec12 SMEG, LSP13 LMEG, PW1 PSMEG, and PW1Z\n\
    \   PMEG; however, in a transport network, only the alarm associated to\n   the\
    \ fiber cut needs to be reported to an NMS, while all secondary\n   alarms should\
    \ be suppressed (i.e., not reported to the NMS or\n   reported as secondary alarms).\n\
    \   If the fiber cut is detected by the MEP in the physical layer (in LSR\n  \
    \ 2), LSR 2 can generate the proper alarm in the physical layer and\n   suppress\
    \ the secondary alarm associated with the LOC defect detected\n   on Sec12 SMEG.\
    \  As both MEPs reside within the same node, this\n   process does not involve\
    \ any external protocol exchange.  Otherwise,\n   if the physical layer does not\
    \ have enough OAM capabilities to detect\n   the fiber cut, the MEP of Sec12 SMEG\
    \ in LSR 2 will report a LOC\n   alarm.\n   In both cases, the MEP of Sec12 SMEG\
    \ in LSR 2 notifies the adaptation\n   function for LSP13 LMEG that then generates\
    \ AIS packets on the LSP13\n   LMEG in order to allow its MEP in S-PE 3 to suppress\
    \ the LOC alarm.\n   S-PE 3 can also suppress the secondary alarm on PW13 PSMEG\
    \ because\n   the MEP of PW13 PSMEG resides within the same node as the MEP of\n\
    \   LSP13 LMEG.  The MEP of PW13 PSMEG in S-PE 3 also notifies the\n   adaptation\
    \ function for PW1Z PMEG that then generates AIS packets on\n   PW1Z PMEG in order\
    \ to allow its MEP in T-PE Z to suppress the LOC\n   alarm.\n   The generation\
    \ of AIS packets for each MEG in the MPLS-TP client\n   (sub-)layer is configurable\
    \ (i.e., the operator can enable/disable\n   the AIS generation).\n   The AIS\
    \ condition is cleared if no AIS packet has been received in\n   3.5 times the\
    \ AIS transmission period.\n   The AIS transmission period is traditionally one\
    \ per second, but an\n   option to configure longer periods would be also desirable.\
    \  As a\n   consequence, OAM packets need to self-identify the transmission\n\
    \   period such that proper exit criteria can be established.\n   AIS packets\
    \ are transmitted with the \"minimum loss probability PHB\"\n   within a single\
    \ network operator.  For E-LSPs, this PHB is\n   configurable on network operator's\
    \ basis, while for L-LSPs, this is\n   determined as per RFC 3270 [23].\n"
- title: 5.4.  Lock Reporting
  contents:
  - "5.4.  Lock Reporting\n   The Lock Reporting function, as required in Section\
    \ 2.2.7 of RFC 5860\n   [11], relies upon a Lock Report (LKR) packet used to suppress\
    \ alarms\n   following administrative locking action in the server (sub-)layer.\n\
    \   When a server MEP is locked, the MPLS-TP client (sub-)layer\n   adaptation\
    \ function generates packets with LKR information to allow\n   the suppression\
    \ of secondary alarms at the MEPs in the client\n   (sub-)layer.  Again, it is\
    \ assumed that there is a hold-off for any\n   loss of continuity alarms in the\
    \ client-layer MEPs downstream of the\n   node originating the Lock Report.  In\
    \ case of client (sub-)layer co-\n   routed bidirectional transport paths, the\
    \ LKR information is sent on\n   both directions.  In case of client (sub-)layer\
    \ unidirectional\n   transport paths, the LKR information is sent only in the\
    \ downstream\n   direction.  As a consequence, in case of client (sub-)layer point-to-\n\
    \   multipoint transport paths, the LKR information is sent only to the\n   MEPs\
    \ that are downstream from the server (sub-)layer that has been\n   administratively\
    \ locked.  Client (sub-)layer associated bidirectional\n   transport paths behave\
    \ like co-routed bidirectional transport paths\n   if the server (sub-)layer that\
    \ has been administratively locked is\n   used by both directions; otherwise,\
    \ they behave like unidirectional\n   transport paths.\n   The generation of packets\
    \ with LKR information starts immediately\n   when the server MEP is locked. \
    \ These periodic packets, with LKR\n   information, continue to be transmitted\
    \ until the locked condition is\n   cleared.\n   Upon receiving a packet with\
    \ LKR information, an MPLS-TP MEP enters\n   an LKR defect condition and suppresses\
    \ the loss of continuity alarm\n   associated with its peer MEP but does not block\
    \ traffic received from\n   the transport path.  A MEP resumes loss of continuity\
    \ alarm\n   generation upon detecting loss of continuity defect conditions in\
    \ the\n   absence of the LKR condition.\n   MIPs, as well as intermediate nodes,\
    \ do not process the LKR\n   information; they forward these LKR OAM packets as\
    \ regular data\n   packets.\n   For example, let's consider the case where the\
    \ MPLS-TP Section\n   between T-PE 1 and LSR 2 in the reference network of Figure\
    \ 5 is\n   administratively locked at LSR 2 (in both directions).\n   Assuming\
    \ that all the MEGs described in Figure 5 have proactive CC-V\n   enabled, a LOC\
    \ defect is detected by the MEPs of LSP13 LMEG, PW1\n   PSMEG, and PW1Z PMEG;\
    \ however, in a transport network all these\n   secondary alarms should be suppressed\
    \ (i.e., not reported to the NMS\n   or reported as secondary alarms).\n   The\
    \ MEP of Sec12 SMEG in LSR 2 notifies the adaptation function for\n   LSP13 LMEG\
    \ that then generates LKR packets on the LSP13 LMEG in order\n   to allow its\
    \ MEPs in T-PE 1 and S-PE 3 to suppress the LOC alarm.\n   S-PE 3 can also suppress\
    \ the secondary alarm on PW13 PSMEG because\n   the MEP of PW13 PSMEG resides\
    \ within the same node as the MEP of\n   LSP13 LMEG.  The MEP of PW13 PSMEG in\
    \ S-PE 3 also notifies the\n   adaptation function for PW1Z PMEG that then generates\
    \ AIS packets on\n   PW1Z PMEG in order to allow its MEP in T-PE Z to suppress\
    \ the LOC\n   alarm.\n   The generation of LKR packets for each MEG in the MPLS-TP\
    \ client\n   (sub-)layer is configurable (i.e., the operator can enable/disable\n\
    \   the LKR generation).\n   The locked condition is cleared if no LKR packet\
    \ has been received\n   for 3.5 times the transmission period.\n   The LKR transmission\
    \ period is traditionally one per second, but an\n   option to configure longer\
    \ periods would be also desirable.  As a\n   consequence, OAM packets need to\
    \ self-identify the transmission\n   period such that proper exit criteria can\
    \ be established.\n   LKR packets are transmitted with the \"minimum loss probability\
    \ PHB\"\n   within a single network operator.  For E-LSPs, this PHB is\n   configurable\
    \ on network operator's basis, while for L-LSPs, this is\n   determined as per\
    \ RFC 3270 [23].\n"
- title: 5.5.  Packet Loss Measurement
  contents:
  - "5.5.  Packet Loss Measurement\n   Packet Loss Measurement (LM) is one of the\
    \ capabilities supported by\n   the MPLS-TP Performance Monitoring (PM) function\
    \ in order to\n   facilitate reporting of Quality of Service (QoS) information\
    \ for a\n   transport path as required in Section 2.2.11 of RFC 5860 [11].  LM\
    \ is\n   used to exchange counter values for the number of ingress and egress\n\
    \   packets transmitted and received by the transport path monitored by a\n  \
    \ pair of MEPs.\n   Proactive LM is performed by periodically sending LM OAM packets\
    \ from\n   a MEP to a peer MEP and by receiving LM OAM packets from the peer MEP\n\
    \   (if a co-routed or associated bidirectional transport path) during\n   the\
    \ lifetime of the transport path.  Each MEP performs measurements\n   of its transmitted\
    \ and received user data packets.  These\n   measurements are then correlated\
    \ in real time with the peer MEP in\n   the ME to derive the impact of packet\
    \ loss on a number of performance\n   metrics for the ME in the MEG.  The LM transactions\
    \ are issued such\n   that the OAM packets will experience the same PHB scheduling\
    \ class as\n   the measured traffic while transiting between the MEPs in the ME.\n\
    \   For a MEP, near-end packet loss refers to packet loss associated with\n  \
    \ incoming data packets (from the far-end MEP), while far-end packet\n   loss\
    \ refers to packet loss associated with egress data packets\n   (towards the far-end\
    \ MEP).\n   Proactive LM can be operated in two ways:\n   o  One-way: a MEP sends\
    \ an LM OAM packet to its peer MEP containing\n      all the required information\
    \ to facilitate near-end packet loss\n      measurements at the peer MEP.\n  \
    \ o  Two-way: a MEP sends an LM OAM packet with an LM request to its\n      peer\
    \ MEP, which replies with an LM OAM packet as an LM response.\n      The request/response\
    \ LM OAM packets contain all the required\n      information to facilitate both\
    \ near-end and far-end packet loss\n      measurements from the viewpoint of the\
    \ originating MEP.\n   One-way LM is applicable to both unidirectional and bidirectional\n\
    \   (co-routed or associated) transport paths, while two-way LM is\n   applicable\
    \ only to bidirectional (co-routed or associated) transport\n   paths.\n   MIPs,\
    \ as well as intermediate nodes, do not process the LM\n   information; they forward\
    \ these proactive LM OAM packets as regular\n   data packets.\n"
- title: 5.5.1.  Configuration Considerations
  contents:
  - "5.5.1.  Configuration Considerations\n   In order to support proactive LM, the\
    \ transmission rate and, for\n   E-LSPs, the PHB class (associated with the LM\
    \ OAM packets originating\n   from a MEP) need to be configured as part of the\
    \ LM provisioning.  LM\n   OAM packets should be transmitted with the PHB that\
    \ yields the lowest\n   drop precedence within the measured PHB Scheduling Class\
    \ (see RFC\n   3260 [17]), in order to maximize reliability of measurement within\n\
    \   the traffic class.\n   If that PHB class is not an ordered aggregate where\
    \ the ordering\n   constraint is all packets with the PHB class being delivered\
    \ in\n   order, LM can produce inconsistent results.\n   Performance monitoring\
    \ (e.g., LM) is only relevant when the transport\n   path is defect free.  CC-V\
    \ contributes to the accuracy of PM\n   statistics by permitting the defect-free\
    \ periods to be properly\n   distinguished.  Therefore, support of proactive LM\
    \ has implications\n   on the CC-V transmission period (see Section 5.1.3).\n"
- title: 5.5.2.  Sampling Skew
  contents:
  - "5.5.2.  Sampling Skew\n   If an implementation makes use of a hardware forwarding\
    \ path that\n   operates in parallel with an OAM processing path, whether hardware\
    \ or\n   software based, the packet and byte counts may be skewed if one or\n\
    \   more packets can be processed before the OAM processing samples\n   counters.\
    \  If OAM is implemented in software, this error can be quite\n   large.\n"
- title: 5.5.3.  Multilink Issues
  contents:
  - "5.5.3.  Multilink Issues\n   If multilink is used at the ingress or egress of\
    \ a transport path,\n   there may not be a single packet-processing engine where\
    \ an LM packet\n   can be injected or extracted as an atomic operation while having\n\
    \   accurate packet and byte counts associated with the packet.\n   In the case\
    \ where multilink is encountered along the route of the\n   transport path, the\
    \ reordering of packets within the transport path\n   can cause inaccurate LM\
    \ results.\n"
- title: 5.6.  Packet Delay Measurement
  contents:
  - "5.6.  Packet Delay Measurement\n   Packet Delay Measurement (DM) is one of the\
    \ capabilities supported by\n   the MPLS-TP PM function in order to facilitate\
    \ reporting of QoS\n   information for a transport path as required in Section\
    \ 2.2.12 of RFC\n   5860 [11].  Specifically, proactive DM is used to measure\
    \ the long-\n   term packet delay and packet delay variation in the transport\
    \ path\n   monitored by a pair of MEPs.\n   Proactive DM is performed by sending\
    \ periodic DM OAM packets from a\n   MEP to a peer MEP and by receiving DM OAM\
    \ packets from the peer MEP\n   (if a co-routed or associated bidirectional transport\
    \ path) during a\n   configurable time interval.\n   Proactive DM can be operated\
    \ in two ways:\n   o  One-way: a MEP sends a DM OAM packet to its peer MEP containing\n\
    \      all the required information to facilitate one-way packet delay\n     \
    \ and/or one-way packet delay variation measurements at the peer\n      MEP. \
    \ Note that this requires precise time synchronization at\n      either MEP by\
    \ means outside the scope of this framework.\n   o  Two-way: a MEP sends a DM\
    \ OAM packet with a DM request to its peer\n      MEP, which replies with a DM\
    \ OAM packet as a DM response.  The\n      request/response DM OAM packets contain\
    \ all the required\n      information to facilitate two-way packet delay and/or\
    \ two-way\n      packet delay variation measurements from the viewpoint of the\n\
    \      originating MEP.\n   One-way DM is applicable to both unidirectional and\
    \ bidirectional\n   (co-routed or associated) transport paths, while two-way DM\
    \ is\n   applicable only to bidirectional (co-routed or associated) transport\n\
    \   paths.\n   MIPs, as well as intermediate nodes, do not process the DM\n  \
    \ information; they forward these proactive DM OAM packets as regular\n   data\
    \ packets.\n"
- title: 5.6.1.  Configuration Considerations
  contents:
  - "5.6.1.  Configuration Considerations\n   In order to support proactive DM, the\
    \ transmission rate and, for\n   E-LSPs, the PHB (associated with the DM OAM packets\
    \ originating from\n   a MEP) need to be configured as part of the DM provisioning.\
    \  DM OAM\n   packets should be transmitted with the PHB that yields the lowest\n\
    \   drop precedence within the measured PHB Scheduling Class (see RFC\n   3260\
    \ [17]).\n   Performance monitoring (e.g., DM) is only relevant when the transport\n\
    \   path is defect free.  CC-V contributes to the accuracy of PM\n   statistics\
    \ by permitting the defect-free periods to be properly\n   distinguished.  Therefore,\
    \ support of proactive DM has implications\n   on the CC-V transmission period\
    \ (see Section 5.1.3).\n"
- title: 5.7.  Client Failure Indication
  contents:
  - "5.7.  Client Failure Indication\n   The Client Failure Indication (CFI) function,\
    \ as required in Section\n   2.2.10 of RFC 5860 [11], is used to help process\
    \ client defects and\n   propagate a client signal defect condition from the process\n\
    \   associated with the local attachment circuit where the defect was\n   detected\
    \ (typically the source adaptation function for the local\n   client interface).\
    \  It is propagated to the process associated with\n   the far-end attachment\
    \ circuit (typically the source adaptation\n   function for the far-end client\
    \ interface) for the same transmission\n   path, in case the client of the transport\
    \ path does not support a\n   native defect/alarm indication mechanism, e.g.,\
    \ AIS.\n   A source MEP starts transmitting a CFI to its peer MEP when it\n  \
    \ receives a local client signal defect notification via its local\n   client\
    \ signal fail indication.  Mechanisms to detect local client\n   signal fail defects\
    \ are technology specific.  Similarly, mechanisms\n   to determine when to cease\
    \ originating client signal fail indication\n   are also technology specific.\n\
    \   A sink MEP that has received a CFI reports this condition to its\n   associated\
    \ client process via its local CFI function.  Consequent\n   actions toward the\
    \ client attachment circuit are technology specific.\n   There needs to be a 1:1\
    \ correspondence between the client and the\n   MEG; otherwise, when multiple\
    \ clients are multiplexed over a\n   transport path, the CFI packet requires additional\
    \ information to\n   permit the client instance to be identified.\n   MIPs, as\
    \ well as intermediate nodes, do not process the CFI\n   information; they forward\
    \ these proactive CFI OAM packets as regular\n   data packets.\n"
- title: 5.7.1.  Configuration Considerations
  contents:
  - "5.7.1.  Configuration Considerations\n   In order to support CFI indication,\
    \ the CFI transmission rate and,\n   for E-LSPs, the PHB of the CFI OAM packets\
    \ should be configured as\n   part of the CFI configuration.\n"
- title: 6.  OAM Functions for On-Demand Monitoring
  contents:
  - "6.  OAM Functions for On-Demand Monitoring\n   In contrast to proactive monitoring,\
    \ on-demand monitoring is\n   initiated manually and for a limited amount of time,\
    \ usually for\n   operations such as diagnostics to investigate a defect condition.\n\
    \   On-demand monitoring covers a combination of \"in-service\" and \"out-\n \
    \  of-service\" monitoring functions.  The control and measurement\n   implications\
    \ are:\n   1. A MEG can be directed to perform an \"on-demand\" functions at\n\
    \      arbitrary times in the lifetime of a transport path.\n   2. \"Out-of-service\"\
    \ monitoring functions may require a priori\n      configuration of both MEPs\
    \ and intermediate nodes in the MEG\n      (e.g., data-plane loopback) and the\
    \ issuance of notifications into\n      client layers of the transport path being\
    \ removed from service\n      (e.g., lock reporting)\n   3. The measurements resulting\
    \ from \"on-demand\" monitoring are\n      typically harvested in real time, as\
    \ they are frequently initiated\n      manually.  These do not necessarily require\
    \ different harvesting\n      mechanisms than for harvesting proactive monitoring\
    \ telemetry.\n   The functions that are exclusively out-of-service are those described\n\
    \   in Section 6.3.  The remainder are applicable to both in-service and\n   out-of-service\
    \ transport paths.\n"
- title: 6.1.  Connectivity Verification
  contents:
  - "6.1.  Connectivity Verification\n   The on-demand connectivity verification function,\
    \ as required in\n   Section 2.2.3 of RFC 5860 [11], is a transaction that flows\
    \ from the\n   originating MEP to a target MIP or MEP to verify the connectivity\n\
    \   between these points.\n   Use of on-demand CV is dependent on the existence\
    \ of a bidirectional\n   ME or an associated return ME, or the availability of\
    \ an out-of-band\n   return path, because it requires the ability for target MIPs\
    \ and MEPs\n   to direct responses to the originating MEPs.\n   One possible use\
    \ of on-demand CV would be to perform fault management\n   without using proactive\
    \ CC-V, in order to preserve network resources,\n   e.g., bandwidth, processing\
    \ time at switches.  In this case, network\n   management periodically invokes\
    \ on-demand CV.\n   An additional use of on-demand CV would be to detect and locate\
    \ a\n   problem of connectivity when a problem is suspected or known to be\n \
    \  based on other tools.  In this case, the functionality will be\n   triggered\
    \ by the network management in response to a status signal or\n   alarm indication.\n\
    \   On-demand CV is based upon generation of on-demand CV packets that\n   should\
    \ uniquely identify the MEG that is being checked.  The on-\n   demand functionality\
    \ may be used to check either an entire MEG (end-\n   to-end) or between the originating\
    \ MEP and a specific MIP.  This\n   functionality may not be available for associated\
    \ bidirectional\n   transport paths or unidirectional paths, as the MIP may not\
    \ have a\n   return path to the originating MEP for the on-demand CV transaction.\n\
    \   When on-demand CV is invoked, the originating MEP issues a sequence\n   of\
    \ on-demand CV packets that uniquely identifies the MEG being\n   verified.  The\
    \ number of packets and their transmission rate should\n   be pre-configured at\
    \ the originating MEP to take into account normal\n   packet-loss conditions.\
    \  The source MEP should use the mechanisms\n   defined in Sections 3.3 and 3.4\
    \ when sending an on-demand CV packet\n   to a target MEP or target MIP, respectively.\
    \  The target MEP/MIP\n   shall return a reply on-demand CV packet for each packet\
    \ received.\n   If the expected number of on-demand CV reply packets is not received\n\
    \   at the originating MEP, this is an indication that a connectivity\n   problem\
    \ may exist.\n   On-demand CV should have the ability to carry padding such that\
    \ a\n   variety of MTU sizes can be originated to verify the MTU transport\n \
    \  capability of the transport path.\n   MIPs that are not targeted by on-demand\
    \ CV packets, as well as\n   intermediate nodes, do not process the CV information;\
    \ they forward\n   these on-demand CV OAM packets as regular data packets.\n"
- title: 6.1.1.  Configuration Considerations
  contents:
  - "6.1.1.  Configuration Considerations\n   For on-demand CV, the originating MEP\
    \ should support the\n   configuration of the number of packets to be transmitted/received\
    \ in\n   each sequence of transmissions and their packet size.\n   In addition,\
    \ when the CV packet is used to check connectivity toward\n   a target MIP, the\
    \ number of hops to reach the target MIP should be\n   configured.\n   For E-LSPs,\
    \ the PHB of the on-demand CV packets should be configured\n   as well.  This\
    \ permits the verification of correct operation of QoS\n   queuing as well as\
    \ connectivity.\n"
- title: 6.2.  Packet Loss Measurement
  contents:
  - "6.2.  Packet Loss Measurement\n   On-demand Packet Loss Measurement (LM) is one\
    \ of the capabilities\n   supported by the MPLS-TP Performance Monitoring function\
    \ in order to\n   facilitate the diagnosis of QoS performance for a transport\
    \ path, as\n   required in Section 2.2.11 of RFC 5860 [11].\n   On-demand LM is\
    \ very similar to proactive LM described in Section\n   5.5.  This section focuses\
    \ on the differences between on-demand and\n   proactive LM.\n   On-demand LM\
    \ is performed by periodically sending LM OAM packets from\n   a MEP to a peer\
    \ MEP and by receiving LM OAM packets from the peer MEP\n   (if a co-routed or\
    \ associated bidirectional transport path) during a\n   pre-defined monitoring\
    \ period.  Each MEP performs measurements of its\n   transmitted and received\
    \ user data packets.  These measurements are\n   then correlated to evaluate the\
    \ packet-loss performance metrics of\n   the transport path.\n   Use of packet\
    \ loss measurement in an out-of-service transport path\n   requires a traffic\
    \ source such as a test device that can inject\n   synthetic traffic.\n"
- title: 6.2.1.  Configuration Considerations
  contents:
  - "6.2.1.  Configuration Considerations\n   In order to support on-demand LM, the\
    \ beginning and duration of the\n   LM procedures, the transmission rate, and,\
    \ for E-LSPs, the PHB class\n   (associated with the LM OAM packets originating\
    \ from a MEP) must be\n   configured as part of the on-demand LM provisioning.\
    \  LM OAM packets\n   should be transmitted with the PHB that yields the lowest\
    \ drop\n   precedence as described in Section 5.5.1.\n"
- title: 6.2.2.  Sampling Skew
  contents:
  - "6.2.2.  Sampling Skew\n   The same considerations described in Section 5.5.2\
    \ for the proactive\n   LM are also applicable to on-demand LM implementations.\n"
- title: 6.2.3.  Multilink Issues
  contents:
  - "6.2.3.  Multilink Issues\n   Multilink issues are as described in Section 5.5.3.\n"
- title: 6.3.  Diagnostic Tests
  contents:
  - "6.3.  Diagnostic Tests\n   Diagnostic tests are tests performed on a MEG that\
    \ has been taken out\n   of service.\n"
- title: 6.3.1.  Throughput Estimation
  contents:
  - "6.3.1.  Throughput Estimation\n   Throughput estimation is an on-demand out-of-service\
    \ function, as\n   required in Section 2.2.5 of RFC 5860 [11], that allows verifying\
    \ the\n   bandwidth/throughput of an MPLS-TP transport path (LSP or PW) before\n\
    \   it is put in service.\n   Throughput estimation is performed between MEPs\
    \ and between a MEP and\n   a MIP.  It can be performed in one-way or two-way\
    \ modes.\n   According to RFC 2544 [12], this test is performed by sending OAM\n\
    \   test packets at increasing rates (up to the theoretical maximum),\n   computing\
    \ the percentage of OAM test packets received, and reporting\n   the rate at which\
    \ OAM test packets begin to drop.  In general, this\n   rate is dependent on the\
    \ OAM test packet size.\n   When configured to perform such tests, a source MEP\
    \ inserts OAM test\n   packets with a specified packet size and transmission pattern\
    \ at a\n   rate to exercise the throughput.\n   The throughput test can create\
    \ congestion within the network, thus\n   impacting other transport paths.  However,\
    \ the test traffic should\n   comply with the traffic profile of the transport\
    \ path under test, so\n   the impact of the test will not be worse than the impact\
    \ caused by\n   the customers, whose traffic would be sent over that transport\
    \ path,\n   sending the traffic at the maximum rate allowed by their traffic\n\
    \   profiles.  Therefore, throughput tests are not applicable to\n   transport\
    \ paths that do not have a defined traffic profile, such as\n   LSPs in a context\
    \ where statistical multiplexing is leveraged for\n   network capacity dimensioning.\n\
    \   For a one-way test, the remote sink MEP receives the OAM test packets\n  \
    \ and calculates the packet loss.  For a two-way test, the remote MEP\n   loops\
    \ the OAM test packets back to the original MEP, and the local\n   sink MEP calculates\
    \ the packet loss.\n   It is worth noting that two-way throughput estimation is\
    \ only\n   applicable to bidirectional (co-routed or associated) transport paths\n\
    \   and can only evaluate the minimum of available throughput of the two\n   directions.\
    \  In order to estimate the throughput of each direction\n   uniquely, two one-way\
    \ throughput estimation sessions have to be set\n   up.  One-way throughput estimation\
    \ requires coordination between the\n   transmitting and receiving test devices\
    \ as described in Section 6 of\n   RFC 2544 [12].\n   It is also worth noting\
    \ that if throughput estimation is performed on\n   transport paths that transit\
    \ oversubscribed links, the test may not\n   produce comprehensive results if\
    \ viewed in isolation because the\n   impact of the test on the surrounding traffic\
    \ needs to also be\n   considered.  Moreover, the estimation will only reflect\
    \ the bandwidth\n   available at the moment when the measure is made.\n   MIPs\
    \ that are not targeted by on-demand test OAM packets, as well as\n   intermediate\
    \ nodes, do not process the throughput test information;\n   they forward these\
    \ on-demand test OAM packets as regular data\n   packets.\n"
- title: 6.3.1.1.  Configuration Considerations
  contents:
  - "6.3.1.1.  Configuration Considerations\n   Throughput estimation is an out-of-service\
    \ tool.  The diagnosed MEG\n   should be put into a locked state before the diagnostic\
    \ test is\n   started.\n   A MEG can be put into a locked state either via an\
    \ NMS action or\n   using the Lock Instruct OAM tool as defined in Section 7.\n\
    \   At the transmitting MEP, provisioning is required for a test signal\n   generator\
    \ that is associated with the MEP.  At a receiving MEP,\n   provisioning is required\
    \ for a test signal detector that is\n   associated with the MEP.\n   In order\
    \ to ensure accurate measurement, care needs to be taken to\n   enable throughput\
    \ estimation only if all the MEPs within the MEG can\n   process OAM test packets\
    \ at the same rate as the payload data rates\n   (see Section 6.3.1.2).\n"
- title: 6.3.1.2.  Limited OAM Processing Rate
  contents:
  - "6.3.1.2.  Limited OAM Processing Rate\n   If an implementation is able to process\
    \ payload at much higher data\n   rates than OAM test packets, then accurate measurement\
    \ of throughput\n   using OAM test packets is not achievable.  Whether OAM packets\
    \ can be\n   processed at the same rate as payload is implementation dependent.\n"
- title: 6.3.1.3.  Multilink Considerations
  contents:
  - "6.3.1.3.  Multilink Considerations\n   If multilink is used, then it may not\
    \ be possible to perform\n   throughput measurement, as the throughput test may\
    \ not have a\n   mechanism for utilizing more than one component link of the\n\
    \   aggregated link.\n"
- title: 6.3.2.  Data-Plane Loopback
  contents:
  - "6.3.2.  Data-Plane Loopback\n   Data-plane loopback is an out-of-service function,\
    \ as required in\n   Section 2.2.5 of RFC 5860 [11].  This function consists in\
    \ placing a\n   transport path, at either an intermediate or terminating node,\
    \ into a\n   data-plane loopback state, such that all traffic (including both\n\
    \   payload and OAM) received on the looped back interface is sent on the\n  \
    \ reverse direction of the transport path.  The traffic is looped back\n   unmodified\
    \ except for normal per-hop processing such as TTL\n   decrement.\n   The data-plane\
    \ loopback function requires that the MEG is locked such\n   that user data traffic\
    \ is prevented from entering/exiting that MEG.\n   Instead, test traffic is inserted\
    \ at the ingress of the MEG.  This\n   test traffic can be generated from an internal\
    \ process residing\n   within the ingress node or injected by external test equipment\n\
    \   connected to the ingress node.\n   It is also normal to disable proactive\
    \ monitoring of the path as the\n   MEP located upstream with respect to the node\
    \ set in the data-plane\n   loopback mode will see all the OAM packets originated\
    \ by itself, and\n   this may interfere with other measurements.\n   The only\
    \ way to send an OAM packet (e.g., to remove the data-plane\n   loopback state)\
    \ to the MIPs or MEPs hosted by a node set in the data-\n   plane loopback mode\
    \ is via TTL expiry.  It should also be noted that\n   MIPs can be addressed with\
    \ more than one TTL value on a co-routed\n   bidirectional path set into data-plane\
    \ loopback.\n   If the loopback function is to be performed at an intermediate\
    \ node,\n   it is only applicable to co-routed bidirectional paths.  If the\n\
    \   loopback is to be performed end to end, it is applicable to both co-\n   routed\
    \ bidirectional and associated bidirectional paths.\n   It should be noted that\
    \ data-plane loopback function itself is\n   applied to data-plane loopback points\
    \ that can reside on different\n   interfaces from MIPs/MEPs.  Where a node implements\
    \ data-plane\n   loopback capability and whether it implements it in more than\
    \ one\n   point is implementation dependent.\n"
- title: 6.3.2.1.  Configuration Considerations
  contents:
  - "6.3.2.1.  Configuration Considerations\n   Data-plane loopback is an out-of-service\
    \ tool.  The MEG that defines\n   a diagnosed transport path should be put into\
    \ a locked state before\n   the diagnostic test is started.  However, a means\
    \ is required to\n   permit the originated test traffic to be inserted at the\
    \ ingress MEP\n   when data-plane loopback is performed.\n   A transport path,\
    \ at either an intermediate or terminating node, can\n   be put into data-plane\
    \ loopback state via an NMS action or using an\n   OAM tool for data-plane loopback\
    \ configuration.\n   If the data-plane loopback point is set somewhere at an intermediate\n\
    \   point of a co-routed bidirectional transport path, the side of the\n   loopback\
    \ function (east/west side or both sides) needs to be\n   configured.\n"
- title: 6.4.  Route Tracing
  contents:
  - "6.4.  Route Tracing\n   It is often necessary to trace a route covered by a MEG\
    \ from an\n   originating MEP to the peer MEP(s) including all the MIPs in between.\n\
    \   This may be conducted after provisioning an MPLS-TP transport path\n   for,\
    \ e.g., troubleshooting purposes such as fault localization.\n   The route tracing\
    \ function, as required in Section 2.2.4 of RFC 5860\n   [11], is providing this\
    \ functionality.  Based on the fate-sharing\n   requirement of OAM flows, i.e.,\
    \ OAM packets receive the same\n   forwarding treatment as data packets, route\
    \ tracing is a basic means\n   to perform connectivity verification and, to a\
    \ much lesser degree,\n   continuity check.  For this function to work properly,\
    \ a return path\n   must be present.\n   Route tracing might be implemented in\
    \ different ways, and this\n   document does not preclude any of them.\n   Route\
    \ tracing should always discover the full list of MIPs and of\n   peer MEPs. \
    \ In case a defect exists, the route tracing function will\n   only be able to\
    \ trace up to the defect, and it needs to be able to\n   return the incomplete\
    \ list of OAM entities that it was able to trace\n   so that the fault can be\
    \ localized.\n"
- title: 6.4.1.  Configuration Considerations
  contents:
  - "6.4.1.  Configuration Considerations\n   The configuration of the route tracing\
    \ function must at least support\n   the setting of the number of trace attempts\
    \ before it gives up.\n"
- title: 6.5.  Packet Delay Measurement
  contents:
  - "6.5.  Packet Delay Measurement\n   Packet Delay Measurement (DM) is one of the\
    \ capabilities supported by\n   the MPLS-TP PM function in order to facilitate\
    \ reporting of QoS\n   information for a transport path, as required in Section\
    \ 2.2.12 of\n   RFC 5860 [11].  Specifically, on-demand DM is used to measure\
    \ packet\n   delay and packet delay variation in the transport path monitored\
    \ by a\n   pair of MEPs during a pre-defined monitoring period.\n   On-demand\
    \ DM is performed by sending periodic DM OAM packets from a\n   MEP to a peer\
    \ MEP and by receiving DM OAM packets from the peer MEP\n   (if a co-routed or\
    \ associated bidirectional transport path) during a\n   configurable time interval.\n\
    \   On-demand DM can be operated in two modes:\n   o  One-way: a MEP sends a DM\
    \ OAM packet to its peer MEP containing\n      all the required information to\
    \ facilitate one-way packet delay\n      and/or one-way packet delay variation\
    \ measurements at the peer\n      MEP.  Note that this requires precise time synchronization\
    \ at\n      either MEP by means outside the scope of this framework.\n   o  Two-way:\
    \ a MEP sends a DM OAM packet with a DM request to its peer\n      MEP, which\
    \ replies with a DM OAM packet as a DM response.  The\n      request/response\
    \ DM OAM packets contain all the required\n      information to facilitate two-way\
    \ packet delay and/or two-way\n      packet delay variation measurements from\
    \ the viewpoint of the\n      originating MEP.\n   MIPs, as well as intermediate\
    \ nodes, do not process the DM\n   information; they forward these on-demand DM\
    \ OAM packets as regular\n   data packets.\n"
- title: 6.5.1.  Configuration Considerations
  contents:
  - "6.5.1.  Configuration Considerations\n   In order to support on-demand DM, the\
    \ beginning and duration of the\n   DM procedures, the transmission rate and,\
    \ for E-LSPs, the PHB\n   (associated with the DM OAM packets originating from\
    \ a MEP) need to\n   be configured as part of the DM provisioning.  DM OAM packets\
    \ should\n   be transmitted with the PHB that yields the lowest drop precedence\n\
    \   within the measured PHB Scheduling Class (see RFC 3260 [17]).\n   In order\
    \ to verify different performances between long and short\n   packets (e.g., due\
    \ to the processing time), it should be possible for\n   the operator to configure\
    \ the packet size of the on-demand OAM DM\n   packet.\n"
- title: 7.  OAM Functions for Administration Control
  contents:
  - '7.  OAM Functions for Administration Control

    '
- title: 7.1.  Lock Instruct
  contents:
  - "7.1.  Lock Instruct\n   The Lock Instruct (LKI) function, as required in Section\
    \ 2.2.6 of RFC\n   5860 [11], is a command allowing a MEP to instruct the peer\
    \ MEP(s) to\n   put the MPLS-TP transport path into a locked condition.\n   This\
    \ function allows single-side provisioning for administratively\n   locking (and\
    \ unlocking) an MPLS-TP transport path.\n   Note that it is also possible to administratively\
    \ lock (and unlock)\n   an MPLS-TP transport path using two-side provisioning,\
    \ where the NMS\n   administratively puts both MEPs into an administrative lock\n\
    \   condition.  In this case, the LKI function is not required/used.\n   MIPs,\
    \ as well as intermediate nodes, do not process the Lock Instruct\n   information;\
    \ they forward these on-demand LKI OAM packets as regular\n   data packets.\n"
- title: 7.1.1.  Locking a Transport Path
  contents:
  - "7.1.1.  Locking a Transport Path\n   A MEP, upon receiving a single-side administrative\
    \ lock command from\n   an NMS, sends an LKI request OAM packet to its peer MEP(s).\
    \  It also\n   puts the MPLS-TP transport path into a locked state and notifies\
    \ its\n   client (sub-)layer adaptation function upon the locked condition.\n\
    \   A MEP, upon receiving an LKI request from its peer MEP, can either\n   accept\
    \ or reject the instruction and replies to the peer MEP with an\n   LKI reply\
    \ OAM packet indicating whether or not it has accepted the\n   instruction.  This\
    \ requires either an in-band or out-of-band return\n   path.  The LKI reply is\
    \ needed to allow the MEP to properly report to\n   the NMS the actual result\
    \ of the single-side administrative lock\n   command.\n   If the lock instruction\
    \ has been accepted, it also puts the MPLS-TP\n   transport path into a locked\
    \ state and notifies its client\n   (sub-)layer adaptation function upon the locked\
    \ condition.\n   Note that if the client (sub-)layer is also MPLS-TP, Lock Report\n\
    \   (LKR) generation at the client MPLS-TP (sub-)layer is started, as\n   described\
    \ in Section 5.4.\n"
- title: 7.1.2.  Unlocking a Transport Path
  contents:
  - "7.1.2.  Unlocking a Transport Path\n   A MEP, upon receiving a single-side administrative\
    \ unlock command\n   from NMS, sends an LKI removal request OAM packet to its\
    \ peer MEP(s).\n   The peer MEP, upon receiving an LKI removal request, can either\n\
    \   accept or reject the removal instruction and replies with an LK\n   removal\
    \ reply OAM packet indicating whether or not it has accepted\n   the instruction.\
    \  The LKI removal reply is needed to allow the MEP to\n   properly report to\
    \ the NMS the actual result of the single-side\n   administrative unlock command.\n\
    \   If the lock removal instruction has been accepted, it also clears the\n  \
    \ locked condition on the MPLS-TP transport path and notifies its\n   client (sub-)layer\
    \ adaptation function of this event.\n   The MEP that has initiated the LKI clear\
    \ procedure, upon receiving a\n   positive LKI removal reply, also clears the\
    \ locked condition on the\n   MPLS-TP transport path and notifies this event to\
    \ its client\n   (sub-)layer adaptation function.\n   Note that if the client\
    \ (sub-)layer is also MPLS-TP, Lock Report\n   (LKR) generation at the client\
    \ MPLS-TP (sub-)layer is terminated, as\n   described in Section 5.4.\n"
- title: 8.  Security Considerations
  contents:
  - "8.  Security Considerations\n   A number of security considerations are important\
    \ in the context of\n   OAM applications.\n   OAM traffic can reveal sensitive\
    \ information, such as performance\n   data and details, about the current state\
    \ of the network.  Insertion\n   or modification of OAM transactions can mask\
    \ the true operational\n   state of the network, and in the case of transactions\
    \ for\n   administration control, such as lock or data-plane loopback\n   instructions,\
    \ these can be used for explicit denial-of-service\n   attacks.  The effect of\
    \ such attacks is mitigated only by the fact\n   that, for in-band messaging,\
    \ the managed entities whose state can be\n   masked is limited to those that\
    \ transit the point of malicious access\n   to the network internals due to the\
    \ fate-sharing nature of OAM\n   messaging.  This is not true when an out-of-band\
    \ return path is\n   employed.\n   The sensitivity of OAM data therefore suggests\
    \ that one solution is\n   that some form of authentication, authorization, and\
    \ encryption is in\n   place.  This will prevent unauthorized access to vital\
    \ equipment, and\n   it will prevent third parties from learning about sensitive\n\
    \   information about the transport network.  However, it should be\n   observed\
    \ that the combination of the frequency of some OAM\n   transactions, the need\
    \ for timeliness of OAM transaction exchange,\n   and all permutations of unique\
    \ MEP to MEP, MEP to MIP, and\n   intermediate-system-originated transactions\
    \ mitigates against the\n   practical establishment and maintenance of a large\
    \ number of security\n   associations per MEG either in advance or as required.\n\
    \   For this reason, it is assumed that the internal links of the network\n  \
    \ are physically secured from malicious access such that OAM\n   transactions\
    \ scoped to fault and performance management of individual\n   MEGs are not encumbered\
    \ with additional security.  Further, it is\n   assumed in multi-provider cases\
    \ where OAM transactions originate\n   outside of an individual provider's trusted\
    \ domain that filtering\n   mechanisms or further encapsulation will need to constrain\
    \ the\n   potential impact of malicious transactions.  Mechanisms that the\n \
    \  framework does not specify might be subject to additional security\n   considerations.\n\
    \   In case of misconfiguration, some nodes can receive OAM packets that\n   they\
    \ cannot recognize.  In such a case, these OAM packets should be\n   silently\
    \ discarded in order to avoid malfunctions whose effects may\n   be similar to\
    \ malicious attacks (e.g., degraded performance or even\n   failure).  Further\
    \ considerations about data-plane attacks via G-ACh\n   are provided in RFC 5921\
    \ [8].\n"
- title: 9.  Acknowledgments
  contents:
  - "9.  Acknowledgments\n   The authors would like to thank all members of the teams\
    \ (the Joint\n   Working Team, the MPLS Interoperability Design Team in IETF,\
    \ and the\n   Ad Hoc Group on MPLS-TP in ITU-T) involved in the definition and\n\
    \   specification of the MPLS Transport Profile.\n   The editors gratefully acknowledge\
    \ the contributions of Adrian\n   Farrel, Yoshinori Koike, Luca Martini, Yuji\
    \ Tochio, and Manuel Paul\n   for the definition of per-interface MIPs and MEPs.\n\
    \   The editors gratefully acknowledge the contributions of Malcolm\n   Betts,\
    \ Yoshinori Koike, Xiao Min, and Maarten Vissers for the Lock\n   Report and Lock\
    \ Instruct descriptions.\n   The authors would also like to thank Alessandro D'Alessandro,\
    \ Loa\n   Andersson, Malcolm Betts, Dave Black, Stewart Bryant, Rui Costa,\n \
    \  Xuehui Dai, John Drake, Adrian Farrel, Dan Frost, Xia Liang, Liu\n   Gouman,\
    \ Peng He, Russ Housley, Feng Huang, Su Hui, Yoshionori Koike,\n   Thomas Morin,\
    \ George Swallow, Yuji Tochio, Curtis Villamizar, Maarten\n   Vissers, and Xuequin\
    \ Wei for their comments and enhancements to the\n   text.\n"
- title: 10.  References
  contents:
  - '10.  References

    '
- title: 10.1.  Normative References
  contents:
  - "10.1.  Normative References\n   [1]  Rosen, E., Viswanathan, A., and R. Callon,\
    \ \"Multiprotocol Label\n        Switching Architecture\", RFC 3031, January 2001.\n\
    \   [2]  Bryant, S., Ed., and P. Pate, Ed., \"Pseudo Wire Emulation Edge-\n  \
    \      to-Edge (PWE3) Architecture\", RFC 3985, March 2005.\n   [3]  Nadeau, T.,\
    \ Ed., and C. Pignataro, Ed., \"Pseudowire Virtual\n        Circuit Connectivity\
    \ Verification (VCCV): A Control Channel for\n        Pseudowires\", RFC 5085,\
    \ December 2007.\n   [4]  Bocci, M. and S. Bryant, \"An Architecture for Multi-Segment\n\
    \        Pseudowire Emulation Edge-to-Edge\", RFC 5659, October 2009.\n   [5]\
    \  Niven-Jenkins, B., Ed., Brungard, D., Ed., Betts, M., Ed.,\n        Sprecher,\
    \ N., and S. Ueno, \"Requirements of an MPLS Transport\n        Profile\", RFC\
    \ 5654, September 2009.\n   [6]  Agarwal, P. and B. Akyol, \"Time To Live (TTL)\
    \ Processing in\n        Multi-Protocol Label Switching (MPLS) Networks\", RFC\
    \ 3443,\n        January 2003.\n   [7]  Bocci, M., Ed., Vigoureux, M., Ed., and\
    \ S. Bryant, Ed., \"MPLS\n        Generic Associated Channel\", RFC 5586, June\
    \ 2009.\n   [8]  Bocci, M., Ed., Bryant, S., Ed., Frost, D., Ed., Levrau, L.,\
    \ and\n        L. Berger, \"A Framework for MPLS in Transport Networks\", RFC\n\
    \        5921, July 2010.\n   [9]  Bocci, M., Levrau, L., and D. Frost, \"MPLS\
    \ Transport Profile\n        User-to-Network and Network-to-Network Interfaces\"\
    , RFC 6215,\n        April 2011.\n   [10] Frost, D., Ed., Bryant, S., Ed., and\
    \ M. Bocci, Ed., \"MPLS\n        Transport Profile Data Plane Architecture\",\
    \ RFC 5960, August\n        2010.\n   [11] Vigoureux, M., Ed., Ward, D., Ed.,\
    \ and M. Betts, Ed.,\n        \"Requirements for Operations, Administration, and\
    \ Maintenance\n        (OAM) in MPLS Transport Networks\", RFC 5860, May 2010.\n\
    \   [12] Bradner, S. and J. McQuaid, \"Benchmarking Methodology for\n        Network\
    \ Interconnect Devices\", RFC 2544, March 1999.\n   [13] Blake, S., Black, D.,\
    \ Carlson, M., Davies, E., Wang, Z., and W.\n        Weiss, \"An Architecture\
    \ for Differentiated Service\", RFC 2475,\n        December 1998.\n   [14] ITU-T\
    \ Recommendation G.806 (01/09), \"Characteristics of\n        transport equipment\
    \ - Description methodology and generic\n        functionality\", January 2009.\n"
- title: 10.2.  Informative References
  contents:
  - "10.2.  Informative References\n   [15] Sprecher, N. and L. Fang, \"An Overview\
    \ of the OAM Tool Set for\n        MPLS based Transport Networks\", Work in Progress,\
    \ June 2011.\n   [16] Nichols, K., Blake, S., Baker, F., and D. Black, \"Definition\
    \ of\n        the Differentiated Services Field (DS Field) in the IPv4 and\n \
    \       IPv6 Headers\", RFC 2474, December 1998.\n   [17] Grossman, D., \"New\
    \ Terminology and Clarifications for Diffserv\",\n        RFC 3260, April 2002.\n\
    \   [18] Kompella, K., Rekhter, Y., and L. Berger, \"Link Bundling in MPLS\n \
    \       Traffic Engineering (TE)\", RFC 4201, October 2005.\n   [19] ITU-T Recommendation\
    \ G.707/Y.1322 (01/07), \"Network node\n        interface for the synchronous\
    \ digital hierarchy (SDH)\", January\n        2007.\n   [20] ITU-T Recommendation\
    \ G.805 (03/00), \"Generic functional\n        architecture of transport networks\"\
    , March 2000.\n   [21] ITU-T Recommendation Y.1731 (02/08), \"OAM functions and\n\
    \        mechanisms for Ethernet based networks\", February 2008.\n   [22] IEEE\
    \ Standard 802.1AX-2008, \"IEEE Standard for Local and\n        Metropolitan Area\
    \ Networks - Link Aggregation\", November 2008.\n   [23] Le Faucheur, F., Wu,\
    \ L., Davie, B., Davari, S., Vaananen, P.,\n        Krishnan, R., Cheval, P.,\
    \ and J. Heinanen, \"Multi-Protocol Label\n        Switching (MPLS) Support of\
    \ Differentiated Services\", RFC 3270,\n        May 2002.\n   [24] Bocci, M.,\
    \ Swallow, G., and E. Gray, \"MPLS Transport Profile\n        (MPLS-TP) Identifiers\"\
    , RFC 6370, September 2011.\n   [25] Winter, R., Ed., van Helvoort, H., and M.\
    \ Betts, \"MPLS-TP\n        Identifiers Following ITU-T Conventions\", Work in\
    \ Progress, July\n        2011.\n"
- title: 11.  Contributing Authors
  contents:
  - "11.  Contributing Authors\n   Ben Niven-Jenkins\n   Velocix\n   EMail: ben@niven-jenkins.co.uk\n\
    \   Annamaria Fulignoli\n   Ericsson\n   EMail: annamaria.fulignoli@ericsson.com\n\
    \   Enrique Hernandez-Valencia\n   Alcatel-Lucent\n   EMail: Enrique.Hernandez@alcatel-lucent.com\n\
    \   Lieven Levrau\n   Alcatel-Lucent\n   EMail: Lieven.Levrau@alcatel-lucent.com\n\
    \   Vincenzo Sestito\n   Alcatel-Lucent\n   EMail: Vincenzo.Sestito@alcatel-lucent.com\n\
    \   Nurit Sprecher\n   Nokia Siemens Networks\n   EMail: nurit.sprecher@nsn.com\n\
    \   Huub van Helvoort\n   Huawei Technologies\n   EMail: hhelvoort@huawei.com\n\
    \   Martin Vigoureux\n   Alcatel-Lucent\n   EMail: Martin.Vigoureux@alcatel-lucent.com\n\
    \   Yaacov Weingarten\n   Nokia Siemens Networks\n   EMail: yaacov.weingarten@nsn.com\n\
    \   Rolf Winter\n   NEC\n   EMail: Rolf.Winter@nw.neclab.eu\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Dave Allan\n   Ericsson\n   EMail: david.i.allan@ericsson.com\n\
    \   Italo Busi\n   Alcatel-Lucent\n   EMail: Italo.Busi@alcatel-lucent.com\n"
