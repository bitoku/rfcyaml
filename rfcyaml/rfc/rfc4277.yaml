- title: __initial_text__
  contents:
  - '                   Experience with the BGP-4 Protocol

    '
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This memo provides information for the Internet community.\
    \  It does\n   not specify an Internet standard of any kind.  Distribution of\
    \ this\n   memo is unlimited.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (C) The Internet Society (2006).\n"
- title: Abstract
  contents:
  - "Abstract\n   The purpose of this memo is to document how the requirements for\n\
    \   publication of a routing protocol as an Internet Draft Standard have\n   been\
    \ satisfied by Border Gateway Protocol version 4 (BGP-4).\n   This report satisfies\
    \ the requirement for \"the second report\", as\n   described in Section 6.0 of\
    \ RFC 1264.  In order to fulfill the\n   requirement, this report augments RFC\
    \ 1773 and describes additional\n   knowledge and understanding gained in the\
    \ time between when the\n   protocol was made a Draft Standard and when it was\
    \ submitted for\n   Standard.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1.  Introduction .................................................\
    \  3\n   2.  BGP-4 Overview ...............................................  3\n\
    \       2.1.  A Border Gateway Protocol ..............................  3\n  \
    \ 3.  Management Information Base (MIB) ............................  3\n   4.\
    \  Implementation Information ...................................  4\n   5.  Operational\
    \ Experience .......................................  4\n   6.  TCP Awareness\
    \ ................................................  5\n   7.  Metrics ......................................................\
    \  5\n       7.1.  MULTI_EXIT_DISC (MED) ..................................  5\n\
    \             7.1.1.  MEDs and Potatoes ..............................  6\n  \
    \           7.1.2.  Sending MEDs to BGP Peers ......................  7\n    \
    \         7.1.3.  MED of Zero Versus No MED ......................  7\n      \
    \       7.1.4.  MEDs and Temporal Route Selection ..............  7\n   8.  Local\
    \ Preference .............................................  8\n   9.  Internal\
    \ BGP In Large Autonomous Systems .....................  9\n   10. Internet Dynamics\
    \ ............................................  9\n   11. BGP Routing Information\
    \ Bases (RIBs) ......................... 10\n   12. Update Packing ...............................................\
    \ 10\n   13. Limit Rate Updates ........................................... 11\n\
    \       13.1. Consideration of TCP Characteristics ................... 11\n  \
    \ 14. Ordering of Path Attributes .................................. 12\n   15.\
    \ AS_SET Sorting ............................................... 12\n   16. Control\
    \ Over Version Negotiation ............................. 13\n   17. Security Considerations\
    \ ...................................... 13\n       17.1. TCP MD5 Signature Option\
    \ ............................... 13\n       17.2. BGP Over IPsec .........................................\
    \ 14\n       17.3. Miscellaneous .......................................... 14\n\
    \   18. PTOMAINE and GROW ............................................ 14\n  \
    \ 19. Internet Routing Registries (IRRs) ........................... 15\n   20.\
    \ Regional Internet Registries (RIRs) and IRRs, A Bit\n       of History ...................................................\
    \ 15\n   21. Acknowledgements ............................................. 16\n\
    \   22. References ................................................... 17\n  \
    \     22.1. Normative References ................................... 17\n    \
    \   22.2. Informative References ................................. 17\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   The purpose of this memo is to document how the requirements\
    \ for\n   publication of a routing protocol as an Internet Draft Standard have\n\
    \   been satisfied by Border Gateway Protocol version 4 (BGP-4).\n   This report\
    \ satisfies the requirement for \"the second report\", as\n   described in Section\
    \ 6.0 of [RFC1264].  In order to fulfill the\n   requirement, this report augments\
    \ [RFC1773] and describes additional\n   knowledge and understanding gained in\
    \ the time between when the\n   protocol was made a Draft Standard and when it\
    \ was submitted for\n   Standard.\n"
- title: 2.  BGP-4 Overview
  contents:
  - "2.  BGP-4 Overview\n   BGP is an inter-autonomous system routing protocol designed\
    \ for\n   TCP/IP internets.  The primary function of a BGP speaking system is\n\
    \   to exchange network reachability information with other BGP systems.\n   This\
    \ network reachability information includes information on the\n   list of Autonomous\
    \ Systems (ASes) that reachability information\n   traverses.  This information\
    \ is sufficient to construct a graph of AS\n   connectivity for this reachability,\
    \ from which routing loops may be\n   pruned and some policy decisions, at the\
    \ AS level, may be enforced.\n   The initial version of the BGP protocol was published\
    \ in [RFC1105].\n   Since then, BGP Versions 2, 3, and 4 have been developed and\
    \ are\n   specified in [RFC1163], [RFC1267], and [RFC1771], respectively.\n  \
    \ Changes to BGP-4 after it went to Draft Standard [RFC1771] are listed\n   in\
    \ Appendix N of [RFC4271].\n"
- title: 2.1.  A Border Gateway Protocol
  contents:
  - "2.1.  A Border Gateway Protocol\n   The initial version of the BGP protocol was\
    \ published in [RFC1105].\n   BGP version 2 is defined in [RFC1163].  BGP version\
    \ 3 is defined in\n   [RFC1267].  BGP version 4 is defined in [RFC1771] and [RFC4271].\n\
    \   Appendices A, B, C, and D of [RFC4271] provide summaries of the\n   changes\
    \ between each iteration of the BGP specification.\n"
- title: 3.  Management Information Base (MIB)
  contents:
  - "3.  Management Information Base (MIB)\n   The BGP-4 Management Information Base\
    \ (MIB) has been published\n   [BGP-MIB].  The MIB was updated from previous versions,\
    \ which are\n   documented in [RFC1657] and [RFC1269], respectively.\n   Apart\
    \ from a few system variables, the BGP MIB is broken into two\n   tables: the\
    \ BGP Peer Table and the BGP Received Path Attribute Table.\n   The Peer Table\
    \ reflects information about BGP peer connections, such\n   as their state and\
    \ current activity.  The Received Path Attribute\n   Table contains all attributes\
    \ received from all peers before local\n   routing policy has been applied.  The\
    \ actual attributes used in\n   determining a route are a subset of the received\
    \ attribute table.\n"
- title: 4.  Implementation Information
  contents:
  - "4.  Implementation Information\n   There are numerous independent interoperable\
    \ implementations of BGP\n   currently available.  Although the previous version\
    \ of this report\n   provided an overview of the implementations currently used\
    \ in the\n   operational Internet, at that time it has been suggested that a\n\
    \   separate BGP Implementation Report [RFC4276] be generated.\n   It should be\
    \ noted that implementation experience with Cisco's BGP-4\n   implementation was\
    \ documented as part of [RFC1656].\n   For all additional implementation information\
    \ please reference\n   [RFC4276].\n"
- title: 5.  Operational Experience
  contents:
  - "5.  Operational Experience\n   This section discusses operational experience\
    \ with BGP and BGP-4.\n   BGP has been used in the production environment since\
    \ 1989; BGP-4 has\n   been used since 1993.  Production use of BGP includes utilization\
    \ of\n   all significant features of the protocol.  The present production\n \
    \  environment, where BGP is used as the inter-autonomous system routing\n   protocol,\
    \ is highly heterogeneous.  In terms of link bandwidth, it\n   varies from 56\
    \ Kbps to 10 Gbps.  In terms of the actual routers that\n   run BGP, they range\
    \ from relatively slow performance, general purpose\n   CPUs to very high performance\
    \ RISC network processors, and include\n   both special purpose routers and the\
    \ general purpose workstations\n   that run various UNIX derivatives and other\
    \ operating systems.\n   In terms of the actual topologies, it varies from very\
    \ sparse to\n   quite dense.  The requirement for full-mesh IBGP topologies has\
    \ been\n   largely remedied by BGP Route Reflection, Autonomous System\n   Confederations\
    \ for BGP, and often some mix of the two.  BGP Route\n   Reflection was initially\
    \ defined in [RFC1966] and was updated in\n   [RFC2796].  Autonomous System Confederations\
    \ for BGP were initially\n   defined in [RFC1965] and were updated in [RFC3065].\n\
    \   At the time of this writing, BGP-4 is used as an inter-autonomous\n   system\
    \ routing protocol between all Internet-attached autonomous\n   systems, with\
    \ nearly 21k active autonomous systems in the global\n   Internet routing table.\n\
    \   BGP is used both for the exchange of routing information between a\n   transit\
    \ and a stub autonomous system, and for the exchange of routing\n   information\
    \ between multiple transit autonomous systems.  There is no\n   protocol distinction\
    \ between sites historically considered\n   \"backbones\" versus \"regional\"\
    \ or \"edge\" networks.\n   The full set of exterior routes carried by BGP is\
    \ well over 170,000\n   aggregate entries, representing several times that number\
    \ of\n   connected networks.  The number of active paths in some service\n   provider\
    \ core routers exceeds 2.5 million.  Native AS path lengths\n   are as long as\
    \ 10 for some routes, and \"padded\" path lengths of 25 or\n   more autonomous\
    \ systems exist.\n"
- title: 6.  TCP Awareness
  contents:
  - "6.  TCP Awareness\n   BGP employs TCP [RFC793] as it's Transport Layer protocol.\
    \  As such,\n   all characteristics inherent to TCP are inherited by BGP.\n  \
    \ For example, due to TCP's behavior, bandwidth capabilities may not be\n   realized\
    \ because of TCP's slow start algorithms and slow-start\n   restarts of connections,\
    \ etc.\n"
- title: 7.  Metrics
  contents:
  - "7.  Metrics\n   This section discusses different metrics used within the BGP\n\
    \   protocol.  BGP has a separate metric parameter for IBGP and EBGP.\n   This\
    \ allows policy-based metrics to overwrite the distance-based\n   metrics; this\
    \ allows each autonomous system to define its independent\n   policies in Intra-AS,\
    \ as well as Inter-AS.  BGP Multi Exit\n   Discriminator (MED) is used as a metric\
    \ by EBGP peers (i.e., inter-\n   domain), while Local Preference (LOCAL_PREF)\
    \ is used by IBGP peers\n   (i.e., intra-domain).\n"
- title: 7.1.  MULTI_EXIT_DISC (MED)
  contents:
  - "7.1.  MULTI_EXIT_DISC (MED)\n   BGP version 4 re-defined the old INTER-AS metric\
    \ as a MULTI_EXIT_DISC\n   (MED).  This value may be used in the tie-breaking\
    \ process when\n   selecting a preferred path to a given address space, and provides\
    \ BGP\n   speakers with the capability of conveying the optimal entry point\n\
    \   into the local AS to a peer AS.\n   Although the MED was meant to only be\
    \ used when comparing paths\n   received from different external peers in the\
    \ same AS, many\n   implementations provide the capability to compare MEDs between\n\
    \   different autonomous systems.\n   Though this may seem a fine idea for some\
    \ configurations, care must\n   be taken when comparing MEDs of different autonomous\
    \ systems.  BGP\n   speakers often derive MED values by obtaining the IGP metric\n\
    \   associated with reaching a given BGP NEXT_HOP within the local AS.\n   This\
    \ allows MEDs to reasonably reflect IGP topologies when\n   advertising routes\
    \ to peers.  While this is fine when comparing MEDs\n   of multiple paths learned\
    \ from a single adjacent AS, it can result in\n   potentially bad decisions when\
    \ comparing MEDs of different autonomous\n   systems.  This is most typically\
    \ the case when the autonomous systems\n   use different mechanisms to derive\
    \ IGP metrics, BGP MEDs, or perhaps\n   even use different IGP protocols with\
    \ vastly contrasting metric\n   spaces.\n   Another MED deployment consideration\
    \ involves the impact of the\n   aggregation of BGP routing information on MEDs.\
    \  Aggregates are often\n   generated from multiple locations in an AS to accommodate\
    \ stability,\n   redundancy, and other network design goals.  When MEDs are derived\n\
    \   from IGP metrics associated with said aggregates, the MED value\n   advertised\
    \ to peers can result in very suboptimal routing.\n   The MED was purposely designed\
    \ to be a \"weak\" metric that would only\n   be used late in the best-path decision\
    \ process.  The BGP working\n   group was concerned that any metric specified\
    \ by a remote operator\n   would only affect routing in a local AS if no other\
    \ preference was\n   specified.  A paramount goal of the design of the MED was\
    \ to ensure\n   that peers could not \"shed\" or \"absorb\" traffic for networks\
    \ they\n   advertise.\n"
- title: 7.1.1.  MEDs and Potatoes
  contents:
  - "7.1.1.  MEDs and Potatoes\n   Where traffic flows between a pair of destinations,\
    \ each is connected\n   to two transit networks, each of the transit networks\
    \ has the choice\n   of sending the traffic to the peering closest to another\
    \ transit\n   provider or passing traffic to the peering that advertises the least\n\
    \   cost through the other provider.  The former method is called \"hot\n   potato\
    \ routing\" because, like a hot potato held in bare hands,\n   whoever has it\
    \ tries to get rid of it quickly.  Hot potato routing is\n   accomplished by not\
    \ passing the EBGP-learned MED into the IBGP.  This\n   minimizes transit traffic\
    \ for the provider routing the traffic.  Far\n   less common is \"cold potato\
    \ routing\", where the transit provider uses\n   its own transit capacity to get\
    \ the traffic to the point in the\n   adjacent transit provider advertised as\
    \ being closest to the\n   destination.  Cold potato routing is accomplished by\
    \ passing the\n   EBGP-learned MED into IBGP.\n   If one transit provider uses\
    \ hot potato routing and another uses cold\n   potato routing, traffic between\
    \ the two tends to be symmetric.\n   Depending on the business relationships,\
    \ if one provider has more\n   capacity or a significantly less congested transit\
    \ network, then that\n   provider may use cold potato routing.  The NSF-funded\
    \ NSFNET backbone\n   and NSF-funded regional networks are examples of widespread\
    \ use of\n   cold potato routing in the mid 1990s.\n   In some cases, a provider\
    \ may use hot potato routing for some\n   destinations for a given peer AS, and\
    \ cold potato routing for others.\n   The different treatment of commercial and\
    \ research traffic in the\n   NSFNET in the mid 1990s is an example of this. \
    \ However, this might\n   best be described as 'mashed potato routing', a term\
    \ that reflects\n   the complexity of router configurations in use at the time.\n\
    \   Seemingly more intuitive references, which fall outside the vegetable\n  \
    \ kingdom, refer to cold potato routing as \"best exit routing\", and hot\n  \
    \ potato routing as \"closest exit routing\".\n"
- title: 7.1.2.  Sending MEDs to BGP Peers
  contents:
  - "7.1.2.  Sending MEDs to BGP Peers\n   [RFC4271] allows MEDs received from any\
    \ EBGP peers by a BGP speaker\n   to be passed to its IBGP peers.  Although advertising\
    \ MEDs to IBGP\n   peers is not a required behavior, it is a common default. \
    \ MEDs\n   received from EBGP peers by a BGP speaker SHOULD NOT be sent to other\n\
    \   EBGP peers.\n   Note that many implementations provide a mechanism to derive\
    \ MED\n   values from IGP metrics to allow BGP MED information to reflect the\n\
    \   IGP topologies and metrics of the network when propagating\n   information\
    \ to adjacent autonomous systems.\n"
- title: 7.1.3.  MED of Zero Versus No MED
  contents:
  - "7.1.3.  MED of Zero Versus No MED\n   [RFC4271] requires an implementation to\
    \ provide a mechanism that\n   allows MED to be removed.  Previously, implementations\
    \ did not\n   consider a missing MED value the same as a MED of zero.  [RFC4271]\n\
    \   now requires that no MED value be equal to zero.\n   Note that many implementations\
    \ provide a mechanism to explicitly\n   define a missing MED value as \"worst\"\
    , or less preferable than zero\n   or larger values.\n"
- title: 7.1.4.  MEDs and Temporal Route Selection
  contents:
  - "7.1.4.  MEDs and Temporal Route Selection\n   Some implementations have hooks\
    \ to apply temporal behavior in MED-\n   based best path selection.  That is,\
    \ all things being equal up to MED\n   consideration, preference would be applied\
    \ to the \"oldest\" path,\n   without preference for the lower MED value.  The\
    \ reasoning for this\n   is that \"older\" paths are presumably more stable, and\
    \ thus\n   preferable.  However, temporal behavior in route selection results\
    \ in\n   non-deterministic behavior, and as such, may often be undesirable.\n"
- title: 8.  Local Preference
  contents:
  - "8.  Local Preference\n   The LOCAL_PREF attribute was added to enable a network\
    \ operator to\n   easily configure a policy that overrides the standard best path\n\
    \   determination mechanism without independently configuring local\n   preference\
    \ policy on each router.\n   One shortcoming in the BGP-4 specification was the\
    \ suggestion that a\n   default value of LOCAL_PREF be assumed if none was provided.\n\
    \   Defaults of zero or the maximum value each have range limitations, so\n  \
    \ a common default would aid in the interoperation of multi-vendor\n   routers\
    \ in the same AS (since LOCAL_PREF is a local administration\n   attribute, there\
    \ is no interoperability drawback across AS\n   boundaries).\n   [RFC4271] requires\
    \ that LOCAL_PREF be sent to IBGP Peers and not to\n   EBGP Peers.  Although no\
    \ default value for LOCAL_PREF is defined, the\n   common default value is 100.\n\
    \   Another area where exploration is required is a method whereby an\n   originating\
    \ AS may influence the best path selection process.  For\n   example, a dual-connected\
    \ site may select one AS as a primary transit\n   service provider and have one\
    \ as a backup.\n                     /---- transit B ----\\\n         end-customer\
    \                     transit A----\n                     /---- transit C ----\\\
    \n   In a topology where the two transit service providers connect to a\n   third\
    \ provider, the real decision is performed by the third provider.\n   There is\
    \ no mechanism to indicate a preference should the third\n   provider wish to\
    \ respect that preference.\n   A general purpose suggestion has been the possibility\
    \ of carrying an\n   optional vector, corresponding to the AS_PATH, where each\
    \ transit AS\n   may indicate a preference value for a given route.  Cooperating\n\
    \   autonomous systems may then choose traffic based upon comparison of\n   \"\
    interesting\" portions of this vector, according to routing policy.\n   While\
    \ protecting a given autonomous systems routing policy is of\n   paramount concern,\
    \ avoiding extensive hand configuration of routing\n   policies needs to be examined\
    \ more carefully in future BGP-like\n   protocols.\n"
- title: 9.  Internal BGP In Large Autonomous Systems
  contents:
  - "9.  Internal BGP In Large Autonomous Systems\n   While not strictly a protocol\
    \ issue, another concern has been raised\n   by network operators who need to\
    \ maintain autonomous systems with a\n   large number of peers.  Each speaker\
    \ peering with an external router\n   is responsible for propagating reachability\
    \ and path information to\n   all other transit and border routers within that\
    \ AS.  This is\n   typically done by establishing internal BGP connections to\
    \ all\n   transit and border routers in the local AS.\n   Note that the number\
    \ of BGP peers that can be fully meshed depends on\n   a number of factors, including\
    \ the number of prefixes in the routing\n   system, the number of unique paths,\
    \ stability of the system, and,\n   perhaps most importantly, implementation efficiency.\
    \  As a result,\n   although it's difficult to define \"a large number of peers\"\
    , there is\n   always some practical limit.\n   In a large AS, this leads to a\
    \ full mesh of TCP connections\n   (n * (n-1)) and some method of configuring\
    \ and maintaining those\n   connections.  BGP does not specify how this information\
    \ is to be\n   propagated.  Therefore, alternatives, such as injecting BGP routing\n\
    \   information into the local IGP, have been attempted, but turned out\n   to\
    \ be non-practical alternatives (to say the least).\n   To alleviate the need\
    \ for \"full mesh\" IBGP, several alternatives have\n   been defined, including\
    \ BGP Route Reflection [RFC2796] and AS\n   Confederations for BGP [RFC3065].\n"
- title: 10.  Internet Dynamics
  contents:
  - "10.  Internet Dynamics\n   As discussed in [RFC4274], the driving force in CPU\
    \ and bandwidth\n   utilization is the dynamic nature of routing in the Internet.\
    \  As the\n   Internet has grown, the frequency of route changes per second has\n\
    \   increased.\n   We automatically get some level of damping when more specific\
    \ NLRI is\n   aggregated into larger blocks; however, this is not sufficient.\
    \  In\n   Appendix F of [RFC4271], there are descriptions of damping techniques\n\
    \   that should be applied to advertisements.  In future specifications\n   of\
    \ BGP-like protocols, damping methods should be considered for\n   mandatory inclusion\
    \ in compliant implementations.\n   BGP Route Flap Damping is defined in [RFC2439].\
    \  BGP Route Flap\n   Damping defines a mechanism to help reduce the amount of\
    \ routing\n   information passed between BGP peers, which reduces the load on\
    \ these\n   peers without adversely affecting route convergence time for\n   relatively\
    \ stable routes.\n   None of the current implementations of BGP Route Flap Damping\
    \ store\n   route history by unique NRLI or AS Path, although RFC 2439 lists this\n\
    \   as mandatory.  A potential result of failure to consider each AS Path\n  \
    \ separately is an overly aggressive suppression of destinations in a\n   densely\
    \ meshed network, with the most severe consequence being\n   suppression of a\
    \ destination after a single failure.  Because the top\n   tier autonomous systems\
    \ in the Internet are densely meshed, these\n   adverse consequences are observed.\n\
    \   Route changes are announced using BGP UPDATE messages.  The greatest\n   overhead\
    \ in advertising UPDATE messages happens whenever route\n   changes to be announced\
    \ are inefficiently packed.  Announcing routing\n   changes that share common\
    \ attributes in a single BGP UPDATE message\n   helps save considerable bandwidth\
    \ and reduces processing overhead, as\n   discussed in Section 12, Update Packing.\n\
    \   Persistent BGP errors may cause BGP peers to flap persistently if\n   peer\
    \ dampening is not implemented, resulting in significant CPU\n   utilization.\
    \  Implementors may find it useful to implement peer\n   dampening to avoid such\
    \ persistent peer flapping [RFC4271].\n"
- title: 11.  BGP Routing Information Bases (RIBs)
  contents:
  - "11.  BGP Routing Information Bases (RIBs)\n   [RFC4271] states \"Any local policy\
    \ which results in routes being\n   added to an Adj-RIB-Out without also being\
    \ added to the local BGP\n   speaker's forwarding table, is outside the scope\
    \ of this document\".\n   However, several well-known implementations do not confirm\
    \ that\n   Loc-RIB entries were used to populate the forwarding table before\n\
    \   installing them in the Adj-RIB-Out.  The most common occurrence of\n   this\
    \ is when routes for a given prefix are presented by more than one\n   protocol,\
    \ and the preferences for the BGP-learned route is lower than\n   that of another\
    \ protocol.  As such, the route learned via the other\n   protocol is used to\
    \ populate the forwarding table.\n   It may be desirable for an implementation\
    \ to provide a knob that\n   permits advertisement of \"inactive\" BGP routes.\n\
    \   It may be also desirable for an implementation to provide a knob that\n  \
    \ allows a BGP speaker to advertise BGP routes that were not selected\n   in the\
    \ decision process.\n"
- title: 12.  Update Packing
  contents:
  - "12.  Update Packing\n   Multiple unfeasible routes can be advertised in a single\
    \ BGP Update\n   message.  In addition, one or more feasible routes can be advertised\n\
    \   in a single Update message, as long as all prefixes share a common\n   attribute\
    \ set.\n   The BGP4 protocol permits advertisement of multiple prefixes with a\n\
    \   common set of path attributes in a single update message, which is\n   commonly\
    \ referred to as \"update packing\".  When possible, update\n   packing is recommended,\
    \ as it provides a mechanism for more efficient\n   behavior in a number of areas,\
    \ including:\n      o Reduction in system overhead due to generation or receipt\
    \ of\n        fewer Update messages.\n      o Reduction in network overhead as\
    \ a result of less packets and\n        lower bandwidth consumption.\n      o\
    \ Reduction in frequency of processing path attributes and looking\n        for\
    \ matching sets in the AS_PATH database (if you have one).\n        Consistent\
    \ ordering of the path attributes allows for ease of\n        matching in the\
    \ database, as different representations of the\n        same data do not exist.\n\
    \   The BGP protocol suggests that withdrawal information should be\n   packed\
    \ in the beginning of an Update message, followed by information\n   about reachable\
    \ routes in a single UPDATE message.  This helps\n   alleviate excessive route\
    \ flapping in BGP.\n"
- title: 13.  Limit Rate Updates
  contents:
  - "13.  Limit Rate Updates\n   The BGP protocol defines different mechanisms to\
    \ rate limit Update\n   advertisement.  The BGP protocol defines a\n   MinRouteAdvertisementInterval\
    \ parameter that determines the minimum\n   time that must elapse between the\
    \ advertisement of routes to a\n   particular destination from a single BGP speaker.\
    \  This value is set\n   on a per-BGP-peer basis.\n   Because BGP relies on TCP\
    \ as the Transport protocol, TCP can prevent\n   transmission of data due to empty\
    \ windows.  As a result, multiple\n   updates may be spaced closer together than\
    \ was originally queued.\n   Although it is not common, implementations should\
    \ be aware of this\n   occurrence.\n"
- title: 13.1.  Consideration of TCP Characteristics
  contents:
  - "13.1.  Consideration of TCP Characteristics\n   If either a TCP receiver is processing\
    \ input more slowly than the\n   sender, or if the TCP connection rate is the\
    \ limiting factor, a form\n   of backpressure is observed by the TCP sending application.\
    \  When the\n   TCP buffer fills, the sending application will either block on\
    \ the\n   write or receive an error on the write.  In early implementations or\n\
    \   naive new implementations, setting options to block on the write or\n   setting\
    \ options for non-blocking writes are common errors.  Such\n   implementations\
    \ treat full buffer related errors as fatal.\n   Having recognized that full write\
    \ buffers are to be expected,\n   additional implementation pitfalls exist.  The\
    \ application should not\n   attempt to store the TCP stream within the application\
    \ itself.  If\n   the receiver or the TCP connection is persistently slow, then\
    \ the\n   buffer can grow until memory is exhausted.  A BGP implementation is\n\
    \   required to send changes to all peers for which the TCP connection is\n  \
    \ not blocked, and is required to send those changes to the remaining\n   peers\
    \ when the connection becomes unblocked.\n   If the preferred route for a given\
    \ NLRI changes multiple times while\n   writes to one or more peers are blocked,\
    \ only the most recent best\n   route needs to be sent.  In this way, BGP is work\
    \ conserving\n   [RFC4274].  In cases of extremely high route change, a higher\
    \ volume\n   of route change is sent to those peers that are able to process it\n\
    \   more quickly; a lower volume of route change is sent to those peers\n   that\
    \ are not able to process the changes as quickly.\n   For implementations that\
    \ handle differing peer capacities to absorb\n   route change well, if the majority\
    \ of route change is contributed by\n   a subset of unstable NRLI, the only impact\
    \ on relatively stable NRLI\n   that makes an isolated route change is a slower\
    \ convergence, for\n   which convergence time remains bounded, regardless of the\
    \ amount of\n   instability.\n"
- title: 14.  Ordering of Path Attributes
  contents:
  - "14.  Ordering of Path Attributes\n   The BGP protocol suggests that BGP speakers\
    \ sending multiple prefixes\n   per an UPDATE message sort and order path attributes\
    \ according to\n   Type Codes.  This would help their peers quickly identify sets\
    \ of\n   attributes from different update messages that are semantically\n   different.\n\
    \   Implementers may find it useful to order path attributes according to\n  \
    \ Type Code, such that sets of attributes with identical semantics can\n   be\
    \ more quickly identified.\n"
- title: 15.  AS_SET Sorting
  contents:
  - "15.  AS_SET Sorting\n   AS_SETs are commonly used in BGP route aggregation. \
    \ They reduce the\n   size of AS_PATH information by listing AS numbers only once,\n\
    \   regardless of the number of times it might appear in the process of\n   aggregation.\
    \  AS_SETs are usually sorted in increasing order to\n   facilitate efficient\
    \ lookups of AS numbers within them.  This\n   optimization is optional.\n"
- title: 16.  Control Over Version Negotiation
  contents:
  - "16.  Control Over Version Negotiation\n   Because pre-BGP-4 route aggregation\
    \ can't be supported by earlier\n   versions of BGP, an implementation that supports\
    \ versions in addition\n   to BGP-4 should provide the version support on a per-peer\
    \ basis.  At\n   the time of this writing, all BGP speakers on the Internet are\n\
    \   thought to be running BGP version 4.\n"
- title: 17.  Security Considerations
  contents:
  - "17.  Security Considerations\n   BGP provides a flexible and extendable mechanism\
    \ for authentication\n   and security.  The mechanism allows support for schemes\
    \ with various\n   degrees of complexity.  BGP sessions are authenticated based\
    \ on the\n   IP address of a peer.  In addition, all BGP sessions are\n   authenticated\
    \ based on the autonomous system number advertised by a\n   peer.\n   Because\
    \ BGP runs over TCP and IP, BGP's authentication scheme may be\n   augmented by\
    \ any authentication or security mechanism provided by\n   either TCP or IP.\n"
- title: 17.1.  TCP MD5 Signature Option
  contents:
  - "17.1.  TCP MD5 Signature Option\n   [RFC2385] defines a way in which the TCP\
    \ MD5 signature option can be\n   used to validate information transmitted between\
    \ two peers.  This\n   method prevents a third party from injecting information\
    \ (e.g., a TCP\n   Reset) into the datastream, or modifying the routing information\n\
    \   carried between two BGP peers.\n   At the moment, TCP MD5 is not ubiquitously\
    \ deployed, especially in\n   inter-domain scenarios, largely because of key distribution\
    \ issues.\n   Most key distribution mechanisms are considered to be too \"heavy\"\
    \ at\n   this point.\n   Many have naively assumed that an attacker must correctly\
    \ guess the\n   exact TCP sequence number (along with the source and destination\n\
    \   ports and IP addresses) to inject a data segment or reset a TCP\n   transport\
    \ connection between two BGP peers.  However, recent\n   observation and open\
    \ discussion show that the malicious data only\n   needs to fall within the TCP\
    \ receive window, which may be quite\n   large, thereby significantly lowering\
    \ the complexity of such an\n   attack.\n   As such, it is recommended that the\
    \ MD5 TCP Signature Option be\n   employed to protect BGP from session resets\
    \ and malicious data\n   injection.\n"
- title: 17.2.  BGP Over IPsec
  contents:
  - "17.2.  BGP Over IPsec\n   BGP can run over IPsec, either in a tunnel or in transport\
    \ mode,\n   where the TCP portion of the IP packet is encrypted.  This not only\n\
    \   prevents random insertion of information into the data stream between\n  \
    \ two BGP peers, but also prevents an attacker from learning the data\n   being\
    \ exchanged between the peers.\n   However, IPsec does offer several options for\
    \ exchanging session\n   keys, which may be useful on inter-domain configurations.\
    \  These\n   options are being explored in many deployments, although no\n   definitive\
    \ solution has been reached on the issue of key exchange for\n   BGP in IPsec.\n\
    \   Because BGP runs over TCP and IP, it should be noted that BGP is\n   vulnerable\
    \ to the same denial of service and authentication attacks\n   that are present\
    \ in any TCP based protocol.\n"
- title: 17.3.  Miscellaneous
  contents:
  - "17.3.  Miscellaneous\n   Another routing protocol issue is providing evidence\
    \ of the validity\n   and authority of routing information carried within the\
    \ routing\n   system.  This is currently the focus of several efforts, including\n\
    \   efforts to define threats that can be used against this routing\n   information\
    \ in BGP [BGPATTACK], and efforts to develop a means of\n   providing validation\
    \ and authority for routing information carried\n   within BGP [SBGP] [soBGP].\n\
    \   In addition, the Routing Protocol Security Requirements (RPSEC)\n   working\
    \ group has been chartered, within the Routing Area of the\n   IETF, to discuss\
    \ and assist in addressing issues surrounding routing\n   protocol security. \
    \ Within RPSEC, this work is intended to result in\n   feedback to BGP4 and future\
    \ protocol enhancements.\n"
- title: 18.  PTOMAINE and GROW
  contents:
  - "18.  PTOMAINE and GROW\n   The Prefix Taxonomy (PTOMAINE) working group, recently\
    \ replaced by\n   the Global Routing Operations (GROW) working group, is chartered\
    \ to\n   consider and measure the problem of routing table growth, the effects\n\
    \   of the interactions between interior and exterior routing protocols,\n   and\
    \ the effect of address allocation policies and practices on the\n   global routing\
    \ system.  Finally, where appropriate, GROW will also\n   document the operational\
    \ aspects of measurement, policy, security,\n   and VPN infrastructures.\n   GROW\
    \ is currently studying the effects of route aggregation, and also\n   the inability\
    \ to aggregate over multiple provider boundaries due to\n   inadequate provider\
    \ coordination.\n   Within GROW, this work is intended to result in feedback to\
    \ BGPv4 and\n   future protocol enhancements.\n"
- title: 19.  Internet Routing Registries (IRRs)
  contents:
  - "19.  Internet Routing Registries (IRRs)\n   Many organizations register their\
    \ routing policy and prefix\n   origination in the various distributed databases\
    \ of the Internet\n   Routing Registry.  These databases provide access to information\n\
    \   using the RPSL language, as defined in [RFC2622].  While registered\n   information\
    \ may be maintained and correct for certain providers, the\n   lack of timely\
    \ or correct data in the various IRR databases has\n   prevented wide spread use\
    \ of this resource.\n"
- title: 20.  Regional Internet Registries (RIRs) and IRRs, A Bit of History
  contents:
  - "20.  Regional Internet Registries (RIRs) and IRRs, A Bit of History\n   The NSFNET\
    \ program used EGP, and then BGP, to provide external\n   routing information.\
    \  It was the NSF policy of offering different\n   prices and providing different\
    \ levels of support to the Research and\n   Education (RE) and the Commercial\
    \ (CO) networks that led to BGP's\n   initial policy requirements.  In addition\
    \ to being charged more, CO\n   networks were not able to use the NSFNET backbone\
    \ to reach other CO\n   networks.  The rationale for higher prices was that commercial\
    \ users\n   of the NSFNET within the business and research entities should\n \
    \  subsidize the RE community.  Recognition that the Internet was\n   evolving\
    \ away from a hierarchical network to a mesh of peers led to\n   changes away\
    \ from EGP and BGP-1 that eliminated any assumptions of\n   hierarchy.\n   Enforcement\
    \ of NSF policy was accomplished through maintenance of the\n   NSF Policy Routing\
    \ Database (PRDB).  The PRDB not only contained each\n   networks designation\
    \ as CO or RE, but also contained a list of the\n   preferred exit points to the\
    \ NSFNET to reach each network.  This was\n   the basis for setting what would\
    \ later be called BGP LOCAL_PREF on\n   the NSFNET.  Tools provided with the PRDB\
    \ generated complete router\n   configurations for the NSFNET.\n   Use of the\
    \ PRDB had the fortunate consequence of greatly improving\n   reliability of the\
    \ NSFNET, relative to peer networks of the time.\n   PRDB offered more optimal\
    \ routing for those networks that were\n   sufficiently knowledgeable and willing\
    \ to keep their entries current.\n   With the decommission of the NSFNET Backbone\
    \ Network Service in 1995,\n   it was recognized that the PRDB should be made\
    \ less single provider\n   centric, and its legacy contents, plus any further\
    \ updates, should be\n   made available to any provider willing to make use of\
    \ it.  The\n   European networking community had long seen the PRDB as too US-\n\
    \   centric.  Through Reseaux IP Europeens (RIPE), the Europeans created\n   an\
    \ open format in RIPE-181 and maintained an open database used for\n   address\
    \ and AS registry more than policy.  The initial conversion of\n   the PRDB was\
    \ to RIPE-181 format, and tools were converted to make use\n   of this format.\
    \  The collection of databases was termed the Internet\n   Routing Registry (IRR),\
    \ with the RIPE database and US NSF-funded\n   Routing Arbitrator (RA) being the\
    \ initial components of the IRR.\n   A need to extend RIPE-181 was recognized\
    \ and RIPE agreed to allow the\n   extensions to be defined within the IETF in\
    \ the RPS WG, resulting in\n   the RPSL language.  Other work products of the\
    \ RPS WG provided an\n   authentication framework and a means to widely distribute\
    \ the\n   database in a controlled manner and synchronize the many\n   repositories.\
    \  Freely available tools were provided, primarily by\n   RIPE, Merit, and ISI,\
    \ the most comprehensive set from ISI.  The\n   efforts of the IRR participants\
    \ has been severely hampered by\n   providers unwilling to keep information in\
    \ the IRR up to date.  The\n   larger of these providers have been vocal, claiming\
    \ that the database\n   entry, simple as it may be, is an administrative burden,\
    \ and some\n   acknowledge that doing so provides an advantage to competitors\
    \ that\n   use the IRR.  The result has been an erosion of the usefulness of the\n\
    \   IRR and an increase in vulnerability of the Internet to routing based\n  \
    \ attacks or accidental injection of faulty routing information.\n   There have\
    \ been a number of cases in which accidental disruption of\n   Internet routing\
    \ was avoided by providers using the IRR, but this was\n   highly detrimental\
    \ to non-users.  Filters have been forced to provide\n   less complete coverage\
    \ because of the erosion of the IRR; these types\n   of disruptions continue to\
    \ occur infrequently, but have an\n   increasingly widespread impact.\n"
- title: 21.  Acknowledgements
  contents:
  - "21.  Acknowledgements\n   We would like to thank Paul Traina and Yakov Rekhter\
    \ for authoring\n   previous versions of this document and providing valuable\
    \ input on\n   this update.  We would also like to acknowledge Curtis Villamizar\
    \ for\n   providing both text and thorough reviews.  Thanks to Russ White,\n \
    \  Jeffrey Haas, Sean Mentzer, Mitchell Erblich, and Jude Ballard for\n   supplying\
    \ their usual keen eyes.\n   Finally, we'd like to think the IDR WG for general\
    \ and specific input\n   that contributed to this document.\n"
- title: 22.  References
  contents:
  - '22.  References

    '
- title: 22.1.  Normative References
  contents:
  - "22.1.  Normative References\n   [RFC1966]   Bates, T. and R. Chandra, \"BGP Route\
    \ Reflection An\n               alternative to full mesh IBGP\", RFC 1966, June\
    \ 1996.\n   [RFC2385]   Heffernan, A., \"Protection of BGP Sessions via the TCP\n\
    \               MD5 Signature Option\", RFC 2385, August 1998.\n   [RFC2439] \
    \  Villamizar, C., Chandra, R., and R. Govindan, \"BGP Route\n               Flap\
    \ Damping\", RFC 2439, November 1998.\n   [RFC2796]   Bates, T., Chandra, R.,\
    \ and E. Chen, \"BGP Route\n               Reflection - An Alternative to Full\
    \ Mesh IBGP\", RFC 2796,\n               April 2000.\n   [RFC3065]   Traina, P.,\
    \ McPherson, D., and J. Scudder, \"Autonomous\n               System Confederations\
    \ for BGP\", RFC 3065, February 2001.\n   [RFC4274]   Meyer, D. and K. Patel,\
    \ \"BGP-4 Protocol Analysis\", RFC\n               4274, January 2006.\n   [RFC4276]\
    \   Hares, S. and A. Retana, \"BGP 4 Implementation Report\",\n              \
    \ RFC 4276, January 2006.\n   [RFC4271]   Rekhter, Y., Li, T., and S. Hares, Eds.,\
    \ \"A Border\n               Gateway Protocol 4 (BGP-4)\", RFC 4271, January 2006.\n\
    \   [RFC1657]   Willis, S., Burruss, J., Chu, J., \"Definitions of Managed\n \
    \              Objects for the Fourth Version of the Border Gateway\n        \
    \       Protocol (BGP-4) using SMIv2\", RFC 1657, July 1994.\n   [RFC793]    Postel,\
    \ J., \"Transmission Control Protocol\", STD 7, RFC\n               793, September\
    \ 1981.\n"
- title: 22.2.  Informative References
  contents:
  - "22.2.  Informative References\n   [RFC1105]   Lougheed, K. and Y. Rekhter, \"\
    Border Gateway Protocol\n               (BGP)\", RFC 1105, June 1989.\n   [RFC1163]\
    \   Lougheed, K. and Y. Rekhter, \"Border Gateway Protocol\n               (BGP)\"\
    , RFC 1163, June 1990.\n   [RFC1264]   Hinden, R., \"Internet Engineering Task\
    \ Force Internet\n               Routing Protocol Standardization Criteria\",\
    \ RFC 1264,\n               October 1991.\n   [RFC1267]   Lougheed, K. and Y.\
    \ Rekhter, \"Border Gateway Protocol 3\n               (BGP-3)\", RFC 1267, October\
    \ 1991.\n   [RFC1269]   Willis, S. and J. Burruss, \"Definitions of Managed\n\
    \               Objects for the Border Gateway Protocol: Version 3\", RFC\n  \
    \             1269, October 1991.\n   [RFC1656]   Traina, P., \"BGP-4 Protocol\
    \ Document Roadmap and\n               Implementation Experience\", RFC 1656,\
    \ July 1994.\n   [RFC1771]   Rekhter, Y. and T. Li, \"A Border Gateway Protocol\
    \ 4\n               (BGP-4)\", RFC 1771, March 1995.\n   [RFC1773]   Traina, P.,\
    \ \"Experience with the BGP-4 protocol\", RFC\n               1773, March 1995.\n\
    \   [RFC1965]   Traina, P., \"Autonomous System Confederations for BGP\",\n  \
    \             RFC 1965, June 1996.\n   [RFC2622]   Alaettinoglu, C., Villamizar,\
    \ C., Gerich, E., Kessens,\n               D., Meyer, D., Bates, T., Karrenberg,\
    \ D., and M.\n               Terpstra, \"Routing Policy Specification Language\
    \ (RPSL)\",\n               RFC 2622, June 1999.\n   [BGPATTACK] Convery, C.,\
    \ \"An Attack Tree for the Border Gateway\n               Protocol\", Work in\
    \ Progress.\n   [SBGP]      \"Secure BGP\", Work in Progress.\n   [soBGP]    \
    \ \"Secure Origin BGP\", Work in Progress.\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Danny McPherson\n   Arbor Networks\n   EMail: danny@arbor.net\n\
    \   Keyur Patel\n   Cisco Systems\n   EMail: keyupate@cisco.com\n"
- title: Full Copyright Statement
  contents:
  - "Full Copyright Statement\n   Copyright (C) The Internet Society (2006).\n   This\
    \ document is subject to the rights, licenses and restrictions\n   contained in\
    \ BCP 78, and except as set forth therein, the authors\n   retain all their rights.\n\
    \   This document and the information contained herein are provided on an\n  \
    \ \"AS IS\" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS\n  \
    \ OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET\n   ENGINEERING\
    \ TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED,\n   INCLUDING BUT NOT\
    \ LIMITED TO ANY WARRANTY THAT THE USE OF THE\n   INFORMATION HEREIN WILL NOT\
    \ INFRINGE ANY RIGHTS OR ANY IMPLIED\n   WARRANTIES OF MERCHANTABILITY OR FITNESS\
    \ FOR A PARTICULAR PURPOSE.\n"
- title: Intellectual Property
  contents:
  - "Intellectual Property\n   The IETF takes no position regarding the validity or\
    \ scope of any\n   Intellectual Property Rights or other rights that might be\
    \ claimed to\n   pertain to the implementation or use of the technology described\
    \ in\n   this document or the extent to which any license under such rights\n\
    \   might or might not be available; nor does it represent that it has\n   made\
    \ any independent effort to identify any such rights.  Information\n   on the\
    \ procedures with respect to rights in RFC documents can be\n   found in BCP 78\
    \ and BCP 79.\n   Copies of IPR disclosures made to the IETF Secretariat and any\n\
    \   assurances of licenses to be made available, or the result of an\n   attempt\
    \ made to obtain a general license or permission for the use of\n   such proprietary\
    \ rights by implementers or users of this\n   specification can be obtained from\
    \ the IETF on-line IPR repository at\n   http://www.ietf.org/ipr.\n   The IETF\
    \ invites any interested party to bring to its attention any\n   copyrights, patents\
    \ or patent applications, or other proprietary\n   rights that may cover technology\
    \ that may be required to implement\n   this standard.  Please address the information\
    \ to the IETF at\n   ietf-ipr@ietf.org.\n"
- title: Acknowledgement
  contents:
  - "Acknowledgement\n   Funding for the RFC Editor function is provided by the IETF\n\
    \   Administrative Support Activity (IASA).\n"
