- title: __initial_text__
  contents:
  - '                   Requirements for Internet Gateways

    '
- title: Status of this Memo
  contents:
  - "Status of this Memo\n   This document is a formal statement of the requirements\
    \ to be met by\n   gateways used in the Internet system.  As such, it is an official\n\
    \   specification for the Internet community.  Distribution of this memo\n   is\
    \ unlimited.\n   This RFC summarizes the requirements for gateways to be used\
    \ between\n   networks supporting the Internet protocols.  While it was written\n\
    \   specifically to support National Science Foundation research\n   programs,\
    \ the requirements are stated in a general context and are\n   applicable throughout\
    \ the Internet community.\n   The purpose of this document is to present guidance\
    \ for vendors\n   offering gateway products that might be used or adapted for\
    \ use in an\n   Internet application.  It enumerates the protocols required and\
    \ gives\n   references to RFCs and other documents describing the current\n  \
    \ specifications.  In a number of cases the specifications are evolving\n   and\
    \ may contain ambiguous or incomplete information.  In these cases\n   further\
    \ discussion giving specific guidance is included in this\n   document.  Specific\
    \ policy issues relevant to the NSF scientific\n   networking community are summarized\
    \ in an Appendix.  As other\n   specifications are updated this document will\
    \ be revised.  Vendors\n   are encouraged to maintain contact with the Internet\
    \ research\n   community.\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   The following material is intended as an introduction and\
    \ background\n   for those unfamiliar with the Internet architecture and the Internet\n\
    \   gateway model.  General background and discussion on the Internet\n   architecture\
    \ and supporting protocol suite can be found in the DDN\n   Protocol Handbook\
    \ [25] and ARPANET Information Brochure [26], see\n   also [19, 28, 30, 31].\n\
    \   The Internet protocol architecture was originally developed under\n   DARPA\
    \ sponsorship to meet both military and civilian communication\n   requirements\
    \ [32].  The Internet system presently supports a variety\n   of government and\
    \ government-sponsored operational and research\n   activities.  In particular,\
    \ the National Science Foundation (NSF) is\n   building a major extension to the\
    \ Internet to provide user access to\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - "RFC 1009 - Requirements for Internet Gateways                  June 1987\n  \
    \ national supercomputer centers and other national scientific\n   resources,\
    \ and to provide a computer networking capability to a large\n   number of universities\
    \ and colleges.\n   In this document there are many terms that may be obscure\
    \ to one\n   unfamiliar with the Internet protocols.  There is not much to be\
    \ done\n   about that but to learn, so dive in.  There are a few terms that are\n\
    \   much abused in general discussion but are carefully and intentionally\n  \
    \ used in this document.  These few terms are defined here.\n      Packet    \
    \  A packet is the unit of transmission on a physical\n                  network.\n\
    \      Datagram    A datagram is the unit of transmission in the IP\n        \
    \          protocol.  To cross a particular network a datagram is\n          \
    \        encapsulated inside a packet.\n      Router      A router is a switch\
    \ that receives data transmission\n                  units from input interfaces\
    \ and, depending on the\n                  addresses in those units, routes them\
    \ to the\n                  appropriate output interfaces.  There can be routers\n\
    \                  at different levels of protocol.  For example,\n          \
    \        Interface Message Processors (IMPs) are packet-level\n              \
    \    routers.\n      Gateway     In the Internet documentation generally, and\
    \ in this\n                  document specifically, a gateway is an IP-level\n\
    \                  router.  In the Internet community the term has a long\n  \
    \                history of this usage [32].\n   1.1.  The DARPA Internet Architecture\n\
    \      1.1.1.  Internet Protocols\n         The Internet system consists of a\
    \ number of interconnected\n         packet networks supporting communication\
    \ among host computers\n         using the Internet protocols.  These protocols\
    \ include the\n         Internet Protocol (IP), the Internet Control Message Protocol\n\
    \         (ICMP), the Transmission Control Protocol (TCP), and\n         application\
    \ protocols depending upon them [22].\n         All Internet protocols use IP\
    \ as the basic data transport\n         mechanism.  IP [1,31] is a datagram, or\
    \ connectionless,\n         internetwork service and includes provision for addressing,\n\
    \         type-of-service specification, fragmentation and reassembly,\n     \
    \    and security information.  ICMP [2] is considered an integral\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - "RFC 1009 - Requirements for Internet Gateways                  June 1987\n  \
    \       part of IP, although it is architecturally layered upon IP.\n        \
    \ ICMP provides error reporting, flow control and first-hop\n         gateway\
    \ redirection.\n         Reliable data delivery is provided in the Internet protocol\n\
    \         suite by transport-level protocols such as the Transmission\n      \
    \   Control Protocol (TCP), which provides end-end retransmission,\n         resequencing\
    \ and connection control.  Transport-level\n         connectionless service is\
    \ provided by the User Datagram\n         Protocol (UDP).\n      1.1.2.  Networks\
    \ and Gateways\n         The constituent networks of the Internet system are required\n\
    \         only to provide packet (connectionless) transport.  This\n         requires\
    \ only delivery of individual packets.  According to the\n         IP service\
    \ specification, datagrams can be delivered out of\n         order, be lost or\
    \ duplicated and/or contain errors.  Reasonable\n         performance of the protocols\
    \ that use IP (e.g., TCP) requires\n         an IP datagram loss rate of less\
    \ than 5%.  In those networks\n         providing connection-oriented service,\
    \ the extra reliability\n         provided by virtual circuits enhances the end-end\
    \ robustness of\n         the system, but is not necessary for Internet operation.\n\
    \         Constituent networks may generally be divided into two classes:\n  \
    \       *  Local-Area Networks (LANs)\n            LANs may have a variety of\
    \ designs, typically based upon\n            buss, ring, or star topologies. \
    \ In general, a LAN will\n            cover a small geographical area (e.g., a\
    \ single building or\n            plant site) and provide high bandwidth with\
    \ low delays.\n         *  Wide-Area Networks (WANs)\n            Geographically-dispersed\
    \ hosts and LANs are interconnected\n            by wide-area networks, also called\
    \ long-haul networks.\n            These networks may have a complex internal\
    \ structure of\n            lines and packet-routers (typified by ARPANET), or\
    \ they may\n            be as simple as point-to-point lines.\n         In the\
    \ Internet model, constituent networks are connected\n         together by IP\
    \ datagram forwarders which are called \"gateways\"\n         or \"IP routers\"\
    .  In this document, every use of the term\n         \"gateway\" is equivalent\
    \ to \"IP router\".  In current practice,\n         gateways are normally realized\
    \ with packet-switching software\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - "RFC 1009 - Requirements for Internet Gateways                  June 1987\n  \
    \       executing on a general-purpose CPU, but special-purpose\n         hardware\
    \ may also be used (and may be required for future\n         higher-throughput\
    \ gateways).\n         A gateway is connected to two or more networks, appearing\
    \ to\n         each of these networks as a connected host.  Thus, it has a\n \
    \        physical interface and an IP address on each of the connected\n     \
    \    networks.  Forwarding an IP datagram generally requires the\n         gateway\
    \ to choose the address of the next-hop gateway or (for\n         the final hop)\
    \ the destination host.  This choice, called\n         \"routing\", depends upon\
    \ a routing data-base within the gateway.\n         This routing data-base should\
    \ be maintained dynamically to\n         reflect the current topology of the Internet\
    \ system; a gateway\n         normally accomplishes this by participating in distributed\n\
    \         routing and reachability algorithms with other gateways.\n         Gateways\
    \ provide datagram transport only, and they seek to\n         minimize the state\
    \ information necessary to sustain this\n         service in the interest of routing\
    \ flexibility and robustness.\n         Routing devices may also operate at the\
    \ network level; in this\n         memo we will call such devices MAC routers\
    \ (informally called\n         \"level-2 routers\", and also called \"bridges\"\
    ).  The name\n         derives from the fact that MAC routers base their routing\n\
    \         decision on the addresses in the MAC headers; e.g., in IEEE\n      \
    \   802.3 networks, a MAC router bases its decision on the 48-bit\n         addresses\
    \ in the MAC header.  Network segments which are\n         connected by MAC routers\
    \ share the same IP network number,\n         i.e., they logically form a single\
    \ IP network.\n         Another variation on the simple model of networks connected\n\
    \         with gateways sometimes occurs: a set of gateways may be\n         interconnected\
    \ with only serial lines, to effectively form a\n         network in which the\
    \ routing is performed at the internetwork\n         (IP) level rather than the\
    \ network level.\n      1.1.3.  Autonomous Systems\n         For technical, managerial,\
    \ and sometimes political reasons, the\n         gateways of the Internet system\
    \ are grouped into collections\n         called \"autonomous systems\" [35]. \
    \ The gateways included in a\n         single autonomous system (AS) are expected\
    \ to:\n            *  Be under the control of a single operations and\n      \
    \         maintenance (O&M) organization;\n            *  Employ common routing\
    \ protocols among themselves, to\n               maintain their routing data-bases\
    \ dynamically.\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - "RFC 1009 - Requirements for Internet Gateways                  June 1987\n  \
    \       A number of different dynamic routing protocols have been\n         developed\
    \ (see Section 4.1); the particular choice of routing\n         protocol within\
    \ a single AS is generically called an interior\n         gateway protocol or\
    \ IGP.\n         An IP datagram may have to traverse the gateways of two or more\n\
    \         ASs to reach its destination, and the ASs must provide each\n      \
    \   other with topology information to allow such forwarding.  The\n         Exterior\
    \ Gateway Protocol (EGP) is used for this purpose,\n         between gateways\
    \ of different autonomous systems.\n      1.1.4.  Addresses and Subnets\n    \
    \     An IP datagram carries 32-bit source and destination addresses,\n      \
    \   each of which is partitioned into two parts -- a constituent\n         network\
    \ number and a host number on that network.\n         Symbolically:\n        \
    \    IP-address ::=  { <Network-number>,  <Host-number> }\n         To finally\
    \ deliver the datagram, the last gateway in its path\n         must map the host-number\
    \ (or \"rest\") part of an IP address into\n         the physical address of a\
    \ host connection to the constituent\n         network.\n         This simple\
    \ notion has been extended by the concept of\n         \"subnets\", which were\
    \ introduced in order to allow arbitrary\n         complexity of interconnected\
    \ LAN structures within an\n         organization, while insulating the Internet\
    \ system against\n         explosive growth in network numbers and routing complexity.\n\
    \         Subnets essentially provide a two-level hierarchical routing\n     \
    \    structure for the Internet system.  The subnet extension,\n         described\
    \ in RFC-950 [21], is now a required part of the\n         Internet architecture.\
    \  The basic idea is to partition the\n         <host number> field into two parts:\
    \ a subnet number, and a true\n         host number on that subnet.\n        \
    \    IP-address ::=\n                    { <Network-number>, <Subnet-number>,\
    \ <Host-number> }\n         The interconnected LANs of an organization will be\
    \ given the\n         same network number but different subnet numbers.  The\n\
    \         distinction between the subnets of such a subnetted network\n      \
    \   must not be visible outside that network.  Thus, wide-area\n         routing\
    \ in the rest of the Internet will be based only upon the\n         <Network-number>\
    \ part of the IP destination address; gateways\n         outside the network will\
    \ lump <Subnet-number> and <Host-number>\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - "RFC 1009 - Requirements for Internet Gateways                  June 1987\n  \
    \       together to form an uninterpreted \"rest\" part of the 32-bit IP\n   \
    \      address.  Within the subnetted network, the local gateways must\n     \
    \    route on the basis of an extended network number:\n            { <Network-number>,\
    \ <Subnet-number> }.\n         The bit positions containing this extended network\
    \ number are\n         indicated by a 32-bit mask called the \"subnet mask\" [21];\
    \ it is\n         recommended but not required that the <Subnet-number> bits be\n\
    \         contiguous and fall between the <Network-number> and the\n         <Host-number>\
    \ fields.  No subnet should be assigned the value\n         zero or -1 (all one\
    \ bits).\n         Flexible use of the available address space will be\n     \
    \    increasingly important in coping with the anticipated growth of\n       \
    \  the Internet.  Thus, we allow a particular subnetted network to\n         use\
    \ more than one subnet mask.  Several campuses with very\n         large LAN configurations\
    \ are also creating nested hierarchies\n         of subnets, sub-subnets, etc.\n\
    \         There are special considerations for the gateway when a\n         connected\
    \ network provides a broadcast or multicast capability;\n         these will be\
    \ discussed later.\n   1.2.  The Internet Gateway Model\n      There are two basic\
    \ models for interconnecting local-area networks\n      and wide-area (or long-haul)\
    \ networks in the Internet.  In the\n      first, the local-area network is assigned\
    \ a network number and all\n      gateways in the Internet must know how to route\
    \ to that network.\n      In the second, the local-area network shares (a small\
    \ part of) the\n      address space of the wide-area network.  Gateways that support\n\
    \      this second model are called \"address sharing gateways\" or\n      \"\
    transparent gateways\".  The focus of this memo is on gateways\n      that support\
    \ the first model, but this is not intended to exclude\n      the use of transparent\
    \ gateways.\n      1.2.1.  Internet Gateways\n         An Internet gateway is\
    \ an IP-level router that performs the\n         following functions:\n      \
    \      1.  Conforms to specific Internet protocols specified in\n            \
    \    this document, including the Internet Protocol (IP),\n                Internet\
    \ Control Message Protocol (ICMP), and others as\n                necessary. \
    \ See Section 2 (Protocols Required).\n            2.  Interfaces to two or more\
    \ packet networks.  For each\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - "RFC 1009 - Requirements for Internet Gateways                  June 1987\n  \
    \              connected network the gateway must implement the\n            \
    \    functions required by that network.  These functions\n                typically\
    \ include:\n               a.  encapsulating and decapsulating the IP datagrams\
    \ with\n                   the connected network framing (e.g., an Ethernet\n\
    \                   header and checksum);\n               b.  sending and receiving\
    \ IP datagrams up to the maximum\n                   size supported by that network,\
    \ this size is the\n                   network's \"Maximum Transmission Unit\"\
    \ or \"MTU\";\n               c.  translating the IP destination address into\
    \ an\n                   appropriate network-level address for the connected\n\
    \                   network (e.g., an Ethernet hardware address);\n          \
    \     d.  responding to the network flow control and error\n                 \
    \  indication, if any.\n               See Section 3 (Constituent Network Interface),\
    \ for\n               details on particular constituent network interfaces.\n\
    \            3.  Receives and forwards Internet datagrams.  Important\n      \
    \          issues are buffer management, congestion control, and\n           \
    \     fairness.  See Section 4 (Gateway Algorithms).\n               a.  Recognizes\
    \ various error conditions and generates\n                   ICMP error and information\
    \ messages as required.\n               b.  Drops datagrams whose time-to-live\
    \ fields have\n                   reached zero.\n               c.  Fragments\
    \ datagrams when necessary to fit into the\n                   MTU of the next\
    \ network.\n            4.  Chooses a next-hop destination for each IP datagram,\n\
    \                based on the information in its routing data-base.  See\n   \
    \             Section 4 (Gateway Algorithms).\n            5.  Supports an interior\
    \ gateway protocol (IGP) to carry out\n                distributed routing and\
    \ reachability algorithms with the\n                other gateways in the same\
    \ autonomous system.  In\n                addition, some gateways will need to\
    \ support the\n                Exterior Gateway Protocol (EGP) to exchange topological\n\
    \                information with other autonomous systems.  See\n           \
    \     Section 4 (Gateway Algorithms).\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - "RFC 1009 - Requirements for Internet Gateways                  June 1987\n  \
    \          6.  Provides system support facilities, including loading,\n      \
    \          debugging, status reporting, exception reporting and\n            \
    \    control.  See Section 5 (Operation and Maintenance).\n      1.2.2.  Embedded\
    \ Gateways\n         A gateway may be a stand-alone computer system, dedicated\
    \ to\n         its IP router functions.  Alternatively, it is possible to\n  \
    \       embed gateway functionality within a host operating system\n         which\
    \ supports connections to two or more networks.  The\n         best-known example\
    \ of an operating system with embedded gateway\n         code is the Berkeley\
    \ BSD system.  The embedded gateway feature\n         seems to make internetting\
    \ easy, but it has a number of hidden\n         pitfalls:\n            1.  If\
    \ a host has only a single constituent-network\n                interface, it\
    \ should not act as a gateway.\n                For example, hosts with embedded\
    \ gateway code that\n                gratuitously forward broadcast packets or\
    \ datagrams on\n                the same net often cause packet avalanches.\n\
    \            2.  If a (multihomed) host acts as a gateway, it must\n         \
    \       implement ALL the relevant gateway requirements\n                contained\
    \ in this document.\n                For example, the routing protocol issues\
    \ (see Sections\n                2.6 and 4.1) and the control and monitoring problems\
    \ are\n                as hard and important for embedded gateways as for\n  \
    \              stand-alone gateways.\n                   Since Internet gateway\
    \ requirements and\n                   specifications may change independently\
    \ of operating\n                   system changes, an administration that operates\
    \ an\n                   embedded gateway in the Internet is strongly advised\n\
    \                   to have an ability to maintain and update the gateway\n  \
    \                 code (e.g., this might require gateway code source).\n     \
    \       3.  Once a host runs embedded gateway code, it becomes part\n        \
    \        of the Internet system.  Thus, errors in software or\n              \
    \  configuration of such a host can hinder communication\n                between\
    \ other hosts.  As a consequence, the host\n                administrator must\
    \ lose some autonomy.\n                In many circumstances, a host administrator\
    \ will need to\n                disable gateway coded embedded in the operating\
    \ system,\n                and any embedded gateway code must be organized so\
    \ it\n                can be easily disabled.\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - "RFC 1009 - Requirements for Internet Gateways                  June 1987\n  \
    \          4.  If a host running embedded gateway code is concurrently\n     \
    \           used for other services, the O&M (operation and\n                maintenance)\
    \ requirements for the two modes of use may\n                be in serious conflict.\n\
    \                For example, gateway O&M will in many cases be performed\n  \
    \              remotely by an operations center; this may require\n          \
    \      privileged system access which the host administrator\n               \
    \ would not normally want to distribute.\n      1.2.3.  Transparent Gateways\n\
    \         The basic idea of a transparent gateway is that the hosts on\n     \
    \    the local-area network behind such a gateway share the address\n        \
    \ space of the wide-area network in front of the gateway.  In\n         certain\
    \ situations this is a very useful approach and the\n         limitations do not\
    \ present significant drawbacks.\n         The words \"in front\" and \"behind\"\
    \ indicate one of the\n         limitations of this approach: this model of interconnection\
    \ is\n         suitable only for a geographically (and topologically) limited\n\
    \         stub environment.  It requires that there be some form of\n        \
    \ logical addressing in the network level addressing of the\n         wide-area\
    \ network (that is, all the IP addresses in the local\n         environment map\
    \ to a few (usually one) physical address in the\n         wide-area network,\
    \ in a way consistent with the { IP address\n         <-> network address } mapping\
    \ used throughout the wide-area\n         network).\n         Multihoming is possible\
    \ on one wide-area network, but may\n         present routing problems if the\
    \ interfaces are geographically\n         or topologically separated.  Multihoming\
    \ on two (or more)\n         wide-area networks is a problem due to the confusion\
    \ of\n         addresses.\n         The behavior that hosts see from other hosts\
    \ in what is\n         apparently the same network may differ if the transparent\n\
    \         gateway cannot fully emulate the normal wide-area network\n        \
    \ service.  For example, if there were a transparent gateway\n         between\
    \ the ARPANET and an Ethernet, a remote host would not\n         receive a Destination\
    \ Dead message [3] if it sent a datagram to\n         an Ethernet host that was\
    \ powered off.\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - "RFC 1009 - Requirements for Internet Gateways                  June 1987\n  \
    \ 1.3.  Gateway Characteristics\n      Every Internet gateway must perform the\
    \ functions listed above.\n      However, a vendor will have many choices on power,\
    \ complexity, and\n      features for a particular gateway product.  It may be\
    \ helpful to\n      observe that the Internet system is neither homogeneous nor\n\
    \      fully-connected.  For reasons of technology and geography, it is\n    \
    \  growing into a global-interconnect system plus a \"fringe\" of LANs\n     \
    \ around the \"edge\".\n         *  The global-interconnect system is comprised\
    \ of a number of\n            wide-area networks to which are attached gateways\
    \ of several\n            ASs; there are relatively few hosts connected directly\
    \ to\n            it.  The global-interconnect system includes the ARPANET,\n\
    \            the NSFNET \"backbone\", the various NSF regional and\n         \
    \   consortium networks, other ARPA sponsored networks such as\n            the\
    \ SATNET and the WBNET, and the DCA sponsored MILNET.  It\n            is anticipated\
    \ that additional networks sponsored by these\n            and other agencies\
    \ (such as NASA and DOE) will join the\n            global-interconnect system.\n\
    \         *  Most hosts are connected to LANs, and many organizations\n      \
    \      have clusters of LANs interconnected by local gateways.\n            Each\
    \ such cluster is connected by gateways at one or more\n            points into\
    \ the global-interconnect system.  If it is\n            connected at only one\
    \ point, a LAN is known as a \"stub\"\n            network.\n      Gateways in\
    \ the global-interconnect system generally require:\n         *  Advanced routing\
    \ and forwarding algorithms\n            These gateways need routing algorithms\
    \ which are highly\n            dynamic and also offer type-of-service routing.\
    \  Congestion\n            is still not a completely resolved issue [24].  Improvements\n\
    \            to the current situation will be implemented soon, as the\n     \
    \       research community is actively working on these issues.\n         *  High\
    \ availability\n            These gateways need to be highly reliable, providing\
    \ 24 hour\n            a day, 7 days a week service.  In case of failure, they\
    \ must\n            recover quickly.\n         *  Advanced O&M features\n    \
    \        These gateways will typically be operated remotely from a\n         \
    \   regional or national monitoring center.  In their\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - "RFC 1009 - Requirements for Internet Gateways                  June 1987\n  \
    \          interconnect role, they will need to provide sophisticated\n      \
    \      means for monitoring and measuring traffic and other events\n         \
    \   and for diagnosing faults.\n         *  High performance\n            Although\
    \ long-haul lines in the Internet today are most\n            frequently 56 Kbps,\
    \ DS1 lines (1.5 Mbps) are of increasing\n            importance, and even higher\
    \ speeds are likely in the future.\n            Full-duplex operation is provided\
    \ at any of these speeds.\n            The average size of Internet datagrams\
    \ is rather small, of\n            the order of 100 bytes.  At DS1 line speeds,\
    \ the\n            per-datagram processing capability of the gateways, rather\n\
    \            than the line speed, is likely to be the bottleneck.  To\n      \
    \      fill a DS1 line with average-sized Internet datagrams, a\n            gateway\
    \ would need to pass -- receive, route, and send --\n            2,000 datagrams\
    \ per second per interface.  That is, a\n            gateway which supported 3\
    \ DS1 lines and and Ethernet\n            interface would need to be able to pass\
    \ a dazzling 2,000\n            datagrams per second in each direction on each\
    \ of the\n            interfaces, or a aggregate throughput of 8,000 datagrams\
    \ per\n            second, in order to fully utilize DS1 lines.  This is beyond\n\
    \            the capability of current gateways.\n               Note: some vendors\
    \ count input and output operations\n               separately in datagrams per\
    \ second figures; for these\n               vendors, the above example would imply\
    \ 16,000 datagrams\n               per second !\n      Gateways used in the \"\
    LAN fringe\" (e.g., campus networks) will\n      generally have to meet less stringent\
    \ requirements for\n      performance, availability, and maintenance.  These may\
    \ be high or\n      medium-performance devices, probably competitively procured\
    \ from\n      several different vendors and operated by an internal organization\n\
    \      (e.g., a campus computing center).  The design of these gateways\n    \
    \  should emphasize low average delay and good burst performance,\n      together\
    \ with delay and type-of-service sensitive resource\n      management.  In this\
    \ environment, there will be less formal O&M,\n      more hand-crafted static\
    \ configurations for special cases, and\n      more need for inter-operation with\
    \ gateways of other vendors.  The\n      routing mechanism will need to be very\
    \ flexible, but need not be\n      so highly dynamic as in the global-interconnect\
    \ system.\n      It is important to realize that Internet gateways normally operate\n\
    \      in an unattended mode, but that equipment and software faults can\n   \
    \   have a wide-spread (sometimes global) effect.  In any environment,\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - "RFC 1009 - Requirements for Internet Gateways                  June 1987\n  \
    \    a gateway must be highly robust and able to operate, possibly in a\n    \
    \  degraded state, under conditions of extreme congestion or failure\n      of\
    \ network resources.\n      Even though the Internet system is not fully-interconnected,\
    \ many\n      parts of the system do need to have redundant connectivity.  A\n\
    \      rich connectivity allows reliable service despite failures of\n      communication\
    \ lines and gateways, and it can also improve service\n      by shortening Internet\
    \ paths and by providing additional capacity.\n      The engineering tradeoff\
    \ between cost and reliability must be made\n      for each component of the Internet\
    \ system.\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - 'RFC 1009 - Requirements for Internet Gateways                  June 1987

    '
- title: 2.  Protocols Required in Gateways
  contents:
  - "2.  Protocols Required in Gateways\n   The Internet architecture uses datagram\
    \ gateways to interconnect\n   constituent networks.  This section describes the\
    \ various protocols\n   which a gateway needs to implement.\n   2.1.  Internet\
    \ Protocol (IP)\n      IP is the basic datagram protocol used in the Internet\
    \ system [19,\n      31].  It is described in RFC-791 [1] and also in MIL-STD-1777\
    \ [5]\n      as clarified by RFC-963 [36] ([1] and [5] are intended to describe\n\
    \      the same standard, but in quite different words).  The subnet\n      extension\
    \ is described in RFC-950 [21].\n      With respect to current gateway requirements\
    \ the following IP\n      features can be ignored, although they may be required\
    \ in the\n      future:  Type of Service field, Security option, and Stream ID\n\
    \      option.  However, if recognized, the interpretation of these\n      quantities\
    \ must conform to the standard specification.\n      It is important for gateways\
    \ to implement both the Loose and\n      Strict Source Route options.  The Record\
    \ Route and Timestamp\n      options are useful diagnostic tools and must be supported\
    \ in all\n      gateways.\n      The Internet model requires that a gateway be\
    \ able to fragment\n      datagrams as necessary to match the MTU of the network\
    \ to which\n      they are being forwarded, but reassembly of fragmented datagrams\n\
    \      is generally left to the destination hosts.  Therefore, a gateway\n   \
    \   will not perform reassembly on datagrams it forwards.\n      However, a gateway\
    \ will generally receive some IP datagrams\n      addressed to itself; for example,\
    \ these may be ICMP Request/Reply\n      messages, routing update messages (see\
    \ Sections 2.3 and 2.6), or\n      for monitoring and control (see Section 5).\
    \  For these datagrams,\n      the gateway will be functioning as a destination\
    \ host, so it must\n      implement IP reassembly in case the datagrams have been\
    \ fragmented\n      by some transit gateway.  The destination gateway must have\
    \ a\n      reassembly buffer which is at least as large as the maximum of the\n\
    \      MTU values for its network interfaces and 576.  Note also that it\n   \
    \   is possible for a particular protocol implemented by a host or\n      gateway\
    \ to require a lower bound on reassembly buffer size which\n      is larger than\
    \ 576.  Finally, a datagram which is addressed to a\n      gateway may use any\
    \ of that gateway's IP addresses as destination\n      address, regardless of\
    \ which interface the datagram enters.\n      There are five classes of IP addresses:\
    \  Class A through\n      Class E [23].  Of these, Class D and Class E addresses\
    \ are\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - "RFC 1009 - Requirements for Internet Gateways                  June 1987\n  \
    \    reserved for experimental use.  A gateway which is not\n      participating\
    \ in these experiments must ignore all datagrams with\n      a Class D or Class\
    \ E destination IP address.  ICMP Destination\n      Unreachable or ICMP Redirect\
    \ messages must not result from\n      receiving such datagrams.\n      There\
    \ are certain special cases for IP addresses, defined in the\n      latest Assigned\
    \ Numbers document [23].  These special cases can be\n      concisely summarized\
    \ using the earlier notation for an IP address:\n         IP-address ::=  { <Network-number>,\
    \ <Host-number> }\n            or\n         IP-address ::=  { <Network-number>,\
    \ <Subnet-number>,\n                                                         <Host-number>\
    \ }\n      if we also use the notation \"-1\" to mean the field contains all 1\n\
    \      bits.  Some common special cases are as follows:\n         (a)   {0, 0}\n\
    \            This host on this network.  Can only be used as a source\n      \
    \      address (see note later).\n         (b)   {0, <Host-number>}\n        \
    \    Specified host on this network.  Can only be used as a\n            source\
    \ address.\n         (c)   { -1, -1}\n            Limited broadcast.  Can only\
    \ be used as a destination\n            address, and a datagram with this address\
    \ must never be\n            forwarded outside the (sub-)net of the source.\n\
    \         (d)   {<Network-number>, -1}\n            Directed broadcast to specified\
    \ network.  Can only be used\n            as a destination address.\n        \
    \ (e)   {<Network-number>, <Subnet-number>, -1}\n            Directed broadcast\
    \ to specified subnet.  Can only be used as\n            a destination address.\n\
    \         (f)   {<Network-number>, -1, -1}\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - "RFC 1009 - Requirements for Internet Gateways                  June 1987\n  \
    \          Directed broadcast to all subnets of specified subnetted\n        \
    \    network.  Can only be used as a destination address.\n         (g)   {127,\
    \ <any>}\n            Internal host loopback address.  Should never appear outside\n\
    \            a host.\n      The following two are conventional notation for network\
    \ numbers,\n      and do not really represent IP addresses.  They can never be\
    \ used\n      in an IP datagram header as an IP source or destination address.\n\
    \         (h)   {<Network-number>, 0}\n            Specified network (no host).\n\
    \         (i)   {<Network-number>, <Subnet-number>, 0}\n            Specified\
    \ subnet (no host).\n      Note also that the IP broadcast address, which has\
    \ primary\n      application to Ethernets and similar technologies that support\
    \ an\n      inherent broadcast function, has an all-ones value in the host\n \
    \     field of the IP address.  Some early implementations chose the\n      all-zeros\
    \ value for this purpose, which is not in conformance with\n      the specification\
    \ [23, 49, 50].\n   2.2.  Internet Control Message Protocol (ICMP)\n      ICMP\
    \ is an auxiliary protocol used to convey advice and error\n      messages and\
    \ is described in RFC-792 [2].\n      We will discuss issues arising from gateway\
    \ handling of particular\n      ICMP messages.  The ICMP messages are grouped\
    \ into two classes:\n      error messages and information messages.  ICMP error\
    \ messages are\n      never sent about ICMP error messages, nor about broadcast\
    \ or\n      multicast datagrams.\n         The ICMP error messages are: Destination\
    \ Unreachable, Redirect,\n         Source Quench, Time Exceeded, and Parameter\
    \ Problem.\n         The ICMP information messages are: Echo, Information,\n \
    \        Timestamp, and Address Mask.\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - "RFC 1009 - Requirements for Internet Gateways                  June 1987\n  \
    \    2.2.1.  Destination Unreachable\n         The distinction between subnets\
    \ of a subnetted network, which\n         depends on the address mask described\
    \ in RFC-950 [21], must not\n         be visible outside that network.  This distinction\
    \ is important\n         in the case of the ICMP Destination Unreachable message.\n\
    \         The ICMP Destination Unreachable message is sent by a gateway\n    \
    \     in response to a datagram which it cannot forward because the\n        \
    \ destination is unreachable or down.  The gateway chooses one of\n         the\
    \ following two types of Destination Unreachable messages to\n         send:\n\
    \            *  Net Unreachable\n            *  Host Unreachable\n         Net\
    \ unreachable implies that an intermediate gateway was unable\n         to forward\
    \ a datagram, as its routing data-base gave no next\n         hop for the datagram,\
    \ or all paths were down.  Host Unreachable\n         implies that the destination\
    \ network was reachable, but that a\n         gateway on that network was unable\
    \ to reach the destination\n         host.  This might occur if the particular\
    \ destination network\n         was able to determine that the desired host was\
    \ unreachable or\n         down.  It might also occur when the destination host\
    \ was on a\n         subnetted network and no path was available through the subnets\n\
    \         of this network to the destination.  Gateways should send Host\n   \
    \      Unreachable messages whenever other hosts on the same\n         destination\
    \ network might be reachable; otherwise, the source\n         host may erroneously\
    \ conclude that ALL hosts on the network are\n         unreachable, and that may\
    \ not be the case.\n      2.2.2.  Redirect\n         The ICMP Redirect message\
    \ is sent by a gateway to a host on the\n         same network, in order to change\
    \ the gateway used by the host\n         for routing certain datagrams.  A choice\
    \ of four types of\n         Redirect messages is available to specify datagrams\
    \ destined\n         for a particular host or network, and possibly with a\n \
    \        particular type-of-service.\n         If the directly-connected network\
    \ is not subnetted, a gateway\n         can normally send a network Redirect which\
    \ applies to all hosts\n         on a specified remote network.  Using a network\
    \ rather than a\n         host Redirect may economize slightly on network traffic\
    \ and on\n         host routing table storage.  However, the saving is not\n \
    \        significant, and subnets create an ambiguity about the subnet\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - "RFC 1009 - Requirements for Internet Gateways                  June 1987\n  \
    \       mask to be used to interpret a network Redirect.  In a general\n     \
    \    subnet environment, it is difficult to specify precisely the\n         cases\
    \ in which network Redirects can be used.\n         Therefore, it is recommended\
    \ that a gateway send only host (or\n         host and type-of-service) Redirects.\n\
    \      2.2.3.  Source Quench\n         All gateways must contain code for sending\
    \ ICMP Source Quench\n         messages when they are forced to drop IP datagrams\
    \ due to\n         congestion.  Although the Source Quench mechanism is known\
    \ to\n         be an imperfect means for Internet congestion control, and\n  \
    \       research towards more effective means is in progress, Source\n       \
    \  Quench is considered to be too valuable to omit from production\n         gateways.\n\
    \         There is some argument that the Source Quench should be sent\n     \
    \    before the gateway is forced to drop datagrams [62].  For\n         example,\
    \ a parameter X could be established and set to have\n         Source Quench sent\
    \ when only X buffers remain.  Or, a parameter\n         Y could be established\
    \ and set to have Source Quench sent when\n         only Y per cent of the buffers\
    \ remain.\n         Two problems for a gateway sending Source Quench are: (1)\
    \ the\n         consumption of bandwidth on the reverse path, and (2) the use\n\
    \         of gateway CPU time.  To ameliorate these problems, a gateway\n    \
    \     must be prepared to limit the frequency with which it sends\n         Source\
    \ Quench messages.  This may be on the basis of a count\n         (e.g., only\
    \ send a Source Quench for every N dropped datagrams\n         overall or per\
    \ given source host), or on the basis of a time\n         (e.g., send a Source\
    \ Quench to a given source host or overall\n         at most once per T millseconds).\
    \  The parameters (e.g., N or T)\n         must be settable as part of the configuration\
    \ of the gateway;\n         furthermore, there should be some configuration setting\
    \ which\n         disables sending Source Quenches.  These configuration\n   \
    \      parameters, including disabling, should ideally be specifiable\n      \
    \   separately for each network interface.\n         Note that a gateway itself\
    \ may receive a Source Quench as the\n         result of sending a datagram targeted\
    \ to another gateway.  Such\n         datagrams might be an EGP update, for example.\n\
    \      2.2.4.  Time Exceeded\n         The ICMP Time Exceeded message may be sent\
    \ when a gateway\n         discards a datagram due to the TTL being reduced to\
    \ zero.  It\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - "RFC 1009 - Requirements for Internet Gateways                  June 1987\n  \
    \       may also be sent by a gateway if the fragments of a datagram\n       \
    \  addressed to the gateway itself cannot be reassembled before\n         the\
    \ time limit.\n      2.2.5.  Parameter Problem\n         The ICMP Parameter Problem\
    \ message may be sent to the source\n         host for any problem not specifically\
    \ covered by another ICMP\n         message.\n      2.2.6.  Address Mask\n   \
    \      Host and gateway implementations are expected to support the\n        \
    \ ICMP Address Mask messages described in RFC-950 [21].\n      2.2.7.  Timestamp\n\
    \         The ICMP Timestamp message has proven to be useful for\n         diagnosing\
    \ Internet problems.  The preferred form for a\n         timestamp value, the\
    \ \"standard value\", is in milliseconds since\n         midnight GMT.  However,\
    \ it may be difficult to provide this\n         value with millisecond resolution.\
    \  For example, many systems\n         use clocks which update only at line frequency,\
    \ 50 or 60 times\n         per second.  Therefore, some latitude is allowed in\
    \ a\n         \"standard\" value:\n            *  The value must be updated at\
    \ a frequency of at least 30\n               times per second (i.e., at most five\
    \ low-order bits of\n               the value may be undefined).\n           \
    \ *  The origin of the value must be within a few minutes of\n               midnight,\
    \ i.e., the accuracy with which operators\n               customarily set CPU\
    \ clocks.\n         To meet the second condition for a stand-alone gateway, it\
    \ will\n         be necessary to query some time server host when the gateway\
    \ is\n         booted or restarted.  It is recommended that the UDP Time\n   \
    \      Server Protocol [44] be used for this purpose.  A more advanced\n     \
    \    implementation would use NTP (Network Time Protocol) [45] to\n         achieve\
    \ nearly millisecond clock synchronization; however, this\n         is not required.\n\
    \         Even if a gateway is unable to establish its time origin, it\n     \
    \    ought to provide a \"non-standard\" timestamp value (i.e., with\n       \
    \  the non-standard bit set), as a time in milliseconds from\n         system\
    \ startup.\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - "RFC 1009 - Requirements for Internet Gateways                  June 1987\n  \
    \       New gateways, especially those expecting to operate at T1 or\n       \
    \  higher speeds, are expected to have at least millisecond\n         clocks.\n\
    \      2.2.8.  Information Request/Reply\n         The Information Request/Reply\
    \ pair was intended to support\n         self-configuring systems such as diskless\
    \ workstations, to\n         allow them to discover their IP network numbers at\
    \ boot time.\n         However, the Reverse ARP (RARP) protocol [15] provides\
    \ a better\n         mechanism for a host to use to discover its own IP address,\
    \ and\n         RARP is recommended for this purpose.  Information\n         Request/Reply\
    \ need not be implemented in a gateway.\n      2.2.9.  Echo Request/Reply\n  \
    \       A gateway must implement ICMP Echo, since it has proven to be\n      \
    \   an extremely useful diagnostic tool.  A gateway must be\n         prepared\
    \ to receive, reassemble, and echo an ICMP Echo Request\n         datagram at\
    \ least as large as the maximum of 576 and the MTU's\n         of all of the connected\
    \ networks.  See the discussion of IP\n         reassembly in gateways, Section\
    \ 2.1.\n         The following rules resolve the question of the use of IP\n \
    \        source routes in Echo Request and Reply datagrams.  Suppose a\n     \
    \    gateway D receives an ICMP Echo Request addressed to itself\n         from\
    \ host S.\n            1.  If the Echo Request contained no source route, D should\n\
    \                send an Echo Reply back to S using its normal routing\n     \
    \           rules.  As a result, the Echo Reply may take a different\n       \
    \         path than the Request; however, in any case, the pair\n            \
    \    will sample the complete round-trip path which any other\n              \
    \  higher-level protocol (e.g., TCP) would use for its data\n                and\
    \ ACK segments between S and D.\n            2.  If the Echo Request did contain\
    \ a source route, D should\n                send an Echo Reply back to S using\
    \ as a source route the\n                return route built up in the source-routing\
    \ option of\n                the Echo Request.\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - "RFC 1009 - Requirements for Internet Gateways                  June 1987\n  \
    \ 2.3.  Exterior Gateway Protocol (EGP)\n      EGP is the protocol used to exchange\
    \ reachability information\n      between Autonomous Systems of gateways, and\
    \ is defined in\n      RFC-904 [11].  See also RFC-827 [51], RFC-888 [46], and\n\
    \      RFC-975 [27] for background information.  The most widely used EGP\n  \
    \    implementation is described in RFC-911 [13].\n      When a dynamic routing\
    \ algorithm is operated in the gateways of an\n      Autonomous System (AS), the\
    \ routing data-base must be coupled to\n      the EGP implementation.  This coupling\
    \ should ensure that, when a\n      net is determined to be unreachable by the\
    \ routing algorithm, the\n      net will not be declared reachable to other ASs\
    \ via EGP.  This\n      requirement is designed to minimize spurious traffic to\
    \ \"black\n      holes\" and to ensure fair utilization of the resources on other\n\
    \      systems.\n      The present EGP specification defines a model with serious\n\
    \      limitations, most importantly a restriction against propagating\n     \
    \ \"third party\" EGP information in order to prevent long-lived\n      routing\
    \ loops [27].  This effectively limits EGP to a two-level\n      hierarchy; the\
    \ top level is formed by the \"core\" AS, while the\n      lower level is composed\
    \ of those ASs which are direct neighbor\n      gateways to the core AS.  In practice,\
    \ in the current Internet,\n      nearly all of the \"core gateways\" are connected\
    \ to the ARPANET,\n      while the lower level is composed of those ASs which\
    \ are directly\n      gatewayed to the ARPANET or MILNET.\n      RFC-975 [27]\
    \ suggested one way to generalize EGP to lessen these\n      topology restrictions;\
    \  it has not been adopted as an official\n      specification, although its ideas\
    \ are finding their way into the\n      new EGP developments.  There are efforts\
    \ underway in the research\n      community to develop an EGP generalization which\
    \ will remove these\n      restrictions.\n      In EGP, there is no standard interpretation\
    \ (i.e., metric) for the\n      distance fields in the update messages, so distances\
    \ are\n      comparable only among gateways of the same AS.  In using EGP data,\n\
    \      a gateway should compare the distances among gateways of the same\n   \
    \   AS and prefer a route to that gateway which has the smallest\n      distance\
    \ value.\n      The values to be announced in the distance fields for particular\n\
    \      networks within the local AS should be a gateway configuration\n      parameter;\
    \ by suitable choice of these values, it will be possible\n      to arrange primary\
    \ and backup paths from other AS's.  There are\n      other EGP parameters, such\
    \ as polling intervals, which also need\n      to be set in the gateway configuration.\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - "RFC 1009 - Requirements for Internet Gateways                  June 1987\n  \
    \    When routing updates become large they must be transmitted in\n      parts.\
    \  One strategy is to use IP fragmentation, another is to\n      explicitly send\
    \ the routing information in sections.  The Internet\n      Engineering Task Force\
    \ is currently preparing a recommendation on\n      this and other EGP engineering\
    \ issues.\n   2.4.  Address Resolution Protocol (ARP)\n      ARP is an auxiliary\
    \ protocol used to perform dynamic address\n      translation between LAN hardware\
    \ addresses and Internet addresses,\n      and is described in RFC-826 [4].\n\
    \      ARP depends upon local network broadcast.  In normal ARP usage,\n     \
    \ the initiating host broadcasts an ARP Request carrying a target IP\n      address;\
    \ the corresponding target host, recognizing its own IP\n      address, sends\
    \ back an ARP Reply containing its own hardware\n      interface address.\n  \
    \    A variation on this procedure, called \"proxy ARP\", has been used\n    \
    \  by gateways attached to broadcast LANs [14].  The gateway sends an\n      ARP\
    \ Reply specifying its interface address in response to an ARP\n      Request\
    \ for a target IP address which is not on the\n      directly-connected network\
    \ but for which the gateway offers an\n      appropriate route.  By observing\
    \ ARP and proxy ARP traffic, a\n      gateway may accumulate a routing data-base\
    \ [14].\n      Proxy ARP (also known in some quarters as \"promiscuous ARP\" or\n\
    \      \"the ARP hack\") is useful for routing datagrams from hosts which\n  \
    \    do not implement the standard Internet routing rules fully -- for\n     \
    \ example, host implementations which predate the introduction of\n      subnetting.\
    \  Proxy ARP for subnetting is discussed in detail in\n      RFC-925 [14].\n \
    \     Reverse ARP (RARP) allows a host to map an Ethernet interface\n      address\
    \ into an IP address [15].  RARP is intended to allow a\n      self-configuring\
    \ host to learn its own IP address from a server at\n      boot time.\n   2.5.\
    \  Constituent Network Access Protocols\n      See Section 3.\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - "RFC 1009 - Requirements for Internet Gateways                  June 1987\n  \
    \ 2.6.  Interior Gateway Protocols\n      Distributed routing algorithms continue\
    \ to be the subject of\n      research and engineering, and it is likely that\
    \ advances will be\n      made over the next several years.  A good algorithm\
    \ needs to\n      respond rapidly to real changes in Internet connectivity, yet\
    \ be\n      stable and insensitive to transients.  It needs to synchronize the\n\
    \      distributed data-base across gateways of its Autonomous System\n      rapidly\
    \ (to avoid routing loops), while consuming only a small\n      fraction of the\
    \ available bandwidth.\n      Distributed routing algorithms are commonly broken\
    \ down into the\n      following three components:\n         A.  An algorithm\
    \ to assign a \"length\" to each Internet path.\n            The \"length\" may\
    \ be a simple count of hops (1, or infinity\n            if the path is broken),\
    \ or an administratively-assigned\n            cost, or some dynamically-measured\
    \ cost (usually an average\n            delay).\n            In order to determine\
    \ a path length, each gateway must at\n            least test whether each of\
    \ its neighbors is reachable; for\n            this purpose, there must be a \"\
    reachability\" or \"neighbor\n            up/down\" protocol.\n         B.  An\
    \ algorithm to compute the shortest path(s) to a given\n             destination.\n\
    \         C.  A gateway-gateway protocol used to exchange path length and\n  \
    \           routing information among gateways.\n      The most commonly-used\
    \ IGPs in Internet gateways are as follows.\n      2.6.1.  Gateway-to-Gateway\
    \ Protocol (GGP)\n         GGP was designed and implemented by BBN for the first\n\
    \         experimental Internet gateways [41].  It is still in use in the\n  \
    \       BBN LSI/11 gateways, but is regarded as having serious\n         drawbacks\
    \ [58].  GGP is based upon an algorithm used in the\n         early ARPANET IMPs\
    \ and later replaced by SPF (see below).\n         GGP is a \"min-hop\" algorithm,\
    \ i.e., its length measure is\n         simply the number of network hops between\
    \ gateway pairs.  It\n         implements a distributed shortest-path algorithm,\
    \ which\n         requires global convergence of the routing tables after a\n\
    \         change in topology or connectivity.  Each gateway sends a GGP\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - "RFC 1009 - Requirements for Internet Gateways                  June 1987\n  \
    \       routing update only to its neighbors, but each update includes\n     \
    \    an entry for every known network, where each entry contains the\n       \
    \  hop count from the gateway sending the update.\n      2.6.2.  Shortest-Path-First\
    \ (SPF) Protocols\n         SPF [40] is the name for a class of routing algorithms\
    \ based on\n         a shortest-path algorithm of Dijkstra.  The current ARPANET\n\
    \         routing algorithm is SPF, and the BBN Butterfly gateways also\n    \
    \     use SPF.  Its characteristics are considered superior to\n         GGP [58].\n\
    \         Under SPF, the routing data-base is replicated rather than\n       \
    \  distributed.  Each gateway will have its own copy of the same\n         data-base,\
    \ containing the entire Internet topology and the\n         lengths of every path.\
    \  Since each gateway has all the routing\n         data and runs a shortest-path\
    \ algorithm locally, there is no\n         problem of global convergence of a\
    \ distributed algorithm, as in\n         GGP.  To build this replicated data-base,\
    \ a gateway sends SPF\n         routing updates to ALL other gateways; these updates\
    \ only list\n         the distances to each of the gateway's neighbors, making\
    \ them\n         much smaller than GGP updates.  The algorithm used to\n     \
    \    distribute SPF routing updates involves reliable flooding.\n      2.6.3.\
    \  Routing Information (RIP)\n         RIP is the name often used for a class\
    \ of routing protocols\n         based upon the Xerox PUP and XNS routing protocols.\
    \  These are\n         relatively simple, and are widely available because they\
    \ are\n         incorporated in the embedded gateway code of Berkeley BSD\n  \
    \       systems.  Because of this simplicity, RIP protocols have come\n      \
    \   the closest of any to being an \"Open IGP\", i.e., a protocol\n         which\
    \ can be used between different vendors' gateways.\n         Unfortunately, there\
    \ is no standard, and in fact not even a\n         good document, for RIP.\n \
    \        As in GGP, gateways using RIP periodically broadcast their\n        \
    \ routing data-base to their neighbor gateways, and use a\n         hop-count\
    \ as the metric.\n         A fixed value of the hop-count (normally 16) is defined\
    \ to be\n         \"infinity\", i.e., network unreachable.  A RIP implementation\n\
    \         must include measures to avoid both the slow-convergence\n         phenomen\
    \ called \"counting to infinity\" and the formation of\n         routing loops.\
    \  One such measure is a \"hold-down\" rule.  This\n         rule establishes\
    \ a period of time (typically 60 seconds) during\n         which a gateway will\
    \ ignore new routing information about a\n         given network, once the gateway\
    \ has learned that network is\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - "RFC 1009 - Requirements for Internet Gateways                  June 1987\n  \
    \       unreachable (has hop-count \"infinity\").  The hold-down period\n    \
    \     must be settable in the gateway configuration; if gateways with\n      \
    \   different hold-down periods are using RIP in the same\n         Autonomous\
    \ System, routing loops are a distinct possibility.\n         In general, the\
    \ hold-down period is chosen large enough to\n         allow time for unreachable\
    \ status to propagate to all gateways\n         in the AS.\n      2.6.4.  Hello\n\
    \         The \"Fuzzball\" software for an LSI/11 developed by Dave Mills\n  \
    \       incorporated an IGP called the \"Hello\" protocol [39].  This IGP\n  \
    \       is mentioned here because the Fuzzballs have been widely used\n      \
    \   in Internet experimentation, and because they have served as a\n         testbed\
    \ for many new routing ideas.\n   2.7.  Monitoring Protocols\n      See Section\
    \ 5 of this document.\n   2.8.  Internet Group Management Protocol (IGMP)\n  \
    \    An extension to the IP protocol has been defined to provide\n      Internet-wide\
    \ multicasting, i.e., delivery of copies of the same\n      IP datagram to a set\
    \ of Internet hosts [47, 48].  This delivery is\n      to be performed by processes\
    \ known as \"multicasting agents\", which\n      reside either in a host on each\
    \ net or (preferably) in the\n      gateways.\n      The set of hosts to which\
    \ a datagram is delivered is called a\n      \"host group\", and there is a host-agent\
    \ protocol called IGMP,\n      which a host uses to join, leave, or create a group.\
    \  Each host\n      group is distinguished by a Class D IP address.\n      This\
    \ multicasting mechanism and its IGMP protocol are currently\n      experimental;\
    \ implementation in vendor gateways would be premature\n      at this time.  A\
    \ datagram containing a Class D IP address must be\n      dropped, with no ICMP\
    \ error message.\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - 'RFC 1009 - Requirements for Internet Gateways                  June 1987

    '
- title: 3.  Constituent Network Interface
  contents:
  - "3.  Constituent Network Interface\n   This section discusses the rules used for\
    \ transmission of IP\n   datagrams on the most common types of constituent networks.\
    \  A\n   gateway must be able to send and receive IP datagrams of any size up\n\
    \   to the MTU of any constituent network to which it is connected.\n   3.1. \
    \ Public data networks via X.25\n      The formats specified for public data networks\
    \ accessed via X.25\n      are described in RFC-877 [8].  Datagrams are transmitted\
    \ over\n      standard level-3 virtual circuits as complete packet sequences.\n\
    \      Virtual circuits are usually established dynamically as required\n    \
    \  and time-out after a period of no traffic.  Link-level\n      retransmission,\
    \ resequencing and flow control are performed by the\n      network for each virtual\
    \ circuit and by the LAPB link-level\n      protocol.  Note that a single X.25\
    \ virtual circuit may be used to\n      multiplex all IP traffic between a pair\
    \ of hosts.  However,\n      multiple parallel virtual circuits may be used in\
    \ order to improve\n      the utilization of the subscriber access line, in spite\
    \ of small\n      X.25 window sizes; this can result in random resequencing.\n\
    \      The correspondence between Internet and X.121 addresses is usually\n  \
    \    established by table-lookup.  It is expected that this will be\n      replaced\
    \ by some sort of directory procedure in the future.  The\n      table of the\
    \ hosts on the Public Data Network is in the Assigned\n      Numbers [23].\n \
    \     The normal MTU is 576; however, the two DTE's (hosts or gateways)\n    \
    \  can use X.25 packet size negotiation to increase this value [8].\n   3.2. \
    \ ARPANET via 1822 LH, DH, or HDH\n      The formats specified for ARPANET networks\
    \ using 1822 access are\n      described in BBN Report 1822 [3], which includes\
    \ the procedures\n      for several subscriber access methods.  The Distant Host\
    \ (DH)\n      method is used when the host and IMP (the Defense Communication\n\
    \      Agency calls it a Packet Switch Node or PSN) are separated by not\n   \
    \   more than about 2000 feet of cable, while the HDLC Distant Host\n      (HDH)\
    \ is used for greater distances where a modem is required.\n      Under HDH, retransmission,\
    \ resequencing and flow control are\n      performed by the network and by the\
    \ HDLC link-level protocol.\n      The IP encapsulation format is simply to include\
    \ the IP datagram\n      as the data portion of an 1822 message.  In addition,\
    \ the\n      high-order 8 bits of the Message Id field (also known as the\n  \
    \    \"link\" field\") should be set to 155 [23].  The MTU is 1007 octets.\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - "RFC 1009 - Requirements for Internet Gateways                  June 1987\n  \
    \    While the ARPANET 1822 protocols are widely used at present, they\n     \
    \ are expected to be eventually overtaken by the DDN Standard X.25\n      protocol\
    \ (see Section 3.3).  The original IP address mapping\n      (RFC-796 [38]) is\
    \ in the process of being replaced by a new\n      interface specification called\
    \ AHIP-E; see RFC-1005 [61] for the\n      proposal.\n      Gateways connected\
    \ to ARPANET or MILNET IMPs using 1822 access\n      must incorporate features\
    \ to avoid host-port blocking (i.e., RFNM\n      counting) and to detect and report\
    \ as ICMP Unreachable messages\n      the failure of destination hosts or gateways\
    \ (i.e., convert the\n      1822 error messages to the appropriate ICMP messages).\n\
    \      In the development of a network interface it will be useful to\n      review\
    \ the IMP end-to-end protocol described in RFC-979 [29].\n   3.3.  ARPANET via\
    \ DDN Standard X.25\n      The formats specified for ARPANET networks via X.25\
    \ are described\n      in the Defense Data Network X.25 Host Interface Specification\
    \ [6],\n      which describes two sets of procedures: the DDN Basic X.25, and\n\
    \      the DDN Standard X.25.  Only DDN Standard X.25 provides the\n      functionality\
    \ required for interoperability assumptions of the\n      Internet protocol.\n\
    \      The DDN Standard X.25 procedures are similar to the public data\n     \
    \ network X.25 procedures, except in the address mappings.\n      Retransmission,\
    \ resequencing and flow control are performed by the\n      network and by the\
    \ LAPB link-level protocol.  Multiple parallel\n      virtual circuits may be\
    \ used in order to improve the utilization\n      of the subscriber access line;\
    \ this can result in random\n      resequencing.\n      Gateways connected to\
    \ ARPANET or MILNET using Standard X.25 access\n      must detect and report as\
    \ ICMP Unreachable messages the failure of\n      destination hosts or gateways\
    \ (i.e., convert the X.25 diagnostic\n      codes to the appropriate ICMP messages).\n\
    \      To achieve compatibility with 1822 interfaces, the effective MTU\n    \
    \  for a Standard X.25 interface is 1007 octets.\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - "RFC 1009 - Requirements for Internet Gateways                  June 1987\n  \
    \ 3.4.  Ethernet and IEEE 802\n      The formats specified for Ethernet networks\
    \ are described in\n      RFC-894 [10].  Datagrams are encapsulated as Ethernet\
    \ packets with\n      48-bit source and destination address fields and a 16-bit\
    \ type\n      field (the type field values are listed in the Assigned\n      Numbers\
    \ [23]).  Address translation between Ethernet addresses and\n      Internet addresses\
    \ is managed by the Address Resolution Protocol,\n      which is required in all\
    \ Ethernet implementations.  There is no\n      explicit link-level retransmission,\
    \ resequencing or flow control,\n      although most hardware interfaces will\
    \ retransmit automatically in\n      case of collisions on the cable.\n      The\
    \ IEEE 802 networks use a Link Service Access Point (LSAP) field\n      in much\
    \ the same way the ARPANET uses the \"link\" field.  Further,\n      there is\
    \ an extension of the LSAP header called the Sub-Network\n      Access Protocol\
    \ (SNAP).\n      The 802.2 encapsulation is used on 802.3, 802.4, and 802.5 network\n\
    \      by using the SNAP with an organization code indicating that the\n     \
    \ following 16 bits specify the Ether-Type code [23].\n      Headers:\n      \
    \   ...--------+--------+--------+\n          MAC Header|      Length     |  \
    \                802.{3/4/5} MAC\n         ...--------+--------+--------+\n  \
    \       +--------+--------+--------+\n         | DSAP=K1| SSAP=K1| control|  \
    \                        802.2 SAP\n         +--------+--------+--------+\n  \
    \       +--------+--------+--------+--------+--------+\n         |protocol id\
    \ or org code=K2|    Ether-Type   |       802.2 SNAP\n         +--------+--------+--------+--------+--------+\n\
    \      The total length of the SAP Header and the SNAP header is\n      8-octets,\
    \ making the 802.2 protocol overhead come out on a 64-bit\n      boundary.\n \
    \     K1 is 170.  The IEEE likes to talk about things in bit\n      transmission\
    \ order and specifies this value as 01010101.  In\n      big-endian order, as\
    \ used in the Internet specifications, this\n      becomes 10101010 binary, or\
    \ AA hex, or 170 decimal.  K2 is 0\n      (zero).\n      The use of the IP LSAP\
    \ (K1 = 6) is reserved for future\n      development.\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - "RFC 1009 - Requirements for Internet Gateways                  June 1987\n  \
    \    The assigned values for the Ether-Type field are the same for\n      either\
    \ this IEEE 802 encapsulation or the basic Ethernet\n      encapsulation [10].\n\
    \      In either Ethernets or IEEE 802 nets, the IP datagram is the data\n   \
    \   portion of the packet immediately following the Ether-Type.\n      The MTU\
    \ for an Ethernet or its IEEE-standard equivalent (802.3) is\n      1500 octets.\n\
    \   3.5.  Serial-Line Protocols\n      In some configurations, gateways may be\
    \ interconnected with each\n      other by means of serial asynchronous or synchronous\
    \ lines, with\n      or without modems.  When justified by the expected error\
    \ rate and\n      other factors, a link-level protocol may be required on the\
    \ serial\n      line.  While there is no single Internet standard for this\n \
    \     protocol, it is suggested that one of the following protocols be\n     \
    \ used.\n         *  X.25 LAPB  (Synchronous Lines)\n            This is the link-level\
    \ protocol used for X.25 network\n            access.  It includes HDLC \"bit-stuffing\"\
    \ as well as\n            rotating-window flow control and reliable delivery.\n\
    \               A gateway must be configurable to play the role of either\n  \
    \             the DCE or the DTE.\n         *  HDLC Framing  (Synchronous Lines)\n\
    \            This is just the bit-stuffing and framing rules of LAPB.  It\n  \
    \          is the simplest choice, although it provides no flow control\n    \
    \        or reliable delivery; however, it does provide error\n            detection.\n\
    \         *  Xerox Synchronous Point-to-Point  (Synchronous Lines)\n         \
    \   This Xerox protocol is an elaboration upon HDLC framing that\n           \
    \ includes negotiation of maximum packet sizes, dial-up or\n            dedicated\
    \ circuits, and half- or full-duplex operation [12].\n         *  Serial Line\
    \ Framing Protocol  (Asynchronous Lines)\n            This protocol is included\
    \ in the MIT PC/IP package for an\n            IBM PC and is defined in Appendix\
    \ I to the manual for that\n            system [20].\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - "RFC 1009 - Requirements for Internet Gateways                  June 1987\n  \
    \    It will be important to make efficient use of the bandwidth\n      available\
    \ on a serial line between gateways.  For example, it is\n      desirable to provide\
    \ some form of data compression.  One possible\n      standard compression algorithm,\
    \ \"Thinwire II\", is described in\n      RFC-914 [42].  This and similar algorithms\
    \ are tuned to the\n      particular types of redundancy which occur in IP and\
    \ TCP headers;\n      however, more work is necessary to define a standard serial-line\n\
    \      compression protocol for Internet gateways.  Until a standard has\n   \
    \   been adopted, each vendor is free to choose a compression\n      algorithm;\
    \ of course, the result will only be useful on a serial\n      line between two\
    \ gateways using the same compression algorithm.\n      Another way to ensure\
    \ maximum use of the bandwidth is to avoid\n      unnecessary retransmissions\
    \ at the link level.  For some kinds of\n      IP traffic, low delay is more important\
    \ than reliable delivery.\n      The serial line driver could distinguish such\
    \ datagrams by their\n      IP TOS field, and place them on a special high-priority,\n\
    \      no-retransmission queue.\n      A serial point-to-point line between two\
    \ gateways may be\n      considered to be a (particularly simple) network, a \"\
    null net\".\n      Considered in this way, a serial line requires no special\n\
    \      considerations in the routing algorithms of the connected\n      gateways,\
    \ but does need an IP network number.  To avoid the\n      wholesale consumption\
    \ of Internet routing data-base space by null\n      nets, we strongly recommend\
    \ that subnetting be used for null net\n      numbering, whenever possible.\n\
    \         For example, assume that network 128.203 is to be constructed\n    \
    \     of gateways joined by null nets; these nets are given (sub-)net\n      \
    \   numbers 128.203.1, 128.203.2, etc., and the two interfaces on\n         each\
    \ end of null net 128.203.s might have IP addresses\n         128.203.s.1 and\
    \ 128.203.s.2.\n      An alternative model of a serial line is that it is not\
    \ a network,\n      but rather an internal communication path joining two \"half\n\
    \      gateways\".  It is possible to design an IGP and routing algorithm\n  \
    \    that treats a serial line in this manner [39, 52].\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - 'RFC 1009 - Requirements for Internet Gateways                  June 1987

    '
- title: 4.  Gateway Algorithms
  contents:
  - "4.  Gateway Algorithms\n   Gateways are general packet-switches that forward\
    \ packets according\n   to the IP address, i.e., they are IP routers.   While\
    \ it is beyond\n   the scope of this document to specify the details of the mechanisms\n\
    \   used in any particular, perhaps proprietary, gateway architecture,\n   there\
    \ are a number of basic algorithms which must be provided by any\n   acceptable\
    \ design.\n   4.1.  Routing Algorithm\n      The routing mechanism is fundamental\
    \ to Internet operation.  In\n      all but trivial network topologies, robust\
    \ Internet service\n      requires some degree of routing dynamics, whether it\
    \ be effected\n      by manual or automatic means or by some combination of both.\
    \  In\n      particular, if routing changes are made manually, it must be\n  \
    \    possible to make these routing changes from a remote Network\n      Operation\
    \ Center (NOC) without taking down the gateway for\n      reconfiguration.  If\
    \ static routes are used, there must be\n      automatic fallback or rerouting\
    \ features.\n      Handling unpredictable changes in Internet connectivity must\
    \ be\n      considered the normal case, so that systems of gateways will\n   \
    \   normally be expected to have a routing algorithm with the\n      capability\
    \ of reacting to link and other gateway failures and\n      changing the routing\
    \ automatically.\n      This document places no restriction on the type of routing\n\
    \      algorithm, e.g., node-based, link-based or any other algorithm, or\n  \
    \    on the routing distance metric, e.g., delay or hop-count.\n      However,\
    \ the following features are considered necessary for a\n      successful gateway\
    \ routing algorithm:\n         1.  The algorithm must sense the failure or restoration\
    \ of a\n             link or other gateway and switch to appropriate paths.  A\n\
    \             design objective is to switch paths within an interval less\n  \
    \           than the typical TCP user time-out (one minute is a safe\n       \
    \      assumption).\n         2.  The algorithm must suppress routing loops between\
    \ neighbor\n             gateways and must contain provisions to avoid or suppress\n\
    \             routing loops that may form between non-neighbor gateways.\n   \
    \          A design objective is for no loop to persist for longer\n         \
    \    than an interval greater than the typical TCP user\n             time-out.\n\
    \         3.  The control traffic necessary to operate the routing\n         \
    \    algorithm must not significantly degrade or disrupt normal\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - "RFC 1009 - Requirements for Internet Gateways                  June 1987\n  \
    \           network operation.  Changes in state which might\n             momentarily\
    \ disrupt normal operation in a local-area must\n             not cause disruption\
    \ in remote areas of the network.\n         4.  As the size of the network increases,\
    \ the demand on\n             resources must be controlled in an efficient way.\
    \  Table\n             lookups should be hashed, for example, and data-base\n\
    \             updates handled piecemeal, with only incremental changes\n     \
    \        broadcast over a wide-area.\n         5.  The size of the routing data-base\
    \ must not be allowed to\n             exceed a constant, independent of network\
    \ topology, times\n             the number of nodes times the mean connectivity\
    \ (average\n             number of incident links).  An advanced design might\
    \ not\n             require that the entire routing data-base be kept in any\n\
    \             particular gateway, so that discovery and caching\n            \
    \ techniques would be necessary.\n         6.  Reachability and delay metrics,\
    \ if used, must not depend on\n             direct connectivity to all other gateways\
    \ or on the use of\n             network-specific broadcast mechanisms.  Polling\
    \ procedures\n             (e.g., for consistency checking) must be used only\n\
    \             sparingly and in no case introduce an overhead exceeding a\n   \
    \          constant, independent of network topology, times the\n            \
    \ longest non-looping path.\n         7.  Default routes (generally intended as\
    \ a means to reduce the\n             size of the routing data-base) must be used\
    \ with care,\n             because of the many problems with multiple paths, loops,\n\
    \             and mis-configurations which routing defaults have caused.\n   \
    \          The most common application of defaults is for routing\n          \
    \   within an Internet region which is connected in a strictly\n             hierarchical\
    \ fashion and is a stub from the rest of the\n             Internet system.  In\
    \ this case, the default is used for\n             routing \"up\" the tree.  Unfortunately,\
    \ such restricted\n             topology seldom lasts very long, and defaults\
    \ cease to\n             work.\n             More generally, defaults could be\
    \ used for initial routing\n             guesses, with final routes to be discovered\
    \ and cached from\n             external or internal data-bases via the routing\
    \ algorithm\n             or EGP.\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - "RFC 1009 - Requirements for Internet Gateways                  June 1987\n  \
    \ 4.2.  Subnets and Routing\n      We will call a gateway \"subnetted\" if at\
    \ least one of its\n      interfaces is connected to a subnet; the set of gateways\
    \ directly\n      connected to subnets of the same network will be referred to\
    \ as a\n      \"subnet cluster\".  For example, in the following diagram, network\n\
    \      2 is subnetted, with subnets 2.1 and 2.2, but network 1 is not;\n     \
    \ gateways 1, 2, and 3 are subnetted and are members of the same\n      subnet\
    \ cluster.\n         (Net 1) === [Gwy 1] === (Net 2.1) === [Gwy 2] === (Net 2.2)\n\
    \            |                                                   |\n         \
    \   |                                                   |\n             ===================\
    \ [Gwy 3] =======================\n      Subnets have the following effects on\
    \ gateway routing:\n         A.  Non-subnetted gateways are not affected at all.\n\
    \         B.  The routing data-base in a subnetted gateway must consider\n   \
    \          the address mask for subnet entries.\n         C.  Routing updates\
    \ among the gateways in the same subnet\n             cluster must include entries\
    \ for the various subnets.  The\n             corresponding address mask(s) may\
    \ be implicit, but for full\n             generality the mask needs to be given\
    \ explicitly for each\n             entry.  Note that if the routing data-base\
    \ included a full\n             32-bit mask for every IP network, the gateway\
    \ could deal\n             with networks and subnets in a natural way.  This would\n\
    \             also handle the case of multiple subnet masks for the same\n   \
    \          subnetted network.\n         D.  Routing updates from a subnetted gateway\
    \ to a gateway\n             outside the cluster can contain nets, never subnets.\n\
    \         E.  If a subnetted gateway (e.g., gateway 2 above) is unable to\n  \
    \           forward a datagram from one subnet to another subnet of the\n    \
    \         same network, then it must return a Host Unreachable, not a\n      \
    \       Net Unreachable, as discussed in Section 2.2.1.\n      When considering\
    \ the choice of routing protocol, a gateway builder\n      must consider how that\
    \ protocol generalizes for subnets.  For some\n      routing protocols it will\
    \ be possible to use the same procedures\n      in a regular gateway and a subnetted\
    \ gateway, with only a change\n      of parameters (e.g., address masks).\n  \
    \    A different subnet address mask must be configurable for each\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - "RFC 1009 - Requirements for Internet Gateways                  June 1987\n  \
    \    interface of a given gateway.  This will allow a subnetted gateway\n    \
    \  to connect to two different subnetted networks, or to connect two\n      subnets\
    \ of the same network with different masks.\n   4.3   Resource Allocation\n  \
    \    In order to perform its basic datagram-forwarding functions, a\n      gateway\
    \ must allocate resources; its packet buffers and CPU time\n      must be allocated\
    \ to packets it receives from connected networks,\n      while the bandwidth to\
    \ each of the networks must also be allocated\n      for sending packets.  The\
    \ choice of allocation strategies will be\n      critical when a particular resource\
    \ is scarce.  The most obvious\n      allocation strategy, first-come-first-served\
    \ (FCFS), may not be\n      appropriate under overload conditions, for reasons\
    \ which we will\n      now explore.\n      A first example is buffer allocation.\
    \  It is important for a\n      gateway to allocate buffers fairly among all of\
    \ its connected\n      networks, even if these networks have widely varying bandwidths.\n\
    \      A high-speed interface must not be allowed to starve slower\n      interfaces\
    \ of buffers.  For example, consider a gateway with a\n      10 Mbps Ethernet\
    \ connection and two 56 Kbps serial lines.  A buggy\n      host on the Ethernet\
    \ may spray that gateway interface with packets\n      at high speed.  Without\
    \ careful algorithm design in the gateway,\n      this could tie up all the gateway\
    \ buffers in such a way that\n      transit traffic between the serial lines would\
    \ be completely\n      stopped.\n      Allocation of output bandwidth may also\
    \ require non-FCFS\n      strategies.  In an advanced gateway design, allocation\
    \ of output\n      bandwidth may depend upon Type-of-Service bits in the IP headers.\n\
    \      A gateway may also want to give priority to datagrams for its own\n   \
    \   up/down and routing protocols.\n      Finally, Nagle [24] has suggested that\
    \ gateways implement \"fair\n      queueing\", i.e., sharing output bandwidth\
    \ equitably among the\n      current traffic sources.  In his scheme, for each\
    \ network\n      interface there would be a dynamically-built set of output queues,\n\
    \      one per IP source address; these queues would be serviced in a\n      round-robin\
    \ fashion to share the bandwidth.  If subsequent\n      research shows fair queueing\
    \ to be desirable, it will be added to\n      a future version of this document\
    \ as a universal requirement.\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - "RFC 1009 - Requirements for Internet Gateways                  June 1987\n  \
    \ 4.4.  Special Addresses and Filters\n      Section 2.1 contained a list of the\
    \ 32-bit IP addresses which have\n      special meanings.  They do not in general\
    \ represent unique IP\n      addresses of Internet hosts, and there are restrictions\
    \ on their\n      use in IP headers.\n      We can distinguish two classes of\
    \ these special cases.  The first\n      class (specifically, cases (a), (b),\
    \ (c), (g), (h), and (i) in\n      section 2.1) contains addresses which should\
    \ never appear in the\n      destination address field of any IP datagram, so\
    \ a gateway should\n      never be asked to route to one of these addresses. \
    \ However, in\n      the real world of imperfect implementations and configuration\n\
    \      errors, such bad destination addresses do occur.  It is the\n      responsibility\
    \ of a gateway to avoid propagating such erroneous\n      addresses; this is especially\
    \ important for gateways included in\n      the global interconnect system.  In\
    \ particular, a gateway which\n      receives a datagram with one of these forbidden\
    \ addresses should:\n         1.  Avoid inserting that address into its routing\
    \ database, and\n             avoid including it in routing updates to any other\
    \ gateway.\n         2.  Avoid forwarding a datagram containing that address as\
    \ a\n             destination.\n      To enforce these restrictions, it is suggested\
    \ that a gateway\n      include a configurable filter for datagrams and routing\
    \ updates.\n      A typical filter entry might consist of a 32-bit mask and value\n\
    \      pair.  If the logical AND of the given address with the mask\n      equals\
    \ the value, a match has been found.  Since filtering will\n      consume gateway\
    \ resources, it is vital that the gateway\n      configuration be able to control\
    \ the degree of filtering in use.\n      There is a second class of special case\
    \ addresses (cases (d), (e),\n      and (f) in section 2.1), the so-called \"\
    directed broadcasts\".  A\n      directed broadcast is a datagram to be forwarded\
    \ normally to the\n      specified destination (sub-)net and then broadcast on\
    \ the final\n      hop.  An Internet gateway is permitted, but not required, to\n\
    \      filter out directed broadcasts destined for any of its\n      locally-connected\
    \ networks.  Hence, it should be possible to\n      configure the filter to block\
    \ the delivery of directed broadcasts.\n      Finally, it will also be useful\
    \ for Internet O&M to have a\n      configurable filter on the IP source address.\
    \  This will allow a\n      network manager to temporarily block traffic from\
    \ a particular\n      misbehaving host, for example.\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - "RFC 1009 - Requirements for Internet Gateways                  June 1987\n  \
    \ 4.5.  Redirects\n      The ICMP Redirect message is specified only for use by\
    \ a gateway\n      to update the routing table of a host on the same connected\
    \ net.\n      However, the Redirect message is sometimes used between gateways,\n\
    \      due to the following considerations:\n         The routing function in\
    \ a host is very much like that in a\n         \"dumb gateway\" (i.e., a gateway\
    \ having only static routes).  It\n         is desirable to allow the routing\
    \ tables of a dumb gateway to\n         be changed under the control of a dynamic\
    \ gateway (i.e., a\n         gateway with full dynamic routing) on the same network.\
    \  By\n         analogy, it is natural to let the dynamic gateway send ICMP\n\
    \         Redirect messages to dumb gateway.\n      The use of ICMP Redirect between\
    \ gateways in this fashion may be\n      considered to be part of the IGP (in\
    \ fact, the totality of the\n      IGP, as far as the dumb gateway is concerned!)\
    \ in the particular\n      Autonomous System.   Specification of an IGP is outside\
    \ the scope\n      of this document, so we only note the possibility of using\n\
    \      Redirect in this fashion.  Gateways are not required to receive\n     \
    \ and act upon redirects, and in fact dynamic gateways must ignore\n      them.\
    \  We also note that considerable experience shows that dumb\n      gateways often\
    \ create problems resulting in \"black holes\"; a full\n      routing gateway\
    \ is always preferable.\n      Routing table entries established by redirect messages\
    \ must be\n      removed automatically, either by a time-out or when a use count\n\
    \      goes to zero.\n   4.6.  Broadcast and Multicast\n      A host which is\
    \ connected to a network (generally a LAN) with an\n      intrinsic broadcast\
    \ capability may want to use this capability to\n      effect multidestination\
    \ delivery of IP datagrams.  The basic\n      Internet model assumes point-to-point\
    \ messages, and we must take\n      some care when we incorporate broadcasting.\
    \  It is important to\n      note that broadcast addresses may occur at two protocol\
    \ levels:\n      the local network header and the IP header.\n      Incorrect\
    \ handling of broadcasting has often been the cause of\n      packet avalanches\
    \ (sometimes dubbed \"meltdown\") in LANs.  These\n      avalanches are generally\
    \ caused by gratuitous datagram-forwarding\n      by hosts, or by hosts sending\
    \ ICMP error messages when they\n      discard broadcast datagrams.\n      Gateways\
    \ have a responsibility to prevent avalanches, or datagrams\n      which can trigger\
    \ avalanches, from escaping into another network.\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - "RFC 1009 - Requirements for Internet Gateways                  June 1987\n  \
    \    In general, a gateway must not forward a datagram which arrives\n      via\
    \ local network broadcast, and must not send an ICMP error\n      message when\
    \ dropping the datagram.  A discussion of the rules\n      will be found in Appendix\
    \ A; see also [50].\n      As noted in Section 4.4, a gateway is permitted to\
    \ filter out\n      directed broadcasts.  Hence, directed broadcasts will only\
    \ be\n      useful in limited Internet regions (e.g., the within the subnets\n\
    \      of a particular campus) in which delivery is supported by the\n      gateway\
    \ administrators.  Host group multicasting (see Sections 2.8\n      and 4.6) will\
    \ soon provide a much more efficient mechanism than\n      directed broadcasting.\
    \  Gateway algorithms for host group\n      multicasting will be specified in\
    \ future RFC's.\n   4.7.  Reachability Procedures\n      The architecture must\
    \ provide a robust mechanism to establish the\n      operational status of each\
    \ link and node in the network, including\n      the gateways, the links connecting\
    \ them and, where appropriate,\n      the hosts as well.  Ordinarily, this requires\
    \ at least a\n      link-level reachability protocol involving a periodic exchange\
    \ of\n      messages across each link.  This function might be intrinsic to\n\
    \      the link-level protocols used (e.g., LAPB).  However, it is in\n      general\
    \ ill-advised to assume a host or gateway is operating\n      correctly even if\
    \ its link-level reachability protocol is\n      operating correctly.  Additional\
    \ confirmation is required in the\n      form of an operating routing algorithm\
    \ or peer-level reachability\n      protocol (such as used in EGP).\n      Failure\
    \ and restoration of a link and/or gateway are considered\n      network events\
    \ and must be reported to the control center.  It is\n      desirable, although\
    \ not required, that reporting paths not require\n      correct functioning of\
    \ the routing algorithm itself.\n   4.8.  Time-To-Live\n      The Time-to-Live\
    \ (TTL) field of the IP header is defined to be a\n      timer limiting the lifetime\
    \ of a datagram in the Internet.  It is\n      an 8-bit field and the units are\
    \ seconds.  This would imply that\n      for a maximum TTL of 255 a datagram would\
    \ time-out after about 4\n      and a quarter minutes.  Another aspect of the\
    \ definition requires\n      each gateway (or other module) that handles a datagram\
    \ to\n      decrement the TTL by at least one, even if the elapsed time was\n\
    \      much less than a second.  Since this is very often the case, the\n    \
    \  TTL effectively becomes a hop count limit on how far a datagram\n      can\
    \ propagate through the Internet.\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - "RFC 1009 - Requirements for Internet Gateways                  June 1987\n  \
    \    As the Internet grows, the number of hops needed to get from one\n      edge\
    \ to the opposite edge increases, i.e., the Internet diameter\n      grows.\n\
    \      If a gateway holds a datagram for more than one second, it must\n     \
    \ decrement the TTL by one for each second.\n      If the TTL is reduced to zero,\
    \ the datagram must be discarded, and\n      the gateway may send an ICMP Time\
    \ Exceeded message to the source.\n      A datagram should never be received with\
    \ a TTL of zero.\n      When it originates a datagram, a gateway is acting in\
    \ the role of\n      a host and must supply a realistic initial value for the\
    \ TTL.\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - 'RFC 1009 - Requirements for Internet Gateways                  June 1987

    '
- title: 5.  Operation and Maintenance
  contents:
  - "5.  Operation and Maintenance\n   5.1.  Introduction\n      Facilities to support\
    \ operation and maintenance (O&M) activities\n      form an essential part of\
    \ any gateway implementation.  The\n      following kinds of activity are included\
    \ under gateway O&M:\n         *  Diagnosing hardware problems in the gateway\
    \ processor, in\n            its network interfaces, or in the connected networks,\n\
    \            modems, or communication lines.\n         *  Installing a new version\
    \ of the gateway software.\n         *  Restarting or rebooting a gateway after\
    \ a crash.\n         *  Configuring (or reconfiguring) the gateway.\n        \
    \ *  Detecting and diagnosing Internet problems such as\n            congestion,\
    \ routing loops, bad IP addresses, black holes,\n            packet avalanches,\
    \ and misbehaved hosts.\n         *  Changing network topology, either temporarily\
    \ (e.g., to\n            diagnose a communication line problem) or permanently.\n\
    \         *  Monitoring the status and performance of the gateways and\n     \
    \       the connected networks.\n         *  Collecting traffic statistics for\
    \ use in (Inter-)network\n            planning.\n      Gateways, packet-switches,\
    \ and their connected communication lines\n      are often operated as a system\
    \ by a centralized O&M organization.\n      This organization will maintain a\
    \ (Inter-)network operation\n      center, or NOC, to carry out its O&M functions.\
    \  It is essential\n      that gateways support remote control and monitoring\
    \ from such a\n      NOC, through an Internet path (since gateways might not be\n\
    \      connected to the same network as their NOC).  Furthermore, an IP\n    \
    \  datagram traversing the Internet will often use gateways under the\n      control\
    \ of more than one NOC; therefore, Internet problem\n      diagnosis will often\
    \ involve cooperation of personnel of more than\n      one NOC.  In some cases,\
    \ the same gateway may need to be monitored\n      by more than one NOC.\n   \
    \   The tools available for monitoring at a NOC may cover a wide range\n     \
    \ of sophistication.  Proposals have included multi-window, dynamic\n      displays\
    \ of the entire gateway system, and the use of AI\n      techniques for automatic\
    \ problem diagnosis.\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - "RFC 1009 - Requirements for Internet Gateways                  June 1987\n  \
    \    Gateway O&M facilities discussed here are only a part of the large\n    \
    \  and difficult problem of Internet management.  These problems\n      encompass\
    \ not only multiple management organizations, but also\n      multiple protocol\
    \ layers.  For example, at the current stage of\n      evolution of the Internet\
    \ architecture, there is a strong coupling\n      between host TCP implementations\
    \ and eventual IP-level congestion\n      in the gateway system [9].  Therefore,\
    \ diagnosis of congestion\n      problems will sometimes require the monitoring\
    \ of TCP statistics\n      in hosts.  Gateway algorithms also interact with local\
    \ network\n      performance, especially through handling of broadcast packets\
    \ and\n      ARP, and again diagnosis will require access to hosts (e.g.,\n  \
    \    examining ARP caches).  However, consideration of host monitoring\n     \
    \ is beyond the scope of this RFC.\n      There are currently a number of R&D\
    \ efforts in progress in the\n      area of Internet management and more specifically\
    \ gateway O&M.  It\n      is hoped that these will lead quickly to Internet standards\
    \ for\n      the gateway protocols and facilities required in this area.  This\n\
    \      is also an area in which vendor creativity can make a significant\n   \
    \   contribution.\n   5.2.   Gateway O&M Models\n      There is a range of possible\
    \ models for performing O&M functions\n      on a gateway.  At one extreme is\
    \ the local-only model, under which\n      the O&M functions can only be executed\
    \ locally, e.g., from a\n      terminal plugged into the gateway machine.  At\
    \ the other extreme,\n      the fully-remote model allows only an absolute minimum\
    \ of\n      functions to be performed locally (e.g., forcing a boot), with\n \
    \     most O&M being done remotely from the NOC.  There intermediate\n      models,\
    \ e.g., one in which NOC personnel can log into the gateway\n      as a host,\
    \ using the Telnet protocol, to perform functions which\n      can also be invoked\
    \ locally.  The local-only model may be adequate\n      in a few gateway installations,\
    \ but in general remote operation\n      from a NOC will be required, and therefore\
    \ remote O&M provisions\n      are required for most gateways.\n      Remote O&M\
    \ functions may be exercised through a control agent\n      (program).  In the\
    \ direct approach, the gateway would support\n      remote O&M functions directly\
    \ from the NOC using standard Internet\n      protocols (e.g., UDP or TCP); in\
    \ the indirect approach, the\n      control agent would support these protocols\
    \ and control the\n      gateway itself using proprietary protocols.  The direct\
    \ approach\n      is preferred, although either approach is acceptable.  The use\
    \ of\n      specialized host hardware and/or software requiring significant\n\
    \      additional investment is discouraged; nevertheless, some vendors\n    \
    \  may elect to provide the control agent as an integrated part of\n      the\
    \ network in which the gateways are a part.  If this is the\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - "RFC 1009 - Requirements for Internet Gateways                  June 1987\n  \
    \    case, it is required that a means be available to operate the\n      control\
    \ agent from a remote site using Internet protocols and\n      paths and with\
    \ equivalent functionality with respect to a local\n      agent terminal.\n  \
    \    It is desirable that a control agent and any other NOC software\n      tools\
    \ which a vendor provides operate as user programs in a\n      standard operating\
    \ system.  The use of the standard Internet\n      protocols UDP and TCP for communicating\
    \ with the gateways should\n      facilitate this.\n      Remote gateway monitoring\
    \ and (especially) remote gateway control\n      present important access control\
    \ problems which must be addressed.\n      Care must also be taken to ensure control\
    \ of the use of gateway\n      resources for these functions.  It is not desirable\
    \ to let gateway\n      monitoring take more than some limited fraction of the\
    \ gateway CPU\n      time, for example.  On the other hand, O&M functions must\
    \ receive\n      priority so they can be exercised when the gateway is congested,\n\
    \      i.e., when O&M is most needed.\n      There are no current Internet standards\
    \ for the control and\n      monitoring protocols, although work is in progress\
    \ in this area.\n      The Host Monitoring Protocol (HMP) [7] could be used as\
    \ a model\n      until a standard is developed; however, it is strongly recommended\n\
    \      that gateway O&M protocol be built on top of one of the standard\n    \
    \  Internet end-to-end protocols UDP or TCP. An example of a very\n      simple\
    \ but effective approach to gateway monitoring is contained\n      in RFC-996\
    \ [43].\n   5.3.   Gateway O&M Functions\n      The following O&M functions need\
    \ to be performed in a gateway:\n         A.  Maintenance -- Hardware Diagnosis\n\
    \            Each gateway must operate as a stand-alone device for the\n     \
    \       purposes of local hardware maintenance.  Means must be\n            available\
    \ to run diagnostic programs at the gateway site\n            using only on-site\
    \ tools, which might be only a diskette or\n            tape and local terminal.\
    \  It is desirable, although not\n            required, to be able to run diagnostics\
    \ or dump the gateway\n            via the network in case of fault.  Means should\
    \ be provided\n            to allow remote control from the NOC of of modems attached\n\
    \            to the gateway.  The most important modem control capability\n  \
    \          is entering and leaving loopback mode, to diagnose line\n         \
    \   problems.\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - "RFC 1009 - Requirements for Internet Gateways                  June 1987\n  \
    \       B.  Control -- Dumping and Rebooting\n            It must be possible\
    \ to dump and reboot a stand-alone gateway\n            upon command from the\
    \ NOC.  In addition, a stand-alone\n            gateway must include a watchdog\
    \ timer that either initiates\n            a reboot automatically or signals a\
    \ remote control site if\n            not reset periodically by the software.\
    \  It is desirable\n            that the boot data involved reside at an Internet\
    \ host\n            (e.g., the NOC host) and be transmitted via the net;\n   \
    \         however, the use of local devices at the gateway site is\n         \
    \   acceptable.\n         C.  Control -- Configuring the Gateway\n           \
    \ Every gateway will have a number of configuration parameters\n            which\
    \ must be set (see the next section for examples).  It\n            must be possible\
    \ to update the parameters without rebooting\n            the gateway; at worst,\
    \ a restart may be required.\n         D.  Monitoring -- Status and Performance\n\
    \            A mechanism must be provided for retrieving status and\n        \
    \    statistical information from a gateway.  A gateway must\n            supply\
    \ such information in response to a polling message\n            from the NOC.\
    \  In addition, it may be desirable to configure\n            a gateway to transmit\
    \ status spontaneously and periodically\n            to a NOC (or set of NOCs),\
    \ for recording and display.\n            Examples of interesting status information\
    \ include: link\n            status, queue lengths, buffer availability, CPU and\
    \ memory\n            utilization, the routing data-base, error counts, and packet\n\
    \            counts.  Counts should be kept for dropped datagrams,\n         \
    \   separated by reason.  Counts of ICMP datagrams should be\n            kept\
    \ by type and categorized into those originating at the\n            gateway,\
    \ and those destined for the gateway.  It would be\n            useful to maintain\
    \ many of these statistics by network\n            interface, by source/destination\
    \ network pair, and/or by\n            source/destination host pair.\n       \
    \     Note that a great deal of useful monitoring data is often to\n         \
    \   be found in the routing data-base.  It is therefore useful\n            to\
    \ be able to tap into this data-base from the NOC.\n         E.  Monitoring --\
    \ Error Logging\n            A gateway should be capable of asynchronously sending\n\
    \            exception (\"trap\") reports to one or more specified Internet\n\
    \            addresses, one of which will presumably be the NOC host.\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - "RFC 1009 - Requirements for Internet Gateways                  June 1987\n  \
    \          There must also be a mechanism to limit the frequency of\n        \
    \    such trap reports, and the parameters controlling this\n            frequency\
    \ must be settable in the gateway configuration.\n            Examples of conditions\
    \ which should result in traps include:\n            datagrams discarded because\
    \ of TTL expiration (an indicator\n            of possible routing loops); resource\
    \ shortages; or an\n            interface changing its up/down status.\n   5.4.\
    \   Gateway Configuration Parameters\n      Every gateway will have a set of configuration\
    \ parameters\n      controlling its operation.  It must be possible to set these\n\
    \      parameters remotely from the NOC or locally at any time, without\n    \
    \  taking the gateway down.\n      The following is a partial but representative\
    \ list of possible\n      configuration parameters for a full-function gateway.\
    \  The items\n      marked with \"(i)\" should be settable independently for each\n\
    \      network interface.\n         * (i)  IP (sub-) network address\n       \
    \  * (i)  Subnet address mask\n         * (i)  MTU of local network\n        \
    \ * (i)  Hardware interface address\n         * (i)  Broadcast compatibility option\
    \ (0s or 1s)\n         *      EGP parameters -- neighbors, Autonomous System number,\n\
    \                and polling parameters\n         *      Static and/or default\
    \ routes, if any\n         *      Enable/Disable Proxy ARP\n         *      Source\
    \ Quench parameters\n         *      Address filter configuration\n         *\
    \      Boot-host address\n         *      IP address of time server host\n   \
    \      *      IP address(es) of logging host(s)\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - "RFC 1009 - Requirements for Internet Gateways                  June 1987\n  \
    \       *      IP address(es) of hosts to receive traps\n         *      IP address(es)\
    \ of hosts authorized to issue control\n                commands\n         * \
    \     Error level for logging\n         *      Maximum trap frequency\n      \
    \   *      Hold-down period (if any)\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - 'RFC 1009 - Requirements for Internet Gateways                  June 1987

    '
- title: Appendix A.  Technical Details
  contents:
  - "Appendix A.  Technical Details\n   This Appendix collects a number of technical\
    \ details and rules\n   concerning datagram forwarding by gateways and datagram\
    \ handling by\n   hosts, especially in the presence of broadcasting and subnets.\n\
    \   A.1.  Rules for Broadcasting\n      The following rules define how to handle\
    \ broadcasts of packets and\n      datagrams [50]:\n         a.  Hosts (which\
    \ do not contain embedded gateways) must NEVER\n             forward any datagrams\
    \ received from a connected network,\n             broadcast or not.\n       \
    \      When a host receives an IP datagram, if the destination\n             address\
    \ identifies the host or is an IP broadcast address,\n             the host passes\
    \ the datagram to its appropriate\n             higher-level protocol module (possibly\
    \ sending ICMP\n             protocol unreachable, but not if the IP address was\
    \ a\n             broadcast address).  Any other IP datagram must simply be\n\
    \             discarded, without an ICMP error message.  Hosts never send\n  \
    \           redirects.\n         b.  All packets containing IP datagrams which\
    \ are sent to the\n             local-network packet broadcast address must contain\
    \ an IP\n             broadcast address as the destination address in their IP\n\
    \             header.  Expressed in another way, a gateway (or host) must\n  \
    \           not send in a local-network broadcast packet an IP datagram\n    \
    \         that has a specific IP host address as its destination\n           \
    \  field.\n         c.  A gateway must never forward an IP datagram that arrives\n\
    \             addressed to the IP limited broadcast address {-1,-1}.\n       \
    \      Furthermore, it must must not send an ICMP error message\n            \
    \ about discarding such a datagram.\n         d.  A gateway must not forward an\
    \ IP datagram addressed to\n             network zero, i.e., {0, *}.\n       \
    \  e.  A gateway may forward a directed broadcast datagram, i.e.,\n          \
    \   a datagram with the IP destination address:\n            { <Network-number>,\
    \ -1}.\n             However, it must not send such a directed broadcast out the\n\
    \             same interface it came in, if this interface has\n             <Network-number>\
    \ as its network number.  If the code in the\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - "RFC 1009 - Requirements for Internet Gateways                  June 1987\n  \
    \           gateway making this decision does not know what interface\n      \
    \       the directed-broadcast datagram arrived on, the gateway\n            \
    \ cannot support directed broadcast to this connected network\n             at\
    \ all.\n         f.  A gateway is permitted to protect its connected networks\
    \ by\n             discarding directed broadcast datagrams.\n      A gateway will\
    \ broadcast an IP datagram on a connected network if\n      it is a directed broadcast\
    \ destined for that network.  Some\n      gateway-gateway routing protocols (e.g.,\
    \ RIP) also require\n      broadcasting routing updates on the connected networks.\
    \  In either\n      case, the datagram must have an IP broadcast address as its\n\
    \      destination.\n         Note:  as observed earlier, some host implementations\
    \ (those\n         based on Berkeley 4.2BSD) use zero rather than -1 in the host\n\
    \         field.  To provide compatibility during the period until these\n   \
    \      systems are fixed or retired, it may be useful for a gateway to\n     \
    \    be configurable to send either choice of IP broadcast address\n         and\
    \ accept both if received.\n   A.2.  ICMP Redirects\n      A gateway will generate\
    \ an ICMP Redirect if and only if the\n      destination IP address is reachable\
    \ from the gateway (as\n      determined by the routing algorithm) and the next-hop\
    \ gateway is\n      on the same (sub-)network as the source host.  Redirects must\
    \ not\n      be sent in response to an IP network or subnet broadcast address\n\
    \      or in response to a Class D or Class E IP address.\n      A host must discard\
    \ an ICMP Redirect if the destination IP address\n      is not its own IP address,\
    \ or the new target address is not on the\n      same (sub-)network.  An accepted\
    \ Redirect updates the routing\n      data-base for the old target address.  If\
    \ there is no route\n      associated with the old target address, the Redirect\
    \ is ignored.\n      If the old route is associated with a default gateway, a\
    \ new route\n      associated with the new target address is inserted in the\n\
    \      data-base.\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - 'RFC 1009 - Requirements for Internet Gateways                  June 1987

    '
- title: Appendix B.  NSFNET Specific Requirements
  contents:
  - "Appendix B.  NSFNET Specific Requirements\n   The following sections discuss\
    \ certain issues of special concern to\n   the NSF scientific networking community.\
    \  These issues have primary\n   relevance in the policy area, but also have ramifications\
    \ in the\n   technical area.\n   B.1.  Proprietary and Extensibility Issues\n\
    \      Although hosts, gateways and networks supporting Internet\n      technology\
    \ have been in continuous operation for several years,\n      vendors users and\
    \ operators must understand that not all\n      networking issues are fully resolved.\
    \  As a result, when new needs\n      or better solutions are developed for use\
    \ in the NSF networking\n      community, it may be necessary to field new protocols\
    \ or augment\n      existing ones.  Normally, these new protocols will be designed\
    \ to\n      interoperate in all practical respects with existing protocols;\n\
    \      however, occasionally it may happen that existing systems must be\n   \
    \   upgraded to support these new or augmented protocols.\n      NSF systems procurements\
    \ may favor those vendors who undertake a\n      commitment to remain aware of\
    \ current Internet technology and be\n      prepared to upgrade their products\
    \ from time to time as\n      appropriate.  As a result, vendors are strongly\
    \ urged to consider\n      extensibility and periodic upgrades as fundamental\
    \ characteristics\n      of their products.  One of the most productive and rewarding\
    \ ways\n      to do this on a long-term basis is to participate in ongoing\n \
    \     Internet research and development programs in partnership with the\n   \
    \   academic community.\n   B.2.  Interconnection Technology\n      In order to\
    \ ensure network-level interoperability of different\n      vendor's gateways\
    \ within the NSFNET context, we specify that a\n      gateway must at a minimum\
    \ support Ethernet connections and serial\n      line protocol connections.\n\
    \      Currently the most important common interconnection technology\n      between\
    \ Internet systems of different vendors is Ethernet.  Among\n      the reasons\
    \ for this are the following:\n         1.  Ethernet specifications are well-understood\
    \ and mature.\n         2.  Ethernet technology is in almost all aspects vendor\n\
    \             independent.\n         3.  Ethernet-compatible systems are common\
    \ and becoming more\n             so.\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - "RFC 1009 - Requirements for Internet Gateways                  June 1987\n  \
    \    These advantages combined favor the use of Ethernet technology as\n     \
    \ the common point of demarcation between NSF network systems\n      supplied\
    \ by different vendors, regardless of technology.  It is a\n      requirement\
    \ of NSF gateways that, regardless of the possibly\n      proprietary switching\
    \ technology used to implement a given\n      vendor-supplied network, its gateways\
    \ must support an Ethernet\n      attachment to gateways of other vendors.\n \
    \     It is expected that future NSF gateway requirements will specify\n     \
    \ other interconnection technologies.  The most likely candidates\n      are those\
    \ based on X.25 or IEEE 802, but other technologies\n      including broadband\
    \ cable, optical fiber, or other media may also\n      be considered.\n   B.3.\
    \  Routing Interoperability\n      The Internet does not currently have an \"\
    open IGP\" standard, i.e.,\n      a common IGP which would allow gateways from\
    \ different vendors to\n      form a single Autonomous System.  Several approaches\
    \ to routing\n      interoperability are currently in use among vendors and the\
    \ NSF\n      networking community.\n      *  Proprietary IGP\n         At least\
    \ one gateway vendor has implemented a proprietary IGP\n         and uses EGP\
    \ to interface to the rest of the Internet.\n      *  RIP\n         Although RIP\
    \ is undocumented and various implementations of it\n         differ in subtle\
    \ ways, it has been used successfully for\n         interoperation among multiple\
    \ vendors as an IGP.\n      *  Gateway Daemon\n         The NSF networking community\
    \ has built a \"gateway daemon\"\n         program which can mediate among multiple\
    \ routing protocols to\n         create a mixed-IGP Autonomous System.  In particular,\
    \ the\n         prototype gateway daemon executes on a 4.3BSD machine acting as\n\
    \         a gateway and exchanges routing information with other\n         gateways,\
    \ speaking both RIP and Hello protocols; in addition,\n         it supports EGP\
    \ to other Autonomous Systems.\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - "RFC 1009 - Requirements for Internet Gateways                  June 1987\n  \
    \ B.4.  Multi-Protocol Gateways\n      The present NSF gateway requirements specify\
    \ only the Internet\n      protocol IP.  However, in a few years the Internet\
    \ will begin a\n      gradual transition to the functionally-equivalent subset\
    \ of the\n      ISO protocols [17].  In particular, an increasing percentage of\n\
    \      the traffic will use the ISO Connectionless Mode Network Service\n    \
    \  (CLNS, but commonly called \"ISO IP\") [33] in place of IP.  It is\n      expected\
    \ that the ISO suite will eventually become the dominant\n      one; however,\
    \ it is also expected that requirements to support\n      Internet IP will continue,\
    \ perhaps indefinitely.\n      To support the transition to ISO protocols and\
    \ the coexistence\n      stage, it is highly desirable that a gateway design provide\
    \ for\n      future extensions to support more than one protocol simultaneous,\n\
    \      and in particular both IP and CLNS [18].\n      Present NSF gateway requirements\
    \ do not include protocols above\n      the network layer, such as TCP, unless\
    \ necessary for network\n      monitoring or control.  Vendors should recognize\
    \ that future\n      requirements to interwork between Internet and ISO applications,\n\
    \      for example, may result in an opportunity to market gateways\n      supporting\
    \ multiple protocols at all levels up through the\n      application level [16].\
    \  It is expected that the network-level NSF\n      gateway requirements summarized\
    \ in this document will be\n      incorporated in the requirements document for\
    \ these\n      application-level gateways.\n      Internet gateways function as\
    \ intermediate systems (IS) with\n      respect to the ISO connectionless network\
    \ model and incorporate\n      defined packet formats, routing algorithms and\
    \ related procedures\n      [33, 34].  The ISO ES-IS [37] provides the functions\
    \ of ARP and\n      ICMP Redirect.\n   B.5.  Access Control and Accounting\n \
    \     There are no requirements for NSF gateways at this time to\n      incorporate\
    \ specific access-control and accounting mechanisms in\n      the design;  however,\
    \ these important issues are currently under\n      study and will be incorporated\
    \ into a subsequent edition of this\n      document.  Vendors are encouraged to\
    \ plan for the introduction of\n      these mechanisms into their products.  While\
    \ at this time no\n      definitive common model for access control and accounting\
    \ has\n      emerged, it is possible to outline some general features such a\n\
    \      model is likely to have, among them the following:\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - "RFC 1009 - Requirements for Internet Gateways                  June 1987\n  \
    \       1.  The primary access control and accounting mechanisms will\n      \
    \       be in the service hosts themselves, not the gateways,\n             packet-switches\
    \ or workstations.\n         2.  Agents acting on behalf of access control and\
    \ accounting\n             mechanisms may be necessary in the gateways, to collect\n\
    \             data, enforce password protection, or mitigate resource\n      \
    \       priority and fairness.  However, the architecture and\n             protocols\
    \ used by these agents may be a local matter and\n             cannot be specified\
    \ in advance.\n         3.  NSF gateways may be required to incorporate access\
    \ control\n             and accounting mechanisms based on datagram\n        \
    \     source/destination address, as well as other fields in the\n           \
    \  IP header.\n         4.  NSF gateways may be required to enforce policies on\
    \ access\n             to gateway and communication resources.  These policies\
    \ may\n             be based upon equity (\"fairness\") or upon inequity\n   \
    \          (\"priority\").\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - 'RFC 1009 - Requirements for Internet Gateways                  June 1987

    '
- title: Acknowledgments
  contents:
  - "Acknowledgments\n   An earlier version of this document (RFC-985) [60] was prepared\
    \ by\n   Dave Mills in behalf of the Gateway Requirements Subcommittee of the\n\
    \   NSF Network Technical Advisory Group, in cooperation with the\n   Internet\
    \ Activities Board, Internet Architecture Task Force, and\n   Internet Engineering\
    \ Task Force.  This effort was chaired by Dave\n   Mills, and contributed to by\
    \ many people.\n   The authors of current document have also received assistance\
    \ from\n   many people in the NSF and ARPA networking community.  We thank you,\n\
    \   one and all.\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - 'RFC 1009 - Requirements for Internet Gateways                  June 1987

    '
- title: References and Bibliography
  contents:
  - "References and Bibliography\n   Many of these references are  available from\
    \ the DDN Network\n   Information Center, SRI International, 333 Ravenswood Avenue,\
    \ Menlo\n   Park, California 94025 (telephone: 800-235-3155).\n   [1]   Postel,\
    \ J., \"Internet Protocol\", RFC-791, USC Information\n         Sciences Institute,\
    \ September 1981.\n   [2]   Postel, J., \"Internet Control Message Protocol\"\
    , RFC-792, USC\n         Information Sciences Institute, September 1981.\n   [3]\
    \   BBN, \"Interface Message Processor - Specifications for the\n         Interconnection\
    \ of a Host and an IMP\", Report 1822, Bolt\n         Beranek and Newman, December\
    \ 1981.\n   [4]   Plummer, D., \"An Ethernet Address Resolution Protocol\",\n\
    \         RFC-826, Symbolics, September 1982.\n   [5]   DOD, \"Military Standard\
    \ Internet Protocol\", Military Standard\n         MIL-STD-1777, United States\
    \ Department of Defense, August 1983.\n   [6]   BBN, \"Defense Data Network X.25\
    \ Host Interface Specification\",\n         Report 5476, Bolt Beranek and Newman,\
    \ December 1983.\n   [7]   Hinden, R., \"A Host Monitoring Protocol\", RFC-869,\
    \ BBN\n         Communications, December 1983.\n   [8]   Korb, J.T., \"A Standard\
    \ for the Transmission of IP Datagrams\n         over Public Data Networks\",\
    \ RFC-877, Purdue University,\n         September 1983.\n   [9]   Nagle, J., \"\
    Congestion Control in IP/TCP Internetworks\",\n         RFC-896, Ford Aerospace,\
    \ January 1984.\n   [10]  Hornig, C., \"A Standard for the Transmission of IP\
    \ Datagrams\n         over Ethernet Networks\", RFC-894, Symbolics, April 1984.\n\
    \   [11]  Mills, D.L., \"Exterior Gateway Formal Specification\", RFC-904,\n \
    \        M/A-COM Linkabit, April 1984.\n   [12]  Xerox, \"Xerox Synchronous Point-to-Point\
    \ Protocol\", Xerox\n         System Integration Standard 158412, December 1984.\n\
    \   [13]  Kirton, P., \"EGP Gateway under Berkeley UNIX 4.2\", RFC-911, USC\n\
    \         Information Sciences Institute, August 1984.\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - "RFC 1009 - Requirements for Internet Gateways                  June 1987\n  \
    \ [14]  Postel, J., \"Multi-LAN Address Resolution\", RFC-925, USC\n         Information\
    \ Sciences Institute, October 1984.\n   [15]  Finlayson, R., T. Mann, J. Mogul,\
    \ and M. Theimer, \"A Reverse\n         Address Resolution Protocol\", RFC-904,\
    \ Stanford University,\n         June 1984.\n   [16]  NRC, \"Transport Protocols\
    \ for Department of Defense Data\n         Networks\", RFC-942, National Research\
    \ Council, March 1985.\n   [17]  Postel, J., \"DOD Statement on NRC Report\",\
    \ RFC-945, USC\n         Information Sciences Institute, April 1985.\n   [18]\
    \  ISO, \"Addendum to the Network Service Definition Covering\n         Network\
    \ Layer Addressing\", RFC-941, International Standards\n         Organization,\
    \ April 1985.\n   [19]  Leiner, B., J. Postel, R. Cole and D. Mills, \"The DARPA\n\
    \         Internet Protocol Suite\", Proceedings INFOCOM 85, IEEE,\n         Washington\
    \ DC, March 1985.  Also in: IEEE Communications\n         Magazine, March 1985.\
    \  Also available as ISI-RS-85-153.\n   [20]  Romkey, J., \"PC/IP Programmer's\
    \ Manual\", MIT Laboratory for\n         Computer Science, pp. 57-59, April 1986.\n\
    \   [21]  Mogul, J., and J. Postel, \"Internet Standard Subnetting\n         Procedure\"\
    , RFC-950, Stanford University, August 1985.\n   [22]  Reynolds, J., and J. Postel,\
    \ \"Official Internet Protocols\",\n         RFC-1011, USC Information Sciences\
    \ Institute, May 1987.\n   [23]  Reynolds, J., and J. Postel, \"Assigned Numbers\"\
    , RFC-1010, USC\n         Information Sciences Institute, May 1987.\n   [24] \
    \ Nagle, J., \"On Packet Switches with Infinite Storage\", RFC-970,\n        \
    \ Ford Aerospace, December 1985.\n   [25]  SRI, \"DDN Protocol Handbook\", NIC-50004,\
    \ NIC-50005, NIC-50006,\n         (three volumes), SRI International, December\
    \ 1985.\n   [26]  SRI, \"ARPANET Information Brochure\", NIC-50003, SRI\n    \
    \     International, December 1985.\n   [27]  Mills, D.L., \"Autonomous Confederations\"\
    , RFC-975, M/A-COM\n         Linkabit, February 1986.\n   [28]  Jacobsen, O.,\
    \ and J. Postel, \"Protocol Document Order\n         Information\",  RFC-980,\
    \ SRI International, March 1986.\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - "RFC 1009 - Requirements for Internet Gateways                  June 1987\n  \
    \ [29]  Malis, A.G., \"PSN End-to-End Functional Specification\",\n         RFC-979,\
    \ BBN Communications, March 1986.\n   [30]  Postel, J, \"Internetwork Applications\
    \ using the DARPA Protocol\n         Suite\", Proceedings INFOCOM 85, IEEE, Washington\
    \ DC,\n         March 1985.  Also available as ISI-RS-85-151.\n   [31]  Postel,\
    \ J, C. Sunshine, and D. Cohen, \"The ARPA Internet\n         Protocol\", Computer\
    \ Networks, Vol. 5, No. 4, July 1981.\n   [32]  Cerf, V., and R. Kahn, \"A Protocol\
    \ for Packet Network\n         Intercommunication\", IEEE Transactions on Communication,\n\
    \         May 1974.\n   [33]  ISO, \"Protocol for Providing the Connectionless-mode\
    \ Network\n         Service\", RFC-994, DIS-8473, International Standards\n  \
    \       Organization, March 1986.\n   [34]  ANSI, \"Draft Network Layer Routing\
    \ Architecture\", ANSI X3S3.3,\n         86-215R, April 1987.\n   [35]  Rosen,\
    \ E., \"Exterior Gateway Protocol (EGP)\", RFC-827, Bolt\n         Beranek and\
    \ Newman, October 1982.\n   [36]  Sidhu, D., \"Some Problems with the Specification\
    \ of the\n         Military Standard Internet Protocol\", RFC-963, Iowa State\n\
    \         University, November 1985.\n   [37]  ISO, \"End System to Intermediate\
    \ System Routing Exchange\n         Protocol for use in conjunction with ISO 8473\"\
    , RFC-995,\n         April 1986.\n   [38]  Postel, J., \"Address Mappings\", RFC-796,\
    \ USC/Information\n         Sciences Institute, September 1981.\n   [39]  Mills,\
    \ D., \"DCN Local Network Protocols\", RFC-891, M/A-COM\n         Linkabit, December\
    \ 1983.\n   [40]  McQuillan, J. M., I. Richer, and E. C. Rosen, \"The New Routing\n\
    \         Algorithm for the ARPANET\",  IEEE Transactions on\n         Communications,\
    \ May 1980.\n   [41]  Hinden, R., and A. Sheltzer, \"The DARPA Internet Gateway\"\
    ,\n         RFC-823, Bolt Beranek and Newman, September 1982.\n   [42]  Farber,\
    \ D., G. Delp, and T. Conte, \"A Thinwire Protocol for\n         Connecting Personal\
    \ Computers to the Internet\", RFC-914,\n         University of Delaware, September\
    \ 1984.\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - "RFC 1009 - Requirements for Internet Gateways                  June 1987\n  \
    \ [43]  Mills, D., \"Statistics Server\", RFC-996, University Of\n         Delaware,\
    \ February 1987.\n   [44]  Postel, J. and K. Harrenstien, \"Time Protocol\", RFC-868,\n\
    \         May 1983.\n   [45]  Mills, D., \"Network Time Protocol (NTP)\", RFC-958,\
    \ M/A-Com\n         Linkabit, September 1985.\n   [46]  Seamonson, L., and E.\
    \ Rosen, \"Stub Exterior Gateway Protocol\",\n         RFC-888, Bolt Beranek And\
    \ Newman, January 1984.\n   [47]  Deering, S., and D. Cheriton, \"Host Groups:\
    \ A Multicast\n         Extension to the Internet Protocol\", RFC-966, Stanford\n\
    \         University, December 1985.\n   [48]  Deering, S., \"Host Extensions\
    \ for IP Multicasting\", RFC-988,\n         Stanford University, July 1986.\n\
    \   [49]  Mogul, J., \"Broadcasting Internet Datagrams\", RFC-919, Stanford\n\
    \         University, October 1984.\n   [50]  Mogul, J., \"Broadcasting Internet\
    \ Datagrams in the Presence of\n         Subnets\", RFC-922, Stanford University,\
    \ October 1984.\n   [51]  Rosen, E., \"Exterior Gateway Protocol\", RFC-827, Bolt\
    \ Beranek\n         and Newman, October 1982.\n   [52]  Rose, M., \"Low Tech Connection\
    \ into the ARPA Internet: The Raw\n         Packet Split Gateway\", Technical\
    \ Report 216, Department of\n         Information and Computer Science, University\
    \ of California,\n         Irvine, February 1984.\n   [53]  Rosen, E., \"Issues\
    \ in Buffer Management\", IEN-182, Bolt Beranek\n         and Newman, May 1981.\n\
    \   [54]  Rosen, E., \"Logical Addressing\", IEN-183, Bolt Beranek and\n     \
    \    Newman, May 1981.\n   [55]  Rosen, E., \"Issues in Internetting - Part 1:\
    \ Modelling the\n         Internet\", IEN-184, Bolt Beranek and Newman, May 1981.\n\
    \   [56]  Rosen, E., \"Issues in Internetting - Part 2: Accessing the\n      \
    \   Internet\", IEN-187, Bolt Beranek and Newman, June 1981.\n   [57]  Rosen,\
    \ E., \"Issues in Internetting - Part 3: Addressing\",\n         IEN-188, Bolt\
    \ Beranek and Newman, June 1981.\n"
- title: RFC 1009 - Requirements for Internet Gateways                  June 1987
  contents:
  - "RFC 1009 - Requirements for Internet Gateways                  June 1987\n  \
    \ [58]  Rosen, E., \"Issues in Internetting - Part 4: Routing\", IEN-189,\n  \
    \       Bolt Beranek and Newman, June 1981.\n   [59]  Sunshine, C., \"Comments\
    \ on Rosen's Memos\", IEN-191, USC\n         Information Sciences Institute, July\
    \ 1981.\n   [60]  NTAG, \"Requirements for Internet Gateways -- Draft\", RFC-985,\n\
    \         Network Technical Advisory Group, National Science Foundation,\n   \
    \      May 1986.\n   [61]  Khanna, A., and Malis, A., \"The ARPANET AHIP-E Host\
    \ Access\n         Protocol (Enhanced AHIP)\", RFC-1005, BBN Communications,\n\
    \         May 1987\n   [62]  Nagle, J., \"Congestion Control in IP/TCP Internetworks\"\
    , ACM\n         Computer Communications Review, Vol.14, no.4, October 1984.\n"
