- title: __initial_text__
  contents:
  - "           MaXIM-11 - Mapping between X.400 / Internet mail\n               \
    \               Mail-11 mail\n"
- title: Status of this Memo
  contents:
  - "Status of this Memo\n   This memo defines an Experimental Protocol for the Internet\n\
    \   community.  It does not specify an Internet standard of any kind.\n   Discussion\
    \ and suggestions for improvement are requested.\n   Distribution of this memo\
    \ is unlimited.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (C) The Internet Society (1998).  All Rights Reserved.\n"
- title: Abstract
  contents:
  - "Abstract\n   This document describes a set of mappings which will enable inter\n\
    \   working between systems operating the ISO/IEC 10021 - CCITT (now ITU)\n  \
    \ X.400 Recommendations on Message Handling Systems, and systems\n   running the\
    \ Mail-11 (also known as DECnet mail or VMSmail) protocol.\n   The specifications\
    \ are valid both within DECnet Phase IV and\n   DECnet/OSI addressing and routing\
    \ scheme.\n   The complete scenario of X.400 / MIME / Mail-11 is also considered,\n\
    \   in order to cover the possible complex cases arising in multiple\n   gateway\
    \ translations.\n   This document covers mainly the X.400 O/R address to/from\
    \ Mail-11\n   address mapping and the RFC822 to/from Mail-11 ones; other mappings\n\
    \   are based on MIXER specifications. Bodypart mappings are not\n   specified\
    \ in this document: MIXER and MIME-MHS specifications can be\n   applied to map\
    \ bodyparts between X.400, MIME and Mail-11, too. In\n   fact MIME encoding can\
    \ be used without modifications within Mail-11\n   text bodyparts.\n   This document\
    \ obsoletes RFC 1405, which was a combined effort of\n   TERENA Working Group\
    \ on Messaging, and the IETF X.400 Ops Working\n   Group. This update was prepared\
    \ by IETF MIXER working group.\n"
- title: Chapter 1 - Introduction
  contents:
  - 'Chapter 1 - Introduction

    '
- title: 1.1. X.400
  contents:
  - "1.1. X.400\n   The standard referred shortly into this document as \"X.400\"\
    \ relates\n   to the ISO/IEC 10021 - CCITT 1984, 1988 and 1992 X.400 Series\n\
    \   Recommendations covering the Message Oriented Text Interchange\n   Service\
    \ (MOTIS). This document covers the Inter Personal Messaging\n   System (IPMS)\
    \ only.\n"
- title: 1.2. Mail-11
  contents:
  - "1.2. Mail-11\n   Mail-11, also known as DECnet mail and often improperly referred\
    \ as\n   VMSmail, is the proprietary protocol implemented by Digital Equipment\n\
    \   Corporation (DEC) to establish a real-time text messaging system\n   among\
    \ systems implementing the DECnet Phase IV and DECnet/OSI (CLNS)\n   networking\
    \ protocols.\n"
- title: 1.3. RFC822 / MIME
  contents:
  - "1.3. RFC822 / MIME\n   RFC822 was defined as a standard for personal messaging\
    \ systems\n   within the DARPA Internet and is now diffused on top of many\n \
    \  different message transfer protocols, like SMTP, UUCP, BITNET, JNT\n   Grey\
    \ Book, CSnet. MIME specifications allows transport of non-textual\n   information\
    \ into RFC822 messages. Their mapping with X.400 is fully\n   described in MIXER\
    \ and MIME-MHS. In this document we will consider\n   their relations with Mail-11,\
    \ too.\n"
- title: 1.4. The user community
  contents:
  - "1.4. The user community\n   The community using MIME or X.400 messaging system\
    \ is currently\n   growing in the whole world, but there is still a number of\
    \ very large\n   communities using Mail-11 based messaging systems willing to\n\
    \   communicate easily with X.400 based Message Handling Systems and with\n  \
    \ MIME based systems. Among these large DECnet based networks we can\n   include\
    \ the High Energy Physics network (HEPnet) and the Space\n   Physics Analysis\
    \ Network (SPAN).\n   Many other local communities actively use internally Mail-11\
    \ mailing\n   protocols. As any other \"non standard\" mail protocol, using non\n\
    \   standard mapping techniques between Mail-11 and standard mail systems\n  \
    \ can produce unpredictable results.\n   For these reasons a set of rules covering\
    \ conversion between Mail-11\n   and X.400 or MIME is described in this document.\n\
    \   This document also covers the case of Mail-11 systems implementing\n   the\
    \ \"foreign mail protocol\" allowing Mail-11 to interface other mail\n   systems,\
    \ including RFC822 based system.\n"
- title: Chapter 2 - Message Elements
  contents:
  - 'Chapter 2 - Message Elements

    '
- title: 2.1. Service Elements
  contents:
  - "2.1. Service Elements\n   Mail-11 protocol offers a very restricted set of elements\
    \ composing a\n   Inter Personal Message (IPM), whereas X.400 and RFC822/MIME\n\
    \   specifications support a complex and large amount of service\n   elements.\
    \  Considering the case where a message is relayed between\n   two X.400 MHS or\
    \ MIME Message Transport System (MTS) via a Mail-11\n   messaging system this\
    \ could result in a nearly complete loss of\n   information.\n   To minimise the\
    \ inconvenience, any of the X.400 or MIME service\n   elements which do not map\
    \ directly into Mail-11 equivalent ones\n   accordingly to this specification,\
    \ will be included into Mail-11 text\n   body parts as an additional RFC822-like\
    \ header; this additional\n   header will be inserted between the Mail-11 P2 headers\
    \ (From:, To:,\n   CC:, Subj:) and the other Mail-11 bodyparts. In particular,\
    \ X.400\n   elements will also be at first converted into textual representation\n\
    \   before insertion.\n   An example, where a multimedia message has been encoded\
    \ into mail-11\n   after having crossed also a MIME-MHS (MIXER conformant) gateway:\n\
    \     From:  smtp%\"Admin@SURFnet.nl\"  \"Erik\"  18-OCT-1994 13:55:00.49\n  \
    \   To:    ALLOCCHIO\n     CC:    smtp%\"netman@MailFLOW.dante.net\"\n     Subj:\
    \  enjoy this nice picture!\n     X400-Originator: root@sun3.SURFnet.nl\n    \
    \ X400-Recipients: Allocchio@elettra.ts.it, netman@MailFLOW.dante.net\n     Sender:\
    \ Erik Newmann <root@SURFnet.nl>\n     Organisation: SURFnet bv\n     Mime-Version:\
    \ 1.0\n     Content-Type: multipart/mixed; boundary=\"----- =_aaaaaa0\"\n    \
    \ Content-ID: <21223.78342785@SURFnet.nl>\n     ------- =_aaaaaa0\n     Content-Type:\
    \ text/plain; charset=\"us-ascii\"\n     Content-ID: <21223.78342785@SURFnet.nl>\n\
    \     look... you never saw this one!!\n     I just include the picture in the\
    \ next bodypart\n     and I hope you get it fine.\n     regards,\n     Erik  \
    \                                       (continues...)\n     ------- =_aaaaaa0\
    \                            (continued...)\n     Content-Type: image/gif\n  \
    \   Content-ID: <21223.78342785@SURFnet.nl>\n     Content-Description: a nice\
    \ snapshot!\n     Content-Transfer-Encoding: base64\n     RAV8372FAASD83D721NSHDHD3ASDFJKHWEHKJHCBASDFA829CA8SDB29B132RBAKDFA\n\
    \     9KSJ2KJAA0SDFNAL20DDKFALJ20AJDLFB239B9SC9B29BA9BDFADSDF03998ASDFASD\n  \
    \   ------- =_aaaaaa0\n   We need, in fact, to consider also the case when a message\
    \ originates\n   from a network implementing RFC822/MIME protocols and is relayed\
    \ via\n   Mail-11 to an X.400 MHS, or vice versa.\n   Whenever any X.400 element\
    \ not covered in this specification needs to\n   be converted into textual representation\
    \ (to be included into a\n   Mail-11 RFC822-like header or text bodypart) we will\
    \ apply the rules\n   specified in MIXER (X.400 to RFC822/MIME sections).\n  \
    \ Vice versa, MIXER specification (RFC822/MIME to X.400 sections) also\n   gives\
    \ the correct rules to convert from textual representations\n   contained into\
    \ Mail-11 RFC822-like header or bodyparts into X.400\n   elements.\n   On the\
    \ other hand, RFC822/MIME headers not covered by this\n   specification are included\
    \ 'as they are' into Mail-11 RFC822-like\n   header and bodyparts. The way back\
    \ from Mail-11 to RFC822/MIME\n   structure becomes thus straightforward.\n  \
    \ The above methods assures maximum transparency and minimal or null\n   loss\
    \ of information also when Mail-11 is involved.\n"
- title: 2.2. Mail-11 service elements to X.400 service elements.
  contents:
  - "2.2. Mail-11 service elements to X.400 service elements.\n   All envelope (P1)\
    \ and header (P2) Mail-11 service elements are\n   supported in the conversion\
    \ to X.400. Note that Mail-11 P1 is solely\n   composed by P1-11.From and P1-11.To,\
    \ and any other Mail-11 element\n   belongs to Mail-11 P2:\n        - P1-11.From\n\
    \                maps to P1.Originator\n        - P1-11.To\n                maps\
    \ to P1.Primary Recipient\n        - P2-11.'From:'\n                usually maps\
    \ to P2.Originator (see section 2.6)\n        - P2-11.'To:'\n                maps\
    \ to P2.Primary Recipient\n        - P2-11.'CC:'\n                maps to P2.Copy\
    \ Recipient\n        - P2-11.Date\n                maps to P2.Submission Time\
    \ Stamp\n        - P2-11.'Subj:'\n                maps to P2.Subject\n   Any eventual\
    \ RFC822-like text header in Mail-11 body part will be\n   interpreted as specified\
    \ into MIXER.\n"
- title: 2.3. X.400 service elements to Mail-11 service elements
  contents:
  - "2.3. X.400 service elements to Mail-11 service elements\n   The following X.400\
    \ service elements are supported directly into\n   Mail-11 conversion:\n     \
    \   - P1.Originator\n                maps to P1-11.'From:'\n        - P1.Primary\
    \ Recipients\n                maps to P1-11.'To:'\n        - P2.Originator\n \
    \               usually maps to P2-11.'From:' (see section 2.6)\n        - P2.Primary\
    \ Recipients\n                maps to P2-11.'To:'\n        - P2.Copy Recipients\n\
    \                maps to P2-11.'CC:'\n        - P2.Submission Time Stamp\n   \
    \             maps to P2-11.Date\n        - P2.Subject\n                maps to\
    \ P2-11.'Subj:'\n   The following X.400 service element is partially supported\
    \ into\n   Mail-11 conversion:\n        - P2.Blind Copy Recipient\n          \
    \      to ensure the required privacy, when a message contains\n             \
    \   a BCC address, the following actions occurs:\n                - a new message\
    \ is created, containing the body parts;\n                - a new envelope is\
    \ added to the new message, containing\n                  the originator and the\
    \ BCC recipient addresses only;\n                - a note is added to the message\
    \ informing the BCC\n                  recipient about the fact that the message\
    \ was a BCC;\n                - the new message is delivered separately;\n   \
    \             - a note is added to the message delivered to TO and CC\n      \
    \            recipients informing them about the fact that there\n           \
    \       were some BCC recipients, too.\n   Any other X.400 service element support\
    \ is done accordingly to MIXER\n   including the mapped element into the RFC822-like\
    \ header into Mail-11\n   body part.\n"
- title: 2.4. Mail-11 service elements to RFC822/MIME service elements.
  contents:
  - "2.4. Mail-11 service elements to RFC822/MIME service elements.\n   All envelope\
    \ (P1) and header (P2) Mail-11 service elements are\n   supported in the conversion\
    \ to RFC822/MIME:\n        - P1-11.From\n                maps to 822-MTS.Originator\n\
    \        - P1-11.To\n                maps to 822-MTS.Primary Recipient\n     \
    \   - P2-11.'From:'\n                usually maps to 822.'From:' (see section\
    \ 2.6)\n        - P2-11.'To:'\n                maps to 822.'To:'\n        - P2-11.'CC:'\n\
    \                maps to 822.'Cc:'\n        - P2-11.Date\n                maps\
    \ to 822.'Date:'\n        - P2-11.'Subj:'\n                maps to 822.'Subject:'\n\
    \   Any eventual RFC822-like text header in Mail-11 body part will be\n   re-inserted\
    \ into RFC822/MIME message 'as it is'.\n"
- title: 2.5. RFC822/MIME service elements to Mail-11 service elements
  contents:
  - "2.5. RFC822/MIME service elements to Mail-11 service elements\n   The following\
    \ RFC822 service elements are supported directly into\n   Mail-11 conversion:\n\
    \        - 822-MTS.Originator\n                maps to P1-11.From\n        - 822-MTS.Primary\
    \ Recipients\n                maps to P1-11.To\n        - 822.'From:'\n      \
    \          usually maps to P2-11.'From:' (see section 2.5)\n        - 822.'To:'\n\
    \                maps to P2-11.'To:'\n        - 822.'Cc:'\n                maps\
    \ to P2-11.'CC:'\n        - 822.'Date:'\n                maps to P2-11.Date\n\
    \        - 822.'Subject:'\n                maps to P2-11.'Subj:'\n   The following\
    \ RFC822 service element is partially supported into\n   Mail-11 conversion:\n\
    \        - 822.'Bcc:'\n                to ensure the required privacy, when a\
    \ message contains\n                a BCC address, the following actions occurs:\n\
    \                - a new message is created, containing the body parts;\n    \
    \            - a new envelope is added to the new message, containing\n      \
    \            the originator and the BCC recipient addresses only;\n          \
    \      - a note is added to the message informing the BCC\n                  recipient\
    \ about the fact that the message was a BCC;\n                - the new message\
    \ is delivered separately;\n                - a note is added to the message delivered\
    \ to TO and CC\n                  recipients informing them about the fact that\
    \ there\n                  were some BCC recipients, too.\n   Any other RFC822/MIME\
    \ service element support is done simply\n   including the element 'as it is'\
    \ into the RFC822-like header and into\n   a Mail-11 body part.\n"
- title: 2.6. Rules to define the Mail-11 P2-11.'From:' element
  contents:
  - "2.6. Rules to define the Mail-11 P2-11.'From:' element\n   Mail-11 User Agents\
    \ (usually VMSmail) uses the P2-11.'From:' element\n   as destination in case\
    \ the REPLY command is issued, ignoring any\n   other specification like 'Sender:'\
    \ 'Reply-To:' 'Return-Path:' etc.\n   Also a number of automatic responders uses\
    \ this field only to address\n   their messages.\n   Is it thus essential to insert\
    \ into this field the correct\n   information, i.e. the correct address where,\
    \ according to X.400 or\n   RFC822 rules the REPLY command or any automatically\
    \ generated message\n   should go.\n   The rules specified in RFC822, section\
    \ 4.4.4 should be used as a\n   selection criterion to define the content of this\
    \ field.\n   In particular, in case the P2-11.'From:' element is not generated\n\
    \   from the P2.Originator (X.400) or from the 822.'From:' (RFC822), it\n   is\
    \ essential to preserve into a 'From:' record of the RFC822-like\n   header the\
    \ original information contained into the P2.Originator or\n   822.'From:' fields.\n\
    \   Vice versa, when converting from Mail-11 into X.400 or RFC822/MIME\n   the\
    \ information contained into the 'From:' field of the RFC822-like\n   header (if\
    \ present) will supersede the one contained into the Mail-11\n   P2-11.'From:'.\
    \ An example:\n     From:  smtp%\"Admin@SURFnet.nl\"  \"Erik\"  18-OCT-1994 13:55:00.49\n\
    \     To:    ALLOCCHIO\n     CC:    smtp%\"netman@MailFLOW.dante.net\"\n     Subj:\
    \  enjoy this nice picture!\n     From: Erik Newmann <root@SURFnet.nl>\n     Reply-To:\
    \ Admin@SURFnet.nl\n     Organisation: SURFnet bv\n     Message-Id: <21235.25442281@SURFnet.nl>\n\
    \   when converting back into RFC822 the header will be:\n     From: Erik Newmann\
    \ <root@SURFnet.nl>\n     Reply-To: Admin@SURFnet.nl\n     To: Allocchio@elettra.ts.it\n\
    \     Cc: netman@MailFLOW.dante.net\n     Subject: enjoy this nice picture!\n\
    \     Organisation: SURFnet bv\n     Message-Id: <21235.25442281@SURFnet.nl>\n\
    \   The described method, although violating canonical conversion\n   principles,\
    \ assures the maximum functionality to the users, and\n   provides consistency\
    \ in case of multiple conversions for a single\n   message.\n"
- title: Chapter 3 - Basic Mappings
  contents:
  - "Chapter 3 - Basic Mappings\n   The basic mappings indicated in MIXER and its\
    \ updates should be fully\n   used.\n   A special consideration must be used for\
    \ encoding RFC822 addresses\n   containing quotes '\"' into Mail-11. In fact Mail-11\
    \ addresses cannot\n   contain that special character, as it is reserved to delimit\
    \ \"quoted\n   strings\" themselves, as when using the Mail-11 foreign mail protocol.\n\
    \   An example:\n      \"John Poe\"@Mixergw.local.ca.us    (RFC822)\n   cannot\
    \ be included in a Mail-11 foreign mail protocol address 'as\n   is', due to the\
    \ quotes in the LHS section. Quotes must thus be\n   encoded.  MIXER specifies\
    \ exactly how to encode quotes and other\n   characters when translating RFC822\
    \ addresses into X.400. Mail-11\n   addresses are not limited to printablestring,\
    \ as for X.400, but a\n   subset of the MIXER encoding can be used for the quotes\
    \ character,\n   and, as a direct consequence, for open and closed round brackets\
    \ '('\n   and ')':\n      smtp%\"(q)John Poe(q)@Mixergw.local.ca.us\"\n"
- title: Chapter 4 - Addressing - Mail-11 / X.400
  contents:
  - 'Chapter 4 - Addressing - Mail-11 / X.400

    '
- title: 4.1. Mail-11 addressing
  contents:
  - "4.1. Mail-11 addressing\n   Mail-11 addressing can vary from a very simple case\
    \ up to complex\n   ones, if there are other Mail-11 to \"something-else\" gateways\n\
    \   involved. In any case a Mail-11 address is an ASCII string composed\n   of\
    \ different elements.\n"
- title: 4.2. X.400 addressing
  contents:
  - "4.2. X.400 addressing\n   On the other hand, An X.400 O/R address is a collection\
    \ of\n   attributes, which can anyway be presented as an IA5 textual\n   representation\
    \ as defined in RFC1685 and CCITT F.401, Annex B.\n"
- title: 4.3. Mail-11 address components
  contents:
  - "4.3. Mail-11 address components\n   Let us start defining the different parts\
    \ composing a Mail-11\n   address. Mail-11 addresses syntax is slightly different\
    \ between Phase\n   IV and DECnet/OSI cases:\n   - Phase IV:  we consider a Mail-11\
    \ address as composed by 3 parts:\n        [route] [node::] local-part\n   where\
    \ 'route' and 'node' are optional and only 'local-part' is\n   compulsory.\n \
    \  - DECnet/OSI: we consider a Mail-11 address as composed by 3 parts:\n     \
    \   [net:] [node-clns::] local-part\n   where 'net and 'node-clns' are optional\
    \ and only 'local-part' is\n   compulsory.\n   Here comes a formal definition\
    \ of these elements\n     node = *(ALPHA/DIGIT) / *DIGIT / *DIGIT \".\" *DIGIT\n\
    \     route = *(node \"::\")\n     subdomain = *(ALPHA/DIGIT)\n     node-clns\
    \ = *(\".\" subdomain)\n     net = *(ALPHA/DIGIT)\n     local-part = username\
    \ / nickname / for-protocol\n     username = *(ALPHA/DIGIT)\n     nickname = <printablestring\
    \ - <\" \" and HTAB>>\n     for-protocol = (f-pref f-sep <\">f-address<\">)\n\
    \     f-pref = *(ALPHA/DIGIT)\n     f-sep = \"%\" / \"::\"\n     f-address = printablestring\
    \ / RFC822-address / X400-text-address\n     X400-text-address = <textual representation\
    \ of an X.400 O/R addr>\n     Please note that in x400-text-address both the \"\
    ;\" notation and the\n     \"/\" notation are equivalent and allowed (see examples\
    \ in different\n     sect.)\n        Some examples (Phase IV):\n           route\
    \           node    local-part\n           -----------------------------------------------------------\n\
    \                                   USER47\n                           MYNODE::BETTY\n\
    \           BOSTON::CLUS02::GOOFY1::MARY34\n                                 \
    \  IN%\"M.P.Tracy@Dicdum.cc.edu\"\n                   UCLA13::MVAX93::MRGATE::\"\
    MBOX1::MBX34::MYC3::BOB\"\n                           MIAMI2::George.Rosenthal\n\
    \                   CCUBVX::VS3100::Jnet%\"IAB3425@IBAX23L\"\n               \
    \                    MRGATE::\"C=xx::A=bbb::P=ppp::S=Joe\"\n                 \
    \          MAINVX::IN%\"path1!path2!user%dom\"\n                           GWX400::gw%\"\
    C=xx;ADMD=aaa;PRMD=ppp;S=Lee;\"\n                           GX409A::x400%\"/C=xx/A=aaa/P=ppp/S=Lee\"\
    \n                                   smtp%\"postmast@nodeb.bitnet\"\n        \
    \           MICKEY::PRFGAT::profs%\"NANCY@IBMB\"\n                           \
    \        edu%\"HU427BD%CSUNIB@abc.acme.edu\"\n   Some examples (DECnet/OSI):\n\
    \      net  node              local-part\n      -----------------------------------------------------------\n\
    \                              USER47\n           .IT.MYDOM1.MYNODE::BETTY\n \
    \     OMNI:.US.GOV.LB.GOOFY1::MARY34\n                              IN%\"M.P.Tracy@Dicdum.cc.edu\"\
    \n      NET1:.SALES.ADM.MVAX93::MRGATE::\"MBOX1::MBX34::MYC3::BOB\"\n        \
    \     .FR.LYON.MIAMI2::George.Rosenthal\n           .AU.ABXY2W.VS3100::Jnet%\"\
    IAB3425@IBAX23L\"\n                              MRGATE::\"C=xx::A=bbb::P=ppp::S=Joe\"\
    \n       INT:.GB.3LABV56.MAINV::IN%\"path1!path2!user%dom\"\n                \
    \      GWX400::gw%\"C=xx;ADMD=aaa;PRMD=ppp;S=Lee;\"\n                        \
    \      smtp%\"postmast@nodeb.bitnet\"\n      OMNI:.DE.TEST.V1.GWY32::GX409A::x400%\"\
    /C=xx/A=aaa/P=ppp/S=Lee\"\n   Note that also in DECnet/OSI there can be Phase\
    \ IV like node names,\n   the so called \"Phase IV compatibility node names\"\
    , but no 'route'\n   term is allowed in front of them. In case the address consists\
    \ of a\n   DECnet/OSI 'net' and/or 'node' specification, plus an old Phase IV\n\
    \   node address (like the last one in above examples) we consider the\n   old\
    \ Phese IV node name (GX409A) as 'local-part'.\n"
- title: Chapter 5 - Mapping - Mail-11 / X.400
  contents:
  - 'Chapter 5 - Mapping - Mail-11 / X.400

    '
- title: 5.1. Mapping scheme
  contents:
  - "5.1. Mapping scheme\n   DECnet phase IV address field is somehow a 'flat land'\
    \ with some\n   obliged routes to reach some hidden areas. Thus a truly hierarchical\n\
    \   mapping scheme using mapping rules as suitable for RFC822 is not the\n   appropriate\
    \ solution. A fixed set of encoding rules using DDAs\n   support is defined in\
    \ order to define the mapping.\n   DECnet/OSI address field is, on the other hand,\
    \ hyerarchical,\n   implementing a real domain style organization, resembling\
    \ very\n   closely the RFC822 domain addresses. However also in DECnet/OSI\n \
    \  networks the old Phase IV flat addresing schema remains valid,\n   expecially\
    \ for the so called 'Phase IV short aliases'. For this\n   reason, and to keep\
    \ mapping as simple as possible, the same set of\n   fixed rules usind DDAs encoding\
    \ will be used both for Phase IV and\n   DECnet/OSI addresses.\n   Another important\
    \ aspect of the problem is the coexistence in DECnet\n   phase IV of many disjoint\
    \ networks, using the same DECnet address\n   space, i.e., common X.400 and/or\
    \ RFC822 mailing system acting as glue\n   to connect different isolated Mail-11\
    \ islands. In DECnet/OSI this\n   aspect is more canonically approached, introducing\
    \ the concept of\n   'net', a unique name identifying the single internally fully\n\
    \   interconnected DECnet network sharing the same DECnet/OSI name space.\n  \
    \ To identify uniquely each DECnet Phase IV network we will thus extend\n   the\
    \ concept of DECnet/OSI 'net' also to this case. We define as 'net'\n   in Phase\
    \ IV a unique ASCII string identifying the DECnet network we\n   are connected\
    \ to. If the Phase IV network is already migrating and\n   thus interconnected\
    \ to DECnet/OSI areas, the 'net' identifier already\n   used in the DECnet/OSI\
    \ areas is automatically extended to the whole\n   DECnet community.\n   If the\
    \ network still uses Phase IV protocols only, a 'net' identifier\n   must be chosen.\
    \ In this case the 'net' element will identify the\n   DECnet community being\
    \ served, but it could also differ from the\n   actual official network name.\
    \ It is reccommended that the same 'net'\n   identifier will be adopted unmodified\
    \ when the eventual migration to\n   DECnet/OSI will take place within that DECnet\
    \ community.\n   Aliases are allowed for the 'net' identifier. Some well known\n\
    \   identifiers and aliases:\n       net = 'OMNI'         the High Energy Physics\
    \ & Space Physics\n                            DECnet network;\n   aliases:\n\
    \       net = 'HEPnet'       alias for 'OMNI'\n       net = 'SPAN'         alias\
    \ for 'OMNI'\n   The need of labelling each DECnet network with its name comes\
    \ also\n   from the requirement to implement the 'intelligent' gateway, i.e.,\n\
    \   the gateway which is able to understand its ability to connect\n   directly\
    \ to the specified DECnet network, even if the O/R address\n   specify a path\
    \ to a different gateway. A more detailed discussion of\n   the problem is in\
    \ 5.3 and 5.5.\n   A registry of 'net' attributes to insure uniqueness of names\
    \ must be\n   established: this registry is the same one created for migration\
    \ to\n   DECnet/OSI. A simple table coupling 'net' and the gateway address is\n\
    \   also used, in a syntax similar to the 'gate1' and 'gate2' tables used\n  \
    \ in MIXER. An example:\n        OMNI#OU$Cosine-gw.O$@.PRMD$infn.ADMD$garr.C$IT#\n\
    \        OMNI#O$ESRIN1.PRMD$esa.ADMD$Master400.C$it#\n        HEPnet#OU$Cosine-gw.O$@.PRMD$infn.ADMD$garr.C$IT#\n\
    \        HEPnet#O$ESRIN1.PRMD$esa.ADMD$Master400.C$it#\n        SPAN#OU$Cosine-gw.O$@.PRMD$infn.ADMD$garr.C$IT#\n\
    \        SPAN#O$ESRIN1.PRMD$esa.ADMD$Master400.C$it#\n   Ambiguous left entries\
    \ are allowed. Gateway implementations could\n   simply choose among one of the\
    \ specified gateways, or try them all in\n   cyclic order to obtain better performances.\n\
    \   Note that aliases are established using this gate table, too: simply\n   add\
    \ equivalent entries into the table, like the 'HEPnet' and 'SPAN'\n   entries.\
    \ Aliases, however, must be used only to enable users to use\n   commonly used\
    \ names, but any  gateway implementing this specification\n   must generate addresses\
    \ with official 'net' names, only ('OMNI' for\n   the above table).\n   The Mail-11\
    \ gateways table, however, just constitutes the list of the\n   the appropriate\
    \ MIXER address translation) RFC822 world. Any other\n   gateway implementing\
    \ this specification (and the related ones) should\n   use its local name as first\
    \ choice for the Mail-11 'net' it can\n   reach, and use the official Mail-11\
    \ gateway table to reach only the\n   non connected ones. This list of Mail-11\
    \ gateway entries is supposed\n   to contain the list of 'net' tags and their\
    \ aliases; as this list is\n   usually small, currently we do not take into account\
    \ distribution\n   mechanisms for this information different from a static table.\n\
    \   In order to keep the mapping rules very simple, avoiding the need to\n   analyse\
    \ Mail-11 addresses to distinguish the 'route', 'node', and\n   Attributes (DDAs)\
    \ needed to cover the mapping problem.\n"
- title: 5.2. Mail-11 --> X.400
  contents:
  - "5.2. Mail-11 --> X.400\n   We define the following Domain Defined Attributes\
    \ to map a Mail-11\n   address:\n        DD.Dnet\n        DD.Mail-11\n   We thus\
    \ define the Mail-11 Phase IV mapping rule:\n        route::node::localpart\n\
    \      maps into\n        C=xx; ADMD=yyy; PRMD=zzz; O=ooo; OU=uuu; DD.Dnet=net;\n\
    \        DD.Mail-11=route::node::localpart;\n   Meanwhile we define the mapping\
    \ rule for Mail-11 DECnet/OSI:\n        net:node-clns::localpart\n      maps into\n\
    \        C=xx; ADMD=yyy; PRMD=zzz; O=ooo; OU=uuu; DD.Dnet=net;\n        DD.Mail-11=node-clns::localpart;\n\
    \   with:\n        xx  = country code of the gateway performing the conversion\n\
    \        yyy = Admd of the gateway performing the conversion\n        zzz = Prmd\
    \ of the gateway performing the conversion\n        ooo = Organisation of the\
    \ gateway performing the conversion\n        uuu = Org. Unit(s) of the gateway\
    \ performing the conversion\n        net = name of the DECnet network (e.g., OMNI,\
    \ HEPnet, SPAN,...)\n   ('zzz','ooo','uuu' being used or dropped appropriately\
    \ in order to\n   identify uniquely within the X.400 MHS the gateway performing\
    \ the\n   conversion).\n   The following defaults also apply:\n   if 'node' (or\
    \ 'node-clns') is missing and we are mapping the Mail-11\n   originator (From)\
    \ then 'node' (or 'node-clns') defaults to the DECnet\n   node name of the gateway\
    \ (gwnode);\n   if 'node' (or 'node-clns') is missing and we are mapping the Mail-11\n\
    \   recipient (To, Cc) then 'node' (or 'node-clns') defaults to the\n   DECnet\
    \ node name of the 'From' address.\n   if 'net' is missing, then it defaults to\
    \ a value defined locally by\n   the gateway: if the gateway is connected to one\
    \ DECnet network only,\n   then 'net' will be the name of this unique network;\
    \ if the gateway is\n   connected to more than one DECnet network, then the gateway\
    \ will\n   establish a 'first choice' DECnet network, and 'net' will default to\n\
    \   this value.\n   The 'node' syntax (DECnet/OSI or Phase IV) depends on the\
    \ DECnet\n   protocol implemented and on the value of a system parameter (usually\n\
    \   the MAIL$SYSTEM_FLAGS one) on the gateway host.\n   In case 'local-part' contains\
    \ 'x400-text-address' see also section\n   6.4.3;\n   In case 'local-part' contains\
    \ 'RFC822-address' see also section\n   6.4.4.\n"
- title: 5.2.1. Examples
  contents:
  - "5.2.1. Examples\n   Let us suppose that:\n     - the DECnet network name (net)\
    \ is 'OMNI';\n     - the DECnet node name of the gateway (gwnode) is '.IT.DM.X4TDEC'\n\
    \       alias 'X4TDEC' in Phase IV;\n     - the Country Code of the gateway is\
    \ 'IT' and its ADMD is 'garr'\n       (and these two fields are enough to identify\
    \ uniquely the gateway\n       within the X.400 MHS).\n    USER47\n     C=it;\
    \ ADMD=garr; DD.Dnet=OMNI; DD.Mail-11=.IT.DM.X4TDEC::USER47;\n    MYNODE::BETTY\n\
    \     C=it; ADMD=garr; DD.Dnet=OMNI; DD.Mail-11=MYNODE::BETTY;\n    BOSTON::GOOFY1::MARY34\n\
    \     C=it; ADMD=garr; DD.Dnet=OMNI; DD.Mail-11=BOSTON::GOOFY1::MARY34;\n    .DE.UNI-BN.PHYS.NODE18::MARY34\n\
    \     C=it; ADMD=garr; DD.Dnet=OMNI;\n     DD.Mail-11=.DE.UNI-BN.PHYS.NODE18::MARY34;\n\
    \    UCLA13::MVAX93::MRGATE::\"MBOX1::MBX34:MYC3::BOB\"\n     C=it; ADMD=garr;\
    \ DD.Dnet=OMNI;\n     DD.Mail-11=UCLA13::MVAX93::MRGATE::(q)MBOX1::MBX34::MYC3::BOB(q)\n\
    \    ENET:.US.CENTRAL.MIAMI2::George.Rosenthal\n     C=it; ADMD=garr; DD.Dnet=ENET;\n\
    \     DD.Mail-11=.US.CENTRAL.MIAMI2::George.Rosenthal;\n    MRGATE::\"C=xx::A=bbb::P=ppp::S=Joe\"\
    \n     C=it; ADMD=garr; DD.Dnet=OMNI;\n     DD.Mail-11=X4TDEC::MRGATE::(q)C=xx::A=bbb::P=ppp::S=Joe(q)\n\
    \    MAINVX::In%\"path1!path2!user%dom\"\n     C=it; ADMD=garr; DD.Dnet=OMNI;\n\
    \     DD.Mail-11=MAINVX::In(p)(q)path1(b)path2(b)user(p)dom(q)\n"
- title: 5.3. X.400 encoding of Mail-11 --> Mail-11
  contents:
  - "5.3. X.400 encoding of Mail-11 --> Mail-11\n   In order to assure path reversibility\
    \ in case of multiple Mail-\n   11/X.400 gateway crossing we must distinguish\
    \ two cases:\n   - DD.Dnet=net is known to the gateway as one of the DECnet networks\n\
    \     it is connected to. In this case the mapping is trivial:\n        C=xx;\
    \ ADMD=yyy; PRMD=zzz; O=ooo; OU=uuu; DD.Dnet=net;\n        DD.Mail-11=route::node::localpart;\n\
    \   (see sect. 5.2 for explication of 'xx','yyy','zzz','ooo','uuu','net')\n  \
    \ maps into\n        route::node::localpart\n   and for DECnet/OSI addresses\n\
    \        C=xx; ADMD=yyy; PRMD=zzz; O=ooo; OU=uuu; DD.Dnet=net;\n        DD.Mail-11=node-clns::localpart;\n\
    \   maps into\n        net:node-clns::localpart\n   - DD.Dnet=net is NOT known\
    \ to the gateway as one of the DECnet\n     networks it is connected to. In this\
    \ case the mapping rule\n     described into section 5.4 apply:\n        C=xx;\
    \ ADMD=yyy; PRMD=www; DD.Dnet=net;\n        DD.Mail-11=route::node::localpart;\n\
    \   maps into\n        gwnode::gw%\"C=xx;ADMD=yyy;PRMD=www;DD.Dnet=net;\n    \
    \    DD.Mail-11=route::node::localpart;\"\n   Again for DECnet/OSI addresses:\n\
    \        C=xx; ADMD=yyy; PRMD=www; DD.Dnet=net;\n        DD.Mail-11=node-clns::localpart;\n\
    \   maps into\n        gwnode::gw%\"C=xx;ADMD=yyy;PRMD=www;DD.Dnet=net;\n    \
    \    DD.Mail-11=node-clns::localpart;\"\n"
- title: 5.3.1. Examples
  contents:
  - "5.3.1. Examples\n   Let us suppose that:\n     - the DECnet network name (net)\
    \ is 'OMNI';\n     - the DECnet node name of the gateway (gwnode) is '.IT.DM.X4TDEC';\n\
    \       alias 'X4TDEC' in Phase IV;\n     - the Country Code of the gateway is\
    \ 'IT' and its ADMD is 'garr';\n     (and these two fields are enough to identify\
    \ uniquely the gateway\n     within the X.400 MHS).\n     C=it; ADMD=garr; DD.Dnet=OMNI;\n\
    \     DD.Mail-11=X4TDEC::MRGATE::(q)C=ab::A=dsa::P=qwty::OU=mie::S=Cly(q)\n  \
    \     MRGATE::\"C=ab::A=dsa::P=qwty::OU=mie::S=Cly\"\n     C=it; ADMD=garr; DD.Dnet=EASYNET;\
    \ DD.Mail-11=ROM01::CARLO;\n       X4TDEC::gw%\"C=it;ADMD=garr;DD.Dnet=EASYNET;\n\
    \       DD.Mail-11=ROM01::CARLO;\"\n   (in the above example 'EASYNET' is supposed\
    \ to be not connected to\n   our gateway located on .IT.DM.X4TDEC DECnet node).\n"
- title: 5.4. X.400 --> Mail-11
  contents:
  - "5.4. X.400 --> Mail-11\n   The mapping of an X.400 O/R address into Mail-11 is\
    \ done encoding the\n   various attributes into the X400-text-address as defined\
    \ in chapter 4\n   of MIXER, and including this as 'f-address'. A 'f-pref' and\
    \ a the\n   DECnet node name of the gateway.\n   Thus\n      x400-text-address\n\
    \   will be encoded like\n      gwnode::gw%\"x400-text-address\"\n   having spaces\
    \ dividing attributes as optional.\n"
- title: 5.4.1. Example
  contents:
  - "5.4.1. Example\n   Let us suppose that:\n     - the DECnet node name of the gateway\
    \ (gwnode) is '.IT.DM.X4TDEC'\n       alias 'X4TDEC' in Phase IV, and 'net' is\
    \ 'OMNI'\n   Thus\n      C=gb; ADMD=G400; PRMD=AC.UK; O=ucl; S=Clay;\n   will\
    \ be encoded like\n    X4TDEC::gw%\"/C=gb/A=G400/P=AC.UK/O=ucl/S=Clay\"\n   or\
    \ its equivalent with the \";\" notation and DECnet/OSI 'node'\n    OMNI:.IT.DM.X4TDEC::gw%\"\
    C=gb;ADMD=G400;PRMD=AC.UK;O=ucl;S=Clay;\"\n"
- title: 5.5. Mail-11 encoding of X.400 --> X.400
  contents:
  - "5.5. Mail-11 encoding of X.400 --> X.400\n   It can happen that Mail-11 is used\
    \ to relay messages between X.400\n   systems; this will mean multiple X.400/Mail-11\
    \ gateway crossing and\n   we will encounter Mail-11 addresses containing embedded\
    \ X.400\n   informations. In order to assure path reversibility we must then\n\
    \   distinguish two cases:\n   - the embedded X.400 address belongs to a domain\
    \ whose naming and\n     routing rules are known to the global X.400 MHS.  In\
    \ this case the\n     mapping is trivial:\n       route::gwnode::gw%\"x400-text-address\"\
    \n     or (for DECnet/OSI)\n       net:gwnode::gw%\"x400-text-address\"\n   maps\
    \ into\n       x400-text-address\n      'route' and 'gwnode' are mapped into X.400\
    \ Trace service elements.\n   - the encoded X.400 domain does not belong to the\
    \ global X.400 name\n     space. In this case the mapping rule described into\
    \ section 5.2\n     apply:\n       route::gwnode::gw%\"x400-text-address\"\n \
    \  maps into\n       C=xx; ADMD=yyy; DD.Dnet=net;\n       DD.Mail-11=route::gwnode::gw(p)(q)x400-text-address(q);\n\
    \   and (for DECnet/OSI)\n       net:gwnode::gw%\"x400-text-address\"\n   maps\
    \ into\n       C=xx; ADMD=yyy; DD.Dnet=net;\n       DD.Mail-11=gwnode::gw(p)(q)x400-text-address(q);\n\
    \   The latter case is deprecated and must be regarded as a possible\n   temporary\
    \ solution only, while waiting to include into the global\n   X.400 MHS also this\
    \ domain.\n"
- title: 5.5.1. Examples
  contents:
  - "5.5.1. Examples\n   Let us suppose that:\n     - the DECnet network name (net)\
    \ is 'OMNI';\n     - the DECnet node name of the gateway (gwnode) is '.IT.DM.X4TDEC'\n\
    \       alias 'X4TDEC' in Phase IV;\n     - the Country Code of the gateway is\
    \ 'IT' and its ADMD is 'garr';\n       (and these two fields are enough to identify\
    \ uniquely the\n       gateway within the X.400 MHS).\n     X4TDEC::gw%\"C=fr;ADMD=atlas;PRMD=ifip;O=poly;S=Moreau;\"\
    \n       C=fr; ADMD=atlas; PRMD=ifip; O=poly; S=Moreau;\n     X4TDEC::gw%\"C=zz;ADMD=\
    \ ;PRMD=Botwa;O=Miner;S=Chiuaw;\"\n       C=it; ADMD=garr; DD.Dnet=OMNI;\n   \
    \    DD.Mail-11=X4TDEC::gw(p)(q)C=zz;ADMD= ;\n       PRMD=Botwa;O=Miner;S=Chiuaw;(q)\n\
    \   (in the above example  C=zz is unknown to the global X.400 MHS)\n"
- title: Chapter 6 - Mapping - Mail-11 / RFC822
  contents:
  - 'Chapter 6 - Mapping - Mail-11 / RFC822

    '
- title: 6.1 Introduction
  contents:
  - "6.1 Introduction\n   The implementation of a Mail-11 - RFC822 gateway was faced\
    \ by many\n   software developers independently, and was included in many mail\n\
    \   products which were running on both VMS and UNIX systems. As there\n   was\
    \ not a unique standard mapping way, the implementations resulted\n   into a number\
    \ of possible variant methods to map a Mail-11 address\n   into an RFC822 one.\
    \ Some of these products became then largely\n   widespread, starting to create\
    \ a number of de facto mapping methods.\n   In this chapter some sort of standardisation\
    \ of the mapping problem\n   is considered, trying to be compatible with the existing\
    \ installed\n   software. We must also remind that, in some cases, only simple\
    \ Mail-\n   11 addresses could be mapped into RFC822, having complex ones\n  \
    \ producing all sort of quite strange results. In case DECnet/OSI\n   Mail-11\
    \ addresses are involved we must also notice that only one\n   mapping method\
    \ can be used from/to RFC822 addresses.\n   On the other hand, the mapping of\
    \ an RFC822 address in Mail-11 was\n   quite straightforward, resulting in a common\
    \ definition which uses\n   \"Mail-11 foreign mail protocol\" to design an RFC822\
    \ address:\n      [[node::][node::]...]prot%\"rfc-822-address\"\n   or\n     \
    \ [node::][node::]...]prot::\"rfc-822-address\"\n   or again for DECnet/OSI addresses\n\
    \      [net:][node-clns::]prot%\"rfc-822-address\"\n   or\n      [net:][node-clns::]prot::\"\
    rfc-822-addres\"\n"
- title: 6.2 De facto implementations
  contents:
  - "6.2 De facto implementations\n   A considerable number of de-facto implementations\
    \ of Mail-11/RFC822\n   gateways is existing. As said in the introduction, the\
    \ mapping of\n   RFC822 addresses in Mail-11 is accomplished using the foreign\
    \ mail\n   protocol syntax and is thus unique.\n   On the other hand, Mail-11\
    \ addresses are encoded in RFC822 syntax in\n   various ways. Here are the most\
    \ common ones:\n        a) \"node::user\"@gateway-address\n        b) user%node@gateway-address\n\
    \        c) user@node.decnet.domains\n        d) user%node.dnet@gateway-address\n"
- title: Let's have a quick look to these different choices.
  contents:
  - "Let's have a quick look to these different choices.\n   a - This form simply\
    \ encloses as quoted Left Hand Side string the\n       original Mail-11 address\
    \ into the RFC822 address of the\n       Mail-11/RFC822 gateway. This method is\
    \ fully conformant with\n       RFC822 syntax, and the Mail-11 address is left\
    \ untouched; thus\n       no encoding rules need to applied to it. This method\
    \ applies also\n       easily to DECnet/OSI Mail-11 addresses.\n   b - As one\
    \ will immediately notice, this form has nothing in it\n       indicating the\
    \ address is a Mail-11 one; this makes the encoding\n       indistinguishable\
    \ from a similar encoding of RSCS (BITnet)\n       addresses used by some IBM\
    \ VM Mailer systems. It should thus be\n       deprecated.\n   c - In this case\
    \ a sort of 'reserved word' (DECnet)  embedded into\n       the address itself\
    \ identifies the presence of a Mail-11 original\n       address preceding it.\
    \ The decoding is possible, dropping\n       'domains' and extracting 'user' and\
    \ 'node' parts. However complex\n       Mail-11 addresses cannot be mapped properly\
    \ in this syntax, and\n       there is no specific rule for adding the 'domains'\
    \ part of the\n       address.\n   d - In this case again there is a 'reserved\
    \ word' (dnet)  which make\n       possible the identification of the original\
    \ Mail-11 address;\n       'gateway-address' points to the Mail-11/RFC822 gateway\
    \ and 'node'\n       and 'user' information can be easily drawn from the address.\n\
    \       However complex Mail-11 addresses cannot be embedded easily into\n   \
    \    this syntax.\n   Note the only methods a) can be successfully used for DECnet/OSI\n\
    \   Mail-11 addresses, while the other cases are already too complex to\n   encode\
    \ in a unique way such addresses in RFC822.\n"
- title: 6.3 Recommended mappings
  contents:
  - "6.3 Recommended mappings\n   From the examples seen in the previous paragraphs\
    \ we can derive a\n   canonical form for representing the mapping between Mail-11\
    \ and\n   RFC822.\n"
- title: 6.3.1 RFC822 mapped in Mail-11
  contents:
  - "6.3.1 RFC822 mapped in Mail-11\n   The mapping of an RFC822 address in Mail-11\
    \ is straightforward, using\n   the \"Mail-11 foreign mail protocol\" syntax.\
    \ The two possible variants\n   for Phase IV are:\n      [[node::][node::]...]prot%\"\
    rfc-822-address\"\n   or\n      [node::][node::]...]prot::\"rfc-822-address\"\n\
    \   The equivalent two possible variants for DECnet/OSI are:\n      [net:][node-clns::]prot%\"\
    rfc-822-address\"\n   or\n      [net:][node-clns::]prot::\"rfc-822-address\"\n"
- title: 6.3.2 Mail-11 mapped in RFC822
  contents:
  - "6.3.2 Mail-11 mapped in RFC822\n   RFC822 foresee a canonical form for representing\
    \ non-RFC822\n   addresses: put the foreign address in local part (Left Hand Side,\n\
    \   LHS) is a form as similar as possible to its original syntax. Thus\n   the\
    \ suggested mapping both for Phase IV and DECnet/OSI is:\n      \"Mail-11-address\"\
    @gateway-address\n   This format assures also the return path via the appropriate\
    \ gateway.\n"
- title: 6.3.3 Mail-11 (foreign mail protocol) mapped in RFC822
  contents:
  - "6.3.3 Mail-11 (foreign mail protocol) mapped in RFC822\n   A Mail-11 address\
    \ containing a foreign mail protocol syntax can also\n   contain the percent '%'\
    \ character as a separator between the foreign\n   protocol name and the actual\
    \ address itself. In some cases the\n   address part can also be an unquoted string.\
    \ Some examples:\n      deliver%swan\n      myprot%root.owner\n      listserv%my-private.list.A1\n\
    \   If these addresses are encoded into an RFC822 address using the\n   \"natural\"\
    \ method described in 6.3.2, they will result in something\n   which can be easily\
    \ mismatched with an address using the percent hack\n   in LHS for source routing.\n\
    \      \"myprot%root.owner\"@lohost.mydom.edu    (Mail-11 address)\n      \"LISTSERV%IBMB.BITnet\"\
    @bitgate.anu.edu  (% routing address)\n   The percent hack is strongly deprecated,\
    \ and thus should be avoided;\n   the second address above shoud be expressed\
    \ as:\n      @bitgate.anu.edu:\"LISTSERV@IBMB.BITnet\"\n   However, in order to\
    \ assure maximum functionality and avoid problems,\n   it is recommended to encode\
    \ Mail-11 addresses containing the foreign\n   protocol specification in RFC822\
    \ syntax using the DD.Mail-11 and\n   DD.dnet qualifiers, i.e.\n      \"/DD.Mail-11=myprot%root.owner/DD.dnet=OMNI\"\
    @lohost.mydom.edu\n   The DD.dnet defaults as indicated in the similar cases for\
    \ the Mail-\n   11 / X.400 mappings. This encoding method can, of course, also\
    \ be\n   used to map any other Mail-11 address in RFC822, and is the only one\n\
    \   which enable to specify the network name ('OMNI' in the above\n   example)\
    \ for DECnet Phase IV Mail-11 addresse. The method is fully\n   compatible with\
    \ the results also produced by gateways following the\n   MIXER specification\
    \ for Mail-11 addresses encoded in X.400 and then\n   translated into RFC822.\n"
- title: Chapter 7 - Complex mapping - X.400 / Mail-11 / RFC822
  contents:
  - 'Chapter 7 - Complex mapping - X.400 / Mail-11 / RFC822

    '
- title: 7.1. The protocol triangle
  contents:
  - "7.1. The protocol triangle\n   The bilateral mappings described in chapters 5\
    \ and 6 must be extended\n   in order to cover also the case in which also RFC822\
    \ addressing is\n   involved, and the following triangular situation occurs:\n\
    \                                   X.400\n                                  \
    \ /  \\\n                                  /    \\\n                         \
    \        /      \\\n                             Mail-11----RFC822\n   The X.400\
    \ - RFC822 side is fully covered by MIXER, and the previous\n   chapters in this\
    \ document cover the Mail-11 - X.400 side and the\n   Mail-11 - RFC822 one.\n"
- title: 7.2. RFC822 mapped in Mail-11
  contents:
  - "7.2. RFC822 mapped in Mail-11\n   The 'RFC822-address' is usually included in\
    \ 'local-part' as\n         route::gwnode::gw%\"rfc822-address\"\n   or the equivalent\
    \ in DECnet/OSI:\n         net:gwnode::gw%\"rfc822-address\"\n   An example in\
    \ Phase IV\n         NVXA23::SMTPGW::in%\"M.T.Rose@CS.UCLA.edu\"\n   and another\
    \ one in DECnet/OSI\n         OMNI:.FR.INET.LABOL.SMTPGW::in%\"M.T.Rose@CS.UCLA.edu\"\
    \n"
- title: 7.3. Mail-11 mapped in RFC822
  contents:
  - "7.3. Mail-11 mapped in RFC822\n   There are different styles in mapping a Mail-11\
    \ address in RFC822;\n   let's have a short summary of what was traditionally\
    \ done in some\n   implementations.\n"
- title: 7.3.1 Mail-11 address encoded in "Left Hand Side" (LHS) of RFC822
  contents:
  - "7.3.1 Mail-11 address encoded in \"Left Hand Side\" (LHS) of RFC822\n      address,\
    \ using \"%\" syntax or \"::\" syntax\n        route::node::localpart      (Phase\
    \ IV)\n   maps to\n        localpart%node%route@gw-domains\n   or\n         \"\
    route::node::localpart\"@gw-domains\n   Again, let's consider the DECnet/OSI case:\n\
    \      net:node-clns::localpart      (DECnet/OSI)\n   maps to\n        \"net:node-clns::localpart\"\
    @gw-domains\n   (note that \"%\" encoding does not exist for this case)\n   where\
    \ 'gw-domains' identify uniquely the Mail-11 / RFC822 gateway.\n"
- title: 7.3.2 Mail-11 address maps partly to LHS and partly to 'domain' part of
  contents:
  - "7.3.2 Mail-11 address maps partly to LHS and partly to 'domain' part of\n   \
    \   RFC822 address\n        node::localpart\n   maps to\n        localpart@node.gw-domains\n\
    \   note that this kind of mapping does not exists with DECnet/OSI Mail-\n   11\
    \ addresses.\n"
- title: 7.3.3 Mail-11 address is completely hidden by a mapping table
  contents:
  - "7.3.3 Mail-11 address is completely hidden by a mapping table\n   In this case\
    \ the resultant RFC822 address contains no trace at all of\n   the original Mail-11\
    \ address.\n"
- title: 7.4. Multiple conversions
  contents:
  - "7.4. Multiple conversions\n   Let us now examine briefly the possible situations\
    \ which involve\n   multiple conversions, having one protocol as a relay between\
    \ the\n   other two. This summary suggest some possible enhanced solutions to\n\
    \   avoid heavy and unduly mappings, but the 'step by step' approach,\n   considering\
    \ blindly one conversion as disjointed to the other, as\n   described in the previous\
    \ sections, can always be used.\n"
- title: 7.4.1. X.400 --> RFC822 --> Mail-11
  contents:
  - "7.4.1. X.400 --> RFC822 --> Mail-11\n   We apply the MIXER rules to the first\
    \ step, obtaining an RFC822\n   address which can be mapped in Mail-11 using the\
    \ 'f-address' field,\n   as described in section 7.2.\n   an example:\n      C=gb;\
    \ ADMD=Gold 400; PRMD=AC.UK; O=UCL; OU=cs; G=Jim; S=Clay;\n   maps accordingly\
    \ to MIXER to\n      Jim.Clay@cs.UCL.AC.UK\n   and finally becomes\n      SMTPGW::In%\"\
    Jim.Clay@cs.UCL.AC.UK\"\n   and finally becomes\n      SMTPGW::In%\"Jim.Clay@cs.UCL.AC.UK\"\
    \n   where 'SMTPGW' is the DECnet Phase IV node name of the machine\n   running\
    \ the RFC822 to Mail-11 gateway. Again, in case the machine\n   running the RFC822\
    \ to Mail-11 gateway is a DECnet/OSI one (like\n   OMNI:.US.VA.CENTRL) we would\
    \ get\n      OMNI:.US.VA.CENTRL::In%\"Jim.Clay@cs.UCL.AC.UK\"\n"
- title: 7.4.2. Mail-11 --> RFC822 --> X.400
  contents:
  - "7.4.2. Mail-11 --> RFC822 --> X.400\n   Some of the possible mapping described\
    \ in section 7.3 for Phase IV\n   apply to the Mail-11 address, hiding completely\
    \ its origin. The MIXER\n   apply on the last step.\n   an example:\n      RELAY::MYNODE::BETTY\n\
    \   could map into RFC822 as\n      BETTY%MYNODE@RELAY.dnet.gw1.it\n   and accordingly\
    \ to MIXER\n      C=it; A=garr; P=dom1; O=gw1; OU=RELAY; S=BETTY(p)MYNODE;\n \
    \  where 'dnet.gw1.it' is the domain of the machine running the Mail-11\n   to\
    \ RFC822 gateway.\n"
- title: 7.4.3. X.400 --> Mail-11 --> RFC822
  contents:
  - "7.4.3. X.400 --> Mail-11 --> RFC822\n   The X.400 address is stored into Mail-11\
    \ 'f-address' element as\n   described in sections 5.3 and 5.4; then if the Mail-11\
    \ to RFC822\n   gateway is able to understand the presence of a 'x400-text-address'\n\
    \   nto the Mail-11 address, then it applies MIXER to it, and encodes\n   header.\
    \ Otherwise it applies the rules described in 7.3.\n   an example:\n     C=gb;\
    \ ADMD=Gold 400; PRMD=AC.UK; O=UCL; OU=cs; G=Jim; S=Clay;\n   will be encoded\
    \ like\n     X4TDEC::gw%\"/C=gb/A=Gold 400/P=AC.UK/O=UCL/OU=cs/G=Jim/S=Clay\"\n\
    \   If the Mail-11 to RFC822 gateway recognise the x400-text-address,\n   then\
    \ the address becomes, accordingly to MIXER\n     Jim.Clay@cs.UCL.AC.UK\n   and\
    \ the following RFC822 header line is added\n     Received: from X4TDEC with DECnet\
    \ (Mail-11) on xx-xxx-xxxx.\n   Otherwise one of the dumb rules could produce\n\
    \    gw%\"/C=gb/A=Gold 400/P=AC.UK/O=UCL/OU=cs/G=Jim/S=Clay\"@X4TDEC.doms\n  \
    \ The case with DECnet/OSI Mail-11 is conceptually identical.\n"
- title: 7.4.4. RFC822 --> Mail-11 --> X.400
  contents:
  - "7.4.4. RFC822 --> Mail-11 --> X.400\n   The RFC822 address is encoded in Mail-11\
    \ f-address element as\n   described in sect. 7.2; then if the Mail-11 to X.400\
    \ gateway is able\n   to understand the presence of an 'RFC822-address' into the\
    \ Mail-11\n   address, then it applies MIXER to it, and encodes 'route' and applies\n\
    \   the rules described in 5.2 and 5.5.\n   an example:\n      Jim.Clay@cs.UCL.AC.UK\n\
    \   will be encoded like\n      SMTPGW::In%\"Jim.Clay@cs.UCL.AC.UK\"\n   If the\
    \ Mail-11 to X.400 gateway recognise the RFC822-address, then\n   the address\
    \ becomes, accordingly to MIXER\n      C=gb; ADMD=Gold 400; PRMD=AC.UK; O=UCL;\
    \ OU=cs; G=Jim; S=Clay;\n   and a 'trace' record is added into the X.400 P1 data,\
    \ stating that a\n   node named SMTPGW was crossed.\n   Otherwise dumb rule produces\n\
    \      C=it; ADMD=garr; DD.Dnet=HEP;\n      DD.Mail-11=SMTPGW::In(p)(q)Jim.Clay(a)cs.UCL.AC.UK(q)\n\
    \   Again, the case for DECnet/OSI Mail-11 addresses, is conceptually\n   identical.\n"
- title: 7.4.5. RFC822 --> X.400 --> Mail-11
  contents:
  - "7.4.5. RFC822 --> X.400 --> Mail-11\n   We apply MIXER to the first conversion,\
    \ obtaining an X.400 address.\n   Then the rules described in sections 5.3 and\
    \ 5.4 are used to store\n   the X.400 address as 'x400-text-address' into the\
    \ Mail-11.\n   an example:\n      Jim.Clay@cs.UCL.AC.UK\n   maps accordingly to\
    \ MIXER to\n      C=gb; ADMD=Gold 400; PRMD=AC.UK; O=UCL; OU=cs; G=Jim; S=Clay;\n\
    \   and finally becomes\n      SMTPGW::gw%\"/C=gb/A=Gold 400/P=AC.UK/O=UCL/OU=cs/G=Jim/S=Clay\"\
    \n   where 'SMTPGW' is the DECnet Phase IV node name of the machine\n   running\
    \ the X.400 to Mail-11 gateway. No differences also for\n   DECnet/OSI Mail-11\
    \ addresses.\n"
- title: 7.4.6. Mail-11 --> X.400 --> RFC822
  contents:
  - "7.4.6. Mail-11 --> X.400 --> RFC822\n   The Mail-11 address is encoded as specified\
    \ in sections 5.2 and 5.5;\n   then MIXER is used to convert the address in RFC822.\n\
    \   an example:\n      RELAY::MYNODE::BETTY\n   maps into X.400 as\n      C=it;\
    \ ADMD=garr; DD.Dnet=OMNI; DD.Mail-11=RELAY::MYNODE::BETTY;\n   and accordingly\
    \ to MIXER\n      \"/C=it/A=garr/DD.Dnet=OMNI/DD.Mail-11=RELAY::MYNODE::BETTY\"\
    @gw2.it\n   where 'gw2.it' is the domain of the machine running the MIXER\n  \
    \ gateway.\n"
- title: 7.4. Conclusions
  contents:
  - "7.4. Conclusions\n   A standard way of mapping Mail-11 addresses into RFC822\
    \ and vice\n   versa is feasible. A suggestion is thus made to unify all existing\n\
    \   and future implementations. It should be noted, however, that it\n   could\
    \ be impossible (in case of DECnet Phase IV) to specify in these\n   mappings\
    \ the name of the decnet community owning the encoded address,\n   as it can be\
    \ always done for X.400; thus the implementation of the\n   'intelligent' gateway\
    \ in this case could result impossible.\n"
- title: Chapter 8 - Notifications and Probes
  contents:
  - 'Chapter 8 - Notifications and Probes

    '
- title: 8.1. Overview
  contents:
  - "8.1. Overview\n   Mail-11 is a real time protocol, i.e. connection is established\n\
    \   directly to the destination node. This makes possible some level of\n   services\
    \ like verification of an address, and delivery confirmation.\n   However, Mail-11\
    \ User Agents ususally do not support notification or\n   probe services, whereas\
    \ it is possible to deliver the result of a\n   notification or a probe to Mail-11.\
    \ In this section we will briefly\n   describe the level of service which can\
    \ be obtained on these services\n   when Mail-11 is involved.\n"
- title: 8.2. Delivery of Notifications via Mail-11
  contents:
  - "8.2. Delivery of Notifications via Mail-11\n   As described in the previous chapters,\
    \ it is possible to transport\n   also in Mail-11 with minimal loss of information\
    \ complex information.\n   This also includes Notifications. In fact Notifications\
    \ in\n   RFC822/MIME are encoded as MIME multipart messages: there are thus no\n\
    \   problems in transporting these messages in Mail-11 as any other MIME\n   message.\
    \ Also X.400 Notifications can be transported and delivered\n   via Mail-11: MIXER\
    \ describes in fact how to convert them into MIME\n   multipart messages, taking\
    \ the problem back to the previous\n   situation.\n   Even when Mail-11 is just\
    \ an intermediate step for a Notification\n   message, this consideration just\
    \ enable support for the service.\n"
- title: 8.3. Generation of Notifications and Probes from Mail-11
  contents:
  - "8.3. Generation of Notifications and Probes from Mail-11\n   Although Mail-11\
    \ does not support Notification or Probe, the service\n   could also be supported\
    \ at gateway level. In fact, due to real time\n   nature of Mail-11 protocol,\
    \ the gateway could be reasonably sure that\n   delivery until the other end of\
    \ the Mail-11 path was successful or\n   unsuccessful (and try to verify the feasibility\
    \ of a delivery in case\n   a Probe as requested). However, Mail-11 could just\
    \ be an intermediate\n   relay service, vanishing the value of the information.\n\
    \   Implementation of this kind of service at gateway level is thus\n   questionable,\
    \ and if done, should clearly state the situation where\n   it was generated,\
    \ and the \"confidence level\" it conveys.\n"
- title: Security Considerations
  contents:
  - "Security Considerations\n   Security issues are not discussed in this memo.\n"
- title: Acknowledgements
  contents:
  - "Acknowledgements\n   I wish to thank all those people who read the first draft\
    \ and\n   contributed a lot with their useful suggestions to the revision of\n\
    \   this document, in particular RARE WG1 and IETF X.400 ops group\n   members\
    \ and S. E. Kille.\n   Thanks also to a number of implementors (among which Ned\
    \ Freed,\n   Julian Onions, The Hebrew University of Tel Aviv - Pine VMS support\n\
    \   team), to the HEPnet Mail Technical Committee and to all my Mail-11\n   \"\
    end users\", in particular Enzo Valente, for their suggestions and\n   wishes\
    \ which helped me really a lot to prepare this revision of\n   former RFC1405.\n"
- title: References
  contents:
  - "References\n   [1]  CCITT, \"CCITT Recommendations X.400-X.430\", Message Handling\n\
    \        Systems: Red Book, October 1984.\n   [2]  CCITT, \"CCITT Recommendations\
    \ X.400-X.420\", Message Handling\n        Systems: Blue Book, November 1988.\n\
    \   [3]  CCITT/ISO, \"CCITT Recommendations X.400/ ISO IS 10021-1,\"\n       \
    \ Message Handling: System and Service Overview , December 1992.\n   [4]  Crocker\
    \ D., \"Standard of the Format of ARPA Internet Text\n        Messages\", STD\
    \ 11, RFC 822, UDel, August 1982.\n   [5]  Kille, S., \"MIXER (Mime Internet X.400\
    \ Enhanced Relay):\n        Mapping between X.400 and RFC 822/MIME\", RFC 2156,\
    \ January\n        1998.\n   [6]  Alvestrand H., Kille S., Miles R., Rose M.,\
    \ and Thompson S.,\n        (MIME-MHS) \"Mapping between X.400 and RFC-822 Message\
    \ Bodies,\"\n        RFC 1495, Aug 1993.\n   [7]  Digital Equipment Corp., \"\
    VMS Mail Utility\".\n   [8]  Joiner Associates Inc., \"Jnet User's Manual\".\n\
    \   [9]  PMDF User's Guide.\n   [10] Alvestrand, H. \"Writing X.400 O/R Names\"\
    , UNINETT / RFC1685,\n        August 1994.\n   [11] CCITT, \"F.401 CCITT Message\
    \ Handling Services - Operations and\n        Definitions of Service - Naming\
    \ and Addressing for Public\n        Message Handling Services, Annex B (08/92)\"\
    , August 1992.\n"
- title: Author's Address
  contents:
  - "Author's Address\n   Claudio Allocchio\n   Sincrotrone Trieste\n   SS 14 Km 163.5\
    \ Basovizza\n   I 34012 Trieste\n   Italy\n   Phone:   +39 40 3758523\n   Fax:\
    \     +39 40 3758565\n   EMail:  Claudio.Allocchio@elettra.Trieste.it\n      \
    \     C=it; A=garr; P=Trieste; O=Elettra; S=Allocchio; G=Claudio;\n"
- title: Full Copyright Statement
  contents:
  - "Full Copyright Statement\n   Copyright (C) The Internet Society (1998).  All\
    \ Rights Reserved.\n   This document and translations of it may be copied and\
    \ furnished to\n   others, and derivative works that comment on or otherwise explain\
    \ it\n   or assist in its implementation may be prepared, copied, published\n\
    \   and distributed, in whole or in part, without restriction of any\n   kind,\
    \ provided that the above copyright notice and this paragraph are\n   included\
    \ on all such copies and derivative works.  However, this\n   document itself\
    \ may not be modified in any way, such as by removing\n   the copyright notice\
    \ or references to the Internet Society or other\n   Internet organizations, except\
    \ as needed for the purpose of\n   developing Internet standards in which case\
    \ the procedures for\n   copyrights defined in the Internet Standards process\
    \ must be\n   followed, or as required to translate it into languages other than\n\
    \   English.\n   The limited permissions granted above are perpetual and will\
    \ not be\n   revoked by the Internet Society or its successors or assigns.\n \
    \  This document and the information contained herein is provided on an\n   \"\
    AS IS\" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING\n   TASK FORCE\
    \ DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING\n   BUT NOT LIMITED\
    \ TO ANY WARRANTY THAT THE USE OF THE INFORMATION\n   HEREIN WILL NOT INFRINGE\
    \ ANY RIGHTS OR ANY IMPLIED WARRANTIES OF\n   MERCHANTABILITY OR FITNESS FOR A\
    \ PARTICULAR PURPOSE.\n"
