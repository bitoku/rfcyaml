- title: __initial_text__
  contents:
  - '                        Router Renumbering Guide

    '
- title: Status of this Memo
  contents:
  - "Status of this Memo\n   This memo provides information for the Internet community.\
    \  This memo\n   does not specify an Internet standard of any kind.  Distribution\
    \ of\n   this memo is unlimited.\n"
- title: Abstract
  contents:
  - "Abstract\n   IP addresses currently used by organizations are likely to undergo\n\
    \   changes in the near to moderate term.  Change can become necessary\n   for\
    \ a variety of reasons, including enterprise reorganization,\n   physical moves\
    \ of equipment, new strategic relationships, changes in\n   Internet Service Providers\
    \ (ISP), new applications, and the needs of\n   global Internet connectivity.\
    \  Good IP address management may in\n   general simplify continuing system administration;\
    \ a good renumbering\n   plan is also a good numbering plan.    Most actions taken\
    \ to ease\n   future renumbering will ease routine network administration.\n \
    \  Routers are the components that interconnect parts of the IP address\n   space\
    \ identified by unique prefixes.  Obviously, they will be\n   impacted by renumbering.\
    \  Other interconnection devices, such as\n   bridges, layer 2 switches (i.e.,\
    \ specialized bridges), and ATM\n   switches may be affected by renumbering. \
    \ The interactions of these\n   lower-layer interconnection devices with routers\
    \ must be considered\n   as part of a renumbering effort.\n   Routers interact\
    \ with numerous network infrastructure servers,\n   including DNS and SNMP.  These\
    \ interactions, not just the pure\n   addressing and routing structure, must be\
    \ considered as part of\n   router renumbering.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1.   Introduction . . . . . . . . . . . . . . . . . . .\
    \ . . . . .  2\n   2.   Disclaimer . . . . . . . . . . . . . . . . . . . . . .\
    \ . . .  3\n   3.   Motivations for Renumbering  . . . . . . . . . . . . . . .\
    \ .  3\n   4.   Numbering and Renumbering. . . . . . . . . . . . . . . . . . \
    \ 9\n   5.   Moving toward a Renumbering-Friendly Enterprise. . . . . . . 13\n\
    \   6.   Potential Pitfalls in Router Renumbering.  .  .  . . . . . . 20\n   7.\
    \   Tools and Methods for Renumbering  . .  .  . . . . . . . . . 25\n   8.   Router\
    \ Identifiers . . . . . . . . . . . . . . . . . . . . . 29\n   9.   Filtering\
    \ and Access Control . . . . . . . . . . . . . . . . 35\n  10.   Interior Routing\
    \ . . . . . . . . . . . . . . . . . . . . . . 37\n  11.   Exterior Routing . .\
    \ . . . . . . . . . . . . . . . . . . . . 39\n  12.   Network Management . . .\
    \ . . . . . . . . . . . . . . . . . . 41\n  13.   IP and Protocol Encapsulation\
    \  . . . . . . . . . . . . . . . 43\n  14.   Security Considerations. . . . .\
    \ . . . . . . . . . . . . . . 44\n  15.   Planning and Implementing the Renumbering\
    \  . . . . . . . . . 44\n  16.   Acknowledgements . . . . . . . . . . . . . .\
    \ . . . . . . . . 46\n  17.   References . . . . . . . . . . . . . . . . . . .\
    \ . . . . . . 47\n  18.   Author's Address . . . . . . . . . . . . . . . . . .\
    \ . . . . 48\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   Organizations can decide to renumber part or all of their\
    \ IP address\n   space for a variety of reasons.  Overall motivations for renumbering\n\
    \   are discussed in [RFC2071].  This document deals with the router-\n   related\
    \ aspects of a renumbering effort, once the decision to\n   renumber has been\
    \ made.\n   A renumbering effort must be well-planned if it is to be successful.\n\
    \   This document deals with planning and implementation guidelines for\n   the\
    \ interconnection devices of an enterprise. Of these devices,\n   routers have\
    \ the clearest association with the IP numbering plan.\n   Planning begins with\
    \ understanding the problem to be solved.  Such\n   understanding includes both\
    \ the motivation for renumbering and the\n   technical issues involved in renumbering.\n\
    \      1.  Begin with a short and clear statement of the reason to\n         \
    \ renumber.  Section 3  of this document discusses common\n          reasons.\n\
    \      2.  Understand the principles of numbering in the present and\n       \
    \   planned environments.  Section 4 reviews numbering and\n          suggests\
    \ a method for describing the scope of renumbering.\n      3.  Before the actual\
    \ renumbering, it can be useful to evolve\n          the current environment and\
    \ current numbering to a more\n          \"renumbering-friendly\" system.  Section\
    \ 5 discusses ways to\n          introduce renumbering friendliness into current\
    \ systems.\n      4.  Be aware of potential pitfalls.  These are discussed in\n\
    \          Section 6.\n      5.  Identify potential requirements for tools, discussed\
    \ in\n          Section 7.\n      6.  Evaluate the specific router mechanisms\
    \ that will be affected\n          by renumbering.  See Sections 8 through 13.\n\
    \      7.  Set up a specific transition plan framework.  Guidelines\n        \
    \  for such planning are in Section 15.\n   When trying to understand the interactions\
    \ of renumbering on routers,\n   remember there different aspects to the problem,\
    \ depending on the\n   scope of the renumbering involved.  Remember that even\
    \ an\n   enterprise-wide renumbering probably will not affect all IP addresses\n\
    \   visible within the enterprise, since some addresses (e.g., Internet\n   service\
    \ providers, external business partners) are outside the\n   address space under\
    \ the control of the enterprise.\n"
- title: 2. Disclaimer
  contents:
  - "2. Disclaimer\n   The main part of this document is intended to be vendor-independent.\n\
    \   Not all features discussed, of course, have been implemented on all\n   routers.\
    \    This document should not be used as a general comparison\n   of the richness\
    \ of features of  different implementations.\n   References here are only to those\
    \ features affected by renumbering.\n   Some illustrative examples may be used\
    \ that cite vendor-specific\n   characteristics.  These examples do not necessarily\
    \ reflect the\n   current status of products.\n"
- title: 3.  Motivations for Renumbering
  contents:
  - "3.  Motivations for Renumbering\n   Reasons to renumber can be technological,\
    \ organizational, or both.\n   Technological reasons fall into several broad categories\
    \ discussed\n   below.  Just as there can be both technological and organizational\n\
    \   motivations for renumbering [RFC2071], there can be multiple\n   technological\
    \ reasons.\n   There may not be a clear line between organizational and technical\n\
    \   reasons for renumbering.  While networks have a charm and beauty all\n   their\
    \ own, the organizational reasons should be defined first in\n   order to justify\
    \ the budget for the technical renumbering.  There\n   also may be pure technnical\
    \ reasons to renumber, such as changes in\n   technology (e.g., from bridging\
    \ to routing).\n   While this document is titled \"Router Renumbering Guide,\"\
    \ it\n   recognizes that renumbering may be required due to the initial\n   installation\
    \ of routers in a bridged legacy network. Organizations\n   may have had an adequate\
    \ bridging solution that did not scale with\n   growth.  Some organizations could\
    \ not able to move to routers until\n   router forwarding performance improved\
    \ [Carpenter] to be comparable\n   to bridges.\n   Other considerations include\
    \ compliance with routing outside the\n   organization.  Routing issues here are\
    \ primarily those of the global\n   Internet, but may also involve bilateral private\
    \ links to other\n   enterprises.\n   Certain new transmission technologies have\
    \ tended to redefine the\n   basic notion of an IP subnet.  The numbering plan\
    \ needs to work with\n   these new ideas.  Legacy bridged networks and leading-edge\
    \ workgroup\n   switched networks may very well need changes in the subnetting\n\
    \   structure.  Renumbering needs may also develop with the introduction\n   of\
    \ new WAN technologies, especially nonbroadcast multiaccess (NBMA)\n   services\
    \ such as frame relay.  Other WAN technologies, dialup media\n   using modems\
    \ or ISDN, also may have new routing and numbering\n   requirements.  Switched\
    \ virtual circuit services such as ATM, X.25,\n   or switched frame relay also\
    \ interact with routing and addressing.\n"
- title: 3.1  Internet Global Routing
  contents:
  - "3.1  Internet Global Routing\n   Many discussions of renumbering emphasize interactions\
    \ among\n   organizations' numbering plans and those of the global Internet\n\
    \   [RFC1900].  There can be equally strong motivations for renumbering\n   in\
    \ organizations that never connect to the global Internet.\n   According to RFC1900,\
    \ \"Unless and until viable alternatives are\n   developed, extended deployment\
    \ of Classless Inter-Domain Routing\n   (CIDR) is vital to keep the Internet routing\
    \ system alive and to\n   maintain continuous uninterrupted growth of the Internet....To\n\
    \   contain the growth of routing information, whenever such an\n   organization\
    \ changes to a new service provider, the organization's\n   addresses will have\
    \ to change.\n   Occasionally, service providers themselves may have to change\
    \ to a\n   new and larger block of address space. In either of these cases, to\n\
    \   contain the growth of routing information, the organizations\n   concerned\
    \ would need to renumber.... If the organization does not\n   renumber, then some\
    \ of the potential consequences may include (a)\n   limited (less than Internet-wide)\
    \ IP connectivity, or (b) extra cost\n   to offset the overhead associated with\
    \ the organization's routing\n   information that Internet Service Providers have\
    \ to maintain, or\n   both.\"\n"
- title: 3.2  Bridge Limitations; Internal Use of LAN Switching
  contents:
  - "3.2  Bridge Limitations; Internal Use of LAN Switching\n   Introducing workgroup\
    \ switches may introduce subtle renumbering\n   needs. Fundamentally, workgroup\
    \ switches are specialized, high-\n   performance bridges, which make their main\
    \ forwarding decisions\n   based on Layer 2 (MAC) address information.   Even\
    \ so, they rarely\n   are independent of Layer 3 (IP) address structure.  Pure\
    \ Layer 2\n   switching has a \"flat\" address space that will need to be renumbered\n\
    \   into a hierarchical, subnetted space consistent with routing.\n   Traditional\
    \ bridged networks share many of the problems of workgroup\n   switches,  but\
    \ have additional performance problems when bridged\n   connectivity extends across\
    \ slow WAN links.\n   Introducting single switches or stacks of switches may not\
    \ have\n   significant impact on addressing, as long as it is remembered that\n\
    \   each system of switches is a single broadcast domain.  Each broadcast\n  \
    \ domain should map to a single IP subnet.\n   Virtual LANs (VLAN) further extend\
    \ the complexity of the role of\n   workgroup switches.  It is generally true\
    \ that moving an end station\n   from one switch port to another within the same\
    \ \"color\" VLAN will not\n   cause major changes in addressing. Many discussions\
    \ of this\n   technology do not make it clear that moving the same end station\n\
    \   between different colors will move the end station into another IP\n   subnet,\
    \ requiring a significant address change.\n   Switches are commonly managed by\
    \ SNMP applications.  These network\n   management applications communicate with\
    \ managed devices using IP.\n   Even if the switch does not do IP forwarding,\
    \ it will itself need IP\n   addresses if it is to be managed.  Also, if the clients\
    \ and servers\n   in the workgroup are managed by SNMP, they will need IP addresses.\n\
    \   The workgroup, therefore, will need to appear as one or more IP\n   subnets.\n\
    \   Increasingly, internetworking products are not purely Layer 2 or\n   Layer\
    \ 3 devices.  A workgroup switch product often includes a router\n   function,\
    \ so the numbering plan must support both flat Layer 2 and\n   hierarchical Layer\
    \ 3 addresses.\n"
- title: 3.3  Internal Use of NBMA Cloud Services
  contents:
  - "3.3  Internal Use of NBMA Cloud Services\n   \"Cloud\" services such as frame\
    \ relay often are more economical than\n   traditional services.  At first glance,\
    \ when converting existing\n   enterprise networks to NBMA, it might appear that\
    \ the existing subnet\n   structure should be preserved, but this is often not\
    \ the case.\n   Many organizations  often  began by treating the \"cloud\" as\
    \ a single\n   subnet, but experience has shown it is often better to treat the\n\
    \   individual virtual circuits as separate subnets.  When the individual\n  \
    \ point-to-point VCs become separate subnets, efficient address\n   utilization\
    \ requires the use of /30 prefixes for these subnets.  This\n   typically means\
    \ the addressing and routing plan must support multiple\n   prefix lengths, establishing\
    \ one or more prefix lengths for LAN media\n   with more than two hosts, and subdividing\
    \ one or more of these\n   shorter prefixes into longer /30 prefixes that minimize\
    \ address loss.\n   There are alternative ways to configure routing over NBMA,\
    \ using\n   special mechanisms to exploit or simulate point-to-multipoint VCs.\n\
    \   These often have a significant performance impact on the router, and\n   may\
    \ be less reliable because a single point of failure is created.\n   Mechanics\
    \ of these alternatives are discussed later in this section,\n   but the motivations\
    \ for such alternatives tend to include:\n      1.  A desire not to use VLSM.\
    \  This is often founded in fear\n          rather than technology.\n      2.\
    \  Router implementation issues that limit the number of subnets\n          or\
    \ interfaces a given router can support.\n      3.  An inherently point-to-multipoint\
    \ application (e.g., remote\n          hosts to a data center).  In such cases,\
    \ some of the\n          limitations are due to the dynamic routing protocol in\
    \ use.\n          In such \"star\" applications, static routing may actually be\n\
    \          preferable from performance and flexibility standpoints,\n        \
    \  since it does not produce routing traffic and is unaffected\n          by split\
    \ horizon.\n   To understand how use of NBMA services affects the addressing\n\
    \   structure and routers, it is worth reviewing what would appear to be\n   very\
    \ basic concepts of IP subnets.  The traditional view is that a\n   single subnet\
    \ is associated with a single physical medium.  All hosts\n   physically connected\
    \ to this medium are assumed to be able to reach\n   all other hosts on the same\
    \ medium, using data link level services.\n   These services are medium specific:\
    \  hosts connected to a LAN medium\n   can broadcast to one another, while hosts\
    \ connected to a point-to-\n   point line simply need to transmit to the other\
    \ end.\n   When one host desires to transmit to another, it first determines if\n\
    \   the destination is local or remote.  A local destination is on the\n   same\
    \ subnet and assumed to be reachable through data link services.\n   A remote\
    \ destination is on a different subnet, and it is assumed that\n   router intervention\
    \ is needed to reach it.\n   The first NBMA problem comes up when a single subnet\
    \ is implemented\n   over an NBMA service.  Frame Relay provides single virtual\
    \ circuits\n   between hosts that have connectivity.  It is quite common to design\n\
    \   Frame Relay services as partial meshes, where not all hosts have VCs\n   to\
    \ all others.  When the set of hosts in a partial mesh is in a\n   single IP subnet,\
    \ partial mesh violates the local model of full\n   connectivity.  Even when there\
    \ is full meshing, a pessimistic but\n   reasonable operational model must consider\
    \ that individual VCs do\n   fail, and full connectivity may be lost transiently.\n\
    \   There are several ways to deal with this violation, each with their\n   own\
    \ limitations.  If a specific \"central\" host has connectivity to N\n   all other\
    \ hosts, that central host can replicate all frames it\n   receives from one host\
    \ onto outgoing VCs connecting it with the (N-1)\n   other hosts in the subnet.\
    \  Such replication usually causes an\n   appreciable CPU load in the replicating\
    \ router.   The replicating\n   router also is a single point of failure for the\
    \ subnet.  This method\n   does not scale well when extended to fuller meshes\
    \ within the subnet.\n   In a routing protocol, such as OSPF, that has a concept\
    \ of designated\n   routers, explicit configuration usually is needed.  Other\
    \ problems in\n   using a meshed subnet is that all VCs may not have the same\n\
    \   performance, but the router cannot prefer individual paths within the\n  \
    \ subnet.\n   One of the simplest methods is not to attempt to emulate a broadcast\n\
    \   medium, but simply to treat each VC as a separate subnet.  This will\n   cause\
    \ a need for renumbering.  Efficient use of the address space\n   dictates a /30\
    \ prefix be used for the per-VC subnets.  Such a prefix\n   often needs VLSM support\
    \ in the routers.\n"
- title: 3.4  Expansion of Dialup Services
  contents:
  - "3.4  Expansion of Dialup Services\n   Dialup services, especially public Internet\
    \ access providers, are\n   undergoing explosive growth.   This success represents\
    \ a particular\n   drain on the available address space, especially with a commonly\
    \ used\n   practice of assigning unique addresses to each customer.\n   In this\
    \ practice, individual users announce their address to the\n   access server using\
    \ PPP's IP configuration option [RFC1332].  The\n   server may validate the proposed\
    \ address against some user\n   identifier, or simply make the address active\
    \ in a subnet to which\n   the access server (or set of bridged access servers)\
    \ belongs.\n   These access server functions may be part of the software of a\n\
    \   \"router\" and thus are within the scope of this Guide.\n   The preferred\
    \ technique [Hubbard] is to allocate dynamic addresses to\n   the user from a\
    \ pool of addresses available to the access server.\n   Various mechanisms are\
    \ used actually to do this assignment, and are\n   discussed in Section 5.5.\n"
- title: 3.5  Internal Use of Switched Virtual Circuit Services
  contents:
  - "3.5  Internal Use of Switched Virtual Circuit Services\n   Services such as ATM\
    \ virtual circuits, switched frame relay, etc.,\n   present challenges not considered\
    \ in the original IP design.  The\n   basic IP decision in forwarding a packet\
    \ is whether the destination\n   is local or remote, in relation to the source\
    \ host's subnet.  Address\n   resolution mechanisms are used to find the medium\
    \ address of the\n   destination in the case of local destinations, or to find\
    \ the medium\n   address of the router in the case of remote routers.\n   In these\
    \ new services, there are cases where it is far more effective\n   to \"cut-through\"\
    \ a new virtual circuit to the destination.  If the\n   destination is on a different\
    \ subnet than the source, the cut-through\n   typically is to the egress router\
    \ that serves the destination subnet.\n   The advantage of cut-through in such\
    \ a case is that it avoids the\n   latency of multiple router hops, and reduces\
    \ load on \"backbone\"\n   routers.  The cut-through decision is usually made\
    \ by an entry router\n   that is aware of both the routed and switched environments.\n\
    \   This entry router communicates with a address resolution server using\n  \
    \ the Next Hop Resolution Protocol (NHRP) [Cansever] [Katz].  This\n   server\
    \ maps the destination network address to either a next-hop\n   router (where\
    \ cut-through is not appropriate) or to an egress router\n   reached over the\
    \ switched service.  Obviously, the data base in such\n   a server may be affected\
    \ by renumbering.  Clients may have a hard-\n   coded address of the server, which\
    \ again may need to change.\n   While the NHRP work is in progress at the time\
    \ of this writing,\n   commercial implementations based on drafts of the protocol\
    \ standard\n   are in use.\n"
- title: 4.  Numbering and Renumbering
  contents:
  - "4.  Numbering and Renumbering\n   What is the role of any numbering plan?  To\
    \ understand the general\n   problem, it can be worthwhile to review the basic\
    \ principles of\n   routers.  While most readers will have a good intuitive sense\
    \ of\n   this, the principles have refined in the current usage of IP.\n   A router\
    \ receives an inbound IP datagram on one of its interfaces,\n   and examines some\
    \ number of bits of the destination address.  The\n   sequence of bits examined\
    \ by the router always begin at the left of\n   the address (i.e., the most significant\
    \ bit).  We call this sequence\n   a \"prefix.\"\n   Routing decisions are made\
    \ on totalPrefix bits, which start at the\n   leftmost (i.e., most significant)\
    \ bit position of the IP address.\n   Those totalPrefix bits may be completely\
    \ under the control of the\n   enterprise (e.g., if they are in the private address\
    \ space), or the\n   enterprise may control the lowOrderPrefix bits while the\n\
    \   highOrderPrefix bits are assigned by an outside organization.\n   The router\
    \ looks up the prefix in its routing table (formally called\n   a Forwarding Information\
    \ Base).  If the prefix is in the routing\n   table, the router then selects an\
    \ outgoing interface that will take\n   the routed packet to the next hop IP address\
    \ in the end-to-end route.\n   If the prefix cannot be found in the routing table,\
    \ the router\n   returns an ICMP Destination Unreachable message to the source\
    \ address\n   in the received datagram.\n   Assuming the prefix is found in the\
    \ routing table, the router then\n   transmits the datagram through the indicated\
    \ outgoing interface. If\n   multicast routing is in effect, the datagram may\
    \ be copied and sent\n   out multiple outgoing interfaces.\n"
- title: 4.1  Categorizing the topology
  contents:
  - "4.1  Categorizing the topology\n   From the router renumbering perspective, renumbering\
    \ impact is apt to\n   be greatest in highly connected parts of \"backbones,\"\
    \ and least in\n   \"stub\" parts of the routing domain that have a single route\
    \ to the\n   backbone.\n                         Global Internet\n           \
    \                 ^\n                            |\n                         \
    \   |\n                          Back1-------------------Back2\n             \
    \               |                       |\n                      +-----------+\
    \              +----------+\n                      |           |             \
    \ |          |\n                    Reg1.1------Reg1.2          Reg2.1-----Reg2.2\n\
    \                    |           |               |          |\n              \
    \      |           |               |          |\n                  Branch    \
    \   Branch         Branch      Branch\n                  1.1.1 to     1.2.1 to\
    \       2.1.1 to    2.2.1 to\n                  1.1.N        1.2.N          2.1.N\
    \       2.2.N\n   In this drawing, assume Back1 and Back2 exchange full routes;\
    \ Back1\n   is also the exterior router.  Regional routers (Reg) exchange full\n\
    \   routes with one another and aggregate addresses to the backbone\n   routers.\
    \  Branch routers default to regional routers.\n   From a pure topological standpoint,\
    \ the higher in the hierarchy, the\n   greater are apt to be the effects of renumbering.\
    \  This is a first\n   approximation to scoping the task, assuming addresses have\
    \ been\n   assigned systematically.  Systematic address space is rarely the case\n\
    \   in legacy networks.\n"
- title: 4.2  Categorizing the address space
  contents:
  - "4.2  Categorizing the address space\n   An inventory of present and planned address\
    \ space is a prerequisite\n   to successful renumbering.  Begin by identifying\
    \ the prefixes in or\n   planned into your network, and whether they have been\
    \ assigned in a\n   systematic and hierarchical manner.\n       +--Unaffected\
    \ by renumbering [A]\n       |\n       |\n       +--Existing prefixes to be renumbered\n\
    \       |  |\n       |  |\n       |  +----To be directly renumbered on \"flag\
    \ day\"\n       |  |\n       |  |\n       |  +----Initially to be renumbered to\
    \ temporary address\n       |\n       |\n       +--Existing prefixes to be retired\n\
    \       |\n       |\n       +--Planned new prefixes\n          |\n          |\n\
    \          +---totalPrefix change, no length change\n          |\n          |\n\
    \          +---highOrderPart change only, no length change\n          |\n    \
    \      |\n          +---lowOrderPart change only, no length change\n         \
    \ |\n          |\n          +---highOrderPart change only, high length change\n\
    \          |\n          |\n          +---lowOrderPart change only, low length\
    \ change\n          |\n          |\n          +---totalPrefix change only, changes\
    \ in high and low\n          |\n          |\n          +---highOrderPart change\
    \ only, no length change\n   Ideally, a given prefix should either be \"unchanged,\"\
    \ \"old,\" or\n   \"new.\" Renumbering will be easiest when each \"old\" prefix\
    \ can be\n   mapped to a single \"new\" prefix.\n   Unfortunately, the ideal often\
    \ will not be attainable.  It may be\n   necessary to run parts of the new and\
    \ old address spaces in parallel.\n   Renumbering applies first to prefixes and\
    \ then to host numbers to the\n   right of the prefix.  To understand the scope\
    \ of renumbering, it is\n   essential to:\n      1.  Identify the prefixes (and\
    \ possibly host fields) potentially\n          affected by the renumbering operation.\n\
    \      2.  Identify the authority that controls the values of the prefix,\n  \
    \        or part of the prefix, affected by renumbering.\n   In a given enterprise,\
    \ prefixes may be present that will be under the\n   complete or partial control\
    \ of the enterprise, as well as totally\n   outside the control of the enterprise.\
    \  Let us review the principles\n   of control over address space.\n   More commonly,\
    \ the most significant bits of the prefix are assigned\n   to the enterprise by\
    \ an address registry (e.g., InterNIC, RIPE, or\n   APNIC) or by an Internet Service\
    \ Provider (ISP).  This assignment of\n   a value in the most significant bit\
    \ positions historically has been\n   called a \"network number,\" when the assigned\
    \ high-order part is 8,\n   16, or 24 bits long.  More recent usage does not limit\
    \ the assigned\n   part to a byte boundary.  The preferred term for the assigned\
    \ part is\n   a \"CIDR block\" of a certain number of bits [RFC1518].\n   The\
    \ enterprise then extends the prefix to the right, creating\n   \"subnets.\" \
    \ It is critical to realize that routers make routing\n   decisions based on the\
    \ total prefix of interest, regardless of who\n   controls which bits.  In other\
    \ words, the router really doesn't know\n   or care about subnet boundaries.\n\
    \   The way to think about subnetting is that it creates a longer prefix.\n  \
    \ Even before CIDR, we collapsed multiple subnets into a single network\n   number\
    \ advertisement sent to external routers.  In a more general\n   way, we now think\
    \ of extending the prefix to the right as subnetting\n   and collapsing it to\
    \ the left as supernetting, aggregating, or\n   summarizing.  Depending on the\
    \ usage of subnetting or aggregation,\n   different prefix lengths are significant\
    \ at different router\n   interfaces.\n"
- title: 4.3  Renumbering Scope
  contents:
  - "4.3  Renumbering Scope\n   Prefixes may be taken from the private address space\
    \ [RFC1918] that\n   is not routable on the global Internet.  Since these addresses\
    \ are\n   not routable on the global Internet, changing parts of private\n   address\
    \ space prefixes is an enterprise-local decision.\n   If a prefix is totally outside\
    \ the control of the enterprise, it is\n   external, and will be minimally affected\
    \ by routing.  Potential\n   interactions of external prefixes with enterprise\
    \ renumbering\n   include:\n      1)  Inadvertent alteration or deletion  of external\
    \ addresses\n          as part of router reconfiguration.\n      2)  Loss of connectivity\
    \ to application servers inside the\n          enterprise, because the external\
    \ client no longer knows\n          the internal address of the server.\n    \
    \  3)  DNS/BGP\n      4)  Security\n   Prefixes partially under the control of\
    \ the enterprise may change.\n   The scope of this will vary depending on whether\
    \ only the externally\n   controlled part of the prefix changes, or if part of\
    \ the internally\n   controlled part is to be renumbered.  If the length of either\
    \ the\n   high-order or low-order parts change, the process becomes more\n   complex.\n\
    \   High-order-part-only renumbering is most common when an organization\n   changes\
    \ ISPs, and needs to renumber into the new provider's space.\n   The old prefix\
    \ may have been assigned to the enterprise but will no\n   longer be used for\
    \ global routing, or the old prefix may have been\n   assigned to the previous\
    \ provider.  Note that administrative\n   procedures may be necessary to return\
    \ the previous prefix, although\n   this usually will be done by the previous\
    \ provider.  There often will\n   need to be a period of coexistence between the\
    \ old and new prefixes.\n   Low-order-part-only renumbering can occur when an\
    \ enterprise modifies\n   its internal routing structure, and the changes only\
    \ affect the\n   internal subnet structure of the enterprise network. This is\
    \ typical\n   of efforts involved in increasing the number of available subnets\n\
    \   (e.g., for more point-to-point media) or increasing the number of\n   hosts\
    \ on a medium (e.g., in greater use of workgroup switches).\n   Both the high-order\
    \ and low-order parts may change.  This might\n   happen when the enterprise changes\
    \ to a new ISP, who assigns address\n   space from a CIDR block rather than a\
    \ classful network previously\n   used.  With a different high-order prefix length,\
    \ the enterprise\n   might be forced to change its subnet structure.\n"
- title: 5. Moving toward a Renumbering-Friendly Enterprise
  contents:
  - "5. Moving toward a Renumbering-Friendly Enterprise\n   Renumbering affects both\
    \ the configuration of specific router\n   \"boxes,\" and the overall system of\
    \ routers in a routing domain.  The\n   emphasis of this section is on making\
    \ the current enterprise more\n   renumbering-friendly, before any prefixes are\
    \ actually changed.\n   Renumbering will have the least impact when the minimum\
    \ number of\n   reconfiguration options are needed.  When planning renumbering\
    \ on\n   routers, consider that many existing configurations may contain\n   hard-coded\
    \ IP addresses that may not be necessary, even if\n   renumbering were not to\
    \ occur.  Part of a router renumbering effort\n   should include, wherever possible,\
    \ replacing router mechanisms based\n   on hard-coded addresses with more flexible\
    \ mechanisms.\n   Renumbering will also generally be easier if the configuration\n\
    \   changes can be made offline on appropriate servers, and then\n   downloaded\
    \ to the router if the router implementation permits.\n"
- title: 5.1  Default Routes
  contents:
  - "5.1  Default Routes\n   A well-known method for reducing the amount of reference\
    \ by one\n   router to other routers is to use a default route to a higher-level,\n\
    \   better-connected router.  This assumes a hierarchical network design,\n  \
    \ which is generally desirable in the interest of scaling.\n   Default routes\
    \ are most appropriate for stub routers inside a routing\n   domain, and for boundary\
    \ routers that connect the domain to a single\n   ISP.\n"
- title: 5.2  Route Summarization and CIDR
  contents:
  - "5.2  Route Summarization and CIDR\n   When routes need to be advertised, summarize\
    \ as much as is practical.\n   Summarization is most effective when address prefixes\
    \ have been\n   assigned in a consistent and contiguous manner, which is often\
    \ not\n   the case in legacy networks.  Nevertheless, there is less to change\n\
    \   when we can refer to blocks of prefixes.\n   Not all routing mechanisms support\
    \ general summarization.  Interior\n   routing mechanisms that do include RIPv2,\
    \ OSPF, EIGRP, IS-IS, and\n   systems of static routes.  RIPv1 and IGRP do support\
    \ classful\n   summarization (i.e., at Class A/B/C network boundaries only).\n\
    \   If existing addresses have been assigned hierarchically, it may be\n   possible\
    \ to renumber below the level of summarization, while hiding\n   the summarization\
    \ to the rest of the network.  In other words, if all\n   the address bits being\
    \ renumbered are to the right of the summarized\n   prefix length, the change\
    \ can be transparent to the overall routing\n   system.\n   Even when effective\
    \ summarization is possible to hide the details of\n   routing, DNS, filters,\
    \ and other services may be affected by any\n   renumbering.\n"
- title: 5.3  Server References in Routers
  contents:
  - "5.3  Server References in Routers\n   Routers commonly communicate with an assortment\
    \ of network management\n   and other infrastructural servers.  Examples of these\
    \ servers are\n   given in the \"Network Management\" section below.  DNS itself,\n\
    \   however, may be an important exception.\n   Wherever possible, servers should\
    \ be referenced by DNS name rather\n   than by IP address.  If a specific router\
    \ implementation only\n   supports explicit address  references, this should be\
    \ documented as\n   part of the renumbering  plan.\n   Routers may also need to\
    \  forward end host broadcasts to other\n   infrastructure services (e.g., DNS,\
    \ DHCP/BOOTP).  Configurations that\n   do this are likely to contain hard-coded\
    \ IP addresses of the\n   destination hosts or their subnets, which will need\
    \ to be changed as\n   part of renumbering.\n"
- title: 5.4  DNS and Router Renumbering
  contents:
  - "5.4  DNS and Router Renumbering\n   The Domain Name Service is a powerful tool\
    \ in any renumbering effort,\n   and can help routers as well as end hosts.  If\
    \ traceroute displays\n   DNS names rather than IP addresses, certain debugging\
    \ options can be\n   transparent through the address transition.\n   Be aware\
    \ that dynamically learned names and addresses may be cached\n   in router tables.\
    \  For a router to learn changes in address to name\n   correspondence, it may\
    \ be necessary to restart the router or\n   explicitly clear the cache.\n   Alternatively,\
    \ router configuration files may contain hard-coded\n   address/name correspondences\
    \ that will not be affected by a change in\n   the DNS server.\n   Different DNS\
    \ databases are affected by renumbering.  For example,\n   the enterprise usually\
    \ controls its own \"forward\" data base, but the\n   reverse mapping data base\
    \ may be maintained by its ISP.  This can\n   require coordination when changing\
    \ providers.\n   Commonly, router renumbering goes through a transition period.\n\
    \   During this transition, old and new addresses may coexist in the\n   routing\
    \ system.  Coexistence over a significant period of time is\n   especially likely\
    \ for DNS references to addresses that are known in\n   the global Internet [deGroot].\
    \  Various DNS servers throughout the\n   world may cache addresses for periods\
    \ of days.\n   If, for example, a given router interface may have a coexisting\
    \ new\n   and old address, it can be appropriate to introduce the new address\n\
    \   as an additional A record for the new address.\n   DNS RR statements can end\
    \ with a semicolon, indicating the rest of\n   the line is a comment.  This can\
    \ be used as the basis of tools to\n   renumber DNS names for router addresses,\
    \ by putting a comment (e.g.,\n   \";newaddr\") at the end of the A statements\
    \ for the new addresses.  At\n   an appropriate time, a script could generate\
    \ a new zone file in which\n   the new addresses become the primary definitions\
    \ on A records, and\n   the old addresses could become appropriately commented\
    \ A records.  At\n   a later time, these commented entries could be removed.\n\
    \   Care should be taken to assure that PTR reverse mapping entries are\n   defined\
    \ for new addresses, because some router vendor tools depend on\n   reverse mapping.\n"
- title: 5.5  Dynamic Addressing
  contents:
  - "5.5  Dynamic Addressing\n   Renumbering is easiest when addresses need to be\
    \ changed in the least\n   possible number of places.  Dynamic address assignment\
    \ is especially\n   attractive for end hosts, and routers may play a key role\
    \ in this\n   process.  Routers may act as servers and actually assign addresses,\n\
    \   or may be responsible for forwarding end host address assignment\n   requests\
    \ to address assignment servers.\n   The most common use of dynamic address assignment\
    \ is to provide IP\n   addresses to end systems.  Dynamic address assignment,\
    \ however, is\n   also used to assign IP addresses to router interfaces.  An address\n\
    \   assignment server may assign an IP address to a router either in the\n   usual\
    \ DHCP way, based on a MAC address in the router, or simply based\n   on the physical\
    \ connectivity of the new router.  In other words, any\n   router connected on\
    \ a specific interface of the configuring router\n   would be assigned the same\
    \ IP address.\n"
- title: 5.5.1 Router Roles in LAN-based DHCP Address Assignment
  contents:
  - "5.5.1 Router Roles in LAN-based DHCP Address Assignment\n   End hosts attached\
    \ to LANs often obtain address assignments from\n   BOOTP or DHCP servers.  If\
    \ the server is not on the same medium as\n   the end hosts, routers may need\
    \ to play a role in establishing\n   connectivity between the end host and the\
    \ address server.\n   If the client is not on the same medium as the address assignment\n\
    \   server, routers either must act as address assignment services, or\n   forward\
    \ limited broadcasts to the location of appropriate servers.\n   If the router\
    \ acts as an address assignment server, its database of\n   addresses that it\
    \ can assign may change during renumbering.  If the\n   router forwards to a DHCP\
    \ or BOOTP server, it must know the address\n   of that server.  That server address\
    \ can itself change as a result of\n   renumbering.\n   While the usual perception\
    \ of DHCP is that it assigns addresses from\n   a pool, such that assignments\
    \ to a given host at a given time is\n   random within the pool, DHCP can also\
    \ return a constant IP address\n   for a specific MAC address.  This may be much\
    \ easier to manage and\n   troubleshoot, especially during renumbering.\n   Clearly,\
    \ if the DHCP server identifies end hosts based on their MAC\n   address, consideration\
    \ must be given to making that address unique,\n   and changing the DHCP database\
    \ if either the MAC address or the IP\n   address changes.  One way to reduce\
    \ such reconfiguration is to use\n   Locally-Administered Addresses (LAA) on end\
    \ hosts, rather than\n   globally unique addresses stored in read-only memory\
    \ (ROM).  Using\n   LAAs solves the problem of MAC addresses changing when a network\n\
    \   interface card changes, but LAAs have their own management problems\n   of\
    \ configuration into end systems and maintaining uniqueness within\n   the enterprise.\n"
- title: 5.5.2 Router Roles in Dialup Address Assignment
  contents:
  - "5.5.2 Router Roles in Dialup Address Assignment\n   There are several possible\
    \ ways in which an dialup end host interacts\n   with address assignment.  Routers/access\
    \ servers can play critical\n   roles in this process, either to provide connectivity\
    \ between client\n   and server, or directly to assign addresses.\n   Different\
    \ vendors handle address assignment in different ways.\n   Methods include:\n\
    \      1.  The access server forwards the request to a DHCP server, using\n  \
    \        a unique 48-bit identifier associated with the client.  Note\n      \
    \    that this usually should not be the MAC address of the access\n         \
    \ server, since the same MAC address would then be associated\n          with\
    \ different hosts.\n      2.  The server forwards the request to an authentication\
    \ server,\n          which in turn gets a dynamic address either from:\n     \
    \    a.  internal pools\n         b.  a DHCP server to which it forwards\n   \
    \   3.  The server selects an address from locally configured pools\n        \
    \  and provides it to the dialing host without the intervention\n          of\
    \ other services.\n   When the router contains assignable addresses, these may\
    \ need to\n   change as part of renumbering.  Alternatively, hard-coded references\n\
    \   to address assignment or authentication servers may need to change.\n"
- title: 5.5.3 Router Autoonfiguration
  contents:
  - "5.5.3 Router Autoonfiguration\n   This initial address assignment may provide\
    \ an address only for a\n   single connection (i.e., between the new and configuring\
    \ routers).\n   The newly assigned address may then be used to \"bootstrap\" a\
    \ full\n   configuration into the new router.\n   Dynamic address assignment to\
    \ routers is probably most common at\n   outlying \"stub\" or \"edge\" routers\
    \ that connect via WAN links to a\n   central location with a configuration server.\
    \  Such edge devices may\n   be shipped to a remote site, plugged in to a WAN\
    \ line, and use\n   proprietary methods to acquire part or all of their address\n\
    \   configuration.\n   When such autoconfiguration is used on edge routers, it\
    \ may be\n   necessary to force a restart of the edge router after renumbering.\n\
    \   Restarting may be the only way to force the autoconfigured router to\n   learn\
    \ its new address.  Other out-of-band methods may be available to\n   change the\
    \ edge router addresses.\n"
- title: 5.6  Network Address Translation
  contents:
  - "5.6  Network Address Translation\n   Network address translation (NAT) is a valuable\
    \ technique for\n   renumbering, or even for avoiding the need to renumber significant\n\
    \   parts of an enterprise [RFC1631].  It is not always transparent to\n   network\
    \ layer protocols, upper layer protocols, and network\n   management tools, and\
    \ must not be regarded as a panacea.\n   In the classic definition of NAT, certain\
    \ parts of the routing system\n   are designated as stub domains, and connect\
    \ to the global domain only\n   through NAT functions.  The NAT contains a translation\
    \ mechanism that\n   maps a stub address to a global address.  This mechanism\
    \ may map\n   statically or dynamically.\n   A more general NAT mechanism often\
    \ is implemented in firewall bastion\n   hosts, which isolate \"inside\" and \"\
    outside\" addresses through\n   transport- or application-level authenticated\
    \ gateways.  Mappings\n   from a \"local\" or \"inside\" address to a global address\
    \ often is not\n   one-to-one, because an inside address is dynamically mapped\
    \ to a TCP\n   or UDP port on an outside interface address.\n   In general, if\
    \ there are multiple NATs, their translation mechanisms\n   should be synchronized.\
    \  There are specialized cases when a given\n   stub address appears in more than\
    \ one stub domain, and ambiguity\n   develops if one wishes to map, say, from\
    \ 10.1.0.1/16 in stub domain A\n   to 10.1.0.1/16 in stub domain B.  In this case,\
    \ both 10.1.0.1\n   addresses identify different hosts.   Special mechanisms would\
    \ have\n   to exist to map the domain A local address into one global address,\n\
    \   and to map the domain B local address into a different global\n   address.\n\
    \   NAT can have a valuable role in renumbering.  Its intelligent use can\n  \
    \ greatly minimize the amount of renumbering that needs to be done.\n   NAT, however,\
    \ is not completely transparent.\n   Specifically, it can interfere with the proper\
    \ operation of any\n   protocol that carries an IP address as data, since NAT\
    \ does not\n   understand passenger fields and is unaware numbers need to change.\n\
    \   Examples of protocols affected are:\n      --TCP and UDP checksums that are\
    \ in part based on the\n        IP header.   This includes end-to-end encryption\
    \ schemes\n        that include the TCP/UDP checksum\n      --ICMP messages containing\
    \ IP addresses\n      --DNS queries that return addresses or send addresses\n\
    \      --FTP interactions that use an ASCII-encoded IP address\n        as part\
    \ of the PORT command\n   It may be possible to avoid conflict if only certain\
    \ hosts use\n   affected protocols.  Such hosts could be assigned only global\n\
    \   addresses, if the network topology and routing plan permit.\n   Early NAT\
    \ experiments suggested that it needs a sparse end-to-end\n   traffic mapping\
    \ database for reasonable performance.  This may or may\n   not be an issue in\
    \ more hardware-based NAT implementations.\n   Another concern with NAT is that\
    \ unique host addresses are hidden\n   outside the local stub domains.  This may\
    \ in fact be desirable for\n   security, but may present network management problems.\
    \  One\n   possibility would be to develop a NAT MIB that could be queried by\n\
    \   SNMP to find the specific local-to-global mappings in effect.\n   There are\
    \ also issues for DNS, DHCP, and other address management\n   services.  There\
    \ presumably would need to be local servers within\n   stub domains, so address\
    \ requests would be resolved uniquely in each\n   stub (or would return appropriate\
    \ global addresses).\n"
- title: 6.  Potential Pitfalls in Router Renumbering
  contents:
  - "6.  Potential Pitfalls in Router Renumbering\n   One way to categorize potential\
    \ pitfalls is to look at those\n   associated with the overall numbering plan\
    \ itself and routing\n   advertisement, and those associated with protocol behavior.\
    \  In\n   general, the former case is static and the latter is dynamic.\n"
- title: 6.1  Static
  contents:
  - "6.1  Static\n   Problems can be implicit to the address/routing structure itself.\n\
    \   These can include failures of components to understand arbitrary\n   prefix\
    \ addressing (i.e., classless routing), reachability due to\n   inappropriate\
    \ default or aggregated routes, etc.\n"
- title: 6.1.1  Classless Routing Considerations
  contents:
  - "6.1.1  Classless Routing Considerations\n   Among the major reasons to renumber\
    \ is to gain globally routable\n   address  space.  In the global Internet, routable\
    \ address space is\n   based on arbitrary-length prefixes rather than traditional\
    \ address\n   classes.  Classless Inter-Domain Routing (CIDR) is the administrative\n\
    \   realization of prefix addressing in the global Internet.  Inside\n   enterprises,\
    \ arbitrary prefix length addressing often is called\n   Variable Length Subnet\
    \ Masking (VLSM) or \"subnetting a subnet.\"\n   The general rules of prefix addressing\
    \ must be followed in CIDR.\n   Among these are permitting use of the all-zeroes\
    \ and all-one subnets\n   [RFC1812], and not assuming that a route to a \"Class\
    \ A/B/C network\n   number\" implies routes to all subnets of that network.  Assumptions\n\
    \   also should not be made that  a prefix length is implied by the\n   structure\
    \ of the high-order bits of  the IP address (i.e., the \"First\n   Octet Rule\"\
    ).\n   This ideal, unfortunately, is not understood by a significant number\n\
    \   of routers (and terminal access servers that participate in routing),\n  \
    \ and an even more significant number of host IP implementations.\n   When planning\
    \ renumbering, network designers must know if the new\n   address has been allocated\
    \ using CIDR rules rather than traditional\n   classful addressing. If CIDR rules\
    \ have been followed in address\n   assignment, then steps need to be taken to\
    \ assure the router\n   understands them, or appropriate steps need to be taken\
    \ to interface\n   the existing environment to the CIDR environment.\n   Current\
    \ experience suggests that it is best, when renumbering, to\n   maintain future\
    \ compatibility by moving to a CIDR-supportive routing\n   environment.  While\
    \ this is usually thought to mean introducing a\n   classless dynamic routing\
    \ protocol, this need not mean that routing\n   become much more complex.  In\
    \ a RIPv1 environment, moving to RIPv2\n   may be a relatively simple change.\
    \  Alternative simple methods\n   include establishing a default route from a\
    \ non-CIDR-compliant\n   routing domain to a CIDR-compliant service provider,\
    \ or making use of\n   static routes that are CIDR-compliant.\n   Some routers\
    \ support classless routing  without further\n   configuration, other routers\
    \ support classless routing but require\n   specific configuration steps to enable\
    \ it, while other routers only\n   understand classful routing.  In general, most\
    \ renumbering will\n   eventually require classless routing support.  It is essential\
    \ to\n   know if a given router can support classless routing.  If it does\n \
    \  not, workarounds may be possible.  Workarounds are likely to be\n   necessary.\n"
- title: 6.1.1.1  Aggregation Problems
  contents:
  - "6.1.1.1  Aggregation Problems\n   In experimenting with the CIDR use of a former\
    \ Class A network\n   number, it was shown in RFC1879 that CIDR compliance rules\
    \ must be\n   enabled explicitly in some routers, while other routers do not\n\
    \   understand CIDR rules.\n   RFC 1897 demonstrated problems with some existing\
    \ equipment,\n   especially \"equipment that depends on use of a classful routing\n\
    \   protocol, such as RIPv1 are prone to misconfiguration.  Tested\n   examples\
    \ are current   Ascend and Livingston gear, which continue to\n   use RIPv1 as\
    \ the default/only routing protocol.  RIPv1 use will\n   create an aggregate announcement....\
    \ The Ascend was told to announce\n   39.1.28/24, but since RIPv1 can't do this,\
    \ the Ascend instead sent\n   39/8.\"  RIPv1, like all classful interior protocols,\
    \ is obsolescent.\n"
- title: 6.1.1.2  Discontiguous Networks
  contents:
  - "6.1.1.2  Discontiguous Networks\n   Another problem that can occur with routers\
    \ or routing mechanisms\n   that do not understand arbitrary length prefix addressing\
    \ is that of\n   discontiguous networks.   This problem is easy to create\n  \
    \ inadvertently when renumbering.  In the example below, assume the\n   enterprise\
    \ has been using 10.0.0.0/8 as its primary prefix, but has\n   introduced an ISP\
    \ whose registered addresses were in 172.31.0.0/16.\n   Assume a RIPv1 system\
    \ of three routers:\n                     10.1.0.1/16        10.2.0.1/16\n   \
    \                       |                  |\n                          |    \
    \              |\n                +-------------------------------------+\n  \
    \              |               Router 1              |\n                +-------------------------------------+\n\
    \                                    | 172.31.1.1/24\n                       \
    \             |\n                                    |\n                     \
    \               | 172.31.1.2/24\n                +-------------------------------------+\n\
    \                |               Router 2              |<------OUTSIDE\n     \
    \           +-------------------------------------+\n                        \
    \            | 172.31.2.1/24\n                                    |\n        \
    \                            |\n                                    | 172.31.2.2/24\n\
    \                +-------------------------------------+\n                |  \
    \             Router 3              |\n                +-------------------------------------+\n\
    \                          |                  |\n                          | \
    \                 |\n                     10.3.0.1/16        10.4.0.1/16\n   Router\
    \ 1 can reach its two locally connected subnets, 10.1.0.0/16 and\n   10.2.0.0/16.\
    \  It will aggregate them into a single announcement of\n   10.0.0.0/8 when it\
    \ advertises out the 172.31.1.1 interface.\n   In like manner, Router 3 can reach\
    \ its two locally connected subnets,\n   0.3.0.0/16 and 10.4.0.0/16.  It will\
    \ aggregate them into a single\n   announcement of 10.0.0.0/8 when it advertises\
    \ out the 172.31.2.2\n   interface.\n   When Router 2 receives a packet from its\
    \ \"outside\" interface\n   destined, say, to 10.1.1.56/16, where does it send\
    \ it?  Router 2 has\n   received two advertisements of 10.0.0.0 on different interfaces,\n\
    \   without any detail of subnets inside 10.0.0.0.  Router 2 has an\n   ambiguous\
    \ routing table in terms of the next hop to a subnet of\n   10.0.0.0.  We call\
    \ this problem, when parts of the same classful\n   network are separated by different\
    \ networks, discontigous subnets.\n   Two problems occur in this configuration.\
    \  Router 2 does not know\n   where to send outside packets destined for a subnet\
    \ of 10.0.0.0.\n   Connectivity, however, also will break between Routers 1 and\
    \ 3,\n   because Router 2 does not know the next hop for any subnet of\n   10.0.0.0.\n\
    \   There are several workarounds to this problem.  Obviously, one would\n   be\
    \ to change to a routing mechanism that does advertise subnets.  An\n   alternative\
    \ would be to establish an IP-over-IP tunnel through Router\n   2, and give this\
    \ a subnet in 10.0.0.0.  This additional subnet would\n   be visible only in Routers\
    \ 1 and 3.  It would solve the connectivity\n   problem between Routers 1 and\
    \ 3, but Router 2 would still not be able\n   to forward outside packets.  This\
    \ might be a perfectly acceptable\n   solution if Router 2 is simply being used\
    \ to connect two parts of\n   10.0.0.0.\n   Another way to deal with the discontiguous\
    \ network problem is to\n   assign secondary addresses in 10.0.0.0 to the R1-R2\
    \ and R2-R3\n   interfaces, which would allow the 10.0.0.0 subnets to be advertised\n\
    \   to R2.  This would work as long as there is no problem in advertising\n  \
    \ the 10.0.0.0 subnets into the R2 routing system.  There would be a\n   problem,\
    \ for example, if the 10.0.0.0 address were in the private\n   address space but\
    \ the R2 primary addresses were registered, and R2\n   advertised the 10.0.0.0\
    \ addresses to the outside.\n   This problem can be handled if R2 has filtering\
    \ mechanisms that can\n   selectively block 10.0.0.0 advertisements to the outside\
    \ world.  The\n   configuration, however, will become more and more complicated.\n"
- title: 6.1.1.3  Router-Host Interactions
  contents:
  - "6.1.1.3  Router-Host Interactions\n   The situation may not be as bleak if hosts\
    \ do not understand prefix\n   addressing but routers do.  Methods exist for hiding\
    \ a VLSM structure\n   from end hosts that do not understand it.  These do involve\
    \ protocol\n   mechanisms as workarounds, but the fundamental problem is hosts'\n\
    \   understanding of arbitrary prefix lengths.\n   A key mechanism is proxy ARP\
    \ [Carpenter].  The basic mechanism of\n   using proxy ARP in prefix-based renumbering\
    \ is to have the hosts\n   issue an ARP whenever they want to communicate with\
    \ a destination.\n   If the destination is actually on the same subnet, it will\
    \ respond\n   directly to the ARP.  If the destination is not, the router will\n\
    \   respond as if it were the destination, and the originating host will\n   send\
    \ the datagram to the router.  Once the datagram is in the router,\n   the VLSM-aware\
    \ router can forward it.\n   Many end hosts, however, will only issue an ARP if\
    \ they conclude the\n   destination is on their own subnet.  All other traffic\
    \ is sent to a\n   hard-coded default router address.  In such cases, workarounds\
    \ may be\n   needed to force the host to ARP for all destinations.\n   One workaround\
    \ involves a deliberate misconfiguration of hosts.\n   Hosts that only understand\
    \ default routers also are apt only to\n   understand classful addressing.  If\
    \ the host is told its major (i.e.,\n   classful) network is not subnetted, even\
    \ though the address plan\n   actually is subnetted, this will often persuade\
    \ it to ARP to all\n   destinations.\n   This also works for hosts that do not\
    \ understand subnetting at all.\n   An example will serve for both levels of host\
    \ understanding.  Assume\n   the enterprise uses 172.31.0.0/16 as its major address,\
    \ which is in\n   the Class B format.  This is actually subnetted with eight bits\
    \ of\n   subnetting -- 172.31.0.0/24.  Individual hosts unaware of VLSM,\n   however,\
    \ either infer Class B from the address value, or are told\n   that the subnet\
    \ mask in effect is 255.255.0.0.\n   Yet another approach that helps hosts find\
    \ routers is to run passive\n   RIP on the hosts, so that they hear routing updates.\
    \  They assume any\n   host that issues routing updates must be a router, so traffic\
    \ for\n   non- local destinations can be forwarded there.  While RIPv1 does not\n\
    \   support arbitrary prefixes, the router(s) issuing the routing updates\n  \
    \ may have additional capabilities that let them correctly forward such\n   traffic.\
    \  The priority, therefore, is to get the non-local routers to\n   a router that\
    \ understands the overall routing structure, and passive\n   RIP may be a viable\
    \ way to do this.\n   It may be appropriate to cut over on a site-by-site basis\
    \ [Lear].  In\n   such an approach, some sites have VLSM-aware hosts but others\
    \ do not.\n   As long as the routing structure supports VLSM, workarounds can\
    \ be\n   applied where needed.\n"
- title: 6.1.2  MAC Address Interactions
  contents:
  - "6.1.2  MAC Address Interactions\n   While it is uncommon now for a router to\
    \ acquire any of its interface\n   addresses as a DHCP client, this may become\
    \ more common. When a\n   router so acquires addresses, care must be taken that\
    \ the MAC address\n   presented to the DHCP server is in fact unique.\n   Modern\
    \ routers usually support protocol architectures besides IP.\n   Some of these\
    \ architectures, notably DECnet, Banyan VINES, Xerox\n   Network Services, and\
    \ IPX, may modify MAC addresses of routers such\n   that a given MAC address appears\
    \ on more than one interface.  While\n   this is normally not a problem, it could\
    \ cause difficulties when the\n   MAC address is assumed to be unique.\n   Other\
    \ situations occur when the same MAC address can appear on more\n   than one interface.\
    \  There are high-availability IBM options which\n   establish primary and backup\
    \ instances of the same MAC address on\n   different physical interfaces of 37x5\
    \ communications controllers.\n   Some end hosts running protocol stacks other\
    \ than IP, notably DECnet,\n   may change their MAC address from the globally\
    \ assigned built-in\n   address.\n"
- title: 6.2  Dynamic
  contents:
  - "6.2  Dynamic\n   Dynamic protocol mechanisms that to some extent depend on IP\n\
    \   addresses may be affected by router renumbering.  These include\n   mechanisms\
    \ that assign or resolve addresses (e.g., DHCP, DNS),\n   mechanisms that use\
    \ IP addresses for identification (e.g., SNMP),\n   security and authentication\
    \ mechanisms, etc.  The listed mechanisms\n   are apt to have configuration files\
    \ that will be affected by\n   renumbering.\n   Another area of dynamic behavior\
    \ that can be affected is caching.\n   Application servers, directory functions\
    \ such as DNS, etc., may cache\n   IP addresses.  When the router is renumbered,\
    \ these servers may point\n   to old addresses.  Certain proxy server functions\
    \ may reside on\n   routers, and the router may need to be restarted to reset\
    \ the cache.\n   The endpoints of TCP tunnels terminating on routers may be internally\n\
    \   identified by address/port pairs at each end.  If the address\n   changes,\
    \ even if the port remains the same, the tunnel is likely to\n   need to be reestablished.\n"
- title: 7.  Tools and Methods for Renumbering
  contents:
  - "7.  Tools and Methods for Renumbering\n   The function of a renumbering tool\
    \ can be realized either as manual\n   procedures as well as software. This section\
    \ deals with functionality\n   of hypothetical yet general renumbering tools rather\
    \ than their\n   implementation.\n   General caveat:  tools should know whether\
    \ the environment supports\n   classless addressing.  If it does not, newly generated\
    \ addresses\n   should be checked to see they do not fall into the all-zeroes\
    \ or\n   all-ones subnet values.\n"
- title: 7.1  Search Mechanisms
  contents:
  - "7.1  Search Mechanisms\n   Tools will be needed to search configuration files\
    \ and other\n   databases to identify addresses and names that will be affected\
    \ by\n   reorganization.  This search should be based on the address inventory\n\
    \   described above.\n   Especially when searching for names, common search tools\
    \ using\n   regular expressions (e.g., grep) may be very useful.  Some additional\n\
    \   search tools may be needed. One would convert dotted decimal search\n   arguments\
    \ to binary and only then makes the comparison.\n   The comparison may need to\
    \ be done under the constraint of a mask.\n   Such a comparator would also be\
    \ relevant as the second phase that\n   looks for ipAddress and other relevant\
    \ strings in MIBs.\n"
- title: 7.2  Address Modification
  contents:
  - "7.2  Address Modification\n   The general mechanism for address modification\
    \ is substitution of an\n   arbitrary number of bits in an address.  In the simplest\
    \ cases, there\n   is a one-to-one correspondence between old and new bit positions.\n\
    \   Especially when address modification is manual, it should be\n   remembered\
    \ that the affected bits can be obscured by dotted decimal\n   notation.  Work\
    \ in, or at least consider, binary notation to assure\n   accuracy.\n   Several\
    \ basic functions can be defined:\n   zerobits(position,length):\n      clear\
    \ <length> bits starting at <position>\n   orbits(position,length,newbits)\n \
    \     OR the bit string <newbits> of <length> starting at <position>\n   In these\
    \ examples, the index [j] is used to identify entries in the\n   address inventory\
    \ database for existing addresses, while [k]\n   identifies new addresses.\n \
    \  Remember that these tools operate at a bit level, so the new address\n   will\
    \ have to be converted back into dotted decimal, MIB ASN.1, or\n   other notation\
    \ before it can be replaced into configuration files.\n"
- title: 7.2.1  Prefix Change, No Change in Length
  contents:
  - "7.2.1  Prefix Change, No Change in Length\n   If the entire new prefix has the\
    \ same number of bits as the old\n   external part, requiring no change to subnetting,\
    \ the router part of\n   renumbering may be fairly simple.  If the router configurations\
    \ are\n   available in machine-readable form, as text files or parsable SNMP\n\
    \   data, it is a relatively simple task to define a tool to examine IP\n   addresses\
    \ in the configuration, identify those beginning with the old\n   prefix, and\
    \ substitute the new prefix bit-by-bit.\n   for each address[j],\n      zerobits(0,PrefixLength[j])\n\
    \      orbits(0,PrefixLength[j],NewPrefix[j])\n   Note that the host part is unaffected.\
    \  Both subnet specifications\n   (e.g., for route advertisements) and specific\
    \ host references will be\n   changed correctly in this simple case.\n"
- title: 7.2.2  highOrderPart change
  contents:
  - "7.2.2  highOrderPart change\n   Matters are slightly more complex when the change\
    \ applies only to the\n   externally-controlled part of the prefix, as might be\
    \ the case when\n   an organization changes ISPs and renumbers into the ISP's\
    \ address\n   space, without changing the internal subnet structure.\n   The substitution\
    \ process is much as the previous case, except only\n   the high-order bits change:\n\
    \   for each address,\n      zerobits(0,highOrderPartLength[j])\n      orbits(0,highOrderPartLength,newHighOrderPart[k])\n"
- title: 7.2.3  lowOrderPart change
  contents:
  - "7.2.3  lowOrderPart change\n   Organizations might renumber only the lowOrderPart\
    \ (i.e., the subnet\n   field) of their address space.  This might be done to\
    \ clean up an\n   address space into contiguous blocks prior to introducing a\
    \ routing\n   system that aggregates addresses, such as OSPF.\n   for each address[j],\n\
    \      zerobits(highOrderPartLength[j],lowOrderPartLength[j])\n      orbits(highOrderPartLength[j],\n\
    \            lowOrderPartLength[j],newLowOrderPart[k])\n"
- title: 7.2.4  lowOrderPart change, Change in lowOrderPart length
  contents:
  - "7.2.4  lowOrderPart change, Change in lowOrderPart length\n   When the length\
    \ of the subnet field changes in all or part of the\n   address space, things\
    \ become significantly more complex. A fairly\n   simple case arises when the\
    \ host field is consistently too long, at\n   least in the affected subnets. \
    \ This is common, for example, when\n   address space is being recovered in an\
    \ existing Class B network with\n   8 bits of subnetting.  Certain /24 bit prefixes\
    \ are being extended to\n   /30 and reallocated to point-to-point real or virtual\
    \ (e.g., DLCI)\n   media.\n   for each address [j]\n    if address is affected\
    \ by renumbering\n     if newLowOrderPartLength[k] > oldLowOrderPartLength[j]\n\
    \      then\n       zerobits(highOrderPartLength[k],newLowOrderPartLength[k])\n\
    \       orbits(highOrderPartLength[k],newLowOrderPart[k])\n      end\n"
- title: 7.2.5  highOrderPart change, Change in highOrderPart length
  contents:
  - "7.2.5  highOrderPart change, Change in highOrderPart length\n   When the length\
    \ of the high-order part changes, but it is desired to\n   keep the existing subnet\
    \ structure, constraints apply. The situation\n   is fairly simple if the new\
    \ high-order part is shorter than the\n   existing high order part.\n   If the\
    \ new high-order part is longer than the old high order part,\n   constraints\
    \ are more complex.  The key is to see if any of the <k>\n   most significant\
    \ bits of the oldHighOrderPart, which overlap the <k>\n   least significant bits\
    \ of the newHighOrderPart, are nonzero.  If no\n   bits are nonzero, it may be\
    \ simply to overlay the new prefix bits.\n"
- title: 7.3  Naming
  contents:
  - "7.3  Naming\n   It is worthwhile to distinguish that a router's use of a DNS\
    \ name\n   does not necessarily mean that name is defined in a name server.\n\
    \   Routers often contain static address to name mappings local to the\n   router,\
    \ so both the DNS zone files and the router configurations will\n   need to be\
    \ checked.\n   What we first want to do is generate a list of name/address mappings,\n\
    \   the mapping mechanism for each instance (e.g., static entry in\n   configuration\
    \ file, RR in our zone's DNS, RR in a zone file outside\n   ours), the definition\
    \ statement (or equivalent if the routers are\n   configured with SNMP), and current\
    \ IP address.  We then want to\n   compare the addresses in this list to the list\
    \ defined earlier of\n   prefixes affected by renumbering.   The intersection\
    \ of these lists\n   define where we need to make changes.\n   Note that the explicit\
    \ definition statement, or at leasts its\n   variables, should be kept.  In the\
    \ real world, static IP address\n   mappings in hosts may not have been maintained\
    \ as systematically as\n   are RR records in a DNS server.   It is entirely possible\
    \ that\n   different host mapping entries for the same name point to different\n\
    \   addresses.\n"
- title: 7.3.1  DNS Tools
  contents:
  - "7.3.1  DNS Tools\n   The DNS itself can both delay and and speed router renumbering.\n\
    \   Caches in DNS servers both inside and outside the organization may\n   have\
    \ sufficient persistence that a \"flag day\" cutover is not\n   practical if worldwide\
    \ connectivity is to be kept.  DNS can help,\n   however, make a period of old\
    \ and new address coexistence work.\n   If, for example, a given router interface\
    \ may have a coexisting new\n   and old address, it can be appropriate to introduce\
    \ the new address\n   as a CNAME alias for the new address.\n   DNS RR statements\
    \ can end with a semicolon, indicating the rest of\n   the line is a comment.\
    \  This can be used as the basis of tools to\n   renumber DNS names for router\
    \ addresses, by putting a comment (e.g.,\n   \";newaddr\") at the end of the CNAME\
    \ statements for the new addresses.\n   At an appropriate time, a script could\
    \ generate a new zone file in\n   which the new addresses become the primary definitions\
    \ on A records,\n   and the old addresses could become appropriately commented\
    \ CNAME\n   records.  At a later time, these commented CNAME entries could be\n\
    \   removed.\n   Care should be taken to assure that PTR reverse mapping entries\
    \ are\n   defined for new addresses, because some router vendor tools depend on\n\
    \   reverse mapping.\n"
- title: 7.3.2   Related name tools
  contents:
  - "7.3.2   Related name tools\n   Especially on UNIX and othe that do routing, there\
    \ may be static name\n   definitions.  Such definitions are probably harder to\
    \ keep maintained\n   than entries in the DNS, simply because they are more widely\n\
    \   distributed.\n   Several tools are available to generate more maintainable\
    \ entries.  A\n   perl script called h2n converts host tables into zone data files\
    \ that\n   can be added to the DNS server.  It is available as\n   ftp://ftp.uu.net/published/oreilly/nutshell/dnsbind/dns.tar.Z.\n\
    \   Another tool, makezones, is part of the current BIND distribution,\n   and\
    \ can also be obtained from\n   ftp://ftp.cus.cam.ac.uk/pub/software/programs/DNS/makezones\n\
    \   See the DNS Resources Directory at http://www.dns.net/dnsrd.\n"
- title: 8.  Router Identifiers
  contents:
  - "8.  Router Identifiers\n   Configuration commands in this category assign IP\
    \ addresses to\n   physical or virtual interfaces on a single router. They also\
    \ include\n   commands that assign IP-address-related information to the router\n\
    \   \"box\" itself, and commands which involve the router's interaction\n   with\
    \ neighbors below the full routing level (e.g., default gateways,\n   ARP).\n\
    \   Routers may have other unique identifiers, such as DNS names used for\n  \
    \ the set of addresses on the \"box,\" or SNMP systemID strings.\n"
- title: 8.1. Global Router Identification
  contents:
  - "8.1. Global Router Identification\n   Traditional IP routers do not have unique\
    \ identifiers, but rather are\n   treated as collections of IP addresses associated\
    \ with their\n   interfaces.  Some protocol mechanisms, notably OSPF and BGP,\
    \ need an\n   address for the router itself, typically to establish tunnel\n \
    \  endpoints between peer routers.  Other applications include\n   \"unnumbered\
    \ interfaces\" used to conserve address space for serial\n   media, a practice\
    \ discussed further below.\n   In the illustration below, the 10.1.0.0/16 address\
    \ space is used for\n   global identifiers.  A TCP tunnel runs from 10.1.0.1 to\
    \ 10.1.0.2, but\n   its traffic is load-shared among the two real links, 172.31.1.0\
    \ and\n   172.31.2.0.\n                 172.31.4.1/24      172.31.5.1/24\n   \
    \                    |                  |\n                       |          \
    \        |\n             +-------------------------------------+\n           \
    \  |               Router 1              |\n             |                   \
    \                  |\n             |              10.1.0.1/16            |\n \
    \            |                   #                 |\n             +-------------------#-----------------+\n\
    \                | 172.31.1.1/24  #          | 172.31.2.1/24\n               \
    \ |                #          |\n                |                #          |\n\
    \                |                #          |\n                |            \
    \    #          |\n                |                #          |\n           \
    \     |                #          |\n                | 172.31.1.2/24  #      \
    \    | 172.31.2.2/24\n             +-------------------#-----------------+\n \
    \            |               Router 2              |\n             |         \
    \                            |\n             |              10.1.0.2/16      \
    \      |\n             |                                     |\n             +-------------------------------------+\n\
    \                       |                  |\n                       |       \
    \           |\n                 172.31.5.1/24       172.31.6.1/24\n   A common\
    \ practice to provide router identifiers is using the \"highest\n   IP address\"\
    \ on the router as an identifier for the \"box.\"  Many\n   implementations have\
    \ a default mechanism to establish the router ID,\n   which may be the highest\
    \ configured address, or the highest active\n   address.\n   Typical applications\
    \ of a global router ID may not require it be a\n   \"real\" IP address that is\
    \ advertised through the routing domain, but\n   is simply a 32-bit identifier\
    \ local to each router.  When this is the\n   case, this identifier can come from\
    \ the RFC 1918 private address\n   space rather than the enterprise's registered\
    \ address space.\n   Allowing default selection  of the router ID can be unstable\
    \ and is\n   not recommended.  Most implementations have a means of declaring\
    \ a\n   pseudo-IP address for the router itself as opposed to any of its\n   ports.\n\
    \   Changes to this pseudo-address may have implications for DNS.  Even\n   if\
    \ this is not a real address, A and PTR resource records may have\n   been set\
    \ up for it, so diagnostics can display names rather than\n   addresses.\n   Another\
    \ potential DNS implication is that a CNAME may have been\n   established for\
    \ the entire set of interface addresses on a router.\n   This allows testing,\
    \ telnet, etc., to the router via any reachable\n   path.\n"
- title: 8.2  Interface Address
  contents:
  - "8.2  Interface Address\n   Interface addresses are perhaps the most basic place\
    \ to begin router\n   renumbering.  Interface configuration will require an IP\
    \ address, and\n   usually a subnet mask or prefix length.  Some implementations\
    \ may not\n   have a subnet mask in the existing configuration, because they use\
    \ a\n   \"default mask\" based on a classful assumption about the address.  Be\n\
    \   aware of possible needs for explicit specification of a subnet mask\n   or\
    \ other prefix length specification when none previously was\n   specified.  This\
    \ will be especially common on older host-based\n   routers.\n   Multiple IP addresses,\
    \ in different subnets, can be assigned to the\n   same interface.  This is often\
    \ a valuable technique in renumbering,\n   because the router interface can be\
    \ configured to respond to both the\n   new and old addresses.\n   Caution is\
    \ necessary, however, in using multiple subnet addresses on\n   the same interface.\
    \  OSPF and IS-IS implementations may not advertise\n   the additional addresses,\
    \ or may constrain their advertisement so all\n   must be in the same area.\n\
    \   When this method is used to make the interface respond to new and old\n  \
    \ addresses, and the renumbering process is complete, care must be\n   taken in\
    \ removing the old addresses.  Some router implementations\n   have special meaning\
    \ to the order of address declarations on an\n   interface.  It is highly likely\
    \ that routers, or at least the\n   interface, must be restarted after an address\
    \ is removed.\n"
- title: 8.3  Unnumbered Interfaces
  contents:
  - "8.3  Unnumbered Interfaces\n   As mentioned previously, several conventions have\
    \ been used to avoid\n   wasting subnet space on serial links.  One mechanism\
    \ is to implement\n   proprietary \"half-router\" schemes, in which the unnumbered\
    \ link\n   between router pairs is treated as an \"internal bus\" creating a\n\
    \   \"virtual router,\" such that the scope of the unnumbered interface is\n \
    \  limited to the pair of routers.\n   |             +------------+          \
    \      +------------+       |\n   |             |            |               \
    \ |            |       |\n   |          e0 |            |s0           s0 |   \
    \         |       |\n   |-------------|     R1     |................|     R2 \
    \    |-------|\n   | 192.168.1.1 | 10.1.0.1/16|                | 10.1.0.2/16|\
    \       |\n   |      /24    |            |                |            |     \
    \  |\n   |             +------------+                +------------+\n   In the\
    \ above example, software in routers R1 and R2 automatically\n   forward every\
    \ packet received on serial interface S0 to Ethernet\n   interface E0.  They forward\
    \ every packet on e0 to their local S0.\n   Neither S0 has an IP address.  R1\
    \ has the router ID 10.1.0.1/16 and\n   R2 has 10.1.0.2/16.\n   It is thus impossible\
    \ to send a specific ping to the S0 interfaces,\n   making it difficult to test\
    \ whether a connectivity problem is due to\n   S0 or E0.  Some management is possible\
    \ as long as at least one IP\n   address on the router (e.g., E0) is reachable,\
    \ since this will permit\n   SNMP connectivity to the router.  Once the router\
    \ is reachable with\n   SNMP, the unnumbered interface can be queried through\
    \ the MIB\n   ifTable.\n   Another approach is to use the global router identifier\
    \ as a pseudo-\n   address for every unnumbered interface on a router.  In the\
    \ above\n   example, R1 would use 10.1.0.1 as its identifier.  This provides an\n\
    \   address to be used for such functions as the IP Route Recording\n   option,\
    \ and for providing a next-hop-address for routes.\n   The second approach is\
    \ cleaner, but still can create operational\n   difficulties.  If there are multiple\
    \ unnumbered interfaces on a\n   router, which one (if any) should/will respond\
    \ to a ping?  Other\n   network management mechanisms do not work cleanly with\
    \ unnumbered\n   interface.\n   As part of a renumbering effort, the need for\
    \ unnumbered interfaces\n   should be examined.  If the renumbering process moves\
    \ the domain to\n   classless addressing, then serial links can be given addresses\
    \ with a\n   /30 prefix, which will waste a minimum of address space.\n   For\
    \ dedicated or virtual dedicated point-to-point links within an\n   organization,\
    \ another alternative to unnumbered operation is using\n   RFC1918 private address\
    \ space.  Inter-router links rarely need to be\n   accessed from the Internet\
    \ unless explicitly used for exterior\n   routing.  External traceroutes will\
    \ also fail reverse DNS lookup.\n   If unnumbered interfaces are kept, and the\
    \ router-ID convention is\n   used, it will probably be more stable to rely on\
    \ an explicitly\n   configured router ID rather than a default from a numbered\
    \ interface\n   address.\n   The situation becomes even more awkward if it is\
    \ desired to use\n   unnumbered interfaces over NBMA services such as Frame Relay.\
    \  OSPF,\n   for example, uses the IP address of numbered interfaces as a unique\n\
    \   identifier for that interface.  Since unnumbered interfaces do not\n   have\
    \ their own unique address, OSPF has not obvious way to identify\n   these interfaces.\
    \  A physical index (e.g., ifTable) could be used,\n   but would have to be extended\
    \ to have an entry for each logical entry\n   (i.e., VC) multiplexed onto the\
    \ physical interface.\n"
- title: 8.4  Address Resolution
  contents:
  - "8.4  Address Resolution\n   While mapping of IP addresses to LAN MAC addresses\
    \ is usually done\n   automatically by the router software, there will be cases\
    \ where\n   special mappings may be needed.  For example, the MAC address used\
    \ by\n   router interfaces may be locally administered (i.e., set manually),\n\
    \   rather than relying on the burnt-in hardware address.  It may be part\n  \
    \ of a proprietary  method that dynamically assigns MAC addresses to\n   interfaces.\
    \  In such cases, an IP address may be part of the MAC\n   address configuration\
    \ statements and will need to be changed.\n   Manual mapping to medium addresses\
    \ will usually be needed for NBMA\n   and switched media.  When renumbering IP\
    \ addresses, statements that\n   map the IP address to frame relay DLCIs, X.121\
    \ addresses, SMDS and\n   ATM addresses, telephone numbers, etc., will need to\
    \ be changed to\n   the new address.  Local requirements may require a period\
    \ of parallel\n   operation, where the old and new IP addresses map to the same\
    \ medium\n   address.\n"
- title: 8.5  Broadcast Handling
  contents:
  - "8.5  Broadcast Handling\n   RFC1812 specifies that router interfaces MUST NOT\
    \ forward limited\n   broadcasts (i.e., to the all-ones destination address,\n\
    \   255.255.255.255).  It is common, however, to have circumstances where\n  \
    \ a LAN segment is populated only by clients that communicate with key\n   servers\
    \ (e.g., DNS or DHCP) by sending limited broadcasts.  Router\n   interfaces can\
    \ cope with this situation by translating the limited\n   broadcast address to\
    \ a directed broadcast address or a specific host\n   address, which is legitimate\
    \ to forward.\n   When limited address translation is done for serverless segments,\
    \ and\n   the new target address is renumbered, the translation rule must be\n\
    \   reconfigured on every interface to a serverless segment.  Be sure to\n   recognize\
    \ that a given segment might have a server from the\n   perspective of one service\
    \ (e.g., DHCP), but could be serverless for\n   other services (e.g., NFS or DNS).\n"
- title: 8.6  Dynamic Addressing Support
  contents:
  - "8.6  Dynamic Addressing Support\n   Routers can participate in dynamic addressing\
    \ with RARP, DHCP, BOOTP,\n   or PPP.   In a renumbering effort, several kinds\
    \ of changes may made\n   to be made on routers participating in dynamic addressing.\n\
    \   If the router acts as a server for dynamic address assignment, the\n   addresses\
    \ it assigns will need to be renumbered.   These might be\n   specific addresses\
    \ associated with MAC addresses or dialup ports, or\n   could be a pool of addresses.\
    \  Pools of addresses may be seen in pure\n   IP environments, or in multiprotocol\
    \ situations such as Apple MacIP.\n   If the router does not assign addresses,\
    \ it may be responsible for\n   forwarding address assignment requests to the\
    \ appropriate server(s).\n   If this is the case, there may be hard-coded references\
    \ to the IP\n   addresses of these servers, which may need to be changed as part\
    \ of\n   renumbering.\n"
- title: 9. Filtering and Access Control
  contents:
  - "9. Filtering and Access Control\n   Routers may implement mechanisms to filter\
    \ packets based on criteria\n   other than next hop destination.  Such mechanisms\
    \ often are\n   implemented differently for unicast packets (the most common case)\
    \ or\n   for multicast packets (including routing updates).  Filtering rules\n\
    \   may contain source and/or destination IP addresses that will need to\n   change\
    \ as part of a renumbering effort.\n   Filtering can be done to implement security\
    \ policies or to control\n   traffic.  In either case, extreme care must be taken\
    \ in changing the\n   rules, to avoid leakage of sensitive information.  denial\
    \ of access\n   to legitimate users, or network congestion.\n   Routers may implement\
    \ logging of filtering events, typically denial\n   of access.  If logging is\
    \ implemented, logging servers to which log\n   events are sent preferably should\
    \ be identified by DNS name.  If the\n   logging server is referenced by IP address,\
    \ its address may need to\n   change during renumbering.   Care should be taken\
    \ that critical\n   auditing data is not lost during the address change.\n"
- title: 9.1  Static Access Control Mechanisms
  contents:
  - "9.1  Static Access Control Mechanisms\n   Router filters typically contain some\
    \ number of include/exclude rules\n   that define which packets to include in\
    \ forwarding and which to\n   exclude.  These rules typically contain an address\
    \ argument and some\n   indication of the prefix length.  This length indication\
    \ could be a\n   count, a subnet mask, or some other mask.\n   When renumbering,\
    \ the address argument clearly has to change.  It can\n   be more subtle if the\
    \ prefix length changes, because the length\n   specification in the rule must\
    \ change as well. Needs for such changes\n   may be hard to recognize, because\
    \ they apply to ranges of addresses\n   that might be at a level of aggregation\
    \ above the explicit\n   renumbering operation.\n   RFC 1812 requires that address-based\
    \ filtering allow arbitrary prefix\n   lengths, but some hosts and routers might\
    \ only allow classful\n   prefixes.\n"
- title: 9.2  Special Firewall Considerations
  contents:
  - "9.2  Special Firewall Considerations\n   Routers are critical components of firewall\
    \ systems.\n   Architecturally, two router functions are described in firewall\n\
    \   models, the external screening router between the outside and the\n   \"demilitarized\
    \ zone (DMZ),\" and the internal screening router between\n   the inside and the\
    \ \"perimeter network.\"  Between these two networks\n   is the bastion host,\
    \ in which reside various non-routing isolation\n   and authentication functions,\
    \ beyond the scope of this document.\n   One relevant aspect of the bastion host,\
    \ however, is that it may do\n   address translation or higher-layer mappings\
    \ between differnt address\n   spaces.  If the \"outside\" address space (i.e.,\
    \ visible to the\n   Internet) changes, this will mean that the outside screening\
    \ router\n   will need configuration changes.  Since the outside screening router\n\
    \   may be under the control of the ISP rather than the entrerprise,\n   administrative\
    \ coordination will be needed.\n                          DMZ  +--------+    Peri-\n\
    \                           |---| Public |    meter\n           +-----------+\
    \   |   |  Hosts |      |   +-----------+\n"
- title: From       | External  |   |   +--------+      |---| Internal  |
  contents:
  - 'From       | External  |   |   +--------+      |---| Internal  |

    '
- title: Internet...| Screening |---|   +--------+      |   | Screening |
  contents:
  - "Internet...| Screening |---|   +--------+      |   | Screening |\n          \
    \ | Router    |   |---| Bastion|------|   | Router    |....To\n           +-----------+\
    \   |   |  Host  |      |   +-----------+ Internal\n                         \
    \  |   +--------+      |   +-----------+  Network\n                          \
    \ |   +--------+      |---| Dialup    |\n                           |---|  Split\
    \ |      |   | Access    |\n                           |   |  DNS   |      | \
    \  | Server    |\n                           |   +--------+      |   +-----------+\n\
    \   External screening routers typically have inbound access lists that\n   block\
    \ unauthorized traffic from the Internet, and outbound access\n   lists that permit\
    \ access only to DMZ servers and the bastion host.\n   The inbound filters commonly\
    \ block the Private Address Space, as well\n   as address space from the enterprise's\
    \ internal network.  If the\n   internal network address changes, the inbound\
    \ filters clearly will\n   need to change.\n   If DMZ host addresses change, the\
    \ corresponding outbound filters from\n   the external screening host also will\
    \ need to change.  Internal\n   screening routers permit access from the internal\
    \ network to selected\n   servers on the perimeter network, as well as to the\
    \ bastion host\n   itself.  If the enterprise uses private address space internally,\n\
    \   renumbering may not affect this router.\n   Another component of a firewall\
    \ system is the \"split DNS\" server,\n   which provides address mapping in relation\
    \ to the globally visible\n   parts of the\n"
- title: 9.3  Dynamic Access Control Mechanisms
  contents:
  - "9.3  Dynamic Access Control Mechanisms\n   Certain access control services, such\
    \ as RADIUS and TACACS+, may\n   insert dynamically assigned access rules into\
    \ router configurations.\n   For example, a RADIUS database \"contains a list\
    \ of requirements which\n   must be met to allow access for the user.  This always\
    \ includes\n   verification of the password, but can also specify the client(s)\
    \ or\n   port(s) to which the user is allowed access. [Rigney].\"\n   Configuration\
    \ information dynamically communicated to the router may\n   be in the form of\
    \ filtering rules.  Effectively, this authentication\n   database becomes an extension\
    \ of the router configuration database.\n   Both these databases may need to change\
    \ as part of a renumbering\n   effort.\n   Another dynamic configuration issue\
    \ arises when \"stateful packet\n   screening\" on bastion hosts or routers is\
    \ used to provide security\n   for UDP-based services, or simply for IP.  In such\
    \ services, when an\n   authorized packet leaves the local environment to go into\
    \ an\n   untrusted address space, a temporary filtering rule is established on\n\
    \   the interface on which the response to this packet is expected.  The\n   rule\
    \ typically has a lifetime of a single packet response.  If these\n   rules are\
    \ defined in a database outside of the router, the rule\n   database again is\
    \ an extension of router configuration that must be\n   part of the renumbering\
    \ effort.\n"
- title: 10.  Interior Routing
  contents:
  - "10.  Interior Routing\n   This section deals with routing inside an enterprise,\
    \ which generally\n   follows, ignoring default routes, the rules:\n      1. \
    \ Does a single potential route exist to a destination?\n          If so, use\
    \ it.\n      2.  Is there more than one potential path to a destination?\n   \
    \       If so, use the path with the lowest end-to-end metric.\n      3.  Are\
    \ there multiple paths with equal lowest cost to the\n          destination? \
    \ If so, consider load balancing.\n   Most enterprises do not directly participate\
    \ in global Internet\n   routing mechanisms, the details of which are of concern\
    \ to their\n   service providers.  The next section deals with those more complex\n\
    \   exterior mechanisms.\n"
- title: 10.1  Static Routes
  contents:
  - "10.1  Static Routes\n   During renumbering, the destination and/or next hop address\
    \ of static\n   routes may need to change.  It may be necessary to restart routers\
    \ or\n   explicitly clear a routing table entry to force the changed static\n\
    \   route to take effect.\n"
- title: 10.2  RIP (Version 1 unless otherwise specified)
  contents:
  - "10.2  RIP (Version 1 unless otherwise specified)\n   The Routing Information\
    \ Protocol (RIP) has long been with us, as one\n   of the first interior routing\
    \ protocols.  It still does that job in\n   small networks, and also has been\
    \ used for assorted functions that\n   are not strictly part of interior routing.\
    \  In this discussion, we\n   will first deal with pure interior routing applications.\n\
    \   In a renumbering effort that involves classless addressing, RIPv1 may\n  \
    \ not be able to cope with the new addressing scheme.  Officially, this\n   protocol\
    \ is Historic and should be avoided in new routing plans.\n   Where legacy support\
    \ requirements dictate it be retained, it is\n   worthwhile to try to limit RIPv1\
    \ in \"stub\" parts of the network.\n   Vendor-specific mechanisms may be available\
    \ to interface RIPv1 to a\n   classless environment.\n   As part of planning renumbering,\
    \ strong consideration should be given\n   to moving to RIPv2, OSPF, or other\
    \ classless routing protocols as the\n   primary means of interior routing.  Doing\
    \ so, however, may not remove\n   the need to run RIP in certain parts of the\
    \ enterprise.\n   RIP is widely implemented on hosts, where it may be used as\
    \ a method\n   of router discovery, or for load-balancing and fault tolerance\
    \ when\n   multiple routers are on a subnet.  In these applications, RIP need\n\
    \   not be the only routing protocol in the domain; RIP may be present\n   only\
    \ on stub subnets.  Destination information from more capable\n   routing protocols\
    \ may be translated into RIP updates.  While it is\n   generally reasonable to\
    \ minimize or remove RIP as part of a\n   renumbering effort, be careful not to\
    \ disable the ability of hosts to\n   locate routers.\n   RIP is also used as\
    \ a quasi-exterior routing mechanism between some\n   customers and their ISPs,\
    \ as a means simpler than BGP for the\n   customer to announce routes to the provider.\n"
- title: 10.3  OSPF
  contents:
  - "10.3  OSPF\n   OSPF has several sensitivities to renumbering beyond those of\
    \ simpler\n   routing protocols.  If router IDs are assigned to be part of the\n\
    \   registered address space, they may need to be changed as part of the\n   renumbering\
    \ effort.  It may be appropriate to use RFC 1918 private\n   address space for\
    \ router IDs, as long as these can be looked up in a\n   DNS server within the\
    \ domain.\n   Summarization rules are likely to be affected by renumbering,\n\
    \   especially if area boundaries change.\n   Special addressing techniques, such\
    \ as unnumbered interfaces and\n   physical interfaces with IP addresses in multiple\
    \ subnets, may not be\n   transparent to OSPF.  Care should be exercised in their\
    \ use, and\n   their use definitely should be limited to intra-area scope.\n \
    \  If part of the renumbering motivation is the introduction of NBMA\n   services,\
    \ there can be numerous impacts on OSPF.  Generally, the best\n   way to minimize\
    \ impact is to use separate subnets for each VC.  By\n   doing so, different OSPF\
    \ costs can be assigned to different VCs,\n   designated router configuration\
    \ is not needed, etc.\n"
- title: 10.4  IS-IS
  contents:
  - "10.4  IS-IS\n   IP prefixes are usually associated with IS-IS area definitions.\
    \  If\n   IP prefixes change, there may be a corresponding change in area\n  \
    \ definitions.\n"
- title: 10.5  IGRP and Enhanced IGRP
  contents:
  - "10.5  IGRP and Enhanced IGRP\n   When a change from IGRP to enhanced IGRP is\
    \ part of a renumbering\n   effort, the need to disable IGRP automatic route summarization\
    \ needs\n   to be considered.  This is likely if classless addressing is being\n\
    \   implemented.\n   Also be aware of the nuances of automatic redistribution\
    \ between IGRP\n   and EIGRP.  The \"autonomous system number,\" which need not\
    \ be a true\n   AS number but simply identifies a set of cooperating routers,\
    \ must be\n   the same on the IGRP and EIGRP processes for automatic redistribution\n\
    \   to occur.\n"
- title: 11.  Exterior Routing
  contents:
  - "11.  Exterior Routing\n   Exterior routes may be defined statically.  If dynamic\
    \ routing is\n   involved, such routes are learned primarily from BGP.  RIP is\
    \ not\n   infrequently used to allow ISPs to learn dynamically of new customer\n\
    \   routes, although there are security concerns in such an approach.\n   IGRP\
    \ and EIGRP can be used to advertise external routes.\n   Renumbering that affects\
    \ BGP-speaking routers can be complex, because\n   it can require changes not\
    \ only in the BGP routers of the local\n   Autonomous System, but also require\
    \ changes in routers of other AS\n   and in routing registries.  This will require\
    \ careful administrative\n   coordination.\n   If for no other reason than documentation,\
    \ consider use of a routing\n   policy notation [RIPE-181++] [RPSL] to describe\
    \ exterior routing\n   policies\n"
- title: 11.1  Routing Registries/Routing Databases
  contents:
  - "11.1  Routing Registries/Routing Databases\n   Organizations who participate\
    \ in exterior routing usually will have\n   routing information not only in their\
    \ routers, but in databases\n   operated by registries or higher-level service\
    \ providers (e.g., the\n   Routing Arbiter).\n   If an ISP whose previous address\
    \ space came from a different provider\n   either renumbers into a different provider's\
    \ address space, or gains\n   a recognized block of its own, there may be administrative\n\
    \   requirements to return the previously allocated addresses.  These\n   include\
    \ changes in IN-ADDR.ARPA delegation, SWIP databases, etc., and\n   need to be\
    \ coordinated with the specific registries and providers\n   involved.   Not all\
    \ registries and providers have the same policies.\n   If the enterprise is a\
    \ registered Autonomous System and renumbers\n   into a different address space,\
    \ route objects with old prefixes in\n   routing registries need to be deleted\
    \ and route objects with new\n   prefixes need to be added.\n"
- title: 11.2  BGP--Own Organization
  contents:
  - "11.2  BGP--Own Organization\n   IP addressing information can be hard-coded in\
    \ several aspects of a\n   BGP speaker.  These include:\n      1.  Router ID\n\
    \      2.  Peer router IP addresses\n      3.  Advertised prefix lists\n     \
    \ 4.  Route filtering rules\n   Some tools exist [RtConfig] for generating policy\
    \ configuration part\n   of BGP router configuration statements from the policies\
    \ specified in\n   RIPE-181 or RPSL.\n"
- title: 11.3  BGP--Other AS
  contents:
  - "11.3  BGP--Other AS\n   Other autonomous systems, including nonadjacent ones,\
    \ can contain\n   direct or indirect (e.g., aggregated) references to the above\
    \ routing\n   information.  Tools exist that can do preliminary checking of\n\
    \   connectivity to given external destinations [RADB].\n"
- title: 12.  Network Management
  contents:
  - "12.  Network Management\n   This section is intended to deal with those parts\
    \ of network\n   management that are intimately associated with routers, rather\
    \ than a\n   general discussion of renumbering and network management.\n   Methods\
    \ used for managing routers include telnets to virtual console\n   ports, SNMP,\
    \ and TFTP.  Network management scripts may contain hard-\n   coded references\
    \ to IP addresses supporting these services.  In\n   general, try to convert script\
    \ references to IP addresses to DNS\n   names.\n   A critical and complex problem\
    \ will be converting SNMP databases,\n   which are usually organized by IP address.\n"
- title: 12.1  Configuration Management
  contents:
  - "12.1  Configuration Management\n   Names and addresses of servers that participate\
    \ in configuration\n   management may need to change, as well as the contents\
    \ of the\n   configurations they provide. TFTP servers are commonly used here,\
    \ as\n   may be SNMP managers.\n"
- title: 12.2  Name Resolution/Directory Services
  contents:
  - "12.2  Name Resolution/Directory Services\n   During renumbering, it will probably\
    \ be useful to assign DNS names to\n   interfaces, virtual interfaces, and router\
    \ IDs of routers.  Remember\n   that it is perfectly acceptable to identify internal\
    \ interfaces with\n   RFC1597/RFC1918 private addresses, as long as firewalling\
    \ or other\n   filtering prevent these addresses to be propagated outside the\n\
    \   enterprise.\n   If dynamic addressing is used, dynamic DNS should be considered.\n\
    \   Since this is under development, it may  be appropriate to consider\n   proprietary\
    \ means to learn what addresses have been assigned\n   dynamically, so they can\
    \ be pinged or otherwise managed.\n   Also remember that some name resolution\
    \ may be done by static tables\n   that are part of router configurations.  Changing\
    \ the DNS entries,\n   and even restarting the routers, will not change these.\n"
- title: 12.3  Fault Management
  contents:
  - "12.3  Fault Management\n   Abnormal condition indications can be sent to several\
    \ places that may\n   have hard-coded IP addresses, such as SNMP trap servers,\
    \ syslogd\n   servers, etc.\n   It should be remembered that large bursts of transient\
    \ errors may be\n   caused as part of address cutover in renumbering.  Be aware\
    \ that\n   these bursts might overrun the capacity of logging files, and\n   conceivably\
    \ cause loss of auditing information.  Consider enlarging\n   files or otherwise\
    \ protecting them during cutover.\n"
- title: 12.4  Performance Management
  contents:
  - "12.4  Performance Management\n   Performance information can be recorded in routers\
    \ themselves, and\n   retrieved by network management scripts.  Other performance\n\
    \   information may be sent to syslogd, or be kept in SNMP data bases.\n   Load-generating\
    \ scripts used for performance testing may contain\n   hard-coded IP addresses.\
    \  Look carefully for scripts that contain\n   executable code for generating\
    \ ranges of test addresses.  Such\n   scripts may, at first examination, not appear\
    \ to contain explicit IP\n   addresses.  They may, for example, contain a \"seed\"\
    \ address used with\n   an incrementing loop.\n"
- title: 12.5  Accounting Management
  contents:
  - "12.5  Accounting Management\n   Accounting records may be sent periodically to\
    \ syslogd or as SNMP\n   traps.  Alternatively, the SNMP manager or other management\n\
    \   applications may periodically poll accounting information in routers,\n  \
    \ and thus contain hard-coded IP addresses.\n"
- title: 12.6  Security Management
  contents:
  - "12.6  Security Management\n   Security management includes logging, authentication,\
    \ filtering, and\n   access control.  Routers can have hard-coded references to\
    \ servers\n   for any of these functions.\n   In addition, routers commonly will\
    \ contain filters containing\n   security-related rules.  These rules are apt\
    \ to need explicit\n   recoding, since they tend to operate on a bit level.\n\
    \   Some authentication servers and filtering mechanisms may dynamically\n   update\
    \ router filters.\n"
- title: 12.7  Time Service
  contents:
  - "12.7  Time Service\n   Hard-coded references to NTP servers should be changed\
    \ to DNS when\n   possible, and renumbered otherwise.\n"
- title: 13.  IP and Protocol Encapsulation
  contents:
  - "13.  IP and Protocol Encapsulation\n   IP packets can be routed to provide connectivity\
    \ for non-IP\n   protocols, or for IP traffic with addresses not consistent with\
    \ the\n   active routing environment.  Such encapsulating functions usually\n\
    \   have a tunneling model, where an end-to-end connection between two\n   \"\
    passenger\" protocol addresses is mapped to a pair of endpoint IP\n   addresses.\
    \   Generic Route Encapsulation is a representative means of\n   such tunneling\
    \ [RFC1701, RFC1702].\n"
- title: 13.1  Present
  contents:
  - "13.1  Present\n   Renumbering of the primary IP environment often does not mean\
    \ that\n   passenger protocol addresses need to change.  In fact, such protocol\n\
    \   encapsulation for IP traffic may be a very viable method for handling\n  \
    \ legacy systems that cannot easily be renumbered.  For this legacy\n   case,\
    \ the legacy IP addresses can be tunneled over the renumbered\n   routing environment.\n\
    \   Also note that IP may be a passenger protocol over non-IP systems\n   using\
    \ IPX, AppleTalk, etc.\n"
- title: 13.2  Future
  contents:
  - "13.2  Future\n   Tunneling mechanisms are fundamental for the planned transition\
    \ of\n   IPv4 to IPv6.  As part of an IPv4 renumbering effort, it may be\n   worthwhile\
    \ to reserve some address space for future IPv6 tunnels.\n   While there are clear\
    \ and immediate needs for IPv4 renumbering, there\n   may be cases where IPv4\
    \ renumbering can be deferred for some months\n   or years.  If the effort is\
    \ deferred, it may be prudent at that time\n   to consider if available IPv6 implementations\
    \ or tunneling mechanisms\n   form viable alternatives to IPv4 renumbering.  It\
    \ might be\n   appropriate to renumber certain parts of the existing IPv4 space\n\
    \   directly into the IPv6 space.  Tools for this purpose are\n   experimental\
    \ at the time this document was written.\n"
- title: 14.  Security Considerations
  contents:
  - "14.  Security Considerations\n   Routers are critical parts of firewalls, and\
    \ are otherwise used for\n   security enforcement.  Configuration errors made\
    \ during renumbering\n   can expose systems to malicious intruders, or deny service\
    \ to\n   authorized users.  The most critical area of concern is that filters\n\
    \   are configured properly for old and new address, but other numbers\n   also\
    \ can impact security, such as pointers to authentication,\n   logging, and DNS\
    \ servers.\n   During a renumbering operation, it may be appropriate to introduce\n\
    \   authentication mechanisms for routing updates.\n"
- title: 15.  Planning and Implementing the Renumbering
  contents:
  - "15.  Planning and Implementing the Renumbering\n   Much of the effort in renumbering\
    \ will be on platforms other than\n   routers.  Nevertheless, routers are a key\
    \ part of any renumbering\n   effort.\n   Step 1--Inventory of affected addresses\
    \ and names.\n   Step 2--Design any needed topological changes.  If temporary\
    \ address\n        space, network address translators, etc., are needed, obtain\n\
    \        them.\n   Step 3--Install and test changes to make the network more\n\
    \        renumbering-friendly.  These include making maximum use of\n        default\
    \ routes  and summarization, while minimizing address-\n        based references\
    \ to servers.\n   Step 4--Plan the actual renumbering.  Should it be phased or\
    \ total?\n        Can it be done in a series of stub network renumberings,\n \
    \       possibly with secondary addresses on core routers?  Is NAT\n        appropriate?\
    \  If so, how is it to be used?\n        What is your plan of retreat if major\
    \ problems develop?\n        Make a distinction between problems in the routing\
    \ system\n        and unforeseen problems in hosts affected by renumbering.\n\
    \   Step 5--Take final backups.\n   Step 6--Cut over addresses and names, or begin\
    \ coexistence.\n        Make needed DNS and firewall changes.\n        Restart\
    \ routers and servers as appropriate.\n        Clear caches as appropriate.\n\
    \        Remember static name definitions in routers may not be affected\n   \
    \       by DNS changes.\n        Coordinate changes with affected external organizations\
    \ (e.g.,\n          ISPs, business partners, routing registries)\n   Step 6--Document\
    \ what isn't already documented.  Make notes to help\n        the person who next\
    \ needs to renumber.  Share experience with\n        the PIER working group or\
    \ other appropriate organizations.\n"
- title: 15.1  Applying Changes
  contents:
  - "15.1  Applying Changes\n   Renumbering changes should be introduced with care\
    \ into operational\n   networks.   For changes to take effect, it is likely that\
    \ at least\n   interfaces and probably routers will have to be restarted.  The\n\
    \   sequence in which changes are applied must be carefully thought out,\n   to\
    \ avoid loss of connectivity, routing loops, etc., while the\n   renumbering is\
    \ in process.\n   See case studies presented to the PIER Working Group for examples\
    \ of\n   operational renumbering experience.  Organizations that have\n   undergone\
    \ renumbering have had to pay careful attention to informing\n   users of possible\
    \ outages, coordinating changes among multiple sites,\n   etc.  It will be an\
    \  organization-specific decision whether router\n   renumbering can be implemented\
    \ incrementally or must be done in a\n   major \"flag day\" conversion.\n   Before\
    \ making significant changes, TAKE BACKUPS FIRST of all router\n   configuration\
    \ files, DNS zone files, and other information that\n   documents your present\
    \ environment.\n"
- title: 15.2  Configuration Control
  contents:
  - "15.2  Configuration Control\n   Operationally, an important part of renumbering\
    \ and continued\n   numbering maintenance is not to rely on local router interfaces,\n\
    \   either command language interpreter, menu-based, or graphic, for the\n   more\
    \ sophisticated aspects of configuration, but to do primary\n   configuration\
    \ (and changes) on an appropriate workstation.  On a\n   workstation or other\
    \ general-purpose computer, configuration files\n   can be edited, listed, processed\
    \ with macro processors and other\n   tools, etc.   Source code control tools\
    \ can be used on the router\n   configuration files.\n   Once the configuration\
    \ file is defined for a router, mechanisms for\n   loading it vary with the specific\
    \ router implementation.  In general,\n   these will include a file transfer using\
    \ FTP or TFTP into a\n   configuration file on the router, SNMP SET commands,\
    \ or logging in to\n   the  router as a remote console and using a terminal emulator\
    \ to\n   upload the new configuration under the router's interactive\n   configuration\
    \ mode.  Original acquisition of legacy configuration\n   files is the inverse\
    \ of this process.\n"
- title: 15.3  Avoiding Instability
  contents:
  - "15.3  Avoiding Instability\n   Routing processes tend towards instability when\
    \ they suddenly need to\n   handle very large numbers of updates, as might occur\
    \ if a \"flag day\"\n   cutover is not carefully planned.  A general guideline\
    \ is to make\n   changes in only one part of a routing hierarchy at a time.\n\
    \   Routing system design should be hierarchical in all but the smallest\n   domains.\
    \  While OSPF and IS-IS have explicit area-based hierarchical\n   models, hierarchical\
    \ principles can be used with most implementations\n   of modern routing protocols.\
    \  Hierarchy can be imposed on a protocol\n   such as RIPv2 or EIGRP by judicious\
    \ use of route aggregation, routing\n   advertisement filtering, etc.\n   Respecting\
    \ a hierarchical model during renumbering means such things\n   as renumbering\
    \ a \"stub\" part of the routing domain and letting that\n   part stabilize before\
    \ changing other parts.  Alternatively, it may be\n   reasonable to add new numbers\
    \ to the backbone, allowing it to\n   converge, renumbering stubs, and then removing\
    \ old numbers from the\n   backbone.  Obviously, these guidelines are most practical\
    \ when there\n   is a distinct old and new address space without overlaps.  If\
    \ a block\n   of addresses must simply be reassigned, some loss of service must\
    \ be\n   expected.\n"
- title: 16.  Acknowledgments
  contents:
  - "16.  Acknowledgments\n   Thanks to Jim Bound, Paul Ferguson, Geert Jan de Groot,\
    \ Roger Fajman,\n   Matt Holdrege, Dorian Kim,  Walt Lazear, Eliot Lear, Will\
    \ Leland, and\n   Bill Manning for advice and comments.\n"
- title: 17.  References
  contents:
  - "17.  References\n  [RFC2071] Ferguson, P., and H. Berkowitz, \"Network Renumbering\n\
    \  Overview: Why would I want it and what is it anyway?\", RFC 2071,\n  January\
    \ 1997.\n  [Cansever] Cansever, D., \"NHRP Protocol Applicability Statement\"\
    ,\n  Work in Progress.\n  [Katz] Luciani, J., Katz, D., Piscitello, D., and Cole,\
    \ B., \"NBMA Next\n  Hop Resolution Protocol (NHRP)\", Work in Progress.\n  [Hubbard]\
    \ Hubbard, K., Kosters, M., Conrad, D., Karrenberg, D., and J.\n  Postel, \"INTERNET\
    \ REGISTRY IP ALLOCATION GUIDELINES\", BCP 12, RFC\n  2050, November 1996.\n \
    \ [RFC1631] Egevang,, K., and P. Francis, \"The IP Network Address\n  Translator\
    \ (NAT)\", RFC 1631, May 1994.\n  [RFC1918] Rekhter, Y., Moskowitz, R., Karrenberg,\
    \ D., de Groot, G-J.,\n  and E. Lear, \"Address Allocation for Private Internets\"\
    , RFC 1918,\n  February 1996.\n  [RFC1900] Carpenter, B., and Y. Rekhter, \"Renumbering\
    \ Needs Work\", RFC\n  1900, February 1996.\n  [RPS] Alaettinoglu, C., Bates,\
    \ T., Gerich, E., Terpstra, M., and C.\n  Villamizer, \"Routing Policy Specification\
    \ Language\", Work in Progress.\n  [RFC1812] Baker, F., \"Requirements for IP\
    \ Version 4 Routers\", RFC\n  1812, June 1995.\n  [Rigney] Rigney, C., Rubens,\
    \ A., Simpson, W., and S. Willens, \"Remote\n  Authentication Dial In User Service\
    \ (RADIUS)\", RFC 2058, January 1997.\n  [Carpenter]  Message to PIER Mailing\
    \ List, see PIER Archives\n  [Lear]  Message to PIER Mailing List, see PIER Archives\n\
    \  [deGroot]   Message to PIER Mailing List, see PIER Archives\n  [Wobus] \"DHCP\
    \ FAQ Memo\",\n  http://web.syr.edu/~jmwobus/comfaqs/dhcp.faq.html\n"
- title: 18.  Author's Address
  contents:
  - "18.  Author's Address\n   Howard C. Berkowitz\n   PSC International\n   1600\
    \ Spring Hill Road, Suite 310\n   Vienna VA 22182\n   Phone: +1 703 998 5819\n\
    \   EMail: hcb@clark.net\n"
