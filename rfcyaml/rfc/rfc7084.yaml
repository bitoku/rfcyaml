- title: __initial_text__
  contents:
  - '           Basic Requirements for IPv6 Customer Edge Routers

    '
- title: Abstract
  contents:
  - "Abstract\n   This document specifies requirements for an IPv6 Customer Edge (CE)\n\
    \   router.  Specifically, the current version of this document focuses\n   on\
    \ the basic provisioning of an IPv6 CE router and the provisioning\n   of IPv6\
    \ hosts attached to it.  The document also covers IP transition\n   technologies.\
    \  Two transition technologies in RFC 5969's IPv6 Rapid\n   Deployment on IPv4\
    \ Infrastructures (6rd) and RFC 6333's Dual-Stack\n   Lite (DS-Lite) are covered\
    \ in the document.  The document obsoletes\n   RFC 6204.\n"
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This document is not an Internet Standards Track specification;\
    \ it is\n   published for informational purposes.\n   This document is a product\
    \ of the Internet Engineering Task Force\n   (IETF).  It represents the consensus\
    \ of the IETF community.  It has\n   received public review and has been approved\
    \ for publication by the\n   Internet Engineering Steering Group (IESG).  Not\
    \ all documents\n   approved by the IESG are a candidate for any level of Internet\n\
    \   Standard; see Section 2 of RFC 5741.\n   Information about the current status\
    \ of this document, any errata,\n   and how to provide feedback on it may be obtained\
    \ at\n   http://www.rfc-editor.org/info/rfc7084.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (c) 2013 IETF Trust and the persons identified\
    \ as the\n   document authors.  All rights reserved.\n   This document is subject\
    \ to BCP 78 and the IETF Trust's Legal\n   Provisions Relating to IETF Documents\n\
    \   (http://trustee.ietf.org/license-info) in effect on the date of\n   publication\
    \ of this document.  Please review these documents\n   carefully, as they describe\
    \ your rights and restrictions with respect\n   to this document.  Code Components\
    \ extracted from this document must\n   include Simplified BSD License text as\
    \ described in Section 4.e of\n   the Trust Legal Provisions and are provided\
    \ without warranty as\n   described in the Simplified BSD License.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1. Introduction ....................................................3\n\
    \      1.1. Requirements Language ......................................3\n  \
    \ 2. Terminology .....................................................4\n   3.\
    \ Architecture ....................................................5\n      3.1.\
    \ Current IPv4 End-User Network Architecture .................5\n      3.2. IPv6\
    \ End-User Network Architecture .........................5\n           3.2.1.\
    \ Local Communication .................................7\n   4. Requirements ....................................................7\n\
    \      4.1. General Requirements .......................................7\n  \
    \    4.2. WAN-Side Configuration .....................................8\n    \
    \  4.3. LAN-Side Configuration ....................................12\n      4.4.\
    \ Transition Technologies Support ...........................14\n           4.4.1.\
    \ 6rd ................................................14\n           4.4.2. Dual-Stack\
    \ Lite (DS-Lite) ..........................15\n      4.5. Security Considerations\
    \ ...................................16\n   5. Acknowledgements ...............................................17\n\
    \   6. Contributors ...................................................17\n  \
    \ 7. References .....................................................18\n    \
    \  7.1. Normative References ......................................18\n      7.2.\
    \ Informative References ....................................20\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   This document defines basic IPv6 features for a residential\
    \ or small-\n   office router, referred to as an \"IPv6 CE router\", in order\
    \ to\n   establish an industry baseline for features to be implemented on such\n\
    \   a router.\n   These routers typically also support IPv4.\n   Mixed environments\
    \ of dual-stack hosts and IPv6-only hosts (behind\n   the CE router) can be more\
    \ complex if the IPv6-only devices are using\n   a translator to access IPv4 servers\
    \ [RFC6144].  Support for such\n   mixed environments is not in scope of this\
    \ document.\n   This document specifies how an IPv6 CE router automatically\n\
    \   provisions its WAN interface, acquires address space for provisioning\n  \
    \ of its LAN interfaces, and fetches other configuration information\n   from\
    \ the service provider network.  Automatic provisioning of more\n   complex topology\
    \ than a single router with multiple LAN interfaces is\n   out of scope for this\
    \ document.\n   See [RFC4779] for a discussion of options available for deploying\n\
    \   IPv6 in service provider access networks.\n   The document also covers the\
    \ IP transition technologies that were\n   available at the time this document\
    \ was written.  Two transition\n   technologies in 6rd [RFC5969] and DS-Lite [RFC6333]\
    \ are covered in\n   the document.\n"
- title: 1.1.  Requirements Language
  contents:
  - "1.1.  Requirements Language\n   Take careful note: Unlike other IETF documents,\
    \ the key words \"MUST\",\n   \"MUST NOT\", \"REQUIRED\", \"SHALL\", \"SHALL NOT\"\
    , \"SHOULD\", \"SHOULD NOT\",\n   \"RECOMMENDED\", \"MAY\", and \"OPTIONAL\" in\
    \ this document are not used as\n   described in RFC 2119 [RFC2119].  This document\
    \ uses these keywords\n   not strictly for the purpose of interoperability, but\
    \ rather for the\n   purpose of establishing industry-common baseline functionality.\
    \  As\n   such, the document points to several other specifications (preferable\n\
    \   in RFC or stable form) to provide additional guidance to implementers\n  \
    \ regarding any protocol implementation required to produce a\n   successful CE\
    \ router that interoperates successfully with a\n   particular subset of currently\
    \ deploying and planned common IPv6\n   access networks.\n"
- title: 2.  Terminology
  contents:
  - "2.  Terminology\n   End-User Network          one or more links attached to the\
    \ IPv6 CE\n                             router that connect IPv6 hosts.\n   IPv6\
    \ Customer Edge Router a node intended for home or small-office\n            \
    \                 use that forwards IPv6 packets not\n                       \
    \      explicitly addressed to itself.  The IPv6\n                           \
    \  CE router connects the end-user network to\n                             a\
    \ service provider network.\n   IPv6 Host                 any device implementing\
    \ an IPv6 stack\n                             receiving IPv6 connectivity through\
    \ the\n                             IPv6 CE router.\n   LAN Interface        \
    \     an IPv6 CE router's attachment to a link in\n                          \
    \   the end-user network.  Examples are\n                             Ethernet\
    \ (simple or bridged), 802.11\n                             wireless, or other\
    \ LAN technologies.  An\n                             IPv6 CE router may have\
    \ one or more\n                             network-layer LAN interfaces.\n  \
    \ Service Provider          an entity that provides access to the\n          \
    \                   Internet.  In this document, a service\n                 \
    \            provider specifically offers Internet\n                         \
    \    access using IPv6, and it may also offer\n                             IPv4\
    \ Internet access.  The service provider\n                             can provide\
    \ such access over a variety of\n                             different transport\
    \ methods such as DSL,\n                             cable, wireless, and others.\n\
    \   WAN Interface             an IPv6 CE router's attachment to a link\n     \
    \                        used to provide connectivity to the service\n       \
    \                      provider network; example link technologies\n         \
    \                    include Ethernet (simple or bridged), PPP\n             \
    \                links, Frame Relay, or ATM networks, as\n                   \
    \          well as Internet-layer (or higher-layer)\n                        \
    \     \"tunnels\", such as tunnels over IPv4 or\n                            \
    \ IPv6 itself.\n"
- title: 3.  Architecture
  contents:
  - '3.  Architecture

    '
- title: 3.1.  Current IPv4 End-User Network Architecture
  contents:
  - "3.1.  Current IPv4 End-User Network Architecture\n   An end-user network will\
    \ likely support both IPv4 and IPv6.  It is\n   not expected that an end user\
    \ will change their existing network\n   topology with the introduction of IPv6.\
    \  There are some differences\n   in how IPv6 works and is provisioned; these\
    \ differences have\n   implications for the network architecture.  A typical IPv4\
    \ end-user\n   network consists of a \"plug and play\" router with NAT functionality\n\
    \   and a single link behind it, connected to the service provider\n   network.\n\
    \   A typical IPv4 NAT deployment by default blocks all incoming\n   connections.\
    \  Opening of ports is typically allowed using a Universal\n   Plug and Play Internet\
    \ Gateway Device (UPnP IGD) [UPnP-IGD] or some\n   other firewall control protocol.\n\
    \   Another consequence of using private address space in the end-user\n   network\
    \ is that it provides stable addressing; that is, it never\n   changes even when\
    \ you change service providers, and the addresses are\n   always there even when\
    \ the WAN interface is down or the customer edge\n   router has not yet been provisioned.\n\
    \   Many existing routers support dynamic routing (which learns routes\n   from\
    \ other routers), and advanced end-users can build arbitrary,\n   complex networks\
    \ using manual configuration of address prefixes\n   combined with a dynamic routing\
    \ protocol.\n"
- title: 3.2.  IPv6 End-User Network Architecture
  contents:
  - "3.2.  IPv6 End-User Network Architecture\n   The end-user network architecture\
    \ for IPv6 should provide equivalent\n   or better capabilities and functionality\
    \ than the current IPv4\n   architecture.\n   The end-user network is a stub network.\
    \  Figure 1 illustrates the\n   model topology for the end-user network.\n   \
    \                +-------+-------+                      \\\n                 \
    \  |   Service     |                       \\\n                   |   Provider\
    \    |                        | Service\n                   |    Router     |\
    \                        | Provider\n                   +-------+-------+    \
    \                    | Network\n                           |                 \
    \              /\n                           | Customer                     /\n\
    \                           | Internet Connection         /\n                \
    \           |\n                    +------+--------+                    \\\n \
    \                   |     IPv6      |                     \\\n               \
    \     | Customer Edge |                      \\\n                    |    Router\
    \     |                      /\n                    +---+-------+-+-+        \
    \             /\n        Network A       |       |   Network B            | End-User\n\
    \  ---+-------------+----+-    --+--+-------------+---    | Network(s)\n     |\
    \             |               |             |        \\\n +----+-----+ +-----+----+\
    \     +----+-----+ +-----+----+   \\\n |IPv6 Host | |IPv6 Host |     | IPv6 Host|\
    \ |IPv6 Host |   /\n |          | |          |     |          | |          | \
    \ /\n +----------+ +-----+----+     +----------+ +----------+ /\n            Figure\
    \ 1: An Example of a Typical End-User Network\n   This architecture describes\
    \ the:\n   o  Basic capabilities of an IPv6 CE router\n   o  Provisioning of the\
    \ WAN interface connecting to the service\n      provider\n   o  Provisioning\
    \ of the LAN interfaces\n   For IPv6 multicast traffic, the IPv6 CE router may\
    \ act as a Multicast\n   Listener Discovery (MLD) proxy [RFC4605] and may support\
    \ a dynamic\n   multicast routing protocol.\n   The IPv6 CE router may be manually\
    \ configured in an arbitrary\n   topology with a dynamic routing protocol.  Automatic\
    \ provisioning and\n   configuration are described for a single IPv6 CE router\
    \ only.\n"
- title: 3.2.1.  Local Communication
  contents:
  - "3.2.1.  Local Communication\n   Link-local IPv6 addresses are used by hosts communicating\
    \ on a single\n   link.  Unique Local IPv6 Unicast Addresses (ULAs) [RFC4193]\
    \ are used\n   by hosts communicating within the end-user network across multiple\n\
    \   links, but without requiring the application to use a globally\n   routable\
    \ address.  The IPv6 CE router defaults to acting as the\n   demarcation point\
    \ between two networks by providing a ULA boundary, a\n   multicast zone boundary,\
    \ and ingress and egress traffic filters.\n   At the time of this writing, several\
    \ host implementations do not\n   handle the case where they have an IPv6 address\
    \ configured and no\n   IPv6 connectivity, either because the address itself has\
    \ a limited\n   topological reachability (e.g., ULA) or because the IPv6 CE router\
    \ is\n   not connected to the IPv6 network on its WAN interface.  To support\n\
    \   host implementations that do not handle multihoming in a multi-prefix\n  \
    \ environment [MULTIHOMING-WITHOUT-NAT], the IPv6 CE router should not,\n   as\
    \ detailed in the requirements below, advertise itself as a default\n   router\
    \ on the LAN interface(s) when it does not have IPv6\n   connectivity on the WAN\
    \ interface or when it is not provisioned with\n   IPv6 addresses.  For local\
    \ IPv6 communication, the mechanisms\n   specified in [RFC4191] are used.\n  \
    \ ULA addressing is useful where the IPv6 CE router has multiple LAN\n   interfaces\
    \ with hosts that need to communicate with each other.  If\n   the IPv6 CE router\
    \ has only a single LAN interface (IPv6 link), then\n   link-local addressing\
    \ can be used instead.\n   Coexistence with IPv4 requires any IPv6 CE router(s)\
    \ on the LAN to\n   conform to these recommendations, especially requirements\
    \ ULA-5 and\n   L-4 below.\n"
- title: 4.  Requirements
  contents:
  - '4.  Requirements

    '
- title: 4.1.  General Requirements
  contents:
  - "4.1.  General Requirements\n   The IPv6 CE router is responsible for implementing\
    \ IPv6 routing; that\n   is, the IPv6 CE router must look up the IPv6 destination\
    \ address in\n   its routing table to decide to which interface it should send\
    \ the\n   packet.\n   In this role, the IPv6 CE router is responsible for ensuring\
    \ that\n   traffic using its ULA addressing does not go out the WAN interface\n\
    \   and does not originate from the WAN interface.\n   G-1:  An IPv6 CE router\
    \ is an IPv6 node according to the IPv6 Node\n         Requirements specification\
    \ [RFC6434].\n   G-2:  The IPv6 CE router MUST implement ICMPv6 according to\n\
    \         [RFC4443].  In particular, point-to-point links MUST be handled\n  \
    \       as described in Section 3.1 of [RFC4443].\n   G-3:  The IPv6 CE router\
    \ MUST NOT forward any IPv6 traffic between\n         its LAN interface(s) and\
    \ its WAN interface until the router has\n         successfully completed the\
    \ IPv6 address and the delegated\n         prefix acquisition process.\n   G-4:\
    \  By default, an IPv6 CE router that has no default router(s) on\n         its\
    \ WAN interface MUST NOT advertise itself as an IPv6 default\n         router\
    \ on its LAN interfaces.  That is, the \"Router Lifetime\"\n         field is\
    \ set to zero in all Router Advertisement messages it\n         originates [RFC4861].\n\
    \   G-5:  By default, if the IPv6 CE router is an advertising router and\n   \
    \      loses its IPv6 default router(s) and/or detects loss of\n         connectivity\
    \ on the WAN interface, it MUST explicitly\n         invalidate itself as an IPv6\
    \ default router on each of its\n         advertising interfaces by immediately\
    \ transmitting one or more\n         Router Advertisement messages with the \"\
    Router Lifetime\" field\n         set to zero [RFC4861].\n"
- title: 4.2.  WAN-Side Configuration
  contents:
  - "4.2.  WAN-Side Configuration\n   The IPv6 CE router will need to support connectivity\
    \ to one or more\n   access network architectures.  This document describes an\
    \ IPv6 CE\n   router that is not specific to any particular architecture or service\n\
    \   provider and that supports all commonly used architectures.\n   IPv6 Neighbor\
    \ Discovery and DHCPv6 protocols operate over any type of\n   IPv6-supported link\
    \ layer, and there is no need for a link-layer-\n   specific configuration protocol\
    \ for IPv6 network-layer configuration\n   options as in, e.g., PPP IP Control\
    \ Protocol (IPCP) for IPv4.  This\n   section makes the assumption that the same\
    \ mechanism will work for\n   any link layer, be it Ethernet, the Data Over Cable\
    \ Service Interface\n   Specification (DOCSIS), PPP, or others.\n   WAN-side requirements:\n\
    \   W-1:  When the router is attached to the WAN interface link, it MUST\n   \
    \      act as an IPv6 host for the purposes of stateless [RFC4862] or\n      \
    \   stateful [RFC3315] interface address assignment.\n   W-2:  The IPv6 CE router\
    \ MUST generate a link-local address and\n         finish Duplicate Address Detection\
    \ according to [RFC4862] prior\n         to sending any Router Solicitations on\
    \ the interface.  The\n         source address used in the subsequent Router Solicitation\
    \ MUST\n         be the link-local address on the WAN interface.\n   W-3:  Absent\
    \ other routing information, the IPv6 CE router MUST use\n         Router Discovery\
    \ as specified in [RFC4861] to discover a\n         default router(s) and install\
    \ a default route(s) in its routing\n         table with the discovered router's\
    \ address as the next hop.\n   W-4:  The router MUST act as a requesting router\
    \ for the purposes of\n         DHCPv6 prefix delegation ([RFC3633]).\n   W-5:\
    \  The IPv6 CE router MUST use a persistent DHCP Unique Identifier\n         (DUID)\
    \ for DHCPv6 messages.  The DUID MUST NOT change between\n         network-interface\
    \ resets or IPv6 CE router reboots.\n   W-6:  The WAN interface of the CE router\
    \ SHOULD support a Port\n         Control Protocol (PCP) client as specified in\
    \ [RFC6887] for use\n         by applications on the CE router.  The PCP client\
    \ SHOULD follow\n         the procedure specified in Section 8.1 of [RFC6887]\
    \ to discover\n         its PCP server.  This document takes no position on whether\n\
    \         such functionality is enabled by default or mechanisms by which\n  \
    \       users would configure the functionality.  Handling PCP requests\n    \
    \     from PCP clients in the LAN side of the CE router is out of\n         scope.\n\
    \   Link-layer requirements:\n   WLL-1:  If the WAN interface supports Ethernet\
    \ encapsulation, then\n           the IPv6 CE router MUST support IPv6 over Ethernet\
    \ [RFC2464].\n   WLL-2:  If the WAN interface supports PPP encapsulation, the\
    \ IPv6 CE\n           router MUST support IPv6 over PPP [RFC5072].\n   WLL-3:\
    \  If the WAN interface supports PPP encapsulation, in a dual-\n           stack\
    \ environment with IPCP and IPV6CP running over one PPP\n           logical channel,\
    \ the Network Control Protocols (NCPs) MUST be\n           treated as independent\
    \ of each other and start and terminate\n           independently.\n   Address\
    \ assignment requirements:\n   WAA-1:   The IPv6 CE router MUST support Stateless\
    \ Address\n            Autoconfiguration (SLAAC) [RFC4862].\n   WAA-2:   The IPv6\
    \ CE router MUST follow the recommendations in\n            Section 4 of [RFC5942],\
    \ and in particular the handling of\n            the L flag in the Router Advertisement\
    \ Prefix Information\n            option.\n   WAA-3:   The IPv6 CE router MUST\
    \ support DHCPv6 [RFC3315] client\n            behavior.\n   WAA-4:   The IPv6\
    \ CE router MUST be able to support the following\n            DHCPv6 options:\
    \ Identity Association for Non-temporary\n            Address (IA_NA), Reconfigure\
    \ Accept [RFC3315], and\n            DNS_SERVERS [RFC3646].  The IPv6 CE router\
    \ SHOULD be able to\n            support the DNS Search List (DNSSL) option as\
    \ specified in\n            [RFC3646].\n   WAA-5:   The IPv6 CE router SHOULD\
    \ implement the Network Time\n            Protocol (NTP) as specified in [RFC5905]\
    \ to provide a time\n            reference common to the service provider for\
    \ other\n            protocols, such as DHCPv6, to use.  If the CE router\n  \
    \          implements NTP, it requests the NTP Server DHCPv6 option\n        \
    \    [RFC5908] and uses the received list of servers as primary\n            time\
    \ reference, unless explicitly configured otherwise.  LAN\n            side support\
    \ of NTP is out of scope for this document.\n   WAA-6:   If the IPv6 CE router\
    \ receives a Router Advertisement\n            message (described in [RFC4861])\
    \ with the M flag set to 1,\n            the IPv6 CE router MUST do DHCPv6 address\
    \ assignment\n            (request an IA_NA option).\n   WAA-7:   If the IPv6\
    \ CE router does not acquire a global IPv6\n            address(es) from either\
    \ SLAAC or DHCPv6, then it MUST create\n            a global IPv6 address(es)\
    \ from its delegated prefix(es) and\n            configure those on one of its\
    \ internal virtual network\n            interfaces, unless configured to require\
    \ a global IPv6\n            address on the WAN interface.\n   WAA-8:   The CE\
    \ router MUST support the SOL_MAX_RT option [RFC7083]\n            and request\
    \ the SOL_MAX_RT option in an Option Request\n            Option (ORO).\n   WAA-9:\
    \   As a router, the IPv6 CE router MUST follow the weak host\n            (Weak\
    \ End System) model [RFC1122].  When originating packets\n            from an\
    \ interface, it will use a source address from another\n            one of its\
    \ interfaces if the outgoing interface does not\n            have an address of\
    \ suitable scope.\n   WAA-10:  The IPv6 CE router SHOULD implement the Information\
    \ Refresh\n            Time option and associated client behavior as specified\
    \ in\n            [RFC4242].\n   Prefix delegation requirements:\n   WPD-1:  The\
    \ IPv6 CE router MUST support DHCPv6 prefix delegation\n           requesting\
    \ router behavior as specified in [RFC3633]\n           (Identity Association\
    \ for Prefix Delegation (IA_PD) option).\n   WPD-2:  The IPv6 CE router MAY indicate\
    \ as a hint to the delegating\n           router the size of the prefix it requires.\
    \  If so, it MUST\n           ask for a prefix large enough to assign one /64\
    \ for each of\n           its interfaces, rounded up to the nearest nibble, and\
    \ SHOULD\n           be configurable to ask for more.\n   WPD-3:  The IPv6 CE\
    \ router MUST be prepared to accept a delegated\n           prefix size different\
    \ from what is given in the hint.  If the\n           delegated prefix is too\
    \ small to address all of its\n           interfaces, the IPv6 CE router SHOULD\
    \ log a system management\n           error.  [RFC6177] covers the recommendations\
    \ for service\n           providers for prefix allocation sizes.\n   WPD-4:  By\
    \ default, the IPv6 CE router MUST initiate DHCPv6 prefix\n           delegation\
    \ when either the M or O flags are set to 1 in a\n           received Router Advertisement\
    \ (RA) message.  Behavior of the\n           CE router to use DHCPv6 prefix delegation\
    \ when the CE router\n           has not received any RA or received an RA with\
    \ the M and the\n           O bits set to zero is out of scope for this document.\n\
    \   WPD-5:  Any packet received by the CE router with a destination\n        \
    \   address in the prefix(es) delegated to the CE router but not\n           in\
    \ the set of prefixes assigned by the CE router to the LAN\n           must be\
    \ dropped.  In other words, the next hop for the\n           prefix(es) delegated\
    \ to the CE router should be the null\n           destination.  This is necessary\
    \ to prevent forwarding loops\n           when some addresses covered by the aggregate\
    \ are not\n           reachable [RFC4632].\n      (a)  The IPv6 CE router SHOULD\
    \ send an ICMPv6 Destination\n           Unreachable message in accordance with\
    \ Section 3.1 of\n           [RFC4443] back to the source of the packet, if the\
    \ packet is\n           to be dropped due to this rule.\n   WPD-6:  If the IPv6\
    \ CE router requests both an IA_NA and an IA_PD\n           option in DHCPv6,\
    \ it MUST accept an IA_PD option in DHCPv6\n           Advertise/Reply messages,\
    \ even if the message does not\n           contain any addresses, unless configured\
    \ to only obtain its\n           WAN IPv6 address via DHCPv6; see [DHCPv6-STATEFUL-ISSUES].\n\
    \   WPD-7:  By default, an IPv6 CE router MUST NOT initiate any dynamic\n    \
    \       routing protocol on its WAN interface.\n   WPD-8:  The IPv6 CE router\
    \ SHOULD support the [RFC6603] Prefix\n           Exclude option.\n"
- title: 4.3.  LAN-Side Configuration
  contents:
  - "4.3.  LAN-Side Configuration\n   The IPv6 CE router distributes configuration\
    \ information obtained\n   during WAN interface provisioning to IPv6 hosts and\
    \ assists IPv6\n   hosts in obtaining IPv6 addresses.  It also supports connectivity\
    \ of\n   these devices in the absence of any working WAN interface.\n   An IPv6\
    \ CE router is expected to support an IPv6 end-user network and\n   IPv6 hosts\
    \ that exhibit the following characteristics:\n   1.  Link-local addresses may\
    \ be insufficient for allowing IPv6\n       applications to communicate with each\
    \ other in the end-user\n       network.  The IPv6 CE router will need to enable\
    \ this\n       communication by providing globally scoped unicast addresses or\n\
    \       ULAs [RFC4193], whether or not WAN connectivity exists.\n   2.  IPv6 hosts\
    \ should be capable of using SLAAC and may be capable of\n       using DHCPv6\
    \ for acquiring their addresses.\n   3.  IPv6 hosts may use DHCPv6 for other configuration\
    \ information,\n       such as the DNS_SERVERS option for acquiring DNS information.\n\
    \   Unless otherwise specified, the following requirements apply to the\n   IPv6\
    \ CE router's LAN interfaces only.\n   ULA requirements:\n   ULA-1:  The IPv6\
    \ CE router SHOULD be capable of generating a ULA\n           prefix [RFC4193].\n\
    \   ULA-2:  An IPv6 CE router with a ULA prefix MUST maintain this prefix\n  \
    \         consistently across reboots.\n   ULA-3:  The value of the ULA prefix\
    \ SHOULD be configurable.\n   ULA-4:  By default, the IPv6 CE router MUST act\
    \ as a site border\n           router according to Section 4.3 of [RFC4193] and\
    \ filter\n           packets with local IPv6 source or destination addresses\n\
    \           accordingly.\n   ULA-5:  An IPv6 CE router MUST NOT advertise itself\
    \ as a default\n           router with a Router Lifetime greater than zero whenever\
    \ all\n           of its configured and delegated prefixes are ULA prefixes.\n\
    \   LAN requirements:\n   L-1:   The IPv6 CE router MUST support router behavior\
    \ according to\n          Neighbor Discovery for IPv6 [RFC4861].\n   L-2:   The\
    \ IPv6 CE router MUST assign a separate /64 from its\n          delegated prefix(es)\
    \ (and ULA prefix if configured to provide\n          ULA addressing) for each\
    \ of its LAN interfaces.\n   L-3:   An IPv6 CE router MUST advertise itself as\
    \ a router for the\n          delegated prefix(es) (and ULA prefix if configured\
    \ to provide\n          ULA addressing) using the \"Route Information Option\"\
    \ specified\n          in Section 2.3 of [RFC4191].  This advertisement is\n \
    \         independent of having or not having IPv6 connectivity on the\n     \
    \     WAN interface.\n   L-4:   An IPv6 CE router MUST NOT advertise itself as\
    \ a default\n          router with a Router Lifetime [RFC4861] greater than zero\
    \ if\n          it has no prefixes configured or delegated to it.\n   L-5:   The\
    \ IPv6 CE router MUST make each LAN interface an advertising\n          interface\
    \ according to [RFC4861].\n   L-6:   In Router Advertisement messages ([RFC4861]),\
    \ the Prefix\n          Information option's A and L flags MUST be set to 1 by\n\
    \          default.\n   L-7:   The A and L flags' ([RFC4861]) settings SHOULD\
    \ be user\n          configurable.\n   L-8:   The IPv6 CE router MUST support\
    \ a DHCPv6 server capable of\n          IPv6 address assignment according to [RFC3315]\
    \ OR a stateless\n          DHCPv6 server according to [RFC3736] on its LAN interfaces.\n\
    \   L-9:   Unless the IPv6 CE router is configured to support the DHCPv6\n   \
    \       IA_NA option, it SHOULD set the M flag to zero and the O flag\n      \
    \    to 1 in its Router Advertisement messages [RFC4861].\n   L-10:  The IPv6\
    \ CE router MUST support providing DNS information in\n          the DHCPv6 DNS_SERVERS\
    \ and DOMAIN_LIST options [RFC3646].\n   L-11:  The IPv6 CE router MUST support\
    \ providing DNS information in\n          the Router Advertisement Recursive DNS\
    \ Server (RDNSS) and DNS\n          Search List options.  Both options are specified\
    \ in [RFC6106].\n   L-12:  The IPv6 CE router SHOULD make available a subset of\
    \ DHCPv6\n          options (as listed in Section 5.3 of [RFC3736]) received from\n\
    \          the DHCPv6 client on its WAN interface to its LAN-side DHCPv6\n   \
    \       server.\n   L-13:  If the delegated prefix changes, i.e., the current\
    \ prefix is\n          replaced with a new prefix without any overlapping time\n\
    \          period, then the IPv6 CE router MUST immediately advertise the\n  \
    \        old prefix with a Preferred Lifetime of zero and a Valid\n          Lifetime\
    \ of either a) zero or b) the lower of the current\n          Valid Lifetime and\
    \ two hours (which must be decremented in\n          real time) in a Router Advertisement\
    \ message as described in\n          Section 5.5.3, (e) of [RFC4862].\n   L-14:\
    \  The IPv6 CE router MUST send an ICMPv6 Destination Unreachable\n          message,\
    \ code 5 (Source address failed ingress/egress policy)\n          for packets\
    \ forwarded to it that use an address from a prefix\n          that has been invalidated.\n"
- title: 4.4.  Transition Technologies Support
  contents:
  - '4.4.  Transition Technologies Support

    '
- title: 4.4.1.  6rd
  contents:
  - "4.4.1.  6rd\n   6rd [RFC5969] specifies an automatic tunneling mechanism tailored\
    \ to\n   advance deployment of IPv6 to end users via a service provider's IPv4\n\
    \   network infrastructure.  Key aspects include automatic IPv6 prefix\n   delegation\
    \ to sites, stateless operation, simple provisioning, and\n   service that is\
    \ equivalent to native IPv6 at the sites that are\n   served by the mechanism.\
    \  It is expected that such traffic is\n   forwarded over the CE router's native\
    \ IPv4 WAN interface and not\n   encapsulated in another tunnel.\n   The CE router\
    \ SHOULD support 6rd functionality.  If 6rd is supported,\n   it MUST be implemented\
    \ according to [RFC5969].  The following CE\n   Requirements also apply:\n   6rd\
    \ requirements:\n   6RD-1:  The IPv6 CE router MUST support 6rd configuration\
    \ via the 6rd\n           DHCPv4 Option 212.  If the CE router has obtained an\
    \ IPv4\n           network address through some other means such as PPP, it\n\
    \           SHOULD use the DHCPINFORM request message [RFC2131] to\n         \
    \  request the 6rd DHCPv4 Option.  The IPv6 CE router MAY use\n           other\
    \ mechanisms to configure 6rd parameters.  Such\n           mechanisms are outside\
    \ the scope of this document.\n   6RD-2:  If the IPv6 CE router is capable of\
    \ automated configuration\n           of IPv4 through IPCP (i.e., over a PPP connection),\
    \ it MUST\n           support user-entered configuration of 6rd.\n   6RD-3:  If\
    \ the CE router supports configuration mechanisms other than\n           the 6rd\
    \ DHCPv4 Option 212 (user-entered, TR-069 [TR-069],\n           etc.), the CE\
    \ router MUST support 6rd in \"hub and spoke\"\n           mode. 6rd in \"hub\
    \ and spoke\" requires all IPv6 traffic to go\n           to the 6rd Border Relay.\
    \  In effect, this requirement removes\n           the \"direct connect to 6rd\"\
    \ route defined in Section 7.1.1 of\n           [RFC5969].\n   6RD-4:  A CE router\
    \ MUST allow 6rd and native IPv6 WAN interfaces to\n           be active alone\
    \ as well as simultaneously in order to support\n           coexistence of the\
    \ two technologies during an incremental\n           migration period such as\
    \ a migration from 6rd to native IPv6.\n   6RD-5:  Each packet sent on a 6rd or\
    \ native WAN interface MUST be\n           directed such that its source IP address\
    \ is derived from the\n           delegated prefix associated with the particular\
    \ interface\n           from which the packet is being sent (Section 4.3 of\n\
    \           [RFC3704]).\n   6RD-6:  The CE router MUST allow different as well\
    \ as identical\n           delegated prefixes to be configured via each (6rd or\
    \ native)\n           WAN interface.\n   6RD-7:  In the event that forwarding\
    \ rules produce a tie between 6rd\n           and native IPv6, by default, the\
    \ IPv6 CE router MUST prefer\n           native IPv6.\n"
- title: 4.4.2.  Dual-Stack Lite (DS-Lite)
  contents:
  - "4.4.2.  Dual-Stack Lite (DS-Lite)\n   Dual-Stack Lite [RFC6333] enables both\
    \ continued support for IPv4\n   services and incentives for the deployment of\
    \ IPv6.  It also\n   de-couples IPv6 deployment in the service provider network\
    \ from the\n   rest of the Internet, making incremental deployment easier.  Dual-\n\
    \   Stack Lite enables a broadband service provider to share IPv4\n   addresses\
    \ among customers by combining two well-known technologies:\n   IP in IP (IPv4-in-IPv6)\
    \ and Network Address Translation (NAT).  It is\n   expected that DS-Lite traffic\
    \ is forwarded over the CE router's\n   native IPv6 WAN interface, and not encapsulated\
    \ in another tunnel.\n   The IPv6 CE router SHOULD implement DS-Lite functionality.\
    \  If\n   DS-Lite is supported, it MUST be implemented according to [RFC6333].\n\
    \   This document takes no position on simultaneous operation of Dual-\n   Stack\
    \ Lite and native IPv4.  The following CE router requirements\n   also apply:\n\
    \   WAN requirements:\n   DLW-1:  The CE router MUST support configuration of\
    \ DS-Lite via the\n           DS-Lite DHCPv6 option [RFC6334].  The IPv6 CE router\
    \ MAY use\n           other mechanisms to configure DS-Lite parameters.  Such\n\
    \           mechanisms are outside the scope of this document.\n   DLW-2:  The\
    \ IPv6 CE router MUST NOT perform IPv4 Network Address\n           Translation\
    \ (NAT) on IPv4 traffic encapsulated using DS-Lite.\n   DLW-3:  If the IPv6 CE\
    \ router is configured with an IPv4 address on\n           its WAN interface,\
    \ then the IPv6 CE router SHOULD disable the\n           DS-Lite Basic Bridging\
    \ BroadBand (B4) element.\n"
- title: 4.5.  Security Considerations
  contents:
  - "4.5.  Security Considerations\n   It is considered a best practice to filter\
    \ obviously malicious\n   traffic (e.g., spoofed packets, \"Martian\" addresses,\
    \ etc.).  Thus,\n   the IPv6 CE router ought to support basic stateless egress\
    \ and\n   ingress filters.  The CE router is also expected to offer mechanisms\n\
    \   to filter traffic entering the customer network; however, the method\n   by\
    \ which vendors implement configurable packet filtering is beyond\n   the scope\
    \ of this document.\n   Security requirements:\n   S-1:  The IPv6 CE router SHOULD\
    \ support [RFC6092].  In particular,\n         the IPv6 CE router SHOULD support\
    \ functionality sufficient for\n         implementing the set of recommendations\
    \ in [RFC6092],\n         Section 4.  This document takes no position on whether\
    \ such\n         functionality is enabled by default or mechanisms by which\n\
    \         users would configure it.\n   S-2:  The IPv6 CE router SHOULD support\
    \ ingress filtering in\n         accordance with BCP 38 [RFC2827].  Note that\
    \ this requirement\n         was downgraded from a MUST from RFC 6204 due to the\
    \ difficulty\n         of implementation in the CE router and the feature's redundancy\n\
    \         with upstream router ingress filtering.\n   S-3:  If the IPv6 CE router\
    \ firewall is configured to filter incoming\n         tunneled data, the firewall\
    \ SHOULD provide the capability to\n         filter decapsulated packets from\
    \ a tunnel.\n"
- title: 5.  Acknowledgements
  contents:
  - "5.  Acknowledgements\n   Thanks to the following people (in alphabetical order)\
    \ for their\n   guidance and feedback:\n   Mikael Abrahamsson, Tore Anderson,\
    \ Merete Asak, Rajiv Asati, Scott\n   Beuker, Mohamed Boucadair, Rex Bullinger,\
    \ Brian Carpenter, Tassos\n   Chatzithomaoglou, Lorenzo Colitti, Remi Denis-Courmont,\
    \ Gert Doering,\n   Alain Durand, Katsunori Fukuoka, Brian Haberman, Tony Hain,\
    \ Thomas\n   Herbst, Ray Hunter, Joel Jaeggli, Kevin Johns, Erik Kline, Stephen\n\
    \   Kramer, Victor Kuarsingh, Francois-Xavier Le Bail, Arifumi Matsumoto,\n  \
    \ David Miles, Shin Miyakawa, Jean-Francois Mule, Michael Newbery,\n   Carlos\
    \ Pignataro, John Pomeroy, Antonio Querubin, Daniel Roesen,\n   Hiroki Sato, Teemu\
    \ Savolainen, Matt Schmitt, David Thaler, Mark\n   Townsley, Sean Turner, Bernie\
    \ Volz, Dan Wing, Timothy Winters, James\n   Woodyatt, Carl Wuyts, and Cor Zwart.\n\
    \   This document is based in part on CableLabs' eRouter specification.\n   The\
    \ authors wish to acknowledge the additional contributors from the\n   eRouter\
    \ team:\n   Ben Bekele, Amol Bhagwat, Ralph Brown, Eduardo Cardona, Margo Dolas,\n\
    \   Toerless Eckert, Doc Evans, Roger Fish, Michelle Kuska, Diego\n   Mazzola,\
    \ John McQueen, Harsh Parandekar, Michael Patrick, Saifur\n   Rahman, Lakshmi\
    \ Raman, Ryan Ross, Ron da Silva, Madhu Sudan, Dan\n   Torbet, and Greg White.\n"
- title: 6.  Contributors
  contents:
  - "6.  Contributors\n   The following people have participated as co-authors or\
    \ provided\n   substantial contributions to this document: Ralph Droms, Kirk\n\
    \   Erichsen, Fred Baker, Jason Weil, Lee Howard, Jean-Francois Tremblay,\n  \
    \ Yiu Lee, John Jason Brzozowski, and Heather Kirksey.  Thanks to Ole\n   Troan\
    \ for editorship in the original RFC 6204 document.\n"
- title: 7.  References
  contents:
  - '7.  References

    '
- title: 7.1.  Normative References
  contents:
  - "7.1.  Normative References\n   [RFC1122]  Braden, R., \"Requirements for Internet\
    \ Hosts -\n              Communication Layers\", STD 3, RFC 1122, October 1989.\n\
    \   [RFC2119]  Bradner, S., \"Key words for use in RFCs to Indicate\n        \
    \      Requirement Levels\", BCP 14, RFC 2119, March 1997.\n   [RFC2131]  Droms,\
    \ R., \"Dynamic Host Configuration Protocol\", RFC\n              2131, March\
    \ 1997.\n   [RFC2464]  Crawford, M., \"Transmission of IPv6 Packets over Ethernet\n\
    \              Networks\", RFC 2464, December 1998.\n   [RFC2827]  Ferguson, P.\
    \ and D. Senie, \"Network Ingress Filtering:\n              Defeating Denial of\
    \ Service Attacks which employ IP Source\n              Address Spoofing\", BCP\
    \ 38, RFC 2827, May 2000.\n   [RFC3315]  Droms, R., Bound, J., Volz, B., Lemon,\
    \ T., Perkins, C.,\n              and M. Carney, \"Dynamic Host Configuration\
    \ Protocol for\n              IPv6 (DHCPv6)\", RFC 3315, July 2003.\n   [RFC3633]\
    \  Troan, O. and R. Droms, \"IPv6 Prefix Options for Dynamic\n              Host\
    \ Configuration Protocol (DHCP) version 6\", RFC 3633,\n              December\
    \ 2003.\n   [RFC3646]  Droms, R., \"DNS Configuration options for Dynamic Host\n\
    \              Configuration Protocol for IPv6 (DHCPv6)\", RFC 3646,\n       \
    \       December 2003.\n   [RFC3704]  Baker, F. and P. Savola, \"Ingress Filtering\
    \ for Multihomed\n              Networks\", BCP 84, RFC 3704, March 2004.\n  \
    \ [RFC3736]  Droms, R., \"Stateless Dynamic Host Configuration Protocol\n    \
    \          (DHCP) Service for IPv6\", RFC 3736, April 2004.\n   [RFC4191]  Draves,\
    \ R. and D. Thaler, \"Default Router Preferences and\n              More-Specific\
    \ Routes\", RFC 4191, November 2005.\n   [RFC4193]  Hinden, R. and B. Haberman,\
    \ \"Unique Local IPv6 Unicast\n              Addresses\", RFC 4193, October 2005.\n\
    \   [RFC4242]  Venaas, S., Chown, T., and B. Volz, \"Information Refresh\n   \
    \           Time Option for Dynamic Host Configuration Protocol for\n        \
    \      IPv6 (DHCPv6)\", RFC 4242, November 2005.\n   [RFC4443]  Conta, A., Deering,\
    \ S., and M. Gupta, \"Internet Control\n              Message Protocol (ICMPv6)\
    \ for the Internet Protocol\n              Version 6 (IPv6) Specification\", RFC\
    \ 4443, March 2006.\n   [RFC4605]  Fenner, B., He, H., Haberman, B., and H. Sandick,\n\
    \              \"Internet Group Management Protocol (IGMP) / Multicast\n     \
    \         Listener Discovery (MLD)-Based Multicast Forwarding\n              (\"\
    IGMP/MLD Proxying\")\", RFC 4605, August 2006.\n   [RFC4632]  Fuller, V. and T.\
    \ Li, \"Classless Inter-domain Routing\n              (CIDR): The Internet Address\
    \ Assignment and Aggregation\n              Plan\", BCP 122, RFC 4632, August\
    \ 2006.\n   [RFC4779]  Asadullah, S., Ahmed, A., Popoviciu, C., Savola, P., and\n\
    \              J. Palet, \"ISP IPv6 Deployment Scenarios in Broadband\n      \
    \        Access Networks\", RFC 4779, January 2007.\n   [RFC4861]  Narten, T.,\
    \ Nordmark, E., Simpson, W., and H. Soliman,\n              \"Neighbor Discovery\
    \ for IP version 6 (IPv6)\", RFC 4861,\n              September 2007.\n   [RFC4862]\
    \  Thomson, S., Narten, T., and T. Jinmei, \"IPv6 Stateless\n              Address\
    \ Autoconfiguration\", RFC 4862, September 2007.\n   [RFC5072]  Varada, S., Haskins,\
    \ D., and E. Allen, \"IP Version 6 over\n              PPP\", RFC 5072, September\
    \ 2007.\n   [RFC5905]  Mills, D., Martin, J., Burbank, J., and W. Kasch, \"Network\n\
    \              Time Protocol Version 4: Protocol and Algorithms\n            \
    \  Specification\", RFC 5905, June 2010.\n   [RFC5908]  Gayraud, R. and B. Lourdelet,\
    \ \"Network Time Protocol (NTP)\n              Server Option for DHCPv6\", RFC\
    \ 5908, June 2010.\n   [RFC5942]  Singh, H., Beebee, W., and E. Nordmark, \"IPv6\
    \ Subnet\n              Model: The Relationship between Links and Subnet\n   \
    \           Prefixes\", RFC 5942, July 2010.\n   [RFC5969]  Townsley, W. and O.\
    \ Troan, \"IPv6 Rapid Deployment on IPv4\n              Infrastructures (6rd)\
    \ -- Protocol Specification\", RFC\n              5969, August 2010.\n   [RFC6092]\
    \  Woodyatt, J., \"Recommended Simple Security Capabilities in\n             \
    \ Customer Premises Equipment (CPE) for Providing\n              Residential IPv6\
    \ Internet Service\", RFC 6092, January\n              2011.\n   [RFC6106]  Jeong,\
    \ J., Park, S., Beloeil, L., and S. Madanapalli,\n              \"IPv6 Router\
    \ Advertisement Options for DNS Configuration\",\n              RFC 6106, November\
    \ 2010.\n   [RFC6177]  Narten, T., Huston, G., and L. Roberts, \"IPv6 Address\n\
    \              Assignment to End Sites\", BCP 157, RFC 6177, March 2011.\n   [RFC6333]\
    \  Durand, A., Droms, R., Woodyatt, J., and Y. Lee, \"Dual-\n              Stack\
    \ Lite Broadband Deployments Following IPv4\n              Exhaustion\", RFC 6333,\
    \ August 2011.\n   [RFC6334]  Hankins, D. and T. Mrugalski, \"Dynamic Host Configuration\n\
    \              Protocol for IPv6 (DHCPv6) Option for Dual-Stack Lite\",\n    \
    \          RFC 6334, August 2011.\n   [RFC6434]  Jankiewicz, E., Loughney, J.,\
    \ and T. Narten, \"IPv6 Node\n              Requirements\", RFC 6434, December\
    \ 2011.\n   [RFC6603]  Korhonen, J., Savolainen, T., Krishnan, S., and O. Troan,\n\
    \              \"Prefix Exclude Option for DHCPv6-based Prefix\n             \
    \ Delegation\", RFC 6603, May 2012.\n   [RFC6887]  Wing, D., Cheshire, S., Boucadair,\
    \ M., Penno, R., and P.\n              Selkirk, \"Port Control Protocol (PCP)\"\
    , RFC 6887, April\n              2013.\n   [RFC7083]  Droms, R., \"Modification\
    \ to Default Values of SOL_MAX_RT\n              and INF_MAX_RT\", RFC 7083, November\
    \ 2013.\n"
- title: 7.2.  Informative References
  contents:
  - "7.2.  Informative References\n   [DHCPv6-STATEFUL-ISSUES]\n              Troan,\
    \ O. and B. Volz, \"Issues with multiple stateful\n              DHCPv6 options\"\
    , Work in Progress, May 2013.\n   [MULTIHOMING-WITHOUT-NAT]\n              Troan,\
    \ O., Ed., Miles, D., Matsushima, S., Okimoto, T.,\n              and D. Wing,\
    \ \"IPv6 Multihoming without Network Address\n              Translation\", Work\
    \ in Progress, December 2010.\n   [RFC6144]  Baker, F., Li, X., Bao, C., and K.\
    \ Yin, \"Framework for\n              IPv4/IPv6 Translation\", RFC 6144, April\
    \ 2011.\n   [TR-069]   Broadband Forum, \"CPE WAN Management Protocol\", TR-069\n\
    \              Amendment 4, July 2011,\n              <http://www.broadband-forum.org/technical/trlist.php>.\n\
    \   [UPnP-IGD] UPnP Forum, , \"InternetGatewayDevice:2 Device Template\n     \
    \         Version 1.01\", December 2010,\n              <http://upnp.org/specs/gw/igd2/>.\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Hemant Singh\n   Cisco Systems, Inc.\n   1414 Massachusetts\
    \ Ave.\n   Boxborough, MA  01719\n   USA\n   Phone: +1 978 936 1622\n   EMail:\
    \ shemant@cisco.com\n   URI:   http://www.cisco.com/\n   Wes Beebee\n   Cisco\
    \ Systems, Inc.\n   1414 Massachusetts Ave.\n   Boxborough, MA  01719\n   USA\n\
    \   Phone: +1 978 936 2030\n   EMail: wbeebee@cisco.com\n   URI:   http://www.cisco.com/\n\
    \   Chris Donley\n   CableLabs\n   858 Coal Creek Circle\n   Louisville, CO  80027\n\
    \   USA\n   EMail: c.donley@cablelabs.com\n   Barbara Stark\n   AT&T\n   1057\
    \ Lenox Park Blvd. NE\n   Atlanta, GA  30319\n   USA\n   EMail: barbara.stark@att.com\n"
