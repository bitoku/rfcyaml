- contents:
  - "          Structure-Agnostic Time Division Multiplexing (TDM)\n                          over
    Packet (SAToP)\n"
  title: __initial_text__
- contents:
  - "Status of This Memo\n   This document specifies an Internet standards track protocol
    for the\n   Internet community, and requests discussion and suggestions for\n
    \  improvements.  Please refer to the current edition of the \"Internet\n   Official
    Protocol Standards\" (STD 1) for the standardization state\n   and status of this
    protocol.  Distribution of this memo is unlimited.\n"
  title: Status of This Memo
- contents:
  - "Copyright Notice\n   Copyright (C) The Internet Society (2006).\n"
  title: Copyright Notice
- contents:
  - "Abstract\n   This document describes a pseudowire encapsulation for Time Division\n
    \  Multiplexing (TDM) bit-streams (T1, E1, T3, E3) that disregards any\n   structure
    that may be imposed on these streams, in particular the\n   structure imposed
    by the standard TDM framing.\n"
  title: Abstract
- contents:
  - "Table of Contents\n   1. Introduction ....................................................3\n
    \  2. Terminology and Reference Models ................................3\n      2.1.
    Terminology ................................................3\n      2.2. Reference
    Models ...........................................4\n   3. Emulated Services ...............................................4\n
    \  4. SAToP Encapsulation Layer .......................................5\n      4.1.
    SAToP Packet Format ........................................5\n      4.2. PSN
    and PW Demultiplexing Layer Headers ....................5\n      4.3. SAToP Header
    ...............................................6\n           4.3.1. Usage and
    Structure of the Control Word .............8\n           4.3.2. Usage of RTP Header
    .................................9\n   5. SAToP Payload Layer ............................................10\n
    \     5.1. General Payloads ..........................................10\n      5.2.
    Octet-Aligned T1 ..........................................11\n   6. SAToP Operation
    ................................................12\n      6.1. Common Considerations
    .....................................12\n      6.2. IWF Operation .............................................12\n
    \          6.2.1. PSN-Bound Direction ................................12\n           6.2.2.
    CE-Bound Direction .................................13\n      6.3. SAToP Defects
    .............................................14\n      6.4. SAToP PW Performance
    Monitoring ...........................15\n   7. Quality of Service (QoS) Issues
    ................................16\n   8. Congestion Control .............................................16\n
    \  9. Security Considerations ........................................18\n   10.
    Applicability Statement .......................................18\n   11. IANA
    Considerations ...........................................20\n   12. Acknowledgements
    ..............................................20\n   13. Co-Authors ....................................................20\n
    \  14. Normative References ..........................................21\n   15.
    Informative References ........................................22\n   Appendix
    A: Old Mode of SAToP Encapsulation over L2TPv3 ...........24\n   Appendix B: Parameters
    That MUST Be Agreed upon during the PW\n               Setup .................................................24\n"
  title: Table of Contents
- contents:
  - "1.  Introduction\n   This document describes a method for encapsulating Time
    Division\n   Multiplexing (TDM) bit-streams (T1, E1, T3, E3) as pseudowires over\n
    \  packet-switching networks (PSN).  It addresses only structure-\n   agnostic
    transport, i.e., the protocol completely disregards any\n   structure that may
    possibly be imposed on these signals, in\n   particular the structure imposed
    by standard TDM framing [G.704].\n   This emulation is referred to as \"emulation
    of unstructured TDM\n   circuits\" in [RFC4197] and suits applications where the
    PEs have no\n   need to interpret TDM data or to participate in the TDM signaling.\n
    \  The SAToP solution presented in this document conforms to the PWE3\n   architecture
    described in [RFC3985] and satisfies both the relevant\n   general requirements
    put forward in [RFC3916] and specific\n   requirements for unstructured TDM signals
    presented in [RFC4197].\n   As with all PWs, SAToP PWs may be manually configured
    or set up using\n   the PWE3 control protocol [RFC4447].  Extensions to the PWE3
    control\n   protocol required for setup and maintenance of SAToP pseudowires and\n
    \  allocations of code points used for this purpose are described in\n   separate
    documents ([TDM-CONTROL] and [RFC4446], respectively).\n"
  title: 1.  Introduction
- contents:
  - "2.  Terminology and Reference Models\n   The key words \"MUST\", \"MUST NOT\",
    \"REQUIRED\", \"SHALL\", \"SHALL NOT\",\n   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\",
    \"MAY\", and \"OPTIONAL\" in this\n   document are to be interpreted as described
    in [RFC2119].\n"
  - contents:
    - "2.1.  Terminology\n   The following acronyms used in this document are defined
      in [RFC3985]\n   and [RFC4197]:\n   ATM          Asynchronous Transfer Mode\n
      \  CE           Customer Edge\n   CES          Circuit Emulation Service\n   NSP
      \         Native Service Processing\n   PE           Provider Edge\n   PDH          Plesiochronous
      Digital Hierarchy\n   PW           Pseudowire\n   SDH          Synchronous Digital
      Hierarchy\n   SONET        Synchronous Optical Network\n   TDM          Time
      Division Multiplexing\n   In addition, the following TDM-specific terms are
      needed:\n      o  Loss of Signal (LOS) - a condition of the TDM attachment\n
      \        circuit wherein the incoming signal cannot be detected.\n         Criteria
      for entering and leaving the LOS condition can be\n         found in [G.775].\n
      \     o  Alarm Indication Signal (AIS) - a special bit pattern (e.g., as\n         described
      in [G.775]) in the TDM bit stream that indicates\n         presence of an upstream
      circuit outage.  For E1, T1, and E3\n         circuits, the AIS pattern is a
      sequence of binary \"1\" values of\n         appropriate duration (the \"all
      ones\" pattern), and hence it can\n         be detected and generated by structure-agnostic
      means.  The T3\n         AIS pattern requires T3 framing (see [G.704], Section\n
      \        2.5.3.6.1) and hence can only be handled by a structure-aware\n         NSP.\n
      \  We also use the term Interworking Function (IWF) to describe the\n   functional
      block that segments and encapsulates TDM into SAToP\n   packets and that in
      the reverse direction decapsulates SAToP packets\n   and reconstitutes TDM.\n"
    title: 2.1.  Terminology
  - contents:
    - "2.2.  Reference Models\n   The generic models defined in Sections 4.1, 4.2,
      and 4.4 of [RFC3985]\n   fully apply to SAToP.\n   The native service addressed
      in this document is a special case of\n   the bit stream payload type defined
      in Section 3.3.3 of [RFC3985].\n   The Network Synchronization reference model
      and deployment scenarios\n   for emulation of TDM services are described in
      [RFC4197], Section\n   4.3.\n"
    title: 2.2.  Reference Models
  title: 2.  Terminology and Reference Models
- contents:
  - "3.  Emulated Services\n   This specification describes edge-to-edge emulation
    of the following\n   TDM services described in [G.702]:\n      1. E1  (2048 kbit/s)\n
    \     2. T1  (1544 kbit/s); this service is also known as DS1\n      3. E3 (34368
    kbit/s)\n      4. T3 (44736 kbit/s); this service is also known as DS3\n   The
    protocol used for emulation of these services does not depend on\n   the method
    in which attachment circuits are delivered to the PEs.\n   For example, a T1 attachment
    circuit is treated in the same way\n   regardless of whether it is delivered to
    the PE on copper [G.703],\n   multiplexed in a T3 circuit [T1.107], mapped into
    a virtual tributary\n   of a SONET/SDH circuit [G.707], or carried over an ATM
    network using\n   unstructured ATM Circuit Emulation Service (CES) [ATM-CES].\n
    \  Termination of any specific \"carrier layers\" used between the PE and\n   CE
    is performed by an appropriate NSP.\n"
  title: 3.  Emulated Services
- contents:
  - '4.  SAToP Encapsulation Layer

    '
  - contents:
    - "4.1.  SAToP Packet Format\n   The basic format of SAToP packets is shown in
      Figure 1 below.\n    0                   1                   2                   3\n
      \   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \  |                             ...                               |\n   |              PSN
      and PW demultiplexing layer headers          |\n   |                             ...
      \                              |\n   +=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+\n
      \  |                             ...                               |\n   +--
      \                                                          --+\n   |                   SAToP
      Encapsulation Header                  |\n   +--                                                           --+\n
      \  |                             ...                               |\n   +=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+\n
      \  |                             ...                               |\n   |                        TDM
      data (Payload)                     |\n   |                             ...                               |\n
      \  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n                   Figure
      1.  Basic SAToP Packet Format\n"
    title: 4.1.  SAToP Packet Format
  - contents:
    - "4.2.  PSN and PW Demultiplexing Layer Headers\n   Both UDP and L2TPv3 [RFC3931]
      can provide the PW demultiplexing\n   mechanisms for SAToP PWs over an IPv4/IPv6
      PSN.  The PW label\n   provides the demultiplexing function for an MPLS PSN
      as described in\n   Section 5.4.2 of [RFC3985].\n   The total size of a SAToP
      packet for a specific PW MUST NOT exceed\n   path MTU between the pair of PEs
      terminating this PW.  SAToP\n   implementations using IPv4 PSN MUST mark the
      IPv4 datagrams they\n   generate as \"Don't Fragment\" [RFC791] (see also [PWE3-FRAG]).\n"
    title: 4.2.  PSN and PW Demultiplexing Layer Headers
  - contents:
    - "4.3.  SAToP Header\n   The SAToP header MUST contain the SAToP Control Word
      (4 bytes) and\n   MAY also contain a fixed RTP header [RFC3550].  If the RTP
      header is\n   included in the SAToP header, it MUST immediately follow the SAToP\n
      \  control word in all cases except UDP multiplexing, where it MUST\n   precede
      it (see Figures 2a, 2b, and 2c below).\n   Note: Such an arrangement complies
      with the traditional usage of RTP\n   for the IPv4/IPv6 PSN with UDP multiplexing
      while making SAToP PWs\n   Equal Cost Multi-Path (ECMP)-safe for the MPLS PSN
      by providing for\n   PW-IP packet discrimination (see [RFC3985], Section 5.4.3).\n
      \  Furthermore, it facilitates seamless stitching of L2TPv3-based and\n   MPLS-based
      segments of SAToP PWs (see [PWE3-MS]).\n    0                   1                   2
      \                  3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4
      5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \  |                             ...                               |\n   |       IPv4/IPv6
      and UDP (PW demultiplexing layer) headers     |\n   |                             ...
      \                              |\n   +=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+\n
      \  |                                                               |\n   +--
      \                    OPTIONAL                              --+\n   |                                                               |\n
      \  +--               Fixed RTP Header (see [RFC3550])            --+\n   |                                                               |\n
      \  +=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+\n   |                  SAToP
      Control Word                           |\n   +=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+\n
      \  |                            ...                                |\n   |                      TDM
      data (Payload)                       |\n   |                            ...
      \                               |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \       Figure 2a.  SAToP Packet Format for an IPv4/IPv6 PSN with\n                             UDP
      PW Demultiplexing\n    0                   1                   2                   3\n
      \   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \  |                             ...                               |\n   |     IPv4/IPv6
      and L2TPv3 (PW demultiplexing layer) headers    |\n   |                             ...
      \                              |\n   +=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+\n
      \  |                  SAToP Control Word                           |\n   +=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+\n
      \  |                                                               |\n   +--
      \                    OPTIONAL                              --+\n   |                                                               |\n
      \  +--               Fixed RTP Header (see [RFC3550])            --+\n   |                                                               |\n
      \  +=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+\n   |                             ...
      \                              |\n   |                       TDM data (Payload)
      \                     |\n   |                             ...                               |\n
      \  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n        Figure
      2b.  SAToP Packet Format for an IPv4/IPv6 PSN with\n                          L2TPv3
      PW Demultiplexing\n    0                   1                   2                   3\n
      \   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \  |                             ...                               |\n   |                      MPLS
      Label Stack                         |\n   |                             ...
      \                              |\n   +=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+\n
      \  |                  SAToP Control Word                           |\n   +=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+\n
      \  |                                                               |\n   +--
      \                    OPTIONAL                              --+\n   |                                                               |\n
      \  +--               Fixed RTP Header (see [RFC3550])            --+\n   |                                                               |\n
      \  +=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+\n   |                             ...
      \                              |\n   |                       TDM data (Payload)
      \                     |\n   |                             ...                               |\n
      \  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n             Figure
      2c.  SAToP Packet Format for an MPLS PSN\n"
    - contents:
      - "4.3.1.  Usage and Structure of the Control Word\n   Usage of the SAToP control
        word allows:\n      1. Detection of packet loss or misordering\n      2. Differentiation
        between the PSN and attachment circuit problems\n         as causes for the
        outage of the emulated service\n      3. PSN bandwidth conservation by not
        transferring invalid data\n         (AIS)\n      4. Signaling of faults detected
        at the PW egress to the PW\n         ingress.\n   The structure of the SAToP
        Control Word is shown in Figure 3 below.\n    0                   1                   2
        \                  3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3
        4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |0 0 0 0|L|R|RSV|FRG|   LEN     |       Sequence number         |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \             Figure 3.  Structure of the SAToP Control Word\n   The use of
        Bits 0 to 3 is described in [RFC4385].  These bits MUST be\n   set to zero
        unless they are being used to indicate the start of an\n   Associated Channel
        Header (ACH).  An ACH is needed if the state of\n   the SAToP PW is being
        monitored using Virtual Circuit Connectivity\n   Verification [PWE3-VCCV].\n
        \  L - If set, indicates that TDM data carried in the payload is invalid\n
        \      due to an attachment circuit fault.  When the L bit is set the\n       payload
        MAY be omitted in order to conserve bandwidth.  The CE-\n       bound IWF
        MUST play out an appropriate amount of filler data\n       regardless of the
        payload size.  Once set, if the fault is\n       rectified, the L bit MUST
        be cleared.\n   Note: This document does not specify which TDM fault conditions
        are\n   treated as invalidating the data carried in the SAToP packets.\n   Possible
        examples include, but are not limited to LOS and AIS.\n   R - If set by the
        PSN-bound IWF, indicates that its local CE-bound\n       IWF is in the packet
        loss state, i.e., has lost a preconfigured\n       number of consecutive packets.
        \ The R bit MUST be cleared by the\n       PSN-bound IWF once its local CE-bound
        IWF has exited the packet\n       loss state, i.e., has received a preconfigured
        number of\n       consecutive packets.\n   RSV and FRG (bits 6 to 9) - MUST
        be set to 0 by the PSN-bound IWF and\n       MUST be ignored by the CE-bound
        IWF.  RSV is reserved.  FRG is\n       fragmentation; see [PWE3-FRAG].\n   LEN
        (bits 10 to 15) - MAY be used to carry the length of the SAToP\n       packet
        (defined as the size of the SAToP header + the payload\n       size) if it
        is less than 64 bytes, and MUST be set to zero\n       otherwise.  When the
        LEN field is set to 0, the preconfigured\n       size of the SAToP packet
        payload MUST be assumed to be as\n       described in Section 5.1, and if
        the actual packet size is\n       inconsistent with this length, the packet
        MUST be considered\n       malformed.\n   Sequence number - used to provide
        the common PW sequencing function\n       as well as detection of lost packets.
        \ It MUST be generated in\n       accordance with the rules defined in Section
        5.1 of [RFC3550] for\n       the RTP sequence number:\n         o Its space
        is a 16-bit unsigned circular space\n         o Its initial value SHOULD be
        random (unpredictable).\n       It MUST be incremented with each SAToP data
        packet sent in the\n       specific PW.\n"
      title: 4.3.1.  Usage and Structure of the Control Word
    - contents:
      - "4.3.2.  Usage of RTP Header\n   When RTP is used, the following fields of
        the fixed RTP header (see\n   [RFC3550], Section 5.1) MUST be set to zero:
        P (padding), X (header\n   extension), CC (CSRC count), and M (marker).\n
        \  The PT (payload type) field is used as follows:\n      1. One PT value
        MUST be allocated from the range of dynamic values\n         (see [RTP-TYPES])
        for each direction of the PW.  The same PT\n         value MAY be reused for
        both directions of the PW and also\n         reused between different PWs.\n
        \     2. The PSN-bound IWF MUST set the PT field in the RTP header to\n         the
        allocated value.\n      3. The CE-bound IWF MAY use the received value to
        detect malformed\n         packets.\n   The sequence number MUST be the same
        as the sequence number in the\n   SAToP control word.\n   The RTP timestamps
        are used for carrying timing information over the\n   network.  Their values
        are generated in accordance with the rules\n   established in [RFC3550].\n
        \  The frequency of the clock used for generating timestamps MUST be an\n
        \  integer multiple of 8 kHz.  All implementations of SAToP MUST support\n
        \  the 8 kHz clock.  Other multiples of 8 kHz MAY be used.\n   The SSRC (synchronization
        source) value in the RTP header MAY be used\n   for detection of misconnections,
        i.e., incorrect interconnection of\n   attachment circuits.\n   Timestamp
        generation MAY be used in the following modes:\n      1. Absolute mode: The
        PSN-bound IWF sets timestamps using the\n         clock recovered from the
        incoming TDM attachment circuit.  As a\n         consequence, the timestamps
        are closely correlated with the\n         sequence numbers.  All SAToP implementations
        that support usage\n         of the RTP header MUST support this mode.\n      2.
        Differential mode: Both IWFs have access to a common high-\n         quality
        timing source, and this source is used for timestamp\n         generation.
        \ Support of this mode is OPTIONAL.\n   Usage of the fixed RTP header in a
        SAToP PW and all the options\n   associated with its usage (the timestamping
        clock frequency, the\n   timestamping mode, selected PT and SSRC values) MUST
        be agreed upon\n   between the two SAToP IWFs during PW setup as described
        in\n   [TDM-CONTROL].  Other, RTP-specific methods (e.g., see [RFC3551])\n
        \  MUST NOT be used.\n"
      title: 4.3.2.  Usage of RTP Header
    title: 4.3.  SAToP Header
  title: 4.  SAToP Encapsulation Layer
- contents:
  - '5.  SAToP Payload Layer

    '
  - contents:
    - "5.1.  General Payloads\n   In order to facilitate handling of packet loss in
      the PSN, all\n   packets belonging to a given SAToP PW are REQUIRED to carry
      a fixed\n   number of bytes filled with TDM data received from the attachment\n
      \  circuit.  The packet payload size MUST be defined during the PW\n   setup,
      MUST be the same for both directions of the PW, and MUST\n   remain unchanged
      for the lifetime of the PW.\n   The CE-bound and PSN-bound IWFs MUST agree on
      SAToP packet payload\n   size during PW setup (default payload size values defined
      below\n   guarantee that such an agreement is always possible).  The SAToP\n
      \  packet payload size can be exchanged over the PWE3 control protocol\n   ([TDM-CONTROL])
      by using the Circuit Emulation over Packet (CEP)/TDM\n   Payload Bytes sub-TLV
      of the Interface Parameters TLV ([RFC4446]).\n   SAToP uses the following ordering
      for packetization of the TDM data:\n      o  The order of the payload bytes
      corresponds to their order on\n         the attachment circuit.\n      o  Consecutive
      bits coming from the attachment circuit fill each\n         payload byte starting
      from most significant bit to least\n         significant.\n   All SAToP implementations
      MUST be capable of supporting the following\n   payload sizes:\n      o  E1
      - 256 bytes\n      o  T1 - 192 bytes\n      o  E3 and T3 - 1024 bytes.\n   Notes:\n
      \     1. Whatever the selected payload size, SAToP does not assume\n         alignment
      to any underlying structure imposed by TDM framing\n         (byte, frame, or
      multiframe alignment).\n      2. When the L bit in the SAToP control word is
      set, SAToP packets\n         MAY omit invalid TDM data in order to conserve
      PSN bandwidth.\n      3. Payload sizes that are multiples of 47 bytes MAY be
      used in\n         conjunction with unstructured ATM-CES [ATM-CES].\n"
    title: 5.1.  General Payloads
  - contents:
    - "5.2.  Octet-Aligned T1\n   An unstructured T1 attachment circuit is sometimes
      provided already\n   padded to an integer number of bytes, as described in Annex
      B of\n   [G.802].  This occurs when the T1 is de-mapped from a SONET/SDH\n   virtual
      tributary/container, or when it is de-framed by a dual-mode\n   E1/T1 framer.\n
      \  In order to facilitate operation in such cases, SAToP defines a\n   special
      \"octet-aligned T1\" transport mode.  In this mode, the SAToP\n   payload consists
      of a number of 25-byte subframes, each subframe\n   carrying 193 bits of TDM
      data and 7 bits of padding.  This mode is\n   depicted in Figure 4 below.\n
      \     |     1         |        2      | ...   |      25       |\n      |0 1
      2 3 4 5 6 7|0 1 2 3 4 5 6 7| ...   |0 1 2 3 4 5 6 7|\n      |=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+\n
      \     |           TDM Data                      |  padding    |\n      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \     |            .................................          |\n      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
      \     |           TDM Data                      |  padding    |\n      +=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+\n
      \     Figure 4.  SAToP Payload Format for Octet-Aligned T1 Transport\n   Notes:\n
      \  1. No alignment with the framing structure that may be imposed on the\n      T1
      bit-stream is implied.\n   2. An additional advantage of the octet-aligned T1
      transport mode is\n      the ability to select the SAToP packetization latency
      as an\n      arbitrary integer multiple of 125 microseconds.\n   Support of
      the octet-aligned T1 transport mode is OPTIONAL.  An\n   octet-aligned T1 SAToP
      PW is not interoperable with a T1 SAToP PW\n   that carries a non-aligned bit-stream,
      as described in the previous\n   section.\n   Implementations supporting octet-aligned
      T1 transport mode MUST be\n   capable of supporting a payload size of 200 bytes
      (i.e., a payload of\n   eight 25-byte subframes) corresponding to precisely
      1 millisecond of\n   TDM data.\n"
    title: 5.2.  Octet-Aligned T1
  title: 5.  SAToP Payload Layer
- contents:
  - '6.  SAToP Operation

    '
  - contents:
    - "6.1.  Common Considerations\n   Edge-to-edge emulation of a TDM service using
      SAToP is only possible\n   when the two PW attachment circuits are of the same
      type (T1, E1, T3,\n   E3).  The service type is exchanged at PW setup as described
      in\n   [RFC4447].\n"
    title: 6.1.  Common Considerations
  - contents:
    - '6.2.  IWF Operation

      '
    - contents:
      - "6.2.1.  PSN-Bound Direction\n   Once the PW is set up, the PSN-bound SAToP
        IWF operates as follows:\n   TDM data is packetized using the configured number
        of payload bytes\n   per packet.\n   Sequence numbers, flags, and timestamps
        (if the RTP header is used)\n   are inserted in the SAToP headers.\n   SAToP,
        PW demultiplexing layer, and PSN headers are prepended to the\n   packetized
        service data.\n   The resulting packets are transmitted over the PSN.\n"
      title: 6.2.1.  PSN-Bound Direction
    - contents:
      - "6.2.2.  CE-Bound Direction\n   The CE-bound SAToP IWF SHOULD include a jitter
        buffer where the\n   payload of the received SAToP packets is stored prior
        to play-out to\n   the local TDM attachment circuit.  The size of this buffer
        SHOULD be\n   locally configurable to allow accommodation to the PSN-specific\n
        \  packet delay variation.\n   The CE-bound SAToP IWF SHOULD use the sequence
        number in the control\n   word for detection of lost and misordered packets.
        \ If the RTP header\n   is used, the RTP sequence numbers MAY be used for
        the same purposes.\n   Note: With SAToP, a valid sequence number can be always
        found in bits\n   16 - 31 of the first 32-bit word immediately following the
        PW\n   demultiplexing header regardless of the specific PSN type,\n   multiplexing
        method, usage or non-usage of the RTP header, etc.  This\n   approach simplifies
        implementations supporting multiple encapsulation\n   types as well as implementation
        of multi-segment (MS) PWs using\n   different encapsulation types in different
        segments.\n   The CE-bound SAToP IWF MAY reorder misordered packets.  Misordered\n
        \  packets that cannot be reordered MUST be discarded and treated as\n   lost.\n
        \  The payload of the received SAToP packets marked with the L bit set\n   SHOULD
        be replaced by the equivalent amount of the \"all ones\" pattern\n   even
        if it has not been omitted.\n   The payload of each lost SAToP packet MUST
        be replaced with the\n   equivalent amount of the replacement data.  The contents
        of the\n   replacement data are implementation-specific and MAY be locally\n
        \  configurable.  By default, all SAToP implementations MUST support\n   generation
        of the \"all ones\" pattern as the replacement data.  Before\n   a PW has
        been set up and after a PW has been torn down, the IWF MUST\n   play out the
        \"all ones\" pattern to its TDM attachment circuit.\n   Once the PW has been
        set up, the CE-bound IWF begins to receive SAToP\n   packets and to store
        their payload in the jitter buffer but continues\n   to play out the \"all
        ones\" pattern to its TDM attachment circuit.\n   This intermediate state
        persists until a preconfigured amount of TDM\n   data (usually half of the
        jitter buffer) has been received in\n   consecutive SAToP packets or until
        a preconfigured intermediate state\n   timer (started when the PW setup is
        completed) expires.\n   Once the preconfigured amount of the TDM data has
        been received, the\n   CE-bound SAToP IWF enters its normal operation state
        where it\n   continues to receive SAToP packets and to store their payload
        in the\n   jitter buffer while playing out the contents of the jitter buffer
        in\n   accordance with the required clock.  In this state, the CE-bound IWF\n
        \  performs clock recovery, MAY monitor PW defects, and MAY collect PW\n   performance
        monitoring data.\n   If the CE-bound SAToP IWF detects loss of a preconfigured
        number of\n   consecutive packets or if the intermediate state timer expires
        before\n   the required amount of TDM data has been received, it enters its\n
        \  packet loss state.  While in this state, the local PSN-bound SAToP\n   IWF
        SHOULD mark every packet it transmits with the R bit set.  The\n   CE-bound
        SAToP IWF leaves this state and transitions to the normal\n   one once a preconfigured
        number of consecutive valid SAToP packets\n   have been received.  (Successfully
        reordered packets contribute to\n   the count of consecutive packets.)\n   The
        CE-bound SAToP IWF MUST provide an indication of TDM data\n   validity to
        the CE.  This can be done by transporting or by\n   generating the native
        AIS indication.  As mentioned above, T3 AIS\n   cannot be detected or generated
        by structure-agnostic means, and\n   hence a structure-aware NSP MUST be used
        when generating a valid AIS\n   pattern.\n"
      title: 6.2.2.  CE-Bound Direction
    title: 6.2.  IWF Operation
  - contents:
    - "6.3.  SAToP Defects\n   In addition to the packet loss state of the CE-bound
      SAToP IWF\n   defined above, it MAY detect the following defects:\n      o  Stray
      packets\n      o  Malformed packets\n      o  Excessive packet loss rate\n      o
      \ Buffer overrun\n      o  Remote packet loss\n   Corresponding to each defect
      is a defect state of the IWF, a\n   detection criterion that triggers transition
      from the normal\n   operation state to the appropriate defect state, and an
      alarm that\n   MAY be reported to the management system and thereafter cleared.\n
      \  Alarms are only reported when the defect state persists for a\n   preconfigured
      amount of time (typically 2.5 seconds) and MUST be\n   cleared after the corresponding
      defect is undetected for a second\n   preconfigured amount of time (typically
      10 seconds).  The trigger and\n   release times for the various alarms may be
      independent.\n   Stray packets MAY be detected by the PSN and PW demultiplexing\n
      \  layers.  When RTP is used, the SSRC field in the RTP header MAY be\n   used
      for this purpose as well.  Stray packets MUST be discarded by\n   the CE-bound
      IWF, and their detection MUST NOT affect mechanisms for\n   detection of packet
      loss.\n   Malformed packets are detected by mismatch between the expected\n
      \  packet size (taking the value of the L bit into account) and the\n   actual
      packet size inferred from the PSN and PW demultiplexing\n   layers.  When RTP
      is used, lack of correspondence between the PT\n   value and that allocated
      for this direction of the PW MAY also be\n   used for this purpose.  Malformed
      in-order packets MUST be discarded\n   by the CE-bound IWF and replacement data
      generated as with lost\n   packets.\n   Excessive packet loss rate is detected
      by computing the average\n   packet loss rate over a configurable amount of
      times and comparing it\n   with a preconfigured threshold.\n   Buffer overrun
      is detected in the normal operation state when the\n   jitter buffer of the
      CE-bound IWF cannot accommodate newly arrived\n   SAToP packets.\n   Remote
      packet loss is indicated by reception of packets with their R\n   bit set.\n"
    title: 6.3.  SAToP Defects
  - contents:
    - "6.4.  SAToP PW Performance Monitoring\n   Performance monitoring (PM) parameters
      are routinely collected for\n   TDM services and provide an important maintenance
      mechanism in TDM\n   networks.  The ability to collect compatible PM parameters
      for SAToP\n   PWs enhances their maintenance capabilities.\n   Collection of
      the SAToP PW performance monitoring parameters is\n   OPTIONAL and, if implemented,
      is only performed after the CE-bound\n   IWF has exited its intermediate state.\n
      \  SAToP defines error events, errored blocks, and defects as follows:\n      o
      \ A SAToP error event is defined as insertion of a single\n         replacement
      packet into the jitter buffer (replacement of\n         payload of SAToP packets
      with the L bit set is not considered\n         insertion of a replacement packet).\n
      \     o  A SAToP errored data block is defined as a block of data played\n         out
      to the TDM attachment circuit and of a size defined in\n         accordance
      with the [G.826] rules for the corresponding TDM\n         service that has
      experienced at least one SAToP error event.\n      o  A SAToP defect is defined
      as the packet loss state of the\n         CE-bound SAToP IWF.\n   The SAToP
      PW PM parameters (Errored, Severely Errored, and\n   Unavailable Seconds) are
      derived from these definitions in accordance\n   with [G.826].\n"
    title: 6.4.  SAToP PW Performance Monitoring
  title: 6.  SAToP Operation
- contents:
  - "7.  Quality of Service (QoS) Issues\n   SAToP SHOULD employ existing QoS capabilities
    of the underlying PSN.\n   If the PSN providing connectivity between PE devices
    is Diffserv-\n   enabled and provides a PDB [RFC3086] that guarantees low jitter
    and\n   low loss, the SAToP PW SHOULD use this PDB in compliance with the\n   admission
    and allocation rules the PSN has put in place for that PDB\n   (e.g., marking
    packets as directed by the PSN).\n   If the PSN is Intserv-enabled, then GS (Guaranteed
    Service) [RFC2212]\n   with the appropriate bandwidth reservation SHOULD be used
    in order to\n   provide a bandwidth guarantee equal or greater than that of the\n
    \  aggregate TDM traffic.\n"
  title: 7.  Quality of Service (QoS) Issues
- contents:
  - "8.  Congestion Control\n   As explained in [RFC3985], the PSN carrying the PW
    may be subject to\n   congestion.  SAToP PWs represent inelastic constant bit-rate
    (CBR)\n   flows and cannot respond to congestion in a TCP-friendly manner\n   prescribed
    by [RFC2914], although the percentage of total bandwidth\n   they consume remains
    constant.\n   Unless appropriate precautions are taken, undiminished demand of\n
    \  bandwidth by SAToP PWs can contribute to network congestion that may\n   impact
    network control protocols.\n   Whenever possible, SAToP PWs SHOULD be carried
    across traffic-\n   engineered PSNs that provide either bandwidth reservation
    and\n   admission control or forwarding prioritization and boundary traffic\n
    \  conditioning mechanisms.  IntServ-enabled domains supporting\n   Guaranteed
    Service (GS) [RFC2212] and DiffServ-enabled domains\n   [RFC2475] supporting Expedited
    Forwarding (EF) [RFC3246] provide\n   examples of such PSNs.  Such mechanisms
    will negate, to some degree,\n   the effect of the SAToP PWs on the neighboring
    streams.  In order to\n   facilitate boundary traffic conditioning of SAToP traffic
    over IP\n   PSNs, the SAToP IP packets SHOULD NOT use the DiffServ Code Point\n
    \  (DSCP) value reserved for the Default Per-Hop Behavior (PHB)\n   [RFC2474].\n
    \  If SAToP PWs run over a PSN providing best-effort service, they\n   SHOULD
    monitor packet loss in order to detect \"severe congestion\".\n   If such a condition
    is detected, a SAToP PW SHOULD shut down bi-\n   directionally for some period
    of time as described in Section 6.5 of\n   [RFC3985].\n   Note that:\n   1. The
    SAToP IWF can inherently provide packet loss measurement since\n      the expected
    rate of arrival of SAToP packets is fixed and known\n   2. The results of the
    SAToP packet loss measurement may not be a\n      reliable indication of presence
    or absence of severe congestion if\n      the PSN provides enhanced delivery.
    \ For example:\n      a) If SAToP traffic takes precedence over non-SAToP traffic,\n
    \        severe congestion can develop without significant SAToP packet\n         loss.\n
    \     b) If non-SAToP traffic takes precedence over SAToP traffic, SAToP\n         may
    experience substantial packet loss due to a short-term\n         burst of high-priority
    traffic.\n   3. The TDM services emulated by the SAToP PWs have high availability\n
    \     objectives (see [G.826]) that MUST be taken into account when\n      deciding
    on temporary shutdown of SAToP PWs.\n   This specification does not define the
    exact criteria for detecting\n   \"severe congestion\" using the SAToP packet
    loss rate or the specific\n   methods for bi-directional shutdown the SAToP PWs
    (when such severe\n   congestion has been detected) and their subsequent re-start
    after a\n   suitable delay.  This is left for further study.  However, the\n   following
    considerations may be used as guidelines for implementing\n   the SAToP severe
    congestion shutdown mechanism:\n   1. SAToP Performance Monitoring techniques
    (see Section 6.4) provide\n      entry and exit criteria for the SAToP PW \"Unavailable\"
    state that\n      make it closely correlated with the \"Unavailable\" state of
    the\n      emulated TDM circuit as specified in [G.826].  Using the same\n      criteria
    for \"severe congestion\" detection may decrease the risk\n      of shutting down
    the SAToP PW while the emulated TDM circuit is\n      still considered available
    by the CE.\n   2. If the SAToP PW has been set up using either PWE3 control protocol\n
    \     [RFC4447] or L2TPv3 [RFC3931], the regular PW teardown procedures\n      of
    these protocols SHOULD be used.\n   3. If one of the SAToP PW end points stops
    transmission of packets\n      for a sufficiently long period, its peer (observing
    100% packet\n      loss) will necessarily detect \"severe congestion\" and also
    stop\n      transmission, thus achieving bi-directional PW shutdown.\n"
  title: 8.  Congestion Control
- contents:
  - "9.  Security Considerations\n   SAToP does not enhance or detract from the security
    performance of\n   the underlying PSN; rather, it relies upon the PSN mechanisms
    for\n   encryption, integrity, and authentication whenever required.\n   SAToP
    PWs share susceptibility to a number of pseudowire-layer\n   attacks and will
    use whatever mechanisms for confidentiality,\n   integrity, and authentication
    are developed for general PWs.  These\n   methods are beyond the scope of this
    document.\n   Although SAToP PWs MAY employ an RTP header when explicit transfer
    of\n   timing information is required, SRTP (see [RFC3711]) mechanisms are\n   NOT
    RECOMMENDED as a substitute for PW layer security.\n   Misconnection detection
    capabilities of SAToP increase its resilience\n   to misconfiguration and some
    types of denial-of-service (DoS)\n   attacks.\n   Random initialization of sequence
    numbers, in both the control word\n   and the optional RTP header, makes known-plaintext
    attacks on\n   encrypted SAToP PWs more difficult.  Encryption of PWs is beyond
    the\n   scope of this document.\n"
  title: 9.  Security Considerations
- contents:
  - "10.  Applicability Statement\n   SAToP is an encapsulation layer intended for
    carrying TDM circuits\n   (E1/T1/E3/T3) over PSN in a structure-agnostic fashion.\n
    \  SAToP fully complies with the principle of minimal intervention, thus\n   minimizing
    overhead and computational power required for\n   encapsulation.\n   SAToP provides
    sequencing and synchronization functions needed for\n   emulation of TDM bit-streams,
    including detection of lost or\n   misordered packets and appropriate compensation.\n
    \  TDM bit-streams carried over SAToP PWs may experience delays\n   exceeding
    those typical of native TDM networks.  These delays include\n   the SAToP packetization
    delay, edge-to-edge delay of the underlying\n   PSN, and the delay added by the
    jitter buffer.  It is recommended to\n   estimate both delay and delay variation
    prior to setup of a SAToP PW.\n   SAToP carries TDM streams over PSN in their
    entirety, including any\n   TDM signaling contained within the data.  Consequently,
    the emulated\n   TDM services are sensitive to the PSN packet loss.  Appropriate\n
    \  generation of replacement data can be used to prevent shutting down\n   the
    CE TDM interface due to occasional packet loss.  Other effects of\n   packet loss
    on this interface (e.g., errored blocks) cannot be\n   prevented.\n   Note: Structure-aware
    TDM emulation (see [CESoPSN] or [TDMoIP])\n   completely hides effects of the
    PSN packet loss on the CE TDM\n   interface (because framing and Cyclic Redundancy
    Checks (CRCs) are\n   generated locally) and allows usage of application-specific
    packet\n   loss concealment methods to minimize effects on the applications\n
    \  using the emulated TDM service.\n   SAToP can be used in conjunction with various
    network synchronization\n   scenarios (see [RFC4197]) and clock recovery techniques.
    \ The quality\n   of the TDM clock recovered by the SAToP IWF may be implementation-\n
    \  specific.  The quality may be improved by using RTP if a common clock\n   is
    available at both ends of the SAToP PW.\n   SAToP provides for effective fault
    isolation by carrying the local\n   attachment circuit failure indications.\n
    \  The option not to carry invalid TDM data enables PSN bandwidth\n   conservation.\n
    \  SAToP allows collection of TDM-like faults and performance monitoring\n   parameters
    and hence emulates 'classic' carrier services of TDM.\n   SAToP provides for a
    carrier-independent ability to detect\n   misconnections and malformed packets.
    \ This feature increases\n   resilience of the emulated service to misconfiguration
    and DoS\n   attacks.\n   Being a constant bit rate (CBR) service, SAToP cannot
    provide TCP-\n   friendly behavior under network congestion.\n   Faithfulness
    of a SAToP PW may be increased by exploiting QoS\n   features of the underlying
    PSN.\n   SAToP does not provide any mechanisms for protection against PSN\n   outages,
    and hence its resilience to such outages is limited.\n   However, lost-packet
    replacement and packet reordering mechanisms\n   increase resilience of the emulated
    service to fast PSN rerouting\n   events.\n"
  title: 10.  Applicability Statement
- contents:
  - "11.  IANA Considerations\n   Allocation of PW Types for the corresponding SAToP
    PWs is defined in\n   [RFC4446].\n"
  title: 11.  IANA Considerations
- contents:
  - "12.  Acknowledgements\n   We acknowledge the work of Gil Biran and Hugo Silberman
    who\n   implemented TDM transport over IP in 1998.\n   We would like to thank
    Alik Shimelmits for many productive\n   discussions and Ron Insler for his assistance
    in deploying TDM over\n   PSN.\n   We express deep gratitude to Stephen Casner
    who has reviewed in\n   detail one of the predecessors of this document and provided
    valuable\n   feedback regarding various aspects of RTP usage, and to Kathleen\n
    \  Nichols who has provided the current text of the QoS section\n   considering
    Diffserv-enabled PSN.\n   We thank William Bartholomay, Robert Biksner, Stewart
    Bryant, Rao\n   Cherukuri, Ron Cohen, Alex Conta, Shahram Davari, Tom Johnson,
    Sim\n   Narasimha, Yaron Raz, and Maximilian Riegel for their valuable\n   feedback.\n"
  title: 12.  Acknowledgements
- contents:
  - "13.  Co-Authors\n   The following are co-authors of this document:\n   Motty
    Anavi                 RAD Data Communications\n   Tim Frost                   Zarlink
    Semiconductors\n   Eduard Metz                 TNO Telecom\n   Prayson Pate                Overture
    Networks\n   Akiva Sadovski\n   Israel Sasson               Axerra Networks\n
    \  Ronen Shashoua              RAD Data Communications\n"
  title: 13.  Co-Authors
- contents:
  - "14.  Normative References\n   [G.702]        ITU-T Recommendation G.702 (11/88)
    - Digital Hierarchy\n                  Bit Rates.\n   [G.703]        ITU-T Recommendation
    G.703 (10/98) -\n                  Physical/Electrical Characteristics of Hierarchical\n
    \                 Digital Interfaces.\n   [G.704]        ITU-T Recommendation
    G.704 (10/98) - Synchronous frame\n                  structures used at 1544,
    6312, 2048, 8448 and 44 736\n                  Kbit/s hierarchical levels.\n   [G.707]
    \       ITU-T Recommendation G.707 (03/96) - Network Node\n                  Interface
    for the Synchronous Digital Hierarchy (SDH).\n   [G.775]        ITU-T Recommendation
    G.775 (10/98) - Loss of Signal\n                  (LOS), Alarm Indication Signal
    (AIS) and Remote Defect\n                  Indication (RDI) Defect Detection and
    Clearance\n                  Criteria for PDH Signals.\n   [G.802]        ITU-T
    Recommendation G.802 (11/88) - Interworking\n                  between Networks
    Based on Different Digital\n                  Hierarchies and Speech Encoding
    Laws.\n   [G.826]        ITU-T Recommendation G.826 (02/99) - Error performance\n
    \                 parameters and objectives for international, constant\n                  bit
    rate digital paths at or above the primary rate.\n   [RFC791]       Postel, J.,
    \"Internet Protocol\", STD 5, RFC 791,\n                  September 1981.\n   [RFC2119]
    \     Bradner, S., \"Key words for use in RFCs to Indicate\n                  Requirement
    Levels\", BCP 14, RFC 2119, March 1997.\n   [RFC2474]      Nichols, K., Blake,
    S., Baker, F., and D. Black,\n                  \"Definition of the Differentiated
    Services Field (DS\n                  Field) in the IPv4 and IPv6 Headers\", RFC
    2474,\n                  December 1998.\n   [RFC2475]      Blake, S., Black, D.,
    Carlson, M., Davies, E., Wang,\n                  Z., and W. Weiss, \"An Architecture
    for Differentiated\n                  Service\", RFC 2475, December 1998.\n   [RFC2914]
    \     Floyd, S., \"Congestion Control Principles\", BCP 41,\n                  RFC
    2914, September 2000.\n   [RFC3086]      Nichols, K. and B. Carpenter, \"Definition
    of\n                  Differentiated Services Per Domain Behaviors and Rules\n
    \                 for their Specification\", RFC 3086, April 2001.\n   [RFC3550]
    \     Schulzrinne, H., Casner, S., Frederick, R., and V.\n                  Jacobson,
    \"RTP: A Transport Protocol for Real-Time\n                  Applications\", STD
    64, RFC 3550, July 2003.\n   [RFC3931]      Lau, J., Townsley, M., and I. Goyret,
    \"Layer Two\n                  Tunneling Protocol - Version 3 (L2TPv3)\", RFC
    3931,\n                  March 2005.\n   [RFC4385]      Bryant, S., Swallow, G.,
    Martini, L., and D.\n                  McPherson, \"Pseudowire Emulation Edge-to-Edge
    (PWE3)\n                  Control Word for Use over an MPLS PSN\", RFC 4385,\n
    \                 February 2006.\n   [RFC4446]      Martini, L., \"IANA Allocations
    for Pseudowire Edge to\n                  Edge Emulation (PWE3)\", BCP 116, RFC
    4446, April 2006.\n   [RFC4447]      Martini, L., Rosen, E., El-Aawar, N., Smith,
    T., and\n                  G. Heron, \"Pseudowire Setup and Maintenance Using
    the\n                  Label Distribution Protocol (LDP)\", RFC 4447, April\n
    \                 2006.\n   [RTP-TYPES]    RTP PARAMETERS, <http://www.iana.org/assignments/rtp-\n
    \                 parameters>.\n   [T1.107]       American National Standard for
    Telecommunications -\n                  Digital Hierarchy - Format Specifications,
    ANSI\n                  T1.107-1988.\n"
  title: 14.  Normative References
- contents:
  - "15.  Informative References\n   [ATM-CES]      ATM forum specification af-vtoa-0078
    (CES 2.0) Circuit\n                  Emulation Service Interoperability Specification
    Ver.\n                  2.0.\n   [CESoPSN]      Vainshtein, A., Ed., Sasson, I.,
    Metz, E., Frost, T.,\n                  and P. Pate, \"TDM Circuit Emulation Service
    over\n                  Packet Switched Network (CESoPSN)\", Work in Progress,\n
    \                 November 2005.\n   [PWE3-MS]      Martini, L., Metz, C., Nadeau,
    T., Duckett, M., and F.\n                  Balus, \"Segmented Pseudo Wire\", Work
    in Progress,\n                  March 2006.\n   [PWE3-FRAG]    Malis, A. and M.
    Townsley, \"PWE3 Fragmentation and\n                  Reassembly\", Work in Progress,
    November 2005.\n   [PWE3-VCCV]    Nadeau, T. and R. Aggarwal, \"Pseudo Wire Virtual\n
    \                 Circuit Connectivity\", Work in Progress, August 2005.\n   [RFC2212]
    \     Shenker, S., Partridge, C., and R. Guerin,\n                  \"Specification
    of Guaranteed Quality of Service\", RFC\n                  2212, September 1997.\n
    \  [RFC3246]      Davie, B., Charny, A., Bennet, J.C., Benson, K., Le\n                  Boudec,
    J., Courtney, W., Davari, S., Firoiu, V., and\n                  D. Stiliadis,
    \"An Expedited Forwarding PHB (Per-Hop\n                  Behavior)\", RFC 3246,
    March 2002.\n   [RFC3551]      Schulzrinne, H. and S. Casner, \"RTP Profile for
    Audio\n                  and Video Conferences with Minimal Control\", STD 65,\n
    \                 RFC 3551, July 2003.\n   [RFC3711]      Baugher, M., McGrew,
    D., Naslund, M., Carrara, E., and\n                  K. Norrman, \"The Secure
    Real-time Transport Protocol\n                  (SRTP)\", RFC 3711, March 2004.\n
    \  [RFC3916]      Xiao, X., McPherson, D., and P. Pate, \"Requirements\n                  for
    Pseudo-Wire Emulation Edge-to-Edge (PWE3)\", RFC\n                  3916, September
    2004.\n   [RFC3985]      Bryant, S. and P. Pate, \"Pseudo Wire Emulation Edge-\n
    \                 to-Edge (PWE3) Architecture\", RFC 3985, March 2005.\n   [RFC4197]
    \     Riegel, M., \"Requirements for Edge-to-Edge Emulation\n                  of
    Time Division Multiplexed (TDM) Circuits over\n                  Packet Switching
    Networks\", RFC 4197, October 2005.\n   [TDM-CONTROL]  Vainshtein, A. and Y. Stein,
    \"Control Protocol\n                  Extensions for Setup of TDM Pseudowires\",
    Work in\n                  Progress, July 2005.\n   [TDMoIP]       Stein, Y.,
    \"TDMoIP\", Work in Progress, February 2005.\n"
  title: 15.  Informative References
- contents:
  - "Appendix A: Old Mode of SAToP Encapsulation over L2TPv3\n   Previous versions
    of this specification defined a SAToP PW\n   encapsulation over L2TPv3, which
    differs from that described in\n   Section 4.3 and Figure 2b.  In these versions,
    the RTP header, if\n   used, precedes the SAToP control word.\n   Existing implementations
    of the old encapsulation mode MUST be\n   distinguished from the encapsulations
    conforming to this\n   specification via the SAToP PW setup.\n"
  title: 'Appendix A: Old Mode of SAToP Encapsulation over L2TPv3'
- contents:
  - "Appendix B: Parameters That MUST Be Agreed upon during the PW Setup\n   The following
    parameters of the SAToP IWF MUST be agreed upon between\n   the peer IWFs during
    the PW setup.  Such an agreement can be reached\n   via manual configuration or
    via one of the PW setup protocols:\n   1. Type of the Attachment Circuit (AC)\n
    \     As mentioned in Section 3, SAToP supports the following AC types:\n         i)
    \  E1  (2048 kbit/s)\n         ii)  T1  (1544 kbit/s); this service is also known
    as DS1\n         iii) E3 (34368 kbit/s)\n         iv)  T3 (44736 kbit/s); this
    service is also known as DS3\n      SAToP PWs cannot be established between ACs
    of different types.\n   2. Usage of octet-aligned mode for T1\n      a) This OPTIONAL
    mode of emulating T1 bit-streams with SAToP PWs\n         is described in Section
    5.2.\n      b) Both sides MUST agree on using this mode for a SAToP PW to be\n
    \        operational.\n   3. Payload size, i.e., the amount of valid TDM data
    in a SAToP packet\n      a) As mentioned in Section 5.1:\n         i)  The same
    payload size MUST be used in both directions of\n             the SAToP PW.\n
    \        ii) The payload size cannot be changed once the PW has been set\n             up.\n
    \     b) In most cases, any mutually agreed upon value can be used.\n         However,
    if octet-aligned T1 encapsulation mode is used, the\n         payload size MUST
    be an integral multiple of 25, and it\n         expresses the amount of valid
    TDM data including padding.\n   4. Usage of the RTP header in the encapsulation\n
    \     a) Both sides MUST agree on using RTP header in the SAToP PW.\n      b)
    In the case of a SAToP PW over L2TPv3 using the RTP header,\n         both sides
    MUST agree on usage of the \"old mode\" described in\n         Appendix A.\n   5.
    RTP-dependent parameters.  The following parameters MUST be agreed\n      upon
    if usage of the RTP header for the SAToP PW has been agreed\n      upon.\n      a)
    Timestamping mode (absolute or differential); this mode MAY be\n         different
    for the two directions of the PW, but the receiver\n         and transmitter MUST
    agree on the timestamping mode for each\n         direction of the PW\n      b)
    Timestamping clock frequency:\n         i)  The timestamping frequency MUST be
    a integral multiple of 8\n             kHz.\n         ii) The timestamping frequency
    MAY be different for the two\n             directions of the PW, but the receiver
    and transmitter MUST\n             agree on the timestamping mode for each direction
    of the\n             PW.\n      c) RTP Payload Type (PT) value; any dynamically
    assigned value can\n         be used with SAToP PWs.\n      d) Synchronization
    Source (SSRC) value; the transmitter MUST agree\n         to send the SSRC value
    requested by the receiver.\n"
  title: 'Appendix B: Parameters That MUST Be Agreed upon during the PW Setup'
- contents:
  - "Editors' Addresses\n   Alexander (\"Sasha\") Vainshtein\n   Axerra Networks\n
    \  24 Raoul Wallenberg St.,\n   Tel Aviv 69719, Israel\n   EMail: sasha@axerra.com\n
    \  Yaakov (Jonathan) Stein\n   RAD Data Communications\n   24 Raoul Wallenberg
    St., Bldg C\n   Tel Aviv 69719, Israel\n   EMail: yaakov_s@rad.com\n"
  title: Editors' Addresses
- contents:
  - "Full Copyright Statement\n   Copyright (C) The Internet Society (2006).\n   This
    document is subject to the rights, licenses and restrictions\n   contained in
    BCP 78, and except as set forth therein, the authors\n   retain all their rights.\n
    \  This document and the information contained herein are provided on an\n   \"AS
    IS\" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS\n   OR IS SPONSORED
    BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET\n   ENGINEERING TASK FORCE
    DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED,\n   INCLUDING BUT NOT LIMITED TO
    ANY WARRANTY THAT THE USE OF THE\n   INFORMATION HEREIN WILL NOT INFRINGE ANY
    RIGHTS OR ANY IMPLIED\n   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR
    PURPOSE.\n"
  title: Full Copyright Statement
- contents:
  - "Intellectual Property\n   The IETF takes no position regarding the validity or
    scope of any\n   Intellectual Property Rights or other rights that might be claimed
    to\n   pertain to the implementation or use of the technology described in\n   this
    document or the extent to which any license under such rights\n   might or might
    not be available; nor does it represent that it has\n   made any independent effort
    to identify any such rights.  Information\n   on the procedures with respect to
    rights in RFC documents can be\n   found in BCP 78 and BCP 79.\n   Copies of IPR
    disclosures made to the IETF Secretariat and any\n   assurances of licenses to
    be made available, or the result of an\n   attempt made to obtain a general license
    or permission for the use of\n   such proprietary rights by implementers or users
    of this\n   specification can be obtained from the IETF on-line IPR repository
    at\n   http://www.ietf.org/ipr.\n   The IETF invites any interested party to bring
    to its attention any\n   copyrights, patents or patent applications, or other
    proprietary\n   rights that may cover technology that may be required to implement\n
    \  this standard.  Please address the information to the IETF at\n   ietf-ipr@ietf.org.\n"
  title: Intellectual Property
- contents:
  - "Acknowledgement\n   Funding for the RFC Editor function is provided by the IETF\n
    \  Administrative Support Activity (IASA).\n"
  title: Acknowledgement
