- title: __initial_text__
  contents:
  - '                    Framework for Metric Composition

    '
- title: Abstract
  contents:
  - "Abstract\n   This memo describes a detailed framework for composing and\n   aggregating\
    \ metrics (both in time and in space) originally defined by\n   the IP Performance\
    \ Metrics (IPPM), RFC 2330, and developed by the\n   IETF.  This new framework\
    \ memo describes the generic composition and\n   aggregation mechanisms.  The\
    \ memo provides a basis for additional\n   documents that implement the framework\
    \ to define detailed\n   compositions and aggregations of metrics that are useful\
    \ in practice.\n"
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This document is not an Internet Standards Track specification;\
    \ it is\n   published for informational purposes.\n   This document is a product\
    \ of the Internet Engineering Task Force\n   (IETF).  It represents the consensus\
    \ of the IETF community.  It has\n   received public review and has been approved\
    \ for publication by the\n   Internet Engineering Steering Group (IESG).  Not\
    \ all documents\n   approved by the IESG are a candidate for any level of Internet\n\
    \   Standard; see Section 2 of RFC 5741.\n   Information about the current status\
    \ of this document, any errata,\n   and how to provide feedback on it may be obtained\
    \ at\n   http://www.rfc-editor.org/info/rfc5835.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (c) 2010 IETF Trust and the persons identified\
    \ as the\n   document authors.  All rights reserved.\n   This document is subject\
    \ to BCP 78 and the IETF Trust's Legal\n   Provisions Relating to IETF Documents\n\
    \   (http://trustee.ietf.org/license-info) in effect on the date of\n   publication\
    \ of this document.  Please review these documents\n   carefully, as they describe\
    \ your rights and restrictions with respect\n   to this document.  Code Components\
    \ extracted from this document must\n   include Simplified BSD License text as\
    \ described in Section 4.e of\n   the Trust Legal Provisions and are provided\
    \ without warranty as\n   described in the Simplified BSD License.\n   This document\
    \ may contain material from IETF Documents or IETF\n   Contributions published\
    \ or made publicly available before November\n   10, 2008.  The person(s) controlling\
    \ the copyright in some of this\n   material may not have granted the IETF Trust\
    \ the right to allow\n   modifications of such material outside the IETF Standards\
    \ Process.\n   Without obtaining an adequate license from the person(s) controlling\n\
    \   the copyright in such materials, this document may not be modified\n   outside\
    \ the IETF Standards Process, and derivative works of it may\n   not be created\
    \ outside the IETF Standards Process, except to format\n   it for publication\
    \ as an RFC or to translate it into languages other\n   than English.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1. Introduction ....................................................4\n\
    \      1.1. Motivation .................................................4\n  \
    \         1.1.1. Reducing Measurement Overhead .......................4\n    \
    \       1.1.2. Measurement Re-Use ..................................5\n      \
    \     1.1.3. Data Reduction and Consolidation ....................5\n        \
    \   1.1.4. Implications on Measurement Design and Reporting ....6\n   2. Requirements\
    \ Language ...........................................6\n   3. Purpose and Scope\
    \ ...............................................6\n   4. Terminology .....................................................7\n\
    \      4.1. Measurement Point ..........................................7\n  \
    \    4.2. Complete Path ..............................................7\n    \
    \  4.3. Complete Path Metric .......................................7\n      4.4.\
    \ Complete Time Interval .....................................7\n      4.5. Composed\
    \ Metric ............................................7\n      4.6. Composition\
    \ Function .......................................7\n      4.7. Ground Truth ...............................................8\n\
    \      4.8. Interval ...................................................8\n  \
    \    4.9. Sub-Interval ...............................................8\n    \
    \  4.10. Sub-Path ..................................................8\n      4.11.\
    \ Sub-Path Metrics ..........................................8\n   5. Description\
    \ of Metric Types .....................................9\n      5.1. Temporal\
    \ Aggregation Description ...........................9\n      5.2. Spatial Aggregation\
    \ Description ............................9\n      5.3. Spatial Composition Description\
    \ ...........................10\n      5.4. Help Metrics ..............................................10\n\
    \      5.5. Higher-Order Composition ..................................11\n  \
    \ 6. Requirements for Composed Metrics ..............................11\n    \
    \  6.1. Note on Intellectual Property Rights (IPR) ................12\n   7. Guidelines\
    \ for Defining Composed Metrics .......................12\n      7.1. Ground Truth:\
    \ Comparison with Other IPPM Metrics ..........12\n           7.1.1. Ground Truth\
    \ for Temporal Aggregation ..............14\n           7.1.2. Ground Truth for\
    \ Spatial Aggregation ...............15\n      7.2. Deviation from the Ground\
    \ Truth ...........................15\n      7.3. Incomplete Information ....................................15\n\
    \      7.4. Time-Varying Metrics ......................................15\n  \
    \ 8. Security Considerations ........................................16\n   9.\
    \ Acknowledgements ...............................................16\n   10. References\
    \ ....................................................16\n      10.1. Normative\
    \ References .....................................16\n      10.2. Informative\
    \ References ...................................17\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   The IP Performance Metrics (IPPM) framework [RFC2330] describes\
    \ two\n   forms of metric composition, spatial and temporal.  The text also\n\
    \   suggests that the concepts of the analytical framework (or A-frame)\n   would\
    \ help to develop useful relationships to derive the composed\n   metrics from\
    \ real metrics.  The effectiveness of composed metrics is\n   dependent on their\
    \ usefulness in analysis and applicability to\n   practical measurement circumstances.\n\
    \   This memo expands on the notion of composition, and provides a\n   detailed\
    \ framework for several classes of metrics that were described\n   in the original\
    \ IPPM framework.  The classes include temporal\n   aggregation, spatial aggregation,\
    \ and spatial composition.\n"
- title: 1.1.  Motivation
  contents:
  - "1.1.  Motivation\n   Network operators have deployed measurement systems to serve\
    \ many\n   purposes, including performance monitoring, maintenance support,\n\
    \   network engineering, and reporting performance to customers.  The\n   collection\
    \ of elementary measurements alone is not enough to\n   understand a network's\
    \ behaviour.  In general, measurements need to\n   be post-processed to present\
    \ the most relevant information for each\n   purpose.  The first step is often\
    \ a process of \"composition\" of\n   single measurements or measurement sets\
    \ into other forms.\n   Composition and aggregation present several more post-processing\n\
    \   opportunities to the network operator, and we describe the key\n   motivations\
    \ below.\n"
- title: 1.1.1.  Reducing Measurement Overhead
  contents:
  - "1.1.1.  Reducing Measurement Overhead\n   A network's measurement possibilities\
    \ scale upward with the square of\n   the number of nodes.  But each measurement\
    \ implies overhead, in terms\n   of the storage for the results, the traffic on\
    \ the network (assuming\n   active methods), and the operation and administration\
    \ of the\n   measurement system itself.  In a large network, it is impossible\
    \ to\n   perform measurements from each node to all others.\n   An individual\
    \ network operator should be able to organize their\n   measurement paths along\
    \ the lines of physical topology, or routing\n   areas/Autonomous Systems, and\
    \ thus minimize dependencies and overlap\n   between different measurement paths.\
    \  This way, the sheer number of\n   measurements can be reduced, as long as the\
    \ operator has a set of\n   methods to estimate performance between any particular\
    \ pair of nodes\n   when needed.\n   Composition and aggregation play a key role\
    \ when the path of interest\n   spans multiple networks, and where each operator\
    \ conducts their own\n   measurements.  Here, the complete path performance may\
    \ be estimated\n   from measurements on the component parts.\n   Operators that\
    \ take advantage of the composition and aggregation\n   methods recognize that\
    \ the estimates may exhibit some additional\n   error beyond that inherent in\
    \ the measurements themselves, and so\n   they are making a trade-off to achieve\
    \ reasonable measurement system\n   overhead.\n"
- title: 1.1.2.  Measurement Re-Use
  contents:
  - "1.1.2.  Measurement Re-Use\n   There are many different measurement users, each\
    \ bringing specific\n   requirements for the reporting timescale.  Network managers\
    \ and\n   maintenance forces prefer to see results presented very rapidly, to\n\
    \   detect problems quickly or see if their action has corrected a\n   problem.\
    \  On the other hand, network capacity planners and even\n   network users sometimes\
    \ prefer a long-term view of performance, for\n   example to check trends.  How\
    \ can one set of measurements serve both\n   needs?\n   The answer lies in temporal\
    \ aggregation, where the short-term\n   measurements needed by the operations\
    \ community are combined to\n   estimate a longer-term result for others.  Also,\
    \ problems with the\n   measurement system itself may be isolated to one or more\
    \ of the\n   short-term measurements, rather than possibly invalidating an entire\n\
    \   long-term measurement if the problem was undetected.\n"
- title: 1.1.3.  Data Reduction and Consolidation
  contents:
  - "1.1.3.  Data Reduction and Consolidation\n   Another motivation is data reduction.\
    \  Assume there is a network in\n   which delay measurements are performed among\
    \ a subset of its nodes.\n   A network manager might ask whether there is a problem\
    \ with the\n   network delay in general.  It would be desirable to obtain a single\n\
    \   value that gives an indication of the overall network delay.  Spatial\n  \
    \ aggregation methods would address this need, and can produce the\n   desired\
    \ \"single figure of merit\" asked for, which may also be useful\n   in trend\
    \ analysis.\n   The overall value would be calculated from the elementary delay\n\
    \   measurements, but it is not obvious how: for example, it may not be\n   reasonable\
    \ to average all delay measurements, as some paths (e.g.,\n   those having a higher\
    \ bandwidth or more important customers) might be\n   considered more critical\
    \ than others.\n   Metric composition can help to provide, from raw measurement\
    \ data,\n   some tangible, well-understood and agreed-upon information about the\n\
    \   service guarantees provided by a network.  Such information can be\n   used\
    \ in the Service Level Agreement/Service Level Specification\n   (SLA/SLS) contracts\
    \ between a service provider and its customers.\n"
- title: 1.1.4.  Implications on Measurement Design and Reporting
  contents:
  - "1.1.4.  Implications on Measurement Design and Reporting\n   If a network measurement\
    \ system operator anticipates needing to\n   produce overall metrics by composition,\
    \ then it is prudent to keep\n   that requirement in mind when considering the\
    \ measurement design and\n   sampling plan.  Also, certain summary statistics\
    \ are more conducive\n   to composition than others, and this figures prominently\
    \ in the\n   design of measurements and when reporting the results.\n"
- title: 2.  Requirements Language
  contents:
  - "2.  Requirements Language\n   The key words \"MUST\", \"MUST NOT\", \"REQUIRED\"\
    , \"SHALL\", \"SHALL NOT\",\n   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"\
    MAY\", and \"OPTIONAL\" in this\n   document are to be interpreted as described\
    \ in RFC 2119 [RFC2119].\n"
- title: 3.  Purpose and Scope
  contents:
  - "3.  Purpose and Scope\n   The purpose of this memo is to provide a common framework\
    \ for the\n   various classes of metrics that are composed from primary metrics.\n\
    \   The scope is limited to the definitions of metrics that are composed\n   from\
    \ primary metrics using a deterministic function.  Key information\n   about each\
    \ composed metric is included, such as the assumptions under\n   which the relationship\
    \ holds and possible sources of\n   error/circumstances where the composition\
    \ may fail.\n   At this time, the scope of effort is limited to composed metrics\
    \ for\n   packet loss, delay, and delay variation, as defined in [RFC2679],\n\
    \   [RFC2680], [RFC2681], [RFC3393], [RFC5481], and the comparable\n   metrics\
    \ in [Y.1540].  Composition of packet reordering metrics\n   [RFC4737] and duplication\
    \ metrics [RFC5560] are considered research\n   topics at the time this memo was\
    \ prepared, and are beyond the scope\n   of this document.\n   This memo will\
    \ retain the terminology of the IPPM Framework [RFC2330]\n   as much as possible,\
    \ but will extend the terminology when necessary.\n   It is assumed that the reader\
    \ is familiar with the concepts\n   introduced in [RFC2330], as they will not\
    \ be repeated here.\n"
- title: 4.  Terminology
  contents:
  - "4.  Terminology\n   This section defines the terminology applicable to the processes\
    \ of\n   metric composition and aggregation.\n"
- title: 4.1.  Measurement Point
  contents:
  - "4.1.  Measurement Point\n   A measurement point is the logical or physical location\
    \ where packet\n   observations are made.  The term \"measurement point\" is synonymous\n\
    \   with the term \"observation position\" used in [RFC2330] when\n   describing\
    \ the notion of wire time.  A measurement point may be at\n   the boundary between\
    \ a host and an adjacent link (physical), or it\n   may be within a host (logical)\
    \ that performs measurements where the\n   difference between host time and wire\
    \ time is understood.\n"
- title: 4.2.  Complete Path
  contents:
  - "4.2.  Complete Path\n   The complete path is the actual path that a packet would\
    \ follow as it\n   travels from the packet's Source to its Destination.  A complete\
    \ path\n   may span the administrative boundaries of one or more networks.\n"
- title: 4.3.  Complete Path Metric
  contents:
  - "4.3.  Complete Path Metric\n   The complete path metric is the Source-to-Destination\
    \ metric that a\n   composed metric attempts to estimate.  A complete path metric\n\
    \   represents the ground-truth for a composed metric.\n"
- title: 4.4.  Complete Time Interval
  contents:
  - "4.4.  Complete Time Interval\n   The complete time interval is comprised of two\
    \ or more contiguous\n   sub-intervals, and is the interval whose performance\
    \ will be\n   estimated through temporal aggregation.\n"
- title: 4.5.  Composed Metric
  contents:
  - "4.5.  Composed Metric\n   A composed metric is an estimate of an actual metric\
    \ describing the\n   performance of a path over some time interval.  A composed\
    \ metric is\n   derived from other metrics by applying a deterministic process\
    \ or\n   function (e.g., a composition function).  The process may use metrics\n\
    \   that are identical to the metric being composed, or metrics that are\n   dissimilar,\
    \ or some combination of both types.\n"
- title: 4.6.  Composition Function
  contents:
  - "4.6.  Composition Function\n   A composition function is a deterministic process\
    \ applied to\n   individual metrics to derive another metric (such as a composed\n\
    \   metric).\n"
- title: 4.7.  Ground Truth
  contents:
  - "4.7.  Ground Truth\n   As applied here, the notion of \"ground truth\" is defined\
    \ as the\n   actual performance of a network path over some time interval.  The\n\
    \   ground truth is a metric on the (unavailable) packet transfer\n   information\
    \ for the desired path and time interval that a composed\n   metric seeks to estimate.\n"
- title: 4.8.  Interval
  contents:
  - "4.8.  Interval\n   An interval refers to a span of time.\n"
- title: 4.9.  Sub-Interval
  contents:
  - "4.9.  Sub-Interval\n   A sub-interval is a time interval that is included in\
    \ another\n   interval.\n"
- title: 4.10.  Sub-Path
  contents:
  - "4.10.  Sub-Path\n   A sub-path is a portion of the complete path where at least\
    \ the\n   sub-path Source and Destination hosts are constituents of the\n   complete\
    \ path.  We say that such a sub-path is \"involved\" in the\n   complete path.\n\
    \   Since sub-paths terminate on hosts, it is important to describe how\n   sub-paths\
    \ are considered to be joined.  In practice, the Source and\n   Destination hosts\
    \ may perform the function of measurement points.\n   If the Destination and Source\
    \ hosts of two adjoining paths are\n   co-located and the link between them would\
    \ contribute negligible\n   performance, then these hosts can be considered equivalent\
    \ (even if\n   there is no physical link between them, this is a practical\n \
    \  concession).\n   If the Destination and Source hosts of two adjoining paths\
    \ have a\n   link between them that contributes to the complete path performance,\n\
    \   then the link and hosts constitute another sub-path that is involved\n   in\
    \ the complete path, and should be characterized and included in the\n   composed\
    \ metric.\n"
- title: 4.11.  Sub-Path Metrics
  contents:
  - "4.11.  Sub-Path Metrics\n   A sub-path path metric is an element of the process\
    \ to derive a\n   composed metric, quantifying some aspect of the performance\
    \ of a\n   particular sub-path from its Source to Destination.\n"
- title: 5.  Description of Metric Types
  contents:
  - "5.  Description of Metric Types\n   This section defines the various classes\
    \ of composition.  There are\n   two classes more accurately described as aggregation\
    \ over time and\n   space, and the third involves concatenation in space.\n"
- title: 5.1.  Temporal Aggregation Description
  contents:
  - "5.1.  Temporal Aggregation Description\n   Aggregation in time is defined as\
    \ the composition of metrics with the\n   same type and scope obtained in different\
    \ time instants or time\n   windows.  For example, starting from a time series\
    \ of the\n   measurements of maximum and minimum one-way delay (OWD) on a certain\n\
    \   network path obtained over 5-minute intervals, we obtain a time\n   series\
    \ measurement with a coarser resolution (60 minutes) by taking\n   the maximum\
    \ of 12 consecutive 5-minute maxima and the minimum of 12\n   consecutive 5-minute\
    \ minima.\n   The main reason for doing time aggregation is to reduce the amount\
    \ of\n   data that has to be stored, and make the visualization/spotting of\n\
    \   regular cycles and/or growing or decreasing trends easier.  Another\n   useful\
    \ application is to detect anomalies or abnormal changes in the\n   network characteristics.\n\
    \   In RFC 2330, the term \"temporal composition\" is introduced and\n   differs\
    \ from temporal aggregation in that it refers to methodologies\n   to predict\
    \ future metrics on the basis of past observations (of the\n   same metrics),\
    \ exploiting the time correlation that certain metrics\n   can exhibit.  We do\
    \ not consider this type of composition here.\n"
- title: 5.2.  Spatial Aggregation Description
  contents:
  - "5.2.  Spatial Aggregation Description\n   Aggregation in space is defined as\
    \ the combination of metrics of the\n   same type and different scope, in order\
    \ to estimate the overall\n   performance of a larger network.  This combination\
    \ may involve\n   weighing the contributions of the input metrics.\n   Suppose\
    \ we want to compose the average one-way delay (OWD)\n   experienced by flows\
    \ traversing all the origin-destination (OD) pairs\n   of a network (where the\
    \ inputs are already metric \"statistics\").\n   Since we wish to include the\
    \ effect of the traffic matrix on the\n   result, it makes sense to weight each\
    \ metric according to the traffic\n   carried on the corresponding OD pair:\n\
    \   OWD_sum=f1*OWD_1+f2*OWD_2+...+fn*OWD_n\n   where fi=load_OD_i/total_load.\n\
    \   A simple average OWD across all network OD pairs would not use the\n   traffic\
    \ weighting.\n   Another example metric that is \"aggregated in space\" is the\
    \ maximum\n   edge-to-edge delay across a single network.  Assume that a Service\n\
    \   Provider wants to advertise the maximum delay that transit traffic\n   will\
    \ experience while passing through his/her network.  There can be\n   multiple\
    \ edge-to-edge paths across a network, and the Service\n   Provider chooses either\
    \ to publish a list of delays (each\n   corresponding to a specific edge-to-edge\
    \ path), or publish a single\n   maximum value.  The latter approach simplifies\
    \ the publication of\n   measurement information, and may be sufficient for some\
    \ purposes.\n   Similar operations can be provided to other metrics, e.g., \"\
    maximum\n   edge-to-edge packet loss\", etc.\n   We suggest that space aggregation\
    \ is generally useful to obtain a\n   summary view of the behaviour of large network\
    \ portions, or of\n   coarser aggregates in general.  The metric collection time\
    \ instant,\n   i.e., the metric collection time window of measured metrics, is\
    \ not\n   considered in space aggregation.  We assume that either it is\n   consistent\
    \ for all the composed metrics, e.g., compose a set of\n   average delays all\
    \ referring to the same time window, or the time\n   window of each composed metric\
    \ does not affect the aggregated metric.\n"
- title: 5.3.  Spatial Composition Description
  contents:
  - "5.3.  Spatial Composition Description\n   Concatenation in space is defined as\
    \ the composition of metrics of\n   same type with (ideally) different spatial\
    \ scope, so that the\n   resulting metric is representative of what the metric\
    \ would be if\n   obtained with a direct measurement over the sequence of the\
    \ several\n   spatial scopes.  An example is the sum of mean OWDs of adjacent\
    \ edge-\n   to-edge networks, where the intermediate edge points are close to\n\
    \   each other or happen to be the same.  In this way, we can for example\n  \
    \ estimate OWD_AC starting from the knowledge of OWD_AB and OWD_BC.\n   Note that\
    \ there may be small gaps in measurement coverage; likewise,\n   there may be\
    \ small overlaps (e.g., the link where test equipment\n   connects to the network).\n\
    \   One key difference from examples of aggregation in space is that all\n   sub-paths\
    \ contribute equally to the composed metric, independent of\n   the traffic load\
    \ present.\n"
- title: 5.4.  Help Metrics
  contents:
  - "5.4.  Help Metrics\n   In practice, there is often the need to compute a new\
    \ metric using\n   one or more metrics with the same spatial and time scope. \
    \ For\n   example, the metric rtt_sample_variance may be computed from two\n \
    \  different metrics: the help metrics rtt_square_sum and the rtt_sum.\n   The\
    \ process of using help metrics is a simple calculation and not an\n   aggregation\
    \ or a concatenation, and will not be investigated further\n   in this memo.\n"
- title: 5.5.  Higher-Order Composition
  contents:
  - "5.5.  Higher-Order Composition\n   Composed metrics might themselves be subject\
    \ to further steps of\n   composition or aggregation.  An example would be the\
    \ delay of a\n   maximal path obtained through the spatial composition of several\n\
    \   composed delays for each complete path in the maximal path (obtained\n   through\
    \ spatial composition).  All requirements for first-order\n   composition metrics\
    \ apply to higher-order composition.\n   An example using temporal aggregation:\
    \ twelve 5-minute metrics are\n   aggregated to estimate the performance over\
    \ an hour.  The second step\n   of aggregation would take 24 hourly metrics and\
    \ estimate the\n   performance over a day.\n"
- title: 6.  Requirements for Composed Metrics
  contents:
  - "6.  Requirements for Composed Metrics\n   The definitions for all composed metrics\
    \ MUST include sections to\n   treat the following topics.\n   The description\
    \ of each metric will clearly state:\n   1. the definition (and statistic, where\
    \ appropriate);\n   2. the composition or aggregation relationship;\n   3. the\
    \ specific conjecture on which the relationship is based and\n      assumptions\
    \ of the statistical model of the process being\n      measured, if any (see [RFC2330],\
    \ Section 12);\n   4. a justification of practical utility or usefulness for analysis\n\
    \      using the A-frame concepts;\n   5. one or more examples of how the conjecture\
    \ could be incorrect and\n      lead to inaccuracy;\n   6. the information to\
    \ be reported.\n   For each metric, the applicable circumstances will be defined,\
    \ in\n   terms of whether the composition or aggregation:\n   o  Requires homogeneity\
    \ of measurement methodologies, or can allow a\n      degree of flexibility (e.g.,\
    \ active or passive methods produce the\n      \"same\" metric).  Also, the applicable\
    \ sending streams will be\n      specified, such as Poisson, Periodic, or both.\n\
    \   o  Needs information or access that will only be available within an\n   \
    \   operator's network, or is applicable to inter-network composition.\n   o \
    \ Requires precisely synchronized measurement time intervals in all\n      component\
    \ metrics, or perhaps only loosely synchronized time\n      intervals, or has\
    \ no timing requirements at all.\n   o  Requires assumption of component metric\
    \ independence with regard\n      to the metric being defined/composed, or other\
    \ assumptions.\n   o  Has known sources of inaccuracy/error and identifies the\
    \ sources.\n"
- title: 6.1.  Note on Intellectual Property Rights (IPR)
  contents:
  - "6.1.  Note on Intellectual Property Rights (IPR)\n   If one or more components\
    \ of the composition process are encumbered\n   by Intellectual Property Rights\
    \ (IPR), then the resulting composed\n   metrics may be encumbered as well.  See\
    \ BCP 79 [RFC3979] for IETF\n   policies on IPR disclosure.\n"
- title: 7.  Guidelines for Defining Composed Metrics
  contents:
  - '7.  Guidelines for Defining Composed Metrics

    '
- title: '7.1.  Ground Truth: Comparison with Other IPPM Metrics'
  contents:
  - "7.1.  Ground Truth: Comparison with Other IPPM Metrics\n   Figure 1 illustrates\
    \ the process to derive a metric using spatial\n   composition, and compares the\
    \ composed metric to other IPPM metrics.\n   Metrics <M1, M2, M3> describe the\
    \ performance of sub-paths between\n   the Source and Destination of interest\
    \ during time interval <T, Tf>.\n   These metrics are the inputs for a composition\
    \ function that produces\n   a composed metric.\n                          Sub-Path\
    \ Metrics\n                 ++  M1   ++ ++  M2   ++ ++  M3   ++\n            \
    \ Src ||.......|| ||.......|| ||.......|| Dst\n                 ++   `.  ++ ++\
    \   |   ++ ++  .'   ++\n                        `.        |       .-'\n      \
    \                    `-.     |     .'\n                             `._..|.._.'\n\
    \                           ,-'         `-.\n                         ,'     \
    \          `.\n                         |   Composition   |\n                \
    \         \\     Function    '\n                          `._           _,'\n\
    \                             `--.....--'\n                                  |\n\
    \                 ++               |               ++\n             Src ||...............................||\
    \ Dst\n                 ++        Composed Metric        ++\n                \
    \ ++      Complete Path Metric     ++\n             Src ||...............................||\
    \ Dst\n                 ++                               ++\n                \
    \           Spatial Metric\n                 ++   S1   ++   S2    ++    S3   \
    \ ++\n             Src ||........||.........||..........|| Dst\n             \
    \    ++        ++         ++          ++\n             Figure 1: Comparison with\
    \ Other IPPM Metrics\n   The composed metric is an estimate of an actual metric\
    \ collected over\n   the complete Source-to-Destination path.  We say that the\
    \ complete\n   path metric represents the ground truth for the composed metric.\
    \  In\n   other words, composed metrics seek to minimize error with regard to\n\
    \   the complete path metric.\n   Further, we observe that a spatial metric [RFC5644]\
    \ collected for\n   packets traveling over the same set of sub-paths provides\
    \ a basis for\n   the ground truth of the individual sub-path metrics.  We note\
    \ that\n   mathematical operations may be necessary to isolate the performance\n\
    \   of each sub-path.\n   Next, we consider multiparty metrics (as defined in\
    \ [RFC5644]) and\n   their spatial composition.  Measurements to each of the receivers\n\
    \   produce an element of the one-to-group metric.  These elements can be\n  \
    \ composed from sub-path metrics, and the composed metrics can be\n   combined\
    \ to create a composed one-to-group metric.  Figure 2\n   illustrates this process.\n\
    \                             Sub-Path Metrics\n                    ++  M1   ++\
    \ ++  M2   ++ ++  M3   ++\n                Src ||.......|| ||.......|| ||.......||Rcvr1\n\
    \                    ++       ++ ++`.     ++ ++       ++\n                   \
    \                 `-.\n                                     M4`.++ ++  M5   ++\n\
    \                                         || ||.......||Rcvr2\n              \
    \                           ++ ++`.     ++\n                                 \
    \               `-.\n                                                 M6`.++\n\
    \                                                     ||Rcvr3\n              \
    \                                       ++\n                            One-to-Group\
    \ Metric\n                    ++        ++         ++          ++\n          \
    \      Src ||........||.........||..........||Rcvr1\n                    ++  \
    \      ++.        ++          ++\n                                 `-.\n     \
    \                               `-.  ++          ++\n                        \
    \               `-||..........||Rcvr2\n                                      \
    \   ++.         ++\n                                            `-.\n        \
    \                                       `-.   ++\n                           \
    \                       `-.||Rcvr3\n                                         \
    \            ++\n               Figure 2: Composition of One-to-Group Metrics\n\
    \   Here, sub-path metrics M1, M2, and M3 are combined using a\n   relationship\
    \ to compose the metric applicable to the Src-Rcvr1 path.\n   Similarly, M1, M4,\
    \ and M5 are used to compose the Src-Rcvr2 metric\n   and M1, M4, and M6 compose\
    \ the Src-Rcvr3 metric.\n   The composed one-to-group metric would list the Src-Rcvr\
    \ metrics for\n   each receiver in the group:\n   (Composed-Rcvr1, Composed-Rcvr2,\
    \ Composed-Rcvr3)\n   The ground truth for this composed metric is of course an\
    \ actual one-\n   to-group metric, where a single Source packet has been measured\
    \ after\n   traversing the complete paths to the various receivers.\n"
- title: 7.1.1.  Ground Truth for Temporal Aggregation
  contents:
  - "7.1.1.  Ground Truth for Temporal Aggregation\n   Temporal aggregation involves\
    \ measurements made over sub-intervals of\n   the complete time interval between\
    \ the same Source and Destination.\n   Therefore, the ground truth is the metric\
    \ measured over the desired\n   interval.\n"
- title: 7.1.2.  Ground Truth for Spatial Aggregation
  contents:
  - "7.1.2.  Ground Truth for Spatial Aggregation\n   Spatial aggregation combines\
    \ many measurements using a weighting\n   function to provide the same emphasis\
    \ as though the measurements were\n   based on actual traffic, with inherent weights.\
    \  Therefore, the\n   ground truth is the metric measured on the actual traffic\
    \ instead of\n   the active streams that sample the performance.\n"
- title: 7.2.  Deviation from the Ground Truth
  contents:
  - "7.2.  Deviation from the Ground Truth\n   A metric composition can deviate from\
    \ the ground truth for several\n   reasons.  Two main aspects are:\n   o  The\
    \ propagation of the inaccuracies of the underlying measurements\n      when composing\
    \ the metric.  As part of the composition function,\n      errors of measurements\
    \ might propagate.  Where possible, this\n      analysis should be made and included\
    \ with the description of each\n      metric.\n   o  A difference in scope.  When\
    \ concatenating many active measurement\n      results (from two or more sub-paths)\
    \ to obtain the complete path\n      metric, the actual measured path will not\
    \ be identical to the\n      complete path.  It is in general difficult to quantify\
    \ this\n      deviation with exactness, but a metric definition might identify\n\
    \      guidelines for keeping the deviation as small as possible.\n   The description\
    \ of the metric composition MUST include a section\n   identifying the deviation\
    \ from the ground truth.\n"
- title: 7.3.  Incomplete Information
  contents:
  - "7.3.  Incomplete Information\n   In practice, when measurements cannot be initiated\
    \ on a sub-path or\n   during a particular measurement interval (and perhaps the\
    \ measurement\n   system gives up during the test interval), then there will not\
    \ be a\n   value for the sub-path reported, and the result SHOULD be recorded\
    \ as\n   \"undefined\".\n"
- title: 7.4.  Time-Varying Metrics
  contents:
  - "7.4.  Time-Varying Metrics\n   The measured values of many metrics depend on\
    \ time-variant factors,\n   such as the level of network traffic on the Source-to-Destination\n\
    \   path.  Traffic levels often exhibit diurnal (or daily) variation, but\n  \
    \ a 24-hour measurement interval would obscure it.  Temporal\n   aggregation of\
    \ hourly results to estimate the daily metric would have\n   the same effect,\
    \ and so the same cautions are warranted.\n   Some metrics are predominantly*\
    \ time-invariant, such as the actual\n   minimum one-way delay of a fixed path,\
    \ and therefore temporal\n   aggregation does not obscure the results as long\
    \ as the path is\n   stable.  However, paths do vary, and sometimes on less predictable\n\
    \   time intervals than traffic variations.  (* Note: It is recognized\n   that\
    \ propagation delay on transmission facilities may have diurnal,\n   seasonal,\
    \ and even longer-term variations.)\n"
- title: 8.  Security Considerations
  contents:
  - "8.  Security Considerations\n   The security considerations that apply to any\
    \ active measurement of\n   live networks are relevant here as well.  See [RFC4656]\
    \ and\n   [RFC5357].\n   The exchange of sub-path measurements among network providers\
    \ may be\n   a source of concern, and the information should be sufficiently\n\
    \   anonymized to avoid revealing unnecessary operational details (e.g.,\n   the\
    \ network addresses of measurement devices).  However, the schema\n   for measurement\
    \ exchange is beyond the scope of this memo and likely\n   to be covered by bilateral\
    \ agreements for some time to come.\n"
- title: 9.  Acknowledgements
  contents:
  - "9.  Acknowledgements\n   The authors would like to thank Maurizio Molina, Andy\
    \ Van Maele,\n   Andreas Haneman, Igor Velimirovic, Andreas Solberg, Athanassios\n\
    \   Liakopulos, David Schitz, Nicolas Simar, and the Geant2 Project.  We\n   also\
    \ acknowledge comments and suggestions from Phil Chimento, Emile\n   Stephan,\
    \ Lei Liang, Stephen Wolff, Reza Fardid, Loki Jorgenson, and\n   Alan Clark.\n"
- title: 10.  References
  contents:
  - '10.  References

    '
- title: 10.1.  Normative References
  contents:
  - "10.1.  Normative References\n   [RFC2119]   Bradner, S., \"Key words for use\
    \ in RFCs to Indicate\n               Requirement Levels\", BCP 14, RFC 2119,\
    \ March 1997.\n   [RFC2330]   Paxson, V., Almes, G., Mahdavi, J., and M. Mathis,\n\
    \               \"Framework for IP Performance Metrics\", RFC 2330,\n        \
    \       May 1998.\n   [RFC3979]   Bradner, S., Ed., \"Intellectual Property Rights\
    \ in IETF\n               Technology\", BCP 79, RFC 3979, March 2005.\n   [RFC4656]\
    \   Shalunov, S., Teitelbaum, B., Karp, A., Boote, J., and\n               M.\
    \ Zekauskas, \"A One-way Active Measurement Protocol\n               (OWAMP)\"\
    , RFC 4656, September 2006.\n   [RFC5357]   Hedayat, K., Krzanowski, R., Morton,\
    \ A., Yum, K., and\n               J. Babiarz, \"A Two-Way Active Measurement\
    \ Protocol\n               (TWAMP)\", RFC 5357, October 2008.\n"
- title: 10.2.  Informative References
  contents:
  - "10.2.  Informative References\n   [RFC2679]   Almes, G., Kalidindi, S., and M.\
    \ Zekauskas, \"A One-way\n               Delay Metric for IPPM\", RFC 2679, September\
    \ 1999.\n   [RFC2680]   Almes, G., Kalidindi, S., and M. Zekauskas, \"A One-way\n\
    \               Packet Loss Metric for IPPM\", RFC 2680, September 1999.\n   [RFC2681]\
    \   Almes, G., Kalidindi, S., and M. Zekauskas, \"A Round-trip\n             \
    \  Delay Metric for IPPM\", RFC 2681, September 1999.\n   [RFC3393]   Demichelis,\
    \ C. and P. Chimento, \"IP Packet Delay\n               Variation Metric for IP\
    \ Performance Metrics (IPPM)\",\n               RFC 3393, November 2002.\n   [RFC4737]\
    \   Morton, A., Ciavattone, L., Ramachandran, G., Shalunov,\n               S.,\
    \ and J. Perser, \"Packet Reordering Metrics\", RFC 4737,\n               November\
    \ 2006.\n   [RFC5481]   Morton, A. and B. Claise, \"Packet Delay Variation\n \
    \              Applicability Statement\", RFC 5481, March 2009.\n   [RFC5560]\
    \   Uijterwaal, H., \"A One-Way Packet Duplication Metric\",\n               RFC\
    \ 5560, May 2009.\n   [RFC5644]   Stephan, E., Liang, L., and A. Morton, \"IP\
    \ Performance\n               Metrics (IPPM): Spatial and Multicast\", RFC 5644,\n\
    \               October 2009.\n   [Y.1540]    ITU-T Recommendation Y.1540, \"\
    Internet protocol data\n               communication service - IP packet transfer\
    \ and\n               availability performance parameters\", November 2007.\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Al Morton (editor)\n   AT&T Labs\n   200 Laurel Avenue\
    \ South\n   Middletown, NJ  07748\n   USA\n   Phone: +1 732 420 1571\n   Fax:\
    \   +1 732 368 1192\n   EMail: acmorton@att.com\n   URI:   http://home.comcast.net/~acmacm/\n\
    \   Steven Van den Berghe (editor)\n   Alcatel-Lucent\n   Copernicuslaan 50\n\
    \   Antwerp  2018\n   Belgium\n   Phone: +32 3 240 3983\n   EMail: steven.van_den_berghe@alcatel-lucent.com\n"
