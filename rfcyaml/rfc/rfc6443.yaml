- title: __initial_text__
  contents:
  - '       Framework for Emergency Calling Using Internet Multimedia

    '
- title: Abstract
  contents:
  - "Abstract\n   The IETF has standardized various aspects of placing emergency calls.\n\
    \   This document describes how all of those component parts are used to\n   support\
    \ emergency calls from citizens and visitors to authorities.\n"
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This document is not an Internet Standards Track specification;\
    \ it is\n   published for informational purposes.\n   This document is a product\
    \ of the Internet Engineering Task Force\n   (IETF).  It represents the consensus\
    \ of the IETF community.  It has\n   received public review and has been approved\
    \ for publication by the\n   Internet Engineering Steering Group (IESG).  Not\
    \ all documents\n   approved by the IESG are a candidate for any level of Internet\n\
    \   Standard; see Section 2 of RFC 5741.\n   Information about the current status\
    \ of this document, any errata,\n   and how to provide feedback on it may be obtained\
    \ at\n   http://www.rfc-editor.org/info/rfc6443.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (c) 2011 IETF Trust and the persons identified\
    \ as the\n   document authors.  All rights reserved.\n   This document is subject\
    \ to BCP 78 and the IETF Trust's Legal\n   Provisions Relating to IETF Documents\n\
    \   (http://trustee.ietf.org/license-info) in effect on the date of\n   publication\
    \ of this document.  Please review these documents\n   carefully, as they describe\
    \ your rights and restrictions with respect\n   to this document.  Code Components\
    \ extracted from this document must\n   include Simplified BSD License text as\
    \ described in Section 4.e of\n   the Trust Legal Provisions and are provided\
    \ without warranty as\n   described in the Simplified BSD License.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1. Introduction ....................................................3\n\
    \   2. Terminology .....................................................6\n  \
    \ 3. Overview of How Emergency Calls Are Placed ......................8\n   4.\
    \ Which Devices and Services Should Support Emergency Calls? .....12\n   5. Identifying\
    \ an Emergency Call ..................................12\n   6. Location and Its\
    \ Role in an Emergency Call .....................14\n      6.1. Types of Location\
    \ Information .............................16\n      6.2. Location Determination\
    \ ....................................17\n           6.2.1. User-Entered Location\
    \ Information ..................17\n           6.2.2. Access Network \"Wire Database\"\
    \ Location\n                  Information ........................................18\n\
    \           6.2.3. End System Measured Location Information ...........19\n  \
    \         6.2.4. Network Measured Location Information ..............19\n    \
    \  6.3. Who Adds Location, Endpoint, or Proxy? ....................20\n      6.4.\
    \ Location and References to Location .......................20\n      6.5. End\
    \ System Location Configuration .........................21\n      6.6. When Location\
    \ Should Be Configured ........................22\n      6.7. Conveying Location\
    \ ........................................23\n      6.8. Location Updates ..........................................24\n\
    \      6.9. Multiple Locations ........................................24\n  \
    \    6.10. Location Validation ......................................25\n    \
    \  6.11. Default Location .........................................26\n      6.12.\
    \ Location Format Conversion ...............................26\n   7. LIS and\
    \ LoST Discovery .........................................26\n   8. Routing the\
    \ Call to the PSAP ...................................27\n   9. Signaling of Emergency\
    \ Calls ...................................29\n      9.1. Use of TLS ................................................29\n\
    \      9.2. SIP Signaling Requirements for User Agents ................30\n  \
    \    9.3. SIP Signaling Requirements for Proxy Servers ..............30\n   10.\
    \ Call Backs ....................................................30\n   11. Mid-Call\
    \ Behavior .............................................31\n   12. Call Termination\
    \ ..............................................31\n   13. Disabling of Features\
    \ .........................................32\n   14. Media .........................................................32\n\
    \   15. Testing .......................................................32\n  \
    \ 16. Security Considerations .......................................33\n   17.\
    \ Acknowledgments ...............................................33\n   18. Informative\
    \ References ........................................34\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   Requesting help in an emergency using a communications device\
    \ such as\n   a telephone (landline or mobile) is an accepted practice in many\n\
    \   parts of the world.  As communications devices increasingly utilize\n   the\
    \ Internet to interconnect and communicate, users will expect to\n   use such\
    \ devices to request help.  This document describes\n   establishment of a communications\
    \ session by a user to a \"Public\n   Safety Answering Point\" (PSAP), that is,\
    \ a call center established by\n   response agencies to accept emergency calls.\
    \  Such citizen-/\n   visitor-to-authority calls can be distinguished from those\
    \ that are\n   created by responders (authority-to-authority) using public\n \
    \  communications infrastructure often involving some kind of priority\n   access\
    \ as defined in Emergency Telecommunications Service (ETS) in IP\n   Telephony\
    \ [RFC4190].  They can also be distinguished from emergency\n   warning systems\
    \ that are authority-to-citizen.\n   Supporting emergency calling requires cooperation\
    \ by a number of\n   elements, their vendors, and service providers.  This document\n\
    \   discusses how end devices and applications create emergency calls,\n   how\
    \ access networks supply location for some of these devices, how\n   service providers\
    \ assist the establishment and routing, and how PSAPs\n   receive calls from the\
    \ Internet.\n   The emergency response community will have to upgrade their\n\
    \   facilities to support a wider range of communications services, but\n   cannot\
    \ be expected to handle wide variations in device and service\n   capability.\
    \  New devices and services are being made available that\n   could be used to\
    \ make a request for help that are not traditional\n   telephones, and users are\
    \ increasingly expecting to use them to place\n   emergency calls.  However, many\
    \ of the technical advantages of\n   Internet multimedia require re-thinking the\
    \ traditional emergency\n   calling architecture.  This challenge also offers\
    \ an opportunity to\n   improve the operation of emergency calling technology,\
    \ while\n   potentially lowering its cost and complexity.\n   It is beyond the\
    \ scope of this document to enumerate and discuss all\n   the differences between\
    \ traditional (Public Switched Telephone\n   Network) and IP-based telephony,\
    \ but calling on the Internet is\n   characterized by:\n   o  interleaving over\
    \ the same infrastructure of a wider variety of\n      services;\n   o  separation\
    \ of the access provider from the application provider;\n   o  media other than\
    \ voice (for example, video and text in several\n      forms);\n   o  potential\
    \ mobility of all end systems, including endpoints\n      nominally thought of\
    \ as fixed systems and not just those using\n      radio access technology.  For\
    \ example, consider a wired phone\n      connected to a router using a mobile\
    \ data network such as\n      Evolution Data Optimized (EV-DO) as an uplink.\n\
    \   This document focuses on how devices using the Internet can place\n   emergency\
    \ calls and how PSAPs can handle Internet multimedia\n   emergency calls natively,\
    \ rather than describing how circuit-switched\n   PSAPs can handle Voice over\
    \ IP (VoIP) calls.  In many cases, PSAPs\n   making the transition from circuit-switched\
    \ interfaces to packet-\n   switched interfaces may be able to use some of the\
    \ mechanisms\n   described here, in combination with gateways that translate packet-\n\
    \   switched calls into legacy interfaces, e.g., to continue to be able\n   to\
    \ use existing call taker equipment.  There are many legacy\n   telephone networks\
    \ that will persist long after most systems have\n   been upgraded to IP origination\
    \ and termination of emergency calls.\n   Many of these legacy systems route calls\
    \ based on telephone numbers.\n   Gateways and conversions between existing systems\
    \ and newer systems\n   defined by this document will be required.  Since existing\
    \ systems\n   are governed primarily by local government regulations and national\n\
    \   standards, the gateway and conversion details will be governed by\n   national\
    \ standards and thus are out of scope for this document.\n   Existing emergency\
    \ call systems are organized locally or nationally;\n   there are currently few\
    \ international standards.  However, the\n   Internet crosses national boundaries,\
    \ and thus Internet standards are\n   required.  To further complicate matters,\
    \ VoIP endpoints can be\n   connected through tunneling mechanisms such as virtual\
    \ private\n   networks (VPNs).  Tunnels can obscure the identity of the actual\n\
    \   access network that knows the location.  This significantly\n   complicates\
    \ emergency calling, because the location of the caller and\n   the first element\
    \ that routes emergency calls can be on different\n   continents, with different\
    \ conventions and processes for handling of\n   emergency calls.\n   The IETF\
    \ has historically not created national variants of its\n   standards.  Thus,\
    \ this document attempts to take into account best\n   practices that have evolved\
    \ for circuit-switched PSAPs, but it makes\n   no assumptions on particular operating\
    \ practices currently in use,\n   numbering schemes, or organizational structures.\n\
    \   This document discusses the use of the Session Initiation Protocol\n   (SIP)\
    \ [RFC3261] by PSAPs and calling parties.  While other inter-\n   domain call\
    \ signaling protocols may be used for emergency calling,\n   SIP is ubiquitous\
    \ and possesses the proper support of this use case.\n   Only protocols such as\
    \ H.323, XMPP/Jingle, ISUP, and SIP are suitable\n   for inter-domain communications,\
    \ ruling out Media Gateway Controller\n   protocols such as the Media Gateway\
    \ Control Protocol (MGCP) or H.248/\n   Megaco.  The latter protocols can be used\
    \ by the enterprise or\n   carrier placing the call, but any such call would reach\
    \ the PSAP\n   through a media gateway controller, similar to how inter-domain\
    \ VoIP\n   calls would be placed.  Other signaling protocols may also use\n  \
    \ protocol translation to communicate with a SIP-enabled PSAP.  Peer-\n   to-peer\
    \ SIP (p2psip) is not considered in this document.\n   Existing emergency services\
    \ rely exclusively on voice and\n   conventional text telephony (\"TTY\") media\
    \ streams.  However, more\n   choices of media offer additional ways to communicate\
    \ and evaluate\n   the situation as well as to assist callers and call takers\
    \ in making\n   and handling emergency calls, respectively.  For example, instant\n\
    \   messaging and video could improve the ability to communicate and\n   evaluate\
    \ the situation and to provide appropriate instruction prior\n   to arrival of\
    \ emergency crews.  Thus, the architecture described here\n   supports the creation\
    \ of sessions of any media type, negotiated\n   between the caller and PSAP using\
    \ existing SIP mechanisms [RFC3264].\n   This document focuses on the case in\
    \ which all three steps in the\n   emergency calling process -- location configuration,\
    \ call routing,\n   and call placement -- can be and are performed by the calling\n\
    \   endpoint, with the endpoint's Access Service Provider supporting the\n   process\
    \ by providing location information.  In this case, calls may\n   be routed via\
    \ an application-layer Communications Service Provider\n   (e.g., a Voice Service\
    \ Provider) but need not be.  The underlying\n   protocols can also be used to\
    \ support other models in which parts of\n   the process are delegated to the\
    \ Communications Service Provider.\n   This document does not address in detail\
    \ either these models or\n   interoperability issues between them and the model\
    \ described here.\n   Since this document is a framework document, it does not\
    \ include\n   normative behavior.  [PHONEBCP] describes the best current practice\n\
    \   for this subject and contains normative language for devices as well\n   as\
    \ access and calling network elements.\n   Supporting emergency calling does not\
    \ require any specialized SIP\n   header fields, request methods, status codes,\
    \ message bodies, or\n   event packages, but it does require that existing mechanisms\
    \ be used\n   in certain specific ways, as described below.  User agents (UAs)\n\
    \   unaware of the recommendations in this document may be able to place\n   emergency\
    \ calls, but functionality may be impaired.  For example, if\n   the UA does not\
    \ implement the location mechanisms described, an\n   emergency call may not be\
    \ routed to the correct PSAP, and if the\n   caller is unable to supply his exact\
    \ location, dispatch of emergency\n   responders may be delayed.  Suggested behavior\
    \ for both endpoints and\n   servers is provided.\n   From the point of view of\
    \ the PSAP, three essential elements\n   characterize an emergency call:\n   o\
    \  The call is routed to the most appropriate PSAP, based primarily\n      on\
    \ the location of the caller.\n   o  The PSAP must be able to automatically obtain\
    \ the location of the\n      caller with sufficient accuracy to dispatch a responder\
    \ to help\n      the caller.\n   o  The PSAP must be able to re-establish a session\
    \ to the caller if\n      for any reason the original session is disrupted.\n"
- title: 2.  Terminology
  contents:
  - "2.  Terminology\n   This document uses terms from [RFC3261], [RFC5222], and [RFC5012].\n\
    \   In addition, the following terms are used:\n   Access network:  The access\
    \ network supplies IP packet service to an\n      endpoint.  Examples of access\
    \ networks include digital subscriber\n      lines (DSLs), cable modems, IEEE\
    \ 802.11, WiMaX, enterprise local\n      area networks, and cellular data networks.\n\
    \   Confidence:  Confidence is an estimate indicating how sure the\n      measuring\
    \ system is that the actual location of the endpoint is\n      within the bounds\
    \ defined by the uncertainty value, expressed as a\n      percentage.  For example,\
    \ a value of 90% indicates that the actual\n      location is within the uncertainty\
    \ nine times out of ten.\n   Dispatch location:  The dispatch location is the\
    \ location used for\n      dispatching responders to the person in need of assistance.\
    \  The\n      dispatch location must be sufficiently precise to easily locate\n\
    \      the caller; typically, it needs to be more accurate than the\n      routing\
    \ location.\n   Location configuration:  During location configuration, an endpoint\n\
    \      learns its physical location.\n   Location Configuration Protocol (LCP):\
    \  A protocol used by an\n      endpoint to learn its location.\n   Location conveyance:\
    \  Location conveyance delivers location\n      information to another element.\n\
    \   Location determination:  Location determination finds where an\n      endpoint\
    \ is physically located.  For example, the endpoint may\n      contain a Global\
    \ Navigation Satellite System (GNSS) receiver used\n      to measure its own location\
    \ or the location may be determined by a\n      network administrator using a\
    \ wiremap database.\n   Location Information Server (LIS):  A Location Information\
    \ Server\n      stores location information for retrieval by an authorized entity.\n\
    \   Mobile device:  A mobile device is a user agent that may change its\n    \
    \  physical location and possibly its network attachment point during\n      an\
    \ emergency call.\n   National Emergency Number Association (NENA):  The National\
    \ Emergency\n      Number Association is an organization of professionals to \"\
    foster\n      the technological advancement, availability and implementation of\n\
    \      a universal emergency telephone number system in North America\".\n   \
    \   It develops emergency calling specifications and procedures.\n   Nomadic device\
    \ (user):  A nomadic user agent is connected to the\n      network temporarily,\
    \ for relatively short durations, but does not\n      move significantly during\
    \ the emergency call.  Examples include a\n      laptop using an IEEE 802.11 hotspot\
    \ or a desk IP phone that is\n      moved occasionally from one cubicle to another.\n\
    \   Physical location:  A physical location describes where a person or\n    \
    \  device is located in physical space, described by a coordinate\n      system.\
    \  It is distinguished from the network location, described\n      by a network\
    \ address.\n   Public Safety Answering Point (PSAP):  A PSAP is a call center\
    \ that\n      answers emergency calls.\n   Routing location:  The routing location\
    \ of a device is used for\n      routing an emergency call and may not be as precise\
    \ as the\n      dispatch location.\n   Stationary device:  An stationary device\
    \ is not mobile and is\n      connected to the network at a fixed, long-term-stable\
    \ physical\n      location.  Examples include home PCs or pay phones.\n   Uncertainty:\
    \  Uncertainty is an estimate, expressed in a unit of\n      length, indicating\
    \ the diameter of a circle that contains the\n      endpoint with the probability\
    \ indicated by the confidence value.\n"
- title: 3.  Overview of How Emergency Calls Are Placed
  contents:
  - "3.  Overview of How Emergency Calls Are Placed\n   An emergency call can be distinguished\
    \ (Section 5) from any other\n   call by a unique service URN [RFC5031] that is\
    \ placed in the call\n   setup signaling when a home or visited emergency dial\
    \ string is\n   detected.  Because emergency services are local to specific\n\
    \   geographic regions, a caller obtains his location (Section 6) prior\n   to\
    \ making emergency calls.  To get this location, either a form of\n   measuring,\
    \ for example, GNSS (Section 6.2.3) is deployed or the\n   endpoint is configured\
    \ (Section 6.5) with its location from the\n   access network's Location Information\
    \ Server (LIS) using a Location\n   Configuration Protocol (LCP).  The location\
    \ is conveyed (Section 6.7)\n   in the SIP signaling with the call.  The call\
    \ is routed (Section 8)\n   based on location using the Location-to-Service Translation\
    \ (LoST)\n   protocol [RFC5222], which maps a location to a set of PSAP URIs.\n\
    \   Each URI resolves to a PSAP or an Emergency Services Routing Proxy\n   (ESRP)\
    \ that serves as an incoming proxy for a group of PSAPs.  The\n   call arrives\
    \ at the PSAP with the location included in the INVITE\n   request.\n   The following\
    \ is a quick overview for a typical Ethernet-connected\n   telephone using SIP\
    \ signaling.  It illustrates one set of choices for\n   various options presented\
    \ later in this document.\n   o  The phone \"boots\" and connects to its access\
    \ network.\n   o  The phone gets location via a Location Configuration Protocol\n\
    \      (LCP), for example, from the DHCP server in civic [RFC4776] and/or\n  \
    \    geo [RFC6225] forms, a HTTP-Enabled Location Delivery (HELD)\n      server\
    \ [RFC5985] or the first-level switch's Link-Layer Discovery\n      Protocol (LLDP)\
    \ server [LLDP].\n   o  The phone obtains the local emergency dial string(s) from\
    \ the LoST\n      [RFC5222] server for its current location.  It also receives\
    \ and\n      caches the PSAP URI obtained from the LoST server.\n   o  Some time\
    \ later, the user places an emergency call.  The phone\n      recognizes an emergency\
    \ call from the dial strings and uses the\n      \"urn:service:sos\" [RFC5031]\
    \ URN to mark an emergency call.\n   o  It refreshes its location via DHCP and\
    \ updates the PSAP's URI by\n      querying the LoST mapping server with its location.\n\
    \   o  It puts its location in the SIP INVITE request in a Geolocation\n     \
    \ header [RFC6442] and forwards the call using its normal outbound\n      call\
    \ processing, which commonly involves an outbound proxy.\n   o  The proxy recognizes\
    \ the call as an emergency call and routes the\n      call using normal SIP routing\
    \ mechanisms to the URI specified.\n   o  The call routing commonly traverses\
    \ an incoming proxy server\n      (ESRP) in the emergency services network.  That\
    \ proxy then routes\n      the call to the PSAP.\n   o  The call is established\
    \ with the PSAP and mutually agreed upon\n      media streams are created.\n \
    \  o  The location of the caller is displayed to the call taker.\n          Configuration\
    \ Servers\n    . . . . . . . . . . . . . . . . .\n    .                      \
    \         .\n    .   +--------+    +----------+  .\n    . +--------+ |  +----------+\
    \ |  .\n    . | LIS    | |  | SIP      | |  .\n    . |        |-+  | Registrar|-+\
    \  .\n    . +--------+    +----------+    .\n    .   ^               ^       \
    \    .\n    . . | . . . . . . . | . . . . . .\n        |               |\n   \
    \     |[M1][M4]       |[M2]\n        |               |         +--------+\n  \
    \      |+--------------+       +--------+ |\n        ||                      |\
    \ LoST   | |\n        ||+-------------------->| Servers|-+\n        |||      \
    \  [M3][M5]     +--------+       +-------+\n        |||                      \
    \                | PSAP2 |\n        |||                                      +-------+\n\
    \        |||\n        |||  [M6]  +-------+ [M7]+------+ [M8]+-------+\n      Alice\
    \ ------>| Proxy |---->| ESRP |---->| PSAP1 |-----> Call Taker\n             \
    \      +-------+     +------+     +-------+\n                                \
    \                 +-------+\n                                                \
    \ | PSAP3 |\n                                                 +-------+\n    \
    \            Figure 1: Emergency Call Component Topology\n  The typical message\
    \ flow for this example using Alice as the caller:\n  [M1] Alice -> LIS:  LCP\
    \ Request(s) (ask for location)\n       LIS -> Alice:  LCP Reply(s) (replies with\
    \ location)\n  [M2] Alice -> Registrar: SIP REGISTER\n       Registrar -> Alice:\
    \ SIP 200 OK (REGISTER)\n  [M3] Alice -> LoST Server: Initial LoST Query (contains\
    \ location)\n       Lost Server -> Alice: Initial LoST Response (contains\n  \
    \                       PSAP-URI and dial string)\n  Some time later, Alice dials\
    \ or otherwise initiates an emergency call:\n  [M4] Alice -> LIS:  LCP Request\
    \ (updates location)\n       LIS -> Alice:  LCP Reply (replies with location)\n\
    \  [M5] Alice -> LoST Server: Update LoST Query (contains location)\n       Lost\
    \ Server -> Alice: LoST Response (contains PSAP-URI)\n  [M6] Alice -> Outgoing\
    \ Proxy: SIP INVITE (contains service URN,\n                                 \
    \      Location and PSAP URI)\n  [M7] Outgoing Proxy -> ESRP: SIP INVITE (contains\
    \ service URN,\n                                       Location and PSAP URI)\n\
    \  [M8] ESRP -> PSAP: SIP INVITE (contains service URN,\n                    \
    \                   Location and PSAP URI)\n  The 200 OK response is propagated\
    \ back from the PSAP to Alice and the\n  ACK response is propagated from Alice\
    \ to the PSAP.\n                          Figure 2: Message Flow\n   Figure 1\
    \ shows emergency call component topology and the text above\n   shows call establishment.\
    \  These include the following components:\n   o  Alice - the user of a UA that\
    \ places the emergency call.\n   o  Configuration servers - Servers providing\
    \ Alice's UA its IP\n      address and other configuration information, perhaps\
    \ including\n      location-by-value or location-by-reference.  Configuration\
    \ servers\n      also may include a SIP registrar for Alice's UA.  Most SIP UAs\n\
    \      will register, so it will be a common scenario for UAs that make\n    \
    \  emergency calls to be registered with such a server in the\n      originating\
    \ calling network.  In most cases, a UA would have to\n      register in order\
    \ for the PSAP to be able to call it back after an\n      emergency call has been\
    \ completed.  All the configuration messages\n      are labeled M1 through M3,\
    \ but could easily require more than\n      three messages to complete.\n   o\
    \  LoST server - Processes the LoST request for location plus a\n      service\
    \ URN to a PSAP-URI, either for an initial request from a UA\n      or an in-call\
    \ routing by the proxy server in the originating\n      network, or possibly by\
    \ an ESRP.\n   o  ESRP - Emergency Services Routing Proxy, a SIP proxy server\
    \ that\n      is the incoming call proxy in the emergency services domain.  The\n\
    \      ESRP makes further routing decisions (e.g., based on PSAP state\n     \
    \ and the location of the caller) to choose the actual PSAP that\n      handles\
    \ the call.  In some jurisdictions, this may involve another\n      LoST query.\n\
    \   o  PSAP - Emergency calls are answered at a Public Safety Answering\n    \
    \  Point, a call center.\n   Generally, Alice's UA either has location configured\
    \ manually, has an\n   integral location measurement mechanism, or runs an LCP\
    \ [M1] to\n   obtain location from the access (broadband) network.  Then, Alice's\n\
    \   UA will most likely register [M2] with a SIP registrar.  This allows\n   her\
    \ to be contacted by other SIP entities.  Next, her UA will perform\n   an initial\
    \ LoST query [M3] to learn a URI for use if the LoST query\n   fails during an\
    \ emergency call or to use to test the emergency call\n   mechanism.  The LoST\
    \ response contains the dial string for emergency\n   calls appropriate for the\
    \ location provided.\n   At some time after her device has booted, Alice initiates\
    \ an\n   emergency call.  She may do this by dialing an emergency dial string\n\
    \   valid for her current (\"local\") location or for her \"home\" location.\n\
    \   The UA recognizes either dial string.  The UA attempts to refresh its\n  \
    \ location [M4], and with that location, to refresh the LoST mapping\n   [M5],\
    \ in order to get the most accurate information to use for\n   routing the call.\
    \  If the location request or the LoST request fails,\n   or takes too long, the\
    \ UA uses values it has cached.\n   The UA creates a SIP INVITE [M6] request that\
    \ includes the location.\n   [RFC6442] defines a SIP Geolocation header that contains\
    \ either a\n   location-by-reference URI or a [RFC3986] \"cid:\" URL indicating\
    \ where\n   in the message body the location-by-value is.\n   The INVITE message\
    \ is routed to the ESRP [M7], which is the first\n   inbound proxy for the emergency\
    \ services domain.  This message is\n   then routed by the ESRP towards the most\
    \ appropriate PSAP for Alice's\n   location [M8], as determined by the location\
    \ and other information.\n   A proxy in the PSAP chooses an available call taker\
    \ and extends the\n   call to its UA.\n   The 200 OK response to the INVITE request\
    \ traverses the path in\n   reverse, from call taker UA to PSAP proxy to ESRP\
    \ to originating\n   network proxy to Alice's UA.  The ACK request completes the\
    \ call\n   setup and the emergency call is established, allowing the PSAP call\n\
    \   taker to talk to Alice about Alice's emergency.\n"
- title: 4.  Which Devices and Services Should Support Emergency Calls?
  contents:
  - "4.  Which Devices and Services Should Support Emergency Calls?\n   Current PSAPs\
    \ support voice calls and real-time text calls placed\n   through PSTN facilities\
    \ or systems connected to the PSTN.  However,\n   future PSAPs will support Internet\
    \ connectivity and a wider range of\n   media types and provide higher functionality.\
    \  In general, if a user\n   could reasonably expect to be able to place a call\
    \ for help with the\n   device, then the device or service should support emergency\
    \ calling.\n   Certainly, any device or service that looks like and works like\
    \ a\n   telephone (wired or mobile) should support emergency calling, but\n  \
    \ increasingly, users have expectations that other devices and services\n   should\
    \ work.\n   Devices that create media sessions and exchange audio, video, and/or\n\
    \   text and that have the capability to establish sessions to a wide\n   variety\
    \ of addresses and communicate over private IP networks or the\n   Internet should\
    \ support emergency calls.\n   Traditionally, enterprise support of emergency\
    \ calling is provided by\n   the telephony service provider to the enterprise.\
    \  In some more\n   recent systems, the enterprise Private Branch Exchange (PBX)\
    \ assists\n   emergency calling by providing more fine-grained location in larger\n\
    \   enterprises.  In the future, the enterprise may provide the\n   connection\
    \ to emergency services itself, not relying on the telephony\n   service provider.\n"
- title: 5.  Identifying an Emergency Call
  contents:
  - "5.  Identifying an Emergency Call\n   Using the PSTN, emergency help can often\
    \ be summoned by dialing a\n   nationally designated, widely known number, regardless\
    \ of where the\n   telephone was purchased.  The appropriate number is determined\
    \ by the\n   infrastructure to which the telephone is connected.  However, this\n\
    \   number differs between localities, even though it is often the same\n   for\
    \ a country or region, as it is in many countries in the European\n   Union. \
    \ In some countries, there is only one uniform digit sequence\n   that is used\
    \ for all types of emergencies.  In others, there are\n   several sequences that\
    \ are specific to the type of responder needed,\n   e.g., one for police, another\
    \ for fire.  For end systems, on the\n   other hand, it is desirable to have a\
    \ universal identifier,\n   independent of location, to allow the automated inclusion\
    \ of location\n   information and to allow the device and other entities in the\
    \ call\n   path to perform appropriate processing within the signaling protocol\n\
    \   in an emergency call setup.\n   Since no such universal identifier existed,\
    \ the overall emergency\n   calling architecture described here defines common\
    \ emergency call\n   URNs [RFC5031].  When all emergency services use a single\
    \ number, the\n   URN is \"urn:service:sos\".  Users are not expected to \"dial\"\
    \ an\n   emergency URN.  Rather, appropriate emergency dial strings are\n   translated\
    \ to corresponding service URNs, carried in the Request-URI\n   of the INVITE\
    \ request.  Such translation is best done by the\n   endpoint, because, among\
    \ other reasons, emergency calls convey\n   location in the signaling but non-emergency\
    \ calls normally do not.\n   If the device recognizes the emergency call, it can\
    \ include location,\n   if known.  A signaling intermediary (proxy server) can\
    \ also recognize\n   emergency dial strings if the endpoint fails to do so.\n\
    \   For devices that are mobile or nomadic, an issue arises of whether\n   the\
    \ home or visited dial strings should be used.  Many users would\n   prefer that\
    \ their home dialing sequences work no matter where they\n   are.  However, local\
    \ laws and regulations may require that the\n   visited dialing sequence(s) work.\
    \  Therefore, the visited dial string\n   must work.  Devices may have a way to\
    \ be configured or learn home\n   dial strings.\n   LoST [RFC5222] provides the\
    \ mechanism for obtaining the dialing\n   sequences for a given location.  LoST\
    \ servers must return dial\n   strings for emergency services.  If the endpoint\
    \ does not support the\n   translation of dial strings to service URNs, the dialing\
    \ sequence\n   from the endpoint to its proxy is represented as a dial string\n\
    \   [RFC4967] and the outgoing proxy must recognize the dial string and\n   translate\
    \ it to the equivalent service URN.  To determine the local\n   emergency dial\
    \ string, the proxy needs the location of the endpoint.\n   This may be difficult\
    \ in situations where the user can roam or be\n   nomadic.  Endpoint recognition\
    \ of emergency dial strings is therefore\n   preferred.  If a service provider\
    \ is unable to guarantee that it can\n   correctly determine local emergency dial\
    \ strings, wherever its\n   subscribers may be, then it is required that the endpoint\
    \ do the\n   recognition.\n   Note: The emergency call practitioners consider\
    \ it undesirable to\n   have a single-button emergency call user interface element.\
    \  These\n   mechanisms tend to result in a very high rate of false or accidental\n\
    \   emergency calls.  In order to minimize this issue, practitioners\n   recommend\
    \ that devices should only initiate emergency calls based on\n   entry of specific\
    \ emergency call dial strings.  Speed dial mechanisms\n   may effectively create\
    \ single-button emergency call invocation and\n   practitioners recommend they\
    \ not be permitted.\n"
- title: 6.  Location and Its Role in an Emergency Call
  contents:
  - "6.  Location and Its Role in an Emergency Call\n   Location is central to the\
    \ operation of emergency services.  Location\n   is used for two purposes in emergency\
    \ call handling: routing of the\n   call and dispatch of responders.  It is frequently\
    \ the case that the\n   callers reporting an emergency are unable to provide a\
    \ unique, valid\n   location themselves.  For this reason, location provided by\
    \ the\n   endpoint or the access network is needed.  For practical reasons,\n\
    \   each PSAP generally handles only calls for a certain geographic area,\n  \
    \ with overload arrangements between PSAPs to handle each others'\n   calls. \
    \ Other calls that reach it by accident must be manually\n   re-routed (transferred)\
    \ to the more appropriate PSAP, increasing call\n   handling delay and the chance\
    \ for errors.  The area covered by each\n   PSAP differs by jurisdiction, where\
    \ some countries have only a small\n   number of PSAPs, while others decentralize\
    \ PSAP responsibilities to\n   the level of counties or municipalities.\n   In\
    \ most cases, PSAPs cover at least a city or town, but there are\n   some areas\
    \ where PSAP coverage areas follow old telephone rate center\n   boundaries and\
    \ may straddle more than one city.  Irregular boundaries\n   are common, often\
    \ due to historical reasons.  Routing must be done\n   based on actual PSAP service\
    \ boundaries -- the closest PSAP, or the\n   PSAP that serves the nominal city\
    \ name provided in the location, may\n   not be the correct PSAP.\n   Accuracy\
    \ of routing location is a complex subject.  Calls must be\n   routed quickly,\
    \ but accurately, and location determination is often a\n   time/accuracy trade-off,\
    \ especially with mobile devices or self-\n   measuring mechanisms.  If a more\
    \ accurate routing location is not\n   available, it is considered acceptable\
    \ to base a routing decision on\n   an accuracy equal to the area of one sector\
    \ of a mobile cell site.\n   Routing to the most appropriate PSAP is always based\
    \ on the location\n   of the caller, despite the fact that some emergency calls\
    \ are placed\n   on behalf of someone else, and the location of the incident is\n\
    \   sometimes not the location of the caller.  In some cases, there are\n   other\
    \ factors that enter into the choice of the PSAP that gets the\n   call, such\
    \ as time of day, caller media requests, language\n   preference, and call load.\
    \  However, location of the caller is the\n   primary input to the routing decision.\n\
    \   Many mechanisms used to locate a caller have a relatively long \"cold\n  \
    \ start\" time.  To get a location accurate enough for dispatch may take\n   as\
    \ much as 30 seconds.  This is too long to wait for emergencies.\n   Accordingly,\
    \ it is common, especially in mobile systems, to use a\n   coarse location, for\
    \ example, the cell site and sector serving the\n   call, for call-routing purposes,\
    \ and then to update the location when\n   a more precise value is known prior\
    \ to dispatch.  In this document,\n   we use \"routing location\" and \"dispatch\
    \ location\" when the\n   distinction matters.\n   Accuracy of dispatch location\
    \ is sometimes determined by local\n   regulation, and is constrained by available\
    \ technology.  The actual\n   requirement is more stringent than available technology\
    \ can deliver:\n   It is required that a device making an emergency call close\
    \ to the\n   \"demising\" or separation wall between two apartments in a high-rise\n\
    \   apartment building report location with sufficient accuracy to\n   determine\
    \ on what side of the wall it is.  This implies perhaps a 3\n   cm accuracy requirement.\
    \  As of the date of this memo, assisted GNSS\n   uncertainty in mobile phones\
    \ with 95% confidence cannot be relied\n   upon to be less than hundreds of meters.\
    \  As technology advances, the\n   accuracy requirements for location will need\
    \ to be tightened.  Wired\n   systems using wire-tracing mechanisms can provide\
    \ location to a wall\n   jack in specific room on a floor in a building, and may\
    \ even specify\n   a cubicle or even smaller resolution.  As this discussion\n\
    \   illustrates, emergency call systems demand the most stringent\n   location\
    \ accuracy available.\n   In Internet emergency calling, where the endpoint is\
    \ located is\n   determined using a variety of measurement or wire-tracing methods.\n\
    \   Endpoints may be configured with their own location by the access\n   network.\
    \  In some circumstances, a proxy server may insert location\n   into the signaling\
    \ on behalf of the endpoint.  The location is mapped\n   to the URI to send the\
    \ call to, and the location is conveyed to the\n   PSAP (and other elements) in\
    \ the signaling.  The terms\n   \"determination\", \"configuration\", \"mapping\"\
    , and \"conveyance\" are\n   used for specific aspects of location handling in\
    \ IETF protocols.\n   Likewise, we employ Location Configuration Protocols, Location\n\
    \   Mapping Protocols, and Location Conveyance Protocols for these\n   functions.\n\
    \   This document provides guidance for generic network configurations\n   with\
    \ respect to location.  It is recognized that unique issues may\n   exist in some\
    \ network deployments.  The IETF will continue to\n   investigate these unique\
    \ situations and provide further guidance, if\n   warranted, in future documents.\n"
- title: 6.1.  Types of Location Information
  contents:
  - "6.1.  Types of Location Information\n   Location can be specified in several\
    \ ways:\n   Civic:  Civic location information describes the location of a person\n\
    \      or object by a street address that corresponds to a building or\n     \
    \ other structure.  Civic location may include more fine-grained\n      location\
    \ information such as floor, room, and cubicle.  Civic\n      information comes\
    \ in two forms:\n         \"Jurisdictional\" refers to a civic location using\
    \ actual\n         political subdivisions, especially for the community name.\n\
    \         \"Postal\" refers to a civic location for mail delivery.  The\n    \
    \     name of the post office sometimes does not correspond to the\n         community\
    \ name and a postal address may contain post office\n         boxes or street\
    \ addresses that do not correspond to an actual\n         building.  Postal addresses\
    \ are generally unsuitable for\n         emergency call dispatch because the post\
    \ office conventions\n         (for community name, for example) do not match\
    \ those known by\n         the responders.  The fact that they are unique can\
    \ sometimes be\n         exploited to provide a mapping between a postal address\
    \ and a\n         civic address suitable to which to dispatch a responder.  In\n\
    \         IETF location protocols, there is an element (Postal Community\n   \
    \      Name) that can be included in a location to provide the post\n        \
    \ office name as well as the actual jurisdictional community\n         name. \
    \ There is also an element for a postal code.  There is no\n         other accommodation\
    \ for postal addresses in these protocols.\n   Geospatial (geo):  Geospatial addresses\
    \ contain longitude, latitude,\n      and altitude information based on an understood\
    \ datum and earth\n      shape model (datum).  While there have been many datums\
    \ developed\n      over time, most modern systems are using or moving towards\
    \ the\n      WGS84 [WGS84] datum.\n   Cell tower/sector:  Cell tower/sector is\
    \ often used for identifying\n      the location of a mobile handset, especially\
    \ for routing of\n      emergency calls.  Cell tower and sectors identify the\
    \ cell tower\n      and the antenna sector that a mobile device is currently using.\n\
    \      Traditionally, the tower location is represented as a point chosen\n  \
    \    to be within a certain PSAP service boundary that agrees to take\n      calls\
    \ originating from that tower/sector, and routing decisions\n      are made on\
    \ that point.  Cell tower/sector information could also\n      be represented\
    \ as an irregularly shaped polygon of geospatial\n      coordinates reflecting\
    \ the likely geospatial location of the\n      mobile device.  Whatever representation\
    \ is used must route\n      correctly in the LoST database, where \"correct\"\
    \ is determined by\n      local PSAP management.\n   In IETF protocols, both civic\
    \ and geospatial forms are supported.\n   The civic forms include both postal\
    \ and jurisdictional fields.  A\n   cell tower/sector can be represented as a\
    \ geo point or polygon or\n   civic location.  Other forms of location representation\
    \ must be\n   mapped into either a geo or civic value for use in emergency calls.\n\
    \   For emergency call purposes, conversion of location information from\n   civic\
    \ to geo or vice versa prior to conveyance is not desirable.  The\n   location\
    \ should be sent in the form it was determined.  Conversion\n   between geo and\
    \ civic requires a database.  Where PSAPs need to\n   convert from whatever form\
    \ they received to another for responder\n   purposes, they have a suitable database.\
    \  However, if a conversion is\n   done before the PSAP's, and the database used\
    \ is not exactly the same\n   one the PSAP uses, the double conversion has a high\
    \ probability of\n   introducing an error.\n"
- title: 6.2.  Location Determination
  contents:
  - "6.2.  Location Determination\n   As noted above, location information can be\
    \ entered by the user or\n   installer of a device (\"manual configuration\"),\
    \ measured by the end\n   system, be delivered to the end system by some protocol\
    \ or measured\n   by a third party, and be inserted into the call signaling.\n\
    \   In some cases, an entity may have multiple sources of location\n   information,\
    \ possibly some that are partially contradictory.  This is\n   particularly likely\
    \ if the location information is determined both by\n   the end system and a third\
    \ party.  Although self-measured location\n   (e.g., GNSS) is attractive, location\
    \ information provided by the\n   access network could be much more accurate,\
    \ and more reliable in some\n   environments such as high-rise buildings in dense\
    \ urban areas.\n   The closer an entity is to the source of location, the more\
    \ likely it\n   is able to determine which location is most appropriate for a\n\
    \   particular purpose when there is more than one location determination\n  \
    \ for a given endpoint.  In emergency calling, the PSAP is the least\n   likely\
    \ to be able to appropriately choose which location to use when\n   multiple conflicting\
    \ locations are presented to it.  While all\n   available locations can be sent\
    \ towards the PSAP, the order of the\n   locations should be the sender's best\
    \ attempt to guide the recipient\n   of which one(s) to use.\n"
- title: 6.2.1.  User-Entered Location Information
  contents:
  - "6.2.1.  User-Entered Location Information\n   Location information can be maintained\
    \ by the end user or the\n   installer of an endpoint in the endpoint itself,\
    \ or in a database.\n   Location information routinely provided by end users is\
    \ almost always\n   less reliable than measured or wire database information,\
    \ as users\n   may mistype location information or may enter civic address\n \
    \  information that does not correspond to a recognized (i.e., valid,\n   see\
    \ Section 6.10) address.  Users can forget to change the data when\n   the location\
    \ of a device changes.\n   However, there are always a small number of cases where\
    \ the automated\n   mechanisms used by the access network to determine location\
    \ fail to\n   accurately reflect the actual location of the endpoint.  For example,\n\
    \   the user may deploy his own WAN behind an access network, effectively\n  \
    \ removing an endpoint some distance from the access network's notion\n   of its\
    \ location.  To handle these exceptional cases, there must be\n   some mechanism\
    \ provided to manually provision a location for an\n   endpoint by the user or\
    \ by the access network on behalf of a user.\n   The use of the mechanism introduces\
    \ the possibility of users falsely\n   declaring themselves to be somewhere they\
    \ are not.  However, this is\n   generally not a problem in practice.  Commonly,\
    \ if an emergency\n   caller insists that he is at a location different from what\
    \ any\n   automatic location determination system reports he is, responders\n\
    \   will always be sent to the user's self-declared location.\n"
- title: 6.2.2.  Access Network "Wire Database" Location Information
  contents:
  - "6.2.2.  Access Network \"Wire Database\" Location Information\n   Location information\
    \ can be maintained by the access network,\n   relating some form of identifier\
    \ for the end subscriber or device to\n   a location database (\"wire database\"\
    ).  In enterprise LANs, wiremap\n   databases map Ethernet switch ports to building\
    \ locations.  In DSL\n   installations, the local telephone carrier maintains\
    \ a mapping of\n   wire-pairs to subscriber addresses.\n   Accuracy of location\
    \ historically has been to a street-address level.\n   However, this is not sufficient\
    \ for larger structures.  The Presence\n   Information Data Format (PIDF) Location\
    \ Object [RFC4119], extended by\n   [RFC5139] and [RFC5491], permits interior\
    \ building, floor, and room\n   and even finer specification of location within\
    \ a street address.\n   When possible, interior location should be supported.\n\
    \   The threshold for when interior location is needed is approximately\n   650\
    \ square meters.  This value is derived from US fire brigade\n   recommendations\
    \ of spacing of alarm pull stations.  However, interior\n   space layout, construction\
    \ materials, and other factors should be\n   considered.\n   Even for IEEE 802.11\
    \ wireless access points, wire databases may\n   provide sufficient location resolution.\
    \  The location of the access\n   point as determined by the wiremap may be supplied\
    \ as the location\n   for each of the clients of the access point.  However, this\
    \ may not\n   be true for larger-scale systems such as IEEE 802.16 (WiMAX) and\
    \ IEEE\n   802.22 that typically have larger cells than those of IEEE 802.11.\n\
    \   The civic location of an IEEE 802.16 base station may be of little\n   use\
    \ to emergency personnel, since the endpoint could be several\n   kilometers away\
    \ from the base station.\n   Wire databases are likely to be the most promising\
    \ solution for\n   residential users where a service provider knows the customer's\n\
    \   service address.  The service provider can then perform address\n   validation\
    \ (see Section 6.10), similar to the current system in some\n   jurisdictions.\n"
- title: 6.2.3.  End System Measured Location Information
  contents:
  - "6.2.3.  End System Measured Location Information\n   Global Positioning System\
    \ (GPS) and similar Global Navigation\n   Satellite Systems (e.g., GLONAS and\
    \ Galileo) receivers may be\n   embedded directly in the end device.  GNSS produces\
    \ relatively high\n   precision location fixes in open-sky conditions, but the\
    \ technology\n   still faces several challenges in terms of performance (time-to-fix\n\
    \   and time-to-first-fix), as well as obtaining successful location\n   fixes\
    \ within shielded structures, or underground.  It also requires\n   all devices\
    \ to be equipped with the appropriate GNSS capability.\n   Many mobile devices\
    \ require using some kind of \"assist\", that may be\n   operated by the access\
    \ network (A-GPS) or by a government (WAAS).  A\n   device may be able to use\
    \ multiple sources of assist data.\n   The GNSS satellites are active continuously;\
    \ thus, location will\n   always be available as long as the device can \"see\"\
    \ enough\n   satellites.  However, mobile devices may not be able to afford the\n\
    \   power levels required to keep the measuring system active.  In such\n   circumstances,\
    \ when location is needed, the device has to start up\n   the measurement mechanism.\
    \  Typically, this takes tens of seconds,\n   far too long to wait to be able\
    \ to route an emergency call.  For this\n   reason, devices that have end system\
    \ measured location mechanisms but\n   need a cold start period lasting more than\
    \ a couple seconds need\n   another way to get a routing location.  Typically,\
    \ this would be a\n   location associated with a radio link (cell tower/sector).\n"
- title: 6.2.4.  Network Measured Location Information
  contents:
  - "6.2.4.  Network Measured Location Information\n   The access network may locate\
    \ end devices.  Techniques include\n   various forms of triangulation.  Elements\
    \ in the network\n   infrastructure triangulate end systems based on signal strength,\n\
    \   angle of arrival or time of arrival.  Common mechanisms deployed\n   include\
    \ the following:\n   o  Time Difference Of Arrival - TDOA\n   o  Uplink Time Difference\
    \ Of Arrival - U-TDOA\n   o  Angle of Arrival - AOA\n   o  Radio Frequency (RF)\
    \ fingerprinting\n   o  Advanced Forward Link Trilateration - AFLT\n   o  Enhanced\
    \ Forward Link Trilateration - EFLT\n   Sometimes multiple mechanisms are combined,\
    \ for example A-GPS with\n   AFLT.\n"
- title: 6.3.  Who Adds Location, Endpoint, or Proxy?
  contents:
  - "6.3.  Who Adds Location, Endpoint, or Proxy?\n   The IETF emergency call architecture\
    \ prefers endpoints to learn their\n   location and supply it on the call.  Where\
    \ devices do not support\n   location, proxy servers may have to add location\
    \ to emergency calls.\n   Some calling networks have relationships with all access\
    \ networks the\n   device may be connected to, and that may allow the proxy to\n\
    \   accurately determine the location of the endpoint.  However, NATs and\n  \
    \ other middleboxes often make it impossible to determine a reference\n   identifier\
    \ the access network could provide to a LIS to determine the\n   location of the\
    \ device.  System designers are discouraged from\n   relying on proxies to add\
    \ location.  The technique may be useful in\n   some limited circumstances as\
    \ devices are upgraded to meet the\n   requirements of this document, or where\
    \ relationships between access\n   networks and calling networks are feasible\
    \ and can be relied upon to\n   get accurate location.\n   Proxy insertion of\
    \ location complicates dial-string recognition.  As\n   noted in Section 6, local\
    \ dial strings depend on the location of the\n   caller.  If the device does not\
    \ know its own location, it cannot use\n   the LoST service to learn the local\
    \ emergency dial strings.  The\n   calling network must provide another way for\
    \ the device to learn the\n   local dial string, and update it when the user moves\
    \ to a location\n   where the dial string(s) change, or do the dial-string determination\n\
    \   itself.\n"
- title: 6.4.  Location and References to Location
  contents:
  - "6.4.  Location and References to Location\n   Location information may be expressed\
    \ as the actual civic or\n   geospatial value but can be transmitted as by value,\
    \ i.e., wholly\n   contained within the signaling message, or by reference, i.e.,\
    \ as a\n   URI pointing to the value residing on a remote node waiting to be\n\
    \   dereferenced.\n   When location is transmitted by value, the location information\
    \ is\n   available to entities in the call path.  On the other hand, location\n\
    \   objects can be large and only represent a single snapshot of the\n   device's\
    \ location.  Location references are small and can be used to\n   represent a\
    \ time-varying location, but the added complexity of the\n   dereference step\
    \ introduces a risk that location will not be\n   available to parties that need\
    \ it if the dereference transaction were\n   to fail.\n"
- title: 6.5.  End System Location Configuration
  contents:
  - "6.5.  End System Location Configuration\n   Unless a user agent has access to\
    \ provisioned or locally measured\n   location information, it must obtain it\
    \ from the access network.\n   There are several Location Configuration Protocols\
    \ (LCPs) that can be\n   used for this purpose including DHCP, HELD, and LLDP:\n\
    \      DHCP can deliver civic [RFC4776] or geospatial [RFC6225]\n      information.\
    \  User agents need to support both formats.  Note that\n      a user agent can\
    \ use DHCP, via the DHCP REQUEST or INFORM\n      messages, even if it uses other\
    \ means to acquire its IP address.\n      HELD [RFC5985] can deliver a civic or\
    \ geo location object, by\n      value or by reference, via a Layer 7 protocol.\
    \  The query\n      typically uses the IP address of the requester as an identifier\n\
    \      and returns the location value or reference associated with that\n    \
    \  identifier.  HELD is typically carried in HTTP.\n      Link-Layer Discovery\
    \ Protocol [LLDP] with Media Endpoint Device\n      (MED) extensions [LLDP-MED]\
    \ can be used to deliver location\n      information directly from the Layer 2\
    \ network infrastructure and\n      also supports both civic and geo formats identical\
    \ in format to\n      DHCP methods.\n   Each LCP has limitations in the kinds\
    \ of networks that can reasonably\n   support it.  For this reason, it is not\
    \ possible to choose a single\n   mandatory-to-deploy LCP.  For endpoints with\
    \ common network\n   connections, such as an Ethernet jack or a WiFi connection,\
    \ location\n   determination could easily fail unless every network supported\
    \ every\n   protocol, or alternatively, every device supported every protocol.\n\
    \   For this reason, a mandatory-to-implement list of LCPs is established\n  \
    \ in [PHONEBCP].  Every endpoint that could be used to place emergency\n   calls\
    \ must implement all of the protocols on the list.  Every access\n   network must\
    \ deploy at least one of them.  Since it is the\n   variability of the networks\
    \ that prevent a single protocol from being\n   acceptable, it must be the endpoints\
    \ that implement all of them, and\n   to accommodate a wide range of devices,\
    \ networks must deploy at least\n   one of them.\n   Often, network operators\
    \ and device designers believe that they have\n   a simpler environment and some\
    \ other network specific mechanism can\n   be used to provide location.  Unfortunately,\
    \ it is very rare to\n   actually be able to limit the range of devices that may\
    \ be connected\n   to a network.  For example, existing mobile networks are being\
    \ used\n   to support routers and LANs behind the WAN connection of a wireless\n\
    \   data network, with Ethernet connected phones connected to that.  It\n   is\
    \ possible that the access network could support a protocol not on\n   the list\
    \ and require every handset in that network to use that\n   protocol for emergency\
    \ calls.  However, the Ethernet-connected phone\n   will not be able to acquire\
    \ location, and the user of the phone is\n   unlikely to be dissuaded from placing\
    \ an emergency call on that\n   phone.  The widespread availability of gateways,\
    \ routers, and other\n   network-broadening devices means that indirectly connected\
    \ endpoints\n   are possible on nearly every network.  Network operators and vendors\n\
    \   are cautioned that shortcuts to meeting this requirement are seldom\n   successful.\n\
    \   Location for non-mobile devices is normally expected to be acquired\n   at\
    \ network attachment time and retained by the device.  It should be\n   refreshed\
    \ when the cached value expires.  For example, if DHCP is the\n   acquisition\
    \ protocol, refresh of location may occur when the IP\n   address lease is renewed.\
    \  At the time of an emergency call, the\n   location should be refreshed, with\
    \ the retained location used if the\n   location acquisition does not immediately\
    \ return a value.  Mobile\n   devices may determine location at network attachment\
    \ time and\n   periodically thereafter as a backup in case location determination\
    \ at\n   the time of call does not work.  Mobile device location may be\n   refreshed\
    \ when a Time-to-Live (TTL) expires or the device moves\n   beyond some boundaries\
    \ (as provided by [RFC5222]).  Normally, mobile\n   devices will acquire their\
    \ location at call time for use in an\n   emergency call routing.  See Section\
    \ 6.8 for a further discussion on\n   location updates for dispatch location.\n\
    \   There are many examples of endpoints that are user agent applications\n  \
    \ running on a more general purpose device, such as a personal\n   computer. \
    \ On some systems, Layer 2 protocols like DHCP and LLDP may\n   not be directly\
    \ accessible to applications.  It is desirable for an\n   operating system to\
    \ have an API that provides the location of the\n   device for use by any application,\
    \ especially those supporting\n   emergency calls.\n"
- title: 6.6.  When Location Should Be Configured
  contents:
  - "6.6.  When Location Should Be Configured\n   Devices should get routing location\
    \ immediately after obtaining local\n   network configuration information.  The\
    \ presence of NAT and VPN\n   tunnels (that assign new IP addresses to communications)\
    \ can obscure\n   identifiers used by LCPs to determine location, especially for\
    \ HELD.\n   In some cases, such as residential NAT devices, the NAT is placed\n\
    \   between the endpoint and the access network demarcation point and\n   thus\
    \ the IP address seen by the access network is the right\n   identifier for location\
    \ of the residence.  However, in many\n   enterprise environments, VPN tunnels\
    \ can obscure the actual IP\n   address.  Some VPN mechanisms can be bypassed\
    \ so that a query to the\n   LCP can be designated to go through the direct IP\
    \ path, using the\n   correct IP address, and not through the tunnel.  In other\
    \ cases, no\n   bypass is possible, but location can be configured before the\
    \ VPN is\n   established.  Of course, LCPs that use Layer 2 mechanisms (DHCP\n\
    \   location options and LLDP-MED) are usually immune from such problems\n   because\
    \ they do not use the IP address as the identifier for the\n   device seeking\
    \ location.\n   It is desirable that routing location information be periodically\n\
    \   refreshed.  A LIS supporting a million subscribers each refreshing\n   once\
    \ per day would need to support a query rate of 1,000,000 / (24 *\n   60 * 60)\
    \ = 12 queries per second.  For networks with mobile devices,\n   much higher\
    \ refresh rates could be expected.\n   It is desirable for routing location information\
    \ to be requested\n   immediately before placing an emergency call.  However,\
    \ if there is\n   any significant delay in getting more recent location, the call\n\
    \   should be placed with the most recent location information the device\n  \
    \ has.  In mobile handsets, routing is often accomplished with the cell\n   site\
    \ and sector of the tower serving the call, because it can take\n   many seconds\
    \ to start up the location determination mechanism and\n   obtain an accurate\
    \ location.\n   There is a trade-off between the time it takes to get a routing\n\
    \   location and the accuracy (technically, confidence and uncertainty)\n   obtained.\
    \  Routing an emergency call quickly is required.  However,\n   if location can\
    \ be substantially improved by waiting a short time\n   (e.g., for some sort of\
    \ \"quick (location) fix\"), it is preferable to\n   wait.  Three seconds, the\
    \ current nominal time for a quick fix, is a\n   very long time add to post-dial\
    \ delay.  NENA recommends [NENAi3TRD]\n   that IP-based systems complete calls\
    \ in two seconds from last dial\n   press to ring at the PSAP.\n"
- title: 6.7.  Conveying Location
  contents:
  - "6.7.  Conveying Location\n   When an emergency call is placed, the endpoint should\
    \ include\n   location in the call signaling.  This is referred to as \"conveyance\"\
    \n   to distinguish it from \"configuration\".  In SIP, the location\n   information\
    \ is conveyed following the procedures in [RFC6442].  Since\n   the form of the\
    \ location information obtained by the acquisition\n   protocol may not be the\
    \ same as the conveyance protocol uses (PIDF-LO\n   [RFC4119]), mapping by the\
    \ endpoint from the LCP form to PIDF may be\n   required.\n"
- title: 6.8.  Location Updates
  contents:
  - "6.8.  Location Updates\n   As discussed above, it may take some time for some\
    \ measurement\n   mechanisms to get a location accurate enough for dispatch, and\
    \ a\n   routing location with less accuracy may be provided to get the call\n\
    \   established quickly.  The PSAP needs the dispatch location before it\n   sends\
    \ the call to the responder.  This requires an update of the\n   location.  In\
    \ addition, the location of some mobile callers, e.g., in\n   a vehicle or aircraft,\
    \ can change significantly during the emergency\n   call.\n   A PSAP has no way\
    \ to request an update of a location provided by\n   value.  If the User Agent\
    \ Client (UAC) gets new location information,\n   it must signal the PSAP using\
    \ a new INVITE or an UPDATE transaction\n   with a new Geolocation header field\
    \ to supply the new location.\n   With the wide variation in determination mechanisms,\
    \ the PSAP does\n   not know when accurate location may be available.  The preferred\n\
    \   mechanism is that the LIS notifies the PSAP when an accurate location\n  \
    \ is available rather than requiring a poll operation from the PSAP to\n   the\
    \ LIS.  The SIP Presence subscription [RFC3856] provides a suitable\n   mechanism.\n\
    \   When using a HELD dereference, the PSAP must specify the value\n   \"emergencyDispatch\"\
    \ for the ResponseTime parameter.  Since,\n   typically, the LIS is local relative\
    \ to the PSAP, the LIS can be\n   aware of the update requirements of the PSAP.\n"
- title: 6.9.  Multiple Locations
  contents:
  - "6.9.  Multiple Locations\n   Getting multiple locations all purported to describe\
    \ the location of\n   the caller is confusing to all, and should be avoided. \
    \ Handling\n   multiple locations at the point where a PIDF is created is discussed\n\
    \   in [RFC5491].  Conflicting location information is particularly\n   harmful\
    \ if different routes (PSAPs) result from LoST queries for the\n   multiple locations.\
    \  When they occur anyway, the general guidance is\n   that the entity earliest\
    \ in the chain generally has more knowledge\n   than later elements to make an\
    \ intelligent decision, especially about\n   which location will be used for routing.\
    \  It is permissible to send\n   multiple locations towards the PSAP, but the\
    \ element that chooses the\n   route must select exactly one location to use with\
    \ LoST.\n   Guidelines for dealing with multiple locations are also given in\n\
    \   [RFC5222].  If a UA gets multiple locations, it must choose the one\n   to\
    \ use for routing, but it may send all of the locations it has in\n   the signaling.\
    \  If a proxy is inserting location and has multiple\n   locations, it must choose\
    \ exactly one to use for routing and send it\n   as well as any other locations\
    \ it has that correspond to this UA.\n   The UA or proxy should have the ability\
    \ to understand how and from\n   whom it learned its location, and should include\
    \ this information in\n   the location objects that are sent to the PSAP.  That\
    \ labeling\n   provides the call taker with information to make decisions upon,\
    \ as\n   well as guidance for, what to ask the caller and what to tell the\n \
    \  responders.\n   Endpoints or proxies may be tempted to send multiple versions\
    \ of the\n   same location.  For example a database may be used to \"geocode\"\
    \ or\n   \"reverse geocode\", that is, convert from civic to geo or vice versa.\n\
    \   It is very problematic to use derived locations in emergency calls.\n   The\
    \ PSAP and the responders have very accurate databases that they\n   use to convert\
    \ most commonly from a reported geo to a civic suitable\n   for dispatching responders.\
    \  If one database is used to convert from,\n   say, civic to geo, and another\
    \ converts from geo to civic, errors\n   will often occur where the databases\
    \ are slightly different.  Errors\n   of even a single house number are serious\
    \ as it may lead first\n   responders to the wrong building.  Derived locations\
    \ should be marked\n   with a \"derived\" method token [RFC4119].  If an entity\
    \ gets a\n   location that has a measured or other original method, and another\n\
    \   with a derived method, it must use the original value for the\n   emergency\
    \ call.\n"
- title: 6.10.  Location Validation
  contents:
  - "6.10.  Location Validation\n   Validation, in this context, means that there\
    \ is a mapping from the\n   address to a PSAP and that the PSAP understands how\
    \ to direct\n   responders to the location.  It is recommended that location be\n\
    \   validated prior to a device placing an actual emergency call; some\n   jurisdictions\
    \ require that this be done.\n   Determining whether an address is valid can be\
    \ difficult.  There are,\n   for example, many cases of two names for the same\
    \ street, or two\n   streets with the same name but different \"suffixes\" (Avenue,\
    \ Street,\n   Circle) in a city.  In some countries, the current system provides\n\
    \   validation.  For example, in the United States of America, the Master\n  \
    \ Street Address Guide (MSAG) records all valid street addresses and is\n   used\
    \ to ensure that the service addresses in phone billing records\n   correspond\
    \ to valid emergency service street addresses.  Validation\n   is normally only\
    \ a concern for civic addresses, although there could\n   be some determination\
    \ that a given geo is within at least one PSAP\n   service boundary; that is,\
    \ a \"valid\" geo is one where there is a\n   mapping in the LoST server.\n  \
    \ LoST [RFC5222] includes a location validation function.  Validation\n   is normally\
    \ performed when a location is entered into a Location\n   Information Server.\
    \  It should be confirmed periodically, because the\n   mapping database undergoes\
    \ slow change and locations that previously\n   validated may eventually fail\
    \ validation.  Endpoints may wish to\n   validate locations they receive from\
    \ the access network, and will\n   need to validate manually entered locations.\
    \  Proxies that insert\n   location may wish to validate locations they receive\
    \ from a LIS.\n   When the test functions (Section 15) are invoked, the location\
    \ used\n   should be validated.\n   When validation fails, the location given\
    \ should not be used for an\n   emergency call, unless no other valid location\
    \ is available.  Bad\n   location is better than no location.  If validation is\
    \ completed when\n   location is first loaded into a LIS, any problems can be\
    \ found and\n   fixed before devices could get the bad location.  Failure of\n\
    \   validation arises because an error is made in determining the\n   location,\
    \ although occasionally the LoST database is not up to date\n   or has faulty\
    \ information.  In either case, the problem must be\n   identified and should\
    \ be corrected before using the location.\n"
- title: 6.11.  Default Location
  contents:
  - "6.11.  Default Location\n   Occasionally, the access network cannot determine\
    \ the actual location\n   of the caller.  In these cases, it must supply a default\
    \ location.\n   The default location should be as accurate as the network can\n\
    \   determine.  For example, in a cable network, a default location for\n   each\
    \ Cable Modem Termination System (CMTS), with a representative\n   location for\
    \ all cable modems served by that CMTS could be provided\n   if the network is\
    \ unable to resolve the subscriber to anything more\n   precise than the CMTS.\
    \  Default locations must be marked as such so\n   that the PSAP knows that the\
    \ location is not accurate.\n"
- title: 6.12.  Location Format Conversion
  contents:
  - "6.12.  Location Format Conversion\n   The endpoint is responsible for mapping\
    \ any form of location it\n   receives from an LCP into PIDF-LO form if the LCP\
    \ did not directly\n   return a PIDF-LO.\n"
- title: 7.  LIS and LoST Discovery
  contents:
  - "7.  LIS and LoST Discovery\n   Endpoints must be able to discover a LIS, if the\
    \ HELD protocol is\n   used and a LoST server.  DHCP options are defined for this\
    \ purpose,\n   namely [RFC5986] and [RFC5223].\n   Until such DHCP records are\
    \ widely available, it may be necessary for\n   the service provider to provision\
    \ a LoST server address in the\n   device.  The endpoint can also do a DNS SRV\
    \ query to find a LoST\n   server.  In any environment, more than one of these\
    \ mechanisms may\n   yield a LoST server, and they may be different.  The recommended\n\
    \   priority is DHCP first, provisioned value second, and DNS SRV query\n   in\
    \ the SIP domain third.\n"
- title: 8.  Routing the Call to the PSAP
  contents:
  - "8.  Routing the Call to the PSAP\n   Emergency calls are routed based on one\
    \ or more of the following\n   criteria expressed in the call setup request (INVITE):\n\
    \   Location:  Since each PSAP serves a limited geographic region and\n      transferring\
    \ existing calls delays the emergency response, calls\n      need to be routed\
    \ to the most appropriate PSAP.  In this\n      architecture, emergency call setup\
    \ requests contain location\n      information, expressed in civic or geospatial\
    \ coordinates, that\n      allows such routing.\n   Type of emergency service:\
    \  In some jurisdictions, emergency calls\n      for specific emergency services\
    \ such as fire, police, ambulance,\n      or mountain rescue are directed to just\
    \ those emergency-specific\n      PSAPs.  This mechanism is supported by marking\
    \ emergency calls\n      with the proper service identifier [RFC5031].  Even in\
    \ single-\n      number jurisdictions, not all services are dispatched by PSAPs\
    \ and\n      may need alternate URNs to route calls to the appropriate call\n\
    \      center.\n   Media capabilities of caller:  In some cases, emergency call\
    \ centers\n      for specific caller media preferences, such as typed text or\n\
    \      video, are separate from PSAPs serving voice calls.  ESRPs are\n      expected\
    \ to be able to provide routing based on media.  Also, even\n      if media capability\
    \ does not affect the selection of the PSAP,\n      there may be call takers within\
    \ the PSAP that are specifically\n      trained, e.g., in real-time text or sign\
    \ language communications,\n      where routing within the PSAP based on the media\
    \ offer would be\n      provided.\n   Providing a URL to route emergency calls\
    \ by location and by type of\n   service is the primary function LoST [RFC5222]\
    \ provides.  LoST\n   accepts a query with location (by-value) in either civic\
    \ or geo form,\n   plus a service identifier, and returns a URI (or set of URIs)\
    \ to\n   which to route the call.  Normal SIP [RFC3261] routing functions are\n\
    \   used to resolve the URI to a next-hop destination.\n   The endpoint can complete\
    \ the LoST mapping from its location at boot\n   time, and periodically thereafter.\
    \  It should attempt to obtain a\n   \"fresh\" location, and from that a current\
    \ mapping when it places an\n   emergency call.  If accessing either its location\
    \ acquisition or its\n   mapping functions fail, it should use its cached value.\
    \  The call\n   would follow its normal outbound call processing.\n   Determining\
    \ when the device leaves the area provided by the LoST\n   service can tax small\
    \ mobile devices.  For this reason, the LoST\n   server should return a simple\
    \ (small number of points) polygon for\n   geospatial location.  This can be a\
    \ simple enclosing rectangle of the\n   PSAP service area when the reported point\
    \ is not near an edge, or a\n   smaller polygonal edge section when the reported\
    \ location is near an\n   edge.  Civic location is uncommon for mobile devices,\
    \ but reporting\n   that the same mapping is good within a community name, or\
    \ even a\n   street, may be very helpful for WiFi connected devices that roam\
    \ and\n   obtain civic location from the access point to which they are\n   connected.\n\
    \   Networks that support devices that do not implement LoST mapping\n   themselves\
    \ may need the outbound proxy do the mapping.  If the\n   endpoint recognized\
    \ the call was an emergency call, provided the\n   correct service URN and/or\
    \ included location on the call in a\n   Geolocation header, a proxy server could\
    \ easily accomplish the\n   mapping.\n   However, if the endpoint did not recognize\
    \ the call was an emergency\n   call, and thus did not include location, the proxy's\
    \ task is more\n   difficult.  It is often difficult for the calling network to\n\
    \   accurately determine the endpoint's location.  The endpoint may have\n   its\
    \ own location, but would not normally include it on the call\n   signaling unless\
    \ it knew it was an emergency call.  There is no\n   mechanism provided in [RFC6442]\
    \ for a proxy to request the endpoint\n   supply its location, because that would\
    \ open the endpoint to an\n   attack by any proxy on the path to get it to reveal\
    \ location.  The\n   proxy can attempt to redirect a call to the service URN,\
    \ which, if\n   the device recognizes the significance, would include location\
    \ in the\n   redirected call from the device.  All network elements should detect\n\
    \   emergency calls and supply default location and/or routing if it is\n   not\
    \ already present.\n   The LoST server would normally be provided by the local\
    \ emergency\n   authorities, although the access network or calling network might\
    \ run\n   its own server using data provided by the emergency authorities.\n \
    \  Some enterprises may have local responders and call centers, and\n   could\
    \ operate their own LoST server, providing URIs to in-house\n   \"PSAPs\".  Local\
    \ regulations might limit the ability of enterprises to\n   direct emergency calls\
    \ to in-house services.\n   The ESRP, which is a normal SIP proxy server in the\
    \ signaling path of\n   the call, may use a variety of PSAP state information,\
    \ the location\n   of the caller, and other criteria to route onward the call\
    \ to the\n   PSAP.  In order for the ESRP to route on media choice, the initial\n\
    \   INVITE request has to supply an SDP offer.\n"
- title: 9.  Signaling of Emergency Calls
  contents:
  - '9.  Signaling of Emergency Calls

    '
- title: 9.1.  Use of TLS
  contents:
  - "9.1.  Use of TLS\n   Best current practice for SIP user agents [RFC4504] including\n\
    \   handling of audio, video, and real-time text [RFC4103] should be\n   applied.\
    \  As discussed above, location is carried in all emergency\n   calls in the call\
    \ signaling.  Since emergency calls carry privacy-\n   sensitive information,\
    \ they are subject to the requirements for\n   geospatial protocols [RFC3693].\
    \  In particular, signaling information\n   should be carried in Transport Layer\
    \ Security (TLS), i.e., in 'sips'\n   mode with a ciphersuite that includes strong\
    \ encryption, such as AES.\n   There are exceptions in [RFC3693] for emergency\
    \ calls.  For example,\n   local policy may dictate that location is sent with\
    \ an emergency call\n   even if the user's policy would otherwise prohibit that.\n\
    \   Nevertheless, protection from eavesdropping of location by encryption\n  \
    \ should be provided.\n   It is unacceptable to have an emergency call fail to\
    \ complete because\n   a TLS connection was not created for any reason.  Thus,\
    \ the call\n   should be attempted with TLS, but if the TLS session establishment\n\
    \   fails, the call should be automatically retried without TLS.\n   [RFC5630]\
    \ recommends that to achieve this effect, the target specify\n   a sip URI, but\
    \ use TLS on the outbound connection.  An element that\n   receives a request\
    \ over a TLS connection should attempt to create a\n   TLS connection to the next\
    \ hop.\n   In many cases, persistent TLS connections can be maintained between\n\
    \   elements to minimize the time needed to establish them [RFC5626].  In\n  \
    \ other circumstances, use of session resumption [RFC5077] is\n   recommended.\
    \  IPsec [RFC4301] is an acceptable alternative to TLS\n   when used with an equivalent\
    \ crypto suite.\n   Location may be used for routing by multiple proxy servers\
    \ on the\n   path.  Confidentiality mechanisms such as Secure/Multipurpose\n \
    \  Internet Mail Extensions (S/MIME) encryption of SIP signaling\n   [RFC3261]\
    \ cannot be used because they obscure location.  Only hop-by-\n   hop mechanisms\
    \ such as TLS should be used.  Implementing location\n   conveyance in SIP mandates\
    \ inclusion of TLS support.\n"
- title: 9.2.  SIP Signaling Requirements for User Agents
  contents:
  - "9.2.  SIP Signaling Requirements for User Agents\n   SIP UAs that recognize local\
    \ dial strings, insert location, and\n   perform emergency call routing will create\
    \ SIP INVITE messages with\n   the service URN in the Request-URI, the LoST-determined\
    \ URI for the\n   PSAP in a Route header, and the location in a Geolocation header.\n\
    \   The INVITE request must also have appropriate callback identifiers\n   (in\
    \ Contact and From headers).  To enable media-sensitive routing,\n   the call\
    \ should include a Session Description Protocol (SDP) offer\n   [RFC3264].\n \
    \  SIP caller preferences [RFC3841] can be used to signal how the PSAP\n   should\
    \ handle the call.  For example, a language preference expressed\n   in an Accept-Language\
    \ header may be used as a hint to cause the PSAP\n   to route the call to a call\
    \ taker who speaks the requested language.\n   SIP caller preferences may also\
    \ be used to indicate a need to invoke\n   a relay service for communication with\
    \ people with disabilities in\n   the call.\n"
- title: 9.3.  SIP Signaling Requirements for Proxy Servers
  contents:
  - "9.3.  SIP Signaling Requirements for Proxy Servers\n   At least one SIP proxy\
    \ server in the path of an emergency call must\n   be able to assist UAs that\
    \ are unable to provide any of the location-\n   based routing steps and recognition\
    \ of dial strings.  A proxy can\n   recognize the lack of location awareness by\
    \ the lack of a Geolocation\n   header.  It can recognize the lack of dial-string\
    \ recognition by the\n   presence of the local emergency call dial string in the\
    \ From header\n   without the service URN being present.  They should obtain the\n\
    \   location of the endpoint if possible, and use a default location if\n   they\
    \ cannot, inserting it in a Geolocation header.  They should query\n   LoST with\
    \ the location and put the resulting URI in a route, with the\n   appropriate\
    \ service URN in the Request-URI.  In any event, they are\n   also expected to\
    \ provide information for the caller using SIP\n   Identity or P-Asserted-Identity.\
    \  It is often a regulatory matter\n   whether calls normally marked as anonymous\
    \ are passed as anonymous\n   when they are emergency calls.  Proxies must conform\
    \ to the local\n   regulation or practice.\n"
- title: 10.  Call Backs
  contents:
  - "10.  Call Backs\n   The call taker must be able to reach the emergency caller\
    \ if the\n   original call is disconnected.  In traditional emergency calls,\n\
    \   wireline and wireless emergency calls include a callback identifier\n   for\
    \ this purpose.  There are two kinds of call backs.  When a call is\n   dropped,\
    \ or the call taker realizes that some important information\n   is needed that\
    \ it doesn't have, it must call back the device that\n   placed the emergency\
    \ call.  The PSAP, or a responder, may need to\n   call back the caller much later,\
    \ and for that purpose, it wants a\n   normal SIP address of record (AOR).  In\
    \ SIP systems, the caller must\n   include a Contact header field in an emergency\
    \ call containing a\n   globally routable URI, possibly a Globally Routable User\
    \ Agent URI\n   (GRUU) [RFC5627].  This identifier would be used to initiate\n\
    \   callbacks immediately by the call taker if, for example, the call is\n   prematurely\
    \ dropped.  A concern arises with back-to-back user agents\n   (B2BUAs) that manipulate\
    \ Contact headers.  Such B2BUAs should always\n   include a Contact header that\
    \ routes to the same device.\n   In addition, a callback identifier as an address\
    \ of record (AoR) must\n   be included either as the URI in the From header field\
    \ [RFC3261]\n   verified by SIP Identity [RFC4474] or as a network-asserted URI\n\
    \   [RFC3325].  If the latter, the PSAP will need to establish a suitable\n  \
    \ spec(t) with the proxies that send it emergency calls.  This\n   identifier\
    \ would be used to initiate a callback at a later time and\n   may reach the caller,\
    \ not necessarily on the same device (and at the\n   same location) as the original\
    \ emergency call as per normal SIP\n   rules.  It is often a regulatory matter\
    \ whether calls normally marked\n   as anonymous are passed as anonymous when\
    \ they are emergency calls.\n   Proxies must conform to the local regulation or\
    \ practice.\n"
- title: 11.  Mid-Call Behavior
  contents:
  - "11.  Mid-Call Behavior\n   Some PSAPs often include dispatchers, responders,\
    \ or specialists on a\n   call.  Some responders' dispatchers are not located\
    \ in the primary\n   PSAP, the call may have to be transferred to another PSAP.\
    \  Most\n   often, this will be an attended transfer, or a bridged transfer.\n\
    \   Therefore, a PSAP may need to a REFER request [RFC3515] a call to a\n   bridge\
    \ for conferencing.  Devices that normally involve the user in\n   transfer operations\
    \ should consider the effect of such interactions\n   when a stressed user places\
    \ an emergency call.  Requiring user\n   interface manipulation during such events\
    \ may not be desirable.\n   Relay services for communication with people with\
    \ disabilities may be\n   included in the call with the bridge.  The UA should\
    \ be prepared to\n   have the call transferred (usually attended, but possibly\
    \ blind) per\n   [RFC5359].\n"
- title: 12.  Call Termination
  contents:
  - "12.  Call Termination\n   It is undesirable for the caller to terminate an emergency\
    \ call.  A\n   PSAP terminates a call using the normal SIP call termination\n\
    \   procedures, i.e., with a BYE request.\n"
- title: 13.  Disabling of Features
  contents:
  - "13.  Disabling of Features\n   Certain features that can be invoked while a normal\
    \ call is active\n   are not permitted when the call is an emergency call.  Services\
    \ such\n   as call waiting, call transfer, three-way calling, and hold should\
    \ be\n   disabled.\n   Certain features such as call forwarding can interfere\
    \ with calls\n   from a PSAP and should be disabled.  There is no way to reliably\n\
    \   determine a PSAP call back.  A UA may be able to determine a PSAP\n   call\
    \ back by examining the domain of incoming calls after placing an\n   emergency\
    \ call and comparing that to the domain of the answering PSAP\n   from the emergency\
    \ call.  Any call from the same domain and directed\n   to the supplied Contact\
    \ header or AoR after an emergency call should\n   be accepted as a callback from\
    \ the PSAP if it occurs within a\n   reasonable time after an emergency call was\
    \ placed.\n"
- title: 14.  Media
  contents:
  - "14.  Media\n   PSAPs should always accept RTP media streams [RFC3550].\n   Traditionally,\
    \ voice has been the only media stream accepted by\n   PSAPs.  In some countries,\
    \ text, in the form of Baudot codes or\n   similar tone encoded signaling within\
    \ a voiceband is accepted (\"TTY\")\n   for persons who have hearing disabilities.\
    \  Using SIP signaling\n   includes the capability to negotiate media.  Normal\
    \ SIP offer/answer\n   [RFC3264] negotiations should be used to agree on the media\
    \ streams\n   to be used.  PSAPs should accept real-time text [RFC4103].  All\
    \ PSAPs\n   should accept G.711 A-law (and mu-law in North America) encoded voice\n\
    \   as described in [RFC3551].  Newer text forms are rapidly appearing,\n   with\
    \ instant messaging now very common, PSAPs should accept IM with\n   at least\
    \ \"pager-mode\" MESSAGE request [RFC3428] as well as Message\n   Session Relay\
    \ Protocol [RFC4975].  Video media in emergency calling\n   is required to support\
    \ Video Relay Service (sign language\n   interpretation) as well as modern video\
    \ phones.\n   It is desirable for media to be kept secure by the use of Secure\
    \ RTP\n   [RFC3711], using DTLS [RFC5764] for keying.\n"
- title: 15.  Testing
  contents:
  - "15.  Testing\n   Since the emergency calling architecture consists of a number\
    \ of\n   pieces operated by independent entities, it is important to be able\n\
    \   to test whether an emergency call is likely to succeed without\n   actually\
    \ occupying the human resources at a PSAP.  Both signaling and\n   media paths\
    \ need to be tested since NATs and firewalls may allow the\n   session setup request\
    \ to reach the PSAP, while preventing the\n   exchange of media.\n   [PHONEBCP]\
    \ includes a description of an automated test procedure that\n   validates routing,\
    \ signaling, and media path continuity.  This test\n   should be used within some\
    \ random interval after boot time, and\n   whenever the device location changes\
    \ enough that a new PSAP mapping\n   is returned by the LoST server.\n   The PSAP\
    \ needs to be able to control frequency and duration of the\n   test, and since\
    \ the process could be abused, it may temporarily or\n   permanently suspend its\
    \ operation.\n   There is a concern associated with testing during a so-called\n\
    \   \"avalanche-restart\" event where, for example, a large power outage\n   affects\
    \ a large number of endpoints, that, when power is restored,\n   all attempt to\
    \ reboot and, possibly, test.  Devices need to randomize\n   their initiation\
    \ of a boot time test to avoid the problem.\n"
- title: 16.  Security Considerations
  contents:
  - "16.  Security Considerations\n   Security considerations for emergency calling\
    \ have been documented in\n   [RFC5069] and [RFC6280].\n   This document suggests\
    \ that security (TLS or IPsec) be used hop-by-\n   hop on a SIP call to protect\
    \ location information, identity, and\n   other privacy-sensitive call data. \
    \ It also suggests that if the\n   attempt to create a security association fails,\
    \ the call be retried\n   without the security.  It is more important to get an\
    \ emergency call\n   through than to protect the data; indeed, in many jurisdictions\n\
    \   privacy is explicitly waived when making emergency calls.  Placing a\n   call\
    \ without security may reveal user information, including\n   location.  The alternative,\
    \ failing the call if security cannot be\n   established, is considered unacceptable.\n"
- title: 17.  Acknowledgments
  contents:
  - "17.  Acknowledgments\n   This document was created from \"Emergency Services\
    \ for Internet\n   Telephony Systems\" (Schulzrinne, 2004) together with sections\
    \ from\n   \"Emergency Context Routing of Internet Technologies Architecture\n\
    \   Considerations\" (Polk, 2006).\n   Design Team members participating in this\
    \ document creation include\n   Martin Dolly, Stu Goldman, Ted Hardie, Marc Linsner,\
    \ Roger Marshall,\n   Shida Schubert, Tom Taylor, and Hannes Tschofenig.  Further\
    \ comments\n   and input were provided by Richard Barnes, Barbara Stark, and James\n\
    \   Winterbottom.\n"
- title: 18.  Informative References
  contents:
  - "18.  Informative References\n   [LLDP]       IEEE, \"IEEE802.1ab Station and\
    \ Media Access Control\",\n                December 2004.\n   [LLDP-MED]   ANSI/TIA,\
    \ \"Link Layer Discovery Protocol - Media\n                Endpoint Discovery\"\
    , TIA Standard, TIA-1057, April 2006.\n   [NENAi3TRD]  NENA, \"08-751 v1 - i3\
    \ Technical Requirements (Long Term\n                Definition)\", 2006.\n  \
    \ [PHONEBCP]   Rosen, B. and J. Polk, \"Best Current Practice for\n          \
    \      Communications Services in support of Emergency\n                Calling\"\
    , Work in Progress, September 2011.\n   [RFC3261]    Rosenberg, J., Schulzrinne,\
    \ H., Camarillo, G., Johnston,\n                A., Peterson, J., Sparks, R.,\
    \ Handley, M., and E.\n                Schooler, \"SIP: Session Initiation Protocol\"\
    , RFC 3261,\n                June 2002.\n   [RFC3264]    Rosenberg, J. and H.\
    \ Schulzrinne, \"An Offer/Answer Model\n                with Session Description\
    \ Protocol (SDP)\", RFC 3264,\n                June 2002.\n   [RFC3325]    Jennings,\
    \ C., Peterson, J., and M. Watson, \"Private\n                Extensions to the\
    \ Session Initiation Protocol (SIP) for\n                Asserted Identity within\
    \ Trusted Networks\", RFC 3325,\n                November 2002.\n   [RFC3428]\
    \    Campbell, B., Rosenberg, J., Schulzrinne, H., Huitema,\n                C.,\
    \ and D. Gurle, \"Session Initiation Protocol (SIP)\n                Extension\
    \ for Instant Messaging\", RFC 3428,\n                December 2002.\n   [RFC3515]\
    \    Sparks, R., \"The Session Initiation Protocol (SIP) Refer\n             \
    \   Method\", RFC 3515, April 2003.\n   [RFC3550]    Schulzrinne, H., Casner,\
    \ S., Frederick, R., and V.\n                Jacobson, \"RTP: A Transport Protocol\
    \ for Real-Time\n                Applications\", STD 64, RFC 3550, July 2003.\n\
    \   [RFC3551]    Schulzrinne, H. and S. Casner, \"RTP Profile for Audio\n    \
    \            and Video Conferences with Minimal Control\", STD 65,\n         \
    \       RFC 3551, July 2003.\n   [RFC3693]    Cuellar, J., Morris, J., Mulligan,\
    \ D., Peterson, J., and\n                J. Polk, \"Geopriv Requirements\", RFC\
    \ 3693,\n                February 2004.\n   [RFC3711]    Baugher, M., McGrew,\
    \ D., Naslund, M., Carrara, E., and\n                K. Norrman, \"The Secure\
    \ Real-time Transport Protocol\n                (SRTP)\", RFC 3711, March 2004.\n\
    \   [RFC3841]    Rosenberg, J., Schulzrinne, H., and P. Kyzivat, \"Caller\n  \
    \              Preferences for the Session Initiation Protocol (SIP)\",\n    \
    \            RFC 3841, August 2004.\n   [RFC3856]    Rosenberg, J., \"A Presence\
    \ Event Package for the Session\n                Initiation Protocol (SIP)\",\
    \ RFC 3856, August 2004.\n   [RFC3986]    Berners-Lee, T., Fielding, R., and L.\
    \ Masinter, \"Uniform\n                Resource Identifier (URI): Generic Syntax\"\
    , STD 66,\n                RFC 3986, January 2005.\n   [RFC4103]    Hellstrom,\
    \ G. and P. Jones, \"RTP Payload for Text\n                Conversation\", RFC\
    \ 4103, June 2005.\n   [RFC4119]    Peterson, J., \"A Presence-based GEOPRIV Location\
    \ Object\n                Format\", RFC 4119, December 2005.\n   [RFC4190]   \
    \ Carlberg, K., Brown, I., and C. Beard, \"Framework for\n                Supporting\
    \ Emergency Telecommunications Service (ETS) in\n                IP Telephony\"\
    , RFC 4190, November 2005.\n   [RFC4301]    Kent, S. and K. Seo, \"Security Architecture\
    \ for the\n                Internet Protocol\", RFC 4301, December 2005.\n   [RFC4474]\
    \    Peterson, J. and C. Jennings, \"Enhancements for\n                Authenticated\
    \ Identity Management in the Session\n                Initiation Protocol (SIP)\"\
    , RFC 4474, August 2006.\n   [RFC4504]    Sinnreich, H., Lass, S., and C. Stredicke,\
    \ \"SIP\n                Telephony Device Requirements and Configuration\",\n\
    \                RFC 4504, May 2006.\n   [RFC4776]    Schulzrinne, H., \"Dynamic\
    \ Host Configuration Protocol\n                (DHCPv4 and DHCPv6) Option for\
    \ Civic Addresses\n                Configuration Information\", RFC 4776, November\
    \ 2006.\n   [RFC4967]    Rosen, B., \"Dial String Parameter for the Session\n\
    \                Initiation Protocol Uniform Resource Identifier\",\n        \
    \        RFC 4967, July 2007.\n   [RFC4975]    Campbell, B., Mahy, R., and C.\
    \ Jennings, \"The Message\n                Session Relay Protocol (MSRP)\", RFC\
    \ 4975,\n                September 2007.\n   [RFC5012]    Schulzrinne, H. and\
    \ R. Marshall, \"Requirements for\n                Emergency Context Resolution\
    \ with Internet\n                Technologies\", RFC 5012, January 2008.\n   [RFC5031]\
    \    Schulzrinne, H., \"A Uniform Resource Name (URN) for\n                Emergency\
    \ and Other Well-Known Services\", RFC 5031,\n                January 2008.\n\
    \   [RFC5069]    Taylor, T., Tschofenig, H., Schulzrinne, H., and M.\n       \
    \         Shanmugam, \"Security Threats and Requirements for\n               \
    \ Emergency Call Marking and Mapping\", RFC 5069,\n                January 2008.\n\
    \   [RFC5077]    Salowey, J., Zhou, H., Eronen, P., and H. Tschofenig,\n     \
    \           \"Transport Layer Security (TLS) Session Resumption\n            \
    \    without Server-Side State\", RFC 5077, January 2008.\n   [RFC5139]    Thomson,\
    \ M. and J. Winterbottom, \"Revised Civic Location\n                Format for\
    \ Presence Information Data Format Location\n                Object (PIDF-LO)\"\
    , RFC 5139, February 2008.\n   [RFC5222]    Hardie, T., Newton, A., Schulzrinne,\
    \ H., and H.\n                Tschofenig, \"LoST: A Location-to-Service Translation\n\
    \                Protocol\", RFC 5222, August 2008.\n   [RFC5223]    Schulzrinne,\
    \ H., Polk, J., and H. Tschofenig,\n                \"Discovering Location-to-Service\
    \ Translation (LoST)\n                Servers Using the Dynamic Host Configuration\
    \ Protocol\n                (DHCP)\", RFC 5223, August 2008.\n   [RFC5359]   \
    \ Johnston, A., Sparks, R., Cunningham, C., Donovan, S.,\n                and\
    \ K. Summers, \"Session Initiation Protocol Service\n                Examples\"\
    , BCP 144, RFC 5359, October 2008.\n   [RFC5491]    Winterbottom, J., Thomson,\
    \ M., and H. Tschofenig,\n                \"GEOPRIV Presence Information Data\
    \ Format Location\n                Object (PIDF-LO) Usage Clarification, Considerations,\n\
    \                and Recommendations\", RFC 5491, March 2009.\n   [RFC5626]  \
    \  Jennings, C., Mahy, R., and F. Audet, \"Managing Client-\n                Initiated\
    \ Connections in the Session Initiation Protocol\n                (SIP)\", RFC\
    \ 5626, October 2009.\n   [RFC5627]    Rosenberg, J., \"Obtaining and Using Globally\
    \ Routable\n                User Agent URIs (GRUUs) in the Session Initiation\n\
    \                Protocol (SIP)\", RFC 5627, October 2009.\n   [RFC5630]    Audet,\
    \ F., \"The Use of the SIPS URI Scheme in the\n                Session Initiation\
    \ Protocol (SIP)\", RFC 5630,\n                October 2009.\n   [RFC5764]   \
    \ McGrew, D. and E. Rescorla, \"Datagram Transport Layer\n                Security\
    \ (DTLS) Extension to Establish Keys for the\n                Secure Real-time\
    \ Transport Protocol (SRTP)\", RFC 5764,\n                May 2010.\n   [RFC5985]\
    \    Barnes, M., \"HTTP-Enabled Location Delivery (HELD)\",\n                RFC\
    \ 5985, September 2010.\n   [RFC5986]    Thomson, M. and J. Winterbottom, \"Discovering\
    \ the Local\n                Location Information Server (LIS)\", RFC 5986,\n\
    \                September 2010.\n   [RFC6225]    Polk, J., Linsner, M., Thomson,\
    \ M., and B. Aboba,\n                \"Dynamic Host Configuration Protocol Options\
    \ for\n                Coordinate-Based Location Configuration Information\",\n\
    \                RFC 6225, July 2011.\n   [RFC6280]    Barnes, R., Lepinski, M.,\
    \ Cooper, A., Morris, J.,\n                Tschofenig, H., and H. Schulzrinne,\
    \ \"An Architecture for\n                Location and Location Privacy in Internet\
    \ Applications\",\n                BCP 160, RFC 6280, July 2011.\n   [RFC6442]\
    \    Polk, J., Rosen, B., and J. Peterson, \"Location\n                Conveyance\
    \ for the Session Initiation Protocol\",\n                RFC 6442, December 2011.\n\
    \   [WGS84]      NIMA, \"NGA: DoD World Geodetic System 1984, Its\n          \
    \      Definition and Relationships with Local Geodetic\n                Systems\"\
    , Technical Report TR8350.2, Third Edition,\n                July 1997.\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Brian Rosen\n   NeuStar, Inc.\n   470 Conrad Dr\n   Mars,\
    \ PA  16046\n   USA\n   EMail: br@brianrosen.net\n   Henning Schulzrinne\n   Columbia\
    \ University\n   Department of Computer Science\n   450 Computer Science Building\n\
    \   New York, NY  10027\n   USA\n   Phone: +1 212 939 7042\n   EMail: hgs@cs.columbia.edu\n\
    \   URI:   http://www.cs.columbia.edu\n   James Polk\n   Cisco Systems\n   3913\
    \ Treemont Circle\n   Colleyville, Texas  76034\n   USA\n   Phone: +1-817-271-3552\n\
    \   EMail: jmpolk@cisco.com\n   Andrew Newton\n   TranTech/MediaSolv\n   4900\
    \ Seminary Road\n   Alexandria, VA  22311\n   USA\n   Phone: +1 703 845 0656\n\
    \   EMail: andy@hxr.us\n"
