- title: __initial_text__
  contents:
  - ''
- title: Requirements for Multi-Segment Pseudowire Emulation Edge-to-Edge (PWE3)
  contents:
  - 'Requirements for Multi-Segment Pseudowire Emulation Edge-to-Edge (PWE3)

    '
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This memo provides information for the Internet community.\
    \  It does\n   not specify an Internet standard of any kind.  Distribution of\
    \ this\n   memo is unlimited.\n"
- title: Abstract
  contents:
  - "Abstract\n   This document describes the necessary requirements to allow a service\n\
    \   provider to extend the reach of pseudowires across multiple domains.\n   These\
    \ domains can be autonomous systems under one provider\n   administrative control,\
    \ IGP areas in one autonomous system, different\n   autonomous systems under the\
    \ administrative control of two or more\n   service providers, or administratively\
    \ established pseudowire\n   domains.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1. Introduction ....................................................3\n\
    \      1.1. Scope ......................................................3\n  \
    \    1.2. Architecture ...............................................3\n   2.\
    \ Terminology .....................................................6\n      2.1.\
    \ Specification of Requirements ..............................6\n   3. Use Cases\
    \ .......................................................7\n      3.1. Multi-Segment\
    \ Pseudowire Setup Mechanisms ..................9\n   4. Multi-Segment Pseudowire\
    \ Requirements ..........................10\n      4.1. All Mechanisms ............................................10\n\
    \           4.1.1. Architecture .......................................10\n  \
    \         4.1.2. Resiliency .........................................11\n    \
    \       4.1.3. Quality of Service .................................11\n      \
    \     4.1.4. Congestion Control .................................12\n        \
    \   4.1.5  Generic Requirements for MS-PW Setup Mechanisms ....13\n          \
    \ 4.1.6. Routing ............................................14\n      4.2. Statically\
    \ Configured MS-PWs ..............................15\n           4.2.1. Architecture\
    \ .......................................15\n           4.2.2. MPLS-PWs ...........................................15\n\
    \           4.2.3. Resiliency .........................................15\n  \
    \         4.2.4. Quality of Service .................................16\n    \
    \  4.3. Signaled PW Segments ......................................16\n      \
    \     4.3.1. Architecture .......................................16\n        \
    \   4.3.2. Resiliency .........................................16\n          \
    \ 4.3.3. Quality of Service .................................17\n           4.3.4.\
    \ Routing ............................................17\n           4.3.5. Additional\
    \ Requirements on Signaled MS-PW Setup\n                  Mechanisms .........................................17\n\
    \      4.4. Signaled PW / Dynamic Route ...............................18\n  \
    \         4.4.1. Architecture .......................................18\n    \
    \       4.4.2. Resiliency .........................................18\n      \
    \     4.4.3. Quality of Service .................................18\n        \
    \   4.4.4. Routing ............................................18\n   5. Operations\
    \ and Maintenance (OAM) ...............................19\n   6. Management of\
    \ Multi-Segment Pseudowires ........................20\n      6.1. MIB Requirements\
    \ ..........................................20\n      6.2. Management Interface\
    \ Requirements .........................21\n   7. Security Considerations ........................................21\n\
    \      7.1. Inter-Provider MS-PWs .....................................21\n  \
    \         7.1.1. Data-Plane Security Requirements ...................21\n    \
    \       7.1.2. Control-Plane Security Requirements ................23\n      7.2.\
    \ Intra-Provider MS-PWs .....................................25\n   8. Acknowledgments\
    \ ................................................25\n   9. References .....................................................25\n\
    \      9.1. Normative References ......................................25\n  \
    \    9.2. Informative References ....................................25\n"
- title: 1.  Introduction
  contents:
  - '1.  Introduction

    '
- title: 1.1.  Scope
  contents:
  - "1.1.  Scope\n   This document specifies requirements for extending pseudowires\
    \ across\n   more than one packet switched network (PSN) domain and/or more than\n\
    \   one PSN tunnel.  These pseudowires are called multi-segment\n   pseudowires\
    \ (MS-PWs).  Requirements for single-segment pseudowires\n   (SS-PWs) that extend\
    \ edge to edge across only one PSN domain are\n   specified in [RFC3916].  This\
    \ document is not intended to invalidate\n   any part of [RFC3985].\n   This document\
    \ specifies additional requirements that apply to MS-PWs.\n   These requirements\
    \ do not apply to PSNs that only support SS-PWs.\n"
- title: 1.2.  Architecture
  contents:
  - "1.2.  Architecture\n   The following three figures describe the reference models\
    \ that are\n   derived from [RFC3985] to support PW emulated services.\n     \
    \    |<-------------- Emulated Service ---------------->|\n         |        \
    \                                          |\n         |          |<------- Pseudowire\
    \ ------->|          |\n         |          |                            |   \
    \       |\n         |          |    |<-- PSN Tunnel -->|    |          |\n   \
    \      | PW End   V    V                  V    V  PW End  |\n         V Service\
    \  +----+                  +----+  Service V\n   +-----+    |     | PE1|==================|\
    \ PE2|     |    +-----+\n   |     |----------|............PW1.............|----------|\
    \     |\n   | CE1 |    |     |    |                  |    |     |    | CE2 |\n\
    \   |     |----------|............PW2.............|----------|     |\n   +-----+\
    \  ^ |     |    |==================|    |     | ^  +-----+\n         ^  |    \
    \   +----+                  +----+     | |  ^\n         |  |   Provider Edge 1\
    \         Provider Edge 2  |  |\n         |  |                               \
    \             |  |\n   Customer |                                            |\
    \ Customer\n   Edge 1   |                                            | Edge 2\n\
    \            |                                            |\n            |   \
    \                                         |\n    Attachment Circuit (AC)     \
    \               Attachment Circuit (AC)\n      Native service                \
    \              Native service\n                Figure 1: PWE3 Reference Configuration\n\
    \   Figure 1 shows the PWE3 reference architecture [RFC3985].  This\n   architecture\
    \ applies to the case where a PSN tunnel extends between\n   two edges of a single\
    \ PSN domain to transport a PW with endpoints at\n   these edges.\n         Native\
    \  |<--------Multi-Segment Pseudowire----->|  Native\n         Service |     \
    \    PSN              PSN          |  Service\n          (AC)   |     |<-Tunnel->|\
    \     |<-Tunnel->|     |  (AC)\n           |     V     V     1    V     V    \
    \ 2    V     V   |\n           |     +-----+          +-----+          +---- +\
    \   |\n   +---+   |     |T-PE1|==========|S-PE1|==========|T-PE2|   |    +---+\n\
    \   |   |---------|........PW1.......... |...PW3..........|---|----|   |\n   |CE1|\
    \   |     |     |          |     |          |     |   |    |CE2|\n   |   |---------|........PW2...........|...PW4..........|--------|\
    \   |\n   +---+   |     |     |==========|     |==========|     |   |    +---+\n\
    \       ^         +-----+          +-----+          +-----+        ^\n       |\
    \     Provider Edge 1         ^        Provider Edge 3     |\n       |       \
    \                      |                            |\n       |              \
    \               |                            |\n       |                     PW\
    \ switching point                   |\n       |                              \
    \                            |\n       |                                     \
    \                     |\n       |<------------------- Emulated Service ------------------->|\n\
    \                Figure 2: PW Switching Reference Model\n   Figure 2 extends this\
    \ architecture to show a multi-segment case.\n   Terminating PE1 (T-PE1) and Terminating\
    \ PE3 (T-PE3) provide PWE3\n   service to CE1 and CE2.  These PEs terminate different\
    \ PSN tunnels,\n   PSN Tunnel 1 and PSN Tunnel 2, and may reside in different\
    \ PSN or\n   pseudowire domains.  One PSN tunnel extends from T-PE1 to S-PE1\n\
    \   across PSN1, and a second PSN tunnel extends from S-PE1 to T-PE2\n   across\
    \ PSN2.\n   PWs are used to connect the Attachment circuits (ACs) attached to\n\
    \   T-PE1 to the corresponding ACs attached to T-PE2.  Each PW on PSN\n   tunnel\
    \ 1 is switched to a PW in the tunnel across PSN2 at S-PE1 to\n   complete the\
    \ multi-segment PW (MS-PW) between T-PE1 and T-PE2.  S-PE1\n   is therefore the\
    \ PW switching point and will be referred to as the PW\n   switching provider\
    \ edge (S-PE).  PW1 and PW3 are segments of the same\n   MS-PW while PW2 and PW4\
    \ are segments of another pseudowire.  PW\n   segments of the same MS-PW (e.g.,\
    \ PW1 and PW3) MAY be of the same PW\n   type or different types, and PSN tunnels\
    \ (e.g., PSN Tunnel 1 and PSN\n   Tunnel 2) can be the same or different technology.\
    \  This document\n   requires support for MS-PWs with segments of the same PW\
    \ type only.\n   An S-PE switches an MS-PW from one segment to another based on\
    \ the PW\n   identifiers (e.g., PW label in case of MPLS PWs).  In Figure 2, the\n\
    \   domains that PSN Tunnel 1 and PSN Tunnel 2 traverse could be IGP\n   areas\
    \ in the same IGP network or simply PWE3 domains in a single flat\n   IGP network,\
    \ for instance.\n                |<------Multi-Segment Pseudowire------>|\n  \
    \              |         AS                AS         |\n            AC  |   \
    \ |<----1---->|     |<----2--->|    |  AC\n            |   V    V           V\
    \     V          V    V  |\n            |   +----+     +-----+     +----+    \
    \ +----+  |\n   +----+   |   |    |=====|     |=====|    |=====|    |  |    +----+\n\
    \   |    |-------|.....PW1..........PW2.........PW3.....|-------|    |\n   | CE1|\
    \   |   |    |     |     |     |    |     |    |  |    |CE2 |\n   +----+   | \
    \  |    |=====|     |=====|    |=====|    |  |    +----+\n        ^       +----+\
    \     +-----+     +----+     +----+       ^\n        |       T-PE1       S-PE2\
    \       S-PE3     T-PE4        |\n        |                     ^          ^ \
    \                    |\n        |                     |          |           \
    \          |\n        |                  PW switching points                 |\n\
    \        |                                                      |\n        | \
    \                                                     |\n        |<-------------------\
    \ Emulated Service --------------->|\n         Figure 3: PW Switching Inter-Provider\
    \ Reference Model\n   Note that although Figure 2 only shows a single S-PE, a\
    \ PW may\n   transit more than one S-PEs along its path.  For instance, in the\n\
    \   multi-AS case shown in Figure 3, there can be an S-PE (S-PE2) at the\n   border\
    \ of one AS (AS1) and another S-PE (S-PE3) at the border of the\n   other AS (AS2).\
    \  An MS-PW that extends from the edge of one AS (T-\n   PE1) to the edge of the\
    \ other AS (T-PE4) is composed of three\n   segments:  (1) PW1, a segment in AS1,\
    \ (2) PW2, a segment between the\n   two border routers (S-PE2 and S-PE3) that\
    \ are switching PEs, and (3)\n   PWE3, a segment in AS2.  AS1 and AS2 could belong\
    \ to the same\n   provider (e.g., AS1 could be an access network or metro transport\n\
    \   network, and AS2 could be an MPLS core network) or to two different\n   providers\
    \ (e.g., AS1 for Provider 1 and AS2 for Provider 2).\n"
- title: 2.  Terminology
  contents:
  - "2.  Terminology\n   RFC 3985 [RFC3985] provides terminology for PWE3.  The following\n\
    \   additional terminology is defined for multi-segment pseudowires:\n      -\
    \  PW Terminating Provider Edge (T-PE).  A PE where the\n         customer-facing\
    \ attachment circuits (ACs) are bound to a PW\n         forwarder.  A Terminating\
    \ PE is present in the first and last\n         segments of an MS-PW.  This incorporates\
    \ the functionality of a\n         PE as defined in RFC 3985.\n      -  Single-Segment\
    \ Pseudowire (SS-PW).  A PW setup directly between\n         two PE devices. \
    \ Each direction of an SS-PW traverses one PSN\n         tunnel that connects\
    \ the two PEs.\n      -  Multi-Segment Pseudowire (MS-PW).  A static or dynamically\n\
    \         configured set of two or more contiguous PW segments that\n        \
    \ behave and function as a single point-to-point PW.  Each end of\n         an\
    \ MS-PW by definition MUST terminate on a T-PE.\n      -  PW Segment.  A single-segment\
    \ or a part of a multi-segment PW,\n         which is set up between two PE devices,\
    \ T-PEs and/or S-PEs.\n      -  PW Switching Provider Edge (S-PE).  A PE capable\
    \ of switching\n         the control and data planes of the preceding and succeeding\
    \ PW\n         segments in an MS-PW.  The S-PE terminates the PSN tunnels\n  \
    \       transporting the preceding and succeeding segments of the MS-\n      \
    \   PW.  It is therefore a PW switching point for an MS-PW.  A PW\n         switching\
    \ point is never the S-PE and the T-PE for the same\n         MS-PW.  A PW switching\
    \ point runs necessary protocols to set up\n         and manage PW segments with\
    \ other PW switching points and\n         terminating PEs.\n"
- title: 2.1.  Specification of Requirements
  contents:
  - "2.1.  Specification of Requirements\n   The key words \"MUST\", \"MUST NOT\"\
    , \"REQUIRED\", \"SHALL\", \"SHALL NOT\",\n   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\"\
    , \"MAY\", and \"OPTIONAL\" in this\n   document are to be interpreted as described\
    \ in [RFC2119].\n"
- title: 3.  Use Cases
  contents:
  - "3.  Use Cases\n   PWE3 defines the signaling and encapsulation techniques for\n\
    \   establishing SS-PWs between a pair of terminating PEs (T-PEs), and in\n  \
    \ the vast majority of cases, this will be sufficient.  MS-PWs may be\n   useful\
    \ in the following situations:\n      -i. Inter-Provider PWs:  An Inter-Provider\
    \ PW is a PW that extends\n          from a T-PE in one provider domain to a T-PE\
    \ in another\n          provider domain.\n     -ii. It may not be possible, desirable,\
    \ or feasible to establish a\n          direct PW control channel between the\
    \ T-PEs, residing in\n          different provider networks, to set up and maintain\
    \ PWs.  At a\n          minimum, a direct PW control channel establishment (e.g.,\n\
    \          targeted LDP session) requires knowledge of and reachability\n    \
    \      to the remote T-PE IP address.  The local T-PE may not have\n         \
    \ access to this information due to operational or security\n          constraints.\
    \  Moreover, an SS-PW would require the existence\n          of a PSN tunnel between\
    \ the local T-PE and the remote T-PE.\n          It may not be feasible or desirable\
    \ to extend single,\n          contiguous PSN tunnels between T-PEs in one domain\
    \ and T-PEs\n          in another domain for security and/or scalability reasons\
    \ or\n          because the two domains may be using different PSN\n         \
    \ technologies.\n    -iii. MS-PW setup, maintenance, and forwarding procedures\
    \ must\n          satisfy requirements placed by the constraints of a\n      \
    \    multi-provider environment.  An example is the inter-AS L2VPN\n         \
    \ scenario where the T-PEs reside in different provider networks\n          (ASs)\
    \ and it is the current practice to MD5-key all control\n          traffic exchanged\
    \ between two networks.  An MS-PW allows the\n          providers to confine MD5\
    \ key administration for the LDP\n          session to just the PW switching points\
    \ connecting the two\n          domains.\n     -iv. PSN Interworking: PWE3 signaling\
    \ protocols and PSN types may\n          differ in different provider networks.\
    \  The terminating PEs\n          may be connected to networks employing different\
    \ PW signaling\n          and/or PSN protocols.  In this case, it is not possible\
    \ to use\n          an SS-PW.  An MS-PW with the appropriate interworking\n  \
    \        performed at the PW switching points can enable PW\n          connectivity\
    \ between the terminating PEs in this scenario.\n      -v. Traffic Engineered\
    \ PSN Tunnels and bandwidth-managed PWs:\n          There is a requirement to\
    \ deploy PWs edge to edge in large\n          service provider networks.  Such\
    \ networks typically encompass\n          hundreds or thousands of aggregation\
    \ devices at the edge, each\n          of which would be a PE.  Furthermore, there\
    \ is a requirement\n          that these PWs have explicit bandwidth guarantees.\
    \  To satisfy\n          these requirements, the PWs will be tunneled over PSN\n\
    \          TE-tunnels with bandwidth constraints.  A single-segment\n        \
    \  pseudowire architecture would require that a full mesh of PSN\n          TE-tunnels\
    \ be provisioned to allow PWs to be established\n          between all PEs.  Inter-provider\
    \ PWs riding traffic engineered\n          tunnels further add to the number of\
    \ tunnels that would have\n          to be supported by the PEs and the core network\
    \ as the total\n          number of PEs increases.\n          In this environment,\
    \ there is a requirement either to support\n          a sparse mesh of PSN TE-tunnels\
    \ and PW signaling adjacencies,\n          or to partition the network into a\
    \ number of smaller PWE3\n          domains.  In either case, a PW would have\
    \ to pass through more\n          than one PSN tunnel hop along its path.  An\
    \ objective is to\n          reduce the number of tunnels that must be supported,\
    \ and thus\n          the complexity and scalability problem that may arise.\n\
    \     -vi. Pseudowires in access/metro networks: Service providers wish\n    \
    \      to extend PW technology to access and metro networks in order\n       \
    \   to reduce maintenance complexity and operational costs.\n          Today's\
    \ access and metro networks are either legacy (Time\n          Division Multiplexed\
    \ (TDM), Synchronous Optical\n          Network/Synchronous Digital Hierarchy\
    \ (SONET/SDH), or Frame\n          Relay/Asynchronous Transfer Mode (ATM)), Ethernet,\
    \ or IP\n          based.\n          Due to these architectures, circuits (e.g.,\
    \ Ethernet Virtual\n          Circuits (EVCs), ATM VCs, TDM circuits) in the access/metro\n\
    \          are traditionally handled as attachment circuits, in their\n      \
    \    native format, to the edge of the IP-MPLS network where the PW\n        \
    \  starts.  This combination requires multiple separate access\n          networks\
    \ and complicates end-to-end control, provisioning, and\n          maintenance.\
    \  In addition, when a TDM or SONET/SDH access\n          network is replaced\
    \ with a packet-based infrastructure,\n          expenses may be lowered due to\
    \ moving statistical multiplexing\n          closer to the end-user and converging\
    \ multiple services onto a\n          single access network.\n          Access\
    \ networks have a number of properties that impact the\n          application\
    \ of PWs.  For example, there exist access\n          mechanisms where the PSN\
    \ is not of an IETF specified type, but\n          uses mechanisms compatible\
    \ with those of PWE3 at the PW layer.\n          Here, use case (iv) may apply.\
    \  In addition, many networks\n          consist of hundreds or thousands of access\
    \ devices.  There is\n          therefore a desire to support a sparse mesh of\
    \ PW signaling\n          adjacencies and PSN tunnels.  Use case (v) may therefore\n\
    \          apply.  Finally, access networks also tend to differ from core\n  \
    \        networks in that the access PW setup and maintenance mechanism\n    \
    \      may only be a subset of that used in the core.\n          Using the MS-PWs,\
    \ access and metro network elements need only\n          maintain PW signaling\
    \ adjacencies with the PEs to which they\n          directly connect.  They do\
    \ not need PW signaling adjacencies\n          with every other access and metro\
    \ network device.  PEs in the\n          PSN backbone, in turn, maintain PW signaling\
    \ adjacencies among\n          each other.  In addition, a PSN tunnel is set up\
    \ between an\n          access element and the PE to which it connects.  Another\
    \ PSN\n          tunnel needs to be established between every PE pair in the\n\
    \          PSN backbone.  An MS-PW may be set up from one access network\n   \
    \       element to another access element with three segments: (1)\n         \
    \ access-element - PSN-PE, (2) PSN-PE to PSN-PE, and (3) PSN-PE\n          to\
    \ access element.  In this MS-PW setup, access elements are\n          T-PEs while\
    \ PSN-PEs are S-PEs.  It should be noted that the\n          PSN backbone can\
    \ be also segmented into PWE3 domains resulting\n          in more segments per\
    \ PW.\n"
- title: 3.1.  Multi-Segment Pseudowire Setup Mechanisms
  contents:
  - "3.1.  Multi-Segment Pseudowire Setup Mechanisms\n   This requirements document\
    \ assumes that the above use cases are\n   realized using one or more of the following\
    \ mechanisms:\n      -i. Static Configuration: The switching points (S-PEs), in\n\
    \          addition to the T-PEs, are manually provisioned for each\n        \
    \  segment.\n     -ii. Pre-Determined Route: The PW is established along an\n\
    \          administratively determined route using an end-to-end\n          signaling\
    \ protocol with automated stitching at the S-PEs.\n    -iii. Signaled Dynamic\
    \ Route: The PW is established along a\n          dynamically determined route\
    \ using an end-to-end signaling\n          protocol with automated stitching at\
    \ the S-PEs.  The route is\n          selected with the aid of one or more dynamic\
    \ routing\n          protocols.\n   Note that we define the PW route to be the\
    \ set of S-PEs through which\n   an MS-PW will pass between a given pair of T-PEs.\
    \  PSN tunnels along\n   that route can be explicitly specified or locally selected\
    \ at the\n   S-PEs and T-PEs.  The routing of the PSN tunnels themselves is\n\
    \   outside the scope of the requirements specified in this document.\n"
- title: 4.  Multi-Segment Pseudowire Requirements
  contents:
  - "4.  Multi-Segment Pseudowire Requirements\n   The following sections detail the\
    \ requirements that the above use\n   cases put on the MS-PW setup mechanisms.\n"
- title: 4.1.  All Mechanisms
  contents:
  - "4.1.  All Mechanisms\n   The following generic requirements apply to the three\
    \ MS-PW setup\n   mechanisms defined in the previous section.\n"
- title: 4.1.1.  Architecture
  contents:
  - "4.1.1.  Architecture\n      -i. If MS-PWs are tunneled across a PSN that only\
    \ supports SS-PWs,\n          then only the requirements of [RFC3916] apply to\
    \ that PSN.\n          The fact that the overlay is carrying MS-PWs MUST be\n\
    \          transparent to the routers in the PSN.\n     -ii. The PWs MUST remain\
    \ transparent to the P-routers.  A P-router\n          is not an S-PE or an T-PE\
    \ from the MS-PW architecture\n          viewpoint.  P-routers provide transparent\
    \ PSN transport for\n          PWs and MUST not have any knowledge of the PWs\
    \ traversing\n          them.\n    -iii. The MS-PWs MUST use the same encapsulation\
    \ modes specified for\n          SS-PWs.\n     -iv. The MS-PWs MUST be composed\
    \ of SS-PWs.\n      -v. An MS-PW MUST be able to pass across PSNs of all technologies\n\
    \          supported by PWE3 for SS-PWs.  When crossing from one PSN\n       \
    \   technology to another, an S-PE must provide the necessary PSN\n          interworking\
    \ functions in that case.\n     -vi. Both directions of a PW segment MUST terminate\
    \ on the same\n          S-PE/T-PE.\n    -vii. S-PEs MAY only support switching\
    \ PWs of the same PW type.  In\n          this case, the PW type is transparent\
    \ to the S-PE in the\n          forwarding plane, except for functions needed\
    \ to provide for\n          interworking between different PSN technologies.\n\
    \   -viii. Solutions MAY provide a way to prioritize the setup and\n         \
    \ maintenance process among PWs.\n"
- title: 4.1.2.  Resiliency
  contents:
  - "4.1.2.  Resiliency\n   Mechanisms to protect an MS-PW when an element on the\
    \ existing path\n   of an MS-PW fails MUST be provided.  These mechanisms will\
    \ depend on\n   the MS-PW setup.  The following are the generic resiliency\n \
    \  requirements that apply to all MS-PW setup mechanisms:\n      -i. Configuration\
    \ and establishment of a backup PW to a primary PW\n          SHOULD be supported.\
    \  Mechanisms to perform a switchover from\n          a primary PW to a backup\
    \ PW upon failure detection SHOULD be\n          provided.\n     -ii. The ability\
    \ to configure an end-to-end backup PW path for a\n          primary PW path SHOULD\
    \ be supported.  The primary and backup\n          paths may be statically configured,\
    \ statically specified for\n          signaling, or dynamically selected via dynamic\
    \ routing\n          depending on the MS-PW establishment mechanism.  Backup and\n\
    \          primary paths should have the ability to traverse separate\n      \
    \    S-PEs.  The backup path MAY be signaled at configuration time\n         \
    \ or after failure.\n    -iii. The ability to configure a primary PW and a backup\
    \ PW with a\n          different T-PE from the primary SHOULD be supported.\n\
    \     -iv. Automatic Mechanisms to perform a fast switchover from a\n        \
    \  primary PW to a backup PW upon failure detection SHOULD be\n          provided.\n\
    \      -v. A mechanism to automatically revert to a primary PW from a\n      \
    \    backup PW MAY be provided.  When provided, it MUST be\n          configurable.\n"
- title: 4.1.3.  Quality of Service
  contents:
  - "4.1.3.  Quality of Service\n   Pseudowires are intended to support emulated services\
    \ (e.g., TDM and\n   ATM) that may have strict per-connection quality-of-service\
    \ (QoS)\n   requirements.  This may include either absolute or relative\n   guarantees\
    \ on packet loss, delay, and jitter.  These guarantees are,\n   in part, delivered\
    \ by reserving sufficient network resources (e.g.,\n   bandwidth), and by providing\
    \ appropriate per-packet treatment (e.g.,\n   scheduling priority and drop precedence)\
    \ throughout the network.\n   For SS-PWs, a traffic engineered PSN tunnel (i.e.,\
    \ MPLS-TE) may be\n   used to ensure that sufficient resources are reserved in\
    \ the\n   P-routers to provide QoS to PWs on the tunnel.  In this case, T-PEs\n\
    \   MUST have the ability to automatically request the PSN tunnel\n   resources\
    \ in the direction of traffic (e.g., admission control of PWs\n   onto the PSN\
    \ tunnel and accounting for reserved bandwidth and\n   available bandwidth on\
    \ the tunnel).  In cases where the tunnel\n   supports multiple classes of service\
    \ (CoS) (e.g., E-LSP), bandwidth\n   management is required per CoS.\n   For MS-PWs,\
    \ each S-PE maps a PW segment to a PSN tunnel.  Solutions\n   MUST enable S-PEs\
    \ and T-PEs to automatically bind a PW segment to a\n   PSN tunnel based on CoS\
    \ and bandwidth requirements when these\n   attributes are specified for a PW.\
    \  Solutions SHOULD also provide the\n   capability of binding a PW segment to\
    \ a tunnel as a matter of policy\n   configuration.  S-PEs and T-PEs must be capable\
    \ of automatically\n   requesting PSN tunnel resources per CoS.\n   S-PEs and\
    \ T-PEs MUST be able to associate a CoS marking (e.g., EXP\n   field value for\
    \ MPLS PWs) with PW PDUs.  CoS marking in the PW PDUs\n   affects packet treatment.\
    \  The CoS marking depends on the PSN\n   technology.  Thus, solutions must enable\
    \ the configuration of\n   necessary mapping for CoS marking when the MS-PW crosses\
    \ from one PSN\n   technology to another.  Similarly, different administrative\
    \ domains\n   may use different CoS values to imply the same CoS treatment.\n\
    \   Solutions MUST provide the ability to define CoS marking maps on\n   S-PEs\
    \ at administrative domain boundaries to translate from one CoS\n   value to another\
    \ as a PW PDU crosses from one domain to the next.\n   [RFC3985] requires PWs\
    \ to respond to path congestion by reducing\n   their transmission rate.  Alternatively,\
    \ RFC 3985 permits PWs that do\n   not have a congestion control mechanism to\
    \ transmit using explicitly\n   reserved capacity along a provisioned path.  Because\
    \ MS-PWs are a\n   type of PW, this requirement extends to them as well.  RFC\
    \ 3985\n   applied to MS-PWs consequently requires that MS-PWs employ a\n   congestion\
    \ control mechanism that is effective across an MS path, or\n   requires an explicit\
    \ provisioning action that reserves sufficient\n   capacity in all domains along\
    \ the MS path before the MS-PW begins\n   transmission.  S-PEs are therefore REQUIRED\
    \ to reject attempts to\n   establish MS-PW segments for PW types that either\
    \ do not utilize an\n   appropriate congestion control scheme or when resources\
    \ that are\n   sufficient to support the transmission rate of the PW cannot be\n\
    \   reserved along the path.\n"
- title: 4.1.4.  Congestion Control
  contents:
  - "4.1.4.  Congestion Control\n   [RFC3985] requires all PWs to respond to congestion,\
    \ in order to\n   conform to [RFC2914].  In the absence of a well-defined congestion\n\
    \   control mechanism, [RFC3985] permits PWs to be carried across paths\n   that\
    \ have been provisioned such that the traffic caused by PWs has no\n   harmful\
    \ effect on concurrent traffic that shares the path, even under\n   congestion.\
    \  These requirements extend to the MS-PWs defined in this\n   document.\n   Path\
    \ provisioning is frequently performed through QoS reservation\n   protocols or\
    \ network management protocols.  In the case of SS-PWs,\n   which remain within\
    \ a single administrative domain, a number of\n   existing protocols can provide\
    \ this provisioning functionality.  MS-\n   PWs, however, may transmit across\
    \ network domains that are under the\n   control of multiple entities.  QoS provisioning\
    \ across such paths is\n   inherently more difficult, due to the required inter-domain\n\
    \   interactions.  It is important to note that these difficulties do not\n  \
    \ invalidate the requirement to provision path capacity for MS-PW use.\n   Each\
    \ domain MUST individually implement a method to control\n   congestion.  This\
    \ can be by QoS reservation, or other congestion\n   control method.  MS-PWs MUST\
    \ NOT transmit across unprovisioned, best\n   effort, paths in the absence of\
    \ other congestion control schemes, as\n   required by [RFC3985].\n   Solutions\
    \ MUST enable S-PEs and T-PEs on the path of an MS-PW to\n   notify other S-PEs\
    \ and T-PEs on that path of congestion, when it\n   occurs.  Congestion may be\
    \ indicated by queue length, packet loss\n   rate, or bandwidth measurement (among\
    \ others) crossing a respective\n   threshold.  The action taken by a T-PE that\
    \ receives a notification\n   of congestion along the path of one of its PWs could\
    \ be to re-route\n   the MS-PW to an alternative path, including an alternative\
    \ T-PE if\n   available.  If a PE, or an S-PE has knowledge that a particular\
    \ link\n   or tunnel is experiencing congestion, it MUST not set up any new\n\
    \   MS-PW that utilize that link or tunnel.  Some PW types, such as TDM\n   PWs,\
    \ are more sensitive to congestion than others.  The reaction to a\n   congestion\
    \ notification MAY vary per PW type.\n"
- title: 4.1.5.  Additional Generic Requirements for MS-PW Setup Mechanisms
  contents:
  - "4.1.5.  Additional Generic Requirements for MS-PW Setup Mechanisms\n   The MS-PW\
    \ setup mechanisms MUST accommodate the service provider's\n   practices, especially\
    \ in relation to security, confidentiality of SP\n   information, and traffic\
    \ engineering.  Security and confidentiality\n   are especially important when\
    \ the MS-PWs are set up across autonomous\n   systems in different administrative\
    \ domains.  The following are\n   generic requirements that apply to the three\
    \ MS-PW setup mechanisms\n   defined earlier:\n      -i. The ability to statically\
    \ select S-PEs and PSN tunnels on a PW\n          path MUST be provided.  Static\
    \ selection of S-PEs is by\n          definition a requirement for the static\
    \ configuration and\n          signaled/static route setup mechanisms.  This requirement\n\
    \          satisfies the need for forcing an MS-PW to traverse specific\n    \
    \      S-PEs to enforce service provider security and administrative\n       \
    \   policies.\n     -ii. Solutions SHOULD minimize the amount of configuration\
    \ needed\n          to set up an MS-PW.\n    -iii. Solutions should support different\
    \ PW setup mechanisms on the\n          same T-PE, S-PE, and PSN network.\n  \
    \   -iv. Solutions MUST allow T-PEs to simultaneously support use of\n       \
    \   SS-PW signaling mechanisms as specified in [RFC4447], as well\n          as\
    \ MS-PW signaling mechanisms.\n      -v. Solutions MUST ensure that an MS-PW will\
    \ be set up when a path\n          that satisfies the PW constraints for bandwidth,\
    \ CoS, and\n          other possible attributes does exist in the network.\n \
    \    -vi. Solutions must clearly define the setup procedures for each\n      \
    \    mechanism so that an MS-PW setup on T-PEs can be interpreted\n          as\
    \ successful only when all PW segments are successfully set\n          up.\n \
    \   -vii. Admission control to the PSN tunnel needs to be performed\n        \
    \  against available resources, when applicable.  This process\n          MUST\
    \ be performed at each PW segment comprising the MS-PW.  PW\n          admission\
    \ control into a PSN tunnel MUST be configurable.\n   -viii. In case the PSN tunnel\
    \ lacks the resources necessary to\n          accommodate the new PW, an attempt\
    \ to signal a new PSN tunnel,\n          or increase the capacity of the existing\
    \ PSN tunnel MAY be\n          made.  If the expanded PSN tunnel fails to set\
    \ up, the PW MUST\n          fail to set up.\n     -ix. The setup mechanisms must\
    \ allow the setup of a PW segment\n          between two directly connected S-PEs\
    \ without the existence of\n          a PSN tunnel.  This requirement allows a\
    \ PW segment to be set\n          up between two (Autonomous System Border Routers\
    \ (ASBRs) when\n          the MS-PW crosses AS boundaries without the need for\n\
    \          configuring and setting up a PSN tunnel.  In this case,\n         \
    \ admission control must be done, when enabled, on the link\n          between\
    \ the S-PEs.\n"
- title: 4.1.6.  Routing
  contents:
  - "4.1.6.  Routing\n   An objective of MS-PWs is to provide support for the following\n\
    \   connectivity:\n      -i. MS-PWs MUST be able to traverse multiple service\
    \ provider\n          administrative domains.\n     -ii. MS-PWs MUST be able to\
    \ traverse multiple autonomous systems\n          within the same administrative\
    \ domain.\n    -iii. MS-PWs MUST be able to traverse multiple autonomous systems\n\
    \          belonging to different administrative domains.\n     -iv. MS-PWs MUST\
    \ be able to support any hybrid combination of the\n          aforementioned connectivity\
    \ scenarios, including both PW\n          transit and termination in a domain.\n"
- title: 4.2.  Statically Configured MS-PWs
  contents:
  - "4.2.  Statically Configured MS-PWs\n   When the MS-PW segments are statically\
    \ configured, the following\n   requirements apply in addition to the generic\
    \ requirements previously\n   defined.\n"
- title: 4.2.1.  Architecture
  contents:
  - "4.2.1.  Architecture\n   There are no additional requirements on the architecture.\n"
- title: 4.2.2.  MPLS-PWs
  contents:
  - "4.2.2.  MPLS-PWs\n   Solutions should allow for the static configuration of MPLS\
    \ labels\n   for MPLS-PW segments and the cross-connection of these labels to\n\
    \   preceding and succeeding segments.  This is especially useful when an\n  \
    \ MS-PW crosses provider boundaries and two providers do not want to\n   run any\
    \ PW signaling protocol between them.  A T-PE or S-PE that\n   allows the configuration\
    \ of static labels for MS-PW segments should\n   also simultaneously allow for\
    \ dynamic label assignments for other\n   MS-PW segments.  It should be noted\
    \ that when two interconnected\n   S-PEs do not have signaling peering for the\
    \ purpose of setting up\n   MS-PW segments, they should have in-band PW Operations\
    \ and\n   Maintenance (OAM) capabilities that relay PW or attachment circuit\n\
    \   defect notifications between the adjacent S-PEs.\n"
- title: 4.2.3.  Resiliency
  contents:
  - "4.2.3.  Resiliency\n   The solution should allow for the protection of a PW segment,\
    \ a\n   contiguous set of PW segments, as well as the end-to-end path.  The\n\
    \   primary and protection segments must share the same segment\n   endpoints.\
    \  Solutions should allow for having the backup paths set up\n   prior to the\
    \ failure or as a result of failure.  The choice should be\n   made by configuration.\
    \  When resources are limited and cannot satisfy\n   all PWs, the PWs with the\
    \ higher setup priorities should be given\n   preference when compared with the\
    \ setup priorities of other PWs being\n   set up or the holding priorities of\
    \ existing PWs.\n   Solutions should strive to minimize traffic loss between T-PEs.\n"
- title: 4.2.4.  Quality of Service
  contents:
  - "4.2.4.  Quality of Service\n   The CoS and bandwidth of the MS-PW must be configurable\
    \ at T-PEs and\n   S-PEs.\n"
- title: 4.3.  Signaled PW Segments
  contents:
  - "4.3.  Signaled PW Segments\n   When the MS-PW segments are dynamically signaled,\
    \ the following\n   requirements apply in addition to the generic requirements\
    \ previously\n   defined.  The signaled MS-PW segments can be on the path of a\n\
    \   statically configured MS-PW, signaled/statically routed MS-PW, or\n   signaled/dynamically\
    \ routed MS-PW.\n   There are four different mechanisms that are defined to setup\
    \ SS-PWs:\n      -i. Static set up of the SS-PW (MPLS or L2TPv3 forwarding)\n\
    \     -ii. LDP using PWid Forwarding Equivalence Class (FEC) 128\n    -iii. LDP\
    \ using the generalized PW FEC 129\n     -iv. L2TPv3\n   The MS-PW setup mechanism\
    \ MUST be able to support PW segments\n   signaled with any of the above protocols;\
    \ however, the specification\n   of which combinations of SS-PW signaling protocols\
    \ are supported by a\n   specific implementation is outside the scope of this\
    \ document.\n   For the signaled/statically routed and signaled/dynamically routed\n\
    \   MS-PW setup mechanisms, the following requirements apply in addition\n   to\
    \ the generic requirements previously defined.\n"
- title: 4.3.1.  Architecture
  contents:
  - "4.3.1.  Architecture\n   There are no additional requirements on the architecture.\n"
- title: 4.3.2.  Resiliency
  contents:
  - "4.3.2.  Resiliency\n   Solutions should allow for the signaling of a protection\
    \ path for a\n   PW segment, sequence of segments, or end-to-end path.  The protection\n\
    \   and primary paths for the protected segment(s) share the same\n   respective\
    \ segments endpoints.  When admission control is enabled,\n   systems must be\
    \ careful not to double account for bandwidth\n   allocation at merged points\
    \ (e.g., tunnels).  Solutions should allow\n   for having the backup paths set\
    \ up prior to the failure or as a\n   result of failure.  The choice should be\
    \ made by configuration at the\n   endpoints of the protected path.  When resources\
    \ are limited and\n   cannot satisfy all PWs, the PWs with the higher setup priorities\n\
    \   should be given preference when compared with the setup priorities of\n  \
    \ other PWs being set up or the holding priorities of existing PWs.\n   Procedures\
    \ must allow for the primary and backup paths to be diverse.\n"
- title: 4.3.3.  Quality of Service
  contents:
  - "4.3.3.  Quality of Service\n   When the T-PE attempts to signal an MS-PW, the\
    \ following capability\n   is required:\n      -i. Signaling must be able to identify\
    \ the CoS associated with an\n          MS-PW.\n     -ii. Signaling must be able\
    \ to carry the traffic parameters for an\n          MS-PW per CoS.  Traffic parameters\
    \ should be based on existing\n          INTSERV definitions and must be used\
    \ for admission control\n          when admission control is enabled.\n    -iii.\
    \ The PW signaling MUST enable separate traffic parameter values\n          to\
    \ be specified for the forward and reverse directions of the\n          PW.\n\
    \     -iv. PW traffic parameter representations MUST be the same for all\n   \
    \       types of MS-PWs.\n      -v. The signaling protocol must be able to accommodate\
    \ a method to\n          prioritize the PW setup and maintenance operation among\
    \ PWs.\n"
- title: 4.3.4.  Routing
  contents:
  - "4.3.4.  Routing\n   See the requirements for \"Resiliency\" above.\n"
- title: 4.3.5.  Additional Requirements on Signaled MS-PW Setup Mechanisms
  contents:
  - "4.3.5.  Additional Requirements on Signaled MS-PW Setup Mechanisms\n   The following\
    \ are further requirements on signaled MS-PW setup\n   mechanisms:\n      -i.\
    \ The signaling procedures MUST be defined such that the setup\n          of an\
    \ MS-PW is considered successful if all segments of the\n          MS-PW are successfully\
    \ set up.\n     -ii. The MS-PW path MUST have the ability to be dynamically set\
    \ up\n          between the T-PEs by provisioning only the T-PEs.\n    -iii. Dynamic\
    \ MS-PW setup requires that a unique identifier be\n          associated with\
    \ a PW and be carried in the signaling message.\n          That identifier must\
    \ contain sufficient information to\n          determine the path to the remote\
    \ T-PE through intermediate\n          S-PEs.\n     -iv. In a single-provider\
    \ domain, it is natural to have the T-PE\n          identified by one of its IP\
    \ addresses.  This may also apply\n          when an MS-PW is set up across multiple\
    \ domains operated by\n          the same provider.  However, some service providers\
    \ have\n          security and confidentiality policies that prevent them from\n\
    \          advertising reachability to routers in their networks to other\n  \
    \        providers (reachability to an ASBR is an exception).  Thus,\n       \
    \   procedures MUST be provided to allow dynamic set up of MS-PWs\n          under\
    \ these conditions.\n"
- title: 4.4.  Signaled PW / Dynamic Route
  contents:
  - "4.4.  Signaled PW / Dynamic Route\n   The following requirements apply, in addition\
    \ to those in Sections\n   4.1 and 4.3, when both dynamic signaling and dynamic\
    \ routing are\n   used.\n"
- title: 4.4.1.  Architecture
  contents:
  - "4.4.1.  Architecture\n   There are no additional architectural requirements.\n"
- title: 4.4.2.  Resiliency
  contents:
  - "4.4.2.  Resiliency\n   The PW routing function MUST support dynamic re-routing\
    \ around\n   failure points when segments are set up using the dynamic setup\n\
    \   method.\n"
- title: 4.4.3.  Quality of Service
  contents:
  - "4.4.3.  Quality of Service\n   There are no additional QoS requirements.\n"
- title: 4.4.4.  Routing
  contents:
  - "4.4.4.  Routing\n   The following are requirements associated with dynamic route\n\
    \   selection for an MS-PW:\n      -i. Routing must enable S-PEs and T-PEs to\
    \ discover S-PEs on the\n          path to a destination T-PE.\n     -ii. The\
    \ MS-PW routing function MUST have the ability to\n          automatically select\
    \ the S-PEs along the MS-PW path.  Some of\n          the S-PEs MAY be statically\
    \ selected and carried in the\n          signaling to constrain the route selection\
    \ process.\n    -iii. The PW routing function MUST support re-routing around\n\
    \          failures that occur between the statically configured segment\n   \
    \       endpoints.  This may be done by choosing another PSN tunnel\n        \
    \  between the two segment endpoints or setting up an alternative\n          tunnel.\n\
    \     -iv. Routing protocols must be able to advertise reachability\n        \
    \  information of attachment circuit (AC) endpoints.  This\n          reachability\
    \ information must be consistent with the AC\n          identifiers carried in\
    \ signaling.\n"
- title: 5.  Operations and Maintenance (OAM)
  contents:
  - "5.  Operations and Maintenance (OAM)\n   OAM mechanisms for the attachment circuits\
    \ are defined in the\n   specifications for PW emulated specific technologies\
    \ (e.g., ITU-T\n   I.610 [i610] for ATM).  These mechanisms enable, among other\
    \ things,\n   defects in the network to be detected, localized, and diagnosed.\n\
    \   They also enable communication of PW defect states on the PW\n   attachment\
    \ circuit.  Note that this document uses the term OAM as\n   Operations and Management\
    \ as per ITU-T I.610.\n   The interworking of OAM mechanisms for SS-PWs between\
    \ ACs and PWs is\n   defined in [PWE3-OAM].  These enable defect states to be\
    \ propagated\n   across a PWE3 network following the failure and recovery from\
    \ faults.\n   OAM mechanisms for MS-PWs MUST provide at least the same capabilities\n\
    \   as those for SS-PWs.  In addition, it should be possible to support\n   both\
    \ segment and end-to-end OAM mechanisms for both defect\n   notifications and\
    \ connectivity verification in order to allow defects\n   to be localized in a\
    \ multi-segment network.  That is, PW OAM segments\n   can be T-PE to T-PE, T-PE\
    \ to S-PE, or S-PE to S-PE.\n   The following requirements apply to OAM for MS-PWs:\n\
    \      -i. Mechanisms for PW segment failure detection and notification\n    \
    \      to other segments of an MS-PW MUST be provided.\n     -ii. MS-PW OAM SHOULD\
    \ be supported end-to-end across the network.\n    -iii. Single ended monitoring\
    \ SHOULD be supported for both\n          directions of the MS-PW.\n     -iv.\
    \ SS-PW OAM mechanisms (e.g., [RFC5085]) SHOULD be extended to\n          support\
    \ MS-PWs on both an end-to-end basis and segment basis.\n      -v. All PE routers\
    \ along the MS-PW MUST agree on a common PW OAM\n          mechanism to use for\
    \ the MS-PW.\n     -vi. At the S-PE, defects on an PSN tunnel MUST be propagated\
    \ to\n          all PWs that utilize that particular PSN tunnel.\n    -vii. The\
    \ directionality of defect notifications MUST be maintained\n          across\
    \ the S-PE.\n   -viii. The S-PE SHOULD be able to behave as a segment endpoint\
    \ for PW\n          OAM mechanisms.\n     -ix. The S-PE MUST be able to pass T-PE\
    \ to T-PE PW OAM messages\n          transparently.\n      -x. Performance OAM\
    \ is required for both MS-PWs and SS-PWs to\n          measure round-trip delay,\
    \ one-way delay, jitter, and packet\n          loss ratio.\n"
- title: 6.  Management of Multi-Segment Pseudowires
  contents:
  - "6.  Management of Multi-Segment Pseudowires\n   Each PWE3 approach that uses\
    \ MS-PWs SHOULD provide some mechanisms\n   for network operators to manage the\
    \ emulated service.  Management\n   mechanisms for MS-PWs MUST provide at least\
    \ the same capabilities as\n   those for SS-PWs, as defined in [RFC3916].\n  \
    \ It SHOULD also be possible to manage the additional attributes for\n   MS-PWs.\
    \  Since the operator that initiates the establishment of an\n   MS-PW may reside\
    \ in a different PSN domain from the S-PEs and one of\n   the T-PEs along the\
    \ path of the MS-PW, mechanisms for the remote\n   management of the MS-PW SHOULD\
    \ be provided.\n   The following additional requirements apply:\n"
- title: 6.1.  MIB Requirements
  contents:
  - "6.1.  MIB Requirements\n      -i. MIB Tables MUST be designed to facilitate configuration\
    \ and\n          provisioning of the MS-PW at the S-PEs and T-PEs.\n     -ii.\
    \ The MIB(s) MUST facilitate inter-PSN configuration and\n          monitoring\
    \ of the ACs.\n"
- title: 6.2.  Management Interface Requirements
  contents:
  - "6.2.  Management Interface Requirements\n      -i. Mechanisms MUST be provided\
    \ to enable remote management of an\n          MS-PW at an S-PE or T-PE.  It SHOULD\
    \ be possible for these\n          mechanisms to operate across PSN domains. \
    \ An example of a\n          commonly available mechanism is the command line\
    \ interface\n          (CLI) over a telnet session.\n     -ii. For security or\
    \ other reasons, it SHOULD be possible to\n          disable the remote management\
    \ of an MS-PW.\n"
- title: 7.  Security Considerations
  contents:
  - "7.  Security Considerations\n   This document specifies the requirements both\
    \ for MS-PWs that can be\n   set up across domain boundaries administered by one\
    \ or more service\n   providers (inter-provider MS-PWs), and for MS-PWs that are\
    \ only set\n   up across one provider (intra-provider MS-PWs).\n"
- title: 7.1.  Inter-Provider MS-PWs
  contents:
  - "7.1.  Inter-Provider MS-PWs\n   The security requirements for MS-PW setup across\
    \ domains administered\n   by one service provider are the same as those described\
    \ under\n   security considerations in [RFC4447] and [RFC3916].  These\n   requirements\
    \ also apply to inter-provider MS-PWs.\n   In addition, [RFC4111] identifies user\
    \ and provider requirements for\n   L2 VPNs that apply to MS-PWs described in\
    \ this document.  In this\n   section, the focus is on the additional security\
    \ requirements for\n   inter-provider operation of MS-PWs in both the control\
    \ plane and data\n   plane, and some of these requirements may overlap with those\
    \ in\n   [RFC4111].\n"
- title: 7.1.1.  Data-Plane Security Requirements
  contents:
  - "7.1.1.  Data-Plane Security Requirements\n   By security in the \"data plane\"\
    , we mean protection against the\n   following possibilities:\n      -i. Packets\
    \ from within an MS-PW traveling to a PE or an AC to\n          which the PW is\
    \ not intended to be connected, other than in a\n          manner consistent with\
    \ the policies of the MS-PW.\n     -ii. Packets from outside an MS-PW entering\
    \ the MS-PW, other than\n          in a manner consistent with the policies of\
    \ the MS-PW.\n   MS-PWs that cross service provider (SP) domain boundaries may\
    \ connect\n   one T-PE in a SP domain to a T-PE in another provider domain.  They\n\
    \   may also transit other provider domains even if the two T-PEs are\n   under\
    \ the control of one SP.  Under these scenarios, there is a\n   chance that one\
    \ or more PDUs could be falsely inserted into an MS-PW\n   at any of the originating,\
    \ terminating, or transit domains.  Such\n   false injection can be the result\
    \ of a malicious attack or fault in\n   the S-PE.  Solutions MAY provide mechanisms\
    \ for ensuring the\n   end-to-end authenticity of MS-PW PDUs.\n   The data plane\
    \ security requirements at a service provider border for\n   MS-PWs are similar\
    \ to those for inter-provider BGP/MPLS IP Virtual\n   Private Networks [RFC4364].\
    \  In particular, an S-PE or T-PE SHOULD\n   discard a packet received from a\
    \ particular neighbor over the service\n   provider border unless one of the following\
    \ two conditions holds:\n      -i. Any MPLS label processed at the receiving S-PE\
    \ or T-PE, such\n          the PSN tunnel label or the PW label has a label value\
    \ that\n          the receiving system has distributed to that neighbor; or\n\
    \     -ii. Any MPLS label processed at the receiving S-PE or T-PE, such\n    \
    \      as the PSN tunnel label or the PW label has a label value that\n      \
    \    the receiving S-PE or T-PE has previously distributed to the\n          peer\
    \ S-PE or T-PE beyond that neighbor (i.e., when it is known\n          that the\
    \ path from the system to which the label was\n          distributed to the receiving\
    \ system is via that neighbor).\n   One of the domains crossed by an MS-PW may\
    \ decide to selectively\n   mirror the PDUs of an MS-PW for eavesdropping purposes.\
    \  It may also\n   decide to selectively hijack the PDUs of an MS-PW by directing\
    \ the\n   PDUs away from their destination.  In either case, the privacy of an\n\
    \   MS-PW can be violated.\n   Some types of PWs make assumptions about the security\
    \ of the\n   underlying PSN.  The minimal security provided by an MPLS PSN might\n\
    \   not be sufficient to meet the security requirements expected by the\n   applications\
    \ using the MS-PW.  This document does not place any\n   requirements on protecting\
    \ the privacy of an MS-PW PDU via\n   encryption.  However, encryption may be\
    \ required at a higher layer in\n   the protocol stack, based on the application\
    \ or network requirements.\n   The data plane of an S-PE at a domain boundary\
    \ MUST be able to police\n   incoming MS-PW traffic to the MS-PW traffic parameters\
    \ or to an\n   administratively configured profile.  The option to enable/disable\n\
    \   policing MUST be provided to the network administrator.  This is to\n   ensure\
    \ that an MS-PW or a group of MS-PWs do not grab more resources\n   than they\
    \ are allocated.  In addition, the data plane of an S-PE MUST\n   be able to police\
    \ OAM messages to a pre-configured traffic profile or\n   to filter out these\
    \ messages upon administrative configuration.\n   An ingress S-PE MUST ensure\
    \ that an MS-PW receives the CoS treatment\n   configured or signaled for that\
    \ MS-PW at the S-PE.  Specifically, an\n   S-PE MUST guard against packets marked\
    \ in the exp bits or IP-header\n   Differentiated Services (DS) field (depending\
    \ on the PSN) for a\n   better CoS than they should receive.\n   An ingress S-PE\
    \ MUST be able to define per-interface or\n   interface-group (a group may correspond\
    \ to interfaces to a peer-\n   provider) label space for MPLS-PWs.  An S-PE MUST\
    \ be configurable not\n   to accept labeled packets from another provider unless\
    \ the bottom\n   label is a PW-label assigned by the S-PE on the interface on\
    \ which\n   the packet arrived.\n   Data plane security considerations for SS-PWs\
    \ specified in [RFC3985]\n   also apply to MS-PWs.\n"
- title: 7.1.2.  Control-Plane Security Requirements
  contents:
  - "7.1.2.  Control-Plane Security Requirements\n   An MS-PW connects two attachment\
    \ circuits.  It is important to make\n   sure that PW connections are not arbitrarily\
    \ accepted from anywhere,\n   or else a local attachment circuit might get connected\
    \ to an\n   arbitrary remote attachment circuit.  The fault in the connection\
    \ can\n   start at a remote T-PE or an S-PE.\n   Where a PW segment crosses a\
    \ border between one provider and another\n   provider, the PW segment endpoints\
    \ (S-PEs) SHOULD be on ASBRs\n   interconnecting the two providers.  Directly\
    \ interconnecting the\n   S-PEs using a physically secure link, and enabling signaling\
    \ and\n   routing authentication between the S-PEs, eliminates the possibility\n\
    \   of receiving an MS-PW signaling message or packet from an untrusted\n   peer.\
    \  Other configurations are possible.  For example, P routers for\n   the PSN\
    \ tunnel between the adjacent S-PEs/T-PEs may reside on the\n   ASBRs.  In which\
    \ case, the S-PEs/T-PEs MUST satisfy themselves of the\n   security and privacy\
    \ of the path.\n   The configuration and maintenance protocol MUST provide a strong\n\
    \   authentication and control protocol data protection mechanism.  This\n   option\
    \ MUST be implemented, but it should be deployed according to\n   the specific\
    \ PSN environment requirements.  Furthermore,\n   authentication using a signature\
    \ for each individual MS-PW setup\n   message MUST be available, in addition to\
    \ an overall control protocol\n   session authentication and message validation.\n\
    \   Since S-PEs in different provider networks SHOULD reside at each end\n   of\
    \ a physically secure link, or be interconnected by a limited number\n   of trusted\
    \ PSN tunnels, each S-PE will have a trust relationship with\n   only a limited\
    \ number of S-PEs in other ASs.  Thus, it is expected\n   that current security\
    \ mechanisms based on manual key management will\n   be sufficient.  If deployment\
    \ situations arise that require large\n   scale connection to S-PEs in other ASs,\
    \ then a mechanism based on RFC\n   4107 [RFC4107] MUST be developed.\n   Peer\
    \ authentication protects against IP address spoofing but does not\n   prevent\
    \ one peer (S-PE or T-PE) from connecting to the wrong\n   attachment circuit.\
    \  Under a single administrative authority, this\n   may be the result of a misconfiguration.\
    \  When the MS-PW crosses\n   multiple provider domains, this may be the result\
    \ of a malicious act\n   by a service provider or a security hole in that provider\
    \ network.\n   Static manual configuration of MS-PWs at S-PEs and T-PEs provides\
    \ a\n   greater degree of security.  If an identification of both ends of an\n\
    \   MS-PW is configured and carried in the signaling message, an S-PE can\n  \
    \ verify the signaling message against the configuration.  To support\n   dynamic\
    \ signaling of MS-PWs, whereby only endpoints are provisioned\n   and S-PEs are\
    \ dynamically discovered, mechanisms SHOULD be provided\n   to configure such\
    \ information on a server and to use that information\n   during a connection\
    \ attempt for validation.\n   An incoming MS-PW request/reply MUST NOT be accepted\
    \ unless its IP\n   source address is known to be the source of an \"eligible\"\
    \ peer.  An\n   eligible peer is an S-PE or a T-PE with which the originating\
    \ S-PE or\n   T-PE has a trust relationship.  The number of such trusted T-PEs\
    \ or\n   S-PEs is bounded and not anticipated to create a scaling issue for\n\
    \   the control plane authentication mechanisms.\n   If a peering adjacency has\
    \ to be established prior to exchanging\n   setup requests/responses, peering\
    \ MUST only be done with eligible\n   peers.  The set of eligible peers could\
    \ be pre-configured (either as\n   a list of IP addresses, or as a list of address/mask\
    \ combinations) or\n   automatically generated from the local PW configuration\
    \ information.\n   Furthermore, the restriction of peering sessions to specific\n\
    \   interfaces MUST also be provided.  The S-PE and T-PE MUST drop the\n   unaccepted\
    \ signaling messages in the data path to avoid a\n   Denial-of-Service (DoS) attack\
    \ on the control plane.\n   Even if a connection request appears to come from\
    \ an eligible peer,\n   its source address may have been spoofed.  Thus, means\
    \ of preventing\n   source address spoofing must be in place.  For example, if\
    \ eligible\n   peers are in the same network, source address filtering at the\
    \ border\n   routers of that network could eliminate the possibility of source\n\
    \   address spoofing.\n   S-PEs that connect one provider domain to another provider\
    \ domain\n   MUST have the capability to rate-limit signaling traffic in order\
    \ to\n   prevent DoS attacks on the control plane.  Furthermore, detection and\n\
    \   disposition of malformed packets and defense against various forms of\n  \
    \ attacks that can be protocol-specific MUST be provided.\n"
- title: 7.2.  Intra-Provider MS-PWs
  contents:
  - "7.2.  Intra-Provider MS-PWs\n   Security requirements for pseudowires are provided\
    \ in [RFC3916].\n   These requirements also apply to MS-PWs.\n   MS-PWs are intended\
    \ to enable many more PEs to provide PWE3 services\n   in a given service provider\
    \ network than traditional SS-PWs,\n   particularly in access and metro environments\
    \ where the PE may be\n   situated closer to the ultimate endpoint of the service.\
    \  In order to\n   limit the impact of a compromise of one T-PE in a service provider\n\
    \   network, the data path security requirements for inter-provider\n   MS-PWs\
    \ also apply to intra-provider MS-PWs in such cases.\n"
- title: 8.  Acknowledgments
  contents:
  - "8.  Acknowledgments\n   The editors gratefully acknowledge the following contributors:\n\
    \   Dimitri Papadimitriou (Alcatel-Lucent), Peter Busschbach\n   (Alcatel-Lucent),\
    \ Sasha Vainshtein (Axerra), Richard Spencer (British\n   Telecom), Simon Delord\
    \ (France Telecom), Deborah Brungard (AT&T),\n   David McDysan (Verizon), Rahul\
    \ Aggarwal (Juniper), Du Ke (ZTE),\n   Cagatay Buyukkoc (ZTE), and Stewart Bryant\
    \ (Cisco).\n"
- title: 9.  References
  contents:
  - '9.  References

    '
- title: 9.1.  Normative References
  contents:
  - "9.1.  Normative References\n   [RFC2119]  Bradner, S., \"Key words for use in\
    \ RFCs to Indicate\n              Requirement Levels\", BCP 14, RFC 2119, March\
    \ 1997.\n   [RFC3916]  Xiao, X., Ed., McPherson, D., Ed., and P. Pate, Ed.,\n\
    \              \"Requirements for Pseudo-Wire Emulation Edge-to-Edge\n       \
    \       (PWE3)\", RFC 3916, September 2004.\n   [RFC3985]  Bryant, S., Ed., and\
    \ P. Pate, Ed., \"Pseudo Wire Emulation\n              Edge-to-Edge (PWE3) Architecture\"\
    , RFC 3985, March 2005.\n"
- title: 9.2.  Informative References
  contents:
  - "9.2.  Informative References\n   [i610]     Recommendation I.610 \"B-ISDN operation\
    \ and maintenance\n              principles and functions\", February 1999.\n\
    \   [RFC5085]  Nadeau, T., Ed., and C. Pignataro, Ed., \"Pseudowire\n        \
    \      Virtual Circuit Connectivity Verification (VCCV): A\n              Control\
    \ Channel for Pseudowires\", RFC 5085, December 2007.\n   [RFC4447]  Martini,\
    \ L., Ed., Rosen, E., El-Aawar, N., Smith, T., and\n              G. Heron, \"\
    Pseudowire Setup and Maintenance Using the\n              Label Distribution Protocol\
    \ (LDP)\", RFC 4447, April 2006.\n   [RFC4111]  Fang, L., Ed., \"Security Framework\
    \ for Provider-\n              Provisioned Virtual Private Networks (PPVPNs)\"\
    , RFC 4111,\n              July 2005.\n   [PWE3-OAM] Nadeau, T., Ed., Morrow,\
    \ M., Ed., Busschbach, P., Ed.,\n              Alissaoui, M.,Ed., D. Allen, Ed.,\
    \ \"Pseudo Wire (PW) OAM\n              Message Mapping\", Work in Progress, March\
    \ 2005.\n   [RFC2914]  Floyd, S., \"Congestion Control Principles\", BCP 41, RFC\n\
    \              2914, September 2000.\n   [RFC4364]  Rosen, E. and Y. Rekhter,\
    \ \"BGP/MPLS IP Virtual Private\n              Networks (VPNs)\", RFC 4364, February\
    \ 2006.\n   [RFC4107]  Bellovin, S. and R. Housley, \"Guidelines for Cryptographic\n\
    \              Key Management\", BCP 107, RFC 4107, June 2005.\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Nabil Bitar\n   Verizon\n   117 West Street\n   Waltham,\
    \ MA 02145\n   EMail: nabil.n.bitar@verizon.com\n   Matthew Bocci\n   Alcatel-Lucent\
    \ Telecom Ltd,\n   Voyager Place\n   Shoppenhangers Road\n   Maidenhead\n   Berks,\
    \ UK\n   EMail: matthew.bocci@alcatel-lucent.co.uk\n   Luca Martini\n   Cisco\
    \ Systems, Inc.\n   9155 East Nichols Avenue, Suite 400\n   Englewood, CO, 80112\n\
    \   EMail: lmartini@cisco.com\n"
- title: Full Copyright Statement
  contents:
  - "Full Copyright Statement\n   Copyright (C) The IETF Trust (2008).\n   This document\
    \ is subject to the rights, licenses and restrictions\n   contained in BCP 78,\
    \ and except as set forth therein, the authors\n   retain all their rights.\n\
    \   This document and the information contained herein are provided on an\n  \
    \ \"AS IS\" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS\n  \
    \ OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST AND\n   THE\
    \ INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS\n   OR IMPLIED,\
    \ INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF\n   THE INFORMATION\
    \ HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED\n   WARRANTIES OF MERCHANTABILITY\
    \ OR FITNESS FOR A PARTICULAR PURPOSE.\n"
- title: Intellectual Property
  contents:
  - "Intellectual Property\n   The IETF takes no position regarding the validity or\
    \ scope of any\n   Intellectual Property Rights or other rights that might be\
    \ claimed to\n   pertain to the implementation or use of the technology described\
    \ in\n   this document or the extent to which any license under such rights\n\
    \   might or might not be available; nor does it represent that it has\n   made\
    \ any independent effort to identify any such rights.  Information\n   on the\
    \ procedures with respect to rights in RFC documents can be\n   found in BCP 78\
    \ and BCP 79.\n   Copies of IPR disclosures made to the IETF Secretariat and any\n\
    \   assurances of licenses to be made available, or the result of an\n   attempt\
    \ made to obtain a general license or permission for the use of\n   such proprietary\
    \ rights by implementers or users of this\n   specification can be obtained from\
    \ the IETF on-line IPR repository at\n   http://www.ietf.org/ipr.\n   The IETF\
    \ invites any interested party to bring to its attention any\n   copyrights, patents\
    \ or patent applications, or other proprietary\n   rights that may cover technology\
    \ that may be required to implement\n   this standard.  Please address the information\
    \ to the IETF at\n   ietf-ipr@ietf.org.\n"
