AN ARPA NETWORK MINI HOST.
PROCESSING FACILITIES IN TERMS OF USER PROGRAMS, SEVERAL COMPILERS, AN EDITOR BASED ON QED,
A  VERSATILE  DOCUMENT PREPARATION  SYSTEM,  AND  AN EFFICIENT FILE SYSTEM
FEATURING SOPHISTICATED ACCESS CONTROL, MOUNTABLE AND DE MOUNTABLE VOLUMES, AND A UNIFIED TREATMENT OF PERIPHERALS AS SPECIAL FILES.
THE NETWORK CONTROL PROGRAM (NCP), IS  INTEGRATED
WITHIN THE UNIX FILE SYSTEM.
NETWORK CONNECTIONS ARE TREATED AS SPECIAL FILES
WHICH CAN BE ACCESSED THROUGH STANDARD
SPECIAL FILES HAVE DIRECTORY ENTRIES SIMILAR TO NORMAL FILES
IN UNIX, SPECIAL FILES SIGNIFY PERIPHERAL DEVICES.
MAGTAPE ZERO WOULD BE ACCOMPLISHED BY ACCESSING THE SPECIAL FILE, "/DEV/MT0".
FOR THE UNIX NETWORK SYSTEM,  ADDITIONAL  SPECIAL FILES
WERE CREATED EACH OF WHICH
A HOST ON THE  ARPA  NETWORK.
THE PDP 10 AT HARVARD.
THIS SIMPLE ACCESS MECHANISM, THROUGH THE FILING SYSTEM, ALLOWS STANDARD ARPA PROTOCOLS
TELNET  AND  FTP  TO  BE
IMPLEMENTED AS SWAPPABLE USER PROGRAMS, RESIDENT
FURTHERMORE, A USER MAY WRITE HIS OWN
PROGRAMS TO COMMUNICATE WITH THESE SPECIAL FILES
JUST AS THE TELNET PROGRAM DOES.
THE SAMPLE PROGRAM  FOUND BELOW  DEPICTS
THE ESSENTIALS OF NETWORKING FROM UNIX.
THE  BASIC PROPERTIES OF UNIX
O, THE READ, WRITE, OPEN, AND CLOSE FUNCTION CALLS ARE SUMMARIZED BELOW.
EACH CALL MAY RESULT IN AN ERROR CODE OF MINUS ONE.
4a TO MANIPULATE AN EXISTING FILE WITH READS OR
WRITES,  IT MUST FIRST BE OPENED WITH THE FOLLOWING CALL:
"ANYFILENAME" IS THE ARBITRARY NAME OF THE FILE TO BE OPENED.
THE SECOND PARAMETER INDICATES WHETHER THE FILE IS TO BE READ,  WRITTEN, OR UPDATED.
THE RETURNED VALUE "FILEDES", IS CALLED A FILE DESCRIPTOR.
IT IS AN INTEGER USED TO
THE FILE IN SUBSEQUENT CALLS TO READ AND WRITE.
A FILE HAS BEEN OPENED, THE FOLLOWING CALLS
READ( FILEDES,BUFFER,COUNT ); NBYTES   WRITE( FILEDES,BUFFER,COUNT );
4d1 COUNT IS THE NUMBER OF BYTES TO
REPRESENTED BY 'FILEDES' AND THE BYTE ARRAY REPRESENTED BY 'BUFFER'.
FOR THE READ  CALL,  'NBYTES' MAY BE ZERO TO INDICATE THE END OF FILE; IN EITHER CASE, MINUS ONE WILL BE RETURNED IF THERE WAS AN ERROR.
4e FOR EACH OPEN FILE, THE SYSTEM MAINTAINS A POINTER TO THE NEXT BYTE TO BE READ OR WRITTEN.
IF N BYTES ARE TRANSMITTED, THE POINTER  ADVANCES
DATA WRITTEN TO A FILE
ONLY THOSE BYTES IN THE FILE WHICH ARE INDICATED BY
THE  POSITION  OF THE  WRITE  POINTER
; NO OTHER PART OF THE FILE IS CHANGED.
THE SYSTEM POINTER INDICATES THAT
THE END OF THE FILE
, THE FILE IS ENLARGED AS NEEDED.
THE  USER HAS FINISHED PROCESSING A FILE, IT SHOULD BE CLOSED.
THIS IS AFFECTED WITH THE FOLLOWING CALL:
IT IS NOT ABSOLUTELY NECESSARY
TO DO A  SPECIFIC CLOSE ON A FILE
WHEN FINISHED, (THE SYSTEM CLOSES
ALL FILES WHEN A PROGRAM EXITS)
, IT IS A GOOD PRACTICE, SINCE THE  USER  IS ALLOWED ONLY SIXTEEN OPEN FILES.
THERE ARE SEVERAL ADDITIONAL SYSTEM CALLS RELATED TO
O WHICH WILL NOT BE DISCUSSED IN DETAIL.
A FEW OF THE MORE NOTABLE ONES ALLOW THE USER
: GET THE STATUS OF A FILE, CHANGE THE PROTECTION
OR OWNERSHIP OF A FILE, CREATE A FILE, CREATE A DIRECTORY,
MAKE A LINK TO AN EXISTING FILE,  AND  DELETE
THE READER IS DIRECTED TO THE UNIX PROGRAMMER'S MANUAL, FIFTH  EDITION,  K. THOMPSON, AND D. M. RITCHIE, JUNE 1974.
4i THE USER COMMUNICATES WITH THE  NETWORK
FOR EXAMPLE, IF ONE WISHED TO CONNECT TO THE THE PDP 10
, THE FOLLOWING SEQUENCE OF CALLS MIGHT BE USED.
4j FILEDES   OPEN( "/DEV/NET/HARV",2 ); IF( FILEDES < 0 ) PRINTF(" HARVARD IS DEAD"); ELSE WHILE( (NBYTES READ(FILEDES,BUF,80))
THE OPEN INSTRUCTS THE SYSTEM TO OPEN
A TELNET CONNECTION TO HARVARD,
ONE IS RETURNED, THE PROGRAM PRINTS A MESSAGE AND EXITS,  OTHERWISE
THE PROGRAM WILL READ ANY BYTES SENT BY HARVARD AND PRINT THEM OUT ON THE CONTROLLING TELETYPE.
WHEN THE CONNECTION IS CLOSED).
IN ORDER TO COMMUNICATE WITH REMOTE
THE  ARPA NETWORK,  ONE  FIRST
THE USER THEN RUNS A PROGRAM, TELNET, WHICH AFTER ANNOUNCING ITSELF LEAVES HIM WITH SEVERAL OPTIONS.
MAY CONTINUE WITH HIS  NORMAL
WHEN TELNET SEES  A  UNIX  COMMAND, IT WILL INITIATE THE REQUEST AS A PARALLEL TASK, IN THE SAME MANNER
SINCE THIS MAY BE DONE REGARDLESS OF WHETHER OR NOT
A NETWORK CONNECTION IS OPEN,
THE USER MAY SIMULTANEOUSLY RECEIVE OUTPUT  FROM A FOREIGN HOST'S SERVER TELNET AND CONVERSE WITH THE LOCAL UNIX SYSTEM.
WHEN  THE  TELNET USER OPENS A CONNECTION, TELNET ACCEPTS THE HOST NAME AND ANY SPECIAL PARAMETERS, AND DOES AN OPEN ON THE SPECIAL
WHEN CONTROL IS RETURNED, THE CONNECTION IS OPEN.
ANY FURTHER DATA RECEIVED FROM THE  TERMINAL
ANY DATA RECEIVED IN RESPONSE TO A READ ON THE NETWORK FILE, IS WRITTEN ON THE USER'S TYPEWRITER.
THE USER SIMPLY MAKES THIS KNOWN TO TELNET
VIA A COMMAND, AND TELNET DOES A STANDARD CLOSE
THE NETWORK CONNECTION IS LEFT TO THE SYSTEM, FREEING THE USER FOR  OTHER  COMPUTATIONAL WORK.
5d THERE IS SOME CHARACTER TRANSLATION AND INVISIBLE CONTROL INFORMATION
BACK  AND FORTH BETWEEN THE FOREIGN HOST AND THE TELNET PROCESS.
THIS INVOLVES RECOGNITION OF TELNET
IACS  AND THE  TRANSLATION OF CARRIAGE RETURN(CR) AND LINE FEED(LF)
ALL DATA RECEIVED  FROM  THE  NETWORK,  AND  THE  INVERSE TRANSLATION OF LF TO CR LF ON ALL DATA SENT TO THE NETWORK.
6 DUE  TO THE STRUCTURE OF BOTH THE IMP TO HOST[2] AND HOST TO HOST[3]
NETWORK PROTOCOLS, DATA COMES FROM
ONE  OF MANY ACTIVE PROCESSES,
BUT FOR THE INFORMATION OF THE LOCAL HOST AS A WHOLE.
A  HOST TO HOST RESET, WHICH
GENERALLY SIGNALS THAT A FOREIGN HOST HAS COME "ALIVE
" MUST BE ACKNOWLEDGED TO  LET THAT HOST KNOW THAT THE LOCAL HOST ITSELF IS "ALIVE".
THEREFORE, THE LOCAL HOST MUST MONITOR DATA
COMING FROM THE NET TO  PERFORM
ONLY A MESSAGE SWITCHING FUNCTION, WHICH IS THE BULK OF NETWORK TRAFFIC, BUT TO PROVIDE A CONTROL AND STATUS FUNCTION.
6a FURTHER,  WHEN  A  PERSON
ASSOCIATED WITH THE LOCAL HOST WISHES TO CARRY ON
A CONVERSATION WITH A NETWORK SERVER
MUST  BE USED TO PROVIDE A LOGICAL PORT
AT EACH SITE FOR SUCCEEDING INFORMATION FLOW.
SYSTEMS HAS SHOWN THAT THE ABOVE CLASSES OF  NETWORK
EVENTS  ARE RELATIVELY  INFREQUENT, AND THAT MOST NETWORK TRAFFIC IS IN TERMS OF USER DATA FLOW AND
THE ASSOCIATED FLOW CONTROL( HOST  TO  HOST ALLOCATES  AND  IMP TO HOST RFNMS).
IT IS ALSO THE CASE THAT THE SOFTWARE REQUIRED TO IMPLEMENT
THE STATUS AND CONTROL FUNCTION IS THE BULKIEST PART OF AN NCP.
A LARGE KERNEL REDUCES THE MEMORY AVAILABLE FOR USER PROGRAMS.
THUS IT IS  DESIRABLE  TO
ADDED TO THE BASIC UNIX KERNEL FOR THE NCP.
FOR THIS REASON, THE NCP IS IMPLEMENTED IN TWO PARTS.
ONE PART IS ROOTED  IN
AND  MAKES UP THE NON SWAPPABLE SECTION, ABOUT 3.5K WORDS OF CORE.
THE OTHER SECTION (CALLED THE NCP DAEMON)
TO OPEN AND CLOSE CONNECTIONS AND HANDLES THE STATUS TRAFFIC DESCRIBED ABOVE.
THE NCP DAEMON RUNS AS
A SWAPPABLE USER PROCESS OF ABOUT 8.5K WORDS IN SIZE, AND COMMUNICATES WITH THE KERNEL VIA A SPECIAL FILE.
A PDP 11/50,  WITH MEMORY MANAGEMENT, TWO RK05 DISK PACKS, TWO NINE TRACK MAGTAPE DRIVES, FOUR DECTAPE DRIVES, 32K WORDS OF CORE, AND THREE TERMINALS.
THIS HAS BEEN EXPANDED TO ENCOMPASS A DH11 TERMINAL MULTIPLEXOR, AN  RP03
HEAD DISK, FLOATING POINT, AND 48K OF CORE.
USER FILES ARE STORED ON THE RP03.
A  SWAP DISK  AND  FOR  TEMPORARY FILE STORAGE;
ONE RK05 PLATTER CONTAINS THE SYSTEM FILES, AND THE SECOND CONTAINS
IN THE NEAR FUTURE, THE SYSTEM WILL BE EXPANDED TO 128K WORDS OF CORE MEMORY WITH 10 DIAL IN AND 10 HARD WIRED TERMINAL LINES.
OCCUPIES 24.5K WORDS OF MEMORY.
THIS SYSTEM INCLUDES A LARGE NUMBER OF DEVICE DRIVERS, AND ENJOYS A GENEROUS AMOUNT OF SPACE
FOR I/O BUFFERS AND SYSTEM TABLES.
REQUIRE 40K WORDS OF HARDWARE MEMORY.
IT SHOULD BE NOTED THAT UNIX
THE  MEMORY  MANAGEMENT OPTION OFFERED BY DEC TO RUN AT ALL.
THE BASE OPERATING SYSTEM WAS DEVELOPED BY  BELL
THE BELL INSTALLATION SUPPORTS A HIGH SPEED PAPER TAPE READER PUNCH,  NINE TRACK  MAGNETIC TAPE, AND  DECTAPE.
, THERE ARE 14 VARIABLE SPEED COMMUNICATION DATASETS, AND A 201  SERIES  DATASET FOR SPOOLING PRINTOUT TO A COMMUNAL LINE PRINTER.
THERE ARE ALSO SEVERAL ONE OF A KIND DEVICES INCLUDING A VOICE RESPONSE UNIT,  A VOICE  SYNTHESIZER,
WRITING, NETWORK UNIX HAS BEEN RUNNING ON A FULL TIME
BASIS FOR ABOUT FOUR WEEKS.
DURING THAT PERIOD,  THERE WERE BETWEEN  THREE AND FOUR CRASHES A DAY.
THIS IS NOT A VALID INDICATOR BECAUSE MANY OF THE FAILURES WERE DUE TO HARDWARE COMPLICATIONS.
THE HARDWARE HAS BEEN RE CONFIGURED
THE CRASH RATE HAS BEEN REDUCED TO ONE
A DAY  WITH A DOWN TIME OF 2
THIS IS EXPECTED TO CONTINUE, BUT THE SAMPLING PERIOD HASNT BEEN LONG ENOUGH FOR ANY DEPENDABLE ANALYSIS.
THE UNIX NETWORK SOFTWARE WAS DEVELOPED WITHOUT ARPA SUPPORT, THE CENTER FOR ADVANCED COMPUTATION IS  WILLING  TO PROVIDE IT GRATIS TO THE PEOPLE OF THE ARPA COMMUNITY.
9a HOWEVER BELL LABORATORIES MUST BE CONTACTED  FOR  A  LISCENSE  TO THE BASE SYSTEM ITSELF.
BELL'S POLICY IN THE PAST HAS BEEN TO LISCENSE THE SYSTEM TO UNIVERSITIES FOR  A
FOR  A  COST OF $20,000.00 TO "NONUNIVERSITY" INSTITUTIONS.
9b IN THIS LIGHT BELL
WAS APPROACHED TO SEE WHAT THEIR REACTION WOULD BE TO AN ARPA NETWORK WIDE LISCENSE,
THEY WERE OPEN  TO SUGGESTIONS IN THAT AREA.
SO SHOULD ENOUGH PEOPLE BECOME INTERESTED,
PERHAPS A LESS EXPENSIVE FEE CAN BE NEGOTIATED.
9d THE RAND CORPORATION WHICH IS USING OUR IMPLEMENTATION
A BASIS FOR THEIR OWN VERSION.
USED AS AN AID IN EVALUATION OF THE UNIX SYSTEM.
LISTING  TO HELP IN THE INSTALLATION OF AN NCP INTO DEC'S RSTS OPERATING SYSTEM.
WE  ARE WILLING TO HELP ANY GROUP WITH ACQUISITION OF A SYSTEM.
333 8469 OR HOLMGREN AT BBN OUTLOOK AND FUTURE
THE  ADVENT OF TELNET IN UNIX
, CURRENT PLANS ARE TO RUN THE SYSTEM OVER THE NEXT ONE
OR TWO MONTHS AND WORK
THIS IS GOING ON, EXTENSIVE BANDWITH AND LOAD
AFTER TELNET HAS PROVED ITSELF RELIABLE, THE OPEN  SYSTEM CALL WILL BE EXPANDED TO INCLUDE FURTHER PARAMETERIZATION.
THIS PARAMETERIZATION WILL ENCOMPASS CONNECTIONS TO SPECIFIC
A SOCKET ALREADY IN USE, AND THE ABILITY TO LISTEN ON A LOCAL SOCKET.
EXTENSIONS,  NET MAIL, THEN NETWORK FTP AND FINALLY NETWORK RJE WILL BE IMPLEMENTED.
SO THE KERNEL SYSTEM SIZE WILL NOT INCREASE.
THERE IS ALSO INTEREST IN IMPLEMENTING SOME OF  THE
BEING  DEVELOPED BY THE NATIONAL SOFTWARE
NO DEFINATE PLAN HAVE BEEN MADE.
I AM MUCH INDEBTED TO GARY GROSSMAN
WHO  PARTICIPATED  IN THE DESIGN  AND WROTE THE NCP DAEMON; AND TO STEVE BUNCH
THE THREE OF US ARE PARTICULARLY APPRECIATIVE OF THE CRITICISM AND  SUPPORT  OF  DR.
PETER ALSBERG, GREG CHESSON, JOHN MULLEN, KARL KELLEY AND DAVE HEALY.
SPECIFICATIONS FOR THE INTERCONNECTION OF A HOST TO AN IMP REPORT
1822 BOLT BERANEK AND NEWMAN INC.
OFFICIAL INITIAL CONNECIION PROTOCOL DOCUMENT #2 J. POSTEL,  UCLA NMC NIC DOCUMENT 7101
I USER'S GUIDE KARL KELLEY CENTER FOR ADVANCED COMPUTATION
ANTS MARK TWO SYSTEM KARL KELLEY CENTER FOR ADVANCED COMPUTATION
