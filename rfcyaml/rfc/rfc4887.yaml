- title: __initial_text__
  contents:
  - '                  Network Mobility Home Network Models

    '
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This memo provides information for the Internet community.\
    \  It does\n   not specify an Internet standard of any kind.  Distribution of\
    \ this\n   memo is unlimited.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (C) The IETF Trust (2007).\n"
- title: Abstract
  contents:
  - "Abstract\n   This paper documents some of the usage patterns and the associated\n\
    \   issues when deploying a Home Network for Network Mobility (NEMO)-\n   enabled\
    \ Mobile Routers, conforming to the NEMO Basic Support.  The\n   aim here is specifically\
    \ to provide some examples of organization of\n   the Home Network, as they were\
    \ discussed in NEMO-related mailing\n   lists.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1.  Introduction . . . . . . . . . . . . . . . . . . .\
    \ . . . . . .  3\n   2.  Terminology and Concepts . . . . . . . . . . . . . .\
    \ . . . . .  4\n   3.  General Expectations . . . . . . . . . . . . . . . . .\
    \ . . . .  4\n   4.  MIP Home Network . . . . . . . . . . . . . . . . . . . .\
    \ . . .  5\n   5.  NEMO Extended Home Network . . . . . . . . . . . . . . . .\
    \ . .  5\n     5.1.  Configuration  . . . . . . . . . . . . . . . . . . . . .\
    \ .  5\n     5.2.  Returning Home . . . . . . . . . . . . . . . . . . . . . .\
    \  6\n     5.3.  Home Address from MNP  . . . . . . . . . . . . . . . . . .  7\n\
    \     5.4.  Deployment Caveats . . . . . . . . . . . . . . . . . . . .  8\n  \
    \     5.4.1.  Mobile Router Side . . . . . . . . . . . . . . . . . .  8\n    \
    \ 5.5.  Applicability  . . . . . . . . . . . . . . . . . . . . . .  8\n   6. \
    \ NEMO Aggregated Home Network . . . . . . . . . . . . . . . . .  8\n     6.1.\
    \  Configuration  . . . . . . . . . . . . . . . . . . . . . .  8\n     6.2.  Returning\
    \ Home . . . . . . . . . . . . . . . . . . . . . .  9\n       6.2.1.  Returning\
    \ Home with the Egress Interface . . . . . . . 10\n       6.2.2.  Returning Home\
    \ with the Ingress Interface  . . . . . . 10\n     6.3.  Applicability  . . .\
    \ . . . . . . . . . . . . . . . . . . . 11\n     6.4.  Deployment Caveats . .\
    \ . . . . . . . . . . . . . . . . . . 11\n       6.4.1.  Home Agent Side  . .\
    \ . . . . . . . . . . . . . . . . . 11\n       6.4.2.  Mobile Router Side . .\
    \ . . . . . . . . . . . . . . . . 11\n   7.  NEMO Virtual Home Network  . . .\
    \ . . . . . . . . . . . . . . . 12\n     7.1.  Configuration  . . . . . . . .\
    \ . . . . . . . . . . . . . . 12\n     7.2.  Applicability  . . . . . . . . .\
    \ . . . . . . . . . . . . . 14\n   8.  NEMO Mobile Home Network . . . . . . .\
    \ . . . . . . . . . . . . 14\n     8.1.  Configuration  . . . . . . . . . . .\
    \ . . . . . . . . . . . 14\n     8.2.  Applicability  . . . . . . . . . . . .\
    \ . . . . . . . . . . 17\n   9.  Security Considerations  . . . . . . . . . .\
    \ . . . . . . . . . 17\n   10. Acknowledgements . . . . . . . . . . . . . . .\
    \ . . . . . . . . 17\n   11. References . . . . . . . . . . . . . . . . . . .\
    \ . . . . . . . 17\n     11.1. Normative References . . . . . . . . . . . . .\
    \ . . . . . . 17\n     11.2. Informative References . . . . . . . . . . . . .\
    \ . . . . . 18\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   This document assumes that the reader is familiar with IPv6\
    \ Mobility\n   as defined by Mobile IPv6 and the Network Mobility (NEMO) Basic\n\
    \   Support.  In order to read this document properly, it is important to\n  \
    \ realize that in NEMO, the Home Network can encompass much more than\n   the\
    \ Home Link, as it spans the Home Link and all the Links that the\n   Mobile Routers\
    \ (MRs) carry with them.  Exactly how the two concepts\n   relate in a given deployment\
    \ depends on the organization of the Home\n   Network, as described below.\n \
    \  Five different organizations of the Home Network including a\n   hierarchical\
    \ construction are documented:\n   MIPv6 Home Network:  A short reminder of what\
    \ the Home Network is\n      with Mobile IP, in order to help the reader figure\
    \ out the\n      evolution toward NEMO.\n   NEMO Extended Home Network:  In this\
    \ arrangement, the Home Network is\n      only one subnet of a larger aggregation\
    \ that encompasses the\n      Mobile Networks, called Extended Home Network. \
    \ When at home, a\n      Mobile Router performs normal routing between the Home\
    \ Link and\n      the Mobile Networks.  More in Section 5.\n   NEMO Aggregated\
    \ Home Network:  In this arrangement, the Home Network\n      actually overlaps\
    \ with the Mobile Networks.  When at home, a\n      Mobile Router acts as a bridge\
    \ between the Home Link and the\n      Mobile Networks.  More in Section 6.\n\
    \   Virtual Home Network:  In this arrangement, there is no physical Home\n  \
    \    Link at all for the Mobile Routers to come back home to.  More in\n     \
    \ Section 7.\n   NEMO Mobile Home Network:  In this arrangement, there is a bitwise\n\
    \      hierarchy of Home Networks.  A global Home Network is advertised\n    \
    \  to the infrastructure by a head Home Agent (HA) and further\n      subnetted\
    \ into Mobile Networks.  Each subnet is owned by a Mobile\n      Router that registers\
    \ it in a NEMO fashion while acting as a Home\n      Agent for that network. \
    \ More in Section 8.\n   In all cases, the Home Agents collectively advertise\
    \ only the\n   aggregation of the Mobile Networks.  The subnetting is kept within\n\
    \   the Home Agents and the Mobile Routers, as opposed to advertised by\n   means\
    \ of routing protocols to other parties.\n   The examples provided here aim at\
    \ illustrating the NEMO Basic Support\n   [5] but do not aim at limiting its scope\
    \ of application; additional\n   cases may be added in the future.\n"
- title: 2.  Terminology and Concepts
  contents:
  - "2.  Terminology and Concepts\n   The key words MUST, MUST NOT, REQUIRED, SHALL,\
    \ SHALL NOT, SHOULD,\n   SHOULD NOT, RECOMMENDED, MAY, and OPTIONAL in this document\
    \ are to be\n   interpreted as described in RFC 2119 [2].\n   Most of the mobility-related\
    \ terms used in this document are defined\n   in the Mobility Related Terminology\
    \ document [3] and in the Mobile\n   IPv6 (MIP6) specification [4].\n   In addition,\
    \ some terms were created or extended for NEMO.  These\n   specific terms are\
    \ defined in the Mobile Network Terminology document\n   [6]:\n      Home Link\n\
    \      Home Network\n      Home Address\n      MRHA Tunnel\n      Mobile Aggregated\
    \ Prefix\n      Aggregated Home Network\n      Extended Home Network\n      Virtual\
    \ Home Network\n      Mobile Home Network\n"
- title: 3.  General Expectations
  contents:
  - "3.  General Expectations\n   With Mobile IPv6, the Home Network is generally\
    \ a physical network\n   interconnecting the Home Agents and the Mobile Nodes\
    \ that are at\n   home.  NEMO extends the concept of home so that it is not only\
    \ a flat\n   subnet composed of Home Addresses but an aggregation that is itself\n\
    \   subnetted in Mobile and Home Networks.  This aggregation is still\n   referred\
    \ to as home.\n   As an example, consider the case where the aggregation has a\
    \ global\n   routing prefix of m = 48 bits (A:B:C::/48), with a subnet ID size\
    \ of\n   n = 16 bits (n + m = 64):\n   When a Mobile Router, MR1, uses the Mobile\
    \ Network Prefix (MNP) A:B:\n   C:1::/64 with the NEMO Basic Support, MR1 may\
    \ register using a Home\n   Address from the Home network (i.e., A:B:C:0::1) or\
    \ a Home Address\n   from one of its MNPs (i.e., A:B:C:1::1) depending on the\
    \ deployment.\n   In a given deployment, one subnet may be reserved for the Home\
    \ Link\n   (A:B:C:0::/64) while the others are attributed to Mobile Routers as\n\
    \   Mobile Networks (as A:B:C:1::/64 for MR1).  Another approach could be\n  \
    \ to configure the aggregation of Mobile Networks as the subnet on the\n   Home\
    \ Link, and let the Mobile Routers manage the overlapping\n   networks.  Finally,\
    \ the aggregation could be configured on a virtual\n   network, with no physical\
    \ Home Link at all, in which case home means\n   topologically and administratively\
    \ close to the Home Agent that\n   advertises the virtual network.\n   The following\
    \ sections provide additional information on these forms\n   of Home Network.\n"
- title: 4.  MIP Home Network
  contents:
  - "4.  MIP Home Network\n   In the Mobile IPv6 (MIP6) specification [4], Mobile\
    \ Nodes are at home\n   when they are connected to their Home Link, where they\
    \ recognize\n   their Home Prefix in Router Advertisement messages.  Also, a binding\n\
    \   is checked using Duplicate Address Detection (DAD) on the Home Link,\n   and\
    \ Home Agents discover each other by means of Neighbor Discovery\n   (ND) extensions\
    \ over that link.\n   The Home Prefix that is advertized on the Home Link is a\
    \ final\n   prefix, as opposed to an aggregation, and it may be used by hosts\
    \ on\n   the Home Link for autoconfiguration purposes.\n   As we see, the concept\
    \ of a Home Network for Mobile IPv6 is really a\n   prefix on a link, served by\
    \ one or more Home Agents as opposed to a\n   routed mesh.  We will see in the\
    \ next sections that NEMO needs\n   additional prefixes for use by the Mobile\
    \ Networks.  For that reason,\n   NEMO extends the concept of Home Network into\
    \ a more complex,\n   aggregated structure.\n"
- title: 5.  NEMO Extended Home Network
  contents:
  - '5.  NEMO Extended Home Network

    '
- title: 5.1.  Configuration
  contents:
  - "5.1.  Configuration\n   One simple way of extending the MIP Home Network is to\
    \ use additional\n   prefixes, contiguous to the Home Link Prefix inherited from\
    \ MIPv6, as\n   Mobile Network Prefixes.  As this model trivially extends the\
    \ MIP\n   Home Network, the resulting aggregation is called a NEMO Extended\n\
    \   Home Network.  It is depicted in Figure 1.\n                        |\n  \
    \            route     v  /48                        A:B:C::/48\n            \
    \            HA\n                        | /64         Home Link: A:B:C:0::/64\n\
    \             --+-----+--+- . -+- . -+--\n               |     |        |    \
    \ |\n               MR1   MR2      MRi   MRN\n               |     |        |\
    \     |\n            ------  ------  ------ ------\n              /64   /64  \
    \    /64   /64   MNP:  A:B:C:i::/64\n                             Extended Home\
    \ Network\n           <----------------------------------------------------------->\n\
    \             Home Net      Mobile Net    Mobile Net   ...   Mobile Net\n    \
    \       <------------><------------><------------> ... <------------>\n      \
    \                Figure 1: Extended Home Network\n   In that arrangement:\n  \
    \ o  There is one physical Home Network and multiple Mobile Networks\n   o  The\
    \ Home Prefix and the MNPs are tailored to allow for IPv6\n      Stateless Address\
    \ Autoconfiguration with typical interface\n      identifier length for the type\
    \ of interface (for example, can be\n      /64).\n   o  The prefix length of the\
    \ Extended Home Network is shorter than\n      that of the Home Network and the\
    \ MNPs, since it is an aggregation\n      (for example, can be /48).\n   o  Since\
    \ the Extended Home Network operations inherit trivially from\n      MIPv6, it\
    \ can be seen as natural that the Mobile Routers be\n      assigned their Home\
    \ Addresses from the prefix on the Home Link.\n      In that case, a Home Agent\
    \ can perform DAD on the Home Link as\n      prescribed by Mobile IPv6 for the\
    \ Mobile Router Home Addresses\n      (MRHAs).\n"
- title: 5.2.  Returning Home
  contents:
  - "5.2.  Returning Home\n   In the Extended Home Network model, the Home Network\
    \ is configured on\n   a physical interface of the Home Agent, the Home Link.\n\
    \   A Mobile Router returns home by connecting directly to the Home Link,\n  \
    \ and dropping the MRHA tunnel.\n   When at home, the Mobile Router ensures the\
    \ connectivity of the\n   Mobile Network using standard router operations.\n \
    \  In implicit mode, the Home Agent has the necessary information to\n   continue\
    \ routing to the MNPs in the absence of registration, assuming\n   that the Mobile\
    \ Router is at home, and the participation of the\n   Mobile Router to the home\
    \ Interior Gateway Protocol (IGP) is not\n   required.\n   But in explicit mode,\
    \ or if the Mobile Router uses an IGP over the\n   MRHA tunnel, then it needs\
    \ to resume its IGP operations on the Home\n   Link in order to advertise its\
    \ Mobile Networks to the HA, unless some\n   other means such as static routes\
    \ are deployed to cover the case.\n   Alternative procedures for ensuring the\
    \ connectivity of the Mobile\n   Networks when at home are described in Section\
    \ 7.\n"
- title: 5.3.  Home Address from MNP
  contents:
  - "5.3.  Home Address from MNP\n   We saw that a natural extension of the MIP procedure\
    \ is to derive the\n   Home Address of a Mobile Router from the prefix on the\
    \ Home Link.\n   Alternatively, NEMO basic support allows that a Mobile Router\
    \ forms\n   its Home Address from one of its Mobile Network Prefixes.\n   In that\
    \ case, the Home Address does not match the Home Link Prefix,\n   and there is\
    \ a need to configure the Home Agent in a specific mode\n   with the support for\
    \ the Extended Home Network and the range of the\n   Mobile Network Prefixes.\
    \  Based on that new configuration, the Home\n   Agent can accept a Home Address\
    \ that is not from the Home Link, and\n   it will know that it should not perform\
    \ any DAD.\n   Also, if the Mobile Router uses a Home Address that is derived\
    \ from\n   its MNP, some specific support is required on the Mobile Router as\n\
    \   well.  In order to determine that it is at home, the Mobile Router\n   recognizes\
    \ the well-known prefix of its Home Agent as opposed to\n   matching the prefix\
    \ on the Home Link with that of its Home Address.\n   When connecting to the Home\
    \ Link, the Mobile Router also need to\n   autoconfigure an address on the Egress\
    \ interface as opposed to\n   assigning its home Address to the interface.\n \
    \  For all these reasons, this submode of Extended Home Network is not a\n   trivial\
    \ extension of the MIPv6 Home Model, and it might not be\n   compatible with all\
    \ implementations.\n"
- title: 5.4.  Deployment Caveats
  contents:
  - '5.4.  Deployment Caveats

    '
- title: 5.4.1.  Mobile Router Side
  contents:
  - "5.4.1.  Mobile Router Side\n   In explicit mode, the routing to the MNP via the\
    \ Mobile Router must\n   be restored when the Mobile Router is at home.  This\
    \ is normally\n   performed by the Mobile Router by means of the existing IGP.\
    \  In that\n   case, a specific support is required on the Mobile Router to control\n\
    \   the routing protocol operation, enabling the participation in the IGP\n  \
    \ if and only if the Mobile Router is at home.\n   The NEMO Basic Support does\
    \ not mandate a specific routing protocol\n   though the support for some well-known\
    \ routing protocols can be\n   expected from many implementations.  An implementation\
    \ might provide\n   an automatic toggle to start/stop routing on an egress interface\
    \ when\n   the mobile router comes back/leaves home.  When such a toggle is\n\
    \   unavailable, then a specific interface should be reserved to attach\n   to\
    \ home with the appropriate settings for security and routing.\n"
- title: 5.5.  Applicability
  contents:
  - "5.5.  Applicability\n   The Extended Home Network keeps the MIP6 concept of a\
    \ Home Network\n   for both Mobile Nodes and Mobile Routers to take their Home\
    \ Address\n   from.  Since there is no overlap between the prefixes that are\n\
    \   assigned to MNPs and prefix(es) that are dedicated to the Home Link,\n   it\
    \ is possible for MNs and Mobile Routers to coexist with that model.\n   Also,\
    \ when the Home Address is derived from the prefix on the Home\n   Link, the Home\
    \ Agent behavior on the link trivially extends that of\n   MIP and the support\
    \ for that configuration should be available with\n   all implementations.\n \
    \  There are a number of issues with returning home when a Mobile Router\n   configures\
    \ its Home Address from the MNP as described in Section 5.3.\n   Therefore, we\
    \ do not recommend this mechanism if the Mobile Routers\n   attach to the Home\
    \ Network.\n"
- title: 6.  NEMO Aggregated Home Network
  contents:
  - '6.  NEMO Aggregated Home Network

    '
- title: 6.1.  Configuration
  contents:
  - "6.1.  Configuration\n   One other approach is to consider that the aggregation\
    \ of all the\n   MNPs is used plainly as the Home Link Prefix.  In this model,\
    \ the\n   Home Network is referred to as a NEMO Aggregated Home Network.  This\n\
    \   means that the Mobile Aggregated Prefix is configured on the Home\n   Link\
    \ and advertised by the Home Agent as a subnet, as depicted in\n   Figure 2.\n\
    \                    HA\n                     | /56                       Aggreg\
    \ /56\n          --+-----+--+- . -+- . -+--\n            |     |        |    \
    \ |\n           MR1   MR2      MRi   MRN\n            |     |        |     |\n\
    \        ------  ------  ------ ------\n            /64   /64     /64   /64  \
    \       Aggreg|i /64  0 < i <= N\n                  Aggregated Home Network ==\
    \ Home Network\n        <----------------------------------------------------------->\n\
    \         Mobile Net    Mobile Net    Mobile Net    ...   Mobile Net\n       \
    \ <------------><------------><------------> ... <------------>\n            \
    \         Figure 2: Aggregated Home Network\n   In that model, it seems natural\
    \ to subnet the whole range of\n   addresses into Mobile Network prefixes, as\
    \ opposed to reserving one\n   prefix for the Home Link, which would boil down\
    \ to the Extended Home\n   Network model.  If the prefix on the Home Link is really\
    \ an\n   aggregation and not a final prefix, it should not be allowed for\n  \
    \ autoconfiguration or Home Address allocation.\n   Note that in that case, it\
    \ makes sense for a Mobile Router to\n   register using a Home Address from one\
    \ of its own MNPs.  Taking the\n   Home Address from its own range guarantees\
    \ the uniqueness of the\n   suffix.  That uniqueness can be checked by the Mobile\
    \ Router on its\n   Ingress network (see [3]) using DAD.\n"
- title: 6.2.  Returning Home
  contents:
  - "6.2.  Returning Home\n   The Aggregated Home Prefix is configured on a physical\
    \ interface of\n   the Home Agent, the Home Link.  As a consequence, the Home\
    \ Agent has\n   a connected route to the Aggregated Home Network over the Home\
    \ Link.\n   A Mobile Router returns home by connecting directly to the Home Link,\n\
    \   and dropping the MRHA tunnel.  The Mobile Router recognizes its Home\n   Link\
    \ by a prefix match with its Home Agent.\n   When the Mobile Router forms its\
    \ Home Address out of one of its MNPs,\n   since the Home Network prefix is an\
    \ aggregation that encompasses all\n   the MNPs, the Home Address actually matches\
    \ both prefixes.  To\n   properly identify the Home Network as it returns home,\
    \ the MR must\n   expect a shorter prefix length than that of the MNP from which\
    \ the\n   Home Address was formed.\n"
- title: 6.2.1.  Returning Home with the Egress Interface
  contents:
  - "6.2.1.  Returning Home with the Egress Interface\n   A Mobile Router coming home\
    \ via its Egress interface sees overlapping\n   prefixes between the Ingress and\
    \ the Egress interfaces and some\n   specific support may be needed:\n   When\
    \ a Mobile Router connects to the Home Link using its Egress\n   Interface, it\
    \ might set up a bridge between its Ingress interface(s)\n   and the Home Link,\
    \ if the interfaces are compatible.\n   Alternatively, the Mobile Router might\
    \ perform ND proxying for all\n   addresses in its MNPs, between the Egress interface\
    \ and the related\n   Ingress interface, as described in [8].  Since the prefixes\
    \ on the\n   Egress and Ingress interfaces are overlapping, routing is disallowed.\n\
    \   The Mobile Router does not need to join the local IGP when returning\n   home,\
    \ even if it is using the explicit Prefix Mode.  When the Mobile\n   Router is\
    \ not registered, the Home Agent simply expects that all\n   Mobile Network Nodes\
    \ (MNNs) will be reachable over the Home Link.\n                    HA\n     \
    \                |\n           -------+--+--- /56\n                  |\n     \
    \      Egress |\n                 MR at home\n                  |\n          \
    \      --+---  /64\n               Figure 3: Bridging between Egress and Ingress\n"
- title: 6.2.2.  Returning Home with the Ingress Interface
  contents:
  - "6.2.2.  Returning Home with the Ingress Interface\n   Alternatively, if the Mobile\
    \ Router has a single Ingress interface,\n   the Mobile Router may use the NEMO-Link\
    \ to connect to the Home Link,\n   merging the two links in a single consistent\
    \ network.\n                    HA\n                    |\n           -------+-+----\
    \ /56\n                  |\n               ---+-- /64\n                  |\n \
    \                MR at home\n           Egress |\n            Figure 4: Merging\
    \ the Home and the Mobile Networks\n   This fits the connected route model, since\
    \ the Aggregated Home\n   Network is truly located on that network.  Note that\
    \ in that case, it\n   makes sense for a Mobile Router to register using a Home\
    \ Address from\n   one of its own MNPs.\n"
- title: 6.3.  Applicability
  contents:
  - "6.3.  Applicability\n   With this model, there is no specific space for independent\
    \ nodes, as\n   any address in the aggregation belongs to a MNP, and thus to a\
    \ Mobile\n   Router.  This configuration excludes the cohabitation with MIP6 MNs\n\
    \   on the Home Link.\n"
- title: 6.4.  Deployment Caveats
  contents:
  - '6.4.  Deployment Caveats

    '
- title: 6.4.1.  Home Agent Side
  contents:
  - "6.4.1.  Home Agent Side\n   A node on the Home Link receiving a Router Advertisement\
    \ that\n   includes the Aggregated Home Network prefix might use that prefix for\n\
    \   Address Autoconfiguration.  Such a node would also install a\n   connected\
    \ route to the Aggregated Home Network over the Home Link.\n   As a result, unless\
    \ the node has a better (longest match) route to a\n   given Mobile Network Prefix,\
    \ it would look up all MNNs on that MNP\n   using Neighbor Discovery over its\
    \ interface to the Home Link, and\n   fail.\n   Thus, on the Home Link, the Home\
    \ Agent must intercept all the packets\n   for ALL the Mobile Network Nodes on\
    \ the registered prefixes; that is,\n   for ALL nodes attached to Mobile Routers\
    \ that are away from home.\n   This should be a layer 2 operation, rather than\
    \ layer 3.  The Home\n   Agent might, for example, perform some form of ND proxying\
    \ for all\n   addresses in all registered Mobile Network Prefixes.\n   The Home\
    \ Agent must also protect the MNP space from autoconfiguration\n   by uncontrolled\
    \ visitors at Neighbor Discovery level.\n   There is a need to provide a specific\
    \ configuration on the Home Agent\n   to specify that it operates in Aggregated\
    \ Mode.  If a Home Agent\n   implementation is simply derived from that of MIP,\
    \ then the\n   capability to perform the required proxying might not exist, and\
    \ the\n   Aggregated Mode will not operate properly for nodes on the Home Link.\n"
- title: 6.4.2.  Mobile Router Side
  contents:
  - "6.4.2.  Mobile Router Side\n   If the Mobile Router returns home by Egress, a\
    \ specific support is\n   required to control the bridging operation depending\
    \ on whether or\n   not a Mobile Router is at home.  This support might not be\
    \ present in\n   all implementations.\n   The NEMO Basic Support does not mention\
    \ a specific behavior for\n   bridging though bridging capabilities can be expected\
    \ from many\n   implementations.  An implementation might provide an automatic\
    \ toggle\n   to start/stop bridging on an Egress interface when the Mobile Router\n\
    \   comes back/leaves home.  When such a toggle is unavailable, then a\n   specific\
    \ interface should be reserved to attach to home with the\n   appropriate settings\
    \ for security and bridging.\n   Also, note that NEMO authorizes multiple registrations\
    \ for a same MNP\n   by different Mobile Routers.  This is a case of multihoming,\
    \ and it\n   normally means that the Mobile Routers are interconnected by the\n\
    \   Ingress network that bears the common MNP.  But there is no provision\n  \
    \ in NEMO Basic Support to test that this condition is met at binding\n   time\
    \ and maintained over time.\n   It is thus possible for 2 different Mobile Routers\
    \ to register the\n   same prefix with different Home Addresses, and this will\
    \ cause an\n   undetected problem if the corresponding Ingress interfaces are\
    \ not\n   connected.\n   When the Home Address of a Mobile Router is derived from\
    \ its MNP,\n   there is thus an additional risk of an undetected misconfiguration\
    \ if\n   the Home Address is autoconfigured from the Ingress interface as\n  \
    \ opposed to statically assigning an address and MNP.\n   A Mobile Router that\
    \ is at home must own an address from the\n   aggregation on its Egress interface\
    \ and an address from its MNP -- a\n   subnet of that aggregation -- on its Ingress\
    \ interface.  A pure\n   router will reject that configuration, and the Mobile\
    \ Router needs to\n   act as a bridge to use it.  In order to deploy the Aggregated\
    \ Home\n   Network model, one must check whether that support is available in\n\
    \   the Mobile Routers if returning home is required.\n"
- title: 7.  NEMO Virtual Home Network
  contents:
  - '7.  NEMO Virtual Home Network

    '
- title: 7.1.  Configuration
  contents:
  - "7.1.  Configuration\n   The Home Link can be configured on the Home Agent on\
    \ a virtual link,\n   in which case there is no physical Home Link for Mobile\
    \ Routers to\n   return home to, or for Home Agents to discover each other and\
    \ perform\n   the ND-level interactions on, as described in Mobile IPv6 [4].\n\
    \                    /48                       e.g.: A:B:C::/48\n            \
    \        HA\n                    | /64                         A:B:C::/64\n  \
    \       --+-----+--+- . -+- . -+--\n           |     |        |     |\n      \
    \     MR1   MR2      MRi   MRN\n           /64   /64      /64   /64          \
    \  A:B:C:i::/64  0 < i <= N\n                      Figure 5: Virtual Home Network\n\
    \   The Extended Home Network and the Aggregated Home Network models can\n   be\
    \ adapted for virtual links.\n   As in the case of a physical link, the Home Address\
    \ of a Mobile\n   Router can be constructed based on a dedicated subnet of the\
    \ Home\n   Prefix or one of the Mobile Router MNPs.\n   Note that since the Home\
    \ Address is never checked for DAD, it makes\n   the configuration easier to take\
    \ it from the MNP as opposed to a\n   specific subnet.\n   There are certain advantages\
    \ to making the Home Link a virtual link:\n      A virtual link may not experience\
    \ any disruption related to\n      physical maintenance or to hardware problems,\
    \ so it is more\n      available than a physical link.  The high availability\
    \ of the Home\n      Link is critical for the mobility service.\n      The Home\
    \ Agent does not have to defend the Mobile Router's Home\n      Address through\
    \ Proxy Neighbor Discovery.  The Home Agent does not\n      also have to perform\
    \ Duplicate Address Detection (DAD) for the\n      Mobile Router's Home Address\
    \ when it receives a Binding Update\n      from the Mobile Router.\n      The\
    \ Mobile Router does not have to implement the Returning Home\n      procedure\
    \ (Section 11.5.4 of Mobile IPv6 [4]).\n   There are also some drawbacks to the\
    \ Virtual Home Link approach:\n      RFC 3775 [4] and RFC 3963 [5] do not provide\
    \ the specific support\n      for a Mobile Node to emulate returning home on a\
    \ Virtual Home\n      Network.  In particular, in the case of NEMO, the routing\n\
    \      information from the Mobile Router being injected on the IGP might\n  \
    \    adversely affect IPv6 route aggregation on the Home Network.\n      There\
    \ can be only one Home Agent since Mobile IPv6 relies on\n      Neighbor Discovery\
    \ on the Home Link for other Home Agent discovery\n      and for Duplicate Address\
    \ Detection.\n      The Home Agent must maintain a Binding Cache entry for a Mobile\n\
    \      Router and forwarding state for its Mobile Network even when the\n    \
    \  Mobile Router is directly connected to it.  All traffic to and\n      from\
    \ the Mobile Network is sent through the bi-directional tunnel\n      regardless\
    \ of the Mobile Router location.  This results in a\n      tunneling overhead\
    \ even though the Mobile Router is connected to\n      the Home Network.\n   Suggestions\
    \ on how to perform an equivalent of returning home on a\n   Virtual Home Network\
    \ have been proposed, but this topic is outside of\n   the scope of this document.\n"
- title: 7.2.  Applicability
  contents:
  - "7.2.  Applicability\n   NEMO operations rely on ND extensions over the Home Link\
    \ for the Home\n   Agent to Home Agent communication.\n   Making the Home Link\
    \ virtual bars the deployment of multiple Home\n   Agents, which may be desirable\
    \ for reasons of load balancing.  Please\n   refer to the NEMO multihoming issues\
    \ [9] for more on this.\n   Yet, for a deployment where a single Home Agent is\
    \ enough, making the\n   Home Link virtual reduces the vulnerability to some attacks\
    \ and to\n   some hardware failures, while making the Home Agent operation faster.\n\
    \   Note that NEMO basic does not mandate the support of Virtual Home\n   Networks.\n"
- title: 8.  NEMO Mobile Home Network
  contents:
  - '8.  NEMO Mobile Home Network

    '
- title: 8.1.  Configuration
  contents:
  - "8.1.  Configuration\n   In this arrangement, there is a bitwise hierarchy of\
    \ Home Networks.\n   A global Home Network is advertised to the infrastructure\
    \ by a head\n   Home Agent(s) and further subnetted into Mobile Networks.  As\
    \ a\n   result, only the Home Agent(s) responsible for the most global\n   (shortest\
    \ prefix) aggregation receive all the packets for all the\n   MNPs, which are\
    \ leaves in the hierarchy tree.\n   Each subnet is owned by a Mobile Router that\
    \ registers it in a NEMO\n   fashion while acting as a Home Agent for that network.\
    \  This Mobile\n   Router is at home at the upper level of hierarchy.  This\n\
    \   configuration is referred to as Mobile Home.\n   An example of this is the\
    \ Cab Co configuration.  Cab Co is a taxi\n   company that uses a /32 prefix for\
    \ its Home Network, this prefix\n   being advertised by the company headquarters\
    \ (HQ).  Regional offices\n   are deployed around the country.  Even though these\
    \ regional offices\n   are relatively stable in terms of location and prefix requirement\
    \ --\n   say, this changes every few years -- making them mobile allows a\n  \
    \ simpler management when a move has to take place, or should the ISP\n   service\
    \ change.\n   To illustrate this configuration, we make up the prefixes to reflect\n\
    \   their role, like CAB:C0::/32 for the Home Network:\n         global Home Network\
    \   CAB:C0::/32  advertised by HQ\n    <------------------------------------------------------------------>\n\
    \      HQ Extended Home Net              Mobile Home for SFO office\n        \
    \  (casa)\n      CAB:C0:CA5A::/48                          CAB:C0:5F0::/48\n \
    \   <----------------------------> ... <------------------------------->\n   \
    \                                                    |\n      Home for offices\
    \        HQ                       |\n     CAB:C0:CA5A:CA5A::/64    MN        \
    \               |\n    <----------------------><---->                     |\n\
    \     CAB:C0:CA5A:CA5A::CA5A                            |\n     CAB:C0:CA5A:CA5A::CA5B\
    \                            |\n     are HAs on link with for each office a route\
    \ like |\n                                                       |\n     CAB:C0:CA5A:CA5A::5F0\
    \    <---------------------- via\n       is the Home addr\n       of SFO office\n\
    \                  Figure 6:  CAB Company HQ Configuration\n   Finally, each regional\
    \ office owns a number of taxis, each one\n   equipped with a mobile router and\
    \ an associated /64 prefix.\n   For each Office, say San Francisco (SFO) as an\
    \ example:\n        Mobile Home Network CAB:C0:5F0::/48  owned by SFO office\n\
    \    <------------------------------------------------------------------>\n  \
    \    SFO Home Network             Mobile Networks for taxis\n        for taxis\
    \        <---------------------...--------------------->\n     CAB:C0:5F0:5F0::/64\
    \  CAB:C0:5F0:CAB1::/64     CAB:C0:5F0:....::/64\n    <-------------------><------------------->\
    \ ... <------------------->\n     CAB:C0:5F0:5F0::5F0           |\n     is HA\
    \ on link with for        |\n     each taxi a route like        |\n          \
    \                         |\n     CAB:C0:5F0:5F0::CAB1 <------ via\n       is\
    \ the Home Address\n       of CAB 1\n               Figure 7:  CAB Company regional\
    \ configuration\n   Note that this is a hierarchy in terms of MR-HA relationship,\
    \ which\n   may not be reflected in the physical arrangement of nodes at a given\n\
    \   point of time.  For instance, in the Cab Co case, some SFO cabs might\n  \
    \ attach to any hot spot or Cab Co office in a different city, and the\n   SFO\
    \ office might be at home if it is co-located with the\n   headquarters.  But\
    \ note that SFO should never attach to one of its\n   own cabs.  This would create\
    \ a stalemate situation, as documented in\n   the NEMO Route Optimization (RO)\
    \ problem statement [7].\n   But it is also possible to reflect the organizational\
    \ hierarchy in a\n   moving cloud of Mobile Routers.  If a Mobile Home Agent acts\
    \ as\n   root-MR for a nested configuration of its own Mobile Routers, then\n\
    \   the communication between Mobile Routers is confined within the\n   nested\
    \ structure.\n   This can be illustrated in the case of a fleet at sea.  Assume\
    \ that\n   SFO is a communication ship of a fleet, using a satellite link to\n\
    \   join the infrastructure, and that the cabs are Mobile Routers\n   installed\
    \ on smaller ships, equipped with low-range radios.\n   If SFO is also the root-MR\
    \ of a nested structure of its own cabs, the\n   communication between cabs is\
    \ relayed by SFO and does not require the\n   satellite link.  As for traffic\
    \ to the outside of the nested NEMO,\n   SFO recursively terminates the nested\
    \ tunnels from its cabs and\n   reencapsulates all the packets between the nested\
    \ cloud and\n   correspondents in the infrastructure in a single tunnel to CA5A.\
    \  As\n   a result, the unwanted effect of nesting of tunnels is avoided over\n\
    \   the Internet part of the packet path.\n"
- title: 8.2.  Applicability
  contents:
  - "8.2.  Applicability\n   This complex topology applies to a large distributed\
    \ fleet, mostly if\n   there is a single interchange point with the Internet (e.g.,\
    \ a\n   Network Address Transition (NAT) or a SOCKS [1] server farm) where\n \
    \  the super Home Agent could be located.\n   One specific benefit is that when\
    \ 2 Mobile Routers travel together\n   with a common Home Agent, the traffic between\
    \ the 2 is not\n   necessarily routed via the infrastructure, but can stay confined\n\
    \   within the mobile cloud, the Mobile Home Agent acting as a rendezvous\n  \
    \ point between the Mobile Routers.  This applies particularly well for\n   a\
    \ fleet at sea when the long-haul access may be as expensive as a\n   satellite\
    \ link.\n"
- title: 9.  Security Considerations
  contents:
  - "9.  Security Considerations\n   This document only explains how a Home Network\
    \ can be deployed to\n   support Mobile Routers and does not introduce any additional\
    \ security\n   concerns.  Please see RFC 3963 [5] for security considerations\
    \ for\n   the NEMO Basic Support protocol.\n"
- title: 10.  Acknowledgements
  contents:
  - "10.  Acknowledgements\n   The authors wish to thank Erik Nordmark, Jari Arkko,\
    \ Henrik\n   Levkowetz, Scott Hollenbeck, Ted Hardie, David Kessens, Pekka Savola,\n\
    \   Kent Leung, Thierry Ernst, TJ Kniveton, Patrick Wetterwald, Alexandru\n  \
    \ Petrescu, and David Binet for their contributions.\n"
- title: 11.  References
  contents:
  - '11.  References

    '
- title: 11.1.  Normative References
  contents:
  - "11.1.  Normative References\n   [1]  Leech, M., Ganis, M., Lee, Y., Kuris, R.,\
    \ Koblas, D., and L.\n        Jones, \"SOCKS Protocol Version 5\", RFC 1928, March\
    \ 1996.\n   [2]  Bradner, S., \"Key words for use in RFCs to Indicate Requirement\n\
    \        Levels\", BCP 14, RFC 2119, March 1997.\n   [3]  Manner, J. and M. Kojo,\
    \ \"Mobility Related Terminology\",\n        RFC 3753, June 2004.\n   [4]  Johnson,\
    \ D., Perkins, C., and J. Arkko, \"Mobility Support in\n        IPv6\", RFC 3775,\
    \ June 2004.\n   [5]  Devarapalli, V., Wakikawa, R., Petrescu, A., and P. Thubert,\n\
    \        \"Network Mobility (NEMO) Basic Support Protocol\", RFC 3963,\n     \
    \   January 2005.\n   [6]  Ernst, T. and H. Lach, \"Network Mobility Support Terminology\"\
    ,\n        July 2007.\n"
- title: 11.2.  Informative References
  contents:
  - "11.2.  Informative References\n   [7]  Ng, C., Thubert, P., Watari, M., and F.\
    \ Zhao, \"Network Mobility\n        Route Optimization Problem Statement\", RFC\
    \ 4888, July 2007.\n   [8]  Thaler, D., Talwar, M., and C. Patel, \"Neighbor Discovery\n\
    \        Proxies (ND Proxy)\", RFC 4389, April 2006.\n   [9]  Ng, C., \"Analysis\
    \ of Multihoming in Network Mobility Support\",\n        Work in Progress, February\
    \ 2007.\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Pascal Thubert\n   Cisco Systems\n   Village d'Entreprises\
    \ Green Side\n   400, Avenue de Roumanille\n   Batiment T3, Biot - Sophia Antipolis\
    \  06410\n   FRANCE\n   Phone: +33 4 97 23 26 34\n   EMail: pthubert@cisco.com\n\
    \   Ryuji Wakikawa\n   Keio University and WIDE\n   5322 Endo Fujisawa Kanagawa\n\
    \   252-8520\n   JAPAN\n   EMail: ryuji@sfc.wide.ad.jp\n   Vijay Devarapalli\n\
    \   Azaire Networks\n   3121 Jay Street\n   Santa Clara, CA  94054\n   USA\n \
    \  EMail: vijay.devarapalli@azairenet.com\n"
- title: Full Copyright Statement
  contents:
  - "Full Copyright Statement\n   Copyright (C) The IETF Trust (2007).\n   This document\
    \ is subject to the rights, licenses and restrictions\n   contained in BCP 78,\
    \ and except as set forth therein, the authors\n   retain all their rights.\n\
    \   This document and the information contained herein are provided on an\n  \
    \ \"AS IS\" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS\n  \
    \ OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST AND\n   THE\
    \ INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS\n   OR IMPLIED,\
    \ INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF\n   THE INFORMATION\
    \ HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED\n   WARRANTIES OF MERCHANTABILITY\
    \ OR FITNESS FOR A PARTICULAR PURPOSE.\n"
- title: Intellectual Property
  contents:
  - "Intellectual Property\n   The IETF takes no position regarding the validity or\
    \ scope of any\n   Intellectual Property Rights or other rights that might be\
    \ claimed to\n   pertain to the implementation or use of the technology described\
    \ in\n   this document or the extent to which any license under such rights\n\
    \   might or might not be available; nor does it represent that it has\n   made\
    \ any independent effort to identify any such rights.  Information\n   on the\
    \ procedures with respect to rights in RFC documents can be\n   found in BCP 78\
    \ and BCP 79.\n   Copies of IPR disclosures made to the IETF Secretariat and any\n\
    \   assurances of licenses to be made available, or the result of an\n   attempt\
    \ made to obtain a general license or permission for the use of\n   such proprietary\
    \ rights by implementers or users of this\n   specification can be obtained from\
    \ the IETF on-line IPR repository at\n   http://www.ietf.org/ipr.\n   The IETF\
    \ invites any interested party to bring to its attention any\n   copyrights, patents\
    \ or patent applications, or other proprietary\n   rights that may cover technology\
    \ that may be required to implement\n   this standard.  Please address the information\
    \ to the IETF at\n   ietf-ipr@ietf.org.\n"
- title: Acknowledgement
  contents:
  - "Acknowledgement\n   Funding for the RFC Editor function is currently provided\
    \ by the\n   Internet Society.\n"
