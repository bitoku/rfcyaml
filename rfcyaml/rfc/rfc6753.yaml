- contents:
  - "                 A Location Dereference Protocol Using\n                 HTTP-Enabled
    Location Delivery (HELD)\n"
  title: __initial_text__
- contents:
  - "Abstract\n   This document describes how to use the Hypertext Transfer Protocol\n
    \  (HTTP) over Transport Layer Security (TLS) as a dereference protocol\n   to
    resolve a reference to a Presence Information Data Format Location\n   Object
    (PIDF-LO).  This document assumes that a Location Recipient\n   possesses a URI
    that can be used in conjunction with the HTTP-Enabled\n   Location Delivery (HELD)
    protocol to request the location of the\n   Target.\n"
  title: Abstract
- contents:
  - "Status of This Memo\n   This is an Internet Standards Track document.\n   This
    document is a product of the Internet Engineering Task Force\n   (IETF).  It represents
    the consensus of the IETF community.  It has\n   received public review and has
    been approved for publication by the\n   Internet Engineering Steering Group (IESG).
    \ Further information on\n   Internet Standards is available in Section 2 of RFC
    5741.\n   Information about the current status of this document, any errata,\n
    \  and how to provide feedback on it may be obtained at\n   http://www.rfc-editor.org/info/rfc6753.\n"
  title: Status of This Memo
- contents:
  - "Copyright Notice\n   Copyright (c) 2012 IETF Trust and the persons identified
    as the\n   document authors.  All rights reserved.\n   This document is subject
    to BCP 78 and the IETF Trust's Legal\n   Provisions Relating to IETF Documents\n
    \  (http://trustee.ietf.org/license-info) in effect on the date of\n   publication
    of this document.  Please review these documents\n   carefully, as they describe
    your rights and restrictions with respect\n   to this document.  Code Components
    extracted from this document must\n   include Simplified BSD License text as described
    in Section 4.e of\n   the Trust Legal Provisions and are provided without warranty
    as\n   described in the Simplified BSD License.\n"
  title: Copyright Notice
- contents:
  - "Table of Contents\n   1.  Introduction . . . . . . . . . . . . . . . . . . .
    . . . . . .  3\n   2.  Terminology  . . . . . . . . . . . . . . . . . . . . .
    . . . .  3\n   3.  HELD Dereference Protocol  . . . . . . . . . . . . . . . .
    . .  4\n     3.1.  HELD Usage Profile . . . . . . . . . . . . . . . . . . . .
    \ 4\n     3.2.  HTTP GET Behavior  . . . . . . . . . . . . . . . . . . . .  5\n
    \  4.  Authorization Models . . . . . . . . . . . . . . . . . . . . .  6\n     4.1.
    \ Authorization by Possession  . . . . . . . . . . . . . . .  7\n     4.2.  Authorization
    via Access Control . . . . . . . . . . . . .  8\n     4.3.  Access Control with
    HELD Dereference . . . . . . . . . . .  9\n   5.  Examples . . . . . . . . . .
    . . . . . . . . . . . . . . . . . 10\n   6.  Security Considerations  . . . .
    . . . . . . . . . . . . . . . 13\n   7.  Acknowledgements . . . . . . . . . .
    . . . . . . . . . . . . . 14\n   8.  References . . . . . . . . . . . . . . .
    . . . . . . . . . . . 15\n     8.1.  Normative References . . . . . . . . . .
    . . . . . . . . . 15\n     8.2.  Informative References . . . . . . . . . . .
    . . . . . . . 15\n   Appendix A.  GEOPRIV Using Protocol Compliance . . . . .
    . . . . . 18\n   Appendix B.  Compliance to Location Reference Requirements .
    . . . 21\n     B.1.  Requirements for a Location Configuration Protocol . . .
    . 21\n     B.2.  Requirements for a Location Dereference Protocol . . . . . 23\n"
  title: Table of Contents
- contents:
  - "1.  Introduction\n   A location URI [RFC5808] identifies a resource that contains
    the\n   location of an entity.  This document specifies how a holder of an\n   \"http:\"
    or \"https:\" location URI uses that URI to retrieve location\n   information
    using a subset of HELD functionality or an HTTP GET\n   request.\n   A location
    URI can be acquired using a location configuration\n   protocol, such as HTTP-Enabled
    Location Delivery (HELD) [RFC5985] or\n   the Dynamic Host Configuration Protocol
    (DHCP) location URI option\n   [DHCP-URI-OPT].\n   A Location Recipient that dereferences
    a location URI acquires\n   location information in the form of a Presence Information
    Data\n   Format - Location Object (PIDF-LO) document [RFC4119].  HELD\n   parameters
    allow for specifying the type of location information,\n   though some constraints
    are placed on allowable parameters.\n   Location URIs compatible with HELD dereferencing
    use the \"https:\" or\n   \"http:\" scheme.  HELD can be used by Location Recipients
    that are\n   aware of the fact that the URI is a location URI.  Mandatory support\n
    \  for an HTTP GET request ensures that the URI can be used even if it\n   is
    not recognized as a location URI.\n"
  title: 1.  Introduction
- contents:
  - "2.  Terminology\n   The key words \"MUST\", \"MUST NOT\", \"REQUIRED\", \"SHALL\",
    \"SHALL NOT\",\n   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"MAY\", and \"OPTIONAL\"
    in this\n   document are to be interpreted as described in [RFC2119].\n   This
    document uses key terminology from several sources:\n   o  The terms for the GEOPRIV
    reference model defined are in\n      [RFC6280].\n   o  The term \"Location Information
    Server (LIS)\", from [RFC5687], is a\n      node in the access network that provides
    location information to\n      an endpoint.  A LIS provides location URIs.\n   o
    \ The term \"Location Server (LS)\", from [RFC6280], is used to\n      identify
    the role that responds to a location dereference request.\n      A Location Server
    might be the same entity as the LIS, but the\n      model in [RFC5808] allows
    for the existence of separate -- but\n      related -- entities.\n   o  The term
    \"location URI\" is coined in [RFC5808].\n"
  title: 2.  Terminology
- contents:
  - "3.  HELD Dereference Protocol\n   This section describes how HELD can be used
    to dereference a location\n   URI.  This process can be applied when a Location
    Recipient is in\n   possession of a location URI with an \"https:\" or \"http:\"
    URI scheme.\n   This document does not describe a specific authentication mechanism.\n
    \  This means that authorization policies are unable to specifically\n   identify
    authorized Location Recipients.\n   A Location Recipient that wishes to dereference
    an \"https:\" or\n   \"http:\" URI performs a HELD request on HTTP to the identified\n
    \  resource.\n      Note: In many cases, an \"http:\" URI does not provide sufficient\n
    \     security for location URIs.  The absence of the security\n      mechanisms
    provided by TLS means that the Rule Maker has no\n      control over who receives
    location information, and the Location\n      Recipient has no assurance that
    the information is correct.\n   The Location Recipient establishes a connection
    to the LS, as\n   described in [RFC2818].\n   The scheme of a location URI determines
    whether or not TLS is used on\n   a given dereference transaction.  Location Servers
    MUST be configured\n   to issue only HTTPS URIs and respond to only to HTTPS dereference\n
    \  requests, unless confidentiality and integrity protection are\n   provided
    by some other mechanism.  For example, the server might only\n   accept requests
    from clients within a trusted network or via an\n   IPsec-protected channel.  When
    TLS is used, the TLS ciphersuite\n   TLS_NULL_WITH_NULL_NULL MUST NOT be used,
    and the LS MUST be\n   authenticated [RFC6125] to ensure that the correct server
    is\n   contacted.\n   A Location Server MAY reject a request and ask that a Location\n
    \  Recipient provide authentication credentials if authorization is\n   dependent
    on the Location Recipient identity.  Future specifications\n   could define an
    authentication mechanism and a means by which\n   Location Recipients are identified
    in authorization policies.  This\n   document does not provide definitions for
    either item.\n"
  - contents:
    - "3.1.  HELD Usage Profile\n   Use of HELD as a location dereference protocol
      is largely the same as\n   its use as a location configuration protocol.  Aside
      from the\n   restrictions noted in this document, HELD semantics do not differ\n
      \  from those established in [RFC5985].\n   The HELD \"locationRequest\" is
      the only request permitted by this\n   specification.  Similarly, request parameters
      other than the\n   following MUST NOT be accepted by the LS: \"responseTime\"
      and\n   \"locationType\" (including the associated \"exact\" attribute).\n   Parameters
      and requests that do not have known behavior for\n   dereference requests MUST
      NOT be used.  The LS MUST ignore any\n   parameters that it does not understand
      unless it knows the parameters\n   to be invalid.  If parameters are understood
      by the LS and known to\n   be invalid, the LS MAY generate a HELD error response.
      \ For instance,\n   those defined in [RFC6155] are always invalid and can be
      rejected.\n   The LS MUST NOT generate location URIs or provide a \"locationUriSet\"\n
      \  in response to a dereference request.  If the location request\n   contains
      a \"locationType\" element that includes \"locationURI\", this\n   parameter
      is either ignored or rejected as appropriate, based on the\n   associated \"exact\"
      attribute.\n"
    title: 3.1.  HELD Usage Profile
  - contents:
    - "3.2.  HTTP GET Behavior\n   GET is the method assumed by generic HTTP user
      agents; therefore,\n   unless context identifies an \"https:\" URI as a HELD
      URI, such a user\n   agent might simply send an HTTP GET.  Rather than providing
      an HTTP\n   405 (Method Not Allowed) response indicating that POST is the only\n
      \  permitted method, a LIS MUST provide a HELD location response if it\n   receives
      an HTTP GET request.\n   An HTTP GET request to a HELD URI produces a HELD response
      as if the\n   following HELD request had been sent using HTTP POST:\n     <locationRequest
      xmlns=\"urn:ietf:params:xml:ns:geopriv:held\">\n       <locationType exact=\"false\">\n
      \        geodetic civic\n       </locationType>\n     </locationRequest>\n             Figure
      1: GET Request Equivalent Location Request\n   HTTP GET requests MUST be safe
      and idempotent [RFC2616] -- that is,\n   there are no side effects of making
      the request, and a repeated\n   request has no more effect than a single request.
      \ Repeating a HELD\n   request might result in a different location, but only
      as a result of\n   a change in the state of the resource: the location of the
      Target.\n   Only the creation of a location URI as a result of receiving a\n
      \  request causes a HELD request to have side effects.  A request to a\n   location
      URI can be both safe and idempotent, since a location URI\n   cannot be produced
      in response to a request to a location URI.  A\n   Location Recipient MAY infer
      from a response containing the HELD\n   content type \"application/held+xml\"
      that a URI references a resource\n   that supports HELD.\n   Content negotiation
      MAY be supported to produce a presence document\n   in place of a HELD location
      response.  Where the presence document\n   would otherwise be included in a
      \"locationResponse\" document, it can\n   be included in the body of the HTTP
      response directly by including an\n   \"Accept\" header that includes \"application/pidf+xml\".\n"
    title: 3.2.  HTTP GET Behavior
  title: 3.  HELD Dereference Protocol
- contents:
  - "4.  Authorization Models\n   This section discusses two extreme types of authorization
    models for\n   dereferencing with HELD URIs, namely \"Authorization by Possession\"\n
    \  and \"Authorization by Access Control\".  In the subsequent\n   subsections,
    we discuss the properties of these two models.\n   Figure 2, from [RFC5808], shows
    the model applicable to location\n   configuration, conveyance, and dereference.\n
    \            +---------+--------+   Location    +-----------+\n             |
    \        |        |  Dereference  | Location  |\n             |   LIS   -   LS
    \  +---------------+ Recipient |\n             |         |        |   Protocol
    \   |           |\n             +----+----+--------+      (3)      +-----+-----+\n
    \                 |         `.                        |\n                  |    Policy
    `.                      |\n    Location      |    Exchange `.                    |\n
    \   Configuration |      (*)      |                   |\n    Protocol      |          +----+----+
    \             |\n      (1)         |          |  Rule   |   Location   |\n                  |
    \         |  Maker  |   Conveyance |\n            +-----+----+     +---------+
    \  Protocol   |\n            |          |                      (2)     |\n            |
    \ Target  +------------------------------+\n            |          |\n            +----------+\n
    \                      Figure 2: Communication Model\n   It is important to note
    that this document does not mandate a\n   specific authorization model.  It is
    possible to combine aspects of\n   both models.  However, no authentication framework
    is provided, which\n   limits the policy options available when the \"Authorization
    by Access\n   Control\" model is used.\n   For either authorization model, the
    overall process is similar.  The\n   following steps are followed, with minor
    alterations:\n   1.  The Target acquires a location URI from the LIS.  This uses
    a\n       location configuration protocol (LCP), such as HELD or DHCP.\n   2.
    \ The Target then conveys the location URI to a third party, the\n       Location
    Recipient (for example, using SIP as described in\n       [RFC6442]).  This step
    is shown in (2) of Figure 2.\n   3.  The Location Recipient then needs to dereference
    the location URI\n       in order to obtain the Location Object (3).  An \"https:\"
    or\n       \"http:\" URI is dereferenced as described in this document; other\n
    \      URI schemes might be dereferenced using another method.\n   In this final
    step, the Location Server (LS) or LIS makes an\n   authorization decision.  How
    this decision is reached depends on the\n   authorization model.\n"
  - contents:
    - "4.1.  Authorization by Possession\n   In this model, possession -- or knowledge
      -- of the location URI is\n   used to control access to location information.
      \ A location URI might\n   be constructed such that it is hard to guess (see
      C8 of [RFC5808]),\n   and the set of entities that it is disclosed to can be
      limited.  The\n   only authentication this would require by the LS is evidence
      of\n   possession of the URI.  The LS could immediately authorize any\n   request
      that indicates this URI.\n   Authorization by possession does not require direct
      interaction with\n   a Rule Maker; it is assumed that the Rule Maker is able
      to exert\n   control over the distribution of the location URI.  Therefore,
      the\n   LIS can operate with limited policy input from a Rule Maker.\n   Limited
      disclosure is an important aspect of this authorization\n   model.  The location
      URI is a secret; therefore, ensuring that\n   adversaries are not able to acquire
      this information is paramount.\n   Encryption, such as might be offered by TLS
      [RFC5246] or S/MIME\n   [RFC5751], protects the information from eavesdroppers.\n
      \  Use of authorization by possession location URIs in a hop-by-hop\n   protocol
      such as SIP [RFC3261] adds the possibility of on-path\n   adversaries.  Depending
      on the usage of the location URI for certain\n   location-based applications
      (e.g., emergency services and location-\n   based routing), specific treatment
      is important, as discussed in\n   [RFC6442].\n   Using possession as a basis
      for authorization means that, once\n   granted, authorization cannot be easily
      revoked.  Cancellation of a\n   location URI ensures that legitimate users are
      also affected;\n   application of additional policy is theoretically possible
      but could\n   be technically infeasible.  Expiration of location URIs limits
      the\n   usable time for a location URI, requiring that an attacker continue\n
      \  to learn new location URIs to retain access to current location\n   information.\n
      \  A very simple policy might be established at the time that a location\n   URI
      is created.  This policy specifies that the location URI expires\n   after a
      certain time, which limits any inadvertent exposure of\n   location information
      to adversaries.  The expiration time of the\n   location URI might be negotiated
      at the time of its creation, or it\n   might be unilaterally set by the LIS.\n"
    title: 4.1.  Authorization by Possession
  - contents:
    - "4.2.  Authorization via Access Control\n   Use of explicit access control provides
      a Rule Maker greater control\n   over the behavior of an LS.  In contrast to
      authorization by\n   possession, possession of this form of location URI does
      not imply\n   authorization.  Since an explicit policy is used to authorize
      access\n   to location information, the location URI can be distributed to many\n
      \  potential Location Recipients.\n   Either before creation or dissemination
      of the location URI, the Rule\n   Maker establishes an authorization policy
      with the LS.  In reference\n   to Figure 2, authorization policies might be
      established at creation\n   (Step 1) and need to be established before the location
      URI is\n   published (Step 2) to ensure that the policy grants access to the\n
      \  desired Location Recipients.  Depending on the mechanism used, it\n   might
      also be possible to change authorization policies at any time.\n   A possible
      format for these authorization policies is available with\n   GEOPRIV Common
      Policy [RFC4745] and Geolocation Policy\n   [GEOPRIV-POLICY].  Additional constraints
      might be established by\n   other means.\n   The LS enforces the authorization
      policy when a Location Recipient\n   dereferences the URI.  Explicit authorization
      policies allow a Rule\n   Maker to specify how location information is provided
      to Location\n   Recipients.\n"
    title: 4.2.  Authorization via Access Control
  - contents:
    - "4.3.  Access Control with HELD Dereference\n   This document does not describe
      a specific authentication mechanism;\n   therefore, the authorization by access
      control model is not an\n   option.  Instead, this document assumes the authorization
      by\n   possession model.\n   Other policy mechanisms, such as those described
      in [GEOPRIV-POLICY],\n   can be applied for different Location Recipients if
      each recipient is\n   given a different location URI.  Each location URI can
      be assigned a\n   different authorization policy.  Selective disclosure used
      in this\n   fashion can be used in place of identity-based authorization.\n
      \  How policy is associated with a location URI is not defined by this\n   document.
      \ [GEOPRIV-POLICY-URI] describes one possible mechanism.\n   Use of an identity-based
      authorization policy is not precluded.  A\n   Location Server MAY support an
      authentication mechanism that enables\n   identity-based authorization policies
      to be used.  Future\n   specifications might define means of identifying recipients.\n
      \     Note: Policy frameworks like [RFC4745] degrade in a way that\n      protects
      privacy if features are not supported.  If a policy\n      specifies a rule
      that is conditional on the identity of a\n      recipient and the protocol does
      not (or cannot) provide an\n      assertion identity of the recipient, the rule
      has no effect, and\n      the policy defaults to providing less information.\n"
    title: 4.3.  Access Control with HELD Dereference
  title: 4.  Authorization Models
- contents:
  - "5.  Examples\n   An example scenario envisioned by this document is shown in
    Figure 3.\n   This diagram shows how a location dereference protocol fits with\n
    \  location configuration and conveyance.  [RFC5808] contains more\n   information
    on this scenario and others like it.\n                            +-------------+\n
    \  +------------+           |  Location   |            +-----------+\n   | End
    Device |           | Information |            | Location  |\n   |  (Target)  |
    \          |   Server    |            | Recipient |\n   +-----+------+           +------+------+
    \           +-----+-----+\n         |                         |                         |\n
    \     .- + - - - - - - - - - - - - + -.                      |\n      :  |     locationRequest
    \    |  :                      |\n      .  |----(for location URI)-->|  .                      |\n
    \     :  |                         |  : Location             |\n      .  |     locationResponse
    \   |  . Configuration        |\n      :  |<-----(location URI)-----|  :                      |\n
    \     .  |                         |  .                      |\n      `- + - -
    - - - - - - - - - - + -'                      |\n         |                         |
    \                        |\n         |                Location Conveyance                |\n
    \        |~ ~ ~ ~ ~ ~ ~ ~ ~ ~(location URI)~ ~ ~ ~ ~ ~ ~ ~ ~>|\n         |                         |
    \                        |\n         |                      .- + - - - - - - -
    - - - - - + -.\n         |                      :  |     locationRequest     |
    \ :\n         |                      .  |<------(for civic)-------|  .\n         |
    \       Dereferencing :  |                         |  :\n         |                      .
    \ |     locationResponse    |  .\n         |                      :  |--------(PIDF-LO)------->|
    \ :\n         |                      .  |                         |  .\n         |
    \                     `- + - - - - - - - - - - - - + -'\n         |                         |
    \                        |\n            Figure 3: Example of Dereference Protocol
    Exchange\n   The example in Figure 4 shows the simplest form of dereferencing\n
    \  request using HELD to the location URI\n   \"https://ls.example.com:49152/uri/w3g61nf5n66p0\".
    \ The only way that\n   this differs from the example in Section 10.1 of [RFC5985]
    is in the\n   request URI and the source of the URI.\n   POST /uri/w3g61nf5n66p0
    HTTP/1.1\n   Host: ls.example.com:49152\n   Content-Type: application/held+xml\n
    \  Content-Length: 87\n   <?xml version=\"1.0\"?>\n   <locationRequest xmlns=\"urn:ietf:params:xml:ns:geopriv:held\"/>\n
    \                 Figure 4: Minimal Dereferencing Request\n   Figure 5 shows the
    response to the previous request listing both\n   civic and geodetic location
    information of the Target's location.\n   Again, this is identical to the response
    in Section 10.1 of [RFC5985]\n   -- unless policy specifies otherwise, the Location
    Recipient receives\n   the same information as the Device.\n   HTTP/1.1 200 OK\n
    \  Server: Example LIS\n   Date: Mon, 10 Jan 2011 03:42:29 GMT\n   Expires: Tue,
    11 Jan 2011 03:42:29 GMT\n   Cache-control: private\n   Content-Type: application/held+xml\n
    \  Content-Length: 676\n   <?xml version=\"1.0\"?>\n   <locationResponse xmlns=\"urn:ietf:params:xml:ns:geopriv:held\">\n
    \  <presence xmlns=\"urn:ietf:params:xml:ns:pidf\"\n             entity=\"pres:3650n87934c@ls.example.com\">\n
    \    <tuple id=\"b650sf789nd\">\n     <status>\n      <geopriv xmlns=\"urn:ietf:params:xml:ns:pidf:geopriv10\"\n
    \       xmlns:gbp=\"urn:ietf:params:xml:ns:pidf:geopriv10:basic-policy\">\n       <location-info>\n
    \         <Point xmlns=\"http://www.opengis.net/gml\"\n                 srsName=\"urn:ogc:def:crs:EPSG::4326\">\n
    \           <pos>-34.407 150.88001</pos>\n          </Point>\n        </location-info>\n
    \       <usage-rules>\n          <gbp:retransmission-allowed>\n            false</gbp:retransmission-allowed>\n
    \         <gbp:retention-expiry>\n            2011-01-11T03:42:29+00:00</gbp:retention-expiry>\n
    \       </usage-rules>\n        <method>Wiremap</method>\n      </geopriv>\n     </status>\n
    \    <timestamp>2006-01-10T03:42:28+00:00</timestamp>\n     </tuple>\n   </presence>\n
    \  </locationResponse>\n               Figure 5: Response with Location Information\n
    \  The following GET request is treated in an equivalent fashion.  The\n   LS
    treats this request as though it were a location request of the\n   form shown
    in Figure 1.  The same response might be provided.\n   GET /uri/w3g61nf5n66p0
    HTTP/1.1\n   Host: ls.example.com:49152\n   Accept: application/held+xml\n                           Figure
    6: GET Request\n   The following GET request uses content negotiation to indicate
    a\n   preference for a presence document.\n   GET /uri/w3g61nf5n66p0 HTTP/1.1\n
    \  Host: ls.example.com:49152\n   Accept: application/pidf+xml,application/held+xml;q=0.5\n
    \             Figure 7: GET Request with Content Negotiation\n   The response
    only differs from a normal HELD location response to a\n   POST request in that
    the \"locationResponse\" element is omitted and\n   the \"Content-Type\" header
    reflects the changed content.\n   HTTP/1.1 200 OK\n   Server: Example LIS\n   Date:
    Mon, 10 Jan 2011 03:42:29 GMT\n   Expires: Tue, 11 Jan 2011 03:42:29 GMT\n   Cache-control:
    private\n   Content-Type: application/pidf+xml\n   Content-Length: 591\n   <?xml
    version=\"1.0\"?>\n   <presence xmlns=\"urn:ietf:params:xml:ns:pidf\"\n             entity=\"pres:3650n87934c@ls.example.com\">\n
    \    <!-- PIDF contents are identical to the previous example -->\n   </presence>\n
    \                   Figure 8: GET Response with PIDF-LO\n"
  title: 5.  Examples
- contents:
  - "6.  Security Considerations\n   Privacy of location information is the most important
    security\n   consideration for this document.  Two measures in particular are
    used\n   to protect privacy: TLS and authorization policies.  TLS provides a\n
    \  means of ensuring confidentiality of location information through\n   encryption
    and mutual authentication.  An authorization policy allows\n   a Rule Maker to
    explicitly control how location information is\n   provided to Location Recipients.\n
    \  The process by which a Rule Maker establishes an authorization policy\n   is
    not covered by this document; several methods are possible, for\n   instance,
    [GEOPRIV-POLICY-URI] and [RFC4825].\n   TLS MUST be used for dereferencing location
    URIs unless\n   confidentiality and integrity are provided by some other mechanism,\n
    \  as discussed in Section 3.  Location Recipients MUST authenticate the\n   host
    identity using the domain name included in the location URI,\n   using the procedure
    described in Section 3.1 of [RFC2818].  Local\n   policy determines what a Location
    Recipient does if authentication\n   fails or cannot be attempted.\n   The authorization
    by possession model (Section 4.1) further relies on\n   TLS when transmitting
    the location URI to protect the secrecy of the\n   URI.  Possession of such a
    URI implies the same privacy\n   considerations as possession of the PIDF-LO document
    that the URI\n   references.\n   Location URIs MUST only be disclosed to authorized
    Location\n   Recipients.  The GEOPRIV architecture [RFC6280] designates the Rule\n
    \  Maker to authorize disclosure of the URI.\n   Protection of the location URI
    is necessary, since the policy\n   attached to such a location URI permits anyone
    who has the URI to\n   view the associated location information.  This aspect
    of security is\n   covered in more detail in the specification of location conveyance\n
    \  protocols, such as [RFC6442].\n   According to the requirements in [RFC5808]
    the LS MUST NOT provide\n   any information about the Target except its location,
    unless policy\n   from a Rule Maker allows otherwise.  Thus, the Location Server
    MUST\n   only provide an unlinked pseudonym in the \"entity\" attribute of the\n
    \  PIDF-LO document unless the Rule Maker policy allows for identity\n   disclosure.\n
    \  Further security considerations and requirements relating to the use\n   of
    location URIs are described in [RFC5808].\n"
  title: 6.  Security Considerations
- contents:
  - "7.  Acknowledgements\n   Thanks to Barbara Stark and Guy Caron for providing
    early comments.\n   Thanks to Rohan Mahy for constructive comments on the scope
    and\n   format of the document.  Thanks to Ted Hardie for his strawman\n   proposal
    that provided assistance with the security section of this\n   document.  Richard
    Barnes made helpful observations on the\n   application of authorization policy.
    \ Bernard Aboba and Julian\n   Reschke contributed constructive reviews.\n   The
    participants of the GEOPRIV interim meeting 2008 provided\n   significant feedback
    on this document.\n   James Polk provided input on security in June 2008.\n   Martin
    Dawson was an original author of this document.  Sadly, he\n   passed away prior
    to its publication.\n"
  title: 7.  Acknowledgements
- contents:
  - '8.  References

    '
  - contents:
    - "8.1.  Normative References\n   [RFC2119]  Bradner, S., \"Key words for use
      in RFCs to Indicate\n              Requirement Levels\", BCP 14, RFC 2119, March
      1997.\n   [RFC2616]  Fielding, R., Gettys, J., Mogul, J., Frystyk, H.,\n              Masinter,
      L., Leach, P., and T. Berners-Lee, \"Hypertext\n              Transfer Protocol
      -- HTTP/1.1\", RFC 2616, June 1999.\n   [RFC2818]  Rescorla, E., \"HTTP Over
      TLS\", RFC 2818, May 2000.\n   [RFC4119]  Peterson, J., \"A Presence-based GEOPRIV
      Location Object\n              Format\", RFC 4119, December 2005.\n   [RFC5491]
      \ Winterbottom, J., Thomson, M., and H. Tschofenig, \"GEOPRIV\n              Presence
      Information Data Format Location Object (PIDF-LO)\n              Usage Clarification,
      Considerations, and Recommendations\",\n              RFC 5491, March 2009.\n
      \  [RFC5985]  Barnes, M., \"HTTP-Enabled Location Delivery (HELD)\",\n              RFC
      5985, September 2010.\n   [RFC6125]  Saint-Andre, P. and J. Hodges, \"Representation
      and\n              Verification of Domain-Based Application Service Identity\n
      \             within Internet Public Key Infrastructure Using X.509\n              (PKIX)
      Certificates in the Context of Transport Layer\n              Security (TLS)\",
      RFC 6125, March 2011.\n"
    title: 8.1.  Normative References
  - contents:
    - "8.2.  Informative References\n   [DHCP-URI-OPT]\n              Polk, J., \"Dynamic
      Host Configuration Protocol (DHCP) IPv4\n              and IPv6 Option for a
      Location Uniform Resource Identifier\n              (URI)\", Work in Progress,
      May 2012.\n   [GEOPRIV-POLICY]\n              Schulzrinne, H., Tschofenig, H.,
      Cuellar, J., Polk, J.,\n              Morris, J., and M. Thomson, \"Geolocation
      Policy: A\n              Document Format for Expressing Privacy Preferences
      for\n              Location Information\", Work in Progress, August 2012.\n
      \  [GEOPRIV-POLICY-URI]\n              Barnes, R., Thomson, M., Winterbottom,
      J., and H.\n              Tschofenig, \"Location Configuration Extensions for
      Policy\n              Management\", Work in Progress, November 2011.\n   [RFC3261]
      \ Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston,\n              A.,
      Peterson, J., Sparks, R., Handley, M., and E.\n              Schooler, \"SIP:
      Session Initiation Protocol\", RFC 3261,\n              June 2002.\n   [RFC3693]
      \ Cuellar, J., Morris, J., Mulligan, D., Peterson, J., and\n              J.
      Polk, \"Geopriv Requirements\", RFC 3693, February 2004.\n   [RFC4745]  Schulzrinne,
      H., Tschofenig, H., Morris, J., Cuellar, J.,\n              Polk, J., and J.
      Rosenberg, \"Common Policy: A Document\n              Format for Expressing
      Privacy Preferences\", RFC 4745,\n              February 2007.\n   [RFC4825]
      \ Rosenberg, J., \"The Extensible Markup Language (XML)\n              Configuration
      Access Protocol (XCAP)\", RFC 4825, May 2007.\n   [RFC5246]  Dierks, T. and
      E. Rescorla, \"The Transport Layer Security\n              (TLS) Protocol Version
      1.2\", RFC 5246, August 2008.\n   [RFC5687]  Tschofenig, H. and H. Schulzrinne,
      \"GEOPRIV Layer 7\n              Location Configuration Protocol: Problem Statement
      and\n              Requirements\", RFC 5687, March 2010.\n   [RFC5751]  Ramsdell,
      B. and S. Turner, \"Secure/Multipurpose Internet\n              Mail Extensions
      (S/MIME) Version 3.2 Message\n              Specification\", RFC 5751, January
      2010.\n   [RFC5808]  Marshall, R., \"Requirements for a Location-by-Reference\n
      \             Mechanism\", RFC 5808, May 2010.\n   [RFC6155]  Winterbottom,
      J., Thomson, M., Tschofenig, H., and R.\n              Barnes, \"Use of Device
      Identity in HTTP-Enabled Location\n              Delivery (HELD)\", RFC 6155,
      March 2011.\n   [RFC6280]  Barnes, R., Lepinski, M., Cooper, A., Morris, J.,\n
      \             Tschofenig, H., and H. Schulzrinne, \"An Architecture for\n              Location
      and Location Privacy in Internet Applications\",\n              BCP 160, RFC
      6280, July 2011.\n   [RFC6442]  Polk, J., Rosen, B., and J. Peterson, \"Location
      Conveyance\n              for the Session Initiation Protocol\", RFC 6442,\n
      \             December 2011.\n"
    title: 8.2.  Informative References
  title: 8.  References
- contents:
  - "Appendix A.  GEOPRIV Using Protocol Compliance\n   This section describes how
    use of HELD as a location dereference\n   protocol complies with the GEOPRIV requirements
    described in\n   [RFC3693].\n   Req. 1.  (Location Object generalities):\n            This
    requirement relates to the PIDF-LO [RFC4119] document,\n            which is used
    by HELD.  These requirements are addressed by\n            [RFC4119] and [RFC5491].\n
    \  Req. 2.  (Location Object fields):\n            This requirement relates to
    the PIDF-LO [RFC4119] document,\n            which is used by HELD.  These requirements
    are addressed by\n            [RFC4119] and [RFC5491].\n   Req. 3.  (Location
    Data Types):\n            This requirement relates to the PIDF-LO [RFC4119] document,\n
    \           which is used by HELD.  These requirements are addressed by\n            [RFC4119]
    and [RFC5491].\n   Section 7.2 of [RFC3693] details the requirements of a \"Using\n
    \  Protocol\".  These requirements are restated, followed by a statement\n   of
    compliance:\n   Req. 4.  \"The using protocol has to obey the privacy and security\n
    \           instructions coded in the Location Object and in the\n            corresponding
    Rules regarding the transmission and storage\n            of the LO\".\n            Compliant:
    This specification describes the use of HTTP over\n            TLS for carrying
    the PIDF-LO from the LS to the Location\n            Recipient.  The sending and
    receiving parties are expected\n            to comply with the instructions carried
    inside the object.\n            Though discouraged, using unsecured \"http:\"
    URIs is\n            permitted.  Using unsecured HTTP is likely to result in non-\n
    \           compliance with this requirement.\n   Req. 5.  \"The using protocol
    will typically facilitate that the keys\n            associated with the credentials
    are transported to the\n            respective parties, that is, key establishment
    is the\n            responsibility of the using protocol\".\n            Compliant:
    This document specifies that authentication of\n            the LS uses the established
    public key infrastructure used\n            by HTTP over TLS [RFC2818].  Authentication
    of Location\n            Recipients is based on distribution of a secret (the\n
    \           location URI) using a conveyance protocol (for instance,\n            [RFC6442]),
    allowances are made for later work to define\n            alternative methods.\n
    \  Req. 6.  \"(Single Message Transfer) In particular, for tracking of\n            small
    target devices, the design should allow a single\n            message/packet transmission
    of location as a complete\n            transaction\".\n            Not Compliant:
    The XML encoding specified in [RFC4119] is\n            not suited to single packet
    transfers.  Use of compressed\n            content encoding [RFC2616] might allow
    this condition to be\n            met.\n   Section 7.3 of [RFC3693] details the
    requirements of a \"Rule based\n   Location Data Transfer\".  These requirements
    are restated where they\n   are applicable to this document:\n   Req. 7.   \"(LS
    Rules) The decision of a Location Server to provide a\n             Location Recipient
    access to Location Information MUST be\n             based on Rule Maker-defined
    Privacy Rules\".\n             Compliant: This document describes two alternative
    methods\n             by which a Rule Maker is able to control access to location\n
    \            information.  Rule Maker policy is enforced by the LS when\n             a
    location URI is dereferenced.  However, this document\n             does not describe
    how a location URI is created or how a\n             Rule Maker associates policy
    with a location URI.  These\n             are covered by other specifications.\n
    \  Req. 8.   (LG Rules) Not Applicable: This relationship between LS and\n             the
    source of its information (be that Location Generator\n             (LG) or LIS)
    is out of the scope of this document.\n   Req. 9.   \"(Viewer Rules) A Viewer
    does not need to be aware of the\n             full Rules defined by the Rule
    Maker (because a Viewer\n             SHOULD NOT retransmit Location Information),
    and thus a\n             Viewer SHOULD receive only the subset of Privacy Rules\n
    \            necessary for the Viewer to handle the LO in compliance\n             with
    the full Privacy Rules (such as, instruction on the\n             time period
    for which the LO can be retained)\".\n             Compliant: The Rule Maker might
    define (via mechanisms\n             outside the scope of this document) which
    policy rules are\n             disclosed to other entities.  For instance, if
    [RFC4745] is\n             used to convey authorization policies from Rule Maker
    to\n             LS, this is possible using the parameters specified in\n             [GEOPRIV-POLICY].\n
    \            In order to comply with these rules, a Location Recipient\n             MUST
    NOT redistribute a location URI without express\n             permission.  Depending
    on the access control model, the\n             location URI might be secret (see
    Section 3.3 of\n             [RFC5808]).\n   Req. 10.  (Full Rule language) Not
    Applicable: Note, however, that\n             GEOPRIV has defined a rule language
    capable of expressing a\n             wide range of privacy rules (see [RFC4745]
    and\n             [GEOPRIV-POLICY].\n   Req. 11.  (Limited Rule language) Not
    Applicable: This requirement\n             applies to (and is addressed by) PIDF-LO
    [RFC4119].\n   Section 7.4 of [RFC3693] details the requirements of \"Location
    Object\n   Privacy and Security\".  These requirements are restated where they\n
    \  are applicable to this document:\n   Req. 12.  (Identity Protection) Compliant:
    Identity protection of the\n             Target is provided as long as both of
    the following\n             conditions are true:\n             (a)  the location
    URI is not associated with the identity\n                  of the Target in any
    context, and\n             (b)  the PIDF-LO does not contain information about
    the\n                  identity of the Target.\n             For instance, this
    requirement is complied with if the\n             protocol that conveys the location
    URI does not link the\n             identity of the Target to the location URI
    and the LS\n             doesn't include meaningful identification information
    in\n             the PIDF-LO document.  Section 6 recommends that an\n             unlinked
    pseudonym is used by the LS.\n   Req. 13.  (Credential Requirements) Compliant:
    The primary security\n             mechanism specified in this document is Transport
    Layer\n             Security.  TLS offers the ability to use different types of\n
    \            credentials, including symmetric, asymmetric, or a\n             combination
    of them.\n   Req. 14.  (Security Features) Compliant: GEOPRIV defines a few\n
    \            security requirements for the protection of Location\n             Objects
    such as mutual endpoint authentication, data object\n             integrity, data
    object confidentiality, and replay\n             protection.  The ability to use
    Transport Layer Security\n             fulfills most of these requirements.  Authentication
    of\n             Location Recipients in this document relies on proof of a\n             shared
    secret -- the location URI.  This does not preclude\n             the addition
    of more robust authentication procedures.\n   Req. 15.  (Minimal Crypto) Compliant:
    The mandatory-to-implement\n             ciphersuite is provided in the TLS layer
    security\n             specification [RFC5246].\n"
  title: Appendix A.  GEOPRIV Using Protocol Compliance
- contents:
  - "Appendix B.  Compliance to Location Reference Requirements\n   This section describes
    how HELD complies to the location reference\n   requirements stipulated in [RFC5808].
    \ Compliance of [RFC5985] to the\n   Location Configuration Protocol is included.\n
    \     Note: Use of HELD as a location dereference protocol does not\n      necessarily
    imply that HELD is the corresponding LCP.  This\n      document is still applicable
    to HTTP location URIs that are\n      acquired by other means.\n"
  - contents:
    - "B.1.  Requirements for a Location Configuration Protocol\n   C1.  \"Location
      URI support: The location configuration protocol MUST\n        support a location
      reference in URI form\".\n        Compliant: HELD only provides location references
      in URI form.\n   C2.  \"Location URI expiration: When a location URI has a limited\n
      \       validity interval, its lifetime MUST be indicated\".\n        Compliant:
      HELD indicates the expiry time of location URIs using\n        the \"expires\"
      attribute.  [GEOPRIV-POLICY-URI] provides a way to\n        control expiration
      of a location URI.\n   C3.  \"Location URI cancellation: The location configuration
      protocol\n        MUST support the ability to request a cancellation of a specific\n
      \       location URI\".\n        Compliant with Extension: [GEOPRIV-POLICY-URI]
      describes how a\n        location URI can be canceled through the application
      of policy.\n        Without extensions, HELD does not provide a method for canceling\n
      \       location URIs.\n   C4.  \"Location Information Masking: The location
      URI MUST ensure, by\n        default, through randomization and uniqueness,
      that the location\n        URI does not contain location information specific
      components\".\n        Compliant: The HELD specification [RFC5985] explicitly\n
      \       references this requirement in providing guidance on the format\n        of
      the location URI.\n   C5.  \"Target Identity Protection: The location URI MUST
      NOT contain\n        information that identifies the Target (e.g., user or device)\".\n
      \       Compliant: The HELD specification [RFC5985] provides specific\n        guidance
      on the anonymity of the Target with regards to the\n        generation of location
      URIs.  Section 6 expands on this\n        guidance.\n   C6.  \"Reuse indicator:
      There SHOULD be a way to allow a Target to\n        control whether a location
      URI can be resolved once only, or\n        multiple times\".\n        Not Compliant:
      Specific extensions to the protocol or\n        authorization policy formats
      are needed to alter the default\n        behavior, which allows unlimited resolution
      of the location URI.\n   C7.  \"Selective disclosure: The location configuration
      protocol MUST\n        provide a mechanism that allows the Rule Maker to control
      what\n        information is being disclosed about the Target\".\n        Compliant
      with Extension: Use of policy mechanisms and\n        [GEOPRIV-POLICY-URI] enable
      this capability.  Note that this\n        document recommends that only location
      information be provided.\n   C8.  \"Location URI Not guessable: As a default,
      the location\n        configuration protocol MUST return location URIs that
      are random\n        and unique throughout the indicated lifetime.  A location
      URI\n        with 128-bits of randomness is RECOMMENDED\".\n        Compliant:
      HELD specifies that location URIs conform to this\n        requirement.  The
      amount of randomness is not specifically\n        identified since it depends
      on a number of factors that change\n        over time, such as the number of
      valid location URIs, the\n        validity period of those URIs, and the rate
      that guesses can be\n        made.\n   C9.  \"Location URI Options: In the case
      of user-provided\n        authorization policies, where anonymous or non-guessable\n
      \       location URIs are not warranted, the location configuration\n        protocol
      MAY support a variety of optional location URI\n        conventions, as requested
      by a Target to a location\n        configuration server, (e.g., embedded location
      information\n        within the location URI)\".\n        Not Compliant: HELD
      does not support Device-specified location\n        URI forms.\n"
    title: B.1.  Requirements for a Location Configuration Protocol
  - contents:
    - "B.2.  Requirements for a Location Dereference Protocol\n   D1.  \"Location
      URI support: The location dereference protocol MUST\n        support a location
      reference in URI form\".\n        Compliant: HELD only provides location references
      in URI form.\n   D2.  \"Authentication: The location dereference protocol MUST
      include\n        mechanisms to authenticate both the client and the server\".\n
      \       Partially Compliant: TLS provides means for mutual\n        authentication.
      \ This document only specifies the required\n        mechanism for server authentication.
      \ Client authentication is\n        not precluded.\n   D3.  \"Dereferenced Location
      Form: The value returned by the\n        dereference protocol MUST contain a
      well-formed PIDF-LO\n        document\".\n        Compliant: HELD requires that
      Location Objects are in the form\n        of a PIDF-LO that complies with [RFC5491].\n
      \  D4.  \"Location URI Repeated Use: The location dereference protocol\n        MUST
      support the ability for the same location URI to be\n        resolved more than
      once, based on dereference server\n        configuration\".\n        Compliant:
      A Location Recipient may access and use a location\n        URI as many times
      as desired until URI expiration results in the\n        URI being invalidated.
      \ Authorization policies might include\n        rules that modify this behavior.\n
      \  D5.  \"The location dereference protocol MUST support confidentiality\n        protection
      of messages sent between the Location Recipient and\n        the location server\".\n
      \       Compliant: This document strongly recommends the use of TLS for\n        confidentiality,
      and HELD mandates its implementation.\n        Unsecured HTTP is permitted:
      the associated risks are described\n        in Section 3.\n"
    title: B.2.  Requirements for a Location Dereference Protocol
  title: Appendix B.  Compliance to Location Reference Requirements
- contents:
  - "Authors' Addresses\n   James Winterbottom\n   Commscope\n   Andrew Building (39)\n
    \  Wollongong University Campus\n   Northfields Avenue\n   Wollongong, NSW  2522\n
    \  AU\n   Phone: +61 242 212938\n   EMail: james.winterbottom@commscope.com\n
    \  Hannes Tschofenig\n   Nokia Siemens Networks\n   Linnoitustie 6\n   Espoo  02600\n
    \  Finland\n   Phone: +358 (50) 4871445\n   EMail: Hannes.Tschofenig@gmx.net\n
    \  URI:   http://www.tschofenig.priv.at\n   Henning Schulzrinne\n   Columbia University\n
    \  Department of Computer Science\n   450 Computer Science Building\n   New York,
    NY  10027\n   USA\n   Phone: +1 212 939 7042\n   EMail: hgs@cs.columbia.edu\n
    \  URI:   http://www.cs.columbia.edu\n   Martin Thomson\n   Microsoft\n   3210
    Porter Drive\n   Palo Alto, CA  94304\n   USA\n   Phone: +1 650-353-1925\n   EMail:
    martin.thomson@skype.net\n"
  title: Authors' Addresses
