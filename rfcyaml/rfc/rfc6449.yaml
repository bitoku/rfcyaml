- title: __initial_text__
  contents:
  - '          Complaint Feedback Loop Operational Recommendations

    '
- title: Abstract
  contents:
  - "Abstract\n   Complaint Feedback Loops similar to those described herein have\n\
    \   existed for more than a decade, resulting in many de facto standards\n   and\
    \ best practices.  This document is an attempt to codify, and thus\n   clarify,\
    \ the ways that both providers and consumers of these feedback\n   mechanisms\
    \ intend to use the feedback, describing some already common\n   industry practices.\n\
    \   This document is the result of cooperative efforts within the\n   Messaging\
    \ Anti-Abuse Working Group, a trade organization separate\n   from the IETF. \
    \ The original MAAWG document upon which this document\n   is based was published\
    \ in April, 2010.  This document does not\n   represent the consensus of the IETF;\
    \ rather it is being published as\n   an Informational RFC to make it widely available\
    \ to the Internet\n   community and simplify reference to this material from IETF\
    \ work.\n"
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This document is not an Internet Standards Track specification;\
    \ it is\n   published for informational purposes.\n   This document is a product\
    \ of the Internet Engineering Task Force\n   (IETF).  It has been approved for\
    \ publication by the Internet\n   Engineering Steering Group (IESG).  Not all\
    \ documents approved by the\n   IESG are a candidate for any level of Internet\
    \ Standard; see Section\n   2 of RFC 5741.\n   Information about the current status\
    \ of this document, any errata,\n   and how to provide feedback on it may be obtained\
    \ at\n   http://www.rfc-editor.org/info/rfc6449.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (c) 2011 IETF Trust and the persons identified\
    \ as the\n   document authors.  All rights reserved.\n   This document is subject\
    \ to BCP 78 and the IETF Trust's Legal\n   Provisions Relating to IETF Documents\n\
    \   (http://trustee.ietf.org/license-info) in effect on the date of\n   publication\
    \ of this document.  Please review these documents\n   carefully, as they describe\
    \ your rights and restrictions with respect\n   to this document.  Code Components\
    \ extracted from this document must\n   include Simplified BSD License text as\
    \ described in Section 4.e of\n   the Trust Legal Provisions and are provided\
    \ without warranty as\n   described in the Simplified BSD License.\n   This document\
    \ may not be modified, and derivative works of it may not\n   be created, except\
    \ to format it for publication as an RFC or to\n   translate it into languages\
    \ other than English.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1. Overview ........................................................4\n\
    \   2. Glossary of Standard Terms ......................................5\n  \
    \ 3. Mailbox Providers and Feedback Providers ........................9\n    \
    \  3.1. Benefits of Providing Feedback .............................9\n      3.2.\
    \ Collecting Complaints .....................................10\n      3.3. Creating\
    \ Reports ..........................................11\n      3.4. Policy Concerns\
    \ ...........................................11\n           3.4.1. Privacy and\
    \ Regulatory Compliance ..................11\n           3.4.2. Terms of Use .......................................12\n\
    \      3.5. Handling Requests to Receive Feedback .....................12\n  \
    \         3.5.1. Application Web Site ...............................13\n    \
    \       3.5.2. Saying No ..........................................14\n      \
    \     3.5.3. Automation .........................................14\n      3.6.\
    \ Ongoing Maintenance .......................................15\n           3.6.1.\
    \ IP Validation ......................................15\n           3.6.2. Email\
    \ Address Validation ...........................16\n           3.6.3. Feedback\
    \ Production Changes ........................16\n   4. Feedback Consumers .............................................16\n\
    \      4.1. Preparation ...............................................17\n  \
    \    4.2. What You'll Receive .......................................18\n    \
    \       4.2.1. Feedback Reports ...................................18\n      \
    \     4.2.2. Administrative Messages ............................18\n        \
    \   4.2.3. Report Cards .......................................18\n      4.3.\
    \ Handling Feedback Messages ................................19\n           4.3.1.\
    \ Unsubscription or Suppression ......................20\n           4.3.2. Trending\
    \ and Reporting .............................21\n      4.4. Automatically Handling\
    \ an Incoming Feedback Stream ........22\n   5. Conclusion .....................................................25\n\
    \   6. Acknowledgments ................................................26\n  \
    \    6.1. About MAAWG ...............................................26\n   7.\
    \ Security Considerations ........................................26\n   8. Informative\
    \ References .........................................26\n   Appendix A. Abuse\
    \ Reporting Format (ARF) ..........................28\n     A.1. A Brief History\
    \ ............................................28\n     A.2. Structure of an ARF\
    \ Message ................................28\n   Appendix B. Using DKIM to Route\
    \ Feedback ..........................29\n   Appendix C. Unsolicited Feedback ..................................30\n\
    \     C.1. Guidelines .................................................30\n  \
    \   C.2. Pros .......................................................30\n    \
    \ C.3. Cons .......................................................31\n"
- title: 1.  Overview
  contents:
  - "1.  Overview\n   The intent of a Complaint Feedback Loop is to provide Feedback\n\
    \   Consumers with information necessary to mitigate Spam or the\n   perception\
    \ of Spam.  Thus, feedback was originally only offered to\n   mailbox, access,\
    \ and network providers -- in other words, to ISPs --\n   who would use the feedback\
    \ to identify network compromises and\n   fraudulent accounts or to notify their\
    \ downstream customer that there\n   may be a problem.\n   Senders of bulk, transactional,\
    \ social, or other types of email can\n   also use this feedback to adjust their\
    \ mailing practices, using Spam\n   Complaints as an indicator of whether the\
    \ Recipient wishes to\n   continue receiving email.  Common reactions often include\
    \ refining\n   opt-in practices, mailing frequency, list management, message\n\
    \   content, and other measures.  Over time, this has become the Feedback\n  \
    \ Consumer use case most often discussed at MAAWG meetings and other\n   industry\
    \ events -- but readers are cautioned that it is not the sole\n   use for feedback.\n\
    \                              [ Feedback Consumer Database ]\n              \
    \                              |\n                                           \
    \ V\n   [  User   ]    [ Mailbox  ]         [ Feedback ]\n   [ Reports ]--->[\
    \ Provider ]--SMTP-->[ Provider ]\n   [  Spam   ]         |                  \
    \  |\n                       V                    V               [ Feedback ]\n\
    \             [Spam Filter Rules]    [ ARF Message ]--SMTP-->[ Consumer ]\n  \
    \                               Figure 1\n   When an End User of a Mailbox Provider\
    \ issues a Spam Complaint, the\n   Feedback Provider sends a report to the Feedback\
    \ Consumer.  This\n   report may include the Full Body of the original email or\
    \ (less\n   commonly) only the full header of the original email.  Some Feedback\n\
    \   Providers will redact information deemed private, such as the Message\n  \
    \ Recipient's Email Address.\n   Ensuring that Feedback Messages are only sent\
    \ to authorized Feedback\n   Consumers is the responsibility of the Feedback Provider,\
    \ with the\n   identity of each message Sender generally determined from the SMTP\n\
    \   session's connecting IP address or a message's DomainKeys Identified\n   Mail\
    \ (DKIM) signature domain, both of which are hard to forge.  This\n   is important\
    \ because Spammers and other miscreants may also attempt\n   to apply for Feedback\
    \ Loops on networks not belonging to them, in an\n   attempt to steal Email Addresses\
    \ and other private personal or\n   corporate information.\n   It is the responsibility\
    \ of the Feedback Consumer to identify the\n   source and nature of the original\
    \ message in the reports they receive\n   and take any appropriate action.  The\
    \ Feedback Provider does not make\n   any claims or judgments about the validity\
    \ of the complaint, beyond\n   whatever technical data the Feedback Provider has\
    \ themselves\n   included.  Every complaint is forwarded to the Feedback Consumer\n\
    \   without human review, without any additional application of filters;\n   thus,\
    \ some individual reports may prove not to be actionable.\n   The Feedback Consumer\
    \ and the Feedback Provider will each evaluate a\n   Spam Complaint for validity\
    \ and take whatever action deemed necessary\n   from their own perspective and,\
    \ in most cases, will not communicate\n   with each other which actions were (or\
    \ were not) taken.  Similarly,\n   it is rare for any party to communicate further\
    \ with the End User who\n   initiated the complaint.\n"
- title: 2.  Glossary of Standard Terms
  contents:
  - "2.  Glossary of Standard Terms\n   Wherever possible, these terms are derived\
    \ from [RFC5598].\n   o  Abuse Reporting Format - The standard format for Feedback\n\
    \      Messages, defined in Appendix A and [MARF].\n   o  Access Provider - Any\
    \ company or organization that provides End\n      Users with access to the Internet.\
    \  It may or may not be the same\n      entity that the End User uses as a Mailbox\
    \ Provider.\n   o  Application for Feedback Loop - the process, manual or online,\
    \ by\n      which a prospective Feedback Consumer requests to receive a\n    \
    \  Feedback Loop from a particular Feedback Provider.\n   o  ARF -- See \"Abuse\
    \ Reporting Format\".\n   o  ARF Report -- See \"Feedback Message\".\n   o  Body\
    \ - See \"Full Body\".\n   o  Complaint or Complaint Message - See \"Feedback\
    \ Message\".\n   o  Complaint Feedback Loop - See Overview and Taxonomy section.\n\
    \   o  Complaint Stream - See \"Feedback Stream\".\n   o  Delivery - See \"Message\
    \ Delivery\".\n   o  DKIM - DomainKeys Identified Mail, further described in the\
    \ MAAWG\n      email authentication white paper \"Trust in Email Begins with\n\
    \      Authentication\" [Trust] and [DKIM].\n   o  End User - A customer of a\
    \ Mailbox Provider or Access Provider.\n   o  Envelope Sender - The Email Address\
    \ included as the argument to\n      the [SMTP] \"MAIL\" command during transfer\
    \ of a message.\n   o  Email Address - A string of the form user@domain, where\
    \ the domain\n      (after the @ symbol) is used to determine where to transfer\
    \ an\n      email message so that it may be delivered to the mailbox specified\n\
    \      by the username (before the @ symbol).  The precise technical\n      format\
    \ of an Email Address is defined in [SMTP].  Email delivery\n      can be a complex\
    \ process and is not described further in this\n      document.\n   o  Email Service\
    \ Provider (ESP) - A provider of email sending\n      services; the ESP is often\
    \ a Message Originator working on behalf\n      of a Message Author.  MAAWG uses\
    \ the term \"ESP\" solely for this\n      definition and does not refer to a Mailbox\
    \ Provider for End Users\n      as ESPs.\n   o  FBL - The acronym \"FBL\" (Feedback\
    \ Loop) is intentionally not used\n      in this document.\n   o  Feedback or\
    \ Feedback Stream - A set (often a continuous stream) of\n      Feedback Messages\
    \ sent from a single Feedback Provider to a single\n      Feedback Consumer.\n\
    \   o  Feedback Consumer - A Recipient of the Feedback Messages, almost\n    \
    \  always on behalf of or otherwise associated with the Message\n      Originator.\
    \  Often the Message Originator and Feedback Consumer\n      are the same entity,\
    \ but we describe them separately in this\n      document because they are each\
    \ responsible for different parts of\n      the Complaint Feedback Loop process,\
    \ as demonstrated in the\n      flowchart in the Overview section.\n   o  Feedback\
    \ Loop - See Complaint Feedback Loop.\n   o  Feedback Message - A single message,\
    \ often using the Abuse\n      Reporting Format defined above and outlined in\
    \ Appendix 1, which\n      is part of a Feedback Stream.\n   o  Feedback Provider\
    \ - The Sender of the Feedback Messages, almost\n      always on behalf of or\
    \ associated with the Mailbox Provider.\n      Often the Mailbox Provider and\
    \ Feedback Provider are the same\n      entity, but we describe them separately\
    \ in this document because\n      they are each responsible for different parts\
    \ of the Complaint\n      Feedback Loop process.  In some instances, the Feedback\
    \ Provider\n      may be operating solely on behalf of the Message Recipient,\n\
    \      without any direct participation from their Mailbox Provider.\n   o  Full\
    \ Body - An email message (the \"DATA\" portion of the [SMTP]\n      conversation)\
    \ consists of two parts: the header and the body.  The\n      \"Full Body\" is\
    \ simply the entirety of the body of the message,\n      without modification\
    \ or truncation.  Note that images or other so-\n      called \"attachments\"\
    \ are actually part of the body, designated in\n      accordance with the [MIME]\
    \ standard.\n   o  Full Header Section - An email message (the \"DATA\" portion\
    \ of the\n      [SMTP] conversation) consists of two parts: the header and the\n\
    \      body.  The header contains multiple header fields, each formatted\n   \
    \   as \"Header-Name: header contents\".  Although most Mail User Agents\n   \
    \   (MUAs) only show the basic four header fields (From, To, Date, and\n     \
    \ Subject), every message includes additional header fields that\n      primarily\
    \ contain diagnostic information or data intended to\n      assist automatic processing.\
    \  Often informally called \"Full\n      Headers\".  These fields are fully defined\
    \ in [RFC5322]\n   o  Header - See \"Full Header Section\" above.\n   o  ISP -\
    \ Internet Service Provider, usually referred to as either an\n      Access Provider\
    \ or a Mailbox Provider in this paper.\n   o  Mail Abuse Reporting Format (MARF)\
    \ - See \"Abuse Reporting Format\"\n      above.\n   o  Mailbox Provider - A company\
    \ or organization that provides email\n      mailbox hosting services for End\
    \ Users and/or organizations.  Many\n      Mailbox Providers are also Access Providers.\n\
    \   o  Mailing List - A set of Email Addresses that will receive specific\n  \
    \    messages in accordance with the policies of that particular list.\n   o \
    \ Message-ID Header Field - One of the diagnostic header fields\n      included\
    \ in every email message (see \"Full Header Section\" above)\n      is the Message-ID.\
    \  Theoretically, it is a unique identifier for\n      that individual message.\n\
    \   o  Message Delivery - The process of transferring a message from one\n   \
    \   mail transfer agent (MTA) to another.  Once the message has been\n      accepted\
    \ by the MTA operating on behalf of the Recipient, it is\n      considered to\
    \ be \"delivered\" regardless of further processing or\n      filtering that may\
    \ take place after that point.\n   o  Message Originator - The Sender, but not\
    \ necessarily the author or\n      creator, of a message.\n   o  Message Recipient\
    \ - The person or mailbox that receives a message\n      as final point of delivery.\n\
    \   o  MIME - Multipurpose Internet Mail Extensions refers to a set of\n     \
    \ standards permitting non-plaintext data to be embedded in the body\n      of\
    \ a message.  Concepts such as file attachments and formatted or\n      \"rich\"\
    \ text are all accomplished solely through [MIME].\n   o  MUA - Mail User Agent;\
    \ loosely referring to the software used by\n      an End User to access, interact\
    \ with, or send email messages.\n   o  Provider - See \"Feedback Provider\" above.\n\
    \   o  Received Header Field - Diagnostic header fields included in an\n     \
    \ email message (see \"Full Header Section\" above) that start with\n      \"\
    Received:\" and document (from bottom to top) the path a message\n      traversed\
    \ from the originator to its current position.\n   o  Recipient - See \"Message\
    \ Recipient\" above.\n   o  Return-Path - An optional message header field (see\
    \ \"Full Header\n      Section\" above) that indicates the Envelope Sender of\
    \ the message.\n   o  Reverse DNS - The [DNS] name of an IP address, called \"\
    reverse\"\n      because it is the inverse of the more user-visible query that\n\
    \      returns the IP address of a DNS name.  Further, a Reverse DNS\n      query\
    \ returns a PTR record rather than an A record.\n   o  Sender - see \"Message\
    \ Originator\" above.\n   o  SMTP - Simple Mail Transfer Protocol, the mechanism\
    \ and language\n      for transferring an email message from one place to another\
    \ as\n      defined in RFC 5321 [SMTP].\n   o  Spam - For the purposes of this\
    \ document (and for most Complaint\n      Feedback Loops), \"spam\" is defined\
    \ as any message that the\n      Recipient chooses to complain about, regardless\
    \ of the intent of\n      the message's author or Sender.\n   o  Spam Complaint\
    \ - See \"Complaint\" above.\n   o  Spammer - An entity that knowingly, intentionally\
    \ sends Spam\n      messages (see \"Spam\" above).\n   o  Terms of Use - A legal\
    \ document describing how a particular system\n      or service is to be used.\n\
    \   o  VERP - Variable Envelope Return Path [VERP], an informally\n      standardized\
    \ method for encoding information about the Message\n      Recipient into the\
    \ return path while delivering a message in order\n      to ensure that any non-delivery\
    \ notices are processed correctly.\n"
- title: 3.  Mailbox Providers and Feedback Providers
  contents:
  - "3.  Mailbox Providers and Feedback Providers\n   In practice, a Mailbox Provider\
    \ receives complaints from their End\n   Users, and is often also the Feedback\
    \ Provider for those complaints\n   and is a consumer of feedback from other providers.\
    \  In this\n   document, we separate the Mailbox Provider and Feedback Provider\n\
    \   functions to reduce possible confusion over those cases where they\n   are\
    \ separate, and we also urge Mailbox Providers to read the\n   \"Feedback Consumer\"\
    \ section later in this document.\n"
- title: 3.1.  Benefits of Providing Feedback
  contents:
  - "3.1.  Benefits of Providing Feedback\n   The decision to provide a Complaint\
    \ Feedback Loop service should not\n   be taken lightly.  The benefits of a Feedback\
    \ Loop are great, but\n   success depends on a sound plan, organized implementation,\
    \ and\n   dedication to upkeep.\n   What are some benefits of providing feedback\
    \ to fellow Mailbox\n   Providers and Access Providers?  Primarily, other industry\
    \ actors are\n   quickly alerted to Spam outbreaks on their networks.\n   End\
    \ Users are becoming more aware of and comfortable with mechanisms\n   to report\
    \ Spam, and a Feedback Loop does just what it implies; it\n   closes the loop.\
    \  The End User's complaint makes its way back to the\n   Message Originator (not\
    \ necessarily the message Sender, who may be a\n   Spammer), allowing the originator\
    \ to take appropriate action.  In\n   this process, the mail system operator is\
    \ just a messenger, relieved\n   of the responsibility of reviewing and forwarding\
    \ complaints\n   manually.\n   Further, because every complaint is sent immediately\
    \ -- without any\n   review or analysis by the Feedback Provider -- the complaint\
    \ is\n   received by the Feedback Consumer in near real time.  If the Feedback\n\
    \   Consumer is paying attention to their Feedback Stream and taking\n   appropriate\
    \ action on it, the receiving Mailbox Provider receives\n   less Spam, blocks\
    \ less legitimate mail, and does not have to assign\n   staff to follow up with\
    \ the originating network.  If the Mailbox\n   Provider does not pay attention\
    \ to its Feedback Stream, and does not\n   take appropriate action, the Feedback\
    \ Provider may block or otherwise\n   filter the email from that Message Originator,\
    \ considering the\n   Feedback Messages to be sufficient notice.\n   What are\
    \ some benefits of providing Feedback Loops to bulk Feedback\n   Consumers?  As\
    \ Message Recipients become more aware of and\n   comfortable with Spam reporting\
    \ mechanisms, they often prefer this\n   method over the often-confusing and inconsistent\
    \ \"unsubscribe\" or\n   \"opt-out\" mechanisms provided by most legitimate Message\
    \ Originators\n   or Senders.\n   End Users often do not remember what lists they\
    \ signed up for or are\n   otherwise not confident in the established relationship\
    \ they may have\n   with a message Sender.  As such, they often choose to report\
    \ messages\n   as Spam to their Mailbox Providers, considering that to be sufficient\n\
    \   notification of their desire not to receive such email in the future.\n  \
    \ If the Message Originator is paying attention to and taking\n   appropriate\
    \ action on their Feedback Stream, it will have a happier\n   set of Message Recipients\
    \ and should receive fewer Spam Complaints\n   (assuming their opt-in processes\
    \ are sound).  If the Message\n   Originator is not paying attention to Feedback\
    \ and not taking\n   appropriate action, the Mailbox Provider may consider the\
    \ Feedback\n   Stream sufficient notice that messages from that originator may\
    \ no\n   longer be accepted in the future.\n"
- title: 3.2.  Collecting Complaints
  contents:
  - "3.2.  Collecting Complaints\n   To produce Feedback Messages and to ensure they\
    \ are useful, the\n   Feedback Provider needs to obtain near real-time complaints\
    \ from the\n   Mailbox Provider's users.  This is typically done by integrating\
    \ the\n   feedback mechanism with the collection of Spam reports from its\n  \
    \ users.\n   These reports are typically made using the \"Report Spam\" buttons\n\
    \   integrated into Webmail interfaces, or a proprietary desktop client\n   provided\
    \ to users.  Mailbox Providers may also look at deploying a\n   toolbar or MUA\
    \ plug-in that provides a \"Report Spam\" button in the\n   MUA interface.\n \
    \  Usability studies with average users should be performed on all\n   interface\
    \ changes before implementation.  A \"help\" interface should\n   also be available\
    \ to educate users about how the Spam button should\n   be used and what it does.\n\
    \   If the Mailbox Provider does not offer its customers a mail client\n   with\
    \ this button, then the Feedback Provider's chances for providing\n   an effective\
    \ Feedback Loop are slim.  While it is possible for the\n   Mailbox Provider to\
    \ instruct its customers to forward unwanted mail\n   to a central location and\
    \ for the Mailbox Provider to explain how to\n   ensure the report includes headers\
    \ and bodies, the success rate of\n   customers doing so tends to be low.  Even\
    \ those complaints that do\n   contain all required information might prove difficult\
    \ to parse, as\n   variations in formatting and content types will lead to automated\n\
    \   tools being consistently updated with new logic blocks for each\n   variation\
    \ that occurs.\n"
- title: 3.3.  Creating Reports
  contents:
  - "3.3.  Creating Reports\n   It is recommended that Feedback Messages be sent using\
    \ the standard\n   Abuse Reporting Format, to facilitate uniformity and ease of\n\
    \   processing for all consumers of feedback.  This will also enable the\n   Feedback\
    \ Provider to extensively automate the processes of generating\n   and sending\
    \ Feedback Messages and of analyzing complaint statistics.\n   This format is\
    \ described further in Appendix 1.\n   Feedback Loops are usually (but not always)\
    \ keyed to the \"last hop\"\n   IP address (i.e., the IP address that passed the\
    \ unwanted message to\n   the Mailbox Provider's servers).  Consequently, the\
    \ Feedback Provider\n   must be able to process the header from each complaint\
    \ to determine\n   the IP address for the complaint.\n   A Feedback Provider may\
    \ wish to provide, as part of its Feedback\n   Loop, other information beyond\
    \ Spam Complaints that Feedback\n   Consumers may find valuable.  It might include\
    \ summary delivery\n   statistics (volume, inbox delivery rate, Spam trap hits,\
    \ etc.) or\n   other data that the Feedback Provider may deem pertinent to Feedback\n\
    \   Consumers.\n   Any mature Feedback Loop system will produce situations in\
    \ which the\n   Feedback Consumer may have follow-up questions or have other\n\
    \   information to provide in regard to the feedback.  Feedback Messages\n   should\
    \ include contact information (typically an Email Address) for\n   the Feedback\
    \ Consumer to use for such questions, and ideally the\n   contact Email Address\
    \ will feed into a ticket system or other\n   automated tool used by the Mailbox\
    \ Provider's postmaster and/or anti-\n   abuse staff for handling general email\
    \ delivery issues.\n"
- title: 3.4.  Policy Concerns
  contents:
  - '3.4.  Policy Concerns

    '
- title: 3.4.1.  Privacy and Regulatory Compliance
  contents:
  - "3.4.1.  Privacy and Regulatory Compliance\n   Feedback Messages provide information\
    \ relayed by Feedback Providers\n   from a Mailbox Provider's End Users to the\
    \ Feedback Consumer.  There\n   might not be any concerns with relaying non-private\
    \ data to a third\n   party.  However, the information provided in the complaints\
    \ generated\n   by the user must be evaluated and any data deemed private may\
    \ need to\n   be removed before distributing to a third party, per local policy.\n\
    \   For example, the Recipient's or reporter's Email Address and IP\n   address\
    \ may be categorized as private data and removed from the\n   feedback report\
    \ that is provided to the Feedback Consumer.  Privacy\n   laws and corporate data\
    \ classification standards should be consulted\n   when determining what information\
    \ should be considered private.\n   Information provided by the Feedback Consumer\
    \ to the Feedback\n   Provider for the purpose of enrolling in the Feedback Loop\
    \ should\n   also be kept private.  It should only be shared or used for the\n\
    \   purposes explicitly agreed to during the enrollment process (see the\n   \"\
    Terms of Use\" section below).\n   Feedback Loops inevitably span country borders.\
    \  Local laws and\n   regulations regarding distribution of information domestically\
    \ and\n   internationally need to be considered when implementing a Feedback\n\
    \   Loop program.  For example, in some European countries, data exchange\n  \
    \ requires permission from governing bodies.  The terms and\n   circumstances\
    \ surrounding the exchange of data need to be clearly\n   defined and approved.\n"
- title: 3.4.2.  Terms of Use
  contents:
  - "3.4.2.  Terms of Use\n   A written Terms of Use agreement should be provided\
    \ by the Feedback\n   Provider and agreed to by the Feedback Consumer before any\
    \ feedback\n   is provided.  The following concepts should be considered when\n\
    \   drafting the terms of use agreement:\n   o  Data provided in Feedback Messages\
    \ are provided to a specific,\n      approved entity.  Information should not\
    \ be transmitted outside of\n      the intended, approved Recipient.  Any inappropriate\
    \ use of the\n      information can lead to immediate termination from the feedback\n\
    \      program.\n   o  Consumers of Feedback have a responsibility to keep the\n\
    \      information they provide for Feedback Loop purposes -- such as\n      abuse\
    \ contact information, IP addresses, and other records --\n      accurate and\
    \ up to date.\n   o  The providing of Feedback information is a privilege and\
    \ needs to\n      be treated appropriately.  It does not entitle the consumer\
    \ of the\n      feedback to any special sending privileges.\n   o  Approval and\
    \ continued enrollment in the program is a privilege\n      that can be denied\
    \ or revoked for any reason and at any time.\n"
- title: 3.5.  Handling Requests to Receive Feedback
  contents:
  - "3.5.  Handling Requests to Receive Feedback\n   There should be a streamlined\
    \ application process for receiving\n   feedback and the vetting of such applications.\
    \  This vetting may be\n   stringent in cases where the Mailbox Provider chooses\
    \ to tie its\n   Complaint Feedback Loop program to a whitelist.  Criteria may\
    \ involve\n   the following:\n   o  Cross-checking that the requestor is indeed\
    \ authorized to receive\n      feedback for the IP addresses concerned.\n   o\
    \  Gathering other information such as whether the IPs are an ISP\n      smarthost\
    \ network, a webhosting farm, an email marketing or\n      Mailing List service,\
    \ or other entity.\n   o  Requesting information such as a link to the policies\
    \ of the\n      requestor, contacts to send Feedback Messages, and escalation\n\
    \      points of contact.\n   Ideally, enrollment will be a two-step process,\
    \ with the applicant\n   filling out a form and being required to receive and\
    \ acknowledge a\n   confirmation email (best sent to abuse@ or postmaster@ the\
    \ domain in\n   question) before the applicant's request is even put into the\
    \ queue\n   for the Feedback Provider to process.\n   Ownership of IP addresses\
    \ can and should be cross-checked by means of\n   origin Autonomous System Number\
    \ (ASN), WHOIS/RWHOIS records, Reverse\n   DNS of the sending hosts, and other\
    \ sources.  This can be automated\n   to some extent, but it often requires some\
    \ manual processing.\n"
- title: 3.5.1.  Application Web Site
  contents:
  - "3.5.1.  Application Web Site\n   Applications for Feedback Loops can be accepted\
    \ on a stand-alone web\n   site or can be part of the Mailbox Provider's postmaster\
    \ site.\n   Regardless, the web site for the Complaint Feedback Loop program\n\
    \   should contain other content specific to the Feedback Loop, including\n  \
    \ FAQs for the Feedback Loop program, the Terms of Service for the\n   Feedback\
    \ Loop, and perhaps a method for enrolled parties to modify\n   their existing\
    \ enrollments.\n   The web site should also provide the Feedback Consumer with\
    \ general\n   information on how the feedback will be sent, including:\n   o \
    \ Report Format (ARF or otherwise)\n   o  Sending IP addresses and/or DKIM \"\
    d=\" string\n   o  \"From\" Email Address\n"
- title: 3.5.2.  Saying No
  contents:
  - "3.5.2.  Saying No\n   Denial of a Feedback Loop application may be appropriate\
    \ in certain\n   cases such as:\n   o  Where the Feedback Provider suspects \"\
    gaming\" of delivery policies\n      via the Feedback received, with attempts\
    \ to pollute Feedback Loop\n      metrics by, for example, creating bogus accounts\
    \ and reporting\n      false negatives with these, to offset the negative reputation\n\
    \      caused by high complaint rates.\n   o  Where the Feedback Provider has\
    \ decided to block the Message\n      Originator's IP space for which feedback\
    \ has been requested on the\n      grounds that email from that originator has\
    \ a sufficiently\n      negative reputation that it will not be delivered at all.\
    \  This is\n      somewhat on the lines of a global unsubscribe of the Message\n\
    \      Provider's users from the originator's lists, which would make\n      rendering\
    \ additional feedback unnecessary.\n   It is recommended that the Feedback Provider\
    \ send notification if an\n   application is denied.  Additionally, they should\
    \ maintain a\n   documented, clear, and transparent appeals process for denial\
    \ of\n   requests.  This process can be as simple as the prospective Feedback\n\
    \   Consumer replying to the denial email requesting review or escalation\n  \
    \ to a team lead, which also cites reasons the application should be\n   reviewed.\n"
- title: 3.5.3.  Automation
  contents:
  - "3.5.3.  Automation\n   For a Feedback Loop to be cost-effective and usable for\
    \ large\n   Feedback Consumers and Feedback Providers, it must be possible for\n\
    \   reports to be generated and processed automatically without any human\n  \
    \ interaction.  On the other hand, it should be possible for small\n   Feedback\
    \ Consumers to handle a low volume of reports manually,\n   without requiring\
    \ any automation.\n   In automating the feedback process, the consumer of the\
    \ Feedback\n   Stream must receive enough information about the report that it\
    \ can\n   take appropriate action, typically to remove the Recipient from the\n\
    \   Mailing List about which it is sending a report.  The Recipient's\n   Email\
    \ Address is not enough, as the Recipient may be on several\n   Mailing Lists\
    \ managed by the Feedback Loop consumer and only need to\n   be removed from the\
    \ particular list reported.\n   Also, some producers of Feedback Loops might redact\
    \ the Recipient's\n   Email Address for privacy reasons.  Effective implementation\
    \ of a\n   Complaint Feedback Loop requires that the Feedback Provider put in\n\
    \   place as many automated processes and tools as feasible to handle all\n  \
    \ aspects of the process.  Feedback Providers should seek to automate\n   or script\
    \ the following:\n   o  Accepting and validating Feedback Loop Applications from\n\
    \      prospective Feedback Consumers.\n   o  Processing requests to determine\
    \ whether or not they meet the\n      Feedback Provider's criteria for enrollment\
    \ in the program.\n   o  Accepting Spam Complaints from End Users; this will form\
    \ the bulk\n      (and perhaps sole) component of the feedback sent by the Feedback\n\
    \      Provider.\n   o  Production of Feedback Messages from Spam Complaints.\n\
    \   o  Production of other Feedback Loop artifacts as chosen by the\n      Feedback\
    \ Provider.\n   o  Optionally, provision of a mechanism for Feedback Consumers\
    \ to\n      further engage a Feedback Provider about a given Feedback Message.\n\
    \   o  Ongoing validation of Feedback Loop enrollments to determine if a\n   \
    \   currently enrolled IP address or network merits continued\n      inclusion\
    \ in the Feedback Loop.\n   o  Optional periodic emails to Feedback Consumers\
    \ to determine if\n      their enrolled Email Addresses are still valid.\n"
- title: 3.6.  Ongoing Maintenance
  contents:
  - "3.6.  Ongoing Maintenance\n   It is recommended that self-service maintenance\
    \ be offered to\n   Feedback Consumers, to the extent practicable.  The more they\
    \ can do\n   themselves, the less you have to do.\n"
- title: 3.6.1.  IP Validation
  contents:
  - "3.6.1.  IP Validation\n   The criteria that a Feedback Provider uses to validate\
    \ a Feedback\n   Loop application may change over time.  It is a near certainty\
    \ at\n   least some subset of Feedback Consumers enrolled to receive feedback\n\
    \   will at some point after enrollment fail to meet those criteria,\n   regardless\
    \ of whether or not the criteria change.\n   The Feedback Provider should put\
    \ in place tools to periodically\n   re-validate all Feedback Consumers enrolled\
    \ in its Feedback Loop\n   system against its current criteria.  Additionally,\
    \ the Feedback\n   Provider will likely have objective criteria for remaining\
    \ in the\n   Feedback Loop for enrolled Feedback Consumers; the enrolled consumers\n\
    \   should be validated against those criteria as well.\n"
- title: 3.6.2.  Email Address Validation
  contents:
  - "3.6.2.  Email Address Validation\n   Just as some Mailing List software has the\
    \ built-in ability to send\n   periodic \"probe\" emails to subscribed addresses\
    \ to validate them, so\n   too should the Feedback Provider develop tools to send\
    \ similar emails\n   to the addresses receiving Feedback Messages to ensure that\
    \ they are\n   valid.  This is especially true for the addresses that are not\
    \ the\n   abuse@ and postmaster@ addresses originally used as part of the\n  \
    \ enrollment acknowledgment step.  Over time, people may change\n   employers,\
    \ or at least roles, and validating the Email Addresses\n   associated with an\
    \ IP is one way for the Feedback Provider to ensure\n   that Feedback Messages\
    \ are still being accepted and acted upon by the\n   Feedback Consumer.\n"
- title: 3.6.3.  Feedback Production Changes
  contents:
  - "3.6.3.  Feedback Production Changes\n   Updating Feedback Consumers when one's\
    \ own IP addresses are changing\n   is an important aspect of Feedback Loop maintenance.\
    \  The exact\n   format, automation, and other considerations of these updates\
    \ are\n   outside the scope of this document, but are topics worthy of further\n\
    \   discussion and eventual documentation.\n"
- title: 4.  Feedback Consumers
  contents:
  - "4.  Feedback Consumers\n   A Feedback Consumer receives its Feedback Messages\
    \ after its\n   submitted Application for a Complaint Feedback Loop is approved.\
    \  A\n   Feedback Consumer will usually have Complaint Feedback Loop\n   subscriptions\
    \ set up with multiple Feedback Providers.  Different\n   Feedback Streams may\
    \ be in different formats or include different\n   information, and the Feedback\
    \ Consumer should identify a process to\n   organize the data received and take\
    \ appropriate action.\n   A Feedback Consumer, Mailbox Provider, or Access Provider\
    \ (i.e., a\n   hosting company or ISP) will use this Feedback to identify network\n\
    \   compromises, fraudulent accounts, policy violations, and other\n   concerns.\
    \  The Feedback Loop provides real-time visibility into Spam\n   Complaints from\
    \ Message Recipients, greatly enabling these Mailbox\n   Providers to mitigate\
    \ Spam propagating from their networks.\n   Senders of bulk email should use the\
    \ complaints to make decisions\n   regarding future mailings.  Such decisions\
    \ may include one or more of\n   the following: modification of email frequency,\
    \ branding, opt-in\n   practices, or list management.\n   The authors of this\
    \ document urge those who are solely Feedback\n   Consumers to also read the previous\
    \ sections for Mailbox Providers\n   and Feedback Providers.  This will provide\
    \ the proper context of the\n   recommendations included below.\n   Further recommendations\
    \ for bulk senders may be found in the MAAWG\n   Sender Best Communications Practices\
    \ [MAAWG-BCP].\n"
- title: 4.1.  Preparation
  contents:
  - "4.1.  Preparation\n   Feedback Consumers need to prepare to process and act on\
    \ feedback\n   before asking to receive it.  At a minimum, make sure to have:\n\
    \   1.  The \"Role\" Email Addresses such as abuse@ and postmaster@.  The\n  \
    \     person who applies for the Feedback needs to make sure they have\n     \
    \  access to these Email Addresses.  Feedback Providers often send a\n       confirmation\
    \ link to those accounts to prevent End Users,\n       Spammers, or competitors\
    \ from signing up for Feedback for which\n       they are not authorized.\n  \
    \ 2.  A dedicated Email Address to receive the Feedback Messages, such\n     \
    \  as fbl@example.com or isp-feedback@example.com.  While not\n       required,\
    \ this will make it easier for to process the reports\n       received.\n   3.\
    \  A list of IP addresses for which you want to receive Feedback\n       Messages,\
    \ making sure you can prove the ownership of the IP\n       addresses and associated\
    \ domains.  Feedback Providers often\n       require that:\n       *  Reverse\
    \ DNS for each IP shares the domain of either the\n          applicant's Email\
    \ Address or the Email Address that will be\n          receiving the Feedback\
    \ Messages.\n       *  WHOIS information for the IPs requested is obviously\n\
    \          associated with the domain name.\n   4.  Contact information such as\
    \ name, Email Address, phone number,\n       and other relevant information.\n\
    \   5.  The knowledge that if the application form asks for your credit\n    \
    \   card number or other financial information, it is assuredly a\n       scam.\n"
- title: 4.2.  What You'll Receive
  contents:
  - "4.2.  What You'll Receive\n   Once a Feedback Consumer has signed up to receive\
    \ feedback from a\n   Feedback Provider, it may also receive several other sorts\
    \ of\n   delivery-related reports.  This includes Feedback Messages,\n   administrative\
    \ messages, and other messages.\n"
- title: 4.2.1.  Feedback Reports
  contents:
  - "4.2.1.  Feedback Reports\n   Feedback Messages are the main emails generally\
    \ associated with a\n   Feedback Loop.  Each time a Recipient hits the \"This\
    \ Is Spam\" button,\n   the Feedback Loop system creates a boilerplate report\
    \ with a copy of\n   the original email attached and sends it to the consumer\
    \ of the\n   Feedback Loop.\n   The handling of feedback reports is discussed\
    \ in the next section.\n"
- title: 4.2.2.  Administrative Messages
  contents:
  - "4.2.2.  Administrative Messages\n   Administrative messages will typically be\
    \ sent to the Email Address\n   provided for contacting the person who originally\
    \ applied for the\n   Feedback Loop, rather than to the address provided for handling\
    \ the\n   Feedback Messages.  These messages are likely to be sent infrequently\n\
    \   and irregularly, but it is important they are seen by the person\n   managing\
    \ the Feedback Stream processor in a timely manner.  It is\n   usually a poor\
    \ idea to have these sent to an individual's Email\n   Address since they may\
    \ be lost if that person is on vacation, changes\n   position within the company,\
    \ or leaves the company.\n   Instead, they should be sent to a role account that\
    \ goes to a\n   ticketing system or \"exploded\" to multiple responsible parties\
    \ within\n   the organization.  If there is not already an appropriate role\n\
    \   account such as support@ or noc@ that reaches the right team, it may\n   be\
    \ a good idea to set up a dedicated alias such as fblmaster@ to sign\n   up for\
    \ all Feedback Loops.\n"
- title: 4.2.3.  Report Cards
  contents:
  - "4.2.3.  Report Cards\n   The detail in a report card can vary greatly.  Feedback\
    \ Providers\n   might send a regular summary of traffic levels and complaint rates\n\
    \   seen, perhaps just an overview or possibly broken down by source IP\n   address\
    \ or some other identifier.  Sometimes these may be sent just\n   when some metric\
    \ (typically a complaint rate) reaches a level that\n   causes the Mailbox Provider\
    \ to notify the Feedback Consumer there may\n   be a problem developing that needs\
    \ to be investigated and addressed.\n   At the other extreme, some report cards\
    \ will contain almost no useful\n   data at all, just a warning that the Message\
    \ Originator is causing\n   complaints -- with the implication that its email\
    \ will be blocked\n   unless it is improved.\n   Report cards are human readable,\
    \ since there are not currently any\n   standard machine-readable formats and\
    \ the information they include,\n   both the provided metrics and their semantics,\
    \ varies widely from one\n   Mailbox Provider to another.  They are useful reference\
    \ overviews for\n   a Message Originator to monitor the overall perceived quality\
    \ of the\n   email it sends and, in the case of ESPs, perhaps which customers\
    \ are\n   causing higher than expected rates of complaints.  They can also be\n\
    \   the only warning of serious problems prior to email being blocked\n   altogether\
    \ by the receiving Mailbox Provider.  It is critical they be\n   are seen by someone\
    \ handling delivery issues for the Message\n   Originator, so again, they should\
    \ be handled by an email alias that\n   is always read.\n   Report cards also\
    \ contain useful data to track mechanically and\n   perhaps report on trends,\
    \ though as their content varies, it is hard\n   to generalize what use might\
    \ be made of them.  At the very least, the\n   \"warning\" report cards are something\
    \ that should be visible on an\n   ESP's business intelligence or delivery dashboard.\n"
- title: 4.3.  Handling Feedback Messages
  contents:
  - "4.3.  Handling Feedback Messages\n   Mailbox Providers sending feedback may have\
    \ published policies as to\n   how they expect a Feedback Consumer to use Feedback\
    \ Messages or may\n   expect the Feedback Consumer to simply \"make the problem\
    \ stop\".  In\n   practice, this mostly boils down to three things:\n   o  First,\
    \ where the consumer of the feedback has some specific\n      control over sending\
    \ the email, it is expected not to send email\n      of the same type to the same\
    \ Recipient again.\n   o  Second, it should identify the underlying problem (if\
    \ any) and fix\n      it so that it receives fewer reports of that type in the\
    \ future.\n   o  Third, it is not necessary to inform the Mailbox Provider or\n\
    \      Feedback Provider, or their End User(s), of which actions have\n      been\
    \ or will be taken in response to automated complaint feedback.\n   If the Feedback\
    \ Consumer is a separate entity from the Message\n   Originator, the two entities\
    \ are expected to work together to resolve\n   any problem.\n"
- title: 4.3.1.  Unsubscription or Suppression
  contents:
  - "4.3.1.  Unsubscription or Suppression\n   A Sender (whether author or originator)\
    \ of commercial email should\n   treat the Feedback Message similar to an unsubscribe\
    \ request,\n   ensuring that no further email from that list is sent to that\n\
    \   Recipient, either by removing the email from that list or adding it\n   to\
    \ the associated suppression list.  It needs to use its best\n   judgment, keeping\
    \ in mind the goal of reducing future complaints, as\n   to how broadly to apply\
    \ that unsubscribe.  Suppressing the address\n   across an entire ESP is likely\
    \ too broad.  However, if a single\n   Feedback Consumer (or customer of an ESP)\
    \ has multiple segmented\n   lists, then suppressing them across all those lists\
    \ is probably a\n   good idea.\n   It is universally acknowledged that not all\
    \ complaints are\n   intentional; for example, Recipients might accidentally hit\
    \ the wrong\n   button or mark an entire mailbox as Spam.  However, it is best\
    \ for\n   Feedback Consumers to assume the Recipient does not want more email\n\
    \   and to suppress mail to the Recipient in all but fairly extreme cases\n  \
    \ such as a Mailing List the Recipients pay to receive, email from a\n   genuine\
    \ company to its valid employees, or email from an Access\n   Provider or Mailbox\
    \ Provider to its users.\n   This gets more complex in the case of transactional\
    \ mail -- mail that\n   is tied to some other service, such as ticket purchase\
    \ confirmations\n   or billing statements.  In that case, the Feedback Consumer\
    \ has to,\n   again, use its best judgment based on the specific situation.  In\n\
    \   some cases, the right thing to do may be to communicate with the\n   Recipient\
    \ via another channel, such as a message on a web site used\n   for the service;\
    \ i.e., \"You reported your notification mail as Spam\n   so we are not going\
    \ to send you any more messages unless you tell us\n   otherwise\".\n   In some\
    \ cases, the best thing to do may be to ignore the Feedback\n   Message.  For\
    \ example, if your customer has reported as Spam the\n   airline tickets he purchased\
    \ and you emailed him, he probably did not\n   mean it and he is going to be very\
    \ annoyed if you do not send him the\n   other tickets he has ordered.  In rare\
    \ cases, it might be appropriate\n   to suppress email to the Recipient, but also\
    \ to suspend access to a\n   service he or she uses until the Recipient confirms\
    \ a desire to\n   receive the associated email.  In all these cases, the important\
    \ goal\n   is to keep the customer happy and reduce future complaints, even in\n\
    \   the apparently paradoxical situations where the way to do that is to\n   ignore\
    \ their Feedback.  In the real world, however, these are a small\n   minority\
    \ of cases.\n"
- title: 4.3.2.  Trending and Reporting
  contents:
  - "4.3.2.  Trending and Reporting\n   Counting the Feedback Messages received over\
    \ regular time periods can\n   provide much useful information to ISPs, ESPs,\
    \ and other Feedback\n   Consumers, especially when broken down appropriately.\n\
    \   An ISP (Mailbox Provider or Access Provider) might want to count the\n   number\
    \ of Feedback Messages a particular customer or IP address\n   causes in a given\
    \ day.  If there is a sudden increase from a\n   particular customer or server,\
    \ it may be a sign that a Spammer has\n   signed up or a system has been compromised.\
    \  If there is a high level\n   of complaints about a particular customer, it\
    \ may be worth\n   investigating to see if there is a reason for that.  For example,\
    \ 10\n   Feedback Messages a day would be a sign of serious problems in some\n\
    \   cases, but might be perfectly reasonable \"background\" levels for a\n   Message\
    \ Originator that sends 300,000 emails a month.  If the count\n   shows there\
    \ may be a problem, the ISP can dig down and look at the\n   emails that are being\
    \ reported to determine the underlying cause.\n   An ESP can do similar things\
    \ but can also break the data down in more\n   ways: by customer, by Mailing List,\
    \ by campaign.  An ESP also has\n   access to more information; it knows how many\
    \ emails were delivered\n   to the receiving Mailbox Provider over a given time\
    \ period.  As a\n   result, it can estimate the number of complaints divided by\
    \ the\n   number of emails sent, which is often a more useful metric than the\n\
    \   absolute number of reports.  This is critical data for ESPs to track\n   over\
    \ time because it can help identify and quantify problem\n   customers.\n   An\
    \ individual Feedback Consumer, whether sending their own email or\n   using an\
    \ ESP, can acquire at least some information from complaint\n   rates.  A spike\
    \ in complaints on an otherwise stable list might be a\n   sign there is a problem\
    \ with address acquisition, if the spike is due\n   to reports from new subscribers.\
    \  If it came from older subscribers,\n   it might be attributable to content\
    \ of a particular mailing that was\n   not well received.  Perhaps the branding\
    \ was not recognized or the\n   content was offensive or inappropriate for the\
    \ list.\n   The complaint rate is determined by the number of Feedback Messages\n\
    \   received over a given time period divided by the number of emails\n   delivered\
    \ to the associated Mailbox Provider over the same period.\n   It is an obvious\
    \ and useful metric to track, but there are a few\n   subtle issues to be aware\
    \ of.\n   One issue is that Feedback Messages tend to be counted on the day the\n\
    \   complaint was sent, which is the day the original message was read by\n  \
    \ the Recipient.  That may not be the same day that the message was\n   sent.\
    \  A simple example is the fact that a Message Originator that\n   sends email\
    \ regularly Monday through Friday will often see a high\n   complaint rate on\
    \ Saturday.  The absolute number of Feedback Messages\n   sent by people catching\
    \ up with the week's email over the weekend may\n   not be that high.  However,\
    \ since hardly any email is sent on\n   Saturday, a fairly reasonable number of\
    \ complaints end up being\n   divided by a very small number of total sent emails,\
    \ possibly even\n   zero, which would break the reporting engine.  This can lead\
    \ to a\n   complaint rate that seems to range anywhere from suspicious to\n  \
    \ ridiculous.  Consequently, large Mailing Lists that are virtually\n   silent\
    \ on the weekend could end up receiving more complaints on a\n   Saturday than\
    \ email they sent that day, leading to complaint rates of\n   well over 100%.\n\
    \   Another arithmetic issue to consider is the interaction between the\n   inbox,\
    \ the bulk folder, and the \"This Is Spam\" button.  If an\n   organization sends\
    \ a high volume of email that has a terrible\n   reputation, it may end up with\
    \ perhaps 500 of its 10,000 mails in the\n   inbox and the remaining 9,500 in\
    \ the bulk folder.  If it gets 10\n   Feedback Messages and divides that by the\
    \ 10,000 emails it sent, it\n   will get a very respectable 0.1% complaint rate.\
    \  However, the\n   Mailbox Provider is probably going to calculate the complaint\
    \ rate by\n   dividing the number of emails delivered to the inbox instead --\n\
    \   giving a 2% complaint rate, which is probably grounds for immediate\n   blocking.\
    \  So, if one sees a large difference between a complaint\n   rate as reported\
    \ by a Mailbox Provider or other reputation system and\n   the rate calculated\
    \ from raw delivery numbers, it is important to\n   look closely at the data.\n"
- title: 4.4.  Automatically Handling an Incoming Feedback Stream
  contents:
  - "4.4.  Automatically Handling an Incoming Feedback Stream\n   Even when signing\
    \ up for a Feedback Loop is partly automated,\n   modifications to it tend to\
    \ be handled manually.  Even something as\n   trivial as changing the Email Address\
    \ that the Feedback Messages are\n   sent to can be time-consuming and can cause\
    \ significant overhead to\n   the Feedback Provider.  Multiply that by a dozen\
    \ Feedback Loops, and\n   getting it right the first time can save a lot of time\
    \ and energy.\n   Even the smallest of users should create a unique email alias\
    \ for\n   each Feedback Loop.  There are several advantages to this, even if\n\
    \   they all deliver to the same person's inbox at first.  Sending each\n   Feedback\
    \ Loop to a unique address makes it immediately clear which\n   Feedback Provider\
    \ was the source of any given report, even if it is\n   sent from an inconsistent\
    \ From address.  It makes it easy to put\n   lightweight pre-processing in place\
    \ for a particular Feedback Stream,\n   if needed.  It makes it easy to discard\
    \ Feedback Messages if needed\n   (though only temporarily, as it could be very\
    \ bad for one's\n   reputation to miss a changing trend).  If a Feedback Consumer\
    \ needs\n   to scale up, it is easy to point the existing aliases at a Feedback\n\
    \   Loop processing engine.\n   If an organization might possibly scale up appreciably\
    \ in the future\n   or consider outsourcing its Feedback Loop processing to a\
    \ third-party\n   Feedback Consumer, it may be even better to create a subdomain\
    \ for\n   handling Feedback Streams.  For example, example.com might use\n   fbl-aol@fbl.example.com\
    \ to accept its AOL Feedback Loop, allowing it\n   to delegate the whole of @fbl.example.com\
    \ to a Feedback Loop handling\n   appliance or service, should the need arise.\n\
    \   Small Feedback Consumers, with lists of no more than a few thousand\n   Recipients,\
    \ or small ISPs with no particular history of problems,\n   should be able to\
    \ handle feedback reports with little or no\n   automation, as an ARF message\
    \ should be readable in most mail\n   clients.  It may be worthwhile to add some\
    \ very lightweight\n   processing to the inbound Feedback Messages to make them\
    \ easier to\n   triage from other email client.  For example, arffilter.c [Wise]\
    \ can\n   annotate the Subject line of inbound Feedback Messages with the IP\n\
    \   address being reported, making it easier to see patterns of problems\n   by\
    \ sorting the messages by Subject line in the mail client.  To\n   identify which\
    \ Recipient is causing the feedback to be sent, small\n   Feedback Consumers should\
    \ add some of the automation mentioned below\n   that is intended for larger Feedback\
    \ Consumers.\n   Larger Feedback Consumers need to be able to automate the handling\
    \ of\n   Feedback, as it scales beyond the ability of someone to manage\n   manually\
    \ quite quickly.  The main capability a Feedback Loop\n   processor needs is to\
    \ extract some relevant data from the report,\n   reliably.  The most important\
    \ bits of data tend to be the following:\n   o  The Recipient of the original\
    \ email\n   o  The Mailbox Provider originating sending the Feedback Message\n\
    \      (some Feedback Providers operate on behalf of multiple Mailbox\n      Providers)\n\
    \   o  The customer who sent the original email (in the case of an ESP or\n  \
    \    Mailbox Provider)\n   o  The campaign and Mailing List that the original\
    \ email belonged to,\n      if any\n   o  (Possibly) the IP address from which\
    \ the original email was sent\n      and any [DKIM] signature domain\n   The last\
    \ isn't vital, but may be a useful piece of data in diagnosing\n   delivery problems.\n\
    \   It can be very difficult to extract some of this data without some\n   upfront\
    \ work before email is sent.  Some Feedback Providers will\n   redact the Email\
    \ Address in the To: header or Recipient Email\n   Addresses anywhere within the\
    \ message.  Some will delete any\n   identifying information they can.  It may\
    \ be possible to identify the\n   End User based on the Message-ID, Subject line,\
    \ and Received header\n   timestamps, if there is access to the mail server logs,\
    \ but at best\n   it is painful and time-consuming, and only worth doing in an\n\
    \   exceptional case.\n   The solution is similar to the one used for automated\
    \ bounce handling\n   using VERP -- embed the information in the email in a way\
    \ that it is\n   unlikely to be removed by Feedback Providers but is easy to recognize\n\
    \   in the email.  That information may already be there in a form such\n   as\
    \ VERP if the Return-Path header is included in the embedded email,\n   or included\
    \ in one-click unsubscribe links included in the body of\n   the email.  If it\
    \ is not already there, a good place to add the\n   information is in the local\
    \ part of the Message-ID as that is often\n   used to track the progress of email\
    \ through delivery.  It is often\n   available from log files as well as in the\
    \ headers of the original\n   message included in the Feedback Message.\n   There\
    \ are several good ways to store the mapping between Recipients\n   and identifiers\
    \ in mail.  For a database-backed ESP or bulk sender, a\n   synthesized database\
    \ primary key can be used.  It is very small, and\n   very opaque, and it is not\
    \ expensive to retrieve the associated data\n   from the main database -- but\
    \ it is impossible to read by hand.\n   Therefore, it needs automation with access\
    \ to the core database to\n   map the key onto the actual data.\n   Recording\
    \ the required information directly within the email but\n   encrypting it with\
    \ strong or weak encryption removes the need for\n   database access to extract\
    \ the data.  However, it still does need\n   some automation.\n   A hybrid approach\
    \ with the various bits of data stored separately but\n   having some pieces either\
    \ encrypted or obfuscated is possible by just\n   including a database ID.  This\
    \ can provide a good compromise where\n   most of the data is not immediately\
    \ obvious to third parties but\n   patterns in it can be recognized by eye.  For\
    \ example, a Message-ID\n   of \"esp-423-27-42460@example.com\" is opaque to a\
    \ third party, but\n   someone familiar with the format can tell that it is a\
    \ Message-ID\n   added by the system.  In this case it starts with \"esp\" followed\
    \ by\n   three numbers separated by dashes, meaning it is from customer 423,\n\
    \   campaign 27, and the Recipient has the database key 42460.  Even\n   decoding\
    \ this manually, while it may not be possible to identify\n   customer number\
    \ 423, it is easy to recognize that 10 Feedback\n   Messages in a row relate to\
    \ the same customer.  From experience, it\n   is not unusual for the vast majority\
    \ of reports at an ESP to be about\n   a very small number of customers, and one\
    \ learns their customer IDs\n   very quickly.\n   Once a Message Originator embeds\
    \ Recipient identifiers in an easily\n   recognizable format in all its mail,\
    \ it is quite easy for a Feedback\n   Message processor to extract that with a\
    \ conventional expression\n   match and possibly a couple of database queries.\
    \  It can then\n   suppress that Email Address and record the customer and campaign\
    \ for\n   future reporting.  In the case where the Feedback Messages are\n   recorded\
    \ in a ticketing system, it can also annotate the tickets with\n   that data (again,\
    \ for reporting and trending analysis).\n   A Feedback Message processor is often\
    \ bolted onto the side of an\n   already complex bulk mail generator, making it\
    \ difficult to reliably\n   suppress mail to the Recipient.  If the delivery data\
    \ is stored in a\n   way that makes it easy to convert into the same format as\
    \ the VERP\n   string used for bounce processing then the Feedback processor can\n\
    \   create a \"fake\" hard bounce and send it to the existing bounce\n   processor,\
    \ suppressing mail to that address.\n   Mailbox Providers and Access Providers\
    \ also need to automate Feedback\n   processing.  They are usually less interested\
    \ in the details about\n   the message and more interested in the IP address and\
    \ which customer\n   sent it.  In most cases, the IP address can be extracted\
    \ easily from\n   ARF metadata; whereas, in other cases, it may need to be extracted\n\
    \   from the Received headers embedded in the included original message.\n   That\
    \ data can then be used both for automated forwarding of Feedback\n   Messages\
    \ to the originating customer, if the ISP feels that is\n   appropriate, and also\
    \ for reporting on complaint levels across the\n   ISP's customer base.\n"
- title: 5.  Conclusion
  contents:
  - "5.  Conclusion\n   Whether you are acting as a Mailbox Provider or a Feedback\
    \ Consumer,\n   Complaint Feedback processing can be complex and scary -- or,\
    \ with\n   some intelligence and automation, simple and easy.  In either case,\n\
    \   it is an important and necessary tool for detecting messaging abuse\n   and\
    \ ensuring End User satisfaction.\n   MAAWG encourages all Mailbox Providers to\
    \ offer Feedback of whatever\n   form is appropriate for their local user base\
    \ and legal framework,\n   and it encourages all Senders of email to consume and\
    \ act upon any\n   Feedback available.  An actively maintained list of known Feedback\n\
    \   Loops can be found at [Wise].\n"
- title: 6.  Acknowledgments
  contents:
  - "6.  Acknowledgments\n   This document was written within the MAAWG Collaboration\
    \ Committee.\n   The project was led by John Feaver and Kate Nowrouzi.  The primary\n\
    \   authors were Steve Atkins, Christine Murphy Borgia, J.D. Falk, John\n   Feaver,\
    \ Todd Herr, John Levine, Heather Lord, Kate Nowrouzi, and\n   Suresh Ramasubramanian.\n\
    \   The document was edited by John Levine, J.D. Falk, and Linda Marcus.\n   Further\
    \ editing and formatting required for this version to be\n   published by the\
    \ IETF was performed by J.D. Falk, with advice from\n   Barry Leiba and Murray\
    \ Kucherawy.\n"
- title: 6.1.  About MAAWG
  contents:
  - "6.1.  About MAAWG\n   [MAAWG] is the largest global industry association working\
    \ against\n   Spam, viruses, denial-of-service attacks, and other online\n   exploitation.\
    \  Its members include ISPs, network and mobile\n   operators, key technology\
    \ providers, and volume sender organizations.\n   It represents over one billion\
    \ mailboxes worldwide, and its\n   membership contributed their expertise in developing\
    \ this description\n   of current Feedback Loop practices.\n"
- title: 7.  Security Considerations
  contents:
  - "7.  Security Considerations\n   Security and privacy considerations are discussed\
    \ in many sections of\n   this document, most notably Sections 1, 3.4, and 3.5.\n"
- title: 8.  Informative References
  contents:
  - "8.  Informative References\n   [DKIM]        Crocker, D., Hansen, T., and M.\
    \ Kucherawy, \"DomainKeys\n                 Identified Mail (DKIM) Signatures\"\
    , RFC 6376,\n                 September 2011.\n   [DNS]         Mockapetris, P.,\
    \ \"Domain names - concepts and\n                 facilities\", STD 13, RFC 1034,\
    \ November 1987.\n   [DomainKeys]  Delany, M., \"Domain-Based Email Authentication\
    \ Using\n                 Public Keys Advertised in the DNS (DomainKeys)\",\n\
    \                 RFC 4870, May 2007.\n   [MAAWG]       Messaging Anit-Abuse Working\
    \ Group,\n                 <http://www.maawg.org/>.\n   [MAAWG-BCP]   MAAWG, \"\
    MAAWG Sender Best Communications Practices\n                 Executive Summary\
    \ and MAAWG Sender Best Communications\n                 Practices Version 2.0a-Updated\"\
    , September 2011,\n                 <http://www.maawg.org/sites/maawg/files/news/\n\
    \                 MAAWG_Senders_BCP_Ver2.pdf>.\n   [MARF]        Shafranovich,\
    \ Y., Levine, J., and M. Kucherawy, \"An\n                 Extensible Format for\
    \ Email Feedback Reports\",\n                 RFC 5965, August 2010.\n   [MIME]\
    \        Freed, N. and N. Borenstein, \"Multipurpose Internet\n              \
    \   Mail Extensions (MIME) Part One: Format of Internet\n                 Message\
    \ Bodies\", RFC 2045, November 1996.\n   [RFC5322]     Resnick, P., Ed., \"Internet\
    \ Message Format\", RFC 5322,\n                 October 2008.\n   [RFC5598]  \
    \   Crocker, D., \"Internet Mail Architecture\", RFC 5598,\n                 July\
    \ 2009.\n   [SMTP]        Klensin, J., \"Simple Mail Transfer Protocol\", RFC\
    \ 5321,\n                 October 2008.\n   [Trust]       Crocker, D., Ed., \"\
    Trust in Email Begins with\n                 Authentication\", Issued by the Messaging\
    \ Anti-Abuse\n                 Working Group (MAAWG), June 2008,\n           \
    \      <http://www.maawg.org/sites/maawg/files/news/\n                 MAAWG_Email_Authentication_Paper_2008-07.pdf>.\n\
    \   [VERP]        Wikipedia, \"Variable Envelope Return Path\",\n            \
    \     <https://secure.wikimedia.org/wikipedia/en/wiki/\n                 Variable_envelope_return_path>.\n\
    \   [Wise]        \"arffilter - rewrite ARF reports\",\n                 <http://wordtothewise.com/products/arffilter.html>.\n"
- title: Appendix A.  Abuse Reporting Format (ARF)
  contents:
  - 'Appendix A.  Abuse Reporting Format (ARF)

    '
- title: A.1.  A Brief History
  contents:
  - "A.1.  A Brief History\n   The approach used by the first Feedback Loop to be\
    \ deployed -- the\n   \"scomp\" system at AOL -- was to send an entire copy of\
    \ the message to\n   the consumer of the Feedback Loop.  It expected that large\
    \ Feedback\n   Consumers would embed sufficient information in the email so they\n\
    \   could identify which Message Recipient had complained.\n   That worked well\
    \ enough when there was only a single entity providing\n   feedback, but as other\
    \ Mailbox Providers started to offer Feedback,\n   it became clear that it would\
    \ be useful for the Feedback Provider to\n   be able to add some additional information,\
    \ both machine readable and\n   human readable, to the report.  This led to ARF,\
    \ the Abuse Reporting\n   Format, which quickly became the de facto standard for\
    \ Feedback\n   Messages.\n   Today, ARF is used by nearly all Feedback Providers,\
    \ both within\n   MAAWG and without, constituting the vast majority of all Feedback\n\
    \   Messages generated worldwide.  ARF is recognized by all MAAWG members\n  \
    \ that have developed software or services that consume and process\n   Feedback\
    \ Messages.  There are no competing standards for reporting\n   individual messages.\n\
    \   ARF has now been published by the IETF as RFC 5965 [MARF].\n"
- title: A.2.  Structure of an ARF Message
  contents:
  - "A.2.  Structure of an ARF Message\n   An ARF report (Feedback Message) is sent\
    \ by email, with one message\n   sent for each Spam report made.  It consists\
    \ of three sections, in a\n   standard [MIME] message format called multipart/report.\n\
    \   The first section contains human-readable plaintext, primarily for\n   the\
    \ benefit of small Feedback Consumers who are handling reports\n   manually. \
    \ It typically contains boilerplate text explaining that\n   this is a Feedback\
    \ Message and providing URLs to other data such as\n   contact information for\
    \ the Feedback Provider or Mailbox Provider\n   that originated the Feedback Message.\n\
    \   The second section contains some machine-readable information,\n   including\
    \ the version of the ARF protocol used and the type of report\n   it is (\"abuse,\"\
    \ \"fraud,\" or other label).  It also might include some\n   optional information\
    \ about the email being reported, such as the\n   original Envelope Sender or\
    \ the time the mail was received.  In\n   theory, the information in this section\
    \ can be used to mechanically\n   route and triage the report, though in current\
    \ practice most Feedback\n   Messages are treated identically.  As a result, this\
    \ section is often\n   ignored entirely by Feedback Consumers who prefer to process\
    \ the\n   third section themselves.\n   The third section of the report consists\
    \ of a copy of the original\n   email that the report is about, as a standard\
    \ [MIME] message/rfc822\n   attachment.  While ideally this would be an unmodified\
    \ copy of the\n   original email, it is likely that many producers of reports\
    \ will\n   modify or \"redact\" some elements of the report, especially the Email\n\
    \   Address of the Recipient, due to privacy or other legal concerns.\n   The\
    \ strict technical specifications of ARF, as well as some example\n   reports\
    \ and tools to handle the format, can be found at\n   <http://mipassoc.org/arf/>,\
    \ [Wise], and in [MARF]\n"
- title: Appendix B.  Using DKIM to Route Feedback
  contents:
  - "Appendix B.  Using DKIM to Route Feedback\n   Historically, the IP address of\
    \ the \"last hop\" -- the MTA that\n   transferred a message into the receiving\
    \ Mailbox Provider's\n   administrative domain -- was the sole reliable identifier\
    \ used to\n   denote the source of a message.  With the emergence of authentication\n\
    \   technologies such as [DKIM], another identifier can now be used;\n   specifically,\
    \ the authenticated domain associated with a message.\n   This domain is the \"\
    d=\" value in a DKIM-Signature header field.\n   In a social or policy context,\
    \ applying a DKIM signature to a message\n   is tantamount to stating, \"I take\
    \ responsibility for this message\".\n   The DKIM signature is most often applied\
    \ by the author or originator\n   of a message, which may be far upstream of the\
    \ \"last hop\" MTA.  This\n   is true particularly in cases where the originator's\
    \ intended\n   Recipient Email Address is configured to forward to another Recipient\n\
    \   Email Address.  Stories of users who have strung together multiple\n   forwarding\
    \ accounts are not uncommon, and these users are unable to\n   complain effectively\
    \ about Spam because their Mailbox Providers\n   cannot easily or reliably follow\
    \ the path of a message back to the\n   initial originator.\n   A single DKIM\
    \ \"d=\" value may be used across multiple servers with\n   multiple IP addresses.\
    \  Servers may be added or removed at any time\n   without changing the dynamics\
    \ of the DKIM signature.  When a Feedback\n   Loop is based on the IP address,\
    \ the Feedback Consumer must contact\n   the Feedback Provider to change its subscription\
    \ options every time\n   an IP address needs to be added or removed.  However,\
    \ when a Feedback\n   Loop uses DKIM, no reconfiguration is necessary because\
    \ the signing\n   domain does not change.\n   One recurring concern with DKIM,\
    \ however, is that ESPs often send\n   messages addressed with hundreds or thousands\
    \ of customer domains,\n   yet they want to receive Feedback Messages for all\
    \ of these domains.\n   This was particularly difficult with [DomainKeys] (the\
    \ predecessor to\n   DKIM), which tied the \"d=\" to the \"From\" header field.\
    \  DKIM removed\n   this tie, so it is simple for an ESP to use a domain of its\
    \ own to\n   sign the message and sign up for Feedback regarding all messages\n\
    \   signed with that domain.  Such a signature may be in addition to, or\n   instead\
    \ of, signatures from the various client domains.  While there\n   are still many\
    \ unknowns related to reputation (which will be\n   addressed in a future MAAWG\
    \ document), this is clearly an appropriate\n   use of DKIM to take responsibility\
    \ (and receive Feedback) for a\n   message.\n"
- title: Appendix C.  Unsolicited Feedback
  contents:
  - "Appendix C.  Unsolicited Feedback\n   Is it always necessary for a Feedback Consumer\
    \ to apply for a\n   Feedback Loop or is it permissible for a Feedback Provider\
    \ to\n   configure a Feedback Loop for a Feedback Consumer without an explicit\n\
    \   request?  There is continuing debate about whether this is an\n   acceptable\
    \ practice, and MAAWG is neither endorsing nor condemning\n   such activity at\
    \ this time.\n   That said, if a Feedback Provider chooses to send Feedback without\n\
    \   being asked first, certain guidelines should be followed.  In\n   general,\
    \ it should make prudent decisions to minimize the negative\n   impact on Mailbox\
    \ Providers and Access Providers.\n"
- title: C.1.  Guidelines
  contents:
  - "C.1.  Guidelines\n   This should only be done for Mailbox and Access Providers.\n\
    \   This should only be done after attempting to contact the provider to\n   ask\
    \ if it is possible to set up a Feedback Loop via the normal\n   practice.\n \
    \  These Feedback Loops should only be set up to send to the published\n   abuse\
    \ address from the provider's WHOIS record.\n"
- title: C.2.  Pros
  contents:
  - "C.2.  Pros\n   Feedback Consumers may not realize they have abuse problems until\n\
    \   they begin receiving the spam complaints.\n   Feedback Consumers may not be\
    \ aware of Feedback Loops and may\n   appreciate the additional data feed.\n \
    \  Upstream providers have an additional information stream to help them\n   identify\
    \ problem customers.\n   Spam coming from a network is abuse; therefore it is\
    \ appropriate to\n   send reports of the abuse back to the Mailbox Provider or\
    \ Access\n   Provider.  Setting up a Feedback Loop automates the process.\n"
- title: C.3.  Cons
  contents:
  - "C.3.  Cons\n   It creates confusion for Feedback Consumers if they did not apply\
    \ and\n   do not understand why they are suddenly receiving complaints.\n   It\
    \ can conflict with existing Terms of Service because a new feed of\n   information\
    \ is available.  For example, if a provider has a policy to\n   terminate service\
    \ after a certain number of abuse complaints, and it\n   starts receiving unexpected\
    \ Feedback Loop complaints, it may either\n   be forced to terminate customers\
    \ that did not have a previous issue\n   or be required to update its Terms of\
    \ Service and Acceptable Use\n   Policy agreements.\n   Upstream providers do\
    \ not have access to the mail being sent by their\n   customers, so they cannot\
    \ tell whether bulk mail complaints\n   constitute a problem.\n   The listed abuse\
    \ address may not be the correct place for automated\n   spam complaints to be\
    \ sent.\n   The listed abuse address may feed into a ticketing system that is\
    \ not\n   capable of correctly handling ARF messages.\n   Feedback Consumers may\
    \ not be equipped to handle the volume or format\n   of complaints without some\
    \ warning and preparation.\n"
- title: Author's Address
  contents:
  - "Author's Address\n   J.D. Falk (editor)\n   Messaging Anti-Abuse Working Group\n\
    \   Presidio of San Francisco\n   P.O. Box 29920\n   572 B Ruger Street\n   San\
    \ Francisco, CA  94129-0920\n   US\n   EMail: ietf@cybernothing.org\n   URI: \
    \  http://www.maawg.org/\n"
