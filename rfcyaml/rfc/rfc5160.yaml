- title: __initial_text__
  contents:
  - "           Considerations of Provider-to-Provider Agreements\n              for\
    \ Internet-Scale Quality of Service (QoS)\n"
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This memo provides information for the Internet community.\
    \  It does\n   not specify an Internet standard of any kind.  Distribution of\
    \ this\n   memo is unlimited.\n"
- title: IESG Note
  contents:
  - "IESG Note\n   This RFC is not a candidate for any level of Internet Standard.\
    \  The\n   IETF disclaims any knowledge of the fitness of this RFC for any\n \
    \  purpose and notes that the decision to publish is not based on IETF\n   review\
    \ apart from IESG review for conflict with IETF work.  The RFC\n   Editor has\
    \ chosen to publish this document at its discretion.  See\n   RFC 3932 for more\
    \ information.\n"
- title: Abstract
  contents:
  - "Abstract\n   This memo analyzes provider-to-provider Quality of Service (QoS)\n\
    \   agreements suitable for a global QoS-enabled Internet.  It defines\n   terminology\
    \ relevant to inter-domain QoS models.  It proposes a new\n   concept denoted\
    \ by Meta-QoS-Class (MQC).  This concept could\n   potentially drive and federate\
    \ the way QoS inter-domain relationships\n   are built between providers.  It\
    \ opens up new perspectives for a QoS-\n   enabled Internet that retains, as much\
    \ as possible, the openness of\n   the existing best-effort Internet.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1.  Introduction . . . . . . . . . . . . . . . . . . .\
    \ . . . . . .  2\n   2.  Assumptions and Requirements . . . . . . . . . . . .\
    \ . . . . .  3\n   3.  Terminology  . . . . . . . . . . . . . . . . . . . . .\
    \ . . . .  4\n   4.  Weaknesses of Provider-to-Provider QoS Agreements Based on\n\
    \       SP Chains  . . . . . . . . . . . . . . . . . . . . . . . . . .  5\n  \
    \   4.1.  IP Connectivity Services . . . . . . . . . . . . . . . . .  6\n    \
    \ 4.2.  Similarity between Provider and Customer Agreements  . . .  6\n     4.3.\
    \  Liability for Service Disruption . . . . . . . . . . . . .  7\n     4.4.  SP\
    \ Chain Trap Leading to Glaciation  . . . . . . . . . . .  7\n   5.  Provider-to-Provider\
    \ Agreements Based on Meta-QoS-Class  . . .  7\n     5.1.  Single Domain Covering\
    \ . . . . . . . . . . . . . . . . . .  8\n     5.2.  Binding l-QCs  . . . . .\
    \ . . . . . . . . . . . . . . . . .  9\n     5.3.  MQC-Based Binding Process \
    \ . . . . . . . . . . . . . . . . 10\n   6.  The Internet as MQC Planes . . .\
    \ . . . . . . . . . . . . . . . 12\n   7.  Towards End-to-End QoS Services  .\
    \ . . . . . . . . . . . . . . 13\n   8.  Security Considerations  . . . . . .\
    \ . . . . . . . . . . . . . 15\n   9.  Acknowledgements . . . . . . . . . . .\
    \ . . . . . . . . . . . . 15\n   10. References . . . . . . . . . . . . . . .\
    \ . . . . . . . . . . . 16\n     10.1. Normative References . . . . . . . . .\
    \ . . . . . . . . . . 16\n     10.2. Informative References . . . . . . . . .\
    \ . . . . . . . . . 16\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   Three different areas can be distinguished in IP QoS service\n\
    \   offerings.  The first area is the single domain where a provider\n   delivers\
    \ QoS services inside the boundaries of its own network.  The\n   second area\
    \ is multiple domains where a small set of providers, with\n   mutual business\
    \ interests, cooperate to deliver QoS services inside\n   the boundaries of their\
    \ network aggregate.  The third area, which has\n   very seldom been put forward,\
    \ is the Internet where QoS services can\n   be delivered from almost any source\
    \ to any destination.  Both\n   multiple domains and Internet areas deal with\
    \ inter-domain aspects.\n   However, they differ significantly in many ways, such\
    \ as the number\n   of domains and QoS paths involved, which are much higher and\
    \ dynamic\n   for the Internet area.  Multiple domains and Internet areas are\n\
    \   therefore likely to differ in their respective solutions.  This memo\n   is\
    \ an attempt to investigate the Internet area from the point of view\n   of provider-to-provider\
    \ agreements.  It provides a framework for\n   inter-domain QoS-enabled Internet.\n\
    \   [MESCAL]provides a set of requirements to be met by any solution\n   aiming\
    \ to solve inter-domain QoS issues.  These requirements are not\n   reproduced\
    \ within this memo.  Readers are invited to refer to\n   [MESCAL] for more elaborated\
    \ description on the requirements.\n   This memo shows that for the sake of scalability,\
    \ providers need not\n   be concerned with what occurs more than one hop away\
    \ (from their\n   Autonomous System) when they negotiate inter-domain QoS agreements.\n\
    \   They should base their agreements on nothing but their local QoS\n   capabilities\
    \ and those of their direct neighbors.  This analysis\n   leads us to define terminology\
    \ relevant to inter-domain QoS models.\n   We also introduce a new concept denoted\
    \ by Meta-QoS-Class (MQC) that\n   drives and federates the way QoS inter-domain\
    \ relationships are built\n   between providers.  The rationale for the MQC concept\
    \ relies on a\n   universal and common understanding of QoS-sensitive applications\n\
    \   needs.  Wherever end-users are connected, they experience the same\n   QoS\
    \ difficulties and are likely to express very similar QoS\n   requirements to\
    \ their respective providers.  Globally confronted with\n   the same customer\
    \ requirements, providers are likely to design and\n   operate similar network\
    \ capabilities.\n   MQC brings up a simplified view of the Internet QoS capabilities\
    \ as a\n   set of MQC planes.  This memo looks at whether the idea of MQC planes\n\
    \   can be helpful in certain well-known concrete inter-domain QoS\n   issues.\
    \  The focus, however, is on the provider-to-provider QoS\n   agreement framework,\
    \ and the intention is not to specify individual\n   solutions and protocols for\
    \ a full inter-domain QoS system.  For\n   discussion of a complete architecture\
    \ based on the notion of parallel\n   Internets that extends and generalizes the\
    \ notion of MQC planes, see\n   [AGAVE].\n   Note that this document does not\
    \ specify any protocols or systems.\n"
- title: 2.  Assumptions and Requirements
  contents:
  - "2.  Assumptions and Requirements\n   To avoid a great deal of complexity and\
    \ scalability issues, we assume\n   that provider-to-provider QoS agreements are\
    \ negotiated only for two\n   adjacent domains that are directly accessible to\
    \ each other.  We also\n   assume, because they exchange traffic, that these neighbors\
    \ are BGP\n   [RFC4271] peers.  This pairwise peering is logical, therefore it\
    \ can\n   be supported not only on physical point-to-point connections but also\n\
    \   on Internet exchange points (IXPs), where many operators connect to\n   each\
    \ other using a layer 2 switch.\n   The QoS solutions envisaged in this document\
    \ are exclusively\n   solutions suitable for the global Internet.  As far as Internet-wide\n\
    \   solutions are concerned, this document assumes that:\n   o  Any solutions\
    \ should apply locally in order to be usable as soon\n      as deployed in a small\
    \ set of domains.\n   o  Any solutions should be scalable in order to allow a\
    \ global\n      deployment to almost all Internet domains, with the ability to\n\
    \      establish QoS communications between any and all end-users.\n   o  Any\
    \ solutions should also maintain a best-effort service that\n      should remain\
    \ the preeminent service as a consequence of the end-\n      to-end argument [E2E].\n\
    \   o  If there is no path available within the requested QoS to reach a\n   \
    \   destination, this destination must remain reachable through the\n      best-effort\
    \ service.\n   This memo does not place any specific requirements on the intra-\n\
    \   domain traffic engineering policies and the way they are enforced.  A\n  \
    \ provider may deploy any technique to ensure QoS inside its own\n   network.\
    \  This memo assumes only that QoS capabilities inside a\n   provider's network\
    \ can be represented as local-QoS-Classes (l-QCs).\n   When crossing a domain,\
    \ traffic experiences conditions characterized\n   by the values of delay, jitter,\
    \ and packet loss rate that correspond\n   to the l-QC selected for that traffic\
    \ within that domain.\n   Capabilities can differ from one provider to another\
    \ by the number of\n   deployed l-QCs, by their respective QoS characteristics,\
    \ and also by\n   the way they have been implemented and engineered.\n"
- title: 3.  Terminology
  contents:
  - "3.  Terminology\n   (D, J, L)\n      D: one-way transit delay [RFC2679], J: one-way\
    \ transit delay\n      variation or jitter [RFC3393], and L: packet loss rate\
    \ [RFC2680].\n   Domain\n      A network infrastructure composed of one or several\
    \ Autonomous\n      Systems (AS) managed by a single administrative entity.\n\
    \   IP connectivity service\n      IP transfer capability characterized by a (Destination,\
    \ D, J, L)\n      tuple where Destination is a group of IP addresses and (D, J,\
    \ L)\n      is the QoS performance to get to the Destination.\n   Local-QoS-Class\
    \ (l-QC)\n      A QoS transfer capability across a single domain, characterized\
    \ by\n      a set of QoS performance parameters denoted by (D, J, L).  From a\n\
    \      Diffserv [RFC2475] perspective, an l-QC is an occurrence of a Per\n   \
    \   Domain Behavior (PDB) [RFC3086].\n   L-QC binding\n      Two l-QCs from two\
    \ neighboring domains are bound together once the\n      two providers have agreed\
    \ to transfer traffic from one l-QC to the\n      other.\n   L-QC thread\n   \
    \   Chain of neighboring bound l-QCs.\n   Meta-QoS-Class (MQC)\n      An MQC provides\
    \ the limits of the QoS parameter values that two\n      l-QCs must respect in\
    \ order to be bound together.  An MQC is used\n      as a label that certifies\
    \ the support of a set of applications\n      that bear similar network QoS requirements.\n\
    \   Service Provider (SP)\n      An entity that provides Internet connectivity.\
    \  This document\n      assumes that an SP owns and administers an IP network\
    \ called a\n      domain.  Sometimes simply referred to as provider.\n   SP chain\n\
    \      The chain of Service Providers whose domains are used to convey\n     \
    \ packets for a given IP connectivity service.\n"
- title: 4.  Weaknesses of Provider-to-Provider QoS Agreements Based on SP Chains
  contents:
  - "4.  Weaknesses of Provider-to-Provider QoS Agreements Based on SP Chains\n  \
    \ The objective of this section is to show, by a sort of reductio ad\n   absurdum\
    \ proof, that within the scope of Internet services, provider-\n   to-provider\
    \ QoS agreements should be based on guarantees that span a\n   single domain.\n\
    \   We therefore analyze provider-to-provider QoS agreements based on\n   guarantees\
    \ that span several domains and emphasize their\n   vulnerabilities.  In this\
    \ case, the basic service element that a\n   provider offers to its neighboring\
    \ providers is called an IP\n   connectivity service.  It uses the notion of SP\
    \ chains.  We first\n   define what an IP connectivity service is, and then we\
    \ point out\n   several weaknesses of such an approach, especially the SP chain\
    \ trap\n   problem that leads to the so-called Internet glaciation era.\n"
- title: 4.1.  IP Connectivity Services
  contents:
  - "4.1.  IP Connectivity Services\n   An IP connectivity service is a (Destination,\
    \ D, J, L) tuple where\n   Destination is a group of IP addresses reachable from\
    \ the domain of\n   the provider offering the service, and (D, J, L) is the QoS\n\
    \   performance to get from this domain to Destination.  Destination is\n   typically\
    \ located in a remote domain.\n   Provider-               /--------------SP chain---------------\\\
    \n   oriented\n   view         /--Agreement--\\\n              +----+       +----+\
    \    +----+    +----+       +----+\n              |SP  +-------+SP  +----+SP \
    \ +----+SP  +- ... -+SP  |\n              |n+1 |       |n   |    |n-1 |    |n-2\
    \ |       |1   |\n              +----+       +----+    +----+    +----+      \
    \ +----+\n   Domain-            -----> packet flow                      /\n  \
    \ oriented                                              Destination\n   view \
    \                   <----------- Guarantee Scope --------->\n                \
    \     Figure 1: IP connectivity service\n   In Figure 1, Provider SPn guarantees\
    \ provider SPn+1 the level of QoS\n   for crossing the whole chain of providers'\
    \ domains (SPn, SPn-1,\n   SPn-2, ...,SP1).  SPi denotes a provider as well as\
    \ its domain.  The\n   top of the figure is the provider-oriented view; the ordered\
    \ set of\n   providers (SPn, SPn-1, SPn-2, ...,SP1) is called an SP chain.  The\n\
    \   bottom of the figure is the domain-oriented view.\n"
- title: 4.2.  Similarity between Provider and Customer Agreements
  contents:
  - "4.2.  Similarity between Provider and Customer Agreements\n   This approach maps\
    \ end-users' needs directly to provider-to-provider\n   agreements.  Providers\
    \ negotiate agreements to a destination because\n   they know customers are ready\
    \ to pay for QoS guaranteed transfer to\n   this destination.  As far as service\
    \ scope is concerned, the\n   agreements between providers will resemble the agreements\
    \ between\n   customers and providers.  For instance, in Figure 1, SPn can sell\
    \ to\n   its own customers the same IP connectivity service it sells to SPn+1.\n\
    \   There is no clear distinction between provider-to-provider agreements\n  \
    \ and customer-to-provider agreements.\n   In order to guarantee a stable service,\
    \ redundant SP chains should be\n   formed to reach the same destination.  When\
    \ one SP chain becomes\n   unavailable, an alternative SP chain should be selected.\
    \  In the\n   context of a global QoS Internet, that would lead to an enormous\n\
    \   number of SP chains along with the associated agreements.\n"
- title: 4.3.  Liability for Service Disruption
  contents:
  - "4.3.  Liability for Service Disruption\n   In Figure 1, if SPn+1 sees a disruption\
    \ in the IP connectivity\n   service, it can turn only against SPn, its legal\
    \ partner in the\n   agreement.  If SPn is not responsible, in the same way, it\
    \ can only\n   complain to SPn-1, and so on, until the faulty provider is found\
    \ and\n   eventually requested to pay for the service impairment.  The claim is\n\
    \   then supposed to move back along the chain until SPn pays SPn+1.  The\n  \
    \ SP chain becomes a liability chain.\n   Unfortunately, this process is prone\
    \ to failure in many cases.  In\n   the context of QoS solutions suited for the\
    \ Internet, SP chains are\n   likely to be dynamic and involve a significant number\
    \ of providers.\n   Providers (that do not all know each other) involved in the\
    \ same SP\n   chain can be competitors in many fields; therefore, trust\n   relationships\
    \ are very difficult to build.  Many complex and critical\n   issues need to be\
    \ resolved: how will SPn+1 prove to SPn that the QoS\n   level is not the level\
    \ expected for a scope that can expand well\n   beyond SPn?  How long will it\
    \ take to find the guilty domain?  Is SPn\n   ready to pay SPn+1 for something\
    \ it does not control and is not\n   responsible for?\n"
- title: 4.4.  SP Chain Trap Leading to Glaciation
  contents:
  - "4.4.  SP Chain Trap Leading to Glaciation\n   In Figure 1, SPn implicitly guarantees\
    \ SPn+1 the level of QoS for the\n   crossing of distant domains like SPn-2. \
    \ As we saw in Section 4.2, SP\n   chains will proliferate.  A provider is, in\
    \ this context, likely to\n   be part of numerous SP chains.  It will see the\
    \ level of QoS it\n   provides guaranteed by many providers it perhaps has never\
    \ even heard\n   of.\n   Any change in a given agreement is likely to have an\
    \ impact on\n   numerous external agreements that make use of it.  A provider\
    \ sees\n   the degree of freedom to renegotiate, or terminate, one of its own\n\
    \   agreements being restricted by the large number of external (to its\n   domain)\
    \ agreements that depend on it.  This is what is referred to as\n   the \"SP chain\
    \ trap\" issue.  This solution is not appropriate for\n   worldwide QoS coverage,\
    \ as it would lead to glaciation phenomena,\n   causing a completely petrified\
    \ QoS infrastructure, where nobody could\n   renegotiate any agreement.\n"
- title: 5.  Provider-to-Provider Agreements Based on Meta-QoS-Class
  contents:
  - "5.  Provider-to-Provider Agreements Based on Meta-QoS-Class\n   If a QoS-enabled\
    \ Internet is deemed desirable, with QoS services\n   potentially available to\
    \ and from any destination, any solution must\n   resolve the above weaknesses\
    \ and scalability problems and find\n   alternate schemes for provider-to-provider\
    \ agreements.\n"
- title: 5.1.  Single Domain Covering
  contents:
  - "5.1.  Single Domain Covering\n   Due to the vulnerabilities of the SP chain approach,\
    \ we assume\n   provider-to-provider QoS agreements should be based on guarantees\n\
    \   covering a single domain.  A provider guarantees its neighbors only\n   the\
    \ crossing performance of its own domain.  In Figure 2, the\n   provider SPn guarantees\
    \ the provider SPn+1 only the QoS performance\n   of the SPn domain.  The remainder\
    \ of this document will show that\n   this approach, bringing clarity and simplicity\
    \ into inter-domain\n   relationships, is better suited for a global QoS Internet\
    \ than one\n   based on SP chains.\n     Provider-\n     oriented\n     view \
    \                         /--Agreement--\\\n                                 +----+\
    \       +----+\n                                 |SP  +-------+SP  +\n       \
    \                          |n+1 |       |n   |\n                             \
    \    +----+       +----+\n     Domain-               -----> packet flow\n    \
    \ oriented                                 <---->\n     view                 \
    \                 Guarantee Scope\n               Figure 2: provider-to-provider\
    \ QoS agreement\n   It is very important to note that the proposition to limit\
    \ guarantees\n   to only one domain hop applies exclusively to provider-to-provider\n\
    \   agreements.  It does not in any way preclude end-to-end guarantees\n   for\
    \ communications.\n   The simple fact that SP chains do not exist makes the AS\
    \ chain trap\n   problem and the associated glaciation threat vanish.\n   The\
    \ liability issue is restricted to a one-hop distance.  A provider\n   is responsible\
    \ for its own domain only, and is controlled by all the\n   neighbors with whom\
    \ it has a direct contract.\n"
- title: 5.2.  Binding l-QCs
  contents:
  - "5.2.  Binding l-QCs\n   When a provider wants to contract with another provider,\
    \ the main\n   concern is deciding which l-QC(s) in its own domain it will bind\
    \ to\n   which l-QC(s) in the neighboring downstream domain.  The l-QC binding\n\
    \   process becomes the basic inter-domain process.\n                    Upstream\
    \          Downstream\n                     domain            domain\n       \
    \              l-QC21   ----->   l-QC11\n                     l-QC22   ----->\
    \   l-QC12\n                     l-QC23   ----->\n                           \
    \            l-QC13\n                     l-QC24   ----->\n                  \
    \        Figure 3: l-QC Binding\n   If one l-QC were to be bound to two (or more)\
    \ l-QCs, it would be very\n   difficult to know which l-QC the packets should\
    \ select.  This could\n   imply a flow classification at the border of the domains\
    \ based on\n   granularity as fine as the application flows.  For the sake of\n\
    \   scalability, we assume one l-QC should not be bound to several l-QCs\n   [Lev].\
    \  On the contrary, several l-QCs can be bound to the same l-QC,\n   in the way\
    \ that l-QC23 and l-QC24 are bound to l-QC13 in Figure 3.\n   A provider decides\
    \ the best match between l-QCs based exclusively on:\n   - What it knows about\
    \ its own l-QCs;\n   - What it knows about its neighboring l-QCs.\n   It does\
    \ not use any information related to what is happening more\n   than one domain\
    \ away.\n   Despite this one-hop, short-sighted approach, the consistency and\
    \ the\n   coherency of the QoS treatment must be ensured on an l-QC thread\n \
    \  formed by neighboring bound l-QCs.  Packets leaving a domain that\n   applies\
    \ a given l-QC should experience similar treatment when\n   crossing external\
    \ domains up to their final destination.  A provider\n   should bind its l-QC\
    \ with the neighboring l-QC that has the closest\n   performance.  The criteria\
    \ for l-QC binding should be stable along\n   any l-QC thread.  For example, two\
    \ providers should not bind two\n   l-QCs to minimize the delay whereas further\
    \ on, on the same thread,\n   two other providers have bound two l-QCs to minimize\
    \ errors.\n   Constraints should be put on l-QC QoS performance parameters to\n\
    \   confine their values to an acceptable and expected level on an l-QC\n   thread\
    \ scale.  These constraints should depend on domain size; for\n   example, restrictions\
    \ on delay should authorize a bigger value for a\n   national domain than for\
    \ a regional one.  Some rules must therefore\n   be defined to establish in which\
    \ conditions two l-QCs can be bound\n   together.  These rules are provided by\
    \ the notion of Meta-QoS-Class\n   (MQC).\n"
- title: 5.3.  MQC-Based Binding Process
  contents:
  - "5.3.  MQC-Based Binding Process\n   An MQC provides the limits of the QoS parameters\
    \ two l-QCs must\n   respect in order to be bound together.  A provider goes through\n\
    \   several steps to extend its internal l-QCs through the binding\n   process.\
    \  Firstly, it classifies its own l-QCs based on MQCs.  An MQC\n   is used as\
    \ a label that certifies the support of a set of\n   applications that bear similar\
    \ network QoS requirements.  It is a\n   means to make sure that an l-QC has the\
    \ appropriate QoS\n   characteristics to convey the traffic of this set of applications.\n\
    \   Secondly, it learns about available MQCs advertised by its neighbors.\n  \
    \ To advertise an MQC, a provider must have at least one compliant l-QC\n   and\
    \ should be ready to reach agreements to let neighbor traffic\n   benefit from\
    \ it.  Thirdly, it contracts an agreement with its\n   neighbor to send some traffic\
    \ that will be handled according to the\n   agreed MQCs.\n   The following attributes\
    \ should be documented in any specification of\n   an MQC.  This is not a closed\
    \ list, other attributes can be added if\n   needed.\n   o  A set of applications\
    \ (e.g., VoIP) the MQC is particularly suited\n      for.\n   o  Boundaries or\
    \ intervals of a set of QoS performance attributes\n      whenever required. \
    \ For illustration purposes, we propose to use\n      in this document attribute\
    \ (D, J, L) 3-tuple.  An MQC could be\n      focused on a single parameter (e.g.,\
    \ suitable to convey delay\n      sensitive traffic).  Several levels could also\
    \ be specified\n      depending on the size of the network provider; for instance,\
    \ a\n      small domain (e.g., regional) needs lower delay than a large\n    \
    \  domain (e.g., national) to match a given MQC.\n   o  Constraints on traffic\
    \ (e.g., only TCP-friendly).\n   o  Constraints on the ratio: network resources\
    \ for the class /\n      overall traffic using this class (e.g., less resources\
    \ than peak\n      traffic).\n   Two l-QCs can be bound together if, and only\
    \ if, they conform to the\n   same MQC.\n   Provider-to-provider agreements, as\
    \ defined here, are uni-\n   directional.  They are established for transporting\
    \ traffic in a\n   given direction.  However, from a business perspective, it\
    \ is likely\n   that reverse agreements will also be negotiated for transporting\n\
    \   traffic in the opposite direction.  Note that uni-directional\n   provider-to-provider\
    \ agreements do not preclude having end-to-end\n   services with bi-directional\
    \ guarantees, when you consider the two\n   directions of the traffic separately.\n\
    \   Two providers negotiating an agreement based on MQC will have to\n   agree\
    \ on several other parameters that are outside the definition of\n   MQC.  One\
    \ such obvious parameter is bandwidth.  The two providers\n   agree to exchange\
    \ up to a given level of QoS traffic.  This bandwidth\n   level can then be further\
    \ renegotiated, inside the same MQC\n   agreement, to reflect an increase in the\
    \ end-user QoS requests.\n   Other clauses of inter-domain agreements could cover\
    \ availability of\n   the service, time of repair, etc.\n   A hierarchy of MQCs\
    \ can be defined for a given type of service (e.g.,\n   VoIP with different qualities:\
    \ VoIP for residential and VoIP for\n   business).  A given l-QC can be suitable\
    \ for several MQCs (even\n   outside the same hierarchy).  Several l-QCs in the\
    \ same domain can be\n   classified as belonging to the same MQC.  There is an\
    \ MQC with no\n   specific constraints called the best-effort MQC.\n   There is\
    \ a need for some form of standardization to control QoS\n   agreements between\
    \ providers [RFC3387].  Each provider must have the\n   same understanding of\
    \ what a given MQC is about.  We need a global\n   agreement on a set of MQC standards.\
    \  The number of classes to be\n   defined must remain very small to avoid overwhelming\
    \ complexity.  We\n   also need a means to certify that the l-QC classification\
    \ made by a\n   provider conforms to the MQC standards.  So the standardization\n\
    \   effort should be accompanied by investigations on conformance testing\n  \
    \ requirements.\n   The three notions of PDB, Service Class [RFC4594], and MQC\
    \ are\n   related; what MQC brings is the inter-domain aspect:\n   - PDB is how\
    \ to engineer a network;\n   - Service Class is a set of traffic with specific\
    \ QoS requests;\n   - MQC is a way to classify the QoS capabilities (l-QCs, through\n\
    \     Diffserv or any other protocols or mechanisms) in order to reach\n     agreements\
    \ with neighbors.  MQCs are only involved when a provider\n     wants to negotiate\
    \ an agreement with a neighboring provider.  MQC\n     is completely indifferent\
    \ to the way networks are engineered as\n     long as the MQC QoS attribute (e.g.,\
    \ (D, J, L)) values are reached.\n"
- title: 6.  The Internet as MQC Planes
  contents:
  - "6.  The Internet as MQC Planes\n   The resulting QoS Internet can be viewed as\
    \ a set of parallel\n   Internets or MQC planes.  Each plane consists of all the\
    \ l-QCs bound\n   according to the same MQC.  An MQC plane can have holes and\
    \ isolated\n   domains because QoS capabilities do not cover all Internet domains.\n\
    \   When an l-QC maps to several MQCs, it belongs potentially to several\n   planes.\n\
    \   When a provider contracts with another provider based on the use of\n   MQCs,\
    \ it simply adds a logical link to the corresponding MQC plane.\n   This is basically\
    \ what current traditional inter-domain agreements\n   mean for the existing Internet.\
    \  Figure 4a) depicts the physical\n   layout of a fraction of the Internet, comprising\
    \ four domains with\n   full-mesh connectivity.\n                +----+    +----+\
    \               +----+    +----+\n                |SP  +----+SP  |           \
    \    |SP  +----+SP  |\n                |1   |    |2   |               |1   | \
    \   |2   |\n                +-+--+    +--+-+               +-+--+    +----+\n\
    \                  |   \\  /   |                   |      /\n                \
    \  |    \\/    |                   |     /\n                  |    /\\    |  \
    \                 |    /\n                  |   /  \\   |                   |\
    \   /\n                +-+--+    +--+-+               +-+--+    +----+\n     \
    \           |SP  +----+SP  |               |SP  |    |SP  |\n                |4\
    \   |    |3   |               |4   |    |3   |\n                +----+    +----+\
    \               +----+    +----+\n                a) physical configuration  \
    \    b) an MQC plane\n                           Figure 4: MQC planes\n   Figure\
    \ 4 b) depicts how these four domains are involved in a given\n   MQC plane. \
    \ SP1, SP2, and SP4 have at least one compliant l-QC for\n   this MQC; SP3 may\
    \ or may not have one.  A bi-directional agreement\n   exists between SP1 and\
    \ SP2, SP1 and SP4, SP2 and SP4.\n   MQC brings a clear distinction between provider-to-provider\
    \ and\n   customer-to-provider QoS agreements.  We expect a great deal of\n  \
    \ difference in dynamicity between the two.  Most provider-to-provider\n   agreements\
    \ should have been negotiated, and should remain stable,\n   before end-users\
    \ can dynamically request end-to-end guarantees.\n   Provider agreements do not\
    \ directly map end-users' needs; therefore,\n   the number of provider agreements\
    \ is largely independent of the\n   number of end-user requests and does not increase\
    \ as dramatically as\n   with SP chains.\n   For a global QoS-based Internet,\
    \ this solution will work only if MQC-\n   based binding is largely accepted and\
    \ becomes a current practice.\n   This limitation is due to the nature of the\
    \ service itself, and not\n   to the use of MQCs.  Insofar as we target global\
    \ services, we are\n   bound to provide QoS in as many SP domains as possible.\
    \  However, any\n   MQC-enabled part of the Internet that forms a connected graph\
    \ can be\n   used for QoS communications and can be extended.  Therefore,\n  \
    \ incremental deployment is possible, and leads to incremental\n   benefits. \
    \ For example, in Figure 4 b), as soon as SP3 connects to\n   the MQC plane it\
    \ will be able to benefit from the SP1, SP2, and SP4\n   QoS capabilities.\n \
    \  The Internet, as a split of different MQC planes, offers an ordered\n   and\
    \ simplified view of the Internet QoS capabilities.  End-users can\n   select\
    \ the MQC plane that is the closest to their needs, as long as\n   there is a\
    \ path available for the destination.  One of the main\n   outcomes of applying\
    \ the MQC concept is that it alleviates the\n   complexity and the management\
    \ burden of inter-domain relationships.\n"
- title: 7.  Towards End-to-End QoS Services
  contents:
  - "7.  Towards End-to-End QoS Services\n   Building end-to-end QoS paths, for the\
    \ purpose of QoS-guaranteed\n   communications between end-users, is going a step\
    \ further in the QoS\n   process.  The full description of customer-to-provider\
    \ QoS\n   agreements, and the way they are enforced, is outside the scope of\n\
    \   this memo.  However, in this section, we will list some important\n   issues\
    \ and state whether MQC can help to find solutions.\n   Route path selection within\
    \ a selected MQC plane can be envisaged in\n   the same way as the traditional\
    \ routing system used by Internet\n   routers.  Thus, we can rely on the BGP protocol,\
    \ basically one BGP\n   occurrence per MQC plane, for the inter-domain routing\
    \ process.  The\n   resilience of the IP routing system is preserved.  If a QoS\
    \ path\n   breaks somewhere, the routing protocol enables dynamic computation\
    \ of\n   another QoS path, if available, in the proper MQC plane.  This\n   provides\
    \ a first level of QoS infrastructure that could be\n   conveniently named \"\
    best-effort QoS\", even if this is an oxymoron.\n   On this basis, features can\
    \ be added in order to select and control\n   the QoS paths better.  For example,\
    \ BGP can be used to convey QoS-\n   related information, and to implement a process\
    \ where Autonomous\n   Systems add their own QoS values (D, J, L) when they propagate\
    \ an AS\n   path.  Then, the AS path information is coupled with the information\n\
    \   on Delay, Jitter, and Loss, and the decision whether or not to use\n   the\
    \ path selected by BGP can be made, based on numerical values.  For\n   example,\
    \ for destination N, an AS path (X, Y) is advertised to AS Z.\n   During the propagation\
    \ of this AS path by BGP, X adds the information\n   concerning its own delay,\
    \ say 30 ms, and Y adds the information\n   concerning its own delay, say 20 ms.\
    \  Z receives the BGP\n   advertisement (X, Y, N, 50 ms).  One of Z's customers\
    \ requests a\n   delay of 100 ms to reach N.  Z knows its own delay for this customer,\n\
    \   say 20 ms.  Z computes the expected maximum delay from its customer\n   to\
    \ N: 70 ms, and concludes that it can use the AS path (X, Y).  The\n   QoS value\
    \ of an AS path could also be disconnected from BGP and\n   computed via an off-line\
    \ process.\n   If we use QoS routing, we can incorporate the (D, J, L) information\n\
    \   in the BGP decision process, but that raises the issue of composing\n   performance\
    \ metrics in order to select appropriate paths [Chau].\n   When confronted by\
    \ multiple incompatible objectives, the local\n   decisions made to optimize the\
    \ targeted parameters could give rise to\n   a set of incomparable paths, where\
    \ no path is strictly superior to\n   the others.  The existence of provider-to-provider\
    \ agreements based\n   on MQC offers a homogenous view of the QoS parameters,\
    \ and should\n   therefore bring coherency, and restrict the risk of such non-optimal\n\
    \   choices.\n   A lot of end-to-end services are bi-directional, so one must\
    \ measure\n   the composite performance in both directions.  Many inter-domain\n\
    \   paths are asymmetric, and usually, some providers involved in the\n   forward\
    \ path are not in the reverse path, and vice versa.  That means\n   that no assumptions\
    \ can be made about the reverse path.  Although\n   MQC-based provider-to-provider\
    \ agreements are likely to be negotiated\n   bi-directionally, they allow the\
    \ inter-domain routing protocol to\n   compute the forward and the reverse paths\
    \ separately, as usual.  The\n   only constraint MQC puts on routing is that the\
    \ selected paths must\n   use the chosen MQCs throughout the selected domains.\
    \  There might be\n   a different MQC requirement in the reverse direction than\
    \ in the\n   forward direction.  To address this problem, we can use application-\n\
    \   level communication between the two parties (customers) involved in\n   order\
    \ to specify the QoS requirements in both directions.\n   We can go a step further\
    \ in the control of the path to ensure the\n   stability of QoS parameters such\
    \ as, e.g., enforcing an explicit\n   routing scheme, making use of RSVP-TE/MPLS-TE\
    \ requests [RFC3209],\n   before injecting the traffic into an l-QC thread.  However,\n\
    \   currently, several problems must be resolved before ready and\n   operational\
    \ solutions for inter-domain route pinning, inter-domain\n   TE, fast failover,\
    \ and so forth, are available.  For example, see the\n   BGP slow convergence\
    \ problem in [Kushman].\n   Multicast supports many applications such as audio\
    \ and video\n   distribution (e.g., IPTV, streaming applications) with QoS\n \
    \  requirements.  Along with solutions at the IP or Application level,\n   such\
    \ as Forward Error Correction (FEC), the inter-domain multicast\n   routing protocol\
    \ with Multiprotocol Extensions for BGP-4 [RFC4760],\n   could be used to advertise\
    \ MQC capabilities for multicast source\n   reachability.  If an inter-domain\
    \ tree that spans several domains\n   remains in the same MQC plane, it would\
    \ be possible to benefit from\n   the consistency and the coherency conferred\
    \ by MQC.\n   Note that the use of some QoS parameters to drive the route selection\n\
    \   process within an MQC plane may induce QoS deterioration since the\n   best\
    \ QoS-inferred path will be selected by all Autonomous System\n   Border Routers\
    \ (ASBRs) involved in the inter-domain path computation\n   (i.e., no other available\
    \ routes in the same MQC plane will have a\n   chance to be selected).  This problem\
    \ was called the QoS Attribute-\n   rush (QA-rush) in [Grif].  This drawback may\
    \ be avoided if all\n   involved ASes in the QoS chain implement some out-of-band\
    \ means to\n   control the inter-domain QoS path consistency (MQC compliance).\n\
    \   To conclude this section, whatever the protocols we want to use, and\n   however\
    \ tightly we want to control QoS paths, MQC is a concept that\n   can help to\
    \ resolve problems [WIP], without prohibiting the use of\n   any particular mechanism\
    \ or protocol at the data, control, or\n   management planes.\n"
- title: 8.  Security Considerations
  contents:
  - "8.  Security Considerations\n   This document describes a framework and not protocols\
    \ or systems.\n   Potential risks and attacks will depend directly on the\n  \
    \ implementation technology.  Solutions to implement this proposal must\n   detail\
    \ security issues in the relevant protocol documentation.\n   Particular attention\
    \ should be paid to giving access to MQC resources\n   only to authorized traffic.\
    \  Unauthorized access can lead to denial\n   of service when the network resources\
    \ get overused [RFC3869].\n"
- title: 9.  Acknowledgements
  contents:
  - "9.  Acknowledgements\n   This work is funded by the European Commission, within\
    \ the context of\n   the MESCAL (Management of End-to-End Quality of Service Across\
    \ the\n   Internet At Large) and AGAVE (A liGhtweight Approach for Viable End-\n\
    \   to-end IP-based QoS Services) projects.  The authors would like to\n   thank\
    \ all the other partners for the fruitful discussions.\n   We are grateful to\
    \ Brian Carpenter, Jon Crowcroft, and Juergen\n   Quittek for their helpful comments\
    \ and suggestions for improving this\n   document.\n"
- title: 10.  References
  contents:
  - '10.  References

    '
- title: 10.1.  Normative References
  contents:
  - "10.1.  Normative References\n   [RFC2679]  Almes, G., Kalidindi, S., and M. Zekauskas,\
    \ \"A One-way\n              Delay Metric for IPPM\", RFC 2679, September 1999.\n\
    \   [RFC2680]  Almes, G., Kalidindi, S., and M. Zekauskas, \"A One-way\n     \
    \         Packet Loss Metric for IPPM\", RFC 2680, September 1999.\n   [RFC3393]\
    \  Demichelis, C. and P. Chimento, \"IP Packet Delay Variation\n             \
    \ Metric for IP Performance Metrics (IPPM)\", RFC 3393,\n              November\
    \ 2002.\n   [RFC4271]  Rekhter, Y., Ed., Li, T., Ed., and S. Hares, Ed., \"A\n\
    \              Border Gateway Protocol 4 (BGP-4)\", RFC 4271,\n              January\
    \ 2006.\n"
- title: 10.2.  Informative References
  contents:
  - "10.2.  Informative References\n   [AGAVE]    Boucadair, et al., \"Parallel Internets\
    \ Framework\", IST\n              AGAVE project public deliverable D1.1, September\
    \ 2006.\n   [Chau]     Chau, C., \"Policy-based routing with non-strict\n    \
    \          preferences\", Proceedings of the ACM SIGCOMM 2006\n              Conference\
    \ on Applications, Technologies, Architectures,\n              and Protocols for\
    \ Computer Communications, Pisa, Italy, pp\n              387-398, September 2006.\n\
    \   [E2E]      Saltzer, J H., Reed, D P., and D D. Clark, \"End-To-End\n     \
    \         Arguments in System Design\", ACM Transactions in Computer\n       \
    \       Systems, Vol 2, Number 4, pp 277-288, November 1984.\n   [Grif]     Griffin,\
    \ D., Spencer, J., Griem, J., Boucadair, M.,\n              Morand, P., Howarth,\
    \ M., Wang, N., Pavlou, G., Asgari, A.,\n              and P. Georgatsos, \"Interdomain\
    \ routing through QoS-class\n              planes [Quality-of-Service-Based Routing\
    \ Algorithms for\n              Heterogeneous Networks]\",  IEEE Communications\n\
    \              Magazine, Vol 45, Issue 2, pp 88-95, February 2007.\n   [Kushman]\
    \  Kushman, N., Kandula, S., and D. Katabi, \"Can You Hear Me\n              Now?!\
    \ It Must Be BGP\", ACM Journal of Computer and\n              Communication Review\
    \ CCR, November 2007.\n   [Lev]      Levis, P., Asgari, H., and P. Trimintzios,\
    \ \"Consideration\n              on Inter-domain QoS and Traffic Engineering issues\
    \ Through\n              a Utopian Approach\", SAPIR-2004 workshop of ICT-2004,\
    \ (C)\n              Springer-Verlag, August 2004.\n   [MESCAL]   Flegkas, et\
    \ al., \"Specification of Business Models and a\n              Functional Architecture\
    \ for Inter-domain QoS Delivery\",\n              IST MESCAL project public deliverable\
    \ D1.1, May 2003.\n   [RFC2475]  Blake, S., Black, D., Carlson, M., Davies, E.,\
    \ Wang, Z.,\n              and W. Weiss, \"An Architecture for Differentiated\n\
    \              Services\", RFC 2475, December 1998.\n   [RFC3086]  Nichols, K.\
    \ and B. Carpenter, \"Definition of\n              Differentiated Services Per\
    \ Domain Behaviors and Rules for\n              their Specification\", RFC 3086,\
    \ April 2001.\n   [RFC3209]  Awduche, D., Berger, L., Gan, D., Li, T., Srinivasan,\
    \ V.,\n              and G. Swallow, \"RSVP-TE: Extensions to RSVP for LSP\n \
    \             Tunnels\", RFC 3209, December 2001.\n   [RFC3387]  Eder, M., Chaskar,\
    \ H., and S. Nag, \"Considerations from\n              the Service Management\
    \ Research Group (SMRG) on Quality of\n              Service (QoS) in the IP Network\"\
    , RFC 3387,\n              September 2002.\n   [RFC3869]  Atkinson, R., Ed., Floyd,\
    \ S., Ed., and Internet\n              Architecture Board, \"IAB Concerns and\
    \ Recommendations\n              Regarding Internet Research and Evolution\",\
    \ RFC 3869,\n              August 2004.\n   [RFC4594]  Babiarz, J., Chan, K.,\
    \ and F. Baker, \"Configuration\n              Guidelines for DiffServ Service\
    \ Classes\", RFC 4594,\n              August 2006.\n   [RFC4760]  Bates, T., Chandra,\
    \ R., Katz, D., and Y. Rekhter,\n              \"Multiprotocol Extensions for\
    \ BGP-4\", RFC 4760,\n              January 2007.\n   [WIP]      Deleuze, G. and\
    \ F. Guattari, \"What Is Philosophy?\",\n              Columbia University Press\
    \ ISBN: 0231079893, April 1996.\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Pierre Levis\n   France Telecom\n   42 rue des Coutures\n\
    \   BP 6243\n   Caen Cedex 4  14066\n   France\n   EMail: pierre.levis@orange-ftgroup.com\n\
    \   Mohamed Boucadair\n   France Telecom\n   42 rue des Coutures\n   BP 6243\n\
    \   Caen Cedex 4  14066\n   France\n   EMail: mohamed.boucadair@orange-ftgroup.com\n"
- title: Full Copyright Statement
  contents:
  - "Full Copyright Statement\n   Copyright (C) The IETF Trust (2008).\n   This document\
    \ is subject to the rights, licenses and restrictions\n   contained in BCP 78\
    \ and at http://www.rfc-editor.org/copyright.html,\n   and except as set forth\
    \ therein, the authors retain all their rights.\n   This document and the information\
    \ contained herein are provided on an\n   \"AS IS\" basis and THE CONTRIBUTOR,\
    \ THE ORGANIZATION HE/SHE REPRESENTS\n   OR IS SPONSORED BY (IF ANY), THE INTERNET\
    \ SOCIETY, THE IETF TRUST AND\n   THE INTERNET ENGINEERING TASK FORCE DISCLAIM\
    \ ALL WARRANTIES, EXPRESS\n   OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY\
    \ THAT THE USE OF\n   THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY\
    \ IMPLIED\n   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.\n"
- title: Intellectual Property
  contents:
  - "Intellectual Property\n   The IETF takes no position regarding the validity or\
    \ scope of any\n   Intellectual Property Rights or other rights that might be\
    \ claimed to\n   pertain to the implementation or use of the technology described\
    \ in\n   this document or the extent to which any license under such rights\n\
    \   might or might not be available; nor does it represent that it has\n   made\
    \ any independent effort to identify any such rights.  Information\n   on the\
    \ procedures with respect to rights in RFC documents can be\n   found in BCP 78\
    \ and BCP 79.\n   Copies of IPR disclosures made to the IETF Secretariat and any\n\
    \   assurances of licenses to be made available, or the result of an\n   attempt\
    \ made to obtain a general license or permission for the use of\n   such proprietary\
    \ rights by implementers or users of this\n   specification can be obtained from\
    \ the IETF on-line IPR repository at\n   http://www.ietf.org/ipr.\n   The IETF\
    \ invites any interested party to bring to its attention any\n   copyrights, patents\
    \ or patent applications, or other proprietary\n   rights that may cover technology\
    \ that may be required to implement\n   this standard.  Please address the information\
    \ to the IETF at\n   ietf-ipr@ietf.org.\n"
