- title: __initial_text__
  contents:
  - "                   Service Requirements for Layer 2\n             Provider-Provisioned\
    \ Virtual Private Networks\n"
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This memo provides information for the Internet community.\
    \  It does\n   not specify an Internet standard of any kind.  Distribution of\
    \ this\n   memo is unlimited.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (C) The Internet Society (2006).\n"
- title: Abstract
  contents:
  - "Abstract\n   This document provides requirements for Layer 2 Provider-Provisioned\n\
    \   Virtual Private Networks (L2VPNs).  It first provides taxonomy and\n   terminology\
    \ and states generic and general service requirements.  It\n   covers point-to-point\
    \ VPNs, referred to as Virtual Private Wire\n   Service (VPWS), as well as multipoint-to-multipoint\
    \ VPNs, also known\n   as Virtual Private LAN Service (VPLS).  Detailed requirements\
    \ are\n   expressed from both a customer as well as a service provider\n   perspectives.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1. Introduction ....................................................4\n\
    \      1.1. Scope of This Document .....................................4\n  \
    \    1.2. Outline ....................................................5\n   2.\
    \ Conventions used in this document ...............................5\n   3. Contributing\
    \ Authors ............................................5\n   4. Definitions and\
    \ Taxonomy ........................................5\n      4.1. Definitions ................................................5\n\
    \      4.2. Taxonomy of L2VPN Types ....................................6\n  \
    \    4.3. VPWS .......................................................6\n    \
    \  4.4. VPLS .......................................................7\n   5. Service\
    \ Requirements Common to Customers and Service Providers ..7\n      5.1. Scope\
    \ of emulation .........................................8\n      5.2. Traffic\
    \ Types ..............................................8\n      5.3. Topology ...................................................8\n\
    \      5.4. Isolated Exchange of Data and Forwarding Information .......9\n  \
    \    5.5. Security ...................................................9\n    \
    \       5.5.1. User Data Security .................................10\n      \
    \     5.5.2. Access Control .....................................10\n      5.6.\
    \ Addressing ................................................11\n      5.7. Quality\
    \ of Service ........................................11\n           5.7.1. QoS\
    \ Standards ......................................11\n           5.7.2. Service\
    \ Models .....................................11\n      5.8. Service Level Specifications\
    \ ..............................12\n      5.9. Protection and Restoration ................................12\n\
    \      5.10. CE-to-PE and PE-to-PE Link Requirements ..................12\n  \
    \    5.11. Management ...............................................12\n    \
    \  5.12. Interoperability .........................................12\n      5.13.\
    \ Inter-working ............................................13\n   6. Customer\
    \ Requirements ..........................................13\n      6.1. Service\
    \ Provider Independence .............................13\n      6.2. Layer 3 Support\
    \ ...........................................13\n      6.3. Quality of Service\
    \ and Traffic Parameters .................14\n      6.4. Service Level Specification\
    \ ...............................14\n      6.5. Security ..................................................14\n\
    \           6.5.1. Isolation ..........................................14\n  \
    \         6.5.2. Access Control .....................................14\n    \
    \       6.5.3. Value-Added Security Services ......................15\n      6.6.\
    \ Network Access ............................................15\n           6.6.1.\
    \ Physical/Link Layer Technology .....................15\n           6.6.2. Access\
    \ Connectivity ................................15\n      6.7. Customer Traffic\
    \ ..........................................17\n           6.7.1. Unicast, Unknown\
    \ Unicast, Multicast, and\n                  Broadcast forwarding ...............................17\n\
    \           6.7.2. Packet Re-ordering .................................17\n  \
    \         6.7.3. Minimum MTU ........................................17\n    \
    \       6.7.4. End-point VLAN Tag Translation .....................18\n      \
    \     6.7.5. Transparency .......................................18\n      6.8.\
    \ Support for Layer 2 Control Protocols .....................18\n      6.9. CE\
    \ Provisioning ...........................................19\n   7. Service Provider\
    \ Network Requirements ..........................19\n      7.1. Scalability ...............................................19\n\
    \           7.1.1. Service Provider Capacity Sizing Projections .......19\n  \
    \         7.1.2. Solution-Specific Metrics ..........................19\n    \
    \  7.2. Identifiers ...............................................19\n      7.3.\
    \ Discovering L2VPN Related Information .....................19\n      7.4. Quality\
    \ of Service (QoS) ..................................20\n      7.5. Isolation\
    \ of Traffic and Forwarding Information ...........20\n      7.6. Security ..................................................21\n\
    \      7.7. Inter-AS/SP L2VPNs ........................................22\n  \
    \         7.7.1. Management .........................................22\n    \
    \       7.7.2. Bandwidth and QoS Brokering ........................22\n      7.8.\
    \ L2VPN Wholesale ...........................................23\n      7.9. Tunneling\
    \ Requirements ....................................23\n      7.10. Support for\
    \ Access Technologies ..........................23\n      7.11. Backbone Networks\
    \ ........................................24\n      7.12. Network Resource Partitioning\
    \ and Sharing Between\n            L2VPNs ...................................................24\n\
    \      7.13. Interoperability .........................................24\n  \
    \    7.14. Testing ..................................................25\n    \
    \  7.15. Support on Existing PEs ..................................25\n   8. Service\
    \ Provider Management Requirements .......................26\n   9. Engineering\
    \ Requirements .......................................26\n      9.1. Control Plane\
    \ Requirements ................................26\n      9.2. Data Plane Requirements\
    \ ...................................27\n           9.2.1. Encapsulation ......................................27\n\
    \           9.2.2. Responsiveness to Congestion .......................27\n  \
    \         9.2.3. Broadcast Domain ...................................27\n    \
    \       9.2.4. Virtual Switching Instance .........................27\n      \
    \     9.2.5. MAC Address Learning ...............................27\n   10. Security\
    \ Considerations .......................................28\n   11. Acknowledgements\
    \ ..............................................28\n   12. References ....................................................29\n\
    \      12.1. Normative References .....................................29\n  \
    \    12.2. Informative References ...................................29\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   This section describes the scope and outline of the document.\n"
- title: 1.1.  Scope of This Document
  contents:
  - "1.1.  Scope of This Document\n   This document provides requirements for provider-provisioned\
    \ Layer 2\n   Virtual Private Networks (L2VPN).  It identifies requirements that\n\
    \   MAY apply to one or more individual approaches that a Service\n   Provider\
    \ (SP) may use for the provisioning of a Layer 2 VPN service.\n   The content\
    \ of this document makes use of the terminology defined in\n   [RFC4026] and common\
    \ components for deploying L2VPNs described in\n   [RFC4664].\n   The technical\
    \ specifications to provide L2VPN services are outside\n   the scope of this document.\
    \  The framework document [RFC4664] and\n   several other documents, which explain\
    \ technical approaches providing\n   L2VPN services, such as [VPLS_LDP], [VPLS_BGP],\
    \ and [IPLS], are\n   available to cover this aspect.\n   This document describes\
    \ requirements for two types of L2VPNs: (1)\n   Virtual Private Wire Service (VPWS),\
    \ and (2) Virtual Private LAN\n   Service (VPLS).  The approach followed in this\
    \ document distinguishes\n   L2VPN types as to how the connectivity is provided\
    \ (point-point or\n   multipoint-multipoint), as detailed in [RFC4664].\n   This\
    \ document is intended as a \"checklist\" of requirements that will\n   provide\
    \ a consistent way to evaluate and document how well each\n   individual approach\
    \ satisfies specific requirements.  The\n   applicability statement document for\
    \ each individual approach should\n   document the results of this evaluation.\n\
    \   In the context of provider-provisioned VPNs, there are two entities\n   involved\
    \ in operation of such services, the Provider and the\n   Customer.  The Provider\
    \ engages in a binding agreement with the\n   Customer as to the behavior of the\
    \ service in a normal situation as\n   well as in exceptional situations.  Such\
    \ agreement is known as\n   Service Level Specification (SLS), which is part of\
    \ the Service Level\n   Agreement (SLA) established between the Provider and the\
    \ Customer.\n   A proper design of L2VPNs aids formulation of SLSes in that it\n\
    \   provides means for proper separation between Customer Edge (CE) and\n   Provider\
    \ Edge (PE), allows proper execution of the SLS offer, and\n   supports a flexible\
    \ and rich set of capabilities.\n   This document provides requirements from both\
    \ the Provider's and the\n   Customer's point of view.  It begins with common\
    \ customer's and\n   service provider's point of view, followed by a customer's\n\
    \   perspective, and concludes with specific needs of an SP.  These\n   requirements\
    \ provide high-level L2VPN features expected by an SP in\n   provisioning L2VPNs,\
    \ which include SP requirements for security,\n   privacy, manageability, interoperability,\
    \ and scalability.\n"
- title: 1.2.  Outline
  contents:
  - "1.2.  Outline\n   The outline of the rest of this document is as follows.  Section\
    \ 4\n   provides definitions and taxonomy.  Section 5 provides common\n   requirements\
    \ that apply to both customer and SP, respectively.\n   Section 6 states requirements\
    \ from a customer perspective.  Section 7\n   states network requirements from\
    \ an SP perspective.  Section 8 states\n   SP management requirements.  Section\
    \ 9 describes the engineering\n   requirements, particularly control and data\
    \ plane requirements.\n   Section 10 provides security considerations.  Section\
    \ 11 lists\n   acknowledgements.  Section 12 provides a list of references cited\n\
    \   herein.\n"
- title: 2.  Conventions used in this document
  contents:
  - "2.  Conventions used in this document\n   The key words \"MUST\", \"MUST NOT\"\
    , \"REQUIRED\", \"SHALL\", \"SHALL NOT\",\n   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\"\
    , \"MAY\", and \"OPTIONAL\" in this\n   document are to be interpreted as described\
    \ in RFC 2119 [RFC2119].\n"
- title: 3.  Contributing Authors
  contents:
  - "3.  Contributing Authors\n   This document was the combined effort of several\
    \ individuals.  The\n   following are the authors that contributed to this document:\n\
    \   Waldemar Augustyn\n   Marco Carugi\n   Giles Heron\n   Vach Kompella\n   Marc\
    \ Lasserre\n   Pascal Menezes\n   Hamid Ould-Brahim\n   Tissa Senevirathne\n \
    \  Yetik Serbest\n"
- title: 4.  Definitions and Taxonomy
  contents:
  - '4.  Definitions and Taxonomy

    '
- title: 4.1.  Definitions
  contents:
  - "4.1.  Definitions\n   The terminology used in this document is defined in [RFC4026].\
    \  The\n   L2VPN framework document [RFC4664] further describes these concepts\n\
    \   in the context of a reference model that defines layered service\n   relationships\
    \ between devices and one or more levels of tunnels.\n"
- title: 4.2.  Taxonomy of L2VPN Types
  contents:
  - "4.2.  Taxonomy of L2VPN Types\n   The requirements distinguish two major L2VPN\
    \ models, a Virtual\n   Private Wire Service (VPWS), and a Virtual Private LAN\
    \ Service\n   (VPLS).\n   The following diagram shows an L2VPN reference model.\n\
    \   +-----+                                       +-----+\n   + CE1 +--+     \
    \                           +---| CE2 |\n   +-----+  |    ........................\
    \    |   +-----+\n   L2VPN A  |  +----+                +----+  |   L2VPN A\n \
    \           +--| PE |--- Service  ---| PE |--+\n               +----+    Provider\
    \    +----+\n              /  .       Backbone       .  \\     -   /\\-_\n   +-----+\
    \   /   .          |           .   \\   / \\ /   \\     +-----+\n   + CE4 +--+\
    \    .          |           .    +--\\ Access \\----| CE5 |\n   +-----+      \
    \ .        +----+        .       | Network |   +-----+\n   L2VPN B       .........|\
    \ PE |.........        \\       /    L2VPN B\n                          +----+\
    \     ^            -------\n                            |        |\n         \
    \                   |        |\n                         +-----+     |\n     \
    \                    | CE3 |     +-- Logical switching instance\n            \
    \             +-----+\n                         L2VPN A\n                    \
    \ Figure 1.  L2VPN Reference Model\n"
- title: 4.3.  VPWS
  contents:
  - "4.3.  VPWS\n   The PE devices provide a logical interconnect such that a pair\
    \ of CE\n   devices appears to be connected by a single logical Layer 2 circuit.\n\
    \   PE devices act as Layer 2 circuit switches.  Layer 2 circuits are\n   then\
    \ mapped onto tunnels in the SP network.  These tunnels can either\n   be specific\
    \ to a particular VPWS, or be shared among several\n   services.  VPWS applies\
    \ for all services, including Ethernet, ATM,\n   Frame Relay, etc.  In Figure\
    \ 1, L2VPN B represents a VPWS case.\n   Each PE device is responsible for allocating\
    \ customer Layer 2 frames\n   to the appropriate VPWS and for proper forwarding\
    \ to the intended\n   destinations.\n"
- title: 4.4.  VPLS
  contents:
  - "4.4.  VPLS\n   In case of VPLS, the PE devices provide a logical interconnect\
    \ such\n   that CE devices belonging to a specific VPLS appear to be connected\n\
    \   by a single LAN.  End-to-end VPLS consists of a bridge module and a\n   LAN\
    \ emulation module ([RFC4664]).  A VPLS can contain a single VLAN\n   or multiple\
    \ VLANs ([IEEE_802.1Q]).  A variation of this service is\n   IPLS ([RFC4664]),\
    \ which is limited to supporting only customer IP\n   traffic.\n   In a VPLS,\
    \ a customer site receives Layer 2 service from the SP.  The\n   PE is attached\
    \ via an access connection to one or more CEs.  The PE\n   performs forwarding\
    \ of user data packets based on information in the\n   Layer 2 header, such as\
    \ a MAC destination address.  In Figure 1,\n   L2VPN A represents a VPLS case.\n\
    \   The details of VPLS reference model, which we summarize here, can be\n   found\
    \ in [RFC4664].  In VPLS, the PE can be viewed as containing a\n   Virtual Switching\
    \ Instance (VSI) for each L2VPN that it serves.  A CE\n   device attaches, possibly\
    \ through an access network, to a bridge\n   module of a PE.  Within the PE, the\
    \ bridge module attaches, through\n   an Emulated LAN Interface to an Emulated\
    \ LAN.  For each VPLS, there\n   is an Emulated LAN instance.  The Emulated LAN\
    \ consists of VPLS\n   Forwarder module (one per PE per VPLS service instance)\
    \ connected by\n   pseudo wires (PW), where the PWs may be traveling through Packet\n\
    \   Switched Network (PSN) tunnels over a routed backbone.  VSI is a\n   logical\
    \ entity that contains a VPLS forwarder module and part of the\n   bridge module\
    \ relevant to the VPLS service instance [RFC4664].\n   Hence, the VSI terminates\
    \ PWs for interconnection with other VSIs and\n   also terminates Attachment Circuits\
    \ (ACs) (see [RFC3985] for\n   definition) for accommodating CEs.  A VSI includes\
    \ the forwarding\n   information base for an L2VPN [RFC4664] which is the set\
    \ of\n   information regarding how to forward Layer 2 frames received over the\n\
    \   AC from the CE to VSIs in other PEs supporting the same L2VPN service\n  \
    \ (and/or to other ACs), and it contains information regarding how to\n   forward\
    \ Layer 2 frames received from PWs to ACs.  Forwarding\n   information bases can\
    \ be populated dynamically (such as by source MAC\n   address learning) or statically\
    \ (e.g., by configuration).  Each PE\n   device is responsible for proper forwarding\
    \ of the customer traffic\n   to the appropriate destination(s) based on the forwarding\
    \ information\n   base of the corresponding VSI.\n"
- title: 5.  Service Requirements Common to Customers and Service Providers
  contents:
  - "5.  Service Requirements Common to Customers and Service Providers\n   This section\
    \ contains requirements that apply to both the customer\n   and the provider,\
    \ or that are of an otherwise general nature.\n"
- title: 5.1.  Scope of emulation
  contents:
  - "5.1.  Scope of emulation\n   L2VPN protocols SHOULD NOT interfere with existing\
    \ Layer 2 protocols\n   and standards of the Layer 2 network the customer is managing.\
    \  If\n   they impact customer Layer 2 protocols that are sent over the VPLS,\n\
    \   then these impacts MUST be documented.\n   Some possibly salient differences\
    \ between VPLS and a real LAN are:\n   - The reliability may likely be less, i.e.,\
    \ the probability that a\n     message broadcast over the VPLS is not seen by\
    \ one of the bridge\n     modules in PEs is higher than in a true Ethernet.\n\
    \   - VPLS frames can get duplicated if the PW sequencing option isn't\n     turned\
    \ on.  The data frames on the PWs are sent in IP datagrams,\n     and under certain\
    \ failure scenarios, IP networks can duplicate\n     packets.  If the PW data\
    \ transmission protocol does not ensure\n     sequence of data packets, frames\
    \ can be duplicated or received out\n     of sequence.  If the customer's Bridge\
    \ Protocol Data Unit (BPDU)\n     frames are sent as data packets, then BPDU frames\
    \ can be duplicated\n     or mis-sequenced, although this may not create any problems\
    \ for\n     Real-Time Streaming Protocol (RSTP).\n   - Delayed delivery of packets\
    \ (e.g., more than half a second), rather\n     than dropping them, could have\
    \ adverse effect on the performance of\n     the service.\n   - 802.3x Pause frames\
    \ will not be transported over a VPLS, as the\n     bridge module ([RFC4664])\
    \ in the PE terminates them.\n   - Since the IPLS solution aims at transporting\
    \ encapsulated traffic\n     (rather than Layer 2 frames themselves), the IPLS\
    \ solution is NOT\n     REQUIRED to preserve the Layer 2 Header transparently\
    \ from CE to\n     CE.  For example, Source MAC address will probably not be preserved\n\
    \     by the IPLS solution.\n"
- title: 5.2.  Traffic Types
  contents:
  - "5.2.  Traffic Types\n   A VPLS MUST support unicast, multicast, and broadcast\
    \ traffic.\n   Support for efficient replication of broadcast and multicast traffic\n\
    \   is highly desirable.\n"
- title: 5.3.  Topology
  contents:
  - "5.3.  Topology\n   A SP network may be realized using one or more network tunnel\n\
    \   topologies to interconnect PEs, ranging from simple point-to-point to\n  \
    \ distributed hierarchical arrangements.  The typical topologies\n   include:\n\
    \      - Point-to-point\n      - Point-to-multipoint, a.k.a. hub and spoke\n \
    \     - Any-to-any, a.k.a. full mesh\n      - Mixed, a.k.a. partial mesh\n   \
    \   - Hierarchical\n   Regardless of the SP topology employed, the service to\
    \ the customers\n   MUST retain the connectivity type implied by the type of L2VPN.\
    \  For\n   example, a VPLS MUST allow multipoint-to-multipoint connectivity even\n\
    \   if it is implemented with point-to-point circuits.  This requirement\n   does\
    \ not imply that all traffic characteristics (such as bandwidth,\n   QoS, delay,\
    \ etc.) necessarily be the same between any two end points\n   of an L2VPN.  It\
    \ is important to note that SLS requirements of a\n   service have a bearing on\
    \ the type of topology that can be used.\n   To the extent possible, an L2VPN\
    \ service SHOULD be capable of\n   crossing multiple administrative boundaries.\n\
    \   To the extent possible, the L2VPN services SHOULD be independent of\n   access\
    \ network technology.\n"
- title: 5.4.  Isolated Exchange of Data and Forwarding Information
  contents:
  - "5.4.  Isolated Exchange of Data and Forwarding Information\n   L2VPN solutions\
    \ SHALL define means that prevent CEs in an L2VPN from\n   interaction with unauthorized\
    \ entities.\n   L2VPN solutions SHALL avoid introducing undesired forwarding\n\
    \   information that could corrupt the L2VPN forwarding information base.\n  \
    \ A means to constrain or isolate the distribution of addressed data to\n   only\
    \ those VPLS sites determined either by MAC learning and/or\n   configuration\
    \ MUST be provided.\n   The internal structure of an L2VPN SHOULD not be advertised\
    \ or\n   discoverable from outside that L2VPN.\n"
- title: 5.5.  Security
  contents:
  - "5.5.  Security\n   A range of security features MUST be supported by the suite\
    \ of L2VPN\n   solutions.  Each L2VPN solution MUST state which security features\
    \ it\n   supports and how such features can be configured on a per-customer\n\
    \   basis.\n   A number of security concerns arise in the setup and operation\
    \ of an\n   L2VPN, ranging from misconfigurations to attacks that can be launched\n\
    \   on an L2VPN and can strain network resources such as memory space,\n   forwarding\
    \ information base table, bandwidth, and CPU processing.\n   This section lists\
    \ some potential security hazards that can result\n   due to mis-configurations\
    \ and/or malicious attacks.  There MUST be\n   methods available to protect against\
    \ the following situations.\n   - Protocol attacks\n     o Excessive protocol\
    \ adjacency setup/teardown\n     o Excessive protocol signaling/withdrawal\n \
    \  - Resource Utilization\n     o Forwarding plane replication (VPLS)\n     o\
    \ Looping (VPLS primarily)\n     o MAC learning table size limit (VPLS)\n   -\
    \ Unauthorized access\n     o Unauthorized member of VPN\n     o Incorrect customer\
    \ interface\n     o Incorrect service delimiting VLAN tag\n     o Unauthorized\
    \ access to PE\n   - Tampering with signaling\n     o Incorrect FEC signaling\n\
    \     o Incorrect PW label assignment\n     o Incorrect signaled VPN parameters\
    \ (e.g., QoS, MTU, etc.)\n   - Tampering with data forwarding\n     o Incorrect\
    \ MAC learning entry\n     o Incorrect PW label\n     o Incorrect AC identifier\n\
    \     o Incorrect customer facing encapsulation\n     o Incorrect PW encapsulation\n\
    \     o Hijacking PWs using the wrong tunnel\n     o Incorrect tunnel encapsulation\n"
- title: 5.5.1.  User Data Security
  contents:
  - "5.5.1.  User Data Security\n   An L2VPN solution MUST provide traffic separation\
    \ between different\n   L2VPNs.\n   In case of VPLS, VLAN Ids MAY be used as service\
    \ delimiters.  When\n   used in this manner, they MUST be honored and traffic\
    \ separation MUST\n   be provided.\n"
- title: 5.5.2.  Access Control
  contents:
  - "5.5.2.  Access Control\n   An L2VPN solution MAY also have the ability to activate\
    \ the\n   appropriate filtering capabilities upon request of a customer.\n"
- title: 5.6.  Addressing
  contents:
  - "5.6.  Addressing\n   An L2VPN solution MUST support overlapping addresses of\
    \ different\n   L2VPNs.  For instance, customers MUST NOT be prevented from using\
    \ the\n   same MAC addresses with different L2VPNs.  If a service provider uses\n\
    \   VLANs as service delimiters, the L2VPN solution MUST ensure that VLAN\n  \
    \ Ids cannot overlap.  If VLANs are not used as service delimiters,\n   L2VPN\
    \ solutions MAY allow VLAN Ids to overlap.\n"
- title: 5.7.  Quality of Service
  contents:
  - "5.7.  Quality of Service\n   To the extent possible, L2VPN QoS SHOULD be independent\
    \ of the access\n   network technology.\n"
- title: 5.7.1.  QoS Standards
  contents:
  - "5.7.1.  QoS Standards\n   As provided in [RFC3809], an L2VPN SHALL be able to\
    \ support QoS in\n   one or more of the following already standardized modes:\n\
    \   - Best Effort  (support mandatory for all provider-provisioned\n         \
    \         VPN types)\n   - Aggregate CE Interface Level QoS (i.e., 'hose' level)\n\
    \   - Site-to-site, or 'pipe' level QoS\n   Note that all cases involving QoS\
    \ MAY require that the CE and/or PE\n   perform shaping and/or policing.\n   Mappings\
    \ or translations of Layer 2 QoS parameters into PSN QoS\n   (e.g., DSCPs or MPLS\
    \ EXP field) as well as QoS mapping based on VC\n   (e.g., FR/ATM or VLAN) MAY\
    \ be performed in order to provide QoS\n   transparency.  The actual mechanisms\
    \ for these mappings or\n   translations are outside the scope of this document.\
    \  In addition,\n   the Diffserv support of underlying tunneling technologies\
    \ (e.g.,\n   [RFC3270] or [RFC3308]) and the Intserv model ([RFC2205]) MAY be\n\
    \   used.  As such, the L2VPN SLS requirements SHOULD be supported by\n   appropriate\
    \ core mechanisms.\n"
- title: 5.7.2.  Service Models
  contents:
  - "5.7.2.  Service Models\n   A service provider may desire to offer QoS service\
    \ to a customer for\n   at least the following generic service types: managed\
    \ access VPN\n   service or an edge-to-edge QoS service.  The details of the service\n\
    \   models can be found in [RFC3809] and in [RFC4031].\n   In L2VPN service, both\
    \ DSCP ([RFC2474]) and 802.1p ([IEEE_802.1D])\n   fields may be used for this\
    \ purpose.\n"
- title: 5.8.  Service Level Specifications
  contents:
  - "5.8.  Service Level Specifications\n   For an L2VPN service, the capabilities\
    \ for Service Level\n   Specification (SLS) monitoring and reporting stated in\
    \ [RFC3809]\n   SHOULD be provided.\n"
- title: 5.9.  Protection and Restoration
  contents:
  - "5.9.  Protection and Restoration\n   The L2VPN service infrastructure SHOULD\
    \ provide redundant paths to\n   ensure high availability.  The reaction to failures\
    \ SHOULD result in\n   an attempt to restore the service using alternative paths.\n\
    \   The intention is to keep the restoration time small.  The restoration\n  \
    \ time MUST be less than the time it takes the CE devices, or customer\n   Layer\
    \ 2 control protocols as well as Layer 3 routing protocols, to\n   detect a failure\
    \ in the L2VPN.\n"
- title: 5.10.  CE-to-PE and PE-to-PE Link Requirements
  contents:
  - "5.10.  CE-to-PE and PE-to-PE Link Requirements\n   The CE-to-PE links MAY be\n\
    \   - direct physical links (e.g., 100BaseTX, and T1/E1 TDM),\n   - logical links\
    \ (e.g., ATM PVC, and RFC2427-encapsulated link),\n   - transport networks carrying\
    \ Ethernet,\n   - a Layer 2 tunnel that goes through a Layer 3 network (e.g.,\
    \ L2TP\n     sessions).\n   Layer 2 frames MAY be tunneled through a Layer 3 backbone\
    \ from PE to\n   PE, using one of a variety of tunneling technologies (e.g., IP-in-IP,\n\
    \   GRE, MPLS, L2TP, etc.).\n"
- title: 5.11.  Management
  contents:
  - "5.11.  Management\n   Standard interfaces to manage L2VPN services MUST be provided\
    \ (e.g.,\n   standard SNMP MIB Modules).  These interfaces SHOULD provide access\n\
    \   to configuration, verification and runtime monitoring protocols.\n   Service\
    \ management MAY include the TMN 'FCAPS' functionalities, as\n   follows: Fault,\
    \ Configuration, Accounting, Performance, and Security,\n   as detailed in [ITU_Y.1311.1].\n"
- title: 5.12.  Interoperability
  contents:
  - "5.12.  Interoperability\n   Multi-vendor interoperability, which corresponds\
    \ to similar network\n   and service levels among different implementations, at\
    \ the network\n   element SHOULD be guaranteed.  This will likely rely on the\n\
    \   completeness of the corresponding standard.\n   The technical solution MUST\
    \ be multi-vendor interoperable, not only\n   within the SP network infrastructure,\
    \ but also with the customer's\n   network equipment and services making use of\
    \ the L2VPN service.\n   A L2VPN solution SHOULD NOT preclude different access\
    \ technologies.\n   For instance, customer access connections to an L2VPN service\
    \ MAY be\n   different at different CE devices (e.g., Frame Relay, ATM, 802.1D,\n\
    \   MPLS).\n"
- title: 5.13.  Inter-working
  contents:
  - "5.13.  Inter-working\n   Inter-working scenarios among different solutions providing\
    \ L2VPN\n   services are highly desirable.  It is possible to have cases that\n\
    \   require inter-working or interconnection between customer sites,\n   which\
    \ span network domains with different L2VPN solutions or\n   different implementations\
    \ of the same approach.  Inter-working SHOULD\n   be supported in a scalable manner.\n\
    \   Inter-working scenarios MUST consider at least traffic isolation,\n   security,\
    \ QoS, access, and management aspects.  This requirement is\n   essential in the\
    \ case of network migration, to ensure service\n   continuity among sites belonging\
    \ to different portions of the\n   network.\n"
- title: 6.  Customer Requirements
  contents:
  - "6.  Customer Requirements\n   This section captures requirements from a customer\
    \ perspective.\n"
- title: 6.1.  Service Provider Independence
  contents:
  - "6.1.  Service Provider Independence\n   Customers MAY require L2VPN service that\
    \ spans multiple\n   administrative domains or SP networks.  Therefore, an L2VPN\
    \ service\n   MUST be able to span multiple AS and SP networks but still to act\
    \ and\n   to appear as a single, homogeneous L2VPN from a customer point of\n\
    \   view.\n   A customer might also start with an L2VPN provided in a single AS\n\
    \   with a certain SLS but then ask for an expansion of the service\n   spanning\
    \ multiple ASes and/or multiple-SPs.  In this case, as well as\n   for all kinds\
    \ of multi-AS and multiple-SP L2VPNs, L2VPN service\n   SHOULD be able to deliver\
    \ the same SLS to all sites in a VPN\n   regardless of the AS/SP to which it homes.\n"
- title: 6.2.  Layer 3 Support
  contents:
  - "6.2.  Layer 3 Support\n   With the exception of IPLS, an L2VPN service SHOULD\
    \ be agnostic to\n   customer's Layer 3 traffic (e.g., IP, IPX, Appletalk) encapsulated\n\
    \   within Layer 2 frames.\n   IPLS MUST allow transport of customer's IPv4 and\
    \ IPv6 traffic\n   encapsulated within Layer 2 frames.  IPLS SHOULD also allow\
    \ CEs to\n   run ISIS and MPLS protocols transparently among them when those are\n\
    \   used in conjunction with IP.\n"
- title: 6.3.  Quality of Service and Traffic Parameters
  contents:
  - "6.3.  Quality of Service and Traffic Parameters\n   QoS is expected to be an\
    \ important aspect of an L2VPN service for\n   some customers.\n   A customer\
    \ requires that the L2VPN service provide the QoS applicable\n   to his or her\
    \ application, which can range from PWs (e.g., SONET\n   emulation) to voice,\
    \ interactive video, and multimedia applications.\n   Hence, best-effort as well\
    \ as delay and loss sensitive traffic MUST\n   be supported over an L2VPN service.\
    \  A customer application SHOULD\n   experience consistent QoS independent of\
    \ the access network\n   technology used at different sites connected to the same\
    \ L2VPN.\n"
- title: 6.4.  Service Level Specification
  contents:
  - "6.4.  Service Level Specification\n   Most customers simply want their applications\
    \ to perform well.  A SLS\n   is a vehicle for a customer to measure the quality\
    \ of the service\n   that SP(s) provide.  Therefore, when purchasing a service,\
    \ a customer\n   requires access to the measures from the SP(s) that support the\
    \ SLS.\n   Standard interfaces to monitor usage of L2VPN services SHOULD be\n\
    \   provided (e.g., standard SNMP MIB Modules).\n"
- title: 6.5.  Security
  contents:
  - '6.5.  Security

    '
- title: 6.5.1.  Isolation
  contents:
  - "6.5.1.  Isolation\n   An L2VPN solution MUST provide traffic as well as forwarding\n\
    \   information base isolation for customers similar to that obtained in\n   private\
    \ lines, FR, or ATM services.\n   An L2VPN service MAY use customer VLAN Ids as\
    \ service delimiters.  In\n   that case, they MUST be honored, and traffic separation\
    \ MUST be\n   provided.\n"
- title: 6.5.2.  Access Control
  contents:
  - "6.5.2.  Access Control\n   An L2VPN solution MAY have the mechanisms to activate\
    \ the appropriate\n   filtering capabilities upon request of a customer.  For\
    \ instance, MAC\n   and/or VLAN filtering MAY be considered between CE and PE\
    \ for a VPLS.\n"
- title: 6.5.3.  Value-Added Security Services
  contents:
  - "6.5.3.  Value-Added Security Services\n   An L2VPN solution MAY provide value-added\
    \ security services such as\n   encryption and/or authentication of customer packets,\
    \ certificate\n   management, and similar services.\n   L2VPN services MUST NOT\
    \ interfere with the security mechanisms\n   employed at Layer 3 and higher layers\
    \ by customers.  Layer 2 security\n   mechanisms, such as 802.10b ([IEEE_802.10])\
    \ and 802.1AE\n   ([IEEE_802.1AE]), MAY inhibit L2VPN services, when the service\n\
    \   delimiting VLAN Ids are encrypted.\n"
- title: 6.6.  Network Access
  contents:
  - "6.6.  Network Access\n   Every packet exchanged between the customer and the\
    \ SP over the\n   access connection MUST appear as it would on a private network\n\
    \   providing an equivalent service to that offered by the L2VPN.\n"
- title: 6.6.1.  Physical/Link Layer Technology
  contents:
  - "6.6.1.  Physical/Link Layer Technology\n   L2VPN solutions SHOULD support a broad\
    \ range of physical and link-\n   layer access technologies, such as PSTN, ISDN,\
    \ xDSL, cable modem,\n   leased line, Ethernet, Ethernet VLAN, ATM, Frame Relay,\
    \ Wireless\n   local loop, mobile radio access, etc.  The capacity and QoS\n \
    \  achievable MAY be dependent on the specific access technology in use.\n"
- title: 6.6.2.  Access Connectivity
  contents:
  - "6.6.2.  Access Connectivity\n   Various types of physical connectivity scenarios\
    \ MUST be supported,\n   such as multi-homed sites, backdoor links between customer\
    \ sites, and\n   devices homed to two or more SP networks.  In case of VPLS, IEEE\n\
    \   802.3ad-2000 link aggregation SHOULD be supported.  L2VPN solutions\n   SHOULD\
    \ support at least the types of physical or link-layer\n   connectivity arrangements\
    \ shown in Figures 2 - 4 (in addition to the\n   case shown in Figure 1).  As\
    \ in Figure 2, a CE can be dual-homed to\n   an SP or to two different SPs via\
    \ diverse access networks.\n                   +----------------             \
    \       +---------------\n                   |                               \
    \     |\n                +------+                            +------+\n      +---------|\
    \  PE  |                  +---------|  PE  |\n      |         |device|       \
    \           |         |device| SP network\n      |         +------+          \
    \        |         +------+\n   +------+         |                  +------+ \
    \        |\n   |  CE  |         |                  |  CE  |         +---------------\n\
    \   |device|         |   SP network     |device|         +---------------\n  \
    \ +------+         |                  +------+         |\n      |         +------+\
    \                  |         +------+\n      |         |  PE  |              \
    \    |         |  PE  |\n      +---------|device|                  +---------|device|\
    \ SP network\n                +------+                            +------+\n \
    \                   |                                   |\n                  \
    \  +----------------                   +---------------\n                   (a)\
    \                                 (b)\n                Figure 2.  Dual-Homed Access\
    \ of CE Devices\n   Resiliency of the L2VPN service can be further enhanced as\
    \ shown in\n   Figure 3, where CE's connected via a \"back door\" connection,\
    \ connect\n   to the same SP or to different SPs.\n                    +----------------\
    \                  +---------------\n                    |                   \
    \               |\n   +------+     +------+               +------+     +------+\n\
    \   |  CE  |-----|  PE  |               |  CE  |-----|  PE  |\n   |device|   \
    \  |device|               |device|     |device| SP network\n   +------+     +------+\
    \               +------+     +------+\n      |             |                 \
    \    |             |\n      | Backdoor    |                     | Backdoor   \
    \ +---------------\n      | link        |   SP network        | link        +---------------\n\
    \      |             |                     |             |\n   +------+     +------+\
    \               +------+     +------+\n   |  CE  |     |  PE  |              \
    \ |  CE  |     |  PE  |\n   |device|-----|device|               |device|-----|device|\
    \ SP network\n   +------+     +------+               +------+     +------+\n \
    \                   |                                   |\n                  \
    \  +----------------                   +---------------\n                   (a)\
    \                                  (b)\n               Figure 3.  Backdoor Links\
    \ Between CE Devices\n   Arbitrary combinations of the above methods, with a few\
    \ examples\n   shown in Figure 4, SHOULD be supported by any L2VPN solution.\n\
    \                    +----------------                   +---------------\n  \
    \                  |                                   |\n   +------+     +------+\
    \               +------+     +------+\n   |  CE  |-----|  PE  |              \
    \ |  CE  |-----|  PE  |\n   |device|     |device|               |device|     |device|\
    \ SP network\n   +------+\\    +------+               +------+\\    +------+\n\
    \      |     \\       |                     |     \\       |\n      |Back  \\\
    \      |                     |Back  \\      +-------------\n      |door   \\ \
    \    |   SP network        |door   \\     +-------------\n      |link    \\  \
    \  |                     |link    \\    |\n   +------+     +------+          \
    \     +------+     +------+\n   |  CE  |     |  PE  |               |  CE  | \
    \    |  PE  |\n   |device|-----|device|               |device|-----|device| SP\
    \ network\n   +------+     +------+               +------+     +------+\n    \
    \                |                                   |\n                    +----------------\
    \                   +---------------\n                   (a)                 \
    \                (b)\n                Figure 4.  Combination of Dual-Homing and\n\
    \                           Backdoor Links for CE Devices\n"
- title: 6.7.  Customer Traffic
  contents:
  - '6.7.  Customer Traffic

    '
- title: 6.7.1.  Unicast, Unknown Unicast, Multicast, and Broadcast forwarding
  contents:
  - "6.7.1.  Unicast, Unknown Unicast, Multicast, and Broadcast forwarding\n   A VPLS\
    \ MUST deliver every packet at least to its intended\n   destination(s) within\
    \ the scope of the VPLS, subject to the ingress\n   policing and security policies.\n"
- title: 6.7.2.  Packet Re-ordering
  contents:
  - "6.7.2.  Packet Re-ordering\n   During normal operation, the queuing and forwarding\
    \ policies SHOULD\n   preserve packet order for packets with the same QoS parameters.\n"
- title: 6.7.3.  Minimum MTU
  contents:
  - "6.7.3.  Minimum MTU\n   A VPLS MUST support the theoretical MTU of the offered\
    \ service.\n   The committed minimum MTU size MUST be the same for a given VPLS\n\
    \   instance.  Different L2VPN services MAY have different committed MTU\n   sizes.\
    \  If the customer VLANs are used as service delimiters, all\n   VLANs within\
    \ a given VPLS MUST inherit the same MTU size.\n   A VPLS MAY use IP fragmentation\
    \ if it presents reassembled packets at\n   VPLS customer edge devices.\n"
- title: 6.7.4.  End-point VLAN Tag Translation
  contents:
  - "6.7.4.  End-point VLAN Tag Translation\n   The L2VPN service MAY support translation\
    \ of customers' AC\n   identifiers (e.g., VLAN tags, if the customer VLANs are\
    \ used as\n   service delimiters).  Such service simplifies connectivity of sites\n\
    \   that want to keep their AC assignments or sites that belong to\n   different\
    \ administrative domains.  In the latter case, the\n   connectivity is sometimes\
    \ referred to as Layer 2 extranet.  On the\n   other hand, it should be noted\
    \ that VLAN tag translation affects the\n   support for multiple spanning trees\
    \ (i.e., 802.1s [IEEE_802.1s]) and\n   can break the proper operation.\n"
- title: 6.7.5.  Transparency
  contents:
  - "6.7.5.  Transparency\n   The L2VPN service is intended to be transparent to Layer\
    \ 2 customer\n   networks.  An L2VPN solution SHOULD NOT require any special packet\n\
    \   processing by the end users before sending packets to the provider's\n   network.\n\
    \   If VLAN Ids are assigned by the SP, then VLANs are not transparent.\n   Transparency\
    \ does not apply in this case, as it is the same as FR/ATM\n   service model.\n\
    \   Since the IPLS solution aims at transporting encapsulated traffic\n   (rather\
    \ than Layer 2 frames themselves), the IPLS solution MUST not\n   alter the packets\
    \ encapsulated inside Layer 2 frames that are\n   transported by the IPLS.  However,\
    \ the IPLS solution is NOT REQUIRED\n   to preserve the Layer 2 header transparently\
    \ from CE to CE.  For\n   example, Source MAC address might not be preserved by\
    \ the IPLS\n   solution.  The IPLS solution MAY remove Layer 2 headers for transport\n\
    \   over the backbone when those can be reconstructed on egress without\n   compromising\
    \ transport of encapsulated traffic.\n"
- title: 6.8.  Support for Layer 2 Control Protocols
  contents:
  - "6.8.  Support for Layer 2 Control Protocols\n   The L2VPN solution SHOULD allow\
    \ transparent operation of Layer 2\n   control protocols employed by customers.\n\
    \   In case of VPLS, the L2VPN service MUST ensure that loops be\n   prevented.\
    \  This can be accomplished with a loop-free topology or\n   appropriate forwarding\
    \ rules.  Control protocols such as Spanning\n   Tree (STP) or similar protocols\
    \ could be employed.  The L2VPN\n   solution MAY use indications from customer\
    \ Layer 2 control protocols,\n   e.g., STP BPDU snooping, to improve the operation\
    \ of a VPLS.\n"
- title: 6.9.  CE Provisioning
  contents:
  - "6.9.  CE Provisioning\n   The L2VPN solution MUST require only minimal or no\
    \ configuration on\n   the CE devices, depending on the type of CE device that\
    \ connects into\n   the infrastructure.\n"
- title: 7.  Service Provider Network Requirements
  contents:
  - "7.  Service Provider Network Requirements\n   This section describes requirements\
    \ from an SP perspective.\n"
- title: 7.1.  Scalability
  contents:
  - "7.1.  Scalability\n   This section contains projections regarding L2VPN sizing\
    \ and\n   scalability requirements and metrics specific to particular\n   solutions.\n"
- title: 7.1.1.  Service Provider Capacity Sizing Projections
  contents:
  - "7.1.1.  Service Provider Capacity Sizing Projections\n   [RFC3809] lists projections\
    \ regarding L2VPN sizing and scalability\n   requirements and metrics.  The examples\
    \ are provided in [RFC3809].\n"
- title: 7.1.2.  Solution-Specific Metrics
  contents:
  - "7.1.2.  Solution-Specific Metrics\n   Each L2VPN solution SHALL document its\
    \ scalability characteristics in\n   quantitative terms.\n"
- title: 7.2.  Identifiers
  contents:
  - "7.2.  Identifiers\n   An SP domain MUST be uniquely identified at least within\
    \ the set of\n   all interconnected SP networks when supporting an L2VPN that\
    \ spans\n   multiple SPs.  Ideally, this identifier SHOULD be globally unique\n\
    \   (e.g., an AS number).\n   An identifier for each L2VPN SHOULD be unique, at\
    \ least within each\n   SP's network, as it MAY be used in auto-discovery, management\
    \ (e.g.,\n   alarm and service correlation, troubleshooting, performance\n   statistics\
    \ collection), and signaling.  Ideally, the L2VPN identifier\n   SHOULD be globally\
    \ unique to support the case, where an L2VPN spans\n   multiple SPs (e.g., [RFC2685]).\
    \  Globally unique identifiers\n   facilitate the support of inter-AS/SP L2VPNs.\n"
- title: 7.3.  Discovering L2VPN Related Information
  contents:
  - "7.3.  Discovering L2VPN Related Information\n   Configuration of PE devices (i.e.,\
    \ U-PE and N-PE [RFC4664]) is a\n   significant task for an SP.  Solutions SHOULD\
    \ provide methods that\n   dynamically allow L2VPN information to be discovered\
    \ by the PEs to\n   minimize the configuration steps.\n   Each device in an L2VPN\
    \ SHOULD be able to determine which other\n   devices belong to the same L2VPN.\
    \  Such a membership discovery scheme\n   MUST prevent unauthorized access, and\
    \ it allows authentication of the\n   source.\n   Distribution of L2VPN information\
    \ SHOULD be limited to those devices\n   involved in that L2VPN.  An L2VPN solution\
    \ SHOULD employ discovery\n   mechanisms to minimize the amount of operational\
    \ information\n   maintained by the SPs.  For example, if an SP adds or removes\
    \ a\n   customer port on a given PE, the remaining PEs SHOULD determine the\n\
    \   necessary actions to take without the SP's having to explicitly\n   reconfigure\
    \ those PEs.\n   A L2VPN solution SHOULD support the means for attached CEs to\n\
    \   authenticate each other and to verify that the SP L2VPN is correctly\n   connected.\n\
    \   The mechanism SHOULD respond to L2VPN membership changes in a timely\n   manner.\
    \  A \"timely manner\" is no longer than the provisioning\n   timeframe, typically\
    \ on the order of minutes, and MAY be as short as\n   the timeframe required for\
    \ \"rerouting,\" typically on the order of\n   seconds.\n   Dynamically creating,\
    \ changing, and managing multiple L2VPN\n   assignments to sites and/or customers\
    \ is another aspect of membership\n   that MUST be addressed in an L2VPN solution.\n"
- title: 7.4.  Quality of Service (QoS)
  contents:
  - "7.4.  Quality of Service (QoS)\n   A significant aspect of a provider-provisioned\
    \ VPN is support for\n   QoS.  An SP has control over the provisioning of resources\
    \ and\n   configuration of parameters in at least the PE and P devices, and in\n\
    \   some cases the CE devices as well.  Therefore, the SP is to provide\n   either\
    \ managed QoS access service, or edge-to-edge QoS service, as\n   defined in [RFC4031].\n"
- title: 7.5.  Isolation of Traffic and Forwarding Information
  contents:
  - "7.5.  Isolation of Traffic and Forwarding Information\n   From a high level SP\
    \ perspective, an L2VPN MUST isolate the exchange\n   of traffic and forwarding\
    \ information to only those sites that are\n   authenticated and authorized members\
    \ of an L2VPN.\n   An L2VPN solution SHOULD provide a means for meeting provider-\n\
    \   provisioned VPN QoS SLS requirements that isolates L2VPN traffic from\n  \
    \ the affects of traffic offered by non-VPN customers.  Also, L2VPN\n   solutions\
    \ SHOULD provide a means so that traffic congestion produced\n   by sites as part\
    \ of one L2VPN does not affect another L2VPN.\n"
- title: 7.6.  Security
  contents:
  - "7.6.  Security\n   The security requirements are stated in Section 6.5.  The\
    \ security\n   requirements provided in [RFC3809] SHOULD be met.  The security\n\
    \   requirements, except Layer 3 and higher-layer dependent ones,\n   specified\
    \ in [RFC4031], SHOULD be met.\n   In addition, an SP network MUST be protected\
    \ against malformed or\n   maliciously constructed customer traffic.  This includes\
    \ but is not\n   limited to duplicate or invalid Layer 2 addresses, customer side\n\
    \   loops, short/long packets, spoofed management packets, spoofed VLAN\n   tags,\
    \ high volume traffic.\n   The SP network devices MUST NOT be accessible from\
    \ any L2VPN, unless\n   specifically authorized.  The devices in the SP network\
    \ SHOULD\n   provide some means of reporting intrusion attempts to the SP, if\
    \ the\n   intrusion is detected.\n   When an L2VPN solution operates over a part\
    \ of the Internet, it\n   should support a configurable option to support one\
    \ or more of the\n   following standard IPsec methods for securing a customer's\
    \ VPN\n   traffic:\n   - Confidentiality, so that only authorized devices can\
    \ decrypt it\n   - Integrity, to ensure that the data has not been altered\n \
    \  - Authentication, to ensure that the sender is indeed who he or she\n     claims\
    \ to be\n   - Replay attack prevention.\n   The above functions SHOULD be applicable\
    \ to \"data traffic\" of the\n   customer, which includes the traffic exchanged\
    \ between sites.  It\n   SHOULD also be possible to apply these functions to \"\
    control\n   traffic\", such as routing or signaling protocol exchanges, that is\n\
    \   not necessarily perceived by the customer but is nevertheless\n   essential\
    \ to maintain his or her VPN.\n   Furthermore, such security methods MUST be configurable\
    \ between\n   different end-points, such as PE-PE and PE-MTU, only in the case\n\
    \   where L2VPN data traffic is carried over IP [RFC4023].  Methods to\n   secure\
    \ data flows at the native service layer (Layer-2), from CE-CE,\n   CE-MTU and\
    \ CE-PE, are outside the scope of this document.  It is also\n   desirable to\
    \ configure security on a per-VPN basis.\n   A VPN solution MAY support one or\
    \ more encryption schemes, including\n   AES, and 3DES.  Encryption, decryption,\
    \ and key management SHOULD be\n   included in profiles as part of the security\
    \ management system.\n"
- title: 7.7.  Inter-AS/SP L2VPNs
  contents:
  - "7.7.  Inter-AS/SP L2VPNs\n   All applicable SP requirements, such as traffic\
    \ and forwarding\n   information isolation, SLSes, management, security, provisioning,\n\
    \   etc.  MUST be preserved across adjacent ASes.  The solution MUST\n   describe\
    \ the inter-SP network interface, encapsulation method(s),\n   routing protocol(s),\
    \ and all applicable parameters.\n   An L2VPN solution MUST provide the specifics\
    \ of offering L2VPN\n   services spanning multiple ASes and/or SPs.\n   An L2VPN\
    \ solution MUST support proper dissemination of operational\n   parameters to\
    \ all elements of an L2VPN service in the presence of\n   multiple ASes and/or\
    \ SPs.  A L2VPN solution MUST employ mechanisms\n   for sharing operational parameters\
    \ between different ASes.\n   An L2VPN solution SHOULD support policies for proper\
    \ selection of\n   operational parameters coming from different ASes.  Similarly,\
    \ an\n   L2VPN solution SHOULD support policies for selecting information to\n\
    \   be disseminated to different ASes.\n"
- title: 7.7.1.  Management
  contents:
  - "7.7.1.  Management\n   The general requirements for managing a single AS apply\
    \ to a\n   concatenation of ASes.  A minimum subset of such capabilities is the\n\
    \   following:\n   - Diagnostic tools\n   - Secured access to one AS management\
    \ system by another\n   - Configuration request and status query tools\n   - Fault\
    \ notification and trouble tracking tools\n"
- title: 7.7.2.  Bandwidth and QoS Brokering
  contents:
  - "7.7.2.  Bandwidth and QoS Brokering\n   When an L2VPN spans multiple ASes, there\
    \ is a need for a brokering\n   mechanism that requests certain SLS parameters,\
    \ such as bandwidth and\n   QoS, from the other domains and/or networks involved\
    \ in transferring\n   traffic to various sites.  The essential requirement is\
    \ that a\n   solution MUST be able to determine whether a set of ASes can\n  \
    \ establish and guarantee uniform QoS in support of a provider-\n   provisioned\
    \ VPN.\n"
- title: 7.8.  L2VPN Wholesale
  contents:
  - "7.8.  L2VPN Wholesale\n   The architecture MUST support the possibility of one\
    \ SP's offering\n   L2VPN service to another SP.  One example is when one SP sells\
    \ L2VPN\n   service at wholesale to another SP, who then resells that L2VPN\n\
    \   service to his or her customers.\n"
- title: 7.9.  Tunneling Requirements
  contents:
  - "7.9.  Tunneling Requirements\n   Connectivity between CE sites or PE devices\
    \ in the backbone SHOULD be\n   able to use a range of tunneling technologies,\
    \ such as L2TP, GRE,\n   IP-in-IP, MPLS, etc.\n   Every PE MUST support a tunnel\
    \ setup protocol, if tunneling is used.\n   A PE MAY support static configuration.\
    \  If employed, a tunnel\n   establishment protocol SHOULD be capable of conveying\
    \ information,\n   such as the following:\n   - Relevant identifiers\n   - QoS/SLS\
    \ parameters\n   - Restoration parameters\n   - Multiplexing identifiers\n   -\
    \ Security parameters\n   There MUST be a means to monitor the following aspects\
    \ of tunnels:\n   - Statistics, such as amount of time spent in the up and down\
    \ state\n   - Count of transitions between the up and down state\n   - Events,\
    \ such as transitions between the up and down states\n   The tunneling technology\
    \ used by the VPN SP and its associated\n   mechanisms for tunnel establishment,\
    \ multiplexing, and maintenance\n   MUST meet the requirements on scaling, isolation,\
    \ security, QoS,\n   manageability, etc.\n   Regardless of the tunneling choice,\
    \ the existence of the tunnels and\n   their operations MUST be transparent to\
    \ the customers.\n"
- title: 7.10.  Support for Access Technologies
  contents:
  - "7.10.  Support for Access Technologies\n   The connectivity between PE and CE\
    \ devices is referred to as an AC.\n   ACs MAY span networks of other providers\
    \ or public networks.\n   There are several choices for implementing ACs.  Some\
    \ popular choices\n   include Ethernet, ATM (DSL), Frame Relay, MPLS-based virtual\
    \ circuits\n   etc.\n   In case of VPLS, the AC MUST use Ethernet frames as the\
    \ Service\n   Protocol Data Unit (SPDU).\n   A CE access connection over an AC\
    \ MUST be bi-directional.\n   PE devices MAY support multiple ACs on a single\
    \ physical interface.\n   In such cases, PE devices MUST NOT rely on customer\
    \ controlled\n   parameters for distinguishing between different access connections.\n\
    \   For example, if VLAN tags were used for that purpose, the provider\n   would\
    \ be controlling the assignment of the VLAN tag values and would\n   strictly\
    \ enforce compliance by the CEs.\n   An AC, whether direct or virtual, MUST maintain\
    \ all committed\n   characteristics of the customer traffic, such as QoS, priorities\
    \ etc.\n   The characteristics of an AC are only applicable to that connection.\n"
- title: 7.11.  Backbone Networks
  contents:
  - "7.11.  Backbone Networks\n   Ideally, the backbone interconnecting the SP's PE\
    \ and P devices\n   SHOULD be independent of physical and link-layer technology.\n\
    \   Nevertheless, the characteristics of backbone technology MUST be\n   taken\
    \ into account when specifying the QoS aspects of SLSes for VPN\n   service offerings.\n"
- title: 7.12.  Network Resource Partitioning and Sharing Between L2VPNs
  contents:
  - "7.12.  Network Resource Partitioning and Sharing Between L2VPNs\n   In case network\
    \ resources such as memory space, forwarding\n   information base table, bandwidth,\
    \ and CPU processing are shared\n   between L2VPNs, the solution SHOULD guarantee\
    \ availability of\n   resources necessary to prevent any specific L2VPN service\
    \ instance\n   from taking up available network resources and causing others to\n\
    \   fail.  The solution SHOULD be able to limit the resources consumed by\n  \
    \ an L2VPN service instance.  The solution SHOULD guarantee\n   availability of\
    \ resources necessary to fulfill the obligation of\n   committed SLSes.\n"
- title: 7.13.  Interoperability
  contents:
  - "7.13.  Interoperability\n   Service providers are interested in interoperability\
    \ in at least the\n   following scenarios:\n   - To facilitate use of PE and managed\
    \ CE devices within a single SP\n     network\n   - To implement L2VPN services\
    \ across two or more interconnected SP\n     networks\n   - To achieve inter-working\
    \ or interconnection between customer sites\n     using different L2VPN solutions\
    \ or different implementations of the\n     same approach\n   Each approach MUST\
    \ describe whether any of the above objectives can\n   be met.  If an objective\
    \ can be met, the approach MUST describe how\n   such interoperability could be\
    \ achieved.\n"
- title: 7.14.  Testing
  contents:
  - "7.14.  Testing\n   The L2VPN solution SHOULD provide the ability to test and\
    \ verify\n   operational and maintenance activities on a per L2VPN service basis,\n\
    \   and, in case of VPLS, on a per-VLAN basis if customer VLANs are used\n   as\
    \ service delimiters.\n   The L2VPN solution SHOULD provide mechanisms for connectivity\n\
    \   verification, and for detecting and locating faults.\n   Examples of testing\
    \ mechanisms are as follows:\n   - Checking connectivity between \"service-aware\"\
    \ network nodes\n   - Verifying data plane and control plane integrity\n   - Verifying\
    \ service membership\n   The provided mechanisms MUST satisfy the following: the\
    \ connectivity\n   checking for a given customer MUST enable the end-to-end testing\
    \ of\n   the data path used by that of customer's data packets, and the test\n\
    \   packets MUST not propagate beyond the boundary of the SP network.\n"
- title: 7.15.  Support on Existing PEs
  contents:
  - "7.15.  Support on Existing PEs\n   To the extent possible, the IPLS solution\
    \ SHOULD facilitate support\n   of IPLS on existing PE devices that may be already\
    \ deployed by the SP\n   and MAY have been designed primarily for Layer 3 services.\n"
- title: 8.  Service Provider Management Requirements
  contents:
  - "8.  Service Provider Management Requirements\n   An SP desires to have a means\
    \ to view the topology, operational\n   state, and other parameters associated\
    \ with each customer's L2VPN.\n   Furthermore, the SP requires a means to view\
    \ the underlying logical\n   and physical topology, operational state, provisioning\
    \ status, and\n   other parameters associated with the equipment providing the\
    \ L2VPN\n   service(s) to its customers.  Therefore, the devices SHOULD provide\n\
    \   standards-based interfaces (e.g., L2VPN MIB Modules), wherever\n   feasible.\n\
    \   The details of service provider management requirements for a Network\n  \
    \ Management System (NMS) in the traditional fault, configuration,\n   accounting,\
    \ performance, and security (FCAPS) management categories\n   can be found in\
    \ [ITU_Y.1311.1].\n"
- title: 9.  Engineering Requirements
  contents:
  - "9.  Engineering Requirements\n   These requirements are driven by implementation\
    \ characteristics that\n   make service and SP requirements achievable.\n"
- title: 9.1.  Control Plane Requirements
  contents:
  - "9.1.  Control Plane Requirements\n   An L2VPN service SHOULD be provisioned with\
    \ minimum number of steps.\n   Therefore, the control protocols SHOULD provide\
    \ methods for signaling\n   between PEs.  The signaling SHOULD inform of membership,\
    \ tunneling\n   information, and other relevant parameters.\n   The infrastructure\
    \ MAY employ manual configuration methods to provide\n   this type of information.\n\
    \   The infrastructure SHOULD use policies to scope the membership and\n   reachability\
    \ advertisements for a particular L2VPN service.  A\n   mechanism for isolating\
    \ the distribution of reachability information\n   to only those sites associated\
    \ with an L2VPN MUST be provided.\n   The control plane traffic increases with\
    \ the growth of L2VPN\n   membership.  Similarly, the control plane traffic increases\
    \ with the\n   number of supported L2VPN services.  The use of control plane\n\
    \   resources MAY increase as the number of hosts connected to an L2VPN\n   service\
    \ grows.\n   An L2VPN solution SHOULD minimize control plane traffic and the\n\
    \   consumption of control plane resources.  The control plane MAY offer\n   means\
    \ for enforcing a limit on the number of customer hosts attached\n   to an L2VPN\
    \ service.\n"
- title: 9.2.  Data Plane Requirements
  contents:
  - '9.2.  Data Plane Requirements

    '
- title: 9.2.1.  Encapsulation
  contents:
  - "9.2.1.  Encapsulation\n   An L2VPN solution SHOULD utilize the encapsulation\
    \ techniques defined\n   by PWE3 ([RFC3985]), and SHOULD not impose any new requirements\
    \ on\n   these techniques.\n"
- title: 9.2.2.  Responsiveness to Congestion
  contents:
  - "9.2.2.  Responsiveness to Congestion\n   An L2VPN solution SHOULD utilize the\
    \ congestion avoidance techniques\n   defined by PWE3 ([RFC3985]).\n"
- title: 9.2.3.  Broadcast Domain
  contents:
  - "9.2.3.  Broadcast Domain\n   A separate Broadcast Domain MUST be maintained for\
    \ each VPLS.\n   In addition to VPLS Broadcast Domains, an L2VPN service MAY honor\n\
    \   customer VLAN Broadcast Domains, if customer VLANs are used as\n   service\
    \ delimiters.  In that case, the L2VPN solution SHOULD maintain\n   a separate\
    \ VLAN Broadcast Domain for each customer VLAN.\n"
- title: 9.2.4.  Virtual Switching Instance
  contents:
  - "9.2.4.  Virtual Switching Instance\n   L2VPN PE devices MUST maintain a separate\
    \ VSI per VPLS.  Each VSI\n   MUST have capabilities to forward traffic based\
    \ on customer's traffic\n   parameters, such as MAC addresses, VLAN tags (if supported),\
    \ etc. as\n   well as local policies.\n   L2VPN PE devices MUST have capabilities\
    \ to classify incoming customer\n   traffic into the appropriate VSI.\n   Each\
    \ VSI MUST have flooding capabilities for its Broadcast Domain to\n   facilitate\
    \ proper forwarding of Broadcast, Multicast, and Unknown\n   Unicast customer\
    \ traffic.\n"
- title: 9.2.5.  MAC Address Learning
  contents:
  - "9.2.5.  MAC Address Learning\n   A VPLS SHOULD derive all topology and forwarding\
    \ information from\n   packets originating at customer sites.  Typically, MAC\
    \ address\n   learning mechanisms are used for this purpose.  With IPLS, snooping\n\
    \   of particular packets originating at customer sites and signaling\n   might\
    \ also be used.\n   Dynamic population of the forwarding information base (e.g.,\
    \ via MAC\n   address learning) MUST take place on a per VSI basis; i.e., in the\n\
    \   context of a VPLS and, if supported, in the context of VLANs therein.\n"
- title: 10.  Security Considerations
  contents:
  - "10.  Security Considerations\n   Security considerations occur at several levels\
    \ and dimensions within\n   L2VPNs, as detailed within this document.\n   The\
    \ requirements based on security concerns and potential security\n   hazards are\
    \ detailed in Section 6.5.  Further details on security\n   requirements are given\
    \ from the customer and service provider\n   perspectives in Sections 6.5 and\
    \ 7.6, respectively.  In an analogous\n   manner, further detail on traffic and\
    \ routing isolation requirements\n   are given from the customer and service provider\
    \ perspectives in\n   Sections 5.4 and 7.5, respectively.  Safeguards to protect\
    \ network\n   resources such as CPU, memory, and bandwidth are required in Section\n\
    \   7.12.\n   IPsec can also be applied after tunneling Layer 2 traffic to provide\n\
    \   additional security.\n   In the case where an L2VPN service is carried over\
    \ IP [RFC4023],\n   traverses multiple SP networks and passes through an unsecured\
    \ SP,\n   POP, NAP, or IX, then security mechanisms MUST be employed.  These\n\
    \   security mechanisms include encryption, authentication, and resource\n   protection,\
    \ as described in section 5.5.  For example, a provider\n   should consider using\
    \ both authentication and encryption for a tunnel\n   used as part of an L2VPN\
    \ that traverses another service provider's\n   network.\n"
- title: 11.  Acknowledgements
  contents:
  - "11.  Acknowledgements\n   The authors would like to acknowledge extensive comments\
    \ and\n   contributions provided by Loa Andersson, Joel Halpern, Eric Rosen,\n\
    \   Ali Sajassi, Muneyoshi Suzuki, Ananth Nagarajan, Dinesh Mohan, Yakov\n   Rekhter,\
    \ Matt Squire, Norm Finn, Scott Bradner, and Francois Le\n   Faucheur.  The authors\
    \ also wish to extend their appreciation to\n   their respective employers and\
    \ various other people who volunteered\n   to review this work and provided feedback.\
    \  This work was done in\n   consultation with the entire Layer 2 PPVPN design\
    \ team.  A lot of the\n   text was adapted from the Layer 3 VPN requirements document\
    \ produced\n   by the Layer 3 VPN requirements design team.\n"
- title: 12.  References
  contents:
  - '12.  References

    '
- title: 12.1.  Normative References
  contents:
  - "12.1.  Normative References\n   [RFC2119]       Bradner, S., \"Key words for\
    \ use in RFCs to Indicate\n                   Requirement Levels\", BCP 14, RFC\
    \ 2119, March 1997.\n   [RFC4026]       Andersson, L. and T. Madsen, \"Provider\
    \ Provisioned\n                   Virtual Private Network (VPN) Terminology\"\
    , RFC 4026,\n                   March 2005.\n"
- title: 12.2.  Informative References
  contents:
  - "12.2.  Informative References\n   [VPLS_LDP]      Lasserre, M., Kompella, V.\
    \ \"Virtual Private LAN\n                   Services over MPLS\", Work in Progress.\n\
    \   [VPLS_BGP]      Kompella, K., Rekhter, Y. \"Virtual Private LAN\n        \
    \           Service\", Work in Progress.\n   [IPLS]          Shah, H., et al.\
    \ \"IP-Only LAN Service (IPLS)\", Work\n                   in Progress.\n   [IEEE_802.1Q]\
    \   IEEE Std 802.1Q-1998, \"Virtual Bridged Local Area\n                   Networks\"\
    , 1998\n   [RFC2205]       Braden, R., Zhang, L., Berson, S., Herzog, S., and\
    \ S.\n                   Jamin, \"Resource ReSerVation Protocol (RSVP) --\n  \
    \                 Version 1 Functional Specification\", RFC 2205,\n          \
    \         September 1997.\n   [RFC2474]       Nichols, K., Blake, S., Baker, F.,\
    \ and D. Black,\n                   \"Definition of the Differentiated Services\
    \ Field (DS\n                   Field) in the IPv4 and IPv6 Headers\", RFC 2474,\n\
    \                   December 1998.\n   [RFC2685]       Fox, B. and B. Gleeson,\
    \ \"Virtual Private Networks\n                   Identifier\", RFC 2685, September\
    \ 1999.\n   [RFC3270]       Le Faucheur, F., Wu, L., Davie, B., Davari, S.,\n\
    \                   Vaananen, P., Krishnan, R., Cheval, P., and J.\n         \
    \          Heinanen, \"Multi-Protocol Label Switching (MPLS)\n               \
    \    Support of Differentiated Services\", RFC 3270, May\n                   2002.\n\
    \   [RFC3308]       Calhoun, P., Luo, W., McPherson, D., and K. Peirce,\n    \
    \               \"Layer Two Tunneling Protocol (L2TP) Differentiated\n       \
    \            Services Extension\", RFC 3308, November 2002.\n   [RFC3809]    \
    \   Nagarajan, A., \"Generic Requirements for Provider\n                   Provisioned\
    \ Virtual Private Networks (PPVPN)\", RFC\n                   3809, June 2004.\n\
    \   [RFC3985]       Bryant, S. and P. Pate, \"Pseudo Wire Emulation Edge-\n  \
    \                 to-Edge (PWE3) Architecture\", RFC 3985, March 2005.\n   [RFC4023]\
    \       Worster, T., Rekhter, Y., and E. Rosen,\n                   \"Encapsulating\
    \ MPLS in IP or Generic Routing\n                   Encapsulation (GRE)\", RFC\
    \ 4023, March 2005.\n   [RFC4031]       Carugi, M. and D. McDysan, \"Service Requirements\
    \ for\n                   Layer 3 Provider Provisioned Virtual Private Networks\n\
    \                   (PPVPNs)\", RFC 4031, April 2005.\n   [RFC4664]       Andersson,\
    \ L. and E. Rosen, \"Framework for Layer 2\n                   Virtual Private\
    \ Networks (L2VPNs)\", RFC 4664,\n                   September 2006.\n   [IEEE_802.1D]\
    \   ISO/IEC 15802-3: 1998 ANSI/IEEE Std 802.1D, 1998\n                   Edition\
    \ (Revision and redesignation of ISO/IEC\n                   10038:98), \"Part\
    \ 3: Media Access Control (MAC)\n                   Bridges\", 1998.\n   [ITU_Y.1311.1]\
    \  Carugi, M. (editor), \"Network Based IP VPN over MPLS\n                   architecture\"\
    ,Y.1311.1 ITU-T Recommendation, May\n                   2001.\n   [IEEE_802.10]\
    \   IEEE Std 802.10-1998 Edition (Revision IEEE Std\n                   802.10-1992,\
    \ incorporating IEEE Std 802.10b-1992,\n                   802.10e-1993, 802.10f-1993,\
    \ 802.10g-1995, and\n                   802.10h-1997), \"Standard for Interoperable\
    \ LAN/MAN\n                   Security (SILS)\", 1998.\n   [IEEE_802.1AE]  IEEE\
    \ 802.1AE/D5.1, \"Draft Standard for Local and\n                   Metropolitan\
    \ Area Networks - Media Access Control\n                   (MAC) Security\", P802.1AE/D5.1,\
    \ January 19, 2006.\n   [IEEE_802.1s]   IEEE Std 802.1s-2002, \"Virtual Bridged\
    \ Local Area\n                   Networks-Amendment 3: Multiple Spanning Trees\"\
    , 2002.\n"
- title: Editors' Addresses
  contents:
  - "Editors' Addresses\n   Waldemar Augustyn\n   EMail: waldemar@wdmsys.com\n   Yetik\
    \ Serbest\n   AT&T Labs\n   9505 Arboretum Blvd.\n   Austin, TX 78759\n   EMail:\
    \ yetik_serbest@labs.att.com\n"
- title: Full Copyright Statement
  contents:
  - "Full Copyright Statement\n   Copyright (C) The Internet Society (2006).\n   This\
    \ document is subject to the rights, licenses and restrictions\n   contained in\
    \ BCP 78, and except as set forth therein, the authors\n   retain all their rights.\n\
    \   This document and the information contained herein are provided on an\n  \
    \ \"AS IS\" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS\n  \
    \ OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET\n   ENGINEERING\
    \ TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED,\n   INCLUDING BUT NOT\
    \ LIMITED TO ANY WARRANTY THAT THE USE OF THE\n   INFORMATION HEREIN WILL NOT\
    \ INFRINGE ANY RIGHTS OR ANY IMPLIED\n   WARRANTIES OF MERCHANTABILITY OR FITNESS\
    \ FOR A PARTICULAR PURPOSE.\n"
- title: Intellectual Property
  contents:
  - "Intellectual Property\n   The IETF takes no position regarding the validity or\
    \ scope of any\n   Intellectual Property Rights or other rights that might be\
    \ claimed to\n   pertain to the implementation or use of the technology described\
    \ in\n   this document or the extent to which any license under such rights\n\
    \   might or might not be available; nor does it represent that it has\n   made\
    \ any independent effort to identify any such rights.  Information\n   on the\
    \ procedures with respect to rights in RFC documents can be\n   found in BCP 78\
    \ and BCP 79.\n   Copies of IPR disclosures made to the IETF Secretariat and any\n\
    \   assurances of licenses to be made available, or the result of an\n   attempt\
    \ made to obtain a general license or permission for the use of\n   such proprietary\
    \ rights by implementers or users of this\n   specification can be obtained from\
    \ the IETF on-line IPR repository at\n   http://www.ietf.org/ipr.\n   The IETF\
    \ invites any interested party to bring to its attention any\n   copyrights, patents\
    \ or patent applications, or other proprietary\n   rights that may cover technology\
    \ that may be required to implement\n   this standard.  Please address the information\
    \ to the IETF at\n   ietf-ipr@ietf.org.\n"
- title: Acknowledgement
  contents:
  - "Acknowledgement\n   Funding for the RFC Editor function is provided by the IETF\n\
    \   Administrative Support Activity (IASA).\n"
