- title: __initial_text__
  contents:
  - '         Configuration Guidelines for DiffServ Service Classes

    '
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This memo provides information for the Internet community.\
    \  It does\n   not specify an Internet standard of any kind.  Distribution of\
    \ this\n   memo is unlimited.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (C) The Internet Society (2006).\n"
- title: Abstract
  contents:
  - "Abstract\n   This document describes service classes configured with Diffserv\
    \ and\n   recommends how they can be used and how to construct them using\n  \
    \ Differentiated Services Code Points (DSCPs), traffic conditioners,\n   Per-Hop\
    \ Behaviors (PHBs), and Active Queue Management (AQM)\n   mechanisms.  There is\
    \ no intrinsic requirement that particular DSCPs,\n   traffic conditioners, PHBs,\
    \ and AQM be used for a certain service\n   class, but as a policy and for interoperability\
    \ it is useful to apply\n   them consistently.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1. Introduction ....................................................3\n\
    \      1.1. Requirements Notation ......................................4\n  \
    \    1.2. Expected Use in the Network ................................4\n    \
    \  1.3. Service Class Definition ...................................5\n      1.4.\
    \ Key Differentiated Services Concepts .......................5\n           1.4.1.\
    \ Queuing .............................................6\n                  1.4.1.1.\
    \ Priority Queuing ...........................6\n                  1.4.1.2. Rate\
    \ Queuing ...............................6\n           1.4.2. Active Queue Management\
    \ .............................7\n           1.4.3. Traffic Conditioning ................................7\n\
    \           1.4.4. Differentiated Services Code Point (DSCP) ...........8\n  \
    \         1.4.5. Per-Hop Behavior (PHB) ..............................8\n    \
    \  1.5. Key Service Concepts .......................................8\n      \
    \     1.5.1. Default Forwarding (DF) .............................9\n        \
    \   1.5.2. Assured Forwarding (AF) .............................9\n          \
    \ 1.5.3. Expedited Forwarding (EF) ..........................10\n           1.5.4.\
    \ Class Selector (CS) ................................10\n           1.5.5. Admission\
    \ Control ..................................11\n   2. Service Differentiation\
    \ ........................................11\n      2.1. Service Classes ...........................................12\n\
    \      2.2. Categorization of User Service Classes ....................13\n  \
    \    2.3. Service Class Characteristics .............................16\n    \
    \  2.4. Deployment Scenarios ......................................21\n      \
    \     2.4.1. Example 1 ..........................................21\n        \
    \   2.4.2. Example 2 ..........................................23\n          \
    \ 2.4.3. Example 3 ..........................................25\n   3. Network\
    \ Control Traffic ........................................27\n      3.1. Current\
    \ Practice in the Internet ..........................27\n      3.2. Network Control\
    \ Service Class .............................27\n      3.3. OAM Service Class\
    \ .........................................29\n   4. User Traffic ...................................................30\n\
    \      4.1. Telephony Service Class ...................................31\n  \
    \    4.2. Signaling Service Class ...................................33\n    \
    \  4.3. Multimedia Conferencing Service Class .....................35\n      4.4.\
    \ Real-Time Interactive Service Class .......................37\n      4.5. Multimedia\
    \ Streaming Service Class ........................39\n      4.6. Broadcast Video\
    \ Service Class .............................41\n      4.7. Low-Latency Data Service\
    \ Class ............................43\n      4.8. High-Throughput Data Service\
    \ Class ........................45\n      4.9. Standard Service Class ....................................47\n\
    \      4.10. Low-Priority Data ........................................48\n  \
    \ 5. Additional Information on Service Class Usage ..................49\n    \
    \  5.1. Mapping for Signaling .....................................49\n      5.2.\
    \ Mapping for NTP ...........................................50\n      5.3. VPN\
    \ Service Mapping .......................................50\n   6. Security Considerations\
    \ ........................................51\n   7. Acknowledgements ...............................................52\n\
    \   8. Appendix A .....................................................53\n  \
    \    8.1. Explanation of Ring Clipping ..............................53\n   9.\
    \ References .....................................................54\n      9.1.\
    \ Normative References ......................................54\n      9.2. Informative\
    \ References ....................................55\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   To aid in understanding the role of this document, we use\
    \ an analogy:\n   the Differentiated Services specifications are fundamentally\
    \ a\n   toolkit.  The specifications provide the equivalent of band saws,\n  \
    \ planers, drill presses, and other tools.  In the hands of an expert,\n   there\
    \ is no limit to what can be built, but such a toolkit can be\n   intimidating\
    \ to the point of being inaccessible to a non-expert who\n   just wants to build\
    \ a bookcase.  This document should be viewed as a\n   set of \"project plans\"\
    \ for building all the (diffserv) furniture that\n   one might want.  The user\
    \ may choose what to build (e.g., perhaps our\n   non-expert doesn't need a china\
    \ cabinet right now), and how to go\n   about building it (e.g., plans for a non-expert\
    \ probably won't employ\n   mortise/tenon construction, but that absence does\
    \ not imply that\n   mortise/tenon construction is forbidden or unsound).  The\
    \ authors\n   hope that these diffserv \"project plans\" will provide a useful\
    \ guide\n   to Network Administrators in the use of diffserv techniques to\n \
    \  implement quality-of-service measures appropriate for their network's\n   traffic.\n\
    \   This document describes service classes configured with Diffserv and\n   recommends\
    \ how they can be used and how to construct them using\n   Differentiated Services\
    \ Code Points (DSCPs), traffic conditioners,\n   Per-Hop Behaviors (PHBs), and\
    \ Active Queue Management (AQM)\n   mechanisms.  There is no intrinsic requirement\
    \ that particular DSCPs,\n   traffic conditioners, PHBs, and AQM be used for a\
    \ certain service\n   class, but as a policy and for interoperability it is useful\
    \ to apply\n   them consistently.\n   Service class definitions are based on the\
    \ different traffic\n   characteristics and required performance of the\n   applications/services.\
    \  This approach allows us to map current and\n   future applications/services\
    \ of similar traffic characteristics and\n   performance requirements into the\
    \ same service class.  Since the\n   applications'/services' characteristics and\
    \ required performance are\n   end to end, the service class notion needs to be\
    \ preserved end to\n   end.  With this approach, a limited set of service classes\
    \ is\n   required.  For completeness, we have defined twelve different service\n\
    \   classes, two for network operation/administration and ten for\n   user/subscriber\
    \ applications/services.  However, we expect that\n   network administrators will\
    \ implement a subset of these classes\n   relevant to their customers and their\
    \ service offerings.  Network\n   Administrators may also find it of value to\
    \ add locally defined\n   service classes, although these will not necessarily\
    \ enjoy end-to-end\n   properties of the same type.\n   Section 1 provides an\
    \ introduction and overview of technologies that\n   are used for service differentiation\
    \ in IP networks.  Section 2 is an\n   overview of how service classes are constructed\
    \ to provide service\n   differentiation, with examples of deployment scenarios.\
    \  Section 3\n   provides configuration guidelines of service classes that are\
    \ used\n   for stable operation and administration of the network.  Section 4\n\
    \   provides configuration guidelines of service classes that are used\n   for\
    \ differentiation of user/subscriber traffic.  Section 5 provides\n   additional\
    \ guidance on mapping different applications/protocols to\n   service classes.\
    \  Section 6 addresses security considerations.\n"
- title: 1.1.  Requirements Notation
  contents:
  - "1.1.  Requirements Notation\n   The key words \"SHOULD\", \"SHOULD NOT\", \"\
    REQUIRED\", \"SHALL\", \"SHALL\n   NOT\", \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\"\
    , \"MAY\", and \"OPTIONAL\" in\n   this document are to be interpreted as described\
    \ in [RFC2119].\n"
- title: 1.2.  Expected Use in the Network
  contents:
  - "1.2.  Expected Use in the Network\n   In the Internet today, corporate LANs and\
    \ ISP WANs are generally not\n   heavily utilized.  They are commonly 10% utilized\
    \ at most.  For this\n   reason, congestion, loss, and variation in delay within\
    \ corporate\n   LANs and ISP backbones is virtually unknown.  This clashes with\
    \ user\n   perceptions, for three very good reasons.\n   o  The industry moves\
    \ through cycles of bandwidth boom and bandwidth\n      bust, depending on prevailing\
    \ market conditions and the periodic\n      deployment of new bandwidth-hungry\
    \ applications.\n   o  In access networks, the state is often different.  This\
    \ may be\n      because throughput rates are artificially limited or over-\n \
    \     subscribed, or because of access network design trade-offs.\n   o  Other\
    \ characteristics, such as database design on web servers\n      (that may create\
    \ contention points, e.g., in filestore) and\n      configuration of firewalls\
    \ and routers, often look externally like\n      a bandwidth limitation.\n   The\
    \ intent of this document is to provide a consistent marking,\n   conditioning,\
    \ and packet treatment strategy so that it can be\n   configured and put into\
    \ service on any link that is itself congested.\n"
- title: 1.3.  Service Class Definition
  contents:
  - "1.3.  Service Class Definition\n   A \"service class\" represents a set of traffic\
    \ that requires specific\n   delay, loss, and jitter characteristics from the\
    \ network.\n   Conceptually, a service class pertains to applications with similar\n\
    \   characteristics and performance requirements, such as a \"High-\n   Throughput\
    \ Data\" service class for applications like the web and\n   electronic mail,\
    \ or a \"Telephony\" service class for real-time traffic\n   such as voice and\
    \ other telephony services.  Such a service class may\n   be defined locally in\
    \ a Differentiated Services (DS) domain, or\n   across multiple DS domains, possibly\
    \ extending end to end.\n   A service class as defined here is essentially a statement\
    \ of the\n   required characteristics of a traffic aggregate.  The required\n\
    \   characteristics of these traffic aggregates can be realized by the\n   use\
    \ of defined per-hop behavior (PHB) [RFC2474].  The actual\n   specification of\
    \ the expected treatment of a traffic aggregate within\n   a domain may also be\
    \ defined as a per-domain behavior (PDB)\n   [RFC3086].\n   Each domain may choose\
    \ to implement different service classes or to\n   use different behaviors to\
    \ implement the service classes or to\n   aggregate different kinds of traffic\
    \ into the aggregates and still\n   achieve their required characteristics.  For\
    \ example, low delay,\n   loss, and jitter may be realized using the EF PHB, or\
    \ with an over-\n   provisioned AF PHB.  This must be done with care as it may\
    \ disrupt\n   the end-to-end performance required by the applications/services.\n\
    \   This document provides recommendations on usage of PHBs for specific\n   service\
    \ classes for their consistent implementation.  These\n   recommendations are\
    \ not to be construed as prohibiting use of other\n   PHBs that realize behaviors\
    \ sufficient for the relevant class of\n   traffic.\n   The Default Forwarding\
    \ \"Standard\" service class is REQUIRED; all\n   other service classes are OPTIONAL.\
    \  It is expected that network\n   administrators will base their choice of the\
    \ level of service\n   differentiation that they will support on their need, starting\
    \ off\n   with three or four service classes for user traffic and adding others\n\
    \   as the need arises.\n"
- title: 1.4.  Key Differentiated Services Concepts
  contents:
  - "1.4.  Key Differentiated Services Concepts\n   The reader SHOULD be familiar\
    \ with the principles of the\n   Differentiated Services Architecture [RFC2474].\
    \  We recapitulate key\n   concepts here only to provide convenience for the reader,\
    \ the\n   referenced RFCs providing the authoritative definitions.\n"
- title: 1.4.1.  Queuing
  contents:
  - "1.4.1.  Queuing\n   A queue is a data structure that holds packets that are awaiting\n\
    \   transmission.  The packets may be delayed while in the queue,\n   possibly\
    \ due to lack of bandwidth, or because it is low in priority.\n   There are a\
    \ number of ways to implement a queue.  A simple model of a\n   queuing system,\
    \ however, is a set of data structures for packet data,\n   which we will call\
    \ queues, and a mechanism for selecting the next\n   packet from among them, which\
    \ we call a scheduler.\n"
- title: 1.4.1.1.  Priority Queuing
  contents:
  - "1.4.1.1.  Priority Queuing\n   A priority queuing system is a combination of\
    \ a set of queues and a\n   scheduler that empties them in priority sequence.\
    \  When asked for a\n   packet, the scheduler inspects the highest priority queue\
    \ and, if\n   there is data present, returns a packet from that queue.  Failing\n\
    \   that, it inspects the next highest priority queue, and so on.  A\n   freeway\
    \ onramp with a stoplight for one lane that allows vehicles in\n   the high-occupancy-vehicle\
    \ lane to pass is an example of a priority\n   queuing system; the high-occupancy-vehicle\
    \ lane represents the\n   \"queue\" having priority.\n   In a priority queuing\
    \ system, a packet in the highest priority queue\n   will experience a readily\
    \ calculated delay.  This is proportional to\n   the amount of data remaining\
    \ to be serialized when the packet arrived\n   plus the volume of the data already\
    \ queued ahead of it in the same\n   queue.  The technical reason for using a\
    \ priority queue relates\n   exactly to this fact: it limits delay and variations\
    \ in delay and\n   should be used for traffic that has that requirement.\n   A\
    \ priority queue or queuing system needs to avoid starvation of\n   lower-priority\
    \ queues.  This may be achieved through a variety of\n   means, such as admission\
    \ control, rate control, or network\n   engineering.\n"
- title: 1.4.1.2.  Rate Queuing
  contents:
  - "1.4.1.2.  Rate Queuing\n   Similarly, a rate-based queuing system is a combination\
    \ of a set of\n   queues and a scheduler that empties each at a specified rate.\
    \  An\n   example of a rate-based queuing system is a road intersection with a\n\
    \   stoplight.  The stoplight acts as a scheduler, giving each lane a\n   certain\
    \ opportunity to pass traffic through the intersection.\n   In a rate-based queuing\
    \ system, such as Weighted Fair Queuing (WFQ)\n   or Weighted Round Robin (WRR),\
    \ the delay that a packet in any given\n   queue will experience depends on the\
    \ parameters and occupancy of its\n   queue and the parameters and occupancy of\
    \ the queues it is competing\n   with.  A queue whose traffic arrival rate is\
    \ much less than the rate\n   at which it lets traffic depart will tend to be\
    \ empty, and packets in\n   it will experience nominal delays.  A queue whose\
    \ traffic arrival\n   rate approximates or exceeds its departure rate will tend\
    \ not to be\n   empty, and packets in it will experience greater delay.  Such\
    \ a\n   scheduler can impose a minimum rate, a maximum rate, or both, on any\n\
    \   queue it touches.\n"
- title: 1.4.2.  Active Queue Management
  contents:
  - "1.4.2.  Active Queue Management\n   Active Queue Management, or AQM, is a generic\
    \ name for any of a\n   variety of procedures that use packet dropping or marking\
    \ to manage\n   the depth of a queue.  The canonical example of such a procedure\
    \ is\n   Random Early Detection (RED), in that a queue is assigned a minimum\n\
    \   and maximum threshold, and the queuing algorithm maintains a moving\n   average\
    \ of the queue depth.  While the mean queue depth exceeds the\n   maximum threshold,\
    \ all arriving traffic is dropped.  While the mean\n   queue depth exceeds the\
    \ minimum threshold but not the maximum\n   threshold, a randomly selected subset\
    \ of arriving traffic is marked\n   or dropped.  This marking or dropping of traffic\
    \ is intended to\n   communicate with the sending system, causing its congestion\
    \ avoidance\n   algorithms to kick in.  As a result of this behavior, it is\n\
    \   reasonable to expect that TCP's cyclic behavior is desynchronized and\n  \
    \ that the mean queue depth (and therefore delay) should normally\n   approximate\
    \ the minimum threshold.\n   A variation of the algorithm is applied in Assured\
    \ Forwarding PHB\n   [RFC2597], in that the behavior aggregate consists of traffic\
    \ with\n   multiple DSCP marks, which are intermingled in a common queue.\n  \
    \ Different minima and maxima are configured for the several DSCPs\n   separately,\
    \ such that traffic that exceeds a stated rate at ingress\n   is more likely to\
    \ be dropped or marked than traffic that is within\n   its contracted rate.\n"
- title: 1.4.3.  Traffic Conditioning
  contents:
  - "1.4.3.  Traffic Conditioning\n   In addition, at the first router in a network\
    \ that a packet crosses,\n   arriving traffic may be measured and dropped or marked\
    \ according to a\n   policy, or perhaps shaped on network ingress, as in \"A Rate\
    \ Adaptive\n   Shaper for Differentiated Services\" [RFC2963].  This may be used\
    \ to\n   bias feedback loops, as is done in \"Assured Forwarding PHB\"\n   [RFC2597],\
    \ or to limit the amount of traffic in a system, as is done\n   in \"Expedited\
    \ Forwarding PHB\" [RFC3246].  Such measurement procedures\n   are collectively\
    \ referred to as \"traffic conditioners\".  Traffic\n   conditioners are normally\
    \ built using token bucket meters, for\n   example with a committed rate and burst\
    \ size, as in Section 1.5.3 of\n   the DiffServ Model [RFC3290].  The Assured\
    \ Forwarding PHB [RFC2597]\n   uses a variation on a meter with multiple rate\
    \ and burst size\n   measurements to test and identify multiple levels of conformance.\n\
    \   Multiple rates and burst sizes can be realized using multiple levels\n   of\
    \ token buckets or more complex token buckets; these are\n   implementation details.\
    \  The following are some traffic conditioners\n   that may be used in deployment\
    \ of differentiated services:\n   o  For Class Selector (CS) PHBs, a single token\
    \ bucket meter to\n      provide a rate plus burst size control.\n   o  For Expedited\
    \ Forwarding (EF) PHB, a single token bucket meter to\n      provide a rate plus\
    \ burst size control.\n   o  For Assured Forwarding (AF) PHBs, usually two token\
    \ bucket meters\n      configured to provide behavior as outlined in \"Two Rate\
    \ Three\n      Color Marker (trTCM)\" [RFC2698] or \"Single Rate Three Color Marker\n\
    \      (srTCM)\" [RFC2697].  The two-rate, three-color marker is used to\n   \
    \   enforce two rates, whereas the single-rate, three-color marker is\n      used\
    \ to enforce a committed rate with two burst lengths.\n"
- title: 1.4.4.  Differentiated Services Code Point (DSCP)
  contents:
  - "1.4.4.  Differentiated Services Code Point (DSCP)\n   The DSCP is a number in\
    \ the range 0..63 that is placed into an IP\n   packet to mark it according to\
    \ the class of traffic it belongs in.\n   Half of these values are earmarked for\
    \ standardized services, and the\n   other half of them are available for local\
    \ definition.\n"
- title: 1.4.5.  Per-Hop Behavior (PHB)
  contents:
  - "1.4.5.  Per-Hop Behavior (PHB)\n   In the end, the mechanisms described above\
    \ are combined to form a\n   specified set of characteristics for handling different\
    \ kinds of\n   traffic, depending on the needs of the application.  This document\n\
    \   seeks to identify useful traffic aggregates and to specify what PHB\n   should\
    \ be applied to them.\n"
- title: 1.5.  Key Service Concepts
  contents:
  - "1.5.  Key Service Concepts\n   While Differentiated Services is a general architecture\
    \ that may be\n   used to implement a variety of services, three fundamental forwarding\n\
    \   behaviors have been defined and characterized for general use.  These\n  \
    \ are basic Default Forwarding (DF) behavior for elastic traffic, the\n   Assured\
    \ Forwarding (AF) behavior, and the Expedited Forwarding (EF)\n   behavior for\
    \ real-time (inelastic) traffic.  The facts that four code\n   points are recommended\
    \ for AF and that one code point is recommended\n   for EF are arbitrary choices,\
    \ and the architecture allows any\n   reasonable number of AF and EF classes simultaneously.\
    \  The choice of\n   four AF classes and one EF class in the current document\
    \ is also\n   arbitrary, and operators MAY choose to operate more or fewer of\n\
    \   either.\n   The terms \"elastic\" and \"real-time\" are defined in [RFC1633],\
    \ Section\n   3.1, as a way of understanding broad-brush application requirements.\n\
    \   This document should be reviewed to obtain a broad understanding of\n   the\
    \ issues in quality of service, just as [RFC2475] should be\n   reviewed to understand\
    \ the data plane architecture used in today's\n   Internet.\n"
- title: 1.5.1.  Default Forwarding (DF)
  contents:
  - "1.5.1.  Default Forwarding (DF)\n   The basic forwarding behaviors applied to\
    \ any class of traffic are\n   those described in [RFC2474] and [RFC2309].  Best-effort\
    \ service may\n   be summarized as \"I will accept your packets\" and is typically\n\
    \   configured with some bandwidth guarantee.  Packets in transit may be\n   lost,\
    \ reordered, duplicated, or delayed at random.  Generally,\n   networks are engineered\
    \ to limit this behavior, but changing traffic\n   loads can push any network\
    \ into such a state.\n   Application traffic in the internet that uses default\
    \ forwarding is\n   expected to be \"elastic\" in nature.  By this, we mean that\
    \ the sender\n   of traffic will adjust its transmission rate in response to changes\n\
    \   in available rate, loss, or delay.\n   For the basic best-effort service,\
    \ a single DSCP value is provided to\n   identify the traffic, a queue to store\
    \ it, and active queue\n   management to protect the network from it and to limit\
    \ delays.\n"
- title: 1.5.2.  Assured Forwarding (AF)
  contents:
  - "1.5.2.  Assured Forwarding (AF)\n   The Assured Forwarding PHB [RFC2597] behavior\
    \ is explicitly modeled\n   on Frame Relay's Discard Eligible (DE) flag or ATM's\
    \ Cell Loss\n   Priority (CLP) capability.  It is intended for networks that offer\n\
    \   average-rate Service Level Agreements (SLAs) (as FR and ATM networks\n   do).\
    \  This is an enhanced best-effort service; traffic is expected to\n   be \"elastic\"\
    \ in nature.  The receiver will detect loss or variation\n   in delay in the network\
    \ and provide feedback such that the sender\n   adjusts its transmission rate\
    \ to approximate available capacity.\n   For such behaviors, multiple DSCP values\
    \ are provided (two or three,\n   perhaps more using local values) to identify\
    \ the traffic, a common\n   queue to store the aggregate, and active queue management\
    \ to protect\n   the network from it and to limit delays.  Traffic is metered\
    \ as it\n   enters the network, and traffic is variously marked depending on the\n\
    \   arrival rate of the aggregate.  The premise is that it is normal for\n   users\
    \ occasionally to use more capacity than their contract\n   stipulates, perhaps\
    \ up to some bound.  However, if traffic should be\n   marked or lost to manage\
    \ the queue, this excess traffic will be\n   marked or lost first.\n"
- title: 1.5.3.  Expedited Forwarding (EF)
  contents:
  - "1.5.3.  Expedited Forwarding (EF)\n   The intent of Expedited Forwarding PHB\
    \ [RFC3246] is to provide a\n   building block for low-loss, low-delay, and low-jitter\
    \ services.  It\n   can be used to build an enhanced best-effort service: traffic\
    \ remains\n   subject to loss due to line errors and reordering during routing\n\
    \   changes.  However, using queuing techniques, the probability of delay\n  \
    \ or variation in delay is minimized.  For this reason, it is generally\n   used\
    \ to carry voice and for transport of data information that\n   requires \"wire\
    \ like\" behavior through the IP network.  Voice is an\n   inelastic \"real-time\"\
    \ application that sends packets at the rate the\n   codec produces them, regardless\
    \ of availability of capacity.  As\n   such, this service has the potential to\
    \ disrupt or congest a network\n   if not controlled.  It also has the potential\
    \ for abuse.\n   To protect the network, at minimum one SHOULD police traffic\
    \ at\n   various points to ensure that the design of a queue is not overrun,\n\
    \   and then the traffic SHOULD be given a low-delay queue (often using\n   priority,\
    \ although it is asserted that a rate-based queue can do\n   this) to ensure that\
    \ variation in delay is not an issue, to meet\n   application needs.\n"
- title: 1.5.4.  Class Selector (CS)
  contents:
  - "1.5.4.  Class Selector (CS)\n   Class Selector provides support for historical\
    \ codepoint definitions\n   and PHB requirement.  The Class Selector DS field\
    \ provides a limited\n   backward compatibility with legacy (pre DiffServ) practice,\
    \ as\n   described in [RFC2474], Section 4.  Backward compatibility is\n   addressed\
    \ in two ways.  First, there are per-hop behaviors that are\n   already in widespread\
    \ use (e.g., those satisfying the IPv4 Precedence\n   queuing requirements specified\
    \ in [RFC1812]), and we wish to permit\n   their continued use in DS-compliant\
    \ networks.  In addition, there are\n   some codepoints that correspond to historical\
    \ use of the IP\n   Precedence field, and we reserve these codepoints to map to\
    \ PHBs that\n   meet the general requirements specified in [RFC2474], Section\n\
    \   4.2.2.2.\n   No attempt is made to maintain backward compatibility with the\
    \ \"DTR\"\n   or Type of Service (TOS) bits of the IPv4 TOS octet, as defined\
    \ in\n   [RFC0791] and [RFC1349].\n   A DS-compliant network can be deployed with\
    \ a set of one or more\n   Class Selector-compliant PHB groups.  Also, a network\
    \ administrator\n   may configure the network nodes to map codepoints to PHBs,\n\
    \   irrespective of bits 3-5 of the DSCP field, to yield a network that\n   is\
    \ compatible with historical IP Precedence use.  Thus, for example,\n   codepoint\
    \ '011000' would map to the same PHB as codepoint '011010'.\n"
- title: 1.5.5.  Admission Control
  contents:
  - "1.5.5.  Admission Control\n   Admission control (including refusal when policy\
    \ thresholds are\n   crossed) can ensure high-quality communication by ensuring\
    \ the\n   availability of bandwidth to carry a load.  Inelastic real-time flows\n\
    \   such as Voice over Internet Protocol (VoIP) (telephony) or video\n   conferencing\
    \ services can benefit from use of an admission control\n   mechanism, as generally\
    \ the telephony service is configured with\n   over-subscription, meaning that\
    \ some users may not be able to make a\n   call during peak periods.\n   For VoIP\
    \ (telephony) service, a common approach is to use signaling\n   protocols such\
    \ as SIP, H.323, H.248, MEGACO, and Resource Reservation\n   Protocol (RSVP) to\
    \ negotiate admittance and use of network transport\n   capabilities.  When a\
    \ user has been authorized to send voice traffic,\n   this admission procedure\
    \ has verified that data rates will be within\n   the capacity of the network\
    \ that it will use.  Many RTP voice\n   payloads are inelastic and cannot react\
    \ to loss or delay in any\n   substantive way.  For these voice payloads, the\
    \ network SHOULD police\n   at ingress to ensure that the voice traffic stays\
    \ within its\n   negotiated bounds.  Having thus assured a predictable input rate,\
    \ the\n   network may use a priority queue to ensure nominal delay and\n   variation\
    \ in delay.\n   Another approach that may be used in small and bandwidth-constrained\n\
    \   networks for limited number of flows is RSVP [RFC2205] [RFC2996].\n   However,\
    \ there is concern with the scalability of this solution in\n   large networks\
    \ where aggregation of reservations [RFC3175] is\n   considered to be required.\n"
- title: 2.  Service Differentiation
  contents:
  - "2.  Service Differentiation\n   There are practical limits on the level of service\
    \ differentiation\n   that should be offered in the IP networks.  We believe we\
    \ have\n   defined a practical approach in delivering service differentiation\
    \ by\n   defining different service classes that networks may choose to\n   support\
    \ in order to provide the appropriate level of behaviors and\n   performance needed\
    \ by current and future applications and services.\n   The defined structure for\
    \ providing services allows several\n   applications having similar traffic characteristics\
    \ and performance\n   requirements to be grouped into the same service class.\
    \  This\n   approach provides a lot of flexibility in providing the appropriate\n\
    \   level of service differentiation for current and new, yet unknown\n   applications\
    \ without introducing significant changes to routers or\n   network configurations\
    \ when a new traffic type is added to the\n   network.\n"
- title: 2.1.  Service Classes
  contents:
  - "2.1.  Service Classes\n   Traffic flowing in a network can be classified in many\
    \ different\n   ways.  We have chosen to divide it into two groupings, network\n\
    \   control and user/subscriber traffic.  To provide service\n   differentiation,\
    \ different service classes are defined in each\n   grouping.  The network control\
    \ traffic group can further be divided\n   into two service classes (see Section\
    \ 3 for detailed definition of\n   each service class):\n   o  \"Network Control\"\
    \ for routing and network control function.\n   o  \"OAM\" (Operations, Administration,\
    \ and Management) for network\n      configuration and management functions.\n\
    \   The user/subscriber traffic group is broken down into ten service\n   classes\
    \ to provide service differentiation for all the different\n   types of applications/services\
    \ (see Section 4 for detailed definition\n   of each service class):\n   o  Telephony\
    \ service class is best suited for applications that\n      require very low delay\
    \ variation and are of constant rate, such as\n      IP telephony (VoIP) and circuit\
    \ emulation over IP applications.\n   o  Signaling service class is best suited\
    \ for peer-to-peer and\n      client-server signaling and control functions using\
    \ protocols such\n      as SIP, SIP-T, H.323, H.248, and Media Gateway Control\
    \ Protocol\n      (MGCP).\n   o  Multimedia Conferencing service class is best\
    \ suited for\n      applications that require very low delay and have the ability\
    \ to\n      change encoding rate (rate adaptive), such as H.323/V2 and later\n\
    \      video conferencing service.\n   o  Real-Time Interactive service class\
    \ is intended for interactive\n      variable rate inelastic applications that\
    \ require low jitter and\n      loss and very low delay, such as interactive gaming\
    \ applications\n      that use RTP/UDP streams for game control commands, and\
    \ video\n      conferencing applications that do not have the ability to change\n\
    \      encoding rates or to mark packets with different importance\n      indications.\n\
    \   o  Multimedia Streaming service class is best suited for variable\n      rate\
    \ elastic streaming media applications where a human is waiting\n      for output\
    \ and where the application has the capability to react\n      to packet loss\
    \ by reducing its transmission rate, such as\n      streaming video and audio\
    \ and webcast.\n   o  Broadcast Video service class is best suited for inelastic\n\
    \      streaming media applications that may be of constant or variable\n    \
    \  rate, requiring low jitter and very low packet loss, such as\n      broadcast\
    \ TV and live events, video surveillance, and security.\n   o  Low-Latency Data\
    \ service class is best suited for data processing\n      applications where a\
    \ human is waiting for output, such as web-\n      based ordering or an Enterprise\
    \ Resource Planning (ERP)\n      application.\n   o  High-Throughput Data service\
    \ class is best suited for store and\n      forward applications such as FTP and\
    \ billing record transfer.\n   o  Standard service class is for traffic that has\
    \ not been identified\n      as requiring differentiated treatment and is normally\
    \ referred to\n      as best effort.\n   o  Low-Priority Data service class is\
    \ intended for packet flows where\n      bandwidth assurance is not required.\n"
- title: 2.2.  Categorization of User Service Classes
  contents:
  - "2.2.  Categorization of User Service Classes\n   The ten defined user/subscriber\
    \ service classes listed above can be\n   grouped into a small number of application\
    \ categories.  For some\n   application categories, it was felt that more than\
    \ one service class\n   was needed to provide service differentiation within that\
    \ category\n   due to the different traffic characteristic of the applications,\n\
    \   control function, and the required flow behavior.  Figure 1 provides\n   a\
    \ summary of service class grouping into four application categories.\n   Application\
    \ Control Category\n   o  The Signaling service class is intended to be used to\
    \ control\n      applications or user endpoints.  Examples of protocols that would\n\
    \      use this service class are SIP or H.248 for IP telephone service\n    \
    \  and SIP or Internet Group Management Protocol (IGMP) for control\n      of\
    \ broadcast TV service to subscribers.  Although user signaling\n      flows have\
    \ similar performance requirements as Low-Latency Data,\n      they need to be\
    \ distinguished and marked with a different DSCP.\n      The essential distinction\
    \ is something like \"administrative\n      control and management\" of the traffic\
    \ affected as the protocols\n      in this class tend to be tied to the media\
    \ stream/session they\n      signal and control.\n   Media-Oriented Category\n\
    \   Due to the vast number of new (in process of being deployed) and\n   already-in-use\
    \ media-oriented services in IP networks, five service\n   classes have been defined.\n\
    \   o  Telephony service class is intended for IP telephony (VoIP)\n      service.\
    \  It may also be used for other applications that meet the\n      defined traffic\
    \ characteristics and performance requirements.\n   o  Real-Time Interactive service\
    \ class is intended for inelastic\n      video flows from applications such as\
    \ SIP-based desktop video\n      conferencing applications and for interactive\
    \ gaming.\n   o  Multimedia Conferencing service class is for video conferencing\n\
    \      solutions that have the ability to reduce their transmission rate\n   \
    \   on detection of congestion.  These flows can therefore be\n      classified\
    \ as rate adaptive.  As currently two types of video\n      conferencing equipment\
    \ are used in IP networks (ones that generate\n      inelastic traffic and ones\
    \ that generate rate-adaptive traffic),\n      two service class are needed. \
    \ The Real-Time Interactive service\n      class should be used for equipment\
    \ that generates inelastic video\n      flows and the Multimedia Conferencing\
    \ service class for equipment\n      that generates rate-adaptive video flows.\n\
    \   o  Broadcast Video service class is to be used for inelastic traffic\n   \
    \   flows, which are intended for broadcast TV service and for\n      transport\
    \ of live video and audio events.\n   o  Multimedia Streaming service class is\
    \ to be used for elastic\n      multimedia traffic flows.  This multimedia content\
    \ is typically\n      stored before being transmitted.  It is also buffered at\
    \ the\n      receiving end before being played out.  The buffering is\n      sufficiently\
    \ large to accommodate any variation in transmission\n      rate that is encountered\
    \ in the network.  Multimedia entertainment\n      over IP delivery services that\
    \ are being developed can generate\n      both elastic and inelastic traffic flows;\
    \ therefore, two service\n      classes are defined to address this space, respectively:\n\
    \      Multimedia Streaming and Broadcast Video.\n   Data Category\n   The data\
    \ category is divided into three service classes.\n   o  Low-Latency Data for\
    \ applications/services that require low delay\n      or latency for bursty but\
    \ short-lived flows.\n   o  High-Throughput Data for applications/services that\
    \ require good\n      throughput for long-lived bursty flows.  High Throughput\
    \ and\n      Multimedia Steaming are close in their traffic flow\n      characteristics\
    \ with High Throughput being a bit more bursty and\n      not as long-lived as\
    \ Multimedia Streaming.\n   o  Low-Priority Data for applications or services\
    \ that can tolerate\n      short or long interruptions of packet flows.  The Low-Priority\n\
    \      Data service class can be viewed as \"don't care\" to some degree.\n  \
    \ Best-Effort Category\n   o  All traffic that is not differentiated in the network\
    \ falls into\n      this category and is mapped into the Standard service class.\
    \  If a\n      packet is marked with a DSCP value that is not supported in the\n\
    \      network, it SHOULD be forwarded using the Standard service class.\n   Figure\
    \ 1, below, provides a grouping of the defined user/subscriber\n   service classes\
    \ into four categories, with indications of which ones\n   use an independent\
    \ flow for signaling or control; type of flow\n   behavior (elastic, rate adaptive,\
    \ or inelastic); and the last column\n   provides end user Quality of Service\
    \ (QoS) rating as defined in ITU-T\n   Recommendation G.1010.\n    -----------------------------------------------------------------\n\
    \   | Application |    Service    | Signaled |  Flow     |   G.1010   |\n   |\
    \  Categories |     Class     |          | Behavior  |   Rating   |\n   |-------------+---------------+----------+-----------+------------|\n\
    \   | Application |   Signaling   |   Not    | Inelastic | Responsive |\n   |\
    \   Control   |               |applicable|           |            |\n   |-------------+---------------+----------+-----------+------------|\n\
    \   |             |   Telephony   |   Yes    | Inelastic | Interactive|\n   |\
    \             |---------------+----------+-----------+------------|\n   |    \
    \         |   Real-Time   |   Yes    | Inelastic | Interactive|\n   |        \
    \     |  Interactive  |          |           |            |\n   |            \
    \ |---------------+----------+-----------+------------|\n   |    Media-   |  \
    \ Multimedia  |   Yes    |    Rate   | Interactive|\n   |   Oriented  |  Conferencing\
    \ |          |  Adaptive |            |\n   |             |---------------+----------+-----------+------------|\n\
    \   |             |Broadcast Video|   Yes    | Inelastic | Responsive |\n   |\
    \             |---------------+----------+-----------+------------|\n   |    \
    \         |  Multimedia   |   Yes    |  Elastic  |   Timely   |\n   |        \
    \     |   Streaming   |          |           |            |\n   |-------------+---------------+----------+-----------+------------|\n\
    \   |             |  Low-Latency  |    No    |  Elastic  | Responsive |\n   |\
    \             |     Data      |          |           |            |\n   |    \
    \         |---------------+----------+-----------+------------|\n   |   Data \
    \     |High-Throughput|    No    |  Elastic  |   Timely   |\n   |            \
    \ |    Data       |          |           |            |\n   |             |---------------+----------+-----------+------------|\n\
    \   |             | Low-Priority  |    No    |  Elastic  |Non-critical|\n   |\
    \             |    Data       |          |           |            |\n   |-------------+---------------+----------+-----------+------------|\n\
    \   | Best Effort |   Standard    |    Not Specified     |Non-critical|\n    -----------------------------------------------------------------\n\
    \           Figure 1. User/Subscriber Service Classes Grouping\n   Here is a short\
    \ explanation of the end user QoS category as defined\n   in ITU-T Recommendation\
    \ G.1010.  User traffic is divided into four\n   different categories, namely,\
    \ interactive, responsive, timely, and\n   non-critical.  An example of interactive\
    \ traffic is between two\n   humans and is most sensitive to delay, loss, and\
    \ jitter.  Another\n   example of interactive traffic is between two servers where\
    \ very low\n   delay and loss are needed.  Responsive traffic is typically between\
    \ a\n   human and a server but can also be between two servers.  Responsive\n\
    \   traffic is less affected by jitter and can tolerate longer delays\n   than\
    \ interactive traffic.  Timely traffic is either between servers\n   or servers\
    \ and humans and the delay tolerance is significantly longer\n   than responsive\
    \ traffic.  Non-critical traffic is normally between\n   servers/machines where\
    \ delivery may be delay for period of time.\n"
- title: 2.3.  Service Class Characteristics
  contents:
  - "2.3.  Service Class Characteristics\n   This document provides guidelines for\
    \ network administrators in\n   configuring their network for the level of service\
    \ differentiation\n   that is appropriate in their network to meet their QoS needs.\
    \  It is\n   expected that network operators will configure and provide in their\n\
    \   networks a subset of the defined service classes.  Our intent is to\n   provide\
    \ guidelines for configuration of Differentiated Services for a\n   wide variety\
    \ of applications, services, and network configurations.\n   In addition, network\
    \ administrators may choose to define and deploy\n   other service classes in\
    \ their network.\n   Figure 2 provides a behavior view for traffic serviced by\
    \ each\n   service class.  The traffic characteristics column defines the\n  \
    \ characteristics and profile of flows serviced, and the tolerance to\n   loss,\
    \ delay, and jitter columns define the treatment the flows will\n   receive. \
    \ End-to-end quantitative performance requirements may be\n   obtained from ITU-T\
    \ Recommendations Y.1541 and Y.1540.\n    -------------------------------------------------------------------\n\
    \   |Service Class  |                              |    Tolerance to    |\n  \
    \ |    Name       |  Traffic Characteristics     | Loss |Delay |Jitter|\n   |===============+==============================+======+======+======|\n\
    \   |   Network     |Variable size packets, mostly |      |      |      |\n  \
    \ |   Control     |inelastic short messages, but |  Low |  Low | Yes  |\n   |\
    \               | traffic can also burst (BGP) |      |      |      |\n   |---------------+------------------------------+------+------+------|\n\
    \   |               | Fixed-size small packets,    | Very | Very | Very |\n  \
    \ |  Telephony    | constant emission rate,      |  Low |  Low |  Low |\n   |\
    \               | inelastic and low-rate flows |      |      |      |\n   |---------------+------------------------------+------+------+------|\n\
    \   |   Signaling   | Variable size packets, some  | Low  | Low  |  Yes |\n  \
    \ |               | what bursty short-lived flows|      |      |      |\n   |---------------+------------------------------+------+------+------|\n\
    \   |  Multimedia   | Variable size packets,       | Low  | Very |      |\n  \
    \ | Conferencing  | constant transmit interval,  |  -   | Low  | Low  |\n   |\
    \               |rate adaptive, reacts to loss |Medium|      |      |\n   |---------------+------------------------------+------+------+------|\n\
    \   |   Real-Time   | RTP/UDP streams, inelastic,  | Low  | Very | Low  |\n  \
    \ |  Interactive  | mostly variable rate         |      | Low  |      |\n   |---------------+------------------------------+------+------+------|\n\
    \   |  Multimedia   |  Variable size packets,      |Low - |Medium|  Yes |\n  \
    \ |   Streaming   | elastic with variable rate   |Medium|      |      |\n   |---------------+------------------------------+------+------+------|\n\
    \   |   Broadcast   | Constant and variable rate,  | Very |Medium|  Low |\n  \
    \ |     Video     | inelastic, non-bursty flows  |  Low |      |      |\n   |---------------+------------------------------+------+------+------|\n\
    \   |  Low-Latency  | Variable rate, bursty short- | Low  |Low - |  Yes |\n  \
    \ |      Data     |  lived elastic flows         |      |Medium|      |\n   |---------------+------------------------------+------+------+------|\n\
    \   |      OAM      |  Variable size packets,      | Low  |Medium|  Yes |\n  \
    \ |               |  elastic & inelastic flows   |      |      |      |\n   |---------------+------------------------------+------+------+------|\n\
    \   |High-Throughput| Variable rate, bursty long-  | Low  |Medium|  Yes |\n  \
    \ |      Data     |   lived elastic flows        |      |- High|      |\n   |---------------+------------------------------+------+------+------|\n\
    \   |   Standard    | A bit of everything          |  Not Specified     |\n  \
    \ |---------------+------------------------------+------+------+------|\n   |\
    \ Low-Priority  | Non-real-time and elastic    | High | High | Yes  |\n   |  \
    \    Data     |                              |      |      |      |\n    -------------------------------------------------------------------\n\
    \               Figure 2. Service Class Characteristics\n   Notes for Figure 2:\
    \ A \"Yes\" in the jitter-tolerant column implies\n   that data is buffered in\
    \ the endpoint and that a moderate level of\n   network-induced variation in delay\
    \ will not affect the application.\n   Applications that use TCP as a transport\
    \ are generally good examples.\n   Routing protocols and peer-to-peer signaling\
    \ also fall in this class;\n   although loss can create problems in setting up\
    \ calls, a moderate\n   level of jitter merely makes call placement a little less\
    \ predictable\n   in duration.\n   Service classes indicate the required traffic\
    \ forwarding treatment in\n   order to meet user, application, or network expectations.\
    \  Section 3\n   defines the service classes that MAY be used for forwarding network\n\
    \   control traffic, and Section 4 defines the service classes that MAY\n   be\
    \ used for forwarding user traffic with examples of intended\n   application types\
    \ mapped into each service class.  Note that the\n   application types are only\
    \ examples and are not meant to be all-\n   inclusive or prescriptive.  Also,\
    \ note that the service class naming\n   or ordering does not imply any priority\
    \ ordering.  They are simply\n   reference names that are used in this document\
    \ with associated QoS\n   behaviors that are optimized for the particular application\
    \ types\n   they support.  Network administrators MAY choose to assign different\n\
    \   service class names to the service classes that they will support.\n   Figure\
    \ 3 defines the RECOMMENDED relationship between service classes\n   and DS codepoint\
    \ assignment with application examples.  It is\n   RECOMMENDED that this relationship\
    \ be preserved end to end.\n    ------------------------------------------------------------------\n\
    \   |   Service     |  DSCP   |    DSCP     |       Application        |\n   |\
    \  Class Name   |  Name   |    Value    |        Examples          |\n   |===============+=========+=============+==========================|\n\
    \   |Network Control|  CS6    |   110000    | Network routing          |\n   |---------------+---------+-------------+--------------------------|\n\
    \   | Telephony     |   EF    |   101110    | IP Telephony bearer      |\n   |---------------+---------+-------------+--------------------------|\n\
    \   |  Signaling    |  CS5    |   101000    | IP Telephony signaling   |\n   |---------------+---------+-------------+--------------------------|\n\
    \   | Multimedia    |AF41,AF42|100010,100100|   H.323/V2 video         |\n   |\
    \ Conferencing  |  AF43   |   100110    |  conferencing (adaptive) |\n   |---------------+---------+-------------+--------------------------|\n\
    \   |  Real-Time    |  CS4    |   100000    | Video conferencing and   |\n   |\
    \  Interactive  |         |             | Interactive gaming       |\n   |---------------+---------+-------------+--------------------------|\n\
    \   | Multimedia    |AF31,AF32|011010,011100| Streaming video and      |\n   |\
    \ Streaming     |  AF33   |   011110    |   audio on demand        |\n   |---------------+---------+-------------+--------------------------|\n\
    \   |Broadcast Video|  CS3    |   011000    |Broadcast TV & live events|\n   |---------------+---------+-------------+--------------------------|\n\
    \   | Low-Latency   |AF21,AF22|010010,010100|Client/server transactions|\n   |\
    \   Data        |  AF23   |   010110    | Web-based ordering       |\n   |---------------+---------+-------------+--------------------------|\n\
    \   |     OAM       |  CS2    |   010000    |         OAM&P            |\n   |---------------+---------+-------------+--------------------------|\n\
    \   |High-Throughput|AF11,AF12|001010,001100|  Store and forward       |\n   |\
    \    Data       |  AF13   |   001110    |     applications         |\n   |---------------+---------+-------------+--------------------------|\n\
    \   |    Standard   | DF (CS0)|   000000    | Undifferentiated         |\n   |\
    \               |         |             | applications             |\n   |---------------+---------+-------------+--------------------------|\n\
    \   | Low-Priority  |  CS1    |   001000    | Any flow that has no BW  |\n   |\
    \     Data      |         |             | assurance                |\n    ------------------------------------------------------------------\n\
    \                Figure 3. DSCP to Service Class Mapping\n   Notes for Figure\
    \ 3: Default Forwarding (DF) and Class Selector 0\n   (CS0) provide equivalent\
    \ behavior and use the same DS codepoint,\n   '000000'.\n   It is expected that\
    \ network administrators will base their choice of\n   the service classes that\
    \ they will support on their need, starting\n   off with three or four service\
    \ classes for user traffic and adding\n   others as the need arises.\n   Figure\
    \ 4 provides a summary of DiffServ QoS mechanisms that SHOULD be\n   used for\
    \ the defined service classes that are further detailed in\n   Sections 3 and\
    \ 4 of this document.  According to what\n   applications/services need to be\
    \ differentiated, network\n   administrators can choose the service class(es)\
    \ that need to be\n   supported in their network.\n    ------------------------------------------------------------------\n\
    \   |  Service      | DSCP | Conditioning at   |   PHB   | Queuing| AQM|\n   |\
    \   Class       |      |    DS Edge        |  Used   |        |    |\n   |===============+======+===================+=========+========+====|\n\
    \   |Network Control| CS6  | See Section 3.1   | RFC2474 |  Rate  | Yes|\n   |---------------+------+-------------------+---------+--------+----|\n\
    \   |   Telephony   |  EF  |Police using sr+bs | RFC3246 |Priority| No |\n   |---------------+------+-------------------+---------+--------+----|\n\
    \   |   Signaling   | CS5  |Police using sr+bs | RFC2474 |  Rate  | No |\n   |---------------+------+-------------------+---------+--------+----|\n\
    \   |   Multimedia  | AF41 |  Using two-rate,  |         |        | Yes|\n   |\
    \ Conferencing  | AF42 |three-color marker | RFC2597 |  Rate  | per|\n   |   \
    \            | AF43 | (such as RFC 2698)|         |        |DSCP|\n   |---------------+------+-------------------+---------+--------+----|\n\
    \   |   Real-Time   | CS4  |Police using sr+bs | RFC2474 |  Rate  | No |\n   |\
    \   Interactive |      |                   |         |        |    |\n   |---------------+------+-------------------+---------|--------+----|\n\
    \   |  Multimedia   | AF31 |  Using two-rate,  |         |        | Yes|\n   |\
    \  Streaming    | AF32 |three-color marker | RFC2597 |  Rate  | per|\n   |   \
    \            | AF33 | (such as RFC 2698)|         |        |DSCP|\n   |---------------+------+-------------------+---------+--------+----|\n\
    \   |Broadcast Video| CS3  |Police using sr+bs | RFC2474 |  Rate  | No |\n   |---------------+------+-------------------+---------+--------+----|\n\
    \   |    Low-       | AF21 | Using single-rate,|         |        | Yes|\n   |\
    \    Latency    | AF22 |three-color marker | RFC2597 |  Rate  | per|\n   |   \
    \ Data       | AF23 | (such as RFC 2697)|         |        |DSCP|\n   |---------------+------+-------------------+---------+--------+----|\n\
    \   |     OAM       | CS2  |Police using sr+bs | RFC2474 |  Rate  | Yes|\n   |---------------+------+-------------------+---------+--------+----|\n\
    \   |    High-      | AF11 |  Using two-rate,  |         |        | Yes|\n   |\
    \  Throughput   | AF12 |three-color marker | RFC2597 |  Rate  | per|\n   |   \
    \ Data       | AF13 | (such as RFC 2698)|         |        |DSCP|\n   |---------------+------+-------------------+---------+--------+----|\n\
    \   |   Standard    | DF   | Not applicable    | RFC2474 |  Rate  | Yes|\n   |---------------+------+-------------------+---------+--------+----|\n\
    \   | Low-Priority  | CS1  | Not applicable    | RFC3662 |  Rate  | Yes|\n   |\
    \     Data      |      |                   |         |        |    |\n    ------------------------------------------------------------------\n\
    \     Figure 4. Summary of QoS Mechanisms Used for Each Service Class\n   Notes\
    \ for Figure 4:\n   o  Conditioning at DS edge means that traffic conditioning\
    \ is\n      performed at the edge of the DiffServ network where untrusted user\n\
    \      devices are connected or between two DiffServ networks.\n   o  \"sr+bs\"\
    \ represents a policing mechanism that provides single rate\n      with burst\
    \ size control.\n   o  The single-rate, three-color marker (srTCM) behavior SHOULD\
    \ be\n      equivalent to RFC 2697, and the two-rate, three-color marker\n   \
    \   (trTCM) behavior SHOULD be equivalent to RFC 2698.\n   o  The PHB for Real-Time\
    \ Interactive service class SHOULD be\n      configured to provide high bandwidth\
    \ assurance.  It MAY be\n      configured as a second EF PHB that uses relaxed\
    \ performance\n      parameters and a rate scheduler.\n   o  The PHB for Broadcast\
    \ Video service class SHOULD be configured to\n      provide high bandwidth assurance.\
    \  It MAY be configured as a third\n      EF PHB that uses relaxed performance\
    \ parameters and a rate\n      scheduler.\n   o  In network segments that use\
    \ IP precedence marking, only one of\n      the two service classes can be supported,\
    \ High-Throughput Data or\n      Low-Priority Data.  We RECOMMEND that the DSCP\
    \ value(s) of the\n      unsupported service class be changed to 000xx1 on ingress\
    \ and\n      changed back to original value(s) on egress of the network segment\n\
    \      that uses precedence marking.  For example, if Low-Priority Data\n    \
    \  is mapped to Standard service class, then 000001 DSCP marking MAY\n      be\
    \ used to distinguish it from Standard marked packets on egress.\n"
- title: 2.4.  Deployment Scenarios
  contents:
  - "2.4.  Deployment Scenarios\n   It is expected that network administrators will\
    \ base their choice of\n   the service classes that they will support on their\
    \ need, starting\n   off with three or four service classes for user traffic and\
    \ adding\n   more service classes as the need arises.  In this section, we provide\n\
    \   three examples of possible deployment scenarios.\n"
- title: 2.4.1.  Example 1
  contents:
  - "2.4.1.  Example 1\n   A network administrator determines that he needs to provide\
    \ different\n   performance levels (quality of service) in his network for the\n\
    \   services that he will be offering to his customers.  He needs to\n   enable\
    \ his network to provide:\n   o  Reliable VoIP (telephony) service, equivalent\
    \ to Public Switched\n      Telephone Network (PSTN).\n   o  A low-delay assured\
    \ bandwidth data service.\n   o  Support for current Internet services.\n   For\
    \ this example, the network administrator's needs are addressed\n   with the deployment\
    \ of the following six service classes:\n   o  Network Control service class for\
    \ routing and control traffic that\n      is needed for reliable operation of\
    \ the provider's network.\n   o  Standard service class for all traffic that will\
    \ receive normal\n      (undifferentiated) forwarding treatment through the network\
    \ for\n      support of current Internet service.\n   o  Telephony service class\
    \ for VoIP (telephony) bearer traffic.\n   o  Signaling service class for Telephony\
    \ signaling to control the\n      VoIP service.\n   o  Low-Latency Data service\
    \ class for the low-delay assured bandwidth\n      differentiated data service.\n\
    \   o  OAM service class for operation and management of the network.\n   Figure\
    \ 5 provides a summary of the mechanisms needed for delivery of\n   service differentiation\
    \ for Example 1.\n    -------------------------------------------------------------------\n\
    \   |  Service      |  DSCP | Conditioning at   |   PHB   |        |    |\n  \
    \ |   Class       |       |    DS Edge        |  Used   | Queuing| AQM|\n   |===============+=======+===================+=========+========+====|\n\
    \   |Network Control|  CS6  | See Section 3.1   | RFC2474 |  Rate  | Yes|\n  \
    \ |---------------+-------+-------------------+---------+--------+----|\n   |\
    \  Telephony    |   EF  |Police using sr+bs | RFC3246 |Priority| No |\n   |---------------+-------+-------------------+---------+--------+----|\n\
    \   |  Signaling    |  CS5  |Police using sr+bs | RFC2474 |  Rate  | No |\n  \
    \ |---------------+-------+-------------------+---------+--------+----|\n   |\
    \    Low-       | AF21  | Using single-rate,|         |        | Yes|\n   |  \
    \ Latency     | AF22  |three-color marker | RFC2597 |  Rate  | per|\n   |    Data\
    \       | AF23  | (such as RFC 2697)|         |        |DSCP|\n   |---------------+-------+-------------------+---------+--------+----|\n\
    \   |      OAM      |  CS2  |Police using sr+bs | RFC2474 |  Rate  | Yes|\n  \
    \ |---------------+-------+-------------------+---------+--------+----|\n   |\
    \   Standard    |DF(CS0)| Not applicable    | RFC2474 |  Rate  | Yes|\n   |  \
    \             | +other|                   |         |        |    |\n    -------------------------------------------------------------------\n\
    \       Figure 5. Service Provider Network Configuration Example 1\n   Notes for\
    \ Figure 5:\n   o  \"sr+bs\" represents a policing mechanism that provides single\
    \ rate\n      with burst size control.\n   o  The single-rate, three-color marker\
    \ (srTCM) behavior SHOULD be\n      equivalent to RFC 2697.\n   o  Any packet\
    \ that is marked with DSCP value that is not represented\n      by the supported\
    \ service classes SHOULD be forwarded using the\n      Standard service class.\n"
- title: 2.4.2.  Example 2
  contents:
  - "2.4.2.  Example 2\n   With this example, we show how network operators with Example\
    \ 1\n   capabilities can evolve their service offering to provide three new\n\
    \   additional services to their customers.  The new additional service\n   capabilities\
    \ that are to be added are:\n   o  SIP-based desktop video conference capability\
    \ to complement VoIP\n      (telephony) service.\n   o  TV and on-demand movie\
    \ viewing service to residential subscribers.\n   o  Network-based data storage\
    \ and file backup service to business\n      customers.\n   The new additional\
    \ services that the network administrator would like\n   to offer are addressed\
    \ with the deployment of the following four\n   additional service classes (these\
    \ are additions to the six service\n   classes already defined in Example 1):\n\
    \   o  Real-Time Interactive service class for transport of MPEG-4 real-\n   \
    \   time video flows to support desktop video conferencing.  The\n      control/signaling\
    \ for video conferencing is done using the\n      Signaling service class.\n \
    \  o  Broadcast Video service class for transport of IPTV broadcast\n      information.\
    \  The channel selection and control is via IGMP mapped\n      into the Signaling\
    \ service class.\n   o  Multimedia Streaming service class for transport of stored\
    \ MPEG-2\n      or MPEG-4 content.  The selection and control of streaming\n \
    \     information is done using the Signaling service class.  The\n      selection\
    \ of Multimedia Streaming service class for on-demand\n      movie service was\
    \ chosen as the set-top box used for this service\n      has local buffering capability\
    \ to compensate for the bandwidth\n      variability of the elastic streaming\
    \ information.  Note that if\n      transport of on-demand movie service is inelastic,\
    \ then the\n      Broadcast Video service class SHOULD be used.\n   o  High-Throughput\
    \ Data service class is for transport of bulk data\n      for network-based storage\
    \ and file backup service to business\n      customers.\n   Figure 6 provides\
    \ a summary of the mechanisms needed for delivery of\n   service differentiation\
    \ for all the service classes used in Example\n   2.\n    -------------------------------------------------------------------\n\
    \   |  Service      |  DSCP | Conditioning at   |   PHB   |        |    |\n  \
    \ |   Class       |       |    DS Edge        |  Used   | Queuing| AQM|\n   |===============+=======+===================+=========+========+====|\n\
    \   |Network Control|  CS6  | See Section 3.1   | RFC2474 |  Rate  |Yes |\n  \
    \ |---------------+-------+-------------------+---------+--------+----|\n   |\
    \  Telephony    |   EF  |Police using sr+bs | RFC3246 |Priority| No |\n   |---------------+-------+-------------------+---------+--------+----|\n\
    \   |  Signaling    |  CS5  |Police using sr+bs | RFC2474 |  Rate  | No |\n  \
    \ |---------------+-------+-------------------+---------+--------+----|\n   |\
    \  Real-time    |  CS4  |Police using sr+bs | RFC2474 |  Rate  | No |\n   |  Interactive\
    \  |       |                   |         |        |    |\n   |---------------+-------+-------------------+---------+--------+----|\n\
    \   |Broadcast Video|  CS3  |Police using sr+bs | RFC2474 |  Rate  | No |\n  \
    \ |---------------+-------+-------------------+---------+--------+----|\n   |\
    \  Multimedia   | AF31  |  Using two-rate,  |         |        |Yes |\n   |  Streaming\
    \    | AF32  |three-color marker | RFC2597 |  Rate  |per |\n   |             \
    \  | AF33  | (such as RFC 2698)|         |        |DSCP|\n   |---------------+-------+-------------------+---------+--------+----|\n\
    \   |    Low-       | AF21  | Using single-rate,|         |        |Yes |\n  \
    \ |   Latency     | AF22  |three-color marker | RFC2597 |  Rate  |per |\n   |\
    \    Data       | AF23  | (such as RFC 2697)|         |        |DSCP|\n   |---------------+-------+-------------------+---------+--------+----|\n\
    \   |      OAM      |  CS2  |Police using sr+bs | RFC2474 |  Rate  |Yes |\n  \
    \ |---------------+-------+-------------------+---------+--------+----|\n   |\
    \    High-      | AF11  |  Using two-rate,  |         |        |Yes |\n   |  Throughput\
    \   | AF12  |three-color marker | RFC2597 |  Rate  |per |\n   |    Data      \
    \ | AF13  | (such as RFC 2698)|         |        |DSCP|\n   |---------------+-------+-------------------+---------+--------+----|\n\
    \   |   Standard    |DF(CS0)| Not applicable    | RFC2474 |  Rate  |Yes |\n  \
    \ |               | +other|                   |         |        |    |\n    -------------------------------------------------------------------\n\
    \       Figure 6. Service Provider Network Configuration Example 2\n   Notes for\
    \ Figure 6:\n   o  \"sr+bs\" represents a policing mechanism that provides single\
    \ rate\n      with burst size control.\n   o  The single-rate, three-color marker\
    \ (srTCM) behavior SHOULD be\n      equivalent to RFC 2697, and the two-rate,\
    \ three-color marker\n      (trTCM) behavior SHOULD be equivalent to RFC 2698.\n\
    \   o  Any packet that is marked with DSCP value that is not represented\n   \
    \   by the supported service classes SHOULD be forwarded using the\n      Standard\
    \ service class.\n"
- title: 2.4.3.  Example 3
  contents:
  - "2.4.3.  Example 3\n   An enterprise network administrator determines that they\
    \ need to\n   provide different performance levels (quality of service) in their\n\
    \   network for the new services that are being offered to corporate\n   users.\
    \  The enterprise network needs to:\n   o  Provide reliable corporate VoIP service.\n\
    \   o  Provide video conferencing service to selected Conference Rooms.\n   o\
    \  Support on-demand distribution of prerecorded audio and video\n      information\
    \ to large number of users.\n   o  Provide a priority data transfer capability\
    \ for engineering teams\n      to share design information.\n   o  Reduce or deny\
    \ bandwidth during peak traffic periods for selected\n      applications.\n  \
    \ o  Continue to provide normal IP service to all remaining\n      applications\
    \ and services.\n   For this example, the enterprise's network needs are addressed\
    \ with\n   the deployment of the following nine service classes:\n   o  Network\
    \ Control service class for routing and control traffic that\n      is needed\
    \ for reliable operation of the enterprise network.\n   o  OAM service class for\
    \ operation and management of the network.\n   o  Standard service class for all\
    \ traffic that will receive normal\n      (undifferentiated) forwarding treatment.\n\
    \   o  Telephony service class for VoIP (telephony) bearer traffic.\n   o  Signaling\
    \ service class for Telephony signaling to control the\n      VoIP service.\n\
    \   o  Multimedia Conferencing service class for support of inter-\n      Conference\
    \ Room video conferencing service using H.323/V2 or\n      similar equipment.\n\
    \   o  Multimedia Streaming service class for transfer of prerecorded\n      audio\
    \ and video information.\n   o  High-Throughput Data service class to provide\
    \ bandwidth assurance\n      for timely transfer of large engineering files.\n\
    \   o  Low-Priority Data service class for selected background\n      applications\
    \ where data transfer can be delayed or suspended for a\n      period of time\
    \ during peak network load conditions.\n   Figure 7 provides a summary of the\
    \ mechanisms needed for delivery of\n   service differentiation for Example 3.\n\
    \    -------------------------------------------------------------------\n   |\
    \  Service      |  DSCP | Conditioning at   |   PHB   |        |    |\n   |  \
    \ Class       |       |    DS Edge        |  Used   | Queuing| AQM|\n   |===============+=======+===================+=========+========+====|\n\
    \   |Network Control|  CS6  | See Section 3.2   | RFC2474 |  Rate  | Yes|\n  \
    \ |---------------+-------+-------------------+---------+--------+----|\n   |\
    \  Telephony    |   EF  |Police using sr+bs | RFC3246 |Priority| No |\n   |---------------+-------+-------------------+---------+--------+----|\n\
    \   |  Signaling    |  CS5  |Police using sr+bs | RFC2474 |  Rate  | No |\n  \
    \ |---------------+-------+-------------------+---------+--------+----|\n   |\
    \  Multimedia   | AF41  |  Using two-rate,  |         |        | Yes|\n   | Conferencing\
    \  | AF42  | three-color marker| RFC2597 |  Rate  | per|\n   |               |\
    \ AF43  | (such as RFC 2698)|         |        |DSCP|\n   |---------------+-------+-------------------+---------+--------+----|\n\
    \   |  Multimedia   | AF31  |  Using two-rate,  |         |        | Yes|\n  \
    \ |   Streaming   | AF32  | three-color marker| RFC2597 |  Rate  | per|\n   |\
    \               | AF33  | (such as RFC 2698)|         |        |DSCP|\n   |---------------+-------+-------------------+---------+--------+----|\n\
    \   |      OAM      |  CS2  |Police using sr+bs | RFC2474 |  Rate  | Yes|\n  \
    \ |---------------+-------+-------------------+---------+--------+----|\n   |\
    \    High-      | AF11  |  Using two-rate,  |         |        |Yes |\n   |  \
    \ Throughput  | AF12  |three-color marker | RFC2597 |  Rate  |per |\n   |    Data\
    \       | AF13  | (such as RFC 2698)|         |        |DSCP|\n   |---------------+-------+-------------------+---------+--------+----|\n\
    \   | Low-Priority  |  CS1  | Not applicable    | RFC3662 |  Rate  | Yes|\n  \
    \ |     Data      |       |                   |         |        |    |\n   |---------------+-------+-------------------+---------+--------+----|\n\
    \   |   Standard    |DF(CS0)| Not applicable    | RFC2474 |  Rate  | Yes|\n  \
    \ |               | +other|                   |         |        |    |\n    -------------------------------------------------------------------\n\
    \           Figure 7. Enterprise Network Configuration Example\n   Notes for Figure\
    \ 7:\n   o  \"sr+bs\" represents a policing mechanism that provides single rate\n\
    \      with burst size control.\n   o  The single-rate, three-color marker (srTCM)\
    \ behavior SHOULD be\n      equivalent to RFC 2697, and the two-rate, three-color\
    \ marker\n      (trTCM) behavior SHOULD be equivalent to RFC 2698.\n   o  Any\
    \ packet that is marked with DSCP value that is not represented\n      by the\
    \ supported service classes SHOULD be forwarded using the\n      Standard service\
    \ class.\n"
- title: 3.  Network Control Traffic
  contents:
  - "3.  Network Control Traffic\n   Network control traffic is defined as packet\
    \ flows that are essential\n   for stable operation of the administered network\
    \ as well as for\n   information that may be exchanged between neighboring networks\
    \ across\n   a peering point where SLAs are in place.  Network control traffic\
    \ is\n   different from user application control (signaling) that may be\n   generated\
    \ by some applications or services.  Network control traffic\n   is mostly between\
    \ routers and network nodes that are used for\n   operating, administering, controlling,\
    \ or managing the network\n   segments.  Network Control Traffic may be split\
    \ into two service\n   classes, i.e., Network Control and OAM.\n"
- title: 3.1.  Current Practice in the Internet
  contents:
  - "3.1.  Current Practice in the Internet\n   Based on today's routing protocols\
    \ and network control procedures\n   that are used in the Internet, we have determined\
    \ that CS6 DSCP value\n   SHOULD be used for routing and control and that CS7\
    \ DSCP value SHOULD\n   be reserved for future use, potentially for future routing\
    \ or control\n   protocols.  Network administrators MAY use a Local/Experimental\
    \ DSCP;\n   therefore, they may use a locally defined service class within their\n\
    \   network to further differentiate their routing and control traffic.\n   RECOMMENDED\
    \ Network Edge Conditioning for CS7 DSCP marked packets:\n   o  Drop or remark\
    \ CS7 packets at ingress to DiffServ network domain.\n   o  CS7 marked packets\
    \ SHOULD NOT be sent across peering points.\n      Exchange of control information\
    \ across peering points SHOULD be\n      done using CS6 DSCP and the Network Control\
    \ service class.\n"
- title: 3.2.  Network Control Service Class
  contents:
  - "3.2.  Network Control Service Class\n   The Network Control service class is\
    \ used for transmitting packets\n   between network devices (routers) that require\
    \ control (routing)\n   information to be exchanged between nodes within the administrative\n\
    \   domain as well as across a peering point between different\n   administrative\
    \ domains.  Traffic transmitted in this service class is\n   very important as\
    \ it keeps the network operational, and it needs to\n   be forwarded in a timely\
    \ manner.\n   The Network Control service class SHOULD be configured using the\n\
    \   DiffServ Class Selector (CS) PHB, defined in [RFC2474].  This service\n  \
    \ class SHOULD be configured so that the traffic receives a minimum\n   bandwidth\
    \ guarantee, to ensure that the packets always receive timely\n   service.  The\
    \ configured forwarding resources for Network Control\n   service class SHOULD\
    \ be such that the probability of packet drop\n   under peak load is very low\
    \ in this service class.  The Network\n   Control service class SHOULD be configured\
    \ to use a Rate Queuing\n   system such as defined in Section 1.4.1.2 of this\
    \ document.\n   The following are examples of protocols and applications that\
    \ SHOULD\n   use the Network Control service class:\n   o  Routing packet flows:\
    \ OSPF, BGP, ISIS, RIP.\n   o  Control information exchange within and between\
    \ different\n      administrative domains across a peering point where SLAs are\
    \ in\n      place.\n   o  LSP setup using CR-LDP and RSVP-TE.\n   The following\
    \ protocols and applications SHOULD NOT use the Network\n   Control service class:\n\
    \   o  User traffic.\n   The following are traffic characteristics of packet flows\
    \ in the\n   Network Control service class:\n   o  Mostly messages sent between\
    \ routers and network servers.\n   o  Variable size packets, normally one packet\
    \ at a time, but traffic\n      can also burst (BGP).\n   o  User traffic is not\
    \ allowed to use this service class.  By user\n      traffic, we mean packet flows\
    \ that originate from user-controlled\n      end points that are connected to\
    \ the network.\n   The RECOMMENDED DSCP marking is CS6 (Class Selector 6).\n \
    \  RECOMMENDED Network Edge Conditioning:\n   o  At peering points (between two\
    \ DiffServ networks) where SLAs are\n      in place, CS6 marked packets SHOULD\
    \ be policed, e.g., using a\n      single rate with burst size (sr+bs) token bucket\
    \ policer to keep\n      the CS6 marked packet flows to within the traffic rate\
    \ specified\n      in the SLA.\n   o  CS6 marked packet flows from untrusted sources\
    \ (for example, end\n      user devices) SHOULD be dropped or remarked at ingress\
    \ to the\n      DiffServ network.\n   o  Packets from users/subscribers are not\
    \ permitted access to the\n      Network Control service classes.\n   The fundamental\
    \ service offered to the Network Control service class\n   is enhanced best-effort\
    \ service with high bandwidth assurance.  Since\n   this service class is used\
    \ to forward both elastic and inelastic\n   flows, the service SHOULD be engineered\
    \ so that the Active Queue\n   Management (AQM) [RFC2309] is applied to CS6 marked\
    \ packets.\n   If RED [RFC2309] is used as an AQM algorithm, the min-threshold\n\
    \   specifies a target queue depth, and the max-threshold specifies the\n   queue\
    \ depth above which all traffic is dropped or ECN marked.  Thus,\n   in this service\
    \ class, the following inequality should hold in queue\n   configurations:\n \
    \  o  min-threshold CS6 < max-threshold CS6\n   o  max-threshold CS6 <= memory\
    \ assigned to the queue\n   Note: Many other AQM algorithms exist and are used;\
    \ they should be\n   configured to achieve a similar result.\n"
- title: 3.3.  OAM Service Class
  contents:
  - "3.3.  OAM Service Class\n   The OAM (Operations, Administration, and Management)\
    \ service class is\n   RECOMMENDED for OAM&P (Operations, Administration, and\
    \ Management and\n   Provisioning) using protocols such as Simple Network Management\n\
    \   Protocol (SNMP), Trivial File Transfer Protocol (TFTP), FTP, Telnet,\n   and\
    \ Common Open Policy Service (COPS).  Applications using this\n   service class\
    \ require a low packet loss but are relatively not\n   sensitive to delay.  This\
    \ service class is configured to provide good\n   packet delivery for intermittent\
    \ flows.\n   The OAM service class SHOULD use the Class Selector (CS) PHB defined\n\
    \   in [RFC2474].  This service class SHOULD be configured to provide a\n   minimum\
    \ bandwidth assurance for CS2 marked packets to ensure that\n   they get forwarded.\
    \  The OAM service class SHOULD be configured to\n   use a Rate Queuing system\
    \ such as defined in Section 1.4.1.2 of this\n   document.\n   The following applications\
    \ SHOULD use the OAM service class:\n   o  Provisioning and configuration of network\
    \ elements.\n   o  Performance monitoring of network elements.\n   o  Any network\
    \ operational alarms.\n   The following are traffic characteristics:\n   o  Variable\
    \ size packets.\n   o  Intermittent traffic flows.\n   o  Traffic may burst at\
    \ times.\n   o  Both elastic and inelastic flows.\n   o  Traffic not sensitive\
    \ to delays.\n   RECOMMENDED DSCP marking:\n   o  All flows in this service class\
    \ are marked with CS2 (Class\n      Selector 2).\n   Applications or IP end points\
    \ SHOULD pre-mark their packets with CS2\n   DSCP value.  If the end point is\
    \ not capable of setting the DSCP\n   value, then the router topologically closest\
    \ to the end point SHOULD\n   perform Multifield (MF) Classification, as defined\
    \ in [RFC2475].\n   RECOMMENDED conditioning performed at DiffServ network edge:\n\
    \   o  Packet flow marking (DSCP setting) from untrusted sources (end\n      user\
    \ devices) SHOULD be verified at ingress to DiffServ network\n      using Multifield\
    \ (MF) Classification methods, defined in\n      [RFC2475].\n   o  Packet flows\
    \ from untrusted sources (end user devices) SHOULD be\n      policed at ingress\
    \ to DiffServ network, e.g., using single rate\n      with burst size token bucket\
    \ policer to ensure that the traffic\n      stays within its negotiated or engineered\
    \ bounds.\n   o  Packet flows from trusted sources (routers inside administered\n\
    \      network) MAY not require policing.\n   o  Normally OAM&P CS2 marked packet\
    \ flows are not allowed to flow\n      across peering points.  If that is the\
    \ case, then CS2 marked\n      packets SHOULD be policed (dropped) at both egress\
    \ and ingress\n      peering interfaces.\n   The fundamental service offered to\
    \ \"OAM\" traffic is enhanced best-\n   effort service with controlled rate. \
    \ The service SHOULD be\n   engineered so that CS2 marked packet flows have sufficient\
    \ bandwidth\n   in the network to provide high assurance of delivery.  Since this\n\
    \   service class is used to forward both elastic and inelastic flows,\n   the\
    \ service SHOULD be engineered so that Active Queue Management\n   [RFC2309] is\
    \ applied to CS2 marked packets.\n   If RED [RFC2309] is used as an AQM algorithm,\
    \ the min-threshold\n   specifies a target queue depth for each DSCP, and the\
    \ max-threshold\n   specifies the queue depth above which all traffic with such\
    \ a DSCP is\n   dropped or ECN marked.  Thus, in this service class, the following\n\
    \   inequality should hold in queue configurations:\n   o  min-threshold CS2 <\
    \ max-threshold CS2\n   o  max-threshold CS2 <= memory assigned to the queue\n\
    \   Note: Many other AQM algorithms exist and are used; they should be\n   configured\
    \ to achieve a similar result.\n"
- title: 4.  User Traffic
  contents:
  - "4.  User Traffic\n   User traffic is defined as packet flows between different\
    \ users or\n   subscribers.  It is the traffic that is sent to or from end-terminals\n\
    \   and that supports a very wide variety of applications and services.\n   User\
    \ traffic can be differentiated in many different ways; therefore,\n   we investigated\
    \ several different approaches to classifying user\n   traffic.  We looked at\
    \ differentiating user traffic as real-time\n   versus non-real-time, elastic\
    \ or rate-adaptive versus inelastic,\n   sensitive versus insensitive to loss\
    \ as well as traffic\n   categorization as interactive, responsive, timely, and\
    \ non-critical,\n   as defined in ITU-T Recommendation G.1010.  In the final analysis,\
    \ we\n   used all of the above for service differentiation, mapping\n   application\
    \ types that seemed to have different sets of performance\n   sensitivities, and\
    \ requirements to different service classes.\n   Network administrators can categorize\
    \ their applications according to\n   the type of behavior that they require and\
    \ MAY choose to support all\n   or a subset of the defined service classes.  Figure\
    \ 3 provides some\n   common applications and the forwarding service classes that\
    \ best\n   support them, based on their performance requirements.\n"
- title: 4.1.  Telephony Service Class
  contents:
  - "4.1.  Telephony Service Class\n   The Telephony service class is RECOMMENDED\
    \ for applications that\n   require real-time, very low delay, very low jitter,\
    \ and very low\n   packet loss for relatively constant-rate traffic sources (inelastic\n\
    \   traffic sources).  This service class SHOULD be used for IP telephony\n  \
    \ service.\n   The fundamental service offered to traffic in the Telephony service\n\
    \   class is minimum jitter, delay, and packet loss service up to a\n   specified\
    \ upper bound.  Operation is in some respect similar to an\n   ATM CBR service,\
    \ which has guaranteed bandwidth and which, if it\n   stays within the negotiated\
    \ rate, experiences nominal delay and no\n   loss.  The EF PHB has a similar guarantee.\n\
    \   Typical configurations negotiate the setup of telephone calls over\n   IP,\
    \ using protocols such as H.248, MEGACO, H.323, or SIP.  When a\n   user has been\
    \ authorized to send telephony traffic, the call\n   admission procedure should\
    \ have verified that the newly admitted flow\n   will be within the capacity of\
    \ the Telephony service class forwarding\n   capability in the network.  For VoIP\
    \ (telephony) service, call\n   admission control is usually performed by a telephony\
    \ call server/\n   gatekeeper using signaling (SIP, H.323, H.248, MEGACO, etc.)\
    \ on\n   access points to the network.  The bandwidth in the core network and\n\
    \   the number of simultaneous VoIP sessions that can be supported needs\n   to\
    \ be engineered and controlled so that there is no congestion for\n   this service.\
    \  Since the inelastic types of RTP payloads in this\n   class do not react to\
    \ loss or significant delay in any substantive\n   way, the Telephony service\
    \ class SHOULD forward packets as soon as\n   possible.  Some RTP payloads that\
    \ may be used in telephony\n   applications are adaptive and will not be in this\
    \ class.\n   The Telephony service class SHOULD use Expedited Forwarding (EF)\
    \ PHB,\n   as defined in [RFC3246], and SHOULD be configured to receive\n   guaranteed\
    \ forwarding resources so that all packets are forwarded\n   quickly.  The Telephony\
    \ service class SHOULD be configured to use a\n   Priority Queuing system such\
    \ as that defined in Section 1.4.1.1 of\n   this document.\n   The following applications\
    \ SHOULD use the Telephony service class:\n   o  VoIP (G.711, G.729 and other\
    \ codecs).\n   o  Voice-band data over IP (modem, fax).\n   o  T.38 fax over IP.\n\
    \   o  Circuit emulation over IP, virtual wire, etc.\n   o  IP Virtual Private\
    \ Network (VPN) service that specifies single-\n      rate, mean network delay\
    \ that is slightly longer then network\n      propagation delay, very low jitter,\
    \ and a very low packet loss.\n   The following are traffic characteristics:\n\
    \   o  Mostly fixed-size packets for VoIP (60, 70, 120 or 200 bytes in\n     \
    \ size).\n   o  Packets emitted at constant time intervals.\n   o  Admission control\
    \ of new flows is provided by telephony call\n      server, media gateway, gatekeeper,\
    \ edge router, end terminal, or\n      access node that provides flow admission\
    \ control function.\n   Applications or IP end points SHOULD pre-mark their packets\
    \ with EF\n   DSCP value.  If the end point is not capable of setting the DSCP\n\
    \   value, then the router topologically closest to the end point SHOULD\n   perform\
    \ Multifield (MF) Classification, as defined in [RFC2475].\n   The RECOMMENDED\
    \ DSCP marking is EF for the following applications:\n   o  VoIP (G.711, G.729\
    \ and other codecs).\n   o  Voice-band data over IP (modem and fax).\n   o  T.38\
    \ fax over IP.\n   o  Circuit emulation over IP, virtual wire, etc.\n   RECOMMENDED\
    \ Network Edge Conditioning:\n   o  Packet flow marking (DSCP setting) from untrusted\
    \ sources (end\n      user devices) SHOULD be verified at ingress to DiffServ\
    \ network\n      using Multifield (MF) Classification methods, defined in\n  \
    \    [RFC2475].\n   o  Packet flows from untrusted sources (end user devices)\
    \ SHOULD be\n      policed at ingress to DiffServ network, e.g., using single\
    \ rate\n      with burst size token bucket policer to ensure that the telephony\n\
    \      traffic stays within its negotiated bounds.\n   o  Policing is OPTIONAL\
    \ for packet flows from trusted sources whose\n      behavior is ensured via other\
    \ means (e.g., administrative controls\n      on those systems).\n   o  Policing\
    \ of Telephony packet flows across peering points where SLA\n      is in place\
    \ is OPTIONAL as telephony traffic will be controlled by\n      admission control\
    \ mechanism between peering points.\n   The fundamental service offered to \"\
    Telephony\" traffic is enhanced\n   best-effort service with controlled rate,\
    \ very low delay, and very\n   low loss.  The service MUST be engineered so that\
    \ EF marked packet\n   flows have sufficient bandwidth in the network to provide\
    \ guaranteed\n   delivery.  Normally traffic in this service class does not respond\n\
    \   dynamically to packet loss.  As such, Active Queue Management\n   [RFC2309]\
    \ SHOULD NOT be applied to EF marked packet flows.\n"
- title: 4.2.  Signaling Service Class
  contents:
  - "4.2.  Signaling Service Class\n   The Signaling service class is RECOMMENDED\
    \ for delay-sensitive\n   client-server (traditional telephony) and peer-to-peer\
    \ application\n   signaling.  Telephony signaling includes signaling between IP\
    \ phone\n   and soft-switch, soft-client and soft-switch, and media gateway and\n\
    \   soft-switch as well as peer-to-peer using various protocols.  This\n   service\
    \ class is intended to be used for control of sessions and\n   applications. \
    \ Applications using this service class require a\n   relatively fast response,\
    \ as there are typically several messages of\n   different sizes sent for control\
    \ of the session.  This service class\n   is configured to provide good response\
    \ for short-lived, intermittent\n   flows that require real-time packet forwarding.\
    \  To minimize the\n   possibility of ring clipping at start of call for VoIP\
    \ service that\n   interfaces to a circuit switch Exchange in the Public Switched\n\
    \   Telephone Network (PSTN), the Signaling service class SHOULD be\n   configured\
    \ so that the probability of packet drop or significant\n   queuing delay under\
    \ peak load is very low in IP network segments that\n   provide this interface.\
    \  The term \"ring clipping\" refers to those\n   instances where the front end\
    \ of a ringing signal is altered because\n   the bearer path is not made available\
    \ in time to carry all of the\n   audible ringing signal.  This condition may\
    \ occur due to a race\n   condition between when the tone generator in the circuit\
    \ switch\n   Exchange is turned on and when the bearer path through the IP network\n\
    \   is enabled.  See Section 8.1 for additional explanation of \"ring\n   clipping\"\
    \ and Section 5.1 for explanation of mapping different\n   signaling methods to\
    \ service classes.\n   The Signaling service class SHOULD use the Class Selector\
    \ (CS) PHB,\n   defined in [RFC2474].  This service class SHOULD be configured\
    \ to\n   provide a minimum bandwidth assurance for CS5 marked packets to\n   ensure\
    \ that they get forwarded.  The Signaling service class SHOULD\n   be configured\
    \ to use a Rate Queuing system such as that defined in\n   Section 1.4.1.2 of\
    \ this document.\n   The following applications SHOULD use the Signaling service\
    \ class:\n   o  Peer-to-peer IP telephony signaling (e.g., using SIP, H.323).\n\
    \   o  Peer-to-peer signaling for multimedia applications (e.g., using\n     \
    \ SIP, H.323).\n   o  Peer-to-peer real-time control function.\n   o  Client-server\
    \ IP telephony signaling using H.248, MEGACO, MGCP, IP\n      encapsulated ISDN,\
    \ or other proprietary protocols.\n   o  Signaling to control IPTV applications\
    \ using protocols such as\n      IGMP.\n   o  Signaling flows between high-capacity\
    \ telephony call servers or\n      soft switches using protocol such as SIP-T.\
    \  Such high-capacity\n      devices may control thousands of telephony (VoIP)\
    \ calls.\n   The following are traffic characteristics:\n   o  Variable size packets,\
    \ normally one packet at a time.\n   o  Intermittent traffic flows.\n   o  Traffic\
    \ may burst at times.\n   o  Delay-sensitive control messages sent between two\
    \ end points.\n   RECOMMENDED DSCP marking:\n   o  All flows in this service class\
    \ are marked with CS5 (Class\n      Selector 5).\n   Applications or IP end points\
    \ SHOULD pre-mark their packets with CS5\n   DSCP value.  If the end point is\
    \ not capable of setting the DSCP\n   value, then the router topologically closest\
    \ to the end point SHOULD\n   perform Multifield (MF) Classification, as defined\
    \ in [RFC2475].\n   RECOMMENDED conditioning performed at DiffServ network edge:\n\
    \   o  Packet flow marking (DSCP setting) from untrusted sources (end\n      user\
    \ devices) SHOULD be verified at ingress to DiffServ network\n      using Multifield\
    \ (MF) Classification methods defined in [RFC2475].\n   o  Packet flows from untrusted\
    \ sources (end user devices) SHOULD be\n      policed at ingress to DiffServ network,\
    \ e.g., using single rate\n      with burst size token bucket policer to ensure\
    \ that the traffic\n      stays within its negotiated or engineered bounds.\n\
    \   o  Packet flows from trusted sources (application servers inside\n      administered\
    \ network) MAY not require policing.\n   o  Policing of packet flows across peering\
    \ points SHOULD be performed\n      to the Service Level Agreement (SLA).\n  \
    \ The fundamental service offered to \"Signaling\" traffic is enhanced\n   best-effort\
    \ service with controlled rate and delay.  The service\n   SHOULD be engineered\
    \ so that CS5 marked packet flows have sufficient\n   bandwidth in the network\
    \ to provide high assurance of delivery and\n   low delay.  Normally, traffic\
    \ in this service class does not respond\n   dynamically to packet loss.  As such,\
    \ Active Queue Management\n   [RFC2309] SHOULD NOT be applied to CS5 marked packet\
    \ flows.\n"
- title: 4.3.  Multimedia Conferencing Service Class
  contents:
  - "4.3.  Multimedia Conferencing Service Class\n   The Multimedia Conferencing service\
    \ class is RECOMMENDED for\n   applications that require real-time service for\
    \ rate-adaptive\n   traffic.  H.323/V2 and later versions of video conferencing\
    \ equipment\n   with dynamic bandwidth adjustment are such applications.  The\
    \ traffic\n   sources in this service class have the ability to dynamically change\n\
    \   their transmission rate based on feedback from the receiver.  One\n   approach\
    \ used in H.323/V2 equipment is, when the receiver detects a\n   pre-configured\
    \ level of packet loss, it signals to the transmitter\n   the indication of possible\
    \ on-path congestion.  When available, the\n   transmitter then selects a lower\
    \ rate encoding codec.  Note that\n   today, many H.323/V2 video conferencing\
    \ solutions implement fixed-\n   step bandwidth change (usually reducing the rate),\
    \ traffic resembling\n   step-wise CBR.\n   Typical video conferencing configurations\
    \ negotiate the setup of\n   multimedia session using protocols such as H.323.\
    \  When a user/end-\n   point has been authorized to start a multimedia session,\
    \ the\n   admission procedure should have verified that the newly admitted data\n\
    \   rate will be within the engineered capacity of the Multimedia\n   Conferencing\
    \ service class.  The bandwidth in the core network and\n   the number of simultaneous\
    \ video conferencing sessions that can be\n   supported SHOULD be engineered to\
    \ control traffic load for this\n   service.\n   The Multimedia Conferencing service\
    \ class SHOULD use the Assured\n   Forwarding (AF) PHB, defined in [RFC2597].\
    \  This service class SHOULD\n   be configured to provide a bandwidth assurance\
    \ for AF41, AF42, and\n   AF43 marked packets to ensure that they get forwarded.\
    \  The\n   Multimedia Conferencing service class SHOULD be configured to use a\n\
    \   Rate Queuing system such as that defined in Section 1.4.1.2 of this\n   document.\n\
    \   The following applications SHOULD use the Multimedia Conferencing\n   service\
    \ class:\n   o  H.323/V2 and later versions of video conferencing applications\n\
    \      (interactive video).\n   o  Video conferencing applications with rate control\
    \ or traffic\n      content importance marking.\n   o  Application server-to-application\
    \ server non-bursty data transfer\n      requiring very low delay.\n   o  IP VPN\
    \ service that specifies two rates and mean network delay\n      that is slightly\
    \ longer then network propagation delay.\n   o  Interactive, time-critical, and\
    \ mission-critical applications.\n   The following are traffic characteristics:\n\
    \   o  Variable size packets.\n   o  The higher the rate, the higher the density\
    \ of large packets.\n   o  Constant packet emission time interval.\n   o  Variable\
    \ rate.\n   o  Source is capable of reducing its transmission rate based on\n\
    \      detection of packet loss at the receiver.\n   Applications or IP end points\
    \ SHOULD pre-mark their packets with DSCP\n   values as shown below.  If the end\
    \ point is not capable of setting\n   the DSCP value, then the router topologically\
    \ closest to the end\n   point SHOULD perform Multifield (MF) Classification,\
    \ as defined in\n   [RFC2475] and mark all packets as AF4x.  Note: In this case,\
    \ the\n   two-rate, three-color marker will be configured to operate in Color-\n\
    \   Blind mode.\n   RECOMMENDED DSCP marking when performed by router closest\
    \ to source:\n   o  AF41 = up to specified rate \"A\".\n   o  AF42 = in excess\
    \ of specified rate \"A\" but below specified rate\n      \"B\".\n   o  AF43 =\
    \ in excess of specified rate \"B\".\n   o  Where \"A\" < \"B\".\n   Note: One\
    \ might expect \"A\" to approximate the sum of the mean rates\n   and \"B\" to\
    \ approximate the sum of the peak rates.\n   RECOMMENDED DSCP marking when performed\
    \ by H.323/V2 video\n   conferencing equipment:\n   o  AF41 = H.323 video conferencing\
    \ audio stream RTP/UDP.\n   o  AF41 = H.323 video conferencing video control RTCP/TCP.\n\
    \   o  AF41 = H.323 video conferencing video stream up to specified rate\n   \
    \   \"A\".\n   o  AF42 = H.323 video conferencing video stream in excess of\n\
    \      specified rate \"A\" but below specified rate \"B\".\n   o  AF43 = H.323\
    \ video conferencing video stream in excess of\n      specified rate \"B\".\n\
    \   o  Where \"A\" < \"B\".\n   RECOMMENDED conditioning performed at DiffServ\
    \ network edge:\n   o  The two-rate, three-color marker SHOULD be configured to\
    \ provide\n      the behavior as defined in trTCM [RFC2698].\n   o  If packets\
    \ are marked by trusted sources or a previously trusted\n      DiffServ domain\
    \ and the color marking is to be preserved, then the\n      two-rate, three-color\
    \ marker SHOULD be configured to operate in\n      Color-Aware mode.\n   o  If\
    \ the packet marking is not trusted or the color marking is not\n      to be preserved,\
    \ then the two-rate, three-color marker SHOULD be\n      configured to operate\
    \ in Color-Blind mode.\n   The fundamental service offered to \"Multimedia Conferencing\"\
    \ traffic\n   is enhanced best-effort service with controlled rate and delay.\
    \  For\n   video conferencing service, typically a 1% packet loss detected at\n\
    \   the receiver triggers an encoding rate change, dropping to the next\n   lower\
    \ provisioned video encoding rate.  As such, Active Queue\n   Management [RFC2309]\
    \ SHOULD be used primarily to switch the video\n   encoding rate under congestion,\
    \ changing from high rate to lower\n   rate, i.e., 1472 kbps to 768 kbps.  The\
    \ probability of loss of AF41\n   traffic MUST NOT exceed the probability of loss\
    \ of AF42 traffic,\n   which in turn MUST NOT exceed the probability of loss of\
    \ AF43\n   traffic.\n   If RED [RFC2309] is used as an AQM algorithm, the min-threshold\n\
    \   specifies a target queue depth for each DSCP, and the max-threshold\n   specifies\
    \ the queue depth above which all traffic with such a DSCP is\n   dropped or ECN\
    \ marked.  Thus, in this service class, the following\n   inequality should hold\
    \ in queue configurations:\n   o  min-threshold AF43 < max-threshold AF43\n  \
    \ o  max-threshold AF43 <= min-threshold AF42\n   o  min-threshold AF42 < max-threshold\
    \ AF42\n   o  max-threshold AF42 <= min-threshold AF41\n   o  min-threshold AF41\
    \ < max-threshold AF41\n   o  max-threshold AF41 <= memory assigned to the queue\n\
    \   Note: This configuration tends to drop AF43 traffic before AF42 and\n   AF42\
    \ before AF41.  Many other AQM algorithms exist and are used; they\n   should\
    \ be configured to achieve a similar result.\n"
- title: 4.4.  Real-Time Interactive Service Class
  contents:
  - "4.4.  Real-Time Interactive Service Class\n   The Real-Time Interactive service\
    \ class is RECOMMENDED for\n   applications that require low loss and jitter and\
    \ very low delay for\n   variable rate inelastic traffic sources.  Interactive\
    \ gaming and\n   video conferencing applications that do not have the ability\
    \ to\n   change encoding rates or to mark packets with different importance\n\
    \   indications are such applications.  The traffic sources in this\n   traffic\
    \ class do not have the ability to reduce their transmission\n   rate according\
    \ to feedback received from the receiving end.\n   Typically, applications in\
    \ this service class are configured to\n   negotiate the setup of RTP/UDP control\
    \ session.  When a user/end-\n   point has been authorized to start a new session,\
    \ the admission\n   procedure should have verified that the newly admitted data\
    \ rates\n   will be within the engineered capacity of the Real-Time Interactive\n\
    \   service class.  The bandwidth in the core network and the number of\n   simultaneous\
    \ Real-time Interactive sessions that can be supported\n   SHOULD be engineered\
    \ to control traffic load for this service.\n   The Real-Time Interactive service\
    \ class SHOULD use the Class Selector\n   (CS) PHB, defined in [RFC2474].  This\
    \ service class SHOULD be\n   configured to provide a high assurance for bandwidth\
    \ for CS4 marked\n   packets to ensure that they get forwarded.  The Real-Time\
    \ Interactive\n   service class SHOULD be configured to use a Rate Queuing system\
    \ such\n   as that defined in Section 1.4.1.2 of this document.  Note that this\n\
    \   service class MAY be configured as a second EF PHB that uses relaxed\n   performance\
    \ parameter, a rate scheduler, and CS4 DSCP value.\n   The following applications\
    \ SHOULD use the Real-Time Interactive\n   service class:\n   o  Interactive gaming\
    \ and control.\n   o  Video conferencing applications without rate control or\
    \ traffic\n      content importance marking.\n   o  IP VPN service that specifies\
    \ single rate and mean network delay\n      that is slightly longer then network\
    \ propagation delay.\n   o  Inelastic, interactive, time-critical, and mission-critical\n\
    \      applications requiring very low delay.\n   The following are traffic characteristics:\n\
    \   o  Variable size packets.\n   o  Variable rate, non-bursty.\n   o  Application\
    \ is sensitive to delay variation between flows and\n      sessions.\n   o  Lost\
    \ packets, if any, are usually ignored by application.\n   RECOMMENDED DSCP marking:\n\
    \   o  All flows in this service class are marked with CS4 (Class\n      Selector\
    \ 4).\n   Applications or IP end points SHOULD pre-mark their packets with CS4\n\
    \   DSCP value.  If the end point is not capable of setting the DSCP\n   value,\
    \ then the router topologically closest to the end point SHOULD\n   perform Multifield\
    \ (MF) Classification, as defined in [RFC2475].\n   RECOMMENDED conditioning performed\
    \ at DiffServ network edge:\n   o  Packet flow marking (DSCP setting) from untrusted\
    \ sources (end\n      user devices) SHOULD be verified at ingress to DiffServ\
    \ network\n      using Multifield (MF) Classification methods defined in [RFC2475].\n\
    \   o  Packet flows from untrusted sources (end user devices) SHOULD be\n    \
    \  policed at ingress to DiffServ network, e.g., using single rate\n      with\
    \ burst size token bucket policer to ensure that the traffic\n      stays within\
    \ its negotiated or engineered bounds.\n   o  Packet flows from trusted sources\
    \ (application servers inside\n      administered network) MAY not require policing.\n\
    \   o  Policing of packet flows across peering points SHOULD be performed\n  \
    \    to the Service Level Agreement (SLA).\n   The fundamental service offered\
    \ to \"Real-Time Interactive\" traffic is\n   enhanced best-effort service with\
    \ controlled rate and delay.  The\n   service SHOULD be engineered so that CS4\
    \ marked packet flows have\n   sufficient bandwidth in the network to provide\
    \ high assurance of\n   delivery.  Normally, traffic in this service class does\
    \ not respond\n   dynamically to packet loss.  As such, Active Queue Management\n\
    \   [RFC2309] SHOULD NOT be applied to CS4 marked packet flows.\n"
- title: 4.5.  Multimedia Streaming Service Class
  contents:
  - "4.5.  Multimedia Streaming Service Class\n   The Multimedia Streaming service\
    \ class is RECOMMENDED for\n   applications that require near-real-time packet\
    \ forwarding of\n   variable rate elastic traffic sources that are not as delay\
    \ sensitive\n   as applications using the Multimedia Conferencing service class.\n\
    \   Such applications include streaming audio and video, some video\n   (movies)\
    \ on-demand applications, and webcasts.  In general, the\n   Multimedia Streaming\
    \ service class assumes that the traffic is\n   buffered at the source/destination;\
    \ therefore, it is less sensitive\n   to delay and jitter.\n   The Multimedia\
    \ Streaming service class SHOULD use the Assured\n   Forwarding (AF) PHB, defined\
    \ in [RFC2597].  This service class SHOULD\n   be configured to provide a minimum\
    \ bandwidth assurance for AF31,\n   AF32, and AF33 marked packets to ensure that\
    \ they get forwarded.  The\n   Multimedia Streaming service class SHOULD be configured\
    \ to use Rate\n   Queuing system such as that defined in Section 1.4.1.2 of this\n\
    \   document.\n   The following applications SHOULD use the Multimedia Streaming\n\
    \   service class:\n   o  Buffered streaming audio (unicast).\n   o  Buffered\
    \ streaming video (unicast).\n   o  Webcasts.\n   o  IP VPN service that specifies\
    \ two rates and is less sensitive to\n      delay and jitter.\n   The following\
    \ are traffic characteristics:\n   o  Variable size packets.\n   o  The higher\
    \ the rate, the higher the density of large packets.\n   o  Variable rate.\n \
    \  o  Elastic flows.\n   o  Some bursting at start of flow from some applications.\n\
    \   Applications or IP end points SHOULD pre-mark their packets with DSCP\n  \
    \ values as shown below.  If the end point is not capable of setting\n   the DSCP\
    \ value, then the router topologically closest to the end\n   point SHOULD perform\
    \ Multifield (MF) Classification, as defined in\n   [RFC2475], and mark all packets\
    \ as AF3x.  Note: In this case, the\n   two-rate, three-color marker will be configured\
    \ to operate in Color-\n   Blind mode.\n   RECOMMENDED DSCP marking:\n   o  AF31\
    \ = up to specified rate \"A\".\n   o  AF32 = in excess of specified rate \"A\"\
    \ but below specified rate\n      \"B\".\n   o  AF33 = in excess of specified\
    \ rate \"B\".\n   o  Where \"A\" < \"B\".\n   Note: One might expect \"A\" to\
    \ approximate the sum of the mean rates\n   and \"B\" to approximate the sum of\
    \ the peak rates.\n   RECOMMENDED conditioning performed at DiffServ network edge:\n\
    \   o  The two-rate, three-color marker SHOULD be configured to provide\n    \
    \  the behavior as defined in trTCM [RFC2698].\n   o  If packets are marked by\
    \ trusted sources or a previously trusted\n      DiffServ domain and the color\
    \ marking is to be preserved, then the\n      two-rate, three-color marker SHOULD\
    \ be configured to operate in\n      Color-Aware mode.\n   o  If the packet marking\
    \ is not trusted or the color marking is not\n      to be preserved, then the\
    \ two-rate, three-color marker SHOULD be\n      configured to operate in Color-Blind\
    \ mode.\n   The fundamental service offered to \"Multimedia Streaming\" traffic\
    \ is\n   enhanced best-effort service with controlled rate and delay.  The\n \
    \  service SHOULD be engineered so that AF31 marked packet flows have\n   sufficient\
    \ bandwidth in the network to provide high assurance of\n   delivery.  Since the\
    \ AF3x traffic is elastic and responds dynamically\n   to packet loss, Active\
    \ Queue Management [RFC2309] SHOULD be used\n   primarily to reduce forwarding\
    \ rate to the minimum assured rate at\n   congestion points.  The probability\
    \ of loss of AF31 traffic MUST NOT\n   exceed the probability of loss of AF32\
    \ traffic, which in turn MUST\n   NOT exceed the probability of loss of AF33.\n\
    \   If RED [RFC2309] is used as an AQM algorithm, the min-threshold\n   specifies\
    \ a target queue depth for each DSCP, and the max-threshold\n   specifies the\
    \ queue depth above which all traffic with such a DSCP is\n   dropped or ECN marked.\
    \  Thus, in this service class, the following\n   inequality should hold in queue\
    \ configurations:\n   o  min-threshold AF33 < max-threshold AF33\n   o  max-threshold\
    \ AF33 <= min-threshold AF32\n   o  min-threshold AF32 < max-threshold AF32\n\
    \   o  max-threshold AF32 <= min-threshold AF31\n   o  min-threshold AF31 < max-threshold\
    \ AF31\n   o  max-threshold AF31 <= memory assigned to the queue\n   Note: This\
    \ configuration tends to drop AF33 traffic before AF32 and\n   AF32 before AF31.\
    \  Note: Many other AQM algorithms exist and are\n   used; they should be configured\
    \ to achieve a similar result.\n"
- title: 4.6.  Broadcast Video Service Class
  contents:
  - "4.6.  Broadcast Video Service Class\n   The Broadcast Video service class is\
    \ RECOMMENDED for applications\n   that require near-real-time packet forwarding\
    \ with very low packet\n   loss of constant rate and variable rate inelastic traffic\
    \ sources\n   that are not as delay sensitive as applications using the Real-Time\n\
    \   Interactive service class.  Such applications include broadcast TV,\n   streaming\
    \ of live audio and video events, some video-on-demand\n   applications, and video\
    \ surveillance.  In general, the Broadcast\n   Video service class assumes that\
    \ the destination end point has a\n   dejitter buffer, for video application usually\
    \ a 2 - 8 video-frame\n   buffer (66 to several hundred of milliseconds), and\
    \ therefore that it\n   is less sensitive to delay and jitter.\n   The Broadcast\
    \ Video service class SHOULD use the Class Selector (CS)\n   PHB, defined in [RFC2474].\
    \  This service class SHOULD be configured\n   to provide high assurance for bandwidth\
    \ for CS3 marked packets to\n   ensure that they get forwarded.  The Broadcast\
    \ Video service class\n   SHOULD be configured to use Rate Queuing system such\
    \ as that defined\n   in Section 1.4.1.2 of this document.  Note that this service\
    \ class\n   MAY be configured as a third EF PHB that uses relaxed performance\n\
    \   parameter, a rate scheduler, and CS3 DSCP value.\n   The following applications\
    \ SHOULD use the Broadcast Video service\n   class:\n   o  Video surveillance\
    \ and security (unicast).\n   o  TV broadcast including HDTV (multicast).\n  \
    \ o  Video on demand (unicast) with control (virtual DVD).\n   o  Streaming of\
    \ live audio events (both unicast and multicast).\n   o  Streaming of live video\
    \ events (both unicast and multicast).\n   The following are traffic characteristics:\n\
    \   o  Variable size packets.\n   o  The higher the rate, the higher the density\
    \ of large packets.\n   o  Mixture of variable rate and constant rate flows.\n\
    \   o  Fixed packet emission time intervals.\n   o  Inelastic flows.\n   RECOMMENDED\
    \ DSCP marking:\n   o  All flows in this service class are marked with CS3 (Class\n\
    \      Selector 3).\n   o  In some cases, such as those for security and video\
    \ surveillance\n      applications, it may be desirable to use a different DSCP\
    \ marking.\n      If so, then locally user definable (EXP/LU) codepoints in the\n\
    \      range '011xx1' MAY be used to provide unique traffic\n      identification.\
    \  The locally user definable (EXP/LU) codepoint(s)\n      MAY be associated with\
    \ the PHB that is used for CS3 traffic.\n      Furthermore, depending on the network\
    \ scenario, additional network\n      edge conditioning policy MAY be needed for\
    \ the EXP/LU codepoint(s)\n      used.\n   Applications or IP end points SHOULD\
    \ pre-mark their packets with CS3\n   DSCP value.  If the end point is not capable\
    \ of setting the DSCP\n   value, then the router topologically closest to the\
    \ end point SHOULD\n   perform Multifield (MF) Classification, as defined in [RFC2475].\n\
    \   RECOMMENDED conditioning performed at DiffServ network edge:\n   o  Packet\
    \ flow marking (DSCP setting) from untrusted sources (end\n      user devices)\
    \ SHOULD be verified at ingress to DiffServ network\n      using Multifield (MF)\
    \ Classification methods defined in [RFC2475].\n   o  Packet flows from untrusted\
    \ sources (end user devices) SHOULD be\n      policed at ingress to DiffServ network,\
    \ e.g., using single rate\n      with burst size token bucket policer to ensure\
    \ that the traffic\n      stays within its negotiated or engineered bounds.\n\
    \   o  Packet flows from trusted sources (application servers inside\n      administered\
    \ network) MAY not require policing.\n   o  Policing of packet flows across peering\
    \ points SHOULD be performed\n      to the Service Level Agreement (SLA).\n  \
    \ The fundamental service offered to \"Broadcast Video\" traffic is\n   enhanced\
    \ best-effort service with controlled rate and delay.  The\n   service SHOULD\
    \ be engineered so that CS3 marked packet flows have\n   sufficient bandwidth\
    \ in the network to provide high assurance of\n   delivery.  Normally, traffic\
    \ in this service class does not respond\n   dynamically to packet loss.  As such,\
    \ Active Queue Management\n   [RFC2309] SHOULD NOT be applied to CS3 marked packet\
    \ flows.\n"
- title: 4.7.  Low-Latency Data Service Class
  contents:
  - "4.7.  Low-Latency Data Service Class\n   The Low-Latency Data service class is\
    \ RECOMMENDED for elastic and\n   responsive typically client-/server-based applications.\
    \  Applications\n   forwarded by this service class are those that require a relatively\n\
    \   fast response and typically have asymmetrical bandwidth need, i.e.,\n   the\
    \ client typically sends a short message to the server and the\n   server responds\
    \ with a much larger data flow back to the client.  The\n   most common example\
    \ of this is when a user clicks a hyperlink (~ few\n   dozen bytes) on a web page,\
    \ resulting in a new web page to be loaded\n   (Kbytes of data).  This service\
    \ class is configured to provide good\n   response for TCP [RFC1633] short-lived\
    \ flows that require real-time\n   packet forwarding of variable rate traffic\
    \ sources.\n   The Low-Latency Data service class SHOULD use the Assured Forwarding\n\
    \   (AF) PHB, defined in [RFC2597].  This service class SHOULD be\n   configured\
    \ to provide a minimum bandwidth assurance for AF21, AF22,\n   and AF23 marked\
    \ packets to ensure that they get forwarded.  The Low-\n   Latency Data service\
    \ class SHOULD be configured to use a Rate Queuing\n   system such as that defined\
    \ in Section 1.4.1.2 of this document.\n   The following applications SHOULD use\
    \ the Low-Latency Data service\n   class:\n   o  Client/server applications.\n\
    \   o  Systems Network Architecture (SNA) terminal to host transactions\n    \
    \  (SNA over IP using Data Link Switching (DLSw)).\n   o  Web-based transactions\
    \ (E-commerce).\n   o  Credit card transactions.\n   o  Financial wire transfers.\n\
    \   o  Enterprise Resource Planning (ERP) applications (e.g., SAP/BaaN).\n   o\
    \  VPN service that supports Committed Information Rate (CIR) with up\n      to\
    \ two burst sizes.\n   The following are traffic characteristics:\n   o  Variable\
    \ size packets.\n   o  Variable packet emission rate.\n   o  With packet bursts\
    \ of TCP window size.\n   o  Short traffic bursts.\n   o  Source capable of reducing\
    \ its transmission rate based on\n      detection of packet loss at the receiver\
    \ or through explicit\n      congestion notification.\n   Applications or IP end\
    \ points SHOULD pre-mark their packets with DSCP\n   values as shown below.  If\
    \ the end point is not capable of setting\n   the DSCP value, then the router\
    \ topologically closest to the end\n   point SHOULD perform Multifield (MF) Classification,\
    \ as defined in\n   [RFC2475] and mark all packets as AF2x.  Note: In this case,\
    \ the\n   single-rate, three-color marker will be configured to operate in\n \
    \  Color-Blind mode.\n   RECOMMENDED DSCP marking:\n   o  AF21 = flow stream with\
    \ packet burst size up to \"A\" bytes.\n   o  AF22 = flow stream with packet burst\
    \ size in excess of \"A\" but\n      below \"B\" bytes.\n   o  AF23 = flow stream\
    \ with packet burst size in excess of \"B\" bytes.\n   o  Where \"A\" < \"B\"\
    .\n   RECOMMENDED conditioning performed at DiffServ network edge:\n   o  The\
    \ single-rate, three-color marker SHOULD be configured to\n      provide the behavior\
    \ as defined in srTCM [RFC2697].\n   o  If packets are marked by trusted sources\
    \ or a previously trusted\n      DiffServ domain and the color marking is to be\
    \ preserved, then the\n      single-rate, three-color marker SHOULD be configured\
    \ to operate in\n      Color-Aware mode.\n   o  If the packet marking is not trusted\
    \ or the color marking is not\n      to be preserved, then the single-rate, three-color\
    \ marker SHOULD\n      be configured to operate in Color-Blind mode.\n   The fundamental\
    \ service offered to \"Low-Latency Data\" traffic is\n   enhanced best-effort\
    \ service with controlled rate and delay.  The\n   service SHOULD be engineered\
    \ so that AF21 marked packet flows have\n   sufficient bandwidth in the network\
    \ to provide high assurance of\n   delivery.  Since the AF2x traffic is elastic\
    \ and responds dynamically\n   to packet loss, Active Queue Management [RFC2309]\
    \ SHOULD be used\n   primarily to control TCP flow rates at congestion points\
    \ by dropping\n   packets from TCP flows that have large burst size.  The probability\n\
    \   of loss of AF21 traffic MUST NOT exceed the probability of loss of\n   AF22\
    \ traffic, which in turn MUST NOT exceed the probability of loss\n   of AF23.\
    \  Explicit Congestion Notification (ECN) [RFC3168] MAY also\n   be used with\
    \ Active Queue Management.\n   If RED [RFC2309] is used as an AQM algorithm, the\
    \ min-threshold\n   specifies a target queue depth for each DSCP, and the max-threshold\n\
    \   specifies the queue depth above which all traffic with such a DSCP is\n  \
    \ dropped or ECN marked.  Thus, in this service class, the following\n   inequality\
    \ should hold in queue configurations:\n   o  min-threshold AF23 < max-threshold\
    \ AF23\n   o  max-threshold AF23 <= min-threshold AF22\n   o  min-threshold AF22\
    \ < max-threshold AF22\n   o  max-threshold AF22 <= min-threshold AF21\n   o \
    \ min-threshold AF21 < max-threshold AF21\n   o  max-threshold AF21 <= memory\
    \ assigned to the queue\n   Note: This configuration tends to drop AF23 traffic\
    \ before AF22 and\n   AF22 before AF21.  Many other AQM algorithms exist and are\
    \ used; they\n   should be configured to achieve a similar result.\n"
- title: 4.8.  High-Throughput Data Service Class
  contents:
  - "4.8.  High-Throughput Data Service Class\n   The High-Throughput Data service\
    \ class is RECOMMENDED for elastic\n   applications that require timely packet\
    \ forwarding of variable rate\n   traffic sources and, more specifically, is configured\
    \ to provide good\n   throughput for TCP longer-lived flows.  TCP [RFC1633] or\
    \ a transport\n   with a consistent Congestion Avoidance Procedure [RFC2581] [RFC3782]\n\
    \   normally will drive as high a data rate as it can obtain over a long\n   period\
    \ of time.  The FTP protocol is a common example, although one\n   cannot definitively\
    \ say that all FTP transfers are moving data in\n   bulk.\n   The High-Throughput\
    \ Data service class SHOULD use the Assured\n   Forwarding (AF) PHB, defined in\
    \ [RFC2597].  This service class SHOULD\n   be configured to provide a minimum\
    \ bandwidth assurance for AF11,\n   AF12, and AF13 marked packets to ensure that\
    \ they are forwarded in a\n   timely manner.  The High-Throughput Data service\
    \ class SHOULD be\n   configured to use a Rate Queuing system such as that defined\
    \ in\n   Section 1.4.1.2 of this document.\n   The following applications SHOULD\
    \ use the High-Throughput Data\n   service class:\n   o  Store and forward applications.\n\
    \   o  File transfer applications.\n   o  Email.\n   o  VPN service that supports\
    \ two rates (committed information rate\n      and excess or peak information\
    \ rate).\n   The following are traffic characteristics:\n   o  Variable size packets.\n\
    \   o  Variable packet emission rate.\n   o  Variable rate.\n   o  With packet\
    \ bursts of TCP window size.\n   o  Source capable of reducing its transmission\
    \ rate based on\n      detection of packet loss at the receiver or through explicit\n\
    \      congestion notification.\n   Applications or IP end points SHOULD pre-mark\
    \ their packets with DSCP\n   values as shown below.  If the end point is not\
    \ capable of setting\n   the DSCP value, then the router topologically closest\
    \ to the end\n   point SHOULD perform Multifield (MF) Classification, as defined\
    \ in\n   [RFC2475], and mark all packets as AF1x.  Note: In this case, the\n \
    \  two-rate, three-color marker will be configured to operate in Color-\n   Blind\
    \ mode.\n   RECOMMENDED DSCP marking:\n   o  AF11 = up to specified rate \"A\"\
    .\n   o  AF12 = in excess of specified rate \"A\" but below specified rate\n \
    \     \"B\".\n   o  AF13 = in excess of specified rate \"B\".\n   o  Where \"\
    A\" < \"B\".\n   RECOMMENDED conditioning performed at DiffServ network edge:\n\
    \   o  The two-rate, three-color marker SHOULD be configured to provide\n    \
    \  the behavior as defined in trTCM [RFC2698].\n   o  If packets are marked by\
    \ trusted sources or a previously trusted\n      DiffServ domain and the color\
    \ marking is to be preserved, then the\n      two-rate, three-color marker SHOULD\
    \ be configured to operate in\n      Color-Aware mode.\n   o  If the packet marking\
    \ is not trusted or the color marking is not\n      to be preserved, then the\
    \ two-rate, three-color marker SHOULD be\n      configured to operate in Color-Blind\
    \ mode.\n   The fundamental service offered to \"High-Throughput Data\" traffic\
    \ is\n   enhanced best-effort service with a specified minimum rate.  The\n  \
    \ service SHOULD be engineered so that AF11 marked packet flows have\n   sufficient\
    \ bandwidth in the network to provide assured delivery.  It\n   can be assumed\
    \ that this class will consume any available bandwidth\n   and that packets traversing\
    \ congested links may experience higher\n   queuing delays or packet loss.  Since\
    \ the AF1x traffic is elastic and\n   responds dynamically to packet loss, Active\
    \ Queue Management\n   [RFC2309] SHOULD be used primarily to control TCP flow\
    \ rates at\n   congestion points by dropping packets from TCP flows that have\
    \ higher\n   rates first.  The probability of loss of AF11 traffic MUST NOT exceed\n\
    \   the probability of loss of AF12 traffic, which in turn MUST NOT\n   exceed\
    \ the probability of loss of AF13.  In such a case, if one\n   network customer\
    \ is driving significant excess and another seeks to\n   use the link, any losses\
    \ will be experienced by the high-rate user,\n   causing him to reduce his rate.\
    \  Explicit Congestion Notification\n   (ECN) [RFC3168] MAY also be used with\
    \ Active Queue Management.\n   If RED [RFC2309] is used as an AQM algorithm, the\
    \ min-threshold\n   specifies a target queue depth for each DSCP, and the max-threshold\n\
    \   specifies the queue depth above which all traffic with such a DSCP is\n  \
    \ dropped or ECN marked.  Thus, in this service class, the following\n   inequality\
    \ should hold in queue configurations:\n   o  min-threshold AF13 < max-threshold\
    \ AF13\n   o  max-threshold AF13 <= min-threshold AF12\n   o  min-threshold AF12\
    \ < max-threshold AF12\n   o  max-threshold AF12 <= min-threshold AF11\n   o \
    \ min-threshold AF11 < max-threshold AF11\n   o  max-threshold AF11 <= memory\
    \ assigned to the queue\n   Note: This configuration tends to drop AF13 traffic\
    \ before AF12 and\n   AF12 before AF11.  Many other AQM algorithms exist and are\
    \ used; they\n   should be configured to achieve a similar result.\n"
- title: 4.9.  Standard Service Class
  contents:
  - "4.9.  Standard Service Class\n   The Standard service class is RECOMMENDED for\
    \ traffic that has not\n   been classified into one of the other supported forwarding\
    \ service\n   classes in the DiffServ network domain.  This service class provides\n\
    \   the Internet's \"best-effort\" forwarding behavior.  This service class\n\
    \   typically has minimum bandwidth guarantee.\n   The Standard service class\
    \ MUST use the Default Forwarding (DF) PHB,\n   defined in [RFC2474], and SHOULD\
    \ be configured to receive at least a\n   small percentage of forwarding resources\
    \ as a guaranteed minimum.\n   This service class SHOULD be configured to use\
    \ a Rate Queuing system\n   such as that defined in Section 1.4.1.2 of this document.\n\
    \   The following applications SHOULD use the Standard service class:\n   o  Network\
    \ services, DNS, DHCP, BootP.\n   o  Any undifferentiated application/packet flow\
    \ transported through\n      the DiffServ enabled network.\n   The following is\
    \ a traffic characteristic:\n   o  Non-deterministic, mixture of everything.\n\
    \   The RECOMMENDED DSCP marking is DF (Default Forwarding) '000000'.\n   Network\
    \ Edge Conditioning:\n      There is no requirement that conditioning of packet\
    \ flows be\n      performed for this service class.\n   The fundamental service\
    \ offered to the Standard service class is\n   best-effort service with active\
    \ queue management to limit overall\n   delay.  Typical configurations SHOULD\
    \ use random packet dropping to\n   implement Active Queue Management [RFC2309]\
    \ or Explicit Congestion\n   Notification [RFC3168], and MAY impose a minimum\
    \ or maximum rate on\n   the queue.\n   If RED [RFC2309] is used as an AQM algorithm,\
    \ the min-threshold\n   specifies a target queue depth, and the max-threshold\
    \ specifies the\n   queue depth above which all traffic is dropped or ECN marked.\
    \  Thus,\n   in this service class, the following inequality should hold in queue\n\
    \   configurations:\n   o  min-threshold DF < max-threshold DF\n   o  max-threshold\
    \ DF <= memory assigned to the queue\n   Note: Many other AQM algorithms exist\
    \ and are used; they should be\n   configured to achieve a similar result.\n"
- title: 4.10.  Low-Priority Data
  contents:
  - "4.10.  Low-Priority Data\n   The Low-Priority Data service class serves applications\
    \ that run over\n   TCP [RFC0793] or a transport with consistent congestion avoidance\n\
    \   procedures [RFC2581] [RFC3782] and that the user is willing to accept\n  \
    \ service without guarantees.  This service class is specified in\n   [RFC3662]\
    \ and [QBSS].\n   The following applications MAY use the Low-Priority Data service\n\
    \   class:\n   o  Any TCP based-application/packet flow transported through the\n\
    \      DiffServ enabled network that does not require any bandwidth\n      assurances.\n\
    \   The following is a traffic characteristic:\n   o  Non-real-time and elastic.\n\
    \   Network Edge Conditioning:\n      There is no requirement that conditioning\
    \ of packet flows be\n      performed for this service class.\n   The RECOMMENDED\
    \ DSCP marking is CS1 (Class Selector 1).\n   The fundamental service offered\
    \ to the Low-Priority Data service\n   class is best-effort service with zero\
    \ bandwidth assurance.  By\n   placing it into a separate queue or class, it may\
    \ be treated in a\n   manner consistent with a specific Service Level Agreement.\n\
    \   Typical configurations SHOULD use Explicit Congestion Notification\n   [RFC3168]\
    \ or random loss to implement Active Queue Management\n   [RFC2309].\n   If RED\
    \ [RFC2309] is used as an AQM algorithm, the min-threshold\n   specifies a target\
    \ queue depth, and the max-threshold specifies the\n   queue depth above which\
    \ all traffic is dropped or ECN marked.  Thus,\n   in this service class, the\
    \ following inequality should hold in queue\n   configurations:\n   o  min-threshold\
    \ CS1 < max-threshold CS1\n   o  max-threshold CS1 <= memory assigned to the queue\n\
    \   Note: Many other AQM algorithms exist and are used; they should be\n   configured\
    \ to achieve a similar result.\n"
- title: 5.  Additional Information on Service Class Usage
  contents:
  - "5.  Additional Information on Service Class Usage\n   In this section, we provide\
    \ additional information on how some\n   specific applications should be configured\
    \ to use the defined service\n   classes.\n"
- title: 5.1.  Mapping for Signaling
  contents:
  - "5.1.  Mapping for Signaling\n   There are many different signaling protocols,\
    \ ways that signaling is\n   used and performance requirements from applications\
    \ that are\n   controlled by these protocols.  We believe that different signaling\n\
    \   protocols should use the service class that best meets the objectives\n  \
    \ of application or service they control.  The following mapping is\n   recommended:\n\
    \   o  Peer-to-peer signaling using SIP/H.323 is marked with CS5 DSCP\n      (use\
    \ Signaling service class).\n   o  Client-server signaling as used in many implementation\
    \ for IP\n      telephony using H.248, MEGACO, MGCP, IP encapsulated ISDN, or\n\
    \      proprietary protocols is marked with CS5 DSCP (use Signaling\n      service\
    \ class).\n   o  Signaling between call servers or soft-switches in carrier's\n\
    \      network using SIP, SIP-T, or IP encapsulated ISUP is marked with\n    \
    \  CS5 DSCP (use Signaling service class).\n   o  RSVP signaling depends on the\
    \ application.  If RSVP signaling is\n      \"on-path\" as used in IntServ, then\
    \ it needs to be forwarded from\n      the same queue (service class) and marked\
    \ with the same DSCP value\n      as application data that it is controlling.\
    \  This may also apply\n      to the \"on-path\" Next Steps in Signaling (NSIS)\
    \ protocol.\n   o  If IGMP is used for multicast session control such as channel\n\
    \      changing in IPTV systems, then IGMP packets should be marked with\n   \
    \   CS5 DSCP (use Signaling service class).  When IGMP is used only\n      for\
    \ the normal multicast routing purpose, it should be marked with\n      CS6 DSCP\
    \ (use Network Control service class).\n"
- title: 5.2.  Mapping for NTP
  contents:
  - "5.2.  Mapping for NTP\n   From tests that were performed, indications are that\
    \ precise time\n   distribution requires a very low packet delay variation (jitter)\n\
    \   transport.  Therefore, we suggest that the following guidelines for\n   Network\
    \ Time Protocol (NTP) be used:\n   o  When NTP is used for providing high-accuracy\
    \ timing within an\n      administrator's (carrier's) network or to end users/clients,\
    \ the\n      Telephony service class should be used, and NTP packets should be\n\
    \      marked with EF DSCP value.\n   o  For applications that require \"wall\
    \ clock\" timing accuracy, the\n      Standard service class should be used, and\
    \ packets should be\n      marked with DF DSCP.\n"
- title: 5.3.  VPN Service Mapping
  contents:
  - "5.3.  VPN Service Mapping\n   \"Differentiated Services and Tunnels\" [RFC2983]\
    \ considers the\n   interaction of DiffServ architecture with IP tunnels of various\n\
    \   forms.  Further to guidelines provided in RFC 2983, below are\n   additional\
    \ guidelines for mapping service classes that are supported\n   in one part of\
    \ the network into a VPN connection.  This discussion is\n   limited to VPNs that\
    \ use DiffServ technology for traffic\n   differentiation.\n   o  The DSCP value(s)\
    \ that is/are used to represent a PHB or a PHB\n      group should be the same\
    \ for the networks at both ends of the VPN\n      tunnel, unless remarking of\
    \ DSCP is done as ingress/egress\n      processing function of the tunnel.  DSCP\
    \ marking needs to be\n      preserved end to end.\n   o  The VPN may be configured\
    \ to support one or more service classes.\n      It is left up to the administrators\
    \ of the two networks to agree\n      on the level of traffic differentiation\
    \ that will be provided in\n      the network that supports VPN service.  Service\
    \ classes are then\n      mapped into the supported VPN traffic forwarding behaviors\
    \ that\n      meet the traffic characteristics and performance requirements of\n\
    \      the encapsulated service classes.\n   o  The traffic treatment in the network\
    \ that is providing the VPN\n      service needs to be such that the encapsulated\
    \ service class or\n      classes receive comparable behavior and performance\
    \ in terms of\n      delay, jitter, and packet loss and that they are within the\
    \ limits\n      of the service specified.\n   o  The DSCP value in the external\
    \ header of the packet forwarded\n      through the network providing the VPN\
    \ service may be different\n      from the DSCP value that is used end to end\
    \ for service\n      differentiation in the end network.\n   o  The guidelines\
    \ for aggregation of two or more service classes into\n      a single traffic\
    \ forwarding treatment in the network that is\n      providing the VPN service\
    \ is for further study.\n"
- title: 6.  Security Considerations
  contents:
  - "6.  Security Considerations\n   This document discusses policy and describes\
    \ a common policy\n   configuration, for the use of a Differentiated Services\
    \ Code Point by\n   transports and applications.  If implemented as described,\
    \ it should\n   require that the network do nothing that the network has not already\n\
    \   allowed.  If that is the case, no new security issues should arise\n   from\
    \ the use of such a policy.\n   It is possible for the policy to be applied incorrectly,\
    \ or for a\n   wrong policy to be applied in the network for the defined service\n\
    \   class.  In that case, a policy issue exists that the network SHOULD\n   detect,\
    \ assess, and deal with.  This is a known security issue in any\n   network dependent\
    \ on policy-directed behavior.\n   A well-known flaw appears when bandwidth is\
    \ reserved or enabled for a\n   service (for example, voice transport) and another\
    \ service or an\n   attacking traffic stream uses it.  This possibility is inherent\
    \ in\n   DiffServ technology, which depends on appropriate packet markings.\n\
    \   When bandwidth reservation or a priority queuing system is used in a\n   vulnerable\
    \ network, the use of authentication and flow admission is\n   recommended.  To\
    \ the author's knowledge, there is no known technical\n   way to respond to an\
    \ unauthenticated data stream using service that\n   it is not intended to use,\
    \ and such is the nature of the Internet.\n   The use of a service class by a\
    \ user is not an issue when the SLA\n   between the user and the network permits\
    \ him to use it, or to use it\n   up to a stated rate.  In such cases, simple\
    \ policing is used in the\n   Differentiated Services Architecture.  Some service\
    \ classes, such as\n   Network Control, are not permitted to be used by users\
    \ at all; such\n   traffic should be dropped or remarked by ingress filters. \
    \ Where\n   service classes are available under the SLA only to an authenticated\n\
    \   user rather than to the entire population of users, authentication\n   and\
    \ authorization services are required, such as those surveyed in\n   [AUTHMECH].\n"
- title: 7.  Acknowledgements
  contents:
  - "7.  Acknowledgements\n   The authors thank the TSVWG reviewers, David Black,\
    \ Brian E.\n   Carpenter, and Alan O'Neill for their review and input to this\n\
    \   document.\n   The authors acknowledge a great many inputs, most notably from\
    \ Bruce\n   Davie, Dave Oran, Ralph Santitoro, Gary Kenward, Francois Audet,\n\
    \   Morgan Littlewood, Robert Milne, John Shuler, Nalin Mistry, Al\n   Morton,\
    \ Mike Pierce, Ed Koehler Jr., Tim Rahrer, Fil Dickinson, Mike\n   Fidler, and\
    \ Shane Amante.  Kimberly King, Joe Zebarth, and Alistair\n   Munroe each did\
    \ a thorough proofreading, and the document is better\n   for their contributions.\n"
- title: 8.  Appendix A
  contents:
  - '8.  Appendix A

    '
- title: 8.1.  Explanation of Ring Clipping
  contents:
  - "8.1.  Explanation of Ring Clipping\n   The term \"ring clipping\" refers to those\
    \ instances where the front\n   end of a ringing signal is altered because the\
    \ bearer channel is not\n   made available in time to carry all the audible ringing\
    \ signal.  This\n   condition may occur due to a race condition between when the\
    \ tone\n   generator located in the circuit switch Exchange is turned on and\n\
    \   when the bearer path through the IP network is enabled.  To reduce\n   ring\
    \ clipping from occurring, delay of signaling path needs to be\n   minimized.\
    \  Below is a more detailed explanation.\n   The bearer path setup delay target\
    \ is defined as the ISUP Initial\n   Address Message (IAM) / Address Complete\
    \ Message (ACM) round-trip\n   delay.  ISUP refers to ISDN User Part of Signaling\
    \ System No. 7\n   (SS7), as defined by ITU-T.  This consists of the amount of\
    \ time it\n   takes for the ISUP Initial Address Message (IAM) to leave the Transit\n\
    \   Exchange, travel through the SS7 network (including any applicable\n   STPs,\
    \ or Signaling Transfer Points), and be processed by the End\n   Exchange thus\
    \ generating the Address Complete Message (ACM) and for\n   the ACM to travel\
    \ back through the SS7 network and return to the\n   Transit Exchange.  If the\
    \ bearer path has not been set up within the\n   soft-switch media gateway and\
    \ the IP network that is performing the\n   Transit Exchange function by the time\
    \ the ACM is forwarded to the\n   originating End Exchange, the phenomenon known\
    \ as ring clipping may\n   occur.  If ACM processing within the soft-switch media\
    \ gateway and\n   delay through the IP network is excessive, it will delay the\
    \ setup of\n   the bearer path, and therefore may cause clipping of the ring tone\
    \ to\n   be heard.\n   The intra-exchange ISUP IAM signaling delay value should\
    \ not exceed\n   240ms.  This may include soft-switch, media gateway, router,\
    \ and\n   propagation delay on the inter-exchange data path.  This value\n   represents\
    \ the threshold where ring clipping theoretically commences.\n   It is important\
    \ to note that the 240ms delay objective as presented\n   is a maximum value.\
    \  Service administrators are free to choose\n   specific IAM delay values according\
    \ to their own preferences (i.e.,\n   they may wish to set a very low mean delay\
    \ objective for strategic\n   reasons to differentiate themselves from other providers).\
    \  In\n   summary, out of the 240-ms delay budget, 200ms is allocated as\n   cross-Exchange\
    \ delay (soft-switch and media gateway) and 40ms for\n   network delay (queuing\
    \ and distance).\n"
- title: 9.  References
  contents:
  - '9.  References

    '
- title: 9.1.  Normative References
  contents:
  - "9.1.  Normative References\n   [RFC0791]  Postel, J., \"Internet Protocol\",\
    \ STD 5, RFC 791, September\n              1981.\n   [RFC0793]  Postel, J., \"\
    Transmission Control Protocol\", STD 7, RFC\n              793, September 1981.\n\
    \   [RFC1349]  Almquist, P., \"Type of Service in the Internet Protocol\n    \
    \          Suite\", RFC 1349, July 1992.\n   [RFC1812]  Baker, F., \"Requirements\
    \ for IP Version 4 Routers\", RFC\n              1812, June 1995.\n   [RFC2119]\
    \  Bradner, S., \"Key words for use in RFCs to Indicate\n              Requirement\
    \ Levels\", BCP 14, RFC 2119, March 1997.\n   [RFC2309]  Braden, B., Clark, D.,\
    \ Crowcroft, J., Davie, B., Deering,\n              S., Estrin, D., Floyd, S.,\
    \ Jacobson, V., Minshall, G.,\n              Partridge, C., Peterson, L., Ramakrishnan,\
    \ K., Shenker,\n              S., Wroclawski, J., and L. Zhang, \"Recommendations\
    \ on\n              Queue Management and Congestion Avoidance in the\n       \
    \       Internet\", RFC 2309, April 1998.\n   [RFC2474]  Nichols, K., Blake, S.,\
    \ Baker, F., and D. Black,\n              \"Definition of the Differentiated Services\
    \ Field (DS\n              Field) in the IPv4 and IPv6 Headers\", RFC 2474, December\n\
    \              1998.\n   [RFC2475]  Blake, S., Black, D., Carlson, M., Davies,\
    \ E., Wang, Z.,\n              and W. Weiss, \"An Architecture for Differentiated\n\
    \              Service\", RFC 2475, December 1998.\n   [RFC2597]  Heinanen, J.,\
    \ Baker, F., Weiss, W., and J. Wroclawski,\n              \"Assured Forwarding\
    \ PHB Group\", RFC 2597, June 1999.\n   [RFC3246]  Davie, B., Charny, A., Bennet,\
    \ J.C., Benson, K., Le\n              Boudec, J., Courtney, W., Davari, S., Firoiu,\
    \ V., and D.\n              Stiliadis, \"An Expedited Forwarding PHB (Per-Hop\n\
    \              Behavior)\", RFC 3246, March 2002.\n   [RFC3662]  Bless, R., Nichols,\
    \ K., and K. Wehrle, \"A Lower Effort\n              Per-Domain Behavior (PDB)\
    \ for Differentiated Services\",\n              RFC 3662, December 2003.\n"
- title: 9.2.  Informative References
  contents:
  - "9.2.  Informative References\n   [AUTHMECH] Rescorla, E., \"A Survey of Authentication\
    \ Mechanisms\",\n              Work in Progress, September 2005.\n   [QBSS]  \
    \   \"QBone Scavenger Service (QBSS) Definition\", Internet2\n              Technical\
    \ Report Proposed Service Definition, March 2001.\n   [RFC1633]  Braden, R., Clark,\
    \ D., and S. Shenker, \"Integrated\n              Services in the Internet Architecture:\
    \ an Overview\", RFC\n              1633, June 1994.\n   [RFC2205]  Braden, R.,\
    \ Zhang, L., Berson, S., Herzog, S., and S.\n              Jamin, \"Resource ReSerVation\
    \ Protocol (RSVP) -- Version 1\n              Functional Specification\", RFC\
    \ 2205, September 1997.\n   [RFC2581]  Allman, M., Paxson, V., and W. Stevens,\
    \ \"TCP Congestion\n              Control\", RFC 2581, April 1999.\n   [RFC2697]\
    \  Heinanen, J. and R. Guerin, \"A Single Rate Three Color\n              Marker\"\
    , RFC 2697, September 1999.\n   [RFC2698]  Heinanen, J. and R. Guerin, \"A Two\
    \ Rate Three Color\n              Marker\", RFC 2698, September 1999.\n   [RFC2963]\
    \  Bonaventure, O. and S. De Cnodder, \"A Rate Adaptive Shaper\n             \
    \ for Differentiated Services\", RFC 2963, October 2000.\n   [RFC2983]  Black,\
    \ D., \"Differentiated Services and Tunnels\", RFC\n              2983, October\
    \ 2000.\n   [RFC2996]  Bernet, Y., \"Format of the RSVP DCLASS Object\", RFC 2996,\n\
    \              November 2000.\n   [RFC3086]  Nichols, K. and B. Carpenter, \"\
    Definition of\n              Differentiated Services Per Domain Behaviors and\
    \ Rules for\n              their Specification\", RFC 3086, April 2001.\n   [RFC3168]\
    \  Ramakrishnan, K., Floyd, S., and D. Black, \"The Addition\n              of\
    \ Explicit Congestion Notification (ECN) to IP\", RFC\n              3168, September\
    \ 2001.\n   [RFC3175]  Baker, F., Iturralde, C., Le Faucheur, F., and B. Davie,\n\
    \              \"Aggregation of RSVP for IPv4 and IPv6 Reservations\", RFC\n \
    \             3175, September 2001.\n   [RFC3290]  Bernet, Y., Blake, S., Grossman,\
    \ D., and A. Smith, \"An\n              Informal Management Model for Diffserv\
    \ Routers\", RFC 3290,\n              May 2002.\n   [RFC3782]  Floyd, S., Henderson,\
    \ T., and A. Gurtov, \"The NewReno\n              Modification to TCP's Fast Recovery\
    \ Algorithm\", RFC 3782,\n              April 2004.\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Jozef Babiarz\n   Nortel Networks\n   3500 Carling Avenue\n\
    \   Ottawa, Ont.  K2H 8E9\n   Canada\n   Phone: +1-613-763-6098\n   Fax:   +1-613-765-7462\n\
    \   EMail: babiarz@nortel.com\n   Kwok Ho Chan\n   Nortel Networks\n   600 Technology\
    \ Park Drive\n   Billerica, MA  01821\n   US\n   Phone: +1-978-288-8175\n   Fax:\
    \   +1-978-288-8700\n   EMail: khchan@nortel.com\n   Fred Baker\n   Cisco Systems\n\
    \   1121 Via Del Rey\n   Santa Barbara, CA  93117\n   US\n   Phone: +1-408-526-4257\n\
    \   Fax:   +1-413-473-2403\n   EMail: fred@cisco.com\n"
- title: Full Copyright Statement
  contents:
  - "Full Copyright Statement\n   Copyright (C) The Internet Society (2006).\n   This\
    \ document is subject to the rights, licenses and restrictions\n   contained in\
    \ BCP 78, and except as set forth therein, the authors\n   retain all their rights.\n\
    \   This document and the information contained herein are provided on an\n  \
    \ \"AS IS\" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS\n  \
    \ OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET\n   ENGINEERING\
    \ TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED,\n   INCLUDING BUT NOT\
    \ LIMITED TO ANY WARRANTY THAT THE USE OF THE\n   INFORMATION HEREIN WILL NOT\
    \ INFRINGE ANY RIGHTS OR ANY IMPLIED\n   WARRANTIES OF MERCHANTABILITY OR FITNESS\
    \ FOR A PARTICULAR PURPOSE.\n"
- title: Intellectual Property
  contents:
  - "Intellectual Property\n   The IETF takes no position regarding the validity or\
    \ scope of any\n   Intellectual Property Rights or other rights that might be\
    \ claimed to\n   pertain to the implementation or use of the technology described\
    \ in\n   this document or the extent to which any license under such rights\n\
    \   might or might not be available; nor does it represent that it has\n   made\
    \ any independent effort to identify any such rights.  Information\n   on the\
    \ procedures with respect to rights in RFC documents can be\n   found in BCP 78\
    \ and BCP 79.\n   Copies of IPR disclosures made to the IETF Secretariat and any\n\
    \   assurances of licenses to be made available, or the result of an\n   attempt\
    \ made to obtain a general license or permission for the use of\n   such proprietary\
    \ rights by implementers or users of this\n   specification can be obtained from\
    \ the IETF on-line IPR repository at\n   http://www.ietf.org/ipr.\n   The IETF\
    \ invites any interested party to bring to its attention any\n   copyrights, patents\
    \ or patent applications, or other proprietary\n   rights that may cover technology\
    \ that may be required to implement\n   this standard.  Please address the information\
    \ to the IETF at\n   ietf-ipr@ietf.org.\n"
- title: Acknowledgement
  contents:
  - "Acknowledgement\n   Funding for the RFC Editor function is provided by the IETF\n\
    \   Administrative Support Activity (IASA).\n"
