- title: __initial_text__
  contents:
  - "            GEOPRIV Layer 7 Location Configuration Protocol:\n              \
    \     Problem Statement and Requirements\n"
- title: Abstract
  contents:
  - "Abstract\n   This document provides a problem statement, lists requirements,\
    \ and\n   captures design aspects for a GEOPRIV Layer 7 (L7) Location\n   Configuration\
    \ Protocol (LCP).  This protocol aims to allow an end\n   host to obtain location\
    \ information, by value or by reference, from a\n   Location Information Server\
    \ (LIS) that is located in the access\n   network.  The obtained location information\
    \ can then be used for a\n   variety of different protocols and purposes.  For\
    \ example, it can be\n   used as input to the Location-to-Service Translation\
    \ (LoST) Protocol\n   or to convey location within the Session Initiation Protocol\
    \ (SIP) to\n   other entities.\n"
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This document is not an Internet Standards Track specification;\
    \ it is\n   published for informational purposes.\n   This document is a product\
    \ of the Internet Engineering Task Force\n   (IETF).  It represents the consensus\
    \ of the IETF community.  It has\n   received public review and has been approved\
    \ for publication by the\n   Internet Engineering Steering Group (IESG).  Not\
    \ all documents\n   approved by the IESG are a candidate for any level of Internet\n\
    \   Standard; see Section 2 of RFC 5741.\n   Information about the current status\
    \ of this document, any errata,\n   and how to provide feedback on it may be obtained\
    \ at\n   http://www.rfc-editor.org/info/rfc5687.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (c) 2010 IETF Trust and the persons identified\
    \ as the\n   document authors.  All rights reserved.\n   This document is subject\
    \ to BCP 78 and the IETF Trust's Legal\n   Provisions Relating to IETF Documents\n\
    \   (http://trustee.ietf.org/license-info) in effect on the date of\n   publication\
    \ of this document.  Please review these documents\n   carefully, as they describe\
    \ your rights and restrictions with respect\n   to this document.  Code Components\
    \ extracted from this document must\n   include Simplified BSD License text as\
    \ described in Section 4.e of\n   the Trust Legal Provisions and are provided\
    \ without warranty as\n   described in the Simplified BSD License.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1. Introduction ....................................................3\n\
    \   2. Terminology .....................................................3\n  \
    \ 3. Scenarios .......................................................4\n    \
    \  3.1. Fixed-Wired Environment ....................................4\n      3.2.\
    \ Mobile Network .............................................7\n      3.3. Wireless\
    \ Access ............................................8\n   4. Discovery of the\
    \ Location Information Server ....................9\n   5. Identifier for Location\
    \ Determination ..........................11\n   6. Requirements ...................................................14\n\
    \   7. Security Considerations ........................................16\n  \
    \ 8. Contributors ...................................................17\n   9.\
    \ Acknowledgements ...............................................18\n   10. References\
    \ ....................................................18\n      10.1. Normative\
    \ References .....................................18\n      10.2. Informative\
    \ References ...................................18\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   This document provides a problem statement, lists requirements,\
    \ and\n   captures design aspects for a GEOPRIV Layer 7 (L7) Location\n   Configuration\
    \ Protocol (LCP).  The protocol has two purposes:\n   o  It is used by a device\
    \ to obtain its own location (referred as\n      \"Location by Value\" or LbyV)\
    \ from a dedicated node, called the\n      Location Information Server (LIS).\n\
    \   o  It enables the device to obtain a reference to location\n      information\
    \ (referred as \"Location by Reference\" or LbyR).  This\n      reference can\
    \ take the form of a subscription URI, such as a SIP\n      presence-based Uniform\
    \ Resource Identifier (URI), an HTTP/HTTPS\n      URI, or another URI.  The requirements\
    \ related to the task of\n      obtaining an LbyR are described in a separate\
    \ document, see\n      [LBYR-REQS].\n   The need for these two functions can be\
    \ derived from the scenarios\n   presented in Section 3.\n   For this document,\
    \ we assume that the GEOPRIV Layer 7 LCP runs\n   between the device and the LIS.\n\
    \   This document is structured as follows.  Section 4 discusses the\n   challenge\
    \ of discovering the LIS in the access network.  Section 5\n   compares different\
    \ types of identifiers that can be used to retrieve\n   location information.\
    \  A list of requirements for the L7 LCP can be\n   found in Section 6.\n   This\
    \ document does not describe how the access network provider\n   determines the\
    \ location of the device since this is largely a matter\n   of the capabilities\
    \ of specific link-layer technologies or certain\n   deployment environments.\n"
- title: 2.  Terminology
  contents:
  - "2.  Terminology\n   In this document, the key words \"MUST\", \"MUST NOT\", \"\
    REQUIRED\",\n   \"SHALL\", \"SHALL NOT\", \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\"\
    , \"MAY\",\n   and \"OPTIONAL\" are to be interpreted as described in RFC 2119\n\
    \   [RFC2119], with the qualification that unless otherwise stated these\n   words\
    \ apply to the design of the GEOPRIV Layer 7 Location\n   Configuration Protocol.\n\
    \   The term Location Information Server (LIS) refers to an entity\n   capable\
    \ of determining the location of a device and of providing that\n   location information,\
    \ a reference to it, or both via the Location\n   Configuration Protocol (LCP)\
    \ to the Target.\n   This document also uses terminology from [RFC5012] (such\
    \ as Internet\n   Access Provider (IAP), Internet Service Provider (ISP), and\n\
    \   Application Service Provider (ASP)).\n   With the term \"Access Network Provider\"\
    \ we refer to the IAP and the\n   ISP) without further distinguishing these two\
    \ entities, as it is not\n   relevant for the purpose of this document.  An additional\n\
    \   requirements document on LIS-to-LIS protocol [LIS2LIS] shows a\n   scenario\
    \ where the separation between IAP and ISP is important.\n"
- title: 3.  Scenarios
  contents:
  - "3.  Scenarios\n   This section describes a few network scenarios where the L7\
    \ LCP may\n   be used.  Note that this section does not aim to exhaustively list\n\
    \   all possible deployment environments.  Instead, we focus on the\n   following\
    \ environments:\n   o  DSL/Cable networks, WiMAX-like (Worldwide Interoperability\
    \ for\n      Microwave Access) fixed access\n   o  Airport, city, campus wireless\
    \ networks, such as 802.11a/b/g,\n      802.16e/WiMAX\n   o  3G networks\n   o\
    \  Enterprise networks\n   Note that we use the term 'host' instead of device\
    \ for better\n   readability.\n"
- title: 3.1.  Fixed-Wired Environment
  contents:
  - "3.1.  Fixed-Wired Environment\n   Figure 1 shows a Digital Subscriber Line (DSL)\
    \ network scenario with\n   the Access Network Provider and the customer premises.\
    \  The Access\n   Network Provider operates link- and network-layer devices\n\
    \   (represented as a node) and the LIS.\n   +---------------------------+\n \
    \  |                           |\n   |  Access Network Provider  |\n   |     \
    \                      |\n   |   +--------+              |\n   |   | Node   |\
    \              |\n   |   +--------+ +----------+ |\n   |       |  |   | LIS  \
    \    | |\n   |       |  +---|          | |\n   |       |      +----------+ |\n\
    \   |       |                   |\n   +-------+-------------------+\n        \
    \   | Wired Network\n   <----------------> Access Network Provider demarc\n  \
    \         |\n   +-------+-------------------+\n   |       |                  \
    \ |\n   |   +-------------+         |\n   |   | NTE         |         |\n   |\
    \   +-------------+         |\n   |       |                   |\n   |       |\
    \                   |\n   |   +--------------+        |\n   |   | Device with\
    \  | Home   |\n   |   | NAPT and     | Router |\n   |   | DHCP server  |     \
    \   |\n   |   +--------------+        |\n   |       |                   |\n  \
    \ |       |                   |\n   |    +------+               |\n   |    | Host\
    \ |               |\n   |    +------+               |\n   |                  \
    \         |\n   |Customer Premises Network  |\n   |                          \
    \ |\n   +---------------------------+\n   Figure 1: Fixed-Wired Scenario\n   The\
    \ customer premises network consists of a router with a Network\n   Address Translator\
    \ with Port Address Translation (NAPT) and a DHCP\n   server as used in most Customer\
    \ Premises Networks (CPNs) and the\n   Network Termination Equipment (NTE) where\
    \ Layer 1 and sometimes Layer\n   2 protocols are terminated.  The router in the\
    \ home network (e.g.,\n   broadband router, cable or DSL router) typically runs\
    \ a NAPT and a\n   DHCP server.  The NTE is a legacy device and in many cases\
    \ cannot be\n   modified for the purpose of delivering location information to\
    \ the\n   host.  The same is true of the device with the NAPT and DHCP server.\n\
    \   It is possible for the NTE and the home router to physically be in\n   the\
    \ same box, or for there to be no home router, or for the NTE and\n   host to\
    \ be in the same physical box (with no home router).  An\n   example of this last\
    \ case is where Ethernet service is delivered to\n   customers' homes, and the\
    \ Ethernet network interface card (NIC) in\n   their PC serves as the NTE.\n \
    \  Current CPN deployments generally fall into one of the following\n   classifications:\n\
    \   1.  Single PC\n       1.  with Ethernet network interface card (NIC), with\
    \ Point-to-\n           Point Protocol Over Ethernet (PPPoE), or Dynamic Host\n\
    \           Configuration Protocol (DHCP) on PC; there may be a bridged\n    \
    \       DSL or cable modem as the NTE, or the Ethernet NIC might be\n        \
    \   the NTE.\n       2.  with USB-based DSL access or a cable modem access using\n\
    \           Point-to-Point Protocol over ATM (PPPoA), PPPoE, or DHCP on\n    \
    \       PC.\n       Note that the device with NAPT and DHCP of Figure 1 is not\n\
    \       present in such a scenario.\n   2.  One or more hosts with at least one\
    \ router (DHCP client or PPPoE,\n       DHCP server in router; Voice over IP (VoIP)\
    \ can be a soft client\n       on a PC, a stand-alone VoIP device, or an Analog\
    \ Terminal Adaptor\n       (ATA) function embedded in a router):\n       1.  combined\
    \ router and NTE.\n       2.  separate router with NTE in bridged mode.\n    \
    \   3.  separate router with NTE (NTE/router does PPPoE or DHCP to\n         \
    \  WAN, router provides DHCP server for hosts in LAN; double\n           NAT).\n\
    \   The majority of fixed-access broadband customers use a router.  The\n   placement\
    \ of the VoIP client is mentioned to describe what sorts of\n   hosts may need\
    \ to be able to request location information.  Soft\n   clients on PCs are frequently\
    \ not launched until long after\n   bootstrapping is complete, and are not able\
    \ to control any options\n   that may be specified during bootstrapping.  They\
    \ also cannot control\n   whether a VPN client is running on the end host.\n"
- title: 3.2.  Mobile Network
  contents:
  - "3.2.  Mobile Network\n   One example of a moving network is a WiMAX-fixed wireless\
    \ scenario.\n   This also applies to \"pre-WiMAX\" and \"WiMAX-like\" fixed wireless\n\
    \   networks.  In implementations intended to provide broadband service\n   to\
    \ a home or other stationary location, the customer-side antenna/NTE\n   tends\
    \ to be rather small and portable.  The LAN-side output of this\n   device is\
    \ an Ethernet jack, which can be used to feed a PC or a\n   router.  The PC or\
    \ router then uses DHCP or PPPoE to connect to the\n   access network, the same\
    \ as for wired access networks.  Access\n   providers who deploy this technology\
    \ may use the same core network\n   (including network elements that terminate\
    \ PPPoE and provide IP\n   addresses) for DSL, fiber to the premises (FTTP), and\
    \ fixed wireless\n   customers.\n   Given that the customer antenna is portable\
    \ and can be battery-\n   powered, it is possible for a user to connect a laptop\
    \ to it and move\n   within the coverage area of a single base antenna.  This\
    \ coverage\n   area can be many square kilometers in size.  In this case, the\
    \ laptop\n   (and any SIP client running on it) would be completely unaware of\n\
    \   their mobility.  Only the user and the network are aware of the\n   laptop's\
    \ mobility.\n   Further examples of moving networks (where end devices may not\
    \ be\n   aware that they are moving) can be found in busses, trains, and\n   airplanes.\n\
    \   Figure 2 shows an example topology for a moving network.\n   +--------------------------+\n\
    \   | Wireless                 |\n   | Access Network Provider  |\n   |      \
    \                    |\n   |              +----------+|\n   |      +-------+ LIS\
    \      ||\n   |      |       |          ||\n   |  +---+----+  +----------+|\n\
    \   |  | Node   |              |\n   |  |        |              |\n   |  +---+----+\
    \              |\n   |      |                   |\n   +------+-------------------+\n\
    \          | Wireless Interface\n          |\n   +------+-------------------+\n\
    \   |      |    Moving Network |\n   |  +---+----+              |\n   |  | NTE\
    \    |   +--------+ |\n   |  |        +---+ Host   | |\n   |  +-+-----++   | \
    \ B     | |\n   |    |     \\    +--------+ |\n   |    |      \\             \
    \ |\n   |+---+----+  \\  +---+----+ |\n   || Host   |   \\ | Host   | |\n   ||\
    \  A     |    \\+  B     | |\n   |+--------+     +--------+ |\n   +--------------------------+\n\
    \   Figure 2: Moving Network\n"
- title: 3.3.  Wireless Access
  contents:
  - "3.3.  Wireless Access\n   Figure 3 shows a wireless access network where a moving\
    \ host obtains\n   location information or references to location information\
    \ from the\n   LIS.  The access equipment uses, in many cases, link-layer devices.\n\
    \   Figure 3 represents a hotspot network found, for example, in hotels,\n   airports,\
    \ and coffee shops.  For editorial reasons we only describe a\n   single access\
    \ point and do not depict how the LIS obtains location\n   information since this\
    \ is very deployment specific.\n   +--------------------------+\n   | Access Network\
    \ Provider  |\n   |                          |\n   |              +----------+|\n\
    \   |      +-------| LIS      ||\n   |      |       |          ||\n   |  +--------+\
    \  +----------+|\n   |  | Access |              |\n   |  | Point  |          \
    \    |\n   |  +--------+              |\n   |      |                   |\n   +------+-------------------+\n\
    \          |\n      +------+\n      | Host |\n      +------+\n   Figure 3: Wireless\
    \ Access Scenario\n"
- title: 4.  Discovery of the Location Information Server
  contents:
  - "4.  Discovery of the Location Information Server\n      Note that this section\
    \ lists mechanisms that were discussed in the\n      GEOPRIV Layer 7 Location\
    \ Configuration Protocol design team.  They\n      are included to show challenges\
    \ in the problem space and are\n      listed for completeness reasons.  They do\
    \ not in any way mean that\n      there is consensus about any of the mechanisms\
    \ or that the IETF\n      recommends any of the procedures described in this section.\n\
    \   When a device wants to retrieve location information from the LIS, it\n  \
    \ first needs to discover it.  Based on the problem statement of\n   determining\
    \ the location of the device, which is known best by\n   entities close to the\
    \ device itself, we assume that the LIS is\n   located in the local subnet or\
    \ in the access network.  Several\n   procedures have been investigated that aim\
    \ to discover the LIS in\n   such an access network.\n   DHCP-based Discovery:\n\
    \      In some environments, the Dynamic Host Configuration Protocol\n      (DHCP)\
    \ might be a good choice for discovering the fully-qualified\n      domain name\
    \ (FQDN) or the IP address of the LIS.  In environments\n      where DHCP can\
    \ be used, it is also possible to use the already\n      defined location extensions.\
    \  In environments with legacy devices,\n      such as the one shown in Section\
    \ 3.1, a DHCP-based discovery\n      solution may not be possible.\n   DNS-based\
    \ Discovery:\n      Before a Domain Name System (DNS) lookup can be started, it\
    \ is\n      necessary to learn the domain name of the access network that runs\n\
    \      an LIS.  Several ways to learn the domain name exist.  For\n      example,\
    \ the end host obtains its own public IP address via Simple\n      Traversal of\
    \ the UDP Protocol through NAT (STUN) [RFC5389], and\n      performs a reverse\
    \ DNS lookup (assuming the data is provisioned\n      into the DNS).  Then, the\
    \ DNS Service (SRV) record or the DNS\n      Naming Authority Pointer (NAPTR)\
    \ record for that domain is\n      retrieved.  A more detailed description of\
    \ this approach can be\n      found in [LIS-DISC].\n   Redirect Rule:\n      A\
    \ redirect rule at an entity in the access network could be used\n      to redirect\
    \ the L7 LCP signaling messages (destined to a specific\n      port) to the LIS.\
    \  The device could then discover the LIS by\n      sending a packet with a specific\
    \ (registered) port number to\n      almost any address as long as the destination\
    \ IP address does not\n      target an entity in the local network.  The packet\
    \ would be\n      redirected to the respective LIS being configured.  The same\n\
    \      procedure is used by captive portals whereby any HTTP traffic is\n    \
    \  intercepted and redirected.\n      To some extent, this approach is similar\
    \ to packets that are\n      marked with a Router Alert option [RFC2113] and intercepted\
    \ by\n      entities that understand the specific marking.  In the above-\n  \
    \    mentioned case, however, the marking is provided via a registered\n     \
    \ port number instead of relying on a Router Alert option.\n      This solution\
    \ approach would require a deep packet inspection\n      capability at an entity\
    \ in the access provider's networks that\n      scans for the occurrence of particular\
    \ destination port numbers.\n   Multicast Query:\n      A device could also discover\
    \ an LIS by sending a DNS query to a\n      well-known address.  An example of\
    \ such a mechanism is multicast\n      DNS (see [RFC4795] and [mDNS]).  Unfortunately,\
    \ these mechanisms\n      only work on the local link.\n   Anycast:\n      With\
    \ this solution, an anycast address is defined (for IPv4 and\n      IPv6) in the\
    \ style of [RFC3068] that allows the device to route\n      discovery packets\
    \ to the nearest LIS.  Note that this procedure\n      would be used purely for\
    \ discovery and is therefore similar to the\n      local Teredo server discovery\
    \ approach outlined in Section 4.2 of\n      [TEREDO-SEL].\n   The LIS discovery\
    \ procedure raises deployment and security issues.\n   The access network needs\
    \ to be designed to prevent man-in-the-middle\n   adversaries from presenting\
    \ themselves as an LIS to devices.  When a\n   device discovers an LIS, it needs\
    \ to ensure (and be able to ensure)\n   that the discovered entity is indeed an\
    \ authorized LIS.\n"
- title: 5.  Identifier for Location Determination
  contents:
  - "5.  Identifier for Location Determination\n      Note that this section lists\
    \ mechanisms that were discussed in the\n      GEOPRIV Layer 7 Location Configuration\
    \ Protocol design team.  They\n      are included to show challenges in the problem\
    \ space and are\n      listed for completeness reasons.  They do not in any way\
    \ mean that\n      there is consensus about any of the mechanisms or that the\
    \ IETF\n      recommends any of the procedures described in this section.\n  \
    \ The LIS returns location information to the device when it receives a\n   request.\
    \  Some form of identifier is therefore needed to allow the\n   LIS to retrieve\
    \ the device's current location, or a good\n   approximation, from a database.\n\
    \   The chosen identifier needs to have the following properties:\n   Ability\
    \ for Device to learn or know the identifier:\n      The device MUST know or MUST\
    \ be able to learn of the identifier\n      (explicitly or implicitly) in order\
    \ to send it to the LIS.\n      Implicitly refers to the situation where a device\
    \ along the path\n      between the device and the LIS modifies the identifier,\
    \ as it is\n      done by a NAT when an IP address based identifier is used.\n\
    \   Ability to use the identifier for location determination:\n      The LIS MUST\
    \ be able to use the identifier (directly or\n      indirectly) for location determination.\
    \  Indirectly refers to the\n      case where the LIS uses other identifiers internally\
    \ for location\n      determination, in addition to the one provided by the device.\n\
    \   Security properties of the identifier:\n      Misuse needs to be minimized\
    \ whereby an off-path adversary MUST\n      NOT be able to obtain location information\
    \ of other devices.  An\n      on-path adversary in the same subnet SHOULD NOT\
    \ be able to spoof\n      the identifier of another device in the same subnet.\n\
    \   The following list discusses frequently mentioned identifiers and\n   their\
    \ properties:\n   Media Access Control (MAC) Address:\n      The MAC address is\
    \ known to the device itself, but not carried\n      beyond a single IP hop and\
    \ therefore not accessible to the LIS in\n      most deployment environments (unless\
    \ carried in the L7 LCP\n      itself).\n   Asynchronous Transfer Mode (ATM) Virtual\
    \ Path Identifier / Virtual\n      Circuit Identifier (VPI/VCI):\n      The VCI/VPI\
    \ is generally only seen by the DSL modem.  Almost all\n      routers in the United\
    \ States use 1 of 2 VPI/VCI value pairs: 0/35\n      and 8/35.  This VC is terminated\
    \ at the digital subscriber line\n      access multiplexer (DSLAM), which uses\
    \ a different VPI/VCI (per\n      end customer) to connect to the ATM switch.\
    \  Only the network\n      provider is able to map VPI/VCI values through its\
    \ network.  With\n      the arrival of Very high rate Digital Subscriber Line\
    \ (VDSL), ATM\n      will slowly be phased out in favor of Ethernet.\n   Ethernet\
    \ Switch (Bridge)/Port Number:\n      This identifier is available only in certain\
    \ networks, such as\n      enterprise networks, typically available via the IEEE\
    \ 802.1AB\n      protocol [802.1AB] or proprietary protocols like the Cisco\n\
    \      Discovery Protocol (CDP) [CDP].\n   Cell ID:\n      This identifier is\
    \ available in cellular data networks and the\n      cell ID may not be visible\
    \ to the device.\n   Host Identifier:\n      The Host Identifier introduced by\
    \ the Host Identity Protocol (HIP)\n      [RFC5201] allows identification of a\
    \ particular host.\n      Unfortunately, the network can only use this identifier\
    \ for\n      location determination if the operator already stores a mapping of\n\
    \      host identities to location information.  Furthermore, there is a\n   \
    \   deployment problem since the host identities are not used in\n      today's\
    \ networks.\n   Cryptographically Generated Address (CGA):\n      The concept\
    \ of a Cryptographically Generated Address (CGA) was\n      introduced by [RFC3972].\
    \  The basic idea is to put the truncated\n      hash of a public key into the\
    \ interface identifier part of an IPv6\n      address.  In addition to the properties\
    \ of an IP address, it\n      allows a proof of ownership.  Hence, a return routability\
    \ check\n      can be omitted.  It is only available for IPv6 addresses.\n   Network\
    \ Access Identifiers:\n      A Network Access Identifier [RFC4282] is used during\
    \ the network\n      access authentication procedure, for example, in RADIUS [RFC2865]\n\
    \      and Diameter [RFC3588].  In DSL networks, the user credentials\n      are,\
    \ in many cases, only known by the home router and not\n      configured at the\
    \ device itself.  To the network, the\n      authenticated user identity is only\
    \ available if a network access\n      authentication procedure is executed. \
    \ In case of roaming, the\n      user's identity might not be available to the\
    \ access network since\n      security protocols might offer user identity confidentiality\
    \ and\n      thereby hide the real identity of the user allowing the access\n\
    \      network to only see a pseudonym or a randomized string.\n   Unique Client\
    \ Identifier\n      The Broadband Forum has defined that all devices that expect\
    \ to be\n      managed by the TR-069 interface, see [TR069], have to be able to\n\
    \      generate an identifier that uniquely identifies the device.  It\n     \
    \ also has a requirement that routers that use DHCP to the WAN use\n      RFC\
    \ 4361 [RFC4361] to provide the DHCP server with a unique client\n      identifier.\
    \  This identifier is, however, not visible to the\n      device when legacy NTE\
    \ devices are used.\n   IP Address:\n      The device's IP address may be used\
    \ for location determination.\n      This IP address is not visible to the LIS\
    \ if the device is behind\n      one or multiple NATs.  This may not be a problem\
    \ since the\n      location of a device that is located behind a NAT cannot be\n\
    \      determined by the access network.  The LIS would in this case only\n  \
    \    see the public IP address of the NAT binding allocated by the NAT,\n    \
    \  which is the expected behavior.  The property of the IP address\n      for\
    \ a return routability check is attractive to return location\n      information\
    \ only to the address that submitted the request.  If an\n      adversary wants\
    \ to learn the location of a device (as identified\n      by a particular IP address),\
    \ then it does not see the response\n      message (unless it is on the subnetwork\
    \ or at a router along the\n      path towards the LIS).\n      On a shared medium,\
    \ an adversary could ask for location\n      information of another device.  The\
    \ adversary would be able to see\n      the response message since it is sniffing\
    \ on the shared medium\n      unless security mechanisms, such as link-layer encryption,\
    \ are in\n      place.  With a network deployment as shown in Section 3.1 with\n\
    \      multiple devices in the Customer Premises being behind a NAT, the\n   \
    \   LIS is unable to differentiate the individual devices.  For WLAN\n      deployments\
    \ as found in hotels, as shown in Section 3.3, it is\n      possible for an adversary\
    \ to eavesdrop data traffic and\n      subsequently to spoof the IP address in\
    \ a query to the LIS to\n      learn more detailed location information (e.g.,\
    \ specific room\n      numbers).  Such an attack might, for example, compromise\
    \ the\n      privacy of hotel guests.\n"
- title: 6.  Requirements
  contents:
  - "6.  Requirements\n   The following requirements and assumptions have been identified:\n\
    \   Requirement L7-1: Identifier Choice\n      The L7 LCP MUST be able to carry\
    \ different identifiers or MUST\n      define an identifier that is mandatory\
    \ to implement.  Regarding\n      the latter aspect, such an identifier is only\
    \ appropriate if it is\n      from the same realm as the one for which the location\
    \ information\n      service maintains identifier-to-location mapping.\n   Requirement\
    \ L7-2: Mobility Support\n      The L7 LCP MUST support a broad range of mobility\
    \ from devices\n      that can only move between reboots, to devices that can\
    \ change\n      attachment points with the impact that their IP address is\n \
    \     changed, to devices that do not change their IP address while\n      roaming,\
    \ to devices that continuously move by being attached to\n      the same network\
    \ attachment point.\n   Requirement L7-3: ASP and Access Network Provider Relationship\n\
    \      The design of the L7 LCP MUST NOT assume that a business or trust\n   \
    \   relationship between the Application Service Provider (ASP) and\n      the\
    \ Access Network Provider.  Requirements for resolving a\n      reference to location\
    \ information are not discussed in this\n      document.\n   Requirement L7-4:\
    \ Layer 2 and Layer 3 Provider Relationship\n      The design of the L7 LCP MUST\
    \ assume that there is a trust and\n      business relationship between the L2\
    \ and the L3 provider.  The L3\n      provider operates the LIS that the device\
    \ queries.  It, in turn,\n      needs to obtain location information from the\
    \ L2 provider since\n      this one is closest to the device.  If the L2 and L3\
    \ provider for\n      the same device are different entities, they cooperate for\
    \ the\n      purposes needed to determine locations.\n   Requirement L7-5: Legacy\
    \ Device Considerations\n      The design of the L7 LCP MUST consider legacy devices,\
    \ such as\n      residential NAT devices and NTEs in a DSL environment, that cannot\n\
    \      be upgraded to support additional protocols, for example, to pass\n   \
    \   additional information towards the device.\n   Requirement L7-6: Virtual Private\
    \ Network (VPN) Awareness\n      The design of the L7 LCP MUST assume that at\
    \ least one end of a\n      VPN is aware of the VPN functionality.  In an enterprise\
    \ scenario,\n      the enterprise side will provide the LIS used by the device\
    \ and\n      can thereby detect whether the LIS request was initiated through\
    \ a\n      VPN tunnel.\n   Requirement L7-7: Network Access Authentication\n \
    \     The design of the L7 LCP MUST NOT assume that prior network access\n   \
    \   authentication.\n   Requirement L7-8: Network Topology Unawareness\n     \
    \ The design of the L7 LCP MUST NOT assume that devices are aware of\n      the\
    \ access network topology.  Devices are, however, able to\n      determine their\
    \ public IP address(es) via mechanisms, such as\n      Simple Traversal of User\
    \ Datagram Protocol (UDP) Through Network\n      Address Translators (NATs) (STUN)\
    \ [RFC5389] or Next Steps in\n      Signaling (NSIS) NAT/Firewall NSIS Signaling\
    \ Layer Protocol (NSLP)\n      [NSLP].\n   Requirement L7-9: Discovery Mechanism\n\
    \      The L7 LCP MUST define a mandatory-to-implement LIS discovery\n      mechanism.\n\
    \   Requirement L7-10: PIDF-LO Creation\n      When an LIS creates a Presence\
    \ Information Data Format (PIDF)\n      Location Object (LO) [RFC4119], then it\
    \ MUST put the <geopriv>\n      element into the <device> element of the presence\
    \ document (see\n      [RFC4479]).  This ensures that the resulting PIDF-LO document,\n\
    \      which is subsequently distributed to other entities, conforms to\n    \
    \  the rules outlined in [RFC5491].\n"
- title: 7.  Security Considerations
  contents:
  - "7.  Security Considerations\n   By using a Geolocation L7 Location Configuration\
    \ Protocol, the device\n   (and a human user of such a device, if applicable)\
    \ exposes themselves\n   to a privacy risk whereby an unauthorized entity receives\
    \ location\n   information.  Providing confidentiality protected location to the\n\
    \   requestor depends on the success of four steps:\n   1.  The client MUST have\
    \ a means to discover a LIS.\n   2.  The client MUST authenticate the discovered\
    \ LIS.\n   3.  The LIS MUST be able to determine location and return it to the\n\
    \       authorized entity.\n   4.  The LIS MUST securely exchange messages without\
    \ intermediaries\n       eavesdropping or tampering with them.\n   This document\
    \ contains various security-related requirements\n   throughout the document addressing\
    \ the above-mentioned steps.  For a\n   broader security discussion of the overall\
    \ geolocation privacy\n   architecture, the reader is referred to [GEOPRIV-ARCH].\n"
- title: 8.  Contributors
  contents:
  - "8.  Contributors\n   This contribution is a joint effort of the GEOPRIV Layer\
    \ 7 Location\n   Configuration Requirements Design Team of the IETF GEOPRIV Working\n\
    \   Group.  The contributors include Henning Schulzrinne, Barbara Stark,\n   Marc\
    \ Linsner, Andrew Newton, James Winterbottom, Martin Thomson,\n   Rohan Mahy,\
    \ Brian Rosen, Jon Peterson, and Hannes Tschofenig.\n   We would like to thank\
    \ the GEOPRIV Working Group Chairs, Andy Newton,\n   Randy Gellens, and Allison\
    \ Mankin, for creating the design team.\n   Furthermore, we would like thank Andy\
    \ Newton for his support during\n   the design team mailing list, for setting\
    \ up Jabber chat conferences,\n   and for participating in the phone conference\
    \ discussions.\n   The design team members can be reached at:\n   Marc Linsner:\
    \  mlinsner@cisco.com\n   Rohan Mahy:  rohan@ekabal.com\n   Andrew Newton:  andy@hxr.us\n\
    \   Jon Peterson:  jon.peterson@neustar.biz\n   Brian Rosen:  br@brianrosen.net\n\
    \   Henning Schulzrinne:  hgs@cs.columbia.edu\n   Barbara Stark:  Barbara.Stark@bellsouth.com\n\
    \   Martin Thomson:  Martin.Thomson@andrew.com\n   Hannes Tschofenig:  Hannes.Tschofenig@nsn.com\n\
    \   James Winterbottom:  James.Winterbottom@andrew.com\n"
- title: 9.  Acknowledgements
  contents:
  - "9.  Acknowledgements\n   We would also like to thank Murugaraj Shanmugam, Ted\
    \ Hardie, Martin\n   Dawson, Richard Barnes, James Winterbottom, Tom Taylor, Otmar\
    \ Lendl,\n   Marc Linsner, Brian Rosen, Roger Marshall, Guy Caron, Doug Stuard,\n\
    \   Eric Arolick, Dan Romascanu, Jerome Grenier, Martin Thomson, Barbara\n   Stark,\
    \ Michael Haberler, and Mary Barnes for their WGLC review\n   comments.\n   The\
    \ authors would like to thank NENA for their work on [NENA] as it\n   helped to\
    \ provide some of the initial thinking.\n   The authors would also like to thank\
    \ Cullen Jennings for his feedback\n   as part of the IESG processing.  Additionally,\
    \ we would like to thank\n   Alexey Melnikov, Dan Romascanu, and Robert Sparks.\n"
- title: 10.  References
  contents:
  - '10.  References

    '
- title: 10.1.  Normative References
  contents:
  - "10.1.  Normative References\n   [RFC2119]       Bradner, S., \"Key words for\
    \ use in RFCs to Indicate\n                   Requirement Levels\", BCP 14, RFC\
    \ 2119, March 1997.\n   [RFC5012]       Schulzrinne, H. and R. Marshall, \"Requirements\
    \ for\n                   Emergency Context Resolution with Internet\n       \
    \            Technologies\", RFC 5012, January 2008.\n"
- title: 10.2.  Informative References
  contents:
  - "10.2.  Informative References\n   [802.1AB]       \"IEEE 802.1AB-2005 IEEE Standard\
    \ for Local and\n                   Metropolitan Area Networks Station and Media\
    \ Access\n                   Control Connectivity Discovery\", May 2005, <http://\n\
    \                   standards.ieee.org/getieee802/download/\n                \
    \   802.1AB-2005.pdf>.\n   [CDP]           Wikipedia, \"Cisco Discovery Protocol\
    \ (CDP)\", <http://\n                   en.wikipedia.org/wiki/Cisco_Discovery_Protocol>.\n\
    \   [GEOPRIV-ARCH]  Barnes, R., Lepinski, M., Cooper, A., Morris, J.,\n      \
    \             Tschofenig, H., and H. Schulzrinne, \"An Architecture\n        \
    \           for Location and Location Privacy in Internet\n                  \
    \ Applications\", Work in Progress, October 2009.\n   [LBYR-REQS]     Marshall,\
    \ R., Ed., \"Requirements for a Location-by-\n                   Reference Mechanism\"\
    , Work in Progress,\n                   November 2009.\n   [LIS-DISC]      Thomson,\
    \ M. and J. Winterbottom, \"Discovering the\n                   Local Location\
    \ Information Server (LIS)\", Work\n                   in Progress, February 2010.\n\
    \   [LIS2LIS]       Winterbottom, J. and S. Norreys, \"LIS to LIS Protocol\n \
    \                  Requirements\", Work in Progress, November 2007.\n   [NENA]\
    \          \"NENA 08-505, Issue 1, 2006 (December 21, 2006), NENA\n          \
    \         Recommended Method(s) for Location Determination to\n              \
    \     Support IP-Based Emergency Services - Technical\n                   Information\
    \ Document (TID)\", December 2006, <http://\n                   www.nena.org/sites/default/files/\n\
    \                   08-505_20061221.pdf>.\n   [NSLP]          Stiemerling, M.,\
    \ Tschofenig, H., Aoun, C., and E.\n                   Davies, \"NAT/Firewall\
    \ NSIS Signaling Layer Protocol\n                   (NSLP)\", Work in Progress,\
    \ February 2010.\n   [RFC2113]       Katz, D., \"IP Router Alert Option\", RFC\
    \ 2113,\n                   February 1997.\n   [RFC2865]       Rigney, C., Willens,\
    \ S., Rubens, A., and W. Simpson,\n                   \"Remote Authentication\
    \ Dial In User Service\n                   (RADIUS)\", RFC 2865, June 2000.\n\
    \   [RFC3068]       Huitema, C., \"An Anycast Prefix for 6to4 Relay\n        \
    \           Routers\", RFC 3068, June 2001.\n   [RFC3588]       Calhoun, P., Loughney,\
    \ J., Guttman, E., Zorn, G., and\n                   J. Arkko, \"Diameter Base\
    \ Protocol\", RFC 3588,\n                   September 2003.\n   [RFC3972]    \
    \   Aura, T., \"Cryptographically Generated Addresses\n                   (CGA)\"\
    , RFC 3972, March 2005.\n   [RFC4119]       Peterson, J., \"A Presence-based GEOPRIV\
    \ Location\n                   Object Format\", RFC 4119, December 2005.\n   [RFC4282]\
    \       Aboba, B., Beadles, M., Arkko, J., and P. Eronen,\n                  \
    \ \"The Network Access Identifier\", RFC 4282,\n                   December 2005.\n\
    \   [RFC4361]       Lemon, T. and B. Sommerfeld, \"Node-specific Client\n    \
    \               Identifiers for Dynamic Host Configuration Protocol\n        \
    \           Version Four (DHCPv4)\", RFC 4361, February 2006.\n   [RFC4479]  \
    \     Rosenberg, J., \"A Data Model for Presence\", RFC 4479,\n              \
    \     July 2006.\n   [RFC4795]       Aboba, B., Thaler, D., and L. Esibov, \"\
    Link-local\n                   Multicast Name Resolution (LLMNR)\", RFC 4795,\n\
    \                   January 2007.\n   [RFC5201]       Moskowitz, R., Nikander,\
    \ P., Jokela, P., and T.\n                   Henderson, \"Host Identity Protocol\"\
    , RFC 5201,\n                   April 2008.\n   [RFC5389]       Rosenberg, J.,\
    \ Mahy, R., Matthews, P., and D. Wing,\n                   \"Session Traversal\
    \ Utilities for NAT (STUN)\",\n                   RFC 5389, October 2008.\n  \
    \ [RFC5491]       Winterbottom, J., Thomson, M., and H. Tschofenig,\n        \
    \           \"GEOPRIV Presence Information Data Format Location\n            \
    \       Object (PIDF-LO) Usage Clarification, Considerations,\n              \
    \     and Recommendations\", RFC 5491, March 2009.\n   [TEREDO-SEL]    Ward, N.,\
    \ \"Teredo Server Selection\", Work\n                   in Progress, July 2007.\n\
    \   [TR069]         \"TR-069, CPE WAN Management Protocol v1.1, Version:\n   \
    \                Issue 1 Amendment 2\", December 2007, <http://\n            \
    \       www.broadband-forum.org/technical/download/\n                   TR-069_Amendment-2.pdf>.\n\
    \   [mDNS]          Cheshire, S. and M. Krochmal, \"Multicast DNS\", Work\n  \
    \                 in Progress, September 2009.\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Hannes Tschofenig\n   Nokia Siemens Networks\n   Linnoitustie\
    \ 6\n   Espoo  02600\n   Finland\n   Phone: +358 (50) 4871445\n   EMail: Hannes.Tschofenig@gmx.net\n\
    \   URI:   http://www.tschofenig.priv.at\n   Henning Schulzrinne\n   Columbia\
    \ University\n   Department of Computer Science\n   450 Computer Science Building\n\
    \   New York, NY  10027\n   US\n   Phone: +1 212 939 7004\n   EMail: hgs+ecrit@cs.columbia.edu\n\
    \   URI:   http://www.cs.columbia.edu\n"
