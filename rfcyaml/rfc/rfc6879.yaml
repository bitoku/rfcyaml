- title: __initial_text__
  contents:
  - "             IPv6 Enterprise Network Renumbering Scenarios,\n               \
    \       Considerations, and Methods\n"
- title: Abstract
  contents:
  - "Abstract\n   This document analyzes events that cause renumbering and describes\n\
    \   the current renumbering methods.  These are described in three\n   categories:\
    \ those applicable during network design, those applicable\n   during preparation\
    \ for renumbering, and those applicable during the\n   renumbering operation.\n"
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This document is not an Internet Standards Track specification;\
    \ it is\n   published for informational purposes.\n   This document is a product\
    \ of the Internet Engineering Task Force\n   (IETF).  It represents the consensus\
    \ of the IETF community.  It has\n   received public review and has been approved\
    \ for publication by the\n   Internet Engineering Steering Group (IESG).  Not\
    \ all documents\n   approved by the IESG are a candidate for any level of Internet\n\
    \   Standard; see Section 2 of RFC 5741.\n   Information about the current status\
    \ of this document, any errata,\n   and how to provide feedback on it may be obtained\
    \ at\n   http://www.rfc-editor.org/info/rfc6879.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (c) 2013 IETF Trust and the persons identified\
    \ as the\n   document authors.  All rights reserved.\n   This document is subject\
    \ to BCP 78 and the IETF Trust's Legal\n   Provisions Relating to IETF Documents\n\
    \   (http://trustee.ietf.org/license-info) in effect on the date of\n   publication\
    \ of this document.  Please review these documents\n   carefully, as they describe\
    \ your rights and restrictions with respect\n   to this document.  Code Components\
    \ extracted from this document must\n   include Simplified BSD License text as\
    \ described in Section 4.e of\n   the Trust Legal Provisions and are provided\
    \ without warranty as\n   described in the Simplified BSD License.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1. Introduction ....................................................2\n\
    \   2. Enterprise Network Illustration for Renumbering .................3\n  \
    \ 3. Enterprise Network Renumbering Scenario Categories ..............5\n    \
    \  3.1. Renumbering Caused by External Network Factors .............5\n      3.2.\
    \ Renumbering Caused by Internal Network Factors .............5\n   4. Network\
    \ Renumbering Considerations and Current Methods ..........6\n      4.1. Considerations\
    \ and Current Methods during Network Design ...6\n      4.2. Considerations and\
    \ Current Methods for the\n           Preparation of Renumbering ................................10\n\
    \      4.3. Considerations and Current Methods during\n           Renumbering\
    \ Operation .....................................11\n   5. Security Considerations\
    \ ........................................13\n   6. Acknowledgements ...............................................14\n\
    \   7. References .....................................................14\n  \
    \    7.1. Normative References ......................................14\n    \
    \  7.2. Informative References ....................................15\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   Site renumbering is difficult.  Network managers frequently\
    \ attempt\n   to avoid future renumbering by numbering their network resources\
    \ from\n   Provider-Independent (PI) address space.  However, widespread use of\n\
    \   PI address space would aggravate BGP4 scaling problems [RFC4116] and,\n  \
    \ depending on Regional Internet Registry (RIR) policies, PI space is\n   not\
    \ always available for enterprises of all sizes.  Therefore, it is\n   desirable\
    \ to develop mechanisms that simplify IPv6 renumbering for\n   enterprises.\n\
    \   This document is an analysis of IPv6 site renumbering for enterprise\n   networks.\
    \  It undertakes scenario descriptions, including\n   documentation of current\
    \ capabilities and existing practices.  The\n   reader is assumed to be familiar\
    \ with [RFC4192] and [RFC5887].\n   Proposals for new technology and methods are\
    \ out of scope.\n   Since IPv4 and IPv6 are logically separate from the perspective\
    \ of\n   renumbering, regardless of overlapping of the IPv4/IPv6 networks or\n\
    \   devices, this document focuses on IPv6 only, leaving IPv4 out of\n   scope.\
    \  Dual-stack networks or IPv4/IPv6 transition scenarios are out\n   of scope\
    \ as well.\n   This document focuses on enterprise network renumbering; however,\n\
    \   most of the analysis is also applicable to ISP network renumbering.\n   Renumbering\
    \ in home networks is out of scope, but it can also benefit\n   from the analysis\
    \ in this document.\n   The concept of an enterprise network and a typical network\n\
    \   illustration are introduced first.  Then, current renumbering methods\n  \
    \ are introduced according to the following categories: those\n   applicable during\
    \ network design, those applicable during preparation\n   for renumbering, and\
    \ those applicable during the renumbering\n   operation.\n"
- title: 2.  Enterprise Network Illustration for Renumbering
  contents:
  - "2.  Enterprise Network Illustration for Renumbering\n   An Enterprise Network,\
    \ as defined in [RFC4057], is a network that has\n   multiple internal links,\
    \ has one or more router connections to one or\n   more Providers, and is actively\
    \ managed by a network operations\n   entity.\n   Figure 1 provides a sample enterprise\
    \ network architecture for a\n   simple case.  Those entities mainly affected\
    \ by renumbering are\n   illustrated:\n   * Gateway (Border router, firewall,\
    \ web cache, etc.)\n   * Application server (for internal or external users)\n\
    \   * DNS and DHCP servers\n   * Routers\n   * Hosts (desktops, etc.)\n      \
    \                Uplink 1            Uplink 2\n                         |    \
    \               |\n                     +---+---+           +---+---+\n      \
    \         +---- |Gateway| --------- |Gateway| -----+\n               |     +-------+\
    \           +-------+      |\n               |          Enterprise Network   \
    \         |\n               |   +------+     +------+    +------+    |\n     \
    \          |   | APP  |     |DHCPv6|    |  DNS |    |\n               |   |Server|\
    \     |Server|    |Server|    |\n               |   +---+--+     +---+--+    +--+---+\
    \    |\n               |       |            |          |        |\n          \
    \     |    ---+--+---------+------+---+-       |\n               |          |\
    \                |            |\n               |       +--+---+        +---+--+\
    \         |\n               |       |Router|        |Router|         |\n     \
    \          |       +--+---+        +---+--+         |\n               |      \
    \    |                |            |\n               |     -+---+----+-------+---+--+-\
    \        |\n               |      |        |       |      |         |\n      \
    \         |    +-+--+  +--+-+  +--+-+  +-+--+      |\n               |    |Host|\
    \  |Host|  |Host|  |Host|      |\n               |    +----+  +----+  +----+ \
    \ +----+      |\n               +----------------------------------------+\n \
    \              Figure 1.  Enterprise Network Illustration\n   Address reconfiguration\
    \ is fulfilled either by the Dynamic Host\n   Configuration Protocol for IPv6\
    \ (DHCPv6) or by Neighbor Discovery\n   (ND) for IPv6 protocols.  During a renumbering\
    \ event, the Domain Name\n   Service (DNS) records need to be synchronized while\
    \ routing tables,\n   Access Control Lists (ACLs), and IP filtering tables in\
    \ various\n   devices also need to be updated.  It is taken for granted that\n\
    \   applications will work entirely on the basis of DNS names, but any\n   direct\
    \ dependencies on IP addresses in application-layer entities\n   must also be\
    \ updated.\n   The issue of static addresses is described in a dedicated document\n\
    \   [RFC6866].\n   The emerging cloud-based enterprise network architecture might\
    \ be\n   different than Figure 1.  However, it is out of the scope of this\n \
    \  document since it is far from mature and has not been widely deployed\n   yet.\n\
    \   It is assumed that IPv6 enterprise networks are IPv6-only or dual-\n   stack\
    \ in which a logical IPv6 plane is independent from IPv4.  As\n   mentioned above,\
    \ IPv4/IPv6 coexistence scenarios are out of scope.\n   This document focuses\
    \ on routable unicast addresses; link-local,\n   multicast, and anycast addresses\
    \ are also out of scope.\n"
- title: 3.  Enterprise Network Renumbering Scenario Categories
  contents:
  - "3.  Enterprise Network Renumbering Scenario Categories\n   In this section, we\
    \ divide enterprise network renumbering scenarios\n   into two categories defined\
    \ by external and internal network factors,\n   which require renumbering for\
    \ different reasons.\n"
- title: 3.1.  Renumbering Caused by External Network Factors
  contents:
  - "3.1.  Renumbering Caused by External Network Factors\n   The following ISP uplink-related\
    \ events can cause renumbering:\n   o  The enterprise network switches to a new\
    \ ISP.  When this occurs,\n      the enterprise stops numbering its resources\
    \ from the prefix\n      allocated by the old ISP and renumbers its resources\
    \ from the\n      prefix allocated by the new ISP.\n      When the enterprise\
    \ switches ISPs, a \"flag day\" renumbering event\n      [RFC4192] may be averted\
    \ if, during a transitional period, the\n      enterprise network may number its\
    \ resources from either prefix.\n      One way to facilitate such a transitional\
    \ period is for the\n      enterprise to contract service from both ISPs during\
    \ the\n      transition.\n   o  The renumbering event can be initiated by receiving\
    \ new prefixes\n      from the same uplink.  This might happen if the enterprise\
    \ network\n      is switched to a different location within the network topology\
    \ of\n      the same ISP due to various considerations, such as commercial,\n\
    \      performance or services reasons, etc.  Alternatively, the ISP\n      itself\
    \ might be renumbered due to topology changes or migration to\n      a different\
    \ or additional prefix.  These ISP renumbering events\n      would initiate enterprise\
    \ network renumbering events, of course.\n   o  The enterprise network adds a\
    \ new uplink(s) for multihoming\n      purposes.  This might not be a typical\
    \ renumbering case because\n      the original addresses will not be changed.\
    \  However, initial\n      numbering may be considered as a special renumbering\
    \ event.  The\n      enterprise network removes uplink(s) or old prefixes.\n"
- title: 3.2.  Renumbering Caused by Internal Network Factors
  contents:
  - "3.2.  Renumbering Caused by Internal Network Factors\n   o  As companies split,\
    \ merge, grow, relocate, or reorganize, the\n      enterprise network architectures\
    \ might need to be rebuilt.  This\n      will trigger partial or total internal\
    \ renumbering.\n   o  The enterprise network might proactively adopt a new address\n\
    \      scheme, for example, by switching to a new transition mechanism or\n  \
    \    stage of a transition plan.\n   o  The enterprise network might reorganize\
    \ its topology or subnets.\n"
- title: 4.  Network Renumbering Considerations and Current Methods
  contents:
  - "4.  Network Renumbering Considerations and Current Methods\n   In order to carry\
    \ out renumbering in an enterprise network,\n   systematic planning and administrative\
    \ preparation are needed.\n   Careful planning and preparation could make the\
    \ renumbering process\n   smoother.\n   This section describes current considerations\
    \ and methods for\n   enterprise renumbering, chosen among existing mechanisms.\
    \  There are\n   known gaps analyzed by [GAP-ANALYSIS] and [RFC6866].  If these\
    \ gaps\n   are filled in the future, enterprise renumbering could be processed\n\
    \   more automatically, with fewer issues.\n"
- title: 4.1.  Considerations and Current Methods during Network Design
  contents:
  - "4.1.  Considerations and Current Methods during Network Design\n   This section\
    \ describes the considerations or issues relevant to\n   renumbering that a network\
    \ architect should carefully plan when\n   building or designing a new network.\n\
    \   - Prefix Delegation (PD)\n   In a large or a multisite enterprise network,\
    \ the prefix should be\n   carefully managed, particularly for renumbering events.\
    \  Prefix\n   information needs to be delegated from router to router.  The DHCPv6\n\
    \   PD options ([RFC3633] and [RFC6603]) provide a mechanism for\n   automated\
    \ delegation of IPv6 prefixes.  Normally, DHCPv6 PD options\n   are used between\
    \ the internal enterprise routers; for example, a\n   router receives a prefix(es)\
    \ from its upstream router (a border\n   gateway or edge router, etc.) through\
    \ DHCPv6 PD options and then\n   advertises it (them) to the local hosts through\
    \ Router Advertisement\n   (RA) messages.\n   - Usage of Fully Qualified Domain\
    \ Names (FQDNs)\n   In general, FQDNs are recommended to be used to configure\
    \ network\n   connectivity, such as tunnels, servers, etc.  The capability to\
    \ use\n   FQDNs as endpoint names has been standardized in several RFCs (e.g.,\n\
    \   for IPsec [RFC5996]) although many system/network administrators do\n   not\
    \ realize that it is there and it works well as a way to avoid\n   manual modification\
    \ during renumbering.\n   Note that using FQDNs would rely on DNS systems.  For\
    \ a link-local\n   network that does not have a DNS system, multicast DNS [RFC6762]\n\
    \   could be utilized.  For some specific circumstances, using FQDNs\n   might\
    \ not be chosen if adding DNS service in the node/network would\n   cause undesired\
    \ complexity or issues.\n   Service discovery protocols such as the Service Location\
    \ Protocol\n   [RFC2608], multicast DNS with Service Records (SRVs), and DNS Service\n\
    \   Discovery [RFC6763] use names and can reduce the number of places\n   that\
    \ IP addresses need to be configured.  However, it should be noted\n   that these\
    \ protocols are normally used link-local only.\n   Network designers generally\
    \ have little control over the design of\n   application software.  However, it\
    \ is important to avoid any software\n   that has a built-in dependency on IP\
    \ addresses instead of FQDNs\n   [RFC6866].\n   - Usage of Parameterized Address\
    \ Configuration\n   Besides DNS records, IP addresses might also be configured\
    \ in many\n   other places such as ACLs, various IP filters, various kinds of\
    \ text-\n   based configuration files, etc.\n   In some cases, one IP address\
    \ can be defined as a value once, and\n   then the administrators can use either\
    \ keywords or variables to call\n   the value in other places such as a sort of\
    \ internal inheritance CLI\n   (command line interface) or other local configuration.\
    \  Among the\n   real current devices, some routers support defining multiple\
    \ loopback\n   interfaces that can be called in other configurations.  For example,\n\
    \   when defining a tunnel, it can call the defined loopback interface to\n  \
    \ use its address as the local address of the tunnel.\n   This kind of parameterized\
    \ address configuration is recommended,\n   since it makes managing a renumbering\
    \ event easier by reducing the\n   number of places where a device's configuration\
    \ must be updated.\n   - Usage of Unique Local Addresses (ULAs)\n   ULAs are defined\
    \ in [RFC4193] as PI prefixes.  Since there is a\n   40-bit pseudorandom field\
    \ in the ULA prefix, there is no practical\n   risk of collision (please refer\
    \ to Section 3.2.3 in [RFC4193] for\n   more detail).  For enterprise networks,\
    \ using ULA simultaneously with\n   PA addresses can provide a local routing plane\
    \ logically separated\n   from the global routing plane.  The benefit is to ensure\
    \ stable and\n   specific local communication regardless of any ISP uplink failure.\n\
    \   This benefit is especially meaningful for renumbering.  It mainly\n   includes\
    \ three use cases described below.\n   o  During the transition period, it is\
    \ desirable to isolate local\n      communication changes in the global routing\
    \ plane.  If we use ULA\n      for the local communication, this isolation is\
    \ achieved.\n   o  Enterprise administrators might want to avoid the need to renumber\n\
    \      their internal-only, private nodes when they have to renumber the\n   \
    \   PA addresses of the whole network because of changing ISPs, ISPs\n      restructuring\
    \ their address allocation, or any other reasons.  In\n      these situations,\
    \ a ULA is an effective tool for the internal-only\n      nodes.\n   o  ULAs can\
    \ be a way of avoiding renumbering from having an impact on\n      multicast.\
    \  In most deployments, multicast is only used internally\n      (intra-domain),\
    \ and the addresses used for multicast sources and\n      Rendezvous Points need\
    \ not be reachable nor routable externally.\n      Hence, one may, at least internally,\
    \ make use of ULAs for\n      multicast-specific infrastructure.\n   - Address\
    \ Types\n   This document focuses on the dynamically configured global unicast\n\
    \   addresses in enterprise networks.  They are the targets of\n   renumbering\
    \ events.\n   Manually configured addresses are not scalable in medium to large\n\
    \   sites; hence, they should be avoided for both network elements and\n   application\
    \ servers [RFC6866].\n   - Address configuration models\n   In IPv6 networks,\
    \ there are two autoconfiguration models for address\n   assignment after each\
    \ host obtains a link-local address: Stateless\n   Address Autoconfiguration (SLAAC)\
    \ [RFC4862] by ND [RFC4861] and\n   stateful address configuration by DHCPv6 [RFC3315].\
    \  In the latest\n   work, DHCPv6 may also support the host-generated address\
    \ model by\n   assigning a prefix through DHCPv6 messages [PREFIX-DHCPV6].\n \
    \  SLAAC is considered to support easy renumbering by broadcasting an RA\n   message\
    \ with a new prefix.  DHCPv6 can also trigger the renumbering\n   process by sending\
    \ unicast RECONFIGURE messages, though it might\n   cause a large number of interactions\
    \ between hosts and the DHCPv6\n   server.\n   This document has no preference\
    \ between the SLAAC and DHCPv6 address\n   configuration models.  It is the network\
    \ architect's job to decide\n   which configuration model is employed.  However,\
    \ it should be noticed\n   that using DHCPv6 and SLAAC together within one network,\
    \ especially\n   in one subnet, might cause operational issues.  For example,\
    \ some\n   hosts use DHCPv6 as the default configuration model while some use\n\
    \   ND.  Then, the host's address configuration model depends on the\n   policies\
    \ of operating systems and cannot be controlled by the\n   network.  Section 5.1\
    \ of [GAP-ANALYSIS] discusses more details on\n   this topic.  So, in general,\
    \ this document recommends using DHCPv6 or\n   SLAAC independently in different\
    \ subnets.\n   However, since DHCPv6 is also used to configure many other network\n\
    \   parameters, there are ND and DHCPv6 coexistence scenarios.\n   Combinations\
    \ of address configuration models might coexist within a\n   single enterprise\
    \ network.  [SAVI] provides recommendations to avoid\n   collisions and to review\
    \ collision handling in such scenarios.\n   - DNS\n   Although the A6 DNS record\
    \ model [RFC2874] was designed for easier\n   renumbering, it left many unsolved\
    \ technical issues [RFC3364].\n   Therefore, it has been moved to Historic status\
    \ [RFC6563] and should\n   not be used.\n   Often, a small site depends on its\
    \ ISP's DNS system rather than\n   maintaining its own.  When renumbering, this\
    \ requires administrative\n   coordination between the site and its ISP.\n   It\
    \ is recommended that the site have an automatic and systematic\n   procedure\
    \ for updating/synchronizing its DNS records, including both\n   forward and reverse\
    \ mapping.  In order to simplify the operational\n   procedure, the network architect\
    \ should combine the forward and\n   reverse DNS updates in a single procedure.\
    \  A manual on-demand\n   updating model does not scale and increases the chance\
    \ of errors.\n   Either a database-driven mechanism, a secure dynamic DNS update\n\
    \   [RFC3007], or both could be used.\n   A dynamic DNS update can be provided\
    \ by the DHCPv6 client or by the\n   server on behalf of individual hosts.  [RFC4704]\
    \ defines a DHCPv6\n   option to be used by DHCPv6 clients and servers to exchange\n\
    \   information about the client's FQDN and about who has the\n   responsibility\
    \ for updating the DNS with the associated AAAA and PTR\n   (Pointer Record) RRs\
    \ (Resource Records).  For example, if a client\n   wants the server to update\
    \ the FQDN-address mapping in the DNS\n   server, it can include the Client FQDN\
    \ option with proper settings in\n   the SOLICIT with Rapid Commit, REQUEST, RENEW,\
    \ and REBIND message\n   originated by the client.  When the DHCPv6 server gets\
    \ this option,\n   it can use a secure dynamic DNS update on behalf of the client.\
    \  This\n   document suggests use of this FQDN option.  However, since it is a\n\
    \   DHCPv6 option, only the DHCP-managed hosts can make use of it.  In\n   SLAAC\
    \ mode, hosts need either to use a secure dynamic DNS update\n   directly, or\
    \ to register addresses on a registration server.  This\n   could in fact be a\
    \ DHCPv6 server (as described in [ADDR-REG]); then\n   the server would update\
    \ corresponding DNS records.\n   - Security\n   Any automatic renumbering scheme\
    \ has a potential exposure to\n   hijacking.  A malicious entity in the network\
    \ could forge prefixes to\n   renumber the hosts, so proper network security mechanisms\
    \ are needed.\n   Further details are in the Security Considerations section below.\n\
    \   - Miscellaneous\n   A site or network should also avoid embedding addresses\
    \ from other\n   sites or networks in its own configuration data.  Instead, the\
    \ FQDNs\n   should be used.  Thus, connections can be restored after renumbering\n\
    \   events at other sites.  This also applies to host-based connectivity.\n"
- title: 4.2.  Considerations and Current Methods for the Preparation of
  contents:
  - "4.2.  Considerations and Current Methods for the Preparation of\n      Renumbering\n\
    \   In ND, it is not possible to reduce a prefix's lifetime to below two\n   hours.\
    \  So, renumbering should not be an unplanned sudden event.\n   This issue could\
    \ only be avoided by early planning and preparation.\n   This section describes\
    \ several recommendations for the preparation of\n   an enterprise renumbering\
    \ event.  By adopting these recommendations,\n   a site could be renumbered more\
    \ easily.  However, these\n   recommendations might increase the daily traffic,\
    \ server load, or\n   burden of network operation.  Therefore, only those networks\
    \ that are\n   expected to be renumbered soon, or very frequently, should adopt\n\
    \   these recommendations, with balanced consideration between daily cost\n  \
    \ and renumbering cost.\n   - Reduce the address preferred time or valid time\
    \ or both\n   Long-lifetime addresses might cause issues for renumbering events.\n\
    \   Particularly, some offline hosts might reconnect using these\n   addresses\
    \ after renumbering events.  Shorter, preferred lifetimes\n   with relatively\
    \ long valid lifetimes may allow short transition\n   periods for renumbering\
    \ events and avoid frequent address renewals.\n   - Reduce the DNS record Time\
    \ to Live (TTL) on the local DNS server\n   The DNS AAAA RR TTL on the local DNS\
    \ server should be manipulated to\n   ensure that stale addresses are not cached.\n\
    \   Recent research [BA2011] [JSBM2002] indicates that it is both\n   practical\
    \ and reasonable for A, AAAA, and PTRs that belong to leaf\n   nodes of the DNS\
    \ (i.e., not including the DNS root or DNS top-level\n   domains) to be configured\
    \ with very short DNS TTL values, not only\n   during renumbering events but also\
    \ for longer-term operation.\n   - Reduce the DNS configuration lifetime on the\
    \ hosts\n   Since the DNS server could be renumbered as well, the DNS\n   configuration\
    \ lifetime of the hosts should also be reduced if\n   renumbering events are expected.\
    \  In ND, the DNS configuration can be\n   done through reducing the lifetime\
    \ value in the Recursive DNS Server\n   (RDNSS) option [RFC6106].  In DHCPv6,\
    \ the DNS configuration option\n   specified in [RFC3646] doesn't provide a lifetime\
    \ attribute, but we\n   can reduce the DHCPv6 client lease time to achieve a similar\
    \ effect.\n   - Identify long-living sessions\n   Any applications that maintain\
    \ very long transport connections (hours\n   or days) should be identified in\
    \ advance, if possible.  Such\n   applications will need special handling during\
    \ renumbering, so it is\n   important to know that they exist.\n"
- title: 4.3.  Considerations and Current Methods during Renumbering Operation
  contents:
  - "4.3.  Considerations and Current Methods during Renumbering Operation\n   Renumbering\
    \ events are not instantaneous events.  Normally, there is\n   transition period\
    \ in which both the old prefix and the new prefix are\n   used in the site.  Better\
    \ network design and management, better\n   preparation, and a longer transition\
    \ period are helpful to reduce the\n   issues during a renumbering operation.\n\
    \   - Within/Without a flag day\n   As is described in [RFC4192] \"a 'flag day'\
    \ is a procedure in which\n   the network, or a part of it, is changed during\
    \ a planned outage, or\n   suddenly, causing an outage while the network recovers\"\
    .\n   If a renumbering event is processed within a flag day, the network\n   service/connectivity\
    \ will be unavailable for a period until the\n   renumbering event is completed.\
    \  It is efficient and provides\n   convenience for network operation and management.\
    \  However, a network\n   outage is usually unacceptable for end users and enterprises.\
    \  A\n   renumbering procedure without a flag day provides smooth address\n  \
    \ switching, but much more operational complexity and difficulty is\n   introduced.\n\
    \   - Transition period\n   If a renumbering transition period is longer than\
    \ all address\n   lifetimes, after which the address leases expire, each host\
    \ will\n   automatically pick up its new IP address.  In this case, it would be\n\
    \   the DHCPv6 server or RA itself that automatically accomplishes client\n  \
    \ renumbering.\n   Address deprecation should be associated with the deprecation\
    \ of\n   associated DNS records.  The DNS records should be deprecated as\n  \
    \ early as possible, before the addresses themselves.\n   - Network initiative\
    \ enforced renumbering\n   If the network has to enforce renumbering before address\
    \ leases\n   expire, the network should initiate DHCPv6 RECONFIGURE messages.\
    \  For\n   some operating systems such as Windows 7, if the hosts receive RA\n\
    \   messages with ManagedFlag=0, they will release the DHCPv6 addresses\n   and\
    \ utilize SLAAC according to the prefix information in the RA\n   messages, so\
    \ this could be another enforcement method for some\n   specific scenarios.\n\
    \   - Impact on main and branch sites\n   Renumbering in the main site might cause\
    \ impact on branch site\n   communications, and vice versa.  The routes, ingress\
    \ filtering of the\n   site's gateways, and DNS might need to be updated.  This\
    \ needs\n   careful planning and organizing.\n   - DNS record update and DNS configuration\
    \ on hosts\n   DNS records on the local DNS server should be updated if hosts\
    \ are\n   renumbered.  If the site depends on an ISP's DNS system, it should\n\
    \   report the new hosts' DNS records to its ISP.  During the transition\n   period,\
    \ both old and new DNS records are valid.  If the TTLs of DNS\n   records are\
    \ shorter than the transition period, an administrative\n   operation might not\
    \ be necessary.\n   DNS configuration on hosts should be updated if local recursive\
    \ DNS\n   servers are renumbered.  During the transition period, both old and\n\
    \   new DNS server addresses might coexist on the hosts.  If the lifetime\n  \
    \ of DNS configuration is shorter than the transition period, name\n   resolving\
    \ failure may be reduced to a minimum.\n   - Tunnel concentrator renumbering\n\
    \   A tunnel concentrator itself might be renumbered.  This change should\n  \
    \ be reconfigured in relevant hosts or routers, unless the\n   configuration of\
    \ the tunnel concentrator was based on FQDN.\n   For IPsec, Internet Key Exchange\
    \ Protocol version 2 (IKEv2) [RFC5996]\n   defines the ID_FQDN Identification\
    \ type, which could be used to\n   identify an IPsec VPN concentrator associated\
    \ with a site's domain\n   name.  For current practice, the community needs to\
    \ change its bad\n   habit of using IPsec in an address-oriented way, and renumbering\
    \ is\n   one of the main reasons for that.\n   - Connectivity session survivability\n\
    \   During the renumbering operations, connectivity sessions in the IP\n   layer\
    \ would break if the old address is deprecated before the session\n   ends.  However,\
    \ the upper-layer sessions can survive by using session\n   survivability technologies,\
    \ such as Stanza Headers and Internet\n   Metadata 6 (SHIM6) [RFC5533].  As mentioned\
    \ above, some long-living\n   applications may need to be handled specially.\n\
    \   - Verification of success\n   The renumbering operation should end with a\
    \ thorough check that all\n   network elements and hosts are using only the new\
    \ prefixes and that\n   network management and monitoring systems themselves are\
    \ still\n   operating correctly.  A database clean up may also be needed.\n"
- title: 5.  Security Considerations
  contents:
  - "5.  Security Considerations\n   Any automatic renumbering scheme has a potential\
    \ exposure to\n   hijacking by an insider attack.  For attacks on ND, SEcure Neighbor\n\
    \   Discovery (SEND) [RFC3971] is a possible solution, but it is complex\n   and\
    \ there is almost no real deployment at the time of writing.\n   Compared to the\
    \ nontrivial deployment of SEND, RA-Guard [RFC6105] is\n   a lightweight alternative\
    \ that focuses on preventing rogue router\n   advertisements in a network.  However,\
    \ it is also not widely deployed\n   at the time when this memo was published.\n\
    \   For DHCPv6, there are built-in secure mechanisms (like Secure DHCPv6\n   [SECURE-DHCPV6]),\
    \ and authentication of DHCPv6 messages [RFC3315]\n   could be utilized.  However,\
    \ these security mechanisms also have not\n   been verified by widespread deployment\
    \ at the time of writing.\n   A site that is listed by IP address in a blacklist\
    \ can escape that\n   list by renumbering itself.  However, the new prefix might\
    \ be back on\n   a blacklist rather soon if the root cause for being added to\
    \ such a\n   list is not corrected.  In practice, the cost of renumbering will\n\
    \   typically be much larger than the cost of getting off the blacklist.\n   A\
    \ Dynamic DNS update might bring risk of a Denial-of-Service (DoS)\n   attack\
    \ to the DNS server.  So, along with the update authentication,\n   session filtering/limitation\
    \ might also be needed.\n   The \"make-before-break\" approach of [RFC4192] requires\
    \ the routers to\n   keep advertising the old prefixes for some time.  However,\
    \ if the ISP\n   changes the prefixes very frequently, the coexistence of old\
    \ and new\n   prefixes might cause potential risk to the enterprise routing system,\n\
    \   since the old address relevant route path might already be invalid\n   and\
    \ the routing system just doesn't know it.  However, normally,\n   enterprise\
    \ scenarios don't involve this extreme situation.\n"
- title: 6.  Acknowledgements
  contents:
  - "6.  Acknowledgements\n   This work is inspired by RFC 5887; thank you to the\
    \ authors (Randall\n   Atkinson and Hannu Flinck).  Useful ideas were also presented\
    \ in\n   documents by Tim Chown and Fred Baker.  The authors also want to\n  \
    \ thank Wesley George, Olivier Bonaventure, Lee Howard, Ronald Bonica,\n   other\
    \ 6renum members, and several reviewers for their valuable\n   comments.\n"
- title: 7.  References
  contents:
  - '7.  References

    '
- title: 7.1.  Normative References
  contents:
  - "7.1.  Normative References\n   [RFC2608]   Guttman, E., Perkins, C., Veizades,\
    \ J., and M. Day,\n               \"Service Location Protocol, Version 2\", RFC\
    \ 2608, June\n               1999.\n   [RFC3007]   Wellington, B., \"Secure Domain\
    \ Name System (DNS) Dynamic\n               Update\", RFC 3007, November 2000.\n\
    \   [RFC3315]   Droms, R., Ed., Bound, J., Volz, B., Lemon, T., Perkins,\n   \
    \            C., and M. Carney, \"Dynamic Host Configuration Protocol\n      \
    \         for IPv6 (DHCPv6)\", RFC 3315, July 2003.\n   [RFC3633]   Troan, O.\
    \ and R. Droms, \"IPv6 Prefix Options for Dynamic\n               Host Configuration\
    \ Protocol (DHCP) version 6\", RFC 3633,\n               December 2003.\n   [RFC3646]\
    \   Droms, R., Ed., \"DNS Configuration options for Dynamic\n               Host\
    \ Configuration Protocol for IPv6 (DHCPv6)\", RFC 3646,\n               December\
    \ 2003.\n   [RFC3971]   Arkko, J., Ed., Kempf, J., Zill, B., and P. Nikander,\n\
    \               \"SEcure Neighbor Discovery (SEND)\", RFC 3971, March 2005.\n\
    \   [RFC4057]   Bound, J., Ed., \"IPv6 Enterprise Network Scenarios\", RFC\n \
    \              4057, June 2005.\n   [RFC4193]   Hinden, R. and B. Haberman, \"\
    Unique Local IPv6 Unicast\n               Addresses\", RFC 4193, October 2005.\n\
    \   [RFC4704]   Volz, B., \"The Dynamic Host Configuration Protocol for\n    \
    \           IPv6 (DHCPv6) Client Fully Qualified Domain Name (FQDN)\n        \
    \       Option\", RFC 4704, October 2006.\n   [RFC4861]   Narten, T., Nordmark,\
    \ E., Simpson, W., and H. Soliman,\n               \"Neighbor Discovery for IP\
    \ version 6 (IPv6)\", RFC 4861,\n               September 2007.\n   [RFC4862]\
    \   Thomson, S., Narten, T., and T. Jinmei, \"IPv6 Stateless\n               Address\
    \ Autoconfiguration\", RFC 4862, September 2007.\n   [RFC5996]   Kaufman, C.,\
    \ Hoffman, P., Nir, Y., and P. Eronen,\n               \"Internet Key Exchange\
    \ Protocol Version 2 (IKEv2)\", RFC\n               5996, September 2010.\n  \
    \ [RFC6106]   Jeong, J., Park, S., Beloeil, L., and S. Madanapalli,\n        \
    \       \"IPv6 Router Advertisement Options for DNS\n               Configuration\"\
    , RFC 6106, November 2010.\n"
- title: 7.2.  Informative References
  contents:
  - "7.2.  Informative References\n   [RFC2874]   Crawford, M. and C. Huitema, \"\
    DNS Extensions to Support\n               IPv6 Address Aggregation and Renumbering\"\
    , RFC 2874, July\n               2000.\n   [RFC3364]   Austein, R., \"Tradeoffs\
    \ in Domain Name System (DNS)\n               Support for Internet Protocol version\
    \ 6 (IPv6)\", RFC\n               3364, August 2002.\n   [RFC4116]   Abley, J.,\
    \ Lindqvist, K., Davies, E., Black, B., and V.\n               Gill, \"IPv4 Multihoming\
    \ Practices and Limitations\", RFC\n               4116, July 2005.\n   [RFC4192]\
    \   Baker, F., Lear, E., and R. Droms, \"Procedures for\n               Renumbering\
    \ an IPv6 Network without a Flag Day\", RFC\n               4192, September 2005.\n\
    \   [RFC5533]   Nordmark, E. and M. Bagnulo, \"Shim6: Level 3 Multihoming\n  \
    \             Shim Protocol for IPv6\", RFC 5533, June 2009.\n   [RFC5887]   Carpenter,\
    \ B., Atkinson, R., and H. Flinck, \"Renumbering\n               Still Needs Work\"\
    , RFC 5887, May 2010.\n   [RFC6105]   Levy-Abegnoli, E., Van de Velde, G., Popoviciu,\
    \ C., and\n               J. Mohacsi, \"IPv6 Router Advertisement Guard\", RFC\
    \ 6105,\n               February 2011.\n   [RFC6563]   Jiang, S., Conrad, D.,\
    \ and B. Carpenter, \"Moving A6 to\n               Historic Status\", RFC 6563,\
    \ March 2012.\n   [RFC6603]   Korhonen, J., Ed., Savolainen, T., Krishnan, S.,\
    \ and O.\n               Troan, \"Prefix Exclude Option for DHCPv6-based Prefix\n\
    \               Delegation\", RFC 6603, May 2012.\n   [RFC6762]   Cheshire, S.\
    \ and M. Krochmal, \"Multicast DNS\", RFC 6762,\n               February 2013.\n\
    \   [RFC6763]   Cheshire, S. and M. Krochmal, \"DNS-Based Service\n          \
    \     Discovery\", RFC 6763, February 2013.\n   [RFC6866]   Carpenter, B., and\
    \ S. Jiang, \"Problem Statement for\n               Renumbering IPv6 Hosts with\
    \ Static Addresses in\n               Enterprise Networks\", RFC 6866, February\
    \ 2013.\n   [ADDR-REG]\n               Jiang, S., Chen, G., and S. Krishnan \"\
    A Generic IPv6\n               Addresses Registration Solution Using DHCPv6\"\
    , Work in\n               Progress, February 2013.\n   [BA2011]    S. Bhatti,\
    \ and R. Atkinson, \"Reducing DNS Caching\", Proc.\n               14th IEEE Global\
    \ Internet Symposium (GI2011), Shanghai,\n               China, April 15 2011.\n\
    \   [GAP-ANALYSIS]\n               Liu, B., Jiang, S., Carpenter, B. Venaas, S.,\
    \ and W.\n               George, \"IPv6 Site Renumbering Gap Analysis\", Work\
    \ in\n               Progress, December 2012.\n   [JSBM2002]  J. Jung, E. Sit,\
    \ H. Balakrishnan, and R. Morris, \"DNS\n               Performance and the Effectiveness\
    \ of Caching\", IEEE/ACM\n               Transactions on Networking, 10(5):589-603,\
    \ 2002.\n   [PREFIX-DHCPV6]\n               Jiang, S., Xia, F., and B. Sarikaya,\
    \ \"Prefix Assignment\n               in DHCPv6\", Work in Progress, February\
    \ 2013.\n   [SAVI]      Bi, J., Yao, G., Halpern, J., and E. Levy-Abegnoli, \"\
    SAVI\n               for Mixed Address Assignment Methods Scenario\", Work in\n\
    \               Progress, November 2012.\n   [SECURE-DHCPV6]\n               Jiang,\
    \ S., and S. Shen, \"Secure DHCPv6 Using CGAs\", Work\n               in Progress,\
    \ March 2012.\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Sheng Jiang\n   Huawei Technologies Co., Ltd.\n   Q14,\
    \ Huawei Campus\n   No.156 Beiqing Rd.\n   Hai-Dian District, Beijing 100095\n\
    \   P.R. China\n   EMail: jiangsheng@huawei.com\n   Bing Liu\n   Huawei Technologies\
    \ Co., Ltd.\n   Q14, Huawei Campus\n   No.156 Beiqing Rd.\n   Hai-Dian District,\
    \ Beijing 100095\n   P.R. China\n   EMail: leo.liubing@huawei.com\n   Brian Carpenter\n\
    \   Department of Computer Science\n   University of Auckland\n   PB 92019\n \
    \  Auckland, 1142\n   New Zealand\n   EMail: brian.e.carpenter@gmail.com\n"
