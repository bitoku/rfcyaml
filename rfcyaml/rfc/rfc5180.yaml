- title: __initial_text__
  contents:
  - '     IPv6 Benchmarking Methodology for Network Interconnect Devices

    '
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This memo provides information for the Internet community.\
    \  It does\n   not specify an Internet standard of any kind.  Distribution of\
    \ this\n   memo is unlimited.\n"
- title: Abstract
  contents:
  - "Abstract\n   The benchmarking methodologies defined in RFC 2544 are IP version\n\
    \   independent.  However, RFC 2544 does not address some of the\n   specificities\
    \ of IPv6.  This document provides additional\n   benchmarking guidelines, which\
    \ in conjunction with RFC 2544, lead to\n   a more complete and realistic evaluation\
    \ of the IPv6 performance of\n   network interconnect devices.  IPv6 transition\
    \ mechanisms are outside\n   the scope of this document.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1. Introduction ....................................................2\n\
    \   2. Existing Definitions ............................................3\n  \
    \ 3. Tests and Results Evaluation ....................................3\n   4.\
    \ Test Environment Setup ..........................................3\n   5. Test\
    \ Traffic ....................................................4\n      5.1. Frame\
    \ Formats and Sizes ....................................4\n           5.1.1. Frame\
    \ Sizes to Be Used on Ethernet ..................5\n           5.1.2. Frame Sizes\
    \ to Be Used on SONET .....................5\n      5.2. Protocol Addresses Selection\
    \ ...............................6\n           5.2.1. DUT Protocol Addresses ..............................6\n\
    \           5.2.2. Test Traffic Protocol Addresses .....................7\n  \
    \    5.3. Traffic with Extension Headers .............................7\n    \
    \  5.4. Traffic Setup ..............................................9\n   6. Modifiers\
    \ .......................................................9\n      6.1. Management\
    \ and Routing Traffic .............................9\n      6.2. Filters ...................................................10\n\
    \           6.2.1. Filter Format ......................................10\n  \
    \         6.2.2. Filter Types .......................................11\n   7.\
    \ Benchmarking Tests .............................................12\n      7.1.\
    \ Throughput ................................................13\n      7.2. Latency\
    \ ...................................................13\n      7.3. Frame Loss\
    \ ................................................13\n      7.4. Back-to-Back\
    \ Frames .......................................13\n      7.5. System Recovery\
    \ ...........................................14\n      7.6. Reset .....................................................14\n\
    \   8. IANA Considerations ............................................14\n  \
    \ 9. Security Considerations ........................................14\n   10.\
    \ Conclusions ...................................................15\n   11. Acknowledgements\
    \ ..............................................15\n   12. References ....................................................15\n\
    \      12.1. Normative References .....................................15\n  \
    \    12.2. Informative References ...................................16\n   Appendix\
    \ A.  Theoretical Maximum Frame Rates Reference ............17\n      A.1.  Ethernet\
    \ .................................................17\n      A.2.  Packet over\
    \ SONET ........................................18\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   The benchmarking methodologies defined by RFC 2544 [9] are\
    \ proving to\n   be useful in consistently evaluating IPv4 forwarding performance\
    \ of\n   network elements.  Adherence to these testing and result analysis\n \
    \  procedures facilitates objective comparison of IPv4 performance data\n   measured\
    \ on various products and by various individuals.  While the\n   principles behind\
    \ the methodologies introduced in RFC 2544 are\n   largely IP version independent,\
    \ the protocol has continued to evolve,\n   particularly in its version 6 (IPv6).\n\
    \   This document provides benchmarking methodology recommendations that\n   address\
    \ IPv6-specific aspects, such as evaluating the forwarding\n   performance of\
    \ traffic containing extension headers, as defined in\n   RFC 2460 [2].  These\
    \ recommendations are defined within the RFC 2544\n   framework, and they complement\
    \ the test and result analysis\n   procedures as described in RFC 2544.\n   The\
    \ terms used in this document remain consistent with those defined\n   in \"Benchmarking\
    \ Terminology for Network Interconnect Devices\", RFC\n   1242 [7].  This terminology\
    \ SHOULD be consulted before using or\n   applying the recommendations of this\
    \ document.\n   Any methodology aspects not covered in this document SHOULD be\n\
    \   assumed to be treated based on the RFC 2544 recommendations.\n"
- title: 2.  Existing Definitions
  contents:
  - "2.  Existing Definitions\n   The key words \"MUST\", \"MUST NOT\", \"REQUIRED\"\
    , \"SHALL\", \"SHALL NOT\",\n   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"\
    MAY\", and \"OPTIONAL\" in this\n   document are to be interpreted as described\
    \ in BCP 14, RFC 2119 [1].\n   RFC 2119 defines the use of these key words to\
    \ help make the intent\n   of standards track documents as clear as possible.\
    \  While this\n   document uses these key words, this document is not a standards\
    \ track\n   document.\n"
- title: 3.  Tests and Results Evaluation
  contents:
  - "3.  Tests and Results Evaluation\n   The recommended performance evaluation tests\
    \ are described in Section\n   7 of this document.  Not all of these tests are\
    \ applicable to all\n   network element types.  Nevertheless, for each evaluated\
    \ device, it\n   is recommended to perform as many of the applicable tests described\n\
    \   in Section 6 as possible.\n   Test execution and results analysis MUST be\
    \ performed while observing\n   generally accepted testing practices regarding\
    \ repeatability,\n   variance, and statistical significance of small numbers of\
    \ trials.\n"
- title: 4.  Test Environment Setup
  contents:
  - "4.  Test Environment Setup\n   The test environment setup options recommended\
    \ for the IPv6\n   performance evaluation are the same as those described in Section\
    \ 6\n   of RFC 2544, in both single-port and multi-port scenarios.\n   Single-port\
    \ testing measures per-interface forwarding performance,\n   while multi-port\
    \ testing measures the scalability of forwarding\n   performance across the entire\
    \ platform.\n   Throughout the test, the Device Under Test (DUT) can be monitored\
    \ for\n   relevant resource (processor, memory, etc.) utilization.  This data\n\
    \   could be beneficial in understanding traffic processing by each DUT\n   and\
    \ the resources that must be allocated for IPv6.  It could reveal\n   if the IPv6\
    \ traffic is processed in hardware, by applicable devices,\n   under all test\
    \ conditions, or if it is punted in the software-\n   switched path.  If such\
    \ data is considered of interest, it MUST be\n   collected out of band and be\
    \ independent of any management data\n   collected through the interfaces forwarding\
    \ the test traffic.\n   Note: During testing, either static or dynamic options\
    \ for neighbor\n   discovery can be used.  In the static case, the IPv6 neighbor\n\
    \   information for the test tool is manually configured on the DUT, and\n   the\
    \ IPv6 neighbor information for the DUT is manually configured on\n   the test\
    \ tool.  In the dynamic case, the IPv6 neighbor information is\n   dynamically\
    \ discovered by each device through the neighbor discovery\n   protocol.  The\
    \ static option can be used as long as it is supported\n   by the test tool. \
    \ The dynamic option is preferred wherein the test\n   tool interacts with the\
    \ DUT for the duration of the test to maintain\n   the respective neighbor caches\
    \ in an active state.  To avoid neighbor\n   solicitation (NS) and neighbor advertisement\
    \ (NA) storms due to the\n   neighbor unreachability detection (NUD) mechanism\
    \ [6], the test\n   scenarios assume test traffic simulates end points and IPv6\
    \ source\n   and destination addresses that are one hop beyond the DUT.\n"
- title: 5.  Test Traffic
  contents:
  - "5.  Test Traffic\n   Traffic used for all tests described in this document SHOULD\
    \ meet the\n   requirements described in this section.  These requirements are\n\
    \   designed to reflect the characteristics of IPv6 unicast traffic.\n   Using\
    \ the recommended IPv6 traffic profile leads to a complete\n   evaluation of the\
    \ network element performance.\n"
- title: 5.1.  Frame Formats and Sizes
  contents:
  - "5.1.  Frame Formats and Sizes\n   Two types of media are commonly deployed, and\
    \ each SHOULD be tested\n   if the network element supports that type of media:\
    \ Ethernet and\n   SONET (Synchronous Optical Network).  This section identifies\
    \ the\n   frame sizes that SHOULD be used for each media type.  Refer to\n   recommendations\
    \ in RFC 2544 for all other media types.\n   Similar to IPv4, small frame sizes\
    \ help characterize the per-frame\n   processing overhead of the DUT.  Note that\
    \ the minimum IPv6 packet\n   size (40 bytes) is larger than that of an IPv4 packet\
    \ (20 bytes).\n   Tests should compensate for this difference.\n   The frame sizes\
    \ listed for IPv6 include the extension headers used in\n   testing (see Section\
    \ 5.3).  By definition, extension headers are part\n   of the IPv6 packet payload.\
    \  Depending on the total length of the\n   extension headers, their use might\
    \ not be possible at the smallest\n   frame sizes.\n   Note: Test tools commonly\
    \ use signatures to identify test traffic\n   packets to verify that there are\
    \ no packet drops or out-of-order\n   packets, or to calculate various statistics\
    \ such as delay and jitter.\n   This could be the reason why the minimum frame\
    \ size selectable\n   through the test tool might not be as low as the theoretical\
    \ one\n   presented in this document.\n"
- title: 5.1.1.  Frame Sizes to Be Used on Ethernet
  contents:
  - "5.1.1.  Frame Sizes to Be Used on Ethernet\n   Ethernet, in all its types, has\
    \ become the most commonly deployed\n   media in today's networks.  The following\
    \ frame sizes SHOULD be used\n   for benchmarking over this media type: 64, 128,\
    \ 256, 512, 1024, 1280,\n   and 1518 bytes.\n   Note: The recommended 1518-byte\
    \ frame size represents the maximum\n   size of an untagged Ethernet frame.  According\
    \ to the IEEE 802.3as\n   standard [13], the frame size can be increased up to\
    \ 2048 bytes to\n   accommodate frame tags and other encapsulation required by\
    \ the IEEE\n   802.1AE MAC [14] security protocol.  A frame size commonly used\
    \ in\n   operational environments is 1522 bytes, the max length for a\n   VLAN-tagged\
    \ frame, as per 802.1D [15].\n   Note: While jumbo frames are outside the scope\
    \ of the 802.3 IEEE\n   standard, tests SHOULD be executed with frame sizes selected\
    \ based on\n   the values supported by the device under test.  Examples of commonly\n\
    \   used jumbo frame sizes are: 4096, 8192, and 9216 bytes.\n   The maximum frame\
    \ rates for each frame size and the various Ethernet\n   interface types are provided\
    \ in Appendix A.\n"
- title: 5.1.2.  Frame Sizes to Be Used on SONET
  contents:
  - "5.1.2.  Frame Sizes to Be Used on SONET\n   Packet over SONET (PoS) interfaces\
    \ are commonly used for edge uplinks\n   and high-bandwidth core links.  Evaluating\
    \ the forwarding performance\n   of PoS interfaces supported by the DUT is recommended.\
    \  The following\n   frame sizes SHOULD be used for this media type: 47, 64, 128,\
    \ 256,\n   512, 1024, 1280, 1518, 2048, 4096 bytes.\n   The theoretical maximum\
    \ frame rates for each frame size and the\n   various PoS interface types are\
    \ provided in Appendix A.\n"
- title: 5.2.  Protocol Addresses Selection
  contents:
  - "5.2.  Protocol Addresses Selection\n   There are two aspects of IPv6 benchmarking\
    \ testing where IP address\n   selection considerations MUST be analyzed: the\
    \ selection of IP\n   addresses for the DUT and the selection of addresses for\
    \ test\n   traffic.\n"
- title: 5.2.1.  DUT Protocol Addresses
  contents:
  - "5.2.1.  DUT Protocol Addresses\n   IANA reserved an IPv6 address block for use\
    \ with IPv6 benchmark\n   testing (see Section 8).  It MAY be assumed that addresses\
    \ in this\n   block are not globally routable, and they MUST NOT be used as\n\
    \   Internet source or destination addresses.\n   Similar to Appendix C of RFC\
    \ 2544, addresses from the first half of\n   this range SHOULD be used for the\
    \ ports viewed as input and addresses\n   from the other half of the range for\
    \ the output ports.\n   The prefix length of the IPv6 addresses configured on\
    \ the DUT\n   interfaces MUST fall into either of the following:\n      o  Prefix\
    \ length is /126, which would simulate a point-to-point\n         link for a core\
    \ router.\n      o  Prefix length is smaller or equal to /64.\n   No prefix lengths\
    \ SHOULD be selected in the range between 64 and 128\n   except the 126 value\
    \ mentioned above.\n   Note that /126 prefixes might not always be the best choice\
    \ for\n   addressing point-to-point links such as back-to-back Ethernet unless\n\
    \   the auto-provisioning mechanism is disabled.  Also, not all network\n   elements\
    \ support addresses of this prefix length.\n   While with IPv6, the DUT interfaces\
    \ can be configured with multiple\n   global unicast addresses, the methodology\
    \ described in this document\n   does not require testing such a scenario.  It\
    \ is not expected that\n   such an evaluation would bring additional data regarding\
    \ the\n   performance of the network element.\n   The Interface ID portion of\
    \ global unicast IPv6 DUT addresses SHOULD\n   be set to ::1.  There are no requirements\
    \ in the selection of the\n   Interface ID portion of the link local IPv6 addresses.\n\
    \   It is recommended that multiple iterations of the benchmark tests be\n   conducted\
    \ using the following prefix lengths: 48, 64, 126, and 128\n   for the advertised\
    \ traffic destination prefix.  Other prefix lengths\n   can be used.  However,\
    \ the indicated range reflects major prefix\n   boundaries expected to be present\
    \ in IPv6 routing tables, and they\n   should be representative to establish baseline\
    \ performance metrics.\n"
- title: 5.2.2.  Test Traffic Protocol Addresses
  contents:
  - "5.2.2.  Test Traffic Protocol Addresses\n   IPv6 source and destination addresses\
    \ for the test streams SHOULD\n   belong to the IPv6 range assigned by IANA, as\
    \ defined in Section 8.\n   The source addresses SHOULD belong to one half of\
    \ the range and the\n   destination addresses to the other, reflecting the DUT\
    \ interface IPv6\n   address selection.\n   Tests SHOULD first be executed with\
    \ a single stream leveraging a\n   single source-destination address pair.  The\
    \ tests SHOULD then be\n   repeated with traffic using a random destination address\
    \ in the\n   corresponding range.  If the network element prefix lookup\n   capabilities\
    \ are evaluated, the tests SHOULD focus on the IPv6\n   relevant prefix boundaries:\
    \ 0-64, 126, and 128.\n   Note: When statically defined neighbors are not used,\
    \ the parameters\n   affecting Neighbor Unreachability Detection should be consistently\n\
    \   set.  The IPv6 prefix-reachable time in the router advertisement\n   SHOULD\
    \ be set to 30 seconds.\n"
- title: 5.3.  Traffic with Extension Headers
  contents:
  - "5.3.  Traffic with Extension Headers\n   Extension headers are an intrinsic part\
    \ of the IPv6 architecture [2].\n   They are used with various types of practical\
    \ traffic such as:\n   fragmented traffic, mobile IP-based traffic, and authenticated\
    \ and\n   encrypted traffic.  For these reasons, all tests described in this\n\
    \   document SHOULD be performed with both traffic that has no extension\n   headers\
    \ and traffic that has a set of extension headers.  Extension\n   header types\
    \ can be selected from the following list [2] that\n   reflects the recommended\
    \ order of multiple extension headers in a\n   packet:\n      o  Hop-by-hop header\n\
    \      o  Destination options header\n      o  Routing header\n      o  Fragment\
    \ header\n      o  Authentication header\n      o  Encapsulating security payload\
    \ (ESP) header\n      o  Destination options header\n      o  Mobility header\n\
    \   Since extension headers are an intrinsic part of the protocol and\n   they\
    \ fulfill different roles, benchmarking of traffic containing each\n   extension\
    \ header SHOULD be executed individually.\n   The special processing rules for\
    \ the hop-by-hop extension header\n   require a specific benchmarking approach.\
    \  Unlike other extension\n   headers, this header must be processed by each node\
    \ that forwards the\n   traffic.  Tests with traffic containing these extension\
    \ header types\n   will not measure the forwarding performance of the DUT, but\
    \ rather\n   its extension-header processing capability, which is dependent on\
    \ the\n   information contained in the extension headers.  The concern is that\n\
    \   this traffic, at high rates, could have a negative impact on the\n   operational\
    \ resources of the router, and it could be used as a\n   security threat.  When\
    \ benchmarking with traffic that contains the\n   hop-by-hop extension header,\
    \ the goal is not to measure throughput\n   [9] as in the case of the other extension\
    \ headers, but rather to\n   evaluate the impact of such traffic on the router.\
    \  In this case,\n   traffic with the hop-by-hop extension headers should be sent\
    \ at 1%,\n   10%, and 50% of the interface total bandwidth.  Device resources\
    \ must\n   be monitored at each traffic rate to determine the impact.\n   Tests\
    \ with traffic containing each individual extension header MUST\n   be complemented\
    \ with tests containing a chain of two or more\n   extension headers (the chain\
    \ MUST NOT contain the hop-by-hop\n   extension header).  This chain should also\
    \ exclude the ESP [5]\n   extension header, since traffic with an encrypted payload\
    \ cannot be\n   used in tests with modifiers such as filters based on upper-layer\n\
    \   information (see Section 5).  Since the DUT is not analyzing the\n   content\
    \ of the extension headers, any combination of extension\n   headers can be used\
    \ in testing.  The extension header chain\n   recommended for testing is:\n  \
    \    o  Routing header - 24-32 bytes\n      o  Destination options header - 8\
    \ bytes\n      o  Fragment header - 8 bytes\n   This is a real-life extension-header\
    \ chain that would be found in an\n   IPv6 packet between two mobile nodes exchanged\
    \ over an optimized path\n   that requires fragmentation.  The listed extension\
    \ headers' lengths\n   represent test tool defaults.  The total length of the\
    \ extension\n   header chain SHOULD be larger than 32 bytes.\n   Extension headers\
    \ add extra bytes to the payload size of the IP\n   packets, which MUST be factored\
    \ in when used in testing at low frame\n   sizes.  Their presence will modify\
    \ the minimum packet size used in\n   testing.  For direct comparison between\
    \ the data obtained with\n   traffic that has extension headers and with traffic\
    \ that doesn't have\n   them at low frame size, a common value SHOULD be selected\
    \ for the\n   smallest frame size of both types of traffic.\n   For most cases,\
    \ the network elements ignore the extension headers\n   when forwarding IPv6 traffic.\
    \  For these reasons, it is likely the\n   performance impact related to extension\
    \ headers will be observed only\n   when testing the DUT with traffic filters\
    \ that contain matching\n   conditions for the upper-layer protocol information.\
    \  In those cases,\n   the DUT MUST traverse the chain of extension headers, a\
    \ process that\n   could impact performance.\n"
- title: 5.4.  Traffic Setup
  contents:
  - "5.4.  Traffic Setup\n   All tests recommended in this document SHOULD be performed\
    \ with\n   bi-directional traffic.  For asymmetric situations, tests MAY be\n\
    \   performed with uni-directional traffic for a more granular\n   characterization\
    \ of the DUT performance.  In these cases, the\n   bi-directional traffic testing\
    \ would reveal only the lowest\n   performance between the two directions.\n \
    \  All other traffic profile characteristics described in RFC 2544\n   SHOULD\
    \ be applied in this testing as well.  IPv6 multicast\n   benchmarking is outside\
    \ the scope of this document.\n"
- title: 6.  Modifiers
  contents:
  - "6.  Modifiers\n   RFC 2544 underlines the importance of evaluating the performance\
    \ of\n   network elements under certain operational conditions.  The\n   conditions\
    \ defined in Section 11 of RFC 2544 are common to IPv4 and\n   IPv6, except that\
    \ IPv6 does not employ layer 2 or 3 broadcast frames.\n   IPv6 does not use layer\
    \ 2 or layer 3 broadcasts.  This section\n   provides additional conditions that\
    \ are specific to IPv6.  The suite\n   of tests recommended in this document SHOULD\
    \ be first executed in the\n   absence of these conditions and then repeated under\
    \ each of these\n   conditions separately.\n"
- title: 6.1.  Management and Routing Traffic
  contents:
  - "6.1.  Management and Routing Traffic\n   The procedures defined in Sections 11.2\
    \ and 11.3 of RFC 2544 are\n   applicable for IPv6 management and routing update\
    \ frames as well.\n"
- title: 6.2.  Filters
  contents:
  - "6.2.  Filters\n   The filters defined in Section 11.4 of RFC 2544 apply to IPv6\n\
    \   benchmarking as well.  The filter definitions must be expanded to\n   include\
    \ upper-layer protocol information matching in order to analyze\n   the handling\
    \ of traffic with extension headers, which are an\n   important architectural\
    \ component of IPv6.\n"
- title: 6.2.1.  Filter Format
  contents:
  - "6.2.1.  Filter Format\n   The filter format defined in RFC 2544 is applicable\
    \ to IPv6 as well,\n   except that the source addresses (SA) and destination addresses\
    \ (DA)\n   are IPv6 addresses.  In addition to these basic filters, the\n   evaluation\
    \ of IPv6 performance SHOULD analyze the correct filtering\n   and handling of\
    \ traffic with extension headers.\n   While the intent is not to evaluate a platform's\
    \ capability to\n   process the various extension header types, the goal is to\
    \ measure\n   performance impact when the network element must parse through the\n\
    \   extension headers to reach upper-layer information.  In IPv6, routers\n  \
    \ do not have to parse through the extension headers (other than\n   hop-by-hop)\
    \ unless, for example, upper-layer information has to be\n   analyzed due to filters.\n\
    \   To evaluate the network element handling of IPv6 traffic with\n   extension\
    \ headers, the definition of the filters must be extended to\n   include conditions\
    \ applied to upper-layer protocol information.  The\n   following filter format\
    \ SHOULD be used for this type of evaluation:\n      [permit|deny]  [protocol]\
    \ [SA] [DA]\n   where permit or deny indicates the action to allow or deny a packet\n\
    \   through the interface the filter is applied to.  The protocol field\n   is\
    \ defined as:\n      o  ipv6: any IP Version 6 traffic\n      o  tcp: Transmission\
    \ Control Protocol\n      o  udp: User Datagram Protocol\n   and SA stands for\
    \ the source address and DA for the destination\n   address.\n   The upper-layer\
    \ protocols listed above are a recommended selection.\n   However, they do not\
    \ represent an all-inclusive list of upper-layer\n   protocols that could be used\
    \ in defining filters.  The filters\n   described in these benchmarking recommendations\
    \ apply to native IPv6\n   traffic and upper-layer protocols (tcp, udp) transported\
    \ in native\n   IPv6 packets.\n"
- title: 6.2.2.  Filter Types
  contents:
  - "6.2.2.  Filter Types\n   Based on RFC 2544 recommendations, two types of tests\
    \ are executed\n   when evaluating performance in the presence of modifiers: one\
    \ with a\n   single filter and another with 25 filters.  Examples of recommended\n\
    \   filters are illustrated using the IPv6 documentation prefix [11]\n   2001:DB8::.\n\
    \   Examples of single filters are:\n      Filter for TCP traffic - permit tcp\
    \ 2001:DB8::1 2001:DB8::2\n      Filter for UDP traffic - permit udp 2001:DB8::1\
    \ 2001:DB8::2\n      Filter for IPv6 traffic - permit ipv6 2001:DB8::1 2001:DB8::2\n\
    \   The single line filter case SHOULD verify that the network element\n   permits\
    \ all TCP/UDP/IPv6 traffic with or without any number of\n   extension headers\
    \ from IPv6 SA 2001:DB8::1 to IPv6 DA 2001:DB8::2 and\n   deny all other traffic.\n\
    \   Example of 25 filters:\n      deny tcp 2001:DB8:1::1 2001:DB8:1::2\n     \
    \ deny tcp 2001:DB8:2::1 2001:DB8:2::2\n      deny tcp 2001:DB8:3::1 2001:DB8:3::2\n\
    \      ...\n      deny tcp 2001:DB8:C::1 2001:DB8:C::2\n      permit tcp 2001:DB8:99::1\
    \ 2001:DB8:99::2\n      deny tcp 2001:DB8:D::1 2001:DB8:D::2\n      deny tcp 2001:DB8:E::1\
    \ 2001:DB8:E::2\n      ...\n      deny tcp 2001:DB8:19::1 2001:DB8:19::2\n   \
    \   deny ipv6 any any\n   The router SHOULD deny all traffic with or without extension\
    \ headers\n   except TCP traffic with SA 2001:DB8:99::1 and DA 2001:DB8:99::2.\n"
- title: 7.  Benchmarking Tests
  contents:
  - "7.  Benchmarking Tests\n   This document recommends the same benchmarking tests\
    \ described in RFC\n   2544 while observing the DUT setup and the traffic setup\n\
    \   considerations described above.  The following sections state the\n   test\
    \ types explicitly, and they highlight only the methodology\n   differences that\
    \ might exist with respect to those described in\n   Section 26 of RFC 2544.\n\
    \   The specificities of IPv6, particularly the definition of extension\n   header\
    \ processing, require additional benchmarking steps.  The tests\n   recommended\
    \ by RFC 2544 MUST be repeated for IPv6 traffic without\n   extension headers\
    \ and for IPv6 traffic with one or multiple extension\n   headers.\n   IPv6's\
    \ deployment in existing IPv4 environments and the expected long\n   coexistence\
    \ of the two protocols leads network operators to place\n   great emphasis on\
    \ understanding the performance of platforms\n   processing both types of traffic.\
    \  While device resources are shared\n   between the two protocols, it is important\
    \ that IPv6-enabled\n   platforms not experience degraded IPv4 performance.  Thus,\
    \ IPv6\n   benchmarking SHOULD be performed in the context of a stand-alone\n\
    \   protocol as well as in the context of its coexistence with IPv4.\n   The modifiers\
    \ defined are independent of the extension header type,\n   so they can be applied\
    \ equally to each one of the above tests.\n   The benchmarking tests described\
    \ in this section SHOULD be performed\n   under each of the following conditions:\n\
    \   Extension header specific conditions:\n   i)    IPv6 traffic with no extension\
    \ headers\n   ii)   IPv6 traffic with one extension header from the list in Section\n\
    \         5.3\n   iii)  IPv6 traffic with the chain of extension headers described\
    \ in\n         Section 5.3\n   Coexistence-specific conditions:\n   iv)   IPv4\
    \ ONLY traffic benchmarking\n   v)    IPv6 ONLY traffic benchmarking\n   vi) \
    \  IPv4-IPv6 traffic mix with the ratio 90% vs 10%\n   vii)  IPv4-IPv6 traffic\
    \ mix with the ratio 50% vs 50%\n   viii) IPv4-IPv6 traffic mix with the ratio\
    \ 10% vs 90%\n   Combining the test conditions listed for benchmarking IPv6 as\
    \ a\n   stand-alone protocol and the coexistence tests leads to a\n   large-coverage\
    \ matrix.  At a minimum requirement, the coexistence\n   tests should use IPv6\
    \ traffic with no extension headers and the 10%-\n   90%, 90%-10%, or IPv4/IPv6\
    \ traffic mix.\n   The subsequent sections each describe specific tests that MUST\
    \ be\n   executed under the conditions listed above for a complete\n   benchmarking\
    \ of IPv6-forwarding performance.\n"
- title: 7.1.  Throughput
  contents:
  - "7.1.  Throughput\n   Objective: To determine the DUT throughput as defined in\
    \ RFC 1242.\n   Procedure: Same as RFC 2544.\n   Reporting Format: Same as RFC\
    \ 2544.\n"
- title: 7.2.  Latency
  contents:
  - "7.2.  Latency\n   Objective: To determine the latency as defined in RFC 1242.\n\
    \   Procedure: Same as RFC 2544.\n   Reporting Format: Same as RFC 2544.\n"
- title: 7.3.  Frame Loss
  contents:
  - "7.3.  Frame Loss\n   Objective: To determine the frame-loss rate (as defined\
    \ in RFC 1242)\n   of a DUT throughout the entire range of input data rates and\
    \ frame\n   sizes.\n   Procedure: Same as RFC 2544.\n   Reporting Format: Same\
    \ as RFC 2544.\n"
- title: 7.4.  Back-to-Back Frames
  contents:
  - "7.4.  Back-to-Back Frames\n   Based on the IPv4 experience, the back-to-back\
    \ frames test is\n   characterized by significant variance due to short-term variations\
    \ in\n   the processing flow.  For these reasons, this test is no longer\n   recommended\
    \ for IPv6 benchmarking.\n"
- title: 7.5.  System Recovery
  contents:
  - "7.5.  System Recovery\n   Objective: To characterize the speed at which a DUT\
    \ recovers from an\n   overload condition.\n   Procedure: Same as RFC 2544.\n\
    \   Reporting Format: Same as RFC 2544.\n"
- title: 7.6.  Reset
  contents:
  - "7.6.  Reset\n   Objective: To characterize the speed at which a DUT recovers\
    \ from a\n   device or software reset.\n   Procedure: Same as RFC 2544.\n   Reporting\
    \ Format: Same as RFC 2544.\n"
- title: 8.  IANA Considerations
  contents:
  - "8.  IANA Considerations\n   The IANA has allocated 2001:0200::/48 for IPv6 benchmarking,\
    \ which is\n   a 48-bit prefix from the RFC 4773 pool.  This allocation is similar\n\
    \   to 198.18.0.0/15, defined in RFC 3330 [10].  This prefix length (48)\n   provides\
    \ similar flexibility as the range allocated for IPv4\n   benchmarking, and it\
    \ takes into consideration address conservation\n   and simplicity of usage concerns.\
    \  The requested size meets the\n   requirements for testing large network elements\
    \ and large emulated\n   networks.\n   Note: Similar to RFC 2544 avoiding the\
    \ use of RFC 1918 address space\n   for benchmarking tests, this document does\
    \ not recommend the use of\n   RFC 4193 [4] (Unique Local Addresses) in order\
    \ to minimize the\n   possibility of conflicts with operational traffic.\n"
- title: 9.  Security Considerations
  contents:
  - "9.  Security Considerations\n   Benchmarking activities, as described in this\
    \ memo, are limited to\n   technology characterization using controlled stimuli\
    \ in a laboratory\n   environment, with dedicated address space and the constraints\n\
    \   specified in the sections above.\n   The benchmarking network topology will\
    \ be an independent test setup\n   and MUST NOT be connected to devices that may\
    \ forward the test\n   traffic into a production network or misroute traffic to\
    \ the test\n   management network.\n   Further, benchmarking is performed on a\
    \ \"black-box\" basis, relying\n   solely on measurements observable external\
    \ to the DUT/SUT (System\n   Under Test).\n   Special capabilities SHOULD NOT\
    \ exist in the DUT/SUT specifically for\n   benchmarking purposes.  Any implications\
    \ for network security arising\n   from the DUT/SUT SHOULD be identical in the\
    \ lab and in production\n   networks.\n   The isolated nature of the benchmarking\
    \ environments and the fact\n   that no special features or capabilities, other\
    \ than those used in\n   operational networks, are enabled on the DUT/SUT requires\
    \ no security\n   considerations specific to the benchmarking process.\n"
- title: 10.  Conclusions
  contents:
  - "10.  Conclusions\n   The Benchmarking Methodology for Network Interconnect Devices\n\
    \   document, RFC 2544 [9], is for the most part applicable to evaluating\n  \
    \ the IPv6 performance of network elements.  This document addresses\n   the IPv6-specific\
    \ requirements that MUST be observed when applying\n   the recommendations of\
    \ RFC 2544.  These additional requirements stem\n   from the architecture characteristics\
    \ of IPv6.  This document is not\n   a replacement for, but a complement to, RFC\
    \ 2544.\n"
- title: 11.  Acknowledgements
  contents:
  - "11.  Acknowledgements\n   Scott Bradner provided valuable guidance and recommendations\
    \ for this\n   document.  The authors acknowledge the work done by Cynthia Martin\n\
    \   and Jeff Dunn with respect to defining the terminology for IPv6\n   benchmarking.\
    \  The authors would like to thank Bill Kine for his\n   contribution to the initial\
    \ document and to Tom Alexander, Bill\n   Cerveny, Silvija Dry, Sven Lanckmans,\
    \ Dean Lee, Athanassios\n   Liakopoulos, Benoit Lourdelet, Al Morton, David Newman,\
    \ Rajiv\n   Papejna, Dan Romascanu, and Pekka Savola for their very helpful\n\
    \   feedback.  Maryam Hamza inspired the authors to complete this\n   document.\n"
- title: 12.  References
  contents:
  - '12.  References

    '
- title: 12.1.  Normative References
  contents:
  - "12.1.  Normative References\n   [1]   Bradner, S., \"Key words for use in RFCs\
    \ to Indicate Requirement\n         Levels\", BCP 14, RFC 2119, March 1997.\n\
    \   [2]   Deering, S. and R. Hinden, \"Internet Protocol, Version 6 (IPv6)\n \
    \        Specification\", RFC 2460, December 1998.\n   [3]   Malis, A. and W.\
    \ Simpson, \"PPP over SONET/SDH\", RFC 2615, June\n         1999.\n   [4]   Hinden,\
    \ R. and B. Haberman, \"Unique Local IPv6 Unicast\n         Addresses\", RFC 4193,\
    \ October 2005.\n   [5]   Kent, S., \"IP Encapsulating Security Payload (ESP)\"\
    , RFC 4303,\n         December 2005.\n   [6]   Narten, T., Nordmark, E., Simpson,\
    \ W., and H. Soliman,\n         \"Neighbor Discovery for IP version 6 (IPv6)\"\
    , RFC 4861,\n         September 2007.\n"
- title: 12.2.  Informative References
  contents:
  - "12.2.  Informative References\n   [7]   Bradner, S., \"Benchmarking Terminology\
    \ for Network\n         Interconnection Devices\", RFC 1242, July 1991.\n   [8]\
    \   Simpson, W., Ed., \"PPP in HDLC-like Framing\", STD 51, RFC 1662,\n      \
    \   July 1994.\n   [9]   Bradner, S. and J. McQuaid, \"Benchmarking Methodology\
    \ for\n         Network Interconnect Devices\", RFC 2544, March 1999.\n   [10]\
    \  IANA, \"Special-Use IPv4 Addresses\", RFC 3330, September 2002.\n   [11]  Huston,\
    \ G., Lord, A., and P. Smith, \"IPv6 Address Prefix\n         Reserved for Documentation\"\
    , RFC 3849, July 2004.\n   [12]  Newman, D. and T. Player, \"Hash and Stuffing:\
    \ Overlooked\n         Factors in Network Device Benchmarking\", RFC 4814, March\
    \ 2007.\n   [13]  LAN/MAN Standards Committee of the IEEE Computer Society, \"\
    IEEE\n         Std 802.3as-2006, Part 3: Carrier Sense Multiple Access with\n\
    \         Collision Detection (CSMA/CD) Access Method and Physical Layer\n   \
    \      Specifications, Amendment 3: Frame format extensions\", November\n    \
    \     2006.\n   [14]  Allyn Romanow (editor), \"IEEE Std 802.3ae, Media Access\
    \ Control\n         (MAC) Security\", June 2006.\n   [15]  Mick Seaman (editor),\
    \ \"IEEE Std 802.1D-2004, MAC Bridges\",\n         February 2004.\n"
- title: Appendix A.  Theoretical Maximum Frame Rates Reference
  contents:
  - "Appendix A.  Theoretical Maximum Frame Rates Reference\n   This appendix provides\
    \ the formulas to calculate and the values for\n   the theoretical maximum frame\
    \ rates for two media types: Ethernet and\n   SONET.\n"
- title: A.1.  Ethernet
  contents:
  - "A.1.  Ethernet\n   The throughput in frames per second (fps) for various Ethernet\n\
    \   interface types and for a frame size X can be calculated with the\n   following\
    \ formula:\n             Line Rate (bps)\n      ------------------------------\n\
    \      (8bits/byte)*(X+20)bytes/frame\n   The 20 bytes in the formula is the sum\
    \ of the preamble (8 bytes) and\n   the inter-frame gap (12 bytes).  The throughput\
    \ for various Ethernet\n   interface types and frame sizes:\n      Size     10Mb/s\
    \   100Mb/s    1000Mb/s     10000Mb/s\n      Bytes    pps      pps        pps\
    \          pps\n      64       14,880   148,809    1,488,095    14,880,952\n \
    \     128      8,445    84,459     844,594      8,445,945\n      256      4,528\
    \    45,289     452,898      4,528,985\n      512      2,349    23,496     234,962\
    \      2,349,624\n      1024     1,197    11,973     119,731      1,197,318\n\
    \      1280     961      9,615      96,153       961,538\n      1518     812 \
    \     8,127      81,274       812,743\n      1522     810      8,106      81,063\
    \       810,635\n      2048     604      6,044      60,444       604,448\n   \
    \   4096     303      3,036      30,396       303,691\n      8192     152    \
    \  1,522      15,221       152,216\n      9216     135      1,353      13,534\
    \       135,339\n   Note: Ethernet's maximum frame rates are subject to variances\
    \ due to\n   clock slop.  The listed rates are theoretical maximums, and actual\n\
    \   tests should account for a +/- 100 ppm tolerance.\n"
- title: A.2.  Packet over SONET
  contents:
  - "A.2.  Packet over SONET\n   ANSI T1.105 SONET provides the formula for calculating\
    \ the maximum\n   available bandwidth for the various Packet over SONET (PoS)\
    \ interface\n   types:\n      STS-Nc (N = 3Y, where Y=1,2,3,etc)\n      [(N*87)\
    \ - N/3]*(9 rows)*(8 bit/byte)*(8000 frames/sec)\n   Packets over SONET can use\
    \ various encapsulations: PPP [3], High-\n   Level Data Link Control (HDLC) [8],\
    \ and Frame Relay.  All these\n   encapsulations use a 4-byte header, a 2- or\
    \ 4-byte Frame Check\n   Sequence (FCS) field, and a 1-byte Flag that are all\
    \ accounted for in\n   the overall frame size.  The maximum frame rate for various\
    \ interface\n   types can be calculated with the formula (where X represents the\n\
    \   frame size in bytes):\n             Line Rate (bps)\n      ------------------------------\n\
    \      (8bits/byte)*(X+1)bytes/frame\n   The theoretical maximum frame rates for\
    \ various PoS interface types\n   and frame sizes:\n      Size   OC-3c    OC-12c\
    \     OC-48c     OC-192c     OC-768c\n      Bytes  fps      fps        fps   \
    \     fps         fps\n      47     390,000  1,560,000  6,240,000  24,960,000\
    \  99,840,000\n      64     288,000  1,152,000  4,608,000  18,432,000  73,728,000\n\
    \      128    145,116  580,465    2,321,860  9,287,441   37,149,767\n      256\
    \    72,840   291,361    1,165,447  4,661,789   18,647,159\n      512    36,491\
    \   145,964    583,859    2,335,438   9,341,754\n      1024   18,263   73,053\
    \     292,214    1,168,858   4,675,434\n      2048   9,136    36,544     146,178\
    \    584,714     2,338,857\n      4096   4,569    18,276     73,107     292,428\
    \     1,169,714\n   It is important to note that throughput test results may vary\
    \ from\n   the values presented in Appendices A.1 and A.2 due to bit stuffing\n\
    \   performed by various media types [12].  The theoretical throughput\n   numbers\
    \ were rounded down.\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Ciprian Popoviciu\n   Cisco Systems\n   Kit Creek Road\n\
    \   RTP, North Carolina  27709\n   USA\n   Phone: 919 787 8162\n   EMail: cpopovic@cisco.com\n\
    \   Ahmed Hamza\n   Cisco Systems\n   3000 Innovation Drive\n   Kanata  K2K 3E8\n\
    \   Canada\n   Phone: 613 254 3656\n   EMail: ahamza@cisco.com\n   Gunter Van\
    \ de Velde\n   Cisco Systems\n   De Kleetlaan 6a\n   Diegem  1831\n   Belgium\n\
    \   Phone: +32 2704 5473\n   EMail: gunter@cisco.com\n   Diego Dugatkin\n   FastSoft,\
    \ Inc.\n   150 S. Los Robles Ave.\n   Pasadena, CA 91101\n   USA\n   Phone: +1-626-357-7012\n\
    \   EMail: diego@fastsoft.com\n"
- title: Full Copyright Statement
  contents:
  - "Full Copyright Statement\n   Copyright (C) The IETF Trust (2008).\n   This document\
    \ is subject to the rights, licenses and restrictions\n   contained in BCP 78,\
    \ and except as set forth therein, the authors\n   retain all their rights.\n\
    \   This document and the information contained herein are provided on an\n  \
    \ \"AS IS\" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS\n  \
    \ OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST AND\n   THE\
    \ INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS\n   OR IMPLIED,\
    \ INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF\n   THE INFORMATION\
    \ HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED\n   WARRANTIES OF MERCHANTABILITY\
    \ OR FITNESS FOR A PARTICULAR PURPOSE.\n"
- title: Intellectual Property
  contents:
  - "Intellectual Property\n   The IETF takes no position regarding the validity or\
    \ scope of any\n   Intellectual Property Rights or other rights that might be\
    \ claimed to\n   pertain to the implementation or use of the technology described\
    \ in\n   this document or the extent to which any license under such rights\n\
    \   might or might not be available; nor does it represent that it has\n   made\
    \ any independent effort to identify any such rights.  Information\n   on the\
    \ procedures with respect to rights in RFC documents can be\n   found in BCP 78\
    \ and BCP 79.\n   Copies of IPR disclosures made to the IETF Secretariat and any\n\
    \   assurances of licenses to be made available, or the result of an\n   attempt\
    \ made to obtain a general license or permission for the use of\n   such proprietary\
    \ rights by implementers or users of this\n   specification can be obtained from\
    \ the IETF on-line IPR repository at\n   http://www.ietf.org/ipr.\n   The IETF\
    \ invites any interested party to bring to its attention any\n   copyrights, patents\
    \ or patent applications, or other proprietary\n   rights that may cover technology\
    \ that may be required to implement\n   this standard.  Please address the information\
    \ to the IETF at\n   ietf-ipr@ietf.org.\n"
