- title: __initial_text__
  contents:
  - ''
- title: Independent Submission                                        F. Templin
  contents:
  - "Independent Submission                                        F. Templin\n  \
    \              Routing and Addressing in Networks with\n                  Global\
    \ Enterprise Recursion (RANGER)\n"
- title: Abstract
  contents:
  - "Abstract\n   RANGER is an architectural framework for scalable routing and\n\
    \   addressing in networks with global enterprise recursion.  The term\n   \"\
    enterprise network\" within this context extends to a wide variety of\n   use\
    \ cases and deployment scenarios, where an \"enterprise\" can be as\n   small\
    \ as a Small Office, Home Office (SOHO) network, as dynamic as a\n   Mobile Ad\
    \ Hoc Network, as complex as a multi-organizational\n   corporation, or as large\
    \ as the global Internet itself.  Such\n   networks will require an architected\
    \ solution for the coordination of\n   routing and addressing plans with accommodations\
    \ for scalability,\n   provider-independence, mobility, multihoming, and security.\
    \  These\n   considerations are particularly true for existing deployments, but\n\
    \   the same principles apply even for clean-slate approaches.  The\n   RANGER\
    \ architecture addresses these requirements and provides a\n   comprehensive framework\
    \ for IPv6/IPv4 coexistence.\n"
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This document is not an Internet Standards Track specification;\
    \ it is\n   published for informational purposes.\n   This is a contribution to\
    \ the RFC Series, independently of any other\n   RFC stream.  The RFC Editor has\
    \ chosen to publish this document at\n   its discretion and makes no statement\
    \ about its value for\n   implementation or deployment.  Documents approved for\
    \ publication by\n   the RFC Editor are not a candidate for any level of Internet\n\
    \   Standard; see Section 2 of RFC 5741.\n   Information about the current status\
    \ of this document, any errata,\n   and how to provide feedback on it may be obtained\
    \ at\n   http://www.rfc-editor.org/info/rfc5720.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (c) 2010 IETF Trust and the persons identified\
    \ as the\n   document authors.  All rights reserved.\n   This document is subject\
    \ to BCP 78 and the IETF Trust's Legal\n   Provisions Relating to IETF Documents\n\
    \   (http://trustee.ietf.org/license-info) in effect on the date of\n   publication\
    \ of this document.  Please review these documents\n   carefully, as they describe\
    \ your rights and restrictions with respect\n   to this document.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1. Introduction ....................................................3\n\
    \   2. Terminology .....................................................4\n  \
    \ 3. The RANGER Architecture .........................................7\n    \
    \  3.1. Routing and Addressing .....................................7\n      3.2.\
    \ The Enterprise-within-Enterprise Framework .................9\n      3.3. Virtual\
    \ Enterprise Traversal (VET) ........................12\n           3.3.1. RANGER\
    \ Organizational Principles ...................12\n           3.3.2. RANGER End-to-End\
    \ Addressing Example ...............14\n           3.3.3. Dynamic Routing and\
    \ On-Demand Mapping ..............14\n           3.3.4. Support for Legacy RLOC-Based\
    \ Services .............16\n      3.4. Subnetwork Encapsulation and Adaptation\
    \ Layer (SEAL) ......18\n      3.5. Mobility Management .......................................18\n\
    \      3.6. Multihoming ...............................................20\n  \
    \    3.7. Implications for the Internet .............................20\n   4.\
    \ Related Initiatives ............................................21\n   5. Security\
    \ Considerations ........................................22\n   6. Acknowledgements\
    \ ...............................................23\n   7. References .....................................................23\n\
    \      7.1. Normative References ......................................23\n  \
    \    7.2. Informative References ....................................24\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   RANGER is an architectural framework for scalable routing\
    \ and\n   addressing in networks with global enterprise recursion.  The term\n\
    \   \"enterprise network\" within this context extends to a wide variety of\n\
    \   use cases and deployment scenarios, where an \"enterprise\" can be as\n  \
    \ small as a SOHO network, as dynamic as a Mobile Ad Hoc Network, as\n   complex\
    \ as a multi-organizational corporation, or as large as the\n   global Internet\
    \ itself.  Such networks will require an architected\n   solution for the coordination\
    \ of routing and addressing plans with\n   accommodations for scalability, provider-independence,\
    \ mobility,\n   multihoming, and security.  These considerations are particularly\n\
    \   true for existing deployments, but the same principles apply even for\n  \
    \ clean-slate approaches.  The RANGER architecture addresses these\n   requirements\
    \ and also provides a comprehensive framework for IPv6/\n   IPv4 coexistence [COEXIST].\n\
    \   RANGER provides a unifying architecture for enterprises that contain\n   one\
    \ or more distinct interior IP routing and addressing domains (or\n   \"Routing\
    \ LOCator (RLOC) space\"), with each distinct RLOC space\n   containing one or\
    \ more organizational groupings.  Each RLOC space may\n   coordinate their own\
    \ internal addressing plans independently of one\n   another, such that limited-scope\
    \ addresses (e.g., [RFC1918] private-\n   use IPv4 addresses) may be reused with\
    \ impunity to provide unlimited\n   scaling through spatial reuse.  Each RLOC\
    \ space therefore appears as\n   an enterprise unto itself, where organizational\
    \ partitioning of the\n   enterprise into one or more \"sub-enterprises\" (or\
    \ \"sites\") is also\n   possible and beneficial in many scenarios.  Without an\
    \ architected\n   approach, routing and addressing within such a framework would\
    \ be\n   fragmented due to address/prefix reuse between disjoint enterprises.\n\
    \   With RANGER, however, multiple enterprises can be linked together to\n   provide\
    \ a multi-hop transit for nodes attached to enterprise edge\n   networks that\
    \ use Endpoint Interface iDentifier (EID) addresses taken\n   from an IP addressing\
    \ range that is distinct from any RLOC space.\n   RANGER is recursive in that\
    \ multiple enterprises can be joined\n   together in a nested \"enterprise-within-enterprise\"\
    \ fashion, where\n   each enterprise also connects edge networks with nodes that\
    \ configure\n   addresses taken from EID space to support edge/core separation.\
    \  In\n   this way, the same RANGER principles that apply in lower levels of\n\
    \   recursion can extend upwards to parent enterprises and ultimately to\n   the\
    \ core of the global Internet itself.  Furthermore, it is also\n   worth considering\
    \ whether today's global Internet represents a\n   limiting condition for recursion\
    \ -- in particular, whether other\n   internets could be manifested as \"parallel\
    \ universes\" and joined\n   together at still higher levels of recursion.\n \
    \  The RANGER architecture is manifested through composite technologies,\n   including\
    \ Virtual Enterprise Traversal (VET) [VET], the Subnetwork\n   Encapsulation and\
    \ Adaptation Layer (SEAL) [SEAL], and the Intra-Site\n   Automatic Tunnel Addressing\
    \ Protocol (ISATAP) [RFC5214].  Other\n   mechanisms such as IPsec [RFC4301] are\
    \ also in scope for use within\n   certain scenarios.\n   Noting that combinations\
    \ with still other technologies are also\n   possible, the issues addressed either\
    \ in full or in part by RANGER\n   include:\n   o  scalable routing and addressing\n\
    \   o  provider-independent addressing and its relation to provider-\n      aggregated\
    \ addressing\n   o  site mobility and multihoming\n   o  address and prefix autoconfiguration\n\
    \   o  border router discovery\n   o  router/host-to-router/host tunneling\n \
    \  o  neighbor discovery over tunnels\n   o  MTU determination for tunnels\n \
    \  o  IPv6/IPv4 coexistence and transition\n   Note that while this document primarily\
    \ uses the illustrative example\n   of IPv6 [RFC2460] as a virtual overlay over\
    \ IPv4 [RFC0791] networks,\n   it is important to note that the same architectural\
    \ principles apply\n   to any combination of IPvX virtual overlays over IPvY networks.\n"
- title: 2.  Terminology
  contents:
  - "2.  Terminology\n   Routing Locator (RLOC)\n      an IPv4 or IPv6 address assigned\
    \ to an interface in an enterprise-\n      interior routing region.  Note that\
    \ private-use IP addresses are\n      local to each enterprise; hence, the same\
    \ private-use addresses\n      may appear within disjoint enterprises.\n   Endpoint\
    \ Interface iDentifier (EID)\n      an IPv4 or IPv6 address assigned to an edge\
    \ network interface of\n      an end system.  Note that EID space must be separate\
    \ and distinct\n      from any RLOC space.\n   commons\n      an enterprise-interior\
    \ routing region that provides a subnetwork\n      for cooperative peering between\
    \ the border routers of diverse\n      organizations that may have competing interests.\
    \  A prime example\n      of a commons is the Default-Free Zone (DFZ) of the global\n\
    \      Internet.  The enterprise-interior routing region within the\n      commons\
    \ uses an addressing plan taken from RLOC space.\n   enterprise\n      the same\
    \ as defined in [RFC4852], where the enterprise deploys a\n      unified RLOC\
    \ space addressing plan within the commons but may also\n      contain partitions\
    \ with disjoint RLOC spaces and/or organizational\n      groupings that can be\
    \ considered as enterprises unto themselves.\n      An enterprise therefore need\
    \ not be \"one big happy family\", but\n      instead provides a commons for the\
    \ cooperative interconnection of\n      diverse organizations that may have competing\
    \ interests (e.g.,\n      such as the case within the global Internet DFZ).\n\
    \      Enterprise networks are typically associated with large\n      corporations\
    \ or academic campuses; however, the RANGER\n      architectural principles apply\
    \ to any network that has some degree\n      of cooperative active management.\
    \  This definition therefore\n      extends to home networks, small office networks,\
    \ ISP networks, a\n      wide variety of Mobile Ad Hoc Networks (MANETs), and\
    \ even to the\n      global Internet itself.\n   site\n      a logical and/or\
    \ physical grouping of interfaces within an\n      enterprise commons, where the\
    \ topology of the site is a proper\n      subset of the topology of the enterprise.\
    \  A site may contain many\n      interior sites, which may themselves contain\
    \ many interior sites\n      in a recursive fashion.\n      Throughout the remainder\
    \ of this document, the term \"enterprise\"\n      refers to either enterprise\
    \ or site, i.e., the RANGER principles\n      apply equally to enterprises and\
    \ sites of any size or shape.  At\n      the lowest level of recursive decomposition,\
    \ a singleton\n      Enterprise Border Router can be considered as an enterprise\
    \ unto\n      itself.\n   Enterprise Border Router (EBR)\n      a router at the\
    \ edge of an enterprise that is also configured as a\n      tunnel endpoint in\
    \ an overlay network.  EBRs connect their\n      directly attached networks to\
    \ the overlay network, and connect to\n      other networks via IP-in-IP tunneling\
    \ across the commons to other\n      EBRs.  This definition is intended as an\
    \ architectural equivalent\n      of the functional term \"EBR\" defined in [VET].\n\
    \   Enterprise Border Gateway (EBG)\n      an EBR that also connects the enterprise\
    \ to provider networks\n      and/or to the global Internet.  EBGs are typically\
    \ configured as\n      default routers in the overlay and provide forwarding services\
    \ for\n      accessing IP networks not reachable via an EBR within the commons.\n\
    \      This definition is intended as an architectural equivalent of the\n   \
    \   functional term \"EBG\" defined in [VET], and is synonymous with the\n   \
    \   term \"default mapper\" used in other contexts (e.g., [JEN]).\n   Ingress\
    \ Tunnel Endpoint (ITE)\n      a host or router interface that encapsulates inner\
    \ IP packets\n      within an outer IP header for transmission over an enterprise-\n\
    \      interior routing region to the RLOC address of an Egress Tunnel\n     \
    \ Endpoint (ETE).\n   Egress Tunnel Endpoint (ETE)\n      a host or router interface\
    \ that receives encapsulated packets sent\n      to its RLOC address, decapsulates\
    \ the inner IP packets, then\n      delivers them to the EID address of the final\
    \ destination.\n   overlay network\n      a virtual network manifested by routing\
    \ and addressing over\n      virtual links formed through automatic tunneling.\
    \  An overlay\n      network may span many underlying enterprises.\n   Provider-Independent\
    \ (PI) prefix\n      an IPv6 or IPv4 EID prefix (e.g., 2001:DB8::/48, 192.0.2/24,\
    \ etc.)\n      that is routable within a limited scope and may also appear in\n\
    \      enterprise mapping tables.  PI prefixes that can appear in mapping\n  \
    \    tables are typically delegated to a Border Router (BR) by a\n      registry\
    \ but are not aggregated by a provider network.  Local-use\n      IPv6 and IPv4\
    \ prefixes (e.g., FD00::/8, 192.168/16, etc.) are\n      another example of a\
    \ PI prefix, but these typically do not appear\n      in mapping tables.\n   Provider-Aggregated\
    \ (PA) prefix\n      an IPv6 or IPv4 EID prefix that is either derived from a\
    \ PI prefix\n      or delegated directly to a provider network by a registry.\n\
    \      Although not widely discussed, it bears specific mention that a\n     \
    \ prefix taken from a delegating router's PI space becomes a PA\n      prefix\
    \ from the perspective of the requesting router.\n   Additionally, RANGER provides\
    \ an informative consideration of\n   functional specifications and operational\
    \ practices outlined in other\n   documents.  These documents include:\n   6over4\n\
    \      Transmission of IPv6 over IPv4 Domains without Explicit Tunnels\n     \
    \ [RFC2529]; functional specifications and operational practices for\n      automatic\
    \ tunneling of unicast/multicast IPv6 packets over\n      multicast-capable IPv4\
    \ enterprises.\n   ISATAP\n      Intra-Site Automatic Tunnel Addressing Protocol\
    \ (ISATAP)\n      [RFC5214]; functional specifications and operational practices\
    \ for\n      automatic tunneling of unicast IPv6 packets over unicast-only IPv4\n\
    \      enterprises.\n   VET\n      Virtual Enterprise Traversal (VET) [VET]; functional\n\
    \      specifications and operational practices for automatic tunneling\n    \
    \  of both unicast and multicast IP packets with provisions for\n      address/prefix\
    \ autoconfiguration, provider-independent addressing,\n      mobility, multihoming,\
    \ and security.  VET is descended from both\n      6over4 and ISATAP and is also\
    \ known as \"ISATAP version 2\n      (ISATAPv2)\".\n   SEAL\n      Subnetwork\
    \ Encapsulation and Adaptation Layer (SEAL) [SEAL]; an\n      encapsulation sublayer\
    \ that provides an extended IP Identification\n      field and mechanisms for\
    \ link MTU adaptation over tunnels.\n"
- title: 3.  The RANGER Architecture
  contents:
  - "3.  The RANGER Architecture\n   The RANGER architecture enables scalable routing\
    \ and addressing in\n   networks with global enterprise recursion while sustaining\
    \ support\n   for legacy networks and services.  Key to this approach is a\n \
    \  framework that accommodates interconnection of diverse organizations\n   across\
    \ a commons that have a mutual spirit of cooperation but also\n   have the potential\
    \ for competing interests.  The following sections\n   outline the RANGER architecture\
    \ within the context of anticipated use\n   cases:\n"
- title: 3.1.  Routing and Addressing
  contents:
  - "3.1.  Routing and Addressing\n   The Internet today is facing \"growing pains\"\
    , with indications that\n   core Routing Information Base (RIB) scaling may not\
    \ be sustainable\n   over the long term and that the remaining space for IPv4\
    \ address\n   allocations may be depleted in the near future.  Therefore, there\
    \ is\n   an emerging need for scalable routing and addressing solutions.  It\n\
    \   must further be noted that the same solutions selected to address\n   global\
    \ Internet routing and addressing scaling can apply equally for\n   large enterprises\
    \ -- or for any enterprise that would benefit from a\n   separation of core and\
    \ edge addressing domains.\n   RANGER supports scalable routing through an approach\
    \ that parallels\n   the \"New Scheme for Internet Routing and Addressing\" described\
    \ in\n   [RFC1955].  This approach is also commonly known as \"map-and-encaps\"\
    .\n   In this approach, an Ingress Tunnel Endpoint (ITE) that must forward\n \
    \  an IP packet first consults a mapping system to discover a mapping\n   for\
    \ the destination Endpoint Interface iDentifier (EID) to a Routing\n   LOCator\
    \ (RLOC) assigned to an Egress Tunnel Endpoint (ETE).  The\n   mapping system\
    \ is typically maintained as a per-enterprise\n   distributed database that is\
    \ synchronized among a limited set of\n   mapping agents.  Distributed database\
    \ management alternatives include\n   a routing protocol instance maintained by\
    \ Enterprise Border Gateways\n   (EBGs), a DNS reverse zone distributed among\
    \ a restricted set of\n   caching servers, etc.  Mapping entries are inserted\
    \ into the mapping\n   system through administrative configuration, automated\
    \ prefix\n   registrations, etc.\n   RANGER allows for an ITE to either consult\
    \ the mapping system itself\n   (while delaying or dropping initial IP packets)\
    \ or forward initial\n   packets to an EBG acting as a \"default mapper\".  In\
    \ either case, the\n   ITE receives a mapping reply that it can use to populate\
    \ its\n   Forwarding Information Base (FIB).  The choice of mapping approaches\n\
    \   must be considered with respect to the individual enterprise network\n   scenario,\
    \ e.g., forwarding to an EBG may be more appropriate in some\n   scenarios while\
    \ ITE self-discovery may be more appropriate in others.\n   Use of other mapping\
    \ mechanisms is also possible according to the\n   specific enterprise scenario.\n\
    \   After discovering the mapping, the ITE encapsulates inner IP packets\n   in\
    \ an outer IP header for transmission across the commons to the RLOC\n   address\
    \ of an ETE.  The ETE in turn decapsulates the packets and\n   forwards them over\
    \ the next hop toward the EID address of the final\n   destination.  Therefore,\
    \ the Routing Information Base (RIB) within\n   the commons only needs to maintain\
    \ state regarding RLOCs and not\n   EIDs, while the synchronized EID-to-RLOC mapping\
    \ state is maintained\n   by a smaller number of nodes and is not subject to oscillations\
    \ due\n   to link state changes within the commons.  Finally, EIDs are routable\n\
    \   only within a limited scope within edge networks (which may be as\n   small\
    \ as node-local scope in the limiting case).\n   RANGER supports scalable addressing\
    \ by selecting a suitably large EID\n   addressing range that is distinct and\
    \ kept separate from any\n   enterprise-interior RLOC addressing ranges.  It should\
    \ therefore come\n   as no surprise that taking EID space from the IPv6 addressing\n\
    \   architecture should lead to a viable, scalable addressing\n   alternative,\
    \ while taking EID space from the (already exhausted) IPv4\n   addressing architecture\
    \ may not.\n"
- title: 3.2.  The Enterprise-within-Enterprise Framework
  contents:
  - "3.2.  The Enterprise-within-Enterprise Framework\n   Enterprise networks traditionally\
    \ distribute routing information via\n   Interior Gateway Protocols (IGPs) such\
    \ as Open Shortest Path First\n   (OSPF), while large enterprises may even use\
    \ an Exterior Gateway\n   Protocol (EGP) internally in place of an IGP.  Thus,\
    \ it is becoming\n   increasingly commonplace for large enterprises to use the\
    \ Border\n   Gateway Protocol (BGP) internally and independently from the BGP\n\
    \   instance that maintains the RIB within the global Internet DFZ.\n   As such,\
    \ large enterprises may run an internal instance of BGP across\n   many internal\
    \ Autonomous Systems (ASs).  Such a large enterprise can\n   therefore appear\
    \ as an internet unto itself, albeit with default\n   routes leading to the true\
    \ global Internet.  Additionally, each\n   internal AS within such an enterprise\
    \ may itself run BGP internally\n   in place of an IGP, and can therefore also\
    \ appear as an independent,\n   lower-tier enterprise unto itself.  This enterprise-within-enterprise\n\
    \   framework can be extended in a recursive fashion as broadly and as\n   deeply\
    \ as desired to achieve scaling factors as well as\n   organizational and/or functional\
    \ compartmentalization, e.g., as shown\n   in Figure 1.\n                    \
    \           ,---------------.\n                            ,-'     Global    \
    \  `-.  <--------+\n                           (       IPv6/IPv4       )     ,----|-----.\n\
    \                            `-.    Internet     ,-'     ( Enterprises)\n    \
    \                           `+--+..+--+ ...+--+      ( E2 thru EN )\n        \
    \                     _.-|R1|--|R2+----|Rn|-._    `.---------/\n             \
    \         _.---''   +--+  +--+ ...+--+   -.\n                 ,--''          \
    \ ,---.                 `---.\n              ,-'              X5     X6      \
    \      .---..  `-.\n            ,'  ,.X1-..       /         \\        ,'     \
    \  `.   `.\n          ,'  ,'       `.    .'  E1.2   '.     X8    E1.m   \\   \
    \ `.\n         /   /           \\   |   ,--.    |     / _,.._       \\     \\\n\
    \        /   /   E1.1      \\  | Y3    `.  |    | /     Y7       |     \\\n  \
    \     ;   |    ___        | |  ` W  Y4  |... | `Y6  ,'       |      :\n      \
    \ |   | ,-'   `.     X2 |   `--'    |    |   `''         |      |\n       :  \
    \ | |  V  Y2      | \\    _      /    |               |      ;\n        \\  |\
    \ `-Y1,,'       |  \\ .' Y5   /      \\    ,-Y8'`-   /      /\n         \\  \\\
    \             /    \\ \\_'  /        X9   `.    ,'/      /\n          `. \\  \
    \        X3      `.__,,'          `._  Y9'','     ,'\n            ` `._     _,'\
    \      ___.......X7_        `---'      ,'\n              `  `---'      ,-'   \
    \          `-.              -'\n                 `---.      `.    E1.3   Z   _'\
    \        _.--'\n                      `-----. \\---.......---'   _.---''\n   \
    \                          `----------------''\n           <---------------- \
    \  Enterprise E1  ---------------->\n             Figure 1: Enterprise-within-Enterprise\
    \ Framework\n   Figure 1 depicts an enterprise 'E1' connected to the global IPv6/IPv4\n\
    \   Internet via routers 'R1' through 'Rn' and additional enterprises\n   'E2'\
    \ through 'EN' that also connect to the global Internet.  Within\n   the 'E1'\
    \ commons, there may be arbitrarily many hosts, routers, and\n   networks (not\
    \ shown in the diagram) that use addresses taken from\n   RLOC space and over\
    \ which both encapsulated and unencapsulated IP\n   packets can be forwarded.\
    \  There may also be many lower-tier\n   enterprises, 'E1.1' through 'E1.m' (shown\
    \ in the diagram), that\n   interconnect within the 'E1' commons via Enterprise\
    \ Border Routers\n   (EBRs), depicted as 'X1' through 'X9' (where 'X1' through\
    \ 'X9' see\n   'R1' through 'Rn' as EBGs).  Within each 'E1.*' enterprise, there\
    \ may\n   also be arbitrarily many lower-tier enterprises that interconnect\n\
    \   within the 'E1.*' commons via EBRs, depicted as 'Y1' through 'Y9' in\n   the\
    \ diagram (where 'Y1' through 'Y9' see 'X1' through 'X9' as EBGs).\n   This recursive\
    \ decomposition can be nested as deeply as desired and\n   ultimately terminates\
    \ at singleton nodes such as those depicted as\n   'V', 'W', and 'Z' in the diagram.\n\
    \   It is important to note that nodes such as 'V', 'W', and 'Z' may be\n   simple\
    \ hosts or they may be EBRs that attach arbitrarily complex edge\n   networks\
    \ with addresses taken from EID space.  Such edge networks\n   could be as simple\
    \ as a home network behind a residential gateway or\n   as complex as a major\
    \ corporate/academic campus, a large service\n   provider network, etc.\n   Again,\
    \ this enterprise-within-enterprise framework can be recursively\n   nested as\
    \ broadly and deeply as desired.  From the highest level of\n   the recursion,\
    \ consider now that the global Internet itself can be\n   viewed as an \"enterprise\"\
    \ that interconnects lower-tier enterprises\n   E1 through EN such that all RANGER\
    \ architectural principles apply\n   equally within that context.  Furthermore,\
    \ the RANGER architecture\n   recognizes that the global Internet need not represent\
    \ a limiting\n   condition for recursion, but rather allows that other internets\
    \ could\n   be manifested as \"parallel universes\" and joined together at still\n\
    \   higher levels of recursion.\n   As a specific case in point, the future global\
    \ Aeronautical\n   Telecommunications Network (ATN), under consideration within\
    \ the\n   civil aviation industry [BAUER], will take the form of a large\n   enterprise\
    \ network that appears as an internet unto itself, i.e.,\n   exactly as depicted\
    \ for 'E1' in Figure 1.  Within the ATN, there will\n   be many Air Communications\
    \ Service Provider (ACSP) and Air Navigation\n   Service Provider (ANSP) networks\
    \ organized as autonomous systems\n   internal to the ATN, i.e., exactly as depicted\
    \ for 'E1.*' in the\n   diagram.  The ACSP/ANSP network EBGs will participate\
    \ in a BGP\n   instance internal to the ATN, and may themselves run independent\
    \ BGP\n   instances internally that are further sub-divided into lower-tier\n\
    \   enterprises organized as regional, organizational, functional, etc.\n   compartments.\
    \  It is important to note that, while ACSPs/ANSPs within\n   the ATN will share\
    \ a common objective of safety-of-flight for civil\n   aviation services, there\
    \ may be competing business/social/political\n   interests between them, such\
    \ that the ATN is not necessarily \"one big\n   happy family\".  Therefore, the\
    \ model parallels that of the global\n   Internet itself.\n   Such an operational\
    \ framework may indeed be the case for many next-\n   generation enterprises.\
    \  In particular, although the routing and\n   addressing arrangements of all\
    \ enterprises will require a mutual\n   level of cooperative active management\
    \ at a certain level, free\n   market forces, business objectives, political alliances,\
    \ etc. may\n   drive internal competition.\n"
- title: 3.3.  Virtual Enterprise Traversal (VET)
  contents:
  - "3.3.  Virtual Enterprise Traversal (VET)\n   Within the enterprise-within-enterprise\
    \ framework outlined in Section\n   3.2, the RANGER architecture is based on overlay\
    \ networks manifested\n   through Virtual Enterprise Traversal (VET) ([VET], [RFC5214]).\
    \  The\n   VET approach uses automatic IP-in-IP tunneling in which ITEs\n   encapsulate\
    \ EID-based inner IP packets within RLOC-based, outer IP\n   headers for transmission\
    \ across the commons to ETEs.\n   For each enterprise they connect to, EBRs that\
    \ use VET configure a\n   Non-Broadcast, Multiple Access (NBMA) interface known\
    \ as a \"VET\n   interface\" that sees all other EBRs within the enterprise as\n\
    \   potential single-hop neighbors from the perspective of the inner IP\n   protocol.\
    \  This means that, for many enterprise scenarios, standard\n   neighbor discovery\
    \ mechanisms (e.g., router advertisements,\n   redirects, etc.) can be used between\
    \ EBR pairs.  This gives rise to a\n   data-driven model in which neighbor relationships\
    \ are formed based on\n   traffic demand in the data plane, which in many cases\
    \ can relax the\n   requirement for dynamic routing exchanges across the overlay\
    \ in the\n   control plane.\n   When multiple VET interfaces are linked together,\
    \ end-to-end\n   traversal is seen as multiple VET hops from the perspective of\
    \ the\n   inner IP protocol.  In that case, transition between VET interfaces\n\
    \   entails a \"re-encapsulation\" approach in which a packet that exits\n   VET\
    \ interface 'i' is decapsulated then re-encapsulated before it is\n   forwarded\
    \ into VET interface 'i+1'.  For example, if an end-to-end\n   path between two\
    \ EID-based peers crosses N distinct VET interfaces, a\n   traceroute would show\
    \ N inner IP forwarding hops corresponding to the\n   portions of the path that\
    \ traverse the VET interfaces.\n   VET and its related works specify necessary\
    \ mechanisms and\n   operational practices to manifest the RANGER architecture.\
    \  The use\n   of VET in conjunction with SEAL (see Section 3.4) is essential\
    \ in\n   certain deployments to avoid issues related to source address\n   spoofing\
    \ and black holing due to path Maximum Transmission Unit (MTU)\n   limitations.\
    \  (The use of VET in conjunction with IPsec [RFC4301] may\n   also be necessary\
    \ in some enterprise network scenarios.)  The\n   following sections discuss operational\
    \ considerations and use cases\n   within the VET approach.\n"
- title: 3.3.1.  RANGER Organizational Principles
  contents:
  - "3.3.1.  RANGER Organizational Principles\n   Figure 2 below depicts a vertical\
    \ slice (albeit represented\n   horizontally) from the enterprise-within-enterprise\
    \ framework shown\n   in Figure 1:\n                                         \
    \                   +------+\n                                               \
    \             | IPv6 |\n       \" \" \" \" \" \" \" \"\" \" \" \" \" \" \" \"\
    \ \" \" \" \" \" \" \" \"       |Server|\n     \"         <----------------- 2001:DB8::/40\
    \ (PA) \"      |  S1  |\n   \"    2001:DB8:10::/56 (PI)  ---------------->   \
    \   \"     +--+---+\n   \"     . . . . . . .       . . . .      . . . .     \"\
    \        |\n   \"   .               .    .       .    .       .    \"        |\n\
    \   \"   .  +----+   v    +--- +   v  +----+   v   +----+  +-----+-------+\n \
    \  \"   .  | V  +=  e   =+ Y1 +=  e =+ X2 +=  e  =+ R2 +==+   Internet  |\n  \
    \ \"   .  +-+--+   t    +----+   t  +----+   t   +----+  +-----+-------+\n   \"\
    \   .    |      1   .    .    2  .    .   3   .    \"        |\n   \"    .   H\
    \         .     .       .    .       .    \"        |\n   \"      . . . . . .\
    \        . . . .      . . . .     \"     +--+---+\n    \"       <E1.1.1>     \
    \    <E1.1>        <E1>       \"     | IPv4 |\n      \"      10/8            \
    \ 10/8         10/8      \"      |Server|\n        \" \" \" \" \" \" \" \" \"\
    \ \" \" \" \" \" \"\" \" \" \" \" \" \" \"        |  S2  |\n                 \
    \    <-- Enterprise E1 -->                  +------+\n            Figure 2: Virtual\
    \ Enterprise Traversal\n   Within this vertical slice, each enterprise within\
    \ the 'E1' recursive\n   hierarchy is spanned by VET interfaces, represented as\
    \ 'vet1' through\n   'vet3'.  Each VET interface within this framework is a Non-Broadcast,\n\
    \   Multiple Access (NBMA) interface that connects all EBRs within the\n   same\
    \ enterprise.  Each enterprise within the 'E1' hierarchy may\n   comprise a smaller\
    \ topological region within a larger RLOC space, or\n   they may configure an\
    \ independent RLOC space from a common (but\n   spatially reused) limited-scope\
    \ prefix, e.g., depicted as multiple\n   disjoint instances of '10/8' in the diagram.\n\
    \   In the RANGER approach, EBRs within lower-tier enterprises coordinate\n  \
    \ their EID prefixes with EBGs that connect to an upper-tier\n   enterprise. \
    \ EID prefixes could be either provider-independent (PI)\n   prefixes owned by\
    \ the EBR or provider-aggregated (PA) prefixes\n   delegated by the EBG.  In either\
    \ case, EID prefixes must be\n   coordinated with the enterprise routing/mapping\
    \ systems.\n   When PA EID prefixes are used, the EBR for each 'E1*' enterprise\n\
    \   receives an EID prefix delegation from a delegating EBG in a parent\n   enterprise.\
    \  In this example, when 'R2' is a delegating router for\n   the prefix '2001:DB8::/40',\
    \ it may delegate '2001:DB8::/48' to 'X2',\n   which in turn delegates '2001:DB8::/52'\
    \ to 'Y1', which in turn\n   delegates '2001:DB8::/56' to 'V'.  The preferred\
    \ mechanism for this\n   recursive PA prefix sub-delegation is DHCP Prefix Delegation\n\
    \   [RFC3633], which also arranges for publication of the prefixes in the\n  \
    \ enterprise routing system.\n   When PI EID prefixes are used, individual EBRs\
    \ (e.g., 'V') register\n   their PI prefixes (e.g., '2001:DB1:10::/56') by sending\
    \ Router\n   Advertisement (RA) messages to EBGs within the enterprise to assert\n\
    \   prefix ownership.  When stronger authentication is necessary, the\n   EBRs\
    \ can digitally sign the messages using the mechanisms specified\n   for SEcure\
    \ Neighbor Discovery (SEND) [RFC3971].  EBGs that receive\n   the RAs (e.g., 'Y1')\
    \ first verify the sender's credentials, then\n   register the prefixes in the\
    \ enterprise mapping system.  Next, they\n   forward a proxied version of the\
    \ RA to EBGs within their parent\n   enterprises (e.g., 'X2').  This proxying\
    \ process continues up the\n   recursive hierarchy until a default-free commons\
    \ is reached.  (In\n   this case, the proxying process ends at 'R2').  After the\
    \ initial\n   registration, the EBR that owns the PI prefixes must periodically\n\
    \   send additional RAs to update prefix expiration timers.\n"
- title: 3.3.2.  RANGER End-to-End Addressing Example
  contents:
  - "3.3.2.  RANGER End-to-End Addressing Example\n   In Figure 2, an IPv6 host 'H'\
    \ that is deeply nested within Enterprise\n   'E1' connects to IPv6 server 'S1',\
    \ located somewhere on the IPv6\n   Internet.  'H' is attached to a shared link\
    \ with IPv6/IPv4 dual-stack\n   router 'V', which advertises the IPv6 prefixes\
    \ '2001:DB8:0:0::/64'\n   and '2001:DB8:10:0::/64'.  'H' uses standard IPv6 neighbor\
    \ discovery\n   mechanisms to discover 'V' as a default IPv6 router that can forward\n\
    \   its packets off the local link, and configures addresses from both of\n  \
    \ the advertised prefixes.  'V' in turn sees node 'Y1' as an EBG that\n   is reachable\
    \ via VET interface 'vet1' and that can forward packets\n   toward IPv6 server\
    \ 'S1'.  Similarly, node 'Y1' is an EBR on the\n   enterprise spanned by 'vet2'\
    \ that sees 'X2' as an EBG, and node 'X2'\n   is an EBR on 'vet3' that sees 'R2'\
    \ as an EBG.  Ultimately, 'R2' is an\n   EBR that connects 'E1' to the global\
    \ Internet.\n"
- title: 3.3.3.  Dynamic Routing and On-Demand Mapping
  contents:
  - "3.3.3.  Dynamic Routing and On-Demand Mapping\n   In the example shown in Figure\
    \ 2, 'V', 'Y1', 'X2', and 'R2' configure\n   separate VET interfaces for each\
    \ enterprise they connect to in order\n   to discover routes through a dynamic\
    \ routing protocol and/or mapping\n   database lookups.  After tunnels 'vet1'\
    \ through 'vet3' are\n   established, the EBRs connected to a VET interface can\
    \ run a dynamic\n   routing protocol such as OSPVFv3 [RFC5340] and exchange topology\n\
    \   information over the VET interface using the NBMA interface model.\n   In\
    \ this way, each EBR can discover other EBRs on the link via routing\n   protocol\
    \ control message exchanges.\n   In a second example, Figure 3 depicts an instance\
    \ of on-demand\n   discovery of more specific routes in which an IPv6 end system\
    \ 'H'\n   connects to a peer end system 'J', located in a different\n   organizational\
    \ entity within 'E1':\n                                                      \
    \      +------+\n                                                            |\
    \ IPv6 |\n       \" \" \" \" \" \" \" \"\" \" \" \" \" \" \" \" \" \" \" \" \"\
    \ \" \" \"       |Server|\n     \"         <----------------- 2001:DB8::/40 (PA)\
    \ \"      |  S1  |\n   \"    2001:DB8:10::/56 (PI)  ---------------->      \"\
    \     +--+---+\n   \"     . . . . . . .       . . . .      . . . .     \"    \
    \    |\n   \"   .               .    .       .    .       .    \"        |\n \
    \  \"   .  +----+   v   +----+   v   +----+       +----+  +-----+-------+\n  \
    \ \"   .  | V  +=  e  =+ Y1 +=  e  =+ X2 +=     =+ R2 +==+   Internet  |\n   \"\
    \   .  +-+--+   t   +----+   t   +----+       +----+  +-----+-------+\n   \" \
    \  .    |      1   .    .   2   .    .       .    \"        |\n   \"    .   H\
    \         .     .       .    .   v   .    \"        |\n   \"      . . . . . .\
    \        . . . .     .   e   .    \"     +--+---+\n   \"                     \
    \                .   t   .    \"     | IPv4 |\n   \"                  . . . .\
    \ . . ,      .   3   .    \"     |Server|\n   \"                .  +----+   v\
    \   +----+       .    \"     |  S2  |\n   \"                .  | Z  +=  e  =+\
    \ X7 +=      .    \"     +------+\n   \"                .  +-+--+   t   +----+\
    \       .    \"\n   \"                .    |      4   .    .       .    \"\n \
    \  \"                .    J         .      . . . .     \"\n    \"            \
    \     . . . . . . .                   \"\n      \"           2001:DB8:20::/56\
    \ (PI) -------->    \"\n        \" \" \" \" \" \" \" \" \" \" \" \" \" \" \"\"\
    \ \" \" \" \" \" \" \"\n                     <-- Enterprise E1 -->\n         \
    \       Figure 3: On-Demand Discovery\n   In this example, tunnel interfaces 'vet1'\
    \ through 'vet4' as well as\n   IPv6 PI prefix registrations have been established\
    \ through VET\n   enterprise autoconfiguration procedures.  When IPv6 end system\
    \ 'H'\n   with IPv6 address '2001:DB8:10::1' sends packets to a peer end system\n\
    \   'J' with IPv6 address '2001:DB8:20::1', the packets will be conveyed\n   through\
    \ 'V', 'Y1', and finally to 'X2' via default routes.  Then,\n   unless 'X2' has\
    \ an IPv6 FIB entry matching 'J', it must discover that\n   'J' can be reached\
    \ using a more direct route via 'X7' as the next-hop\n   across the 'E1' commons.\n\
    \   In particular, when 'X2' receives a packet on the 'vet2' interface\n   with\
    \ inner destination address 'J', it can perform an on-demand\n   mapping lookup\
    \ by consulting the enterprise mapping service, e.g., by\n   consulting the DNS\
    \ reverse zone.  Alternatively, 'X2' can send the\n   packet to a default router\
    \ (e.g., 'R2'), which in turn can forward\n   the packet to 'X7' and return an\
    \ ICMPv6 redirect message.  When 'X2'\n   receives the redirect, it can send an\
    \ RA message to 'X7' to prove\n   that it is authorized to produce packets with\
    \ a prefix that matches\n   source address 'J'.  'X2' can then forward subsequent\
    \ packets\n   directly to 'X7' without involving 'R2'.\n   In some enterprise\
    \ scenarios, dynamic routing and on-demand mapping\n   can be combined as complementary\
    \ functions.  In other scenarios, it\n   may be preferable to use either dynamic\
    \ routing only or on-demand\n   mapping only.\n"
- title: 3.3.4.  Support for Legacy RLOC-Based Services
  contents:
  - "3.3.4.  Support for Legacy RLOC-Based Services\n   Legacy hosts, routers, and\
    \ networks that were already present in pre-\n   RANGER deployments and have already\
    \ numbered their interfaces with\n   RLOC addresses must see continued support\
    \ for RLOC-based services for\n   the long term, even as EID-based services are\
    \ rolled out in new\n   deployments.  For example, a legacy IPv4-only node behind\
    \ an IPv4\n   Network Address Translator (NAT) must still be able to reach legacy\n\
    \   IPv4-only Internet services (e.g., \"http://example.com\") long after\n  \
    \ the RANGER architecture and EID-based services are widely deployed.\n   Returning\
    \ to the example diagrams, while virtual enterprise traversal\n   across 'E1'\
    \ provides a fully connected routing and addressing\n   capability for EID-based\
    \ services, legacy nodes will still require\n   access to RLOC-based services\
    \ within connected or disjoint RLOC\n   spaces for an extended (and possibly indefinite)\
    \ period.  For\n   example, Figure 4 below depicts the applicable RLOC-based IPv4\n\
    \   service-access scenarios for the RANGER architecture when VET\n   interfaces\
    \ are used to link recursively nested enterprises together:\n                \
    \                                            +------+\n                      \
    \                                      | IPv6 |\n       \" \" \" \" \" \" \" \"\
    \" \" \" \" \" \" \" \" \" \" \" \" \" \" \" \"       |Server|\n     \"      \
    \   <----------------- 2001:DB8::/40 (PA) \"      |  S1  |\n   \"    2001:DB8:10::/56\
    \ (PI)  ----------------->     \"     +--+---+\n   \"     . . . . . . .      \
    \ . . . .      . . . .     \"        |\n   \"   .               .    .       .\
    \    .       .    \"        |\n   \"   .  +----+   v   +--- +   v   +----+   v\
    \   +----+  +-----+-------+\n   \"   .  | V  +=  e  =+ Y1 +=  e  =+ X2 +=  e \
    \ =+ R2 +==+   Internet  |\n   \"   .  +-+--+   t   +----+   t   +----+   t  \
    \ +----+  +-----+-------+\n   \"   .    |      1   .    .   2   .    .   3   .\
    \    \"        |\n   \"    .   K   L     .     .       .    . M     .    \"  \
    \      |\n   \"      . . . . . .        . . . .      . . . .     \"     +--+---+\n\
    \    \"       <E1.1.1>         <E1.1>        <E1>       \"     | IPv4 |\n    \
    \  \"                                              \"      |Server|\n        \"\
    \ \" \" \" \" \" \" \" \" \" \" \" \" \" \"\" \" \" \" \" \" \" \"        |  S2\
    \  |\n                     <-- Enterprise E1 -->                  +------+\n \
    \       Figure 4: Support for Legacy RLOC-Based Services\n   In a first instance,\
    \ a legacy RLOC-based IPv4 client 'K' within\n   enterprise 'E1.1.1' can access\
    \ RLOC-based IPv4 service 'L' within the\n   same enterprise as normal and without\
    \ the need for any encapsulation.\n   Instead, 'K' discovers a \"mapping\" for\
    \ 'L' through a simple lookup\n   within the 'E1.1.1' enterprise-local name service,\
    \ and conveys\n   packets to 'L' through unencapsulated RLOC-based IPv4 routing\
    \ and\n   addressing within the 'E1.1.1' commons.  In many instances, this may\n\
    \   indeed be the preferred service-access model, even when EID-based\n   IPv6\
    \ services are widely deployed due to factors such as inability to\n   replace\
    \ legacy IPv4 applications, IPv6 header overhead avoidance,\n   etc.\n   In a\
    \ second instance, RLOC-based IPv4 client 'K' can access RLOC-\n   based IPv4\
    \ server 'S2' on the legacy global IPv4 Internet in a number\n   of ways, based\
    \ on the way the recursively nested 'E1.*' enterprises\n   are provisioned:\n\
    \   o  if all of the recursively nested 'E1.*' enterprises are configured\n  \
    \    within the same IPv4 RLOC space, normal IPv4 forwarding will\n      convey\
    \ unencapsulated IPv4 packets from 'K' toward 'R2', which\n      then acts as\
    \ an IPv4 Network Address Translator (NAT) and/or an\n      ordinary IPv4 Enterprise\
    \ Border Router.\n   o  if the recursively nested 'E1.*' enterprises are configured\
    \ within\n      disjoint RLOC spaces, all EBGs 'Y1', 'X2', and 'R2' can be\n \
    \     configured to provide an IPv4 NAT capability (i.e., a recursive\n      nesting\
    \ of NATs within NATs).  However, this approach places\n      multiple instances\
    \ of stateful NAT devices on the path, which can\n      lead to an overall degree\
    \ of brittleness and intolerance to\n      routing changes.  Instead, 'R2' can\
    \ act as a \"Carrier-Grade NAT\n      (CGN)\", and 'V' can convey packets from\
    \ 'K' to the CGN using\n      IPv4-in-IPv6-in-IPv4 tunneling.  The CGN can then\
    \ decapsulate the\n      inner, RLOC-based IPv4 packets and translate the IPv4\
    \ source\n      addresses into global IPv4 source addresses before sending the\n\
    \      packets on to 'S2'.\n   o  'K' could be configured as an EID-based, IPv6-capable\
    \ node and use\n      standard IPv6 routing to reach an IPv6/IPv4 translator located\
    \ at\n      an EBR for the enterprise in which 'S2' resides.  The translator\n\
    \      would then use IPv6-to-IPv4 translation before sending packets\n      onwards\
    \ toward 'S2'.  These and other alternatives are discussed\n      in [WING].\n\
    \   In a final instance, RLOC-based IPv4 client 'K' can access an RLOC-\n   based\
    \ IPv4 server 'M' in a different enterprise within E1 as long as\n   both enterprises\
    \ are configured over the same IPv4 RLOC space.  If\n   the enterprises are configured\
    \ over disjoint IPv4 RLOC spaces,\n   however, 'K' would still be able to access\
    \ 'M' by using EID-based\n   IPv6 services, by using EID-based IPv4 services if\
    \ an EID-based IPv4\n   overlay were deployed, or by using some form of RLOC-based\
    \ IPv4 NAT\n   traversal.  'K' could also access server 'M' if both 'V' and 'X2'\n\
    \   implemented an IPv6/IPv4 protocol translation capability.  Finally,\n   'K'\
    \ and/or 'M' could implement a bump-in-the-wire or bump-in-the-api\n   IPv6/IPv4\
    \ protocol translation capability.\n"
- title: 3.4.  Subnetwork Encapsulation and Adaptation Layer (SEAL)
  contents:
  - "3.4.  Subnetwork Encapsulation and Adaptation Layer (SEAL)\n   Tunnel endpoints\
    \ that depend on ICMP feedback from routers within the\n   enterprise commons\
    \ may be susceptible to undetected black holes due\n   to ICMP filtering gateways\
    \ and/or off-path ICMP spoofing attacks from\n   a node pretending to be a router.\
    \  Furthermore, rogue nodes within\n   enterprises that do not correctly implement\
    \ ingress filtering can\n   send spoofed packets of any kind, e.g., for the purpose\
    \ of mounting\n   denial-of-service and/or traffic amplification attacks targeting\n\
    \   underprivileged links.\n   The Subnetwork Encapsulation and Adaptation Layer\
    \ (SEAL) provisions\n   each encapsulated packet with a monotonically incrementing,\
    \ extended\n   Identification field (i.e., the 32-bit SEAL_ID) that tunnel endpoints\n\
    \   can use as a nonce to detect off-path spoofing.  Moreover, tunnel\n   endpoints\
    \ that use SEAL can continue to operate correctly even if\n   some/many ICMPs\
    \ are lost.  Finally, tunnel endpoints that use SEAL\n   can adapt to subnetworks\
    \ containing links with diverse MTUs\n   properties.\n"
- title: 3.5.  Mobility Management
  contents:
  - "3.5.  Mobility Management\n   Enterprise mobility use cases must be considered\
    \ along several\n   different vectors:\n   o  nomadic enterprises and end systems\
    \ may be satisfied to incur\n      address renumbering events as they move between\
    \ new enterprise\n      network attachment points.\n   o  mobile enterprises with\
    \ PI prefixes may be satisfied by dynamic\n      updates to the mapping system\
    \ as long as they do not impart\n      unacceptable churn.\n   o  mobile enterprises\
    \ and end systems with PA addresses/prefixes may\n      require additional supporting\
    \ mechanisms that can accommodate\n      address/prefix renumbering.\n   Nomadic\
    \ enterprise mobility is already satisfied by currently\n   deployed technologies.\
    \  For example, transporting a laptop computer\n   from a wireless-access hot\
    \ spot to a home network LAN would allow the\n   nomadic device to re-establish\
    \ connectivity at the expense of address\n   renumbering.  Such renumbering may\
    \ be acceptable, especially for\n   devices that do not require session persistence\
    \ across mobility\n   events and do not configure servers with addresses published\
    \ in the\n   global DNS.\n   Mobile enterprises with PI prefixes that use VET\
    \ and SEAL can move\n   between parent enterprise attachment points as long as\
    \ they withdraw\n   the prefixes from the mapping systems of departed enterprises\
    \ and\n   inject them into the mapping systems of new enterprises.  When moving\n\
    \   between the lower recursive tiers of a common parent enterprise, such\n  \
    \ a localized event mobility may result in no changes to the parent\n   enterprise's\
    \ mapping system.  Hence, the organizational structure of\n   a carefully arranged\
    \ enterprise-within-enterprise framework may be\n   able to dampen mobility-related\
    \ churn.  For enterprises that require\n   in-the-network confidentiality, IKEv2\
    \ Mobility and Multihoming\n   (MOBIKE) [RFC4555] may also be useful within this\
    \ context.\n   Mobile enterprises and end systems that move quickly between\n\
    \   disparate parent enterprise attachment points should not use PI\n   prefixes\
    \ if withdrawing and announcing the prefixes would impart\n   unacceptable mapping/routing\
    \ churn and packet loss.  They should\n   instead use PA addresses/prefixes that\
    \ can be coordinated via a\n   rendezvous service.  Mobility management mechanisms\
    \ such as Mobile\n   IPv6 [RFC3775] and the Host Identity Protocol (HIP) [RFC4423]\
    \ can be\n   used to maintain a stable identifier for fast moving devices even\
    \ as\n   they move quickly between visited enterprise attachment points.\n   As\
    \ a use case in point, consider an aircraft with a mobile router\n   moving between\
    \ ground station points of attachment.  If the ground\n   stations are located\
    \ within the same enterprise, or within lower-tier\n   sites of the same parent\
    \ enterprise, it should suffice for the\n   aircraft to announce its PI prefixes\
    \ at its new point of attachment\n   and withdraw them from the old.  This would\
    \ avoid excessive mapping\n   system churn, since the prefixes need not be announced/withdrawn\n\
    \   within the parent enterprise, i.e., the churn is isolated to lower\n   layers\
    \ of the recursive hierarchy.  Note also that such movement\n   would not entail\
    \ an aircraft-wide readdressing event.\n   As a second example, consider a wireless\
    \ handset moving between\n   service coverage areas maintained by independent\
    \ providers with\n   peering arrangements.  Since the coverage range of terrestrial\n\
    \   cellular wireless technologies is limited, mobility events may occur\n   on\
    \ a much more aggressive timescale than some other examples.  In\n   this case,\
    \ the handset may expect to incur a readdressing event for\n   its access interface\
    \ at least, and may be obliged to arrange for a\n   rendezvous service linkage.\n\
    \   It should specifically be noted that the contingency of mobility\n   management\
    \ solutions is not necessarily mutually exclusive and must\n   be considered in\
    \ relation to specific use cases.  The RANGER\n   architecture is therefore naturally\
    \ inclusive in this regard.  In\n   particular, RANGER could benefit from mechanisms\
    \ that could support\n   rapid dynamic updates of PI prefix mappings without causing\
    \ excessive\n   churn.\n"
- title: 3.6.  Multihoming
  contents:
  - "3.6.  Multihoming\n   As with mobility management, multihoming use cases must\
    \ be considered\n   along multiple vectors.  Within an enterprise, EBRs can discover\n\
    \   multiple EBGs and use them in a fault-tolerant and load-balancing\n   fashion\
    \ as long as they register their PI prefixes with each such\n   EBG, as described\
    \ in Section 3.3.1.  These registrations are created\n   through the transmission\
    \ of Router Advertisement messages that\n   percolate up through the recursive\
    \ enterprise-within-enterprise\n   hierarchy.\n   As a first case in point, consider\
    \ the enterprise network of a major\n   corporation that obtains services from\
    \ a number of ISPs.  The\n   corporation should be able to register its PI prefixes\
    \ with all of\n   its ISPs, and use any of the ISPs for its Internet access services.\n\
    \   As a second use case, consider an aircraft with a diverse set of\n   wireless\
    \ links (e.g., VHF, 802.16, directional, SATCOM, etc.).  The\n   aircraft should\
    \ be able to select and utilize the most appropriate\n   link(s) based on the\
    \ phase of flight and to change seamlessly between\n   links as necessary.  Other\
    \ examples include a nomadic laptop with\n   both 802.11 and Ethernet links, a\
    \ wireless handset with both CDMA\n   wireless and 802.11, etc.\n   As with mobility\
    \ management, the contingency of solutions is not\n   necessarily mutually exclusive\
    \ and can combine to suit use cases\n   within the scope of the RANGER architecture.\n"
- title: 3.7.  Implications for the Internet
  contents:
  - "3.7.  Implications for the Internet\n   Selection of mapping alternatives may\
    \ have significant implications\n   for applications, server selection, route\
    \ determination, security,\n   etc.  In particular, applications that expect all\
    \ packets (including\n   initial ones) to experience similar delays may be adversely\
    \ affected\n   by a scheme that imposes non-negligible delays when initial packets\n\
    \   are queued while a look-aside mapping table is consulted.  Still\n   other\
    \ applications may experience significant startup delays when its\n   initial\
    \ packets are dropped during a mapping lookup event.  These\n   factors would\
    \ seem to favor a scheme that is able to forward initial\n   packets along a path\
    \ with sub-optimal delay while a mapping lookup is\n   performed in parallel,\
    \ e.g., such as when a \"default mapper\" is used.\n   Generally speaking, proactive\
    \ mapping-maintenance mechanisms may have\n   scaling issues with the amount of\
    \ updates they generate, while\n   reactive mechanisms may involve effects to\
    \ the delay of initial\n   packets before the cached state is updated.  Also to\
    \ be considered\n   are attacks against the mapping mechanism, which may result\
    \ in denial\n   of service of the mapping cache.\n   Encapsulation of packets\
    \ in automatically created tunnels involves a\n   number of issues as well.  There\
    \ are obvious interactions between\n   encapsulation overhead and the effective\
    \ tunnel MTU, which can be\n   addressed by SEAL and (when necessary) careful\
    \ operational link\n   arrangements.  Moreover, it is important to minimize the\
    \ impact to\n   the global routing table without at the same time impacting the\n\
    \   ability of legacy Internet networks to connect to those employing\n   RANGER.\
    \  As long as other nodes in the Internet need to connect to\n   networks implementing\
    \ RANGER, EID routes need to appear both in the\n   mapping system and the global\
    \ BGP routing tables.  This can be\n   accommodated by keeping the number of prefixes\
    \ aggregated by RANGER\n   to the bare minimum through efficient aggregation (e.g.,\
    \ one or a few\n   [PREF]::/4 IPv6 prefixes instead of millions of [PREF]::/32\n\
    \   prefixes).\n"
- title: 4.  Related Initiatives
  contents:
  - "4.  Related Initiatives\n   The origins of the RANGER architectural principles\
    \ can be traced to\n   the \"Catenet model for internetworking\" ([CATENET], [IEN48],\n\
    \   [RFC2775]) beginning as early as the mid-1970's.  Subsequently,\n   deliberations\
    \ of the ROAD group [RFC1380] and related efforts such as\n   NIMROD [RFC1753]\
    \ provided a sustained evolution of the concepts.\n   [RFC1955], \"New Scheme\
    \ for Internet Routing and Addressing (ENCAPS)\n   for IPNG\", captures the high-level\
    \ architectural aspects of the ROAD\n   group deliberations.\n   These foundational\
    \ works significantly influenced more recent\n   developments, including the X-Bone\
    \ initiative [XBONE], which explored\n   virtual topologies manifested through\
    \ tunneling.  Various tunneling\n   approaches including IP-in-IP ([RFC2003],\
    \ [RFC4213]), 6over4\n   [RFC2529], and ISATAP [RFC5214] have evolved from the\
    \ mid-1990's\n   until the present day and are used in common, operational practice.\n\
    \   Tunnel-mode IPsec [RFC4301] is also commonly used for separation of\n   security\
    \ domains within enterprises.\n   Currently, initiatives with similar properties\
    \ to RANGER are under\n   development within the IRTF Routing Research Group (RRG)\
    \ and within\n   IETF working groups such as LISP, SOFTWIRE, V6OPS, and others.\n\
    \   Numerous proposals have been offered within the RRG, including the\n   Locator-Identifier\
    \ Split Protocol (LISP) [LISP], Six-One [VOGT], ILNP\n   [ILNP], Internet vastly\
    \ improved plumbing (Ivip) [WHITTLE], A\n   Practical Transit-Mapping Service\
    \ (APT) [JEN], and Virtual\n   Aggregation [VA].  Still other similar initiatives\
    \ almost certainly\n   exist.\n   While RANGER shares many properties with these\
    \ earlier works, it\n   uniquely provides a top-to-bottom articulation of how\
    \ the various\n   pieces fit together within a recursively nested \"enterprise-within-\n\
    \   enterprise\" (or \"network-of-networks\") framework.  In this way, it\n  \
    \ bears striking resemblance to the network-of-networks model\n   envisioned by\
    \ CATENET.  RANGER further provides a detailed\n   consideration of challenging\
    \ issues such as autoconfiguration,\n   provider-independent addressing, border\
    \ router discovery, tunnel MTU,\n   multihoming, etc. that many other approaches\
    \ have either overlooked\n   or left for future work.  A detailed analysis of\
    \ RANGER applicability\n   in various use case scenarios is provided in \"RANGER\
    \ Scenarios\n   (RANGERS)\" [RUSSERT].\n"
- title: 5.  Security Considerations
  contents:
  - "5.  Security Considerations\n   Communications between endpoints within different\
    \ sites inside an\n   enterprise are carried across a commons that joins organizational\n\
    \   entities with a mutual spirit of cooperation, but between which there\n  \
    \ may be competing business/sociological/political interests.  As a\n   result,\
    \ mechanisms that rely on feedback from routers on the path may\n   become brittle\
    \ or susceptible to spoofing attacks.  This is due to\n   the fact that IP packets\
    \ can be lost due to congestion or packet-\n   filtering gateways and that the\
    \ source addresses of IP packets can be\n   forged.  Moreover, IP packets in general\
    \ can be generated by\n   anonymous attackers, e.g., from a rogue node within\
    \ a third-party\n   enterprise that has malicious intent toward a victim.\n  \
    \ Path MTU Discovery is an example of a mechanism that relies on ICMP\n   feedback\
    \ from routers on the path and, as such, is susceptible to\n   these issues. \
    \ For IPv4, a common workaround is to disable Path MTU\n   Discovery and let fragmentation\
    \ occur in the network if necessary.\n   For IPv6, lack of fragmentation support\
    \ in the network precludes this\n   option such that the mitigation typically\
    \ recommended is to discard\n   ICMP messages that contain insufficient information\
    \ and/or to operate\n   with the minimum IPv6 path MTU.  This example extends\
    \ also to other\n   mechanisms that either rely on or are enhanced by feedback\
    \ from\n   network devices; however, attack vectors based on non-ICMP messages\n\
    \   are also subject for concern.\n   The RANGER architecture supports effective\
    \ mitigations for attacks\n   such as distributed denial-of-service, traffic amplification,\
    \ etc.\n   In particular, when VET and SEAL are used, EBGs can use the 32-bit\n\
    \   identification encoded in the SEAL header as well as ingress\n   filtering\
    \ to determine if a message has come from a topologically\n   correct enterprise\
    \ located across the commons.  This allows\n   enterprises to employ effective\
    \ mitigations at their borders without\n   the requirement for mutual cooperation\
    \ from other enterprises.  When\n   source address spoofing by on-path attackers\
    \ located within the\n   commons is also subject for concern, additional securing\
    \ mechanisms\n   such as tunnel-mode IPsec between enterprise EBGs can also be\
    \ used.\n   EBRs can obtain PI prefixes through arrangements with a prefix\n \
    \  delegation authority.  Thereafter, the EBR can announce and/or\n   withdraw\
    \ the prefixes within an enterprise by sending IPv6 Router\n   Advertisements\
    \ (RAs).  In environments where additional\n   authenticating mechanisms are necessary,\
    \ the EBR can sign its RAs\n   using SEcure Neighbor Discovery (SEND) [RFC3971].\n\
    \   While the RANGER architecture does not in itself address security\n   considerations,\
    \ it proposes an architectural framework for functional\n   specifications that\
    \ do.  Security concerns with tunneling, along with\n   recommendations that are\
    \ compatible with the RANGER architecture, are\n   found in [HOAGLAND].\n"
- title: 6.  Acknowledgements
  contents:
  - "6.  Acknowledgements\n   This work was inspired through the encouragement of\
    \ the Boeing DC&NT\n   network technology team and through the communications\
    \ of the IESG.\n   Many individuals have contributed to the architectural principles\n\
    \   that form the basis for RANGER over the course of many years.  The\n   following\
    \ individuals have given specific feedback on the RANGER\n   document itself:\
    \ Jari Arkko, Brian Carpenter, Eric Fleischman, Joel\n   Halpern, Thomas Henderson,\
    \ Steven Russert, Dallas Thomas, Robin\n   Whittle.\n"
- title: 7.  References
  contents:
  - '7.  References

    '
- title: 7.1.  Normative References
  contents:
  - "7.1.  Normative References\n   [RFC0791]  Postel, J., \"Internet Protocol\",\
    \ STD 5, RFC 791, September\n              1981.\n   [RFC2460]  Deering, S. and\
    \ R. Hinden, \"Internet Protocol, Version 6\n              (IPv6) Specification\"\
    , RFC 2460, December 1998.\n"
- title: 7.2.  Informative References
  contents:
  - "7.2.  Informative References\n   [CATENET]  Pouzin, L., \"A Proposal for Interconnecting\
    \ Packet\n              Switching Networks\", Proceedings of EUROCOMP, Bronel\n\
    \              University, p. 1023-1036, May 1974.\n   [COEXIST]  Arkko, J. and\
    \ M. Townsley, \"IPv4 Run-Out and IPv4-IPv6 Co-\n              Existence Scenarios\"\
    , Work in Progress, July 2009.\n   [BAUER]    Bauer, C. and S. Ayaz, \"ATN Topology\
    \ Considerations for\n              Aeronautical NEMO RO\", Work in Progress,\
    \ September 2009.\n   [LISP]     Farinacci, D., Fuller, V., Meyer, D., and D.\
    \ Lewis,\n              \"Locator/ID Separation Protocol (LISP)\", Work in Progress,\n\
    \              September 2009.\n   [HOAGLAND] Hoagland, J., Krishnan, S., and\
    \ D. Thaler, \"Security\n              Concerns With IP Tunneling\", Work in Progress,\
    \ October\n              2008.\n   [JEN]      Jen, D., Meisel, M., Massey, D.,\
    \ Wang, L., Zhang, B., and\n              L. Zhang, \"APT: A Practical Transit\
    \ Mapping Service\", Work\n              in Progress, November 2007.\n   [RUSSERT]\
    \  Russert, S., Fleischman, E., and F. Templin, \"RANGER\n              Scenarios\"\
    , Work in Progress, September 2009.\n   [SEAL]     Templin, F., Ed., \"The Subnetwork\
    \ Encapsulation and\n              Adaptation Layer (SEAL)\", RFC 5320, February\
    \ 2010.\n   [VET]      Templin, F., Ed., \"Virtual Enterprise Traversal (VET)\"\
    ,\n              RFC 5558, February 2010.\n   [WING]     Wing, D., Ward, D., and\
    \ A. Durand, \"A Comparison of\n              Proposals to Replace NAT-PT\", Work\
    \ in Progress, September\n              2008.\n   [IEN48]    Cerf, V., \"The Catenet\
    \ Model for Internetworking\", July\n              1978.\n   [ILNP]     Atkinson,\
    \ R., \"ILNP Concept of Operations\", Work in\n              Progress, December\
    \ 2008.\n   [RFC1380]  Gross, P. and P. Almquist, \"IESG Deliberations on Routing\n\
    \              and Addressing\", RFC 1380, November 1992.\n   [RFC1753]  Chiappa,\
    \ N., \"IPng Technical Requirements Of the Nimrod\n              Routing and Addressing\
    \ Architecture\", RFC 1753, December\n              1994.\n   [RFC1918]  Rekhter,\
    \ Y., Moskowitz, B., Karrenberg, D., de Groot, G.,\n              and E. Lear,\
    \ \"Address Allocation for Private Internets\",\n              BCP 5, RFC 1918,\
    \ February 1996.\n   [RFC1955]  Hinden, R., \"New Scheme for Internet Routing\
    \ and\n              Addressing (ENCAPS) for IPNG\", RFC 1955, June 1996.\n  \
    \ [RFC2003]  Perkins, C., \"IP Encapsulation within IP\", RFC 2003,\n        \
    \      October 1996.\n   [RFC2529]  Carpenter, B. and C. Jung, \"Transmission\
    \ of IPv6 over IPv4\n              Domains without Explicit Tunnels\", RFC 2529,\
    \ March 1999.\n   [RFC2775]  Carpenter, B., \"Internet Transparency\", RFC 2775,\
    \ February\n              2000.\n   [RFC3633]  Troan, O. and R. Droms, \"IPv6\
    \ Prefix Options for Dynamic\n              Host Configuration Protocol (DHCP)\
    \ version 6\", RFC 3633,\n              December 2003.\n   [RFC3775]  Johnson,\
    \ D., Perkins, C., and J. Arkko, \"Mobility Support\n              in IPv6\",\
    \ RFC 3775, June 2004.\n   [RFC3971]  Arkko, J., Ed., Kempf, J., Zill, B., and\
    \ P. Nikander,\n              \"SEcure Neighbor Discovery (SEND)\", RFC 3971,\
    \ March 2005.\n   [RFC4213]  Nordmark, E. and R. Gilligan, \"Basic Transition\
    \ Mechanisms\n              for IPv6 Hosts and Routers\", RFC 4213, October 2005.\n\
    \   [RFC4301]  Kent, S. and K. Seo, \"Security Architecture for the\n        \
    \      Internet Protocol\", RFC 4301, December 2005.\n   [RFC4423]  Moskowitz,\
    \ R. and P. Nikander, \"Host Identity Protocol\n              (HIP) Architecture\"\
    , RFC 4423, May 2006.\n   [RFC4555]  Eronen, P., \"IKEv2 Mobility and Multihoming\
    \ Protocol\n              (MOBIKE)\", RFC 4555, June 2006.\n   [RFC4852]  Bound,\
    \ J., Pouffary, Y., Klynsma, S., Chown, T., and D.\n              Green, \"IPv6\
    \ Enterprise Network Analysis - IP Layer 3\n              Focus\", RFC 4852, April\
    \ 2007.\n   [RFC5214]  Templin, F., Gleeson, T., and D. Thaler, \"Intra-Site\n\
    \              Automatic Tunnel Addressing Protocol (ISATAP)\", RFC 5214,\n  \
    \            March 2008.\n   [RFC5340]  Coltun, R., Ferguson, D., Moy, J., and\
    \ A. Lindem, \"OSPF\n              for IPv6\", RFC 5340, July 2008.\n   [VA] \
    \      Francis, P., Xu, X., Ballani, H., Jen, D., Raszuk, R., and\n          \
    \    L. Zhang, \"FIB Suppression with Virtual Aggregation\", Work\n          \
    \    in Progress, October 2009.\n   [VOGT]     Vogt, C., \"Six/One: A Solution\
    \ for Routing and Addressing\n              in IPv6\", Work in Progress, October\
    \ 2009.\n   [WHITTLE]  Whittle, R., \"Ivip (Internet Vastly Improved Plumbing)\n\
    \              Architecture\", Work in Progress, August 2008.\n   [XBONE]    Touch,\
    \ J., \"The X-Bone\", March 1997,\n              http://www.isi.edu/touch/pubs/ngi97/x-bone-ngi97.pdf\n"
- title: Author's Address
  contents:
  - "Author's Address\n   Fred L. Templin\n   Boeing Phantom Works\n   P.O. Box 3707\
    \ MC 7L-49\n   Seattle, WA  98124\n   USA\n   EMail: fltemplin@acm.org\n"
