- contents:
  - "      OSPF Extensions in Support of Inter-Autonomous System (AS)\n                  MPLS
    and GMPLS Traffic Engineering\n"
  title: __initial_text__
- contents:
  - "Status of This Memo\n   This document specifies an Internet standards track protocol
    for the\n   Internet community, and requests discussion and suggestions for\n
    \  improvements.  Please refer to the current edition of the \"Internet\n   Official
    Protocol Standards\" (STD 1) for the standardization state\n   and status of this
    protocol.  Distribution of this memo is unlimited.\n"
  title: Status of This Memo
- contents:
  - "Copyright Notice\n   Copyright (c) 2009 IETF Trust and the persons identified
    as the\n   document authors.  All rights reserved.\n   This document is subject
    to BCP 78 and the IETF Trust's Legal\n   Provisions Relating to IETF Documents
    (http://trustee.ietf.org/\n   license-info) in effect on the date of publication
    of this document.\n   Please review these documents carefully, as they describe
    your rights\n   and restrictions with respect to this document.\n"
  title: Copyright Notice
- contents:
  - "Abstract\n   This document describes extensions to the OSPF version 2 and 3\n
    \  protocols to support Multiprotocol Label Switching (MPLS) and\n   Generalized
    MPLS (GMPLS) Traffic Engineering (TE) for multiple\n   Autonomous Systems (ASes).
    \ OSPF-TE v2 and v3 extensions are defined\n   for the flooding of TE information
    about inter-AS links that can be\n   used to perform inter-AS TE path computation.\n
    \  No support for flooding information from within one AS to another AS\n   is
    proposed or defined in this document.\n"
  title: Abstract
- contents:
  - "Table of Contents\n   1. Introduction ....................................................2\n
    \     1.1. Conventions Used in This Document ..........................3\n   2.
    Problem Statement ...............................................3\n      2.1.
    A Note on Non-Objectives ...................................4\n      2.2. Per-Domain
    Path Determination ..............................4\n      2.3. Backward Recursive
    Path Computation ........................6\n   3. Extensions to OSPF ..............................................7\n
    \     3.1. LSA Definitions ............................................8\n           3.1.1.
    Inter-AS-TE-v2 LSA ..................................8\n           3.1.2. Inter-AS-TE-v3
    LSA ..................................8\n      3.2. LSA Payload ................................................9\n
    \          3.2.1. Link TLV ............................................9\n      3.3.
    Sub-TLV Details ...........................................10\n           3.3.1.
    Remote AS Number Sub-TLV ...........................10\n           3.3.2. IPv4
    Remote ASBR ID Sub-TLV ........................11\n           3.3.3. IPv6 Remote
    ASBR ID Sub-TLV ........................11\n   4. Procedure for Inter-AS TE Links
    ................................12\n      4.1. Origin of Proxied TE Information
    ..........................13\n   5. Security Considerations ........................................14\n
    \  6. IANA Considerations ............................................14\n      6.1.
    Inter-AS TE OSPF LSA ......................................14\n           6.1.1.
    Inter-AS-TE-v2 LSA .................................14\n           6.1.2. Inter-AS-TE-v3
    LSA .................................14\n      6.2. OSPF LSA Sub-TLVs Type ....................................15\n
    \  7. Acknowledgments ................................................15\n   8.
    References .....................................................15\n      8.1.
    Normative References ......................................15\n      8.2. Informative
    References ....................................16\n"
  title: Table of Contents
- contents:
  - "1.  Introduction\n   [OSPF-TE] defines extensions to the OSPF protocol [OSPF]
    to support\n   intra-area Traffic Engineering (TE).  The extensions provide a
    way of\n   encoding the TE information for TE-enabled links within the network\n
    \  (TE links) and flooding this information within an area.  Type 10\n   Opaque
    Link State Advertisements (LSAs) [RFC5250] are used to carry\n   such TE information.
    \ Two top-level Type Length Values (TLVs) are\n   defined in [OSPF-TE]: Router
    Address TLV and Link TLV.  The Link TLV\n   has several nested sub-TLVs that describe
    the TE attributes for a TE\n   link.\n   [OSPF-V3-TE] defines similar extensions
    to OSPFv3 [OSPFV3].  It\n   defines a new LSA, which is referred to as the Intra-Area-TE
    LSA, to\n   advertise TE information.  [OSPF-V3-TE] uses \"Traffic Engineering\n
    \  Extensions to OSPF\" [OSPF-TE] as a base for TLV definitions and\n   defines
    some new TLVs and sub-TLVs to extend TE capabilities to IPv6\n   networks.\n   Requirements
    for establishing Multiprotocol Label Switching Traffic\n   Engineering (MPLS-TE)
    Label Switched Paths (LSPs) that cross multiple\n   Autonomous Systems (ASes)
    are described in [INTER-AS-TE-REQ].  As\n   described in [INTER-AS-TE-REQ], a
    method SHOULD provide the ability\n   to compute a path spanning multiple ASes.
    \ So a path computation\n   entity that may be the head-end Label Switching Router
    (LSR), an AS\n   Border Router (ASBR), or a Path Computation Element [PCE] needs
    to\n   know the TE information not only of the links within an AS, but also\n
    \  of the links that connect to other ASes.\n   In this document, two new separate
    LSAs are defined to advertise\n   inter-AS TE information for OSPFv2 and OSPFv3,
    respectively, and\n   three new sub-TLVs are added to the existing Link TLV to
    extend TE\n   capabilities for inter-AS Traffic Engineering.  The detailed\n   definitions
    and procedures are discussed in the following sections.\n   This document does
    not propose or define any mechanisms to advertise\n   any other extra-AS TE information
    within OSPF.  See Section 2.1 for a\n   full list of non-objectives for this work.\n"
  - contents:
    - "1.1.  Conventions Used in This Document\n   The key words \"MUST\", \"MUST
      NOT\", \"REQUIRED\", \"SHALL\", \"SHALL NOT\",\n   \"SHOULD\", \"SHOULD NOT\",
      \"RECOMMENDED\", \"MAY\", and \"OPTIONAL\" in this\n   document are to be interpreted
      as described in RFC 2119 [RFC2119].\n"
    title: 1.1.  Conventions Used in This Document
  title: 1.  Introduction
- contents:
  - "2.  Problem Statement\n   As described in [INTER-AS-TE-REQ], in the case of establishing
    an\n   inter-AS TE LSP traversing multiple ASes, the Path message [RFC3209]\n
    \  may include the following elements in the Explicit Route Object (ERO)\n   in
    order to describe the path of the LSP:\n      - a set of AS numbers as loose hops;
    and/or\n      - a set of LSRs including ASBRs as loose hops.\n   Two methods for
    determining inter-AS paths are currently being\n   discussed.  The per-domain
    method [PD-PATH] determines the path one\n   domain at a time.  The backward recursive
    method [BRPC] uses\n   cooperation between PCEs to determine an optimum inter-domain
    path.\n   The sections that follow examine how inter-AS TE link information\n
    \  could be useful in both cases.\n"
  - contents:
    - "2.1.  A Note on Non-Objectives\n   It is important to note that this document
      does not make any change\n   to the confidentiality and scaling assumptions
      surrounding the use of\n   ASes in the Internet.  In particular, this document
      is conformant to\n   the requirements set out in [INTER-AS-TE-REQ].\n   The
      following features are explicitly excluded:\n      o There is no attempt to
      distribute TE information from within one\n        AS to another AS.\n      o
      There is no mechanism proposed to distribute any form of TE\n        reachability
      information for destinations outside the AS.\n      o There is no proposed change
      to the PCE architecture or usage.\n      o TE aggregation is not supported or
      recommended.\n      o There is no exchange of private information between ASes.\n
      \     o No OSPF adjacencies are formed on the inter-AS link.\n   Note also that
      the extensions proposed in this document are used only\n   to advertise information
      about inter-AS TE links.  As such these\n   extensions address an entirely different
      problem from L1VPN Auto-\n   Discovery [L1VPN-OSPF-AD], which defines how TE
      information about\n   links between Customer Edge (CE) equipment and Provider
      Edge (PE)\n   equipment can be advertised in OSPF-TE alongside the auto-discovery\n
      \  information for the CE-PE links.  There is no overlap between this\n   document
      and [L1VPN-OSPF-AD].\n"
    title: 2.1.  A Note on Non-Objectives
  - contents:
    - "2.2.  Per-Domain Path Determination\n   In the per-domain method of determining
      an inter-AS path for an\n   MPLS-TE LSP, when an LSR that is an entry point
      to an AS receives a\n   Path message from an upstream AS with an ERO containing
      a next hop\n   that is an AS number, it needs to find which LSRs (ASBRs) within
      the\n   local AS are connected to the downstream AS so that it can compute a\n
      \  TE LSP segment across the local AS to one of those LSRs and forward\n   the
      Path message to it and hence into the next AS.  See Figure 1 for\n   an example:\n
      \           R1------R3----R5-----R7------R9-----R11\n                    |     |
      \\    |      / |\n                    |     |  \\   |  ----  |\n                    |
      \    |   \\  | /      |\n            R2------R4----R6   --R8------R10----R12\n
      \                      :              :\n            <-- AS1 -->:<---- AS2 --->:<---
      AS3 --->\n              Figure 1: Inter-AS Reference Model\n   The figure shows
      three ASes (AS1, AS2, and AS3) and twelve LSRs (R1\n   through R12).  R3 and
      R4 are ASBRs in AS1.  R5, R6, R7, and R8 are\n   ASBRs in AS2.  R9 and R10 are
      ASBRs in AS3.\n   If an inter-AS TE LSP is planned to be established from R1
      to R12,\n   the AS sequence will be: AS1, AS2, AS3.\n   Suppose that the Path
      message enters AS2 from R3.  The next hop in\n   the ERO shows AS3, and R5 must
      determine a path segment across AS2 to\n   reach AS3.  It has a choice of three
      exit points from AS2 (R6, R7,\n   and R8) and it needs to know which of these
      provide TE connectivity\n   to AS3, and whether the TE connectivity (for example,
      available\n   bandwidth) is adequate for the requested LSP.\n   Alternatively,
      if the next hop in the ERO is the entry ASBR for AS3\n   (say R9), R5 needs
      to know which of its exit ASBRs has a TE link that\n   connects to R9.  Since
      there may be multiple ASBRs that are connected\n   to R9 (both R7 and R8 in
      this example), R5 also needs to know the TE\n   properties of the inter-AS TE
      links so that it can select the correct\n   exit ASBR.\n   Once the path message
      reaches the exit ASBR, any choice of inter-AS\n   TE link can be made by the
      ASBR if not already made by the entry ASBR\n   that computed the segment.\n
      \  More details can be found in Section 4 of [PD-PATH], which clearly\n   points
      out why the advertising of inter-AS links is desired.\n   To enable R5 to make
      the correct choice of exit ASBR, the following\n   information is needed:\n
      \     o List of all inter-AS TE links for the local AS.\n      o TE properties
      of each inter-AS TE link.\n      o AS number of the neighboring AS to which
      each inter-AS TE link\n        is connected.\n      o Identity (TE Router ID)
      of the neighboring ASBR to which each\n        inter-AS TE link is connected.\n
      \  In GMPLS networks, further information may also be required to select\n   the
      correct TE links as defined in [GMPLS-TE].\n   The example above shows how this
      information is needed at the entry\n   point ASBRs for each AS (or the PCEs
      that provide computation\n   services for the ASBRs), but this information is
      also needed\n   throughout the local AS if path computation function is fully\n
      \  distributed among LSRs in the local AS, for example, to support LSPs\n   that
      have start points (ingress nodes) within the AS.\n"
    title: 2.2.  Per-Domain Path Determination
  - contents:
    - "2.3.  Backward Recursive Path Computation\n   Another scenario using PCE techniques
      has the same problem.  [BRPC]\n   defines a PCE-based TE LSP computation method
      (called Backward\n   Recursive Path Computation) to compute optimal inter-domain\n
      \  constrained MPLS-TE or GMPLS LSPs.  In this path computation method,\n   a
      specific set of traversed domains (ASes) are assumed to be selected\n   before
      computation starts.  Each downstream PCE in domain(i) returns\n   to its upstream
      neighbor PCE in domain(i-1) a multipoint-to-point\n   tree of potential paths.
      \ Each tree consists of the set of paths from\n   all Boundary Nodes located
      in domain(i) to the destination where each\n   path satisfies the set of required
      constraints for the TE LSP\n   (bandwidth, affinities, etc.).\n   So a PCE needs
      to select Boundary Nodes (that is, ASBRs) that provide\n   connectivity from
      the upstream AS.  In order that the tree of paths\n   provided by one PCE to
      its neighbor can be correlated, the identities\n   of the ASBRs for each path
      need to be referenced, so the PCE must\n   know the identities of the ASBRs
      in the remote AS reached by any\n   inter-AS TE link, and, in order that it
      provides only suitable paths\n   in the tree, the PCE must know the TE properties
      of the inter-AS TE\n   links.  See the following figure as an example:\n                   PCE1<------>PCE2<-------->PCE3\n
      \                  /       :             :\n                  /        :             :\n
      \               R1------R3----R5-----R7------R9-----R11\n                        |
      \    | \\    |      / |\n                        |     |  \\   |  ----  |\n
      \                       |     |   \\  | /      |\n                R2------R4----R6
      \  --R8------R10----R12\n                           :              :\n                <--
      AS1 -->:<---- AS2 --->:<--- AS3 --->\n              Figure 2: BRPC for Inter-AS
      Reference Model\n   The figure shows three ASes (AS1, AS2, and AS3), three PCEs
      (PCE1,\n   PCE2, and PCE3), and twelve LSRs (R1 through R12).  R3 and R4 are\n
      \  ASBRs in AS1.  R5, R6, R7, and R8 are ASBRs in AS2.  R9 and R10 are\n   ASBRs
      in AS3.  PCE1, PCE2, and PCE3 cooperate to perform inter-AS\n   path computation
      and are responsible for path segment computation\n   within their own domain(s).\n
      \  If an inter-AS TE LSP is planned to be established from R1 to R12,\n   the
      traversed domains are assumed to be selected: AS1->AS2->AS3, and\n   the PCE
      chain is: PCE1->PCE2->PCE3.  First, the path computation\n   request originated
      from the Path Computation Client (R1) is relayed\n   by PCE1 and PCE2 along
      the PCE chain to PCE3, then PCE3 begins to\n   compute the path segments from
      the entry boundary nodes that provide\n   connection from AS2 to the destination
      (R12).  But, to provide\n   suitable path segments, PCE3 must determine which
      entry boundary\n   nodes provide connectivity to its upstream neighbor AS (identified
      by\n   its AS number), and must know the TE properties of the inter-AS TE\n
      \  links.  In the same way, PCE2 also needs to determine the entry\n   boundary
      nodes according to its upstream neighbor AS and the inter-AS\n   TE link capabilities.\n
      \  Thus, to support Backward Recursive Path Computation the same\n   information
      listed in Section 2.2 is required.  The AS number of the\n   neighboring AS
      to which each inter-AS TE link is connected is\n   particularly important.\n"
    title: 2.3.  Backward Recursive Path Computation
  title: 2.  Problem Statement
- contents:
  - "3.  Extensions to OSPF\n   Note that this document does not define mechanisms
    for distribution\n   of TE information from one AS to another, does not distribute
    any\n   form of TE reachability information for destinations outside the AS,\n
    \  does not change the PCE architecture or usage, does not suggest or\n   recommend
    any form of TE aggregation, and does not feed private\n   information between
    ASes.  See Section 2.1.\n   The extensions defined in this document allow an inter-AS
    TE link\n   advertisement to be easily identified as such by the use of two new\n
    \  types of LSA, which are referred to as Inter-AS-TE-v2 LSA and\n   Inter-AS-TE-v3
    LSA.  Three new sub-TLVs are added to the Link TLV to\n   carry the information
    about the neighboring AS and the remote ASBR.\n   While some of the TE information
    of an inter-AS TE link may be\n   available within the AS from other protocols,
    in order to avoid any\n   dependency on where such protocols are processed, this
    mechanism\n   carries all the information needed for the required TE operations.\n"
  - contents:
    - '3.1.  LSA Definitions

      '
    - contents:
      - "3.1.1.  Inter-AS-TE-v2 LSA\n   For the advertisement of OSPFv2 inter-AS TE
        links, a new Opaque LSA,\n   the Inter-AS-TE-v2 LSA, is defined in this document.
        \ The\n   Inter-AS-TE-v2 LSA has the same format as \"Traffic Engineering
        LSA\",\n   which is defined in [OSPF-TE].\n   The inter-AS TE link advertisement
        SHOULD be carried in a Type 10\n   Opaque LSA [RFC5250] if the flooding scope
        is to be limited to within\n   the single IGP area to which the ASBR belongs,
        or MAY be carried in a\n   Type 11 Opaque LSA [RFC5250] if the information
        is intended to reach\n   all routers (including area border routers, ASBRs,
        and PCEs) in the\n   AS.  The choice between the use of a Type 10 (area-scoped)
        or Type 11\n   (AS-scoped) Opaque LSA is an AS-wide policy choice, and configuration\n
        \  control of it SHOULD be provided in ASBR implementations that support\n
        \  the advertisement of inter-AS TE links.\n   The Link State ID of an Opaque
        LSA as defined in [RFC5250] is divided\n   into two parts.  One of them is
        the Opaque type (8-bit), the other is\n   the Opaque ID (24-bit).  The value
        for the Opaque type of\n   Inter-AS-TE-v2 LSA is 6 and has been assigned by
        IANA (see Section\n   6.1).  The Opaque ID of the Inter-AS-TE-v2 LSA is an
        arbitrary value\n   used to uniquely identify Traffic Engineering LSAs.  The
        Link State\n   ID has no topological significance.\n   The TLVs within the
        body of an Inter-AS-TE-v2 LSA have the same\n   format as used in OSPF-TE.
        \ The payload of the TLVs consists of one\n   or more nested Type/Length/Value
        triplets.  New sub-TLVs specifically\n   for inter-AS TE Link advertisement
        are described in Section 3.2.\n"
      title: 3.1.1.  Inter-AS-TE-v2 LSA
    - contents:
      - "3.1.2.  Inter-AS-TE-v3 LSA\n   In this document, a new LS type is defined
        for OSPFv3 inter-AS TE\n   link advertisement.  The new LS type function code
        is 13 (see Section\n   6.1).\n   The format of an Inter-AS-TE-v3 LSA follows
        the standard definition\n   of an OSPFv3 LSA as defined in [OSPFV3].\n   The
        high-order three bits of the LS type field of the OSPFv3 LSA\n   header encode
        generic properties of the LSA and are termed the U-bit,\n   S2-bit, and S1-bit
        [OSPFV3].  The remainder of the LS type carries\n   the LSA function code.\n
        \  For the Inter-AS-TE-v3-LSA, the bits are set as follows:\n   The U-bit
        is always set to 1 to indicate that an OSPFv3 router MUST\n   flood the LSA
        at its defined flooding scope even if it does not\n   recognize the LS type.\n
        \  The S2 and S1 bits indicate the flooding scope of an LSA.  For the\n   Inter-AS-TE-v3-LSA,
        the S2 and S1 bits SHOULD be set to 01 to\n   indicate that the flooding scope
        is to be limited to within the\n   single IGP area to which the ASBR belongs,
        but MAY be set to 10 if\n   the information should reach all routers (including
        area border\n   routers, ASBRs, and PCEs) in the AS.  The choice between the
        use of\n   01 or 10 is a network-wide policy choice, and configuration control\n
        \  SHOULD be provided in ASBR implementations that support the\n   advertisement
        of inter-AS TE links.\n   The Link State ID of the Inter-AS-TE-v3 LSA is an
        arbitrary value\n   used to uniquely identify Traffic Engineering LSAs.  The
        LSA ID has\n   no topological significance.\n   The TLVs within the body of
        an Inter-AS-TE-v3 LSA have the same\n   format and semantics as those defined
        in [OSPF-V3-TE].  New sub-TLVs\n   specifically for inter-AS TE Link advertisement
        are described in\n   Section 3.2.\n"
      title: 3.1.2.  Inter-AS-TE-v3 LSA
    title: 3.1.  LSA Definitions
  - contents:
    - "3.2.  LSA Payload\n   Both the Inter-AS-TE-v2 LSA and Inter-AS-TE-v3 LSA contain
      one top\n   level TLV:\n      2 - Link TLV\n   For the Inter-AS-TE-v2 LSA, this
      TLV is defined in [OSPF-TE], and for\n   the Inter-AS-TE-v3 LSA, this TLV is
      defined in [OSPF-V3-TE].  The\n   sub-TLVs carried in this TLV are described
      in the following sections.\n"
    - contents:
      - "3.2.1.  Link TLV\n   The Link TLV describes a single link and consists a
        set of sub-TLVs.\n   The sub-TLVs for inclusion in the Link TLV of the Inter-AS-TE-v2
        LSA\n   and Inter-AS-TE-v3 LSA are defined, respectively, in [OSPF-TE] and\n
        \  [OSPF-V3-TE], and the list of sub-TLVs may be extended by other\n   documents.
        \ However, this document defines the following exceptions.\n   The Link ID
        sub-TLV [OSPF-TE] MUST NOT be used in the Link TLV of an\n   Inter-AS-TE-v2
        LSA, and the Neighbor ID sub-TLV [OSPF-V3-TE] MUST NOT\n   be used in the
        Link TLV of an Inter-AS-TE-v3 LSA.  Given that OSPF is\n   an IGP and should
        only be utilized between routers in the same\n   routing domain, the OSPF
        specific Link ID and Neighbor ID sub-TLVs\n   are not applicable to inter-AS
        links.\n   Instead, the remote ASBR is identified by the inclusion of the\n
        \  following new sub-TLVs defined in this document and described in the\n
        \  subsequent sections.\n      21 - Remote AS Number sub-TLV\n      22 - IPv4
        Remote ASBR ID sub-TLV\n      23 - IPv6 Remote ASBR ID sub-TLV\n   The Remote-AS-Number
        sub-TLV MUST be included in the Link TLV of both\n   the Inter-AS-TE-v2 LSA
        and Inter-AS-TE-v3 LSA.  At least one of the\n   IPv4-Remote-ASBR-ID sub-TLV
        and the IPv6-Remote-ASBR-ID sub-TLV\n   SHOULD be included in the Link TLV
        of the Inter-AS-TE-v2 LSA and\n   Inter-AS-TE-v3 LSA.  Note that it is possible
        to include the\n   IPv6-Remote-ASBR-ID sub-TLV in the Link TLV of the Inter-AS-TE-v2\n
        \  LSA, and to include the IPv4-Remote-ASBR-ID sub-TLV in the Link TLV\n   of
        the Inter-AS-TE-v3 LSA because the sub-TLVs refer to ASBRs that\n   are in
        a different addressing scope (that is, a different AS) from\n   that where
        the OSPF LSA is used.\n"
      title: 3.2.1.  Link TLV
    title: 3.2.  LSA Payload
  - contents:
    - '3.3.  Sub-TLV Details

      '
    - contents:
      - "3.3.1.  Remote AS Number Sub-TLV\n   A new sub-TLV, the Remote AS Number
        sub-TLV is defined for inclusion\n   in the Link TLV when advertising inter-AS
        links.  The Remote AS\n   Number sub-TLV specifies the AS number of the neighboring
        AS to which\n   the advertised link connects.  The Remote AS Number sub-TLV
        is\n   REQUIRED in a Link TLV that advertises an inter-AS TE link.\n   The
        Remote AS Number sub-TLV is TLV type 21 (see Section 6.2), and is\n   four
        octets in length.  The format is as follows:\n    0                   1                   2
        \                  3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3
        4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |              Type             |             Length            |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |                       Remote AS Number                        |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  The Remote AS Number field has 4 octets.  When only two octets are\n   used
        for the AS number, as in current deployments, the left (high-\n   order) two
        octets MUST be set to zero.\n"
      title: 3.3.1.  Remote AS Number Sub-TLV
    - contents:
      - "3.3.2.  IPv4 Remote ASBR ID Sub-TLV\n   A new sub-TLV, which is referred
        to as the IPv4 Remote ASBR ID sub-\n   TLV, can be included in the Link TLV
        when advertising inter-AS links.\n   The IPv4 Remote ASBR ID sub-TLV specifies
        the IPv4 identifier of the\n   remote ASBR to which the advertised inter-AS
        link connects.  This\n   could be any stable and routable IPv4 address of
        the remote ASBR.\n   Use of the TE Router Address TE Router ID as specified
        in the Router\n   Address TLV [OSPF-TE] is RECOMMENDED.\n   The IPv4 Remote
        ASBR ID sub-TLV is TLV type 22 (see Section 6.2), and\n   is four octets in
        length.  Its format is as follows:\n    0                   1                   2
        \                  3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3
        4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |              Type             |             Length            |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |                       Remote ASBR ID                          |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  In OSPFv2 advertisements, the IPv4 Remote ASBR ID sub-TLV MUST be\n   included
        if the neighboring ASBR has an IPv4 address.  If the\n   neighboring ASBR
        does not have an IPv4 address (not even an IPv4 TE\n   Router ID), the IPv6
        Remote ASBR ID sub-TLV MUST be included instead.\n   An IPv4 Remote ASBR ID
        sub-TLV and IPv6 Remote ASBR ID sub-TLV MAY\n   both be present in a Link
        TLV in OSPFv2 or OSPFv3.\n"
      title: 3.3.2.  IPv4 Remote ASBR ID Sub-TLV
    - contents:
      - "3.3.3.  IPv6 Remote ASBR ID Sub-TLV\n   A new sub-TLV, which is referred
        to as the IPv6 Remote ASBR ID sub-\n   TLV, can be included in the Link TLV
        when advertising inter-AS links.\n   The IPv6 Remote ASBR ID sub-TLV specifies
        the identifier of the\n   remote ASBR to which the advertised inter-AS link
        connects.  This\n   could be any stable, routable, and global IPv6 address
        of the remote\n   ASBR.  Use of the TE Router IPv6 Address IPv6 TE Router
        ID as\n   specified in the IPv6 Router Address, which is specified in the
        IPv6\n   Router Address TLV [OSPF-V3-TE], is RECOMMENDED.\n   The IPv6 Remote
        ASBR ID sub-TLV is TLV type 24 (see Section 6.2), and\n   is sixteen octets
        in length.  Its format is as follows:\n    0                   1                   2
        \                  3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3
        4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |              Type             |             Length            |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |                       Remote ASBR ID                          |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |                       Remote ASBR ID (continued)              |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |                       Remote ASBR ID (continued)              |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  |                       Remote ASBR ID (continued)              |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n
        \  In OSPFv3 advertisements, the IPv6 Remote ASBR ID sub-TLV MUST be\n   included
        if the neighboring ASBR has an IPv6 address.  If the\n   neighboring ASBR
        does not have an IPv6 address, the IPv4 Remote ASBR\n   ID sub-TLV MUST be
        included instead.  An IPv4 Remote ASBR ID sub-TLV\n   and IPv6 Remote ASBR
        ID sub-TLV MAY both be present in a Link TLV in\n   OSPFv2 or OSPFv3.\n"
      title: 3.3.3.  IPv6 Remote ASBR ID Sub-TLV
    title: 3.3.  Sub-TLV Details
  title: 3.  Extensions to OSPF
- contents:
  - "4.  Procedure for Inter-AS TE Links\n   When TE is enabled on an inter-AS link
    and the link is up, the ASBR\n   SHOULD advertise this link using the normal procedures
    for OSPF-TE\n   [OSPF-TE].  When either the link is down or TE is disabled on
    the\n   link, the ASBR SHOULD withdraw the advertisement.  When there are\n   changes
    to the TE parameters for the link (for example, when the\n   available bandwidth
    changes), the ASBR SHOULD re-advertise the link,\n   but the ASBR MUST take precautions
    against excessive re-\n   advertisements as described in [OSPF-TE].\n   Hellos
    MUST NOT be exchanged over the inter-AS link, and\n   consequently, an OSPF adjacency
    MUST NOT be formed.\n   The information advertised comes from the ASBR's knowledge
    of the TE\n   capabilities of the link, the ASBR's knowledge of the current status\n
    \  and usage of the link, and configuration at the ASBR of the remote AS\n   number
    and remote ASBR TE Router ID.\n   Legacy routers receiving an advertisement for
    an inter-AS TE link are\n   able to ignore it because the Link Type carries an
    unknown value.\n   They will continue to flood the LSA, but will not attempt to
    use the\n   information received as if the link were an intra-AS TE link.\n   In
    the current operation of TE OSPF, the LSRs at each end of a TE\n   link emit LSAs
    describing the link.  The databases in the LSRs then\n   have two entries (one
    locally generated, the other from the peer)\n   that describe the different 'directions'
    of the link.  This enables\n   Constrained Shortest Path First (CSPF) to do a
    two-way check on the\n   link when performing path computation and eliminate it
    from\n   consideration unless both directions of the link satisfy the required\n
    \  constraints.\n   In the case we are considering here (i.e., of a TE link to
    another\n   AS), there is, by definition, no IGP peering and hence no\n   bidirectional
    TE link information.  In order for the CSPF route\n   computation entity to include
    the link as a candidate path, we have\n   to find a way to get LSAs describing
    its (bidirectional) TE\n   properties into the TE database.\n   This is achieved
    by the ASBR advertising, internally to its AS,\n   information about both directions
    of the TE link to the next AS.  The\n   ASBR will normally generate an LSA describing
    its own side of a link;\n   here we have it 'proxy' for the ASBR at the edge of
    the other AS and\n   generate an additional LSA that describes that device's 'view'
    of the\n   link.\n   Only some essential TE information for the link needs to
    be\n   advertised; i.e., the Link Type, the Remote AS number, and the Remote\n
    \  ASBR ID.  Routers or PCEs that are capable of processing\n   advertisements
    of inter-AS TE links SHOULD NOT use such links to\n   compute paths that exit
    an AS to a remote ASBR and then immediately\n   re-enter the AS through another
    TE link.  Such paths would constitute\n   extremely rare occurrences and SHOULD
    NOT be allowed except as the\n   result of specific policy configurations at the
    router or PCE\n   computing the path.\n"
  - contents:
    - "4.1.  Origin of Proxied TE Information\n   Section 4 describes how an ASBR
      advertises TE link information as a\n   proxy for its neighbor ASBR, but does
      not describe where this\n   information comes from.\n   Although the source
      of this information is outside the scope of this\n   document, it is possible
      that it will be a configuration requirement\n   at the ASBR, as are other, local,
      properties of the TE link.\n   Further, where BGP is used to exchange IP routing
      information between\n   the ASBRs, a certain amount of additional local configuration
      about\n   the link and the remote ASBR is likely to be available.\n   We note
      further that it is possible, and may be operationally\n   advantageous, to obtain
      some of the required configuration\n   information from BGP.  Whether and how
      to utilize these possibilities\n   is an implementation matter.\n"
    title: 4.1.  Origin of Proxied TE Information
  title: 4.  Procedure for Inter-AS TE Links
- contents:
  - "5.  Security Considerations\n   The protocol extensions defined in this document
    are relatively minor\n   and can be secured within the AS in which they are used
    by the\n   existing OSPF security mechanisms.\n   There is no exchange of information
    between ASes, and no change to\n   the OSPF security relationship between the
    ASes.  In particular,\n   since no OSPF adjacency is formed on the inter-AS links,
    there is no\n   requirement for OSPF security between the ASes.\n   Some of the
    information included in these new advertisements (e.g.,\n   the remote AS number
    and the remote ASBR ID) is obtained manually\n   from a neighboring administration
    as part of commercial relationship.\n   The source and content of this information
    should be carefully\n   checked before it is entered as configuration information
    at the ASBR\n   responsible for advertising the inter-AS TE links.\n   It is worth
    noting that, in the scenario we are considering, a Border\n   Gateway Protocol
    (BGP) peering may exist between the two ASBRs, and\n   this could be used to detect
    inconsistencies in configuration (e.g.,\n   the administration that originally
    supplied the information may be\n   lying, or some manual misconfigurations or
    mistakes are made by the\n   operators).  For example, if a different remote AS
    number is received\n   in a BGP OPEN [BGP] from that locally configured into OSPF-TE,
    as we\n   describe here, then local policy SHOULD be applied to determine\n   whether
    to alert the operator to a potential misconfiguration or to\n   suppress the OSPF
    advertisement of the inter-AS TE link.  Note,\n   further, that if BGP is used
    to exchange TE information as described\n   in Section 4.1, the inter-AS BGP session
    SHOULD be secured using\n   mechanisms as described in [BGP] to provide authentication
    and\n   integrity checks.\n"
  title: 5.  Security Considerations
- contents:
  - "6.  IANA Considerations\n   IANA has made the following allocations from registries
    under its\n   control.\n"
  - contents:
    - '6.1.  Inter-AS TE OSPF LSA

      '
    - contents:
      - "6.1.1.  Inter-AS-TE-v2 LSA\n   IANA has assigned a new Opaque LSA type (6)
        to Inter-AS-TE-v2 LSA.\n"
      title: 6.1.1.  Inter-AS-TE-v2 LSA
    - contents:
      - "6.1.2.  Inter-AS-TE-v3 LSA\n   IANA has assigned a new OSPFv3 LSA type function
        code (13) to Inter-\n   AS-TE-v3 LSA.\n"
      title: 6.1.2.  Inter-AS-TE-v3 LSA
    title: 6.1.  Inter-AS TE OSPF LSA
  - contents:
    - "6.2.  OSPF LSA Sub-TLVs Type\n   IANA maintains the \"Open Shortest Path First
      (OSPF) Traffic\n   Engineering TLVs\" registry with sub-registry \"Types for
      sub-TLVs in a\n   TE Link TLV\".  IANA has assigned three new sub-TLVs as follows
      (see\n   Section 3.3 for details):\n   Value     Meaning\n   21        Remote
      AS Number sub-TLV\n   22        IPv4 Remote ASBR ID sub-TLV\n   24        IPv6
      Remote ASBR ID sub-TLV\n"
    title: 6.2.  OSPF LSA Sub-TLVs Type
  title: 6.  IANA Considerations
- contents:
  - "7.  Acknowledgments\n   The authors would like to thank Adrian Farrel, Acee Lindem,
    JP\n   Vasseur, Dean Cheng, and Jean-Louis Le Roux for their review and\n   comments
    to this document.\n"
  title: 7.  Acknowledgments
- contents:
  - '8.  References

    '
  - contents:
    - "8.1.  Normative References\n   [GMPLS-TE]        Kompella, K., Ed., and Y.
      Rekhter, Ed., \"OSPF\n                     Extensions in Support of Generalized
      Multi-Protocol\n                     Label Switching (GMPLS)\", RFC 4203, October
      2005.\n   [OSPF]            Moy, J., \"OSPF Version 2\", STD 54, RFC 2328, April\n
      \                    1998.\n   [OSPF-TE]         Katz, D., Kompella, K., and
      D. Yeung, \"Traffic\n                     Engineering (TE) Extensions to OSPF
      Version 2\", RFC\n                     3630, September 2003.\n   [OSPF-V3-TE]
      \     Ishiguro, K., Manral, V., Davey, A., and A. Lindem,\n                     Ed.,
      \"Traffic Engineering Extensions to OSPF\n                     Version 3\",
      RFC 5329, September 2008.\n   [OSPFV3]          Coltun, R., Ferguson, D., Moy,
      J., and A. Lindem,\n                     \"OSPF for IPv6\", RFC 5340, July 2008.\n
      \  [RFC2119]         Bradner, S., \"Key words for use in RFCs to Indicate\n
      \                    Requirement Levels\", BCP 14, RFC 2119, March 1997.\n   [RFC3209]
      \        Awduche, D., Berger, L., Gan, D., Li, T.,\n                     Srinivasan,
      V., and G. Swallow, \"RSVP-TE:\n                     Extensions to RSVP for
      LSP Tunnels\", RFC 3209,\n                     December 2001.\n   [RFC5250]
      \        Berger, L., Bryskin, I., Zinin, A., and R. Coltun,\n                     \"The
      OSPF Opaque LSA Option\", RFC 5250, July 2008.\n"
    title: 8.1.  Normative References
  - contents:
    - "8.2.  Informative References\n   [BGP]             Rekhter, Y., Ed., Li, T.,
      Ed., and S. Hares, Ed.,\n                     \"A Border Gateway Protocol 4
      (BGP-4)\", RFC 4271,\n                     January 2006.\n   [BRPC]            Vasseur,
      JP., Ed., Zhang, R., Bitar, N., and JL. Le\n                     Roux, \"A Backward
      Recursive PCE-Based Computation\n                     (BRPC) Procedure to Compute
      Shortest Inter-Domain\n                     Traffic Engineering Label Switched
      Paths\", Work in\n                     Progress, April 2008.\n   [INTER-AS-TE-REQ]
      Zhang, R., Ed., and J.-P. Vasseur, Ed., \"MPLS\n                     Inter-Autonomous
      System (AS) Traffic Engineering\n                     (TE) Requirements\", RFC
      4216, November 2005.\n   [L1VPN-OSPF-AD]   Bryskin, I. and L. Berger, \"OSPF-Based
      Layer 1 VPN\n                     Auto-Discovery\", RFC 5252, July 2008.\n   [PCE]
      \            Farrel, A., Vasseur, J.-P., and J. Ash, \"A Path\n                     Computation
      Element (PCE)-Based Architecture\", RFC\n                     4655, August 2006.\n
      \  [PD-PATH]         Vasseur, JP., Ed., Ayyangar, A., Ed., and R. Zhang,\n                     \"A
      Per-Domain Path Computation Method for\n                     Establishing Inter-Domain
      Traffic Engineering (TE)\n                     Label Switched Paths (LSPs)\",
      RFC 5152, February\n                     2008.\n"
    title: 8.2.  Informative References
  title: 8.  References
- contents:
  - "Authors' Addresses\n   Mach(Guoyi) Chen\n   Huawei Technologies Co., Ltd.\n   KuiKe
    Building, No.9 Xinxi Rd.\n   Hai-Dian District\n   Beijing, 100085\n   P.R. China\n
    \  EMail: mach@huawei.com\n   Renhai Zhang\n   Huawei Technologies Co., Ltd.\n
    \  KuiKe Building, No.9 Xinxi Rd.\n   Hai-Dian District\n   Beijing, 100085\n
    \  P.R. China\n   EMail: zhangrenhai@huawei.com\n   Xiaodong Duan\n   China Mobile\n
    \  53A,Xibianmennei Ave,Xunwu District\n   Beijing, China\n   EMail: duanxiaodong@chinamobile.com\n"
  title: Authors' Addresses
