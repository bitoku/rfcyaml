- title: __initial_text__
  contents:
  - '          An Architecture for IP Address Allocation with CIDR

    '
- title: Status of this Memo
  contents:
  - "Status of this Memo\n   This RFC specifies an Internet standards track protocol\
    \ for the\n   Internet community, and requests discussion and suggestions for\n\
    \   improvements.  Please refer to the current edition of the \"Internet\n   Official\
    \ Protocol Standards\" for the standardization state and status\n   of this protocol.\
    \  Distribution of this memo is unlimited.\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   This paper provides an architecture and a plan for allocating\
    \ IP\n   addresses in the Internet. This architecture and the plan are\n   intended\
    \ to play an important role in steering the Internet towards\n   the Address Assignment\
    \ and Aggregating Strategy outlined in [1].\n   The IP address space is a scarce\
    \ shared resource that must be managed\n   for the good of the community. The\
    \ managers of this resource are\n   acting as its custodians. They have a responsibility\
    \ to the community\n   to manage it for the common good.\n"
- title: 2.  Scope
  contents:
  - "2.  Scope\n   The global Internet can be modeled as a collection of hosts\n \
    \  interconnected via transmission and switching facilities.  Control\n   over\
    \ the collection of hosts and the transmission and switching\n   facilities that\
    \ compose the networking resources of the global\n   Internet is not homogeneous,\
    \ but is distributed among multiple\n   administrative authorities. Resources\
    \ under control of a single\n   administration form a domain.  For the rest of\
    \ this paper, \"domain\"\n   and \"routing domain\" will be used interchangeably.\
    \  Domains that\n   share their resources with other domains are called network\
    \ service\n   providers (or just providers). Domains that utilize other domain's\n\
    \   resources are called network service subscribers (or just\n   subscribers).\
    \  A given domain may act as a provider and a subscriber\n   simultaneously.\n\
    \   There are two aspects of interest when discussing IP address\n   allocation\
    \ within the Internet. The first is the set of\n   administrative requirements\
    \ for obtaining and allocating IP\n   addresses; the second is the technical aspect\
    \ of such assignments,\n   having largely to do with routing, both within a routing\
    \ domain\n   (intra-domain routing) and between routing domains (inter-domain\n\
    \   routing). This paper focuses on the technical issues.\n   In the current Internet\
    \ many routing domains (such as corporate and\n   campus networks) attach to transit\
    \ networks (such as regionals) in\n   only one or a small number of carefully\
    \ controlled access points.\n   The former act as subscribers, while the latter\
    \ act as providers.\n   The architecture and recommendations provided in this\
    \ paper are\n   intended for immediate deployment. This paper specifically does\
    \ not\n   address long-term research issues, such as complex policy-based\n  \
    \ routing requirements.\n   Addressing solutions which require substantial changes\
    \ or constraints\n   on the current topology are not considered.\n   The architecture\
    \ and recommendations in this paper are oriented\n   primarily toward the large-scale\
    \ division of IP address allocation in\n   the Internet. Topics covered include:\n\
    \      - Benefits of encoding some topological information in IP\n        addresses\
    \ to significantly reduce routing protocol overhead;\n      - The anticipated\
    \ need for additional levels of hierarchy in\n        Internet addressing to support\
    \ network growth;\n      - The recommended mapping between Internet topological\
    \ entities\n        (i.e., service providers, and service subscribers) and IP\n\
    \        addressing and routing components;\n      - The recommended division\
    \ of IP address assignment among service\n        providers (e.g., backbones,\
    \ regionals), and service subscribers\n        (e.g., sites);\n      - Allocation\
    \ of the IP addresses by the Internet Registry;\n      - Choice of the high-order\
    \ portion of the IP addresses in leaf\n        routing domains that are connected\
    \ to more than one service\n        provider (e.g., backbone or a regional network).\n\
    \   It is noted that there are other aspects of IP address allocation,\n   both\
    \ technical and administrative, that are not covered in this\n   paper.  Topics\
    \ not covered or mentioned only superficially include:\n      - Identification\
    \ of specific administrative domains in the\n        Internet;\n      - Policy\
    \ or mechanisms for making registered information known to\n        third parties\
    \ (such as the entity to which a specific IP address\n        or a portion of\
    \ the IP address space has been allocated);\n      - How a routing domain (especially\
    \ a site) should organize its\n        internal topology or allocate portions\
    \ of its IP address space;\n        the relationship between topology and addresses\
    \ is discussed,\n        but the method of deciding on a particular topology or\
    \ internal\n        addressing plan is not; and,\n       - Procedures for assigning\
    \ host IP addresses.\n"
- title: 3.  Background
  contents:
  - "3.  Background\n   Some background information is provided in this section that\
    \ is\n   helpful in understanding the issues involved in IP address\n   allocation.\
    \ A brief discussion of IP routing is provided.\n   IP partitions the routing\
    \ problem into three parts:\n      - routing exchanges between end systems and\
    \ routers (ARP),\n      - routing exchanges between routers in the same routing\
    \ domain\n        (interior routing), and,\n      - routing among routing domains\
    \ (exterior routing).\n"
- title: 4. IP Addresses and Routing
  contents:
  - "4. IP Addresses and Routing\n   For the purposes of this paper, an IP prefix\
    \ is an IP address and\n   some indication of the leftmost contiguous significant\
    \ bits within\n   this address. Throughout this paper IP address prefixes will\
    \ be\n   expressed as <IP-address IP-mask> tuples, such that a bitwise logical\n\
    \   AND operation on the IP-address and IP-mask components of a tuple\n   yields\
    \ the sequence of leftmost contiguous significant bits that form\n   the IP address\
    \ prefix. For example a tuple with the value <193.1.0.0\n   255.255.0.0> denotes\
    \ an IP address prefix with 16 leftmost contiguous\n   significant bits.\n   When\
    \ determining an administrative policy for IP address assignment,\n   it is important\
    \ to understand the technical consequences. The\n   objective behind the use of\
    \ hierarchical routing is to achieve some\n   level of routing data abstraction,\
    \ or summarization, to reduce the\n   cpu, memory, and transmission bandwidth\
    \ consumed in support of\n   routing.\n   While the notion of routing data abstraction\
    \ may be applied to\n   various types of routing information, this paper focuses\
    \ on one\n   particular type, namely reachability information. Reachability\n\
    \   information describes the set of reachable destinations.  Abstraction\n  \
    \ of reachability information dictates that IP addresses be assigned\n   according\
    \ to topological routing structures. However, administrative\n   assignment falls\
    \ along organizational or political boundaries. These\n   may not be congruent\
    \ to topological boundaries and therefore the\n   requirements of the two may\
    \ collide. It is necessary to find a\n   balance between these two needs.\n  \
    \ Routing data abstraction occurs at the boundary between\n   hierarchically arranged\
    \ topological routing structures. An element\n   lower in the hierarchy reports\
    \ summary routing information to its\n   parent(s).\n   At routing domain boundaries,\
    \ IP address information is exchanged\n   (statically or dynamically) with other\
    \ routing domains. If IP\n   addresses within a routing domain are all drawn from\
    \ non-contiguous\n   IP address spaces (allowing no abstraction), then the boundary\n\
    \   information consists of an enumerated list of all the IP addresses.\n   Alternatively,\
    \ should the routing domain draw IP addresses for all\n   the hosts within the\
    \ domain from a single IP address prefix, boundary\n   routing information can\
    \ be summarized into the single IP address\n   prefix.  This permits substantial\
    \ data reduction and allows better\n   scaling (as compared to the uncoordinated\
    \ addressing discussed in the\n   previous paragraph).\n   If routing domains\
    \ are interconnected in a more-or-less random (i.e.,\n   non-hierarchical) scheme,\
    \ it is quite likely that no further\n   abstraction of routing data can occur.\
    \ Since routing domains would\n   have no defined hierarchical relationship, administrators\
    \ would not\n   be able to assign IP addresses within the domains out of some\
    \ common\n   prefix for the purpose of data abstraction. The result would be flat\n\
    \   inter-domain routing; all routing domains would need explicit\n   knowledge\
    \ of all other routing domains that they route to.  This can\n   work well in\
    \ small and medium sized internets.  However, this does\n   not scale to very\
    \ large internets.  For example, we expect growth in\n   the future to an Internet\
    \ which has tens or hundreds of thousands of\n   routing domains in North America\
    \ alone.  This requires a greater\n   degree of the reachability information abstraction\
    \ beyond that which\n   can be achieved at the \"routing domain\" level.\n   In\
    \ the Internet, however, it should be possible to significantly\n   constrain\
    \ the volume and the complexity of routing information by\n   taking advantage\
    \ of the existing hierarchical interconnectivity, as\n   discussed in Section\
    \ 5. Thus, there is the opportunity for a group of\n   routing domains each to\
    \ be assigned an address prefix from a shorter\n   prefix assigned to another\
    \ routing domain whose function is to\n   interconnect the group of routing domains.\
    \ Each member of the group\n   of routing domains now has its (somewhat longer)\
    \ prefix, from which\n   it assigns its addresses.\n   The most straightforward\
    \ case of this occurs when there is a set of\n   routing domains which are all\
    \ attached to a single service provider\n   domain (e.g., regional network), and\
    \ which use that provider for all\n   external (inter-domain) traffic.  A small\
    \ prefix may be given to the\n   provider, which then gives slightly longer prefixes\
    \ (based on the\n   provider's prefix) to each of the routing domains that it\n\
    \   interconnects. This allows the provider, when informing other routing\n  \
    \ domains of the addresses that it can reach, to abbreviate the\n   reachability\
    \ information for a large number of routing domains as a\n   single prefix. This\
    \ approach therefore can allow a great deal of\n   hierarchical abbreviation of\
    \ routing information, and thereby can\n   greatly improve the scalability of\
    \ inter-domain routing.\n   Clearly, this approach is recursive and can be carried\
    \ through\n   several iterations. Routing domains at any \"level\" in the hierarchy\n\
    \   may use their prefix as the basis for subsequent suballocations,\n   assuming\
    \ that the IP addresses remain within the overall length and\n   structure constraints.\n\
    \   At this point, we observe that the number of nodes at each lower\n   level\
    \ of a hierarchy tends to grow exponentially. Thus the greatest\n   gains in the\
    \ reachability information abstraction (for the benefit of\n   all higher levels\
    \ of the hierarchy) occur when the reachability\n   information aggregation occurs\
    \ near the leaves of the hierarchy; the\n   gains drop significantly at each higher\
    \ level. Therefore, the law of\n   diminishing returns suggests that at some point\
    \ data abstraction\n   ceases to produce significant benefits. Determination of\
    \ the point at\n   which data abstraction ceases to be of benefit requires a careful\n\
    \   consideration of the number of routing domains that are expected to\n   occur\
    \ at each level of the hierarchy (over a given period of time),\n   compared to\
    \ the number of routing domains and address prefixes that\n   can conveniently\
    \ and efficiently be handled via dynamic inter-domain\n   routing protocols.\n"
- title: 4.1  Efficiency versus Decentralized Control
  contents:
  - "4.1  Efficiency versus Decentralized Control\n   If the Internet plans to support\
    \ a decentralized address\n   administration [4], then there is a balance that\
    \ must be sought\n   between the requirements on IP addresses for efficient routing\
    \ and\n   the need for decentralized address administration. A proposal\n   described\
    \ in [3] offers an example of how these two needs might be\n   met.\n   The IP\
    \ address prefix <198.0.0.0 254.0.0.0> provides for\n   administrative decentralization.\
    \ This prefix identifies part of the\n   IP address space allocated for North\
    \ America. The lower order part of\n   that prefix allows allocation of IP addresses\
    \ along topological\n   boundaries in support of increased data abstraction. \
    \ Clients within\n   North America use parts of the IP address space that is underneath\n\
    \   the IP address space of their service providers.  Within a routing\n   domain\
    \ addresses for subnetworks and hosts are allocated from the\n   unique IP prefix\
    \ assigned to the domain.\n"
- title: 5.  IP Address Administration and Routing in the Internet
  contents:
  - "5.  IP Address Administration and Routing in the Internet\n   The basic Internet\
    \ routing components are service providers (e.g.,\n   backbones, regional networks),\
    \ and service subscribers (e.g., sites\n   or campuses).  These components are\
    \ arranged hierarchically for the\n   most part.  A natural mapping from these\
    \ components to IP routing\n   components is that providers and subscribers act\
    \ as routing domains.\n   Alternatively, a subscriber (e.g., a site) may choose\
    \ to operate as a\n   part of a domain formed by a service provider. We assume\
    \ that some,\n   if not most, sites will prefer to operate as part of their provider's\n\
    \   routing domain.  Such sites can exchange routing information with\n   their\
    \ provider via interior routing protocol route leaking or via an\n   exterior\
    \ routing protocol.  For the purposes of this discussion, the\n   choice is not\
    \ significant.  The site is still allocated a prefix from\n   the provider's address\
    \ space, and the provider will advertise its own\n   prefix into inter-domain\
    \ routing.\n   Given such a mapping, where should address administration and\n\
    \   allocation be performed to satisfy both administrative\n   decentralization\
    \ and data abstraction? The following possibilities\n   are considered:\n    \
    \  - at some part within a routing domain,\n      - at the leaf routing domain,\n\
    \      - at the transit routing domain (TRD), and\n      - at the continental\
    \ boundaries.\n      A point within a routing domain corresponds to a subnetwork.\
    \ If a\n      domain is composed of multiple subnetworks, they are\n      interconnected\
    \ via routers.  Leaf routing domains correspond to\n      sites, where the primary\
    \ purpose is to provide intra-domain\n      routing services. Transit routing\
    \ domains are deployed to carry\n      transit (i.e., inter-domain) traffic; backbones\
    \ and providers are\n      TRDs.\n      The greatest burden in transmitting and\
    \ operating on routing\n      information is at the top of the routing hierarchy,\
    \ where routing\n      information tends to accumulate. In the Internet, for example,\n\
    \      providers must manage the set of network numbers for all networks\n   \
    \   reachable through the provider. Traffic destined for other\n      providers\
    \ is generally routed to the backbones (which act as\n      providers as well).\
    \  The backbones, however, must be cognizant of\n      the network numbers for\
    \ all attached providers and their\n      associated networks.\n      In general,\
    \ the advantage of abstracting routing information at a\n      given level of\
    \ the routing hierarchy is greater at the higher\n      levels of the hierarchy.\
    \ There is relatively little direct benefit\n      to the administration that\
    \ performs the abstraction, since it must\n      maintain routing information\
    \ individually on each attached\n      topological routing structure.\n      For\
    \ example, suppose that a given site is trying to decide whether\n      to obtain\
    \ an IP address prefix directly from the IP address space\n      allocated for\
    \ North America, or from the IP address space\n      allocated to its service\
    \ provider. If considering only their own\n      self-interest, the site itself\
    \ and the attached provider have\n      little reason to choose one approach or\
    \ the other. The site must\n      use one prefix or another; the source of the\
    \ prefix has little\n      effect on routing efficiency within the site. The provider\
    \ must\n      maintain information about each attached site in order to route,\n\
    \      regardless of any commonality in the prefixes of the sites.\n      However,\
    \ there is a difference when the provider distributes\n      routing information\
    \ to other providers (e.g., backbones or TRDs).\n      In the first case, the\
    \ provider cannot aggregate the site's\n      address into its own prefix; the\
    \ address must be explicitly listed\n      in routing exchanges, resulting in\
    \ an additional burden to other\n      providers which must exchange and maintain\
    \ this information.\n      In the second case, each other provider (e.g., backbone\
    \ or TRD)\n      sees a single address prefix for the provider, which encompasses\n\
    \      the new site. This avoids the exchange of additional routing\n      information\
    \ to identify the new site's address prefix. Thus, the\n      advantages primarily\
    \ accrue to other providers which maintain\n      routing information about this\
    \ site and provider.\n      One might apply a supplier/consumer model to this\
    \ problem: the\n      higher level (e.g., a backbone) is a supplier of routing\
    \ services,\n      while the lower level (e.g., a TRD) is the consumer of these\n\
    \      services. The price charged for services is based upon the cost of\n  \
    \    providing them.  The overhead of managing a large table of\n      addresses\
    \ for routing to an attached topological entity\n      contributes to this cost.\n\
    \      The Internet, however, is not a market economy. Rather, efficient\n   \
    \   operation is based on cooperation. The recommendations discussed\n      below\
    \ describe simple and tractable ways of managing the IP\n      address space that\
    \ benefit the entire community.\n"
- title: 5.1   Administration of IP addresses within a domain
  contents:
  - "5.1   Administration of IP addresses within a domain\n      If individual subnetworks\
    \ take their IP addresses from a myriad of\n      unrelated IP address spaces,\
    \ there will be effectively no data\n      abstraction beyond what is built into\
    \ existing intra-domain\n      routing protocols.  For example, assume that within\
    \ a routing\n      domain uses three independent prefixes assigned from three\n\
    \      different IP address spaces associated with three different\n      attached\
    \ providers.\n      This has a negative effect on inter-domain routing, particularly\n\
    \      on those other domains which need to maintain routes to this\n      domain.\
    \  There is no common prefix that can be used to represent\n      these IP addresses\
    \ and therefore no summarization can take place\n      at the routing domain boundary.\
    \ When addresses are advertised by\n      this routing domain to other routing\
    \ domains, an enumerated list\n      of the three individual prefixes must be\
    \ used.\n      This situation is roughly analogous to the present dissemination\n\
    \      of routing information in the Internet, where each domain may have\n  \
    \    non-contiguous network numbers assigned to it.  The result of\n      allowing\
    \ subnetworks within a routing domain to take their IP\n      addresses from unrelated\
    \ IP address spaces is flat routing at the\n      A/B/C class network level. \
    \ The number of IP prefixes that leaf\n      routing domains would advertise is\
    \ on the order of the number of\n      attached network numbers; the number of\
    \ prefixes a provider's\n      routing domain would advertise is approximately\
    \ the number of\n      network numbers attached to the client leaf routing domains;\
    \ and\n      for a backbone this would be summed across all attached providers.\n\
    \      This situation is just barely acceptable in the current Internet,\n   \
    \   and as the Internet grows this will quickly become intractable. A\n      greater\
    \ degree of hierarchical information reduction is necessary\n      to allow continued\
    \ growth in the Internet.\n"
- title: 5.2   Administration at the Leaf Routing Domain
  contents:
  - "5.2   Administration at the Leaf Routing Domain\n      As mentioned previously,\
    \ the greatest degree of data abstraction\n      comes at the lowest levels of\
    \ the hierarchy. Providing each leaf\n      routing domain (that is, site) with\
    \ a prefix from its provider's\n      prefix results in the biggest single increase\
    \ in abstraction. From\n      outside the leaf routing domain, the set of all\
    \ addresses\n      reachable in the domain can then be represented by a single\n\
    \      prefix.  Further, all destinations reachable within the provider's\n  \
    \    prefix can be represented by a single prefix.\n      For example, consider\
    \ a single campus which is a leaf routing\n      domain which would currently\
    \ require 4 different IP networks.\n      Under the new allocation scheme, they\
    \ might instead be given a\n      single prefix which provides the same number\
    \ of destination\n      addresses.  Further, since the prefix is a subset of the\n\
    \      provider's prefix, they impose no additional burden on the higher\n   \
    \   levels of the routing hierarchy.\n      There is a close relationship between\
    \ subnetworks and routing\n      domains implicit in the fact that they operate\
    \ a common routing\n      protocol and are under the control of a single administration.\
    \ The\n      routing domain administration subdivides the domain into\n      subnetworks.\
    \  The routing domain represents the only path between\n      a subnetwork and\
    \ the rest of the internetwork. It is reasonable\n      that this relationship\
    \ also extend to include a common IP\n      addressing space. Thus, the subnetworks\
    \ within the leaf routing\n      domain should take their IP addresses from the\
    \ prefix assigned to\n      the leaf routing domain.\n"
- title: 5.3   Administration at the Transit Routing Domain
  contents:
  - "5.3   Administration at the Transit Routing Domain\n      Two kinds of transit\
    \ routing domains are considered, direct\n      providers and indirect providers.\
    \ Most of the subscribers of a\n      direct provider are domains that act solely\
    \ as service subscribers\n      (they carry no transit traffic). Most of the subscribers\
    \ of an\n      indirect provider are domains that, themselves, act as service\n\
    \      providers. In present terminology a backbone is an indirect\n      provider,\
    \ while a TRD is a direct provider. Each case is discussed\n      separately below.\n"
- title: 5.3.1   Direct Service Providers
  contents:
  - "5.3.1   Direct Service Providers\n      It is interesting to consider whether\
    \ direct service providers'\n      routing domains should use their IP address\
    \ space for assigning IP\n      addresses from a unique prefix to the leaf routing\
    \ domains that\n      they serve. The benefits derived from data abstraction are\
    \ greater\n      than in the case of leaf routing domains, and the additional\n\
    \      degree of data abstraction provided by this may be necessary in\n     \
    \ the short term.\n      As an illustration consider an example of a direct provider\
    \ that\n      serves 100 clients. If each client takes its addresses from 4\n\
    \      independent address spaces then the total number of entries that\n    \
    \  are needed to handle routing to these clients is 400 (100 clients\n      times\
    \ 4 providers).  If each client takes its addresses from a\n      single address\
    \ space then the total number of entries would be\n      only 100. Finally, if\
    \ all the clients take their addresses from\n      the same address space then\
    \ the total number of entries would be\n      only 1.\n      We expect that in\
    \ the near term the number of routing domains in\n      the Internet will grow\
    \ to the point that it will be infeasible to\n      route on the basis of a flat\
    \ field of routing domains. It will\n      therefore be essential to provide a\
    \ greater degree of information\n      abstraction.\n      Direct providers may\
    \ give part of their address space (prefixes)\n      to leaf domains, based on\
    \ an address prefix given to the provider.\n      This results in direct providers\
    \ advertising to backbones a small\n      fraction of the number of address prefixes\
    \ that would be necessary\n      if they enumerated the individual prefixes of\
    \ the leaf routing\n      domains.  This represents a significant savings given\
    \ the expected\n      scale of global internetworking.\n      Are leaf routing\
    \ domains willing to accept prefixes derived from\n      the direct providers?\
    \ In the supplier/consumer model, the direct\n      provider is offering connectivity\
    \ as the service, priced according\n      to its costs of operation. This includes\
    \ the \"price\" of obtaining\n      service from one or more indirect providers\
    \ (e.g., backbones). In\n      general, indirect providers will want to handle\
    \ as few address\n      prefixes as possible to keep costs low. In the Internet\n\
    \      environment, which does not operate as a typical marketplace, leaf\n  \
    \    routing domains must be sensitive to the resource constraints of\n      the\
    \ providers (both direct and indirect). The efficiencies gained\n      in inter-domain\
    \ routing clearly warrant the adoption of IP address\n      prefixes derived from\
    \ the IP address space of the providers.\n      The mechanics of this scenario\
    \ are straightforward. Each direct\n      provider is given a unique small set\
    \ of IP address prefixes, from\n      which its attached leaf routing domains\
    \ can allocates slightly\n      longer IP address prefixes.  For example assume\
    \ that NIST is a\n      leaf routing domain whose inter-domain link is via SURANet.\
    \ If\n      SURANet is assigned an unique IP address prefix <198.1.0.0\n     \
    \ 255.255.0.0>, NIST could use a unique IP prefix of <198.1.0.0\n      255.255.240.0>.\n\
    \      If a direct service provider is connected to another provider(s)\n    \
    \  (either direct or indirect) via multiple attachment points, then\n      in\
    \ certain cases it may be advantageous to the direct provider to\n      exert\
    \ a certain degree of control over the coupling between the\n      attachment\
    \ points and flow of the traffic destined to a particular\n      subscriber. \
    \ Such control can be facilitated by first partitioning\n      all the subscribers\
    \ into groups, such that traffic destined to all\n      the subscribers within\
    \ a group should flow through a particular\n      attachment point. Once the partitioning\
    \ is done, the address space\n      of the provider is subdivided along the group\
    \ boundaries. A leaf\n      routing domain that is willing to accept prefixes\
    \ derived from its\n      direct provider gets a prefix from the provider's address\
    \ space\n      subdivision associated with the group the domain belongs to. Note\n\
    \      that the advertisement by the direct provider of the routing\n      information\
    \ associated with each subdivision must be done with\n      care to ensure that\
    \ such an advertisement would not result in a\n      global distribution of separate\
    \ reachability information\n      associated with each subdivision, unless such\
    \ distribution is\n      warranted for some other purposes (e.g., supporting certain\n\
    \      aspects of policy-based routing).\n"
- title: 5.3.2   Indirect Providers (Backbones)
  contents:
  - "5.3.2   Indirect Providers (Backbones)\n      There does not appear to be a strong\
    \ case for direct providers to\n      take their address spaces from the the IP\
    \ space of an indirect\n      provider (e.g., backbone). The benefit in routing\
    \ data abstraction\n      is relatively small. The number of direct providers\
    \ today is in\n      the tens and an order of magnitude increase would not cause\
    \ an\n      undue burden on the backbones.  Also, it may be expected that as\n\
    \      time goes by there will be increased direct interconnection of the\n  \
    \    direct providers, leaf routing domains directly attached to the\n      backbones,\
    \ and international links directly attached to the\n      providers. Under these\
    \ circumstances, the distinction between\n      direct and indirect providers\
    \ may become blurred.\n      An additional factor that discourages allocation\
    \ of IP addresses\n      from a backbone prefix is that the backbones and their\
    \ attached\n      providers are perceived as being independent. Providers may\
    \ take\n      their long- haul service from one or more backbones, or may switch\n\
    \      backbones should a more cost-effective service be provided\n      elsewhere.\
    \ Having IP addresses derived from a backbone is\n      inconsistent with the\
    \ nature of the relationship.\n"
- title: 5.4   Multi-homed Routing Domains
  contents:
  - "5.4   Multi-homed Routing Domains\n      The discussions in Section 5.3 suggest\
    \ methods for allocating IP\n      addresses based on direct or indirect provider\
    \ connectivity. This\n      allows a great deal of information reduction to be\
    \ achieved for\n      those routing domains which are attached to a single TRD.\
    \ In\n      particular, such routing domains may select their IP addresses\n \
    \     from a space delegated to them by the direct provider. This allows\n   \
    \   the provider, when announcing the addresses that it can reach to\n      other\
    \ providers, to use a single address prefix to describe a\n      large number\
    \ of IP addresses corresponding to multiple routing\n      domains.\n      However,\
    \ there are additional considerations for routing domains\n      which are attached\
    \ to multiple providers. Such \"multi-homed\"\n      routing domains may, for\
    \ example, consist of single-site campuses\n      and companies which are attached\
    \ to multiple backbones, large\n      organizations which are attached to different\
    \ providers at\n      different locations in the same country, or multi-national\n\
    \      organizations which are attached to backbones in a variety of\n      countries\
    \ worldwide. There are a number of possible ways to deal\n      with these multi-homed\
    \ routing domains.\n      One possible solution is for each multi-homed organization\
    \ to\n      obtain its IP address space independently from the providers to\n\
    \      which it is attached.  This allows each multi-homed organization\n    \
    \  to base its IP assignments on a single prefix, and to thereby\n      summarize\
    \ the set of all IP addresses reachable within that\n      organization via a\
    \ single prefix.  The disadvantage of this\n      approach is that since the IP\
    \ address for that organization has no\n      relationship to the addresses of\
    \ any particular TRD, the TRDs to\n      which this organization is attached will\
    \ need to advertise the\n      prefix for this organization to other providers.\
    \  Other providers\n      (potentially worldwide) will need to maintain an explicit\
    \ entry\n      for that organization in their routing tables.\n      For example,\
    \ suppose that a very large North American company\n      \"Mega Big International\
    \ Incorporated\" (MBII) has a fully\n      interconnected internal network and\
    \ is assigned a single prefix as\n      part of the North American prefix.  It\
    \ is likely that outside of\n      North America, a single entry may be maintained\
    \ in routing tables\n      for all North American destinations.  However, within\
    \ North\n      America, every provider will need to maintain a separate address\n\
    \      entry for MBII. If MBII is in fact an international corporation,\n    \
    \  then it may be necessary for every provider worldwide to maintain\n      a\
    \ separate entry for MBII (including backbones to which MBII is\n      not attached).\
    \ Clearly this may be acceptable if there are a small\n      number of such multi-homed\
    \ routing domains, but would place an\n      unacceptable load on routers within\
    \ backbones if all organizations\n      were to choose such address assignments.\
    \  This solution may not\n      scale to internets where there are many hundreds\
    \ of thousands of\n      multi-homed organizations.\n      A second possible approach\
    \ would be for multi-homed organizations\n      to be assigned a separate IP address\
    \ space for each connection to\n      a TRD, and to assign a single prefix to\
    \ some subset of its\n      domain(s) based on the closest interconnection point.\
    \ For example,\n      if MBII had connections to two providers in the U.S. (one\
    \ east\n      coast, and one west coast), as well as three connections to\n  \
    \    national backbones in Europe, and one in the far east, then MBII\n      may\
    \ make use of six different address prefixes.  Each part of MBII\n      would\
    \ be assigned a single address prefix based on the nearest\n      connection.\n\
    \      For purposes of external routing of traffic from outside MBII to a\n  \
    \    destination inside of MBII, this approach works similarly to\n      treating\
    \ MBII as six separate organizations. For purposes of\n      internal routing,\
    \ or for routing traffic from inside of MBII to a\n      destination outside of\
    \ MBII, this approach works the same as the\n      first solution.\n      If we\
    \ assume that incoming traffic (coming from outside of MBII,\n      with a destination\
    \ within MBII) is always to enter via the nearest\n      point to the destination,\
    \ then each TRD which has a connection to\n      MBII needs to announce to other\
    \ TRDs the ability to reach only\n      those parts of MBII whose address is taken\
    \ from its own address\n      space. This implies that no additional routing information\
    \ needs\n      to be exchanged between TRDs, resulting in a smaller load on the\n\
    \      inter-domain routing tables maintained by TRDs when compared to\n     \
    \ the first solution. This solution therefore scales better to\n      extremely\
    \ large internets containing very large numbers of multi-\n      homed organizations.\n\
    \      One problem with the second solution is that backup routes to\n      multi-homed\
    \ organizations are not automatically maintained. With\n      the first solution,\
    \ each TRD, in announcing the ability to reach\n      MBII, specifies that it\
    \ is able to reach all of the hosts within\n      MBII. With the second solution,\
    \ each TRD announces that it can\n      reach all of the hosts based on its own\
    \ address prefix, which only\n      includes some of the hosts within MBII. If\
    \ the connection between\n      MBII and one particular TRD were severed, then\
    \ the hosts within\n      MBII with addresses based on that TRD would become unreachable\
    \ via\n      inter-domain routing. The impact of this problem can be reduced\n\
    \      somewhat by maintenance of additional information within routing\n    \
    \  tables, but this reduces the scaling advantage of the second\n      approach.\n\
    \      The second solution also requires that when external connectivity\n   \
    \   changes, internal addresses also change.\n      Also note that this and the\
    \ previous approach will tend to cause\n      packets to take different routes.\
    \ With the first approach, packets\n      from outside of MBII destined for within\
    \ MBII will tend to enter\n      via the point which is closest to the source\
    \ (which will therefore\n      tend to maximize the load on the networks internal\
    \ to MBII). With\n      the second solution, packets from outside destined for\
    \ within MBII\n      will tend to enter via the point which is closest to the\n\
    \      destination (which will tend to minimize the load on the networks\n   \
    \   within MBII, and maximize the load on the TRDs).\n      These solutions also\
    \ have different effects on policies. For\n      example, suppose that country\
    \ \"X\" has a law that traffic from a\n      source within country X to a destination\
    \ within country X must at\n      all times stay entirely within the country.\
    \ With the first\n      solution, it is not possible to determine from the destination\n\
    \      address whether or not the destination is within the country. With\n  \
    \    the second solution, a separate address may be assigned to those\n      hosts\
    \ which are within country X, thereby allowing routing\n      policies to be followed.\
    \  Similarly, suppose that \"Little Small\n      Company\" (LSC) has a policy\
    \ that its packets may never be sent to\n      a destination that is within MBII.\
    \ With either solution, the\n      routers within LSC may be configured to discard\
    \ any traffic that\n      has a destination within MBII's address space. However,\
    \ with the\n      first solution this requires one entry; with the second it\n\
    \      requires many entries and may be impossible as a practical matter.\n  \
    \    There are other possible solutions as well. A third approach is to\n    \
    \  assign each multi-homed organization a single address prefix,\n      based\
    \ on one of its connections to a TRD. Other TRDs to which the\n      multi-homed\
    \ organization are attached maintain a routing table\n      entry for the organization,\
    \ but are extremely selective in terms\n      of which other TRDs are told of\
    \ this route. This approach will\n      produce a single \"default\" routing entry\
    \ which all TRDs will know\n      how to reach (since presumably all TRDs will\
    \ maintain routes to\n      each other), while providing more direct routing in\
    \ some cases.\n      There is at least one situation in which this third approach\
    \ is\n      particularly appropriate. Suppose that a special interest group of\n\
    \      organizations have deployed their own backbone. For example, lets\n   \
    \   suppose that the U.S. National Widget Manufacturers and\n      Researchers\
    \ have set up a U.S.-wide backbone, which is used by\n      corporations who manufacture\
    \ widgets, and certain universities\n      which are known for their widget research\
    \ efforts. We can expect\n      that the various organizations which are in the\
    \ widget group will\n      run their internal networks as separate routing domains,\
    \ and most\n      of them will also be attached to other TRDs (since most of the\n\
    \      organizations involved in widget manufacture and research will\n      also\
    \ be involved in other activities). We can therefore expect\n      that many or\
    \ most of the organizations in the widget group are\n      dual-homed, with one\
    \ attachment for widget-associated\n      communications and the other attachment\
    \ for other types of\n      communications. Let's also assume that the total number\
    \ of\n      organizations involved in the widget group is small enough that it\n\
    \      is reasonable to maintain a routing table containing one entry per\n  \
    \    organization, but that they are distributed throughout a larger\n      internet\
    \ with many millions of (mostly not widget-associated)\n      routing domains.\n\
    \      With the third approach, each multi-homed organization in the\n      widget\
    \ group would make use of an address assignment based on its\n      other attachment(s)\
    \ to TRDs (the attachments not associated with\n      the widget group). The widget\
    \ backbone would need to maintain\n      routes to the routing domains associated\
    \ with the various member\n      organizations.  Similarly, all members of the\
    \ widget group would\n      need to maintain a table of routes to the other members\
    \ via the\n      widget backbone.  However, since the widget backbone does not\n\
    \      inform other general worldwide TRDs of what addresses it can reach\n  \
    \    (since the backbone is not intended for use by other outside\n      organizations),\
    \ the relatively large set of routing prefixes needs\n      to be maintained only\
    \ in a limited number of places. The addresses\n      assigned to the various\
    \ organizations which are members of the\n      widget group would provide a \"\
    default route\" via each members\n      other attachments to TRDs, while allowing\
    \ communications within\n      the widget group to use the preferred path.\n \
    \     A fourth solution involves assignment of a particular address\n      prefix\
    \ for routing domains which are attached to precisely two (or\n      more) specific\
    \ routing domains. For example, suppose that there\n      are two providers \"\
    SouthNorthNet\" and \"NorthSouthNet\" which have a\n      very large number of\
    \ customers in common (i.e., there are a large\n      number of routing domains\
    \ which are attached to both). Rather than\n      getting two address prefixes\
    \ these organizations could obtain\n      three prefixes.  Those routing domains\
    \ which are attached to\n      NorthSouthNet but not attached to SouthNorthNet\
    \ obtain an address\n      assignment based on one of the prefixes. Those routing\
    \ domains\n      which are attached to SouthNorthNet but not to NorthSouthNet\
    \ would\n      obtain an address based on the second prefix. Finally, those\n\
    \      routing domains which are multi-homed to both of these networks\n     \
    \ would obtain an address based on the third prefix.  Each of these\n      two\
    \ TRDs would then advertise two prefixes to other TRDs, one\n      prefix for\
    \ leaf routing domains attached to it only, and one\n      prefix for leaf routing\
    \ domains attached to both.\n      This fourth solution is likely to be important\
    \ when use of public\n      data networks becomes more common. In particular,\
    \ it is likely\n      that at some point in the future a substantial percentage\
    \ of all\n      routing domains will be attached to public data networks. In this\n\
    \      case, nearly all government-sponsored networks (such as some\n      current\
    \ regionals) may have a set of customers which overlaps\n      substantially with\
    \ the public networks.\n      There are therefore a number of possible solutions\
    \ to the problem\n      of assigning IP addresses to multi-homed routing domains.\
    \ Each of\n      these solutions has very different advantages and disadvantages.\n\
    \      Each solution places a different real (i.e., financial) cost on\n     \
    \ the multi-homed organizations, and on the TRDs (including those to\n      which\
    \ the multi-homed organizations are not attached).\n      In addition, most of\
    \ the solutions described also highlight the\n      need for each TRD to develop\
    \ policy on whether and under what\n      conditions to accept addresses that\
    \ are not based on its own\n      address prefix, and how such non-local addresses\
    \ will be treated.\n      For example, a somewhat conservative policy might be\
    \ that non-\n      local IP address prefixes will be accepted from any attached\
    \ leaf\n      routing domain, but not advertised to other TRDs.  In a less\n \
    \     conservative policy, a TRD might accept such non-local prefixes\n      and\
    \ agree to exchange them with a defined set of other TRDs (this\n      set could\
    \ be an a priori group of TRDs that have something in\n      common such as geographical\
    \ location, or the result of an\n      agreement specific to the requesting leaf\
    \ routing domain). Various\n      policies involve real costs to TRDs, which may\
    \ be reflected in\n      those policies.\n"
- title: 5.5   Private Links
  contents:
  - "5.5   Private Links\n      The discussion up to this point concentrates on the\
    \ relationship\n      between IP addresses and routing between various routing\
    \ domains\n      over transit routing domains, where each transit routing domain\n\
    \      interconnects a large number of routing domains and offers a\n      more-or-less\
    \ public service.\n      However, there may also exist a number of links which\
    \ interconnect\n      two routing domains in such a way, that usage of these links\
    \ may\n      be limited to carrying traffic only between the two routing\n   \
    \   domains.  We'll refer to such links as \"private\".\n      For example, let's\
    \ suppose that the XYZ corporation does a lot of\n      business with MBII. In\
    \ this case, XYZ and MBII may contract with a\n      carrier to provide a private\
    \ link between the two corporations,\n      where this link may only be used for\
    \ packets whose source is\n      within one of the two corporations, and whose\
    \ destination is\n      within the other of the two corporations. Finally, suppose\
    \ that\n      the point-to-point link is connected between a single router\n \
    \     (router X) within XYZ corporation and a single router (router M)\n     \
    \ within MBII. It is therefore necessary to configure router X to\n      know\
    \ which addresses can be reached over this link (specifically,\n      all addresses\
    \ reachable in MBII). Similarly, it is necessary to\n      configure router M\
    \ to know which addresses can be reached over\n      this link (specifically,\
    \ all addresses reachable in XYZ\n      Corporation).\n      The important observation\
    \ to be made here is that the additional\n      connectivity due to such private\
    \ links may be ignored for the\n      purpose of IP address allocation, and do\
    \ not pose a problem for\n      routing. This is because the routing information\
    \ associated with\n      such connectivity is not propagated throughout the Internet,\
    \ and\n      therefore does not need to be collapsed into a TRD's prefix.\n  \
    \    In our example, let's suppose that the XYZ corporation has a\n      single\
    \ connection to a regional, and has therefore uses the IP\n      address space\
    \ from the space given to that regional.  Similarly,\n      let's suppose that\
    \ MBII, as an international corporation with\n      connections to six different\
    \ providers, has chosen the second\n      solution from Section 5.4, and therefore\
    \ has obtained six\n      different address allocations. In this case, all addresses\n\
    \      reachable in the XYZ Corporation can be described by a single\n      address\
    \ prefix (implying that router M only needs to be configured\n      with a single\
    \ address prefix to represent the addresses reachable\n      over this link).\
    \ All addresses reachable in MBII can be described\n      by six address prefixes\
    \ (implying that router X needs to be\n      configured with six address prefixes\
    \ to represent the addresses\n      reachable over the link).\n      In some cases,\
    \ such private links may be permitted to forward\n      traffic for a small number\
    \ of other routing domains, such as\n      closely affiliated organizations. This\
    \ will increase the\n      configuration requirements slightly. However, provided\
    \ that the\n      number of organizations using the link is relatively small,\
    \ then\n      this still does not represent a significant problem.\n      Note\
    \ that the relationship between routing and IP addressing\n      described in\
    \ other sections of this paper is concerned with\n      problems in scaling caused\
    \ by large, essentially public transit\n      routing domains which interconnect\
    \ a large number of routing\n      domains.  However, for the purpose of IP address\
    \ allocation,\n      private links which interconnect only a small number of private\n\
    \      routing domains do not pose a problem, and may be ignored. For\n      example,\
    \ this implies that a single leaf routing domain which has\n      a single connection\
    \ to a \"public\" backbone, plus a number of\n      private links to other leaf\
    \ routing domains, can be treated as if\n      it were single-homed to the backbone\
    \ for the purpose of IP address\n      allocation.  We expect that this is also\
    \ another way of dealing\n      with multi-homed domains.\n"
- title: 5.6   Zero-Homed Routing Domains
  contents:
  - "5.6   Zero-Homed Routing Domains\n      Currently, a very large number of organizations\
    \ have internal\n      communications networks which are not connected to any\
    \ service\n      providers.  Such organizations may, however, have a number of\n\
    \      private links that they use for communications with other\n      organizations.\
    \ Such organizations do not participate in global\n      routing, but are satisfied\
    \ with reachability to those\n      organizations with which they have established\
    \ private links.\n      These are referred to as zero-homed routing domains.\n\
    \      Zero-homed routing domains can be considered as the degenerate\n      case\
    \ of routing domains with private links, as discussed in the\n      previous section,\
    \ and do not pose a problem for inter-domain\n      routing. As above, the routing\
    \ information exchanged across the\n      private links sees very limited distribution,\
    \ usually only to the\n      routing domain at the other end of the link. Thus,\
    \ there are no\n      address abstraction requirements beyond those inherent in\
    \ the\n      address prefixes exchanged across the private link.\n      However,\
    \ it is important that zero-homed routing domains use valid\n      globally unique\
    \ IP addresses. Suppose that the zero-homed routing\n      domain is connected\
    \ through a private link to a routing domain.\n      Further, this routing domain\
    \ participates in an internet that\n      subscribes to the global IP addressing\
    \ plan. This domain must be\n      able to distinguish between the zero-homed\
    \ routing domain's IP\n      addresses and any other IP addresses that it may\
    \ need to route to.\n      The only way this can be guaranteed is if the zero-homed\
    \ routing\n      domain uses globally unique IP addresses.\n"
- title: 5.7   Continental aggregation
  contents:
  - "5.7   Continental aggregation\n      Another level of hierarchy may also be used\
    \ in this addressing\n      scheme to further reduce the amount of routing information\n\
    \      necessary for inter-continental routing.  Continental aggregation\n   \
    \   is useful because continental boundaries provide natural barriers\n      to\
    \ topological connection and administrative boundaries.  Thus, it\n      presents\
    \ a natural boundary for another level of aggregation of\n      inter-domain routing\
    \ information.  To make use of this, it is\n      necessary that each continent\
    \ be assigned an appropriate subset of\n      the address space.  Providers (both\
    \ direct and indirect) within\n      that continent would allocate their addresses\
    \ from this space.\n      Note that there are numerous exceptions to this, in\
    \ which a\n      service provider (either direct or indirect) spans a continental\n\
    \      division.  These exceptions can be handled similarly to multi-\n      homed\
    \ routing domains, as discussed above.\n      Note that, in contrast to the case\
    \ of providers, the aggregation\n      of continental routing information may\
    \ not be done on the\n      continent to which the prefix is allocated.  The cost\
    \ of inter-\n      continental links (and especially trans-oceanic links) is very\n\
    \      high.  If aggregation is performed on the \"near\" side of the link,\n\
    \      then routing information about unreachable destinations within\n      that\
    \ continent can only reside on that continent.  Alternatively,\n      if continental\
    \ aggregation is done on the \"far\" side of an inter-\n      continental link,\
    \ the \"far\" end can perform the aggregation and\n      inject it into continental\
    \ routing.  This means that destinations\n      which are part of the continental\
    \ aggregation, but for which there\n      is not a corresponding more specific\
    \ prefix can be rejected before\n      leaving the continent on which they originated.\n\
    \      For example, suppose that Europe is assigned a prefix of\n      <194.0.0.0\
    \ 254.0.0.0>, such that European routing also contains\n      the longer prefixes\
    \ <194.1.0.0 255.255.0.0> and <194.2.0.0\n      255.255.0.0>.  All of the longer\
    \ European prefixes may be\n      advertised across a trans-Atlantic link to North\
    \ America.  The\n      router in North America would then aggregate these routes,\
    \ and\n      only advertise the prefix <194.0.0.0 255.0.0.0> into North\n    \
    \  American routing.  Packets which are destined for 194.1.1.1 would\n      traverse\
    \ North American routing, but would encounter the North\n      American router\
    \ which performed the European aggregation.  If the\n      prefix <194.1.0.0 255.255.0.0>\
    \ is unreachable, the router would\n      drop the packet and send an ICMP Unreachable\
    \ without using the\n      trans-Atlantic link.\n"
- title: 5.8   Transition Issues
  contents:
  - "5.8   Transition Issues\n      Allocation of IP addresses based on connectivity\
    \ to TRDs is\n      important to allow scaling of inter-domain routing to an internet\n\
    \      containing millions of routing domains. However, such address\n      allocation\
    \ based on topology implies that in order to maximize the\n      efficiency in\
    \ routing gained by such allocation, certain changes\n      in topology may suggest\
    \ a change of address.\n      Note that an address change need not happen immediately.\
    \  A domain\n      which has changed service providers may still advertise its\
    \ prefix\n      through its new service provider.  Since upper levels in the\n\
    \      routing hierarchy will perform routing based on the longest\n      prefix,\
    \ reachability is preserved, although the aggregation and\n      scalability of\
    \ the routing information has greatly diminished.\n      Thus, a domain which\
    \ does change its topology should change\n      addresses as soon as convenient.\
    \  The timing and mechanics of such\n      changes must be the result of agreements\
    \ between the old service\n      provider, the new provider, and the domain.\n\
    \      This need to allow for change in addresses is a natural,\n      inevitable\
    \ consequence of routing data abstraction. The basic\n      notion of routing\
    \ data abstraction is that there is some\n      correspondence between the address\
    \ and where a system (i.e., a\n      routing domain, subnetwork, or end system)\
    \ is located. Thus if the\n      system moves, in some cases the address will\
    \ have to change. If it\n      were possible to change the connectivity between\
    \ routing domains\n      without changing the addresses, then it would clearly\
    \ be necessary\n      to keep track of the location of that routing domain on\
    \ an\n      individual basis.\n      In the short term, due to the rapid growth\
    \ and increased\n      commercialization of the Internet, it is possible that\
    \ the\n      topology may be relatively volatile. This implies that planning\n\
    \      for address transition is very important. Fortunately, there are a\n  \
    \    number of steps which can be taken to help ease the effort\n      required\
    \ for address transition. A complete description of address\n      transition\
    \ issues is outside of the scope of this paper. However,\n      a very brief outline\
    \ of some transition issues is contained in\n      this section.\n      Also note\
    \ that the possible requirement to transition addresses\n      based on changes\
    \ in topology imply that it is valuable to\n      anticipate the future topology\
    \ changes before finalizing a plan\n      for address allocation. For example,\
    \ in the case of a routing\n      domain which is initially single-homed, but\
    \ which is expecting to\n      become multi-homed in the future, it may be advantageous\
    \ to assign\n      IP addresses based on the anticipated future topology.\n  \
    \    In general, it will not be practical to transition the IP\n      addresses\
    \ assigned to a routing domain in an instantaneous \"change\n      the address\
    \ at midnight\" manner. Instead, a gradual transition is\n      required in which\
    \ both the old and the new addresses will remain\n      valid for a limited period\
    \ of time. During the transition period,\n      both the old and new addresses\
    \ are accepted by the end systems in\n      the routing domain, and both old and\
    \ new addresses must result in\n      correct routing of packets to the destination.\n\
    \      During the transition period, it is important that packets using\n    \
    \  the old address be forwarded correctly, even when the topology has\n      changed.\
    \  This is facilitated by the use of \"longest match\"\n      inter-domain routing.\n\
    \      For example, suppose that the XYZ Corporation was previously\n      connected\
    \ only to the NorthSouthNet regional. The XYZ Corporation\n      therefore went\
    \ off to the NorthSouthNet administration and got an\n      IP address prefix\
    \ assignment based on the IP address prefix value\n      assigned to the NorthSouthNet\
    \ regional. However, for a variety of\n      reasons, the XYZ Corporation decided\
    \ to terminate its association\n      with the NorthSouthNet, and instead connect\
    \ directly to the\n      NewCommercialNet public data network. Thus the XYZ Corporation\
    \ now\n      has a new address assignment under the IP address prefix assigned\n\
    \      to the NewCommercialNet. The old address for the XYZ Corporation\n    \
    \  would seem to imply that traffic for the XYZ Corporation should be\n      routed\
    \ to the NorthSouthNet, which no longer has any direct\n      connection with\
    \ XYZ Corporation.\n      If the old TRD (NorthSouthNet) and the new TRD (NewCommercialNet)\n\
    \      are adjacent and cooperative, then this transition is easy to\n      accomplish.\
    \  In this case, packets routed to the XYZ Corporation\n      using the old address\
    \ assignment could be routed to the\n      NorthSouthNet, which would directly\
    \ forward them to the\n      NewCommercialNet, which would in turn forward them\
    \ to XYZ\n      Corporation. In this case only NorthSouthNet and NewCommercialNet\n\
    \      need be aware of the fact that the old address refers to a\n      destination\
    \ which is no longer directly attached to NorthSouthNet.\n      If the old TRD\
    \ and the new TRD are not adjacent, then the\n      situation is a bit more complex,\
    \ but there are still several\n      possible ways to forward traffic correctly.\n\
    \      If the old TRD and the new TRD are themselves connected by other\n    \
    \  cooperative transit routing domains, then these intermediate\n      domains\
    \ may agree to forward traffic for XYZ correctly. For\n      example, suppose\
    \ that NorthSouthNet and NewCommercialNet are not\n      directly connected, but\
    \ that they are both directly connected to\n      the BBNet backbone.  In this\
    \ case, all three of NorthSouthNet,\n      NewCommercialNet, and the BBNet backbone\
    \ would need to maintain a\n      special entry for XYZ corporation so that traffic\
    \ to XYZ using the\n      old address allocation would be forwarded via NewCommercialNet.\n\
    \      However, other routing domains would not need to be aware of the\n    \
    \  new location for XYZ Corporation.\n      Suppose that the old TRD and the new\
    \ TRD are separated by a non-\n      cooperative routing domain, or by a long\
    \ path of routing domains.\n      In this case, the old TRD could encapsulate\
    \ traffic to XYZ\n      Corporation in order to deliver such packets to the correct\n\
    \      backbone.\n      Also, those locations which do a significant amount of\
    \ business\n      with XYZ Corporation could have a specific entry in their routing\n\
    \      tables added to ensure optimal routing of packets to XYZ. For\n      example,\
    \ suppose that another commercial backbone\n      \"OldCommercialNet\" has a large\
    \ number of customers which exchange\n      traffic with XYZ Corporation, and\
    \ that this third TRD is directly\n      connected to both NorthSouthNet and NewCommercialNet.\
    \ In this case\n      OldCommercialNet will continue to have a single entry in\
    \ its\n      routing tables for other traffic destined for NorthSouthNet, but\n\
    \      may choose to add one additional (more specific) entry to ensure\n    \
    \  that packets sent to XYZ Corporation's old address are routed\n      correctly.\n\
    \      Whichever method is used to ease address transition, the goal is\n    \
    \  that knowledge relating XYZ to its old address that is held\n      throughout\
    \ the global internet would eventually be replaced with\n      the new information.\
    \  It is reasonable to expect this to take\n      weeks or months and will be\
    \ accomplished through the distributed\n      directory system.  Discussion of\
    \ the directory, along with other\n      address transition techniques such as\
    \ automatically informing the\n      source of a changed address, are outside\
    \ the scope of this paper.\n      Another significant transition difficulty is\
    \ the establishment of\n      appropriate addressing authorities.  In order not\
    \ to delay the\n      deployment of this addressing scheme, if no authority has\
    \ been\n      created at an appropriate level, a higher level authority may\n\
    \      allocated addresses instead of the lower level authority.  For\n      example,\
    \ suppose that the continental authority has been allocated\n      a portion of\
    \ the address space and that the service providers\n      present on that continent\
    \ are clear, but have not yet established\n      their addressing authority. \
    \ The continental authority may foresee\n      (possibly with information from\
    \ the provider) that the provider\n      will eventually create an authority.\
    \  The continental authority\n      may then act on behalf of that provider until\
    \ the provider is\n      prepared to assume its addressing authority duties.\n\
    \      Finally, it is important to emphasize, that a change of addresses\n   \
    \   due to changes in topology is not mandated by this document.  The\n      continental\
    \ level addressing hierarchy, as discussed in Section\n      5.7, is intended\
    \ to handle the aggregation of reachability\n      information in the cases where\
    \ addresses do not directly reflect\n      the connectivity between providers\
    \ and subscribers.\n"
- title: 5.9   Interaction with Policy Routing
  contents:
  - "5.9   Interaction with Policy Routing\n      We assume that any inter-domain\
    \ routing protocol will have\n      difficulty trying to aggregate multiple destinations\
    \ with\n      dissimilar policies.  At the same time, the ability to aggregate\n\
    \      routing information while not violating routing policies is\n      essential.\
    \ Therefore, we suggest that address allocation\n      authorities attempt to\
    \ allocate addresses so that aggregates of\n      destinations with similar policies\
    \ can be easily formed.\n"
- title: 6.  Recommendations
  contents:
  - "6.  Recommendations\n      We anticipate that the current exponential growth\
    \ of the Internet\n      will continue or accelerate for the foreseeable future.\
    \ In\n      addition, we anticipate a rapid internationalization of the\n    \
    \  Internet. The ability of routing to scale is dependent upon the\n      use\
    \ of data abstraction based on hierarchical IP addresses. As\n      CIDR [1] is\
    \ introduced in the Internet, it is therefore essential\n      to choose a hierarchical\
    \ structure for IP addresses with great\n      care.\n      It is in the best\
    \ interests of the internetworking community that\n      the cost of operations\
    \ be kept to a minimum where possible. In the\n      case of IP address allocation,\
    \ this again means that routing data\n      abstraction must be encouraged.\n\
    \      In order for data abstraction to be possible, the assignment of IP\n  \
    \    addresses must be accomplished in a manner which is consistent\n      with\
    \ the actual physical topology of the Internet. For example, in\n      those cases\
    \ where organizational and administrative boundaries are\n      not related to\
    \ actual network topology, address assignment based\n      on such organization\
    \ boundaries is not recommended.\n      The intra-domain routing protocols allow\
    \ for information\n      abstraction to be maintained within a domain.  For zero-homed\
    \ and\n      single-homed routing domains (which are expected to remain zero-\n\
    \      homed or single-homed), we recommend that the IP addresses\n      assigned\
    \ within a single routing domain use a single address\n      prefix assigned to\
    \ that domain.  Specifically, this allows the set\n      of all IP addresses reachable\
    \ within a single domain to be fully\n      described via a single prefix.\n \
    \     We anticipate that the total number of routing domains existing on\n   \
    \   a worldwide Internet to be great enough that additional levels of\n      hierarchical\
    \ data abstraction beyond the routing domain level will\n      be necessary.\n\
    \      In most cases, network topology will have a close relationship\n      with\
    \ national boundaries. For example, the degree of network\n      connectivity\
    \ will often be greater within a single country than\n      between countries.\
    \  It is therefore appropriate to make specific\n      recommendations based on\
    \ national boundaries, with the\n      understanding that there may be specific\
    \ situations where these\n      general recommendations need to be modified.\n"
- title: 6.1   Recommendations for an address allocation plan
  contents:
  - "6.1   Recommendations for an address allocation plan\n      We anticipate that\
    \ public interconnectivity between private\n      routing domains will be provided\
    \ by a diverse set of TRDs,\n      including (but not necessarily limited to):\n\
    \      - backbone networks (Alternet, ANSnet, CIX, EBone, PSI,\n        SprintLink);\n\
    \      - a number of regional or national networks; and,\n      - a number of\
    \ commercial Public Data Networks.\n   These networks will not be interconnected\
    \ in a strictly hierarchical\n   manner (for example, there is expected to be\
    \ direct connectivity\n   between regionals, and all of these types of networks\
    \ may have direct\n   international connections).  However, the total number of\
    \ such TRDs\n   is expected to remain (for the foreseeable future) small enough\
    \ to\n   allow addressing of this set of TRDs via a flat address space. These\n\
    \   TRDs will be used to interconnect a wide variety of routing domains,\n   each\
    \ of which may comprise a single corporation, part of a\n   corporation, a university\
    \ campus, a government agency, or other\n   organizational unit.\n   In addition,\
    \ some private corporations may be expected to make use of\n   dedicated private\
    \ TRDs for communication within their own\n   corporation.\n   We anticipate that\
    \ the great majority of routing domains will be\n   attached to only one of the\
    \ TRDs. This will permit hierarchical\n   address aggregation based on TRD. We\
    \ therefore strongly recommend\n   that addresses be assigned hierarchically,\
    \ based on address prefixes\n   assigned to individual TRDs.\n   To support continental\
    \ aggregation of routes, we recommend that all\n   addresses for TRDs which are\
    \ wholly within a continent be taken from\n   the continental prefix.\n   For\
    \ the proposed address allocation scheme, this implies that\n   portions of IP\
    \ address space should be assigned to each TRD\n   (explicitly including the backbones\
    \ and regionals). For those leaf\n   routing domains which are connected to a\
    \ single TRD, they should be\n   assigned a prefix value from the address space\
    \ assigned to that TRD.\n   For routing domains which are not attached to any\
    \ publically\n   available TRD, there is not the same urgent need for hierarchical\n\
    \   address abbreviation. We do not, therefore, make any additional\n   recommendations\
    \ for such \"isolated\" routing domains.  Where such\n   domains are connected\
    \ to other domains by private point-to-point\n   links, and where such links are\
    \ used solely for routing between the\n   two domains that they interconnect,\
    \ again no additional technical\n   problems relating to address abbreviation\
    \ is caused by such a link,\n   and no specific additional recommendations are\
    \ necessary.\n   Further, in order to allow aggregation of IP addresses at national\n\
    \   and continental boundaries into as few prefixes as possible, we\n   further\
    \ recommend that IP addresses allocated to routing domains\n   should be assigned\
    \ based on each routing domain's connectivity to\n   national and continental\
    \ Internet backbones.\n"
- title: 6.2   Recommendations for Multi-Homed Routing Domains
  contents:
  - "6.2   Recommendations for Multi-Homed Routing Domains\n   There are several possible\
    \ ways that these multi-homed routing\n   domains may be handled, as described\
    \ in Section 5.4.  Each of these\n   methods vary with respect to the amount of\
    \ information that must be\n   maintained for inter-domain routing and also with\
    \ respect to the\n   inter-domain routes. In addition, the organization that will\
    \ bear the\n   brunt of this cost varies with the possible solutions. For example,\n\
    \   the solutions vary with respect to:\n      - resources used within routers\
    \ within the TRDs;\n      - administrative cost on TRD personnel; and,\n     \
    \ - difficulty of configuration of policy-based inter-domain routing\n       \
    \ information within leaf routing domains.\n   Also, the solution used may affect\
    \ the actual routes which packets\n   follow, and may effect the availability\
    \ of backup routes when the\n   primary route fails.\n   For these reasons it\
    \ is not possible to mandate a single solution for\n   all situations. Rather,\
    \ economic considerations will require a\n   variety of solutions for different\
    \ routing domains, service\n   providers, and backbones.\n"
- title: 6.3   Recommendations for the Administration of IP addresses
  contents:
  - "6.3   Recommendations for the Administration of IP addresses\n   A companion\
    \ document [3] provides recommendations for the\n   administrations of IP addresses.\n"
- title: 7.  Acknowledgments
  contents:
  - "7.  Acknowledgments\n   The authors would like to acknowledge the substantial\
    \ contributions\n   made by the authors of RFC 1237 [2], Richard Colella, Ella\
    \ Gardner,\n   and Ross Callon.  The significant concepts (and a large portion\
    \ of\n   the text) in this document are taken directly from their work.\n   The\
    \ authors would like to acknowledge the substantial contributions\n   made by\
    \ the members of the following two groups, the Federal\n   Engineering Planning\
    \ Group (FEPG) and the International Engineering\n   Planning Group (IEPG). This\
    \ document also reflects many concepts\n   expressed at the IETF Addressing BOF\
    \ which took place in Cambridge,\n   MA in July 1992.\n   We would also like to\
    \ thank Peter Ford (Los Alamos National\n   Laboratory), Elise Gerich (MERIT),\
    \ Steve Kent (BBN), Barry Leiner\n   (ADS), Jon Postel (ISI), Bernhard Stockman\
    \ (NORDUNET/SUNET), Claudio\n   Topolcic (CNRI), and Kannan Varadhan (OARnet)\
    \ for their review and\n   constructive comments.\n"
- title: 8.  References
  contents:
  - "8.  References\n   [1] Fuller, V., Li, T., Yu, J., and K. Varadhan, \"Supernetting:\
    \ an\n       Address Assignment and Aggregation Strategy\", RFC 1338, BARRNet,\n\
    \       cicso, Merit, OARnet, June 1992.\n   [2] Colella, R., Gardner, E, and\
    \ R. Callon, \"Guidelines for OSI NSAP\n       Allocation in the Internet\", RFC\
    \ 1237, JuNIST, Mitre, DEC, July\n       1991.\n   [3] Gerich, E., \"Guidelines\
    \ for Management of IP Address Space\", RFC\n       1466, Merit, May 1993.\n \
    \  [4] Cerf, V., \"IAB Recommended Policy on Distributing Internet\n       Identifier\
    \ Assignment and IAB Recommended Policy Change to\n       Internet \"Connected\"\
    \ Status\", RFC 1174, CNRI, August 1990.\n"
- title: 9.  Security Considerations
  contents:
  - "9.  Security Considerations\n   Security issues are not discussed in this memo.\n"
- title: 10.  Authors' Addresses
  contents:
  - "10.  Authors' Addresses\n   Yakov Rekhter\n   T.J. Watson Research Center, IBM\
    \ Corporation\n   P.O. Box 218\n   Yorktown Heights, NY 10598\n   Phone:  (914)\
    \ 945-3896\n   EMail:  yakov@watson.ibm.com\n   Tony Li\n   cisco Systems, Inc.\n\
    \   1525 O'Brien Drive\n   Menlo Park, CA 94025\n   EMail: tli@cisco.com\n"
