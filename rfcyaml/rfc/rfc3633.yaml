- title: __initial_text__
  contents:
  - "                        IPv6 Prefix Options for\n          Dynamic Host Configuration\
    \ Protocol (DHCP) version 6\n"
- title: Status of this Memo
  contents:
  - "Status of this Memo\n   This document specifies an Internet standards track protocol\
    \ for the\n   Internet community, and requests discussion and suggestions for\n\
    \   improvements.  Please refer to the current edition of the \"Internet\n   Official\
    \ Protocol Standards\" (STD 1) for the standardization state\n   and status of\
    \ this protocol.  Distribution of this memo is unlimited.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (C) The Internet Society (2003).  All Rights Reserved.\n"
- title: Abstract
  contents:
  - "Abstract\n   The Prefix Delegation options provide a mechanism for automated\n\
    \   delegation of IPv6 prefixes using the Dynamic Host Configuration\n   Protocol\
    \ (DHCP).  This mechanism is intended for delegating a long-\n   lived prefix\
    \ from a delegating router to a requesting router, across\n   an administrative\
    \ boundary, where the delegating router does not\n   require knowledge about the\
    \ topology of the links in the network to\n   which the prefixes will be assigned.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1.   Introduction . . . . . . . . . . . . . . . . . . .\
    \ . . . . .   2\n   2.   DHCPv6 specification dependency  . . . . . . . . . .\
    \ . . . .   3\n   3.   Terminology  . . . . . . . . . . . . . . . . . . . . .\
    \ . . .   3\n   4.   Requirements . . . . . . . . . . . . . . . . . . . . . .\
    \ . .   3\n   5.   Model and Applicability  . . . . . . . . . . . . . . . . .\
    \ .   3\n        5.1.  Example network architecture . . . . . . . . . . . . .\
    \   4\n   6.   Identity Association for Prefix Delegation . . . . . . . . .  \
    \ 5\n   7.   Overview of DHCP with Prefix Delegation  . . . . . . . . . .   6\n\
    \   8.   Interface Selection  . . . . . . . . . . . . . . . . . . . .   7\n  \
    \ 9.   Identity Association for Prefix Delegation Option  . . . . .   7\n   10.\
    \  IA_PD Prefix option  . . . . . . . . . . . . . . . . . . . .   9\n   11.  Delegating\
    \ Router Solicitation . . . . . . . . . . . . . . .  11\n        11.1. Requesting\
    \ router behavior . . . . . . . . . . . . . .  11\n        11.2. Delegating router\
    \ behavior . . . . . . . . . . . . . .  11\n   12.  Requesting router initiated\
    \ prefix delegation  . . . . . . .  12\n        12.1. Requesting router behavior\
    \ . . . . . . . . . . . . . .  12\n        12.2. Delegating Router behavior .\
    \ . . . . . . . . . . . . .  14\n   13.  Prefix Delegation reconfiguration  .\
    \ . . . . . . . . . . . .  15\n        13.1. Delegating Router behavior . . .\
    \ . . . . . . . . . . .  15\n        13.2. Requesting Router behavior . . . .\
    \ . . . . . . . . . .  15\n   14.  Relay agent behavior . . . . . . . . . . .\
    \ . . . . . . . . .  15\n   15.  Security Considerations  . . . . . . . . . .\
    \ . . . . . . . .  16\n   16.  IANA Considerations  . . . . . . . . . . . . .\
    \ . . . . . . .  16\n   17.  Intellectual Property Statement. . . . . . . . .\
    \ . . . . . .  17\n   18.  References . . . . . . . . . . . . . . . . . . . .\
    \ . . . . .  17\n        18.1. Normative References . . . . . . . . . . . . .\
    \ . . . .  17\n        18.2. Informative References . . . . . . . . . . . . .\
    \ . . .  17\n   19.  Acknowledgements . . . . . . . . . . . . . . . . . . . .\
    \ . .  18\n   20.  Authors' Addresses . . . . . . . . . . . . . . . . . . . .\
    \ .  18\n   21.  Full Copyright Statement . . . . . . . . . . . . . . . . . .\
    \  19\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   This document describes new options for Dynamic Host Configuration\n\
    \   Protocol (DHCP) that provide a mechanism for the delegation of IPv6\n   prefixes\
    \ [1].  Through these options, a delegating router can\n   delegate prefixes to\
    \ authorized requesting routers.\n   The prefix delegation mechanism described\
    \ in this document is\n   intended for simple delegation of prefixes from a delegating\
    \ router\n   to requesting routers.  It is appropriate for situations in which\
    \ the\n   delegating router does not have knowledge about the topology of the\n\
    \   networks to which the requesting router is attached, and the\n   delegating\
    \ router does not require other information aside from the\n   identity of the\
    \ requesting router to choose a prefix for delegation.\n   For example, these\
    \ options would be used by a service provider to\n   assign a prefix to a Customer\
    \ Premise Equipment (CPE) device acting\n   as a router between the subscriber's\
    \ internal network and the service\n   provider's core network.\n   Many applications\
    \ expect stable addresses.  Even though this\n   mechanism makes automatic renumbering\
    \ easier, it is expected that\n   prefixes have a long lifespan.  During renumbering\
    \ it is expected\n   that the old and the new prefix co-exist for some time.\n\
    \   The design of this prefix delegation mechanism meets the requirements\n  \
    \ for prefix delegation in Requirements for IPv6 prefix delegation [6].\n   Note\
    \ that this use of DHCP is not bound to the assignment of IP\n   addresses or\
    \ other configuration information to hosts, and that no\n   mechanism is currently\
    \ available to communicate delegated prefixes to\n   a DHCP server that serves\
    \ such a function.  This may be an item of\n   future work, should usage warrant.\n"
- title: 2.  DHCPv6 specification dependency
  contents:
  - "2.  DHCPv6 specification dependency\n   This document describes new DHCPv6 options\
    \ for IPv6 prefix\n   delegation.  This document should be read in conjunction\
    \ with the\n   DHCPv6 specification, RFC 3315 [2], for a complete specification\
    \ of\n   the Prefix Delegation options and mechanism.  Definitions for terms\n\
    \   and acronyms not specifically defined in this document are defined in\n  \
    \ RFC 3315.\n"
- title: 3.  Terminology
  contents:
  - "3.  Terminology\n   This document uses the terminology defined in RFC 2460 [1]\
    \ and RFC\n   3315.  In addition, this document uses the following terms:\n  \
    \ requesting router:  The router that acts as a DHCP client and is\n         \
    \              requesting prefix(es) to be assigned.\n   delegating router:  The\
    \ router that acts as a DHCP server, and is\n                       responding\
    \ to the prefix request.\n   Identity Association for Prefix Delegation (IA_PD):\
    \ A collection of\n                       prefixes assigned to the requesting\
    \ router.  Each\n                       IA_PD has an associated IAID.  A requesting\n\
    \                       router may have more than one IA_PD assigned to\n    \
    \                   it; for example, one for each of its interfaces.\n"
- title: 4.  Requirements
  contents:
  - "4.  Requirements\n   The keywords MUST, MUST NOT, REQUIRED, SHALL, SHALL NOT,\
    \ SHOULD,\n   SHOULD NOT, RECOMMENDED, MAY, and OPTIONAL, when they appear in\
    \ this\n   document, are to be interpreted as described in BCP 14, RFC 2119 [3].\n"
- title: 5.  Model and Applicability
  contents:
  - "5.  Model and Applicability\n   The model of operation for prefix delegation\
    \ is as follows.  A\n   delegating router is provided IPv6 prefixes to be delegated\
    \ to\n   requesting routers.  Examples of ways in which the delegating router\n\
    \   may be provided these prefixes are given in Section 12.2.  A\n   requesting\
    \ router requests prefix(es) from the delegating router, as\n   described in Section\
    \ 12.1.  The delegating router chooses prefix(es)\n   for delegation, and responds\
    \ with prefix(es) to the requesting\n   router.  The requesting router is then\
    \ responsible for the delegated\n   prefix(es).  For example, the requesting router\
    \ might assign a subnet\n   from a delegated prefix to one of its interfaces,\
    \ and begin sending\n   router advertisements for the prefix on that link.\n \
    \  Each prefix has an associated valid and preferred lifetime, which\n   constitutes\
    \ an agreement about the length of time over which the\n   requesting router is\
    \ allowed to use the prefix.  A requesting router\n   can request an extension\
    \ of the lifetimes on a delegated prefix and\n   is required to terminate the\
    \ use of a delegated prefix if the valid\n   lifetime of the prefix expires.\n\
    \   This prefix delegation mechanism would be appropriate for use by an\n   ISP\
    \ to delegate a prefix to a subscriber, where the delegated prefix\n   would possibly\
    \ be subnetted and assigned to the links within the\n   subscriber's network.\n"
- title: 5.1.  Example network architecture
  contents:
  - "5.1.  Example network architecture\n   Figure 1 illustrates a network architecture\
    \ in which prefix\n   delegation could be used.\n                 ______________________\
    \                 \\\n                /                      \\              \
    \   \\\n               |    ISP core network    |                 \\\n       \
    \         \\__________ ___________/                   |\n                    \
    \       |                               |\n                   +-------+-------+\
    \                       |\n                   |  Aggregation  |              \
    \         | ISP\n                   |    device     |                       |\
    \ network\n                   |  (delegating  |                       |\n    \
    \               |    router)    |                       |\n                  \
    \ +-------+-------+                       |\n                           |    \
    \                          /\n                           |DSL to subscriber  \
    \          /\n                           |premises                    /\n    \
    \                       |\n                    +------+------+               \
    \      \\\n                    |     CPE     |                      \\\n     \
    \               | (requesting |                       \\\n                   \
    \ |   router)   |                        |\n                    +----+---+----+\
    \                        |\n                         |   |                   \
    \          | Subscriber\n  ---+-------------+-----+- -+-----+-------------+---\
    \      | network\n     |             |               |             |         |\n"
- title: +----+-----+ +-----+----+     +----+-----+ +-----+----+    |
  contents:
  - '+----+-----+ +-----+----+     +----+-----+ +-----+----+    |

    '
- title: '|Subscriber| |Subscriber|     |Subscriber| |Subscriber|   /'
  contents:
  - '|Subscriber| |Subscriber|     |Subscriber| |Subscriber|   /

    '
- title: '|    PC    | |    PC    |     |    PC    | |    PC    |  /'
  contents:
  - '|    PC    | |    PC    |     |    PC    | |    PC    |  /

    '
- title: +----------+ +----------+     +----------+ +----------+ /
  contents:
  - "+----------+ +----------+     +----------+ +----------+ /\n   Figure 1: An example\
    \ of prefix delegation.\n   In this example, the delegating router is configured\
    \ with a set of\n   prefixes to be used for assignment to customers at the time\
    \ of each\n   customer's first connection to the ISP service.  The prefix\n  \
    \ delegation process begins when the requesting router requests\n   configuration\
    \ information through DHCP.  The DHCP messages from the\n   requesting router\
    \ are received by the delegating router in the\n   aggregation device.  When the\
    \ delegating router receives the request,\n   it selects an available prefix or\
    \ prefixes for delegation to the\n   requesting router.  The delegating router\
    \ then returns the prefix or\n   prefixes to the requesting router.\n   The requesting\
    \ router subnets the delegated prefix and assigns the\n   longer prefixes to links\
    \ in the subscriber's network.  In a typical\n   scenario based on the network\
    \ shown in Figure 1, the requesting\n   router subnets a single delegated /48\
    \ prefix into /64 prefixes and\n   assigns one /64 prefix to each of the links\
    \ in the subscriber\n   network.\n   The prefix delegation options can be used\
    \ in conjunction with other\n   DHCP options carrying other configuration information\
    \ to the\n   requesting router.  The requesting router may, in turn, then provide\n\
    \   DHCP service to hosts attached to the internal network.  For example,\n  \
    \ the requesting router may obtain the addresses of DNS and NTP servers\n   from\
    \ the ISP delegating router, and then pass that configuration\n   information\
    \ on to the subscriber hosts through a DHCP server in the\n   requesting router.\n"
- title: 6.  Identity Association for Prefix Delegation
  contents:
  - "6.  Identity Association for Prefix Delegation\n   An IA_PD is a construct through\
    \ which a delegating router and a\n   requesting router can identify, group and\
    \ manage a set of related\n   IPv6 prefixes.  Each IA_PD consists of an IAID and\
    \ associated\n   configuration information.  An IA_PD for prefixes is the equivalent\n\
    \   of an IA (described in RFC 3315) for addresses.\n   An IA_PD is different\
    \ from an IA, in that it does not need to be\n   associated with exactly one interface.\
    \  One IA_PD can be associated\n   with the requesting router, with a set of interfaces\
    \ or with exactly\n   one interface.  A requesting router must create at least\
    \ one distinct\n   IA_PD.  It may associate a distinct IA_PD with each of its\
    \ downstream\n   network interfaces and use that IA_PD to obtain a prefix for\
    \ that\n   interface from the delegating router.\n   The IAID uniquely identifies\
    \ the IA_PD and must be chosen to be\n   unique among the IA_PD IAIDs on the requesting\
    \ router.  The IAID is\n   chosen by the requesting router.  For any given use\
    \ of an IA_PD by\n   the requesting router, the IAID for that IA_PD MUST be consistent\n\
    \   across restarts of the requesting router.  The requesting router may\n   maintain\
    \ consistency either by storing the IAID in non-volatile\n   storage or by using\
    \ an algorithm that will consistently produce the\n   same IAID as long as the\
    \ configuration of the requesting router has\n   not changed.  If the requesting\
    \ router uses only one IAID, it can use\n   a well-known value, e.g., zero.\n\
    \   The configuration information in an IA_PD consists of one or more\n   IPv6\
    \ prefixes along with the times T1 and T2 for the IA_PD.  See\n   section 9 for\
    \ the representation of an IA_PD in a DHCP message.\n"
- title: 7.  Overview of DHCP with Prefix Delegation
  contents:
  - "7.  Overview of DHCP with Prefix Delegation\n   Prefix delegation with DHCP is\
    \ independent of address assignment with\n   DHCP.  A requesting router can use\
    \ DHCP for just prefix delegation or\n   for prefix delegation along with address\
    \ assignment and other\n   configuration information.\n   A requesting router\
    \ first creates an IA_PD and assigns it an IAID.\n   The requesting router then\
    \ transmits a Solicit message containing an\n   IA_PD option describing the IA_PD.\
    \  Delegating routers that can\n   delegate prefixes to the IA_PD respond to the\
    \ requesting router with\n   an Advertise message.\n   The requesting router may\
    \ include prefixes in the IA_PDs as a hint to\n   the delegating router about\
    \ specific prefixes for which the\n   requesting router has a preference.\n  \
    \ When the requesting router has identified a delegating router, the\n   requesting\
    \ router uses a Request message to populate the IA_PDs with\n   prefixes.  The\
    \ requesting router includes one or more IA_PD options\n   in the Request message.\
    \  The delegating router returns prefixes and\n   other information about the\
    \ IA_PDs to the requesting router in IA_PD\n   options in a Reply message.  The\
    \ requesting router records the\n   lifetimes for the delegated prefix(es) and\
    \ uses the prefix(es) as\n   described in the previous section.\n   Before the\
    \ valid lifetime on each delegated prefix expires, the\n   requesting router includes\
    \ the prefix in an IA_PD option sent in a\n   Renew message to the delegating\
    \ router.  The delegating router\n   responds by returning the prefix with updated\
    \ lifetimes to the\n   requesting router.\n"
- title: 8.  Interface Selection
  contents:
  - "8.  Interface Selection\n   Delegated prefixes are not associated with a particular\
    \ interface in\n   the same way as addresses are for address assignment, and the\
    \ rules\n   described in section 16, \"Client Source Address and Interface\n \
    \  Selection\" of RFC 3315 do not apply.\n   When a requesting router sends a\
    \ DHCP message, it SHOULD be sent on\n   the interface associated with the upstream\
    \ router (ISP network).  The\n   upstream interface is typically determined by\
    \ configuration.  This\n   rule applies even in the case where a separate IA_PD\
    \ is used for each\n   downstream interface.\n   When a requesting router sends\
    \ a DHCP message directly to a\n   delegating router using unicast (after receiving\
    \ the Server Unicast\n   option from that delegating router), the source address\
    \ SHOULD be an\n   address from the upstream interface and which is suitable for\
    \ use by\n   the delegating router in responding to the requesting router.\n"
- title: 9.  Identity Association for Prefix Delegation Option
  contents:
  - "9.  Identity Association for Prefix Delegation Option\n   The IA_PD option is\
    \ used to carry a prefix delegation identity\n   association, the parameters associated\
    \ with the IA_PD and the\n   prefixes associated with it.\n   The format of the\
    \ IA_PD option is:\n     0                   1                   2           \
    \        3\n     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0\
    \ 1\n    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n \
    \   |         OPTION_IA_PD          |         option-length         |\n    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \    |                         IAID (4 octets)                       |\n    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \    |                              T1                               |\n    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \    |                              T2                               |\n    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \    .                                                               .\n    .\
    \                          IA_PD-options                        .\n    .     \
    \                                                          .\n    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   option-code:      OPTION_IA_PD (25)\n   option-length:    12 + length of IA_PD-options\
    \ field.\n   IAID:             The unique identifier for this IA_PD; the IAID\
    \ must\n                     be unique among the identifiers for all of this\n\
    \                     requesting router's IA_PDs.\n   T1:               The time\
    \ at which the requesting router should\n                     contact the delegating\
    \ router from which the\n                     prefixes in the IA_PD were obtained\
    \ to extend the\n                     lifetimes of the prefixes delegated to the\
    \ IA_PD;\n                     T1 is a time duration relative to the current time\n\
    \                     expressed in units of seconds.\n   T2:               The\
    \ time at which the requesting router should\n                     contact any\
    \ available delegating router to extend\n                     the lifetimes of\
    \ the prefixes assigned to the\n                     IA_PD; T2 is a time duration\
    \ relative to the\n                     current time expressed in units of seconds.\n\
    \   IA_PD-options:    Options associated with this IA_PD.\n   The IA_PD-options\
    \ field encapsulates those options that are specific\n   to this IA_PD.  For example,\
    \ all of the IA_PD Prefix Options carrying\n   the prefixes associated with this\
    \ IA_PD are in the IA_PD-options\n   field.\n   An IA_PD option may only appear\
    \ in the options area of a DHCP\n   message.  A DHCP message may contain multiple\
    \ IA_PD options.\n   The status of any operations involving this IA_PD is indicated\
    \ in a\n   Status Code option in the IA_PD-options field.\n   Note that an IA_PD\
    \ has no explicit \"lifetime\" or \"lease length\" of\n   its own.  When the valid\
    \ lifetimes of all of the prefixes in a IA_PD\n   have expired, the IA_PD can\
    \ be considered as having expired.  T1 and\n   T2 are included to give delegating\
    \ routers explicit control over when\n   a requesting router should contact the\
    \ delegating router about a\n   specific IA_PD.\n   In a message sent by a requesting\
    \ router to a delegating router,\n   values in the T1 and T2 fields indicate the\
    \ requesting router's\n   preference for those parameters.  The requesting router\
    \ sets T1 and\n   T2 to zero if it has no preference for those values.  In a message\n\
    \   sent by a delegating router to a requesting router, the requesting\n   router\
    \ MUST use the values in the T1 and T2 fields for the T1 and T2\n   parameters.\
    \  The values in the T1 and T2 fields are the number of\n   seconds until T1 and\
    \ T2.\n   The delegating router selects the T1 and T2 times to allow the\n   requesting\
    \ router to extend the lifetimes of any prefixes in the\n   IA_PD before the lifetimes\
    \ expire, even if the delegating router is\n   unavailable for some short period\
    \ of time.  Recommended values for T1\n   and T2 are .5 and .8 times the shortest\
    \ preferred lifetime of the\n   prefixes in the IA_PD that the delegating router\
    \ is willing to\n   extend, respectively.  If the time at which the prefixes in\
    \ an IA_PD\n   are to be renewed is to be left to the discretion of the requesting\n\
    \   router, the delegating router sets T1 and T2 to 0.\n   If a delegating router\
    \ receives an IA_PD with T1 greater than T2, and\n   both T1 and T2 are greater\
    \ than 0, the delegating router ignores the\n   invalid values of T1 and T2 and\
    \ processes the IA_PD as though the\n   delegating router had set T1 and T2 to\
    \ 0.\n   If a requesting router receives an IA_PD with T1 greater than T2, and\n\
    \   both T1 and T2 are greater than 0, the client discards the IA_PD\n   option\
    \ and processes the remainder of the message as though the\n   delegating router\
    \ had not included the IA_PD option.\n"
- title: 10.  IA_PD Prefix option
  contents:
  - "10.  IA_PD Prefix option\n   The IA_PD Prefix option is used to specify IPv6\
    \ address prefixes\n   associated with an IA_PD.  The IA_PD Prefix option must\
    \ be\n   encapsulated in the IA_PD-options field of an IA_PD option.\n   The format\
    \ of the IA_PD Prefix option is:\n     0                   1                 \
    \  2                   3\n     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3\
    \ 4 5 6 7 8 9 0 1\n    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \    |        OPTION_IAPREFIX        |         option-length         |\n    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \    |                      preferred-lifetime                       |\n    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \    |                        valid-lifetime                         |\n    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \    | prefix-length |                                               |\n    +-+-+-+-+-+-+-+-+\
    \          IPv6 prefix                          |\n    |                     \
    \      (16 octets)                         |\n    |                          \
    \                                     |\n    |                               \
    \                                |\n    |                                    \
    \                           |\n    |               +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \    |               |                                               .\n    +-+-+-+-+-+-+-+-+\
    \                                               .\n    .                     \
    \  IAprefix-options                        .\n    .                          \
    \                                     .\n    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   option-code:      OPTION_IAPREFIX (26)\n   option-length:    25 + length of\
    \ IAprefix-options field\n   preferred-lifetime: The recommended preferred lifetime\
    \ for the IPv6\n                     prefix in the option, expressed in units\
    \ of\n                     seconds.  A value of 0xFFFFFFFF represents\n      \
    \               infinity.\n   valid-lifetime:   The valid lifetime for the IPv6\
    \ prefix in the\n                     option, expressed in units of seconds. \
    \ A value of\n                     0xFFFFFFFF represents infinity.\n   prefix-length:\
    \    Length for this prefix in bits\n   IPv6-prefix:      An IPv6 prefix\n   IAprefix-options:\
    \ Options associated with this prefix\n   In a message sent by a requesting router\
    \ to a delegating router, the\n   values in the fields can be used to indicate\
    \ the requesting router's\n   preference for those values.  The requesting router\
    \ may send a value\n   of zero to indicate no preference.  A requesting router\
    \ may set the\n   IPv6 prefix field to zero and a given value in the prefix-length\n\
    \   field to indicate a preference for the size of the prefix to be\n   delegated.\n\
    \   In a message sent by a delegating router the preferred and valid\n   lifetimes\
    \ should be set to the values of AdvPreferredLifetime and\n   AdvValidLifetime\
    \ as specified in section 6.2.1, \"Router Configuration\n   Variables\" of RFC\
    \ 2461 [4], unless administratively configured.\n   A requesting router discards\
    \ any prefixes for which the preferred\n   lifetime is greater than the valid\
    \ lifetime.  A delegating router\n   ignores the lifetimes set by the requesting\
    \ router if the preferred\n   lifetime is greater than the valid lifetime and\
    \ ignores the values\n   for T1 and T2 set by the requesting router if those values\
    \ are\n   greater than the preferred lifetime.\n   The values in the preferred\
    \ and valid lifetimes are the number of\n   seconds remaining for each lifetime.\n\
    \   An IA_PD Prefix option may appear only in an IA_PD option.  More than\n  \
    \ one IA_PD Prefix Option can appear in a single IA_PD option.\n   The status\
    \ of any operations involving this IA_PD Prefix option is\n   indicated in a Status\
    \ Code option in the IAprefix-options field.\n"
- title: 11.  Delegating Router Solicitation
  contents:
  - "11.  Delegating Router Solicitation\n   The requesting router locates and selects\
    \ a delegating router in the\n   same way as described in section 17, \"DHCP Server\
    \ Solicitation\" of\n   RFC 3315.  The details of the solicitation process are\
    \ described in\n   this section.\n"
- title: 11.1.  Requesting router behavior
  contents:
  - "11.1.  Requesting router behavior\n   The requesting router creates and transmits\
    \ a Solicit message as\n   described in sections 17.1.1, \"Creation of Solicit\
    \ Messages\" and\n   17.1.2, \"Transmission of Solicit Messages\" of RFC 3315.\
    \  The\n   requesting router creates an IA_PD and assigns it an IAID.  The\n \
    \  requesting router MUST include the IA_PD option in the Solicit\n   message.\n\
    \   The requesting router processes any received Advertise messages as\n   described\
    \ in section 17.1.3, \"Receipt of Advertise Messages\" of RFC\n   3315.  The requesting\
    \ router MAY choose to consider the presence of\n   advertised prefixes in its\
    \ decision about which delegating router to\n   respond to.\n   The requesting\
    \ router MUST ignore any Advertise message that includes\n   a Status Code option\
    \ containing the value NoPrefixAvail, with the\n   exception that the requesting\
    \ router MAY display the associated\n   status message to the user.\n"
- title: 11.2.  Delegating router behavior
  contents:
  - "11.2.  Delegating router behavior\n   The delegating router sends an Advertise\
    \ message to the requesting\n   router in the same way as described in section\
    \ 17.2.2, \"Creation and\n   transmission of Advertise messages\" of RFC 3315.\
    \  If the message\n   contains an IA_PD option and the delegating router is configured\
    \ to\n   delegate prefix(es) to the requesting router, the delegating router\n\
    \   selects the prefix(es) to be delegated to the requesting router.  The\n  \
    \ mechanism through which the delegating router selects prefix(es) for\n   delegation\
    \ is not specified in this document.  Examples of ways in\n   which the delegating\
    \ router might select prefix(es) for a requesting\n   router include: static assignment\
    \ based on subscription to an ISP;\n   dynamic assignment from a pool of available\
    \ prefixes; selection based\n   on an external authority such as a RADIUS server\
    \ using the Framed-\n   IPv6-Prefix option as described in RFC 3162 [5].\n   If\
    \ the requesting router includes an IA_PD Prefix option in the IA_PD\n   option\
    \ in its Solicit message, the delegating router MAY choose to\n   use the information\
    \ in that option to select the prefix(es) or prefix\n   size to be delegated to\
    \ the requesting router.\n   The delegating router sends an Advertise message\
    \ to the requesting\n   router in the same way as described in section, \"Creation\
    \ and\n   transmission of Advertise messages\" of RFC 3315.  The delegating\n\
    \   router MUST include an IA_PD option, identifying any prefix(es) that\n   the\
    \ delegating router will delegate to the requesting router.\n   If the delegating\
    \ router will not assign any prefixes to any IA_PDs\n   in a subsequent Request\
    \ from the requesting router, the delegating\n   router MUST send an Advertise\
    \ message to the requesting router that\n   includes the IA_PD with no prefixes\
    \ in the IA_PD and a Status Code\n   option in the IA_PD containing status code\
    \ NoPrefixAvail and a status\n   message for the user, a Server Identifier option\
    \ with the delegating\n   router's DUID and a Client Identifier option with the\
    \ requesting\n   router's DUID.\n"
- title: 12.  Requesting router initiated prefix delegation
  contents:
  - "12.  Requesting router initiated prefix delegation\n   A requesting router uses\
    \ the same message exchanges as described in\n   section 18, \"DHCP Client-Initiated\
    \ Configuration Exchange\" of RFC\n   3315 to obtain or update prefix(es) from\
    \ a delegating router.  The\n   requesting router and the delegating router use\
    \ the IA_PD Prefix\n   option to exchange information about prefix(es) in much\
    \ the same way\n   IA Address options are used for assigned addresses.\n"
- title: 12.1.  Requesting router behavior
  contents:
  - "12.1.  Requesting router behavior\n   The requesting router uses a Request message\
    \ to populate IA_PDs with\n   prefixes.  The requesting router includes one or\
    \ more IA_PD options\n   in the Request message.  The delegating router then returns\
    \ the\n   prefixes for the IA_PDs to the requesting router in IA_PD options in\n\
    \   a Reply message.\n   The requesting router includes IA_PD options in any Renew,\
    \ or Rebind\n   messages sent by the requesting router.  The IA_PD option includes\n\
    \   all of the prefixes the requesting router currently has associated\n   with\
    \ that IA_PD.\n   In some circumstances the requesting router may need verification\n\
    \   that the delegating router still has a valid binding for the\n   requesting\
    \ router.  Examples of times when a requesting router may\n   ask for such verification\
    \ include:\n   o  The requesting router reboots.\n   o  The requesting router's\
    \ upstream link flaps.\n   o  The requesting router is physically disconnected\
    \ from a wired\n      connection.\n   If such verification is needed the requesting\
    \ router MUST initiate a\n   Rebind/Reply message exchange as described in section\
    \ 18.1.4,\n   \"Creation and Transmission of Rebind Messages\" of RFC 3315, with\
    \ the\n   exception that the retransmission parameters should be set as for the\n\
    \   Confirm message, described in section 18.1.2, \"Creation and\n   Transmission\
    \ of Confirm Messages\" of RFC 3315.  The requesting router\n   includes any IA_PDs,\
    \ along with prefixes associated with those IA_PDs\n   in its Rebind message.\n\
    \   Each prefix has valid and preferred lifetimes whose durations are\n   specified\
    \ in the IA_PD Prefix option for that prefix.  The requesting\n   router uses\
    \ Renew and Rebind messages to request the extension of the\n   lifetimes of a\
    \ delegated prefix.\n   The requesting router uses a Release message to return\
    \ a delegated\n   prefix to a delegating router.  The prefixes to be released\
    \ MUST be\n   included in the IA_PDs.\n   The Confirm and Decline message types\
    \ are not used with Prefix\n   Delegation.\n   Upon the receipt of a valid Reply\
    \ message, for each IA_PD the\n   requesting router assigns a subnet from each\
    \ of the delegated\n   prefixes to each of the links to which the associated interfaces\
    \ are\n   attached, with the following exception: the requesting router MUST\n\
    \   NOT assign any delegated prefixes or subnets from the delegated\n   prefix(es)\
    \ to the link through which it received the DHCP message\n   from the delegating\
    \ router.\n   When a requesting router subnets a delegated prefix, it must assign\n\
    \   additional bits to the prefix to generate unique, longer prefixes.\n   For\
    \ example, if the requesting router in Figure 1 were delegated\n   3FFE:FFFF:0::/48,\
    \ it might generate 3FFE:FFFF:0:1::/64 and\n   3FFE:FFFF:0:2::/64 for assignment\
    \ to the two links in the subscriber\n   network.  If the requesting router were\
    \ delegated 3FFE:FFFF:0::/48\n   and 3FFE:FFFF:5::/48, it might assign 3FFE:FFFF:0:1::/64\
    \ and\n   3FFE:FFFF:5:1::/64 to one of the links, and 3FFE:FFFF:0:2::/64 and\n\
    \   3FFE:FFFF:5:2::/64 for assignment to the other link.\n   If the requesting\
    \ router assigns a delegated prefix to a link to\n   which the router is attached,\
    \ and begins to send router\n   advertisements for the prefix on the link, the\
    \ requesting router MUST\n   set the valid lifetime in those advertisements to\
    \ be no later than\n   the valid lifetime specified in the IA_PD Prefix option.\
    \  A\n   requesting router MAY use the preferred lifetime specified in the\n \
    \  IA_PD Prefix option.\n   Handling of Status Codes options in received Reply\
    \ messages is\n   described in section 18.1.8, \"Receipt of Reply Messages\" of\
    \ RFC 3315.\n   The NoPrefixAvail Status Code is handled in the same manner as\
    \ the\n   NoAddrsAvail Status Code.\n"
- title: 12.2.  Delegating Router behavior
  contents:
  - "12.2.  Delegating Router behavior\n   When a delegating router receives a Request\
    \ message from a requesting\n   router that contains an IA_PD option, and the\
    \ delegating router is\n   authorized to delegate prefix(es) to the requesting\
    \ router, the\n   delegating router selects the prefix(es) to be delegated to\
    \ the\n   requesting router.  The mechanism through which the delegating router\n\
    \   selects prefix(es) for delegation is not specified in this document.\n   Section\
    \ 11.2 gives examples of ways in which a delegating router\n   might select the\
    \ prefix(es) to be delegated to a requesting router.\n   A delegating router examines\
    \ the prefix(es) identified in IA_PD\n   Prefix options (in an IA_PD option) in\
    \ Renew and Rebind messages and\n   responds according to the current status of\
    \ the prefix(es).  The\n   delegating router returns IA_PD Prefix options (within\
    \ an IA_PD\n   option) with updated lifetimes for each valid prefix in the message\n\
    \   from the requesting router.  If the delegating router finds that any\n   of\
    \ the prefixes are not in the requesting router's binding entry, the\n   delegating\
    \ router returns the prefix to the requesting router with\n   lifetimes of 0.\n\
    \   The delegating router behaves as follows when it cannot find a\n   binding\
    \ for the requesting router's IA_PD:\n   Renew message:      If the delegating\
    \ router cannot find a binding\n                       for the requesting router's\
    \ IA_PD the delegating\n                       router returns the IA_PD containing\
    \ no prefixes\n                       with a Status Code option set to NoBinding\
    \ in the\n                       Reply message.\n   Rebind message:     If the\
    \ delegating router cannot find a binding\n                       for the requesting\
    \ router's IA_PD and the\n                       delegating router determines\
    \ that the prefixes in\n                       the IA_PD are not appropriate for\
    \ the link to\n                       which the requesting router's interface\
    \ is\n                       attached according to the delegating routers\n  \
    \                     explicit configuration, the delegating router MAY\n    \
    \                   send a Reply message to the requesting router\n          \
    \             containing the IA_PD with the lifetimes of the\n               \
    \        prefixes in the IA_PD set to zero.  This Reply\n                    \
    \   constitutes an explicit notification to the\n                       requesting\
    \ router that the prefixes in the IA_PD\n                       are no longer\
    \ valid.  If the delegating router is\n                       unable to determine\
    \ if the prefix is not\n                       appropriate for the link, the Rebind\
    \ message is\n                       discarded.\n   A delegating router may mark\
    \ any prefix(es) in IA_PD Prefix options\n   in a Release message from a requesting\
    \ router as \"available\",\n   dependent on the mechanism used to acquire the\
    \ prefix, e.g., in the\n   case of a dynamic pool.\n   The delegating router MUST\
    \ include an IA_PD Prefix option or options\n   (in an IA_PD option) in Reply\
    \ messages sent to a requesting router.\n"
- title: 13.  Prefix Delegation reconfiguration
  contents:
  - "13.  Prefix Delegation reconfiguration\n   This section describes prefix delegation\
    \ in Reconfigure message\n   exchanges.\n"
- title: 13.1.  Delegating Router behavior
  contents:
  - "13.1.  Delegating Router behavior\n   The delegating router initiates a configuration\
    \ message exchange with\n   a requesting router, as described in section 19, \"\
    DHCP Server-\n   Initiated Configuration Exchange\" of RFC 3315, by sending a\n\
    \   Reconfigure message (acting as a DHCP server) to the requesting\n   router,\
    \ as described in section 19.1, \"Server Behavior\" of RFC 3315.\n   The delegating\
    \ router specifies the IA_PD option in the Option\n   Request option to cause\
    \ the requesting router to include an IA_PD\n   option to obtain new information\
    \ about delegated prefix(es).\n"
- title: 13.2.  Requesting Router behavior
  contents:
  - "13.2.  Requesting Router behavior\n   The requesting router responds to a Reconfigure\
    \ message, acting as a\n   DHCP client, received from a delegating router as described\
    \ in\n   section 19.4, \"Client Behavior\" of RFC 3315.  The requesting router\n\
    \   MUST include the IA_PD Prefix option(s) (in an IA_PD option) for\n   prefix(es)\
    \ that have been delegated to the requesting router by the\n   delegating router\
    \ from which the Reconfigure message was received.\n"
- title: 14.  Relay agent behavior
  contents:
  - "14.  Relay agent behavior\n   A relay agent forwards messages containing Prefix\
    \ Delegation options\n   in the same way as described in section 20, \"Relay Agent\
    \ Behavior\" of\n   RFC 3315.\n   If a delegating router communicates with a requesting\
    \ router through\n   a relay agent, the delegating router may need a protocol\
    \ or other\n   out-of-band communication to add routing information for delegated\n\
    \   prefixes into the provider edge router.\n"
- title: 15.  Security Considerations
  contents:
  - "15.  Security Considerations\n   Security considerations in DHCP are described\
    \ in section 23,\n   \"Security Considerations\" of RFC 3315.\n   A rogue delegating\
    \ router can issue bogus prefixes to a requesting\n   router.  This may cause\
    \ denial of service due to unreachability.\n   A malicious requesting router may\
    \ be able to mount a denial of\n   service attack by repeated requests for delegated\
    \ prefixes that\n   exhaust the delegating router's available prefixes.\n   To\
    \ guard against attacks through prefix delegation, requesting\n   routers and\
    \ delegating routers SHOULD use DHCP authentication as\n   described in section\
    \ 21, \"Authentication of DHCP messages\" of RFC\n   3315.  For point to point\
    \ links, where one trusts that there is no\n   man in the middle, or one trusts\
    \ layer two authentication, DHCP\n   authentication or IPsec may not be necessary.\
    \  Because a requesting\n   router and delegating routers must each have at least\
    \ one assigned\n   IPv6 address, the routers may be able to use IPsec for authentication\n\
    \   of DHCPv6 messages.  The details of using IPsec for DHCPv6 are under\n   development.\n\
    \   Networks configured with delegated prefixes should be configured to\n   preclude\
    \ intentional or inadvertent inappropriate advertisement of\n   these prefixes.\n"
- title: 16.  IANA Considerations
  contents:
  - "16.  IANA Considerations\n   IANA has assigned option codes to:\n   OPTION_IA_PD\
    \ (25)\n   OPTION_IAPREFIX (26)\n   from the option-code space as defined in section\
    \ 24.3, \"DHCP Options\"\n   of RFC 3315.\n   IANA has assigned status code 6\
    \ to:\n   NoPrefixAvail:      Delegating router has no prefixes available to\n\
    \                       assign to the IAPD(s)\n   from the status-code space as\
    \ defined in section 24.4, \"Status Codes\"\n   of RFC 3315.\n"
- title: 17.  Intellectual Property Statement
  contents:
  - "17.  Intellectual Property Statement\n   The IETF takes no position regarding\
    \ the validity or scope of any\n   intellectual property or other rights that\
    \ might be claimed to\n   pertain to the implementation or use of the technology\
    \ described in\n   this document or the extent to which any license under such\
    \ rights\n   might or might not be available; neither does it represent that it\n\
    \   has made any effort to identify any such rights.  Information on the\n   IETF's\
    \ procedures with respect to rights in standards-track and\n   standards-related\
    \ documentation can be found in BCP-11.  Copies of\n   claims of rights made available\
    \ for publication and any assurances of\n   licenses to be made available, or\
    \ the result of an attempt made to\n   obtain a general license or permission\
    \ for the use of such\n   proprietary rights by implementors or users of this\
    \ specification can\n   be obtained from the IETF Secretariat.\n   The IETF invites\
    \ any interested party to bring to its attention any\n   copyrights, patents or\
    \ patent applications, or other proprietary\n   rights which may cover technology\
    \ that may be required to practice\n   this standard.  Please address the information\
    \ to the IETF Executive\n   Director.\n"
- title: 18.  References
  contents:
  - '18.  References

    '
- title: 18.1.  Normative References
  contents:
  - "18.1.  Normative References\n   [1]  Deering, S. and R. Hinden, \"Internet Protocol,\
    \ Version 6 (IPv6)\n        Specification\", RFC 2460, December 1998.\n   [2]\
    \  Droms, R., Bound, J., Volz, B., Lemon, T., Perkins, C. and M.\n        Carney,\
    \ \"Dynamic Host Configuration Protocol for IPv6 (DHCPv6)\",\n        RFC 3315,\
    \ July 2003.\n   [3]  Bradner, S., \"Key words for use in RFCs to Indicate Requirement\n\
    \        Levels\", BCP 14, RFC 2119, March 1997.\n   [4]  Narten, T., Nordmark,\
    \ E. and W. Simpson, \"Neighbor Discovery for\n        IP Version 6 (IPv6)\",\
    \ RFC 2461, December 1998.\n   [5]  Aboba, B., Zorn, G. and D. Mitton, \"RADIUS\
    \ and IPv6\", RFC 3162,\n        August 2001.\n"
- title: 18.2.  Informative References
  contents:
  - "18.2.  Informative References\n   [6]  Miyakawa, S. and R. Droms, \"Requirements\
    \ for IPv6 prefix\n        delegation\", Work in Progress, August 2003.\n"
- title: 19.  Acknowledgements
  contents:
  - "19.  Acknowledgements\n   Thanks for the input and review by (in alphabetical\
    \ order) Steve\n   Deering, Dave Forster, Brian Haberman, Tatuya Jinmei, Shin\
    \ Miyakawa,\n   Pekka Savola, Bernie Volz, Trevor Warwick and Toshi Yamasaki.\n"
- title: 20.  Authors' Addresses
  contents:
  - "20.  Authors' Addresses\n   Ole Troan\n   Cisco Systems\n   250 Longwater Avenue\n\
    \   Reading  RG2 6GB\n   United Kingdom\n   Phone: +44 20 8824 8666\n   EMail:\
    \ ot@cisco.com\n   Ralph Droms\n   Cisco Systems\n   1414 Massachusetts Avenue\n\
    \   Boxborough, MA  01719\n   USA\n   Phone: +1 978 936 1674\n   EMail: rdroms@cisco.com\n"
- title: 21.  Full Copyright Statement
  contents:
  - "21.  Full Copyright Statement\n   Copyright (C) The Internet Society (2003).\
    \  All Rights Reserved.\n   This document and translations of it may be copied\
    \ and furnished to\n   others, and derivative works that comment on or otherwise\
    \ explain it\n   or assist in its implementation may be prepared, copied, published\n\
    \   and distributed, in whole or in part, without restriction of any\n   kind,\
    \ provided that the above copyright notice and this paragraph are\n   included\
    \ on all such copies and derivative works.  However, this\n   document itself\
    \ may not be modified in any way, such as by removing\n   the copyright notice\
    \ or references to the Internet Society or other\n   Internet organizations, except\
    \ as needed for the purpose of\n   developing Internet standards in which case\
    \ the procedures for\n   copyrights defined in the Internet Standards process\
    \ must be\n   followed, or as required to translate it into languages other than\n\
    \   English.\n   The limited permissions granted above are perpetual and will\
    \ not be\n   revoked by the Internet Society or its successors or assignees.\n\
    \   This document and the information contained herein is provided on an\n   \"\
    AS IS\" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING\n   TASK FORCE\
    \ DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING\n   BUT NOT LIMITED\
    \ TO ANY WARRANTY THAT THE USE OF THE INFORMATION\n   HEREIN WILL NOT INFRINGE\
    \ ANY RIGHTS OR ANY IMPLIED WARRANTIES OF\n   MERCHANTABILITY OR FITNESS FOR A\
    \ PARTICULAR PURPOSE.\n"
- title: Acknowledgement
  contents:
  - "Acknowledgement\n   Funding for the RFC Editor function is currently provided\
    \ by the\n   Internet Society.\n"
