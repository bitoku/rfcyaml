- title: __initial_text__
  contents:
  - ''
- title: Independent Submission                                       S. Kanugovi
  contents:
  - "Independent Submission                                       S. Kanugovi\n  \
    \              Multi-Access Management Services (MAMS)\n"
- title: Abstract
  contents:
  - "Abstract\n   In multiconnectivity scenarios, the clients can simultaneously\n\
    \   connect to multiple networks based on different access technologies\n   and\
    \ network architectures like Wi-Fi, LTE, and DSL.  Both the quality\n   of experience\
    \ of the users and the overall network utilization and\n   efficiency may be improved\
    \ through the smart selection and\n   combination of access and core network paths\
    \ that can dynamically\n   adapt to changing network conditions.\n   This document\
    \ presents a unified problem statement and introduces a\n   solution for managing\
    \ multiconnectivity.  The solution has been\n   developed by the authors based\
    \ on their experiences in multiple\n   standards bodies, including the IETF and\
    \ the 3GPP.  However, this\n   document is not an Internet Standards Track specification,\
    \ and it\n   does not represent the consensus opinion of the IETF.\n   This document\
    \ describes requirements, solution principles, and the\n   architecture of the\
    \ Multi-Access Management Services (MAMS)\n   framework.  The MAMS framework aims\
    \ to provide best performance while\n   being easy to implement in a wide variety\
    \ of multiconnectivity\n   deployments.  It specifies the protocol for (1) flexibly\
    \ selecting\n   the best combination of access and core network paths for the\
    \ uplink\n   and downlink, and (2) determining the user-plane treatment (e.g.,\n\
    \   tunneling, encryption) and traffic distribution over the selected\n   links,\
    \ to ensure network efficiency and the best possible application\n   performance.\n"
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This document is not an Internet Standards Track specification;\
    \ it is\n   published for informational purposes.\n   This is a contribution to\
    \ the RFC Series, independently of any other\n   RFC stream.  The RFC Editor has\
    \ chosen to publish this document at\n   its discretion and makes no statement\
    \ about its value for\n   implementation or deployment.  Documents approved for\
    \ publication by\n   the RFC Editor are not candidates for any level of Internet\
    \ Standard;\n   see Section 2 of RFC 7841.\n   Information about the current status\
    \ of this document, any errata,\n   and how to provide feedback on it may be obtained\
    \ at\n   https://www.rfc-editor.org/info/rfc8743.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (c) 2020 IETF Trust and the persons identified\
    \ as the\n   document authors.  All rights reserved.\n   This document is subject\
    \ to BCP 78 and the IETF Trust's Legal\n   Provisions Relating to IETF Documents\n\
    \   (https://trustee.ietf.org/license-info) in effect on the date of\n   publication\
    \ of this document.  Please review these documents\n   carefully, as they describe\
    \ your rights and restrictions with respect\n   to this document.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1.  Introduction\n   2.  Terminology\n   3.  Problem Statement\n\
    \   4.  Requirements\n     4.1.  Access-Technology-Agnostic Interworking\n   \
    \  4.2.  Support for Common Transport Deployments\n     4.3.  Independent Access\
    \ Path Selection for Uplink and Downlink\n     4.4.  Core Selection Independent\
    \ of Uplink and Downlink Access\n     4.5.  Adaptive Access Network Path Selection\n\
    \     4.6.  Multipath Support and Aggregation of Access Link Capacities\n    \
    \ 4.7.  Scalable Mechanism Based on User-Plane Interworking\n     4.8.  Separate\
    \ Control-Plane and User-Plane Functions\n     4.9.  Lossless Path (Connection)\
    \ Switching\n     4.10. Concatenation and Fragmentation for Adaptation to MTU\n\
    \            Differences\n     4.11. Configuring Network Middleboxes Based on\
    \ Negotiated\n            Protocols\n     4.12. Policy-Based Optimal Path Selection\n\
    \     4.13. Access-Technology-Agnostic Control Signaling\n     4.14. Service Discovery\
    \ and Reachability\n   5.  Solution Principles\n   6.  MAMS Reference Architecture\n\
    \   7.  MAMS Protocol Architecture\n     7.1.  MAMS Control-Plane Protocol\n \
    \    7.2.  MAMS User-Plane Protocol\n   8.  MAMS Control-Plane Procedures\n  \
    \   8.1.  Overview\n     8.2.  Common Fields in MAMS Control Messages\n     8.3.\
    \  Common Procedures for MAMS Control Messages\n       8.3.1.  Message Timeout\n\
    \       8.3.2.  Keep-Alive Procedure\n     8.4.  Discovery and Capability Exchange\n\
    \     8.5.  User-Plane Configuration\n     8.6.  MAMS Path Quality Estimation\n\
    \       8.6.1.  MX Control PDU Definition\n       8.6.2.  Keep-Alive Message\n\
    \       8.6.3.  Probe-REQ/ACK Message\n     8.7.  MAMS Traffic Steering\n    \
    \ 8.8.  MAMS Application MADP Association\n     8.9.  MAMS Network ID Indication\n\
    \     8.10. MAMS Client Measurement Configuration and Reporting\n     8.11. MAMS\
    \ Session Termination Procedure\n     8.12. MAMS Network Analytics Request Procedure\n\
    \   9.  Generic MAMS Signaling Flow\n   10. Relationship to IETF Technologies\n\
    \   11. Applying MAMS Control Procedures with MPTCP Proxy as User Plane\n   12.\
    \ Applying MAMS Control Procedures for Network-Assisted Traffic\n           Steering\
    \ When There Is No Convergence Layer\n   13. Coexistence of MX Adaptation and\
    \ MX Convergence Layers\n   14. Security Considerations\n     14.1.  MAMS Control-Plane\
    \ Security\n     14.2.  MAMS User-Plane Security\n   15. Implementation Considerations\n\
    \   16. Applicability to Multi-Access Edge Computing\n   17. Related Work in Other\
    \ Industry and Standards Forums\n   18. IANA Considerations\n   19. References\n\
    \     19.1.  Normative References\n     19.2.  Informative References\n   Appendix\
    \ A.  MAMS Control-Plane Optimization over Secure\n           Connections\n  \
    \ Appendix B.  MAMS Application Interface\n     B.1.  Overall Design\n     B.2.\
    \  Notation\n     B.3.  Error Indication\n     B.4.  CCM APIs\n       B.4.1. \
    \ GET Capabilities\n       B.4.2.  Posting Application Requirements\n       B.4.3.\
    \  Getting Predictive Link Parameters\n   Appendix C.  MAMS Control-Plane Messages\
    \ Described Using JSON\n     C.1.  Protocol Specification: General Processing\n\
    \       C.1.1.  Notation\n       C.1.2.  Discovery Procedure\n       C.1.3.  System\
    \ Information Procedure\n       C.1.4.  Capability Exchange Procedure\n      \
    \ C.1.5.  User-Plane Configuration Procedure\n       C.1.6.  Reconfiguration Procedure\n\
    \       C.1.7.  Path Estimation Procedure\n       C.1.8.  Traffic-Steering Procedure\n\
    \       C.1.9.  MAMS Application MADP Association\n       C.1.10. MX SSID Indication\n\
    \       C.1.11. Measurements\n       C.1.12. Keep-Alive\n       C.1.13. Session\
    \ Termination Procedure\n       C.1.14. Network Analytics\n     C.2.  Protocol\
    \ Specification: Data Types\n       C.2.1.  MXBase\n       C.2.2.  Unique Session\
    \ ID\n       C.2.3.  NCM Connections\n       C.2.4.  Connection Information\n\
    \       C.2.5.  Features and Their Activation Status\n       C.2.6.  Anchor Connections\n\
    \       C.2.7.  Delivery Connections\n       C.2.8.  Method Support\n       C.2.9.\
    \  Convergence Methods\n       C.2.10. Adaptation Methods\n       C.2.11. Setup\
    \ of Anchor Connections\n       C.2.12. Init Probe Results\n       C.2.13. Active\
    \ Probe Results\n       C.2.14. Downlink Delivery\n       C.2.15. Uplink Delivery\n\
    \       C.2.16. Traffic Flow Template\n       C.2.17. Measurement Report Configuration\n\
    \       C.2.18. Measurement Report\n     C.3.  Schemas in JSON\n       C.3.1.\
    \  MX Base Schema\n       C.3.2.  MX Definitions\n       C.3.3.  MX Discover\n\
    \       C.3.4.  MX System Info\n       C.3.5.  MX Capability Request\n       C.3.6.\
    \  MX Capability Response\n       C.3.7.  MX Capability Acknowledge\n       C.3.8.\
    \  MX Reconfiguration Request\n       C.3.9.  MX Reconfiguration Response\n  \
    \     C.3.10. MX UP Setup Configuration Request\n       C.3.11. MX UP Setup Confirmation\n\
    \       C.3.12. MX Traffic Steering Request\n       C.3.13. MX Traffic Steering\
    \ Response\n       C.3.14. MX Application MADP Association Request\n       C.3.15.\
    \ MX Application MADP Association Response\n       C.3.16. MX Path Estimation\
    \ Request\n       C.3.17. MX Path Estimation Results\n       C.3.18. MX SSID Indication\n\
    \       C.3.19. MX Measurement Configuration\n       C.3.20. MX Measurement Report\n\
    \       C.3.21. MX Keep-Alive Request\n       C.3.22. MX Keep-Alive Response\n\
    \       C.3.23. MX Session Termination Request\n       C.3.24. MX Session Termination\
    \ Response\n       C.3.25. MX Network Analytics Request\n       C.3.26. MX Network\
    \ Analytics Response\n     C.4.  Examples in JSON\n       C.4.1.  MX Discover\n\
    \       C.4.2.  MX System Info\n       C.4.3.  MX Capability Request\n       C.4.4.\
    \  MX Capability Response\n       C.4.5.  MX Capability Acknowledge\n       C.4.6.\
    \  MX Reconfiguration Request\n       C.4.7.  MX Reconfiguration Response\n  \
    \     C.4.8.  MX UP Setup Configuration Request\n       C.4.9.  MX UP Setup Confirmation\n\
    \       C.4.10. MX Traffic Steering Request\n       C.4.11. MX Traffic Steering\
    \ Response\n       C.4.12. MX Application MADP Association Request\n       C.4.13.\
    \ MX Application MADP Association Response\n       C.4.14. MX Path Estimation\
    \ Request\n       C.4.15. MX Path Estimation Results\n       C.4.16. MX SSID Indication\n\
    \       C.4.17. MX Measurement Configuration\n       C.4.18. MX Measurement Report\n\
    \       C.4.19. MX Keep-Alive Request\n       C.4.20. MX Keep-Alive Response\n\
    \       C.4.21. MX Session Termination Request\n       C.4.22. MX Session Termination\
    \ Response\n       C.4.23. MX Network Analytics Request\n       C.4.24. MX Network\
    \ Analytics Response\n   Appendix D.  Definition of APIs Provided by the CCM to\
    \ the\n           Applications at the Client\n   Appendix E.  Implementation Example\
    \ Using Python for MAMS Client\n           and Server\n     E.1.  Client-Side\
    \ Implementation\n     E.2.  Server-Side Implementation\n   Acknowledgments\n\
    \   Contributors\n   Authors' Addresses\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   Multi-Access Management Services (MAMS) is a programmable\
    \ framework\n   that provides mechanisms for the flexible selection of network\
    \ paths\n   in a multi-access (MX) communication environment, based on the\n \
    \  application's needs.  The MAMS framework leverages network\n   intelligence\
    \ and policies to dynamically adapt traffic distribution\n   across selected paths\
    \ and user-plane treatments (e.g., encryption\n   needed for transport over Wi-Fi,\
    \ or tunneling needed to overcome a\n   NAT between client and multipath proxy)\
    \ to changing network/link\n   conditions.  The network path selection and configuration\
    \ messages\n   are carried as user-plane data between the functional elements\
    \ in the\n   network and the client, and thus without any impact on the control-\n\
    \   plane signaling schemes of the underlying access networks.  For\n   example,\
    \ in a multi-access network with LTE and Wi-Fi technologies,\n   existing LTE\
    \ and Wi-Fi signaling procedures will be used to set up\n   the LTE and Wi-Fi\
    \ connections, respectively, and MAMS-specific\n   control-plane messages are\
    \ carried as LTE or Wi-Fi user-plane data.\n   The MAMS framework defined in this\
    \ document provides the capability\n   to make a smart selection of a flexible\
    \ combination of access paths\n   and core network paths, as well as to choose\
    \ the user-plane treatment\n   when the traffic is distributed across the selected\
    \ paths.  Thus, it\n   is a broad programmable framework that provides functions\
    \ beyond the\n   simple sharing of network policies such as those provided by\
    \ the\n   Access Network Discovery and Selection Function (ANDSF) [ANDSF],\n \
    \  which offers policies and rules for assisting 3GPP clients to\n   discover\
    \ and select available access networks.  Further, it allows\n   the choice and\
    \ configuration of user-plane treatment for the traffic\n   over the paths, depending\
    \ on the application's needs.\n   The MAMS framework mechanisms are not dependent\
    \ on any specific\n   access network types or user-plane protocols (e.g., TCP,\
    \ UDP, Generic\n   Routing Encapsulation (GRE) [RFC2784] [RFC2890], Multipath\
    \ TCP\n   (MPTCP) [RFC6824]).  The MAMS framework coexists and complements the\n\
    \   existing protocols by providing a way to negotiate and configure\n   those\
    \ protocols to match their use to a given multi-access scenario\n   based on client\
    \ and network capabilities, and the specific needs of\n   each access network\
    \ path.  Further, the MAMS framework allows load\n   balancing of the traffic\
    \ flows across the selected access network\n   paths, and the exchange of network\
    \ state information to be used for\n   network intelligence to optimize the performance\
    \ of such protocols.\n   This document presents the requirements, solution principles,\n\
    \   functional architecture, and protocols for realizing the MAMS\n   framework.\
    \  An important goal for the MAMS framework is to ensure\n   that it requires\
    \ either minimum dependency or (better) no dependency\n   on the actual access\
    \ technologies of the participating links, beyond\n   the fact that MAMS functional\
    \ elements form an IP overlay across the\n   multiple paths.  This allows the\
    \ scheme to be \"future proof\" by\n   allowing independent technology evolution\
    \ of the existing access and\n   core networks as well as seamless integration\
    \ of new access\n   technologies.\n   The solution described in this document\
    \ has been developed by the\n   authors, based on their experiences in multiple\
    \ standards bodies,\n   including the IETF and the 3GPP.  However, this document\
    \ is not an\n   Internet Standards Track specification, and it does not represent\
    \ the\n   consensus opinion of the IETF.\n"
- title: 2.  Terminology
  contents:
  - "2.  Terminology\n   The key words \"MUST\", \"MUST NOT\", \"REQUIRED\", \"SHALL\"\
    , \"SHALL NOT\",\n   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"NOT RECOMMENDED\"\
    , \"MAY\", and\n   \"OPTIONAL\" in this document are to be interpreted as described\
    \ in BCP\n   14 [RFC2119] [RFC8174] when, and only when, they appear in all\n\
    \   capitals, as shown here.\n   Client:  An end-user device that supports connections\
    \ with multiple\n      access nodes, possibly over different access technologies.\
    \  Also\n      called a user device or user equipment (UE).\n   Multiconnectivity\
    \ Client:  A client with multiple network\n      connections.\n   Access Network:\
    \  The segment in the network that delivers user data\n      packets to the client\
    \ via an access link such as a Wi-Fi airlink,\n      an LTE airlink, or DSL.\n\
    \   Core:  The functional element that anchors the client IP address used\n  \
    \    for communication with applications via the network.\n   Network Connection\
    \ Manager (NCM):  A functional entity in the network\n      that handles MAMS\
    \ control messages from the client and configures\n      the distribution of data\
    \ packets over the available access and\n      core network paths, and manages\
    \ the user-plane treatment (e.g.,\n      tunneling, encryption) of the traffic\
    \ flows.\n   Client Connection Manager (CCM):  A functional entity in the client\n\
    \      that exchanges MAMS signaling messages with the NCM, and which\n      configures\
    \ the network paths at the client for the transport of\n      user data.\n   Network\
    \ Multi-Access Data Proxy (N-MADP):  A functional entity in the\n      network\
    \ that handles the forwarding of user data traffic across\n      multiple network\
    \ paths.  The N-MADP is responsible for MAMS-\n      related user-plane functionalities\
    \ in the network.\n   Client Multi-Access Data Proxy (C-MADP):  A functional entity\
    \ in the\n      client that handles the forwarding of user data traffic across\n\
    \      multiple network paths.  The C-MADP is responsible for MAMS-\n      related\
    \ user-plane functionalities in the client.\n   Anchor Connection:  Refers to\
    \ the network path from the N-MADP to the\n      user-plane gateway (IP anchor)\
    \ that has assigned an IP address to\n      the client.\n   Delivery Connection:\
    \  Refers to the network path from the N-MADP to\n      the client.\n   Uplink\
    \ (also referred to as \"UL\" in this document):  Refers to the\n      direction\
    \ of a connection from a client toward the network.\n   Downlink (also referred\
    \ to as \"DL\" in this document):  Refers to the\n      direction of a connection\
    \ from the network toward a client.\n"
- title: 3.  Problem Statement
  contents:
  - "3.  Problem Statement\n   Typically, a client has access to multiple communication\
    \ networks\n   based on different technologies for accessing application services,\n\
    \   for example, LTE, Wi-Fi, DSL, or MulteFire.  Different technologies\n   exhibit\
    \ benefits and limitations in different scenarios.  For\n   example, Wi-Fi provides\
    \ high throughput for end users when their Wi-\n   Fi coverage is good, but the\
    \ throughput degrades significantly as a\n   given user moves closer to the edge\
    \ of its Wi-Fi coverage area\n   (typically in the range of a few tens of meters)\
    \ or if the user\n   population is large (due to a contention-based Wi-Fi access\
    \ scheme).\n   In LTE networks, the capacity is often constrained by the limited\n\
    \   availability of licensed spectrum.  However, the quality of the\n   service\
    \ is predictable even in multi-user scenarios, due to\n   controlled scheduling\
    \ and licensed-spectrum usage.\n   Additionally, the use of a particular access\
    \ network path is often\n   coupled with the use of its associated core network\
    \ and the services\n   that are offered by that network.  For example, in an enterprise\
    \ that\n   has deployed both Wi-Fi and LTE networks, the enterprise services,\n\
    \   such as printers and corporate audio/video conferencing, are\n   accessible\
    \ only via Wi-Fi access connected to the enterprise-hosted\n   (Wi-Fi) core, whereas\
    \ the LTE access can be used to get operator\n   services, including access to\
    \ the public Internet.\n   Thus, application performance in different scenarios\
    \ becomes\n   dependent on the choice of access networks (e.g., Wi-Fi, LTE) and\
    \ the\n   network and transport protocols used (e.g., VPN, MPTCP, GRE).\n   Therefore,\
    \ to achieve the best possible application performance in a\n   wide range of\
    \ scenarios, a framework is needed that allows the\n   selection and flexible\
    \ combination of access and core network paths\n   as well as the protocols used\
    \ for uplink and downlink data delivery.\n   For example, in uncongested scenarios\
    \ and when the user's Wi-Fi\n   coverage is good, to ensure best performance for\
    \ enterprise\n   applications at all times, it would be beneficial to use Wi-Fi\
    \ access\n   for both the uplink and downlink for connecting to enterprise\n \
    \  applications.  However, in congested scenarios or when the user is\n   getting\
    \ close to the edge of its Wi-Fi coverage area, the use of Wi-\n   Fi in the uplink\
    \ by multiple users can lead to degraded capacity and\n   increased delays due\
    \ to contention.  In this case, it would be\n   beneficial to at least use the\
    \ LTE access for increased uplink\n   coverage, while Wi-Fi may still continue\
    \ to be used for the downlink.\n"
- title: 4.  Requirements
  contents:
  - "4.  Requirements\n   The requirements set out in this section define the behavior\
    \ of the\n   MAMS mechanism and the related functional elements.\n"
- title: 4.1.  Access-Technology-Agnostic Interworking
  contents:
  - "4.1.  Access-Technology-Agnostic Interworking\n   The access nodes MAY use different\
    \ technology types (LTE, Wi-Fi,\n   etc.).  The framework, however, MUST be agnostic\
    \ about the type of\n   underlying technology used by the access network.\n"
- title: 4.2.  Support for Common Transport Deployments
  contents:
  - "4.2.  Support for Common Transport Deployments\n   The network path selection\
    \ and user data distribution MUST work\n   transparently across various transport\
    \ deployments that include end-\n   to-end IPsec, VPNs, and middleboxes like NATs\
    \ and proxies.\n"
- title: 4.3.  Independent Access Path Selection for Uplink and Downlink
  contents:
  - "4.3.  Independent Access Path Selection for Uplink and Downlink\n   A client\
    \ SHOULD be able to transmit on the uplink and receive on the\n   downlink, using\
    \ one or more access networks.  The selections of the\n   access paths for the\
    \ uplink and downlink SHOULD happen independently.\n"
- title: 4.4.  Core Selection Independent of Uplink and Downlink Access
  contents:
  - "4.4.  Core Selection Independent of Uplink and Downlink Access\n   A client SHOULD\
    \ flexibly select the core independently of the access\n   paths used to reach\
    \ the core, depending on the application's needs,\n   local policies, and the\
    \ result of MAMS control-plane negotiation.\n"
- title: 4.5.  Adaptive Access Network Path Selection
  contents:
  - "4.5.  Adaptive Access Network Path Selection\n   The framework MUST have the\
    \ ability to determine the quality of each\n   of the network paths, e.g., access\
    \ link delay and capacity.  This\n   information regarding network path quality\
    \ needs to be considered in\n   the logic for the selection of the combination\
    \ of network paths to be\n   used for transporting user data.  The path selection\
    \ algorithm can\n   use the information regarding network path quality, in addition\
    \ to\n   other considerations like network policies, for optimizing network\n\
    \   usage and enhancing the Quality of Experience (QoE) delivered to the\n   user.\n"
- title: 4.6.  Multipath Support and Aggregation of Access Link Capacities
  contents:
  - "4.6.  Multipath Support and Aggregation of Access Link Capacities\n   The framework\
    \ MUST support the distribution and aggregation of user\n   data across multiple\
    \ network paths at the IP layer.  The client\n   SHOULD be able to leverage the\
    \ combined capacity of the multiple\n   network connections by enabling the simultaneous\
    \ transport of user\n   data over multiple network paths.  If required, packet\
    \ reordering\n   needs to be done at the receiver.  The framework MUST allow the\n\
    \   flexibility to choose the flow-steering and aggregation protocols\n   based\
    \ on capabilities supported by the client and the network user-\n   plane entities.\
    \  The multiconnection aggregation solution MUST\n   support existing transport\
    \ and network-layer protocols like TCP, UDP,\n   and GRE.  The framework MUST\
    \ allow the use and configuration of\n   existing aggregation protocols such as\
    \ MPTCP and SCTP [RFC4960].\n"
- title: 4.7.  Scalable Mechanism Based on User-Plane Interworking
  contents:
  - "4.7.  Scalable Mechanism Based on User-Plane Interworking\n   The framework MUST\
    \ leverage commonly available transport, routing,\n   and tunneling capabilities\
    \ to provide user-plane interworking\n   functionality.  The addition of functional\
    \ elements in the user-plane\n   path between the client and the network MUST\
    \ NOT impact the access-\n   technology-specific procedures.  This makes the solution\
    \ easy to\n   deploy and scale when different networks are added and removed.\n"
- title: 4.8.  Separate Control-Plane and User-Plane Functions
  contents:
  - "4.8.  Separate Control-Plane and User-Plane Functions\n   The client MUST use\
    \ the control-plane protocol to negotiate the\n   following with the network:\
    \ (1) the choice of access and core network\n   paths for both the uplink and\
    \ downlink, and (2) the user-plane\n   protocol treatment.  The control plane\
    \ MUST configure the actual\n   user-plane data distribution function per this\
    \ negotiation.  A common\n   control protocol SHOULD allow the creation of multiple\
    \ user-plane\n   function instances with potentially different user-plane (e.g.,\n\
    \   tunneling) protocol types.  This enables maintaining a clear\n   separation\
    \ between the control-plane and user-plane functions,\n   allowing the framework\
    \ to be scalable and extensible, e.g., using\n   architectures and implementations\
    \ based on Software-Defined\n   Networking (SDN).\n"
- title: 4.9.  Lossless Path (Connection) Switching
  contents:
  - "4.9.  Lossless Path (Connection) Switching\n   When switching data traffic from\
    \ one path (connection) to another,\n   packets may be lost or delivered out of\
    \ order; this will have\n   negative impact on the performance of higher-layer\
    \ protocols, e.g.,\n   TCP.  The framework SHOULD provide the necessary mechanisms\
    \ to ensure\n   in-order delivery at the receiver, e.g., during path switching.\
    \  The\n   framework MUST NOT cause any packet loss beyond losses that access\n\
    \   network mobility functions may cause.\n"
- title: 4.10.  Concatenation and Fragmentation for Adaptation to MTU Differences
  contents:
  - "4.10.  Concatenation and Fragmentation for Adaptation to MTU Differences\n  \
    \ Different network paths may have different security and middlebox\n   (e.g.,\
    \ NAT) configurations.  These configurations will lead to the\n   use of different\
    \ tunneling protocols for the transport of data\n   between the network user-plane\
    \ function and the client.  As a result,\n   different effective payload sizes\
    \ per network path are possible\n   (e.g., due to variable encapsulation header\
    \ overheads).  Hence, the\n   MAMS framework SHOULD support the fragmentation\
    \ of a single payload\n   across MTU-sized IP packets to avoid IP packet fragmentation\
    \ when\n   aggregating packets from different paths.  Further, the concatenation\n\
    \   of multiple IP packets into a single IP packet to improve efficiency\n   in\
    \ packing the MTU size SHOULD also be supported.\n"
- title: 4.11.  Configuring Network Middleboxes Based on Negotiated Protocols
  contents:
  - "4.11.  Configuring Network Middleboxes Based on Negotiated Protocols\n   The\
    \ framework SHOULD enable the identification of optimal settings,\n   like radio\
    \ link dormancy timers, binding expiry times, and supported\n   MTUs, based on\
    \ parameters negotiated between the client and the\n   network, that may be used\
    \ to configure middleboxes for efficient\n   operation of user-plane protocols,\
    \ e.g., configuring a NAT with a\n   longer binding expiry time when UDP versus\
    \ TCP is used.\n"
- title: 4.12.  Policy-Based Optimal Path Selection
  contents:
  - "4.12.  Policy-Based Optimal Path Selection\n   The framework MUST support both\
    \ the implementation of policies at the\n   client and guidance from the network\
    \ for network path selection that\n   will address different application requirements.\n"
- title: 4.13.  Access-Technology-Agnostic Control Signaling
  contents:
  - "4.13.  Access-Technology-Agnostic Control Signaling\n   The control-plane signaling\
    \ MUST NOT be dependent on the underlying\n   access technology procedures, i.e.,\
    \ it is carried transparently, like\n   application data, on the user plane. \
    \ The MAMS framework SHOULD\n   support the delivery of control-plane signaling\
    \ over existing\n   Internet protocols, e.g., TCP or UDP.\n"
- title: 4.14.  Service Discovery and Reachability
  contents:
  - "4.14.  Service Discovery and Reachability\n   There can be multiple instances\
    \ of the control-plane and user-plane\n   functional elements of the framework,\
    \ either collocated or hosted on\n   separate network elements and reachable via\
    \ any of the available\n   user-plane paths.  The client MUST have the flexibility\
    \ to choose the\n   appropriate control-plane instance in the network and use\
    \ the\n   control-plane signaling to choose the desired user-plane functional\n\
    \   element instances.  The client's choice can be based on\n   considerations\
    \ such as, but not limited to, the quality of the link\n   through which the network\
    \ function is reachable, client preferences,\n   preconfiguration, etc.\n"
- title: 5.  Solution Principles
  contents:
  - "5.  Solution Principles\n   This document describes the Multi-Access Management\
    \ Services (MAMS)\n   framework for dynamic selection of a flexible combination\
    \ of access\n   and core network paths for the uplink and downlink, as well as\
    \ the\n   user-plane treatment for the traffic spread across the selected\n  \
    \ links.  The user-plane paths, and access and core network\n   connections, can\
    \ be selected independently for the uplink and\n   downlink.  For example, the\
    \ network paths chosen for the uplink do\n   not apply any constraints on the\
    \ choice of paths for the downlink.\n   The uplink and downlink network paths\
    \ can be chosen based on the\n   application needs and on the characteristics\
    \ and available resources\n   on different network connections.  For example,\
    \ a Wi-Fi connection\n   can be chosen for the downlink for transporting high-bandwidth\
    \ data\n   from the network to the client, whereas an LTE connection can be\n\
    \   chosen to carry the low-bandwidth feedback to the application server.\n  \
    \ Also, depending on the characteristics of the access network link,\n   different\
    \ processing would be needed on the user-plane packets on\n   different network\
    \ paths.  Encryption would be needed on a Wi-Fi link\n   to secure user-plane\
    \ packets, but not on an LTE link.  Tunneling\n   would be needed to ensure client\
    \ and network end-point reachability\n   over NATs.  Such differentiated user-plane\
    \ treatment can be\n   accomplished by configuration of user plane-protocols (e.g.,\
    \ IPsec)\n   specific to each link.\n   The MAMS framework consists of clearly\
    \ separated control- and user-\n   plane functions in the network and the client.\
    \  The control-plane\n   protocol allows the configuration of the user-plane protocols\
    \ and\n   desired network paths for the transport of application traffic.  The\n\
    \   control-plane messages are carried as user-plane data over any of the\n  \
    \ available network paths between the peer control-plane functional\n   elements\
    \ in the client and the network.  Multiple user-plane paths\n   are dynamically\
    \ distributed across multiple access networks and\n   aggregated in the network\
    \ (by the N-MADP).  The access network's\n   diversity is not exposed to the application\
    \ servers, but is kept\n   within the scope of the elements defined in this framework.\
    \  This\n   reduces the burden placed on application servers that would otherwise\n\
    \   have to react to access link changes caused by mobility events or\n   changing\
    \ link characteristics.\n   The selection of paths and user-plane treatment of\
    \ the traffic is\n   based on (1) the negotiation of client and network capabilities,\
    \ and\n   (2) link probing (i.e., checking the quality of links between the\n\
    \   user-plane functional elements at the client and the network).  This\n   framework\
    \ enables leveraging network intelligence to set up and\n   dynamically configure\
    \ the best access network path combination based\n   on client and network capabilities,\
    \ an application's needs, and\n   knowledge of the network state.\n"
- title: 6.  MAMS Reference Architecture
  contents:
  - "6.  MAMS Reference Architecture\n   Figure 1 illustrates the MAMS architecture\
    \ for the scenario where a\n   client is served by multiple (n) networks.  It\
    \ also introduces the\n   following functional elements:\n   *  The NCM and the\
    \ CCM in the control plane.\n   *  The N-MADP and the C-MADP in the user plane.\n\
    \        |          |Core (IP anchor)| ..... |Core (IP anchor)|   |\n        |\
    \          |Network 1       |       |Network \"n\"     |   |\n        |      \
    \               Anchor \\  ...... Anchor            |\n        |             \
    \        Connection 1     Connection \"n\"    |\n        | +--------------| NCM\
    \ |      |  N-MADP  |    |          |\n        | |Control-Plane       Delivery\
    \  ...... Delivery         |\n        | |Path (over any      Connection 1    \
    \ Connection \"n\"   |\n        | |access user plane)      /                 \\\
    \           |\n        | |       |    Access        | ...... | Access        |\
    \  |\n        | |       |    Network 1     |        | Network \"n\"   |  |\n \
    \                  Figure 1: MAMS Reference Architecture\n   The NCM is the functional\
    \ element in the network that handles the\n   MAMS control-plane procedures. \
    \ It configures the network (N-MADP)\n   and client (C-MADP) user-plane functions,\
    \ such as negotiating with\n   the client for the use of available access network\
    \ paths, protocols,\n   and rules for processing the user-plane traffic, as well\
    \ as link-\n   monitoring procedures.  The control-plane messages between the\
    \ NCM\n   and the CCM are transported as an overlay on the user plane, without\n\
    \   any impact on the underlying access networks.\n   The CCM is the peer functional\
    \ element in the client for handling\n   MAMS control-plane procedures.  It manages\
    \ multiple network\n   connections at the client.  The CCM exchanges MAMS signaling\
    \ messages\n   with the NCM to support such functions as the configuration of\
    \ the UL\n   and DL user network path for transporting user data packets and the\n\
    \   adaptive selection of network path by the NCM by reporting on the\n   results\
    \ of link probing.  In the downlink, for user data received by\n   the client,\
    \ it configures the C-MADP such that application data\n   packets can be received\
    \ over any access link so that the packets will\n   reach the appropriate application\
    \ on the client.  In the uplink, for\n   the data transmitted by the client, it\
    \ configures the C-MADP to\n   determine the best access links to be used for\
    \ uplink data based on a\n   combination of local and network policies delivered\
    \ by the NCM.\n   The N-MADP is the functional element in the network that handles\
    \ the\n   forwarding of user data traffic across multiple network paths, as\n\
    \   well as other user-plane functionalities (e.g., encapsulation,\n   fragmentation,\
    \ concatenation, reordering, retransmission).  The\n   N-MADP is the distribution\
    \ node that routes (1) the uplink user-plane\n   traffic to the appropriate anchor\
    \ connection toward the core network,\n   and (2) the downlink user traffic to\
    \ the client over the appropriate\n   delivery connections.  In the downlink,\
    \ the NCM configures the use of\n   delivery connections and user-plane protocols\
    \ at the N-MADP for\n   transporting user data traffic.  The N-MADP SHOULD implement\
    \ ECMP\n   support for the downlink traffic.  Alternatively, it MAY be connected\n\
    \   to a router with ECMP functionality.  The load-balancing algorithm at\n  \
    \ the N-MADP is configured by the NCM, based on static and/or dynamic\n   network\
    \ policies like assigning access and core paths for a specific\n   user data traffic\
    \ type, user-volume-based percentage distribution,\n   and link availability and\
    \ feedback information from the exchange of\n   MAMS signaling messages with the\
    \ CCM at the client.  The N-MADP can\n   be configured with appropriate user-plane\
    \ protocols to support both\n   per-flow and per-packet traffic distribution across\
    \ the delivery\n   connections.  In the uplink, the N-MADP selects the appropriate\n\
    \   anchor connection over which to forward the user data traffic\n   received\
    \ from the client (via the delivery connections).  The\n   forwarding rules in\
    \ the uplink at the N-MADP are configured by the\n   NCM based on application\
    \ requirements, e.g., enterprise-hosted\n   application flows via a Wi-Fi anchor\
    \ or mobile-operator-hosted\n   applications via the cellular core.\n   The C-MADP\
    \ is the functional element in the client that handles the\n   MAMS user-plane\
    \ data procedures.  The C-MADP is configured by the\n   CCM, based on the signaling\
    \ exchange with the NCM and local policies\n   at the client.  The CCM configures\
    \ the selection of delivery\n   connections and the user-plane protocols to be\
    \ used for uplink user\n   data traffic based on the signaling messages exchanged\
    \ with the NCM.\n   The C-MADP entity handles the forwarding of user-plane data\
    \ across\n   multiple delivery connections and associated user-plane functions\n\
    \   (e.g., encapsulation, fragmentation, concatenation, reordering,\n   retransmissions).\n\
    \   The NCM and N-MADP can be either collocated or instantiated on\n   different\
    \ network nodes.  The NCM can set up multiple N-MADP\n   instances in the network.\
    \  The NCM controls the selection of the\n   N-MADP instance by the client and\
    \ the rules for the distribution of\n   user traffic across the N-MADP instances.\
    \  This is beneficial in\n   multiple deployment scenarios, like the following\
    \ examples:\n   *  Different N-MADP instances to handle different sets of clients\
    \ for\n      load balancing across clients.\n   *  Network topologies where the\
    \ N-MADP is hosted at the user-plane\n      node at the access edge or in the\
    \ core network, while the NCM is\n      hosted at the access edge node.\n   *\
    \  Access network technology architecture with an N-MADP instance at\n      the\
    \ core network node to manage traffic distribution across LTE\n      and DSL networks,\
    \ and an N-MADP instance at an access network node\n      to manage traffic distribution\
    \ across LTE and Wi-Fi networks.\n   *  A single client can be configured to use\
    \ multiple N-MADP\n      instances.  This is beneficial in addressing different\
    \ application\n      requirements.  For example, separate N-MADP instances to\
    \ handle\n      traffic that is based on TCP and UDP transport.\n   Thus, the\
    \ MAMS architecture flexibly addresses multiple network\n   deployments.\n"
- title: 7.  MAMS Protocol Architecture
  contents:
  - "7.  MAMS Protocol Architecture\n   This section describes the protocol structure\
    \ for the MAMS user-plane\n   and control-plane functional elements.\n"
- title: 7.1.  MAMS Control-Plane Protocol
  contents:
  - "7.1.  MAMS Control-Plane Protocol\n   Figure 2 shows the default MAMS control-plane\
    \ protocol stack.\n   WebSocket [RFC6455] is used for transporting management\
    \ and control\n   messages between the NCM and the CCM.\n               |    Multi-Access\
    \ (MX) Control Message     |\n           Figure 2: TCP-Based MAMS Control-Plane\
    \ Protocol Stack\n"
- title: 7.2.  MAMS User-Plane Protocol
  contents:
  - "7.2.  MAMS User-Plane Protocol\n   Figure 3 shows the MAMS user-plane protocol\
    \ stack for transporting\n   the user payload, e.g., an IP Protocol Data Unit\
    \ (PDU).\n          |   User Payload, e.g., IP Protocol Data Unit (PDU)   |\n\
    \       |  | Multi-Access (MX) Convergence Layer                 |  |\n      \
    \ |  | MX Adaptation   | MX Adaptation   | MX Adaptation   |  |\n       |  | Layer\
    \           | Layer           | Layer           |  |\n       |  | (optional) \
    \     | (optional)      | (optional)      |  |\n       |  | Access #1 IP    |\
    \ Access #2 IP    | Access #3 IP    |  |\n                  Figure 3: MAMS User-Plane\
    \ Protocol Stack\n   The MAMS user-plane protocol consists of the following two\
    \ layers:\n   *  Multi-Access (MX) Convergence Layer: The MAMS framework configures\n\
    \      the Convergence Layer to perform multi-access-specific tasks in\n     \
    \ the user plane.  This layer performs such functions as access\n      (path)\
    \ selection, multi-link (path) aggregation, splitting/\n      reordering, lossless\
    \ switching, fragmentation, or concatenation.\n      The MX Convergence Layer\
    \ can be implemented by using existing\n      user-plane protocols like MPTCP\
    \ [RFC6824] or Multipath QUIC\n      (MPQUIC) [QUIC-MULTIPATH], or by adapting\
    \ encapsulating header/\n      trailer schemes such as GRE [RFC2784] [RFC2890]\
    \ or Generic Multi-\n      Access (GMA) [INTAREA-GMA].\n   *  Multi-Access (MX)\
    \ Adaptation Layer: The MAMS framework configures\n      the Adaptation Layer\
    \ to address transport-network-related aspects\n      such as reachability and\
    \ security in the user plane.  This layer\n      performs functions to handle\
    \ tunneling, network-layer security,\n      and NAT.  The MX Adaptation Layer\
    \ can be implemented using IPsec,\n      DTLS [RFC6347], or a Client NAT (Source\
    \ NAT at the client with\n      inverse mapping at the N-MADP [INTAREA-MAMS]).\
    \  The MX Adaptation\n      Layer is OPTIONAL and can be independently configured\
    \ for each of\n      the access links.  For example, in a deployment with LTE\
    \ (assumed\n      secure) and Wi-Fi (assumed to not be secure), the MX Adaptation\n\
    \      Layer can be omitted for the LTE link, but is configured with\n      IPsec\
    \ to secure the Wi-Fi link.  Further details on the MAMS user\n      plane are\
    \ provided in [INTAREA-MAMS].\n"
- title: 8.  MAMS Control-Plane Procedures
  contents:
  - '8.  MAMS Control-Plane Procedures

    '
- title: 8.1.  Overview
  contents:
  - "8.1.  Overview\n   The CCM and NCM exchange signaling messages to configure the\
    \ user-\n   plane functions via the C-MADP and the N-MADP at the client and the\n\
    \   network, respectively.  The means for the CCM to obtain the NCM\n   credentials\
    \ (Fully Qualified Domain Name (FQDN) or IP address) for\n   sending the initial\
    \ discovery messages are out of scope for this\n   document.  As an example, the\
    \ client can obtain the NCM credentials\n   by using such methods as provisioning\
    \ or DNS queries.  Once the\n   discovery process is successful, the (initial)\
    \ NCM can update and\n   assign additional NCM addresses, e.g., based on Mobile\
    \ Country Code\n   (MCC) / Mobile Network Code (MNC) tuple information received\
    \ in the\n   MX Discover message, for sending subsequent control-plane messages.\n\
    \   The CCM discovers and exchanges capabilities with the NCM.  The NCM\n   provides\
    \ the credentials of the N-MADP endpoint and negotiates the\n   parameters for\
    \ the user plane with the CCM.  The CCM configures the\n   C-MADP to set up the\
    \ user-plane path (e.g., MPTCP/UDP Proxy\n   connection) with the N-MADP, based\
    \ on the credentials (e.g.,\n   (MPTCP/UDP) Proxy IP address and port, associated\
    \ core network path),\n   and the parameters exchanged with the NCM.  Further,\
    \ the NCM and CCM\n   exchange link status information to adapt traffic steering\
    \ and user-\n   plane treatment to dynamic network conditions.  The key procedures\n\
    \   are described in detail in the following subsections.\n                  \
    \   | CCM |                 | NCM |\n                        |     Discovery and\
    \     |\n                        |     Capability        |\n                 \
    \       |     Exchange          |\n                        |     Setup of    \
    \      |\n                        |     User-Plane        |\n                \
    \        |     Protocols         |\n                        |     Path Quality\
    \      |\n                        |     Estimation        |\n                \
    \        | Network Capabilities  |\n                        | e.g., RNIS [ETSIRNIS]\
    \ |\n                        |   Network Policies    |\n           \"RNIS\" stands\
    \ for \"Radio Network Information Service\"\n                  Figure 4: MAMS\
    \ Control-Plane Procedures\n"
- title: 8.2.  Common Fields in MAMS Control Messages
  contents:
  - "8.2.  Common Fields in MAMS Control Messages\n   Each MAMS control message consists\
    \ of the following common fields:\n   *  Version: Indicates the version of the\
    \ MAMS control protocol.\n   *  Message Type: Indicates the type of the message,\
    \ e.g., MX\n      Discover, MX Capability Request (REQ) / Response (RSP).\n  \
    \ *  Sequence Number: Auto-incremented integer to uniquely identify a\n      particular\
    \ message exchange, e.g., MX Capability Request/Response.\n"
- title: 8.3.  Common Procedures for MAMS Control Messages
  contents:
  - "8.3.  Common Procedures for MAMS Control Messages\n   This section describes\
    \ the common procedures for MAMS control\n   messages.\n"
- title: 8.3.1.  Message Timeout
  contents:
  - "8.3.1.  Message Timeout\n   After sending a MAMS control message, the MAMS control-plane\
    \ peer\n   (NCM or CCM) waits for a duration of MAMS_TIMEOUT ms before timing\n\
    \   out in cases where a response was expected.  The sender of the\n   message\
    \ will retransmit the message for MAMS_RETRY times before\n   declaring failure\
    \ if no response is received.  A failure implies that\n   the MAMS peer is dead\
    \ or unreachable, and the sender reverts to\n   native non-multi-access / single-path\
    \ mode.  The CCM may initiate the\n   MAMS discovery procedure for re-establishing\
    \ the MAMS session.\n"
- title: 8.3.2.  Keep-Alive Procedure
  contents:
  - "8.3.2.  Keep-Alive Procedure\n   MAMS control-plane peers execute the keep-alive\
    \ procedures to ensure\n   that the other peers are reachable and to recover from\
    \ dead-peer\n   scenarios.  Each MAMS control-plane endpoint maintains a Keep-Alive\n\
    \   timer that is set for a duration of MAMS_KEEP_ALIVE_TIMEOUT.  The\n   Keep-Alive\
    \ timer is reset whenever the peer receives a MAMS control\n   message.  When\
    \ the Keep-Alive timer expires, an MX Keep-Alive Request\n   is sent.\n   The\
    \ values for MAMS_RETRY and MAMS_KEEP_ALIVE_TIMEOUT parameters used\n   in keep-alive\
    \ procedures are deployment dependent, and the means for\n   obtaining them are\
    \ out of scope for this document.  As an example,\n   the client and network can\
    \ obtain the values using provisioning.  On\n   receipt of an MX Keep-Alive Request,\
    \ the receiver responds with an MX\n   Keep-Alive Response.  If the sender does\
    \ not receive a MAMS control\n   message in response to MAMS_RETRY retries of\
    \ the MX Keep-Alive\n   Request, the MAMS peer declares that the peer is dead\
    \ or unreachable.\n   The CCM MAY initiate the MAMS discovery procedure for re-establishing\n\
    \   the MAMS session.\n   Additionally, the CCM SHALL immediately send an MX Keep-Alive\
    \ Request\n   to the NCM whenever it detects a handover from one base station\
    \ /\n   access point to another.  During this time, the client SHALL stop\n  \
    \ using MAMS user-plane functionality in the uplink direction until it\n   receives\
    \ an MX Keep-Alive Response from the NCM.\n   The MX Keep-Alive Request includes\
    \ the following information:\n   *  Reason: Can be timeout or handover.  Handover\
    \ shall be used by the\n      CCM only on detection of a handover.\n   *  Unique\
    \ Session ID: See Section 8.4.\n   *  Connection ID: If the reason is handover,\
    \ the inclusion of this\n      field is mandatory.\n   *  Delivery Node ID: Identity\
    \ of the node to which the client is\n      attached.  In the case of LTE, this\
    \ is an E-UTRAN Cell Global\n      Identifier (ECGI).  In the case of Wi-Fi, this\
    \ is an AP ID or a\n      Media Access Control (MAC) address.  If the reason is\
    \ \"Handover\",\n      the inclusion of this field is mandatory.\n"
- title: 8.4.  Discovery and Capability Exchange
  contents:
  - "8.4.  Discovery and Capability Exchange\n   Figure 5 shows the MAMS discovery\
    \ and capability exchange procedure.\n      CCM                              \
    \                    NCM\n       |------- MX Discover Message ----------------------->|\n\
    \       |<----- MX Capability RSP ---------------------------|\n       Figure\
    \ 5: MAMS Control Procedure for Discovery and Capability\n   This procedure consists\
    \ of the following key steps:\n   Step 1 (discovery): The CCM periodically sends\
    \ an MX Discover message\n   to a predefined (NCM) IP address/port until an MX\
    \ System Info message\n   is received in acknowledgment.\n   *  The MX Discover\
    \ message includes the following information:\n      -  MAMS Version.\n      -\
    \  Mobile Country Code (MCC) / Mobile Network Code (MNC) Tuple:\n         Optional\
    \ parameter to identify the operator network to which\n         the client is\
    \ subscribed, in conformance with the format\n         specified in [ITU-E212].\n\
    \   *  The MX System Info message includes the following information:\n      -\
    \  Number of Anchor Connections.\n         For each anchor connection, the following\
    \ parameters are\n         included:\n         o  Connection ID: Unique identifier\
    \ for the anchor connection.\n         o  Connection Type (e.g., Wi-Fi, 5G NR,\
    \ MulteFire, LTE).\n         o  NCM Endpoint Address (for control-plane messages\
    \ over this\n            connection):\n            +  IP Address or FQDN\n   \
    \         +  Port Number\n   Step 2 (capability exchange): The CCM learns the\
    \ IP address and port\n   from the MX System Info message.  It then sends the\
    \ MX Capability REQ\n   message, which includes the following parameters:\n  \
    \ *  MX Feature Activation List: Indicates whether the corresponding\n      feature\
    \ is supported or not, e.g., lossless switching,\n      fragmentation, concatenation,\
    \ uplink aggregation, downlink\n      aggregation, measurement, probing.\n   *\
    \  Number of Anchor Connections (core networks).\n      For each anchor connection,\
    \ the following parameters are included:\n      -  Connection ID\n      -  Connection\
    \ Type (e.g., Wi-Fi, 5G NR, MulteFire, LTE)\n   *  Number of Delivery Connections\
    \ (access links).\n      For each delivery connection, the following parameters\
    \ are\n      included:\n      -  Connection ID\n      -  Connection Type (e.g.,\
    \ Wi-Fi, 5G NR, MulteFire, LTE)\n   *  MX Convergence Method Support List:\n \
    \     -  GMA\n      -  MPTCP Proxy\n      -  GRE Aggregation Proxy\n      -  MPQUIC\n\
    \   *  MX Adaptation Method Support List:\n      -  UDP without DTLS\n      -\
    \  UDP with DTLS\n      -  IPsec [RFC3948]\n      -  Client NAT\n   In response,\
    \ the NCM creates a unique identity for the CCM session\n   and sends the MX Capability\
    \ Response, including the following\n   information:\n   *  MX Feature Activation\
    \ List: Indicates whether the corresponding\n      feature is enabled or not,\
    \ e.g., lossless switching,\n      fragmentation, concatenation, uplink aggregation,\
    \ downlink\n      aggregation, measurement, probing.\n   *  Number of Anchor Connections\
    \ (core networks):\n      For each anchor connection, the following parameters\
    \ are included:\n      -  Connection ID\n      -  Connection Type (e.g., Wi-Fi,\
    \ 5G NR, MulteFire, LTE)\n   *  Number of Delivery Connections (access links):\n\
    \      For each delivery connection, the following parameters are\n      included:\n\
    \      -  Connection ID\n      -  Connection Type (e.g., Wi-Fi, 5G NR, MulteFire,\
    \ LTE)\n   *  MX Convergence Method Support List:\n      -  GMA\n      -  MPTCP\
    \ Proxy\n      -  GRE Aggregation Proxy\n      -  MPQUIC\n   *  MX Adaptation\
    \ Method Support List:\n      -  UDP without DTLS\n      -  UDP with DTLS\n  \
    \    -  IPsec [RFC3948]\n      -  Client NAT\n   *  Unique Session ID: Unique\
    \ session identifier for the CCM that set\n      up the connection.  If the session\
    \ already exists, then the\n      existing unique session identifier is returned.\n\
    \      -  NCM ID: Unique identity of the NCM in the operator network.\n      -\
    \  Session ID: Unique identity assigned to the CCM instance by\n         this\
    \ NCM instance.\n   In response to the MX Capability Response, the CCM sends a\n\
    \   confirmation (or rejection) in the MX Capability Acknowledge.  The MX\n  \
    \ Capability Acknowledge includes the following parameters:\n   *  Unique Session\
    \ ID: Same identifier as the identifier provided in\n      the MX Capability Response.\n\
    \   *  Acknowledgment: An indication of whether the client has accepted\n    \
    \  or rejected the capability exchange phase.\n      -  MX ACCEPT: The CCM accepts\
    \ the capability set proposed by the\n         NCM.\n      -  MX REJECT: The CCM\
    \ rejects the capability set proposed by the\n         NCM.\n   If the NCM receives\
    \ an MX_REJECT, the current MAMS session will be\n   terminated.\n   If the CCM\
    \ can no longer continue with the current capabilities, it\n   SHOULD send an\
    \ MX Session Termination Request to terminate the MAMS\n   session.  In response,\
    \ the NCM SHOULD send an MX Session Termination\n   Response to confirm the termination.\n"
- title: 8.5.  User-Plane Configuration
  contents:
  - "8.5.  User-Plane Configuration\n   Figure 6 shows the user-plane (UP) configuration\
    \ procedure.\n        CCM                                              NCM\n \
    \        |---- MX Reconfiguration REQ (setup) ----------->|\n         |---- MX\
    \ UP Setup Confirmation ----------------->|\n    |Link \"X\" is up/down|     \
    \                            |\n         |---- MX Reconfiguration REQ (update/release)\
    \ -->|\n       Figure 6: MAMS Control Procedure for User-Plane Configuration\n\
    \   This procedure consists of the following two key steps:\n   *  Reconfiguration:\
    \ The CCM informs the NCM about the changes to the\n      client's connections\
    \ - setup of a new connection, teardown of an\n      existing connection, or update\
    \ of parameters related to an\n      existing connection.  It consists of the\
    \ client triggering the\n      procedure by requesting an update to the connection\
    \ configuration,\n      and a response from the NCM.\n   *  UP Setup: The NCM\
    \ configures the user-plane protocols at the\n      client and the network.  The\
    \ NCM initiates the UP setup by sending\n      the MX UP Setup Configuration Request\
    \ to the client, which\n      confirms the set of mutually acceptable parameters\
    \ by using the\n      User Plane Setup Confirmation (CNF) message.\n   These steps\
    \ are elaborated as follows.\n   Reconfiguration: When the client detects that\
    \ the link is up/down or\n   the IP address changes (e.g., via APIs provided by\
    \ the client OS),\n   the CCM sends an MX Reconfiguration Request to set up, update,\
    \ or\n   release the connection.  The message SHOULD include the following\n \
    \  information:\n   *  Unique Session ID: Identity of the CCM at the NCM, created\
    \ by the\n      NCM during the capability exchange phase.\n   *  Reconfiguration\
    \ Action: Indicates the reconfiguration action\n      (release, setup, or update).\n\
    \   *  Connection ID: Identifies the connection for reconfiguration.\n   If the\
    \ Reconfiguration Action is set to \"setup\" or \"update\", then the\n   message\
    \ includes the following parameters:\n   *  IP address of the connection.\n  \
    \ *  SSID (Service Set Identifier of the Wi-Fi connection).\n   *  MTU of the\
    \ connection: The MTU of the delivery path that is\n      calculated at the client\
    \ for use by the NCM to configure\n      fragmentation and concatenation procedures\
    \ [INTAREA-MAMS] at the\n      N-MADP.\n   *  Delivery Node ID: Identity of the\
    \ node to which the client is\n      attached.  In the case of LTE, this is an\
    \ ECGI.  In the case of\n      Wi-Fi, this is an AP ID or a MAC address.\n   At\
    \ the beginning of a connection setup, the CCM informs the NCM of\n   the connection\
    \ status using the MX Reconfiguration Request with the\n   Reconfiguration Action\
    \ set to \"setup\".  The NCM acknowledges the\n   connection setup status and\
    \ exchanges parameters with the CCM for\n   user-plane setup, as described below.\n\
    \   Setup of User-Plane Protocols: Based on the negotiated capabilities,\n   the\
    \ NCM sets up the user-plane (Adaptation Layer and Convergence\n   Layer) protocols\
    \ at the N-MADP and informs the CCM of the user-plane\n   protocols to be set\
    \ up at the client (C-MADP) and the parameters for\n   the C-MADP to connect to\
    \ the N-MADP.\n   The MX UP Setup Configuration Request is used to create one\
    \ or more\n   MADP instances, with each anchor connection having one or more\n\
    \   configurations, namely MX Configurations.  The MX UP Setup\n   Configuration\
    \ Request consists of the following parameters:\n   *  Number of Anchor Connections\
    \ (core networks).\n      For each anchor connection, the following parameters\
    \ are included:\n      -  Anchor Connection ID\n      -  Connection Type (e.g.,\
    \ Wi-Fi, 5G NR, MulteFire, LTE)\n      -  Number of Active MX Configurations (included\
    \ only if more than\n         one MX configuration is active for the anchor connection).\n\
    \         For each active MX configuration, the following parameters are\n   \
    \      included:\n         o  MX Configuration ID (included if more than one MX\n\
    \            configuration is present)\n         o  MX Convergence Method.  One\
    \ of the following:\n            +  GMA\n            +  MPTCP Proxy\n        \
    \    +  GRE Aggregation Proxy\n            +  MPQUIC\n         o  MX Convergence\
    \ Method Parameters:\n            +  Convergence Proxy IP Address\n          \
    \  +  Convergence Proxy Port\n            +  Client Key\n         o  MX Convergence\
    \ Control Parameters (included if any MX\n            Control PDU types (e.g.,\
    \ Probe-REQ/ACK) are supported):\n            +  UDP port number for sending and\
    \ receiving MX Control PDUs\n               (e.g., Probe-REQ/ACK, Keep-Alive)\n\
    \            +  Convergence Proxy Port\n         o  Number of Delivery Connections.\n\
    \            For each delivery connection, include the following:\n          \
    \  +  Delivery Connection ID\n            +  Connection Type (e.g., Wi-Fi, 5G\
    \ NR, MulteFire, LTE)\n            +  MX Adaptation Method.  One of the following:\n\
    \               *  UDP without DTLS\n               *  UDP with DTLS\n       \
    \        *  IPsec\n               *  Client NAT\n            +  MX Adaptation\
    \ Method Parameters:\n               *  Tunnel Endpoint IP Address\n         \
    \      *  Tunnel Endpoint Port\n               *  Shared Secret\n            \
    \   *  Header Optimization (included only if the MX\n                  Convergence\
    \ Method is GMA)\n   For example, when LTE and Wi-Fi are the two user-plane accesses,\
    \ the\n   NCM conveys to the CCM that IPsec needs to be set up as the MX\n   Adaptation\
    \ Layer over the Wi-Fi access, using the following\n   parameters: IPsec endpoint\
    \ IP address, and Pre-Shared Key.  No\n   Adaptation Layer is needed if it is\
    \ considered secure with no NAT, or\n   a Client NAT may be used over the LTE\
    \ access.\n   Similarly, as an example of the MX Convergence Method, the\n   configuration\
    \ indicates the convergence method as the MPTCP proxy,\n   along with parameters\
    \ for a connection to the MPTCP proxy: namely the\n   IP address and port of the\
    \ MPTCP proxy for TCP applications.\n   Once the user-plane protocols are configured,\
    \ the CCM informs the NCM\n   of the status via the MX UP Setup Confirmation.\
    \  The MX UP Setup\n   Confirmation consists of the following parameters:\n  \
    \ *  Unique Session ID: Session identifier provided to the client in an\n    \
    \  MX Capability Response.\n   *  MX Convergence Control Parameters (included\
    \ if any MX Control PDU\n      types (e.g., Probe-REQ/ACK, Keep-Alive) are supported):\n\
    \      -  UDP port number for sending and receiving MX Control PDUs\n        \
    \ (e.g., Probe-REQ/ACK, Keep-Alive)\n      -  MX Configuration ID (if an MX Configuration\
    \ ID is specified in\n         an MX UP Setup Configuration Request) to indicate\
    \ the MX\n         Configuration that will be used for probing)\n   *  Client\
    \ Adaptation-Layer Parameters:\n      -  Number of Delivery Connections.\n   \
    \      For each delivery connection, include the following:\n         o  Delivery\
    \ Connection ID\n         o  UDP port number: If UDP-based adaptation is in use,\
    \ the UDP\n            port on the C-MADP side\n"
- title: 8.6.  MAMS Path Quality Estimation
  contents:
  - "8.6.  MAMS Path Quality Estimation\n   Path quality estimations can be done either\
    \ passively or actively.\n   Traffic measurements in the network can be performed\
    \ passively by\n   comparing the real-time data throughput of the client with\
    \ the\n   capacity available in the network.  In special deployments where the\n\
    \   NCM has interfaces with access nodes, direct interfaces can be used\n   to\
    \ gather information regarding path quality.  For example, the\n   utilization\
    \ of the LTE access node (also known as Evolved Node B), to\n   which the client\
    \ is attached, could be used as data for the\n   estimation of path quality without\
    \ creating any extra traffic\n   overhead.  Active measurements by the client\
    \ provide an alternative\n   way to estimate path quality.\n         CCM     \
    \                                             NCM\n          |<--------------\
    \ MX Path Estimation Request ---------|\n          |------ MX Path Estimation\
    \ Results ----------------->|\n     Figure 7: MAMS Control-Plane Procedure for\
    \ Path Quality Estimation\n   The NCM sends the following configuration parameters\
    \ in the MX Path\n   Estimation Request to the CCM:\n   *  Connection ID (of the\
    \ delivery connection whose path quality needs\n      to be estimated)\n   * \
    \ Init Probe Test Duration (ms)\n   *  Init Probe Test Rate (Mbps)\n   *  Init\
    \ Probe Size (bytes)\n   *  Init Probe-ACK Required (0 -> No / 1 -> Yes)\n   *\
    \  Active Probe Frequency (ms)\n   *  Active Probe Size (bytes)\n   *  Active\
    \ Probe Test Duration (ms)\n   *  Active Probe-ACK Required (0 -> No / 1 -> Yes)\n\
    \   The CCM configures the C-MADP for probe receipt based on these\n   parameters\
    \ and for collection of the statistics according to the\n   following configuration.\n\
    \   *  Unique Session ID: Session identifier provided to the client in an\n  \
    \    MX Capability Response.\n   *  Init Probe Results Configuration:\n      -\
    \  Lost Probes (percent)\n      -  Probe Receiving Rate (packets per second)\n\
    \   *  Active Probe Results Configuration:\n      -  Average Throughput in the\
    \ last Probe Duration\n   The user-plane probing is divided into two phases: the\
    \ Initialization\n   phase and the Active phase.\n   *  Initialization Phase:\
    \ A network path that is not included by the\n      N-MADP for transmission of\
    \ user data is deemed to be in the\n      Initialization phase.  The user data\
    \ may be transmitted over other\n      available network paths.\n   *  Active\
    \ Phase: A network path that is included by the N-MADP for\n      transmission\
    \ of user data is deemed to be in the Active phase.\n   During the Initialization\
    \ phase, the NCM configures the N-MADP to\n   send an Init Probe-REQ message.\
    \  The CCM collects the Init Probe\n   statistics from the C-MADP and sends the\
    \ MX Path Estimation Results\n   message to the NCM per the Initialization Probe\
    \ Results\n   configuration.\n   During the Active phase, the NCM configures the\
    \ N-MADP to send an\n   Active Probe-REQ message.  The C-MADP calculates the metrics\
    \ as\n   specified by the Active Probe Results configuration.  The CCM\n   collects\
    \ the Active Probe statistics from the C-MADP and sends the MX\n   Path Estimation\
    \ Results message to the NCM per the Active Probe\n   Results configuration.\n\
    \   The following subsections define the control PDU encoding for Keep-\n   Alive\
    \ and Probe-REQ/ACK messages to support path quality estimation.\n"
- title: 8.6.1.  MX Control PDU Definition
  contents:
  - "8.6.1.  MX Control PDU Definition\n   Control PDUs are sent as UDP messages between\
    \ the C-MADP and the\n   N-MADP to exchange control messages for keep-alive or\
    \ path quality\n   estimation.  MX probe parameters are negotiated during the\
    \ user-plane\n   setup phase (MX UP Setup Configuration Request and MX UP Setup\n\
    \   Confirmation).  Figure 8 shows the MX Control PDU format with the\n   following\
    \ fields:\n   *  Type (1 byte): The type of the MX Control message.\n      - \
    \ 0: Keep-Alive\n      -  1: Probe-REQ/ACK\n      -  Others: Reserved\n   *  CID\
    \ (1 byte): The connection ID of the delivery connection for\n      sending the\
    \ MX Control message.\n   *  MX Control Message (variable): The payload of the\
    \ MX Control\n      message.\n   The MX Control PDU is sent as a normal user-plane\
    \ packet over the\n   desired delivery connection whose quality and reachability\
    \ need to be\n   determined.\n   | IP Header | UDP Header | Type | CID |     \
    \  MX Control Message    |\n                      Figure 8: MX Control PDU Format\n"
- title: 8.6.2.  Keep-Alive Message
  contents:
  - "8.6.2.  Keep-Alive Message\n   The \"Type\" field is set to \"0\" for Keep-Alive\
    \ messages.  The C-MADP\n   may periodically send a Keep-Alive message over one\
    \ or multiple\n   delivery connections, especially if UDP tunneling is used as\
    \ the\n   adaptation method for the delivery connection with a NAT function on\n\
    \   the path.\n   A Keep-Alive message is 2 bytes long and consists of the following\n\
    \   field:\n   *  Keep-Alive Sequence Number (2 bytes): The sequence number of\
    \ the\n      Keep-Alive message.\n"
- title: 8.6.3.  Probe-REQ/ACK Message
  contents:
  - "8.6.3.  Probe-REQ/ACK Message\n   The \"Type\" field is set to \"1\" for Probe-REQ/ACK\
    \ messages.  The\n   N-MADP may send the Probe-REQ message for path quality estimation.\n\
    \   In response, the C-MADP may return the Probe-ACK message.\n   A Probe-REQ\
    \ message consists of the following fields:\n   *  Probing Sequence Number (2\
    \ bytes): The sequence number of the\n      Probe REQ message.\n   *  Probing\
    \ Flag (1 byte):\n      -  Bit 0: A Probe-ACK flag to indicate whether the Probe-ACK\n\
    \         message is expected (1) or not (0).\n      -  Bit 1: A Probe Type flag\
    \ to indicate whether the Probe-REQ/ACK\n         message was sent during the\
    \ Initialization phase (0) when the\n         network path is not included for\
    \ transmission of user data, or\n         during the Active phase (1) when the\
    \ network path is included\n         for transmission of user data.\n      - \
    \ Bit 2: A bit flag to indicate the presence of the Reverse\n         Connection\
    \ ID (R-CID) field.\n      -  Bits 3-7: Reserved.\n   *  Reverse Connection ID\
    \ (R-CID) (1 byte): The connection ID of the\n      delivery connection for sending\
    \ the Probe-ACK message on the\n      reverse path.\n   *  Padding (variable).\n\
    \   The \"R-CID\" field is only present if both Bit 0 and Bit 2 of the\n   \"\
    Probing Flag\" field are set to \"1\".  Moreover, Bit 2 of the \"Probing\n   Flag\"\
    \ field SHOULD be set to \"0\" if Bit 0 is \"0\", indicating that the\n   Probe-ACK\
    \ message is not expected.\n   If the \"R-CID\" field is not present, but Bit\
    \ 0 of the \"Probing Flag\"\n   field is set to \"1\", the Probe-ACK message SHOULD\
    \ be sent over the\n   same delivery connection as the Probe-REQ message.\n  \
    \ The \"Padding\" field is used to control the length of the Probe-REQ\n   message.\n\
    \   The C-MADP SHOULD send the Probe-ACK message in response to a Probe-\n   REQ\
    \ message with the Probe-ACK flag set to \"1\".\n   A Probe-ACK message is 3 bytes\
    \ long and consists of the following\n   field:\n   *  Probing Acknowledgment\
    \ Number (2 bytes): The sequence number of\n      the corresponding Probe-REQ\
    \ message.\n"
- title: 8.7.  MAMS Traffic Steering
  contents:
  - "8.7.  MAMS Traffic Steering\n    CCM                                        \
    \       NCM\n     |<----------------- MX Traffic Steering REQ ------|\n     |-----\
    \ MX Traffic Steering RSP ------------------>|\n                 Figure 9: MAMS\
    \ Traffic-Steering Procedure\n   The NCM sends an MX Traffic Steering Request\
    \ to steer data traffic.\n   It is also possible to send data traffic over multiple\
    \ connections\n   simultaneously, i.e., aggregation.  The message includes the\n\
    \   following information:\n   *  Anchor Connection ID: Connection ID of the anchor\
    \ connection.\n   *  MX Configuration ID (if an MX Configuration ID is specified\
    \ in an\n      MX UP Setup Configuration Request).\n   *  DL Connection ID List:\
    \ List of DL delivery connections, provided\n      as Connection IDs.\n   *  UL\
    \ Connection ID: Connection ID of the default UL delivery\n      connection.\n\
    \   *  For the number of specific UL traffic templates, the message\n      includes\
    \ the following:\n      -  Traffic Flow Template for identifying the UL traffic.\n\
    \      -  UL Connection ID List: List of UL delivery connections,\n         provided\
    \ as Connection IDs, to be used for sending the UL\n         traffic.\n   *  MX\
    \ Feature Activation List.  Each parameter indicates whether the\n      corresponding\
    \ feature is enabled or not: lossless switching,\n      fragmentation, concatenation,\
    \ uplink aggregation, downlink\n      aggregation, measurement, probing.\n   In\
    \ response, the CCM sends an MX Traffic Steering Response, including\n   the following\
    \ information:\n   *  Unique Session ID: Session identifier provided to the client\
    \ in an\n      MX Capability Response.\n   *  MX Feature Activation List.  Each\
    \ parameter indicates whether the\n      corresponding feature is enabled or not:\
    \ lossless switching,\n      fragmentation, concatenation, uplink aggregation,\
    \ downlink\n      aggregation, measurement, probing.\n"
- title: 8.8.  MAMS Application MADP Association
  contents:
  - "8.8.  MAMS Application MADP Association\n           CCM                     \
    \                    NCM\n            |---------- MX App MADP ------------------->|\n\
    \            |           Association REQ                 |\n           Figure\
    \ 10: MAMS Application MADP Association Procedure\n   The CCM sends an MX Application\
    \ MADP Association Request to request\n   the association of a specific application\
    \ flow with a specific MADP\n   instance ID for the anchor connection with multiple\
    \ active MX\n   configurations.  The MADP Instance ID is a tuple (Anchor Connection\n\
    \   ID, MX Configuration ID).  This provides the capability for the\n   client\
    \ to indicate the user-plane processing that needs to be\n   associated with different\
    \ application flows depending on the needs of\n   those flows.  The application\
    \ flow is identified by its associated\n   Traffic Flow Template.\n   The MX Application\
    \ MADP Association Request includes the following\n   information:\n   *  Number\
    \ of Application Flows.\n      For each application flow, identified by the Traffic\
    \ Flow\n      Templates:\n      -  Anchor Connection ID\n      -  MX Configuration\
    \ ID (if more than one MX configuration is\n         associated with an anchor\
    \ connection)\n      -  Traffic Flow Template for identifying the UL traffic\n\
    \      -  Traffic Flow Template for identifying the DL traffic\n   In response,\
    \ the NCM sends an MX Application MADP Association\n   Response, including the\
    \ following information:\n   *  Number of Application Flows.\n      For each application\
    \ flow, identified by the Traffic Flow\n      Templates:\n      -  Status (Success\
    \ or Failure)\n"
- title: 8.9.  MAMS Network ID Indication
  contents:
  - "8.9.  MAMS Network ID Indication\n     CCM                                  \
    \             NCM\n      |<----------------- MX SSID Indication -----------|\n\
    \              Figure 11: MAMS Network ID Indication Procedure\n   The NCM indicates\
    \ the preferred network list to the CCM to guide the\n   client regarding networks\
    \ that it should connect to.  To indicate\n   preferred Wi-Fi networks, the NCM\
    \ sends the list of WLANs, each\n   represented by an SSID (Service Set Identifier)/BSSID\
    \ (Basic Service\n   Set Identifier)/HESSID (Homogeneous Extended Service Set\
    \ Identifier)\n   as defined in [IEEE-80211]), available in the MX SSID Indication.\n"
- title: 8.10.  MAMS Client Measurement Configuration and Reporting
  contents:
  - "8.10.  MAMS Client Measurement Configuration and Reporting\n             CCM\
    \                                               NCM\n        |Client ready to\
    \ send measurements|                     |\n              |----- MX Measurement\
    \ Report -------------------->|\n       Figure 12: MAMS Client Measurement Configuration\
    \ and Reporting\n   The NCM configures the CCM with the different parameters (e.g.,\
    \ radio\n   link information), with the associated thresholds to be reported by\n\
    \   the client.  The MX Measurement Configuration message contains the\n   following\
    \ parameters for each delivery connection:\n   *  Delivery Connection ID.\n  \
    \ *  Connection Type (e.g., Wi-Fi, 5G NR, MulteFire, LTE).\n   *  If the connection\
    \ type is Wi-Fi:\n      -  High and low thresholds for the sending of average\
    \ Received\n         Signal Strength Indicator (RSSI) of the Wi-Fi link.\n   \
    \   -  Periodicity, in ms, for sending the average RSSI of the Wi-Fi\n       \
    \  link.\n      -  High and low thresholds for sending the loading of the WLAN\n\
    \         system.\n      -  Periodicity, in ms, for sending the loading of the\
    \ WLAN system.\n      -  High and low thresholds for sending the reverse link\
    \ throughput\n         on the Wi-Fi link.\n      -  Periodicity, in ms, for sending\
    \ the reverse link throughput on\n         the Wi-Fi link.\n      -  High and\
    \ low thresholds for sending the forward link throughput\n         on the Wi-Fi\
    \ link.\n      -  Periodicity, in ms, for sending the forward link throughput\
    \ on\n         the Wi-Fi link.\n      -  High and low thresholds for sending the\
    \ reverse link throughput\n         (EstimatedThroughputOutbound as defined in\
    \ [IEEE-80211]) on the\n         Wi-Fi link.\n      -  Periodicity, in ms, for\
    \ sending the reverse link throughput\n         (EstimatedThroughputOutbound as\
    \ defined in [IEEE-80211]) on the\n         Wi-Fi link.\n      -  High and low\
    \ thresholds for sending the forward link throughput\n         (EstimatedThroughputInbound,\
    \ as defined in [IEEE-80211]) on the\n         Wi-Fi link.\n      -  Periodicity,\
    \ in ms, for sending the forward link throughput\n         (EstimatedThroughputInbound,\
    \ as defined in [IEEE-80211]) on the\n         Wi-Fi link.\n   *  If the connection\
    \ type is LTE:\n      -  High and low thresholds for sending the Reference Signal\n\
    \         Received Power (RSRP) of the serving LTE link.\n      -  Periodicity,\
    \ in ms, for sending the RSRP of the serving LTE\n         link.\n      -  High\
    \ and low thresholds for sending the RSRQ (Reference Signal\n         Received\
    \ Quality) of the serving LTE link.\n      -  Periodicity, in ms, for sending\
    \ the RSRP of the serving LTE\n         link.\n      -  High and low thresholds\
    \ for sending the reverse link throughput\n         on the serving LTE link.\n\
    \      -  Periodicity, in ms, for sending the reverse link throughput on\n   \
    \      the serving LTE link.\n      -  High and low thresholds, for sending the\
    \ forward link\n         throughput on the serving LTE link.\n      -  Periodicity,\
    \ in ms, for sending the forward link throughput on\n         the serving LTE\
    \ link.\n   *  If the connection type is 5G NR:\n      -  High and low thresholds\
    \ for sending the RSRP of the serving NR\n         link.\n      -  Periodicity,\
    \ in ms, for sending the RSRP of the serving NR\n         link.\n      -  High\
    \ and low thresholds for sending the RSRQ of the serving NR\n         link.\n\
    \      -  Periodicity, in ms, for sending the RSRP of the serving NR\n       \
    \  link.\n      -  High and low thresholds for sending the reverse link throughput\n\
    \         on the serving NR link.\n      -  Periodicity, in ms, for sending the\
    \ reverse link throughput on\n         the serving NR link.\n      -  High and\
    \ low thresholds for sending the forward link throughput\n         on the serving\
    \ NR link.\n      -  Periodicity, in ms, for sending the forward link throughput\
    \ on\n         the serving NR link.\n   The MX Measurement Report contains the\
    \ following parameters:\n   *  Unique Session ID: Session identifier provided\
    \ to the client in an\n      MX Capability Response.\n   *  For each delivery\
    \ connection, include the following:\n      -  Delivery Connection ID\n      -\
    \  Connection Type (e.g., Wi-Fi, 5G NR, MulteFire, LTE)\n      -  Delivery Node\
    \ ID (ECGI in the case of LTE.  In the case of Wi-\n         Fi, this is an AP\
    \ ID or a MAC address.)\n      -  If the connection type is Wi-Fi:\n         o\
    \  Average RSSI of the Wi-Fi link.\n         o  Loading of the WLAN system.\n\
    \         o  Reverse link throughput on the Wi-Fi link.\n         o  Forward link\
    \ throughput on the Wi-Fi link.\n         o  Estimated reverse link throughput\
    \ on the Wi-Fi link\n            (EstimatedThroughputOutbound as defined in [IEEE-80211]).\n\
    \         o  Estimated forward link throughput on the Wi-Fi link\n           \
    \ (EstimatedThroughputInbound, as defined in [IEEE-80211]).\n      -  If the connection\
    \ type is LTE:\n         o  RSRP of the serving LTE link.\n         o  RSRQ of\
    \ the serving LTE link.\n         o  Reverse link throughput on the serving LTE\
    \ link.\n         o  Forward link throughput on the serving LTE link.\n      -\
    \  If the connection type is 5G NR:\n         o  RSRP of the serving NR link.\n\
    \         o  RSRQ of the serving NR link.\n         o  Reverse link throughput\
    \ on the serving NR link.\n         o  Forward link throughput on the serving\
    \ NR link.\n"
- title: 8.11.  MAMS Session Termination Procedure
  contents:
  - "8.11.  MAMS Session Termination Procedure\n             CCM                 \
    \                 NCM\n              |---- MX Session Termination REQ --->|\n\
    \              |<--- MX Session Termination RSP ----|\n    Figure 13: MAMS Session\
    \ Termination Procedure - Initiated by Client\n                     CCM      \
    \                            NCM\n                      |<--- MX Session Termination\
    \ REQ ----|\n                      |---- MX Session Termination RSP --->|\n  \
    \           | Remove Resources |                          |\n    Figure 14: MAMS\
    \ Session Termination Procedure - Initiated by Network\n   At any point in MAMS\
    \ processing, if the CCM or NCM is no longer able\n   to support the MAMS functions,\
    \ then either of them can initiate a\n   termination procedure by sending an MX\
    \ Session Termination Request to\n   the peer.  The peer SHALL acknowledge the\
    \ termination by sending an\n   MX Session Termination Response message.  After\
    \ the session is\n   disconnected, the CCM SHALL start a new procedure with an\
    \ MX Discover\n   message.  An MX Session Termination Request shall contain a\
    \ Unique\n   Session ID and the reason for the termination.  Possible reasons\
    \ for\n   termination are:\n   *  Normal Release\n   *  No Response from Peer\n\
    \   *  Internal Error\n"
- title: 8.12.  MAMS Network Analytics Request Procedure
  contents:
  - "8.12.  MAMS Network Analytics Request Procedure\n                  CCM      \
    \                           NCM\n                   |----- MX Network Analytics\
    \ REQ --->|\n                   |<--- MX Network Analytics RSP -----|\n      \
    \      Figure 15: MAMS Network Analytics Request Procedure\n   The CCM sends the\
    \ MX Network Analytics Request to the NCM to request\n   information related to\
    \ such network parameters as bandwidth, latency,\n   jitter, and signal quality,\
    \ based on the application of analytics at\n   the network (utilizing the received\
    \ path measurements and client\n   measurement reporting).\n   The MX Network\
    \ Analytics Request consists of the following\n   parameters:\n   *  Link Quality\
    \ Indicators.  One or more of the following:\n      -  Bandwidth\n      -  Jitter\n\
    \      -  Latency\n      -  Signal Quality\n   The NCM sends the MX Network Analytics\
    \ Response to convey analytics\n   information that might be of interest to the\
    \ CCM.  This message will\n   include network parameters with their predicted\
    \ likelihoods.\n   The MX Network Analytics Response consists of the following\n\
    \   parameters:\n   *  Number of Delivery Connections.\n      For each delivery\
    \ connection, include the following:\n      -  Access Link Identifier:\n     \
    \    o  Connection Type\n         o  Connection ID\n      -  Link Quality Indicator:\n\
    \         o  Bandwidth:\n            +  Predicted Value (Mbps)\n            +\
    \  Likelihood (percent)\n            +  Prediction Validity (Validity Time, in\
    \ seconds)\n         o  Jitter:\n            +  Predicted Value (in seconds)\n\
    \            +  Likelihood (percent)\n            +  Prediction Validity (Validity\
    \ Time, in seconds)\n         o  Latency:\n            +  Predicted Value (in\
    \ seconds)\n            +  Likelihood (percent)\n            +  Prediction Validity\
    \ (Validity Time, in seconds)\n         o  Signal Quality:\n            +  If\
    \ delivery connection type is LTE, LTE_RSRP Predicted\n               Value in\
    \ decibel-milliwatts (dBm)\n            +  If delivery connection type is LTE,\
    \ LTE_RSRQ Predicted\n               Value (dBm)\n            +  If delivery connection\
    \ type is 5G NR, NR_RSRP Predicted\n               Value (dBm)\n            +\
    \  If delivery connection type is 5G NR, NR_RSRQ Predicted\n               Value\
    \ (dBm)\n            +  If delivery connection type is Wi-Fi, WLAN_RSSI Predicted\n\
    \               Value (dBm)\n            +  Likelihood (percent)\n           \
    \ +  Prediction Validity (Validity Time, in seconds)\n"
- title: 9.  Generic MAMS Signaling Flow
  contents:
  - "9.  Generic MAMS Signaling Flow\n   Figure 16 illustrates the MAMS signaling\
    \ mechanism for negotiation of\n   network paths and flow protocols between the\
    \ client and the network.\n   In this example scenario, the client is connected\
    \ to two networks\n   (LTE and Wi-Fi).\n   |      Client      |   | |Network|\
    \   |Network|   |     |   |      | |\n   | |C-MADP| | CCM | |   | | (LTE) |  \
    \ |(Wi-Fi)|   |     |   |      | |\n    |   |  1. Setup Connection  |        \
    \   |          |          |\n    |   |        |  2. MAMS Capabilities Exchange\
    \      |          |\n    |   |  3. Setup Connection  |           |          |\
    \          |\n    | 4c. Config | 4a. Negotiate network paths,        |4b. Config|\n\
    \    |   | C-MADP |     Flow protocol, and parameters   |    N-MADP|\n    |  \
    \ |        | 5. Establish user-plane path according         |\n    |   |     \
    \   |    to selected flow protocol        |          |\n                     \
    \    Figure 16: MAMS Call Flow\n   1.  The client connects to Network 1 and gets\
    \ an IP address assigned\n       by Network 1.\n   2.  The CCM communicates with\
    \ the NCM functional element via the\n       Network 1 connection and exchanges\
    \ capabilities and parameters\n       for MAMS operation.  Note: The NCM credentials\
    \ (e.g., the NCM's\n       IP address) can be made known to the client by provisioning.\n\
    \   3.  The client sets up the connection with Network 2 and gets an IP\n    \
    \   address assigned by Network 2.\n   4.  The CCM and NCM negotiate capabilities\
    \ and parameters for\n       establishing network paths.  The negotiated capabilities\
    \ and\n       parameters are then used to configure user-plane functions, i.e.,\n\
    \       the N-MADP at the network and the C-MADP at the client.\n       4a.  The\
    \ CCM and NCM negotiate network paths, flow routing and\n            aggregation\
    \ protocols, and related parameters.\n       4b.  The NCM communicates with the\
    \ N-MADP to exchange and\n            configure flow aggregation protocols, policies,\
    \ and\n            parameters in alignment with those negotiated with the CCM.\n\
    \       4c.  The CCM communicates with the C-MADP to exchange and\n          \
    \  configure flow aggregation protocols, policies, and\n            parameters\
    \ in alignment with those negotiated with the NCM.\n   5.  The C-MADP and N-MADP\
    \ establish the user-plane paths, e.g., using\n       Internet Key Exchange Protocol\
    \ (IKE) [RFC7296] signaling, based\n       on the negotiated flow aggregation\
    \ protocols and parameters\n       specified by the NCM.\n   The CCM and NCM can\
    \ further exchange messages containing access link\n   measurements for link maintenance\
    \ by the NCM.  The NCM evaluates the\n   link conditions in the UL and DL across\
    \ LTE and Wi-Fi, based on link\n   measurements reported by the CCM and/or link-probing\
    \ techniques, and\n   determines the policy for UL and DL user data distribution.\
    \  The NCM\n   and CCM also negotiate application-level policies for categorizing\n\
    \   applications, e.g., based on the Differentiated Services Code Point\n   (DSCP),\
    \ destination IP address, and determination of which available\n   network path\
    \ needs to be used for transporting data of that category\n   of applications.\
    \  The NCM configures the N-MADP, and the CCM\n   configures the C-MADP, based\
    \ on the negotiated application policies.\n   The CCM may apply local application\
    \ policies, in addition to the\n   application policy conveyed by the NCM.\n"
- title: 10.  Relationship to IETF Technologies
  contents:
  - "10.  Relationship to IETF Technologies\n   The MAMS framework leverages technologies\
    \ developed in the IETF (such\n   as MPTCP and GRE) and enables a control-plane\
    \ framework to negotiate\n   the use of these protocols between the client and\
    \ the network.  It\n   also addresses the limitations in scope of other multihoming\n\
    \   protocols.  For example, the IKEv2 Mobility and Multihoming Protocol\n   (MOBIKE\
    \ [RFC4555]) scope indicates that it is limited to multihoming\n   between IPsec\
    \ clients (tunnel mode IPsec Security Associations) and\n   does not support load\
    \ balancing.  To address this limitation\n   regarding how the multihoming scenario\
    \ is handled, the MAMS framework\n   supports load balancing with the simultaneous\
    \ use of multiple access\n   paths by negotiating the use of protocols like MPTCP.\
    \  Unlike MOBIKE,\n   which only applies to endpoints connected with an IPsec\
    \ tunnel mode\n   Security Association, the MAMS framework allows the flexibility\
    \ to\n   use a wide range of tunneling protocols in the Adaptation Layer.\n"
- title: 11.  Applying MAMS Control Procedures with MPTCP Proxy as User Plane
  contents:
  - "11.  Applying MAMS Control Procedures with MPTCP Proxy as User Plane\n   If the\
    \ NCM determines that the N-MADP is to be instantiated with\n   MPTCP as the MX\
    \ Convergence Protocol, it exchanges the MPTCP\n   capability support in the discovery\
    \ and capability exchange\n   procedures.  An MPTCP proxy (e.g., see [TCPM-CONVERTERS])\
    \ is\n   configured to be the N-MADP instance.  The NCM then provides the\n  \
    \ credentials of the MPTCP Proxy instance, along with related\n   parameters,\
    \ to the CCM.  The CCM configures the C-MADP with these\n   parameters to connect\
    \ to this MPTCP proxy instance.\n   Figure 17 illustrates the user-plane protocol\
    \ layering when MPTCP is\n   configured to be the \"MX Convergence Layer\" protocol.\
    \  MPTCP manages\n   traffic distribution and aggregation over multiple delivery\n\
    \   connections.\n          |       TCP       |       TCP       |       TCP  \
    \     |\n          |  MX Adaptation  |  MX Adaptation  |  MX Adaptation  |\n \
    \         |  Layer          |  Layer          |  Layer          |\n          |\
    \  (optional)     |  (optional)     |  (optional)     |\n          |  Access #1\
    \ IP   |  Access #2 IP   |  Access #3 IP   |\n         Figure 17: MAMS User-Plane\
    \ Protocol Stack with MPTCP as MX\n                             Convergence Layer\n\
    \   The client (C-MADP) sets up an MPTCP connection with the N-MADP to\n   begin\
    \ with.  The MAMS control procedures are then applied to do the\n   following:\n\
    \   *  Connect to the appropriate MPTCP network endpoint, e.g., the MPTCP\n  \
    \    proxy (illustrated in Figure 18).\n   *  Control the addition of a second\
    \ TCP subflow after the Wi-Fi\n      connection is established and is deemed good\
    \ (illustrated in\n      Figure 19).\n   *  Control the behavior of the MPTCP\
    \ scheduler, e.g., by using only\n      the LTE subflow in the UL and both the\
    \ LTE and Wi-Fi subflows in\n      the DL (illustrated in Figure 20).\n   *  Provide\
    \ faster response to Wi-Fi link degradation by proactively\n      deleting a TCP\
    \ subflow over Wi-Fi when poor link conditions are\n      reported, maintaining\
    \ optimum performance (illustrated in\n      Figure 21).\n   Figure 18 shows the\
    \ call flow describing MAMS control procedures\n   applied to configure the user\
    \ plane and dynamic optimal path\n   selection in a scenario with the MPTCP proxy\
    \ as the convergence\n   protocol in the user plane.\n   | CCM  |   | C-MADP |\
    \   | Wi-Fi  |   |  LTE  |   |  NCM  |   |N-MADP|\n   |      |   |        |  \
    \ |  N/W   |   |  N/W  |   |       |   |      |\n    |           1. LTE Session\
    \ Setup and IP Address Allocation         |\n     |2. MX Discover (MAMS Version,\
    \ MCC/MNC)  |           |        |\n     |3. MX System Info (Serving NCM IP/Port\
    \ Address)     |        |\n     |4. MX Capability REQ (Supported Anchor/Delivery\
    \     |        |\n     |             |        Links (Wi-Fi, LTE))           |\
    \        |\n     |5. MX Capability RSP (Convergence/Adaptation Parameters)   \
    \  |\n     |6. MX Capability ACK (ACCEPT)            |          |        |\n \
    \    |7. MX Meas Config (Wi-Fi/LTE Measurement Thresholds/Period)  |\n     |8.\
    \ MX Meas Report (LTE RSRP, UL/DL TPUT) |          |        |\n     |9. MX SSID\
    \ Indication (List of SSIDs)    |          |        |\n     |10. MX Reconfiguration\
    \ REQ (LTE IP)      |          |        |\n     |11. MX Reconfiguration RSP  \
    \             |          |        |\n     |12. MX UP Setup REQ (MPTCP proxy IP/Port,\
    \ Aggregation)       |\n     |13. MX UP Setup RSP        |             |     \
    \     |        |\n     |             | 14. MPTCP connection with designated |\
    \        |\n     |             |     MPTCP proxy over LTE             |      \
    \  |\n        Figure 18: MAMS-Assisted MPTCP Proxy as User Plane - Initial\n \
    \                            Setup with LTE Leg\n   The salient steps described\
    \ in the call flow are as follows.  The\n   client connects to the LTE network\
    \ and obtains an IP address (assume\n   that LTE is the first connection).  It\
    \ then initiates the NCM\n   discovery procedures and exchanges capabilities,\
    \ including the\n   support for MPTCP as the convergence protocol at both the\
    \ network and\n   the client.\n   The CCM provides the LTE connection parameters\
    \ to the NCM.  The NCM\n   provides the parameters like MPTCP proxy IP address/port,\
    \ and MPTCP\n   Client Key for configuring the Convergence Layer.  This is useful\
    \ if\n   the N-MADP is reachable, via a different IP address or/and port, from\n\
    \   different access networks.  The current MPTCP signaling can't\n   identify\
    \ or differentiate the MPTCP proxy IP address and port from\n   multiple access\
    \ networks.  The client uses the MPTCP Client Key\n   during the subflow creation,\
    \ and this enables the N-MADP to uniquely\n   identify the client, even if a NAT\
    \ is present.  The N-MADP can then\n   inform the NCM of the subflow creation\
    \ and parameters related to\n   creating additional subflows.  Since LTE is the\
    \ only connection, the\n   user-plane traffic flows over the single TCP subflow\
    \ over the LTE\n   connection.  Optionally, the NCM provides assistance information\
    \ to\n   the client on the neighboring/preferred Wi-Fi networks that it can\n\
    \   associate with.\n   Figure 19 describes the steps where the client establishes\
    \ a Wi-Fi\n   connection.  The CCM informs the NCM of the Wi-Fi connection, along\n\
    \   with such parameters as the Wi-Fi IP address or the SSID.  The NCM\n   determines\
    \ that the Wi-Fi connection needs to be secured, configures\n   the Adaptation\
    \ Layer to use IPsec, and provides the required\n   parameters to the CCM.  In\
    \ addition, the NCM provides the information\n   for configuring the Convergence\
    \ Layer (e.g., MPTCP proxy IP address)\n   and provides the MX Traffic Steering\
    \ Request to indicate that the\n   client SHOULD use only the LTE access.  The\
    \ NCM may do this, for\n   example, on determining from the measurements that\
    \ the Wi-Fi link is\n   not consistently good enough.  As the Wi-Fi link conditions\
    \ improve,\n   the NCM sends an MX Traffic Steering Request to use Wi-Fi access\
    \ as\n   well.  This triggers the client to establish the TCP subflow over the\n\
    \   Wi-Fi link with the MPTCP proxy.\n   | CCM  |   | C-MADP |   | Wi-Fi  |  \
    \ |  LTE  |   |  NCM  |   |N-MADP|\n   |      |   |        |   |  N/W   |   |\
    \  N/W  |   |       |   |      |\n   |    Traffic over LTE in UL and DL over MPTCP\
    \ Connection            |\n   |    Wi-Fi Connection Establishment and IP Address\
    \ Allocation       |\n    |15. MX Reconfiguration REQ (Wi-Fi IP)    |        \
    \  |         |\n    |16. MX Reconfiguration RSP               |          |   \
    \      |\n    |17. MX UP Setup REQ (MPTCP proxy IP/Port, Aggregation)        |\n\
    \    |18. MX UP Setup RSP        |             |          |         |\n    | \
    \            |19. IPsec Tunnel Establishment over Wi-Fi Path  |\n    |20. MX Meas\
    \ Report (Wi-Fi RSSI,          |          |         |\n    |    LTE RSRP, UL/DL\
    \ TPUT)                |          |+------------+\n    |21. MX Traffic Steering\
    \ REQ (UL/DL access,          |         |\n    |    Traffic Flow Templates (TFTs))\
    \                  | +----------+\n    |22. MX Traffic Steering RSP (...)    \
    \    |          | |Wi-Fi link|\n    |             | 23. Add TCP subflow to the\
    \ MPTCP connection    |\n    |             |     over Wi-Fi link (IPsec Tunnel)\
    \             |\n   ||      Aggregated Wi-Fi and LTE capacity for UL and DL  \
    \       ||\n     Figure 19: MAMS-Assisted MPTCP Proxy as User Plane - Add Wi-Fi\
    \ Leg\n   Figure 20 describes the steps where the client reports that Wi-Fi\n\
    \   link conditions degrade in UL.  The MAMS control plane is used to\n   continuously\
    \ monitor the access link conditions on Wi-Fi and LTE\n   connections.  The NCM\
    \ may at some point determine an increase in UL\n   traffic on the Wi-Fi network,\
    \ and trigger the client to use only LTE\n   in the UL via a MX Traffic Steering\
    \ Request to improve UL\n   performance.\n   | CCM  |   | C-MADP |   | Wi-Fi \
    \ |   |  LTE  |   |  NCM  |   |N-MADP|\n   |      |   |        |   |  N/W   |\
    \   |  N/W  |   |       |   |      |\n   |   Traffic over LTE and Wi-Fi in UL\
    \ And DL over MPTCP              |\n    |24. MX Meas Report (Wi-Fi RSSI, LTE RSRP,\
    \ UL/DL TPUT)| +------+---+\n    |25. MX Traffic Steering REQ (UL/DL Access, TFTs)\
    \     | +----------+\n    |26. MX Traffic Steering RSP (...)       |         \
    \   | |Wi-Fi UL  |\n   | UL data to use TCP subflow over LTE link only,      \
    \              |\n   |    aggregated Wi-Fi+LTE capacity for DL               \
    \            |\n       Figure 20: MAMS-Assisted MPTCP Proxy as User Plane - Wi-Fi\
    \ UL\n   Figure 21 describes the steps where the client reports that Wi-Fi\n \
    \  link conditions have degraded in both the UL and DL.  As the Wi-Fi\n   link\
    \ conditions deteriorate further, the NCM may decide to send a MX\n   Traffic\
    \ Steering Request that instructs the client to stop using Wi-\n   Fi and to use\
    \ only the LTE access in both the UL and DL.  This\n   condition may be maintained\
    \ until the NCM determines, based on\n   reported measurements, that the Wi-Fi\
    \ link has again become usable.\n   | CCM  |   | C-MADP |   | Wi-Fi  |   |  LTE\
    \  |   |  NCM  |   |N-MADP|\n   |      |   |        |   |  N/W   |   |  N/W  |\
    \   |       |   |      |\n   |          UL data to use TCP subflow over LTE link\
    \ only,          |\n   |               aggregated Wi-Fi+LTE capacity for DL  \
    \             |\n    |27. MX Meas Report (Wi-Fi RSSI,         |          |   \
    \      |\n    |    LTE RSRP, UL/DL TPUT)               |          | +-------+----+\n\
    \    |28. MX Traffic Steering REQ (UL/DL Access, TFTs)   | +------------+\n  \
    \  |29. MX Traffic Steering RSP (...)       |          | | Wi-Fi      |\n    |\
    \            |30. Delete TCP subflow from MPTCP     |         |\n    |       \
    \     |    connection over Wi-Fi link        |         |\n   ||            Traffic\
    \ over LTE link only for DL and UL         |\n   ||      (until client reports\
    \ better Wi-Fi link conditions)    |\n        Figure 21: MAMS-Assisted MPTCP Proxy\
    \ as User Plane - Part 4\n"
- title: 12.  Applying MAMS Control Procedures for Network-Assisted Traffic
  contents:
  - "12.  Applying MAMS Control Procedures for Network-Assisted Traffic\n     Steering\
    \ When There Is No Convergence Layer\n   Figure 22 shows the call flow describing\
    \ MAMS control procedures\n   applied for dynamic optimal path selection in a\
    \ scenario where\n   Convergence and Adaptation Layer protocols are omitted. \
    \ This\n   scenario indicates the applicability of a solution for only the MAMS\n\
    \   control plane.\n   In the capability exchange messages, the NCM and CCM negotiate\
    \ that\n   Convergence-Layer and Adaptation-Layer protocols are not needed (or\n\
    \   supported).  The CCM informs the NCM of the availability of the LTE\n   and\
    \ Wi-Fi links.  The NCM dynamically determines the access links\n   (Wi-Fi or\
    \ LTE) to be used based on the reported measurements of link\n   quality.\n  \
    \ | CCM  |   | C-MADP |   | Wi-Fi  |   |  LTE  |   |  NCM  |   |N-MADP|\n   |\
    \      |   |        |   |  N/W   |   |  N/W  |   |       |   |      |\n    | \
    \      1. LTE Session Setup and IP Address Allocation             |\n     |2.\
    \ MX Discover (MAMS Version, MCC/MNC )             |          |\n     |3. MX System\
    \ Info (Serving NCM IP/Port address)     |          |\n     |4. MX Capability\
    \ REQ (Supported       |             |          |\n     |   Anchor/Delivery Links\
    \ (Wi-Fi, LTE))|             |          |\n     |5. MX Capability RSP (No Convergence/Adaptation\
    \ parameters)    |\n     |6. MX Capability ACK (ACCEPT)         |            \
    \ |          |\n     |7. MX Meas Config (Wi-Fi/LTE Measurement Thresholds/Period)\
    \    |\n     |8. MX Meas Report (LTE RSRP, UL/DL TPUT)            |          |\n\
    \     |9. MX SSID Ind (List of SSIDs)        |             |          |\n   |\
    \      10. Wi-Fi Connection Setup and IP Address Allocation        |\n     |11.\
    \ MX Reconfiguration REQ (LTE IP, Wi-Fi IP)       |          |\n     |12. MX Reconfiguration\
    \ RSP            |             |          |\n   | Initial Condition, Data over\
    \ LTE link only, Wi-Fi link is poor   |\n     |13. MX Meas Report (Wi-Fi RSSI,\
    \       |             |          |\n     |    LTE RSRP, UL/DL TPUT)|         \
    \   |             |+----------+\n     |14. MX Traffic Steering REQ (UL/DL Access,\
    \ TFTs)    |+----------+\n     |15. MX Traffic Steering RSP (...)     |      \
    \       ||use Wi-Fi |\n   |    Use Wi-Fi link for Data                       \
    \                |\n                 Figure 22: MAMS with No Convergence Layer\n"
- title: 13.  Coexistence of MX Adaptation and MX Convergence Layers
  contents:
  - "13.  Coexistence of MX Adaptation and MX Convergence Layers\n   The MAMS user\
    \ plane supports multiple instances and combinations of\n   protocols to be used\
    \ at the MX Adaptation and the Convergence Layer.\n   For example, one instance\
    \ of the MX Convergence Layer can be MPTCP\n   Proxy and another instance can\
    \ be GMA.  The MX Adaptation for each\n   can be either a UDP tunnel or IPsec.\
    \  IPsec may be set up when the\n   network path needs to be secured, e.g., to\
    \ protect the TCP subflow\n   traversing the network path between the client and\
    \ the MPTCP proxy.\n   Each instance of the MAMS user plane, i.e., the combination\
    \ of MX\n   Convergence-Layer and MX Adaptation-Layer protocols, can coexist\n\
    \   simultaneously and independently handle different traffic types.\n"
- title: 14.  Security Considerations
  contents:
  - '14.  Security Considerations

    '
- title: 14.1.  MAMS Control-Plane Security
  contents:
  - "14.1.  MAMS Control-Plane Security\n   The NCM functional element is hosted on\
    \ a network node that is\n   assumed to be within a secure network, e.g., within\
    \ the operator's\n   network, and is assumed to be protected against hijack attacks.\n\
    \   For deployment scenarios where the client is configured (e.g., by the\n  \
    \ network operator) to use a specific network path for exchanging\n   control-plane\
    \ messages, and if the network path is assumed to be\n   secure, MAMS control\
    \ messages will rely on security provided by the\n   underlying network.\n   For\
    \ deployment scenarios where the security of the network path\n   cannot be assumed,\
    \ NCM and CCM implementations MUST support the \"wss\"\n   URI scheme [RFC6455]\
    \ and Transport Layer Security (TLS) [RFC8446] to\n   secure the exchange of control-plane\
    \ messages between the NCM and the\n   CCM.\n   For deployment scenarios where\
    \ client authentication is desired, the\n   WebSocket server can use any client\
    \ authentication mechanisms\n   available to a generic HTTP server, such as cookies,\
    \ HTTP\n   authentication, or TLS authentication.\n"
- title: 14.2.  MAMS User-Plane Security
  contents:
  - "14.2.  MAMS User-Plane Security\n   User data in the MAMS framework relies on\
    \ the security of the\n   underlying network transport paths.  When this security\
    \ cannot be\n   assumed, the NCM configures the use of protocols (e.g., IPsec\n\
    \   [RFC4301] [RFC3948]) in the MX Adaptation Layer, for security.\n"
- title: 15.  Implementation Considerations
  contents:
  - "15.  Implementation Considerations\n   The MAMS architecture builds on commonly\
    \ available functions in\n   clients that can be used to deliver software updates\
    \ over popular\n   client operating systems, thereby enabling rapid deployment\
    \ and\n   addressing the large base of deployed clients.\n"
- title: 16.  Applicability to Multi-Access Edge Computing
  contents:
  - "16.  Applicability to Multi-Access Edge Computing\n   Multi-access Edge Computing\
    \ (MEC), previously known as Mobile Edge\n   Computing, is an access-edge cloud\
    \ platform being considered at the\n   European Telecommunications Standards Institute\
    \ (ETSI) [ETSIMEC],\n   whose initial focus was to improve the QoE by leveraging\
    \ intelligence\n   at the cellular (e.g., 3GPP technologies like LTE) access edge,\
    \ and\n   the scope is now being extended to support access technologies beyond\n\
    \   3GPP.  The applicability of the framework described in this document\n   to\
    \ the MEC platform has been evaluated and tested in different\n   network configurations\
    \ by the authors.\n   The NCM can be hosted on a MEC cloud server that is located\
    \ in the\n   user-plane path at the edge of the multi-technology access network.\n\
    \   The NCM and CCM can negotiate the network path combinations based on\n   an\
    \ application's needs and the necessary user-plane protocols to be\n   used across\
    \ the multiple paths.  The network conditions reported by\n   the CCM to the NCM\
    \ can be complemented by a Radio Analytics\n   application [ETSIRNIS] residing\
    \ at the MEC cloud server to configure\n   the uplink and downlink access paths\
    \ according to changing radio and\n   congestion conditions.\n   The user-plane\
    \ functional element, N-MADP, can either be collocated\n   with the NCM at the\
    \ MEC cloud server (e.g., MEC-hosted applications)\n   or placed at a separate\
    \ network element like a common user-plane\n   gateway across the multiple networks.\n\
    \   Also, even in scenarios where an N-MADP is not deployed, the NCM can\n   be\
    \ used to augment the traffic-steering decisions at the client.\n   The aim of\
    \ these enhancements is to improve the end user's QoE by\n   leveraging the best\
    \ network path based on an application's needs and\n   network conditions, and\
    \ building on the advantages of significantly\n   reduced latency and the dynamic\
    \ and real-time exposure of radio\n   network information available at the MEC.\n"
- title: 17.  Related Work in Other Industry and Standards Forums
  contents:
  - "17.  Related Work in Other Industry and Standards Forums\n   The MAMS framework\
    \ described in this document has been incorporated\n   or is proposed for incorporation\
    \ as a solution to address multi-\n   access integration in multiple industry\
    \ forums and standards.  This\n   section describes the related work in other\
    \ industry forums and the\n   standards organizations.\n   Wireless Broadband\
    \ Alliance industry partners have published a white\n   paper that describes the\
    \ applicability of different technologies for\n   multi-access integration to\
    \ different deployments as part of their\n   \"Unlicensed Integration with 5G\
    \ Networks\" project [WBAUnl5G].  The\n   white paper includes the MAMS framework\
    \ described in this document as\n   a technology for integrating unlicensed (Wi-Fi)\
    \ networks with 5G\n   networks above the 5G core network.\n   The 3GPP is developing\
    \ a technical report as part of its work item\n   Study on Access Traffic Steering,\
    \ Switching, and Splitting (ATSSS).\n   That report, TR 23.793 [ATSSS], contains\
    \ a number of potential\n   solutions; Solution 1 in [ATSSS] utilizes a separate\
    \ control plane\n   for the flexible negotiation of user-plane protocols and path\n\
    \   measurements in a way that is similar to the MAMS architecture\n   described\
    \ in this document.\n   The Small Cell Forum (SCF) [SCFTECH5G] plans to develop\
    \ a white paper\n   as part of its work item on LTE/5G and Wi-Fi.  There is a\
    \ proposal to\n   include MAMS in this white paper.\n   The ETSI Multi-access\
    \ Edge Computing Phase 2 technical work is\n   examining many aspects of this\
    \ work, including use cases for\n   optimizing QoE and resource utilization. \
    \ The MAMS architecture and\n   procedures outlined in this document are included\
    \ in the ETSI's use\n   cases and requirements document [ETSIMAMS].\n"
- title: 18.  IANA Considerations
  contents:
  - "18.  IANA Considerations\n   This document has no IANA actions.\n"
- title: 19.  References
  contents:
  - '19.  References

    '
- title: 19.1.  Normative References
  contents:
  - "19.1.  Normative References\n   [RFC2119]  Bradner, S., \"Key words for use in\
    \ RFCs to Indicate\n              Requirement Levels\", BCP 14, RFC 2119,\n  \
    \            DOI 10.17487/RFC2119, March 1997,\n              <https://www.rfc-editor.org/info/rfc2119>.\n\
    \   [RFC4301]  Kent, S. and K. Seo, \"Security Architecture for the\n        \
    \      Internet Protocol\", RFC 4301, DOI 10.17487/RFC4301,\n              December\
    \ 2005, <https://www.rfc-editor.org/info/rfc4301>.\n   [RFC8174]  Leiba, B., \"\
    Ambiguity of Uppercase vs Lowercase in RFC\n              2119 Key Words\", BCP\
    \ 14, RFC 8174, DOI 10.17487/RFC8174,\n              May 2017, <https://www.rfc-editor.org/info/rfc8174>.\n"
- title: 19.2.  Informative References
  contents:
  - "19.2.  Informative References\n   [ANDSF]    3rd Generation Partnership Project,\
    \ \"Access Network\n              Discovery and Selection Function (ANDSF) Management\
    \ Object\n              (MO)\", 3GPP TS 24.312 version 15.0.0, Technical\n   \
    \           Specification Group Core Network and Terminals, June 2018,\n     \
    \         <https://www.3gpp.org/ftp//Specs/\n              archive/24_series/24.312/24312-f00.zip>.\n\
    \   [ATSSS]    3rd Generation Partnership Project, \"Study on access\n       \
    \       traffic steering, switch and splitting support in the 5G\n           \
    \   System (5GS) architecture\", Work in Progress, 3GPP TR\n              23.793\
    \ v16.0.0, December 2018,\n              <https://www.3gpp.org/ftp/Specs/\n  \
    \            archive/23_series/23.793/>.\n   [ETSIMAMS] European Telecommunications\
    \ Standards Institute, \"Multi-\n              access Edge Computing (MEC); Phase\
    \ 2: Use Cases and\n              Requirements\", ETSI GS MEC 002 v2.1.1, October\
    \ 2018,\n              <https://www.etsi.org/deliver/etsi_gs/\n              MEC/001_099/002/02.01.01_60/gs_MEC002v020101p.pdf>.\n\
    \   [ETSIMEC]  European Telecommunications Standards Institute, \"Multi-\n   \
    \           access Edge Computing (MEC)\",\n              <https://www.etsi.org/technologies/multi-access-edge-\n\
    \              computing>.\n   [ETSIRNIS] European Telecommunications Standards\
    \ Institute, \"Mobile\n              Edge Computing (MEC) Radio Network Information\
    \ API\", ETSI\n              GS MEC 012 v1.1.1, July 2017,\n              <https://www.etsi.org/deliver/etsi_gs/\n\
    \              MEC/001_099/012/01.01.01_60/gs_MEC012v010101p.pdf>.\n   [IEEE-80211]\n\
    \              IEEE, \"IEEE Standard for Information technology-\n           \
    \   Telecommunications and information exchange between\n              systems\
    \ - Local and metropolitan area networks-Specific\n              requirements\
    \ - Part 11: Wireless LAN Medium Access Control\n              (MAC) and Physical\
    \ Layer (PHY) Specifications\",\n              IEEE 802.11-2016,\n           \
    \   <https://ieeexplore.ieee.org/document/7786995>.\n   [INTAREA-GMA]\n      \
    \        Zhu, J. and S. Kanugovi, \"Generic Multi-Access (GMA)\n             \
    \ Convergence Encapsulation Protocols\", Work in Progress,\n              Internet-Draft,\
    \ draft-zhu-intarea-gma-05, 16 December\n              2019,\n              <https://tools.ietf.org/html/draft-zhu-intarea-gma-05>.\n\
    \   [INTAREA-MAMS]\n              Zhu, J., Seo, S., Kanugovi, S., and S. Peng,\
    \ \"User-Plane\n              Protocols for Multiple Access Management Service\"\
    , Work in\n              Progress, Internet-Draft, draft-zhu-intarea-mams-user-\n\
    \              protocol-09, 4 March 2020, <https://tools.ietf.org/html/\n    \
    \          draft-zhu-intarea-mams-user-protocol-09>.\n   [ITU-E212] International\
    \ Telecommunication Union, \"The international\n              identification plan\
    \ for public networks and\n              subscriptions\", ITU-T Recommendation\
    \ E.212, September\n              2016, <https://www.itu.int/rec/T-REC-E.212-201609-I/en>.\n\
    \   [QUIC-MULTIPATH]\n              Coninck, Q. and O. Bonaventure, \"Multipath\
    \ Extensions for\n              QUIC (MP-QUIC)\", Work in Progress, Internet-Draft,\
    \ draft-\n              deconinck-quic-multipath-04, 5 March 2020,\n         \
    \     <https://tools.ietf.org/html/draft-deconinck-quic-\n              multipath-04>.\n\
    \   [RFC2784]  Farinacci, D., Li, T., Hanks, S., Meyer, D., and P.\n         \
    \     Traina, \"Generic Routing Encapsulation (GRE)\", RFC 2784,\n           \
    \   DOI 10.17487/RFC2784, March 2000,\n              <https://www.rfc-editor.org/info/rfc2784>.\n\
    \   [RFC2890]  Dommety, G., \"Key and Sequence Number Extensions to GRE\",\n \
    \             RFC 2890, DOI 10.17487/RFC2890, September 2000,\n              <https://www.rfc-editor.org/info/rfc2890>.\n\
    \   [RFC3948]  Huttunen, A., Swander, B., Volpe, V., DiBurro, L., and M.\n   \
    \           Stenberg, \"UDP Encapsulation of IPsec ESP Packets\",\n          \
    \    RFC 3948, DOI 10.17487/RFC3948, January 2005,\n              <https://www.rfc-editor.org/info/rfc3948>.\n\
    \   [RFC4555]  Eronen, P., \"IKEv2 Mobility and Multihoming Protocol\n       \
    \       (MOBIKE)\", RFC 4555, DOI 10.17487/RFC4555, June 2006,\n             \
    \ <https://www.rfc-editor.org/info/rfc4555>.\n   [RFC4960]  Stewart, R., Ed.,\
    \ \"Stream Control Transmission Protocol\",\n              RFC 4960, DOI 10.17487/RFC4960,\
    \ September 2007,\n              <https://www.rfc-editor.org/info/rfc4960>.\n\
    \   [RFC6347]  Rescorla, E. and N. Modadugu, \"Datagram Transport Layer\n    \
    \          Security Version 1.2\", RFC 6347, DOI 10.17487/RFC6347,\n         \
    \     January 2012, <https://www.rfc-editor.org/info/rfc6347>.\n   [RFC6455] \
    \ Fette, I. and A. Melnikov, \"The WebSocket Protocol\",\n              RFC 6455,\
    \ DOI 10.17487/RFC6455, December 2011,\n              <https://www.rfc-editor.org/info/rfc6455>.\n\
    \   [RFC6824]  Ford, A., Raiciu, C., Handley, M., and O. Bonaventure,\n      \
    \        \"TCP Extensions for Multipath Operation with Multiple\n            \
    \  Addresses\", RFC 6824, DOI 10.17487/RFC6824, January 2013,\n              <https://www.rfc-editor.org/info/rfc6824>.\n\
    \   [RFC7231]  Fielding, R., Ed. and J. Reschke, Ed., \"Hypertext Transfer\n \
    \             Protocol (HTTP/1.1): Semantics and Content\", RFC 7231,\n      \
    \        DOI 10.17487/RFC7231, June 2014,\n              <https://www.rfc-editor.org/info/rfc7231>.\n\
    \   [RFC7296]  Kaufman, C., Hoffman, P., Nir, Y., Eronen, P., and T.\n       \
    \       Kivinen, \"Internet Key Exchange Protocol Version 2\n              (IKEv2)\"\
    , STD 79, RFC 7296, DOI 10.17487/RFC7296, October\n              2014, <https://www.rfc-editor.org/info/rfc7296>.\n\
    \   [RFC8259]  Bray, T., Ed., \"The JavaScript Object Notation (JSON) Data\n \
    \             Interchange Format\", STD 90, RFC 8259,\n              DOI 10.17487/RFC8259,\
    \ December 2017,\n              <https://www.rfc-editor.org/info/rfc8259>.\n \
    \  [RFC8446]  Rescorla, E., \"The Transport Layer Security (TLS) Protocol\n  \
    \            Version 1.3\", RFC 8446, DOI 10.17487/RFC8446, August 2018,\n   \
    \           <https://www.rfc-editor.org/info/rfc8446>.\n   [SCFTECH5G]\n     \
    \         Small Cell Forum, \"Small Cell Forum\", <https://scf.io/>.\n   [ServDesc3GPP]\n\
    \              3rd Generation Partnership Project, \"General Packet Radio\n  \
    \            Service (GPRS); Service description; Stage 2\", 3GPP TS\n       \
    \       23.060 version 16.0.0, Technical Specification Group\n              Services\
    \ and System Aspects, March 2019,\n              <https://www.3gpp.org/ftp/Specs/\n\
    \              archive/23_series/23.060/23060-g00.zip>.\n   [TCPM-CONVERTERS]\n\
    \              Bonaventure, O., Boucadair, M., Gundavelli, S., Seo, S.,\n    \
    \          and B. Hesmans, \"0-RTT TCP Convert Protocol\", Work in\n         \
    \     Progress, Internet-Draft, draft-ietf-tcpm-converters-19,\n             \
    \ 22 March 2020, <https://tools.ietf.org/html/draft-ietf-\n              tcpm-converters-19>.\n\
    \   [WBAUnl5G] Wireless Broadband Alliance, \"Unlicensed Integration with\n  \
    \            5G Networks\", <https://wballiance.com/resource/unlicensed-\n   \
    \           integration-with-5g-networks/>.\n"
- title: Appendix A.  MAMS Control-Plane Optimization over Secure Connections
  contents:
  - "Appendix A.  MAMS Control-Plane Optimization over Secure Connections\n   This\
    \ appendix is informative, and provides indicative information\n   about how MAMS\
    \ operates.\n   If the connection between the CCM and the NCM over which the MAMS\n\
    \   control-plane messages are transported is assumed to be secure, UDP\n   is\
    \ used as the transport for management and control messages between\n   the NCM\
    \ and the CCM (see Figure 23).\n            |        Multi-Access (MX) Control\
    \ Message        |\n           Figure 23: UDP-Based MAMS Control-Plane Protocol\
    \ Stack\n"
- title: Appendix B.  MAMS Application Interface
  contents:
  - "Appendix B.  MAMS Application Interface\n   This appendix describes the MAMS\
    \ Application Interface.  It does not\n   provide normative text for the definition\
    \ of the MAMS framework or\n   protocols, but offers additional information that\
    \ may be used to\n   construct a system based on the MAMS framework.\n"
- title: B.1.  Overall Design
  contents:
  - "B.1.  Overall Design\n   The CCM hosts an HTTPS server for applications to communicate\
    \ and\n   request services.  This document assumes, from a security point of\n\
    \   view, that all CCMs and the communicating application instances are\n   hosted\
    \ in a single administrative domain.\n   The content of messages is described\
    \ in JavaScript Object Notation\n   (JSON) format.  They offer RESTful APIs for\
    \ communication.\n   The exact mechanism regarding how the application knows about\
    \ the\n   endpoint of the CCM is out of scope for this document.  This\n   mechanism\
    \ may instead be provided as part of the application\n   settings.\n"
- title: B.2.  Notation
  contents:
  - "B.2.  Notation\n   The documentation of APIs is provided in the OpenAPI format,\
    \ using\n   Swagger v2.0.  See Appendix D.\n"
- title: B.3.  Error Indication
  contents:
  - "B.3.  Error Indication\n   For every API, there could be an error response if\
    \ the objective of\n   the API could not be met; see [RFC7231].\n"
- title: B.4.  CCM APIs
  contents:
  - "B.4.  CCM APIs\n   The following subsections describe the APIs exposed by the\
    \ CCM to the\n   applications.\n"
- title: B.4.1.  GET Capabilities
  contents:
  - "B.4.1.  GET Capabilities\n   The CCM provides an HTTPS GET interface as \"/ccm/v1.0/capabilities\"\
    \n   for the application to query the capabilities supported by the CCM\n   instance.\n\
    \   |   App   |--------- HTTPS GET / Capabilities -------->|    CCM    |\n   \
    \                 Figure 24: CCM API - GET Procedures\n   The CCM shall provide\
    \ information regarding its capabilities as\n   follows:\n   *  Supported Features:\
    \ One or more of the \"Feature Name\" values, as\n      defined in the MX Feature\
    \ Activation List parameter of the MX\n      Capability Request (Appendix C.2.5).\n\
    \   *  Supported Connections: Supported connection types and connection\n    \
    \  IDs.\n   *  Supported MX Adaptation Layers: List of MX Adaptation Layer\n \
    \     protocols supported by the N-MADP instance, along with the\n      connection\
    \ types where these are supported and their respective\n      parameters.\n  \
    \ *  Supported MX Convergence Layers: List of supported MX Convergence\n     \
    \ Layer protocols, along with the parameters associated with the\n      respective\
    \ convergence technique.\n"
- title: B.4.2.  Posting Application Requirements
  contents:
  - "B.4.2.  Posting Application Requirements\n   The CCM provides an HTTPS POST interface\
    \ as \"/ccm/v1.0/\n   app_requirements\" for the application to post the needs\
    \ of the\n   application data streams to the CCM instance.\n   |   App   |--------\
    \ HTTPS POST / App Requirements ---->|    CCM    |\n                    Figure\
    \ 25: CCM API - POST Procedures\n   The CCM shall provide for the application\
    \ to post the following\n   requirements for its different data streams:\n   *\
    \  Number of Data Stream Types.\n   *  For each data stream type, specify the\
    \ following parameters for\n      the link, which are preferred by the application:\n\
    \      -  Protocol Type: Transport-layer protocol associated with the\n      \
    \   application data stream packets.\n      -  Port Range: Supported connection\
    \ types and connection IDs.\n      -  Traffic QoS: Quality of service parameters,\
    \ as follows:\n         o  Bandwidth\n         o  Latency\n         o  Jitter\n"
- title: B.4.3.  Getting Predictive Link Parameters
  contents:
  - "B.4.3.  Getting Predictive Link Parameters\n   The CCM provides an HTTPS GET\
    \ interface as \"/ccm/v1.0/\n   predictive_link_params\" for the application to\
    \ get the predicted link\n   parameters from the CCM instance.\n   |   App   |-----\
    \ HTTPS GET / Predictive Link Params --->|    CCM    |\n          Figure 26: CCM\
    \ API - Getting Predictive Link Parameters\n   The CCM asks the NCM for link parameters\
    \ via the MAMS Network\n   Analytics Request Procedure (Section 8.12) and includes\
    \ the\n   information in response to the API invocation.\n   *  Number of Delivery\
    \ Connections.\n      For each delivery connection, include the following:\n \
    \     -  Access Link Identifier:\n         o  Connection Type\n         o  Connection\
    \ ID\n      -  Link Quality Indicator\n         o  Bandwidth:\n            + \
    \ Predicted Value (Mbps)\n            +  Likelihood (percent)\n            + \
    \ Prediction Validity (Validity Time, in seconds)\n         o  Jitter:\n     \
    \       +  Predicted Value (in seconds)\n            +  Likelihood (percent)\n\
    \            +  Prediction Validity (Validity Time, in seconds)\n         o  Latency:\n\
    \            +  Predicted Value (in seconds)\n            +  Likelihood (percent)\n\
    \            +  Prediction Validity (Validity Time, in seconds)\n         o  Signal\
    \ Quality\n            +  If delivery connection type is LTE, LTE_RSRP Predicted\n\
    \               Value (dBm)\n            +  If delivery connection type is LTE,\
    \ LTE_RSRQ Predicted\n               Value (dBm)\n            +  If delivery connection\
    \ type is 5G NR, NR_RSRP Predicted\n               Value (dBm)\n            +\
    \  If delivery connection type is 5G NR, NR_RSRQ Predicted\n               Value\
    \ (dBm)\n            +  If delivery connection type is Wi-Fi, WLAN_RSSI Predicted\n\
    \               Value (dBm)\n            +  Likelihood (percent)\n           \
    \ +  Prediction Validity (Validity Time, in seconds)\n"
- title: Appendix C.  MAMS Control-Plane Messages Described Using JSON
  contents:
  - "Appendix C.  MAMS Control-Plane Messages Described Using JSON\n   MAMS control-plane\
    \ messages are exchanged between the CCM and the\n   NCM.  This non-normative\
    \ appendix describes the format and content of\n   messages using JSON [RFC8259].\n"
- title: 'C.1.  Protocol Specification: General Processing'
  contents:
  - 'C.1.  Protocol Specification: General Processing

    '
- title: C.1.1.  Notation
  contents:
  - "C.1.1.  Notation\n   This document uses JSONString, JSONNumber, and JSONBool\
    \ to indicate\n   the JSON string, number, and boolean types, respectively.\n\
    \   This document uses an adaptation of the C-style struct notation to\n   describe\
    \ JSON objects.  A JSON object consists of name/value pairs.\n   This document\
    \ refers to each pair as a field.  In some contexts, this\n   document also refers\
    \ to a field as an attribute.  The name of a\n   field/attribute may be referred\
    \ to as the key.  An optional field is\n   enclosed by \"[ ]\".  In the definitions,\
    \ the JSON names of the fields\n   are case sensitive.  An array is indicated\
    \ by two numbers in angle\n   brackets, <m..n>, where m indicates the minimal\
    \ number of values and\n   n is the maximum.  When this document uses * for n,\
    \ it means no upper\n   bound.\n   For example, the text below describes a new\
    \ type Type4, with three\n   fields: \"name1\", \"name2\", and \"name3\", respectively.\
    \  The \"name3\"\n   field is optional, and the \"name2\" field is an array of\
    \ at least one\n   value.\n       object { Type1 name1; Type2 name2 <1..*>; [Type3\
    \ name3;] } Type4;\n   This document uses subtyping to denote that one type is\
    \ derived from\n   another type.  The example below denotes that TypeDerived is\
    \ derived\n   from TypeBase.  TypeDerived includes all fields defined in TypeBase.\n\
    \   If TypeBase does not have a \"name1\" field, TypeDerived will have a\n   new\
    \ field called \"name1\".  If TypeBase already has a field called\n   \"name1\"\
    \ but with a different type, TypeDerived will have a field\n   called \"name1\"\
    \ with the type defined in TypeDerived (i.e., Type1 in\n   the example).\n   \
    \    object { Type1 name1; } TypeDerived : TypeBase;\n   Note that, despite the\
    \ notation, no standard, machine-readable\n   interface definition or schema is\
    \ provided in this document.\n   Extension documents may describe these as necessary.\n\
    \   For compatibility with publishing requirements, line breaks have been\n  \
    \ inserted inside long JSON strings, with the following continuation\n   lines\
    \ indented.  To form the valid JSON example, any line breaks\n   inside a string\
    \ must be replaced with a space and any other white\n   space after the line break\
    \ removed.\n"
- title: C.1.2.  Discovery Procedure
  contents:
  - 'C.1.2.  Discovery Procedure

    '
- title: C.1.2.1.  MX Discover Message
  contents:
  - "C.1.2.1.  MX Discover Message\n   This message is the first message sent by the\
    \ CCM to discover the\n   presence of NCM in the network.  It contains only the\
    \ base\n   information as described in Appendix C.2.1 with message_type set as\n\
    \   mx_discover.\n   The representation of the message is as follows:\n      \
    \ object {\n           [JSONString MCC_MNC_Tuple;]\n        } MXDiscover : MXBase;\n"
- title: C.1.3.  System Information Procedure
  contents:
  - 'C.1.3.  System Information Procedure

    '
- title: C.1.3.1.  MX System Info Message
  contents:
  - "C.1.3.1.  MX System Info Message\n   This message is sent by the NCM to the CCM\
    \ to inform the endpoints\n   that the NCM supports MAMS functionality.  In addition\
    \ to the base\n   information (Appendix C.2.1), it contains the following information:\n\
    \   (a)  NCM Connections (Appendix C.2.3).\n   The representation of the message\
    \ is as follows:\n       object {\n          NCMConnections ncm_connections;\n\
    \       } MXSystemInfo : MXBase;\n"
- title: C.1.4.  Capability Exchange Procedure
  contents:
  - 'C.1.4.  Capability Exchange Procedure

    '
- title: C.1.4.1.  MX Capability Request
  contents:
  - "C.1.4.1.  MX Capability Request\n   This message is sent by the CCM to the NCM\
    \ to indicate the\n   capabilities of the CCM instance available to the NCM indicated\
    \ in\n   the System Info message earlier.  In addition to the base information\n\
    \   (Appendix C.2.1), it contains the following information:\n   (a)  Features\
    \ and their activation status: See Appendix C.2.5.\n   (b)  Number of Anchor Connections:\
    \ The number of anchor connections\n        (toward the core) supported by the\
    \ NCM.\n   (c)  Anchor connections: See Appendix C.2.6.\n   (d)  Number of Delivery\
    \ Connections: The number of delivery\n        connections (toward the access)\
    \ supported by the NCM.\n   (e)  Delivery connections: See Appendix C.2.7.\n \
    \  (f)  Convergence methods: See Appendix C.2.9.\n   (g)  Adaptation methods:\
    \ See Appendix C.2.10.\n   The representation of the message is as follows:\n\
    \       object {\n          FeaturesActive feature_active;\n          JSONNumber\
    \ num_anchor_connections;\n          AnchorConnections anchor_connections;\n \
    \         JSONNumber num_delivery_connections;\n          DeliveryConnections\
    \ delivery_connections;\n          ConvergenceMethods convergence_methods;\n \
    \         AdaptationMethods adaptation_methods\n       } MXCapabilityReq : MXBase;\n"
- title: C.1.4.2.  MX Capability Response
  contents:
  - "C.1.4.2.  MX Capability Response\n   This message is sent by the NCM to the CCM\
    \ to indicate the\n   capabilities of the NCM instance and unique session identifier\
    \ for\n   the CCM.  In addition to the base information (Appendix C.2.1), it\n\
    \   contains the following information:\n   (a)  Features and their activation\
    \ status: See Appendix C.2.5.\n   (b)  Number of Anchor Connections: The number\
    \ of anchor connections\n        (toward the core) supported by the NCM.\n   (c)\
    \  Anchor connections: See Appendix C.2.6.\n   (d)  Number of Delivery Connections:\
    \ The number of delivery\n        connections (toward the access) supported by\
    \ the NCM.\n   (e)  Delivery connections: See Appendix C.2.7.\n   (f)  Convergence\
    \ methods: See Appendix C.2.9.\n   (g)  Adaptation methods: See Appendix C.2.10.\n\
    \   (h)  Unique Session ID: This uniquely identifies the session between\n   \
    \     the CCM and the NCM in a network.  See Appendix C.2.2.\n   The representation\
    \ of the message is as follows:\n       object {\n          FeaturesActive feature_active;\n\
    \          JSONNumber num_anchor_connections;\n          AnchorConnections anchor_connections;\n\
    \          JSONNumber num_delivery_connections;\n          DeliveryConnections\
    \ delivery_connections;\n          ConvergenceMethods convergence_methods;\n \
    \         AdaptationMethods adaptation_methods\n          UniqueSessionId unique_session_id;\n\
    \       } MXCapabilityRsp : MXBase;\n"
- title: C.1.4.3.  MX Capability Acknowledge
  contents:
  - "C.1.4.3.  MX Capability Acknowledge\n   This message is sent by the CCM to the\
    \ NCM to indicate acceptance of\n   capabilities advertised by the NCM in an earlier\
    \ MX Capability\n   Response message.  In addition to the base information\n \
    \  (Appendix C.2.1), it contains the following information:\n   (a)  Unique Session\
    \ ID: Same identifier as the identifier provided in\n        the MX Capability\
    \ Response.  See Appendix C.2.2.\n   (b)  Capability Acknowledgment: Indicates\
    \ either acceptance or\n        rejection of the capabilities sent by the CCM.\
    \  Can use either\n        \"MX_ACCEPT\" or \"MX_REJECT\" as acceptable values.\n\
    \   The representation of the message is as follows:\n       object {\n      \
    \    UniqueSessionId unique_session_id;\n          JSONString capability_ack;\n\
    \       } MXCapabilityAck : MXBase;\n"
- title: C.1.5.  User-Plane Configuration Procedure
  contents:
  - 'C.1.5.  User-Plane Configuration Procedure

    '
- title: C.1.5.1.  MX User-Plane Configuration Request
  contents:
  - "C.1.5.1.  MX User-Plane Configuration Request\n   This message is sent by the\
    \ NCM to the CCM to configure the user\n   plane for MAMS.  In addition to the\
    \ base information\n   (Appendix C.2.1), it contains the following information:\n\
    \   (a)  Number of Anchor Connections: The number of anchor connections\n    \
    \    supported by the NCM.\n   (b)  Setup of anchor connections: See Appendix\
    \ C.2.11.\n   The representation of the message is as follows:\n       object\
    \ {\n          JSONNumber num_anchor_connections;\n          SetupAnchorConns\
    \ anchor_connections;\n       } MXUPSetupConfigReq : MXBase;\n"
- title: C.1.5.2.  MX User-Plane Configuration Confirmation
  contents:
  - "C.1.5.2.  MX User-Plane Configuration Confirmation\n   This message is the confirmation\
    \ of the user-plane setup message sent\n   from the CCM after successfully configuring\
    \ the user plane on the\n   client.  This message contains the following information:\n\
    \   (a)  Unique Session ID: Same identifier as the identifier provided in\n  \
    \      the MX Capability Response.  See Appendix C.2.2.\n   (b)  MX probe parameters\
    \ (included if probing is supported).\n        (1)  Probe Port: UDP port for accepting\
    \ probe message.\n        (2)  Anchor connection ID: Identifier of the anchor\
    \ connection\n             to be used for probe function.  Provided in the MX\
    \ UP Setup\n             Configuration Request.\n        (3)  MX Configuration\
    \ ID: This parameter is included only if the\n             MX Configuration ID\
    \ parameter is available from the user-\n             plane setup configuration.\
    \  It indicates the MX\n             configuration ID of the anchor connection\
    \ to be used for\n             probe function.\n   (c)  The following information\
    \ is required for each delivery\n        connection:\n        (1)  Connection\
    \ ID: Delivery connection ID supported by the\n             client.\n        (2)\
    \  Client Adaptation-Layer Parameters: If the UDP Adaptation\n             Layer\
    \ is in use, then the UDP port to be used on the C-MADP\n             side.\n\
    \   The representation of the message is as follows:\n       object {\n      \
    \    UniqueSessionId unique_session_id;\n          [ProbeParam probe_param;]\n\
    \          JSONNumber num_delivery_conn;\n          ClientParam client_params\
    \ <1...*>;\n       } MXUPSetupConfigCnf : MXBase;\n   Where ProbeParam is defined\
    \ as follows:\n       object {\n          JSONNumber probe_port;\n          JSONNumber\
    \ anchor_conn_id;\n          [JSONNumber mx_configuration_id;]\n       } ProbeParam;\n\
    \   Where ClientParam is defined as follows:\n       object {\n          JSONNumber\
    \ connection_id;\n          [AdaptationParam adapt_param;]\n       } ClientParam;\n\
    \   Where AdaptationParam is defined as follows:\n       object {\n          JSONNumber\
    \ udp_adapt_port;\n       } AdaptationParam;\n"
- title: C.1.6.  Reconfiguration Procedure
  contents:
  - 'C.1.6.  Reconfiguration Procedure

    '
- title: C.1.6.1.  MX Reconfiguration Request
  contents:
  - "C.1.6.1.  MX Reconfiguration Request\n   This message is sent by the CCM to the\
    \ NCM in the case of\n   reconfiguration of any of the connections from the client's\
    \ side.  In\n   addition to the base information (Appendix C.2.1), it contains\
    \ the\n   following information:\n   (a)  Unique Session ID: Identifier for the\
    \ CCM-NCM association\n        Appendix C.2.2.\n   (b)  Reconfiguration Action:\
    \ The reconfiguration action type can be\n        one of \"setup\", \"release\"\
    , or \"update\".\n   (c)  Connection ID: Connection ID for which the reconfiguration\
    \ is\n        taking place.\n   (d)  IP address: Included if Reconfiguration Action\
    \ is either \"setup\"\n        or \"update\".\n   (e)  SSID: If the connection\
    \ type is Wi-Fi, then this parameter\n        contains the SSID to which the client\
    \ has attached.\n   (f)  MTU of the connection: The MTU of the delivery path that\
    \ is\n        calculated at the client for use by the NCM to configure\n     \
    \   fragmentation and concatenation procedures at the N-MADP.\n   (g)  Connection\
    \ Status: This parameter indicates whether the\n        connection is currently\
    \ \"disabled\", \"enabled\", or \"connected\".\n        Default: \"connected\"\
    .\n   (h)  Delivery Node ID: Identity of the node to which the client is\n   \
    \     attached.  In the case of LTE, this is an ECGI.  In the case of\n      \
    \  Wi-Fi, this is an AP ID or a MAC address.\n   The representation of the message\
    \ is as follows:\n       object {\n          UniqueSessionId unique_session_id;\n\
    \          JSONString reconf_action;\n          JSONNumber connection_id;\n  \
    \        JSONString ip_address;\n          JSONString ssid;\n          JSONNumber\
    \ mtu_size;\n          JSONString connection_status;\n          [JSONString delivery_node_id;]\n\
    \       } MXReconfReq : MXBase;\n"
- title: C.1.6.2.  MX Reconfiguration Response
  contents:
  - "C.1.6.2.  MX Reconfiguration Response\n   This message is sent by the NCM to\
    \ the CCM as a confirmation of the\n   received MX Reconfiguration Request and\
    \ contains only the base\n   information (as defined in Appendix C.2.1).\n   The\
    \ representation of the message is as follows:\n       object {\n       } MXReconfRsp\
    \ : MXBase;\n"
- title: C.1.7.  Path Estimation Procedure
  contents:
  - 'C.1.7.  Path Estimation Procedure

    '
- title: C.1.7.1.  MX Path Estimation Request
  contents:
  - "C.1.7.1.  MX Path Estimation Request\n   This message is sent by the NCM toward\
    \ the CCM to configure the CCM\n   to send MX Path Estimation Results.  In addition\
    \ to the base\n   information (Appendix C.2.1), it contains the following information:\n\
    \   (a)  Connection ID: ID of the connection for which the path\n        estimation\
    \ report is required.\n   (b)  Init Probe Test Duration: Duration of initial probe\
    \ test, in\n        milliseconds.\n   (c)  Init Probe Test Rate: Initial testing\
    \ rate, in megabits per\n        second.\n   (d)  Init Probe Size: Size of each\
    \ packet for initial probe, in\n        bytes.\n   (e)  Init Probe-ACK: If an\
    \ acknowledgment for probe is required.\n        (Possible values: \"yes\", \"\
    no\")\n   (f)  Active Probe Frequency: Frequency, in milliseconds, at which the\n\
    \        active probes shall be sent.\n   (g)  Active Probe Size: Size of the\
    \ active probe, in bytes.\n   (h)  Active Probe Duration: Duration, in seconds,\
    \ for which the\n        active probe shall be performed.\n   (i)  Active Probe-ACK:\
    \ If an acknowledgment for probe is required.\n        (Possible values: \"yes\"\
    , \"no\")\n   The representation of the message is as follows:\n       object\
    \ {\n          JSONNumber connection_id;\n          JSONNumber init_probe_test_duration_ms;\n\
    \          JSONNumber init_probe_test_rate_Mbps;\n          JSONNumber init_probe_size_bytes;\n\
    \          JSONString init_probe_ack_req;\n          JSONNumber active_probe_freq_ms;\n\
    \          JSONNumber active_probe_size_bytes;\n          JSONNumber active_probe_duration_sec;\n\
    \          JSONString active_probe_ack_req;\n       } MXPathEstReq : MXBase;\n"
- title: C.1.7.2.  MX Path Estimation Results
  contents:
  - "C.1.7.2.  MX Path Estimation Results\n   This message is sent by the CCM to the\
    \ NCM to report on the probe\n   estimation configured by the NCM.  In addition\
    \ to the base\n   information (Appendix C.2.1), it contains the following information:\n\
    \   (a)  Unique Session ID: Same identifier as the identifier provided in\n  \
    \      the MX Capability Response.  See Appendix C.2.2.\n   (b)  Connection ID:\
    \ ID of the connection for which the MX Path\n        Estimation Results message\
    \ is required.\n   (c)  Init Probe Results: See Appendix C.2.12.\n   (d)  Active\
    \ Probe Results: See Appendix C.2.13.\n   The representation of the message is\
    \ as follows:\n       object {\n          JSONNumber connection_id;\n        \
    \  UniqueSessionId unique_session_id;\n          [InitProbeResults init_probe_results;]\n\
    \          [ActiveProbeResults active_probe_results;]\n       } MXPathEstResults\
    \ : MXBase;\n"
- title: C.1.8.  Traffic-Steering Procedure
  contents:
  - 'C.1.8.  Traffic-Steering Procedure

    '
- title: C.1.8.1.  MX Traffic Steering Request
  contents:
  - "C.1.8.1.  MX Traffic Steering Request\n   This message is sent by the NCM to\
    \ the CCM to enable traffic steering\n   on the delivery side in uplink and downlink\
    \ configurations.  In\n   addition to the base information (Appendix C.2.1), it\
    \ contains the\n   following information:\n   (a)  Connection ID: Anchor connection\
    \ number for which the traffic\n        steering is being defined.\n   (b)  MX\
    \ Configuration ID: MX configuration for which the traffic\n        steering is\
    \ being defined.\n   (c)  Downlink Delivery: See Appendix C.2.14.\n   (d)  Default\
    \ UL Delivery: The default delivery connection for the\n        uplink.  All traffic\
    \ should be delivered on this connection in\n        the uplink direction, and\
    \ the Traffic Flow Template (TFT) filter\n        should be applied only for the\
    \ traffic mentioned in Uplink\n        Delivery.\n   (e)  Uplink Delivery: See\
    \ Appendix C.2.15.\n   (f)  Features and their activation status: See Appendix\
    \ C.2.5.\n   The representation of the message is as follows:\n       object {\n\
    \          JSONNumber connection_id;\n          [JSONNumber mx_configuration_id;]\n\
    \          DLDelivery downlink_delivery;\n          JSONNumber default_uplink_delivery;\n\
    \          ULDelivery uplink_delivery;\n          FeaturesActive feature_active;\n\
    \       } MXTrafficSteeringReq : MXBase;\n"
- title: C.1.8.2.  MX Traffic Steering Response
  contents:
  - "C.1.8.2.  MX Traffic Steering Response\n   This message is a response to an MX\
    \ Traffic Steering Request from the\n   CCM to the NCM.  In addition to the base\
    \ information\n   (Appendix C.2.1), it contains the following information:\n \
    \  (a)  Unique Session ID: Same identifier as the identifier provided in\n   \
    \     the MX Capability Response.  See Appendix C.2.2.\n   (b)  Features and their\
    \ activation status: See Appendix C.2.5.\n   The representation of the message\
    \ is as follows:\n       object {\n          UniqueSessionId unique_session_id;\n\
    \          FeaturesActive feature_active;\n       } MXTrafficSteeringResp : MXBase;\n"
- title: C.1.9.  MAMS Application MADP Association
  contents:
  - 'C.1.9.  MAMS Application MADP Association

    '
- title: C.1.9.1.  MX Application MADP Association Request
  contents:
  - "C.1.9.1.  MX Application MADP Association Request\n   This message is sent by\
    \ the CCM to the NCM to select MADP instances\n   provided earlier in the MX UP\
    \ Setup Configuration Request, based on\n   requirements for the applications.\n\
    \   In addition to the base information (Appendix C.2.1), it contains the\n  \
    \ following:\n   (a)  Unique Session ID: This uniquely identifies the session\
    \ between\n        the CCM and the NCM in a network.  See Appendix C.2.2.\n  \
    \ (b)  A list of MX Application MADP Associations, with each entry as\n      \
    \  follows:\n        (1)  Connection ID: Represents the anchor connection number\
    \ of\n             the MADP instance.\n        (2)  MX Configuration ID: Identifies\
    \ the MX configuration of the\n             MADP instance.\n        (3)  Traffic\
    \ Flow Template Uplink: Traffic Flow Template, as\n             defined in Appendix\
    \ C.2.16, to be used in the uplink\n             direction.\n        (4)  Traffic\
    \ Flow Template Downlink: Traffic Flow Template, as\n             defined in Appendix\
    \ C.2.16, to be used in the downlink\n             direction.\n   The representation\
    \ of the message is as follows:\n       object {\n          UniqueSessionId unique_session_id;\n\
    \          MXAppMADPAssoc app_madp_assoc_list <1..*>;\n       } MXAppMADPAssocReq\
    \ : MXBase;\n   Where each measurement MXAppMADPAssoc is represented by the\n\
    \   following:\n       object {\n          JSONNumber connection_id;\n       \
    \   JSONNumber mx_configuration_id\n          TrafficFlowTemplate tft_ul_list\
    \ <1..*>;\n          TrafficFlowTemplate tft_dl_list <1..*>;\n       } MXAppMADPAssoc;\n"
- title: C.1.9.2.  MX Application MADP Association Response
  contents:
  - "C.1.9.2.  MX Application MADP Association Response\n   This message is sent by\
    \ the NCM to the CCM to confirm the selected\n   MADP instances provided in the\
    \ MX Application MADP Association\n   Request by the CCM.\n   In addition to the\
    \ base information (Appendix C.2.1), it contains\n   information if the request\
    \ has been successful.\n   The representation of the message is as follows:\n\
    \       object {\n          JSONBool is_success;\n       } MXAppMADPAssocResp\
    \ : MXBase;\n"
- title: C.1.10.  MX SSID Indication
  contents:
  - "C.1.10.  MX SSID Indication\n   This message is sent by the NCM to the CCM to\
    \ indicate the list of\n   allowed SSIDs that are supported by the MAMS entity\
    \ on the network\n   side.  It contains the list of SSIDs.\n   Each SSID consists\
    \ of the type of SSID (which can be one of the\n   following: SSID, BSSID, or\
    \ HESSID) and the SSID itself.\n   The representation of the message is as follows:\n\
    \       object {\n          SSID ssid_list <1..*>;\n       } MXSSIDIndication\
    \ : MXBase;\n   Where each SSID is defined as follows:\n       object {\n    \
    \      JSONString ssid_type;\n          JSONString ssid;\n       } SSID;\n"
- title: C.1.11.  Measurements
  contents:
  - 'C.1.11.  Measurements

    '
- title: C.1.11.1.  MX Measurement Configuration
  contents:
  - "C.1.11.1.  MX Measurement Configuration\n   This message is sent from the NCM\
    \ to the CCM to configure the period\n   measurement reporting at the CCM.  The\
    \ message contains a list of\n   measurement configurations, with each element\
    \ containing the\n   following information:\n   (a)  Connection ID: Connection\
    \ ID of the delivery connection for\n        which the reporting is being configured.\n\
    \   (b)  Connection Type: Connection type for which the reporting is\n       \
    \ being configured.  Can be \"LTE\", \"Wi-Fi\", \"5G_NR\".\n   (c)  Measurement\
    \ Report Configuration: Actual report configuration\n        based on the Connection\
    \ Type, as defined in Appendix C.2.17.\n   The representation of the message is\
    \ as follows:\n       object {\n          MeasReportConf measurement_configuration\
    \ <1..*>;\n       } MXMeasReportConf : MXBase;\n   Where each measurement MeasReportConf\
    \ is represented by the\n   following:\n       object {\n          JSONNumber\
    \ connection_id;\n          JSONString connection_type;\n          MeasReportConfs\
    \ meas_rep_conf <1..*>;\n       } MeasReportConf;\n"
- title: C.1.11.2.  MX Measurement Report
  contents:
  - "C.1.11.2.  MX Measurement Report\n   This message is periodically sent by the\
    \ CCM to the NCM after\n   measurement configuration.  In addition to the base\
    \ information, it\n   contains the following information:\n   (a)  Unique Session\
    \ ID: Same identifier as the identifier provided in\n        the MX Capability\
    \ Response.  Described in Appendix C.2.2.\n   (b)  Measurement report for each\
    \ delivery connection is measured by\n        the client as defined in Appendix\
    \ C.2.18.\n   The representation of the message is as follows:\n       object\
    \ {\n          UniqueSessionId unique_session_id;\n          MXMeasRep measurement_reports\
    \ <1..*>;\n       } MXMeasurementReport : MXBase;\n"
- title: C.1.12.  Keep-Alive
  contents:
  - 'C.1.12.  Keep-Alive

    '
- title: C.1.12.1.  MX Keep-Alive Request
  contents:
  - "C.1.12.1.  MX Keep-Alive Request\n   An MX Keep-Alive Request can be sent from\
    \ either the NCM or the CCM\n   on expiry of the Keep-Alive timer or a handover\
    \ event.  The peer\n   shall respond to this request with an MX Keep-Alive Response.\
    \  In the\n   case of no response from the peer, the MAMS connection shall be\n\
    \   assumed to be broken, and the CCM shall establish a new connection by\n  \
    \ sending MX Discover messages.\n   In addition to the base information, it contains\
    \ the following\n   information:\n   (a)  Keep-Alive Reason: Reason for sending\
    \ this message, can be\n        \"Timeout\" or \"Handover\".\n   (b)  Unique Session\
    \ ID: Identifier for the CCM-NCM association\n        Appendix C.2.2.\n   (c)\
    \  Connection ID: Connection ID for which handover is detected, if\n        the\
    \ reason is \"Handover\".\n   (d)  Delivery Node ID: The target delivery node\
    \ ID (ECGI or Wi-Fi AP\n        ID/MAC address) to which the handover is executed.\n\
    \   The representation of the message is as follows:\n       object {\n      \
    \    JSONString keep_alive_reason;\n          UniqueSessionId unique_session_id;\n\
    \          JSONNumber connection_id;\n          JSONString delivery_node_id;\n\
    \       } MXKeepAliveReq : MXBase;\n"
- title: C.1.12.2.  MX Keep-Alive Response
  contents:
  - "C.1.12.2.  MX Keep-Alive Response\n   On receiving an MX Keep-Alive Request from\
    \ a peer, the NCM/CCM shall\n   immediately respond with an MX Keep-Alive Response\
    \ on the same\n   delivery path from where the request arrived.  In addition to\
    \ the\n   base information, it contains the unique session identifier for the\n\
    \   CCM-NCM association (defined in Appendix C.2.2)\n   The representation of\
    \ the message is as follows:\n       object {\n          UniqueSessionId unique_session_id;\n\
    \       } MXKeepAliveResp : MXBase;\n"
- title: C.1.13.  Session Termination Procedure
  contents:
  - 'C.1.13.  Session Termination Procedure

    '
- title: C.1.13.1.  MX Session Termination Request
  contents:
  - "C.1.13.1.  MX Session Termination Request\n   In the event where the NCM or CCM\
    \ can no longer handle MAMS for any\n   reason, it can send an MX Session Termination\
    \ Request to the peer.\n   In addition to the base information, it contains a\
    \ Unique Session ID\n   and the reason for the termination; this can be \"MX_NORMAL_RELEASE\"\
    ,\n   \"MX_NO_RESPONSE\", or \"INTERNAL_ERROR\".\n   The representation of the\
    \ message is as follows:\n       object {\n          UniqueSessionId unique_session_id;\n\
    \          JSONString reason;\n       } MXSessionTerminationReq : MXBase;\n"
- title: C.1.13.2.  MX Session Termination Response
  contents:
  - "C.1.13.2.  MX Session Termination Response\n   On receipt of an MX Session Termination\
    \ Request from a peer, the NCM/\n   CCM shall respond with MX Session Termination\
    \ Response on the same\n   delivery path where the request arrived and clean up\
    \ the MAMS-related\n   resources and settings.  The CCM shall reinitiate a new\
    \ session with\n   MX Discover messages.\n   The representation of the message\
    \ is as follows:\n         object {\n            UniqueSessionId unique_session_id;\n\
    \         } MXSessionTerminationResp : MXBase;\n"
- title: C.1.14.  Network Analytics
  contents:
  - 'C.1.14.  Network Analytics

    '
- title: C.1.14.1.  MX Network Analytics Request
  contents:
  - "C.1.14.1.  MX Network Analytics Request\n   This message is sent by the CCM to\
    \ the NCM to request parameters like\n   bandwidth, jitter, latency, and signal\
    \ quality predicted by the\n   network analytics function.  In addition to the\
    \ base information, it\n   contains the following parameter:\n   (a)  Unique Session\
    \ ID: Same identifier as the identifier provided in\n        the MX Capability\
    \ Response.  Described in Appendix C.2.2.\n   (b)  Parameter List: List of parameters\
    \ in which the CCM is\n        interested: one or more of \"bandwidth\", \"jitter\"\
    , \"latency\", and\n        \"signal_quality\".\n   The representation of the\
    \ message is as follows:\n       object {\n          UniqueSessionId unique_session_id;\n\
    \          JSONString params <1..*>;\n       } MXNetAnalyticsReq : MXBase;\n \
    \  Where the params object can take one or more of the following values:\n   \
    \    \"bandwidth\"\n       \"jitter\"\n       \"latency\"\n       \"signal_quality\"\
    \n"
- title: C.1.14.2.  MX Network Analytics Response
  contents:
  - "C.1.14.2.  MX Network Analytics Response\n   This message is sent by the NCM\
    \ to the CCM in response to the MX\n   Network Analytics Request.  For each delivery\
    \ connection that the\n   client has, the NCM reports the requested parameter\
    \ predictions and\n   their respective likelihoods (between 1 and 100 percent).\n\
    \   In addition to the base information, it contains the following\n   parameters:\n\
    \   (a)  Number of Delivery Connections: The number of delivery\n        connections\
    \ that are currently configured for the client.\n   (b)  The following information\
    \ is provided for each delivery\n        connection:\n        (1)  Connection\
    \ ID: Connection ID of the delivery connection for\n             which the parameters\
    \ are being predicted.\n        (2)  Connection Type: Type of connection.  Can\
    \ be \"Wi-Fi\",\n             \"5G_NR\", \"MulteFire\", or \"LTE\".\n        (3)\
    \  List of Parameters for which Prediction is requested, where\n             each\
    \ of the predicted parameters consists of the following:\n             (a)  Parameter\
    \ Name: Name of the parameter being predicted.\n                  Can be one of\
    \ \"bandwidth\", \"jitter\", \"latency\", or\n                  \"signal_quality\"\
    .\n             (b)  Additional Parameter: If Parameter name is\n            \
    \      \"signal_quality\", then this qualifies the quality\n                 \
    \ parameter like \"lte_rsrp\", \"lte_rsrq\", \"nr_rsrp\",\n                  \"\
    nr_rsrq\", or \"wifi_rssi\".\n             (c)  Predicted Value: Provides the\
    \ predicted value of the\n                  parameter and, if applicable, the\
    \ additional\n                  parameter.\n             (d)  Likelihood: Provides\
    \ a stochastic likelihood of the\n                  predicted value.\n       \
    \      (e)  Validity Time: The time duration for which the\n                 \
    \ predictions are valid.\n   The representation of the message is as follows:\n\
    \       object {\n          MXAnalyticsList param_list <1..*>;\n       } MXNetAnalyticsResp\
    \ : MXBase;\n   Where MXAnalyticsList is defined as follows:\n       object {\n\
    \          JSONNumber connection_id;\n          JSONString connection_type;\n\
    \          ParamPredictions predictions <1..*>;\n       } MXAnalyticsList;\n \
    \  Where each ParamPredictions item is defined as:\n       object {\n        \
    \  JSONString param_name;\n          [JSONString additional_param;]\n        \
    \  JSONNumber prediction;\n          JSONNumber likelihood;\n          JSONNumber\
    \ validity_time;\n       } ParamPredictions;\n"
- title: 'C.2.  Protocol Specification: Data Types'
  contents:
  - 'C.2.  Protocol Specification: Data Types

    '
- title: C.2.1.  MXBase
  contents:
  - "C.2.1.  MXBase\n   This is the base information that every message between the\
    \ CCM and\n   NCM exchanges shall have as mandatory information.  It contains\
    \ the\n   following information:\n   (a)  Version: Version of MAMS used.\n   (b)\
    \  Message Type: Message type being sent, where the following are\n        considered\
    \ valid values:\n          \"mx_discover\"\n          \"mx_system_info\"\n   \
    \       \"mx_capability_req\"\n          \"mx_capability_rsp\"\n          \"mx_capability_ack\"\
    \n          \"mx_up_setup_conf_req\"\n          \"mx_up_setup_cnf\"\n        \
    \  \"mx_reconf_req\"\n          \"mx_reconf_rsp\"\n          \"mx_path_est_req\"\
    \n          \"mx_path_est_results\"\n          \"mx_traffic_steering_req\"\n \
    \         \"mx_traffic_steering_rsp\"\n          \"mx_ssid_indication\"\n    \
    \      \"mx_keep_alive_req\"\n          \"mx_keep_alive_rsp\"\n          \"mx_measurement_conf\"\
    \n          \"mx_measurement_report\"\n          \"mx_session_termination_req\"\
    \n          \"mx_session_termination_rsp\"\n          \"mx_app_madp_assoc_req\"\
    \n          \"mx_app_madp_assoc_rsp\"\n          \"mx_network_analytics_req\"\n\
    \          \"mx_network_analytics_rsp\"\n   (c)  Sequence Number: Sequence number\
    \ to uniquely identify a\n        particular message exchange, e.g., MX Capability\n\
    \        Request/Response/Acknowledge.\n   The representation of this data type\
    \ is as follows:\n       object {\n          JSONString version;\n          JSONString\
    \ message_type;\n          JSONNumber sequence_num;\n       } MXBase;\n"
- title: C.2.2.  Unique Session ID
  contents:
  - "C.2.2.  Unique Session ID\n   This data type represents the unique session ID\
    \ between a CCM and NCM\n   entity.  It contains an NCM ID that is unique in the\
    \ network and a\n   session ID that is allocated by the NCM for that session.\
    \  On receipt\n   of the MX Discover message, if the session exists, then the\
    \ old\n   session ID is returned in the MX System Info message; otherwise, the\n\
    \   NCM allocates a new session ID for the CCM and sends the new ID in\n   the\
    \ MX System Info message.\n   The representation of this data type is as follows:\n\
    \       object {\n          JSONNumber ncm_id;\n          JSONNumber session_id;\n\
    \       } UniqueSessionId;\n"
- title: C.2.3.  NCM Connections
  contents:
  - "C.2.3.  NCM Connections\n   This data type represents the connection available\
    \ at the NCM for\n   MAMS connectivity toward the client.  It contains a list\
    \ of NCM\n   connections available, where each connection has the following\n\
    \   information:\n   (a)  Connection Information: See Appendix C.2.4.\n   (b)\
    \  NCM Endpoint Information: Contains the IP address and port\n        exposed\
    \ by the NCM endpoint for the CCM.\n   The representation of this data type is\
    \ as follows:\n       object {\n          NCMConnection items <1..*>;\n      \
    \ } NCMConnections;\n   where NCMConnection is defined as:\n       object {\n\
    \          NCMEndPoint ncm_end_point;\n       } NCMConnection : ConnectionInfo;\n\
    \   where NCMEndPoint is defined as:\n       object {\n          JSONString ip_address;\n\
    \          JSONNumber port;\n       } NCMEndPoint;\n"
- title: C.2.4.  Connection Information
  contents:
  - "C.2.4.  Connection Information\n   This data type provides the mapping of connection\
    \ ID and connection\n   type.  It contains the following information:\n   (a)\
    \  Connection ID: Unique number identifying the connection.\n   (b)  Connection\
    \ Type: Type of connection can be \"Wi-Fi\", \"5G_NR\",\n        \"MulteFire\"\
    , or \"LTE\".\n   The representation of this data type is as follows:\n      \
    \ object {\n          JSONNumber connection_id;\n          JSONString connection_type;\n\
    \       } ConnectionInfo;\n"
- title: C.2.5.  Features and Their Activation Status
  contents:
  - "C.2.5.  Features and Their Activation Status\n   This data type provides the\
    \ list of all features with their\n   activation status.  Each feature status\
    \ contains the following:\n   (a)  Feature Name: The name of the feature can be\
    \ one of the\n        following:\n       \"lossless_switching\"\n       \"fragmentation\"\
    \n       \"concatenation\"\n       \"uplink_aggregation\"\n       \"downlink_aggregation\"\
    \n       \"measurement\"\n   (b)  Active status: Activation status of the feature:\
    \ \"true\" means\n        that the feature is active, and \"false\" means that\
    \ the feature\n        is inactive.\n   The representation of this data type is\
    \ as follows:\n       object {\n          FeatureInfo items <1..*>;\n       }\
    \ FeaturesActive;\n   where FeatureInfo is defined as:\n       object {\n    \
    \      JSONString feature_name;\n          JSONBool active;\n       } FeatureInfo;\n"
- title: C.2.6.  Anchor Connections
  contents:
  - "C.2.6.  Anchor Connections\n   This data type contains the list of Connection\
    \ Information items\n   (Appendix C.2.4) that are supported on the anchor (core)\
    \ side.\n   The representation of this data type is as follows:\n       object\
    \ {\n          ConnectionInfo items <1..*>;\n       } AnchorConnections;\n"
- title: C.2.7.  Delivery Connections
  contents:
  - "C.2.7.  Delivery Connections\n   This data type contains the list of Connection\
    \ Information\n   (Appendix C.2.4) that are supported on the delivery (access)\
    \ side.\n   The representation of this data type is as follows:\n       object\
    \ {\n          ConnectionInfo items <1..*>;\n       } DeliveryConnections;\n"
- title: C.2.8.  Method Support
  contents:
  - "C.2.8.  Method Support\n   This data type provides the support for a particular\
    \ convergence or\n   adaptation method.  It consists of the following:\n   (a)\
    \  Method: Name of the method.\n   (b)  Supported: Whether the method listed above\
    \ is supported or not.\n        Possible values are \"true\" and \"false\".\n\
    \   The representation of this data type is as follows:\n       object {\n   \
    \       JSONString method;\n          JSONBool supported;\n       } MethodSupport;\n"
- title: C.2.9.  Convergence Methods
  contents:
  - "C.2.9.  Convergence Methods\n   This data type contains the list of all convergence\
    \ methods and their\n   support status.  The possible convergence methods are:\n\
    \       \"GMA\"\n       \"MPTCP_Proxy\"\n       \"GRE_Aggregation_Proxy\"\n  \
    \     \"MPQUIC\"\n   The representation of this data type is as follows:\n   \
    \    object {\n          MethodSupport items <1..*>;\n       } ConvergenceMethods;\n"
- title: C.2.10.  Adaptation Methods
  contents:
  - "C.2.10.  Adaptation Methods\n   This data type contains the list of all adaptation\
    \ methods and their\n   support status.  The possible adaptation methods are:\n\
    \       \"UDP_without_DTLS\"\n       \"UDP_with_DTLS\"\n       \"IPsec\"\n   \
    \    \"Client_NAT\"\n   The representation of this data type is as follows:\n\
    \       object {\n          MethodSupport items <1..*>;\n       } AdaptationMethods;\n"
- title: C.2.11.  Setup of Anchor Connections
  contents:
  - "C.2.11.  Setup of Anchor Connections\n   This data type represents the setup\
    \ configuration for each anchor\n   connection that is required on the client's\
    \ side.  It contains the\n   following information, in addition to the connection\
    \ ID and type of\n   the anchor connection:\n   (a)  Number of Active MX Configurations:\
    \ If more than one active\n        configuration is present for this anchor, then\
    \ this identifies\n        the number of such connections.\n   (b)  The following\
    \ convergence parameters are provided for each\n        active configuration:\n\
    \        (1)  MX Configuration ID: Present if there are multiple active\n    \
    \         configurations.  Identifies the configuration for this MADP\n      \
    \       instance ID.\n        (2)  Convergence Method: Convergence method selected.\
    \  Has to be\n             one of the supported convergence methods listed in\n\
    \             Appendix C.2.9.\n        (3)  Convergence Method Parameters: Described\
    \ in\n             Appendix C.2.11.1\n        (4)  Number of Delivery Connections:\
    \ The number of delivery\n             connections (access side) that are supported\
    \ for this\n             anchor connection.\n        (5)  Setup of delivery connections:\
    \ Described in\n             Appendix C.2.11.2.\n   The representation of this\
    \ data type is as follows:\n       object {\n          SetupAnchorConn items <1..*>;\n\
    \       } SetupAnchorConns;\n   Where each anchor connection configuration is\
    \ defined as follows:\n       object {\n          [JSONNumber num_active_mx_conf;]\n\
    \          ConvergenceConfig convergence_config\n       } SetupAnchorConn : ConnectionInfo;\n\
    \   where each Convergence configuration is defined as follows:\n       object\
    \ {\n          [JSONNumber mx_configuration_id;]\n          JSONString convergence_method;\n\
    \          ConvergenceMethodParam convergence_method_params;\n          JSONNumber\
    \ num_delivery_connections;\n          SetupDeliveryConns delivery_connections;\n\
    \       } ConvergenceConfig;\n"
- title: C.2.11.1.  Convergence Method Parameters
  contents:
  - "C.2.11.1.  Convergence Method Parameters\n   This data type represents the parameters\
    \ used for the convergence\n   method and contains the following:\n   (a)  Proxy\
    \ IP: IP address of the proxy that is provided by the\n        selected convergence\
    \ method.\n   (b)  Proxy Port: Port of the proxy that is provided by the selected\n\
    \        convergence method.\n   The representation of this data type is as follows:\n\
    \       object {\n          JSONString proxy_ip;\n          JSONString proxy_port;\n\
    \          JSONString client_key;\n       } ConvergenceMethodParam;\n"
- title: C.2.11.2.  Setup Delivery Connections
  contents:
  - "C.2.11.2.  Setup Delivery Connections\n   This is the list of delivery connections\
    \ and their parameters to be\n   configured on the client.  Each delivery connection\
    \ defined by its\n   connection information (Appendix C.2.4) optionally contains\
    \ the\n   following:\n   (a)  Adaptation Method: Selected adaptation method name.\
    \  This shall\n        be one of the methods listed in Appendix C.2.10.\n   (b)\
    \  Adaptation Method Parameters: Depending on the adaptation\n        method,\
    \ one or more of the following parameters shall be\n        provided.\n      \
    \  (1)  Tunnel IP address\n        (2)  Tunnel Port number\n        (3)  Shared\
    \ Secret\n        (4)  MX header optimization: If the adaptation method is\n \
    \            UDP_without_DTLS or UDP_with_DTLS, and convergence is GMA,\n    \
    \         then this flag represents whether or not the checksum field\n      \
    \       and the length field in the IP header of an MX PDU should\n          \
    \   be recalculated by the MX Convergence Layer.  The possible\n             values\
    \ are \"true\" and \"false\".  If it is \"true\", both\n             fields remain\
    \ unchanged; otherwise, both fields should be\n             recalculated.  If\
    \ this field is not present, then the\n             default of \"false\" should\
    \ be considered.\n   The representation of this data type is as follows:\n   \
    \    object {\n          SetupDeliveryConn items <1..*>;\n       } SetupDeliveryConns;\n\
    \   where each \"SetupDeliveryConn\" consists of the following:\n       object\
    \ {\n         [JSONString adaptation_method;]\n         [AdaptationMethodParam\
    \ adaptation_method_param;]\n       } SetupDeliveryConn : ConnectionInfo;\n  \
    \ where AdaptationMethodParam is defined as:\n       object {\n          JSONString\
    \ tunnel_ip_addr;\n          JSONString tunnel_end_port;\n          JSONString\
    \ shared_secret;\n          [JSONBool mx_header_optimization;]\n       } AdaptationMethodParam;\n"
- title: C.2.12.  Init Probe Results
  contents:
  - "C.2.12.  Init Probe Results\n   This data type provides the results of the init\
    \ probe request made by\n   the NCM.  It consists of the following information:\n\
    \   (a)  Lost Probes: Percentage of probes lost.\n   (b)  Probe Delay: Average\
    \ delay of probe message, in microseconds.\n   (c)  Probe Rate: Probe rate achieved,\
    \ in megabits per second.\n   The representation of this data type is as follows:\n\
    \       object {\n          JSONNumber lost_probes_percentage;\n          JSONNumber\
    \ probe_rate_Mbps;\n       } InitProbeResults;\n"
- title: C.2.13.  Active Probe Results
  contents:
  - "C.2.13.  Active Probe Results\n   This data type provides the results of the\
    \ active probe request made\n   by the NCM.  It consists of the following information:\n\
    \   (a)  Average Probe Throughput: Average active probe throughput\n        achieved,\
    \ in megabits per second.\n   The representation of this data type is as follows:\n\
    \       object {\n          JSONNumber avg_tput_last_probe_duration_Mbps;\n  \
    \     } ActiveProbeResults;\n"
- title: C.2.14.  Downlink Delivery
  contents:
  - "C.2.14.  Downlink Delivery\n   This data type represents the list of connections\
    \ that are enabled on\n   the delivery side to be used in the downlink direction.\n\
    \   The representation of this data type is as follows:\n       object {\n   \
    \       JSONNumber connection_id <1..*>;\n       } DLDelivery;\n"
- title: C.2.15.  Uplink Delivery
  contents:
  - "C.2.15.  Uplink Delivery\n   This data type represents the list of connections\
    \ and parameters\n   enabled for the delivery side to be used in the uplink direction.\n\
    \   The uplink delivery consists of multiple uplink delivery entities,\n   where\
    \ each entity consists of a Traffic Flow Template (TFT)\n   (Appendix C.2.16)\
    \ and a list of connection IDs in the uplink, where\n   traffic qualifying for\
    \ such a Traffic Flow Template can be\n   redirected.\n   The representation of\
    \ this data type is as follows:\n       object {\n          ULDeliveryEntity ul_del\
    \ <1..*>;\n       } ULDelivery;\n   Where each uplink delivery entity consists\
    \ of the following data\n   type:\n       object {\n          TrafficFlowTemplate\
    \ ul_tft <1..*>;\n          JSONNumber connection_id <1..*>;\n       } ULDeliveryEntity;\n"
- title: C.2.16.  Traffic Flow Template
  contents:
  - "C.2.16.  Traffic Flow Template\n   The Traffic Flow Template generally follows\
    \ the guidelines specified\n   in [ServDesc3GPP].\n   The Traffic Flow Template\
    \ in MAMS consists of one or more of the\n   following:\n   (a)  Remote Address\
    \ and Mask: IP address and subnet for remote\n        addresses represented in\
    \ Classless Inter-Domain Routing (CIDR)\n        notation.  Default: \"0.0.0.0/0\"\
    .\n   (b)  Local Address and Mask: IP address and subnet for local\n        addresses\
    \ represented in CIDR notation.  Default: \"0.0.0.0/0\"\n   (c)  Protocol Type:\
    \ IP protocol number of the payload being carried\n        by an IP packet (e.g.,\
    \ UDP, TCP).  Default: 255.\n   (d)  Local Port Range: Range of ports for local\
    \ ports for which the\n        Traffic Flow Template is applicable.  Default:\
    \ Start=0,\n        End=65535.\n   (e)  Remote Port Range: Range of ports for\
    \ remote ports for which the\n        Traffic Flow Template is applicable.  Default:\
    \ Start=0,\n        End=65535.\n   (f)  Traffic Class: Represented by Type of\
    \ Service in IPv4 and\n        Traffic Class in IPv6.  Default: 255\n   (g)  Flow\
    \ Label: Flow label for IPv6, applicable only for IPv6\n        protocol type.\
    \  Default: 0.\n   The representation of this data type is as follows:\n     \
    \  object {\n          JSONString remote_addr_mask;\n          JSONString local_addr_mask;\n\
    \          JSONNumber protocol_type;\n          PortRange local_port_range;\n\
    \          PortRange remote_port_range;\n          JSONNumber traffic_class;\n\
    \          JSONNumber flow_label;\n       } TrafficFlowTemplate;\n   Where the\
    \ port range is defined as follows:\n       object {\n          JSONNumber start;\n\
    \          JSONNumber end;\n       } PortRange;\n"
- title: C.2.17.  Measurement Report Configuration
  contents:
  - "C.2.17.  Measurement Report Configuration\n   This data type represents the configuration\
    \ done by the NCM toward\n   the CCM for reporting measurement events.\n   (a)\
    \  Measurement Report Parameter: Parameter that shall be measured\n        and\
    \ reported.  This is dependent on the connection type:\n        (1)  For the connection\
    \ type of \"Wi-Fi\", the allowed measurement\n             type parameters are\
    \ \"WLAN_RSSI\", \"WLAN_LOAD\", \"UL_TPUT\",\n             \"DL_TPUT\", \"EST_UL_TPUT\"\
    , and \"EST_DL_TPUT\".\n        (2)  For the connection type of \"LTE\", the allowed\
    \ measurement\n             type parameters are \"LTE_RSRP\", \"LTE_RSRQ\", \"\
    UL_TPUT\", and\n             \"DL_TPUT\".\n        (3)  For the connection type\
    \ of \"5G_NR\", the allowed measurement\n             type parameters are \"NR_RSRP\"\
    , \"NR_RSRQ\", \"UL_TPUT\", and\n             \"DL_TPUT\".\n   (b)  Threshold:\
    \ High and low threshold for reporting.\n   (c)  Period: Period for reporting,\
    \ in milliseconds.\n   The representation of this data type is as follows:\n \
    \      object {\n          JSONString meas_rep_param;\n          Threshold meas_threshold;\n\
    \          JSONNumber meas_period;\n       } MeasReportConfs;\n   Where \"Threshold\"\
    \ is defined as follows:\n       object {\n          JSONNumber high;\n      \
    \    JSONNumber low;\n       } Threshold;\n"
- title: C.2.18.  Measurement Report
  contents:
  - "C.2.18.  Measurement Report\n   This data type represents the measurements reported\
    \ by the CCM for\n   each access network measured.  This type contains the connection\n\
    \   information, the Delivery Node ID that identifies either the cell\n   (ECGI)\
    \ or the Wi-Fi Access Point ID or MAC address (or equivalent\n   identifier in\
    \ other technologies), and the actual measurement\n   performed by the CCM in\
    \ the last measurement period.\n   The representation of this data type is as\
    \ follows:\n       object {\n          JSONNumber connection_id;\n          JSONString\
    \ connection_type;\n          JSONString delivery_node_id;\n          Measurement\
    \ measurements <1..*>;\n       } MXMeasRep;\n   Where Measurement is defined as\
    \ the key-value pair of the measurement\n   type and value.  The exact measurement\
    \ type parameter reported for a\n   given connection depends on its Connection\
    \ Type.  The measurement\n   type parameters, for each Connection Type, are specified\
    \ in\n   Appendix C.2.17.\n       object {\n          JSONString measurement_type;\n\
    \          JSONNumber measurement_value;\n       } Measurement;\n"
- title: C.3.  Schemas in JSON
  contents:
  - 'C.3.  Schemas in JSON

    '
- title: C.3.1.  MX Base Schema
  contents:
  - "C.3.1.  MX Base Schema\n   {\n     \"$schema\": \"https://json-schema.org/draft-04/schema#\"\
    ,\n     \"definitions\": {\n       \"message_type_def\": {\n         \"enum\"\
    : [\n           \"mx_discover\",\n           \"mx_system_info\",\n           \"\
    mx_capability_req\",\n           \"mx_capability_rsp\",\n           \"mx_capability_ack\"\
    ,\n           \"mx_up_setup_conf_req\",\n           \"mx_up_setup_cnf\",\n   \
    \        \"mx_reconf_req\",\n           \"mx_reconf_rsp\",\n           \"mx_path_est_req\"\
    ,\n           \"mx_path_est_results\",\n           \"mx_traffic_steering_req\"\
    ,\n           \"mx_traffic_steering_rsp\",\n           \"mx_ssid_indication\"\
    ,\n           \"mx_keep_alive_req\",\n           \"mx_keep_alive_rsp\",\n    \
    \       \"mx_measurement_conf\",\n           \"mx_measurement_report\",\n    \
    \       \"mx_session_termination_req\",\n           \"mx_session_termination_rsp\"\
    ,\n           \"mx_app_madp_assoc_req\",\n           \"mx_app_madp_assoc_rsp\"\
    ,\n           \"mx_network_analytics_req\",\n           \"mx_network_analytics_rsp\"\
    \n         ],\n         \"type\": \"string\"\n       },\n       \"sequence_num_def\"\
    : {\n         \"minimum\": 1,\n         \"type\": \"integer\"\n       },\n   \
    \    \"version_def\": {\n         \"type\": \"string\"\n       }\n      },\n \
    \    \"id\": \"https://example.com/mams/mx_base_def.json\"\n   }\n"
- title: C.3.2.  MX Definitions
  contents:
  - "C.3.2.  MX Definitions\n   {\n       \"$schema\": \"https://json-schema.org/draft-04/schema#\"\
    ,\n       \"definitions\": {\n           \"adapt_method\": {\n               \"\
    enum\": [\n                   \"UDP_without_DTLS\",\n                   \"UDP_with_DTLS\"\
    ,\n                   \"IPsec\",\n                   \"Client_NAT\"\n        \
    \       ],\n               \"type\": \"string\"\n           },\n           \"\
    conv_method\": {\n               \"enum\": [\n                   \"GMA\",\n  \
    \                 \"MPTCP_Proxy\",\n                   \"GRE_Aggregation_Proxy\"\
    ,\n                   \"MPQUIC\"\n               ],\n               \"type\":\
    \ \"string\"\n           },\n           \"supported\": {\n               \"type\"\
    : \"boolean\"\n           },\n           \"active\": {\n               \"type\"\
    : \"boolean\"\n           },\n           \"connection_id\": {\n              \
    \ \"type\": \"integer\"\n           },\n           \"feature_name\": {\n     \
    \          \"enum\": [\n                   \"lossless_switching\",\n         \
    \          \"fragmentation\",\n                   \"concatenation\",\n       \
    \            \"uplink_aggregation\",\n                   \"downlink_aggregation\"\
    ,\n                   \"measurement\"\n                   \"probing\"\n      \
    \         ],\n               \"type\": \"string\"\n           },\n           \"\
    connection_type\": {\n               \"enum\": [\n                   \"Wi-Fi\"\
    ,\n                   \"5G_NR\",\n                   \"MulteFire\",\n        \
    \           \"LTE\"\n               ],\n               \"type\": \"string\"\n\
    \           },\n           \"ip_address\": {\n                   \"type\": \"\
    string\"\n           },\n           \"port\": {\n               \"maximum\": 65535,\n\
    \               \"minimum\": 1,\n               \"type\": \"integer\"\n      \
    \     },\n           \"adaptation_method\": {\n               \"allOf\" : [\n\
    \                   { \"$ref\": \"#/definitions/adapt_method\" },\n          \
    \         { \"$ref\": \"#/definitions/supported\" }\n               ]\n      \
    \     },\n           \"connection\": {\n               \"allOf\" : [\n       \
    \            { \"$ref\": \"#/definitions/connection_id\" },\n                \
    \   { \"$ref\": \"#/definitions/connection_type\" }\n               ]\n      \
    \     },\n           \"convergence_method\": {\n               \"allOf\": [\n\
    \                   { \"$ref\": \"#/definitions/conv_method\" },\n           \
    \        { \"$ref\": \"#/definitions/supported\" }\n               ]\n       \
    \    },\n           \"feature_status\": {\n               \"allOf\": [\n     \
    \              { \"$ref\": \"#/definitions/feature_name\" },\n               \
    \    { \"$ref\": \"#/definitions/active\" }\n               ]\n           },\n\
    \           \"ncm_end_point\": {\n               \"allOf\" : [\n             \
    \      { \"$ref\" : \"#/definitions/ip_address\" },\n                   { \"$ref\"\
    \ : \"#/definitions/port\" }\n               ]\n           },\n           \"capability_acknowledgment\"\
    \ : {\n               \"enum\" : [\n                   \"MX_ACCEPT\",\n      \
    \             \"MX_REJECT\"\n               ],\n               \"type\" : \"string\"\
    \n           },\n           \"threshold\" : {\n               \"high\" : {\n \
    \                  \"type\" : \"integer\"\n               },\n               \"\
    low\" : {\n                   \"type\" : \"integer\"\n               },\n    \
    \           \"type\" : \"object\"\n           },\n           \"meas_report_param\"\
    \ : {\n               \"enum\" : [\n                       \"WLAN_RSSI\",\n  \
    \                     \"WLAN_LOAD\",\n                       \"LTE_RSRP\",\n \
    \                      \"LTE_RSRQ\",\n                       \"UL_TPUT\",\n  \
    \                     \"DL_TPUT\",\n                       \"EST_UL_TPUT\",\n\
    \                       \"EST_DL_TPUT\",\n                       \"NR_RSRP\",\n\
    \                       \"NR_RSRQ\"\n               ],\n               \"type\"\
    \ : \"string\"\n           },\n           \"meas_report_conf\" : {\n         \
    \      \"meas_rep_param\" : {\n                   \"$ref\" : \"#definitions/meas_report_param\"\
    \n               },\n               \"meas_threshold\" : {\n                 \
    \  \"$ref\" : \"#definitions/threshold\"\n               },\n               \"\
    meas_period_ms\" : {\n                   \"type\" : \"integer\"\n            \
    \   },\n               \"type\" : \"object\"\n           },\n           \"ssid_types\"\
    \ : {\n               \"enum\" : [\n                   \"ssid\",\n           \
    \        \"bssid\",\n                   \"hessid\"\n               ],\n      \
    \         \"type\" : \"string\"\n           },\n           \"ip_addr_mask\" :\
    \ {\n               \"type\" : \"string\",\n               \"default\" : \"0.0.0.0/0\"\
    \n           },\n           \"port_range\" : {\n               \"start\" : {\n\
    \                   \"type\" : \"integer\",\n                   \"default\" :\
    \ 0\n               },\n               \"end\" : {\n                   \"type\"\
    \ : \"integer\",\n                   \"default\" : 65535\n               }\n \
    \          },\n           \"traffic_flow_template\" : {\n               \"remote_addr_mask\"\
    \ : {\n                   \"$ref\" : \"#definitions/ip_addr_mask\" },\n      \
    \         \"local_addr_mask\" : {\n                   \"$ref\" : \"#definitions/ip_addr_mask\"\
    \ },\n               \"protocol_type\" : {\n                   \"type\" : \"integer\"\
    ,\n                   \"minimum\" : 0,\n                   \"maximum\" : 255\n\
    \               },\n               \"local_port_range\" : {\n                \
    \   \"$ref\" : \"#definitions/port_range\" },\n               \"remote_port_range\"\
    \ : {\n                   \"$ref\" : \"#definitions/port_range\" },\n        \
    \       \"traffic_class\" : {\n                   \"type\" : \"integer\",\n  \
    \                 \"default\" : 255\n               },\n               \"flow_label\"\
    \ : {\n                   \"type\" : \"integer\",\n                   \"default\"\
    \ : 0\n               }\n           },\n           \"delivery_node_id\" : {\n\
    \               \"type\" : \"string\"\n           },\n           \"unique_session_id\"\
    \ : {\n               \"type\" : \"object\",\n               \"ncm_id\" : {\n\
    \                 \"type\" : \"integer\"\n               },\n               \"\
    session_id\" : {\n                 \"type\" : \"integer\"\n               }\n\
    \           },\n           \"keep_alive_reason\" : {\n               \"enum\"\
    \ : [\n                   \"Timeout\",\n                   \"Handover\"\n    \
    \           ],\n               \"type\" : \"string\"\n           },\n        \
    \   \"connection_status\" : {\n               \"enum\" : [\n                 \
    \  \"disabled\",\n                   \"enabled\",\n                   \"connected\"\
    \n               ],\n               \"type\" : \"string\",\n               \"\
    default\" : \"connected\"\n           },\n           \"adaptation_param\" : {\n\
    \              \"udp_adapt_port\" : {\n                 \"type\" : \"integer\"\
    \n              }\n           },\n           \"probe_param\" : {\n           \
    \    \"probe_port\" : {\n                   \"type\" : \"integer\"\n         \
    \      },\n               \"anchor_conn_id\" : {\n                   \"type\"\
    \ : \"integer\"\n               },\n               \"mx_configuration_id\" : {\n\
    \                   \"type\" : \"integer\"\n               }\n       },\n    \
    \       \"client_param\" : {\n               \"connection_id\" : {\n         \
    \          \"type\" : \"integer\"\n               },\n               \"adapt_param\"\
    \ : {\n                   \"type\" : {\"$ref\" : \"#definitions/adaptation_param\"\
    \ }\n               }\n           }\n       },\n               \"adapt_param\"\
    : {\n               \"tunnel_ip_addr\": {\n                   \"type\": \"string\"\
    \n               },\n               \"tunnel_end_port\": {\n                 \
    \  \"type\": \"integer\"\n               },\n               \"shared_secret\"\
    : {\n                   \"type\": \"string\"\n               },\n            \
    \   \"mx_header_optimization\": {\n                   \"type\": \"boolean\",\n\
    \                   \"default\": false\n               }\n           },\n    \
    \       \"delivery_connection\": {\n               \"connection_id\": {\n    \
    \               \"$ref\": \"#definitions/connection_id\"\n               },\n\
    \               \"connection_type\": {\n                   \"$ref\": \"#definitions/connection_type\"\
    \n               },\n               \"adaptation_method\": {\n               \
    \    \"$ref\": \"#definitions/adapt_method\"\n               },\n            \
    \   \"adaptation_method_param\": {\n                   \"$ref\": \"#definitions/adapt_param\"\
    \n               }\n           },\n           \"app_madp_assoc\": {\n        \
    \       \"anchor_conn_id\" : {\n                   \"type\" : \"integer\"\n  \
    \             },\n               \"mx_configuration_id\" : {\n               \
    \    \"type\" : \"integer\"\n               }\n               \"ul_tft_list\"\
    : {\n                   \"items\": {\n                       \"$ref\": \"#definitions/traffic_flow_template\"\
    \n                   },\n                   \"type\": \"array\"\n            \
    \   },\n               \"dl_tft_list\": {\n                   \"items\": {\n \
    \                      \"$ref\": \"#definitions/traffic_flow_template\"\n    \
    \               },\n                   \"type\": \"array\"\n               }\n\
    \           },\n           \"predict_param_name\": {\n               \"enum\"\
    : [\n                   \"validity_time\",\n                   \"bandwidth\",\n\
    \                   \"jitter\",\n                   \"latency\",\n           \
    \        \"signal_quality\"\n               ],\n               \"type\": \"string\"\
    \n           },\n           \"predict_add_param_name\": {\n               \"enum\"\
    : [\n                   \"WLAN_RSSI\",\n                   \"WLAN_LOAD\",\n  \
    \                 \"LTE_RSRP\",\n                   \"LTE_RSRQ\",\n          \
    \         \"NR_RSRP\",\n                   \"NR_RSRQ\"\n               ],\n  \
    \             \"type\": \"string\"\n           },\n       \"id\": \"https://example.com/mams/definitions.json\"\
    \n   }\n"
- title: C.3.3.  MX Discover
  contents:
  - "C.3.3.  MX Discover\n   {\n     \"$schema\": \"https://json-schema.org/draft-04/schema#\"\
    ,\n     \"additionalProperties\": false,\n     \"id\": \"https://example.com/mams/mx_discover.json\"\
    ,\n     \"properties\": {\n       \"message_type\": {\"$ref\": \"mx_base_def.json#/message_type_def\"\
    },\n       \"sequence_num\": {\"$ref\": \"mx_base_def.json#/sequence_num_def\"\
    },\n       \"version\": {\"$ref\": \"mx_base_def.json#/version_def\"}\n     },\n\
    \     \"type\": \"object\"\n   }\n"
- title: C.3.4.  MX System Info
  contents:
  - "C.3.4.  MX System Info\n   {\n     \"$schema\": \"https://json-schema.org/draft-04/schema#\"\
    ,\n     \"additionalProperties\": false,\n     \"id\": \"https://example.com/mams/mx_system_info.json\"\
    ,\n     \"properties\": {\n       \"message_type\": {\"$ref\": \"mx_base_def.json#/message_type_def\"\
    },\n       \"sequence_num\": {\"$ref\": \"mx_base_def.json#/sequence_num_def\"\
    },\n       \"version\": {\"$ref\": \"mx_base_def.json#/version_def\"},\n     \
    \  \"ncm_connections\": {\n         \"type\": \"array\",\n         \"items\":\
    \ [\n           {\"$ref\": \"definitions.json#/connection\"},\n           {\"\
    $ref\": \"definitions.json#/ncm_end_point\"}\n         ]\n       }\n     },\n\
    \     \"type\": \"object\"\n   }\n"
- title: C.3.5.  MX Capability Request
  contents:
  - "C.3.5.  MX Capability Request\n   {\n     \"$schema\": \"https://json-schema.org/draft-04/schema#\"\
    ,\n     \"additionalProperties\": false,\n     \"id\": \"https://example.com/mams/mx_capability_req.json\"\
    ,\n     \"properties\": {\n       \"message_type\": {\"$ref\": \"mx_base_def.json#/message_type_def\"\
    },\n       \"sequence_num\": {\"$ref\": \"mx_base_def.json#/sequence_num_def\"\
    },\n       \"version\": {\"$ref\": \"mx_base_def.json#/version_def\"},\n     \
    \  \"adaptation_methods\": {\n         \"items\": {\"$ref\": \"definitions.json#/adaptation_method\"\
    },\n         \"type\": \"array\"\n       },\n       \"anchor_connections\": {\n\
    \         \"items\": {\"$ref\": \"definitions.json#/connection\"},\n         \"\
    type\": \"array\"\n       },\n       \"convergence_methods\": {\n         \"items\"\
    : {\"$ref\": \"definitions.json#/convergence_method\"},\n         \"type\": \"\
    array\"\n       },\n       \"delivery_connections\": {\n         \"items\": {\"\
    $ref\": \"definitions.json#/connection\"},\n         \"type\": \"array\"\n   \
    \    },\n       \"feature_active\": {\n         \"items\": {\"$ref\": \"definitions.json#/feature_status\"\
    },\n         \"type\": \"array\"\n       },\n       \"num_anchor_connections\"\
    : {\n         \"type\": \"integer\"\n       },\n       \"num_delivery_connections\"\
    : {\n         \"type\": \"integer\"\n       }\n     },\n     \"type\": \"object\"\
    \n   }\n"
- title: C.3.6.  MX Capability Response
  contents:
  - "C.3.6.  MX Capability Response\n   {\n     \"$schema\": \"https://json-schema.org/draft-04/schema#\"\
    ,\n     \"additionalProperties\": false,\n     \"id\": \"https://example.com/mams/mx_capability_rsp.json\"\
    ,\n     \"properties\": {\n       \"message_type\": {\"$ref\": \"mx_base_def.json#/message_type_def\"\
    },\n       \"sequence_num\": {\"$ref\": \"mx_base_def.json#/sequence_num_def\"\
    },\n       \"version\": {\"$ref\": \"mx_base_def.json#/version_def\"},\n     \
    \  \"adaptation_methods\": {\n         \"items\": {\"$ref\": \"definitions.json#/adaptation_method\"\
    },\n         \"type\": \"array\"\n       },\n       \"anchor_connections\": {\n\
    \         \"items\": {\"$ref\": \"definitions.json#/connection\"},\n         \"\
    type\": \"array\"\n       },\n       \"convergence_methods\": {\n         \"items\"\
    : {\"$ref\": \"definitions.json#/convergence_method\"},\n         \"type\": \"\
    array\"\n       },\n       \"delivery_connections\": {\n         \"items\": {\"\
    $ref\": \"definitions.json#/connection\"},\n         \"type\": \"array\"\n   \
    \    },\n       \"feature_active\": {\n         \"items\": {\"$ref\": \"definitions.json#/feature_status\"\
    },\n         \"type\": \"array\"\n       },\n       \"num_anchor_connections\"\
    : {\n         \"type\": \"integer\"\n       },\n       \"num_delivery_connections\"\
    : {\n         \"type\": \"integer\"\n       },\n       \"unique_session_id\":\
    \ {\n         \"$ref\": \"definitions.json#/unique_session_id\"\n       }\n  \
    \   },\n     \"type\": \"object\"\n   }\n"
- title: C.3.7.  MX Capability Acknowledge
  contents:
  - "C.3.7.  MX Capability Acknowledge\n   {\n     \"$schema\": \"https://json-schema.org/draft-04/schema#\"\
    ,\n     \"definitions\": {},\n     \"id\": \"https://example.com/mams/mx_capability_ack.json\"\
    ,\n     \"properties\": {\n        \"message_type\": {\"$ref\": \"mx_base_def.json#/message_type_def\"\
    },\n        \"sequence_num\": {\"$ref\": \"mx_base_def.json#/sequence_num_def\"\
    },\n        \"version\": {\"$ref\": \"mx_base_def.json#/version_def\"},\n    \
    \    \"unique_session_id\": {\n          \"$ref\": \"definitions.json#/unique_session_id\"\
    },\n        \"capability_ack\": {\n          \"$ref\": \"definitions.json#/capability_acknowledgment\"\
    }\n     },\n     \"type\": \"object\"\n   }\n"
- title: C.3.8.  MX Reconfiguration Request
  contents:
  - "C.3.8.  MX Reconfiguration Request\n   {\n     \"$schema\": \"https://json-schema.org/draft-04/schema#\"\
    ,\n     \"definitions\": {},\n     \"id\": \"https://example.com/mams/mx_reconf_req.json\"\
    ,\n     \"properties\": {\n       \"message_type\": {\"$ref\": \"mx_base_def.json#/message_type_def\"\
    },\n       \"sequence_num\": {\"$ref\": \"mx_base_def.json#/sequence_num_def\"\
    },\n       \"version\": {\"$ref\": \"mx_base_def.json#/version_def\"},\n     \
    \  \"unique_session_id\": {\n         \"$ref\": \"definitions.json#/unique_session_id\"\
    \n       },\n       \"connection_id\": {\"$ref\": \"definitions.json#/connection_id\"\
    },\n       \"ip_address\": {\"$ref\": \"definitions.json#/ip_address\"},\n   \
    \    \"mtu_size\": {\n         \"maximum\": 65535,\n         \"minimum\": 1,\n\
    \         \"type\": \"integer\"\n       },\n       \"ssid\": {\n         \"type\"\
    : \"string\"\n       },\n       \"reconf_action\": {\n         \"enum\": [\n \
    \          \"release\",\n           \"setup\",\n           \"update\"\n      \
    \   ],\n         \"id\": \"/properties/reconf_action\",\n         \"type\": \"\
    string\"\n       },\n       \"connection_status\": {\n          \"$ref\": \"definitions.json#/connection_status\"\
    },\n       \"delivery_node_id\": {\n          \"$ref\": \"definitions.json#/delivery_node_id\"\
    }\n     },\n     \"type\": \"object\"\n   }\n"
- title: C.3.9.  MX Reconfiguration Response
  contents:
  - "C.3.9.  MX Reconfiguration Response\n   {\n     \"$schema\": \"https://json-schema.org/draft-04/schema#\"\
    ,\n     \"definitions\": {},\n     \"id\": \"https://example.com/mams/mx_reconf_rsp.json\"\
    ,\n     \"properties\": {\n       \"message_type\": {\"$ref\": \"mx_base_def.json#/message_type_def\"\
    },\n       \"sequence_num\": {\"$ref\": \"mx_base_def.json#/sequence_num_def\"\
    },\n       \"version\": {\"$ref\": \"mx_base_def.json#/version_def\"}\n     },\n\
    \     \"type\": \"object\"\n   }\n"
- title: C.3.10.  MX UP Setup Configuration Request
  contents:
  - "C.3.10.  MX UP Setup Configuration Request\n   {\n     \"$schema\": \"https://json-schema.org/draft-04/schema#\"\
    ,\n     \"additionalProperties\": false,\n     \"definitions\": {\n       \"convergence_configuration\"\
    : {\n         \"mx_configuration_id\": {\"type\": \"integer\"},\n         \"convergence_method\"\
    : {\n           \"$ref\": \"definitions.json#/conv_method\"},\n         \"convergence_method_params\"\
    : {\n           \"properties\": {\n             \"proxy_ip\": {\"$ref\": \"definitions.json#/ip_address\"\
    },\n             \"proxy_port\": {\"$ref\": \"definitions.json#/port\"},\n   \
    \          \"client_key\": {\"$ref\": \"definitions.json#/client_key\"}\n    \
    \       },\n           \"type\": \"object\"\n         },\n         \"num_delivery_connections\"\
    : {\n           \"type\": \"integer\"\n         },\n         \"delivery_connections\"\
    : {\n           \"items\": {\"$ref\": \"definitions.json#/delivery_connection\"\
    },\n           \"type\": \"array\"\n         }\n       }\n     },\n     \"id\"\
    : \"https://example.com/mams/mx_up_setup_conf_req.json\",\n     \"properties\"\
    : {\n       \"message_type\": {\"$ref\": \"mx_base_def.json#/message_type_def\"\
    },\n       \"sequence_num\": {\"$ref\": \"mx_base_def.json#/sequence_num_def\"\
    },\n       \"version\": {\"$ref\": \"mx_base_def.json#/version_def\"},\n     \
    \  \"num_anchor_connections\": {\n         \"type\": \"integer\"\n       },\n\
    \       \"anchor_connections\": {\n         \"items\": {\n           \"properties\"\
    : {\n             \"connection_id\": {\n               \"$ref\": \"definitions.json#/connection_id\"\
    },\n             \"connection_type\": {\n               \"$ref\": \"definitions.json#/connection_type\"\
    },\n             \"num_active_mx_conf\": {\"type\": \"integer\"},\n          \
    \   \"convergence_config\": {\n               \"items\": {\n                 \"\
    $ref\": \"definitions/convergence_configuration\"},\n               \"type\":\
    \ \"array\"\n             }\n           },\n           \"type\": \"object\"\n\
    \         },\n         \"type\": \"array\"\n       }\n     },\n     \"type\":\
    \ \"object\"\n   }\n"
- title: C.3.11.  MX UP Setup Confirmation
  contents:
  - "C.3.11.  MX UP Setup Confirmation\n   {\n     \"$schema\": \"https://json-schema.org/draft-04/schema#\"\
    ,\n     \"definitions\": {},\n     \"id\": \"https://example.com/mams/mx_up_setup_cnf.json\"\
    ,\n     \"properties\": {\n       \"message_type\": {\"$ref\": \"mx_base_def.json#/message_type_def\"\
    },\n       \"sequence_num\": {\"$ref\": \"mx_base_def.json#/sequence_num_def\"\
    },\n       \"version\": {\"$ref\": \"mx_base_def.json#/version_def\"},\n     \
    \  \"unique_session_id\": {\n         \"$ref\": \"definitions.json#/unique_session_id\"\
    },\n       \"probe_param\": {\"$ref\": \"definitions.json#/probe_param\"},\n \
    \      \"num_delivery_conn\": {\n         \"type\": \"integer\"\n       },\n \
    \      \"client_params\": {\n         \"type\": \"array\",\n         \"items\"\
    : [\n           {\"$ref\": \"definitions.json#/client_param\"}\n         ]\n \
    \      }\n     },\n     \"type\": \"object\"\n   }\n"
- title: C.3.12.  MX Traffic Steering Request
  contents:
  - "C.3.12.  MX Traffic Steering Request\n   {\n     \"$schema\": \"https://json-schema.org/draft-04/schema#\"\
    ,\n     \"definitions\": {\n       \"conn_list\": {\n         \"items\": {\"$ref\"\
    : \"definitions.json#/connection_id\"},\n         \"type\": \"array\"\n      \
    \ },\n       \"ul_delivery\": {\n         \"ul_tft\": {\n           \"$ref\":\
    \ \"definitions.json#/traffic_flow_template\"},\n         \"connection_list\"\
    : {\"$ref\": \"#definitions/conn_list\"}\n       }\n     },\n     \"id\": \"https://example.com/mams/mx_traffic_steering_req.json\"\
    ,\n     \"properties\": {\n       \"message_type\": {\"$ref\": \"mx_base_def.json#/message_type_def\"\
    },\n       \"sequence_num\": {\"$ref\": \"mx_base_def.json#/sequence_num_def\"\
    },\n       \"version\": {\"$ref\": \"mx_base_def.json#/version_def\"},\n     \
    \  \"connection_id\": {\"$ref\": \"definitions.json#/connection_id\"},\n     \
    \  \"mx_configuration_id\": {\"type\": \"integer\"},\n       \"downlink_delivery\"\
    : {\n         \"items\": {\"$ref\": \"definitions.json#/connection_id\"},\n  \
    \       \"type\": \"array\"\n       },\n       \"feature_active\": {\n       \
    \  \"items\": {\"$ref\": \"definitions.json#/feature_status\"},\n         \"type\"\
    : \"array\"\n       },\n       \"default_uplink_delivery\": {\n         \"type\"\
    : \"integer\"\n       },\n       \"uplink_delivery\": {\n         \"items\": {\"\
    $ref\": \"#definitions/ul_delivery\"},\n         \"type\": \"array\"\n       }\n\
    \     },\n     \"type\": \"object\"\n   }\n"
- title: C.3.13.  MX Traffic Steering Response
  contents:
  - "C.3.13.  MX Traffic Steering Response\n   {\n     \"$schema\": \"https://json-schema.org/draft-04/schema#\"\
    ,\n     \"definitions\": {},\n     \"id\": \"https://example.com/example.json\"\
    ,\n     \"properties\": {\n       \"message_type\": {\"$ref\": \"mx_base_def.json#/message_type_def\"\
    },\n       \"sequence_num\": {\"$ref\": \"mx_base_def.json#/sequence_num_def\"\
    },\n       \"version\": {\"$ref\": \"mx_base_def.json#/version_def\"},\n     \
    \  \"unique_session_id\": {\n         \"$ref\": \"definitions.json#/unique_session_id\"\
    },\n       \"feature_active\": {\n         \"items\": {\"$ref\": \"definitions.json#/feature_status\"\
    },\n         \"type\": \"array\"\n       }\n     },\n     \"type\": \"object\"\
    \n   }\n"
- title: C.3.14.  MX Application MADP Association Request
  contents:
  - "C.3.14.  MX Application MADP Association Request\n   {\n     \"$schema\": \"\
    https://json-schema.org/draft-04/schema#\",\n     \"definitions\": {},\n     \"\
    id\": \"https://example.com/example.json\",\n     \"properties\": {\n       \"\
    message_type\": {\"$ref\": \"mx_base_def.json#/message_type_def\"},\n       \"\
    sequence_num\": {\"$ref\": \"mx_base_def.json#/sequence_num_def\"},\n       \"\
    version\": {\"$ref\": \"mx_base_def.json#/version_def\"},\n       \"unique_session_id\"\
    : {\n         \"$ref\": \"definitions.json#/unique_session_id\"},\n       \"app_madp_assoc_list\"\
    : {\n         \"items\": {\n           \"$ref\": \"definitions.json#/app_madp_assoc\"\
    \n          },\n         \"type\": \"array\"\n       }\n     },\n     \"type\"\
    : \"object\"\n   }\n"
- title: C.3.15.  MX Application MADP Association Response
  contents:
  - "C.3.15.  MX Application MADP Association Response\n   {\n     \"$schema\": \"\
    https://json-schema.org/draft-04/schema#\",\n     \"definitions\": {},\n     \"\
    id\": \"https://example.com/example.json\",\n     \"properties\": {\n       \"\
    message_type\": {\"$ref\": \"mx_base_def.json#/message_type_def\"},\n       \"\
    sequence_num\": {\"$ref\": \"mx_base_def.json#/sequence_num_def\"},\n       \"\
    version\": {\"$ref\": \"mx_base_def.json#/version_def\"},\n       \"unique_session_id\"\
    : {\n         \"$ref\": \"definitions.json#/unique_session_id\"},\n       \"is_success\"\
    : {\n         \"type\": \"boolean\"\n       }\n     },\n     \"type\": \"object\"\
    \n   }\n"
- title: C.3.16.  MX Path Estimation Request
  contents:
  - "C.3.16.  MX Path Estimation Request\n   {\n     \"$schema\": \"https://json-schema.org/draft-04/schema#\"\
    ,\n     \"definitions\": {},\n     \"id\": \"https://example.com/mams/mx_path_est_req.json\"\
    ,\n     \"properties\": {\n       \"message_type\": {\"$ref\": \"mx_base_def.json#/message_type_def\"\
    },\n       \"sequence_num\": {\"$ref\": \"mx_base_def.json#/sequence_num_def\"\
    },\n       \"version\": {\"$ref\": \"mx_base_def.json#/version_def\"},\n     \
    \  \"active_probe_ack_req\": {\n         \"enum\": [\n           \"no\",\n   \
    \        \"yes\"\n         ],\n         \"type\": \"string\"\n       },\n    \
    \   \"active_probe_freq_ms\": {\n         \"maximum\": 10000,\n         \"minimum\"\
    : 100,\n         \"type\": \"integer\"\n       },\n       \"active_probe_size_bytes\"\
    : {\n         \"maximum\": 1500,\n         \"minimum\": 100,\n         \"type\"\
    : \"integer\"\n       },\n       \"active_probe_duration_sec\": {\n         \"\
    maximum\": 100,\n         \"minimum\": 10,\n         \"type\":  \"integer\"\n\
    \           },\n       \"connection_id\": {\"$ref\": \"definitions#/connection_id\"\
    },\n       \"init_probe_ack_req\": {\n         \"enum\": [\n           \"no\"\
    ,\n           \"yes\"\n         ],\n         \"type\": \"string\"\n       },\n\
    \       \"init_probe_size_bytes\": {\n         \"maximum\": 1500,\n         \"\
    minimum\": 100,\n         \"type\": \"integer\"\n       },\n       \"init_probe_test_duration_ms\"\
    : {\n         \"maximum\": 10000,\n         \"minimum\": 100,\n         \"type\"\
    : \"integer\"\n       },\n       \"init_probe_test_rate_Mbps\": {\n         \"\
    maximum\": 100,\n         \"minimum\": 1,\n         \"type\": \"integer\"\n  \
    \     }\n     },\n     \"type\": \"object\"\n   }\n"
- title: C.3.17.  MX Path Estimation Results
  contents:
  - "C.3.17.  MX Path Estimation Results\n   {\n     \"$schema\": \"https://json-schema.org/draft-04/schema#\"\
    ,\n     \"definitions\": {},\n     \"id\": \"https://example.com/mams/mx_path_est_results.json\"\
    ,\n     \"properties\": {\n       \"message_type\": {\"$ref\": \"mx_base_def.json#/message_type_def\"\
    },\n       \"sequence_num\": {\"$ref\": \"mx_base_def.json#/sequence_num_def\"\
    },\n       \"version\": {\"$ref\": \"mx_base_def.json#/version_def\"},\n     \
    \  \"unique_session_id\": {\n                 \"$ref\": \"definitions.json#/unique_session_id\"\
    },\n       \"active_probe_results\": {\n         \"properties\": {\n         \
    \  \"avg_tput_last_probe_duration_Mbps\": {\n             \"maximum\":100,\n \
    \            \"minimum\": 1,\n             \"type\": \"number\"\n           }\n\
    \         },\n         \"type\": \"object\"\n       },\n       \"connection_id\"\
    : {\"$ref\": \"definitions.json#/connection_id\"},\n       \"init_probe_results\"\
    : {\n         \"properties\": {\n           \"lost_probes_percentage\": {\n  \
    \           \"maximum\": 100,\n             \"minimum\": 1,\n             \"type\"\
    : \"integer\"\n           },\n          \"probe_rate_Mbps\": {\n             \"\
    maximum\": 100,\n             \"minimum\": 1,\n             \"type\": \"number\"\
    \n           }\n         },\n         \"type\": \"object\"\n       }\n     },\n\
    \     \"type\": \"object\"\n   }\n"
- title: C.3.18.  MX SSID Indication
  contents:
  - "C.3.18.  MX SSID Indication\n   {\n     \"$schema\": \"https://json-schema.org/draft-04/schema#\"\
    ,\n     \"definitions\": {},\n     \"id\": \"https://example.com/mams/mx_ssid_indication.json\"\
    ,\n     \"properties\": {\n       \"message_type\": {\"$ref\": \"mx_base_def.json#/message_type_def\"\
    },\n       \"sequence_num\": {\"$ref\": \"mx_base_def.json#/sequence_num_def\"\
    },\n       \"version\": {\"$ref\": \"mx_base_def.json#/version_def\"},\n     \
    \  \"ssid_list\": {\n         \"items\": {\n           \"properties\": {\n   \
    \          \"ssid_type\": {\n               \"$ref\": \"definitions.json#/ssid_types\"\
    },\n             \"ssid_id\": {\n               \"type\": \"integer\"\n      \
    \         }\n             }\n         },\n         \"type\": \"array\"\n     \
    \  }\n     },\n     \"type\": \"object\"\n   }\n"
- title: C.3.19.  MX Measurement Configuration
  contents:
  - "C.3.19.  MX Measurement Configuration\n   {\n     \"$schema\": \"https://json-schema.org/draft-04/schema#\"\
    ,\n     \"additionalProperties\": false,\n     \"definitions\": {\n       \"meas_conf\"\
    : {\n         \"connection_id\" : {\n           \"$ref\": \"definitions.json#/connection_id\"\
    },\n         \"connection_type\": {\n           \"$ref\": \"definitions.json#/connection_type\"\
    },\n         \"meas_rep_conf\": {\n           \"items\": {\n             \"$ref\"\
    : \"definitions.json#/meas_report_conf\"},\n           \"type\": \"array\"\n \
    \        }\n       }\n     },\n     \"id\": \"https://example.com/mams/mx_measurement_conf.json\"\
    ,\n     \"properties\": {\n       \"message_type\": {\"$ref\": \"mx_base_def.json#/message_type_def\"\
    },\n       \"sequence_num\": {\"$ref\": \"mx_base_def.json#/sequence_num_def\"\
    },\n       \"version\": {\"$ref\": \"mx_base_def.json#/version_def\"},\n     \
    \  \"measurement_configuration\": {\n         \"items\": {\"$ref\": \"#definitions/meas_conf\"\
    },\n         \"type\": \"array\"\n       }\n     },\n     \"type\": \"object\"\
    \n   }\n"
- title: C.3.20.  MX Measurement Report
  contents:
  - "C.3.20.  MX Measurement Report\n   {\n     \"$schema\": \"https://json-schema.org/draft-04/schema#\"\
    ,\n     \"definitions\": {},\n     \"id\": \"https://example.com/mams/mx_measurement_report.json\"\
    ,\n     \"properties\": {\n       \"message_type\": {\"$ref\": \"mx_base_def.json#/message_type_def\"\
    },\n       \"sequence_num\": {\"$ref\": \"mx_base_def.json#/sequence_num_def\"\
    },\n       \"version\": {\"$ref\": \"mx_base_def.json#/version_def\"},\n     \
    \  \"unique_session_id\": {\n         \"$ref\": \"definitions.json#/unique_session_id\"\
    },\n       \"measurement_reports\": {\n         \"items\": {\n           \"properties\"\
    : {\n             \"connection_id\": {\n               \"$ref\": \"definitions.json#/connection_id\"\
    },\n             \"connection_type\": {\n               \"$ref\": \"definitions.json#/connection_type\"\
    },\n             \"delivery_node_id\": {\n               \"$ref\": \"definitions.json#/delivery_node_id\"\
    },\n             \"measurements\": {\n               \"items\": {\n          \
    \       \"properties\": {\n                   \"measurement_type\": {\n      \
    \               \"$ref\": \"definitions.json#/meas_report_param\"},\n        \
    \           \"measurement_value\": {\n                     \"type\": \"integer\"\
    \n                   }\n                 },\n                 \"type\": \"object\"\
    \n               },\n               \"type\": \"array\"\n             }\n    \
    \       },\n           \"type\": \"object\"\n         },\n         \"type\": \"\
    array\"\n       }\n     },\n     \"type\": \"object\"\n   }\n"
- title: C.3.21.  MX Keep-Alive Request
  contents:
  - "C.3.21.  MX Keep-Alive Request\n   {\n     \"$schema\": \"https://json-schema.org/draft-04/schema#\"\
    ,\n     \"additionalProperties\": false,\n     \"id\": \"https://example.com/mams/mx_keep_alive_req.json\"\
    ,\n     \"properties\": {\n       \"message_type\": {\"$ref\": \"mx_base_def.json#/message_type_def\"\
    },\n       \"sequence_num\": {\"$ref\": \"mx_base_def.json#/sequence_num_def\"\
    },\n       \"version\": {\"$ref\": \"mx_base_def.json#/version_def\"},\n     \
    \  \"keep_alive_reason\": {\n         \"$ref\": \"definitions.json#/keep_alive_reason\"\
    },\n       \"unique_session_id\": {\n         \"$ref\": \"definitions.json#/unique_session_id\"\
    },\n       \"connection_id\": {\n         \"$ref\": \"definitions.json#/connection_id\"\
    },\n       \"delivery_node_id\": {\n         \"$ref\": \"definitions.json#/connection_id\"\
    }\n     },\n     \"type\": \"object\"\n   }\n"
- title: C.3.22.  MX Keep-Alive Response
  contents:
  - "C.3.22.  MX Keep-Alive Response\n   {\n     \"$schema\": \"https://json-schema.org/draft-04/schema#\"\
    ,\n     \"additionalProperties\": false,\n     \"id\": \"https://example.com/mams/mx_keep_alive_rsp.json\"\
    ,\n     \"properties\": {\n       \"message_type\": {\"$ref\": \"mx_base_def.json#/message_type_def\"\
    },\n       \"sequence_num\": {\"$ref\": \"mx_base_def.json#/sequence_num_def\"\
    },\n       \"version\": {\"$ref\": \"mx_base_def.json#/version_def\"},\n     \
    \  \"unique_session_id\": {\n         \"$ref\": \"definitions.json#/unique_session_id\"\
    }\n     },\n     \"type\": \"object\"\n   }\n"
- title: C.3.23.  MX Session Termination Request
  contents:
  - "C.3.23.  MX Session Termination Request\n   {\n     \"$schema\": \"https://json-schema.org/draft-04/schema#\"\
    ,\n     \"additionalProperties\": false,\n     \"id\": \"https://example.com/mams/mx_keep_alive_req.json\"\
    ,\n     \"properties\": {\n       \"message_type\": {\"$ref\": \"mx_base_def.json#/message_type_def\"\
    },\n       \"sequence_num\": {\"$ref\": \"mx_base_def.json#/sequence_num_def\"\
    },\n       \"version\": {\"$ref\": \"mx_base_def.json#/version_def\"},\n     \
    \  \"unique_session_id\": {\n         \"$ref\": \"definitions.json#/unique_session_id\"\
    },\n       \"reason\": {\n         \"enum\": [\n           \"MX_NORMAL_RELEASE\"\
    ,\n           \"MX_NO_RESPONSE\",\n           \"INTERNAL_ERROR\"\n         ],\n\
    \         \"type\": \"string\"\n       }\n     },\n     \"type\": \"object\"\n\
    \   }\n"
- title: C.3.24.  MX Session Termination Response
  contents:
  - "C.3.24.  MX Session Termination Response\n   {\n     \"$schema\": \"https://json-schema.org/draft-04/schema#\"\
    ,\n     \"additionalProperties\": false,\n     \"id\": \"https://example.com/mams/mx_session_termination_rsp.json\"\
    ,\n     \"properties\": {\n       \"message_type\": {\"$ref\": \"mx_base_def.json#/message_type_def\"\
    },\n       \"sequence_num\": {\"$ref\": \"mx_base_def.json#/sequence_num_def\"\
    },\n       \"version\": {\"$ref\": \"mx_base_def.json#/version_def\"},\n     \
    \  \"unique_session_id\": {\n         \"$ref\": \"definitions.json#/unique_session_id\"\
    }\n     },\n     \"type\": \"object\"\n   }\n"
- title: C.3.25.  MX Network Analytics Request
  contents:
  - "C.3.25.  MX Network Analytics Request\n   {\n     \"$schema\": \"https://json-schema.org/draft-04/schema#\"\
    ,\n     \"additionalProperties\": false,\n     \"id\": \"https://example.com/mams/mx_network_analytics_req.json\"\
    ,\n     \"properties\": {\n       \"message_type\": {\"$ref\": \"mx_base_def.json#/message_type_def\"\
    },\n       \"sequence_num\": {\"$ref\": \"mx_base_def.json#/sequence_num_def\"\
    },\n       \"version\": {\"$ref\": \"mx_base_def.json#/version_def\"},\n     \
    \  \"unique_session_id\": {\n         \"$ref\": \"definitions.json#/unique_session_id\"\
    },\n       \"params\": {\n         \"items\": {\n           \"$ref\": \"definitions.json#/predict_param_name\"\
    },\n         \"type\": \"array\"\n       }\n     },\n     \"type\": \"object\"\
    \n   }\n"
- title: C.3.26.  MX Network Analytics Response
  contents:
  - "C.3.26.  MX Network Analytics Response\n   {\n     \"$schema\": \"https://json-schema.org/draft-04/schema#\"\
    ,\n     \"additionalProperties\": false,\n     \"definitions\": {\n       \"ParamPredictions\"\
    : {\n         \"param_name\": {\n           \"$ref\": \"definitions.json#/predict_param_name\"\
    },\n         \"additional_param\": {\n           \"$ref\": \"definitions.json#/predict_add_param_name\"\
    },\n         \"prediction\": {\"type\": \"integer\"},\n         \"likelihood\"\
    : {\"type\": \"integer\"},\n         \"validity_time\": {\"type\": \"integer\"\
    }\n       },\n       \"MXAnalyticsList\": {\n         \"connection_id\": {\n \
    \          \"$ref\": \"definitions.json#/connection_id\"},\n         \"connection_type\"\
    : {\n           \"$ref\": \"definitions.json#/connection_type\"},\n         \"\
    predictions\": {\n           \"items\": {\n             \"$ref\": \"#definitions/ParamPredictions\"\
    },\n             \"type\": \"array\"\n         }\n       }\n     },\n     \"id\"\
    : \"https://example.com/mams/mx_network_analytics_rsp.json\",\n     \"properties\"\
    : {\n       \"message_type\": {\"$ref\": \"mx_base_def.json#/message_type_def\"\
    },\n       \"sequence_num\": {\"$ref\": \"mx_base_def.json#/sequence_num_def\"\
    },\n       \"version\": {\"$ref\": \"mx_base_def.json#/version_def\"},\n     \
    \  \"param_list\": {\n         \"items\": {\n           \"$ref\": \"#definitions/MXAnalyticsList\"\
    },\n           \"type\": \"array\"}\n     },\n     \"type\": \"object\"\n   }\n"
- title: C.4.  Examples in JSON
  contents:
  - 'C.4.  Examples in JSON

    '
- title: C.4.1.  MX Discover
  contents:
  - "C.4.1.  MX Discover\n   {\n     \"version\" : \"1.0\",\n     \"message_type\"\
    \ : \"mx_discover\",\n     \"sequence_num\" : 1\n   }\n"
- title: C.4.2.  MX System Info
  contents:
  - "C.4.2.  MX System Info\n   {\n     \"version\" : \"1.0\",\n     \"message_type\"\
    \ : \"mx_system_info\",\n     \"sequence_num\" : 2,\n     \"ncm_connections\"\
    \ : [\n       {\n         \"connection_id\" : 0,\n         \"connection_type\"\
    \ : \"LTE\",\n         \"ncm_end_point\" : {\n           \"ip_address\" : \"192.168.1.10\"\
    ,\n           \"port\" : 1234\n         }\n       },\n       {\n         \"connection_id\"\
    \ : 1,\n         \"connection_type\" : \"Wi-Fi\",\n         \"ncm_end_point\"\
    \ : {\n           \"ip_address\" : \"192.168.1.10\",\n           \"port\" : 1234\n\
    \         }\n       }\n     ]\n   }\n"
- title: C.4.3.  MX Capability Request
  contents:
  - "C.4.3.  MX Capability Request\n   {\n     \"version\" : \"1.0\",\n     \"message_type\"\
    \ : \"mx_capability_req\",\n     \"sequence_num\" : 3,\n     \"feature_active\"\
    \ : [\n       {\n         \"feature_name\" : \"lossless_switching\",\n       \
    \  \"active\" : true\n       },\n       {\n         \"feature_name\" : \"fragmentation\"\
    ,\n         \"active\" : false\n       }\n     ],\n     \"num_anchor_connections\"\
    \ : 2,\n     \"anchor_connections\" : [\n       {\n         \"connection_id\"\
    \ : 0,\n         \"connection_type\" : \"LTE\"\n       },\n       {\n        \
    \ \"connection_id\" : 1,\n         \"connection_type\" : \"Wi-Fi\"\n       }\n\
    \     ],\n     \"num_delivery_connections\" : 2,\n     \"delivery_connections\"\
    \ : [\n       {\n         \"connection_id\" : 0,\n         \"connection_type\"\
    \ : \"LTE\"\n       },\n       {\n         \"connection_id\" : 1,\n         \"\
    connection_type\" : \"Wi-Fi\"\n       }\n     ],\n     \"convergence_methods\"\
    \ : [\n       {\n         \"method\" : \"GMA\",\n         \"supported\" : true\n\
    \       },\n       {\n         \"method\" : \"MPTCP_Proxy\",\n         \"supported\"\
    \ : false\n       }\n     ],\n     \"adaptation_methods\" : [\n       {\n    \
    \     \"method\" : \"UDP_without_DTLS\",\n         \"supported\" : false\n   \
    \    },\n       {\n         \"method\" : \"UDP_with_DTLS\",\n         \"supported\"\
    \ : false\n       },\n       {\n         \"method\" : \"IPsec\",\n         \"\
    supported\" : true\n       },\n       {\n         \"method\" : \"Client_NAT\"\
    ,\n         \"supported\" : false\n       }\n     ]\n   }\n"
- title: C.4.4.  MX Capability Response
  contents:
  - "C.4.4.  MX Capability Response\n   {\n     \"version\" : \"1.0\",\n     \"message_type\"\
    \ : \"mx_capability_rsp\",\n     \"sequence_num\" : 3,\n     \"feature_active\"\
    \ : [\n       {\n         \"feature_name\" : \"lossless_switching\",\n       \
    \  \"active\" : true\n       },\n       {\n         \"feature_name\" : \"fragmentation\"\
    ,\n         \"active\" : false\n       }\n     ],\n     \"num_anchor_connections\"\
    \ : 2,\n     \"anchor_connections\" : [\n       {\n         \"connection_id\"\
    \ : 0,\n         \"connection_type\" : \"LTE\"\n       },\n       {\n        \
    \ \"connection_id\" : 1,\n         \"connection_type\" : \"Wi-Fi\"\n       }\n\
    \     ],\n     \"num_delivery_connections\" : 2,\n     \"delivery_connections\"\
    \ : [\n       {\n         \"connection_id\" : 0,\n         \"connection_type\"\
    \ : \"LTE\"\n       },\n       {\n         \"connection_id\" : 1,\n         \"\
    connection_type\" : \"Wi-Fi\"\n       }\n     ],\n     \"convergence_methods\"\
    \ : [\n       {\n         \"method\" : \"GMA\",\n         \"supported\" : true\n\
    \       },\n       {\n         \"method\" : \"MPTCP_Proxy\",\n         \"supported\"\
    \ : false\n       }\n     ],\n     \"adaptation_methods\" : [\n       {\n    \
    \     \"method\" : \"UDP_without_DTLS\",\n         \"supported\" : false\n   \
    \    },\n       {\n         \"method\" : \"UDP_with_DTLS\",\n         \"supported\"\
    \ : false\n       },\n       {\n         \"method\" : \"IPsec\",\n         \"\
    supported\" : true\n       },\n       {\n         \"method\" : \"Client_NAT\"\
    ,\n         \"supported\" : false\n       }\n     ],\n     \"unique_session_id\"\
    \ : {\n       \"ncm_id\" : 110,\n       \"session_id\" : 1111\n     }\n   }\n"
- title: C.4.5.  MX Capability Acknowledge
  contents:
  - "C.4.5.  MX Capability Acknowledge\n   {\n     \"version\" : \"1.0\",\n     \"\
    message_type\" : \"mx_capability_ack\",\n     \"sequence_num\" : 3,\n     \"unique_session_id\"\
    \ : {\n       \"ncm_id\" : 110,\n       \"session_id\" : 1111\n     },\n     \"\
    capability_ack\" : \"MX_ACCEPT\"\n   }\n"
- title: C.4.6.  MX Reconfiguration Request
  contents:
  - "C.4.6.  MX Reconfiguration Request\n   {\n     \"version\" : \"1.0\",\n     \"\
    message_type\" : \"mx_reconf_req\",\n     \"sequence_num\" : 4,\n     \"unique_session_id\"\
    \ : {\n       \"ncm_id\" : 110,\n       \"session_id\" : 1111\n     },\n     \"\
    reconf_action\" : \"setup\",\n     \"connection_id\" : 0,\n     \"ip_address\"\
    \ : \"192.168.110.1\",\n     \"ssid\" : \"SSID_1\",\n     \"mtu_size\" : 1300,\n\
    \     \"connection_status\" : \"connected\",\n     \"delivery_node_id\" : \"2A12C\"\
    \n   }\n"
- title: C.4.7.  MX Reconfiguration Response
  contents:
  - "C.4.7.  MX Reconfiguration Response\n   {\n     \"version\" : \"1.0\",\n    \
    \ \"message_type\" : \"mx_reconf_rsp\",\n     \"sequence_num\" : 4\n   }\n"
- title: C.4.8.  MX UP Setup Configuration Request
  contents:
  - "C.4.8.  MX UP Setup Configuration Request\n   {\n     \"version\": \"1.0\",\n\
    \     \"message_type\": \"mx_up_setup_conf_req\",\n     \"sequence_num\": 5,\n\
    \     \"num_anchor_connections\": 2,\n     \"anchor_connections\": [{\n      \
    \ \"connection_id\": 1,\n       \"connection_type\": \"Wi-Fi\",\n       \"num_active_mx_conf\"\
    \ : 2,\n       \"convergence_config\" : [\n       {\n         \"mx_configuration_id\"\
    \ : 1,\n         \"convergence_method\": \"GMA\",\n         \"convergence_method_params\"\
    : {},\n         \"num_delivery_connections\": 2,\n         \"delivery_connections\"\
    : [{\n           \"connection_id\": 0,\n           \"connection_type\": \"LTE\"\
    ,\n           \"adaptation_method\": \"UDP_without_DTLS\",\n           \"adaptation_method_param\"\
    : {\n             \"tunnel_ip_addr\": \"6.6.6.6\",\n             \"tunnel_end_port\"\
    : 9999,\n             \"mx_header_optimization\": true\n           }\n       \
    \  },\n         {\n           \"connection_id\": 1,\n           \"connection_type\"\
    : \"Wi-Fi\"\n         }\n         ]\n       },\n       {\n         \"mx_configuration_id\"\
    \ : 2,\n         \"convergence_method\": \"GMA\",\n         \"convergence_method_params\"\
    : {},\n         \"num_delivery_connections\": 1,\n         \"delivery_connections\"\
    : [{\n           \"connection_id\": 0,\n           \"connection_type\": \"LTE\"\
    ,\n           \"adaptation_method\": \"UDP_without_DTLS\",\n           \"adaptation_method_param\"\
    : {\n             \"tunnel_ip_addr\": \"6.6.6.6\",\n             \"tunnel_end_port\"\
    : 8877\n           }\n         }\n         ]\n       }\n       ]\n     },\n  \
    \   {\n       \"connection_id\": 0,\n       \"connection_type\": \"LTE\",\n  \
    \     \"udp_port\": 8888,\n       \"num_delivery_connections\": 2,\n       \"\
    delivery_connections\": [{\n         \"connection_id\": 0,\n         \"connection_type\"\
    : \"LTE\"\n       },\n       {\n         \"connection_id\": 1,\n         \"connection_type\"\
    : \"Wi-Fi\",\n         \"adaptation_method\": \"UDP_without_DTLS\",\n        \
    \ \"adaptation_method_param\": {\n           \"tunnel_ip_addr\": \"192.168.3.3\"\
    ,\n           \"tunnel_end_port\": \"6000\"\n         }\n       }\n       ]\n\
    \     }\n     ]\n   }\n"
- title: C.4.9.  MX UP Setup Confirmation
  contents:
  - "C.4.9.  MX UP Setup Confirmation\n   {\n     \"version\" : \"1.0\",\n     \"\
    message_type\" : \"mx_up_setup_cnf\",\n     \"sequence_num\" : 5,\n     \"unique_session_id\"\
    \ : {\n       \"ncm_id\" : 110,\n       \"session_id\" : 1111\n     },\n     \"\
    probe_param\" : {\n       \"probe_port\" : 48700,\n       \"anchor_conn_id\" :\
    \ 0,\n       \"mx_configuration_id\" : 1\n     },\n     \"num_delivery_conn\"\
    \ : 2,\n     \"client_params\" : [\n       {\n         \"connection_id\" : 0,\n\
    \         \"adapt_param\" : {\n           \"udp_adapt_port\" : 51000\n       \
    \  }\n       },\n       {\n         \"connection_id\" : 1,\n         \"adapt_param\"\
    \ : {\n           \"udp_adapt_port\" : 52000\n         }\n       }\n     ]\n \
    \  }\n"
- title: C.4.10.  MX Traffic Steering Request
  contents:
  - "C.4.10.  MX Traffic Steering Request\n   {\n     \"version\" : \"1.0\",\n   \
    \  \"message_type\" : \"mx_traffic_steering_req\",\n     \"sequence_num\" : 6,\n\
    \     \"connection_id\" : 0,\n     \"mx_configuration_id\" : 1,\n     \"downlink_delivery\"\
    \ : [\n       {\n         \"connection_id\" : 0\n       },\n       {\n       \
    \  \"connection_id\" : 1\n       }\n     ],\n     \"default_uplink_delivery\"\
    \ : 0,\n     \"uplink_delivery\" : [\n       {\n         \"ul_tft\" : {\n    \
    \        \"remote_addr_mask\" : \"10.10.0.0/24\",\n            \"local_addr_mask\"\
    \ : \"192.168.0.0/24\",\n            \"protocol_type\" :  6,\n            \"local_port_range\"\
    \ : {\n              \"start\" : 100,\n              \"end\" : 1000\n        \
    \    },\n            \"remote_port_range\" : {\n              \"start\" : 100,\n\
    \              \"end\" : 1000\n            },\n            \"traffic_class\" :\
    \ 20,\n            \"flow_label\" : 100\n         },\n         \"conn_list\" :\
    \ [\n            {\n              \"connection_id\" : 1\n            }\n     \
    \    ]\n       },\n       {\n         \"ul_tft\" : {\n            \"remote_addr_mask\"\
    \ : \"10.10.0.0/24\",\n            \"local_addr_mask\" : \"192.168.0.0/24\",\n\
    \            \"protocol_type\" :  6,\n            \"local_port_range\" : {\n \
    \             \"start\" : 2000,\n              \"end\" : 2000\n            },\n\
    \            \"remote_port_range\" : {\n              \"start\" : 100,\n     \
    \         \"end\" : 1000\n            },\n            \"traffic_class\" : 20,\n\
    \            \"flow_label\" : 50\n         },\n         \"conn_list\" : [\n  \
    \          {\n             \"connection_id\" : 1\n            }\n         ]\n\
    \       }\n     ],\n     \"feature_active\" : [\n       {\n         \"feature_name\"\
    \ : \"dl_aggregation\",\n         \"active\" : true\n       },\n       {\n   \
    \      \"feature_name\" : \"ul_aggregation\",\n         \"active\" : false\n \
    \      }\n     ]\n   }\n"
- title: C.4.11.  MX Traffic Steering Response
  contents:
  - "C.4.11.  MX Traffic Steering Response\n   {\n     \"version\": \"1.0\",\n   \
    \  \"message_type\": \"mx_traffic_steering_rsp\",\n     \"sequence_num\": 6,\n\
    \     \"unique_session_id\": {\n       \"ncm_id\": 110,\n       \"session_id\"\
    : 1111\n     },\n     \"feature_active\": [{\n       \"feature_name\": \"lossless_switching\"\
    ,\n       \"active\": true\n     },\n     {\n       \"feature_name\": \"fragmentation\"\
    ,\n       \"active\": false\n     }\n     ]\n   }\n"
- title: C.4.12.  MX Application MADP Association Request
  contents:
  - "C.4.12.  MX Application MADP Association Request\n   {\n     \"version\": \"\
    1.0\",\n     \"message_type\": \"mx_app_madp_assoc_req\",\n     \"sequence_num\"\
    : 6,\n     \"unique_session_id\": {\n       \"ncm_id\": 110,\n       \"session_id\"\
    : 1111\n     },\n     \"app_madp_assoc_list\": [{\n       \"connection_id\" :\
    \ 0,\n       \"mx_configuration_id\" : 1,\n       \"ul_tft_list\": [{\n      \
    \   \"protocol_type\": 17,\n         \"local_port_range\": {\n           \"start\"\
    : 8888,\n           \"end\": 8888\n         }\n         }],\n           \"dl_tft_list\"\
    : [{\n             \"protocol_type\": 17,\n             \"remote_port_range\"\
    : {\n               \"start\": 8888,\n               \"end\": 8888\n         \
    \    }\n           }]\n     }\n     ]\n   }\n"
- title: C.4.13.  MX Application MADP Association Response
  contents:
  - "C.4.13.  MX Application MADP Association Response\n   {\n     \"version\": \"\
    1.0\",\n     \"message_type\": \"mx_app_madp_assoc_rsp\",\n     \"sequence_num\"\
    : 6,\n     \"is_success\": true\n   }\n"
- title: C.4.14.  MX Path Estimation Request
  contents:
  - "C.4.14.  MX Path Estimation Request\n   {\n     \"version\" : \"1.0\",\n    \
    \ \"message_type\" : \"mx_path_est_req\",\n     \"sequence_num\" : 7,\n     \"\
    connection_id\" : 0,\n     \"init_probe_test_duration_ms\" : 100,\n     \"init_probe_test_rate_Mbps\"\
    \ : 10,\n     \"init_probe_size_bytes\" : 1000,\n     \"init_probe_ack_req\" :\
    \ \"yes\",\n     \"active_probe_freq_ms\" : 10000,\n     \"active_probe_size_bytes\"\
    \ : 1000,\n     \"active_probe_duration_sec\" : 10,\n     \"active_probe_ack_req\"\
    \ : \"no\"\n   }\n"
- title: C.4.15.  MX Path Estimation Results
  contents:
  - "C.4.15.  MX Path Estimation Results\n   {\n     \"version\" : \"1.0\",\n    \
    \ \"message_type\" : \"mx_path_est_results\",\n     \"sequence_num\" : 8,\n  \
    \   \"unique_session_id\" : {\n       \"ncm_id\" : 110,\n       \"session_id\"\
    \ : 1111\n     },\n     \"connection_id\" : 0,\n     \"init_probe_results\" :\
    \ {\n       \"lost_probes_percentage\" : 1,\n       \"probe_rate_Mbps\" : 9.9\n\
    \     },\n     \"active_probe_results\" : {\n       \"avg_tput_last_probe_duration_Mbps\"\
    \ : 9.8\n     }\n   }\n"
- title: C.4.16.  MX SSID Indication
  contents:
  - "C.4.16.  MX SSID Indication\n   {\n     \"version\" : \"1.0\",\n     \"message_type\"\
    \ : \"mx_ssid_indication\",\n     \"sequence_num\" : 9,\n     \"ssid_list\" :\
    \ [\n       {\n         \"ssid_type\" : \"ssid\",\n         \"ssid_id\" : \"SSID_1\"\
    \n       },\n       {\n         \"ssid_type\" : \"bssid\",\n         \"ssid_id\"\
    \ : \"xxx-yyy\"\n       }\n     ]\n   }\n"
- title: C.4.17.  MX Measurement Configuration
  contents:
  - "C.4.17.  MX Measurement Configuration\n   {\n     \"version\" : \"1.0\",\n  \
    \   \"message_type\" : \"mx_measurement_conf\",\n     \"sequence_num\" : 10,\n\
    \     \"measurement_configuration\" : [\n     {\n       \"connection_id\" : 0,\n\
    \       \"connection_type\" : \"Wi-Fi\",\n       \"meas_rep_conf\"  : [\n    \
    \     {\n           \"meas_rep_param\" : \"WLAN_RSSI\",\n           \"meas_threshold\"\
    \ : {\n             \"high\" : -10,\n             \"low\" : -15\n           },\n\
    \           \"meas_period_ms\" : 500\n         },\n         {\n           \"meas_rep_param\"\
    \ : \"WLAN_LOAD\",\n           \"meas_threshold\" : {\n             \"high\" :\
    \ -10,\n             \"low\" : -15\n           },\n           \"meas_period_ms\"\
    \ : 500\n         },\n         {\n           \"meas_rep_param\" : \"EST_UL_TPUT\"\
    ,\n           \"meas_threshold\" : {\n             \"high\" : 100,\n         \
    \    \"low\" : 30\n           },\n           \"meas_period_ms\" : 500\n      \
    \    }\n        ]\n     },\n     {\n       \"connection_id\" : 1,\n       \"connection_type\"\
    \ : \"LTE\",\n       \"meas_rep_conf\"  : [\n         {\n           \"meas_rep_param\"\
    \ : \"LTE_RSRP\",\n           \"meas_threshold\" : {\n             \"high\" :\
    \ -10,\n             \"low\" : -15\n           },\n           \"meas_period_ms\"\
    \ : 500\n         },\n         {\n           \"meas_rep_param\" : \"LTE_RSRQ\"\
    ,\n           \"meas_threshold\" : {\n             \"high\" : -10,\n         \
    \    \"low\" : -15\n           },\n           \"meas_period_ms\" : 500\n     \
    \    }\n       ]\n     }\n     ]\n   }\n"
- title: C.4.18.  MX Measurement Report
  contents:
  - "C.4.18.  MX Measurement Report\n   {\n     \"version\" : \"1.0\",\n     \"message_type\"\
    \ : \"mx_measurement_report\",\n     \"sequence_num\" : 11,\n     \"unique_session_id\"\
    \ : {\n       \"ncm_id\" : 110,\n       \"session_id\" : 1111\n     },\n     \"\
    measurement_reports\" : [\n       {\n         \"connection_id\" : 0,\n       \
    \  \"connection_type\" : \"Wi-Fi\",\n         \"delivery_node_id\" : \"2021A\"\
    ,\n         \"measurements\"  : [\n           {\n             \"measurement_type\"\
    \ : \"WLAN_RSSI\",\n             \"measurement_value\" : -12\n           },\n\
    \           {\n             \"measurement_type\" : \"UL_TPUT\",\n            \
    \ \"measurement_value\" : 10\n           },\n           {\n             \"measurement_type\"\
    \ : \"EST_UL_TPUT\",\n             \"measurement_value\" : 20\n           }\n\
    \         ]\n       },\n       {\n         \"connection_id\" : 1,\n         \"\
    connection_type\" : \"LTE\",\n         \"delivery_node_id\" : \"12323\",\n   \
    \      \"measurements\"  : [\n           {\n             \"measurement_type\"\
    \ : \"LTE_RSRP\",\n             \"measurement_value\" : -12\n            },\n\
    \            {\n              \"measurement_type\" : \"LTE_RSRQ\",\n         \
    \     \"measurement_value\" : -12\n            }\n         ]\n       }\n     ]\n\
    \   }\n"
- title: C.4.19.  MX Keep-Alive Request
  contents:
  - "C.4.19.  MX Keep-Alive Request\n   {\n     \"version\" : \"1.0\",\n     \"message_type\"\
    \ : \"mx_keep_alive_req\",\n     \"sequence_num\" : 12,\n     \"keep_alive_reason\"\
    \ : \"Handover\",\n     \"unique_session_id\" : {\n       \"ncm_id\" : 110,\n\
    \       \"session_id\" : 1111\n     },\n     \"connection_id\" : 0,\n     \"delivery_node_id\"\
    \ : \"2021A\"\n   }\n"
- title: C.4.20.  MX Keep-Alive Response
  contents:
  - "C.4.20.  MX Keep-Alive Response\n   {\n     \"version\" : \"1.0\",\n     \"message_type\"\
    \ : \"mx_keep_alive_rsp\",\n     \"sequence_num\" : 12,\n     \"unique_session_id\"\
    \ : {\n       \"ncm_id\" : 110,\n       \"session_id\" : 1111\n     }\n   }\n"
- title: C.4.21.  MX Session Termination Request
  contents:
  - "C.4.21.  MX Session Termination Request\n   {\n     \"version\" : \"1.0\",\n\
    \     \"message_type\" : \"mx_session_termination_req\",\n     \"sequence_num\"\
    \ : 13,\n     \"unique_session_id\" : {\n       \"ncm_id\" : 110,\n       \"session_id\"\
    \ : 1111\n     },\n     \"reason\" : \"MX_NORMAL_RELEASE\"\n   }\n"
- title: C.4.22.  MX Session Termination Response
  contents:
  - "C.4.22.  MX Session Termination Response\n   {\n     \"version\" : \"1.0\",\n\
    \     \"message_type\" : \"mx_session_termination_rsp\",\n     \"sequence_num\"\
    \ : 13,\n     \"unique_session_id\" : {\n       \"ncm_id\" : 110,\n       \"session_id\"\
    \ : 1111\n     }\n   }\n"
- title: C.4.23.  MX Network Analytics Request
  contents:
  - "C.4.23.  MX Network Analytics Request\n   {\n     \"version\" : \"1.0\",\n  \
    \   \"message_type\" : \"mx_network_analytics_req\",\n     \"sequence_num\" :\
    \ 20,\n     \"unique_session_id\" : {\n       \"ncm_id\" : 110,\n       \"session_id\"\
    \ : 1111\n     },\n     \"params\" : [\n       \"jitter\",\n       \"latency\"\
    \n     ]\n   }\n"
- title: C.4.24.  MX Network Analytics Response
  contents:
  - "C.4.24.  MX Network Analytics Response\n   {\n     \"version\": \"1.0\",\n  \
    \   \"message_type\": \"mx_network_analytics_rsp\",\n     \"sequence_num\": 20,\n\
    \     \"param_list\": [{\n       \"connection_id\": 1,\n       \"connection_type\"\
    : \"Wi-Fi\",\n       \"predictions\": [{\n         \"param_name\": \"jitter\"\
    ,\n         \"prediction\": 100,\n         \"likelihood\": 50,\n         \"validity_time\"\
    : 10\n       },\n       {\n         \"param_name\": \"latency\",\n         \"\
    prediction\": 19,\n         \"likelihood\": 40,\n         \"validity_time\": 10\n\
    \       }\n       ]\n     },\n     {\n       \"connection_id\": 2,\n       \"\
    connection_type\": \"LTE\",\n       \"predictions\": [{\n         \"param_name\"\
    : \"jitter\",\n         \"prediction\": 10,\n         \"likelihood\": 80,\n  \
    \       \"validity_time\": 10\n       },\n       {\n         \"param_name\": \"\
    latency\",\n         \"prediction\": 4,\n         \"likelihood\": 60,\n      \
    \   \"validity_time\": 10\n       }\n       ]\n     }\n     ]\n   }\n"
- title: Appendix D.  Definition of APIs Provided by the CCM to the Applications
  contents:
  - "Appendix D.  Definition of APIs Provided by the CCM to the Applications\n   \
    \          at the Client\n   This section provides an example implementation of\
    \ the APIs exposed\n   by the CCM to the applications on the client, documented\
    \ with OpenAPI\n   using Swagger 2.0.\n   {\n     \"swagger\": \"2.0\",\n    \
    \ \"info\": {\n       \"version\": \"1.0.0\",\n       \"title\": \"Client Connection\
    \ Manager (CCM)\",\n       \"description\": \"API provided by the CCM towards\
    \ the application\n                       on a MAMS client.\"\n     },\n     \"\
    host\": \"MAMS.ietf.org\",\n     \"basePath\": \"/ccm/v1.0\",\n     \"schemes\"\
    : [\n       \"https\"\n     ],\n     \"consumes\": [\n       \"application/json\"\
    \n     ],\n     \"produces\": [\n       \"application/json\"\n     ],\n     \"\
    paths\": {\n       \"/capabilities\": {\n         \"get\": {\n           \"description\"\
    : \"This API can be used by an application to\n                           request\
    \ the capabilities of the CCM.\",\n           \"produces\": [\n             \"\
    application/json\",\n             \"text/html\"\n           ],\n           \"\
    responses\": {\n             \"200\": {\n               \"description\": \"OK\"\
    ,\n               \"schema\": {\n                 \"$ref\": \"#/definitions/capability\"\
    \n               }\n             },\n             \"default\": {\n           \
    \    \"description\": \"unexpected error\",\n               \"schema\": {\n  \
    \               \"$ref\": \"#/definitions/errorModel\"\n               }\n   \
    \          }\n           }\n         }\n       },\n       \"/app_requirements\"\
    : {\n         \"post\": {\n           \"description\": \"This API is used by the\
    \ N-MADP to report\n                           any types of MAMS user-specific\
    \ errors to\n                           the NCM.\",\n           \"produces\":\
    \ [\n             \"application/json\",\n             \"text/html\"\n        \
    \   ],\n           \"parameters\": [\n             {\n               \"name\"\
    : \"app-requirements\",\n               \"in\": \"body\",\n               \"required\"\
    : true,\n               \"schema\": {\n                 \"$ref\": \"#/definitions/app-requirements\"\
    \n               }\n             }\n           ],\n           \"responses\": {\n\
    \             \"200\": {\n               \"description\": \"OK\"\n           \
    \  },\n             \"default\": {\n               \"description\": \"unexpected\
    \ error\",\n               \"schema\": {\n                 \"$ref\": \"#/definitions/errorModel\"\
    \n               }\n             }\n           }\n         }\n       },\n    \
    \   \"/predictive_link_params\": {\n         \"get\": {\n           \"description\"\
    : \"This API is used by applications to get the\n                           information\
    \ about predicted parameters for\n                           each delivery connection.\"\
    ,\n           \"produces\": [\n             \"application/json\",\n          \
    \   \"text/html\"\n           ],\n           \"responses\": {\n             \"\
    200\": {\n               \"description\": \"OK\",\n               \"schema\":\
    \ {\n                 \"$ref\": \"#/definitions/link-params\"\n              \
    \ }\n             },\n             \"default\": {\n               \"description\"\
    : \"unexpected error\",\n               \"schema\": {\n                 \"$ref\"\
    : \"#/definitions/errorModel\"\n               }\n             }\n           }\n\
    \         }\n       }\n     },\n     \"definitions\": {\n       \"connection-id\"\
    : {\n         \"type\": \"integer\",\n         \"format\": \"uint8\"\n       },\n\
    \       \"connection-type\": {\n         \"enum\": [\n           \"Wi-Fi\",\n\
    \           \"5G_NR\",\n           \"MulteFire\",\n           \"LTE\"\n      \
    \   ],\n         \"type\": \"string\"\n       },\n       \"features\": {\n   \
    \      \"enum\": [\n           \"lossless_switching\",\n           \"fragmentation\"\
    ,\n           \"concatenation\",\n           \"uplink_aggregation\",\n       \
    \    \"downlink_aggregation\",\n           \"measurement\"\n           \"probing\"\
    \n         ],\n         \"type\": \"string\"\n       },\n       \"adaptation-methods\"\
    : {\n         \"enum\": [\n           \"UDP_without_DTLS\",\n           \"UDP_with_DTLS\"\
    ,\n           \"IPsec\",\n           \"Client_NAT\"\n         ],\n         \"\
    type\": \"string\"\n       },\n       \"convergence-methods\": {\n         \"\
    enum\": [\n           \"GMA\",\n           \"MPTCP_Proxy\",\n           \"GRE_Aggregation_Proxy\"\
    ,\n           \"MPQUIC\"\n         ],\n         \"type\": \"string\"\n       },\n\
    \       \"connection\": {\n         \"type\": \"object\",\n         \"properties\"\
    : {\n           \"conn-id\": {\n             \"$ref\": \"#/definitions/connection-id\"\
    \n           },\n           \"conn-type\": {\n             \"$ref\": \"#/definitions/connection-type\"\
    \n           }\n         }\n       },\n       \"convergence-parameters\": {\n\
    \         \"type\": \"object\",\n         \"properties\": {\n           \"conv-param-name\"\
    : {\n             \"type\": \"string\"\n           },\n           \"conv-param-value\"\
    : {\n             \"type\": \"string\"\n           }\n         }\n       },\n\
    \       \"convergence-details\": {\n         \"type\": \"object\",\n         \"\
    properties\": {\n           \"conv-method\": {\n             \"$ref\": \"#/definitions/convergence-methods\"\
    \n           },\n           \"conv-params\": {\n             \"type\": \"array\"\
    ,\n             \"items\": {\n               \"$ref\": \"#/definitions/convergence-parameters\"\
    \n             }\n           }\n         }\n       },\n       \"capability\":\
    \ {\n         \"type\": \"object\",\n         \"properties\": {\n           \"\
    connections\": {\n             \"type\": \"array\",\n             \"items\": {\n\
    \               \"$ref\": \"#/definitions/connection\"\n             }\n     \
    \      },\n           \"features\": {\n             \"type\": \"array\",\n   \
    \          \"items\": {\n               \"$ref\": \"#/definitions/features\"\n\
    \             }\n           },\n           \"adapt-methods\": {\n            \
    \ \"type\": \"array\",\n             \"items\": {\n               \"$ref\": \"\
    #/definitions/adaptation-methods\"\n             }\n           },\n          \
    \ \"conv-methods\": {\n             \"type\": \"array\",\n             \"items\"\
    : {\n               \"$ref\": \"#/definitions/convergence-details\"\n        \
    \     }\n           }\n         }\n       },\n       \"qos-param-name\": {\n \
    \        \"enum\": [\n           \"jitter\",\n           \"latency\",\n      \
    \     \"bandwidth\"\n         ],\n         \"type\": \"string\"\n       },\n \
    \      \"qos-param\": {\n         \"type\": \"object\",\n         \"properties\"\
    : {\n           \"qos-param-name\": {\n             \"$ref\": \"#/definitions/qos-param-name\"\
    \n           },\n           \"qos-param-value\": {\n             \"type\": \"\
    integer\"\n           }\n         }\n       },\n       \"port-range\": {\n   \
    \      \"type\": \"object\",\n         \"properties\": {\n           \"start\"\
    : {\n             \"type\": \"integer\"\n           },\n           \"end\": {\n\
    \             \"type\": \"integer\"\n           }\n         }\n       },\n   \
    \    \"protocol-type\": {\n         \"type\": \"integer\"\n       },\n       \"\
    stream-features\": {\n         \"type\": \"object\",\n         \"properties\"\
    : {\n           \"proto\": {\n             \"$ref\": \"#/definitions/protocol-type\"\
    \n           },\n           \"port-range\": {\n             \"$ref\": \"#/definitions/port-range\"\
    \n           },\n           \"traffic-qos\": {\n             \"$ref\": \"#/definitions/qos-param\"\
    \n           }\n         }\n       },\n       \"app-requirements\": {\n      \
    \   \"type\": \"object\",\n         \"properties\": {\n           \"num-streams\"\
    : {\n             \"type\": \"integer\"\n           },\n           \"stream-feature\"\
    : {\n             \"type\": \"array\",\n             \"items\": {\n          \
    \     \"$ref\": \"#/definitions/stream-features\"\n             }\n          \
    \ }\n         }\n       },\n       \"param-name\": {\n         \"enum\": [\n \
    \          \"bandwidth\",\n           \"jitter\",\n           \"latency\",\n \
    \          \"signal_quality\"\n         ],\n         \"type\": \"string\"\n  \
    \     },\n       \"additional-param-name\": {\n         \"enum\": [\n        \
    \   \"lte-rsrp\",\n           \"lte-rsrq\",\n           \"nr-rsrp\",\n       \
    \    \"nr-rsrq\",\n           \"wifi-rssi\"\n         ],\n         \"type\": \"\
    string\"\n       },\n       \"link-parameter\": {\n         \"type\": \"object\"\
    ,\n         \"properties\": {\n           \"connection\": {\n             \"$ref\"\
    : \"#/definitions/connection\"\n           },\n           \"param\": {\n     \
    \        \"$ref\": \"#/definitions/param-name\"\n           },\n           \"\
    additional-param\": {\n             \"$ref\": \"#/definitions/additional-param-name\"\
    \n           },\n           \"prediction\": {\n             \"type\": \"integer\"\
    \n           },\n           \"likelihood\": {\n             \"type\": \"integer\"\
    \n           },\n           \"validity_time\": {\n             \"type\": \"integer\"\
    \n           }\n         }\n       },\n       \"link-params\": {\n         \"\
    type\": \"array\",\n         \"items\": {\n           \"$ref\": \"#/definitions/link-parameter\"\
    \n         }\n       },\n       \"errorModel\": {\n         \"type\": \"object\"\
    ,\n         \"description\": \"Error indication containing the error code and\n\
    \                         message.\",\n         \"required\": [\n           \"\
    code\",\n           \"message\"\n         ],\n         \"properties\": {\n   \
    \        \"code\": {\n             \"type\": \"integer\",\n             \"format\"\
    : \"int32\"\n           },\n           \"message\": {\n             \"type\":\
    \ \"string\"\n           }\n         }\n       }\n     }\n   }\n"
- title: Appendix E.  Implementation Example Using Python for MAMS Client and
  contents:
  - "Appendix E.  Implementation Example Using Python for MAMS Client and\n      \
    \       Server\n"
- title: E.1.  Client-Side Implementation
  contents:
  - "E.1.  Client-Side Implementation\n   A simple client-side implementation using\
    \ Python can be as follows:\n   #!/usr/bin/env python\n   import asyncio\n   import\
    \ websockets\n   import json\n   import ssl\n   import time\n   import sys\n \
    \  context = ssl.SSLContext(ssl.PROTOCOL_TLS)\n   context.verify_mode = ssl.CERT_REQUIRED\n\
    \   context.set_ciphers(\"RSA\")\n   context.check_hostname = False\n   context.load_verify_locations(\"\
    /home/mecadmin/certs/rootca.pem\")\n   discoverMsg = {'version':'1.0',\n   'message_type':'mx_discover'}\n\
    \   MXCapabilityRes = {'version':'1.0',\n   'message_type':'mx_capability_res',\n\
    \   'FeatureActive':[{'feature_name':'fragmentation', 'active':'yes'},\n     \
    \  {'feature_name':'lossless_switching', 'active':'yes'}],\n   'num_anchor_connections':1,\n\
    \   'anchor_connections':[{'connection_id':0, 'connection_type':'LTE'}],\n   'num_delivery_connections':1,\n\
    \   'delivery_connections':[{'connection_id':1,\n       'connection_type':\"Wi-Fi\"\
    }],\n   'convergence_methods':[{'method':'GMA', 'supported':'true'}],\n   'adaptation_methods':[{'method':'client_nat',\
    \ 'supported':'false'}]\n   }\n   async def hello():\n       async with websockets.connect('wss://localhost:8765',\n\
    \          ssl=context) as websocket:\n        try:\n         loopFlag=False\n\
    \         while True:\n             await websocket.send(json.dumps(discoverMsg))\n\
    \             json_message = await websocket.recv()\n             message = json.loads(json_message)\n\
    \             if \"message_type\" in message.keys():\n               print(\"\
    Received message:{}\".format(\n                  message[\"message_type\"]),\n\
    \                  \"version:{}\".format(message[\"version\"]))\n            \
    \   if message[\"message_type\"] == \"mx_capability_req\" :\n                \
    \   await websocket.send(json.dumps(MXCapabilityRes))\n                   loopFlag=True\n\
    \                   while(loopFlag==True):\n                         pass\n  \
    \      except:\n             print(\"Client stopped\")\n   asyncio.get_event_loop().run_until_complete(hello())\n"
- title: E.2.  Server-Side Implementation
  contents:
  - "E.2.  Server-Side Implementation\n   A server-side implementation using Python\
    \ can be as follows:\n   #!/usr/bin/env python\n   import asyncio\n   import websockets\n\
    \   import json\n   import ssl\n   ctx = ssl.SSLContext(ssl.PROTOCOL_TLS)\n  \
    \ #ctx.set_ciphers(\"RSA-AES256-SHA\")\n   ctx.load_verify_locations(\"/home/mecadmin/certs/rootca.pem\"\
    )\n   certfile = \"/home/mecadmin/certs/server.pem\"\n   keyfile = \"/home/mecadmin/certs/serverkey.pem\"\
    \n   ctx.load_cert_chain(certfile, keyfile, password=None)\n   MXCapabilityReq\
    \ = {'version':'1.0',\n   'message_type':'mx_capability_req',\n   'FeatureActive':[{'feature_name':'fragmentation',\
    \ 'active':'yes'},\n       {'feature_name':'lossless_switching', 'active':'yes'}],\n\
    \   'num_anchor_connections':1,\n   'anchor_connections':[{'connection_id':0,\
    \ 'connection_type':'LTE'}],\n   'num_delivery_connections':1,\n   'delivery_connections':[{'connection_id':1,\n\
    \       'connection_type':\"Wi-Fi\"}],\n   'convergence_methods':[{'method':'GMA',\
    \ 'supported':'true'}],\n   'adaptation_methods':[{'method':'client_nat', 'supported':'false'}]\n\
    \   }\n   async def hello(websocket, path):\n    try:\n      while True:\n   \
    \     name = await websocket.recv()\n        msg = json.loads(name)\n        if\
    \ \"message_type\" in msg.keys():\n           print(\"Received message:{}\".format(msg[\"\
    message_type\"]),\n              \"version:{}\".format(msg[\"version\"]))\n  \
    \         if msg['message_type'] == 'mx_discover':\n              await websocket.send(json.dumps(MXCapabilityReq))\n\
    \    except:\n         print(\"Client disconnected\")\n   try:\n    start_server\
    \ = websockets.serve(hello, 'localhost', 8765,ssl=ctx)\n    asyncio.get_event_loop().run_until_complete(start_server)\n\
    \    asyncio.get_event_loop().run_forever()\n   except:\n    print(\"Server stopped\"\
    )\n"
- title: Acknowledgments
  contents:
  - "Acknowledgments\n   This protocol is the outcome of work by many engineers, not\
    \ just the\n   authors of this document.  The people who contributed to this\n\
    \   project, listed in alphabetical order by first name, are Barbara\n   Orlandi,\
    \ Bongho Kim, David Lopez-Perez, Doru Calin, Jonathan Ling,\n   Lohith Nayak,\
    \ and Michael Scharf.\n"
- title: Contributors
  contents:
  - "Contributors\n   The authors gratefully acknowledge the following additional\n\
    \   contributors, in alphabetical order by first name: A Krishna Pramod/\n   Nokia\
    \ Bell Labs, Hannu Flinck/Nokia Bell Labs, Hema Pentakota/Nokia,\n   Julius Mueller/AT&T,\
    \ Nurit Sprecher/Nokia, Salil Agarwal/Nokia,\n   Shuping Peng/Huawei, and Subramanian\
    \ Vasudevan/Nokia Bell Labs.\n   Subramanian Vasudevan has been instrumental in\
    \ conceptualization and\n   development of solution principles for the MAMS framework.\
    \  Shuping\n   Peng has been a key contributor in refining the framework and\n\
    \   control-plane protocol aspects.\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Satish Kanugovi\n   Nokia Bell Labs\n   Email: satish.k@nokia-bell-labs.com\n\
    \   Florin Baboescu\n   Broadcom\n   Email: florin.baboescu@broadcom.com\n   Jing\
    \ Zhu\n   Intel\n   Email: jing.z.zhu@intel.com\n   SungHoon Seo\n"
