Abstract This memo defines a portion of the Management Information Base (MIB) for use with network management protocols in TCP/IP based internets.
In particular, it defines two MIB modules for managing the capabilities of MAC bridges defined by the IEEE 802.1D 1998 (TM) MAC Bridges and the IEEE 802.1Q 2003 (TM)
Virtual LAN (VLAN) standards for bridging between Local Area Network (LAN) segments.
One MIB module defines objects for managing the 'Traffic Classes' and 'Enhanced Multicast Filtering' components of IEEE 802.1D 1998 and P802.1t 2001 (TM).
The other MIB module defines objects for managing VLANs, as specified in IEEE 802.1Q 2003, P802.1u (TM), and P802.1v (TM).
Provisions are made for support of transparent bridging.
Provisions are also made so that these objects apply to bridges connected by subnetworks other than LAN segments.
This memo supplements RFC 4188 and obsoletes RFC 2674.
The Internet Standard Management Framework
For a detailed overview of the documents that describe the current Internet Standard Management Framework, please refer to section 7 of RFC 3410 [RFC3410].
Managed objects are accessed via a virtual information store, termed the Management Information Base or MIB.
MIB objects are generally accessed through the Simple Network Management Protocol (SNMP).
Objects in the MIB are defined using the mechanisms defined in the Structure of Management Information (SMI).
This memo specifies a MIB module that is compliant to the SMIv2, which is described in STD 58, RFC 2578 [RFC2578], STD 58
, RFC 2579 [RFC2579] and STD 58, RFC 2580
Overview A common device present in many networks is the Bridge.
This device is used to connect Local Area Network segments below the network layer.
These devices are often known as 'layer 2 switches'.
The transparent method of bridging is defined by IEEE 802.1D 1998
Managed objects for transparent bridging are defined in the BRIDGE MIB [BRIDGE MIB].
The original IEEE 802.1D is augmented by IEEE 802.1Q 2003 [802.1Q] to provide support for 'virtual bridged LANs' where a single bridged physical LAN network may be used to support multiple logical bridged LANs, each of which offers a service approximately the same as that defined by IEEE 802.1D.
Such virtual LANs (VLANs) are an integral feature of switched LAN networks.
A VLAN can be viewed as a group of end stations on multiple LAN segments and can communicate as if they were on a single LAN.
IEEE 802.1Q defines port based Virtual LANs where membership is determined by the bridge port on which data frames are received, and port and protocol based Virtual LANs where membership is determined by the bridge port on which frames are received and the protocol identifier of the frame.
This memo defines the objects needed for the management of port based VLANs in bridge entities.
This memo supplements RFC 4188
[BRIDGE MIB] and obsoletes RFC 2674
The MIB modules defined in this document include a comprehensive set of managed objects that attempts to match the set defined in IEEE 802.1D and IEEE 802.1Q.
However, to be consistent with the spirit of the SNMP Framework, a subjective judgement was made to omit the objects from those standards most 'costly' to implement in an agent and least 'essential' for fault and configuration management.
The omissions are described in Section 3 below.
The original BRIDGE MIB [RFC1493] used the following principles for determining inclusion of an object in the BRIDGE MIB module: (1)   Start with a small set of essential objects and add only as further objects are needed.
(2)   Require that objects be essential for either fault or configuration management.
(3)   Consider evidence of current use and/or utility.
(4)   Limit the total number of objects.
Exclude objects that are simply derivable from others in this or other MIBs.
(6)   Avoid causing critical sections to be heavily instrumented.
The guideline that was followed is one counter per critical section per layer.
This document defines objects that supplement those in the BRIDGE MIB module [BRIDGE MIB].
Section 3.4.3 of the present document contains some recommendations regarding usage of objects in the BRIDGE MIB by devices implementing the enhancements defined here.
An extended bridge MIB module P BRIDGE MIB defines managed objects for the traffic class and multicast filtering enhancements defined by IEEE 802.1D 1998 [802.1D], including the Restricted Group Registration control defined by IEEE P802.1t [802.1t].
A virtual bridge MIB module Q BRIDGE MIB defines managed objects for the Virtual LAN bridging enhancements defined by IEEE 802.1Q 2003 [802.1Q], including the Restricted VLAN Registration control, defined by IEEE P802.1u [802.1u], and the VLAN Classification by Protocol and Port enhancement, defined by IEEE P802.1v [802.1v].
Structure of Extended Bridge MIB Module Objects in this MIB are arranged into subtrees.
Each subtree is organized as a set of related objects.
The overall structure and assignment of objects to their subtrees is shown below.
Relationship to IEEE 802.1D 1998
This section contains a cross reference to the objects defined in IEEE 802.1D 1998 [802.1D].
It also details those objects that are not considered necessary in this MIB module.
Some objects defined by IEEE 802.1D 1998 have been included in the virtual bridge MIB module rather than this one: entries in dot1qTpGroupTable, dot1qForwardAllTable, and dot1qForwardUnregisteredTable are required for virtual bridged LANs with additional indexing (e.g., per VLAN, per Filtering Database (per FDB)) and so are not defined here.
Instead, devices that do not implement virtual bridged LANs but do implement the Extended Forwarding Services defined by IEEE 802.1D (i.e., dynamic learning of multicast group addresses and group service requirements in the filtering database) should implement these tables with a fixed value for dot1qFdbId (the value 1 is recommended) or dot1qVlanIndex (the value 1 is recommended).
Devices that support Extended Filtering Services should support dot1qTpGroupTable, dot1qForwardAllTable, and dot1qForwardUnregisteredTable.
The following IEEE 802.1D 1998 management objects have not been included in the Bridge MIB for the indicated reasons.
ApplicantAdministrativeControl not provided per attribute (e.g., per VLAN, per Group).
Only per {device,port,application} control is provided in this MIB.
notify group registration failure    not considered useful (IEEE 802.1t 14.10.1.2)
Relationship to IEEE 802.1Q Manageable Objects
This section contains section number cross references to manageable objects defined in IEEE 802.1Q 2003 [802.1Q].
These objects have been included in this MIB as they provide a natural fit with the IEEE 802.1D objects with which they are co located.
This subtree contains the objects that are applicable to all bridges implementing the traffic class and multicast filtering features of IEEE 802.1D 1998 [802.1D].
It includes per device configuration of Generic Attribute Registration Protocol (GARP) and GARP Multicast Registration Protocol (GMRP) protocols.
This subtree contains the objects for configuring and reporting status of priority based queuing mechanisms in a bridge.
This includes per port user priority treatment, mapping of user priority in frames into internal traffic classes, and outbound user priority and access priority.
This subtree contains the objects for configuring and reporting on operation of the Generic Attribute Registration Protocol (GARP).
This subtree contains the objects for configuring and reporting on operation of the GARP Multicast Registration Protocol (GMRP).
The dot1dTpHCPortTable This table extends the dot1dTp subtree from the BRIDGE MIB [BRIDGE MIB] and contains the objects for reporting port bridging statistics for high capacity network interfaces.
This table extends the dot1dTp subtree from the BRIDGE MIB [BRIDGE MIB] and contains the objects for reporting the upper bits of port bridging statistics for high capacity network interfaces for when 32 bit counters are inadequate.
Structure of Virtual Bridge MIB module Objects in this MIB are arranged into subtrees.
Each subtree is organized as a set of related objects.
The overall structure and assignment of objects to their subtrees is shown below.
Some manageable objects defined in the BRIDGE MIB [BRIDGE MIB] need to be indexed differently when they are used in a VLAN bridging environment: these objects are, therefore, effectively duplicated by new objects with different indexing, which are defined in the Virtual Bridge MIB.
Relationship to IEEE 802.1Q Manageable Objects
This section contains section number cross references to manageable objects defined in clause 12 of IEEE 802.1Q 2003 [802.1Q].
It also details those objects that are not considered necessary in this MIB module.
Note: Unlike IEEE 802.1D 1998, IEEE 802.1Q 2003
[802.1Q] did not define exact syntax for a set of managed objects.
The following cross references indicate the section numbering of the descriptions of management operations from clause 12 in the latter document.
12.10.1.1 read bridge vlan config
read/set garp applicant controls dot1qTp
12.7.7.1 read filtering entry dot1qTpGroupAddress dot1qTpGroupEgressPorts dot1qTpGroupLearnt
filtering entry dot1qForwardUnregisteredPorts dot1qForwardUnregisteredStaticPorts dot1qForwardUnregisteredForbiddenPorts
read permanent database dot1qStaticMulticastAddress dot1qStaticMulticastReceivePort
12.10.2.1 read vlan configuration 12.10.3.5
read VID to FID allocations
12.10.3.6 read FID allocated to VID 12.10.3.7
read VIDs allocated to FID dot1qVlanTimeMark dot1qVlanIndex dot1qVlanFdbId
12.10.2.2 create vlan config 12.10.2.3
11.2.3.2.3 Restricted VLAN Registration dot1qPortVlanStatisticsTable
12.6.1.1 read forwarding port counters dot1qTpVlanPortInFrames dot1qTpVlanPortOutFrames
dot1qTpVlanPortInDiscards dot1qTpVlanPortInOverflowFrames dot1qTpVlanPortOutOverflowFrames dot1qTpVlanPortInOverflowDiscards dot1qPortVlanHCStatisticsTable
12.6.1.1 read forwarding port counters dot1qTpVlanPortHCInFrames dot1qTpVlanPortHCOutFrames dot1qTpVlanPortHCInDiscards dot1qLearningConstraintsTable    12.10.3.1/3/4 read/
12.10.3.2 read vlan learning constraints for VID dot1qConstraintVlan dot1qConstraintSet
8.4.4 VID Set for each Port dot1vProtocolPortGroupId
The following IEEE 802.1Q management objects have not been included in the Bridge MIB for the indicated reasons.
read forwarding port counters (12.6.1.1) discard on error details
not considered useful read permanent database (12.7.6.1)
This subtree contains the objects that are applicable to all bridges implementing IEEE 802.1Q virtual LANs.
This subtree contains objects that control the operation and report the status of transparent bridging.
This includes management of the dynamic Filtering Databases for both unicast and multicast forwarding.
This subtree will be implemented by all bridges that perform destination address filtering.
This subtree contains objects that control static configuration information for transparent bridging.
This includes management of the static entries in the Filtering Databases for both unicast and multicast forwarding.
This subtree contains objects that control configuration and report status of the Virtual LANs known to a bridge.
This includes management of the statically configured VLANs as well as reporting VLANs discovered by other means (e.g., GARP VLAN Registration Protocol (GVRP)).
It also controls configuration and reports status of per port objects relating to VLANs and reports traffic statistics.
It also provides for management of the VLAN Learning Constraints.
Various Working Groups have defined standards track MIB documents (for example, [RFC2613] and [RFC3318]), that contain objects and Textual Conventions to represent a Virtual Local Area Network Identifier (VLAN ID) [802.1Q].
New definitions are showing up in various documents (for example, [RFC4323] and [RFC4149]).
Unfortunately, the result is a set of different definitions for the same piece of management information.
This may lead to confusion and unnecessary complexity.
In order to address this situation, three new textual conventions are defined in the Q BRIDGE MIB, called VlanIdOrAny, VlanIdOrNone, and VlanIdOrAnyOrNone.
These new textual conventions should be (re)used in MIB modules so that they all represent a VLAN ID in the same way.
These textual conventions provide a means to specify MIB objects that refer to a specific VLAN, to any VLAN, or to no VLAN.
For an example of how these textual conventions might be used, consider a MIB object, with SYNTAX of VlanIdOrAnyOrNone, that specifies the VLAN on which to accept incoming packets of a particular protocol.
Such an object would allow the device to be configured to accept packets of this protocol received with a specific 802.1q tag value, with any 802.1q tag value, or with no 802.1q tag.
Note that a MIB object that is defined using one of these textual conventions should clarify the meaning of 'any VLAN' and/or 'no VLAN' in its DESCRIPTION clause.
As described above, some IEEE 802.1D management objects have not been included in this MIB because they overlap with objects in other MIBs applicable to a bridge implementing this MIB module.
Relationship to the SNMPv2 MIB
MIB [RFC3418] defines objects that are generally applicable to managed devices.
These objects apply to the device as a whole, irrespective of whether bridging is the device's sole functionality or only a subset of the device's functionality.
Full support for the 802.1D management objects requires that the SNMPv2 MIB objects sysDescr and sysUpTime be implemented.
Note that compliance to the current SNMPv2 MIB module requires additional objects and notifications to be implemented as specified in RFC 3418 [RFC3418].
The IF MIB, [RFC2863], requires that any MIB that is an adjunct of the IF MIB clarify specific areas within the IF MIB.
These areas were intentionally left vague in the IF MIB in order to avoid over  constraining the MIB, thereby precluding management of certain media types.
The IF MIB enumerates several areas that a media specific MIB must clarify.
Each of these areas is addressed in a following subsection.
The implementor is referred to the IF MIB in order to understand the general intent of these areas.
The IF MIB [RFC2863] defines managed objects for managing network interfaces.
A network interface is considered attached to a 'subnetwork'.
(Note that this term is not to be confused with 'subnet', which refers to an addressing partitioning scheme used in the Internet suite of protocols.)
The term 'segment' is used in this memo to refer to such a subnetwork, whether it be an Ethernet segment, a 'ring', a WAN link, or even an X.25 virtual circuit.
Full support for the 802.1D management objects requires that the IF MIB objects ifIndex, ifType, ifDescr, ifPhysAddress, and ifLastChange are implemented.
Note that compliance to the current IF MIB module requires additional objects and notifications to be implemented as specified in RFC 2863 [RFC2863].
Implicit in this Extended Bridge MIB is the notion of ports on a bridge.
Each of these ports is associated with one interface of the 'interfaces' subtree (one row in ifTable), and, in most situations, each port is associated with a different interface.
However, there are situations in which multiple ports are associated with the same interface.
An example of such a situation would be several ports each corresponding one to one with several X.25 virtual circuits but all on the same interface.
Each port is uniquely identified by a port number.
A port number has no mandatory relationship to an interface number, but in the simple case a port number will have the same value as the corresponding interface's interface number.
Port numbers are in the range (1..dot1dBaseNumPorts).
Some entities perform other functionality as well as bridging through the sending and receiving of data on their interfaces.
In such situations, only a subset of the data sent/received on an interface is within the domain of the entity's bridging functionality.
This subset is considered delineated according to a set of protocols, with some protocols being bridged, and other protocols not being bridged.
For example, in an entity that exclusively performed bridging, all protocols would be considered bridged, whereas in an entity that performed IP routing on IP datagrams and only bridged other protocols, only the non IP data would be considered bridged.
Thus, this Extended Bridge MIB (and in particular, its counters) is applicable only to that subset of the data on an entity's interfaces that is sent/received for a protocol being bridged.
All such data is sent/received via the ports of the bridge.
This memo assumes the interpretation of the Interfaces Subtree to be in accordance with the IF MIB [RFC2863], which states that the interfaces table (ifTable) contains information on the managed resource's interfaces and that each sub layer below the internetwork layer of a network interface is considered an interface.
This document does not make any assumption that within an entity, VLANs that are instantiated as an entry in dot1qVlanCurrentTable by either management configuration through dot1qVlanStaticTable or by dynamic means (e.g., through GVRP) are also represented by an entry in ifTable.
Where an entity contains higher layer protocol entities (e.g., IP layer interfaces that transmit and receive traffic to/from a VLAN), these should be represented in the ifTable as interfaces of type propVirtual(53).
Protocol specific types such as l3ipxvlan(137) should not be used here, since there is no implication that the bridge will perform any protocol filtering before delivering up to these virtual interfaces.
In addition, the IF MIB [RFC2863] defines a table 'ifStackTable' for describing the relationship between logical interfaces within an entity.
It is anticipated that implementors will use this table to describe the binding of (for example) IP interfaces to physical ports, although the presence of VLANs makes the representation less than perfect for showing connectivity.
The ifStackTable cannot represent the full capability of the IEEE 802.1Q
VLAN bridging standard, since that makes a distinction between VLAN bindings on 'ingress' to and 'egress' from a port: these relationships may or may not be symmetrical whereas
Interface MIB Evolution assumes a symmetrical binding for transmit and receive.
This makes it necessary to define other manageable objects for configuring which ports are members of which VLANs.
This table contains all MAC addresses, unicast, multicast, and broadcast, for which an interface will receive packets and forward them up to a higher layer entity for local consumption.
Note that this does not include addresses for data link layer control protocols such as Spanning Tree, GMRP, or GVRP.
The format of the address, contained in ifRcvAddressAddress, is the same as for ifPhysAddress.
This table does not include unicast or multicast addresses that are accepted for possible forwarding out some other port.
This table is explicitly not intended to provide a bridge address filtering mechanism.
Relationship to the BRIDGE MIB
This section defines how objects in the BRIDGE MIB module [BRIDGE MIB] should be represented for devices that implement the extensions: some of the old objects are less useful in such devices but must still be implemented for reasons of backwards compatibility.
This subtree contains objects that are applicable to all types of bridges.
Interpretation of this subtree is unchanged.
This subtree contains the objects that denote the bridge's state with respect to the Spanning Tree Protocol.
Interpretation of this subtree is unchanged.
This subtree contains objects that describe the entity's state with respect to transparent bridging.
In a device operating with a single Filtering Database, interpretation of this subtree is unchanged.
In a device supporting multiple Filtering Databases, this subtree is interpreted as follows: dot1dTpLearnedEntryDiscards
The number of times that  any  of the FDBs became full.
This applies to all Filtering Databases.
dot1dTpFdbTable Report MAC addresses learned on each port, regardless of which Filtering Database they have been learned in.
If an address has been learned in multiple databases on a single port, report it only once.
If an address has been learned in multiple databases on more than one port, report the entry on any one of the valid ports.
This table is port based and is not affected by multiple Filtering Databases or multiple VLANs.
The counters should include frames received or transmitted for all VLANs.
Note that equivalent 64 bit port statistics counters, as well as other objects to represent the upper 32 bits of these counters, are defined in this document for high capacity network interfaces.
These have conformance statements to indicate for which speeds of interface they are required.
This optional subtree contains objects that describe the configuration of destination address filtering.
In a device operating with a single Filtering Database, interpretation of this subtree is unchanged.
In a device supporting multiple Filtering Databases, this subtree is interpreted as follows:
dot1dStaticTable Entries read from this table include all static entries from all of the Filtering Databases.
Entries for the same MAC address and receive port in more than one Filtering Database must appear only once, since these are the indices of this table.
This table should be implemented as read only in devices that support multiple Forwarding Databases.
Instead, write access should be provided through dot1qStaticUnicastTable and dot1qStaticMulticastTable, as defined in this document.
Additions to the BRIDGE MIB
To supplement the BRIDGE MIB [BRIDGE MIB], this module contains:
(1)   support for multiple traffic classes and dynamic multicast filtering as per IEEE 802.1D 1998 [802.1D].
(2)   support for bridged Virtual LANs as per IEEE 802.1Q 2003 [802.1Q].
(3)   support for 64 bit versions of BRIDGE MIB [BRIDGE MIB] port counters.
MIB P BRIDGE MIB DEFINITIONS ::
MIB for IEEE 802.1p devices
IMPORTS MODULE IDENTITY, OBJECT TYPE, Counter32
, Integer32, Counter64 FROM SNMPv2
SMI TruthValue, TimeInterval, MacAddress, TEXTUAL CONVENTION FROM SNMPv2
TC MODULE COMPLIANCE, OBJECT GROUP FROM SNMPv2 CONF dot1dTp, dot1dTpPort, dot1dBridge, dot1dBasePortEntry, dot1dBasePort FROM BRIDGE MIB; pBridgeMIB MODULE IDENTITY LAST UPDATED "200601090000Z" ORGANIZATION "IETF Bridge MIB Working Group" CONTACT INFO "
Nortel Networks 4655 Great America Parkway Santa Clara, CA 95054
1 865 686 0432 Email:
Effective Software 50 Harding Rd.
HP2 7YU UK Email: elbell@ntlworld.com Vivian Ngai Email:
Beijing Harbour Networks Jiuling Building 21 North Xisanhuan Ave.
1 415 345 1827 Email: ah smith@acm.org
Newbridge Networks 5 Corporate Drive Andover, MA 01810
USA Phone:  1 978 691 4665
Accton Technology Corporation 5 Mount Royal Ave Marlboro, MA 01752
Inc. 170 West Tasman Drive San Jose, CA 95134 1706
USA Phone:  1 408 526 5260
kzm@cisco.com" DESCRIPTION "The Bridge MIB Extension module for managing Priority and Multicast Filtering, defined by IEEE 802.1D 1998, including Restricted Group Registration defined by IEEE 802.1t 2001.
This version of this MIB module is part of RFC 4363; See the RFC itself for full legal notices."
Deprecated pBridgePortGmrpGroup and pBridgeCompliance and added pBridgePortGmrpGroup2 and pBridgeCompliance2.
"A simple status value for the object.
BITS { dot1dExtendedFilteringServices(0), dot1dTrafficClasses(1), dot1qStaticEntryIndividualPort(2), dot1qIVLCapable(3), dot1qSVLCapable(4), dot1qHybridCapable(5), dot1qConfigurablePvidTagging(6), dot1dLocalVlanCapable(7) } MAX ACCESS
"Indicates the optional parts of IEEE 802.1D and 802.1Q that are implemented by this device and are manageable through this MIB.
Capabilities that are allowed on a per port basis are indicated in dot1dPortCapabilities.
,   can map user priority to   multiple traffic classes.
can represent non zero entries.
can support multiple local   bridges, outside of the scope   of 802.1Q defined VLANs.
REFERENCE "ISO/IEC 15802 3 Section 5.2, IEEE 802.1Q/D11 Section 5.2,
"The value true(1) indicates that Traffic Classes are enabled on this bridge.
When false(2), the bridge operates with a single priority level for all traffic.
The value of this object MUST be retained across reinitializations of the management system."
"The administrative status requested by management for GMRP.
The value enabled(1) indicates that GMRP should be enabled on this device, in all VLANs, on all ports for which it has not been specifically disabled.
When disabled(2), GMRP is disabled, in all VLANs and on all ports, and all GMRP packets will be forwarded transparently.
This object affects both Applicant and Registrar state machines.
A transition from disabled(2) to enabled(1) will cause a reset of all GMRP state machines on all ports.
The value of this object MUST be retained across reinitializations of the management system.
A table that contains capabilities information about every port that is associated with this bridge."
A set of capabilities information about this port indexed by dot1dBasePort."
SEQUENCE { dot1dPortCapabilities BITS } dot1dPortCapabilities
"Indicates the parts of IEEE 802.1D and 802.1Q that are optional on a per port basis, that are implemented by this device, and that are manageable through this MIB. dot1qDot1qTagging(0),
802.1Q VLAN tagging of   frames and GVRP.
dot1qIngressFiltering(2)   supports the discarding of any   frame received on a Port whose   VLAN classification does not   include that Port in its Member   set.
REFERENCE "ISO/IEC 15802 3 Section 5.2, IEEE 802.1Q/D11 Section 5.2
A table that contains information about every port that is associated with this transparent bridge."
A list of Default User Priorities for each port of a transparent bridge.
This is indexed by dot1dBasePort.
SEQUENCE { dot1dPortDefaultUserPriority Integer32, dot1dPortNumTrafficClasses Integer32
(0..7) MAX ACCESS  read write STATUS
"The default ingress User Priority for this port.
This only has effect on media, such as Ethernet
, that do not support native User Priority.
The value of this object MUST be retained across reinitializations of the management system."
"The number of egress traffic classes supported on this port.
This object may optionally be read only.
The value of this object MUST be retained across reinitializations of the management system."
A list of Regenerated User Priorities for each received User Priority on each port of a bridge.
The Regenerated User Priority value may be used to index the Traffic Class Table for each input port.
This only has effect on media that support native User Priority.
The default values for Regenerated User Priorities are the same as the User Priorities."
dot1dPriority 2 } dot1dUserPriorityRegenEntry OBJECT
A mapping of incoming User Priority to a Regenerated User Priority.
"The User Priority for a frame received on this port."
{ dot1dUserPriorityRegenEntry 1 } dot1dRegenUserPriority OBJECT
(0..7) MAX ACCESS  read write STATUS
"The Regenerated User Priority that the incoming User Priority is mapped to for this port.
The value of this object MUST be retained across reinitializations of the management system."
"A table mapping evaluated User Priority to Traffic Class, for forwarding by the bridge.
Traffic class is a number in the range (0..
dot1dPriority 3 } dot1dTrafficClassEntry OBJECT
current DESCRIPTION "User Priority to Traffic Class mapping.
dot1dTrafficClass Integer32 } dot1dTrafficClassPriority OBJECT TYPE
"The Priority value determined for the received frame.
This value is equivalent to the priority indicated in the tagged frame received, or one of the evaluated priorities, determined according to the media type.
For untagged frames received from Ethernet media, this value is equal to the dot1dPortDefaultUserPriority value for the ingress port.
For untagged frames received from non Ethernet media, this value is equal to the dot1dRegenUserPriority value for the ingress port and media specific user priority."
(0..7) MAX ACCESS  read write STATUS
The Traffic Class the received frame is mapped to.
The value of this object MUST be retained across reinitializations of the management system."
"A table mapping Regenerated User Priority to Outbound Access Priority.
This is a fixed mapping for all port types, with two options for 802.5 Token Ring.
Regenerated User Priority to Outbound Access Priority mapping.
The Outbound Access Priority the received frame is mapped to."
SEQUENCE OF Dot1dPortGarpEntry MAX ACCESS
A table of GARP control information about every bridge port.
This is indexed by dot1dBasePort."
GARP control information for a bridge port.
dot1dPortGarpLeaveAllTime TimeInterval } dot1dPortGarpJoinTime OBJECT TYPE SYNTAX
The GARP Join time, in centiseconds.
The value of this object MUST be retained across reinitializations of the management system."
The GARP Leave time, in centiseconds.
The value of this object MUST be retained across reinitializations of the management system."
The value of this object MUST be retained across reinitializations of the management system."
The GMRP Port Configuration and Status Table
SEQUENCE OF Dot1dPortGmrpEntry MAX ACCESS
A table of GMRP control and status information about every bridge port.
current DESCRIPTION "GMRP control and status information for a bridge port.
The administrative state of GMRP operation on this port.
The value enabled(1) indicates that GMRP is enabled on this port in all VLANs as long as dot1dGmrpStatus is also enabled(1).
A value of disabled(2) indicates that GMRP is disabled on this port in all VLANs: any GMRP packets received will be silently discarded, and no GMRP registrations will be propagated from other ports.
Setting this to a value of enabled(1) will be stored by the agent but will only take effect on the GMRP protocol operation if dot1dGmrpStatus also indicates the value enabled(1).
This object affects all GMRP Applicant and Registrar state machines on this port.
A transition from disabled(2) to enabled(1) will cause a reset of all GMRP state machines on this port.
The value of this object MUST be retained across reinitializations of the management system.
The Source MAC Address of the last GMRP message received on this port."
"The state of Restricted Group Registration on this port.
If the value of this control is true(1), then creation of a new dynamic entry is permitted only if there is a Static Filtering Entry for the VLAN concerned, in which the Registrar Administrative Control value is Normal Registration.
The value of this object MUST be retained across reinitializations of the management system.
" REFERENCE "IEEE 802.1t clause 10.3.2.3, 14.10.1.3."
SEQUENCE OF Dot1dTpHCPortEntry MAX ACCESS
A table that contains information about every high  capacity port that is associated with this transparent bridge."
"Statistics information for each high capacity port of a transparent bridge."
} dot1dTpHCPortInFrames OBJECT TYPE SYNTAX
"The number of frames that have been received by this port from its segment.
Note that a frame received on the interface corresponding to this port is only counted by this object if and only if it is for a protocol being processed by the local bridging function, including bridge management frames.
REFERENCE "ISO/IEC 15802 3 Section 14.6.1.1.3" ::
{ dot1dTpHCPortEntry 1 } dot1dTpHCPortOutFrames OBJECT TYPE SYNTAX
"The number of frames that have been transmitted by this port to its segment.
Note that a frame transmitted on the interface corresponding to this port is only counted by this object if and only if it is for a protocol being processed by the local bridging function, including bridge management frames.
current DESCRIPTION "Count of valid frames that have been received by this port from its segment that were discarded (i.e., filtered) by the Forwarding Process."
Upper part of High Capacity Port Table for Transparent Bridges
A table that contains the most significant bits of statistics counters for ports that are associated with this transparent bridge that are on high capacity interfaces, as defined in the conformance clauses for this table.
This table is provided as a way to read 64 bit counters for agents that support only SNMPv1.
Note that the reporting of most significant and least significant counter bits separately runs the risk of missing an overflow of the lower bits in the interval between sampling.
The manager must be aware of this possibility, even within the same varbindlist, when interpreting the results of a request or asynchronous notification."
The most significant bits of statistics counters for a high  capacity interface of a transparent bridge.
Each object is associated with a corresponding object in dot1dTpPortTable that indicates the least significant bits of the counter.
dot1dTpPortInOverflowDiscards Counter32 } dot1dTpPortInOverflowFrames OBJECT
"The number of times the associated dot1dTpPortInFrames counter has overflowed."
dot1dTpPortOverflowEntry 1 } dot1dTpPortOutOverflowFrames OBJECT TYPE SYNTAX
"The number of times the associated dot1dTpPortOutFrames counter has overflowed."
"The number of times the associated dot1dTpPortInDiscards counter has overflowed."
A collection of objects defining the traffic classes within a bridge for each evaluated User Priority."
A collection of objects providing port level control and status information for GMRP operation."
The compliance statement for device support of Priority and Multicast Filtering extended bridging services."
This group is mandatory for devices supporting the GMRP application, defined by IEEE 802.1D Extended Filtering Services."
This group is mandatory only for devices supporting the priority forwarding operations defined by IEEE 802.1D.
This group is mandatory only for devices supporting the priority forwarding operations defined by the extended bridge services with media types, such as Ethernet, that do not support native User Priority."
This group is mandatory only for devices supporting the priority forwarding operations defined by IEEE 802.1D and that have interface media types that support native User Priority, e.g., IEEE 802.5."
This group is mandatory only for devices supporting the priority forwarding operations defined by IEEE 802.1D.
This group is optional and is relevant only for devices supporting the priority forwarding operations defined by IEEE 802.1D and that have interface media types that support native Access Priority, e.g., IEEE 802.5."
This group is mandatory for devices supporting any of the GARP applications: e.g., GMRP, defined by the extended filtering services of 802.1D; or GVRP, defined by 802.1Q
(refer to the Q BRIDGE MIB for conformance statements for GVRP).
This group is mandatory for devices supporting the GMRP application, as defined by IEEE 802.1D Extended Filtering Services."
"Write access is not required."
dot1dTrafficClass MIN ACCESS  read only DESCRIPTION
"Write access is not required.
MIN ACCESS  read only DESCRIPTION
"Write access is not required."
MODULE COMPLIANCE STATUS  current DESCRIPTION
"The compliance statement for device support of Priority and Multicast Filtering extended bridging services."
This group is mandatory for devices supporting the GMRP application, defined by IEEE 802.1D Extended Filtering Services."
This group is mandatory only for devices supporting the priority forwarding operations defined by IEEE 802.1D.
This group is mandatory only for devices supporting the priority forwarding operations defined by the extended bridge services with media types, such as Ethernet, that do not support native User Priority."
This group is mandatory only for devices supporting the priority forwarding operations defined by IEEE 802.1D and that have interface media types that support native User Priority, e.g., IEEE 802.5."
This group is mandatory only for devices supporting the priority forwarding operations defined by IEEE 802.1D.
This group is optional and is relevant only for devices supporting the priority forwarding operations defined by IEEE 802.1D and that have interface media types that support native Access Priority, e.g., IEEE 802.5."
This group is mandatory for devices supporting any of the GARP applications: e.g., GMRP, defined by the extended filtering services of 802.1D; or GVRP, defined by 802.1Q
(refer to the Q BRIDGE MIB for conformance statements for GVRP).
This group is mandatory for devices supporting the GMRP application, as defined by IEEE 802.1D Extended Filtering Services."
"Write access is not required."
dot1dTrafficClass MIN ACCESS  read only DESCRIPTION
"Write access is not required.
MIN ACCESS  read only DESCRIPTION
"Write access is not required."
Definitions for Virtual Bridge MIB Q BRIDGE
MIB for IEEE 802.1Q Devices
IMPORTS MODULE IDENTITY, OBJECT TYPE, Counter32, Counter64, Unsigned32,
TimeTicks, Integer32 FROM SNMPv2 SMI RowStatus, TruthValue, TEXTUAL CONVENTION, MacAddress FROM SNMPv2
TC SnmpAdminString FROM SNMP FRAMEWORK MIB MODULE COMPLIANCE, OBJECT GROUP FROM SNMPv2
CONF dot1dBridge, dot1dBasePortEntry, dot1dBasePort FROM BRIDGE MIB EnabledStatus FROM P BRIDGE MIB TimeFilter FROM RMON2 MIB;
qBridgeMIB MODULE IDENTITY LAST UPDATED
"200601090000Z" ORGANIZATION "IETF Bridge MIB Working Group" CONTACT INFO "
Nortel Networks 4655 Great America Parkway Santa Clara, CA 95054
1 865 686 0432 Email:  dlevi@nortel.com
David Harrington Postal: Effective Software 50 Harding Rd.
1 603 436 8634 Email:  ietfdbh@comcast.net
HP2 7YU UK Email: elbell@ntlworld.com
Beijing Harbour Networks Jiuling Building 21 North Xisanhuan Ave.
1 415 345 1827 Email: ah smith@acm.org
Newbridge Networks 5 Corporate Drive Andover, MA 01810
USA Phone:  1 978 691 4665
Accton Technology Corporation 5 Mount Royal Ave Marlboro, MA 01752
Inc. 170 West Tasman Drive San Jose, CA 95134 1706
USA Phone:  1 408 526 5260
kzm@cisco.com" DESCRIPTION "The VLAN Bridge MIB module for managing Virtual Bridged Local Area Networks, as defined by IEEE 802.1Q 2003, including Restricted Vlan Registration defined by IEEE 802.1u 2001 and Vlan Classification defined by IEEE 802.1v 2001.
This version of this MIB module is part of RFC 4363; See the RFC itself for full legal notices."
Clarified dot1qForwardAllStaticPorts, qPortAcceptableFrameTypes, and qBridgeCompliance.
Each octet within this value specifies a set of eight ports, with the first octet specifying ports 1 through 8, the second octet specifying ports 9 through 16, etc.
Within each octet, the most significant bit represents the lowest numbered port, and the least significant bit represents the highest numbered port.
Thus, each port of the bridge is represented by a single bit within the value of this object.
If that bit has a value of '1', then that port is included in the set of ports; the port is not included if its bit has a value of '0'.
::  TEXTUAL CONVENTION DISPLAY HINT "d
"A value used to index per VLAN tables: values of 0 and 4095 are not permitted.
If the value is between 1 and 4094 inclusive, it represents an IEEE 802.1Q VLAN ID with global scope within a given bridged domain (see VlanId textual convention).
If the value is greater than 4095, then it represents a VLAN with scope local to the particular agent, i.e., one without a global VLAN ID assigned to it.
Such VLANs are outside the scope of IEEE 802.1Q, but it is convenient to be able to manage them in the same way using this MIB.
"The VLAN ID that uniquely identifies a VLAN.
This is the 12 bit VLAN ID used in the VLAN Tag header.
The range is defined by the REFERENCEd specification.
Std 802.1Q 2003 Edition, Virtual Bridged Local Area Networks.
"The VLAN ID that uniquely identifies a specific VLAN, or any VLAN.
The special value of 4095 is used to indicate a wildcard, i.e., any VLAN.
This can be used in any situation where an object or table entry must refer either to a specific VLAN or to any VLAN.
Note that a MIB object that is defined using this TEXTUAL CONVENTION should clarify the meaning of 'any VLAN' (i.e., the special value 4095)."
"The VLAN ID that uniquely identifies a specific VLAN, or no VLAN.
The special value of zero is used to indicate that no VLAN ID is present or used.
This can be used in any situation where an object or a table entry must refer either to a specific VLAN, or to no VLAN.
Note that a MIB object that is defined using this TEXTUAL CONVENTION should clarify the meaning of 'no VLAN' (i.e., the special value 0)."
The VLAN ID that uniquely identifies a specific VLAN, any VLAN, or no VLAN.
The special values 0 and 4095 have the same meaning as described in the VlanIdOrAny and VlanIdOrNone TEXTUAL CONVENTIONs.
Note that a MIB object that is defined using this TEXTUAL CONVENTION should clarify the meaning of 'any VLAN' and 'no VLAN' (i.e., the special values 0 and 4095)."
subtrees in the Q BRIDGE
"The version number of IEEE 802.1Q that this device supports."
The maximum IEEE 802.1Q VLAN ID that this device supports."
"The maximum number of IEEE 802.1Q VLANs that this device supports."
"The current number of IEEE 802.1Q VLANs that are configured in this device."
"The administrative status requested by management for GVRP.
The value enabled(1) indicates that GVRP should be enabled on this device, on all ports for which it has not been specifically disabled.
When disabled(2), GVRP is disabled on all ports, and all GVRP packets will be forwarded transparently.
This object affects all GVRP Applicant and Registrar state machines.
A transition from disabled(2) to enabled(1) will cause a reset of all GVRP state machines on all ports.
The value of this object MUST be retained across reinitializations of the management system.
the current Filtering Database Table
A table that contains configuration and control information for each Filtering Database currently operating on this device.
Entries in this table appear automatically when VLANs are assigned FDB IDs in the dot1qVlanCurrentTable."
current DESCRIPTION "Information about a specific Filtering Database.
The identity of this Filtering Database."
The current number of dynamic entries in this Filtering Database."
Multiple Forwarding Databases for 802.1Q Transparent Devices
This table is an alternative to the dot1dTpFdbTable,
previously defined for 802.1D devices that only support a   single Forwarding Database.
A table that contains information about unicast entries for which the device has forwarding and/or filtering information.
This information is used by the transparent bridging function in determining how to propagate a received frame."
current DESCRIPTION "Information about a specific unicast MAC address for which the device has some forwarding and/or filtering information."
"A unicast MAC address for which the device has forwarding and/or filtering information."
Either the value '0', or the port number of the port on which a frame having a source address equal to the value of the corresponding instance of dot1qTpFdbAddress has been seen.
A value of '0' indicates that the port number has not been learned but that the device does have some forwarding/filtering information about this address (e.g., in the dot1qStaticUnicastTable).
Implementors are encouraged to assign the port value to this object whenever it is learned, even for addresses for which the corresponding value of dot1qTpFdbStatus is not learned(3)."
The status of this entry.
The meanings of the values are: other(1) none of the following.
This may include the case where some other MIB object (not the corresponding instance of dot1qTpFdbPort, nor an entry in the dot1qStaticUnicastTable) is being used to determine if and how frames addressed to the value of the corresponding instance of dot1qTpFdbAddress are being forwarded.
this entry is no longer valid (e.g., it was learned but has since aged out), but has not yet been flushed from the table.
the value of the corresponding instance of dot1qTpFdbPort was learned and is being used.
the value of the corresponding instance of dot1qTpFdbAddress represents one of the device's addresses.
The corresponding instance of dot1qTpFdbPort indicates which of the device's ports has this address.
the value of the corresponding instance of dot1qTpFdbAddress is also the value of an existing instance of dot1qStaticAddress."
A table containing filtering information for VLANs configured into the bridge by (local or network) management, or learned dynamically, specifying the set of ports to which frames received on a VLAN for this FDB and containing a specific Group destination address are allowed to be forwarded."
"Filtering information configured into the bridge by management, or learned dynamically, specifying the set of ports to which frames received on a VLAN and containing a specific Group destination address are allowed to be forwarded.
The subset of these ports learned dynamically is also provided.
"The destination Group MAC address in a frame to which this entry's filtering information applies."
"The complete set of ports, in this VLAN, to which frames destined for this Group MAC address are currently being explicitly forwarded.
This does not include ports for which this address is only implicitly forwarded, in the dot1qForwardAllPorts list."
"The subset of ports in dot1qTpGroupEgressPorts that were learned by GMRP or some other dynamic mechanism, in this Filtering database."
A table containing forwarding information for each VLAN, specifying the set of ports to which forwarding of all multicasts applies, configured statically by management or dynamically by GMRP.
An entry appears in this table for all VLANs that are currently instantiated."
current DESCRIPTION "Forwarding information for a VLAN,
specifying the set of ports to which all multicasts should be forwarded, configured statically by management or dynamically by GMRP.
"The complete set of ports in this VLAN to which all multicast group addressed frames are to be forwarded.
This includes ports for which this need has been determined dynamically by GMRP, or configured statically by management."
"The set of ports configured by management in this VLAN to which all multicast group addressed frames are to be forwarded.
Ports entered in this list will also appear in the complete set shown by dot1qForwardAllPorts.
This value will be restored after the device is reset.
This only applies to ports that are members of the VLAN, defined by dot1qVlanCurrentEgressPorts.
A port may not be added in this set if it is already a member of the set of ports in dot1qForwardAllForbiddenPorts.
The default value is a string of ones of appropriate length, to indicate the standard behaviour of using basic filtering services, i.e., forward all multicasts to all ports.
The value of this object MUST be retained across reinitializations of the management system."
"The set of ports configured by management in this VLAN for which the Service Requirement attribute Forward
All Multicast Groups may not be dynamically registered by GMRP.
This value will be restored after the device is reset.
A port may not be added in this set if it is already a member of the set of ports in dot1qForwardAllStaticPorts.
The default value is a string of zeros of appropriate length.
The value of this object MUST be retained across reinitializations of the management system."
A table containing forwarding information for each VLAN, specifying the set of ports to which forwarding of multicast group addressed frames for which no more specific forwarding information applies.
This is configured statically by management and determined dynamically by GMRP.
An entry appears in this table for all VLANs that are currently instantiated."
dot1qTp 5 } dot1qForwardUnregisteredEntry OBJECT TYPE
current DESCRIPTION "Forwarding information for a VLAN,
specifying the set of ports to which all multicasts for which there is no more specific forwarding information shall be forwarded.
This is configured statically by management or dynamically by GMRP.
dot1qForwardUnregisteredForbiddenPorts PortList } dot1qForwardUnregisteredPorts OBJECT
"The complete set of ports in this VLAN to which multicast group addressed frames for which there is no more specific forwarding information will be forwarded.
This includes ports for which this need has been determined dynamically by GMRP, or configured statically by management."
"The set of ports configured by management, in this VLAN, to which multicast group addressed frames for which there is no more specific forwarding information are to be forwarded.
Ports entered in this list will also appear in the complete set shown by dot1qForwardUnregisteredPorts.
This value will be restored after the device is reset.
A port may not be added in this set if it is already a member of the set of ports in dot1qForwardUnregisteredForbiddenPorts.
The default value is a string of zeros of appropriate length, although this has no effect with the default value of dot1qForwardAllStaticPorts.
The value of this object MUST be retained across reinitializations of the management system."
"The set of ports configured by management in this VLAN for which the Service Requirement attribute Forward
Unregistered Multicast Groups may not be dynamically registered by GMRP.
This value will be restored after the device is reset.
A port may not be added in this set if it is already a member of the set of ports in dot1qForwardUnregisteredStaticPorts.
The default value is a string of zeros of appropriate length.
The value of this object MUST be retained across reinitializations of the management system."
A table containing filtering information for Unicast MAC addresses for each Filtering Database, configured into the device by (local or network) management specifying the set of ports to which frames received from specific ports and containing specific unicast destination addresses are allowed to be forwarded.
A value of zero in this table (as the port number from which frames with a specific destination address are received) is used to specify all ports for which there is no specific entry in this table for that particular destination address.
Entries are valid for unicast addresses only.
"Filtering information configured into the device by (local or network) management specifying the set of ports to which frames received from a specific port and containing a specific unicast destination address are allowed to be forwarded.
, dot1qStaticUnicastAllowedToGoTo PortList, dot1qStaticUnicastStatus INTEGER } dot1qStaticUnicastAddress OBJECT
"The destination MAC address in a frame to which this entry's filtering information applies.
This object must take the value of a unicast address."
Either the value '0' or the port number of the port from which a frame must be received in order for this entry's filtering information to apply.
A value of zero indicates that this entry applies on all ports of the device for which there is no other applicable entry."
"The set of ports for which a frame with a specific unicast address will be flooded in the event that it has not been learned.
It also specifies the set of ports on which a specific unicast address may be dynamically learned.
The dot1qTpFdbTable will have an equivalent entry with a dot1qTpFdbPort value of '0' until this address has been learned, at which point it will be updated with the port the address has been seen on.
This only applies to ports that are members of the VLAN, defined by dot1qVlanCurrentEgressPorts.
The default value of this object is a string of ones of appropriate length.
The value of this object MUST be retained across reinitializations of the management system.
dot1qStaticUnicastEntry 3 } dot1qStaticUnicastStatus OBJECT TYPE
MAX ACCESS  read write STATUS
"This object indicates the status of this entry.
other(1) this entry is currently in use, but the conditions under which it will remain so differ from the following values.
invalid(2) writing this value to the object removes the corresponding entry.
this entry is currently in use and will remain so after the next reset of the bridge.
this entry is currently in use and will remain so until the next reset of the bridge.
this entry is currently in use and will remain so until it is aged out.
The value of this object MUST be retained across reinitializations of the management system."
A table containing filtering information for Multicast and Broadcast MAC addresses for each VLAN, configured into the device by (local or network) management specifying the set of ports to which frames received from specific ports and containing specific Multicast and Broadcast destination addresses are allowed to be forwarded.
A value of zero in this table (as the port number from which frames with a specific destination address are received) is used to specify all ports for which there is no specific entry in this table for that particular destination address.
Entries are valid for Multicast and Broadcast addresses only.
"Filtering information configured into the device by (local or network) management specifying the set of ports to which frames received from this specific port for this VLAN and containing this Multicast or Broadcast destination address are allowed to be forwarded.
, dot1qStaticMulticastStaticEgressPorts PortList, dot1qStaticMulticastForbiddenEgressPorts PortList, dot1qStaticMulticastStatus INTEGER } dot1qStaticMulticastAddress OBJECT
"The destination MAC address in a frame to which this entry's filtering information applies.
This object must take the value of a Multicast or Broadcast address."
{ dot1qStaticMulticastEntry 1 } dot1qStaticMulticastReceivePort OBJECT TYPE SYNTAX
Either the value '0' or the port number of the port from which a frame must be received in order for this entry's filtering information to apply.
A value of zero indicates that this entry applies on all ports of the device for which there is no other applicable entry."
"The set of ports to which frames received from a specific port and destined for a specific Multicast or Broadcast MAC address must be forwarded, regardless of any dynamic information, e.g., from GMRP.
A port may not be added in this set if it is already a member of the set of ports in dot1qStaticMulticastForbiddenEgressPorts.
The default value of this object is a string of ones of appropriate length.
The value of this object MUST be retained across reinitializations of the management system."
"The set of ports to which frames received from a specific port and destined for a specific Multicast or Broadcast MAC address must not be forwarded, regardless of any dynamic information, e.g., from GMRP.
A port may not be added in this set if it is already a member of the set of ports in dot1qStaticMulticastStaticEgressPorts.
The default value of this object is a string of zeros of appropriate length.
The value of this object MUST be retained across reinitializations of the management system."
MAX ACCESS  read write STATUS
"This object indicates the status of this entry.
other(1) this entry is currently in use, but the conditions under which it will remain so differ from the following values.
invalid(2) writing this value to the object removes the corresponding entry.
this entry is currently in use and will remain so after the next reset of the bridge.
this entry is currently in use and will remain so until the next reset of the bridge.
this entry is currently in use and will remain so until it is aged out.
The value of this object MUST be retained across reinitializations of the management system."
"The number of times a VLAN entry has been deleted from the dot1qVlanCurrentTable (for any reason).
If an entry is deleted, then inserted, and then deleted, this counter will be incremented by 2."
SEQUENCE OF Dot1qVlanCurrentEntry MAX ACCESS
A table containing current configuration information for each VLAN currently configured into the device by (local or network) management, or dynamically created as a result of GVRP requests received."
current DESCRIPTION "Information for a VLAN configured into the device by (local or network) management, or dynamically created as a result of GVRP requests received.
current DESCRIPTION "A TimeFilter for this entry.
See the TimeFilter textual convention to see how this works."
"The VLAN ID or other identifier referring to this VLAN."
The Filtering Database used by this VLAN.
This is one of the dot1qFdbId values in the dot1qFdbTable.
This value is allocated automatically by the device whenever the VLAN is created: either dynamically by GVRP, or by management, in dot1qVlanStaticTable.
Allocation of this value follows the learning constraints defined for this VLAN in dot1qLearningConstraintsTable."
"The set of ports that are transmitting traffic for this VLAN as either tagged or untagged frames.
"The set of ports that are transmitting traffic for this VLAN as untagged frames.
"This object indicates the status of this entry.
other(1) this entry is currently in use, but the conditions under which it will remain so differ from the following values.
this entry, corresponding to an entry in dot1qVlanStaticTable, is currently in use and will remain so after the next reset of the device.
The port lists for this entry include ports from the equivalent dot1qVlanStaticTable entry and ports learned dynamically.
this entry is currently in use and will remain so until removed by GVRP.
There is no static entry for this VLAN, and it will be removed when the last port leaves the VLAN."
A table containing static configuration information for each VLAN configured into the device by (local or network) management.
All entries are permanent and will be restored after the device is reset."
current DESCRIPTION "Static information for a VLAN configured into the device by (local or network) management.
dot1qVlanStaticUntaggedPorts PortList, dot1qVlanStaticRowStatus RowStatus }
"An administratively assigned string, which may be used to identify the VLAN."
"The set of ports that are permanently assigned to the egress list for this VLAN by management.
Changes to a bit in this object affect the per port, per VLAN Registrar control for Registration Fixed for the relevant GVRP state machine on each port.
A port may not be added in this set if it is already a member of the set of ports in dot1qVlanForbiddenEgressPorts.
The default value of this object is a string of zeros of appropriate length, indicating not fixed."
"The set of ports that are prohibited by management from being included in the egress list for this VLAN.
Changes to this object that cause a port to be included or excluded affect the per port, per VLAN Registrar control for Registration Forbidden for the relevant GVRP state machine on each port.
A port may not be added in this set if it is already a member of the set of ports in dot1qVlanStaticEgressPorts.
The default value of this object is a string of zeros of appropriate length, excluding all ports from the forbidden set.
"The set of ports that should transmit egress packets for this VLAN as untagged.
The default value of this object for the default VLAN (dot1qVlanIndex   1) is a string of appropriate length including all ports.
There is no specified default for other VLANs.
If a device agent cannot support the set of ports being set, then it will reject the set operation with an error.
For example, a manager might attempt to set more than one VLAN to be untagged on egress where the device does not support this IEEE 802.1Q option.
"This object indicates the status of this entry."
"The next available value for dot1qVlanIndex of a local VLAN entry in dot1qVlanStaticTable.
This will report values > 4096 if a new Local VLAN may be created or else the value 0 if this is not possible.
A row creation operation in this table for an entry with a local VlanIndex value may fail if the current value of this object is not used as the index.
Even if the value read is used, there is no guarantee that it will still be the valid index when the create operation is attempted; another manager may have already got in during the intervening time interval.
In this case, dot1qNextFreeLocalVlanIndex should be re read and the creation re tried with the new value.
This value will automatically change when the current value is used to create a new row."
SEQUENCE OF Dot1qPortVlanEntry MAX ACCESS
current DESCRIPTION "A table containing per port control and status information for VLAN configuration in the device."
current DESCRIPTION "Information controlling VLAN configuration for a port on the device.
This is indexed by dot1dBasePort.
TruthValue, dot1qPortGvrpStatus EnabledStatus, dot1qPortGvrpFailedRegistrations Counter32,
dot1qPortGvrpLastPduOrigin MacAddress, dot1qPortRestrictedVlanRegistration TruthValue }
VlanIndex MAX ACCESS  read write
"The PVID, the VLAN ID assigned to untagged frames or Priority Tagged frames received on this port.
The value of this object MUST be retained across reinitializations of the management system.
, admitOnlyVlanTagged(2) } MAX ACCESS  read write STATUS
When this is admitOnlyVlanTagged(2), the device will discard untagged frames or Priority Tagged frames received on this port.
When admitAll(1), untagged frames or Priority Tagged frames received on this port will be accepted and assigned to a VID based on the PVID and VID Set for this port.
This control does not affect VLAN independent Bridge Protocol Data Unit (BPDU) frames, such as GVRP and Spanning Tree Protocol (STP).
It does affect VLAN  dependent BPDU frames, such as GMRP.
The value of this object MUST be retained across reinitializations of the management system.
When this is true(1), the device will discard incoming frames for VLANs that do not include this Port in its Member set.
When false(2), the port will accept all incoming frames.
This control does not affect VLAN independent BPDU frames, such as GVRP and STP.
It does affect VLAN  dependent BPDU frames, such as GMRP.
The value of this object MUST be retained across reinitializations of the management system.
REFERENCE "IEEE 802.1Q/D11 Section 12.10.1.4
"The state of GVRP operation on this port.
The value enabled(1) indicates that GVRP is enabled on this port, as long as dot1qGvrpStatus is also enabled for this device.
but dot1qGvrpStatus is still enabled for the device, GVRP is disabled on this port: any GVRP packets received will be silently discarded, and no GVRP registrations will be propagated from other ports.
This object affects all GVRP Applicant and Registrar state machines on this port.
A transition from disabled(2) to enabled(1) will cause a reset of all GVRP state machines on this port.
The value of this object MUST be retained across reinitializations of the management system.
The Source MAC Address of the last GVRP message received on this port."
"The state of Restricted VLAN Registration on this port.
If the value of this control is true(1), then creation of a new dynamic VLAN entry is permitted only if there is a Static VLAN Registration Entry for the VLAN concerned, in which the Registrar Administrative Control value for this port is Normal Registration.
The value of this object MUST be retained across reinitializations of the management system.
REFERENCE "IEEE 802.1u clause 11.2.3.2.3, 12.10.1.7.
SEQUENCE OF Dot1qPortVlanStatisticsEntry MAX ACCESS
current DESCRIPTION "A table containing per port, per VLAN statistics for traffic received.
Separate objects are provided for both the most significant and least significant bits of statistics counters for ports that are associated with this transparent bridge.
The most significant bit objects are only required on high capacity interfaces, as defined in the conformance clauses for these objects.
This mechanism is provided as a way to read 64 bit counters for agents that support only SNMPv1.
Note that the reporting of most significant and least  significant counter bits separately runs the risk of missing an overflow of the lower bits in the interval between sampling.
The manager must be aware of this possibility, even within the same varbindlist, when interpreting the results of a request or asynchronous notification."
"Traffic statistics for a VLAN on an interface.
, dot1qTpVlanPortInOverflowDiscards Counter32 } dot1qTpVlanPortInFrames OBJECT
"The number of valid frames received by this port from its segment that were classified as belonging to this VLAN.
Note that a frame received on this port is counted by this object if and only if it is for a protocol being processed by the local forwarding process for this VLAN.
This object includes received bridge management frames classified as belonging to this VLAN (e.g., GMRP, but not GVRP or STP.
"The number of valid frames transmitted by this port to its segment from the local forwarding process for this VLAN.
This includes bridge management frames originated by this device that are classified as belonging to this VLAN (e.g., GMRP, but not GVRP or STP).
2 } dot1qTpVlanPortInDiscards OBJECT TYPE SYNTAX
"The number of valid frames received by this port from its segment that were classified as belonging to this VLAN and that were discarded due to VLAN related reasons.
"The number of times the associated dot1qTpVlanPortInFrames counter has overflowed."
"The number of times the associated dot1qTpVlanPortOutFrames counter has overflowed."
5 } dot1qTpVlanPortInOverflowDiscards OBJECT TYPE SYNTAX
"The number of times the associated dot1qTpVlanPortInDiscards counter has overflowed."
current DESCRIPTION "A table containing per port, per VLAN statistics for traffic on high capacity interfaces."
"Traffic statistics for a VLAN on a high capacity interface.
"The number of valid frames received by this port from its segment that were classified as belonging to this VLAN.
Note that a frame received on this port is counted by this object if and only if it is for a protocol being processed by the local forwarding process for this VLAN.
This object includes received bridge management frames classified as belonging to this VLAN (e.g., GMRP, but not GVRP or STP).
1 } dot1qTpVlanPortHCOutFrames OBJECT TYPE SYNTAX
"The number of valid frames transmitted by this port to its segment from the local forwarding process for this VLAN.
This includes bridge management frames originated by this device that are classified as belonging to this VLAN (e.g., GMRP, but not GVRP or STP).
2 } dot1qTpVlanPortHCInDiscards OBJECT TYPE SYNTAX
"The number of valid frames received by this port from its segment that were classified as belonging to this VLAN and that were discarded due to VLAN related reasons.
The VLAN Learning Constraints Table
A table containing learning constraints for sets of Shared and Independent VLANs.
"A learning constraint defined for a VLAN.
dot1qConstraintType INTEGER, dot1qConstraintStatus RowStatus } dot1qConstraintVlan OBJECT TYPE SYNTAX
The identity of the constraint set to which dot1qConstraintVlan belongs.
These values may be chosen by the management station."
"The type of constraint this entry defines.
the VLAN, dot1qConstraintVlan, uses a filtering database independent from all other VLANs in the same set, defined by dot1qConstraintSet.
the VLAN, dot1qConstraintVlan, shares the same filtering database as all other VLANs in the same set, defined by dot1qConstraintSet."
"The status of this entry."
{ dot1qLearningConstraintsEntry 4 } dot1qConstraintSetDefault OBJECT TYPE
MAX ACCESS  read write STATUS
The identity of the constraint set to which a VLAN belongs, if there is not an explicit entry for that VLAN in dot1qLearningConstraintsTable.
The value of this object MUST be retained across reinitializations of the management system."
"The type of constraint set to which a VLAN belongs, if there is not an explicit entry for that VLAN in dot1qLearningConstraintsTable.
The types are as defined for dot1qConstraintType.
The value of this object MUST be retained across reinitializations of the management system."
A table that contains mappings from Protocol Templates to Protocol Group Identifiers used for Port and Protocol based VLAN Classification.
A mapping from a Protocol Template to a Protocol Group Identifier.
llcOther  (5) } MAX ACCESS
OCTET STRING (SIZE (2   5))
"The identification of the protocol above the data link layer in a Protocol Template.
Depending on the frame type, the octet string will have one of the following values: For 'ethernet', 'rfc1042' and 'snap8021H'
, this is the 16 bit (2 octet)
For 'snapOther', this is the 40 bit (5 octet) PID.
For 'llcOther', this is the 2 octet IEEE 802.2 Link Service Access Point (LSAP) pair: first octet for Destination Service Access Point (DSAP) and second octet for Source Service Access Point (SSAP).
"Represents a group of protocols that are associated together when assigning a VID to a frame."
REFERENCE "IEEE 802.1v clause 8.6.3, 12.10.2.1" ::
{ dot1vProtocolGroupEntry 3 } dot1vProtocolGroupRowStatus OBJECT
"This object indicates the status of this entry."
SEQUENCE OF Dot1vProtocolPortEntry MAX ACCESS
A table that contains VID sets used for Port and Protocol based VLAN Classification.
dot1vProtocol 2 } dot1vProtocolPortEntry OBJECT TYPE SYNTAX
"A VID set for a port.
dot1vProtocolPortRowStatus RowStatus } dot1vProtocolPortGroupId OBJECT
current DESCRIPTION "Designates a group of protocols in the Protocol Group Database.
"The VID associated with a group of protocols for each port."
"This object indicates the status of this entry."
qBridgeBaseGroup OBJECT GROUP OBJECTS { dot1qVlanVersionNumber, dot1qMaxVlanId, dot1qMaxSupportedVlans
A collection of objects providing information about all unicast addresses, learned dynamically or statically configured by management, in each Filtering Database."
A collection of objects providing information about all multicast addresses, learned dynamically or statically configured by management, in each Filtering Database."
A collection of objects providing information about service requirements, learned dynamically or statically configured by management, in each Filtering Database."
A collection of objects providing per port packet statistics for all VLANs currently configured on this device."
A collection of objects providing overflow counters for per port packet statistics for all VLANs currently configured on this device for high capacity interfaces, defined as those that have the value of the corresponding instance of ifSpeed greater than 650,000,000 bits/second."
VLAN classification information for the bridge."
VLAN classification information for individual ports."
A collection of objects providing port level VLAN control and status information for all ports."
RFC2674 was silent about the expected persistence of the read write objects in this MIB module.
Applications MUST NOT assume that the values of the read write objects are persistent across reinitializations of the management system and MUST NOT assume that the values are not persistent across reinitializations of the management system."
This group is mandatory for bridges that implement 802.1Q transparent bridging."
This group is mandatory for bridges that implement 802.1Q transparent bridging."
This group is mandatory for bridges that implement extended filtering services.
All objects must be read write if extended filtering services are enabled."
This group is optional as there may be significant implementation cost associated with its support."
This group is optional as there may be significant implementation cost associated with its support.
It is most relevant for high capacity interfaces where the SNMP agent supports only SNMPv1.
"This group is optional as there may be significant implementation cost associated with its support.
It is most relevant for high capacity interfaces.
"This group is mandatory for devices implementing both Independent VLAN Learning (IVL) and Shared VLAN Learning (SVL) modes of operation of the filtering database, as defined by IEEE 802.1Q.
This group is mandatory for devices implementing both Independent VLAN Learning (IVL) and Shared VLAN Learning (SVL) modes of operation of the filtering database, as defined by IEEE 802.1Q.
"Write access is not required as this is an optional capability in IEEE 802.1Q.
"Write access is not required as this is an optional capability in IEEE 802.1Q.
"Write access is not required as this is an optional capability in IEEE 802.1Q.
"Write access is not required as this is an optional capability in IEEE 802.1Q.
"The compliance statement for device support of Virtual LAN Bridge services.
This document clarifies the persistence requirements for the read write objects in this MIB module.
All implementations claiming compliance to qBridgeCompliance2 MUST retain the values of those read write objects that specify this requirement."
This group is mandatory for bridges that implement 802.1Q transparent bridging."
This group is mandatory for bridges that implement 802.1Q transparent bridging."
This group is mandatory for bridges that implement extended filtering services.
All objects must be read write if extended filtering services are enabled."
This group is optional as there may be significant implementation cost associated with its support."
This group is optional as there may be significant implementation cost associated with its support.
It is most relevant for high capacity interfaces where the SNMP agent supports only SNMPv1.
"This group is optional as there may be significant implementation cost associated with its support.
It is most relevant for high capacity interfaces.
"This group is mandatory for devices implementing both Independent VLAN Learning (IVL) and Shared VLAN Learning (SVL) modes of operation of the filtering database, as defined by IEEE 802.1Q.
This group is mandatory for devices implementing both Independent VLAN Learning (IVL) and Shared VLAN Learning (SVL) modes of operation of the filtering database, as defined by IEEE 802.1Q.
This group is mandatory ONLY for devices implementing VLAN Classification as specified in IEEE 802.1v."
This group is mandatory ONLY for devices implementing VLAN Classification as specified in IEEE 802.1v."
MIN ACCESS  read only DESCRIPTION
"Write access is not required as this is an optional capability in IEEE 802.1Q.
"Write access is not required as this is an optional capability in IEEE 802.1Q.
"Write access is not required as this is an optional capability in IEEE 802.1Q.
"Write access is not required as this is an optional capability in IEEE 802.1Q.
MIN ACCESS  read only DESCRIPTION
"Write access is not required as this is an optional capability in IEEE 802.1v.
"Write access is not required as this is an optional capability in IEEE 802.1v."
There are a number of management objects defined in this MIB module with a MAX ACCESS clause of read write and/or read create.
Such objects may be considered sensitive or vulnerable in some network environments.
The support for SET operations in a non secure environment without proper protection can have a negative effect on network operations.
These tables and objects and their sensitivity/vulnerability are described below.
The following tables and objects in the P BRIDGE MIB can be manipulated to interfere with the operation of priority classes.
This could, for example, be used to force a reinitialization of state machines, thus causing network instability.
Another possibility would be for an attacker to override established policy on port priorities, thus giving a user (or an attacker) unauthorized preferential treatment.
The following tables and objects in the Q BRIDGE MIB could be manipulated to interfere with the operation of virtual LANs.
This could, for example, be used to force a reinitialization of state machines to cause network instability, or changing the forwarding and filtering policies.
dot1qForwardAllTable dot1qStaticUnicastTable dot1qStaticMulticastTable dot1qVlanStaticTable dot1qPortVlanTable dot1qLearningConstraintsTable dot1vProtocolGroupTable dot1vProtocolPortTable
Some of the readable objects in this MIB module (i.e., objects with a MAX ACCESS other than not accessible) may be considered sensitive or vulnerable in some network environments.
It is thus important to control
even GET and/or NOTIFY access to these objects and possibly to even encrypt the values of these objects when sending them over the network via SNMP.
These are the tables and objects and their sensitivity/vulnerability.
The objects dot1dDeviceCapabilities and dot1dPortCapabilitiesTable in the P BRIDGE MIB could be used by an attacker to determine which attacks might be useful to attempt against a given device.
The following read only tables and objects in the Q BRIDGE MIB could be used by an attacker to determine which attacks might be useful to attempt against a given device, could be used by an attacker to detect whether their attacks are being blocked or filtered, or could be used to understand the logical topology of the network.
dot1qNumVlans dot1qFdbTable dot1qTpFdbTable dot1qTpGroupTable dot1qVlanCurrentTable dot1qPortVlanStatisticsTable SNMP versions prior to SNMPv3 did not include adequate security.
Even if the network itself is secure (for example by using IPSec), even then, there is no control as to who on the secure network is allowed to access and
the objects in this MIB module.
It is RECOMMENDED that implementers consider the security features as provided by the SNMPv3 framework (see [RFC3410], section 8), including full support for the SNMPv3 cryptographic mechanisms (for authentication and privacy).
Further, deployment of SNMP versions prior to SNMPv3 is NOT RECOMMENDED.
Instead, it is RECOMMENDED to deploy SNMPv3 and to enable cryptographic security.
It is then a customer/operator responsibility to ensure that the SNMP entity giving access to an instance of this MIB module is properly configured to give access to the objects only to those principals (users) that have legitimate rights to indeed GET or SET
Appendix A.  Email from Tony Jeffrey from IEEE  Original Message
Sent: Friday, 6th of June 2003 17:16 To: Wijnen, Bert (Bert)
VLAn ID Bert et al
We have concluded that the use of 4095 as a wildcard is acceptable to 802.1, and we will make any necessary changes to 802.1Q in due course to relax the current stated restriction.
However, we need to know whether that is all that needs to be done to 802.1Q i.e.
, is there any need to change our definitions of the managed objects in the document (Clause 12) to reflect the interpretation of 4095 as a wildcard, or is this simply an issue for the SNMP machinery to handle?
Regards, Tony Authors' Adresses David Levi Nortel Networks 4655 Great America Parkway Santa Clara, CA 95054
1 865 686 0432 EMail:
Effective Software 50 Harding Rd.
1 603 436 8634 EMail:
ietfdbh@comcast.net Vivian Ngai Salt lake City, UT USA EMail: vivian ngai@acm.org Les Bell Hemel Hempstead Herts.
HP2 7YU UK EMail: elbell@ntlworld.com
Andrew Smith Beijing Harbour Networks Jiuling Building 21 North Xisanhuan Ave.
1 415 345 1827 EMail: ah smith@acm.org Paul Langille Newbridge Networks 5 Corporate Drive Andover, MA 01810
1 978 691 4665 EMail:
Anil Rijhsinghani Accton Technology Corporation 5 Mount Royal Ave Marlboro, MA 01752
anil@accton.com Keith McCloghrie Cisco Systems, Inc. 170 West Tasman Drive San Jose, CA 95134 1706
1 408 526 5260 EMail:
