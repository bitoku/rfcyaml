- title: __initial_text__
  contents:
  - '   Description of Cisco Systems'' Subnet Allocation Option for DHCPv4

    '
- title: Abstract
  contents:
  - "Abstract\n   This memo documents a DHCPv4 option that currently exists and was\n\
    \   previously privately defined for the operation and usage of the Cisco\n  \
    \ Systems' Subnet Allocation Option for DHCPv4.  The option is passed\n   between\
    \ the DHCPv4 Client and the DHCPv4 Server to request dynamic\n   allocation of\
    \ a subnet, give specifications of the subnet(s)\n   allocated, and report usage\
    \ statistics.  This memo documents the\n   current usage of the option in agreement\
    \ with RFC 3942, which\n   declares that any preexisting usages of option numbers\
    \ in the range\n   128-223 should be documented and that the working group will\
    \ try to\n   officially assign those numbers to those options.\n"
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This document is not an Internet Standards Track specification;\
    \ it is\n   published for informational purposes.\n   This document is a product\
    \ of the Internet Engineering Task Force\n   (IETF).  It represents the consensus\
    \ of the IETF community.  It has\n   received public review and has been approved\
    \ for publication by the\n   Internet Engineering Steering Group (IESG).  Not\
    \ all documents\n   approved by the IESG are a candidate for any level of Internet\n\
    \   Standard; see Section 2 of RFC 5741.\n   Information about the current status\
    \ of this document, any errata,\n   and how to provide feedback on it may be obtained\
    \ at\n   http://www.rfc-editor.org/info/rfc6656.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (c) 2012 IETF Trust and the persons identified\
    \ as the\n   document authors.  All rights reserved.\n   This document is subject\
    \ to BCP 78 and the IETF Trust's Legal\n   Provisions Relating to IETF Documents\n\
    \   (http://trustee.ietf.org/license-info) in effect on the date of\n   publication\
    \ of this document.  Please review these documents\n   carefully, as they describe\
    \ your rights and restrictions with respect\n   to this document.  Code Components\
    \ extracted from this document must\n   include Simplified BSD License text as\
    \ described in Section 4.e of\n   the Trust Legal Provisions and are provided\
    \ without warranty as\n   described in the Simplified BSD License.\n   This document\
    \ may contain material from IETF Documents or IETF\n   Contributions published\
    \ or made publicly available before November\n   10, 2008.  The person(s) controlling\
    \ the copyright in some of this\n   material may not have granted the IETF Trust\
    \ the right to allow\n   modifications of such material outside the IETF Standards\
    \ Process.\n   Without obtaining an adequate license from the person(s) controlling\n\
    \   the copyright in such materials, this document may not be modified\n   outside\
    \ the IETF Standards Process, and derivative works of it may\n   not be created\
    \ outside the IETF Standards Process, except to format\n   it for publication\
    \ as an RFC or to translate it into languages other\n   than English.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1.  Introduction . . . . . . . . . . . . . . . . . . .\
    \ . . . . . .  4\n   2.  Conventions  . . . . . . . . . . . . . . . . . . . .\
    \ . . . . .  4\n   3.  Subnet Allocation Option Format  . . . . . . . . . . .\
    \ . . . .  5\n     3.1.  Subnet-Request Suboption Format  . . . . . . . . . .\
    \ . . .  5\n     3.2.  Subnet-Information Suboption Format  . . . . . . . . .\
    \ . .  7\n       3.2.1.  Subnet Prefix Information Block Format . . . . . . .\
    \ .  8\n     3.3.  Subnet-Name Suboption Format . . . . . . . . . . . . . . .\
    \  9\n     3.4.  Suggested-Lease-Time Suboption Format  . . . . . . . . . . 10\n\
    \   4.  Requesting Allocation of a Subnet  . . . . . . . . . . . . . . 10\n  \
    \   4.1.  Client DHCPDISCOVER Message  . . . . . . . . . . . . . . . 11\n    \
    \ 4.2.  Server DHCPOFFER Message . . . . . . . . . . . . . . . . . 11\n     4.3.\
    \  Client DHCPREQUEST Message . . . . . . . . . . . . . . . . 12\n     4.4.  Server\
    \ DHCPACK Message . . . . . . . . . . . . . . . . . . 13\n   5.  Client Renewal\
    \ of Subnet Lease . . . . . . . . . . . . . . . . 13\n     5.1.  Client RENEW\
    \ DHCPREQUEST Message . . . . . . . . . . . . . 13\n     5.2.  Server RENEW DHCPREQUEST\
    \ Response  . . . . . . . . . . . . 14\n     5.3.  Client DHCPRELEASE Message\
    \ . . . . . . . . . . . . . . . . 14\n     5.4.  Server DHCPFORCERENEW Message\
    \  . . . . . . . . . . . . . . 15\n   6.  Client Requesting Previously Allocated\
    \ Subnet Information  . . 15\n     6.1.  Initial Client DHCPDISCOVER Message \
    \ . . . . . . . . . . . 15\n     6.2.  Initial Server DHCPOFFER Response  . .\
    \ . . . . . . . . . . 16\n     6.3.  Additional Client DHCPDISCOVER Messages \
    \ . . . . . . . . . 16\n     6.4.  Additional Server DHCPOFFER Responses  . .\
    \ . . . . . . . . 16\n   7.  DHCP Server Subnet Allocation Method . . . . . .\
    \ . . . . . . . 17\n   8.  Examples . . . . . . . . . . . . . . . . . . . . .\
    \ . . . . . . 17\n     8.1.  Example 1  . . . . . . . . . . . . . . . . . . .\
    \ . . . . . 17\n     8.2.  Example 2  . . . . . . . . . . . . . . . . . . . .\
    \ . . . . 19\n   9.  Differences from DHCPv6 Prefix Delegation  . . . . . . .\
    \ . . . 21\n   10. Security Considerations  . . . . . . . . . . . . . . . . .\
    \ . . 22\n   11. IANA Considerations  . . . . . . . . . . . . . . . . . . . .\
    \ . 22\n   12. References . . . . . . . . . . . . . . . . . . . . . . . . . .\
    \ 23\n     12.1. Normative References . . . . . . . . . . . . . . . . . . . 23\n\
    \     12.2. Informative References . . . . . . . . . . . . . . . . . . 23\n  \
    \ Appendix A.  Acknowledgments . . . . . . . . . . . . . . . . . . . 23\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   This memo documents a DHCP option [RFC2132], the Subnet\
    \ Allocation\n   option, that was developed by Cisco and allows a DHCP Client\
    \ to\n   allocate a subnet given information from a DHCP Server.  This\n   protocol\
    \ makes use of DHCP option number 220, one of the option\n   numbers reclassified\
    \ by [RFC3942].  That RFC specifies in Section 4,\n   procedure 2, \"Vendors that\
    \ currently use one or more of the\n   reclassified options have 6 months following\
    \ this RFC's publication\n   date to notify the DHC WG and IANA that they are\
    \ using particular\n   options numbers and agree to document that usage in an\
    \ RFC\".  This\n   memo serves as that documentation.  The DHC WG has had no input\
    \ into\n   any of the details of the protocol operation and makes no statement\n\
    \   about the correctness or any other aspect of the protocol.  The WG\n   also\
    \ has seen no interest in further implementation or deployment of\n   this protocol\
    \ other than privately, and therefore has decided to\n   publish this document\
    \ solely for informational purposes.\n   The Subnet Allocation option provides\
    \ a straightforward way to\n   allocate a subnet from DHCP, useful for a simple\
    \ Dial-in Aggregation\n   box, or to implement a Hierarchical chain of DHCP Servers,\
    \ each one\n   in turn leasing one or more subnets to the next DHCP Server down\
    \ the\n   chain.  This option is specified in such a way as to use one DHCP\n\
    \   option number, while using suboption numbers for each function.\n"
- title: 2.  Conventions
  contents:
  - "2.  Conventions\n   The key words \"MUST\", \"MUST NOT\", \"REQUIRED\", \"SHALL\"\
    , \"SHALL NOT\",\n   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"MAY\", and\
    \ \"OPTIONAL\" in this\n   document are to be interpreted as described in [RFC2119].\n\
    \   This document also uses the following terms:\n   DHCP Client:  DHCP Client\
    \ or \"Client\" is an Internet host using DHCP\n      to obtain configuration\
    \ parameters such as a network address.\n   DHCP Server:  A DHCP Server or \"\
    Server\" is an Internet host that\n      returns configuration parameters to DHCP\
    \ Clients.\n"
- title: 3.  Subnet Allocation Option Format
  contents:
  - "3.  Subnet Allocation Option Format\n    0                   1              \
    \     2\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-\n\
    \   |     Code      |     Len       |     Flags     | Suboptions ...\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-\n\
    \   Code  = Subnet Allocation option code (1 octet): 220\n   Len   = Length of\
    \ the entire option including all suboptions\n           (1 octet)\n   Flags =\
    \ Various flags: (None currently defined)\n   One or more suboptions may be specified\
    \ as described below.\n"
- title: 3.1.  Subnet-Request Suboption Format
  contents:
  - "3.1.  Subnet-Request Suboption Format\n    0                   1            \
    \       2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\
    \ 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       1       |      Len      |    Flags  :i:h|    Prefix     |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   Len   = Length of the suboption (always 2 for this suboption)\n          \
    \ (1 octet)\n   Flags = Flags field. (all unused bits must be zero)\n       'h'\
    \ = Hierarchical flag\n             1 : Client will be allocating addresses from\
    \ this subnet.\n             0 : Client will be relaying DHCP requests to the\
    \ Server\n                 from this subnet.\n       'i' = Information flag\n\
    \             1 : Client is seeking information about previously\n           \
    \      allocated subnets.\n             0 : Client is seeking a new subnet allocation.\n\
    \   Prefix = Network prefix length requested\n            (0 means no suggested\
    \ length is given) (1 octet)\n   The DHCP Server SHOULD NOT include the Subnet\
    \ Request suboption in\n   any replies to the DHCP Client.  Enough information\
    \ will be present\n   in the Subnet-Information suboption, such that the Subnet\
    \ Request\n   suboption is not needed in replies to the Client.\n   The DHCP Server\
    \ SHOULD allocate a subnet with prefix length [RFC4632]\n   less than or equal\
    \ to the \"Prefix\" field length specified in the\n   request.  In other words,\
    \ a subnet containing a number of addresses\n   at least the size indicated by\
    \ the prefix length requested and\n   possibly more.  The DHCP Server MAY allocate\
    \ a subnet with a prefix\n   length greater than that specified in the request\
    \ (or a subnet with a\n   number of addresses less than requested), but this is\
    \ not encouraged.\n   A \"Prefix\" field size of 0 MAY be specified by the DHCP\
    \ Client.  In\n   this case, no suggested prefix length is given.\n   Multiple\
    \ Subnet-Request suboptions in a DHCP packet indicate that\n   multiple subnets\
    \ are being requested.  Note that multiple occurrences\n   of this suboption MUST\
    \ NOT be concatenated in the sense of [RFC3396].\n   Each Subnet-Request suboption\
    \ MUST result in no more than one Subnet-\n   Information suboption in the DHCPOFFER\
    \ message from the Server, and\n   may result in no Subnet-Information suboptions.\n\
    \   The Client MAY also include the Subnet-Information suboption in order\n  \
    \ to request a particular subnet.  In this case, the Client SHOULD only\n   include\
    \ one Subnet-Request suboption, since it would otherwise be\n   unclear which\
    \ Subnet-Information suboption referred to which Subnet-\n   Request suboption.\
    \  Multiple subnet requests can be made by sending\n   multiple DHCPDISCOVER packets.\n\
    \   Setting the 'h' flag to 1 indicates the Client will be allocating\n   addresses\
    \ from the allocated subnet(s) itself.  This can be thought\n   of as a \"Hierarchical\
    \ DHCP\" design in that control of allocation for\n   the subnet(s) will be passed\
    \ to the Client.\n   Setting the 'h' flag to 0 indicates the Client wants the\
    \ DHCP Server\n   to retain control over allocation of addresses from the subnet(s).\n\
    \   Any address allocation requests on the subnet will be relayed back to\n  \
    \ the DHCP Server.\n   Setting the 'i' flag to 1 indicates the Client is NOT seeking\n\
    \   allocation of any subnets, but is simply seeking information from the\n  \
    \ Server as to what subnet(s) have been allocated (or reserved) for\n   this Client.\
    \  If the 'i' flag is set to 1, then the \"Prefix\" field\n   SHOULD be set to\
    \ 0 and MUST be ignored by the Server.  In this case,\n   the conversation between\
    \ the Client and the Server will only progress\n   to the DHCPOFFER packet from\
    \ the Server, giving the information, as\n   described in Section 6 below.\n \
    \  Any undefined flags (those other than 'i' and 'h', mentioned above)\n   should\
    \ be ignored by the DHCP Server.\n"
- title: 3.2.  Subnet-Information Suboption Format
  contents:
  - "3.2.  Subnet-Information Suboption Format\n    0                   1        \
    \           2\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-\n\
    \   |       2       |     Len       | Flags     :c:s| SP1, SP2, ...\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-\n\
    \   Len   = Length of the suboption (min. length of 8) (1 octet)\n   Flags = Various\
    \ flags that apply to ALL Subnet Prefix\n           Information fields specified\
    \ in this suboption.\n           Unused flags must be zero.\n       'c' : Client\
    \ flag (explained below)\n             1 : This information is in response to\
    \ a Client request\n                 (or has been echoed back by the Client, when\
    \ asking\n                 for the next previously allocated subnet from the\n\
    \                 Server).\n             0 : Otherwise.\n       's' : Server flag\
    \ (explained below)\n             1 : Server has additional subnet information\
    \ for this\n                 Client.\n             0 : Otherwise.\n   SP1, SP2,\
    \ ...  Subnet Prefix Information blocks as specified below\n                 \
    \ (variable size)\n   Setting the 'c' flag to 1 indicates this Subnet-Information\
    \ suboption\n   is in response to a Client request for information from the Server\
    \ as\n   to what subnet(s) have been allocated.  This flag is used in response\n\
    \   to a Subnet-Request suboption with the 'i' flag set and should be 0\n   in\
    \ other Server responses.  Note, the flag is echoed back from the\n   Client to\
    \ the Server when requesting the \"next previously allocated\n   subnet\".  Another\
    \ way to think of the 'c' bit would be that it\n   indicates that the subnet information\
    \ contained in this suboption\n   does not represent a new allocation by the Server\
    \ or a new request\n   for allocation by the Client, but instead represents previously\n\
    \   allocated subnet information.\n   Setting the 's' flag to 1 indicates the\
    \ Server has additional subnet\n   information for the Client.\n   Any undefined\
    \ flags (those other than 'c' and 's', mentioned above)\n   should be ignored\
    \ by the DHCP Server.\n   The Subnet-Information suboption is used by the DHCP\
    \ Server in order\n   to return information as to what subnets are offered (in\
    \ the case of\n   a DHCPOFFER packet) or allocated (in the case of a DHCPACK packet).\n\
    \   As is indicated above, multiple subnets may be returned in one\n   Subnet-Information\
    \ suboption.\n   The Subnet-Information suboption is also used by the DHCP Client\
    \ in\n   order to request allocation of specific subnets in a DHCPREQUEST\n  \
    \ packet.  In this case, the \"Network\", \"Prefix\", and \"Flags\" fields\n \
    \  contained in the associated Subnet Prefix Information blocks MUST NOT\n   be\
    \ changed from the information that was received in the DHCPOFFER\n   packet from\
    \ the Server.  The Client MAY, however, use multiple\n   Subnet-Information suboptions\
    \ in order to request subnets that were\n   originally specified by the Server\
    \ inside one Subnet-Information\n   suboption.\n"
- title: 3.2.1.  Subnet Prefix Information Block Format
  contents:
  - "3.2.1.  Subnet Prefix Information Block Format\n    0                   1   \
    \                2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6\
    \ 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |                           Network                             |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |    Prefix     |     Flags :h:d|   Stat-len    |  Optional stats...\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   Network = IPv4 network number (4 octets)\n   Prefix  = Prefix length (1 octet)\n\
    \   Flags   = Flags field (Undefined bits must be zero) (1 octet)\n       'd'\
    \ = Deprecate flag (explained below)\n             1 : Deprecation of this subnet\
    \ is requested.\n             0 : No deprecation is needed.\n       'h' = Hierarchical\
    \ flag (explained below)\n             1 : Client will be allocating addresses\
    \ from this subnet.\n             0 : Client will be relaying DHCP requests to\
    \ the Server\n                 from this subnet.\n   Stat-len = Length of the\
    \ optional statistics information field\n              (zero if no statistics\
    \ are included) (1 octet)\n   The 'd' flag may only be returned by the Server\
    \ to the Client (inside\n   a DHCPACK packet, in response to a DHCP RENEW).  Its\
    \ presence means\n   that the Client should prepare to give up the subnet.  For\
    \ example,\n   if the Client is assigning addresses from this subnet to other\n\
    \   Clients, it should cease doing so immediately and should not renew\n   any\
    \ leases when Clients ask for renewal.  As soon as all addresses in\n   the subnet\
    \ are unallocated, the Client should send a DHCPRELEASE\n   message to the Server,\
    \ including a Subnet Prefix Information block\n   for the subnet in order to release\
    \ the subnet.  The format of this\n   message is described farther below.\n  \
    \ The 'h' flag tells the Client how the Server intends for the Client\n   to use\
    \ the allocated subnet.  It is interpreted in the same manner as\n   that in the\
    \ Subnet-Request suboption.  In response to a Subnet-\n   Request, the Server\
    \ should normally specify the 'h' flag in the same\n   manner as it was in the\
    \ Subnet-Request suboption from the Client.\n   The Server MAY, however, change\
    \ the 'h' flag from that specified in\n   the Subnet-Request suboption if it has\
    \ been configured to override\n   the Client's request.\n   Any undefined flags\
    \ (those other than 'd' and 'h', mentioned above)\n   should be ignored by the\
    \ DHCP Server.\n   If any usage statistics information is to be included, then\
    \ the\n   \"Stat-len\" field specifies the number of bytes of statistics\n   information\
    \ that is included.  See below for more information.  If no\n   statistics information\
    \ is included, then this byte MUST be zero.  The\n   \"Stat-len\" field SHOULD\
    \ always be zero when this suboption is sent by\n   the DHCP Server.  The usage\
    \ statistics information is intended for\n   use only to report usage statistics\
    \ from the Client to the Server.\n"
- title: 3.2.1.1.  Subnet Usage Statistics
  contents:
  - "3.2.1.1.  Subnet Usage Statistics\n   The Subnet-Information suboption may also\
    \ include usage statistics\n   information.  If this information is included,\
    \ then the \"Stat-len\"\n   (Statistics length) field MUST be set to the number\
    \ of bytes of\n   statistics information that is being included.  The statistics\n\
    \   information MUST be in the following form and order:\n    0              \
    \     1\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |           High water          |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |         Currently in use      |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |           Unusable            |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   \"High water\" refers the to \"high-water mark\" of allocated addresses\n\
    \   within the subnet.  That is, the largest number of addresses that\n   were\
    \ ever allocated at one time from the subnet.\n   \"Currently in use\" refers\
    \ to the number of addresses currently\n   allocated in the subnet.\n   \"Unusable\"\
    \ refers to the number of addresses that are currently\n   unusable for any reason\
    \ (such as a Client returning a DHCPDECLINE, or\n   finding the address already\
    \ in use).\n   Additional statistics may be added to this option in the future.\
    \  If\n   so, they MUST be appended immediately after the already defined\n  \
    \ statistics fields.  All statistics fields MUST remain in the same\n   order.\
    \  Use the all ones value (0xffff) in order to skip reporting a\n   number for\
    \ a particular field.  Fewer fields may be included than\n   what is specified\
    \ above; for example, if \"Stat-len\" is \"4\", then the\n   \"Unusable\" field\
    \ has not been included.  All fields that are included\n   MUST remain in order\
    \ specified here.\n"
- title: 3.3.  Subnet-Name Suboption Format
  contents:
  - "3.3.  Subnet-Name Suboption Format\n    0                   1\n    0 1 2 3 4\
    \ 5 6 7 8 9 0 1 2 3 4 5 6\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-\n   |       3\
    \       |     Len       | Name ...\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-\n  \
    \ Len  = length of the suboption (min. length of 1) (1 octet)\n   The Subnet-Name\
    \ suboption may be used in order to pass a subnet name\n   to the Server for use\
    \ during allocation.  This name may be used for\n   any purpose but is intended\
    \ to tell the Server something extra about\n   the needed subnet; for example,\
    \ \"sales department\", \"customer 1002\",\n   \"address pool FOO\", or some such.\
    \  The \"name\" should NOT be NULL\n   terminated since the \"len\" field already\
    \ specifies the length of the\n   name.  The \"Name\" in this suboption MUST be\
    \ given using UTF-8\n   [RFC3629].\n"
- title: 3.4.  Suggested-Lease-Time Suboption Format
  contents:
  - "3.4.  Suggested-Lease-Time Suboption Format\n    0                   1      \
    \             2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8\
    \ 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       4       |     Len (4)   |       t1      |       t2      |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       t3      |       t4      |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   Len  = length of the suboption (always 4 for this suboption) (1\n      octet)\n\
    \   The Suggested-Lease-Time suboption MAY be included by the Server in\n   order\
    \ to suggest the lease time to be used by the Client when\n   allocating addresses\
    \ from the subnet allocated.  The 4-octet value of\n   the lease time is in the\
    \ same format as that of the \"IP Address Lease\n   Time\" option (option 51),\
    \ as described in [RFC2132].\n   If included, this suboption MUST appear only\
    \ once.  (Inclusion of\n   multiple such suboptions would result in ambiguity\
    \ as to which\n   applied to which subnet.)  If different suggested lease times\
    \ are\n   needed, the Server SHOULD, instead, reply with only one offered\n  \
    \ subnet and should set the \"Server flag\" in the Subnet-Information\n   suboption\
    \ to indicate to the Client that it should send another\n   subnet request to\
    \ gather the others.\n   The Client SHOULD use a lease time, when allocating addresses\
    \ from\n   the subnet, that is the lesser of the remaining lease time of the\n\
    \   subnet itself and the Suggested-Lease-Time suboption.\n"
- title: 4.  Requesting Allocation of a Subnet
  contents:
  - '4.  Requesting Allocation of a Subnet

    '
- title: 4.1.  Client DHCPDISCOVER Message
  contents:
  - "4.1.  Client DHCPDISCOVER Message\n   The DHCP Client creates a DHCPDISCOVER\
    \ message including the Subnet\n   Allocation option, and its set of suboptions,\
    \ to request allocation\n   of a subnet.  The DHCP Client should include the Subnet-Request\n\
    \   suboption, specifying the prefix length of the subnet requested.  The\n  \
    \ 'h' bit should be set to 1 if the Client intends to control\n   allocation of\
    \ addresses within the subnet itself, or 0 if the Server\n   should retain control\
    \ of addresses within the subnet.  More than one\n   Subnet Allocation option\
    \ may appear in a DHCPDISCOVER message;\n   however, the Client SHOULD limit the\
    \ number of requests, noting that\n   the DHCP replies will need to include the\
    \ Subnet-Information\n   suboption, which takes up more space than the Subnet-Request\n\
    \   suboption.\n   If more than one subnet is being requested, multiple Subnet-Request\n\
    \   suboptions MAY be included or multiple DHCPDISCOVER messages MAY be\n   sent\
    \ instead.  The prefix length field of each Subnet-Request\n   suboption MUST\
    \ be either 0, or in the range of 1 to 30 inclusive.\n   The DHCP \"IP address\
    \ lease time\" option (code 51) MAY be included in\n   the DHCPDISCOVER message\
    \ to specify the lease time the Client is\n   requesting for the subnet.  If not\
    \ present, no suggested lease time\n   is given.\n   The DHCP \"Client ID\" option\
    \ (code 61) MAY be included in the\n   DHCPDISCOVER message as it may be used\
    \ by the Server in performing\n   the subnet allocation.\n"
- title: 4.2.  Server DHCPOFFER Message
  contents:
  - "4.2.  Server DHCPOFFER Message\n   Upon receiving a DHCPDISCOVER containing the\
    \ Subnet Allocation\n   option, the DHCP Server SHOULD respond with a DHCPOFFER\
    \ message\n   including the Subnet-Information suboption in order to specify the\n\
    \   subnet(s) that it is willing to allocate to the Client in order to\n   fulfill\
    \ the request(s).\n   The Server need not reserve the subnets that are being offered,\
    \ but\n   SHOULD not offer the same subnets to another DHCP Client until a\n \
    \  reasonable time period (implementation dependent) has passed.  (This\n   is\
    \ similar to normal DHCP address allocation.)\n   The Server MUST NOT include\
    \ the Subnet-Request suboption in the\n   DHCPOFFER.  The same information is\
    \ already present in the Subnet\n   Information suboption(s) that SHOULD be included\
    \ in the DHCPOFFER.\n   The Server SHOULD also include the IP address lease time\
    \ option\n   (option 51) in the DHCPOFFER message.  This gives the lease time\
    \ for\n   all subnets given in all Subnet-Request suboptions contained in the\n\
    \   DHCPOFFER message.  The Server MAY also include the Renewal and/or\n   Rebinding\
    \ options in order to further control the \"T1\" and \"T2\" lease\n   timers of\
    \ the Client.  There MUST be exactly one IP address lease\n   time (and optionally\
    \ one Rebinding and/or one Renewal option) in the\n   DHCPOFFER message.\n   The\
    \ Server MAY set the \"Server flag\" ('s') to 1 to indicate that it\n   would\
    \ like to allocate one or more additional subnet(s) to the\n   Client.  This indicates\
    \ that the Client should send another\n   DHCPDISCOVER message specifying a prefix\
    \ length field, P, of zero in\n   order to request the additional subnet allocation(s)\
    \ information.\n   This may be necessary if the subnets are to be allocated with\n\
    \   different lease times, for example.\n   The \"Client flag\" ('c') MUST be\
    \ set to 0 to indicate this is a Server\n   response to a Client request for a\
    \ new subnet allocation and not a\n   response to a request for information about\
    \ already allocated\n   subnets.\n   If the packet contains a Subnet Allocation\
    \ option, the Server SHOULD\n   set the DHCP yiaddr value to all zeros (0.0.0.0)\
    \ and the Client MUST\n   ignore fields having to do with address assignment.\
    \  In other words,\n   a DHCP packet exchange cannot provide subnet allocation\
    \ and address\n   assignment simultaneously.\n"
- title: 4.3.  Client DHCPREQUEST Message
  contents:
  - "4.3.  Client DHCPREQUEST Message\n   When sending a DHCPREQUEST, the Client MUST\
    \ NOT modify any fields of\n   any Subnet-Information suboptions received from\
    \ the Server.  However,\n   the Client MAY choose not to include some Subnet-Information\n\
    \   suboptions when issuing the DHCPREQUEST.  Subnet-Request suboptions\n   MUST\
    \ NOT be included in the DHCPREQUEST message; only the Subnet-\n   Information\
    \ suboption(s) should be included.\n"
- title: 4.4.  Server DHCPACK Message
  contents:
  - "4.4.  Server DHCPACK Message\n   The DHCP Server, upon receipt of the Client's\
    \ DHCPREQUEST message,\n   MAY refuse allocation of any subnets (for example,\
    \ if they have been\n   allocated elsewhere in the meantime); however, since the\
    \ Server\n   should have set aside the subnets offered for a short period of time,\n\
    \   and since the Client should have requested the subnets within a short\n  \
    \ period of time after receiving the offer(s) from the Server(s), this\n   last\
    \ minute rejection should be rare.  The DHCP Server MUST NOT\n   change the network\
    \ number(s) or prefix length(s); however, it MAY\n   remove some Subnet-Information\
    \ suboptions from the list.\n   The Server SHOULD include the IP address lease\
    \ time option specifying\n   the lease period for all subnet(s) in the DHCPACK.\
    \  All subnets\n   allocated in one DHCP message will have the same lease time,\
    \ and only\n   one IP address lease time option must appear in the DHCP message.\n\
    \   If the Server has internal information that states that the Client\n   should\
    \ be allocated more subnets than were requested, the Server MAY\n   set the 's'\
    \ bit in the last Subnet-Information suboption to indicate\n   that the Client\
    \ needs to request more subnets (as described above).\n   The allocable unit is\
    \ the tuple (network number, prefix length).\n   Multiple subnets may be allocated\
    \ in one DHCPACK; however, since\n   there can be only one Lease-time option,\
    \ each subnet allocated is\n   assigned the same lease time.  Each subnet lease\
    \ tuple (network\n   number, prefix length) MAY be renewed or released individually.\n"
- title: 5.  Client Renewal of Subnet Lease
  contents:
  - '5.  Client Renewal of Subnet Lease

    '
- title: 5.1.  Client RENEW DHCPREQUEST Message
  contents:
  - "5.1.  Client RENEW DHCPREQUEST Message\n   The Client MUST renew all subnets\
    \ allocated with a lease time in much\n   the same manner as renewing an allocated\
    \ IP address.  Renewal timers\n   need not be set in exactly the same manner,\
    \ however.  If Renewal\n   and/or Rebinding options were included in the DHCPACK\
    \ of the subnet\n   allocation, then these \"T1\" and \"T2\" timers should be\
    \ used just as\n   they would be in the case of address allocation timers.\n \
    \  The DHCPREQUEST message MUST include a Subnet-Information suboption\n   for\
    \ which the Client is seeking renewal of the lease.  This Subnet-\n   Information\
    \ suboption may optionally include subnet usage statistics,\n   as described above\
    \ in Section 3.2 (\"Subnet-Information Suboption\n   Format\").\n   The subnet\
    \ network number field (\"Network\") and subnet prefix length\n   field (\"Prefix\"\
    ) MUST agree with the values as they were originally\n   allocated to the Client\
    \ by the Server.  In any of the statistics\n   fields (High water, Currently in\
    \ use, Unusable), a value of all ones\n   (0xffff) SHOULD be used if the Client\
    \ has no information to report\n   for a statistic.\n"
- title: 5.2.  Server RENEW DHCPREQUEST Response
  contents:
  - "5.2.  Server RENEW DHCPREQUEST Response\n   The Server MAY respond to a subnet\
    \ RENEW with either a DHCPACK or\n   DHCPNAK response.  If a DHCPNAK response\
    \ is given, the Client MUST\n   immediately stop using the subnet(s) specified\
    \ and, if possible,\n   notify all Clients with addresses allocated from this\
    \ subnet that\n   their addresses are no longer valid.  The Client MAY, of course,\
    \ send\n   a DHCPDISCOVER message containing the Subnet Allocation option and\n\
    \   the Subnet-Request suboption in order to acquire another subnet for\n   use.\
    \  In general, the Server should ask the Client to deprecate\n   subnets by using\
    \ the 'd' bit of the Subnet-Information suboption in a\n   DHCPACK message (see\
    \ below).\n   If a DHCPACK response is given, the \"Deprecate\" ('d') bit of the\n\
    \   Flags field in the Subnet-Information suboption may also be set.\n   This\
    \ indicates the DHCP Client should prepare to stop using this\n   subnet.  If\
    \ the Client is allocating IP addresses for other Clients\n   from this subnet\
    \ (e.g., via DHCP), the Client SHOULD immediately stop\n   allocating such addresses.\
    \  Once all allocated addresses in the\n   subnet have been released, the Client\
    \ SHOULD send a DHCPRELEASE\n   message, including the Subnet-Information suboption\
    \ (with optional\n   usage statistics) in order to release the subnet(s) back\
    \ to the\n   Server.\n"
- title: 5.3.  Client DHCPRELEASE Message
  contents:
  - "5.3.  Client DHCPRELEASE Message\n   The DHCP Client SHOULD send a DHCPRELEASE\
    \ message in order to release\n   allocated subnet(s) back to the Server when\
    \ it is finished using\n   them.  This message MUST NOT include the Subnet-Request\
    \ suboption,\n   but MUST include one or more Subnet-Information suboptions, and\
    \ may\n   optionally include usage statistics.\n   The Client MUST release the\
    \ same subnet(s) of the same prefix length\n   (\"Prefix\"), as were originally\
    \ allocated.  The Client MAY release a\n   subset of the subnets that were allocated\
    \ originally.  In other\n   words, the allocable unit is the tuple (network number,\
    \ prefix\n   length).  Multiple subnets may be allocated in one DHCPACK; however,\n\
    \   each subnet MAY be released individually.\n"
- title: 5.4.  Server DHCPFORCERENEW Message
  contents:
  - "5.4.  Server DHCPFORCERENEW Message\n   The DHCP Server MAY issue a DHCPFORCERENEW\
    \ [RFC3203] message\n   containing the Subnet Allocation option and the Subnet-Information\n\
    \   suboption.  Upon receiving this message, the DHCP Client MUST issue a\n  \
    \ DHCPREQUEST message to the DHCP Server in order to renew the lease on\n   the\
    \ subnet mentioned.  No other subnets allocated to the Client are\n   affected.\
    \  As is the case with all DHCP RENEW messages, the Client\n   may include subnet\
    \ usage information in the Subnet-Information\n   suboption in order to report\
    \ subnet usage statistics, or set the\n   \"Stat-len\" field to 0 if no statistics\
    \ are to be reported.\n   If the Server responds to this DHCPREQUEST with a DHCPNAK\
    \ message,\n   then the Client MUST immediately stop using the subnet(s) and,\
    \ if\n   possible, notify all Clients with addresses allocated from this/these\n\
    \   subnet(s) that their addresses are no longer valid.  The Client MAY,\n   of\
    \ course, send a DHCPDISCOVER message containing the Subnet\n   Allocation option\
    \ and the Subnet-Request suboption in order to\n   acquire another subnet for\
    \ use.\n"
- title: 6.  Client Requesting Previously Allocated Subnet Information
  contents:
  - "6.  Client Requesting Previously Allocated Subnet Information\n   A DHCP Client\
    \ MAY request from the DHCP Server a list of what subnets\n   are currently allocated\
    \ to the Client.  This may be used to recover\n   from a restart if the Client\
    \ does not have local storage in order to\n   retain the information itself. \
    \ (For an example of this, see\n   Section 8.2 below.)\n"
- title: 6.1.  Initial Client DHCPDISCOVER Message
  contents:
  - "6.1.  Initial Client DHCPDISCOVER Message\n   The DHCP Client DHCPDISCOVER message,\
    \ when used to discover already\n   allocated subnet information, SHOULD contain\
    \ a Subnet-Request\n   suboption with the \"Prefix\" field set to 0 and with the\
    \ 'i' flag set\n   to 1 to indicate that the Client is seeking already allocated\
    \ subnet\n   information from the Server.  No Subnet-Information suboptions should\n\
    \   be included in this message.  Note, no Subnet-Information suboption\n   is\
    \ included in this message, since the Client would not know of any\n   subnet\
    \ to request at that point.\n   This DHCPDISCOVER message MAY be unicast to a\
    \ particular DHCP Server,\n   or broadcast in the normal fashion.\n"
- title: 6.2.  Initial Server DHCPOFFER Response
  contents:
  - "6.2.  Initial Server DHCPOFFER Response\n   Any DHCP Server that has allocated\
    \ subnets to the Client SHOULD\n   respond to the DHCPDISCOVER message with a\
    \ DHCPOFFER message.  The\n   DHCPOFFER message should contain one or more Subnet-Information\n\
    \   suboption(s) telling the prefix of the subnet(s) allocated to the\n   Client.\n\
    \   The Server SHOULD, internally, retain an ordered list of subnets that\n  \
    \ are allocated to each Client.  In response to an initial DHCPDISCOVER\n   message\
    \ requesting allocated subnet information (i.e., one with the\n   'i' flag set\
    \ to 1, but not carrying a Subnet-Information suboption),\n   the Server returns\
    \ in the DHCPOFFER message the subnet information\n   for the first subnet(s)\
    \ from this list.  If the end of the list has\n   been reached, then the 's' bit\
    \ of the last Subnet-Information\n   suboption included in the message MUST be\
    \ set to 0.  If there are\n   more subnets in the list, the 's' bit MUST be set\
    \ to 1 to indicate to\n   the Client that more information is available.  Since\
    \ this\n   information is in response to a Client request for previously\n   allocated\
    \ subnet information, the 'c' bit MUST be set to 1.\n"
- title: 6.3.  Additional Client DHCPDISCOVER Messages
  contents:
  - "6.3.  Additional Client DHCPDISCOVER Messages\n   The Client, upon receiving\
    \ any Server DHCPOFFER messages containing\n   Subnet Information suboption information\
    \ with the 'c' (\"Client\") bit\n   set, SHOULD gather the network number (\"\
    Network\") and prefix length\n   (\"Prefix\") information from the message.\n\
    \   If the 's' bit is set in the last of the Subnet-Information\n   suboptions\
    \ included in the message, then the Client SHOULD construct\n   a new DHCPDISCOVER\
    \ message containing the Subnet Allocation option\n   and the last Subnet-Information\
    \ suboption from the Server's message.\n   This message SHOULD then be sent back\
    \ to the same DHCP Server\n   originating the DHCPOFFER message.  The 'c' and\
    \ 's' bits MUST retain\n   the same settings they had from the Server's DHCPOFFER\
    \ message and\n   the network number (\"Network\") and prefix length (\"Prefix\"\
    ) fields\n   MUST be unaltered as well.\n   If the 's' bit in all of the Subnet-Information\
    \ suboptions from the\n   Server was 0, then it indicates the Server has no more\
    \ information\n   about subnets allocated to the Client.\n"
- title: 6.4.  Additional Server DHCPOFFER Responses
  contents:
  - "6.4.  Additional Server DHCPOFFER Responses\n   The Server, upon receiving from\
    \ a Client an additional DHCPDISCOVER\n   message for allocated subnet information\
    \ retrieval, with the 'i' flag\n   set to 1 and containing one or more Subnet\
    \ Information suboptions\n   with the 'c' and the 's' bits set, MUST use the network\
    \ number\n   (\"Network\") and prefix length (\"Prefix\") fields contained in\
    \ the last\n   such Subnet Information suboption.  This is in order to locate\
    \ the\n   position in the internal table of allocated subnets for this Client.\n\
    \   Then, the Server MUST return an DHCPOFFER message containing a\n   Subnet-Information\
    \ suboption giving information about the next set of\n   subnets allocated to\
    \ this Client.  If this finishes the list in the\n   table for this Client, then\
    \ the 's' bit MUST be set to 0 to indicate\n   there is no more information. \
    \ Any Subnet Information suboptions\n   encountered without both the 'c' and 's'\
    \ bits set should be ignored\n   by the Server.\n"
- title: 7.  DHCP Server Subnet Allocation Method
  contents:
  - "7.  DHCP Server Subnet Allocation Method\n   The actual method of allocating\
    \ subnets on the DHCP Server, as well\n   as the configuration of what networks\
    \ may be subnetted and how, is\n   left up to the implementation.\n"
- title: 8.  Examples
  contents:
  - "8.  Examples\n   Only the Subnet Allocation option and accompanying suboptions\
    \ are\n   displayed in these examples.  All other fields in the DHCP messages\n\
    \   are described in [RFC2131].\n"
- title: 8.1.  Example 1
  contents:
  - "8.1.  Example 1\n   A DHCP Client requesting a subnet with prefix length 24 from\
    \ which\n   the Client will allocate addresses to other Clients.  The Server\n\
    \   responds with an allocation of exactly the size requested:\n   The Client\
    \ sends a DHCPDISCOVER message including a Subnet Allocation\n   option with the\
    \ Subnet-Request suboption:\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |      220      |       5       |       0       |       1       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       2       |     0     |0|0|       24      |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   The Server responds with a DHCPOFFER message including a Subnet\n   Allocation\
    \ option with a Subnet-Information suboption, offering the\n   subnet 10.0.1.0/24.\n\
    \   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   |  \
    \    220      |      11       |       0       |       2       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       8       |     0     |0|0|      10       |       0       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       1       |       0       |      24       |           |0|0|\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       0       |\n   +-+-+-+-+-+-+-+-+\n   The Client sends a DHCPREQUEST\
    \ including a Subnet Allocation option\n   with a Subnet-Information suboption:\n\
    \   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   |  \
    \    220      |      11       |       0       |       2       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       8       |     0     |0|0|      10       |       0       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       1       |       0       |      24       |           |0|0|\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       0       |\n   +-+-+-+-+-+-+-+-+\n   The Server responds with a DHCPACK\
    \ message including a Subnet\n   Allocation option with a Subnet-Information suboption:\n\
    \   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   |  \
    \    220      |      11       |       0       |       2       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       8       |     0     |0|0|      10       |       0       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       1       |       0       |      24       |           |0|0|\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       0       |\n   +-+-+-+-+-+-+-+-+\n   Later, the Client sends a DHCPRELEASE\
    \ message including a Subnet\n   Allocation option with a Subnet-Information suboption:\n\
    \   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   |  \
    \    220      |      11       |       0       |       2       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       8       |     0     |0|0|      10       |       0       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       1       |       0       |      24       |           |0|0|\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       0       |\n   +-+-+-+-+-+-+-+-+\n"
- title: 8.2.  Example 2
  contents:
  - "8.2.  Example 2\n   A DHCP Client requesting two subnets, each with prefix length\
    \ 24:\n   The Client sends a DHCPDISCOVER message including a Subnet Allocation\n\
    \   option with a Subnet-Request suboption:\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |      220      |       9       |       0       |       1       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       2       |     0     |0|0|       24      |       1       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       2       |     0     |0|0|       24      |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   The Server responds with a DHCPOFFER message including a Subnet\n   Allocation\
    \ option with a Subnet-Information suboption:\n   The DHCPOFFER specifies one\
    \ subnet of size 24 and one subnet of size\n   28.\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |      220      |      18       |       0       |       2       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       15      |           |0|0|      10       |       0       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       2       |      0        |      24       |           |0|0|\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       0       |     10        |       0       |       3       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       0       |     28        |           |0|0|       0       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   The Client sends a DHCPREQUEST message including a Subnet Allocation\n   option\
    \ with a Subnet-Information suboption:\n   The Client decides that the subnet\
    \ of size 28 is not sufficient so it\n   doesn't include that subnet in the DHCPREQUEST\
    \ message.\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |      220      |      11       |       0       |       2       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       8       |           |0|0|      10       |       0       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       2       |      0        |      24       |           |0|0|\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       0       |\n   +-+-+-+-+-+-+-+-+\n   The Server responds with a DHCPACK\
    \ message including a Subnet\n   Allocation option with a Subnet-Information suboption:\n\
    \   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   |  \
    \    220      |      11       |       0       |       2       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       8       |           |0|0|      10       |       0       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       2       |      0        |      24       |           |0|0|\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       0       |\n   +-+-+-+-+-+-+-+-+\n   Later, the Client sends a DHCPREQUEST\
    \ message in order to renew the\n   lease on the one subnet and includes subnet\
    \ usage information.  It\n   reports that a maximum of 10 addresses were allocated\
    \ from the subnet\n   since the last report, 7 addresses are currently allocated,\
    \ and 2\n   addresses were found to be unusable.\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |      220      |      17       |       0       |       2       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |      14       |           |0|0|      10       |       0       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       2       |      0        |      24       |           |0|0|\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       6       |       0       |      10       |       0       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       7       |       0       |       2       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   The Server responds with a DHCPACK message; however, it signals to\n   the\
    \ Client that the subnet should be deprecated.\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |      220      |      11       |       0       |       2       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       8       |           |0|0|      10       |       0       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       2       |      0        |      24       |           |0|1|\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       0       |\n   +-+-+-+-+-+-+-+-+\n   The Client reloads at this point\
    \ and, upon completion of the reload,\n   sends a DHCPDISCOVER asking for information\
    \ about all subnets that\n   were allocated to it.\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |      220      |       5       |       0       |       1       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       2       |           |1|0|       0       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   The Server responds with a DHCPOFFER, giving the subnet information\n   about\
    \ the one subnet that is allocated to the Client.  Also, the\n   Server specifies\
    \ that the one allocated subnet should be immediately\n   deprecated.  Note that\
    \ the 's' (\"Server\") bit is 0, thus indicating\n   that there is no more information\
    \ available for this Client.\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |      220      |       11      |       0       |       2       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       8       |           |1|0|       10      |       0       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       2       |      0        |       24      |           |0|1|\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       0       |\n   +-+-+-+-+-+-+-+-+\n   The Client responds with a DHCPRELEASE\
    \ message after having\n   deprecated the subnet:\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |      220      |       11      |       0       |     SIS       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       8       |           |0|0|       10      |       0       |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       2       |      0        |       24      |           |0|0|\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\
    \   |       0       |\n   +-+-+-+-+-+-+-+-+\n"
- title: 9.  Differences from DHCPv6 Prefix Delegation
  contents:
  - "9.  Differences from DHCPv6 Prefix Delegation\n   The following differences may\
    \ be noticed between Subnet Allocation as\n   described in this document and DHCPv6\
    \ Prefix Delegation as described\n   in [RFC3633]:\n   o  This option does not\
    \ use anything like an \"IA_PD\" as is used in\n      DHCPv6.\n   o  If the Server\
    \ cannot allocate a subnet, it remains silent, instead\n      of returning a special\
    \ response saying nothing is available.\n   o  DHCPv6 Prefix Delegation has no\
    \ mechanism for returning subnet/\n      prefix usage statistics.\n   o  DHCPv6\
    \ has no equivalent to the \"subnet deprecation\" flag as\n      described here.\n\
    \   o  DHCPv6 Prefix Delegation makes no mention of what Client actions\n    \
    \  should result from receiving a DHCPNAK during a RENEW of a\n      delegation.\n\
    \   o  DHCPv6 has no equivalent of the subnet allocation \"Network name\"\n  \
    \    suboption, which may be used by the Server for various purposes,\n      such\
    \ as to specify a pool to use when allocating a subnet.\n   o  DHCPv6 Prefix Delegation\
    \ corresponds to \"Hierarchical Subnet\n      Allocation\" (setting the 'h' flag\
    \ in the Prefix Information\n      block).  There is no v6 equivalent of clearing\
    \ the 'h' flag, in\n      which the Server retains authority over allocation of\
    \ addresses\n      from the subnet.\n   o  DHCPv6 Prefix Delegation has nothing\
    \ to correspond to the\n      Suggested-Lease-Time suboption.\n"
- title: 10.  Security Considerations
  contents:
  - "10.  Security Considerations\n   Potential exposures to attack are discussed\
    \ in Section 7 of the DHCP\n   protocol specification [RFC2131].  The Subnet Allocation\
    \ option can\n   be used to hoard all allocable subnets on a network.\n   Implementations\
    \ should consider using the DHCP Authentication option\n   [RFC3118] in order\
    \ to provide a higher level of security if it is\n   deemed necessary in their\
    \ environment.\n"
- title: 11.  IANA Considerations
  contents:
  - "11.  IANA Considerations\n   IANA has assigned DHCP option number 220 for this\
    \ option, in\n   accordance with [RFC3942].\n   No assignment of values for the\
    \ suboption codes need be made at this\n   time.  New values may only be defined\
    \ by IETF Consensus, as described\n   in [RFC5226].  Basically, this means that\
    \ they are defined by RFCs\n   approved by the IESG.\n"
- title: 12.  References
  contents:
  - '12.  References

    '
- title: 12.1.  Normative References
  contents:
  - "12.1.  Normative References\n   [RFC2119]  Bradner, S., \"Key words for use in\
    \ RFCs to Indicate\n              Requirement Levels\", BCP 14, RFC 2119, March\
    \ 1997.\n   [RFC2131]  Droms, R., \"Dynamic Host Configuration Protocol\",\n \
    \             RFC 2131, March 1997.\n   [RFC2132]  Alexander, S. and R. Droms,\
    \ \"DHCP Options and BOOTP Vendor\n              Extensions\", RFC 2132, March\
    \ 1997.\n   [RFC3629]  Yergeau, F., \"UTF-8, a transformation format of ISO\n\
    \              10646\", STD 63, RFC 3629, November 2003.\n   [RFC3942]  Volz,\
    \ B., \"Reclassifying Dynamic Host Configuration\n              Protocol version\
    \ 4 (DHCPv4) Options\", RFC 3942,\n              November 2004.\n   [RFC5226]\
    \  Narten, T. and H. Alvestrand, \"Guidelines for Writing an\n              IANA\
    \ Considerations Section in RFCs\", BCP 26, RFC 5226,\n              May 2008.\n"
- title: 12.2.  Informative References
  contents:
  - "12.2.  Informative References\n   [RFC3118]  Droms, R. and W. Arbaugh, \"Authentication\
    \ for DHCP\n              Messages\", RFC 3118, June 2001.\n   [RFC3203]  T'Joens,\
    \ Y., Hublet, C., and P. De Schrijver, \"DHCP\n              reconfigure extension\"\
    , RFC 3203, December 2001.\n   [RFC3396]  Lemon, T. and S. Cheshire, \"Encoding\
    \ Long Options in the\n              Dynamic Host Configuration Protocol (DHCPv4)\"\
    , RFC 3396,\n              November 2002.\n   [RFC3633]  Troan, O. and R. Droms,\
    \ \"IPv6 Prefix Options for Dynamic\n              Host Configuration Protocol\
    \ (DHCP) version 6\", RFC 3633,\n              December 2003.\n   [RFC4632]  Fuller,\
    \ V. and T. Li, \"Classless Inter-domain Routing\n              (CIDR): The Internet\
    \ Address Assignment and Aggregation\n              Plan\", BCP 122, RFC 4632,\
    \ August 2006.\n"
- title: Appendix A.  Acknowledgments
  contents:
  - "Appendix A.  Acknowledgments\n   The authors gratefully acknowledge the contributions\
    \ of Jay\n   Kumarasamy.\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Richard A. Johnson\n   Cisco Systems, Inc.\n   170 W.\
    \ Tasman Dr.\n   San Jose, CA  95134\n   US\n   Phone: +1 408 526 4000\n   EMail:\
    \ raj@cisco.com\n   Kim Kinnear\n   Cisco Systems, Inc.\n   170 W. Tasman Dr.\n\
    \   San Jose, CA  95134\n   US\n   Phone: +1 408 526 4000\n   EMail: kkinnear@cisco.com\n\
    \   Mark Stapp\n   Cisco Systems, Inc.\n   170 W. Tasman Dr.\n   San Jose, CA\
    \  95134\n   US\n   Phone: +1 408 526 4000\n   EMail: mjs@cisco.com\n"
