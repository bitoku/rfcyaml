- title: __initial_text__
  contents:
  - '       Requirements for Pseudo-Wire Emulation Edge-to-Edge (PWE3)

    '
- title: Status of this Memo
  contents:
  - "Status of this Memo\n   This memo provides information for the Internet community.\
    \  It does\n   not specify an Internet standard of any kind.  Distribution of\
    \ this\n   memo is unlimited.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (C) The Internet Society (2004).\n"
- title: Abstract
  contents:
  - "Abstract\n   This document describes base requirements for the Pseudo-Wire\n\
    \   Emulation Edge to Edge Working Group (PWE3 WG).  It provides\n   guidelines\
    \ for other working group documents that will define\n   mechanisms for providing\
    \ pseudo-wire emulation of Ethernet, ATM, and\n   Frame Relay.  Requirements for\
    \ pseudo-wire emulation of TDM (i.e.,\n   \"synchronous bit streams at rates defined\
    \ by ITU G.702\") are defined\n   in another document.  It should be noted that\
    \ the PWE3 WG\n   standardizes mechanisms that can be used to provide PWE3 services,\n\
    \   but not the services themselves.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1.   Introduction. . . . . . . . . . . . . . . . . . .\
    \ . . . . . .  2\n        1.1.  What Are Pseudo Wires?. . . . . . . . . . . .\
    \ . . . . .  2\n        1.2.  Current Network Architecture. . . . . . . . . .\
    \ . . . .  3\n        1.3.  PWE3 as a Path to Convergence . . . . . . . . . .\
    \ . . .  4\n        1.4.  Suitable Applications for PWE3. . . . . . . . . . .\
    \ . .  4\n        1.5.  Summary . . . . . . . . . . . . . . . . . . . . . . .\
    \ .  4\n   2.   Terminology . . . . . . . . . . . . . . . . . . . . . . . . .\
    \  5\n   3.   Reference Model of PWE3 . . . . . . . . . . . . . . . . . . .  6\n\
    \   4.   Packet Processing . . . . . . . . . . . . . . . . . . . . . .  7\n  \
    \      4.1.  Encapsulation . . . . . . . . . . . . . . . . . . . . .  7\n    \
    \    4.2.  Frame Ordering. . . . . . . . . . . . . . . . . . . . .  8\n      \
    \  4.3.  Frame Duplication . . . . . . . . . . . . . . . . . . .  8\n        4.4.\
    \  Fragmentation . . . . . . . . . . . . . . . . . . . . .  8\n        4.5.  Consideration\
    \ of Per-PSN Packet Overhead. . . . . . . .  9\n   5.   Maintenance of Emulated\
    \ Services. . . . . . . . . . . . . . .  9\n        5.1.  Setup and Teardown of\
    \ Pseudo-Wires. . . . . . . . . . .  9\n        5.2.  Handling Maintenance Message\
    \ of the Native Services . . 10\n        5.3.  PE-initiated Maintenance Messages\
    \ . . . . . . . . . . . 10\n   6.   Management of Emulated Services . . . . .\
    \ . . . . . . . . . . 12\n        6.1.  MIBs. . . . . . . . . . . . . . . . .\
    \ . . . . . . . . . 12\n        6.2.  General MIB Requirements. . . . . . . .\
    \ . . . . . . . . 12\n        6.3.  Configuration and Provisioning. . . . . .\
    \ . . . . . . . 13\n        6.4.  Performance Monitoring. . . . . . . . . . .\
    \ . . . . . . 13\n        6.5.  Fault Management and Notifications. . . . . .\
    \ . . . . . 13\n        6.6.  Pseudo-Wire Connection Verification and Traceroute.\
    \ . . 13\n   7.   Faithfulness of Emulated Services . . . . . . . . . . . . .\
    \ . 13\n        7.1.  Characteristics of an Emulated Service. . . . . . . . .\
    \ 14\n        7.2.  Service Quality of Emulated Services. . . . . . . . . . 14\n\
    \   8.   Non-Requirements. . . . . . . . . . . . . . . . . . . . . . . 14\n  \
    \ 9.   Quality of Service (QoS) Considerations . . . . . . . . . . . 15\n   10.\
    \  Inter-domain Issues . . . . . . . . . . . . . . . . . . . . . 16\n   11.  Security\
    \ Considerations . . . . . . . . . . . . . . . . . . . 16\n   12.  Acknowledgments\
    \ . . . . . . . . . . . . . . . . . . . . . . . 17\n   13.  References. . . .\
    \ . . . . . . . . . . . . . . . . . . . . . . 17\n        13.1. Normative References.\
    \ . . . . . . . . . . . . . . . . . 17\n        13.2. Informative References.\
    \ . . . . . . . . . . . . . . . . 17\n   14.  Authors' Addresses. . . . . . .\
    \ . . . . . . . . . . . . . . . 18\n   15.  Full Copyright Statement. . . . .\
    \ . . . . . . . . . . . . . . 19\n"
- title: 1.  Introduction
  contents:
  - '1.  Introduction

    '
- title: 1.1.  What Are Pseudo Wires?
  contents:
  - "1.1.  What Are Pseudo Wires?\n   Pseudo Wire Emulation Edge-to-Edge (PWE3) is\
    \ a mechanism that\n   emulates the essential attributes of a service such as\
    \ ATM, Frame\n   Relay or Ethernet over a Packet Switched Network (PSN).  The\
    \ required\n   functions of PWs include encapsulating service-specific PDUs arriving\n\
    \   at an ingress port, and carrying them across a path or tunnel,\n   managing\
    \ their timing and order, and any other operations required to\n   emulate the\
    \ behavior and characteristics of the service as faithfully\n   as possible.\n\
    \   From the customer perspective, the PW is perceived as an unshared\n   link\
    \ or circuit of the chosen service.  However, there may be\n   deficiencies that\
    \ impede some applications from being carried on a\n   PW.  These limitations\
    \ should be fully described in the appropriate\n   service-specific documents\
    \ and Applicability Statements.\n"
- title: 1.2.   Current Network Architecture
  contents:
  - "1.2.   Current Network Architecture\n   The following sections give some background\
    \ on where networks are\n   today and why they are changing.  It also talks about\
    \ the motivation\n   to provide converged networks while continuing to support\
    \ existing\n   services.  Finally, it discusses how PWs can be a solution for\
    \ this\n   dilemma.\n"
- title: 1.2.1.  Multiple Networks
  contents:
  - "1.2.1.  Multiple Networks\n   For any given service provider delivering multiple\
    \ services, the\n   current infrastructure usually consists of parallel or \"\
    overlay\"\n   networks.  Each of these networks implements a specific service,\
    \ such\n   as Frame Relay, Internet access, etc.  This is expensive, both in\n\
    \   terms of capital expense and operational costs.  Furthermore, the\n   presence\
    \ of multiple networks complicates planning.  Service\n   providers wind up asking\
    \ themselves these questions:\n   - Which of my networks do I build out?\n   -\
    \ How many fibers do I need for each network?\n   - How do I efficiently manage\
    \ multiple networks?\n   A converged network helps service providers answer these\
    \ questions in\n   a consistent and economical fashion.\n"
- title: 1.2.2.  Transition to a Packet-Optimized Converged Network
  contents:
  - "1.2.2.  Transition to a Packet-Optimized Converged Network\n   In order to maximize\
    \ return on their assets and minimize their\n   operating costs, service providers\
    \ often look to consolidate the\n   delivery of multiple service types onto a\
    \ single networking\n   technology.\n   As packet traffic takes up a larger and\
    \ larger portion of the\n   available network bandwidth, it becomes increasingly\
    \ useful to\n   optimize public networks for the Internet Protocol.  However,\
    \ many\n   service providers are confronting several obstacles in engineering\n\
    \   packet-optimized networks.  Although Internet traffic is the fastest\n   growing\
    \ traffic segment, it does not generate the highest revenue per\n   bit.  For\
    \ example, Frame Relay traffic currently generates higher\n   revenue per bit\
    \ than native IP services do.  Private line TDM\n   services still generate even\
    \ more revenue per bit than does Frame\n   Relay.  In addition, there is a tremendous\
    \ amount of legacy equipment\n   deployed within public networks that does not\
    \ communicate using the\n   Internet Protocol.  Service providers continue to\
    \ utilize non-IP\n   equipment to deploy a variety of services, and see a need\
    \ to\n   interconnect this legacy equipment over their IP-optimized core\n   networks.\n"
- title: 1.3.  PWE3 as a Path to Convergence
  contents:
  - "1.3.  PWE3 as a Path to Convergence\n   How do service providers realize the\
    \ capital and operational benefits\n   of a new packet-based infrastructure, while\
    \ leveraging the existing\n   equipment and also protecting the large revenue\
    \ stream associated\n   with this equipment? How do they move from mature Frame\
    \ Relay or ATM\n   networks, while still being able to provide these lucrative\
    \ services?\n   One possibility is the emulation of circuits or services via PWs.\n\
    \   Circuit emulation over ATM and interworking of Frame Relay and ATM\n   have\
    \ already been standardized.  Emulation allows existing services\n   to be carried\
    \ across the new infrastructure, and thus enables the\n   interworking of disparate\
    \ networks.\n   Implemented correctly, PWE3 can provide a means for supporting\n\
    \   today's services over a new network.\n"
- title: 1.4.  Suitable Applications for PWE3
  contents:
  - "1.4.  Suitable Applications for PWE3\n   What makes an application suitable (or\
    \ not) for PWE3 emulation?  When\n   considering PWs as a means of providing an\
    \ application, the following\n   questions must be considered:\n   -  Is the application\
    \ sufficiently deployed to warrant emulation?\n   -  Is there interest on the\
    \ part of service providers in providing an\n      emulation for the given application?\n\
    \   -  Is there interest on the part of equipment manufacturers in\n      providing\
    \ products for the emulation of a given application?\n   -  Are the complexities\
    \ and limitations of providing an emulation\n      worth the savings in capital\
    \ and operational expenses?\n   If the answer to all four questions is \"yes\"\
    , then the application is\n   likely to be a good candidate for PWE3.  Otherwise,\
    \ there may not be\n   sufficient overlap between the customers, service providers,\n\
    \   equipment manufacturers and technology to warrant providing such an\n   emulation.\n"
- title: 1.5.  Summary
  contents:
  - "1.5.  Summary\n   To maximize the return on their assets and minimize their operational\n\
    \   costs, many service providers are looking to consolidate the delivery\n  \
    \ of multiple service offerings and traffic types onto a single IP-\n   optimized\
    \ network.\n   In order to create this next-generation converged network, standard\n\
    \   methods must be developed to emulate existing telecommunications\n   formats\
    \ such as Ethernet, Frame Relay, and ATM over IP-optimized core\n   networks.\
    \  This document describes requirements for accomplishing\n   this goal.\n"
- title: 2.  Terminology
  contents:
  - "2.  Terminology\n   The key words \"MUST\", \"MUST NOT\", \"REQUIRED\", \"SHALL\"\
    , \"SHALLNOT\",\n   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\",  \"MAY\", and\
    \ \"OPTIONAL\" in this\n   document are to be interpreted as described in RFC\
    \ 2119.\n   Some terms used throughout this document are listed below.\n   Attachment\
    \ Circuit (AC)\n                         The physical or virtual circuit attaching\
    \ a CE\n                         to a PE.  An AC can be a Frame Relay DLCI, an\n\
    \                         ATM VPI/VCI, an Ethernet port, a VLAN, a HDLC\n    \
    \                     link, a PPP connection on a physical interface,\n      \
    \                   a PPP session from an L2TP tunnel, an MPLS LSP,\n        \
    \                 etc.\n   Customer Edge (CE)    A device where one end of a service\
    \ originates\n                         and/or terminates.  The CE is not aware\
    \ that it\n                         is using an emulated service rather than a\n\
    \                         native service.\n   Packet Switched Network (PSN)\n\
    \                         Within the context of PWE3, this is a network\n    \
    \                     using IP or MPLS as the mechanism for packet\n         \
    \                forwarding.\n   Provider Edge (PE)    A device that provides\
    \ PWE3 to a CE.\n   Pseudo Wire (PW)      A mechanism that carries the essential\
    \ elements\n                         of an emulated circuit from one PE to another\n\
    \                         PE over a PSN.\n   Pseudo Wire Emulation Edge to Edge\
    \ (PWE3)\n                         A mechanism that emulates the essential\n \
    \                        attributes of a service (such as a T1 leased\n      \
    \                   line or Frame Relay) over a PSN.\n   Pseudo Wire PDU     \
    \  A Protocol Data Unit (PDU) sent on the PW that\n                         contains\
    \ all of the data and control\n                         information necessary\
    \ to emulate the desired\n                         service.\n   PSN Tunnel   \
    \         A tunnel across a PSN inside which one or more\n                   \
    \      PWs can be carried.\n"
- title: 3.  Reference Model of PWE3
  contents:
  - "3.  Reference Model of PWE3\n   A pseudo-wire (PW) is a connection between two\
    \ provider edge (PE)\n   devices which connects two attachment circuits (ACs).\
    \  An AC can be a\n   Frame Relay DLCI, an ATM VPI/VCI, an Ethernet port, a VLAN,\
    \ a HDLC\n   link, a PPP connection on a physical interface, a PPP session from\
    \ an\n   L2TP tunnel, an MPLS LSP, etc.\n                    |<------- Pseudo\
    \ Wire ------>|\n                    |                            |\n        \
    \            |    |<-- PSN Tunnel -->|    |\n                    V    V      \
    \            V    V\n                    +----+                  +----+\n   +-----+\
    \          | PE1|==================| PE2|          +-----+\n   |     |----------|............PW1.............|----------|\
    \     |\n   | CE1 |          |    |                  |    |          | CE2 |\n\
    \   |     |----------|............PW2.............|----------|     |\n   +-----+\
    \  ^       |    |==================|    |          +-----+\n         ^  |    \
    \   +----+                  +----+          ^\n         |  |   Provider Edge 1\
    \         Provider Edge 2     |\n         |  |                               \
    \                |\n         | Attachment Circuit                            \
    \   |\n         |                                                  |\n       \
    \  |<-------------- Emulated Service ---------------->|\n   Customer         \
    \                                        Customer\n    Edge 1                \
    \                                   Edge 2\n                     Figure 1: PWE3\
    \ Reference Model\n   During the setup of a PW, the two PEs will be configured\
    \ or will\n   automatically exchange information about the service to be emulated\n\
    \   so that later they know how to process packets coming from the other\n   end.\
    \  After a PW is set up between two PEs, frames received by one PE\n   from an\
    \ AC are encapsulated and sent over the PW to the remote PE,\n   where native\
    \ frames are re-constructed and forwarded to the other CE.\n   For a detailed\
    \ PWE3 architecture overview, readers should refer to\n   the PWE3 architecture\
    \ document [PWE3_ARCH].\n   This document does not assume that a particular type\
    \ of PWs (e.g.,\n   [L2TPv3] sessions or [MPLS] LSPs) or PSNs (e.g., IP or MPLS)\
    \ is used.\n   Instead, it describes generic requirements that apply to all PWs\
    \ and\n   PSNs, for all services including Ethernet, ATM, and Frame Relay, etc.\n"
- title: 4.  Packet Processing
  contents:
  - "4.  Packet Processing\n   This section describes data plane requirements for\
    \ PWE3.\n"
- title: 4.1.  Encapsulation
  contents:
  - "4.1.  Encapsulation\n   Every PE MUST provide an encapsulation mechanism for\
    \ PDUs from an AC.\n   It should be noted that the PDUs to be encapsulated may\
    \ or may not\n   contain L2 header information.  This is service specific.  Every\
    \ PWE3\n   service MUST specify what the PDU is.\n   A PW header consists of all\
    \ the header fields in a PW PDU that are\n   used by the PW egress to determine\
    \ how to process the PDU.  The PSN\n   tunnel header is not considered as part\
    \ of the PW header.\n   Specific requirements on PDU encapsulation are listed\
    \ below.\n"
- title: 4.1.1.  Conveyance of Necessary L2 Header Information
  contents:
  - "4.1.1.  Conveyance of Necessary L2 Header Information\n   The egress of a PW\
    \ needs some information, e.g., which native service\n   the PW PDUs belong to,\
    \ and possibly some L2 header information, in\n   order to know how to process\
    \ the PDUs received.  A PWE3 encapsulation\n   approach MUST provide some mechanism\
    \ for conveying such information\n   from the PW ingress to the egress.  It should\
    \ be noted that not all\n   such information must be carried in the PW header\
    \ of the PW PDUs.\n   Some information (e.g., service type of a PW) can be stored\
    \ as state\n   information at the egress during PW setup.\n"
- title: 4.1.2.  Support of Variable Length PDUs
  contents:
  - "4.1.2.  Support of Variable Length PDUs\n   A PWE3 approach MUST accommodate\
    \ variable length PDUs, if variable\n   length PDUs are allowed by the native\
    \ service.  For example, a PWE3\n   approach for Frame Relay MUST accommodate\
    \ variable length frames.\n"
- title: 4.1.3.  Support of Multiplexing and Demultiplexing
  contents:
  - "4.1.3.  Support of Multiplexing and Demultiplexing\n   If a service in its native\
    \ form is capable of grouping multiple\n   circuits into a \"trunk\", e.g., multiple\
    \ ATM VCCs in a VPC or multiple\n   Ethernet 802.1Q interfaces in a port, some\
    \ mechanism SHOULD be\n   provided so that a single PW can be used to connect\
    \ two end-trunks.\n   From encapsulation perspective, sufficient information MUST\
    \ be\n   carried so that the egress of the PW can demultiplex individual\n   circuits\
    \ from the PW.\n"
- title: 4.1.4.  Validation of PW-PDU
  contents:
  - "4.1.4.  Validation of PW-PDU\n   Most L2 frames have a checksum field to assure\
    \ frame integrity.\n   Every PWE3 service MUST specify whether the frame's checksum\
    \ should\n   be preserved across the PW, or should be removed at the ingress PE\n\
    \   and then be re-calculated and inserted at the egress PE.  For\n   protocols\
    \ such as ATM and FR, the checksum covers link-local\n   information such as the\
    \ circuit identifiers (e.g., FR DLCI or ATM\n   VPI/VCI).  Therefore, such checksum\
    \ MUST be removed at the ingress PE\n   and recalculated at the egress PE.\n"
- title: 4.1.5.  Conveyance of Payload Type Information
  contents:
  - "4.1.5.  Conveyance of Payload Type Information\n   Under some circumstances,\
    \ it is desirable to be able to distinguish\n   PW traffic from other types of\
    \ traffic such as IPv4 or IPv6 or OAM.\n   For example, if Equal Cost Multi-Path\
    \ (ECMP) is employed in a PSN,\n   this additional distinguishability can be used\
    \ to reduce the chance\n   that PW packets get misordered by the load balancing\
    \ mechanism.  Some\n   mechanism SHOULD provide this distinguishability if needed.\
    \  Such\n   mechanism MAY be defined in the PWE3 WG or other WGs.\n"
- title: 4.2.  Frame Ordering
  contents:
  - "4.2.  Frame Ordering\n   When packets carrying the PW PDUs traverse a PW, they\
    \ may arrive at\n   the egress out of order.  For some services, the frames (either\n\
    \   control frames only or both control and data frames) must be\n   delivered\
    \ in order.  For such services, some mechanism MUST be\n   provided for ensuring\
    \ in-order delivery.  Providing a sequence number\n   in the PW header for each\
    \ packet is one possible approach to detect\n   out-of-order frames.  Mechanisms\
    \ for re-ordering frames may be\n   provided by Native Service Processing (NSP)\
    \ [PWE3_ARCH] but are out\n   of scope of PWE3.\n"
- title: 4.3.  Frame Duplication
  contents:
  - "4.3.  Frame Duplication\n   In rare cases, packets traversing a PW may be duplicated.\
    \  For some\n   services, frame duplication is not allowed.  For such services\
    \ some\n   mechanism MUST be provided to ensure that duplicated frames will not\n\
    \   be delivered.  The mechanism may or may not be the same as the\n   mechanism\
    \ used to ensure in-order frame delivery.\n"
- title: 4.4.  Fragmentation
  contents:
  - "4.4.  Fragmentation\n   If the combined size of the L2 payload and its associated\
    \ PWE3 and\n   PSN headers exceeds the PSN path MTU, the L2 payload may need to\
    \ be\n   fragmented (Alternatively the L2 frame may be dropped).  For certain\n\
    \   native service, fragmentation may also be needed to maintain a\n   control\
    \ frame's relative position to the data frames (e.g., an ATM PM\n   cell's relative\
    \ position).  In general, fragmentation has a\n   performance impact.  It is therefore\
    \ desirable to avoid fragmentation\n   if possible.  However, for different services,\
    \ the need for\n   fragmentation can be different.  When there is potential need\
    \ for\n   fragmentation, each service-specific PWE3 document MUST specify\n  \
    \ whether to fragment the frame in question or to drop it.  If an\n   emulated\
    \ service chooses to drop the frame, the consequence MUST be\n   specified in\
    \ its applicability statement.\n"
- title: 4.5.  Consideration of Per-PSN Packet Overhead
  contents:
  - "4.5.  Consideration of Per-PSN Packet Overhead\n   When the L2 PDU size is small,\
    \ in order to reduce PSN tunnel header\n   overhead, multiple PDUs MAY be concatenated\
    \ before a PSN tunnel\n   header is added.  Each encapsulated PDU still carries\
    \ its own PW\n   header so that the egress PE knows how to process it.  However,\
    \ the\n   benefit of concatenating multiple PDUs for header efficiency should\n\
    \   be weighed against the resulting increase in delay, jitter and the\n   larger\
    \ penalty incurred by packet loss.\n"
- title: 5.  Maintenance of Emulated Services
  contents:
  - "5.  Maintenance of Emulated Services\n   This section describes maintenance requirements\
    \ for PWE3.\n"
- title: 5.1.  Setup and Teardown of Pseudo-Wires
  contents:
  - "5.1.  Setup and Teardown of Pseudo-Wires\n   A PW must be set up before an emulated\
    \ circuit can be established,\n   and must be torn down when an emulated circuit\
    \ is no longer needed.\n   Setup and teardown of a PW can be triggered by a command\
    \ from the\n   management plane of a PE, or by Setup/Teardown of an AC (e.g.,\
    \ an ATM\n   SVC), or by an auto-discovery mechanism.\n   Every PWE3 approach\
    \ MUST define some setup mechanism for establishing\n   the PWs.  During the setup\
    \ process, the PEs need to exchange some\n   information (e.g., to learn each\
    \ other's capability).  The setup\n   mechanism MUST enable the PEs to exchange\
    \ all necessary information.\n   For example, both endpoints must agree on methods\
    \ for encapsulating\n   PDUs and handling frame ordering.  Which signaling protocol\
    \ to use\n   and what information to exchange are service specific.  Every PWE3\n\
    \   approach MUST specify them.  Manual configuration of PWs can be\n   considered\
    \ as a special kind of signaling and is allowed.\n   If a native circuit is bi-directional,\
    \ the corresponding emulated\n   circuit can be signaled \"Up\" only when the\
    \ associated PW and PSN\n   tunnels in both directions are functional.\n"
- title: 5.2.  Handling Maintenance Message of the Native Services
  contents:
  - "5.2.  Handling Maintenance Message of the Native Services\n   Some native services\
    \ have mechanisms for maintenance purpose, e.g.,\n   ATM OAM and FR LMI.  Such\
    \ maintenance messages can be in-band (i.e.,\n   mixed with data messages in the\
    \ same AC) or out-of-band (i.e., sent\n   in a dedicated control circuit).  For\
    \ such services, all in-band\n   maintenance messages related to a circuit SHOULD\
    \ be transported in-\n   band just like data messages through the corresponding\
    \ PW to the\n   remote CE.  In other words, no translation is needed at the PEs\
    \ for\n   in-band maintenance messages.  In addition, it MAY be desirable to\n\
    \   provide higher reliability for maintenance messages.  The mechanisms\n   for\
    \ providing high reliability do not have to be defined in the PWE3\n   WG.\n \
    \  Out-of-band maintenance messages between a CE and a PE may relate to\n   multiple\
    \ ACs between the CE and the PE.  They need to be processed at\n   the local PE\
    \ and possibly at the remote PE as well.  If a native\n   service has some out-of-band\
    \ maintenance messages, the corresponding\n   emulated service MUST specify how\
    \ to process such messages at the\n   PEs.  In general, an out-of-band maintenance\
    \ message is either\n   translated into an in-band maintenance message of the\
    \ native service\n   or a PWE-specific maintenance message for every AC related\
    \ to that\n   out-of-band message.  As an example, assume the ACs between a CE\
    \ and\n   a PE are some ATM VCCs inside a VPC.  When a F4 AIS [UNI3.0] from the\n\
    \   CE is received by the PE, the PE should translate that F4 AIS into a\n   F5\
    \ AIS and send it to the remote CE for every VCC.  Alternatively,\n   the PE should\
    \ generate a PWE-specific maintenance message (e.g.,\n   label withdrawal) to\
    \ the remote PE for every VCC.  When the remote PE\n   receives such a PWE-specific\
    \ maintenance message, it may need to\n   generate a maintenance message of the\
    \ native service and send it to\n   the attached CE.\n"
- title: 5.3.  PE-initiated Maintenance Messages
  contents:
  - "5.3.  PE-initiated Maintenance Messages\n   A PE needs to initiate some maintenance\
    \ messages under some\n   circumstances without being triggered by any native\
    \ maintenance\n   messages from the CE.  These circumstances are usually caused\
    \ by\n   fault, e.g., a PW failure in the PSN or a link failure between the CE\n\
    \   and the PE.\n   The reason the PEs need to initiate some maintenance messages\
    \ under a\n   fault condition is because the existence of a PW between two CEs\n\
    \   would otherwise reduce the CEs' maintenance capability.  This is\n   illustrated\
    \ in the following example.  If two CEs are directly\n   connected by a physical\
    \ wire, a native service (e.g., ATM) can use\n   notifications from the lower\
    \ layer (e.g., the physical link layer) to\n   assist its maintenance.  For example,\
    \ an ATM PVC can be signaled\n   \"Down\" if the physical wire fails.  However,\
    \ consider the following\n   scenario.\n   +-----+ Phy-link +----+           \
    \   +----+ Phy-link +-----+\n   | CE1 |----------| PE1|......PW......|PE2 |----------|\
    \ CE2 |\n   +-----+          +----+              +----+          +-----+\n   If\
    \ the PW between PE1 and PE2 fails, CE1 and CE2 will not receive\n   physical\
    \ link failure notification.  As a result, they cannot declare\n   failure of\
    \ the emulated circuit in a timely fashion, which will in\n   turn affect higher\
    \ layer applications.  Therefore, when the PW fails,\n   PE1 and PE2 need to initiate\
    \ some maintenance messages to notify the\n   client layer on CE1 and CE2 that\
    \ use the PW as a server layer.  (In\n   this case, the client layer is the emulated\
    \ service).  Similarly, if\n   the physical link between PE1-CE1 fails, PE1 needs\
    \ to initiate some\n   maintenance message(s) so that the client layer at CE2\
    \ will be\n   notified.  PE2 may need to be involved in this process.\n   In the\
    \ rare case when a physical wire between two CEs incurs many bit\n   errors, the\
    \ physical link can be declared \"Down\" and the client layer\n   at the CEs be\
    \ notified.  Similarly, a PW can incur packet loss,\n   corruption, and out-of-order\
    \ delivery.  These can be considered as\n   \"generalized bit error\".  Upon detection\
    \ of excessive \"generalized\n   bit error\", a PW can be declared \"Down\" and\
    \ the detecting PE needs to\n   initiate a maintenance message so that the client\
    \ layer at the CE is\n   notified.\n   In general, every emulated service MUST\
    \ specify:\n     * Under what circumstances PE-initiated maintenance messages\
    \ are\n       needed,\n     * Format of the maintenance messages, and\n     *\
    \ How to process the maintenance messages at the remote PE.\n   Some monitoring\
    \ mechanisms are needed for detecting such\n   circumstances, e.g., a PW failure.\
    \  Such mechanisms can be defined in\n   the PWE3 WG or elsewhere.\n   Status\
    \ of a group of emulated circuits may be affected identically by\n   a single\
    \ network incidence.  For example, when the physical link\n   between a CE and\
    \ a PE fails, all the emulated circuits that go\n   through that link will fail.\
    \  It is desirable that a single\n   maintenance message be used to notify failure\
    \ of the whole group of\n   emulated circuits connected to the same remote PE.\
    \  A PWE3 approach\n   MAY provide some mechanism for notifying status changes\
    \ of a group of\n   emulated circuits.  One possible approach is to associate\
    \ each\n   emulated circuit with a group ID while setting up the PW for that\n\
    \   emulated circuit.  In a maintenance message, that group ID can be\n   used\
    \ to refer to all the emulated circuits in that group.\n   If a PE needs to generate\
    \ and send a maintenance message to a CE, the\n   PE MUST use a maintenance message\
    \ of the native service.  This is\n   essential in keeping the emulated service\
    \ transparent to the CEs.\n   The requirements stated in this section are aligned\
    \ with the ITU-T\n   maintenance philosophy for telecommunications networks [G805]\
    \ (i.e.,\n   client layer/server layer concept).\n"
- title: 6.  Management of Emulated Services
  contents:
  - "6.  Management of Emulated Services\n   Each PWE3 approach SHOULD provide some\
    \ mechanisms for network\n   operators to manage the emulated service.  These\
    \ mechanisms can be in\n   the forms described below.\n"
- title: 6.1.  MIBs
  contents:
  - "6.1.  MIBs\n   SNMP MIBs [SMIV2] MUST be provided for managing each emulated\
    \ circuit\n   as well as pseudo-wire in general.  These MIBs SHOULD be created\
    \ with\n   the following requirements.\n"
- title: 6.2.  General MIB Requirements
  contents:
  - "6.2.  General MIB Requirements\n   New MIBs MUST augment or extend where appropriate,\
    \ existing tables as\n   defined in other existing service-specific MIBs for existing\
    \ services\n   such as MPLS or L2TP.  For example, the ifTable as defined in the\n\
    \   Interface MIB [IFMIB] MUST be augmented to provide counts of out-of-\n   order\
    \ packets.  A second example is the extension of the MPLS-TE-MIB\n   [TEMIB] when\
    \ emulating circuit services over MPLS.  Rather than\n   redefining the tunnelTable\
    \ so that PWE can utilize MPLS tunnels, for\n   example, entries in this table\
    \ MUST instead be extended to add\n   additional PWE-specific objects.  A final\
    \ example might be to extend\n   the IP Tunnel MIB [IPTUNMIB] in such a way as\
    \ to provide PWE3-\n   specific semantics when tunnels other than MPLS are used\
    \ as PSN\n   transport.  Doing so facilitates a natural extension of those objects\n\
    \   defined in the existing MIBs in terms of management, as well as\n   leveraging\
    \ existing agent implementations.\n   An AC MUST appear as an interface in the\
    \ ifTable.\n"
- title: 6.3.  Configuration and Provisioning
  contents:
  - "6.3.  Configuration and Provisioning\n   MIB Tables MUST be designed to facilitate\
    \ configuration and\n   provisioning of the AC.\n   The MIB(s) MUST facilitate\
    \ intra-PSN configuration and monitoring of\n   ACs.\n"
- title: 6.4.  Performance Monitoring
  contents:
  - "6.4.  Performance Monitoring\n   MIBs MUST collect statistics for performance\
    \ and fault management.\n   MIBs MUST provide a description of how existing counters\
    \ are used for\n   PW emulation and SHOULD not replicate existing MIB counters.\n"
- title: 6.5.  Fault Management and Notifications
  contents:
  - "6.5.  Fault Management and Notifications\n   Notifications SHOULD be defined\
    \ where appropriate to notify the\n   network operators of any interesting situations,\
    \ including faults\n   detected in the AC.\n   Objects defined to augment existing\
    \ protocol-specific notifications\n   in order to add PWE functionality MUST explain\
    \ how these\n   notifications are to be emitted.\n"
- title: 6.6.   Pseudo-Wire Connection Verification and Traceroute
  contents:
  - "6.6.   Pseudo-Wire Connection Verification and Traceroute\n   For network management\
    \ purpose, a connection verification mechanism\n   SHOULD be supported by PWs.\
    \  Connection verification as well as other\n   alarming mechanisms can alert\
    \ network operators that a PW has lost\n   its remote connection.  It is sometimes\
    \ desirable to know the exact\n   functional path of a PW for troubleshooting\
    \ purpose, thus a\n   traceroute function capable of reporting the path taken\
    \ by data\n   packets over the PW SHOULD be provided.\n"
- title: 7.  Faithfulness of Emulated Services
  contents:
  - "7.  Faithfulness of Emulated Services\n   An emulated service SHOULD be as similar\
    \ to the native service as\n   possible, but NOT REQUIRED to be identical.  The\
    \ applicability\n   statement of a PWE3 service MUST report limitations of the\
    \ emulated\n   service.\n   Some basic requirements on faithfulness of an emulated\
    \ service are\n   described below.\n"
- title: 7.1.  Characteristics of an Emulated Service
  contents:
  - "7.1.  Characteristics of an Emulated Service\n   From the perspective of a CE,\
    \ an emulated circuit is characterized as\n   an unshared link or circuit of the\
    \ chosen service, although service\n   quality of the emulated service may be\
    \ different from that of a\n   native one.  Specifically, the following requirements\
    \ MUST be met:\n   1) It MUST be possible to define type (e.g., Ethernet, which\
    \ is\n      inherited from the native service), speed (e.g., 100Mbps), and MTU\n\
    \      size for an emulated circuit, if it is possible to do so for a\n      native\
    \ circuit.\n   2) If the two endpoints CE1 and CE2 of emulated circuit #1 are\n\
    \      connected to PE1 and PE2, respectively, and CE3 and CE4 of\n      emulated\
    \ circuit #2 are also connected to PE1 and PE2, then the\n      PWs of these two\
    \ emulated circuits may share the same physical\n      paths between PE1 and PE2.\
    \  But from each CE's perspective, its\n      emulated circuit MUST appear as\
    \ unshared.  For example, CE1/CE2\n      MUST NOT be aware of existence of emulated\
    \ circuit #2 or CE3/CE4.\n   3) If an emulated circuit fails (either at one of\
    \ the ACs or in the\n      middle of the PW), both CEs MUST be notified in a timely\
    \ manner,\n      if they will be notified in the native service (see Section 5.3\n\
    \      for more information).  The definition of \"timeliness\" is\n      service-dependent.\n\
    \   4) If a routing protocol (e.g., IGP) adjacency can be established\n      over\
    \ a native circuit, it MUST be possible to be established over\n      an emulated\
    \ circuit as well.\n"
- title: 7.2.  Service Quality of Emulated Services
  contents:
  - "7.2.  Service Quality of Emulated Services\n   It is NOT REQUIRED that an emulated\
    \ service provide the same service\n   quality as the native service.  The PWE3\
    \ WG only defines mechanisms\n   for providing PW emulation, not the services\
    \ themselves.  What\n   quality to provide for a specific emulated service is\
    \ a matter\n   between a service provider (SP) and its customers, and is outside\n\
    \   scope of the PWE3 WG.\n"
- title: 8.  Non-Requirements
  contents:
  - "8.  Non-Requirements\n   Some non-requirements are mentioned in various sections\
    \ of this\n   document.  Those work items are outside scope of the PWE3 WG.  They\n\
    \   are summarized below:\n   -  Service interworking;\n      In Service Interworking,\
    \ the IWF (Interworking Function) between\n      two dissimilar protocols (e.g.,\
    \ ATM & MPLS, Frame Relay & ATM, ATM\n      & IP, ATM & L2TP, etc.) terminates\
    \ the protocol used in one\n      network and translates (i.e., maps) its Protocol\
    \ Control\n      Information (PCI) to the PCI of the protocol used in other network\n\
    \      for User, Control and Management Plane functions to the extent\n      possible.\n\
    \   -  Selection of a particular type of PWs;\n   -  To make the emulated services\
    \ perfectly match their native\n      services;\n   -  Defining mechanisms for\
    \ signaling the PSN tunnels;\n   -  Defining how to perform traffic management\
    \ on packets that carry\n      PW PDUs;\n   -  Providing any multicast service\
    \ that is not native to the emulated\n      medium.\n      To illustrate this\
    \ point, Ethernet transmission to a multicast\n      IEEE-48 address is considered\
    \ in scope, while multicast services\n      like [MARS] that are implemented on\
    \ top of the medium are out of\n      scope;\n"
- title: 9.  Quality of Service (QoS) Considerations
  contents:
  - "9.  Quality of Service (QoS) Considerations\n   Some native services such as\
    \ ATM can offer higher service quality\n   than best effort Internet service.\
    \  QoS is therefore essential for\n   ensuring that emulated services are compatible\
    \ (but not necessarily\n   identical) to their native forms.  It is up to network\
    \ operators to\n   decide how to provide QoS - They can choose to rely on over-\n\
    \   provisioning and/or deploy some QoS mechanisms.\n   In order to take advantage\
    \ of QoS mechanisms defined in other working\n   groups, e.g., the traffic management\
    \ schemes defined in DiffServ WG,\n   it is desirable that some mechanisms exists\
    \ for differentiating the\n   packets resulted from PDU encapsulation.  These\
    \ mechanisms do not\n   have to be defined in the PWE3 approaches themselves.\
    \  For example,\n   if the resulted packets are MPLS or IP packets, their EXP\
    \ or DSCP\n   field can be used for marking and differentiating.  A PWE3 approach\n\
    \   MAY provide guidelines for marking and differentiating.\n   The applicability\
    \ of PWE3 to a particular service depends on the\n   sensitivity of that service\
    \ (or the CE implementation) to\n   delay/jitter etc and the ability of the application\
    \ layer to mask\n   them.  PWE3 may not be applicable to services that have severe\n\
    \   constraints in this respect.\n"
- title: 10.  Inter-domain Issues
  contents:
  - "10.  Inter-domain Issues\n   PWE is a matter between the PW end-points and is\
    \ transparent to the\n   network devices between the PW end-points.  Therefore,\
    \ inter-domain\n   PWE is fundamentally similar to intra-domain PWE.  As long\
    \ as PW\n   end-points use the same PWE approach, they can communicate\n   effectively,\
    \ regardless of whether they are in the same domain.\n   Security may become more\
    \ important in the inter-domain case and some\n   security measure such as end-point\
    \ authentication MAY be applied.\n   QoS may become more difficult to deliver\
    \ too, as one service provider\n   has no control over another service provider's\
    \ provisioning and\n   traffic management policy.  To solve the inter-domain QoS\
    \ problem,\n   service providers have to cooperate.  Once they agree at a\n  \
    \ contractual level to provider high quality of service to certain\n   traffic\
    \ (e.g., PWE traffic), the mechanisms defined in other working\n   groups, e.g.,\
    \ Diffserv WG, can be used.\n   Inter-domain PSN tunnels are generally more difficult\
    \ to set up, tear\n   down and maintain than intra-domain ones.  But that is an\
    \ issue for\n   PSN tunneling protocols such as MPLS and L2TPv3 and is outside\
    \ the\n   scope of PWE3.\n"
- title: 11.  Security Considerations
  contents:
  - "11.  Security Considerations\n   The PW end-point, PW demultiplexing mechanism,\
    \ and the payloads of\n   the native service can all be vulnerable to attack.\
    \  PWE3 should\n   leverage security mechanisms provided by the PW Demultiplexer\
    \ or PSN\n   Layers.  Such mechanisms SHOULD protect PW end-point and PW\n   Demultiplexer\
    \ mechanism from denial-of-service (DoS) attacks and\n   spoofing of the native\
    \ data units.  Preventing unauthorized access to\n   PW end-points and other network\
    \ devices is generally effective\n   against DoS attacks and spoofing, and can\
    \ be part of protection\n   mechanism.  Protection mechanisms SHOULD also address\
    \ the spoofing of\n   tunneled PW data.  The validation of traffic addressed to\
    \ the PW\n   Demultiplexer end-point is paramount in ensuring integrity of PW\n\
    \   encapsulation.  Security protocols such as IPsec [RFC2401] can be\n   used.\n"
- title: 12.  Acknowledgments
  contents:
  - "12.  Acknowledgments\n   The authors would like to acknowledge input from M.\
    \ Aissaoui, M.\n   Bocci, S. Bryant, R. Cohen, N. Harrison, G. Heron, T. Johnson,\
    \ A.\n   Malis, L. Martini, E. Rosen, J. Rutemiller, T. So, Y. Stein, and S.\n\
    \   Vainshtein.\n"
- title: 13.  References
  contents:
  - '13.  References

    '
- title: 13.1.  Normative References
  contents:
  - "13.1.  Normative References\n   [IFMIB]     McCloghrie, K. and F. Kastenholz,\
    \ \"The Interfaces Group\n               MIB\", RFC 2863, June 2000.\n   [SMIV2]\
    \     McCloghrie, K., Perkins, D., and J. Schoenwaelder,\n               \"Structure\
    \ of Management Information Version 2 (SMIv2)\",\n               STD 58, RFC 2578,\
    \ April 1999.\n"
- title: 13.2.  Informative References
  contents:
  - "13.2.  Informative References\n   [G805]      \"Generic Functional Architecture\
    \ of Transport Networks\",\n               ITU-T Recommendation G.805, 2000.\n\
    \   [IPTUNMIB]  Thaler, D., \"IP Tunnel MIB\", RFC 2667, August 1999.\n   [L2TPv3]\
    \    Lau, J., Townsley, M., and I. Goyret, et al., \"Layer Two\n             \
    \  Tunneling Protocol (Version 3)\", Work in Progress, June\n               2004.\n\
    \   [MARS]      Armitage, G., \"Support for Multicast over UNI 3.0/3.1\n     \
    \          based ATM Networks\", RFC 2022, November 1996.\n   [MPLS]      Rosen,\
    \ E., Viswanathan, A., and R. Callon, \"Multiprotocol\n               Label Switching\
    \ Architecture\", RFC 3031, January 2001.\n   [PWE3_ARCH] S. Bryant and P. Pate,\
    \ et. al., \"PWE3 Architecture\", Work\n               in Progress, March 2004.\n\
    \   [RFC2401]   Kent, S. and R. Atkinson, \"Security Architecture for the\n  \
    \             Internet Protocol\", RFC 2401, November 1998.\n   [TEMIB]     Srinivasan,\
    \ C., Viswanathan, A., and T. Nadeau,\n               \"Multiprotocol Label Switching\
    \ (MPLS) Traffic Engineering\n               (TE) Management Information Base\
    \ (MIB)\", RFC 3812, June\n               2004.\n   [UNI3.0]    ATM Forum, \"\
    ATM User-Network Interface Specification\n               Version 3.0\", Sept.\
    \ 1993.\n"
- title: 14.  Authors' Addresses
  contents:
  - "14.  Authors' Addresses\n   XiPeng Xiao  (Editor)\n   Riverstone Networks\n \
    \  5200 Great America Parkway\n   Santa Clara, CA 95054\n   EMail: xxiao@riverstonenet.com\n\
    \   Danny McPherson (Editor)\n   Arbor Networks\n   EMail: danny@arbor.net\n \
    \  Prayson Pate (Editor)\n   Overture Networks\n   507 Airport Boulevard, Suite\
    \ 111\n   Morrisville, NC, USA 27560\n   EMail: prayson.pate@overturenetworks.com\n\
    \   Vijay Gill\n   AOL Time Warner\n   EMail: vijaygill9@aol.com\n   Kireeti Kompella\n\
    \   Juniper Networks, Inc.\n   1194 N. Mathilda Ave.\n   Sunnyvale, CA 94089\n\
    \   EMail: kireeti@juniper.net\n   Thomas D. Nadeau\n   Cisco Systems, Inc.\n\
    \   300 Beaver Brook Drive\n   Boxborough, MA 01719\n   EMail: tnadeau@cisco.com\n\
    \   Craig White\n   Level 3 Communications, LLC.\n   1025 Eldorado Blvd.\n   Broomfield,\
    \ CO, 80021\n   EMail: Craig.White@Level3.com\n"
- title: 15.  Full Copyright Statement
  contents:
  - "15.  Full Copyright Statement\n   Copyright (C) The Internet Society (2004).\n\
    \   This document is subject to the rights, licenses and restrictions\n   contained\
    \ in BCP 78, and except as set forth therein, the authors\n   retain all their\
    \ rights.\n   This document and the information contained herein are provided\
    \ on an\n   \"AS IS\" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/S HE\n  \
    \ REPRESENTS OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE\n   INTERNET\
    \ ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR\n   IMPLIED, INCLUDING\
    \ BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF\n   THE INFORMATION HEREIN WILL\
    \ NOT INFRINGE ANY RIGHTS OR ANY IMPLIED\n   WARRANTIES OF MERCHANTABILITY OR\
    \ FITNESS FOR A PARTICULAR PURPOSE.\n"
- title: Intellectual Property
  contents:
  - "Intellectual Property\n   The IETF takes no position regarding the validity or\
    \ scope of any\n   Intellectual Property Rights or other rights that might be\
    \ claimed to\n   pertain to the implementation or use of the technology described\
    \ in\n   this document or the extent to which any license under such rights\n\
    \   might or might not be available; nor does it represent that it has\n   made\
    \ any independent effort to identify any such rights.  Information\n   on the\
    \ IETF's procedures with respect to rights in IETF Documents can\n   be found\
    \ in BCP 78 and BCP 79.\n   Copies of IPR disclosures made to the IETF Secretariat\
    \ and any\n   assurances of licenses to be made available, or the result of an\n\
    \   attempt made to obtain a general license or permission for the use of\n  \
    \ such proprietary rights by implementers or users of this\n   specification can\
    \ be obtained from the IETF on-line IPR repository at\n   http://www.ietf.org/ipr.\n\
    \   The IETF invites any interested party to bring to its attention any\n   copyrights,\
    \ patents or patent applications, or other proprietary\n   rights that may cover\
    \ technology that may be required to implement\n   this standard.  Please address\
    \ the information to the IETF at ietf-\n   ipr@ietf.org.\n"
- title: Acknowledgement
  contents:
  - "Acknowledgement\n   Funding for the RFC Editor function is currently provided\
    \ by the\n   Internet Society.\n"
