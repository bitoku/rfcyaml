Abstract This document reports the results of the BGP 4 implementation survey.
The survey had 259 questions about implementations' support of BGP 4 as specified in RFC 4271.
After a brief summary of the results, each response is listed.
This document contains responses from the four implementers that completed the survey (Alcatel, Cisco, Laurel, and NextHop) and brief information from three that did not (Avici, Data Connection Ltd., and Nokia).
The editors did not use exterior means to verify the accuracy of the information submitted by the respondents.
The respondents are experts with the products they reported on.
This document reports results from a survey of implementations of BGP 4 as specified in [RFC4271].
RFC 4271 is in alignment with current deployments of BGP 4 and obsoletes the BGP standard [RFC1771].
BGP is a widely deployed cornerstone of Internet technology that continues to add additional functionality as the needs of the Internet evolve.
As deployed in the Internet, BGP 4 encompasses both this base specification and additional specifications such as TCP MD5 [RFC2385], BGP Route Reflectors [RFC2796], BGP Confederations [RFC3065], and BGP Route Refresh [RFC2918].
The BGP 4 implementation survey had 259 detailed questions about compliance with [RFC4271].
Four implementers (Alcatel, Cisco, Laurel, and NextHop) completed the survey.
Section 3 provides a compilation of those results.
Section 2.1 highlights significant differences and Section 2.2 provides an overview of the differences between the four implementations.
Section 2.3 provides interoperability information.
Due to the large number of BGP implementations and the small number of respondents, the editors took an informal survey to determine if the length of the original survey caused implementers not to submit it.
Three implementers responded, and all indicated the length of the survey was the issue.
Section 4 gives the results of this informal survey.
In this document, the editors have compiled the results of the implementation survey results and the informal survey.
Conventions Used in This Document
The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "
SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in [RFC2119].
The respondents replied "Y" (yes) or "N" (no) to the survey's 259 questions to indicate whether their implementation supports the Functionality/Description of the [RFC2119] language in [RFC4271].
The respondents replied "O" (other) to indicate that the support is neither "Y" nor "N" (for example, an alternate behavior).
Each question received affirmative responses from at least two implementers (i.e., two "Y" responses, or one "Y" and one "O"), except the following questions: a)
MUST Linked Questions 212/213, regarding Section 9.1.4
Due to the format of the linked questions, three vendors (Cisco, Laurel, and NextHop) replied "N" to Question 213.
(See Section 2.2 for details.)
b) SHALL NOT Question 228, regarding Section 9.2.2.2
Three vendors (Alcatel, Cisco, and Laurel) answered "N" to SHALL
One vendor (NextHop) indicated "O" matching the specification.
Text:  Routes that have different MULTI EXIT DISC attribute SHALL NOT be aggregated.
SHOULD Questions 257 and 258, regarding
Appendix F Three vendors answered "N" and one vendor answered "Y" to Question 257.
All four vendors answered "N" to Question 258.
(Please note that support of Appendix F, "Implementation Recommendations", is optional.)
Text:  A BGP speaker which needs to withdraw a destination and send an update about a more specific or less specific route SHOULD combine them into the same UPDATE message.
The last instance (rightmost occurrence) of that AS number is kept.
MAY Questions 180 and 254, regarding Sections 8.1.2.4 and 10 Three vendors answered "N", and 1 replied "Y" to Question 180.
The Event numbers (1 28) utilized in this state machine description aid in specifying the behavior of the BGP state machine.
Implementations MAY use these numbers to provide network management information.
The exact form of a FSM or the FSM events are specific to each implementation.
Section 8.1.2.4 was written to allow existing implementations to transition to the new event numbering.
It was expected over time (3 years) that the FSM event numbering would be updated to the new numbering.
Three vendors answered "N" and one answered "Y" to Question 254 about configurable jitter time values.
Text:  A given BGP speaker MAY apply the same jitter to each of these quantities regardless of the destinations to which the updates are being sent; that is, jitter need not be configured on a "per peer" basis.
Is the jitter range configurable?
This section provides the reader with a shortcut to the points where the four implementations differ.
The following questions were not answered "Y" by all four respondents (Note that the question numbers correspond to the final digit of subsection numbers of Section 3):
MUST 97, 106, 107, 111, 122, 125, 138, 141, 213 SHALL 233, 239 SHALL
NOT 228 SHOULD 42, 117, 132, 146, 152, 155, 156, 157, 158, 159, 160, 161, 163, 164, 165, 169, 170, 171, 173, 174, 175, 202, 225, 250, 255, 256 SHOULD NOT
226 MAY 67, 94, 121, 143, 180, 223, 247, 254 Other 236, 238 Linked Questions 212/213
Three vendors answered "N" and one answered "Y" to Question 213 about the aggregation of routes.
Questions 212 and 213 are grouped together.
Question 212 states: "The decision process MUST either install both routes or...
Aggregate the two routes and install the aggregated route, provided that both routes have the same value of the NEXT HOP attribute" Of the four respondents that said "Y" to Question 212, three said "N" to Question 213.
Given the context of the question, answering "N" to Question 213 is appropriate.
BGP Implementation Identification 1.6.0 Alcatel Implementation Name/Version:
BGP Implementation Release 1.3 Date:
Devendra.raut@Alcatel.com 1.6.1 Cisco Implementation Name
Alvaro Retana Date: 11/26/2003 1.6.2 Laurel Implementation Name
1.6.3 NextHop Technologies Implementation Name/Version:
Gated NGC 2.0, 2.2 Date: January 2004 3.
BGP 4 Implementation Report For every item listed
, the respondents indicated whether their implementation supports the Functionality/Description or not (Y/N) according to the [RFC2119] language indicated.
Any respondent comments are included.
If appropriate, the respondents indicated with "O" the fact that the support is neither Y/N (an alternate behavior, for example).
Refer to the appropriate sections in [RFC4271] for additional details.
Note that the last digit of the subsection number is the number of the survey question.
Summary of Operation / Section 3 [RFC4271] 3.0.1.
: Is your implementation compatible with the base behavior described in this section?
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.0.2.
: To allow local policy changes to have the correct effect without resetting any BGP connections, a BGP speaker SHOULD either (a) retain the current version of the routes advertised to it by all of its peers for the duration of the connection, or (b) make use of the Route Refresh extension [RFC2918]
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.1.
Advertisement and Storage / Section 3.1
Withdraw Routes from Service Functionality/Description
: Does your implementation support the three methods described in this section?
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.1.4.
Added to or modified before advertising the route
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.2.
Routing Information Bases / Section 3.2 [RFC4271]
: Is your implementation compatible with the RIB structure described in this section?
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.2.6.
The next hop for each route in the Loc RIB MUST be resolvable via the local BGP speaker's Routing Table
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Y NextHop Y/N/O/Comments: Y 3.3.
Message Formats / Section 4
: Does your implementation support the message sizes described in this section?
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.4.
Message Header Format / Section 4.1
Marker Functionality/Description: MUST be set to all ones
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Y NextHop Y/N/O/Comments: Y 3.4.9.
Length Functionality/Description: MUST always be at least 19 and no greater than 4096
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Length Functionality/Description: MAY be further constrained, depending on the message type RFC2119:
Y Cisco   Y/N/O/Comments: Y Laurel
"Padding" Functionality/Description: No "padding" of extra data after the message is allowed, so the Length field MUST have the smallest value required given the rest of the message
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Y NextHop Y/N/O/Comments: Y 3.5.
OPEN Message / Section 4.2
: Use the smaller of its configured Hold Time and the Hold Time received in the OPEN message RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
: MUST be either zero or at least three seconds
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Based on the Hold Time
Y NextHop Y/N/O/Comments: Y 3.6.
UPDATE Message Format / Section 4.3
UPDATE Functionality/Description: Simultaneously advertise a feasible route and withdraw multiple unfeasible routes from service
O    We have capability to process this functionality on receiving end
but we don't send feasible & unfeasible simultaneously.
For well known attributes, the Transitive bit MUST be set to 1
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
For well known attributes and for optional non transitive attributes the Partial bit MUST be set to 0
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Attribute Flags Octet Sending Functionality/Description:
Lower order four bits set to zero
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Attribute Flags Octet Receiving Functionality/Description:
Lower order four bits ignored
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Used as the next hop to the destinations listed in the NLRI field of the UPDATE message
Y Cisco   Y/N/O/Comments: Y Laurel
Used by a BGP speaker's decision process to discriminate among multiple entry points to a neighboring autonomous system
Y Cisco   Y/N/O/Comments: Y Laurel
Same address as the one used for the BGP Identifier of the speaker RFC2119: SHOULD Alcatel Y/N/O/Comments: Y    Default behavior.
Can be configured different from BGP ID.
UPDATE messages that include the same address prefix in the WITHDRAWN ROUTES and Network Layer Reachability Information fields Functionality/Description:
UPDATE messages SHOULD NOT include that information
RFC2119: SHOULD NOT Alcatel Y/N/O/Comments:
Y Cisco   Y/N/O/Comments: Y Laurel
UPDATE messages that include the same address prefix in the WITHDRAWN ROUTES and Network Layer Reachability Information fields Functionality/Description: The BGP speaker MUST be able to handle them
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
UPDATE messages that include the same address prefix in the WITHDRAWN ROUTES and Network Layer Reachability Information fields Functionality/Description
: Treated as if the WITHDRAWN ROUTES doesn't contain the address prefix
Y    Withdrawn routes are processed before NLRI fields.
Hence we get the desired behavior.
Y NextHop Y/N/O/Comments: Y 3.7.
KEEPALIVE Message Format / Section 4.4
Maximum KEEPALIVE Frequency Functionality/Description: Not greater than one second
RFC2119: MUST NOT Alcatel Y/N/O/Comments:
Y Cisco   Y/N/O/Comments: Y Laurel
Adjusted as a function of the Hold Time interval
Y Cisco   Y/N/O/Comments: Y Laurel
Negotiated Hold Time of 0 Functionality/Description
: No KEEPALIVEs sent RFC2119: MUST NOT
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.8.
NOTIFICATION Message Format / Section 4.5
: Does your implementation support the NOTIFICATION Message as described in this section?
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.9.
: Does your implementation support the path attributes as described in this section?
Y Cisco   Y/N/O/Comments: Y Laurel
Recognized by all BGP implementations RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Mandatory Attributes Functionality/Description: Included in every UPDATE message that contains NLRI
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
: Sent in a particular UPDATE message
Y Cisco   Y/N/O/Comments: Y Laurel
Passed along (after proper updating, if necessary) to other BGP peers
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
: In addition to well known attributes, each path MAY contain one or more optional attributes
Y Cisco   Y/N/O/Comments: Y Laurel
Unrecognized Transitive Optional Attributes Functionality/Description:
Y Cisco   Y/N/O/Comments: Y Laurel
Partial Bit for Unrecognized Transitive Optional Attributes Functionality/Description
: Set to 1 if the attribute is accepted and passed to other BGP speakers
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Unrecognized Non Transitive Optional Attributes Functionality/Description: Quietly ignored and not passed along to other BGP peers
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
New Transitive Optional Attributes Functionality/Description:
Attached to the path by the originator or by any other BGP speaker in the path
Y Cisco   Y/N/O/Comments: Y Laurel
Updated by BGP speakers in the path
Y Cisco   Y/N/O/Comments: Y Laurel
: Ordered in ascending order of attribute type RFC2119: SHOULD
O    All attributes are ordered in ascending order except Extended Community, which is type 16 but we send it out after community attribute.
Y    except for MBGP which is always last NextHop Y/N/O/Comments:
Out of Order Received Path Attributes Functionality/Description
: Receiver MUST be able to handle
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
: Present in all exchanges if NLRI are contained in the UPDATE message RFC2119: MUST
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.10.
ORIGIN Functionality/Description: Value SHOULD NOT be changed by any speaker, except the originator
RFC2119: SHOULD NOT Alcatel Y/N/O/Comments:
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.11.
AS PATH / Section 5.1.2
AS PATH Functionality/Description: Not modified when advertising a route to an internal peer
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.11.47.
Segment Overflow Functionality/Description: If the act of prepending will cause an overflow in the AS PATH segment, i.e., more than 255 ASs, it SHOULD prepend a new segment of type AS SEQUENCE and prepend its own AS number to this new segment
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.11.48.
Prepending Functionality/Description: The local system MAY include/prepend more than one instance of its own AS number in the AS PATH attribute
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.12.
NEXT HOP / Section 5.1.3
Used as the next hop to the destinations listed in the UPDATE message
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.12.50.
HOP Functionality/Description: When sending a message to an internal peer, if the route is not locally originated, the BGP speaker SHOULD NOT modify the NEXT HOP attribute, unless it has been explicitly configured to announce its own IP address as the NEXT HOP
Y Cisco   Y/N/O/Comments: Y Laurel
HOP Functionality/Description: When announcing a locally originated route to an internal peer, the BGP speaker SHOULD use as the NEXT HOP the interface address of the router through which the announced network is reachable for the speaker
RFC2119: SHOULD Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Y NextHop Y/N/O/Comments: Y 3.12.52.
HOP Functionality/Description: If the route is directly connected to the speaker, or the interface address of the router through which the announced network is reachable for the speaker is the internal peer's address, then the BGP speaker SHOULD use for the NEXT HOP attribute its own IP address (the address of the interface that is used to reach the peer)
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.12.53.
"First Party" NEXT HOP Functionality/Description:
If the external peer to which the route is being advertised shares a common subnet with one of the interfaces of the announcing BGP speaker, the speaker MAY use the IP address associated with such an interface in the NEXT HOP attribute RFC2119: MAY
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.12.54.
IP address of the interface that the speaker uses to establish the BGP connection
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.12.55.
NEXT HOP Propagation Functionality/Description: The speaker MAY be configured to propagate the NEXT HOP attribute.
In this case when advertising a route that the speaker learned from one of its peers, the NEXT HOP attribute of the advertised route is exactly the same as the NEXT HOP attribute of the learned route (the speaker just doesn't modify the NEXT HOP attribute)
O Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.12.56.
Third Party NEXT HOP Functionality/Description
: MUST be able to support disabling it
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
A route originated by a BGP speaker SHALL NOT be advertised to a peer using an address of that peer as NEXT HOP
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.12.58.
A BGP speaker SHALL NOT install a route with itself as the next hop
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.12.59.
: Used to determine the actual outbound interface and immediate next hop address that SHOULD be used to forward transit packets to the associated destinations
RFC2119: SHOULD Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
HOP IP Address Functionality/Description: If the entry specifies an attached subnet, but does not specify a next hop address, then the address in the NEXT HOP attribute SHOULD be used as the immediate next hop address
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.12.61.
HOP IP Address Functionality/Description: If the entry also specifies the next hop address, this address SHOULD be used as the immediate next hop address for packet forwarding
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.13.
MULTI EXIT DISC / Section 5.1.4 [RFC4271] 3.13.62.
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.13.63.
: If received over EBGP, the MULTI EXIT DISC attribute MAY be propagated over IBGP to other BGP speakers within the same AS
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.13.64.
: If received from a neighboring AS, it MUST NOT be propagated to other neighboring ASes
RFC2119: MUST NOT Alcatel Y/N/O/Comments:
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.13.65.
Remove MULTI EXIT DISC Functionality/Description: Local configuration mechanism to remove the attribute from a route
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Y NextHop Y/N/O/Comments: Y 3.13.66.
Remove MULTI EXIT DISC Functionality/Description
: Done prior to determining the degree of preference of the route and performing route selection RFC2119:
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.13.67.
MULTI EXIT DISC Alteration Functionality/Description:
An implementation MAY also (based on local configuration) alter the value of the MULTI EXIT DISC attribute received over EBGP
O Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.13.68.
MULTI EXIT DISC Alteration Functionality/Description
: Done prior to determining the degree of preference of the route and performing route selection RFC2119:
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.14.
LOCAL PREF / Section 5.1.5
LOCAL PREF Functionality/Description: Included in all UPDATE messages that a given BGP speaker sends to the other internal peers
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.14.70.
: Calculated for each external route based on the locally configured policy, and included when advertising a route to its internal peers
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.14.71.
: Higher degree of preference MUST be preferred
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Y NextHop Y/N/O/Comments: Y 3.14.72.
LOCAL PREF Functionality/Description: Not included in UPDATE messages sent to external peers, except for the case of BGP Confederations [RFC3065]
: MUST NOT Alcatel Y/N/O/Comments:
Y Cisco   Y/N/O/Comments: Y Laurel
LOCAL PREF Functionality/Description: Ignored if received from an external peer, except for the case of BGP Confederations [RFC3065]
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Y NextHop Y/N/O/Comments: Y 3.15.
ATOMIC AGGREGATE / Section 5.1.6
ATOMIC AGGREGATE Functionality/Description: Included if an aggregate excludes at least some of the AS numbers present in the AS PATH of the routes that are aggregated as a result of dropping the AS SET
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.15.75.
: BGP speaker SHOULD NOT remove the attribute from the route when propagating it to other speakers
RFC2119: SHOULD NOT Alcatel Y/N/O/Comments:
Y Cisco   Y/N/O/Comments: Y Laurel
: BGP speaker MUST NOT make any NLRI of that route more specific (as defined in 9.1.4)
: MUST NOT Alcatel Y/N/O/Comments:
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.16.
AGGREGATOR Functionality/Description: Included in updates which are formed by aggregation (see Section 9.2.2.2)
Y Cisco   Y/N/O/Comments: Y Laurel
Added by the BGP speaker performing route aggregation
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.16.79.
Contain local AS number and IP address
SHALL Alcatel Y/N/O/Comments: Y    Default behavior.
Can be configured different from BGP ID.
Y NextHop Y/N/O/Comments: Y 3.16.80.
The same as the BGP Identifier of the speaker RFC2119: SHOULD Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Y NextHop Y/N/O/Comments: Y 3.17.
BGP Error Handling / Section 6
: Is your implementation compatible with the error handling procedures described in this section?
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.17.82.
Zero, if it is not specified RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Y NextHop Y/N/O/Comments: Y 3.18.
Message Header Error Handling / Section 6.1
: Indicated by sending the NOTIFICATION message with Error Code Message Header Error
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Y NextHop Y/N/O/Comments: Y 3.18.84.
Synchronization Error Functionality/Description: Error Subcode MUST be set to Connection
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
: Use the Bad Message Length Error Subcode to indicate an incorrect message length RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Y NextHop Y/N/O/Comments: Y 3.18.86.
Bad Message Length Functionality/Description: The Data field MUST contain the erroneous Length field
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Type Field Functionality/Description: If the Type field of the message header is not recognized, then the Error Subcode MUST be set to Bad Message Type
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
: The Data field MUST contain the erroneous Type field
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Y NextHop Y/N/O/Comments: Y 3.19.
OPEN Message Error Handling / Section 6.2
: Indicated by sending the NOTIFICATION message with Error Code OPEN Message Error
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Y NextHop Y/N/O/Comments: Y 3.19.90.
: The Error Subcode MUST be set to Unsupported Version Number
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Unacceptable Autonomous System Field Functionality/Description: The Error Subcode MUST be set to Bad Peer AS
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
: Used if the Hold Time field of the OPEN message is unacceptable
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Y NextHop Y/N/O/Comments: Y 3.19.93.
Values of one or two seconds
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
: An implementation may reject any proposed Hold Time
Y Cisco   Y/N/O/Comments: Y Laurel
N NextHop Y/N/O/Comments: Y 3.19.95.
: If accepted, then the negotiated value MUST be used RFC2119: MUST
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.19.96.
Syntactically Incorrect BGP Identifier Functionality/Description
: The Error Subcode MUST be set to Bad BGP Identifier
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Y NextHop Y/N/O/Comments: Y 3.19.97.
Not Recognized Optional Parameters Functionality/Description
: The Error Subcode MUST be set to Unsupported Optional Parameters
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Y NextHop Y/N/O/Comments: Y 3.19.98.
Recognized but Malformed Optional Parameters Functionality/Description
: The Error Subcode MUST be set to 0 (Unspecific)
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Y NextHop Y/N/O/Comments: Y 3.20.
UPDATE Message Error Handling / Section 6.3
: Indicated by sending the NOTIFICATION message with Error Code UPDATE Message Error
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Y NextHop Y/N/O/Comments: Y 3.20.100.
If the Withdrawn Routes Length or Total Attribute Length is too large, then the Error Subcode MUST be set to Malformed Attribute List
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Y NextHop Y/N/O/Comments: Y 3.20.101.
Conflicting Flags Functionality/Description: If any recognized attribute has Attribute Flags that conflict with the Attribute Type Code, then the Error Subcode MUST be set to Attribute Flags Error
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Y NextHop Y/N/O/Comments: Y 3.20.102.
: The Data field MUST contain the erroneous attribute
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Y NextHop Y/N/O/Comments: Y 3.20.103.
Conflicting Length Functionality/Description: If any recognized attribute has Attribute Length that conflicts with the expected length, then the Error Subcode MUST be set to Attribute Length Error
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
: The Data field MUST contain the erroneous attribute
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Y NextHop Y/N/O/Comments: Y 3.20.105.
Well Known Attributes Functionality/Description: The Error Subcode MUST be set to Missing
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Y NextHop Y/N/O/Comments: Y 3.20.106.
Well Known Attributes Functionality/Description: The Data field MUST contain the Attribute Type Code of the missing well known attribute
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
We plan to fix this in future.
: The Error Subcode MUST be set to Unrecognized Well known Attribute
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
We set error subcode to Attribute Flags Error, but we intend to correct this soon.
: The Data field MUST contain the unrecognized attribute
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Y NextHop Y/N/O/Comments: Y 3.20.109.
: The Error Sub code MUST be set to Invalid Origin Attribute
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Y NextHop Y/N/O/Comments: Y 3.20.110.
Undefined ORIGIN Functionality/Description: The Data field MUST contain the unrecognized attribute
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
HOP Functionality/Description: The Error Subcode MUST be set to Invalid NEXT HOP Attribute
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
N    Ignores the prefix in case of martian nexthop, and in case of length not equal to IPv4 address length, we send NOTIFICATION with error subcode Attribute Length error.
Y NextHop Y/N/O/Comments: Y 3.20.112.
HOP Functionality/Description: The Data field MUST contain the incorrect attribute
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Y NextHop Y/N/O/Comments: Y 3.20.113.
HOP Semantic Correctness Functionality/Description: NEXT HOP is checked for semantic correctness against the criteria in this section RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
NEXT HOP Semantic Correctness Functionality/Description: Not be the IP address of the receiving speaker
RFC2119: MUST NOT Alcatel Y/N/O/Comments:
Y Cisco   Y/N/O/Comments: Y Laurel
: In the case of an EBGP where the sender and receiver are one IP hop away from each other, either the IP address in the NEXT HOP MUST be the sender's IP address (that is used to establish the BGP connection), or the interface associated with the NEXT HOP IP address MUST share a common subnet with the receiving BGP speaker
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
HOP Functionality/Description: Error logged RFC2119: SHOULD Alcatel Y/N/O/Comments:
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.20.117.
RFC2119: SHOULD Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
N NextHop Y/N/O/Comments: Y 3.20.118.
: NOTIFICATION not sent RFC2119:
Y Cisco   Y/N/O/Comments: Y Laurel
RFC2119: SHOULD NOT Alcatel Y/N/O/Comments:
Y Cisco   Y/N/O/Comments: Y Laurel
Syntactically Incorrect AS PATH Functionality/Description
: The Error Subcode MUST be set to Malformed AS PATH
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Y NextHop Y/N/O/Comments: Y 3.20.121.
First Neighbor in AS PATH Check Functionality/Description: If the UPDATE message is received from an external peer, the local system MAY check whether the leftmost AS in the AS PATH attribute is equal to the autonomous system number of the peer that sent the message
Y Cisco   Y/N/O/Comments: Y Laurel
First Neighbor in AS PATH Check Functionality/Description: If the check determines that this is not the case, the Error Subcode MUST be set to Malformed AS PATH
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
a NextHop Y/N/O/Comments: Y 3.20.123.
: Value MUST be checked if the attribute is recognized RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
: The attribute MUST be discarded RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Y NextHop Y/N/O/Comments: Y 3.20.125.
Optional Attribute Error Functionality/Description: The Error Subcode MUST be set to Optional Attribute Error
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments: N
What exactly is optional attribute e.g.
, If error is flag related, we send update flag error subcode, if it is length related, we send update length error subcode.
These granular subcodes are better in terms of debugging than optional attribute error.
Only optional attribute error that doesn't have a more specific error, is the version 3 to version 4 error for the atomic aggregate.
All others default to more specific error codes if implementation.
: The Data field MUST contain the attribute RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Duplicate Attributes Functionality/Description: If any attribute appears more than once in the UPDATE message, then the Error Subcode MUST be set to Malformed Attribute List
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Syntactically Incorrect NLRI Field Functionality/Description: The Error Subcode MUST be set to Invalid Network Field
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.20.129.
Semantically Incorrect NLRI Field Functionality/Description
: An error SHOULD be logged locally RFC2119: SHOULD Alcatel Y/N/O/Comments:
Y Cisco   Y/N/O/Comments: Y Laurel
Semantically Incorrect NLRI Field Functionality/Description
: The prefix SHOULD be ignored RFC2119: SHOULD
Y Cisco   Y/N/O/Comments: Y Laurel
UPDATE with no NLRI Functionality/Description
: An UPDATE message that contains correct path attributes, but no NLRI, SHALL be treated as a valid UPDATE message
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.21.
NOTIFICATION Message Error Handling / Section 6.4
Error in NOTIFICATION Message Functionality/Description: Noticed, logged locally, and brought to the attention of the administration of the peer
Y NextHop Y/N/O/Comments: Y 3.22.
Hold Timer Expired Error Handling / Section 6.5
: Is your implementation compatible with the error handling procedures described in this section?
Y Cisco   Y/N/O/Comments: Y Laurel
Finite State Machine Error Handling / Section 6.6
Finite State Machine Errors Functionality/Description
: Is your implementation compatible with the error handling procedures described in this section?
Y NextHop Y/N/O/Comments: Y 3.24.
Used in absence of any fatal errors if a BGP peer chooses at any given time to close its BGP connection
We close the TCP session without CEASE NOTIFICATION.
Y NextHop Y/N/O/Comments: Y 3.24.136.
Cease NOTIFICATION Functionality/Description: Not used for specified fatal errors
RFC2119: MUST NOT Alcatel Y/N/O/Comments:
Y Cisco   Y/N/O/Comments: Y Laurel
Upper bound on the number of address prefixes the speaker is willing to accept from a neighbor Functionality/Description:
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.24.138.
Upper bound on the number of address prefixes the speaker is willing to accept from a neighbor Functionality/Description: If exceeded and the BGP speaker decides to terminate its BGP connection, the Cease NOTIFICATION MUST be used
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
but we plan to correct that soon.
No termination of peers is supported We are considering support with the maximum prefix document for later releases.
Upper bound on the number of address prefixes the speaker is willing to accept from a neighbor Functionality/Description:
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.25.
BGP Connection Collision Detection / Section 6.8
: One of the connections MUST be closed
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Receipt of an OPEN Message Functionality/Description: The local system MUST examine all of its connections that are in the OpenConfirm state
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
O    We detect collision through some other implementation specific way and resolve by method specified in the document.
Receipt of an OPEN Message Functionality/Description
: Examine connections in an OpenSent state if it knows the BGP Identifier of the peer by means outside of the protocol
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.26.
BGP Version Negotiation / Section 7
Version Negotiation Functionality/Description: Multiple attempts to open a BGP connection, starting with the highest version number
We resolve it through config.
If Config is for version 3, and we get version 4, OPEN will always fail.
Similarly, if configed (default) is version 4 and peers configured is 3, we don't try to negotiate version 3 unless we have configured it.
N    Supports only version 4.
Future Versions of BGP Functionality/Description: MUST retain the format of the OPEN and NOTIFICATION messages
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Y NextHop Y/N/O/Comments: Y 3.27.
BGP Finite State Machine (FSM) / Section 8 [RFC4271] 3.27.145.
: Is your implementation compatible with the conceptual FSM described in this section?
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.28.
Administrative Events / Section 8.1.2
Optional Session Attribute Settings Functionality/Description: Each event has an indication of what optional session attributes SHOULD be set at each stage RFC2119: SHOULD Alcatel Y/N/O/Comments: Y
We have an option Of manually starting or stopping sessions but not an option for all optional session attributes that are listed in the document.
The following optional attributes are implied in this implementation: 1)
ManualStart Functionality/Description: The PassiveTcpEstablishment attribute SHOULD be set to FALSE
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.28.148.
The AllowAutomaticStart attribute SHOULD be set to TRUE
RFC2119: SHOULD Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Y NextHop Y/N/O/Comments: Y 3.28.149.
AutomaticStart Functionality/Description: The PassiveTcpEstablishment optional session attribute SHOULD be set to FALSE
Y Cisco   Y/N/O/Comments: Y Laurel
AutomaticStart Functionality/Description: DampPeerOscillations SHOULD be set to FALSE
Y    Don't support DampPeerOscillations attribute, so it is always FALSE.
Y NextHop Y/N/O/Comments: Y 3.28.151.
ManualStart with PassiveTcpEstablishment Functionality/Description: The PassiveTcpEstablishment attribute SHOULD be set to TRUE
RFC2119: SHOULD Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
We wait for some fixed time before initiating OPEN.
Y NextHop Y/N/O/Comments: Y 3.28.152.
ManualStart with PassiveTcpEstablishment Functionality/Description: The DampPeerOscillations attribute SHOULD be set to FALSE
Y    Don't support DampPeerOscillations attribute
O    We don't support DampPeerOscilation attribute with a setting of off, and hence Event 4.
Future version will support Event 4 3.28.153.
The AllowAutomaticStart attribute SHOULD be set to TRUE
RFC2119: SHOULD Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Y NextHop Y/N/O/Comments: Y 3.28.154.
: The PassiveTcpEstablishment attribute SHOULD be set to TRUE
RFC2119: SHOULD Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
The DampPeerOscillations SHOULD be set to FALSE
Y    Don't support DampPeerOscillations attribute, so always FALSE.
O    We don't support DampPeerOscilation attribute with a setting of off, and hence Event 5.
Future version will support Event 5 3.28.156.
The AllowAutomaticStart attribute SHOULD be set to TRUE
O    Don't support DampPeerOscillations attribute.
Y NextHop Y/N/O/Comments: Y 3.28.157.
: The DampPeerOscillations attribute SHOULD be set to TRUE
N    Don't support DampPeerOscillations attribute.
: The PassiveTcpEstablishment attribute SHOULD be set to FALSE
O    Don't support DampPeerOscillations attribute and
Y NextHop Y/N/O/Comments: Y 3.28.159.
AutomaticStart with DampPeerOscillations and PassiveTcpEstablishment Functionality/Description:
The AllowAutomaticStart attribute SHOULD be set to TRUE
O    Don't support DampPeerOscillations attribute and
Y NextHop Y/N/O/Comments: Y 3.28.160.
AutomaticStart with DampPeerOscillations and PassiveTcpEstablishment Functionality/Description:
The DampPeerOscillations attribute SHOULD be set to TRUE
O    Don't support DampPeerOscillations attribute and
Y NextHop Y/N/O/Comments: Y 3.28.161.
AutomaticStart with DampPeerOscillations and PassiveTcpEstablishment Functionality/Description:
The PassiveTcpEstablishment attribute SHOULD be set to TRUE
O    Don't support DampPeerOscillations attribute and
: The AllowAutomaticStop attribute SHOULD be TRUE
N Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.29.
Timer Events / Section 8.1.3
: DelayOpen attribute SHOULD be set to TRUE
N Cisco   Y/N/O/Comments: Y Laurel
a NextHop Y/N/O/Comments: Y 3.29.164.
: DelayOpenTime attribute SHOULD be supported RFC2119: SHOULD Alcatel Y/N/O/Comments:
N Cisco   Y/N/O/Comments: Y Laurel
DelayOpenTimer Expires Functionality/Description: DelayOpenTimer SHOULD be supported
N Cisco   Y/N/O/Comments: Y Laurel
: DampPeerOscillations attribute SHOULD be set to TRUE
O    Don't support DampPeerOscillations attribute and hence Event13
: IdleHoldTimer SHOULD have just expired RFC2119: SHOULD
O    Don't support DampPeerOscillations attribute and hence Event13
Y NextHop Y/N/O/Comments: Y 3.30.
TCP Connection Based Events / Section 8.1.4
TcpConnection Valid Functionality/Description: BGP's destination port SHOULD be port 179
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.30.169.
TcpConnection Valid Functionality/Description: The TrackTcpState attribute SHOULD be set to TRUE
RFC2119: SHOULD Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
O    GateD NGC 2.0  provides hooks for the TCP state tracking, but use of this option depends OS support.
Future versions will have additional hooks.
: BGP destination port number SHOULD be 179
Y Cisco   Y/N/O/Comments: Y Laurel
O    GateD NGC 2.0  provides hooks for the TCP state tracking, but use of this option depends OS support.
Future versions will have additional hooks.
BGP Messages Based Events / Section 8.1.5
: The DelayOpen optional attribute SHOULD be set to FALSE
Y Cisco   Y/N/O/Comments: Y Laurel
: The DelayOpenTimer SHOULD not be running
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.31.173.
: BGPOpen with DelayOpenTimer Running
: The DelayOpen attribute SHOULD be set to TRUE
: BGPOpen with DelayOpenTimer Running
: The DelayOpenTimer SHOULD be running
N Cisco   Y/N/O/Comments: Y Laurel
: OpenCollisionDump Functionality/Description: If the state machine is to process this event in Established state, the CollisionDetectEstablishedState optional attribute SHOULD be set to TRUE
RFC2119: SHOULD Alcatel Y/N/O/Comments: Y    Collision detection event is logged.
O    We always detect collision before we go to established state.
O    GateD NGC 2.0 does not support Collision Detection in Established state.
This option attribute  is always set to FALSE.
FSM Definition / Section 8.2.1
FSM Functionality/Description: Separate FSM for each configured peer RFC2119: MUST
Y Cisco   Y/N/O/Comments: Y Laurel
TCP Port 179 Functionality/Description: A BGP implementation MUST connect to and listen on TCP port 179 for incoming connections in addition to trying to connect to peers
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
: A state machine MUST be instantiated RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Y NextHop Y/N/O/Comments: Y 3.33.
FSM and Collision Detection / Section 8.2.1.2 [RFC4271] 3.33.179.
The corresponding FSM for the connection that is closed SHOULD be disposed of RFC2119: SHOULD Alcatel Y/N/O/Comments:
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.34.
FSM Event numbers / Section 8.2.1.4
Used to provide network management information
Y    Not visible to operator.
N    Future Release of GateD NGC may support event numbers.
Finite State Machine / Section 8.2.2
ConnectRetryTimer Functionality/Description: Sufficiently large to allow TCP initialization
Y Cisco   Y/N/O/Comments: Y Laurel
: In response to a TCP connection succeeds [Event 16 or Event 17], the 2nd connection SHALL be tracked until it sends an OPEN message
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.36.
UPDATE Message Handling / Section 9
: Does your implementation handle UPDATE messages in a manner compatible to the description in this section?
Y Cisco   Y/N/O/Comments: Y Laurel
Any previously advertised routes whose destinations are contained in this field SHALL be removed from
Y Cisco   Y/N/O/Comments: Y Laurel
: The BGP speaker SHALL run its Decision Process since the previously advertised route is no longer available for use
RFC2119: SHALL Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Y NextHop Y/N/O/Comments: Y 3.36.186.
Implicit Withdraw Functionality/Description: If an UPDATE message contains a feasible route, and the NLRI of the new route is identical to the one of a route currently stored in the Adj RIB In, then the new route SHALL replace the older route
Y Cisco   Y/N/O/Comments: Y Laurel
Other Feasible Routes Functionality/Description: If an UPDATE message contains a feasible route, and the NLRI of the new route is not identical to the one of any route currently stored in the Adj RIB In, then the new route SHALL be placed in the Adj RIB
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.36.188.
: Once a BGP speaker updates the Adj RIB In, it SHALL run its Decision Process
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.37.
Decision Process / Section 9.1
: Is your implementation compatible with the description in this section?
Y Cisco   Y/N/O/Comments: Y Laurel
Degree of Preference Functionality/Description: SHALL NOT use as its inputs any of the following: the existence of other routes, the non existence of other routes, or the path attributes of other routes
RFC2119: SHALL NOT Alcatel Y/N/O/Comments:
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.38.
Calculation of Degree of Preference / Section 9.1.1
Ineligible Degree of Preference Functionality/Description:
The route MAY NOT serve as an input to the next phase of route selection RFC2119:
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.38.192.
Eligible Degree of Preference Functionality/Description:
Used as the LOCAL PREF value in any IBGP
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Y NextHop Y/N/O/Comments: Y 3.39.
Phase 2: Route Selection / Section 9.1.2
HOP Functionality/Description: If the NEXT HOP attribute of a BGP route depicts an address that is not resolvable, or it would become unresolvable if the route was installed in the routing table the BGP route MUST be excluded RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Routes Installed in LOC RIB Functionality/Description: The route in the Adj RIBs In identified as the best (see section 9.1.2) is installed in the Loc RIB, replacing any route to the same destination that is currently being held in the Loc RIB
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.39.195.
Immediate Next Hop Address Functionality/Description: MUST be determined from the NEXT HOP attribute of the selected route (see Section 5.1.3)
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
: Performed again if either the immediate next hop or the IGP cost to the NEXT HOP changes
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Y NextHop Y/N/O/Comments: Y 3.39.197.
Immediate Next Hop Address Functionality/Description: Used for packet forwarding
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Y NextHop Y/N/O/Comments: Y 3.39.198.
: Removed from the Loc RIB and the routing table
Y Cisco   Y/N/O/Comments: Y Laurel
: Kept in the corresponding Adj RIBs
In RFC2119: SHOULD Alcatel Y/N/O/Comments:
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.40.
Route Resolvability Condition / Section 9.1.2.1
Unresolvable Routes Functionality/Description: Excluded from the Phase 2 decision
Y Cisco   Y/N/O/Comments: Y Laurel
: Only the longest matching route SHOULD be considered RFC2119: SHOULD
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.40.202.
Mutual Recursion Functionality/Description: If a route fails the resolvability check because of mutual recursion, an error message SHOULD be logged RFC2119: SHOULD Alcatel Y/N/O/Comments: Y
O    We have checks that disallow mutual recursion, so this won't happen.
Y NextHop Y/N/O/Comments: Y 3.41.
Breaking Ties (Phase 2) / Section 9.1.2.2
Tie Breaking Criteria Functionality/Description: Applied in the order specified RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
BGP implementations MAY use any algorithm which produces the same results as those described here
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.41.205.
MULTI EXIT DISC Removal Functionality/Description:
If done before re advertising a route into IBGP
, then comparison based on the received EBGP MULTI EXIT DISC attribute MAY still be performed
Y Cisco   Y/N/O/Comments: Y Laurel
MULTI EXIT DISC Removal Functionality/Description:
The optional comparison on MULTI EXIT DISC if performed at all MUST be performed only among EBGP learned routes
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
MULTI EXIT DISC Comparison Functionality/Description:
Performed for IBGP learned routes
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Y NextHop Y/N/O/Comments: Y 3.42.
Phase 3: Route Dissemination / Section 9.1.3
Policy for processing routes from the Loc RIB into Adj RIBs Out
: Exclude a route in the Loc RIB from being installed in a particular Adj RIB Out
Y Cisco   Y/N/O/Comments: Y Laurel
Adj Rib Out Route Installation Functionality/Description: Not unless the destination and NEXT HOP described by this route may be forwarded appropriately by the Routing Table
Y Cisco   Y/N/O/Comments: Y Laurel
Withdraw Routes Functionality/Description: If a route in Loc RIB is excluded from a particular Adj RIB Out the previously advertised route in that Adj RIB Out MUST be withdrawn from service by means of an UPDATE message (see 9.2)
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Y NextHop Y/N/O/Comments: Y 3.43.
Overlapping Routes / Section 9.1.4
: Consider both routes based on the configured acceptance policy RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Y NextHop Y/N/O/Comments: Y 3.43.212.
Accepted Overlapping Routes Functionality/Description: The Decision Process MUST either install both routes or...
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Y NextHop Y/N/O/Comments: Y 3.43.213.
: Aggregate the two routes and install the aggregated route, provided that both routes have the same value of the NEXT HOP attribute
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
We install both in Local RIB.
N    no automatic aggregation NextHop Y/N/O/Comments: N    no automatic aggregation 3.43.214.
Aggregation Functionality/Description: Either include all ASs used to form the aggregate in an AS SET or add the ATOMIC AGGREGATE attribute to the route
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.43.215.
: Routes SHOULD NOT be de aggregated
RFC2119: SHOULD NOT Alcatel Y/N/O/Comments:
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.43.216.
Route with the ATOMIC AGGREGATE Attribute Functionality/Description: Not de aggregated
: MUST NOT Alcatel Y/N/O/Comments:
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.44.
Update Send Process / Section 9.2
UPDATE Message Received from an Internal Peer Functionality/Description:
Not re distribute the routing information to other internal peers, unless the speaker acts as a BGP Route Reflector [RFC2796]
Y Cisco   Y/N/O/Comments: Y Laurel
All newly installed routes and all newly unfeasible routes for which there is no replacement route SHALL be advertised to its peers by means of an UPDATE message
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.44.219.
: A BGP speaker SHOULD NOT advertise a given feasible BGP route if it would produce an UPDATE message containing the same BGP route as was previously advertised
RFC2119: SHOULD NOT Alcatel Y/N/O/Comments:
Y Cisco   Y/N/O/Comments: Y Laurel
: Removed from the Loc RIB
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.44.221.
Changes to Reachable Destinations Functionality/Description
: Changes to the reachable destinations within its own autonomous system SHALL also be advertised in an UPDATE message
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.44.222.
A single route doesn't fit into the UPDATE message Functionality/Description: Don't advertise
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Y NextHop Y/N/O/Comments: Y 3.44.223.
A single route doesn't fit into the UPDATE message Functionality/Description
: Log an error local
Y NextHop Y/N/O/Comments: Y 3.45.
Frequency of Route Advertisement / Section 9.2.1.1
MinRouteAdvertisementIntervalTimer Functionality/Description: Minimum separation between two UPDATE messages sent by a BGP speaker to a peer that advertise feasible routes and/or withdrawal of unfeasible routes to some common set of destinations
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Y NextHop Y/N/O/Comments: Y 3.45.225.
MinRouteAdvertisementIntervalTimer used for internal peers SHOULD be shorter than the MinRouteAdvertisementIntervalTimer used for external peers, or RFC2119: SHOULD Alcatel Y/N/O/Comments:
O    Configurable on per peer basis.
they are same for ebgp and ibgp
NextHop Y/N/O/Comments: Y    Configuration option allows to set the time per peer.
: The procedure describes in this section SHOULD NOT apply for routes sent to internal peers
RFC2119: SHOULD NOT Alcatel Y/N/O/Comments: O    Operator has to ensure that through configuration.
Y    Default setting is off for BGP peers.
MinRouteAdvertisementIntervalTimer Functionality/Description: The last route selected SHALL be advertised at the end of
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.46.
Aggregating Routing Information / Section 9.2.2.2
: Routes that have different MULTI EXIT DISC attribute SHALL NOT be aggregated RFC2119
: SHALL NOT Alcatel Y/N/O/Comments:
N NextHop Y/N/O/Comments: Y 3.46.229.
AS SET as the First Element Functionality/Description: If the aggregated route has an AS SET as the first element in its AS PATH attribute, then the router that originates the route SHOULD NOT advertise the MULTI EXIT DISC attribute with this route
RFC2119: SHOULD NOT Alcatel Y/N/O/Comments:
Y Cisco   Y/N/O/Comments: Y Laurel
: When aggregating routes that have different NEXT HOP attribute, the NEXT HOP attribute of the aggregated route SHALL identify an interface on the BGP speaker that performs the aggregation
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.46.231.
: Used if at least one route among routes that are aggregated has ORIGIN with the value INCOMPLETE
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
: Used if at least one route among routes that are aggregated has ORIGIN with the value
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
Y NextHop Y/N/O/Comments: Y 3.46.233.
Routes to be aggregated have
Routes to be aggregated have
different AS PATH attributes Functionality/Description
: All tuples of type AS SEQUENCE in the aggregated AS PATH SHALL appear in all of the AS PATH in the initial set of routes to be aggregated
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.46.235.
Routes to be aggregated have
different AS PATH attributes Functionality/Description: All tuples of type AS SET in the aggregated AS PATH SHALL appear in at least one of the AS PATH in the initial set
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.46.236.
Routes to be aggregated have
different AS PATH attributes Functionality/Description
: For any tuple X of type AS SEQUENCE in the aggregated AS PATH which precedes tuple Y in the aggregated AS PATH, X precedes Y in each AS PATH in the initial set which contains Y, regardless of the type of Y
Y NextHop Y/N/O/Comments: Y 3.46.237.
Routes to be aggregated have
different AS PATH attributes Functionality/Description
: No tuple of type AS SET with the same value SHALL appear more than once in the aggregated AS PATH
Y Cisco   Y/N/O/Comments: Y Laurel
Routes to be aggregated have
different AS PATH attributes Functionality/Description:
Multiple tuples of type AS SEQUENCE with the same value may appear in the aggregated AS PATH only when adjacent to another tuple of the same type and value
N NextHop Y/N/O/Comments: Y 3.46.239.
AS PATH Aggregation Algorithm Functionality/Description:
Able to perform the (minimum) algorithm described in 9.2.2.2.
Y NextHop Y/N/O/Comments: Y 3.46.240.
AGGREGATE Functionality/Description: The aggregated route SHALL have this attribute if at least one of the routes to be aggregated has it
Y Cisco   Y/N/O/Comments: Y Laurel
: Attribute from routes to be aggregated MUST NOT be included in aggregated route RFC2119:
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.46.242.
: Attach a new one when aggregating (see Section 5.1.7)
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.47.
Route Selection Criteria / Section 9.3
Y Cisco   Y/N/O/Comments: Y Laurel
Route Changes Functionality/Description: SHOULD NOT make rapid spontaneous changes to the choice of route
RFC2119: SHOULD NOT Alcatel Y/N/O/Comments:
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.48.
Originating BGP Routes / Section 9.4
Non BGP Acquired Routes Functionality/Description
: Distributed to other BGP speakers within the local AS as part of the update process (see Section 9.2)
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.48.246.
Non BGP Acquired Routes Functionality/Description
: Distribution controlled via configuration
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.49.
BGP Timers / Section 10
Optional Timers Functionality/Description: Two optional timers MAY be supported:
We support DelayOpenTimer but not IdleHoldTimer Laurel
Y    support IdleHoldTimer but not the DelayOpenTimer NextHop Y/N/O/Comments: Y 3.49.248.
: Configurable on a per peer basis
RFC2119: MUST Alcatel Y/N/O/Comments: Y Cisco   Y/N/O/Comments:
: Allow the other timers to be configurable
Y Cisco   Y/N/O/Comments: Y Laurel
: Applied to the timers associated with MinASOriginationInterval, KeepAlive, MinRouteAdvertisementInterval, and ConnectRetry
O    We only apply to ConnectRetry.
Y NextHop Y/N/O/Comments: Y 3.49.251.
Jitter Functionality/Description: Apply the same jitter to each of these quantities regardless of the destinations to which the updates are being sent; that is, jitter need not be configured on a "per peer" basis
We apply same only for connectretry.
Y NextHop Y/N/O/Comments: Y 3.49.252.
Default Amount of jitter Functionality/Description:
Determined by multiplying the base value of the appropriate timer by a random factor which is uniformly distributed in the range from 0.75 to 1.0
Alcatel Y/N/O/Comments: Y    Range is 0.9 to 1.1 Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.49.253.
Default Amount of jitter Functionality/Description:
New random value picked each time the timer is set
Y Cisco   Y/N/O/Comments: Y Laurel
Y NextHop Y/N/O/Comments: Y 3.49.254.
Jitter Random Value Range Functionality/Description:
Y NextHop Y/N/O/Comments: N 3.50.
TCP Options that May Be Used with BGP / Appendix E [RFC4271] 3.50.255.
TCP PUSH Function Supported Functionality/Description:
Each BGP message SHOULD be transmitted with PUSH flag set
Y Cisco   Y/N/O/Comments: Y Laurel
O    Depends on the TCP stack support.
GateD 10, NGC can run over multiple stacks.
Differentiated Services Code Point (DSCP) Field Support Functionality/Description:
TCP connections opened with bits 0 2 of the DSCP field set to 110 (binary)
Y Cisco   Y/N/O/Comments: Y Laurel
O    Depends on the TCP stack support.
GateD 10, NGC can run over multiple stacks.
Reducing Route Flapping / Appendix F.2 [RFC4271] 3.51.257.
Avoid Excessive Route Flapping Functionality/Description
: A BGP speaker which needs to withdraw a destination and send an update about a more specific or less specific route SHOULD combine them into the same UPDATE message
N NextHop Y/N/O/Comments: N 3.52.
Complex AS PATH aggregation / Appendix F.6 [RFC4271] 3.52.258.
Multiple Instances in AS PATH Functionality/Description:
The last instance (rightmost occurrence) of that AS number is kept RFC2119: SHOULD Alcatel Y/N/O/Comments:
We use algorithm in 9.2.2.2 Cisco   Y/N/O/Comments:
N NextHop Y/N/O/Comments: N 3.53.
Authentication Mechanism Functionality/Description: A BGP implementation MUST support the authentication mechanism specified in RFC 2385 [RFC2385].
Y Cisco   Y/N/O/Comments: Y Laurel
Additional BGP Implementations Information Three implementations responded to a call (5/20/04 6/2/04) for information on those implementations that had a BGP implementation, but did not complete the full survey.
The responses for the call for additional information are below.
If you have an implementation of BGP and you did not send in an implementation report (answering the 259 questions), could you send me the answer the following questions: 1) BGP product Contributor (your name):Curtis Villamizar [curtis@fictitious.org] Company:
Avici name of product: IPriori (TM)
No interoperability problems with any version.
Current deployed versions are 5.x and
Version 6.1 and beyond are tested against the latest BGP specification [RFC4271].
What other implementations you interoperate with.
Juniper: JUNOS (version not given) 3)
Do you inter operate with: 1) Alcatel BGP (release) not tested 2)
cisco BGP IOS 12.0(27)s not tested tested with IOS 12.0(22); BGP is the same 3)
laurel BGP (specify release) not tested 4)
NextHop GateD not tested 4)
Did the length of the survey for BGP cause you to not submit the BGP implementation report?
Data Connection Ltd. If you have an implementation of BGP and you did not send in an implementation report (answering the 259 questions), could you send me the answer the following questions: 1) BGP product Contributor (your name): Mike Dell Company:
Data Connection Ltd. name of product:  DC BGP version and minor of software: v1.1 release date: April 2003 2)
What other implementations you interoperate with.
Cisco (12.0(26)S) Alcatal (7770 0BX)
Ixia (1600T) Netplane (Powercode) Nortel (Shasta 5000 BSN)
IP Infusion (ZebOs) Nokia (IP400)
Do you inter operate with 1)
Unknown, but we do inter operate with v12.0(26)s
Did the length of the survey for BGP cause you to not submit the BGP implementation report?
If you have an implementation of BGP and you did not send in an implementation report (answering the 259 questions), could you send me the answer the following questions: 1) BGP product Contributor (
your name):Rahul Bahadur (rahul.bahadur@nokia.com) Company:
What other implementations you interoperate with.
GNU Zebra: zebra 0.92a 3)
Do you inter operate with 1)
Alcatel BGP (release) not tested 2)
yes 3) laurel BGP (specify release) not tested 4)
NextHop GateD not tested 4)
Did the length of the survey for BGP cause you to not submit the BGP implementation report?
Yes lack of resources to help with task.
This document does not address any security issues.
