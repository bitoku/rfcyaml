- title: __initial_text__
  contents:
  - ''
- title: Independent Submission                                 M. Boucadair, Ed.
  contents:
  - "Independent Submission                                 M. Boucadair, Ed.\n  \
    \          Scenarios with Host Identification Complications\n"
- title: Abstract
  contents:
  - "Abstract\n   This document describes a set of scenarios in which complications\n\
    \   when identifying which policy to apply for a host are encountered.\n   This\
    \ problem is abstracted as \"host identification\".  Describing\n   these scenarios\
    \ allows commonalities between scenarios to be\n   identified, which is helpful\
    \ during the solution design phase.\n   This document does not include any solution-specific\
    \ discussions.\n"
- title: IESG Note
  contents:
  - "IESG Note\n   This document describes use cases where IP addresses are overloaded\n\
    \   with both location and identity properties.  Such semantic\n   overloading\
    \ is seen as a contributor to a variety of issues within\n   the routing system\
    \ [RFC4984].  Additionally, these use cases may be\n   seen as a way to justify\
    \ solutions that are not consistent with IETF\n   Best Current Practices on protecting\
    \ privacy [BCP160] [BCP188].\n"
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This document is not an Internet Standards Track specification;\
    \ it is\n   published for informational purposes.\n   This is a contribution to\
    \ the RFC Series, independently of any other\n   RFC stream.  The RFC Editor has\
    \ chosen to publish this document at\n   its discretion and makes no statement\
    \ about its value for\n   implementation or deployment.  Documents approved for\
    \ publication by\n   the RFC Editor are not a candidate for any level of Internet\n\
    \   Standard; see Section 2 of RFC 5741.\n   Information about the current status\
    \ of this document, any errata,\n   and how to provide feedback on it may be obtained\
    \ at\n   http://www.rfc-editor.org/info/rfc7620.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (c) 2015 IETF Trust and the persons identified\
    \ as the\n   document authors.  All rights reserved.\n   This document is subject\
    \ to BCP 78 and the IETF Trust's Legal\n   Provisions Relating to IETF Documents\n\
    \   (http://trustee.ietf.org/license-info) in effect on the date of\n   publication\
    \ of this document.  Please review these documents\n   carefully, as they describe\
    \ your rights and restrictions with respect\n   to this document.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1.  Introduction  . . . . . . . . . . . . . . . . . . .\
    \ . . . . .   3\n   2.  Scope . . . . . . . . . . . . . . . . . . . . . . . .\
    \ . . . .   3\n   3.  Scenario 1: Carrier-Grade NAT (CGN) . . . . . . . . . .\
    \ . . .   4\n   4.  Scenario 2: Address plus Port (A+P) . . . . . . . . . . .\
    \ . .   5\n   5.  Scenario 3: On-Premise Application Proxy Deployment . . . .\
    \ .   6\n   6.  Scenario 4: Distributed Proxy Deployment  . . . . . . . . . .\
    \   7\n   7.  Scenario 5: Overlay Network . . . . . . . . . . . . . . . . .  \
    \ 8\n   8.  Scenario 6: Policy and Charging Control Architecture (PCC)  .  10\n\
    \   9.  Scenario 7: Emergency Calls . . . . . . . . . . . . . . . . .  12\n  \
    \ 10. Other Deployment Scenarios  . . . . . . . . . . . . . . . . .  13\n    \
    \ 10.1.  Open WLAN or Provider WLAN . . . . . . . . . . . . . . .  13\n     10.2.\
    \  Cellular Networks  . . . . . . . . . . . . . . . . . . .  14\n     10.3.  Femtocells\
    \ . . . . . . . . . . . . . . . . . . . . . . .  14\n     10.4.  Traffic Detection\
    \ Function (TDF) . . . . . . . . . . . .  17\n     10.5.  Fixed and Mobile Network\
    \ Convergence . . . . . . . . . .  18\n   11. Synthesis . . . . . . . . . . .\
    \ . . . . . . . . . . . . . . .  21\n   12. Privacy Considerations  . . . . .\
    \ . . . . . . . . . . . . . .  21\n   13. Security Considerations . . . . . .\
    \ . . . . . . . . . . . . .  22\n   14. Informative References  . . . . . . .\
    \ . . . . . . . . . . . .  22\n   Acknowledgments . . . . . . . . . . . . . .\
    \ . . . . . . . . . . .  25\n   Contributors  . . . . . . . . . . . . . . . .\
    \ . . . . . . . . . .  25\n   Authors' Addresses  . . . . . . . . . . . . . .\
    \ . . . . . . . . .  26\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   The goal of this document is to enumerate scenarios that\
    \ encounter\n   the issue of uniquely identifying a host among those sharing the\
    \ same\n   IP address.  Within this document, a host can be any device directly\n\
    \   connected to a network operated by a network provider, a Home\n   Gateway,\
    \ or a roaming device located behind a Home Gateway.\n   An exhaustive list of\
    \ encountered issues for the Carrier-Grade NAT\n   (CGN), Address plus Port (A+P),\
    \ and application proxies scenarios are\n   documented in [RFC6269].  In addition\
    \ to those issues, some of the\n   scenarios described in this document suffer\
    \ from additional issues\n   such as:\n   o  Identifying which policy to enforce\
    \ for a host (e.g., limit access\n      to the service based on some counters\
    \ such as volume-based service\n      offerings); enforcing the policy will have\
    \ an impact on all hosts\n      sharing the same IP address.\n   o  Needing to\
    \ correlate between the internal address:port and\n      external address:port\
    \ to generate and therefore enforce policies.\n   o  Querying a location server\
    \ for the location of an emergency caller\n      based on the source IP address.\n\
    \   The goal of this document is to identify scenarios the authors are\n   aware\
    \ of and that share the same complications in identifying which\n   policy to\
    \ apply for a host.  This problem is abstracted as the host\n   identification\
    \ problem.\n   The analysis of the scenarios listed in this document indicates\n\
    \   several root causes for the host identification issue:\n   1.  Presence of\
    \ address sharing (CGN, A+P, application proxies,\n       etc.).\n   2.  Use of\
    \ tunnels between two administrative domains.\n   3.  Combination of address sharing\
    \ and presence of tunnels in the\n       path.\n   Even if these scenarios share\
    \ the same root causes, describing the\n   scenario allows to identify what is\
    \ common between the scenarios, and\n   then this information would help during\
    \ the solution design phase.\n"
- title: 2.  Scope
  contents:
  - "2.  Scope\n   This document can be used as a tool to design a solution(s) that\n\
    \   mitigates the encountered issues.  Note, [RFC6967] focuses only on\n   the\
    \ CGN, A+P, and application proxies cases.  The analysis in\n   [RFC6967] may\
    \ not be accurate for some of the scenarios that do not\n   span multiple administrative\
    \ domains (e.g., Section 10.1).\n   This document does not target means that would\
    \ lead to exposing a\n   host beyond what the original packet, issued from that\
    \ host, would\n   have already exposed.  Such means are not desirable nor required\
    \ to\n   solve the issues encountered in the scenarios discussed in this\n   document.\
    \  The focus is exclusively on means to restore the\n   information conveyed in\
    \ the original packet issued by a given host.\n   These means are intended to\
    \ help in identifying which policy to apply\n   for a given flow.  These means\
    \ may rely on some bits of the source IP\n   address and/or port number(s) used\
    \ by the host to issue packets.\n   To prevent side effects and misuses of such\
    \ means on privacy, a\n   solution specification document(s) should explain, in\
    \ addition to\n   what is already documented in [RFC6967], the following:\n  \
    \ o  To what extent the solution can be used to nullify the effect of\n      using\
    \ address sharing to preserve privacy (see, for example,\n      [EFFOpenWireless]).\
    \  Note, this concern can be mitigated if the\n      address-sharing platform\
    \ is under the responsibility of the host's\n      owner and the host does not\
    \ leak information that would interfere\n      with the host's privacy protection\
    \ tool.\n   o  To what extent the solution can be used to expose privacy\n   \
    \   information beyond what the original packet would have already\n      exposed.\
    \  Note, the solutions discussed in [RFC6967] do not allow\n      extra information\
    \ to be revealed other than what is conveyed in\n      the original packet.\n\
    \   This document covers both IPv4 and IPv6.\n   This document does not include\
    \ any solution-specific discussions.  In\n   particular, the document does not\
    \ elaborate whether explicit\n   authentication is enabled or not.\n   This document\
    \ does not discuss whether specific information is needed\n   to be leaked in\
    \ packets, whether this is achieved out of band, etc.\n   Those considerations\
    \ are out of scope.\n"
- title: '3.  Scenario 1: Carrier-Grade NAT (CGN)'
  contents:
  - "3.  Scenario 1: Carrier-Grade NAT (CGN)\n   Several flavors of stateful CGN have\
    \ been defined.  A non-exhaustive\n   list is provided below:\n   1.  IPv4-to-IPv4\
    \ NAT (NAT44) [RFC6888] [STATELESS-NAT44]\n   2.  DS-Lite NAT44 [RFC6333]\n  \
    \ 3.  Network Address and Protocol Translation from IPv6 Clients to\n       IPv4\
    \ Servers (NAT64) [RFC6146]\n   4.  IPv6-to-IPv6 Network Prefix Translation (NPTv6)\
    \ [RFC6296]\n   As discussed in [RFC6967], remote servers are not able to distinguish\n\
    \   between hosts sharing the same IP address (Figure 1).  As a reminder,\n  \
    \ remote servers rely on the source IP address for various purposes\n   such as\
    \ access control or abuse management.  The loss of the host\n   identification\
    \ will lead to issues discussed in [RFC6269].\n   +-----------+\n   |  HOST_1\
    \   |----+\n   +-----------+    |        +--------------------+      +------------+\n\
    \                    |        |                    |------|  Server 1  |\n   +-----------+\
    \  +-----+    |                    |      +------------+\n   |  HOST_2   |--|\
    \ CGN |----|      INTERNET      |            ::\n   +-----------+  +-----+   \
    \ |                    |      +------------+\n                     |       | \
    \                   |------|  Server n  |\n   +-----------+     |       +--------------------+\
    \      +------------+\n   |  HOST_3   |-----+\n   +-----------+\n            \
    \       Figure 1: CGN Reference Architecture\n   Some of the above-referenced\
    \ CGN scenarios will be satisfied by\n   eventual completion of the transition\
    \ to IPv6 across the Internet\n   (e.g., NAT64), but this is not true of all CGN\
    \ scenarios (e.g., NPTv6\n   [RFC6296]) for which some of the issues discussed\
    \ in [RFC6269] will\n   be encountered (e.g., impact on geolocation).\n   Privacy-related\
    \ considerations discussed in [RFC6967] apply for this\n   scenario.\n"
- title: '4.  Scenario 2: Address plus Port (A+P)'
  contents:
  - "4.  Scenario 2: Address plus Port (A+P)\n   A+P [RFC6346] [RFC7596] [RFC7597]\
    \ denotes a flavor of address-sharing\n   solutions that does not require any\
    \ additional NAT function to be\n   enabled in the service provider's network.\
    \  A+P assumes subscribers\n   are assigned with the same IPv4 address together\
    \ with a port set.\n   Subscribers assigned with the same IPv4 address should\
    \ be assigned\n   non-overlapping port sets.  Devices connected to an A+P-enabled\n\
    \   network should be able to restrict the IPv4 source port to be within\n   a\
    \ configured range of ports.  To forward incoming packets to the\n   appropriate\
    \ host, a dedicated entity called the Port-Range Router\n   (PRR) [RFC6346] is\
    \ needed (Figure 2).\n   Similar to the CGN case, remote servers rely on the source\
    \ IP address\n   for various purposes such as access control or abuse management.\
    \  The\n   loss of the host identification will lead to the issues discussed in\n\
    \   [RFC6269].  In particular, it will be impossible to identify hosts\n   sharing\
    \ the same IP address by remote servers.\n   +-----------+\n   |  HOST_1   |----+\n\
    \   +-----------+    |        +--------------------+      +------------+\n   \
    \                 |        |                    |------|  Server 1  |\n   +-----------+\
    \  +-----+    |                    |      +------------+\n   |  HOST_2   |--|\
    \ PRR |----|      INTERNET      |            ::\n   +-----------+  +-----+   \
    \ |                    |      +------------+\n                     |       | \
    \                   |------|  Server n  |\n   +-----------+     |       +--------------------+\
    \      +------------+\n   |  HOST_3   |-----+\n   +-----------+\n            \
    \       Figure 2: A+P Reference Architecture\n   Privacy-related considerations\
    \ discussed in [RFC6967] apply for this\n   scenario.\n"
- title: '5.  Scenario 3: On-Premise Application Proxy Deployment'
  contents:
  - "5.  Scenario 3: On-Premise Application Proxy Deployment\n   This scenario is\
    \ similar to the CGN scenario (Section 3).\n   Remote servers are not able to\
    \ distinguish hosts located behind the\n   proxy.  Applying policies on the perceived\
    \ external IP address as\n   received from the proxy will impact all hosts connected\
    \ to that\n   proxy.\n   Figure 3 illustrates a simple configuration involving\
    \ a proxy.  Note\n   several (per-application) proxies may be deployed.  This\
    \ scenario is\n   a typical deployment approach used within enterprise networks.\n\
    \   +-----------+\n   |  HOST_1   |----+\n   +-----------+    |        +--------------------+\
    \      +------------+\n                    |        |                    |------|\
    \  Server 1  |\n   +-----------+  +-----+    |                    |      +------------+\n\
    \   |  HOST_2   |--|Proxy|----|      INTERNET      |            ::\n   +-----------+\
    \  +-----+    |                    |      +------------+\n                   \
    \  |       |                    |------|  Server n  |\n   +-----------+     |\
    \       +--------------------+      +------------+\n   |  HOST_3   |-----+\n \
    \  +-----------+\n                  Figure 3: Proxy Reference Architecture\n \
    \  The administrator of the proxy may have many reasons for wanting to\n   proxy\
    \ traffic - including caching, policy enforcement, malware\n   scanning, reporting\
    \ on network or user behavior for compliance, or\n   security monitoring.\n  \
    \ The same administrator may also wish to selectively hide or expose\n   the internal\
    \ host identity to servers.  He/she may wish to hide the\n   identity to protect\
    \ end-user privacy or to reduce the ability of a\n   rogue agent to learn the\
    \ internal structure of the network.  He/she\n   may wish to allow upstream servers\
    \ to identify hosts to enforce\n   access policies (for example, on documents\
    \ or online databases), to\n   enable account identification (on subscription-based\
    \ services) or to\n   prevent spurious misidentification of high-traffic patterns\
    \ as a DoS\n   attack.  Application-specific protocols exist for enabling such\n\
    \   forwarding on some plaintext protocols (e.g., Forwarded headers on\n   HTTP\
    \ [RFC7239] or time-stamp-line headers in SMTP [RFC5321]).\n   Servers not receiving\
    \ such notifications but wishing to perform host\n   or user-specific processing\
    \ are obliged to use other application-\n   specific means of identification (e.g.,\
    \ cookies [RFC6265]).\n   Packets/connections must be received by the proxy regardless\
    \ of the\n   IP address family in use.  The requirements of this scenario are\
    \ not\n   satisfied by eventual completion of the transition to IPv6 across the\n\
    \   Internet.  Complications will arise for both IPv4 and IPv6.\n   Privacy-related\
    \ considerations discussed in [RFC6967] apply for this\n   scenario.\n"
- title: '6.  Scenario 4: Distributed Proxy Deployment'
  contents:
  - "6.  Scenario 4: Distributed Proxy Deployment\n   This scenario is similar to\
    \ the proxy deployment scenario (Section 5)\n   with the same use cases.  However,\
    \ in this instance part of the\n   functionality of the application proxy is located\
    \ in a remote site.\n   This may be desirable to reduce infrastructure and administration\n\
    \   costs or because the hosts in question are mobile or roaming hosts\n   tied\
    \ to a particular administrative zone of control but not to a\n   particular network.\n\
    \   In some cases, a distributed proxy is required to identify a host on\n   whose\
    \ behalf it is performing the caching, filtering, or other\n   desired service\
    \ - for example, to know which policies to enforce.\n   Typically, IP addresses\
    \ are used as a surrogate.  However, in the\n   presence of CGN, this identification\
    \ becomes difficult.  Alternative\n   solutions include the use of cookies, which\
    \ only work for HTTP\n   traffic, tunnels, or proprietary extensions to existing\
    \ protocols.\n      +-----------+             +----------+\n      |  HOST_1  \
    \ |-------------|          |\n      +-----------+             |          |   +-------+\
    \    +----------+\n                                |          |   |       |----|\
    \ Server 1 |\n      +-----------+             |          |   |       |    +----------+\n\
    \      |  HOST_2   |----+        | INTERNET |---| Proxy |         ::\n      +-----------+\
    \  +-----+    |          |   |       |    +----------+\n                     |Proxy|----|\
    \          |   |       |----| Server n |\n      +-----------+  +-----+    |  \
    \        |   +-------+    +----------+\n      |  HOST_3   |----+        +----------+\n\
    \      +-----------+\n          Figure 4: Distributed Proxy Reference Architecture\
    \ (1)\n       +-----------+         +---+         +---+  +----------+\n      \
    \ |  HOST_1   +---------+ I |         | I +--+ Server 1 |\n       +-----------+\
    \         | N |  +---+  | N |  +----------+\n                             | T\
    \ |  | P |  | T |\n       +-----------+  +---+  | E |  | r |  | E |  +----------+\n\
    \       |  HOST_2   +--+ P |  | R +--+ o +--+ R +--+ Server 2 |\n       +-----------+\
    \  | r |  | N |  | x |  | N |  +----------+\n                      | o |--+ E\
    \ |  | y |  | E |      ::\n       +-----------+  | x |  | T |  +---+  | T |  +----------+\n\
    \       |  HOST_3   +--+ y |  |   |         |   +--+ Server N |\n       +-----------+\
    \  +---+  +---+         +---+  +----------+\n          Figure 5: Distributed Proxy\
    \ Reference Architecture (2)\n   Packets/connections must be received by the proxy\
    \ regardless of the\n   IP address family in use.  The requirements of this scenario\
    \ are not\n   satisfied by eventual completion of the transition to IPv6 across\
    \ the\n   Internet.  Complications will arise for both IPv4 and IPv6.\n   If the\
    \ proxy and the servers are under the responsibility of the same\n   administrative\
    \ entity (Figure 4), no privacy concerns are raised.\n   Nevertheless, privacy-related\
    \ considerations discussed in [RFC6967]\n   apply if the proxy and the servers\
    \ are not managed by the same\n   administrative entity (Figure 5).\n"
- title: '7.  Scenario 5: Overlay Network'
  contents:
  - "7.  Scenario 5: Overlay Network\n   An overlay network is a network of machines\
    \ distributed throughout\n   multiple autonomous systems within the public Internet\
    \ that can be\n   used to improve the performance of data transport (see Figure\
    \ 6).  IP\n   packets from the sender are delivered first to one of the machines\n\
    \   that make up the overlay network.  That machine then relays the IP\n   packets\
    \ to the receiver via one or more machines in the overlay\n   network, applying\
    \ various performance enhancement methods.\n                    +------------------------------------+\n\
    \                    |                                    |\n                \
    \    |              INTERNET              |\n                    |           \
    \                         |\n     +-----------+  |  +------------+           \
    \         |\n     |  HOST_1   |-----| OVRLY_IN_1 |-----------+        |\n    \
    \ +-----------+  |  +------------+           |        |\n                    |\
    \                           |        |\n     +-----------+  |  +------------+\
    \     +-----------+  |  +--------+\n     |  HOST_2   |-----| OVRLY_IN_2 |-----|\
    \ OVRLY_OUT |-----| Server |\n     +-----------+  |  +------------+     +-----------+\
    \  |  +--------+\n                    |                           |        |\n\
    \     +-----------+  |  +------------+           |        |\n     |  HOST_3  \
    \ |-----| OVRLY_IN_3 |-----------+        |\n     +-----------+  |  +------------+\
    \                    |\n                    |                                \
    \    |\n                    +------------------------------------+\n         \
    \    Figure 6: Overlay Network Reference Architecture\n   Such overlay networks\
    \ are used to improve the performance of content\n   delivery [IEEE1344002]. \
    \ Overlay networks are also used for\n   peer-to-peer data transport [RFC5694],\
    \ and they have been suggested\n   for use in both improved scalability for the\
    \ Internet routing\n   infrastructure [RFC6179] and provisioning of security services\n\
    \   (intrusion detection, anti-virus software, etc.) over the public\n   Internet\
    \ [IEEE101109].\n   In order for an overlay network to intercept packets and/or\n\
    \   connections transparently via base Internet connectivity\n   infrastructure,\
    \ the overlay ingress and egress hosts (OVERLAY_IN and\n   OVERLAY_OUT) must be\
    \ reliably in path in both directions between the\n   connection-initiating HOST\
    \ and the SERVER.  When this is not the\n   case, packets may be routed around\
    \ the overlay and sent directly to\n   the receiving host, presumably without\
    \ invoking some of the advanced\n   service functions offered by the overlay.\n\
    \   For public overlay networks, where the ingress and/or egress hosts\n   are\
    \ on the public Internet, packet interception commonly uses network\n   address\
    \ translation for the source (SNAT) or destination (DNAT)\n   addresses in such\
    \ a way that the public IP addresses of the true\n   endpoint hosts involved in\
    \ the data transport are invisible to each\n   other (see Figure 7).  For example,\
    \ the actual sender and receiver\n   may use two completely different pairs of\
    \ source and destination\n   addresses to identify the connection on the sending\
    \ and receiving\n   networks in cases where both the ingress and egress hosts\
    \ are on the\n   public Internet.\n             IP hdr contains:             \
    \  IP hdr contains:\n   SENDER -> src = sender   --> OVERLAY --> src = overlay2\
    \  --> RECEIVER\n             dst = overlay1                 dst = receiver\n\
    \              Figure 7: NAT Operations in an Overlay Network\n   In this scenario,\
    \ the remote server is not able to distinguish among\n   hosts using the overlay\
    \ for transport.  In addition, the remote\n   server is not able to determine\
    \ the overlay ingress point being used\n   by the host, which can be useful for\
    \ diagnosing host connectivity\n   issues.\n   In some of the above-referenced\
    \ scenarios, IP packets traverse the\n   overlay network fundamentally unchanged,\
    \ with the overlay network\n   functioning much like a CGN (Section 3).  In other\
    \ cases, connection-\n   oriented data flows (e.g., TCP) are terminated by the\
    \ overlay in\n   order to perform object caching and other such transport and\n\
    \   application-layer optimizations, similar to the proxy scenario\n   (Section\
    \ 5).  In both cases, address sharing is a requirement for\n   packet/connection\
    \ interception, which means that the requirements for\n   this scenario are not\
    \ satisfied by the eventual completion of the\n   transition to IPv6 across the\
    \ Internet.\n   More details about this scenario are provided in [OVERLAYPATH].\n\
    \   This scenario does not introduce privacy concerns since the\n   identification\
    \ of the host is local to a single administrative domain\n   (i.e., Content Delivery\
    \ Network (CDN) Overlay Network) or passed to a\n   remote server to help forwarding\
    \ back the response to the appropriate\n   host.  The host identification information\
    \ is not publicly available\n   nor can be disclosed to other hosts connected\
    \ to the Internet.\n"
- title: '8.  Scenario 6: Policy and Charging Control Architecture (PCC)'
  contents:
  - "8.  Scenario 6: Policy and Charging Control Architecture (PCC)\n   This issue\
    \ is related to the PCC framework defined by 3GPP in\n   [TS23.203] when a NAT\
    \ is located between the Policy and Charging\n   Enforcement Function (PCEF) and\
    \ the Application Function (AF) as\n   shown in Figure 8.\n   The main issue is:\
    \ PCEF, the Policy and Charging Rule Function\n   (PCRF), and AF all receive information\
    \ bound to the same User\n   Equipment (UE) but without being able to correlate\
    \ between the piece\n   of data visible for each entity.  Concretely,\n   o  PCEF\
    \ is aware of the International Mobile Subscriber Identity\n      (IMSI) and an\
    \ internal IP address assigned to the UE.\n   o  AF receives an external IP address\
    \ and port as assigned by the NAT\n      function.\n   o  PCRF is not able to\
    \ correlate between the external IP address/port\n      assigned by the NAT (received\
    \ from the AF) and the internal IP\n      address and IMSI of the UE (received\
    \ from the PCEF).\n               +------+\n               | PCRF |-----------------+\n\
    \               +------+                 |\n                  |              \
    \       |\n   +----+      +------+   +-----+    +-----+\n   | UE |------| PCEF\
    \ |---| NAT |----|  AF |\n   +----+      +------+   +-----+    +-----+\n     \
    \            Figure 8: NAT Located between AF and PCEF\n   This scenario can be\
    \ generalized as follows (Figure 9):\n   o  Policy Enforcement Point (PEP) [RFC2753]\n\
    \   o  Policy Decision Point (PDP) [RFC2753]\n               +------+\n      \
    \         | PDP  |-----------------+\n               +------+                \
    \ |\n                  |                     |\n   +----+      +------+   +-----+\
    \    +------+\n   | UE |------| PEP  |---| NAT |----|Server|\n   +----+      +------+\
    \   +-----+    +------+\n             Figure 9: NAT Located between PEP and the\
    \ Server\n   Note that an issue is encountered to enforce per-UE policies when\
    \ the\n   NAT is located before the PEP function (see Figure 10):\n          \
    \                +------+\n                          | PDP  |------+\n       \
    \                   +------+      |\n                             |          |\n\
    \   +----+      +------+   +-----+    +------+\n   | UE |------| NAT  |---| PEP\
    \ |----|Server|\n   +----+      +------+   +-----+    +------+\n             \
    \        Figure 10: NAT Located before PEP\n   This scenario does not introduce\
    \ privacy concerns since the\n   identification of the host is local to a single\
    \ administrative domain\n   and is meant to help identify which policy to select\
    \ for a UE.\n"
- title: '9.  Scenario 7: Emergency Calls'
  contents:
  - "9.  Scenario 7: Emergency Calls\n   Voice Service Providers (VSPs) operating\
    \ under certain jurisdictions\n   are required to route emergency calls from their\
    \ subscribers and have\n   to include information about the caller's location\
    \ in signaling\n   messages they send towards Public Safety Answering Points (PSAPs)\n\
    \   [RFC6443] via an Emergency Service Routing Proxy (ESRP) [RFC6443].\n   This\
    \ information is used both for the determination of the correct\n   PSAP and to\
    \ reveal the caller's location to the selected PSAP.\n   In many countries, regulation\
    \ bodies require that this information be\n   provided by the network rather than\
    \ the user equipment, in which case\n   the VSP needs to retrieve this information\
    \ (by reference or by value)\n   from the access network where the caller is attached.\n\
    \   This requires the VSP call server receiving an emergency call request\n  \
    \ to identify the relevant access network and to query a Location\n   Information\
    \ Server (LIS) in this network using a suitable lookup key.\n   In the simplest\
    \ case, the source IP address of the IP packet carrying\n   the call request is\
    \ used both for identifying the access network\n   (thanks to a reverse DNS query)\
    \ and as a lookup key to query the LIS.\n   Obviously, the user-id as known by\
    \ the VSP (e.g., telephone number or\n   email-formatted URI) can't be used as\
    \ it is not known by the access\n   network.\n   The above mechanism is broken\
    \ when there is a NAT between the user\n   and the VSP and/or if the emergency\
    \ call is established over a VPN\n   tunnel (e.g., an employee remotely connected\
    \ to a company Voice over\n   IP (VoIP) server through a tunnel wishes to make\
    \ an emergency call).\n   In such cases, the source IP address received by the\
    \ VSP call server\n   will identify the NAT or the address assigned to the caller\
    \ equipment\n   by the VSP (i.e., the address inside the tunnel).  This is similar\
    \ to\n   the CGN case in (Section 3) and overlay network case (Section 7) and\n\
    \   applies irrespective of the IP versions used on both sides of the NAT\n  \
    \ and/or inside and outside the tunnel.\n   Therefore, the VSP needs to receive\
    \ an additional piece of\n   information that can be used to both identify the\
    \ access network\n   where the caller is attached and query the LIS for his/her\
    \ location.\n   This would require the NAT or the tunnel endpoint to insert this\n\
    \   extra information in the call requests delivered to the VSP call\n   servers.\
    \  For example, this extra information could be a combination\n   of the local\
    \ IP address assigned by the access network to the\n   caller's equipment with\
    \ some form of identification of this access\n   network.\n   However, because\
    \ it shall be possible to set up an emergency call\n   regardless of the actual\
    \ call control protocol used between the user\n   and the VSP (e.g., SIP [RFC3261],\
    \ Inter-Asterisk eXchange (IAX)\n   [RFC5456], tunneled over HTTP, or proprietary\
    \ protocol, possibly\n   encrypted), this extra information has to be conveyed\
    \ outside the\n   call request, in the header of lower-layer protocols.\n   Privacy-related\
    \ considerations discussed in [RFC6967] apply for this\n   scenario.\n"
- title: 10.  Other Deployment Scenarios
  contents:
  - "10.  Other Deployment Scenarios\n   This section lists deployment scenarios that\
    \ are variants of\n   scenarios described in previous sections.\n"
- title: 10.1.  Open WLAN or Provider WLAN
  contents:
  - "10.1.  Open WLAN or Provider WLAN\n   In the context of Provider WLAN, a dedicated\
    \ Service Set Identifier\n   (SSID) can be configured and advertised by the Residential\
    \ Gateway\n   (RG) for visiting terminals.  These visiting terminals can be mobile\n\
    \   terminals, PCs, etc.\n   Several deployment scenarios are envisaged:\n   1.\
    \  Deploy a dedicated node in the service provider's network that\n       will\
    \ be responsible for intercepting all the traffic issued from\n       visiting\
    \ terminals (see Figure 11).  This node may be co-located\n       with a CGN function\
    \ if private IPv4 addresses are assigned to\n       visiting terminals.  Similar\
    \ to the CGN case discussed in\n       Section 3, remote servers may not be able\
    \ to distinguish visiting\n       hosts sharing the same IP address (see [RFC6269]).\n\
    \   2.  Unlike the previous deployment scenario, IPv4 addresses are\n       managed\
    \ by the RG without requiring any additional NAT to be\n       deployed in the\
    \ service provider's network for handling traffic\n       issued from visiting\
    \ terminals.  Concretely, a visiting terminal\n       is assigned with a private\
    \ IPv4 address from the IPv4 address\n       pool managed by the RG.  Packets\
    \ issued from a visiting terminal\n       are translated using the public IP address\
    \ assigned to the RG\n       (see Figure 12).  This deployment scenario induces\
    \ the following\n       identification concerns:\n       *  The provider is not\
    \ able to distinguish the traffic belonging\n          to the visiting terminal\
    \ from the traffic of the subscriber\n          owning the RG.  This is needed\
    \ to identify which policies are\n          to be enforced such as: accounting,\
    \ Differentiated Services\n          Code Point (DSCP) remarking, black list,\
    \ etc.\n       *  Similar to the CGN case Section 3, a misbehaving visiting\n\
    \          terminal is likely to have some impact on the experienced\n       \
    \   service by the subscriber owning the RG (e.g., some of the\n          issues\
    \ are discussed in [RFC6269]).\n   +-------------+\n   |Local_HOST_1 |----+\n\
    \   +-------------+    |\n                      |     |\n   +-------------+  +-----+\
    \ |  +-----------+\n   |Local_HOST_2 |--| RG  |-|--|Border Node|\n   +-------------+\
    \  +-----+ |  +----NAT----+\n                       |    |\n   +-------------+\
    \     |    |  Service Provider\n   |Visiting Host|-----+\n   +-------------+\n\
    \           Figure 11: NAT Enforced in a Service Provider's Node\n   +-------------+\n\
    \   |Local_HOST_1 |----+\n   +-------------+    |\n                      |   \
    \  |\n   +-------------+  +-----+ |  +-----------+\n   |Local_HOST_2 |--| RG \
    \ |-|--|Border Node|\n   +-------------+  +-NAT-+ |  +-----------+\n         \
    \              |    |\n   +-------------+     |    |  Service Provider\n   |Visiting\
    \ Host|-----+\n   +-------------+\n                     Figure 12: NAT Located\
    \ in the RG\n   This scenario does not introduce privacy concerns since the\n\
    \   identification of the host is local to a single administrative domain\n  \
    \ and is meant to help identify which policy to select for a visiting\n   UE.\n"
- title: 10.2.  Cellular Networks
  contents:
  - "10.2.  Cellular Networks\n   Cellular operators allocate private IPv4 addresses\
    \ to mobile\n   terminals and deploy NAT44 function, generally co-located with\n\
    \   firewalls, to access public IP services.  The NAT function is located\n  \
    \ at the boundaries of the Public Land Mobile Network (PLMN).\n   IPv6-only strategy,\
    \ consisting in allocating IPv6 prefixes only to\n   mobile terminals, is considered\
    \ by various operators.  A NAT64\n   function is also considered in order to preserve\
    \ IPv4 service\n   continuity for these customers.\n   These NAT44 and NAT64 functions\
    \ bring some issues that are very\n   similar to those mentioned in Figure 1 and\
    \ Section 8.  These issues\n   are particularly encountered if policies are to\
    \ be applied on the Gi\n   interface.\n      Note: 3GPP defines the Gi interface\
    \ as the reference point between\n      the Gateway GPRS Support Node (GGSN) and\
    \ an external Packet Domain\n      Network (PDN).  This interface reference point\
    \ is called SGi in 4G\n      networks (i.e., between the PDN Gateway and an external\
    \ PDN).\n   Because private IP addresses are assigned to the mobile terminals,\n\
    \   there is no correlation between the internal IP address and the\n   external\
    \ address:port assigned by the NAT function, etc.\n   Privacy-related considerations\
    \ discussed in [RFC6967] apply for this\n   scenario.\n"
- title: 10.3.  Femtocells
  contents:
  - "10.3.  Femtocells\n   This scenario can be seen as a combination of the scenarios\
    \ described\n   in Sections 8 and 10.1.\n   The reference architecture is shown\
    \ in Figure 13.\n   A Femto Access Point (FAP) is defined as a home base station\
    \ used to\n   graft a local (femto) cell within a user's home to a mobile network.\n\
    \   +---------------------------+\n   | +----+ +--------+  +----+ |   +-----------+\
    \  +-------------------+\n   | | UE | | Stand- |<=|====|=|===|===========|==|=>+--+\
    \ +--+        |\n   | +----+ | Alone  |  | RG | |   |           |  |  |  | | \
    \ | Mobile |\n   |        |  FAP   |  +----+ |   |           |  |  |S | |F | Network|\n\
    \   |        +--------+  (NAPT) |   | Broadband |  |  |e | |A |        |\n   +---------------------------+\
    \   |   Fixed   |  |  |G |-|P | +-----+|\n                                   |\
    \   (BBF)   |  |  |W | |G |-| Core||\n   +---------------------------+   |  Network\
    \  |  |  |  | |W | | Ntwk||\n   | +----+ +------------+     |   |           |\
    \  |  |  | |  | +-----+|\n   | | UE | | Integrated |<====|===|===========|==|=>+--+\
    \ +--+        |\n   | +----+ | FAP (NAPT) |     |   +-----------+  +-------------------+\n\
    \   |        +------------+     |\n   +---------------------------+\n       <=====>\
    \   IPsec Tunnel\n       CoreNtwk  Core Network\n       FAPGW     FAP Gateway\n\
    \       NAPT      Network Address Port Translator\n       SeGW      Security Gateway\n\
    \                Figure 13: Femtocell Reference Architecture\n   UE is connected\
    \ to the FAP at the RG, which is routed back to the\n   3GPP Evolved Packet Core\
    \ (EPC).  It is assumed that each UE is\n   assigned an IPv4 address by the mobile\
    \ network.  A mobile operator's\n   FAP leverages the IPsec Internet Key Exchange\
    \ Protocol Version 2\n   (IKEv2) to interconnect FAP with the SeGW over the Broadband\
    \ Fixed\n   (BBF) network.  Both the FAP and the SeGW are managed by the mobile\n\
    \   operator, which may be a different operator for the BBF network.\n   An investigated\
    \ scenario is when the mobile operator passes on its\n   mobile subscriber's policies\
    \ to the BBF to support traffic policy\n   control.  But most of today's broadband\
    \ fixed networks are relying on\n   the private IPv4 addressing plan (+NAPT) to\
    \ support its attached\n   devices, including the mobile operator's FAP.  In this\
    \ scenario, the\n   mobile network needs to:\n   o  determine the FAP's public\
    \ IPv4 address to identify the location\n      of the FAP to ensure its legitimacy\
    \ to operate on the license\n      spectrum for a given mobile operator prior\
    \ to the FAP being ready\n      to serve its mobile devices.\n   o  determine\
    \ the FAP's public IPv4 address together with the\n      translated port number\
    \ of the UDP header of the encapsulated IPsec\n      tunnel for identifying the\
    \ UE's traffic at the fixed broadband\n      network.\n   o  determine the corresponding\
    \ FAP's public IPv4 address associated\n      with the UE's inner IPv4 address\
    \ that is assigned by the mobile\n      network to identify the mobile UE, which\
    \ allows the PCRF to\n      retrieve the special UE's policy (e.g., QoS) to be\
    \ passed onto the\n      Broadband Policy Control Function (BPCF) at the BBF network.\n\
    \   SeGW would have the complete knowledge of such mapping, but the\n   reasons\
    \ for being unable to use SeGW for this purpose are explained\n   in Section 2\
    \ of [IKEv2-CP-EXT].\n   This scenario involves PCRF/BPCF, but it is valid in\
    \ other deployment\n   scenarios making use of Authentication, Authorization,\
    \ and Accounting\n   (AAA) servers.\n   The issue of correlating the internal\
    \ IP address and the public IP\n   address is valid even if there is no NAT in\
    \ the path.\n   This scenario does not introduce privacy concerns since the\n\
    \   identification of the host is local to a single administrative domain\n  \
    \ and is meant to help identify which policy to select for a UE.\n"
- title: 10.4.  Traffic Detection Function (TDF)
  contents:
  - "10.4.  Traffic Detection Function (TDF)\n   Operators expect that the traffic\
    \ subject to the packet inspection is\n   routed via the Traffic Detection Function\
    \ (TDF) as per the\n   requirement specified in [TS29.212]; otherwise, the traffic\
    \ may\n   bypass the TDF.  This assumption only holds if it is possible to\n \
    \  identify individual UEs behind the Basic NAT or NAPT invoked in the\n   RG\
    \ connected to the fixed broadband network, as shown in Figure 14.\n   As a result,\
    \ additional mechanisms are needed to enable this\n   requirement.\n         \
    \                                                     +--------+\n           \
    \                                                   |        |\n             \
    \                                         +-------+  PCRF  |\n               \
    \                                       |       |        |\n                 \
    \                                     |       +--------+\n +--------+      +--------+\
    \       +--------+     +----+----+\n |        |      |        |       |      \
    \  +-----+         |\n |  ------------------------------------------------------------------\n\
    \ |        |      |        |       |        |     |  TDF    |    /      \\\n |\
    \  ****************************************************************** |\n +--------+\
    \      +--------+       +--------+     +----+----+   |       |\n |        |  \
    \    |        +-------+        |         |         |Service|\n |        |    \
    \  |        |       |        |         |          \\      /\n |        |     \
    \ |        |       |        |         |        +--------+\n |        |      |\
    \        |       |        |         +--------+  PDN   |\n |  >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\
    \ |\n |  UE    |      |   RG   |       | BNG    +------------------+ Gateway|\n\
    \ +--------+      +--------+       +--------+                  +--------+\n Legend:\n\
    \ ---------   3GPP UE User-Plane Traffic Offloaded subject to packet\n       \
    \      inspection\n *********   3GPP UE User-Plane Traffic Offloaded not subject\
    \ to packet\n             inspection\n >>>>>>>>>   3GPP UE User-Plane Traffic\
    \ Home Routed\n       BNG   Broadband Network Gateway\n                  Figure\
    \ 14: UE's Traffic Routed with TDF\n   This scenario does not introduce privacy\
    \ concerns since the\n   identification of the host is local to a single administrative\
    \ domain\n   and is meant to help identify which policy to select for a UE.\n"
- title: 10.5.  Fixed and Mobile Network Convergence
  contents:
  - "10.5.  Fixed and Mobile Network Convergence\n   In the Policy for Convergence\
    \ of Fixed Mobile Convergence (FMC)\n   scenario, the fixed broadband network\
    \ must partner with the mobile\n   network to acquire the policies for the terminals\
    \ or hosts attaching\n   to the fixed broadband network, shown in Figure 15, so\
    \ that host-\n   specific QoS and accounting policies can be applied.\n   A UE\
    \ is connected to the RG, which is routed back to the mobile\n   network.  The\
    \ mobile operator's PCRF needs to maintain the\n   interconnect with the BPCF\
    \ in the BBF network for PCC (Section 8).\n   The hosts (i.e., UEs) attaching\
    \ to a fixed broadband network with a\n   Basic NAT or NAPT deployed should be\
    \ identified.  Based on the UE\n   identification, the BPCF can acquire the associated\
    \ policy rules of\n   the identified UE from the PCRF in the mobile network so\
    \ that it can\n   enforce policy rules in the fixed broadband network.  Note,\
    \ this\n   scenario assumes private IPv4 addresses are assigned in the fixed\n\
    \   broadband network.  Requirements similar to those in Section 10.3 are\n  \
    \ raised in this scenario.\n                +------------------------------+ \
    \  +-------------+\n                |                              |   |     \
    \        |\n                |                   +------+   |   | +------+    |\n\
    \                |                   | BPCF +---+---+-+ PCRF |    |\n        \
    \        |                   +--+---+   |   | +---+--+    |\n     +-------+  |\
    \                      |       |   |     |       |\n     |HOST_1 | Private IP1\
    \          +--+---+   |   | +---+--+    |\n     +-------+  | +----+          \
    \  |      |   |   | |      |    |\n                | | RG |            |     \
    \ |   |   | |      |    |\n                | |with+-------------+ BNG  +--------+\
    \ PGW  |    |\n     +-------+  | | NAT|            |      |   |   | |      | \
    \   |\n     |HOST_2 |  | +----+            |      |   |   | |      |    |\n  \
    \   +-------+ Private IP2          +------+   |   | +------+    |\n          \
    \      |                              |   |             |\n                | \
    \                             |   |             |\n                |         \
    \              Fixed  |   | Mobile      |\n                |                 \
    \  Broadband  |   | Network     |\n                |                     Network\
    \  |   |             |\n                |                              |   | \
    \            |\n                +------------------------------+   +-------------+\n\
    \   Figure 15: Reference Architecture for Policy for Convergence in Fixed\n  \
    \                  and Mobile Network Convergence (1)\n   In an IPv6 network,\
    \ similar issues exist when the IPv6 prefix is\n   shared between multiple UEs\
    \ attaching to the RG (see Figure 16).  The\n   case applies when RG is assigned\
    \ a single prefix, the home network\n   prefix, e.g., using DHCPv6 Prefix Delegation\
    \ [RFC3633] with the edge\n   router, and BNG acts as the Delegating Router (DR).\
    \  RG uses the home\n   network prefix in the address configuration using stateful\
    \ (DHCPv6)\n   or stateless address autoconfiguration (SLAAC) techniques.\n  \
    \              +------------------------------+   +-------------+\n          \
    \      |                              |   |             |\n                | \
    \                             |   | +------+    |\n                |         \
    \             +-------------+ PCRF |    |\n                |                 \
    \     |       |   | +---+--+    |\n     +-------+  |                      |  \
    \     |   |     |       |\n     |HOST_1 |--+                   +--+---+   |  \
    \ | +---+--+    |\n     +-------+  | +----+            |      |   |   | |    \
    \  |    |\n                | | RG |            |      |   |   | |      |    |\n\
    \                | |    +------------+ BNG  +---------+ PGW  |    |\n     +-------+\
    \  | |    |            |      |   |   | |      |    |\n     |HOST_2 |--+ +----+\
    \            |      |   |   | |      |    |\n     +-------+  |               \
    \    +------+   |   | +------+    |\n                |                       \
    \       |   |             |\n                |                              |\
    \   |             |\n                |                       Fixed  |   | Mobile\
    \      |\n                |                   Broadband  |   | Network     |\n\
    \                |                     Network  |   |             |\n        \
    \        |                              |   |             |\n                +------------------------------+\
    \   +-------------+\n   Figure 16: Reference Architecture for Policy for Convergence\
    \ in Fixed\n                    and Mobile Network Convergence (2)\n   BNG acting\
    \ as PCEF initiates an IP Connectivity Access Network\n   (IP-CAN) session with\
    \ the policy server, a.k.a. Policy and Charging\n   Rules Function (PCRF), to\
    \ receive the Quality of Service (QoS)\n   parameters and charging rules.  BNG\
    \ provides the PCRF with the IPv6\n   prefix assigned to the host; in this case,\
    \ it's the home network\n   prefix and an ID that has to be equal to the RG-specific\
    \ home network\n   line ID.\n   HOST_1 in Figure 16 creates a 128-bit IPv6 address\
    \ using this prefix\n   and adding its interface ID.  Having completed the address\n\
    \   configuration, the host can start communication with a remote host\n   over\
    \ the Internet.  However, no specific IP-CAN session can be\n   assigned to HOST_1,\
    \ and consequently the QoS and accounting performed\n   will be based on RG subscription.\n\
    \   Another host, e.g., HOST_2, attaches to the RG and also establishes\n   an\
    \ IPv6 address using the home network prefix.  The edge router, or\n   BNG, is\
    \ not involved with this or any other such address assignments.\n   This leads\
    \ to the case where no specific IP-CAN session/sub-session\n   can be assigned\
    \ to the hosts, HOST_1, HOST_2, etc., and consequently\n   the QoS and accounting\
    \ performed can only be based on RG subscription\n   and is not host specific.\
    \  Therefore, IPv6 prefix sharing in the\n   Policy for Convergence scenario leads\
    \ to similar issues as the\n   address sharing as explained in the previous scenarios\
    \ in this\n   document.\n"
- title: 11.  Synthesis
  contents:
  - "11.  Synthesis\n   The following table shows whether each scenario is valid for\
    \ IPv4/\n   IPv6 and if it is within one single administrative domain or spans\n\
    \   multiple domains.  The table also identifies the root cause of the\n   identification\
    \ issues.\n   The IPv6 column indicates for each scenario whether IPv6 is supported\n\
    \   at the client's side and/or server's side.\n   +-------------------+----+-------------+------+-----------------+\n\
    \   |                   |    |    IPv6     |Single|    Root Cause   |\n   |  \
    \    Scenario     |    |------+------|Domain+-------+---------+\n   |        \
    \           |IPv4|Client|Server|      |Address|Tunneling|\n   |              \
    \     |    |      |      |      |sharing|         |\n   +-------------------+----+------+------+------+-------+---------+\n\
    \   |        CGN        |Yes |Yes(1)|  No  |  No  |  Yes  |   No    |\n   |  \
    \      A+P        |Yes |  No  |  No  |  No  |  Yes  |   No    |\n   | Application\
    \ Proxy |Yes | Yes  | Yes  |  No  |  Yes  |   No    |\n   | Distributed Proxy\
    \ |Yes | Yes  | Yes  |Yes/No|  Yes  |   No    |\n   |  Overlay Networks |Yes |Yes(2)|Yes(2)|\
    \  No  |  Yes  |   No    |\n   |        PCC        |Yes |Yes(1)|  No  | Yes  |\
    \  Yes  |   No    |\n   |  Emergency Calls  |Yes | Yes  | Yes  |  No  |  Yes \
    \ |   No    |\n   |   Provider WLAN   |Yes |  No  |  No  | Yes  |  Yes  |   No\
    \    |\n   | Cellular Networks |Yes |Yes(1)|  No  | Yes  |  Yes  |   No    |\n\
    \   |     Femtocells    |Yes |  No  |  No  |  No  |  Yes  |  Yes    |\n   |  \
    \      TDF        |Yes | Yes  |  No  | Yes  |  Yes  |   No    |\n   |        FMC\
    \        |Yes |Yes(1)|  No  |  No  |  Yes  |   No    |\n   +-------------------+----+------+------+------+-------+---------+\n\
    \    Notes:\n      (1) For example, NAT64\n      (2) This scenario is a combination\
    \ of CGN and application proxies\n                          Table 1: Synthesis\n"
- title: 12.  Privacy Considerations
  contents:
  - "12.  Privacy Considerations\n   Privacy-related considerations that apply to\
    \ means to reveal a host\n   identifier are discussed in [RFC6967].  This document\
    \ does not\n   introduce additional privacy issues than those discussed in\n \
    \  [RFC6967].\n   None of the scenarios inventoried in this document aim at revealing\
    \ a\n   customer identifier, account identifier, profile identifier, etc.\n  \
    \ Particularly, none of these scenarios are endorsing the functionality\n   provided\
    \ by the following proprietary headers (but not limited to)\n   that are known\
    \ to be used to leak subscription-related information:\n   HTTP_MSISDN, HTTP_X_MSISDN,\
    \ HTTP_X_UP_CALLING_LINE_ID,\n   HTTP_X_NOKIA_MSISDN, HTTP_X_HTS_CLID, HTTP_X_MSP_CLID,\n\
    \   HTTP_X_NX_CLID, HTTP__RAPMIN, HTTP_X_WAP_MSISDN, HTTP_COOKIE,\n   HTTP_X_UP_LSID,\
    \ HTTP_X_H3G_MSISDN, HTTP_X_JINNY_CID,\n   HTTP_X_NETWORK_INFO, etc.\n"
- title: 13.  Security Considerations
  contents:
  - "13.  Security Considerations\n   This document does not define an architecture\
    \ nor a protocol; as such\n   it does not raise any security concerns.  Security\
    \ considerations\n   that are related to the host identifier are discussed in\
    \ [RFC6967].\n"
- title: 14.  Informative References
  contents:
  - "14.  Informative References\n   [BCP160]   Barnes, R., Lepinski, M., Cooper,\
    \ A., Morris, J.,\n              Tschofenig, H., and H. Schulzrinne, \"An Architecture\
    \ for\n              Location and Location Privacy in Internet Applications\"\
    ,\n              BCP 160, RFC 6280, July 2011.\n   [BCP188]   Farrell, S. and\
    \ H. Tschofenig, \"Pervasive Monitoring Is an\n              Attack\", BCP 188,\
    \ RFC 7258, May 2014.\n   [EFFOpenWireless]\n              EFF, \"Open Wireless\"\
    , 2014, <https://www.eff.org/issues/\n              open-wireless>.\n   [IEEE101109]\n\
    \              Salah, K., Calero, J., Zeadally, S., Almulla, S., and M.\n    \
    \          ZAaabi, \"Using Cloud Computing to Implement a Security\n         \
    \     Overlay Network\", IEEE Computer Society Digital Library,\n            \
    \  IEEE Security & Privacy, Vol. 11, Issue 1, pp. 44-53,\n              DOI 10.1109/MSP.2012.88,\
    \ Jan-Feb 2013.\n   [IEEE1344002]\n              Byers, J., Considine, J., Mitzenmacher,\
    \ M., and S. Rost,\n              \"Informed content delivery across adaptive\
    \ overlay\n              networks\", IEEE/ACM Transactions on Networking, Vol.\
    \ 12,\n              Issue 5, pp. 767-780, DOI 10.1109/TNET.2004.836103,\n   \
    \           October 2004.\n   [IKEv2-CP-EXT]\n              So, T., \"IKEv2 Configuration\
    \ Payload Extension for Private\n              IPv4 Support for Fixed Mobile Convergence\"\
    , Work in\n              Progress, draft-so-ipsecme-ikev2-cpext-02, June 2012.\n\
    \   [OVERLAYPATH]\n              Williams, B., \"Overlay Path Option for IP and\
    \ TCP\", Work\n              in Progress, draft-williams-overlaypath-ip-tcp-rfc-04,\n\
    \              June 2013.\n   [RFC2753]  Yavatkar, R., Pendarakis, D., and R.\
    \ Guerin, \"A Framework\n              for Policy-based Admission Control\", RFC\
    \ 2753,\n              DOI 10.17487/RFC2753, January 2000,\n              <http://www.rfc-editor.org/info/rfc2753>.\n\
    \   [RFC3261]  Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston,\n    \
    \          A., Peterson, J., Sparks, R., Handley, M., and E.\n              Schooler,\
    \ \"SIP: Session Initiation Protocol\", RFC 3261,\n              DOI 10.17487/RFC3261,\
    \ June 2002,\n              <http://www.rfc-editor.org/info/rfc3261>.\n   [RFC3633]\
    \  Troan, O. and R. Droms, \"IPv6 Prefix Options for Dynamic\n              Host\
    \ Configuration Protocol (DHCP) version 6\", RFC 3633,\n              DOI 10.17487/RFC3633,\
    \ December 2003,\n              <http://www.rfc-editor.org/info/rfc3633>.\n  \
    \ [RFC4984]  Meyer, D., Ed., Zhang, L., Ed., and K. Fall, Ed., \"Report\n    \
    \          from the IAB Workshop on Routing and Addressing\",\n              RFC\
    \ 4984, DOI 10.17487/RFC4984, September 2007,\n              <http://www.rfc-editor.org/info/rfc4984>.\n\
    \   [RFC5321]  Klensin, J., \"Simple Mail Transfer Protocol\", RFC 5321,\n   \
    \           DOI 10.17487/RFC5321, October 2008,\n              <http://www.rfc-editor.org/info/rfc5321>.\n\
    \   [RFC5456]  Spencer, M., Capouch, B., Guy, E., Ed., Miller, F., and K.\n  \
    \            Shumard, \"IAX: Inter-Asterisk eXchange Version 2\",\n          \
    \    RFC 5456, DOI 10.17487/RFC5456, February 2010,\n              <http://www.rfc-editor.org/info/rfc5456>.\n\
    \   [RFC5694]  Camarillo, G., Ed. and IAB, \"Peer-to-Peer (P2P)\n            \
    \  Architecture: Definition, Taxonomies, Examples, and\n              Applicability\"\
    , RFC 5694, DOI 10.17487/RFC5694, November\n              2009, <http://www.rfc-editor.org/info/rfc5694>.\n\
    \   [RFC6146]  Bagnulo, M., Matthews, P., and I. van Beijnum, \"Stateful\n   \
    \           NAT64: Network Address and Protocol Translation from IPv6\n      \
    \        Clients to IPv4 Servers\", RFC 6146, DOI 10.17487/RFC6146,\n        \
    \      April 2011, <http://www.rfc-editor.org/info/rfc6146>.\n   [RFC6179]  Templin,\
    \ F., Ed., \"The Internet Routing Overlay Network\n              (IRON)\", RFC\
    \ 6179, DOI 10.17487/RFC6179, March 2011,\n              <http://www.rfc-editor.org/info/rfc6179>.\n\
    \   [RFC6265]  Barth, A., \"HTTP State Management Mechanism\", RFC 6265,\n   \
    \           DOI 10.17487/RFC6265, April 2011,\n              <http://www.rfc-editor.org/info/rfc6265>.\n\
    \   [RFC6269]  Ford, M., Ed., Boucadair, M., Durand, A., Levis, P., and\n    \
    \          P. Roberts, \"Issues with IP Address Sharing\", RFC 6269,\n       \
    \       DOI 10.17487/RFC6269, June 2011,\n              <http://www.rfc-editor.org/info/rfc6269>.\n\
    \   [RFC6296]  Wasserman, M. and F. Baker, \"IPv6-to-IPv6 Network Prefix\n   \
    \           Translation\", RFC 6296, DOI 10.17487/RFC6296, June 2011,\n      \
    \        <http://www.rfc-editor.org/info/rfc6296>.\n   [RFC6333]  Durand, A.,\
    \ Droms, R., Woodyatt, J., and Y. Lee, \"Dual-\n              Stack Lite Broadband\
    \ Deployments Following IPv4\n              Exhaustion\", RFC 6333, DOI 10.17487/RFC6333,\
    \ August 2011,\n              <http://www.rfc-editor.org/info/rfc6333>.\n   [RFC6346]\
    \  Bush, R., Ed., \"The Address plus Port (A+P) Approach to\n              the\
    \ IPv4 Address Shortage\", RFC 6346,\n              DOI 10.17487/RFC6346, August\
    \ 2011,\n              <http://www.rfc-editor.org/info/rfc6346>.\n   [RFC6443]\
    \  Rosen, B., Schulzrinne, H., Polk, J., and A. Newton,\n              \"Framework\
    \ for Emergency Calling Using Internet\n              Multimedia\", RFC 6443,\
    \ DOI 10.17487/RFC6443, December\n              2011, <http://www.rfc-editor.org/info/rfc6443>.\n\
    \   [RFC6888]  Perreault, S., Ed., Yamagata, I., Miyakawa, S., Nakagawa,\n   \
    \           A., and H. Ashida, \"Common Requirements for Carrier-Grade\n     \
    \         NATs (CGNs)\", BCP 127, RFC 6888, DOI 10.17487/RFC6888,\n          \
    \    April 2013, <http://www.rfc-editor.org/info/rfc6888>.\n   [RFC6967]  Boucadair,\
    \ M., Touch, J., Levis, P., and R. Penno,\n              \"Analysis of Potential\
    \ Solutions for Revealing a Host\n              Identifier (HOST_ID) in Shared\
    \ Address Deployments\",\n              RFC 6967, DOI 10.17487/RFC6967, June 2013,\n\
    \              <http://www.rfc-editor.org/info/rfc6967>.\n   [RFC7239]  Petersson,\
    \ A. and M. Nilsson, \"Forwarded HTTP Extension\",\n              RFC 7239, DOI\
    \ 10.17487/RFC7239, June 2014,\n              <http://www.rfc-editor.org/info/rfc7239>.\n\
    \   [RFC7596]  Cui, Y., Sun, Q., Boucadair, M., Tsou, T., Lee, Y., and I.\n  \
    \            Farrer, \"Lightweight 4over6: An Extension to the Dual-\n       \
    \       Stack Lite Architecture\", RFC 7596, DOI 10.17487/RFC7596,\n         \
    \     July 2015, <http://www.rfc-editor.org/info/rfc7596>.\n   [RFC7597]  Troan,\
    \ O., Ed., Dec, W., Li, X., Bao, C., Matsushima, S.,\n              Murakami,\
    \ T., and T. Taylor, Ed., \"Mapping of Address and\n              Port with Encapsulation\
    \ (MAP-E)\", RFC 7597,\n              DOI 10.17487/RFC7597, July 2015,\n     \
    \         <http://www.rfc-editor.org/info/rfc7597>.\n   [STATELESS-NAT44]\n  \
    \            Tsou, T., Liu, W., Perreault, S., Penno, R., and M. Chen,\n     \
    \         \"Stateless IPv4 Network Address Translation\", Work in\n          \
    \    Progress, draft-tsou-stateless-nat44-02, October 2012.\n   [TS23.203] 3GPP,\
    \ \"Policy and charging control architecture (Release\n              11)\", 3GPP\
    \ TS23.203, September 2012.\n   [TS29.212] 3GPP, \"Policy and Charging Control\
    \ (PCC); Reference points\n              (Release 11)\", 3GPP TS29.212, December\
    \ 2013.\n"
- title: Acknowledgments
  contents:
  - "Acknowledgments\n   Many thanks to F. Klamm, D. Wing, D. von Hugo, G. Li, D.\
    \ Liu, and\n   Y. Lee for their review.\n   J. Touch, S. Farrel, and S. Moonesamy\
    \ provided useful comments in the\n   intarea mailing list.\n   Figure 8 and part\
    \ of the text in Section 10.3 were inspired by\n   [IKEv2-CP-EXT].\n"
- title: Contributors
  contents:
  - "Contributors\n   Many thanks to the following people for contributing text and\n\
    \   comments to the document:\n   o  David Binet\n   o  Sophie Durel\n   o  Li\
    \ Xue\n   o  Richard Stewart Wheeldon\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Mohamed Boucadair (editor)\n   Orange\n   Rennes  35000\n\
    \   France\n   Email: mohamed.boucadair@orange.com\n   Bruno Chatras\n   Orange\n\
    \   Paris\n   France\n   Email: bruno.chatras@orange.com\n   Tirumaleswar Reddy\n\
    \   Cisco Systems\n   Cessna Business Park, Varthur Hobli\n   Sarjapur Marathalli\
    \ Outer Ring Road\n   Bangalore, Karnataka  560103\n   India\n   Email: tireddy@cisco.com\n\
    \   Brandon Williams\n   Akamai, Inc.\n   Cambridge  MA\n   United States\n  \
    \ Email: brandon.williams@akamai.com\n   Behcet Sarikaya\n   Huawei\n   5340 Legacy\
    \ Dr. Building 3,\n   Plano, TX  75024\n   United States\n   Email: sarikaya@ieee.org\n"
