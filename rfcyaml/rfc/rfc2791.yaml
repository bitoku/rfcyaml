- title: __initial_text__
  contents:
  - '                   Scalable Routing Design Principles

    '
- title: Status of this Memo
  contents:
  - "Status of this Memo\n   This memo provides information for the Internet community.\
    \  It does\n   not specify an Internet standard of any kind.  Distribution of\
    \ this\n   memo is unlimited.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (C) The Internet Society (2000).  All Rights Reserved.\n"
- title: Abstract
  contents:
  - "Abstract\n   Routing is essential to a network. Routing scalability is essential\n\
    \   to a large network. When routing does not scale, there is a direct\n   impact\
    \ on the stability and performance of a network. Therefore,\n   routing scalability\
    \ is an important issue, especially for a large\n   network. This document identifies\
    \ major factors affecting routing\n   scalability as well as basic principles\
    \ of designing scalable routing\n   for large networks.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1           Introduction  ..................................\
    \      2\n   2           Common Routing Design Goals  ...................    \
    \  3\n   3           Characteristics of Today's Large Networks  .....      3\n\
    \   4           Routing Scaling Issues  ..........................    3\n   4.1\
    \         Router Resource Consumption  .....................    4\n   4.2    \
    \     Routing Complexity  ..............................    5\n   5          \
    \ Routing Protocol Scalability .....................    6\n   5.1         IS-IS\
    \ and OSPF  ..................................    6\n   5.2         BGP  .............................................\
    \    8\n   6           Scalable Routing Design Principles  ..............    9\n\
    \   6.1         Building Hierarchy  ..............................   10\n   6.2\
    \         Compartmentalization  ............................   13\n   6.3    \
    \     Making Proper Trade-offs  ........................   13\n   6.4        \
    \ Reduce Burdens of Routing Information Process  ...   14\n   6.4.1       Routing\
    \ Intelligence Placement  ..................   14\n   6.4.2       Reduce Routes\
    \ and Routing Information  ...........   15\n   6.4.2.1     CIDR and Route Aggregation\
    \  ......................   15\n   6.4.2.2     Utilize Default Routing where it's\
    \ Possible  .....   15\n   6.4.2.3     Reduce Alternative Paths  ........................\
    \   16\n   6.4.3       Use Static Route at Edge  .........................  16\n\
    \   6.4.4       Minimize the Impact of Route Flapping  ............  16\n   6.5\
    \         Scalable Routing Policy and Scalable Implementation  17\n   6.6    \
    \     Out-of-band Process  ..............................  19\n   7          \
    \ Conclusion and Discussion  ........................  19\n   8           Security\
    \ Considerations  ..........................  20\n   9           Acknowledgement\
    \  ..................................  21\n   10          References  .......................................\
    \  21\n   Author's Address ..............................................  22\n\
    \   Appendix A  Out-of-Band Routing Processes  ....................  23\n   Full\
    \ Copyright Statement  .....................................  26\n"
- title: 1. Introduction
  contents:
  - "1. Introduction\n   Routing is essential to a network. Without routing, packets\
    \ cannot be\n   delivered to desired destinations and the network would be non-\n\
    \   functional. The challenge of designing the routing for a large\n   network,\
    \ such as a large ISP backbone network, is not only to make it\n   work, but also\
    \ to make it scale. Without a scalable routing system, a\n   network may suffer\
    \ from severe performance penalties, as\n   unfortunately proven by disastrous\
    \ events in large networks. This\n   document attempts to analyze routing scalability\
    \ issues and define a\n   set of principles for designing scalable routing system\
    \ for large\n   networks.\n   The organization of this document is as follows:\
    \ Section 2 describes\n   routing functions and design goals. Sections 3 and 4\
    \ discuss the\n   characteristics of today's large networks and the associated\
    \ routing\n   scaling issues. Section 5 explores routing protocol scalability,\
    \ and\n   Section 6 presents scalable routing design principles. Section 7\n \
    \  provides a conclusion to the document.\n"
- title: 2. Common Routing Design Goals
  contents:
  - "2. Common Routing Design Goals\n   The basic goals a routing system should achieve\
    \ are as follows:\n      o Stability\n      o Redundancy and robustness\n    \
    \  o Reasonable convergency time\n      o Routing information integrity\n    \
    \  o Sensible and manageable routing policy\n   The challenge of designing routing\
    \ in a large network is not only to\n   achieve these basic goals but also to\
    \ make the routing system scale.\n"
- title: 3. Characteristics of Today's Large Networks
  contents:
  - "3. Characteristics of Today's Large Networks\n   Today's large networks typically\
    \ possess the following features:\n      o They are composed of a large number\
    \ of nodes (routers and/or\n        switches), typically in the hundreds. Some\
    \ provider networks\n        include customer CPE routers within their administrative\
    \ domain,\n        which increases the number of nodes to thousands.\n      o\
    \ They have rich connectivity to meet redundancy and robustness\n        requirements,\
    \ and they consequently have complex topologies.\n      o They are default-free;\
    \ that is, they carry all the routes known\n        to the entire Internet. Currently,\
    \ the total number is\n        approximately 70,000.\n      o The customer aggregation\
    \ routers inside the large networks\n        connect sometimes hundreds of customer\
    \ routers.\n   These characteristics impose a direct challenge to the routing\n\
    \   scalability of the network.\n"
- title: 4. Routing Scaling Issues
  contents:
  - "4. Routing Scaling Issues\n   Today, the main issues surrounding routing scaling\
    \ are: i) excessive\n   router resource consumption, which can potentially increase\
    \ routing\n   convergency difficulties thus destabilize a network; and ii) routing\n\
    \   complexity, resulting in poor management of network, producing low\n   service\
    \ quality.\n"
- title: 4.1. Router Resource Consumption
  contents:
  - "4.1. Router Resource Consumption\n   The routing process puts bursty loads on\
    \ routers, especially under\n   unstable network conditions. In the extreme case,\
    \ the routing process\n   takes all available resources from the routers, which\
    \ results in slow\n   routing convergence or no convergence. A network is paralyzed\
    \ when it\n   cannot converge internal routing information.\n   It's worthy noting\
    \ that routers with internal architectures that\n   tightly couple forwarding\
    \ and routing processes tend to handle the\n   excessive routing load poorly.\
    \ The emerging new generation of routers\n   with the architecture of separating\
    \ resource used for forwarding and\n   routing could provide better routing scalability.\n\
    \   Today, a large network typically employs IS-IS [1,2] or OSPF [3] as\n   an\
    \ Interior Routing Protocol(IGP) and BGP [4] as an Exterior Routing\n   Protocol(EGP),\
    \ respectively. The IGP calculates paths across the\n   interior of the network.\
    \ BGP facilitates routing exchange between\n   routing domains, or Autonomous\
    \ Systems (AS). BGP also processes and\n   propagates external routing information\
    \ within the network. The\n   presence of a large number of routers and adjacencies\
    \ in a network,\n   coupled with frequent topology changes due to link instability,\
    \ will\n   contribute to excessive resource consumption by the interior routing.\n\
    \   In the case of exterior routing, a large quantity of routers in a BGP\n  \
    \ system plus frequent routing updates (route flapping) would put a\n   heavy\
    \ burden on the routers. Section 5 describes scaling issues with\n   IS-IS, OSPF\
    \ and BGP in detail.\n   In addition, having many destinations in a routing system,\
    \ combined\n   with multiple paths associated with these routes, impose the\n\
    \   following scaling issues on BGP:\n      o A large number of routes combined\
    \ with multiple paths for each\n        increases the cost of routing processing\
    \ for route selection,\n        routing policy application and filtering.\n  \
    \    o Too many routes combined with multiple paths requires large\n        amounts\
    \ of memory on routers for storage. The demand is even\n        higher at InterExchange\
    \ Points such as NAPs.\n      o The larger the number of routes, the greater the\
    \ chance route\n        flapping will occur and the more BGP routing updates will\
    \ happen\n        as a result. Based on statistics collected by [5], thousands\
    \ of\n        BGP updates in a measured 15 minute interval can occur on a\n  \
    \      typical default-free router at a NAP.\n        Route flapping refers to\
    \ frequent routing updates occurring due\n        to network instability, for\
    \ example, when the state of a\n        physical link in the network is fluctuating,\
    \ or when a BGP\n        session is torn down and re-established numerous time\
    \ within a\n        short period of time.\n        To facilitate fast convergence,\
    \ topology change information must\n        be propagated in a timely fashion.\
    \ When a route becomes\n        unavailable and is withdrawn, the information\
    \ is typically sent\n        immediately. If the affected routes have been announced\
    \ to the\n        global Internet, the update information is likely to be\n  \
    \      propagated to the entire Internet.\n        Route flapping has a profound\
    \ impact on routers running BGP. The\n        routers have to process routing\
    \ information frequently and this\n        consumes a tremendous amounts of the\
    \ available resources. When a\n        local route or link is oscillating, interior\
    \ routing is affected\n        as well by excessive topology information flooding\
    \ and\n        subsequent shortest path calculations. However, OSPF (or IS-IS)\n\
    \        imposes rate limits on such activity to reduce the burden on the\n  \
    \      routers. For example, OSPF specifies that an individual SLA can\n     \
    \   be updated at most once every 5 seconds. This essentially\n        dampens\
    \ the flapping.\n   Moreover, large numbers of E-BGP sessions processed by a single\n\
    \   router create another potential scaling issue. Large networks usually\n  \
    \ have huge customer subscriptions and connections. To scale the\n   hardware\
    \ and the number of nodes in the network, providers tend to\n   dedicate a group\
    \ of customer aggregation routers, each connecting as\n   many customer CPE routers\
    \ as possible. As a result, it's not uncommon\n   for a customer aggregation router\
    \ to handle hundreds of E-BGP\n   sessions, which imposes potential problems,\
    \ such as BGP session\n   processing and maintenance, route processing, filtering\
    \ and route\n   storage.\n"
- title: 4.2. Routing Complexity
  contents:
  - "4.2. Routing Complexity\n   Routing complexity can lead to network management\
    \ difficulties, which\n   will have an impact on trouble shooting and quick problem\
    \ resolution.\n   It can result in a less than desirable service quality across\
    \ the\n   network. Complicated routing policies and special cases or exceptions\n\
    \   in a routing design can contribute to routing complexity in a large\n   system.\n\
    \   Routing Policy refers to the administrative criteria for handling\n   routing\
    \ information, commonly in the form of routing path selection\n   and route filtering.\
    \ The way routing information is handled has a\n   direct impact on traffic flow\
    \ within a network and across domains. As\n   a result, it affects business agreements\
    \ among different networks.\n   Therefore, the determination of routing policy\
    \ is largely dominated\n   by non-technical concerns, such as business considerations.\
    \ Routing\n   policy can be very complex, which would make management and\n  \
    \ configuration an unscalable task.\n   The keys to reducing routing complexity\
    \ are systematic as well as\n   consistent routing scheme and a routing policy\
    \ that is simple but\n   meets the requirement of administrative polices.\n  \
    \ Another factor contributing to the complexity of routing management\n   is prefix-based\
    \ route filtering. As is well known, prefix-based\n   filtering is necessary in\
    \ order to protect the integrity of the\n   routing system. This becomes a challenge\
    \ when the number of routes\n   known to the Internet is as large as it is today.\n"
- title: 5. Routing Protocol Scalability
  contents:
  - "5. Routing Protocol Scalability\n   Today's commonly deployed routing protocols\
    \ are IS-IS or OSPF for\n   Interior routing (aka IGP) and BGP for exterior routing\
    \ (aka EGP). In\n   terms of scaling and other aspects, these protocols are already\
    \ an\n   improvement over the previous generation of protocols, such as RIP\n\
    \   and EGP. However, scalability is still a major issue when a network\n   is\
    \ large, when a routing design is insensitive to scaling issues, or\n   the protocol\
    \ implementation is inefficient.\n"
- title: 5.1. IS-IS and OSPF
  contents:
  - "5.1. IS-IS and OSPF\n   As described earlier in the document, IS-IS and OSPF\
    \ are Link State\n   routing protocols. The basic components of a link state routing\n\
    \   protocol are i) generation and maintenance of a Link-State-DataBase\n   (LSDB)\
    \ that describes the routing topology of a given routing area;\n   and ii) route\
    \ calculation based on the topology information in the\n   database. Each node\
    \ in a routing area is responsible for describing\n   its local routing topology\
    \ in a Link State Advertisement or LSA (LSP\n   in the case of IS-IS.) Each individually\
    \ generated LSA will be\n   distributed or flooded to all the routers in the area.\
    \ Each router\n   receives LSAs from all the other routers, forming a link-state-\n\
    \   database that reflects the routing topology of the entire routing\n   area.\n\
    \   The main associated scaling issues are the complexity of the link\n   state\
    \ flooding and routing calculation, plus the size of the LSDB\n   which contributes\
    \ to the cost of routing calculation and router\n   memory consumption.\n   Flooding\
    \ is the process by which a router distributes its self-\n   originated LSA to\
    \ the rest of the routers in the area in case of any\n   link state change. A\
    \ router will send the LSA via all its interfaces.\n   When receiving an LSA update,\
    \ a router validates the information and\n   updates its local LSDB before sending\
    \ it out via all its own\n   interfaces, except the one from which it received\
    \ the original LSA\n   update. Given the nature of IS-IS or OSPF flooding, a full-mesh\n\
    \   network with N routers would have O(N^2) of LSAs flooded in the\n   network\
    \ when a single link failure occurs. A single router outage\n   would cause LSA\
    \ in the order of O(N^3) to be flooded in the system.\n   In the case of OSPF,\
    \ the protocol will refresh or flood every 30\n   minutes even under stable network\
    \ conditions, which could increase\n   the problem for an already highly loaded\
    \ router.\n   From the above discussion, one can easily observe that the more\n\
    \   routers and adjacencies in a Link State IGP routing area, the more\n   CPU\
    \ burden there are for each router to bear. When a network is\n   unstable, the\
    \ load will be amplified.\n   A link-state protocol typically uses Dijkstra's\
    \ Shortest Path First\n   (SPF) algorithm for route calculation. The Dijkstra\
    \ algorithm scales\n   to the order of O(N^2), where N is the number of nodes.\
    \ The algorithm\n   could be improved to the order of O(l*logN) where l is the\
    \ number of\n   links in the network and N is the number of destinations or routers\n\
    \   [6].\n   Consequently, link state routing protocols do not scale to a network\n\
    \   topology with many routers and excessive adjacencies in an area. When\n  \
    \ the network topology is unstable, the computation, processing and\n   bandwidth\
    \ costs are magnified, which causes excessive consumption of\n   router resources.\
    \ When the instability prevents IS-IS or OSPF from\n   maintaining adjacencies,\
    \ a network routing meltdown occurs.\n   Node adjacencies are discovered and maintained\
    \ through the exchange\n   of HELLO messages sent periodically from each node.\
    \ When a node fails\n   to receive HELLO messages from its neighbor within a certain\
    \ period\n   of time (40 seconds for OSPF and less for IS-IS), it considers the\n\
    \   neighbor down. When heavy flooding, re-calculation and other\n   activities\
    \ happen that make router CPU a scarce resource, a router\n   may not be able\
    \ to allocate CPU time to send or process HELLO\n   packets. Routers in the network\
    \ then lose adjacency, which magnifies\n   the instability. As a result, an isolated\
    \ instability can escalate to\n   a routing failure across the entire network.\n\
    \   Link-state IGPs also do not scale well to carry a large number of\n   routes\
    \ such as the 70,000 routes known to the Internet today. Since\n   external routes\
    \ are included in the link-state-database and in LSA\n   (LSP for IS-IS) updates,\
    \ the link bandwidth and router memory\n   consumption will be tremendous. Moreover,\
    \ due to the large size of\n   LSA updates, it would aggravate router resource\
    \ consumption in the\n   process of LSA flooding, especially under unstable network\
    \ condition.\n   To summarize, a scalable design should avoid inclusion of too\
    \ many\n   routers in an IGP routing area, a large external routes carried by\n\
    \   IGP and, more important, excessive adjacencies in the area.\n"
- title: 5.2. BGP
  contents:
  - "5.2. BGP\n   BGP is an inter-domain routing protocol allowing the exchange of\n\
    \   routing or reachability information between different Autonomous-\n   System\
    \ networks. Functionally, BGP is composed of External BGP(E-BGP)\n   and Internal\
    \ BGP(I-BGP). E-BGP is used for exchanging external routes\n   while I-BGP is\
    \ typically used for distributing externally learned\n   routes within an AS.\n\
    \   The general costs of BGP are as follows:\n      o CPU consumption in BGP session\
    \ establishment, route selection,\n        routing information processing, and\
    \ handling of routing updates\n      o Router memory to install routes and multiple\
    \ paths associated\n        with the routes.\n   The major scaling issue associated\
    \ with BGP lie in the full mesh I-\n   BGP connections. Since it does not scale\
    \ for an IGP to carry\n   externally learned prefixes, as mentioned in the previous\
    \ section,\n   I-BGP assumes this duty. In order to prevent routing loops, prefixes\n\
    \   learned via I-BGP are prohibited from being advertised to another I-\n   BGP\
    \ speaker. As a result, a full mesh of I-BGP sessions among the\n   routers within\
    \ an AS is required. In an AS with N routers, each\n   router will have to establish\
    \ I-BGP sessions with N-1 routers, and\n   the system complexity is in the order\
    \ of O(N^2). Therefore, BGP\n   scales poorly when the number of routers involved\
    \ in I-BGP mesh is\n   large.\n   A large network normally learns all the routes\
    \ known to the Internet,\n   which is approximately 70,000. I-BGP will need to\
    \ carry all these\n   routes.\n   The large number of I-BGP sessions and routes\
    \ consumes tremendous\n   resources from each router, especially during BGP session\n\
    \   establishment and during periods of heavy route flapping.\n   Frequent routing\
    \ updates are another potential scaling problem in\n   large networks. BGP uses\
    \ incremental updates and sends out routing\n   information about unreachable\
    \ routes quickly for fast convergence.\n   This is a great improvement from EGP,\
    \ in which the whole routing\n   table is updated at a fixed time interval. However,\
    \ when a network is\n   unstable the updates, especially those containing route\
    \ withdrawals,\n   are sent immediately, causing global BGP updates. As a result,\n\
    \   network instability initiated anywhere in a network triggers updates\n   all\
    \ over the Internet. This effect is magnified when large amounts of\n   routes\
    \ are visible to the Internet, putting a heavy load on routers\n   that participate\
    \ in BGP.\n   The introduction of a routing hierarchy in BGP, through I-BGP Route\n\
    \   Reflectors [7] and BGP Confederations [8], for example, will help\n   alleviate\
    \ the scaling problem caused by the requirement of full mesh\n   I-BGP establishment.\n\
    \   Another potential solution is to avoid the requirement of full mesh\n   pairwise\
    \ I-BGP connections. This will change the way that BGP\n   distributes routing\
    \ information among the I-BGP peers. Mechanisms\n   worth considering are using\
    \ multicast to distribute information or\n   adopting flooding mechanisms similar\
    \ to those used in IS-IS or OSPF.\n   Further investigation of the implication\
    \ of using such mechanism for\n   BGP route distribution is needed.\n   Route\
    \ dampening [9] is one way to reduce excessive updates triggered\n   by route\
    \ flapping. The trade-off between fast convergence and\n   stability of the network\
    \ should be considered, as discussed in\n   section 6.3.\n"
- title: 6. Scalable Routing Design Principles
  contents:
  - "6. Scalable Routing Design Principles\n   The routing design for a large-scale\
    \ network should achieve the basic\n   goals of accuracy, stability, redundancy\
    \ and convergence as described\n   in Section 2 and moreover should achieve it\
    \ in a scalable fashion.\n   How routing scales is influenced by protocol design\
    \ decisions,\n   protocol implementation decisions, and network design decisions.\
    \ A\n   network engineer has direct control over network design decisions and\n\
    \   can have substantial influence over protocol design and\n   implementation.\
    \ The focus of this document is network design\n   decisions.\n   Following is\
    \ a set of design principles for making a large network\n   routing system more\
    \ scalable:\n      o Building hierarchy\n      o Compartmentalization\n      o\
    \ Making proper trade-offs\n      o Reducing route processing burdens\n      o\
    \ Defining scalable routing policies and implementation\n      o Utilizing out-of-band\
    \ routing assistance\n"
- title: 6.1. Building Hierarchy
  contents:
  - "6.1. Building Hierarchy\n   As discussed in Section 5.1, OSPF and IS-IS scale\
    \ poorly when a\n   network has a large number of routers and in particular, a\
    \ large\n   quantity of adjacencies. This has unfortunately been proven by\n \
    \  networks that deploy IP over ATM with full mesh adjacencies among the\n   routers.\
    \ The full mesh overlay design combined with the inefficient\n   protocol implementation\
    \ led to disastrous network outages. A lesson\n   learned from this is to avoid\
    \ full mesh overlay topology in a large\n   network with a large, flat network\
    \ routing structure.\n   Building hierarchical routing structures in the network\
    \ is the key to\n   achieving routing scalability in a large network. As discussed\n\
    \   earlier in this document, large networks are usually composed of many\n  \
    \ routers with a complex topology, which results in a large number of\n   adjacencies.\
    \ As also discussed earlier, currently available routing\n   protocols scale poorly\
    \ for handling a large number of routers in a\n   routing domain or many adjacencies\
    \ among the routers. Therefore, it\n   is sensible to build a routing hierarchy\
    \ to reduce the number of\n   routers as well as the number of adjacencies in\
    \ a routing domain.\n   The current common practice is to build a two-tiered hierarchy\
    \ in a\n   network with a center component (or transit core network) to which\
    \ a\n   number of outskirt components (or access networks) attach. The\n   transit\
    \ core network covers the entire geographical area the network\n   serves; each\
    \ access network (aka regional network) covers one region.\n   There are usually\
    \ no direct link connections among the regional\n   components. Traffic from one\
    \ regional network to another traverses\n   the transit core. Customer networks\
    \ connect only to access or\n   regional networks. There are a number of ways\
    \ to build a routing\n   hierarchy in the above described hierarchical network\
    \ topology.\n      1) Completely Separate Routing Domains\n      This design treats\
    \ the transit core network and each regional\n      network as completely independent\
    \ ASs with respect to routing, and\n      each AS runs an independent IGP. Each\
    \ regional network E-BGP with\n      the transit core for exchanging routing knowledge.\
    \ Full I-BGP\n      connections need to be established only within each component\n\
    \      network. With this design, the maximum number of routers in an IGP\n  \
    \    domain is the total number of routers in each component. As a\n      result,\
    \ the IGP processing load is reduced, and the number of\n      routers in an I-BGP\
    \ mesh in the network routing system is\n      decreased dramatically.\n     \
    \ Another advantage of this design is that it compartmentalizes the\n      routing\
    \ system so that instability in one such component has less\n      impact on the\
    \ entire system. See the discussion in section 6.2.\n      The main disadvantage\
    \ of this scheme is that it inserts one extra\n      AS in the routing path when\
    \ routes are advertised to the Internet\n      via BGP. This extra AS in the path\
    \ may cause route selection\n      difficulties for other providers.\n      2)\
    \ One Domain with IGP and BGP Hierarchy\n      This method includes the transit\
    \ core and each regional network\n      into one AS domain. The routing hierarchy\
    \ is realized by utilizing\n      multi-level IS-IS or OSPF areas and either BGP\
    \ Confederation or\n      I-BGP Reflector or a combination of the two.\n     \
    \ This mechanism avoids the introduction of an extra AS in the\n      routing\
    \ path, which is an advantage over the method described in\n      Point 1).  However,\
    \ multi-area hierarchical IGP is rarely used\n      now-a-days in large networks\
    \ since most of them are using IS-IS\n      for internal routing, which does not\
    \ have sufficient multi-level\n      support. Although IS-IS supports multi-area\
    \ routing, it imposes a\n      strict hierarchy between backbone and sub-areas\
    \ and allows only\n      the advertisement of a default route from the backbone\
    \ area to the\n      sub-areas instead of specific prefixes. This restriction\
    \ may be\n      suitable for a network with a simple sub-area topology. A sub-area\n\
    \      in a large network, typically a regional or access network, itself\n  \
    \    has a complicated topology. Receiving highly abstract routing\n      information,\
    \ such as a default route, would affect the sub-area's\n      ability to make\
    \ route selections required for traffic engineering.\n      It would also limit\
    \ the information passed to external ASs, for\n      example, IGP-derived BGP\
    \ Multi-Exit-Discriminator (MED)\n      information.\n      Efforts are being\
    \ made to modify the IS-IS protocol to allow the\n      distribution of specific\
    \ route from backbone area to sub-areas. A\n      mechanism facilitates such distribution\
    \ is specified in [15]. When\n      implementation of such mechanism become available,\
    \ implementing\n      multi-level IGP will be an attractive option for building\
    \ routing\n      hierarchy within a large network.\n      3) One IGP Area with\
    \ BGP Hierarchy\n      In lieu of multi-area IS-IS, the routing hierarchy could\
    \ be\n      achieved by defining one IGP domain for the entire network while\n\
    \      employing a BGP hierarchy. Fortunately, the hierarchical topology\n   \
    \   of the network in this case helps reduce adjacencies in the\n      routing\
    \ domain (recall there are no connections among the second-\n      level network\
    \ components). In addition, improvements could be made\n      to further reduce\
    \ the adjacency by carefully arranging the\n      adjacencies to keep them at\
    \ a minimum but still achieve good\n      redundancy. However, this is less than\
    \ ideal since the number of\n      routers remains unchanged, which increases\
    \ the load on the SPF\n      calculation. Moreover, instability within any regional\
    \ network\n      would still affect the entire network (that is, there would be\
    \ no\n      fault isolation).\n      Even with one IGP domain, it is possible\
    \ to build BGP hierarchy to\n      make I-BGP more scalable in the network. BGP\
    \ Reflectors and BGP\n      Confederations are existing mechanisms to address\
    \ the scaling\n      problem of full-mesh I-BGP.\n      Further, a BGP reflector\
    \ provides the ability to build more than\n      two levels of hierarchy, as long\
    \ as the interactions among the\n      different levels of the hierarchy are carefully\
    \ arranged to avoid\n      the possibility of creating routing loops.\n   Questions\
    \ worth asking are: \"Are two levels of routing hierarchy\n   sufficient for handling\
    \ scaling issues?\" \"Is there really a need for\n   more than two levels of hierarchy?\"\
    \n   When a second-tier sub-domain of a large network, such as a regional\n  \
    \ network, grows too big for routing protocols to handle, either\n   another layer\
    \ of hierarchy needs to be introduced or the sub-domain\n   needs to be split\
    \ into multiple second-tiered sub-domains.\n   Keeping two levels of hierarchy\
    \ and adding more sub-domains appears\n   to be more manageable than adding another\
    \ level to the hierarchy.\n   However, one concern is to avoid adding more nodes\
    \ to the top-level\n   or transit core network to make it less scalable. Connecting\
    \ the\n   split sub-areas to the same core router would eliminate the need to\n\
    \   add more nodes in the core area than is recommended.\n   Having more than\
    \ two levels of hierarchy would exceed the capability\n   of IGPs as they are\
    \ defined today. In OSPF, for example, all the\n   areas must be connected via\
    \ the backbone area, which eliminates the\n   possibility of having more than\
    \ two levels of hierarchy. IS-IS has\n   the same limitation. Therefore, the protocols\
    \ need to be redefined\n   should more than two hierarchical layers in IGP be\
    \ desirable.\n   The complexity of protocols and management will increase with\
    \ the\n   number of levels added to the hierarchy. According to [6], most of\n\
    \   the OSPF protocol bugs found over the years are related to routing\n   area\
    \ support. Because the interaction among the multiple levels\n   increases management\
    \ and debugging complexity, it is desirable to\n   keep the levels within a hierarchy\
    \ to a minimum.\n"
- title: 6.2. Compartmentalization
  contents:
  - "6.2. Compartmentalization\n   A scalable routing design of a large network should\
    \ be able to\n   localize problems or failures, thus preventing them from spreading\
    \ to\n   the entire network, consuming resources of network routers, and\n   causing\
    \ network wide instability. This is compartmentalization.\n   Network compartmentalization\
    \ makes fault isolation possible which\n   contributes the stability of a large\
    \ network.\n   To achieve compartmentalization in routing design for a large\n\
    \   network, one needs to avoid a design where the whole large network is\n  \
    \ one flat routing system or routing domain. This is the reason for the\n   architecture\
    \ of dividing interior and exterior routing in the global\n   routing system.\
    \ Within a network, it is best to divide the network\n   into multiple routing\
    \ domains or multiple routing areas. For example,\n   in OSPF, only summary route\
    \ SLAs, rather than individual area routes,\n   are flooded beyond the area. When\
    \ an area border router aggregates\n   the routes in its sub-area, instability\
    \ of any route included in the\n   summary route would not cause flooding of SLAs\
    \ to other areas. As a\n   result, router resources in other areas would not be\
    \ consumed for\n   handling flooding and the SPF recalculation. In other words,\n\
    \   instability within each individual area would be prevented from\n   spreading\
    \ to the entire routing domain.\n   Since building a routing hierarchy essentially\
    \ divides a big routing\n   area into smaller areas or domains, it help achieve\
    \ the goal of\n   compartmentalization.\n"
- title: 6.3. Making Proper Trade-offs
  contents:
  - "6.3. Making Proper Trade-offs\n   When designing routing for a large network,\
    \ the overall goal should\n   be set with considerations of routing scalability\
    \ and stability. The\n   trade-offs between conflicting goals should be taken\
    \ into account.\n   Examples of such trade-offs are redundancy vs. scalability\
    \ and\n   convergence vs. stability.\n   Redundancy introduces complexity and\
    \ increased adjacencies to the\n   network topology. Redundancy also imposes the\
    \ need for as many\n   alternative paths as possible for each route, which increases\
    \ route\n   processing and storage burdens. Because of these problems, it may\
    \ be\n   necessary to sacrifice absolute redundancy in favor of a reasonable\n\
    \   level that scales better for the routing system.\n   Fast convergence requires\
    \ that changes in network topology be\n   propagated to the network as quickly\
    \ as possible. Such action\n   increases routing updates and, consequently, the\
    \ route processing\n   burden. The burden is aggravated when a network carries\
    \ full Internet\n   routing information, as large networks usually do, and topology\n\
    \   changes happen frequently. Route dampening may be necessary to\n   achieve\
    \ stability at the expense of absolute fast convergence.\n"
- title: 6.4. Reduce Burdens of Routing Information Processing
  contents:
  - "6.4. Reduce Burdens of Routing Information Processing\n   The tasks of reducing\
    \ routing processing burdens includes: i)\n   strategically place the routing\
    \ intelligence within the network, ii)\n   avoid carrying unnecessary routing\
    \ information and iii) reduce the\n   impact of route flapping.\n"
- title: 6.4.1. Routing Intelligence Placement
  contents:
  - "6.4.1. Routing Intelligence Placement\n   A router that executes routing policies,\
    \ performs route filtering and\n   dampening is said to posses routing intelligence.\
    \ Routing\n   intelligence is needed for a network i) to enforce the business\n\
    \   agreement between network entities in the form of routing policies;\n   ii)\
    \ to protect the integrity of the routing information within the\n   network and\
    \ sometimes iii) to shield a network from instability\n   happening elsewhere\
    \ in the Internet.\n   The more routing intelligence a router has, the more resources\
    \ of the\n   router are needed to perform those tasks. It is logical, then, to\n\
    \   place as little routing intelligence as possible on routers that\n   already\
    \ are heavily burdened with other tasks.\n   Usually, traffic is heavily concentrated\
    \ in the core of the network.\n   Because traffic aggregates from the edge of\
    \ the network toward the\n   core, traffic is less concentrated near the edge\
    \ of the network.\n   Consequently, to build a scalable routing system, it is\
    \ wise to place\n   routing intelligence at the edge of the network, especially\
    \ in the\n   networks deployed with routers that do not sufficiently decouple\n\
    \   forwarding and routing. In addition, pushing routing intelligency as\n   close\
    \ to the edge of the network as possible also serves the purpose\n   of distributing\
    \ computational and configuration burdens across all\n   routers.\n   It is also\
    \ desirable to move the heavy burden of processing routes to\n   out-of-band processors,\
    \ freeing more resources in network routers for\n   packet forwarding and handling.\n"
- title: 6.4.2. Reduce Routes and Routing Information
  contents:
  - "6.4.2. Reduce Routes and Routing Information\n   As discussed in Section 4.1,\
    \ a large number of routes in the system\n   is one of the major culprits in route\
    \ scaling problems. Therefore, it\n   is best to reduce the number of routes in\
    \ the system without losing\n   necessary routing information.\n"
- title: 6.4.2.1. CIDR and Route Aggregation
  contents:
  - "6.4.2.1. CIDR and Route Aggregation\n   CIDR as specified in [10] provides a\
    \ mechanism to aggregate routes\n   for efficiently utilizing IP address space\
    \ as well as reducing the\n   number of routes in the global routing table. CIDR\
    \ offers a way to\n   summarize routing information, which is one of the keys\
    \ for routing\n   scalability in today's Internet.\n   Route aggregation would\
    \ not only help global Internet scalability but\n   would also contribute to scalability\
    \ in local networks. The overall\n   goal is to keep the routes in the backbone\
    \ to a minimum.\n   To achieve better aggregation within the network; that is,\
    \ to reduce\n   the number of routes in the network, a block of consecutive IP\n\
    \   addresses should be allocated to each access or regional network so\n   that\
    \ when a regional network announces its routes to the transit core\n   network,\
    \ they can be aggregated. This way, the core and other\n   regional networks would\
    \ not need to know the specific prefixes of any\n   particular access network.\
    \ Although assignment of customer addresses\n   from a provider block would have\
    \ to be planned to support\n   aggregation, the effort would be worthwhile.\n"
- title: 6.4.2.2. Utilize Default Routing When Possible
  contents:
  - "6.4.2.2. Utilize Default Routing When Possible\n   The use of a default route\
    \ achieves ultimate route summarization,\n   which reduces routing information\
    \ to minimum. Route summarization\n   also masks the instability associated with\
    \ an individual route, for\n   example, in the case of route flapping. It's beneficial\
    \ for a network\n   to utilize default routing when appropriate. For example,\
    \ if a\n   second-tiered regional network is a stub and there is no connected\n\
    \   customer requesting full Internet routing information, the regional\n   network\
    \ can simply point default to its connected core network.\n   However, over-summarization\
    \ of routing information has the danger of\n   losing routing granularity and\
    \ as a result, management of network\n   such as traffic engineering would be\
    \ adversely affected. Therefore,\n   caution needs to be exercised when using\
    \ default routing.\n"
- title: 6.4.2.3. Reduce Alternative Paths
  contents:
  - "6.4.2.3. Reduce Alternative Paths\n   Due to the requirement of reliability,\
    \ the connectivity in the\n   Internet is rich, resulting in many paths toward\
    \ a particular\n   destination. In other words, there are many alternate paths\
    \ in the\n   BGP routing table towards the same destination, which consumes router\n\
    \   memory and adds to the routing processing burden.\n   To make routing scale,\
    \ it is desirable to reduce alternate paths\n   while preserving reasonable redundancy.\
    \ For example, on a given\n   border router (such as a NAP router), one primary\
    \ path plus an\n   alternate path should provide reasonable redundancy. In this\
    \ case, a\n   third or a fourth alternate route could be discarded for the sake\
    \ of\n   scaling.  This is a trade-off decision every network administrator\n\
    \   needs to make based on the particular needs of her network.\n"
- title: 6.4.3. Use Static Route at Edges
  contents:
  - "6.4.3. Use Static Route at Edges\n   As mentioned earlier, one of the scaling\
    \ issues in large networks is\n   that a single router may fan out to hundreds\
    \ of customer routers. As\n   a result, resource consumption will be very intensive\
    \ if all the\n   customer routers communicate via BGP with the edge router. Is\
    \ it\n   necessary for the edge router to BGP with all of its attached\n   customer\
    \ routers?\n   At first glance, it seems necessary for a customer network in a\n\
    \   different Autonomous System(AS) to exchange routing information with\n   the\
    \ provider network via BGP. However, this is not necessarily the\n   case. When\
    \ a customer network is single-homed (that is, if the sole\n   network connection\
    \ for a customer is via its provider network), BGP\n   is not necessary and static\
    \ routing can work. Since the customer\n   network is single-homed, static routing\
    \ will not have any negative\n   impact on services. The advantages are that the\
    \ customer aggregation\n   router will have fewer E-BGP sessions to handle, and\
    \ no route\n   flapping can result from the statically configured customer routes.\n\
    \   Configuration of the customer's static routes on the provider's\n   aggregation\
    \ router may add management overhead, especially if a\n   customer advertises\
    \ a large number of routes. On the other hand, the\n   set of routes a customer\
    \ announces to the provider usually changes\n   infrequently; thus it requires\
    \ low maintenance once it is configured.\n"
- title: 6.4.4. Minimize the Impact of Route Flapping
  contents:
  - "6.4.4. Minimize the Impact of Route Flapping\n   As discussed earlier, route\
    \ flapping is largely caused by link\n   instability and/or BGP session instability\
    \ that results in excessive\n   routing updates across the Internet. Route flapping\
    \ can originate\n   anywhere in the global Internet and affect every network in\
    \ the\n   Internet routing mesh (BGP mesh). Given that there are over 70,000\n\
    \   routes known to the Internet and there is little isolation for route\n   flapping,\
    \ handling route flapping could be overwhelming to routers in\n   any network.\n\
    \   One way to reduce the effect of route flapping is to turn on route\n   dampening\
    \ as specified in [10]. Essentially, dampening suppresses an\n   unstable route\
    \ until it becomes stable. The current practice is for\n   each ISP to enable\
    \ route dampening on its border routers. This way,\n   excessive routing updates\
    \ can be stopped at the border.\n   An ideal model is to suppress the announcement\
    \ of a flapping route\n   right at the source. One way to implement this is to\
    \ have a router\n   recognize instability associated with its directly connected\
    \ links\n   and suppress the announcement of the route. So far, there is no such\n\
    \   implementation. This approach should be explored.\n   Route aggregation often\
    \ masks route flapping since components of an\n   aggregated route (more specific\
    \ routes) would not cause the\n   aggregated route to flap. Therefore using CIDR\
    \ can also help to\n   alleviate route flapping.\n"
- title: 6.5. Scalable Routing Policy and Scalable Implementation
  contents:
  - "6.5. Scalable Routing Policy and Scalable Implementation\n   Routing policy involves\
    \ routing decisions about acceptance and\n   advertisement of certain routes to\
    \ or from other networks and about\n   routing preference when more than one route\
    \ becomes available.\n   Routing policy enforces business agreements between network\
    \ entities\n   and is largely governed by non-technical criteria. In essence,\n\
    \   routing policy involves defining criteria for route filtering and\n   route\
    \ selection.\n   One aspect of route filtering has to do with traffic control\
    \ between\n   routing domains or between different provider networks. Making policy\n\
    \   based on individual prefixes should be avoided in this case because,\n   with\
    \ the large number of prefixes in the Internet, it does not scale.\n   Making\
    \ policy based on ASs that administratively represent a set of\n   prefixes scales\
    \ better.\n   Another purpose of route filtering is to protect the integrity of\n\
    \   routing information by preventing the acceptance of falsely\n   advertised\
    \ routing information that would lead traffic to 'black\n   holes'. In this case,\
    \ only prefix-based filtering will sufficiently\n   achieve the goal. Prefix-based\
    \ filtering needs to occur at the\n   borders between a network and its direct\
    \ customers or peer networks.\n   The filtering is harder to manage at the boundary\
    \ of the peer\n   networks since a peer network usually advertises a large amount\
    \ of\n   prefixes. As mentioned earlier, there are about 70,000 routes known\n\
    \   to the Internet. This means a large default-free network would need\n   to\
    \ filter on the order of hundred of thousands of prefixes or even\n   more since\
    \ a route could be advertised by more than one sources. The\n   sheer amount of\
    \ the prefixes to be filtered imposes challenges for\n   router configuration\
    \ memory and configuration management. To make it\n   scale, one would need to\
    \ rely on the help from an out-of-band process\n   to sort out which prefixes\
    \ should be accepted or denied from which\n   source. IRR [11] and DNS [12] are\
    \ among the current proposed\n   mechanisms for implementing prefix-based filtering.\n\
    \   Route selection policy determines which path should be used to send\n   traffic\
    \ toward a certain destination. This is important, for example,\n   when a network\
    \ has two connections to another network and learns\n   routes from both connections.\
    \ The decision involves which path to\n   select to send traffic to the customers\
    \ behind the other network. The\n   choices are typically:\n      o Directing\
    \ traffic to the closest interconnection point for\n        traffic to exit the\
    \ network. This policy is also known as Hot-\n        Potato-Routing\n      o\
    \ Directing traffic to the optimal network exit point. The optimal\n        exit\
    \ point is determined based on certain criteria by the\n        network administrator\
    \ and is not necessary the closest exit\n        point\n      o Always preferring\
    \ routes advertised by directly connected\n        customers\n      o Allowing\
    \ other network or customer to determine the path\n   When a policy is defined,\
    \ its implications for scalable\n   implementation need to be considered. For\
    \ example, if the policy\n   allows customers to determine which paths traffic\
    \ follows, customers,\n   not the provider, should be required to set routing\
    \ parameters to\n   make the routing favor their preferred path. Customers can\
    \ use the\n   BGP community or mechanisms such as MED to set routing preferences\
    \ in\n   a much more scalable way. This avoids putting such routing management\n\
    \   burdens solely on the provider. Distributing the routing management\n   burden\
    \ makes the policy implementation more scalable.\n   Another scaling measure is\
    \ to avoid making complex policy. When\n   routing policy is complex, management,\
    \ such as configuration of the\n   router and debugging, would be a problem. The\
    \ ultimate goal is to\n   make the network manageable.\n   The following basic\
    \ principles would help scale the routing policy\n   management.\n      o Making\
    \ policies as simple as possible but meet the requirements\n      o Automating\
    \ as much as possible to avoid error-prone manual work\n      o Avoiding policy\
    \ based on individual prefixes as much as possible\n        with the exception\
    \ of prefix-based route filtering for\n        protecting routing integrity\n\
    \      o Avoiding making exceptions\n      o Using out-of-band routing policy\
    \ processing where possible\n"
- title: 6.6. Out-of-Band Process
  contents:
  - "6.6. Out-of-Band Process\n   A typical router assumes both routing and forwarding\
    \ functions.\n   However, conceptually, routing and forwarding are two separate\n\
    \   processes. A router's ultimate task is to forward packets based on\n   its\
    \ forwarding table, which is derived from routing information. One\n   of the\
    \ main causes of route scaling problems is that routers run out\n   of processing\
    \ power because routing requires too much processing.\n   While a router has to\
    \ forward packets, it does not necessarily have\n   to exchange and process routing\
    \ information or execute routing\n   policy; these tasks can be performed elsewhere.\
    \ Thus the question\n   should be: Would it be possible to remove the routing\
    \ process from a\n   router to reduce its burden? Moving the routing process from\
    \ the\n   routers to other systems is referred to as out-of-band route\n   processing.\n\
    \   Out-of-band route processes would, in short, perform the heavy-duty\n   routing\
    \ tasks. They would build a forwarding table for the router,\n   select routes\
    \ based on pre-defined policy, filter routes, and shield\n   the router from route\
    \ flapping attacks.\n   The shortcomings of out-of-band route processing are the\
    \ possible\n   introduction of delays in routing changes; the de-coupling of routing\n\
    \   and forwarding paths, which could introduce inaccurate routing\n   information;\
    \ and the cost of extra equipment.\n   Appendix A presents a current example of\
    \ out-of-band route\n   processing. It also suggests other possible solutions.\n"
- title: 7. Conclusion and Discussion
  contents:
  - "7. Conclusion and Discussion\n   How routing scales has a direct impact on network\
    \ stability and\n   performance. With the fast growth of the Internet and consequent\n\
    \   expansion of providers' networks, routing scaling become increasingly\n  \
    \ an important issue to address. This document identifies the major\n   factors\
    \ that affect route scalability and establishes basic\n   principles for designing\
    \ scalable routing in large networks.\n   The major routing scaling issues we\
    \ are facing today are excessive\n   router resource consumption due to routing\
    \ processing burdens causing\n   routing convergency difficulties thus introducing\
    \ network\n   instability; and routing complexity resulting in difficulties of\n\
    \   management and trouble shooting causing degradation of service.\n   The outlined\
    \ principles for designing a scalable routing system are\n   building routing\
    \ hierarchy; introducing fault isolation; reducing\n   routing processing burden\
    \ where possible; defining manageable routing\n   policies and using the assistance\
    \ of available out-of-band routing\n   process.\n   The use of out-of-band resources\
    \ to assist routing processing is a\n   concept only been used in the Internet\
    \ Exchange Points (IXPs).\n   However, it could potentially be used to advantage\
    \ within a network\n   to help addressing routing scaling issues. This is a topic\
    \ worthy of\n   further exploration.\n   Routing protocols and/or their implementations\
    \ can still be improved\n   or enhanced for better handling of the scaling issues.\
    \ For example,\n   the IS-IS multiple level mechanism is needed in order to scale\
    \ the\n   IGP in large network. Also, using multicast or a reliable flooding\n\
    \   mechanism for I-BGP updates instead of pairwise full mesh peering is\n   something\
    \ worth investigating.\n   It is our belief that even with the deployment of new\
    \ technologies\n   such as DWDM, MPLS and others in the future, the fundamental\
    \ routing\n   scheme will remain the current IGP/BGP paradigm.  Therefore, the\n\
    \   scalable routing design principles outlined in this document should\n   still\
    \ apply with the deployment of new technologies.\n"
- title: 8. Security Considerations
  contents:
  - "8. Security Considerations\n   This document deals with routing scaling issues\
    \ and thus is unlikely\n   to have a direct impact on security.\n   However, certain\
    \ routing scaling improvement mechanisms suggested in\n   the document, such as\
    \ network compartmentalization, will possibly\n   alleviate network outages caused\
    \ by denial-of-service attacks since\n   it would help prevent such outages from\
    \ spreading to the entire\n   network.\n   Although the mechanisms described in\
    \ this document do not enhance or\n   weaken the security aspect of routing protocols,\
    \ it is worth\n   indicating here that security enhancement of routing protocols\
    \ or\n   routing mechanisms may impact routing scalability. Therefore, when\n\
    \   applying security enhancement in routing, one has to be aware of the\n   implications\
    \ on scalability.\n   For example, TCP MD5 signature option is proposed to be\
    \ a mechanism\n   to protect BGP sessions from being spoofed [13]. It is done\
    \ on a\n   per-session basis and the overhead of MD-5 extensions are minimal\n\
    \   thus has no direct impact on scalability. There have been concerns\n   about\
    \ doing per-prefix AS path verification as any one ISP along a\n   path could\
    \ have forged or modified information (maliciously or not).\n   One extreme solution\
    \ is to have a signature for each prefix which\n   gives very strong security\
    \ but presents enormous scaling issues in\n   terms of processing, memory and\
    \ administrative overhead.\n"
- title: 9. Acknowledgement
  contents:
  - "9. Acknowledgement\n   Special thanks to Curtis Villamizar and Dave Katz for\
    \ the extensive\n   review of the document and many helpful comments. Many thanks\
    \ to\n   Yakov Rekhter, Noel Chiappa and Rob Coltun for their insightful\n   comments.\
    \ The author also like to thank Susan R. Harris for the much\n   needed polishing\
    \ of English language in the document.\n   The author was made aware after the\
    \ publication of this document that\n   there is a relevant and independent presentation\
    \ made by Enke Chen on\n   the subject. The presentation is thus referenced in\
    \ [14].\n"
- title: 10. References
  contents:
  - "10. References\n   [1]  \"Intermediate System to Intermediate System Intra-Domain\n\
    \        Routeing Exchange Protocol for use in Conjunction with the\n        Protocol\
    \ for Providing the Connectionless-mode Network Service\n        (ISO 8473)\"\
    , ISO DP 10589, February 1990.\n   [2]  Callon, R., \"Use of OSI IS-IS for Routing\
    \ in TCP/IP and Dual\n        Environments\", RFC 1195, December 1990.\n   [3]\
    \  Moy, J., \"OSPF Version 2\", RFC 2328, April 1998.\n   [4]  Rekhter, Y. and\
    \ T. Li, \"A Border Gateway Protocol 4 (BGP-4)\",\n        RFC 1771, March 1995.\n\
    \   [5]  C. Labovitz, R. Malan, F. Jahanian, \"Origins of Internet Routing\n \
    \       Instability,\" in the Proceedings of INFOCOM99, New York, NY,\n      \
    \  June, 1999\n   [6]  J. Moy, \"OSPF-Anatomy of an Internet Routing Protocol\"\
    ,\n        Addison-Wesley, January 1998.\n   [7]  Bates, T., Chandra, R. and E.\
    \ Chen, \"BGP Route Reflection - An\n        alternative to full mesh IBGP\",\
    \ RFC 2796, April 2000.\n   [8]  Traina, P., \"Autonomous System Confederation\
    \ Approach to Solving\n        the I-BGP Scaling Problem\", RFC 1965, June 1996.\n\
    \   [9]  Curtis, V., Chandra, R. and R. Govindan, \"BGP Route Flap\n        Damping\"\
    , RFC 2439, November 1998.\n   [10] Fuller, V., Li, T., Yu, J. and K. Varadhan\
    \ \"Classless Inter-\n        Domain Routing (CIDR): an Address Assignment and\
    \ Aggregation\n        Strategy\", RFC 1519, September 1993.\n   [11] Villamizar,\
    \ C., Alaettinoglu, C., Govindan, R. and D. Meyer,\n        \"Routing Policy System\
    \ Replication\", RFC 2769, February 2000.\n   [12] Bates, T., Bush, R., Li, T.\
    \ and Y. Rekhter, \"DNS-based NLRI\n        origin AS verification in BGP\", Work\
    \ in Progress.\n   [13] Heffernan, A., \"Protection of BGP Sessions via the TCP\
    \ MD5\n        Signature Option\", RFC 2385, August 1998.\n   [14] E. Chen, \"\
    Routing Scalability in Backbone Networks.\" Nanog\n        Presentation: http://www.nanog.org/mtg-9901/ppt/enke/index.htm\n\
    \   [15] T. Li, T. Przygienda, H. Smit,  \"Domain-wide Prefix Distribution\n \
    \       with Two-Level IS-IS\", Work in Progress.\n"
- title: Author's Address
  contents:
  - "Author's Address\n   Jieyun (Jessica) Yu\n   CoSine Communications\n   1200 Bridge\
    \ Parkway\n   Redwood City, CA  94065\n   EMail: jyy@cosinecom.com\n"
- title: Appendix A. Out-of-Band Routing Processes
  contents:
  - "Appendix A. Out-of-Band Routing Processes\n   The use of a Route Server(RS) at\
    \ NAPs is an example of achieving\n   routing scalability through an out-of-band\
    \ routing process. A NAP is\n   a public inter-connection point where ISP networks\
    \ exchange traffic.\n   ISP routers at a NAP establish BGP peer sessions with\
    \ each other. The\n   result is full mesh E-BGP peering with a complexity of O(N^2)\
    \ system\n   wide. When the RS is in place, each router peers only with the RS\n\
    \   (and its backup) to obtain necessary routing information (or more\n   precisely,\
    \ the necessary forwarding information). In addition, the RS\n   also filters\
    \ routes and executes policy for each provider's router,\n   which further reduces\
    \ the burden on all routers involved.\n   The concept of the Route Server can\
    \ also be used to help address\n   routing scalability in a large network.\n \
    \  1) RS Assisted Peering between Customer Aggregation Router and\n   Customer\
    \ Routers\n   Currently, in a typical large provider network, it's not unusual\
    \ that\n   a customer aggregation router connects up to hundreds of customer\n\
    \   routers. That means the router has to handle hundreds of E-BGP\n   sessions\
    \ and filter a large number of prefixes. These tasks impose a\n   heavy burden\
    \ on the aggregation router. Reducing the number of\n   customer routers per aggregation\
    \ router is not an optimal option,\n   since this would introduce more routers\
    \ in the routing system of the\n   whole network, which is neither scalable for\
    \ backbone routing, nor\n   cost efficient. Using an RS between customers and\
    \ the providers'\n   customer aggregation router become an attractive option to\
    \ reduce the\n   burden on the router.\n   Figure 1 shows one way of incorporating\
    \ an RS router between a\n   provider's customer aggregation router and customer\
    \ routers.\n                ---------------------------  LAN Media in a POP\n\
    \                        |           |\n                      -----        -----\n\
    \                      |CR |        |RS |\n                      -----       \
    \ -----\n                      / | \\\n                     /  |  \\\n       \
    \             C1  C2..Cn\n         Figure 1: RS serving customer aggregation router\
    \ connecting\n                   customer routers\n   In a scenario without an\
    \ RS, the customer aggregation router(CR) has\n   to peer with customer routers\
    \ C1, C2 ... Cn (where n could be in the\n   hundreds). When an RS router is introduced,\
    \ CR, C1, C2 ... Cn peer\n   with the RS router instead, and the RS passes the\
    \ processed routing\n   information (or forwarding information) to all of them,\
    \ according to\n   policy and filters.\n   The advantages are obvious:\n     \
    \ o The customer aggregation router peers only with the RS router\n        instead\
    \ of with hundreds of customer routers.\n      o The customer aggregation router\
    \ does not need to filter prefixes\n        or process routing policies, which\
    \ frees resources for packet\n        forwarding and handling.\n   One general\
    \ concern with the use of an RS router is the possibility\n   of a mismatch of\
    \ routing connectivity and the physical connectivity.\n   For example, if the\
    \ link between the CR and C1 is down and if the RS\n   router is not aware of\
    \ the outage, it will continue to pass routes\n   from C1 to the CR, and the traffic\
    \ following these routes will be\n   black holed. However, this is not a problem\
    \ in the specific\n   application described here. This is because the RS router\
    \ has to go\n   through the CR to peer with C1, C2 ... Cn. When the link is down,\
    \ C1\n   is inaccessible from the RS router, and no routing information can be\n\
    \   exchanged between the two. Consequently, the RS will announce no\n   routes\
    \ related to C1.\n   Another concern is the creation of single point of failure.\
    \ If the RS\n   router is down, no routing information can be exchanged between\
    \ the\n   customer aggregation router and C1, C2 ... Cn, and no traffic will\n\
    \   flow between them. This problem could be addressed by adding a second\n  \
    \ RS router as a backup.\n   In this scenario, since RS peers with C1 ... Cn via\
    \ CR, it requires\n   that when the RS router passes routing information to C1...Cn,\
    \ it\n   designates the IP address of the CR as the next hop. Likewise, when\n\
    \   the RS router passes routes from each customer router to the customer\n  \
    \ aggregation router, it needs to place the correct next hop on the\n   route.\
    \ Modifications need to be made to the RS code to include this\n   function.\n\
    \   2) Private RS Router at InterExchange Point\n   A large provider network often\
    \ has many BGP peers at the\n   Interexchange Point, NAP or private interconnection.\
    \ This means a\n   border router has to handle many E-BGP sessions. Since an\n\
    \   Interconnect points is usually the administrative boundary between\n   ISPs,\
    \ policy and route filtering are very demanding. This imposes a\n   scaling problem\
    \ on the border router.\n   Deploying many routers to distribute the load among\
    \ them is an\n   expensive solution: extra hardware and extra ports cost money.\n\
    \   Shifting the routing burden to an RS router is a promising\n   alternative\
    \ solution. In the case of using RS for multiple peers at a\n   private interexchange\
    \ point, the scenario is similar to RS used\n   between customer aggregation router\
    \ and customer routers as described\n   in 1) above. In the case of such peering\
    \ at a NAP, the private RS\n   could be placed either on the same NAP media or\
    \ a private media\n   between the ISP's NAP router and the RS.\n   3) RS Routers\
    \ at Each POP in a Large Network\n   Even in a network with a hierarchical routing\
    \ structure, a sub-area\n   may become too large, and I-BGP full meshing may impose\
    \ a scaling\n   problem. One way to address this would be to split the sub-area\
    \ or\n   add yet another tier of I-BGP reflector structure. Another possible\n\
    \   solution would be to use an RS router as an I-BGP Server. Depending\n   on\
    \ the topology of a POP, this solution may or may not be suitable.\n   The use\
    \ of RS routers at network POPs need to be investigated\n   further.\n"
- title: Full Copyright Statement
  contents:
  - "Full Copyright Statement\n   Copyright (C) The Internet Society (2000).  All\
    \ Rights Reserved.\n   This document and translations of it may be copied and\
    \ furnished to\n   others, and derivative works that comment on or otherwise explain\
    \ it\n   or assist in its implementation may be prepared, copied, published\n\
    \   and distributed, in whole or in part, without restriction of any\n   kind,\
    \ provided that the above copyright notice and this paragraph are\n   included\
    \ on all such copies and derivative works.  However, this\n   document itself\
    \ may not be modified in any way, such as by removing\n   the copyright notice\
    \ or references to the Internet Society or other\n   Internet organizations, except\
    \ as needed for the purpose of\n   developing Internet standards in which case\
    \ the procedures for\n   copyrights defined in the Internet Standards process\
    \ must be\n   followed, or as required to translate it into languages other than\n\
    \   English.\n   The limited permissions granted above are perpetual and will\
    \ not be\n   revoked by the Internet Society or its successors or assigns.\n \
    \  This document and the information contained herein is provided on an\n   \"\
    AS IS\" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING\n   TASK FORCE\
    \ DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING\n   BUT NOT LIMITED\
    \ TO ANY WARRANTY THAT THE USE OF THE INFORMATION\n   HEREIN WILL NOT INFRINGE\
    \ ANY RIGHTS OR ANY IMPLIED WARRANTIES OF\n   MERCHANTABILITY OR FITNESS FOR A\
    \ PARTICULAR PURPOSE.\n"
- title: Acknowledgement
  contents:
  - "Acknowledgement\n   Funding for the RFC Editor function is currently provided\
    \ by the\n   Internet Society.\n"
