- contents:
  - "         Mapping Between the Multimedia Messaging Service (MMS)\n                           and
    Internet Mail\n"
  title: __initial_text__
- contents:
  - "Status of This Memo\n   This document specifies an Internet standards track protocol
    for the\n   Internet community, and requests discussion and suggestions for\n
    \  improvements.  Please refer to the current edition of the \"Internet\n   Official
    Protocol Standards\" (STD 1) for the standardization state\n   and status of this
    protocol.  Distribution of this memo is unlimited.\n"
  title: Status of This Memo
- contents:
  - "Copyright Notice\n   Copyright (C) The Internet Society (2006).\n"
  title: Copyright Notice
- contents:
  - "Abstract\n   The cellular telephone industry has defined a service known as the\n
    \  Multimedia Messaging Service (MMS).  This service uses formats and\n   protocols
    that are similar to, but differ in key ways from, those\n   used in Internet mail.\n
    \  One important difference between MMS and Internet Mail is that MMS\n   uses
    headers that start with \"X-Mms-\" to carry a variety of user\n   agent- and server-related
    information elements.\n   This document specifies how to exchange messages between
    these two\n   services, including mapping information elements as used in MMS\n
    \  X-Mms-* headers as well as delivery and disposition reports, to and\n   from
    that used in SMTP and Internet message headers.\n"
  title: Abstract
- contents:
  - "Table of Contents\n   1. Introduction ....................................................2\n
    \     1.1. Scope ......................................................2\n      1.2.
    Conventions Used in This Document ..........................3\n      1.3. Definitions
    ................................................3\n      1.4. Abbreviations ..............................................4\n
    \     1.5. Assumptions ................................................4\n   2.
    Mapping Between MMS and Internet Mail ...........................4\n      2.1.
    Mapping Specification ......................................5\n           2.1.1.
    MMS to Internet Mail ................................5\n           2.1.2. Internet
    Mail to MMS ................................5\n           2.1.3. MMS Information
    Element Mappings ....................6\n           2.1.4. Report Generation and
    Conversion ...................20\n           2.1.5. Message Delivery ...................................27\n
    \  3. Security Considerations ........................................27\n   4.
    IANA Considerations ............................................27\n   5. Acknowledgements
    ...............................................27\n   6. Normative References
    ...........................................27\n   7. Informative References .........................................29\n"
  title: Table of Contents
- contents:
  - '1.  Introduction

    '
  - contents:
    - "1.1.  Scope\n   This document describes how to exchange messages between Multimedia\n
      \  Messaging Service (MMS) systems (as defined by [3GPP][3GPP2][OMA])\n   and
      Internet mail systems (that is, [SMTP] and [Msg-Fmt]).  This\n   includes the
      translation of message formats, message header elements,\n   message delivery
      reports [DSN-Msg], and message disposition reports\n   [MDN].\n   The MMS architecture
      [Stage_2] and specifications [Stage_3] refer to\n   interfaces as reference
      points named MMx.  For example, MM1 is the\n   client-server interface, MM4
      is the server-server interface, and MM3\n   is an interface to \"external\"
      or non-MMS systems.  The specification\n   in this document can be used for
      message exchange between any system\n   that uses Internet message formats and
      protocols and an MMS system;\n   from the perspective of the MMS system, reference
      point MM3 is used.\n   This document includes support for voice messages specified
      by the\n   Voice Profile for Internet Mail [VPIM].  The VPIM specification\n
      \  allows voice messages to be exchanged between voice mail systems\n   using
      the Internet mail format [Msg-Fmt] and transported via [SMTP].\n   Thus, the
      MMS MM3 interface supports the ability to exchange voice\n   messages between
      an MMS system and a voice mail system.  Note that\n   such use is distinct from
      voice media being part of a user-composed\n   multimedia message.\n   Note that
      MM3 can also be used for interworking with \"external\"\n   (non-MMS) systems
      other than Internet mail, such as Short Messaging\n   Service (SMS) and access
      to external mail stores (such as a voice\n   mail system).  This specification
      does not address these other uses\n   or sub-interfaces of MM3; it is only concerned
      with Internet mail\n   interworking and specifically exchange of messages.\n
      \  All MM3 Stage 2 [Stage_2] functions are supported except for reply\n   charging
      and sender address hiding.\n"
    title: 1.1.  Scope
  - contents:
    - "1.2.  Conventions Used in This Document\n   The key words \"REQUIRED\", \"MUST\",
      \"MUST NOT\", \"SHOULD\", \"SHOULD NOT\",\n   and \"MAY\" in this document are
      to be interpreted as described in \"Key\n   Words for Use in RFCs to Indicate
      Requirement Levels\" [KEYWORDS].\n"
    title: 1.2.  Conventions Used in This Document
  - contents:
    - "1.3.  Definitions\n   --------------------|----------------------------------------------\n
      \  Body                |The portion of an [SMTP] message's Content\n                       |following
      the Header (that is, following the\n                       |first blank line).
      \ The Body may contain\n                       |structured parts and sub-parts,
      each of which\n                       |may have its own Header and Body.  The
      Body\n                       |contains information intended for the message\n
      \                      |recipient (human or software).\n   --------------------|----------------------------------------------\n
      \  Content             |The portion of an SMTP message that is\n                       |delivered.
      \ The Content consists of a Header\n                       |and a Body.\n   --------------------|----------------------------------------------\n
      \  Disposition Report  |Feedback information to an originator User\n                       |Agent
      by a recipient User Agent about\n   Message Disposition |handling of an original
      message.  This may\n      Notification     |include notification that the message
      was or\n                       |was not read, was deleted unread, etc.\n   --------------------|----------------------------------------------\n
      \  Envelope            |The portion of an SMTP message not included in\n                       |the
      Content, that is, not in the Header or in\n                       |the Body.
      \ While some of it may be copied into\n                       |the Content on
      delivery, envelope information\n                       |exists only while the
      message is in transit,\n                       |and contains information used
      by SMTP agents\n                       |(Mail Transfer Agents (MTAs)).\n   --------------------|----------------------------------------------\n
      \  Gateway             |See [SMTP], Section 2.3.8.\n   --------------------|----------------------------------------------\n
      \  --------------------|----------------------------------------------\n   Header
      \             |The first part of an SMTP message's Content.\n                       |The
      Header is separated from the Body by a\n                       |blank line.
      \ The Header consists of Fields\n                       |(such as \"To:\"),
      also known as Header Fields\n                       |or Headers.  The message
      Header contains\n                       |information used by User Agents.\n
      \  --------------------|----------------------------------------------\n   Relay/Server
      \       |An MMS server.  See [Stage_2].  For purposes\n                       |of
      this document, an MMS Relay/Server acts as\n                       |a gateway
      when it receives or sends messages\n                       |via Internet mail.\n
      \  --------------------|----------------------------------------------\n   User
      Agent          |An MMS or email user agent.\n   --------------------|----------------------------------------------\n"
    title: 1.3.  Definitions
  - contents:
    - "1.4.  Abbreviations\n   --------|----------------------------------------------------------\n
      \  MSA     |Message Submission Agent.  A server that accepts messages\n           |from
      User Agents and processes them, either delivering\n           |them locally
      or relaying to an MTA.  See [Submission].\n   --------|----------------------------------------------------------\n
      \  MTA     |Mail Transfer Agent.  A server that implements [SMTP].\n   --------|----------------------------------------------------------\n"
    title: 1.4.  Abbreviations
  - contents:
    - "1.5.  Assumptions\n   It is assumed that the reader is already familiar with
      the contents\n   of the 3GPP2 MMS Specification Overview [Overview], MMS Stage
      1\n   (requirements) [Stage_1] and Stage 2 (architecture and abstract\n   messages)
      [Stage_2], and 3GPP/3GPP2 Stage 3 (protocols) [Stage_3]\n   documents.  It is
      also assumed that the reader is familiar with\n   Internet mail, especially
      RFC 2821 [SMTP] and RFC 2822 [Msg-Fmt].\n"
    title: 1.5.  Assumptions
  title: 1.  Introduction
- contents:
  - "2.  Mapping Between MMS and Internet Mail\n   This section defines the interworking
    between MMS Relay/Servers and\n   External Servers using native [SMTP].  That
    is, information elements\n   are exchanged using standard Internet message [Msg-Fmt]
    header\n   fields, such as those in [Hdrs], and standard [SMTP] elements.\n   SMTP
    and Internet mail extensions are used for features such as\n   delivery reports,
    message expiration, and discovery of server support\n   for optional features.\n"
  - contents:
    - '2.1.  Mapping Specification

      '
    - contents:
      - "2.1.1.  MMS to Internet Mail\n   When sending a message to an Internet mail
        system, the MMS\n   Relay/Server MUST convert the MM if required, and MUST
        comply with\n   the requirements of [SMTP].\n   The MMS Relay/Server SHOULD
        use the information elements associated\n   with the MM to define the control
        information (Internet message\n   header fields and SMTP envelope values)
        needed for the transfer\n   protocol.\n   Section 2.1.3 lists the mappings
        between X-Mms-* headers and Internet\n   message header fields and SMTP values.\n
        \  Delivery and read report MMs SHOULD be converted to standard Internet\n
        \  message report format (multipart/report).  In addition to converting\n
        \  Internet Message reports, the MMS Relay/Server MUST generate delivery\n
        \  and read report MMs for received messages as appropriate.  See\n   Section
        2.1.4 for more information.\n"
      title: 2.1.1.  MMS to Internet Mail
    - contents:
      - "2.1.2.  Internet Mail to MMS\n   When receiving a message from an Internet
        mail system, the MMS\n   Relay/Server converts incoming messages to the MM
        format used within\n   the receiving system.\n   The MMS Relay/Server converts
        control information received from the\n   Internet mail server into appropriate
        information elements of an MM.\n   Section 2.1.3 lists the mappings between
        X-Mms-* headers and Internet\n   message header fields and SMTP values.\n
        \  Standard Internet message report format (multipart/report) messages\n   MAY
        be converted to delivery or read report MMs, as appropriate.  In\n   addition
        to converting report MMs, implementations conforming to this\n   document
        MUST generate standard Internet message delivery and\n   disposition reports
        for received Internet messages as appropriate.\n   See Section 2.1.4 for more
        information.\n"
      title: 2.1.2.  Internet Mail to MMS
    - contents:
      - "2.1.3.  MMS Information Element Mappings\n   The mappings between MMS elements
        and SMTP/Internet message elements\n   ([SMTP] parameters, [Msg-Fmt] headers,
        and [DSN-Msg] fields) are\n   summarized in table 1 below, and detailed in
        subsequent sections.\n   The \"MMS Headers\" are from [OMA-MMS].  Note that
        only information\n   elements that need to be mapped are listed. [Msg-Fmt]
        headers not\n   listed here SHOULD be passed unaltered.\n"
      - contents:
        - "2.1.3.1.  Table 1:  Information Element Mappings\n   =================|=================|================|==============\n
          \  Information Elem |[SMTP] Element   |[Msg-Fmt] Header|MMS Header\n   =================|=================|================|==============\n
          \  3GPP MMS Version |N/A              |N/A             |X-Mms-3GPP-MMS\n
          \                   |                 |                |   -Version:\n   _________________|_________________|________________|______________\n
          \  Message Type     |N/A              |N/A             |X-Mms-Message-\n
          \  (of PDU)         |                 |                |   Type:\n   _________________|_________________|________________|______________\n
          \  Transaction ID   |N/A              |N/A             |X-Mms-Transact\n
          \                   |                 |                |   ion-Id:\n   _________________|_________________|________________|______________\n
          \  Message ID       |N/A              |Message-ID:     |Message-ID:\n   _________________|_________________|________________|______________\n
          \  Recipient        |RCPT TO          |To:, Cc:, or    |To:, Cc:, Bcc:\n
          \  address(es)      |address(es)      |omitted (Bcc)   |\n   _________________|_________________|________________|______________\n
          \  Sender's address |MAIL FROM        |From:           |From:\n                    |address
          if       |                |\n                    |user-originated; |                |\n
          \                   |MUST set MAIL    |                |\n                    |FROM
          to null     |                |\n                    |(\"<>\") for all   |
          \               |\n                    |automatically-   |                |\n
          \                   |generated MMs    |                |\n   _________________|_________________|________________|______________\n
          \  Content type     |N/A              |Content-Type:   |Content-type:\n
          \                   |                 |                |\n                    |
          \                |For voice mes-  |\n                    |                 |sages
          compliant |\n                    |                 |to [VPIM], see  |\n
          \                   |                 |Note 2          |\n   _________________|_________________|________________|______________\n
          \  =================|=================|================|==============\n
          \  Information Elem |[SMTP] Element   |[Msg-Fmt] Header|MMS Header\n   =================|=================|================|==============\n
          \  Message class    |Class=auto:      |MAY set 'Prece  |X-Mms-Message-\n
          \                   |MUST set MAIL    |   dence: bulk' |   Class:\n                    |FROM
          to null     |on class=auto   |\n                    |(\"<>\").          |
          \               |\n   _________________|_________________|________________|______________\n
          \  Date and time    |N/A              |Date:           |Date:\n   of submission
          \   |                 |                |\n   _________________|_________________|________________|______________\n
          \  Time of expiry   |DELIVER-BY       |N/A             |X-Mms-Expiry:\n
          \                   |[Deliver-By]     |                |\n   _________________|_________________|________________|______________\n
          \  Earliest deliv-  |(only for submis-|N/A             |X-Mms-Delivery\n
          \  ery time         |sion; not relay) |                |   -Time:\n   _________________|_________________|________________|______________\n
          \  Delivery report  |DSN [DSN-SMTP]   |N/A             |X-Mms-Delivery\n
          \  request          |SHOULD also      |                |   -Report:\n                    |specify
          recip-   |                |\n                    |ient address as  |                |\n
          \                   |ORCPT; SHOULD    |                |\n                    |also
          specify     |                |\n                    |ENVID            |
          \               |\n   _________________|_________________|________________|______________\n
          \  Importance (a/k/a|N/A              |Importance:     |X-Mms-\n   \"priority\")
          \     |                 |                |   Priority:\n                    |
          \                |                |\n                    |                 |
          \               |\n   _________________|_________________|________________|______________\n
          \  Sender visib-    |(not currently   |(not currently  |X-Mms-Sender-\n
          \  ility            |supported)       |supported)      |   Visibility:\n
          \  _________________|_________________|________________|______________\n
          \  Read reply       |N/A              |Disposition-    |X-Mms-Read-\n   request
          \         |                 |   Notification |   Reply:\n                    |
          \                |   -To: [MDN]   |\n   _________________|_________________|________________|______________\n
          \  Reply-charging   |(not currently   |(not currently  |X-Mms-Reply-\n   permission
          \      |supported)       |supported)      |   Charging:\n   _________________|_________________|________________|______________\n
          \  Reply-charging   |(not currently   |(not currently  |X-Mms-Reply-\n   permission
          \      |supported)       |supported)      |   Charging-\n   deadline         |
          \                |                |   Deadline:\n   _________________|_________________|________________|______________\n
          \  Reply-charging   |(not currently   |(not currently  |X-Mms-Reply-\n   permission
          \      |supported)       |supported)      |   Charging-\n   limitation       |
          \                |                |   Size:\n   _________________|_________________|________________|______________\n
          \  =================|=================|================|==============\n
          \  Information Elem |[SMTP] Element   |[Msg-Fmt] Header|MMS Header\n   =================|=================|================|==============\n
          \  Reply charging   |(not currently   |(not currently  |X-Mms-Reply-\n   usage
          request    |supported)       |supported)      |   Charging-\n                    |
          \                |                |   Id:\n   _________________|_________________|________________|______________\n
          \  Reply charging   |(not currently   |(not currently  |X-Mms-Reply-\n   usage
          reference  |supported)       |supported)      |   Charging:\n   _________________|_________________|________________|______________\n
          \  Subject          |N/A              |Subject:        |Subject:\n   _________________|_________________|________________|______________\n
          \  Previously-sent  |N/A              |Resent-From:    |X-Mms-Previous\n
          \  by               |                 |                |   ly-Sent-By:\n
          \  _________________|_________________|________________|______________\n
          \  Previously-sent  |N/A              |Resent-Date:    |X-Mms-\n   date
          \            |                 |                |   Previously-\n                    |
          \                |                |   Sent-Date-\n                    |
          \                |                |   and-Time:\n   _________________|_________________|________________|______________\n
          \  Hop/host trace   |N/A              |Received:       |(Not sup-\n                    |
          \                |                |ported)\n   _________________|_________________|________________|______________\n
          \  Sensitivity      |N/A              |Sensitivity: see|N/A\n                    |
          \                |Note 1          |\n   _________________|_________________|________________|______________\n
          \  Content          |N/A              |<message body>  |<message body>\n
          \  =================|=================|================|==============\n
          \  Note 1:  The [VPIM] 'Sensitivity' header element indicates the\n   privacy
          requested by the message originator (values are \"personal\" or\n   \"private\");
          per [VPIM], a message recipient MUST NOT forward a\n   message with a 'Sensitivity'
          header.  Since sensitivity is not an MMS\n   feature, any messages that
          contain a 'Sensitivity:' header SHOULD NOT\n   be sent to an MMS system.\n
          \  Note 2: [VPIM] specifies how conforming messages are identified.\n"
        title: '2.1.3.1.  Table 1:  Information Element Mappings'
      - contents:
        - "2.1.3.2.  Conversion of Messages from MMS to Internet Format\n   3GPP MMS
          Version\n   The 'X-Mms-3GPP-MMS-Version:' header, if present, SHOULD be
          removed.\n   Message Type (of PDU)\n   The 'X-Mms-Message-Type:' header,
          if present, SHOULD be removed.\n   Transaction ID\n   The 'X-Mms-Transaction-Id:'
          header, if present, SHOULD be removed.\n   Message ID\n   The 'Message-Id:'
          header MUST be retained.  If not present, it MUST\n   be created, with a
          unique value, per [Msg-Fmt].\n   To facilitate the case where an MMS message
          traverses the Internet\n   prior to returning to an MMS system, implementations
          might wish to\n   retain the 'X-Mms-Message-Id:' header.  Such systems should
          be aware\n   that headers that begin with \"X-\" might be removed during
          transit\n   through Internet MTAs.\n   Recipient(s) address\n   The address
          of each recipient MUST be transmitted in the [SMTP]\n   envelope as a RCPT
          TO value.  All disclosed recipients SHOULD also\n   appear in a 'To:' or
          'Cc:' header.  At least one 'To:', 'Cc:', or\n   'Bcc:' header MUST be present.
          \ If none are present, a 'To:' header\n   SHOULD be created using empty
          group syntax whose name gives an\n   indication to a human reader, for example,
          'To:  undisclosed-\n   recipients:;'.\n   The 'To:' header SHOULD NOT appear
          more than once.  The 'Cc:' header\n   SHOULD NOT appear more than once.\n
          \  Each recipient address MUST obey the length restrictions per [SMTP].\n
          \  Current Internet Message format requires that only 7-bit US-ASCII\n   characters
          be present in headers.  Non-7-bit characters in an address\n   domain must
          be encoded with [IDN].  If there are any non-7-bit\n   characters in the
          local part of an address, the message MUST be\n   rejected.  Non-7-bit characters
          elsewhere in a header MUST be encoded\n   according to [Hdr-Enc].\n   All
          recipient addresses in the [SMTP] envelope must be fully-\n   qualified
          in accordance with [SMTP].  In particular, messages MUST\n   NOT be sent
          to an Internet mail system with an unqualified E.164\n   number (i.e., a
          number with no domain) instead of a fully-qualified\n   domain name.\n   All
          addresses in 'To:', 'Cc:', and 'Bcc:' headers MUST be in the form\n   of
          fully-qualified domains.  Unqualified E.164 numbers MUST NOT be\n   used.\n
          \  Sender address\n   The address of the message sender SHOULD appear in
          the 'From:'\n   header.\n   The address of the message sender for all user-generated
          messages\n   ('X-Mms-Message-Class:  Personal') SHOULD be transmitted in
          the\n   [SMTP] envelope as the MAIL FROM value.\n   The return addresses
          in the [SMTP] envelope must be fully-qualified\n   in accordance with [SMTP].
          \ In particular, messages MUST NOT be sent\n   to an Internet mail system
          with an E.164 number instead of a fully-\n   qualified domain name.  Note
          that qualified E.164 numbers, that is,\n   those that contain an E.164 number
          as the local-part of an address\n   that also includes a domain, are acceptable.\n
          \  The address(es) in the 'From:' header SHOULD be in the form of\n   fully-qualified
          domains.  Unqualified E.164 numbers SHOULD NOT be\n   used.\n   Because
          of the risk of mail loops, it is critical that the MAIL FROM\n   be set
          to null (\"<>\") for all automatically-generated MMs (such as\n   'X-Mms-Message-Class:
          \ Auto').  The MAIL FROM value MUST be set to\n   null for all automatically-generated
          messages.  This includes\n   reports, \"out-of-office\" replies, etc.\n
          \  Current Internet message format requires that only 7-bit US-ASCII\n   characters
          be present in headers.  Non-7-bit characters in an address\n   domain must
          be encoded with [IDN].  If there are any Non-7-bit\n   characters in the
          local part of an address, the message MUST be\n   rejected.  Non-7-bit characters
          elsewhere in a header MUST be encoded\n   according to [Hdr-Enc].  Note
          that it would be possible to define an\n   [SMTP] extension to permit transmission
          of unencoded 8-bit\n   characters, but in the absence of such an extension
          [Hdr-Enc] MUST be\n   used.\n   The sender address MUST obey the length
          restrictions of [SMTP].\n   Content type\n   The 'Content-Type:' header
          SHOULD be preserved.\n   Message class\n   The 'X-Mms-Message-Class:' header
          MAY be retained in order to provide\n   information on the source of the
          message.  A 'Precedence:  bulk'\n   header MAY be inserted for class=auto
          or class=advertisement.  See\n   'Sender Address' above. (Class=personal
          and class=informational do\n   not require special handling.)\n   Time of
          Expiry\n   The 'X-Mms-Expiry:' header, if present, SHOULD be removed.\n
          \  The remaining time until the message is considered expired SHOULD be\n
          \  transmitted in the [SMTP] envelope by using the DELIVER-BY extension\n
          \  with a by-mode of \"R\", as specified in [Deliver-By].\n   Note that
          the [SMTP] DELIVER-BY extension carries time remaining\n   until expiration;
          each server decrements the value by the amount of\n   time it has possessed
          the message.  The 'X-Mms-Expiry:' header may\n   contain either the absolute
          time at which the message is considered\n   expired or the relative time
          until the message is considered expired.\n   Earliest delivery time\n   The
          'X-Mms-Delivery-Time:' header, if present, SHOULD be removed.\n   Future
          delivery is a message submission (e.g., [Submission]), not\n   message relay
          feature.\n   Delivery report request\n   Requests for delivery status notifications
          (DSNs) SHOULD be\n   transmitted in the [SMTP] envelope by using the DSN
          extension as\n   specified in [DSN-SMTP] to request \"success\" or \"none\"
          notification\n   (depending on the value of the 'X-Mms-Delivery-Report'
          header).  When\n   the NOTIFY extension is used, the unaltered recipient
          address SHOULD\n   be transmitted as the ORCPT value.\n   The 'X-Mms-Delivery-Report:'
          header, if present, SHOULD be removed.\n   Importance\n   The message sender's
          importance value (also called \"priority\",\n   although this can be confused
          with class-of-service values) SHOULD be\n   transmitted using an 'Importance:'
          header.\n   Suggested mappings are shown in Table 2:\n"
        - contents:
          - "2.1.3.2.1.  Table 2:  Importance Mappings (MMS to Internet Message)\n
            \     ---------------------------|------------------\n      'X-Mms-Priority:
            High'     |'Importance: High'\n      ---------------------------|------------------\n
            \     'X-Mms-Priority: Normal'   |[omit]\n      ---------------------------|------------------\n
            \     'X-Mms-Priority: Low'      |'Importance: Low'\n      ---------------------------|------------------\n
            \  Normal importance messages should omit the 'Importance:' header.\n
            \  The 'X-Mms-Priority:' header, if present, SHOULD be removed.\n   Sender
            visibility\n   Support for sender address hiding is not currently supported.\n
            \  A message that contains an 'X-Mms-Sender-Visibility:' header with a\n
            \  value of 'Hide' SHOULD be rejected.\n   The 'X-Mms-Sender-Visibility:'
            header, if present, SHOULD be removed.\n   Read reply request\n   A request
            for a read reply SHOULD be transmitted using a\n   'Disposition-Notification-To:'
            header as specified in [MDN].\n   The 'X-Mms-Read-Reply:' header, if present,
            SHOULD be removed.\n   Reply charging\n   Reply charging permission and
            acceptance are complex issues requiring\n   both user agent and server
            support.  Misapplied reply charging may\n   cause incorrect billing.  Until
            the security issues have been\n   properly addressed, reply charging SHOULD
            NOT be honored when using\n   this interface.\n   The 'X-Mms-Reply-Charging:',
            'X-Mms-Reply-Charging-Deadline:', 'X-\n   Mms-Reply-Charging-Size:', and
            'X-Mms-Reply-Charging-Id:' headers MAY\n   be removed.  Messages containing
            a reply-charging usage request ('X-\n   Mms-Reply-Charging-Id:' and 'X-Mms-Reply-Charging:
            accepted' or 'X-\n   Mms-Reply-Charging: accepted (text only)' headers)
            SHOULD be\n   rejected.\n   Subject\n   The 'Subject:' header MUST be
            preserved.  The current Internet\n   message format requires that only
            7-bit US-ASCII characters be\n   present.  Other characters MUST be encoded
            according to [Hdr-Enc].\n   Note that it is possible for an [SMTP] extension
            to be defined that\n   would permit transmission of unencoded 8-bit characters,
            but in the\n   absence of such an extension, [Hdr-Enc] MUST be used.\n
            \  Resending\n   A message may be resent to one or more new recipients.
            \ It may be\n   resent more than once, each time new 'Resent-' headers
            are added at\n   the top of the existing headers.  Thus, if more than
            one series of\n   'Resent-' headers are present, the original series is
            the last; the\n   most recent is the first.\n   Forward counter\n   An
            'X-Mms-Forward-Counter:' header, if present, SHOULD be removed.\n   The
            'Resent-Count:' header is NOT RECOMMENDED.  Loop control is\n   usually
            done by counting 'Received' headers, which are more general\n   than 'Resent-'
            headers.\n   Previously-Sent Information\n   MMS lists the resending history
            of a message in two headers:  'X-\n   Mms-Previously-Sent-By:' and 'X-Mms-Previously-Sent-Date-and-Time:'.\n
            \  'X-Mms-Previously-Sent-By:'  contains a number followed by one or\n
            \  more addresses.  'X-Mms-Previously-Sent-Date-and-Time:' contains a\n
            \  number followed by a date-time.  With both headers, the number \"0\"
            is\n   used for the entry that corresponds to the original submission
            of the\n   message, with higher values being used for each subsequent
            resending.\n   The final (most recent) resending information is in the
            'From:' and\n   'Date:' headers.  There is also an 'X-Mms-Forward-Counter:'
            that\n   indicates how many times the message has been resent.\n   Any
            'X-Mms-Previously-Sent-By:', 'X-Mms-Previously-Sent-Date-and-\n   Time:',
            and 'X-Mms-Forward-Counter:'  headers, if present, SHOULD be\n   removed.
            \ The information contained in them SHOULD be translated into\n   [Msg-Fmt]
            headers as follows:\n   The 'X-Mms-Previously-Sent-Date-and-Time:' header
            whose value starts\n   with \"0\" SHOULD be used to create a 'Date:' header,
            converting the\n   date and time from HTTP-date [HTTP] to date-time [Msg-Fmt].
            \ The 'X-\n   Mms-Previously-Sent-By:' header whose value starts with
            \"0\" SHOULD be\n   used to create a 'From:' header.\n   A 'To:' header
            SHOULD be created using list syntax with a value of\n   \"unrecoverable-recipients\"
            and no mailboxes.\n   A 'Message-ID:' header SHOULD be created.\n   Any
            'X-Mms-Previously-Sent-Date-and-Time:' headers whose value starts\n   with
            \"1\" or a larger value are mapped to 'Resent-Date:'  headers.\n   Any
            'X-Mms-Previously-Sent-By:' headers whose value starts with \"1\"\n   or
            a larger value are mapped to 'Resent-By:' headers.\n   The 'From:', 'To:',
            'Date:', and 'Message-ID:' headers are mapped to\n   'Resent-From:', 'Resent-To:',
            'Resent-Date:', and 'Resent-Message-\n   ID:' headers in the top-most
            block of 'Resent-*' headers.\n   Example:\n   The MMS message:\n   X-Mms-Forward-Counter:
            2\n   X-Mms-Previously-Sent-Date-and-Time: 0, Fri, 01 Apr 2005 06:02:03
            GMT\n   X-Mms-Previously-Sent-By:   0, General Failure <mfail@example.mil>\n
            \  X-Mms-Previously-Sent-Date-and-Time: 1, Fri, 01 Apr 2005 08:02:03 GMT\n
            \  X-Mms-Previously-Sent-By:   1, Colonel Corn <gcorn@example.mil>\n   Date:
            \              Fri, 1 Apr 2005 18:02:03 -0800\n   From:               L.
            Eva Message <lem@example.org>\n   To:                 b1ff@mms.example.com\n
            \  Message-ID:         <99887766.112233@mail.example.org>\n   is mapped
            to an Internet mail message:\n   Resent-Date: Fri, 1 Apr 2005 18:02:03
            -0800\n   Resent-From: L. Eva Message <lem@example.org>\n   Resent-To:
            \  b1ff@mms.example.com\n   Resent-Message-ID:  <99887766.112233@mail.example.org>\n
            \  Resent-Date: Fri, 1 Apr 2005 08:02:03 +0000\n   Resent-From: Colonel
            Corn <gcorn@example.mil>\n   Date:        Fri, 1 Apr 2005 06:02:03 +0000\n
            \  From:        General Failure <mfail@example.mil>\n   To:          Colonel
            Corn <gcorn@example.mil>\n   Message-ID:  <000.000.000@gateway.example.org>\n
            \  'Received:' Headers\n   When a message is gatewayed from MMS to Internet
            mail, a 'Received:'\n   header MUST be added as per [SMTP].  The \"with\"
            clause should specify\n   \"MMS\".\n   A message MAY be rejected if the
            number of 'Received:' headers\n   exceeds a locally-defined maximum, which
            MUST conform to [SMTP]\n   Section 6.2 and SHOULD be no less than 100.\n
            \  Privacy\n   Note that MMS systems do not currently support the 'Privacy'
            header\n   field as described by [VPIM].\n   Content\n   The message content
            appears in the message body.  Note that Internet\n   message format requires
            that line endings be encoded as US-ASCII CR\n   LF octets; thus, charset
            encodings that do not have this property\n   cannot be used in text/*
            body parts.  (They may be used in other body\n   parts, but only when
            they are suitably encoded or when binary\n   transmission has been negotiated,
            e.g., [BINARY].)  In particular,\n   MMS allows UTF-16, whereas the Internet
            message format does not.\n   UTF-16 encoding MUST be translated to UTF-8
            or another charset and\n   encoding that is suitable for use in Internet
            message\n   format/protocols.\n"
          title: '2.1.3.2.1.  Table 2:  Importance Mappings (MMS to Internet Message)'
        title: 2.1.3.2.  Conversion of Messages from MMS to Internet Format
      - contents:
        - "2.1.3.3.  Conversion of Messages from Internet to MMS Format\n   3GPP MMS
          Version\n   An 'X-Mms-3GPP-MMS-Version:' header SHOULD be added.\n   Message
          Type (of PDU)\n   An 'X-Mms-Message-Type:' header SHOULD be used in accordance
          with the\n   specific MMS interface (e.g., MM1, MM4).\n   Transaction ID\n
          \  An 'X-Mms-Transaction-Id:' header SHOULD be used in accordance with\n
          \  the specific MMS interface (e.g., MM1, MM4).\n   Message ID\n   The 'Message-Id:'
          header MUST be retained.  If not present, it MUST\n   be created, with a
          unique value.\n   Recipient(s) address\n   'To:' and 'Cc:' headers MUST
          be retained.\n   Each recipient contained in the [SMTP] envelope (RCPT TO
          values) MUST\n   be considered a recipient of the message.  Recipients who
          appear in\n   address headers but not the [SMTP] envelope MUST be ignored.\n
          \  Recipients who appear in the [SMTP] envelope but do not appear in\n   headers
          are considered \"blind\" (Bcc) recipients; such recipients MUST\n   NOT
          be added to message headers (including address and trace headers)\n   unless
          there is only one recipient total.\n   Sender address\n   The 'From:' header
          MUST be retained.\n   Content type\n   The complete 'Content-Type:' header
          (including any parameters) SHOULD\n   be preserved.\n   Message class\n
          \  An 'X-Mms-Message-Class: personal' header MAY be created for all\n   received
          messages with a non-null return path (MAIL FROM value in the\n   SMTP envelope).
          \ An 'X-Mms-Message-Class: auto' header MAY be created\n   for messages
          with a null return path.\n   Time of Expiry\n   An 'X-Mms-Expiry:' header
          SHOULD be created if the message contains a\n   relative time to expiration
          in the DELIVER-BY extension with a by-\n   mode of \"R\", as specified in
          [Deliver-By].\n   If the by-mode is \"N\", a \"relayed\" DSN MUST be issued
          per\n   [Deliver-By] and an 'X-Mms-Expiry:' header SHOULD NOT be created.\n
          \  Delivery report request\n   An 'X-Mms-Delivery-Report:' header SHOULD
          be created for messages\n   that request 'success' or 'none' delivery status
          notification by use\n   of the DSN extension as specified in [DSN-SMTP].
          \ Requests for\n   'delay' notifications or non-default actions, such as
          that only the\n   message headers should be returned, cannot be mapped onto
          MMS headers\n   and thus SHOULD be ignored.\n   Importance\n   The message
          sender's importance value (also called \"priority\",\n   although this can
          be confused with class-of-service values) is\n   expressed with an 'Importance:'
          header.  Historically, some clients\n   used the older and non-standard
          'X-Priority:' header for this\n   purpose.  As a result, some clients generate
          both.\n   An 'X-Priority:' or 'Importance:' header, if present, SHOULD be\n
          \  replaced with an 'X-Mms-Priority:' header.  If both headers are\n   present,
          'Importance:' SHOULD be used.  Suggested mappings are shown\n   in Table
          3:\n"
        - contents:
          - "2.1.3.3.1.  Table 3:  Priority Mappings (Internet Message to MMS)\n      -------------------------------|----------------------\n
            \     'X-Priority: 1 (highest)'      |'X-Mms-Priority: High'\n      -------------------------------|----------------------\n
            \     'X-Priority: 2 (high)'         |'X-Mms-Priority: High'\n      -------------------------------|----------------------\n
            \     'Importance: High'             |'X-Mms-Priority: High'\n      -------------------------------|----------------------\n
            \     'X-Priority: 3 (normal)'       |      [omitted]\n      -------------------------------|----------------------\n
            \     'Importance: Normal'           |      [omitted]\n      -------------------------------|----------------------\n
            \     'X-Priority: 4 (low)'          |'X-Mms-Priority: Low'\n      -------------------------------|----------------------\n
            \     'Importance: Low'              |'X-Mms-Priority: Low'\n      -------------------------------|----------------------\n
            \     'X-Priority: 5 (lowest)'       |'X-Mms-Priority: Low'\n      -------------------------------|----------------------\n
            \  Normal importance messages SHOULD omit the 'X-Mms-Priority:' header.\n
            \  Sender visibility\n   Support for sender address hiding is not currently
            supported.\n   Read reply request\n   A request for a read reply contained
            in a 'Disposition-Notification-\n   To:' header as specified in [MDN]
            SHOULD be replaced with an 'X-Mms-\n   Read-Reply:' header.\n   Subject\n
            \  The 'Subject:' header MUST be preserved.\n   Resending\n   Mapping
            from 'Resent-' and other [Msg-Fmt] headers to 'X-Mms-\n   Previously-Sent-'
            headers SHOULD be done as follows:\n   The original 'From:' header is
            mapped to an 'X-Mms-Previously-Sent-\n   By:' header with a leading \"0\"
            value.  The value of the top-most\n   'Resent-From:' header is mapped
            to the 'From:'  header.  The value of\n   each subsequent 'Resent-From:'
            header is mapped to an 'X-Mms-\n   Previously-Sent-By:' header with the
            next larger leading value.\n   The original 'Date:' header is mapped to
            an 'X-Mms-Previously-Sent-\n   Date-and-Time:' header with a leading \"0\"
            value.  Note that the value\n   is also converted from date-time syntax
            [Msg-Fmt] to HTTP-date syntax\n   [HTTP].  The value of the top-most 'Resent-Date:'
            header is mapped to\n   the 'Date:' header.  The value of each subsequent
            'Date:' header is\n   mapped to an 'X-Mms-Previously-Sent-Date-and-Time:'
            header with the\n   next larger leading value.\n   If one or more 'Resent-Message-ID:'
            headers are present, the top-most\n   one SHOULD be mapped to 'Message-ID:';
            otherwise, the 'Message-ID:'\n   header should be retained.\n   An 'X-Mms-Forward-Counter:'
            header SHOULD be created when 'Resent-'\n   headers have been mapped to
            'X-Mms-Previously-Sent-' headers.  Its\n   value SHOULD be the number
            of 'Resent-' blocks that existed prior to\n   mapping.\n   Example:\n
            \  The original message:\n   Date:        Fri, 1 Apr 2005 14:02:03 -0800\n
            \  From:        General Failure <mfail@example.mil>\n   To:          Colonel
            Corn <gcorn@example.mil>\n   Message-ID:  <msg123@mail.example.mil>\n
            \  Is resent by Colonel Corn to L. Eva Message:\n   Resent-Date: Fri,
            1 Apr 2005 16:02:03 -0800\n   Resent-From: Colonel Corn <gcorn@example.mil>\n
            \  Resent-To:   L. Eva Message <lem@example.org>\n   Resent-Message-ID:
            \ <msg234@mail.example.mil>\n   Date:        Fri, 1 Apr 2005 14:02:03
            -0800\n   From:        General Failure <mfail@example.mil>\n   To:          Colonel
            Corn <gcorn@example.mil>\n   Message-ID:  <msg123@mail.example.mil>\n
            \  L. Eva then resends to her MMS device:\n   Resent-Date: Fri, 1 Apr
            2005 18:02:03 -0800\n   Resent-From: L. Eva Message <lem@example.org>\n
            \  Resent-To:   b1ff@mms.example.com\n   Resent-Message-ID:  <99887766.112233@mail.example.org>\n
            \  Resent-Date: Fri, 1 Apr 2005 16:02:03 -0800\n   Resent-From: Colonel
            Corn <gcorn@example.mil>\n   Resent-To:   L. Eva Message <lem@example.org>\n
            \  Resent-Message-ID:  <msg234@mail.example.mil>\n   Date:        Fri,
            1 Apr 2005 14:02:03 -0800\n   From:        General Failure <mfail@example.mil>\n
            \  To:          Colonel Corn <gcorn@example.mil>\n   Message-ID:  <msg123@mail.example.mil>\n
            \  This would be mapped to an MMS message as:\n   X-Mms-Forward-Counter:
            2\n   X-Mms-Previously-Sent-Date-and-Time: 0, Fri, 01 Apr 2005 06:02:03
            GMT\n   X-Mms-Previously-Sent-By:   0, General Failure <mfail@example.mil>\n
            \  X-Mms-Previously-Sent-Date-and-Time: 1, Fri, 01 Apr 2005 08:02:03 GMT\n
            \  X-Mms-Previously-Sent-By:   1, Colonel Corn <gcorn@example.mil>\n   Date:
            \              Fri, 1 Apr 2005 18:02:03 -0800\n   From:               L.
            Eva Message <lem@example.org>\n   To:                 b1ff@mms.example.com\n
            \  Message-ID:         <99887766.112233@mail.example.org>\n   Note that
            the original 'From:' and 'Date:' values were moved to 'X-\n   Mms-Previously-Sent-By:'
            and 'X-Mms-Previously-Sent-Date-and-Time:'\n   headers with a leading
            \"0\" value.  The first 'Resent-From:' and\n   'Resent-Date:' values were
            moved to a second set of 'X-Mms-\n   Previously-Sent-' headers, with a
            leading \"1\" value.  The third set\n   of 'Resent-' headers were moved
            to the 'Date:', 'To:', and 'From:'\n   headers.\n   Note also that the
            format of the date and time differs between the\n   'Date:' / 'Resent-Date:'
            and the 'X-Mms-Previously-Sent-Date-and-\n   Time:' headers, in that the
            latter use HTTP-date [HTTP] instead of\n   date-time [Msg-Fmt].\n   'Received:'
            Headers\n   Each system that processes a message SHOULD add a 'Received:'
            header\n   as per [SMTP].  A message MAY be rejected if the number of\n
            \  'Received:' headers exceeds a locally-defined maximum, which MUST\n
            \  conform to [SMTP] Section 6.2 and SHOULD be no less than 100.\n   Sensitivity\n
            \  The 'Sensitivity:' header field (value = \"personal\" or \"private\")\n
            \  [VPIM] indicates the desire of a voice message originator to send the\n
            \  message contents to the original recipient list with assurance that\n
            \  the message will not be forwarded further by either the messaging\n
            \  system or the actual message recipient(s).  Since sensitivity is not\n
            \  an MMS feature, any messages that contain a 'Sensitivity:' header\n
            \  MUST NOT be sent to an MMS system.  The associated negative delivery\n
            \  status report MUST include the extended status code [RESP] 5.6.0 as\n
            \  specified in [VPIM] (\"Other or undefined protocol status\") indicating\n
            \  that privacy could not be ensured.\n   Content\n   The message content
            appears in the message body.\n"
          title: '2.1.3.3.1.  Table 3:  Priority Mappings (Internet Message to MMS)'
        title: 2.1.3.3.  Conversion of Messages from Internet to MMS Format
      title: 2.1.3.  MMS Information Element Mappings
    - contents:
      - "2.1.4.  Report Generation and Conversion\n   Internet message systems use
        the multipart/report MIME type for\n   delivery and disposition reports as
        specified in [Report-Fmt].  This\n   format is a two- or three-part MIME message;
        one part is a structured\n   format describing the event being reported in
        an easy-to-parse\n   format.  Specific reports have a format that is built
        on\n   [Report-Fmt].  Delivery reports are specified in [DSN-Msg].  Message\n
        \  disposition reports, which include read reports, are specified in\n   [MDN].\n
        \  By contrast, MMS reports are plain text, with no defined structure\n   specified.
        \ This makes it difficult to convert from an MMS report to\n   a standard
        Internet report.\n   An implementation conforming to this specification MUST
        convert\n   reports received from one side (MMS or Internet mail) destined
        for\n   the other.  In addition, reports MUST be generated as appropriate
        for\n   messages received from either side.  For example, if an MM to be sent\n
        \  via Internet mail is not deliverable, a delivery status MM shall be\n   generated.
        \ Likewise, if an Internet message is received that cannot\n   be further
        relayed or delivered, a delivery status report [DSN-Msg]\n   MUST be generated.\n
        \  When creating delivery or disposition reports from MMS reports, the\n   MMS
        report should be parsed to determine the reported event and time,\n   status,
        and the headers of the referenced (original) message.  These\n   elements,
        once determined, are used to populate the subparts of the\n   delivery or
        disposition report.  The first subpart is of type\n   text/plain, and contains
        a human-readable explanation of the event.\n   This text may include a statement
        that the report was synthesized\n   based on an MMS report.  The second subpart
        is of type\n   report/delivery-status (for delivery reports) or report/disposition-\n
        \  notification (for disposition reports).  This second part contains a\n
        \  structured itemization of the event.  The optional third subpart is\n   of
        type message/rfc822 and includes the headers and optionally the\n   body of
        the referenced (original) message.  Note that, per [DSN-Msg],\n   the 'DSN-Gateway:'
        field in delivery reports MUST be created.\n"
      - contents:
        - "2.1.4.1.  Delivery Report Mapping from MMS to Internet Message\n   Below,
          Table 4 maps information elements from MMS delivery reports to\n   the format
          specified in [DSN-Msg].\n"
        - contents:
          - '2.1.4.1.1.  Table 4:  Delivery Report Mappings (MMS to Internet Message)

            '
          - '======================|============|===================================

            '
          - "Information Element   |MMS Delivery|[DSN-Msg] Element\n                      |Report
            Elem |\n"
          - '======================|============|===================================

            '
          - 'ID of message whose   |Message-Id: |''Message-ID:'' preserved in third

            '
          - 'delivery status is    |            |subpart of delivery report.

            '
          - 'being reported        |            |

            '
          - '----------------------|------------|-----------------------------------

            '
          - 'Recipient address of  |From:       |''Final-Recipient'' field of the

            '
          - 'the original message  |            |per-recipient section.

            '
          - '(object of delivery   |            |

            '
          - 'report)               |            |

            '
          - '----------------------|------------|-----------------------------------

            '
          - 'Destination address of|To:         |''To:'' header field value of top-

            '
          - 'report                |            |level.

            '
          - '----------------------|------------|-----------------------------------

            '
          - 'Date and time the     |Date:       |''Date:'' header field value of top-

            '
          - 'message was handled   |            |level.

            '
          - '----------------------|------------|-----------------------------------

            '
          - '======================|============|===================================

            '
          - "Information Element   |MMS Delivery|[DSN-Msg] Element\n                      |Report
            Elem |\n"
          - '======================|============|===================================

            '
          - 'Delivery status of    |X-Mms-      |Action and Status fields of

            '
          - 'original message to   |   Status:  |per-recipient section.

            '
          - "each recipient        |            |\n                      |            |The
            'Action' field indicates if the\n                      |            |message
            was delivered.\n                      |            |\n                      |
            \           |For failed delivery, an appropriate\n                      |
            \           |'Status' value shall be included\n                      |
            \           |per [DSN-Msg].\n                      |            |\n                      |
            \           |The Action field is set to one of\n                      |
            \           |the following values:\n                      |            |\n
            \                     |            |* delivered (used for MMS status\n
            \                     |            |values 'retrieved' and 'rejected',\n
            \                     |            |depending on 'Status' code).\n                      |
            \           |\n                      |            |* failed (used for
            MMS status\n                      |            |values 'expired' and 'unreachable')\n
            \                     |            |\n                      |            |*
            delayed MAY be used for MMS\n                      |            |status
            value 'deferred'\n                      |            |\n                      |
            \           |* relayed (used for MMS status\n                      |            |value
            'indeterminate')\n                      |            |\n                      |
            \           |* expanded (SHOULD NOT be used)\n"
          - '----------------------|------------|-----------------------------------

            '
          - "Status Text           |            |Text in first part (human-readable\n
            \                     |            |part).\n"
          - "----------------------|------------|-----------------------------------\n
            \  When an MMS Relay/Server generates a [DSN-Msg] in response to a\n   message
            received using [SMTP] on MM3:\n   * Top-level header field 'To:' SHOULD
            be the [SMTP] return-path of\n     the message whose status is being reported.\n
            \  * Top-level header field 'From:' SHOULD be the address of the\n     recipient
            that the delivery-report concerns.\n   * The first part of the [DSN-Msg]
            SHOULD include the MM Status Text\n     field that would have been generated
            for an MM1 delivery-report.\n"
          title: '2.1.4.1.1.  Table 4:  Delivery Report Mappings (MMS to Internet
            Message)'
        title: 2.1.4.1.  Delivery Report Mapping from MMS to Internet Message
      - contents:
        - "2.1.4.2 Delivery Report Mapping from Internet Message to MMS\n   Below,
          Table 5 maps information elements from a delivery report as\n   specified
          in [DSN-Msg] to the format of an MMS delivery report.  Note\n   that a single
          DSN that reports multiple recipients will result in\n   several MMS delivery
          reports.\n"
        - contents:
          - '2.1.4.2.1.  Table 5:  Delivery Report Mappings (Internet Message to MMS)

            '
          - '===================|==================|================================

            '
          - "Information Element|MMS Delivery      |[DSN-Msg] Element\n                   |Report
            Element    |\n"
          - '===================|==================|================================

            '
          - 'ID of the original |Message-Id:       |''Message-ID:'' header preserved

            '
          - 'message (object of |                  |in third sub-part of report.

            '
          - 'delivery report)   |                  |

            '
          - '-------------------|------------------|--------------------------------

            '
          - 'Recipient address  |From:             |If available, the ''Original

            '
          - 'of the original    |                  |-Recipient'' field of the per-

            '
          - 'message (object of |                  |recipient section should be

            '
          - "delivery report)   |                  |used; otherwise, the 'Final-\n
            \                  |                  |Recipient' field of the per-\n
            \                  |                  |recipient section is used.\n"
          - '-------------------|------------------|--------------------------------

            '
          - 'Destination address|To:               |''To:'' header field value of

            '
          - "of report          |                  |top-level.\n                   |
            \                 |\n                   |                  |Value taken
            from [SMTP] envelope\n                   |                  |return-path
            of message being\n                   |                  |reported, not
            its 'From:' header\n                   |                  |field.\n"
          - '-------------------|------------------|--------------------------------

            '
          - 'Date and time the  |Date:             |''Date:'' header field value of

            '
          - 'message was handled|                  |top-level.

            '
          - '-------------------|------------------|--------------------------------

            '
          - '===================|==================|================================

            '
          - "Information Element|MMS Delivery      |[DSN-Msg] Element\n                   |Report
            Element    |\n"
          - '===================|==================|================================

            '
          - 'Delivery status of |X-Mms-Status:     |''Action'' and ''Status'' fields
            of

            '
          - "original message   |                  |per-recipient section.\n                   |Set
            to one of the |\n                   |following values: |\n                   |
            \                 |\n                   |'retrieved' (used |\n                   |for
            'Action' value|\n                   |'delivered').     |\n                   |
            \                 |\n                   |'unreachable'     |\n                   |(used
            for 'Action'|\n                   |value 'failed')   |\n                   |
            \                 |\n                   |'forwarded' (used |\n                   |for
            'Action' value|\n                   |'relayed')        |\n                   |
            \                 |\n                   |'deferred' MUST   |\n                   |NOT
            be used       |\n                   |(ignore DSNs with |\n                   |'Action'
            value    |\n                   |'delayed')        |\n"
          - '-------------------|------------------|--------------------------------

            '
          - "Status Text        |                  |Text in first part (human-\n                   |
            \                 |readable part).\n"
          - '===================|==================|================================

            '
          title: '2.1.4.2.1.  Table 5:  Delivery Report Mappings (Internet Message
            to MMS)'
        title: 2.1.4.2 Delivery Report Mapping from Internet Message to MMS
      - contents:
        - "2.1.4.3.  Read Report Mapping from MMS to Internet Message\n   Below, Table
          6 maps information elements from MMS read reports to the\n   format specified
          in [MDN].\n"
        - contents:
          - '2.1.4.3.1.  Table 6:  Read Report Mappings (MMS to Internet Message)

            '
          - '======================|============|===================================

            '
          - "Information Element   |MMS Delivery|[MDN] Element\n                      |Report
            Elem |\n"
          - '======================|============|===================================

            '
          - 'ID of the original    |Message-Id: |''Message-ID:'' header preserved
            in

            '
          - 'message (object of    |            |third part of report.

            '
          - 'read report)          |            |

            '
          - '----------------------|------------|-----------------------------------

            '
          - 'Recipient address of  |From:       |''Final-Recipient'' field.

            '
          - 'the original message  |            |

            '
          - '======================|============|===================================

            '
          - "Information Element   |MMS Delivery|[MDN] Element\n                      |Report
            Elem |\n"
          - '======================|============|===================================

            '
          - 'Destination address of|To:         |''To:'' header field value of top-

            '
          - "report                |            |level.\n                      |            |\n
            \                     |            |Value taken from 'Disposition-\n                      |
            \           |Notification-To:' header field of\n                      |
            \           |message being reported, not its\n                      |
            \           |'From:' header field.\n"
          - '----------------------|------------|-----------------------------------

            '
          - 'Date and time the     |Date:       |''Date:'' header field value of top-

            '
          - 'message was handled   |            |level.

            '
          - '----------------------|------------|-----------------------------------

            '
          - 'Disposition of message|X-Mms-Read- |Disposition-field

            '
          - "being reported        |   Status:  |\n                      |            |For
            X-MMS-Read-Status value 'read',\n                      |            |use
            'disposition-type' value\n                      |            |'displayed';
            for X-MMS-Read-Status\n                      |            |value 'Deleted
            without being read',\n                      |            |use 'disposition-type'
            value\n                      |            |'deleted').\n"
          - '----------------------|------------|-----------------------------------

            '
          - "Status Text           |            |Text in first part (human-readable\n
            \                     |            |part).\n"
          - "======================|============|===================================\n
            \  When an MMS Relay/Server generates an [MDN] in response to a message\n
            \  received using [SMTP] on MM3:\n   * Top-level header field 'To:' SHOULD
            be the value of the\n     'Disposition-Notification-To:' header field
            of the message whose\n     disposition is being reported.\n   * Top-level
            header field 'From:' SHOULD be the address of the\n     recipient that
            the read report concerns.\n"
          title: '2.1.4.3.1.  Table 6:  Read Report Mappings (MMS to Internet Message)'
        title: 2.1.4.3.  Read Report Mapping from MMS to Internet Message
      - contents:
        - "2.1.4.4.  Disposition Report Mapping from Internet Message to MMS\n   Below,
          Table 7 maps information elements from a disposition report as\n   specified
          in [MDN] to the format of an MMS read report.\n"
        - contents:
          - "2.1.4.4.1.  Table 7:  Disposition Report Mappings\n                      (Internet
            Message to MMS)\n"
          - '===================|==================|================================

            '
          - "Information Element|MMS Read Report   |[MDN] Element\n                   |Element
            \          |\n"
          - '===================|==================|================================

            '
          - 'ID of the original |Message-Id:       |''Message-ID:'' header preserved

            '
          - 'message (object of |                  |in third subpart of report.

            '
          - 'disposition report)|                  |

            '
          - '-------------------|------------------|--------------------------------

            '
          - 'Recipient address  |From:             |''Final-Recipient'' field.

            '
          - 'of the original    |                  |

            '
          - 'message            |                  |

            '
          - '-------------------|------------------|--------------------------------

            '
          - 'Destination address|To:               |''To:'' header field value of

            '
          - "of report          |                  |top-level.\n                   |
            \                 |\n                   |                  |Value taken
            from 'Disposition-\n                   |                  |Notification-To:'
            header field\n                   |                  |of message being
            reported, not\n                   |                  |its 'From:' header
            field.\n"
          - '-------------------|------------------|--------------------------------

            '
          - 'Date and time the  |Date:             |''Date:'' header field value of

            '
          - 'message was handled|                  |top-level.

            '
          - '-------------------|------------------|--------------------------------

            '
          - 'Disposition of     |X-Mms-Read-Status:|disposition-field.

            '
          - 'message being      |                  |

            '
          - "reported           |Set to one of the |\n                   |following
            values: |\n                   |                  |\n                   |'read'
            (used for  |\n                   |disposition-type  |\n                   |value
            'displayed')|\n                   |                  |\n                   |'Deleted
            without  |\n                   |being read' (used |\n                   |for
            disposition-  |\n                   |types 'deleted',  |\n                   |'denied'
            and      |\n                   |'failed' when     |\n                   |action-mode
            is    |\n                   |'automatic-       |\n                   |action')
            \         |\n"
          - '-------------------|------------------|--------------------------------

            '
          - "Status Text        |                  |Text in first part (human-\n                   |
            \                 |readable part).\n"
          - '===================|==================|================================

            '
          title: '2.1.4.4.1.  Table 7:  Disposition Report Mappings'
        title: 2.1.4.4.  Disposition Report Mapping from Internet Message to MMS
      title: 2.1.4.  Report Generation and Conversion
    - contents:
      - "2.1.5.  Message Delivery\n   Within Internet mail, when [SMTP] is used and
        delivery reports are\n   requested [DSN-SMTP], delivery is considered to be
        acceptance of a\n   message by the final server, that is, the server closest
        to the\n   recipient.  When an MMS Relay/Server receives a message using [SMTP]\n
        \  and a delivery report is requested, the MMS Relay/Server MAY consider\n
        \  the message delivered when it has been sent to the MMS User Agent.\n"
      title: 2.1.5.  Message Delivery
    title: 2.1.  Mapping Specification
  title: 2.  Mapping Between MMS and Internet Mail
- contents:
  - "3.  Security Considerations\n   Both MMS and Internet mail have their own set
    of security risks and\n   considerations.  This document specifies how to exchange
    messages\n   between these two environments, so it is only appropriate to discuss\n
    \  considerations specific to this functionality, not those inherent in\n   either
    environment.\n   When a message uses end-to-end security mechanisms such as [PGP]
    or\n   S/MIME [SMIME], servers MUST be careful not to accidently destroy the\n
    \  integrity of the protected content (for example, by altering any text\n   within
    the region covered by a signature while mapping between MMS\n   and email).  [Mime-Sec-gw]
    discusses issues with use of such\n   mechanisms in gateways.\n   Some MMS features
    contain inherently more risk than others, including\n   reply charging and sender
    address hiding.  Support for these\n   mechanisms is not included in this document.\n"
  title: 3.  Security Considerations
- contents:
  - "4.  IANA Considerations\n   IANA has added \"MMS\" as one of the \"WITH protocol
    types\" under its\n   \"MAIL Parameters\" registry.  The description is \"Multimedia
    Messaging\n   Service\"; the reference is to this document.\n"
  title: 4.  IANA Considerations
- contents:
  - "5.  Acknowledgements\n   A number of people contributed to this document, especially
    the\n   members of the IETF Lemonade working group, including Greg Vaudreuil.\n
    \  John Klensin did a very thorough and helpful review.  Greg White\n   caught
    a large number of nits.  Ted Hardie was very helpful.  Alexey\n   Melnikov and
    Chris Newman sent very useful and detailed comments.\n"
  title: 5.  Acknowledgements
- contents:
  - "6.  Normative References\n   [DSN-Msg]     Moore, K. and G. Vaudreuil, \"An Extensible
    Message\n                 Format for Delivery Status Notifications\", RFC 3464,\n
    \                January 2003.\n   [DSN-SMTP]    Moore, K., \"Simple Mail Transfer
    Protocol (SMTP)\n                 Service Extension for Delivery Status Notifications\n
    \                (DSNs)\", RFC 3461, January 2003.\n   [Hdr-Enc]     Moore, K.,
    \"MIME (Multipurpose Internet Mail\n                 Extensions) Part Three: Message
    Header Extensions for\n                 Non-ASCII Text \", RFC 2047, November
    1996.\n   [HTTP]        Fielding,  R., Gettys, J., Mogul, J., Frystyk, H.,\n                 Masinter,
    L., Leach, P., and T. Berners-Lee, \"Hypertext\n                 Transfer Protocol
    -- HTTP/1.1\", RFC 2616, June 1999.\n   [IDN]         Faltstrom, P., Hoffman,
    P., and A. Costello,\n                 \"Internationalizing Domain Names in Applications\n
    \                (IDNA)\", RFC 3490, March 2003.\n   [KEYWORDS]    Bradner, S.,
    \"Key words for use in RFCs to Indicate\n                 Requirement Levels\",
    BCP 14, RFC 2119, March 1997.\n   [MDN]         Hansen, T. and G. Vaudreuil, \"Message
    Disposition\n                 Notification\", RFC 3798, May 2004.\n   [Msg-Fmt]
    \    Resnick, P., \"Internet Message Format\", RFC 2822, April\n                 2001.\n
    \  [Report-Fmt]  Vaudreuil, G., \"The Multipart/Report Content Type for\n                 the
    Reporting of Mail System Administrative Messages\",\n                 RFC 3462,
    January 2003.\n   [RESP]        Vaudreuil, G., \"Enhanced Mail System Status Codes\",
    RFC\n                 3463, January 2003.\n   [SMTP]        Klensin, J., \"Simple
    Mail Transfer Protocol\", RFC 2821,\n                 April 2001.\n   [OMA]         OMA
    specifications are available at the OMA web site\n                 <http://www.openmobilealliance.org>.\n
    \  [OMA-MMS]     OMA-WAP-MMS-ENC-V1_2-20040323-C\n   [3GPP2]       3GPP2 specifications
    are available at the 3GPP2 (Third\n                 Generation Partnership Project
    2) web site\n                 <http://www.3gpp2.org>.\n   [3GPP]        3GPP specifications
    are available at the 3GPP (Third\n                 Generation Partnership Project)
    web site\n                 <http://www.3gpp.org>\n   [Stage_3]     \"MMS MM1 Stage
    3 using OMA/WAP\", X.S0016-310\n                 \"MMS MM4 Stage 3 Inter-Carrier
    Interworking\", X.S0016-\n                 340\n                 \"Multimedia
    Messaging Service:  Functional description;\n                 Stage 2\", TS 23.140
    Release 5.\n"
  title: 6.  Normative References
- contents:
  - "7.  Informative References\n   [BINARY]      Vaudreuil, G., \"SMTP Service Extensions
    for\n                 Transmission of Large and Binary MIME Messages\", RFC\n
    \                3030, December 2000.\n   [Deliver-By]  Newman, D., \"Deliver
    By SMTP Service Extension\", RFC\n                 2852, June 2000.\n   [Hdrs]
    \       Palme, J., \"Common Internet Message Headers\", RFC 2076,\n                 February
    1997.\n   [Mime-Sec-gw] Freed, N., \"Gateways and MIME Security Multiparts\",
    RFC\n                 2480, January 1999.\n   [PGP]         Elkins, M., Del Torto,
    D., Levien, R., and T. Roessler,\n                 \"MIME Security with OpenPGP\",
    RFC 3156, August 2001.\n   [SMIME]       Ramsdell, B., \"Secure/Multipurpose Internet
    Mail\n                 Extensions (S/MIME) Version 3.1 Message Specification\",\n
    \                RFC 3851, July 2004.\n   [Submission]  Gellens, R. and J. Klensin,
    \"Message Submission\", RFC\n                 2476, December 1998.\n   [VPIM]
    \       Vaudreuil, G. and G. Parsons, \"Voice Profile for\n                 Internet
    Mail - version 2 (VPIMv2)\", RFC 3801, June\n                 2004.\n   [Overview]
    \   \"Multimedia Messaging Services (MMS) Overview\",\n                 X.S0016-000\n
    \  [Stage_1]     \"Multimedia Messaging Services (MMS); Stage 1\",\n                 Requirements,
    October 2002, S.R0064-0.\n   [Stage_2]     \"Multimedia Messaging Service (MMS);
    Stage 2\",\n                 Functional Specification, April 2003, X.S0016-200.\n
    \                \"Multimedia Messaging Service; Media formats and\n                 codecs\",
    TS26.140Release 5.\n"
  title: 7.  Informative References
- contents:
  - "Author's Address\n   Randall Gellens\n   QUALCOMM Incorporated\n   5775 Morehouse
    Drive\n   San Diego, CA  92121\n   EMail: randy@qualcomm.com\n"
  title: Author's Address
- contents:
  - "Full Copyright Statement\n   Copyright (C) The Internet Society (2006).\n   This
    document is subject to the rights, licenses and restrictions\n   contained in
    BCP 78, and except as set forth therein, the authors\n   retain all their rights.\n
    \  This document and the information contained herein are provided on an\n   \"AS
    IS\" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS\n   OR IS SPONSORED
    BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET\n   ENGINEERING TASK FORCE
    DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED,\n   INCLUDING BUT NOT LIMITED TO
    ANY WARRANTY THAT THE USE OF THE\n   INFORMATION HEREIN WILL NOT INFRINGE ANY
    RIGHTS OR ANY IMPLIED\n   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR
    PURPOSE.\n"
  title: Full Copyright Statement
- contents:
  - "Intellectual Property\n   The IETF takes no position regarding the validity or
    scope of any\n   Intellectual Property Rights or other rights that might be claimed
    to\n   pertain to the implementation or use of the technology described in\n   this
    document or the extent to which any license under such rights\n   might or might
    not be available; nor does it represent that it has\n   made any independent effort
    to identify any such rights.  Information\n   on the procedures with respect to
    rights in RFC documents can be\n   found in BCP 78 and BCP 79.\n   Copies of IPR
    disclosures made to the IETF Secretariat and any\n   assurances of licenses to
    be made available, or the result of an\n   attempt made to obtain a general license
    or permission for the use of\n   such proprietary rights by implementers or users
    of this\n   specification can be obtained from the IETF on-line IPR repository
    at\n   http://www.ietf.org/ipr.\n   The IETF invites any interested party to bring
    to its attention any\n   copyrights, patents or patent applications, or other
    proprietary\n   rights that may cover technology that may be required to implement\n
    \  this standard.  Please address the information to the IETF at\n   ietf-ipr@ietf.org.\n"
  title: Intellectual Property
- contents:
  - "Acknowledgement\n   Funding for the RFC Editor function is provided by the IETF\n
    \  Administrative Support Activity (IASA).\n"
  title: Acknowledgement
