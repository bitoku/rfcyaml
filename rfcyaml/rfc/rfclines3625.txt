Abstract RFC 2658 specifies the streaming format for 3GPP2 13K vocoder (High Rate Speech Service Option 17 for Wideband Spread Spectrum Communications Systems, also known as QCELP 13K vocoder) data, but does not specify a storage format.
Many implementations have been using the "QCP" file format (named for its file extension) for exchanging QCELP 13K data as well as Enhanced Variable Rate Coder (EVRC) and Selectable Mode Vocoders (SMV) data.
(For example, Eudora(r), QuickTime(r), and cmda2000(r) handsets).
This document specifies the QCP file format and updates the audio/qcelp media registration to specify this format for storage, and registers the audio/evrc qcp and audio/smv qcp media types for EVRC and SMV (respectively) data stored in this format.
This document specifies the QCP format for storage of [QCELP] 13K, [EVRC], and [SMV] vocoder frames in files which may reside on network elements (e.g., media servers, Multimedia Messaging System (MMS) centers, etc.)
and third generation cellular (3G) handsets, or be transmitted via email or other mechanisms.
Vocoder frames read from a QCP file may be streamed using protocols and formats outside the scope of this document, delivered to an [EVRC], [SMV], or [QCELP] 13K decoder, or otherwise processed.
The QCP format supports [QCELP] 13K as well as [EVRC] and [SMV] data.
Note that this format is different from the EVRC and SMV storage format specified in [EVRC SMV].
Conventions Used in this Document
The key words "REQUIRED", "MUST", "MUST NOT", "SHOULD", "SHOULD NOT", and "MAY" in this document are to be interpreted as described in BCP 14, RFC 2119 [KEYWORDS].
The following describes the QCP file format using [ABNF].
A qcp file contains data frames generated by the [QCELP], [EVRC], or [SMV] vocoders.
; Two examples follow to illustrate this.
UINT16 8OCTET ; this is the unique identifier for the codec ; used to encode the packets in the data chunk ; The elements of this rule match the structure ; defined for a GUID in other specifications ; and formats.
The first three elements are ; stored in little endian octet order.
; When values for a GUID are expressed, the ; first three elements are expressed as a ; sequence of hexadecimal digits in normal ; network ordering (big endian or most ; significant digit first)
while the eight ; octet element is broken up into two groups, ; the first having four hexadecimal digits, ; and the second having twelve digits, all ; expressed in network ordering.
A797 ED49 985E D53C8CC75F84} codec version
UINT16 ; version number of codec used to encode the ; packets in the data chunk ; This value depends on the particular codec ; used to encode the packets.
The following ; versions are currently defined: ;
IANA Considerations IANA has updated the audio/qcelp and audio/vnd.qcelp registrations and has added the audio/evrc qcp and audio/smv qcp registrations as specified here.
Update of Media Type Audio/qcelp
The audio/qcelp media registration has been updated to indicate that this specification is to be used for storage.
Update of Media Type Audio/
The audio/vnd.qcelp media registration has been updated to indicate that use of this media type is deprecated and to note that the media type audio/qcelp should be used instead.
/EVRC QCP Media Type Name:
none Encoding considerations: The storage format specified in this document may be used with any transport mechanism.
: See Section 5 "Security Considerations" of this document.
octets 5 8 constitute the riff size field, which is the size of the file minus the RIFF header.
Since this could be anything, it is not fixed and thus can not be used as part of the magic number.)
File extensions: qcp, QCP Macintosh file type code:
none Object identifier or OID: none Intended usage: COMMON.
This file format is already in wide use in Internet email user agents, multimedia authoring and playing software, and cdma2000(r)
Person & email address to contact for further information:
none Encoding considerations: The storage format specified in this document may be used with any transport mechanism.
: See Section 5 "Security Considerations" of this document.
octets 5 8 constitute the riff size field, which is the size of the file minus the RIFF header.
Since this could be anything, it is not fixed and thus can not be used as part of the magic number.)
File extensions: qcp, QCP Macintosh file type code:
none Object identifier or OID: none Intended usage: COMMON.
This file format is already in wide use in Internet email user agents, multimedia authoring and playing software, and cdma2000(r)
Person & email address to contact for further information:
This document specifies a file format only, not a streaming protocol payload format, nor a transfer method.
As such, it introduces no security risks aside from those associated with any audio codec or media file format (for example, denial of service by transmitting a file larger than the receiver can handle).
Note that those security concerns should be understood before using the file format specified here.
Editors' Addresses Randall Gellens QUALCOMM Incorporated 5775 Morehouse Drive San Diego, CA  92121
Incorporated 5775 Morehouse Drive San Diego, CA
