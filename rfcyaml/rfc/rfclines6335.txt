Internet Assigned Numbers Authority (IANA) Procedures for the Management of the Service Name and Transport Protocol Port
This document defines the procedures that the Internet Assigned Numbers Authority (IANA) uses when handling assignment and other requests related to the Service Name and Transport Protocol Port Number registry.
It also discusses the rationale and principles behind these procedures and how they facilitate the long term sustainability of the registry.
This document updates IANA's procedures by obsoleting the previous UDP and TCP port assignment procedures defined in Sections 8 and 9.1 of the IANA Allocation Guidelines, and it updates the IANA service name and port assignment procedures for UDP Lite, the Datagram Congestion Control Protocol (DCCP), and the Stream Control Transmission Protocol (SCTP).
It also updates the DNS SRV specification to clarify what a service name is and how it is registered.
For many years, the assignment of new service names and port number values for use with the Transmission Control Protocol (TCP)
[RFC0793] and the User Datagram Protocol (UDP)
[RFC0768] has had less than clear guidelines.
New transport protocols have been added   the Stream Control Transmission Protocol (SCTP)
[RFC4960] and the Datagram Congestion Control Protocol (DCCP)
[RFC4342]   and new mechanisms like DNS SRV records [RFC2782] have been developed, each with separate registries and separate guidelines.
The community also recognized the need for additional procedures beyond just assignment; notably modification, revocation, and release.
A key element of the procedural streamlining specified in this document is to establish identical assignment procedures for all IETF transport protocols.
This document brings the IANA procedures for TCP and UDP in line with those for SCTP and DCCP, resulting in a single process that requesters and IANA follow for all requests for all transport protocols, including future protocols not yet defined.
In addition to detailing the IANA procedures for the initial assignment of service names and port numbers, this document also specifies post assignment procedures that until now have been handled in an ad hoc manner.
These include procedures to de assign a port number that is no longer in use, to take a port number assigned for one service that is no longer in use and reuse it for another service, and the procedure by which IANA can unilaterally revoke a prior port number assignment.
Section 8 discusses the specifics of these procedures and processes that requesters and IANA follow for all requests for all current and future transport protocols.
IANA is the authority for assigning service names and port numbers.
The registries that are created to store these assignments are maintained by IANA.
For protocols developed by IETF working groups, IANA now also offers a method for the "early assignment" [RFC4020] of service names and port numbers, as described in Section 8.1.
This document updates IANA's procedures for UDP and TCP port numbers by obsoleting Sections 8 and 9.1 of the IANA Allocation Guidelines [RFC2780].
(Note that other sections of the IANA Allocation Guidelines, relating to the protocol field values in IPv4 headers, were also updated in February 2008 [RFC5237].)
This document also updates the IANA assignment procedures for DCCP [RFC4340] [RFC5595] and SCTP [RFC4960].
The Lightweight User Datagram Protocol (UDP Lite) shares the port space with UDP.
The UDP Lite specification [RFC3828] says: "UDP Lite uses the same set of port number values assigned by the IANA for use by UDP".
An update of the UDP procedures therefore also results in a corresponding update of the UDP Lite procedures.
This document also clarifies what a service name is and how it is assigned.
This will impact the DNS SRV specification [RFC2782], because that specification merely makes a brief mention that the symbolic names of services are defined in "Assigned Numbers" [RFC1700], without stating to which section it refers within that 230 page document.
The DNS SRV specification may have been referring to the list of Port Assignments (known as /etc/services on Unix), or to the "Protocol And Service Names" section, or to both, or to some other section.
Furthermore, "Assigned Numbers" [RFC1700] has been obsoleted [RFC3232] and has been replaced by on line registries [PORTREG]
The development of new transport protocols is a major effort that the IETF does not undertake very often.
If a new transport protocol is standardized in the future, it is expected to follow these guidelines and practices around using service names and port numbers as much as possible, for consistency.
At the time of writing of this document, the internal procedures of "Expert Review" teams, including that of IANA's port review team, are not documented in any RFC and this document doesn't change that.
Motivation Information about the assignment procedures for the port registry has existed in three locations: the forms for requesting port number assignments on the IANA web site [SYSFORM]
[USRFORM], an introductory text section in the file listing the port number assignments themselves (known as the port numbers registry)
[PORTREG], and two brief sections of the IANA Allocation Guidelines [RFC2780].
Similarly, the procedures surrounding service names have been historically unclear.
Service names were originally created as mnemonic identifiers for port numbers without a well defined syntax, apart from the 14 character limit mentioned on the IANA website [SYSFORM]
Even that length limit has not been consistently applied, and some assigned service names are 15 characters long.
When service identification via DNS SRV Resource Records (RRs) was introduced [RFC2782], it became useful to start assigning service names alone, and because IANA had no procedure for assigning a service name without an associated port number, this led to the creation of an informal temporary service name registry outside of the control of IANA, which now contains roughly 500 service names [SRVREG].
This document aggregates all this scattered information into a single reference that aligns and clearly defines the management procedures for both service names and port numbers.
It gives more detailed guidance to prospective requesters of service names and ports than the existing documentation, and it streamlines the IANA procedures for the management of the registry, so that requests can be completed in a timely manner.
This document defines rules for assignment of service names without associated port numbers, for such usages as DNS SRV records [RFC2782], which was not possible under the previous IANA procedures.
The document also merges service name assignments from the non IANA ad hoc registry [SRVREG] and from the IANA Protocol and Service Names registry [PROTSERVREG] into the IANA Service Name and Transport Protocol Port Number registry [PORTREG], which from here on is the single authoritative registry for service names and port numbers.
An additional purpose of this document is to describe the principles that guide the IETF and IANA in their role as the long term joint stewards of the service name and port number registry.
TCP and UDP have had remarkable success over the last decades.
Thousands of applications and application level protocols have service names and port numbers assigned for their use, and there is every reason to believe that this trend will continue into the future.
It is hence extremely important that management of the registry follow principles that ensure its long term usefulness as a shared resource.
Section 7 discusses these principles in detail.
The Transmission Control Protocol (TCP)
[RFC0793] and the User Datagram Protocol (UDP)
[RFC0768] have enjoyed a remarkable success over the decades as the two most widely used transport protocols on the Internet.
They have relied on the concept of "ports" as logical entities for Internet communication.
Ports serve two purposes: first, they provide a demultiplexing identifier to differentiate transport sessions between the same pair of endpoints, and second, they may also identify the application protocol and associated service to which processes connect.
Newer transport protocols, such as the Stream Control Transmission Protocol (SCTP)
[RFC4960] and the Datagram Congestion Control Protocol (DCCP) [RFC4342], have also adopted the concept of ports for their communication sessions and use 16 bit port numbers in the same way as TCP and UDP (and UDP Lite [RFC3828], a variant of UDP).
Port numbers are the original and most widely used means for application and service identification on the Internet.
Ports are 16 bit numbers, and the combination of source and destination port numbers together with the IP addresses of the communicating end systems uniquely identifies a session of a given transport protocol.
Port numbers are also known by their associated service names such as "telnet" for port number 23 and "http" (as well as "www" and "www http") for port number 80.
All involved parties   hosts running services, hosts accessing services on other hosts, and intermediate devices (such as firewalls and NATs) that restrict services   need to agree on which service corresponds to a particular destination port.
Although this is ultimately a local decision with meaning only between the endpoints of a connection, it is common for many services to have a default port upon which those servers usually listen, when possible, and these ports are recorded by the Internet Assigned Numbers Authority (IANA) through the service name and port number registry [PORTREG].
Over time, the assumption that a particular port number necessarily implies a particular service may become less true.
For example, multiple instances of the same service on the same host cannot generally listen on the same port, and multiple hosts behind the same NAT gateway cannot all have a mapping for the same port on the external side of the NAT gateway, whether using static port mappings configured by hand by the user, or dynamic port mappings configured automatically using a port mapping protocol like the NAT Port Mapping Protocol [NAT PMP] or Internet Gateway Device [IGD].
Applications may use port numbers directly, look up port numbers based on service names via system calls such as getservbyname() on UNIX, look up port numbers by performing queries for DNS SRV records [RFC2782]
[DNS SD], or determine port numbers in a variety of other ways like the TCP Port Service Multiplexer (TCPMUX)
Designers of applications and application level protocols may apply to IANA for an assigned service name and port number for a specific application, and may   after assignment   assume that no other application will use that service name or port number for its communication sessions.
Application designers also have the option of requesting only an assigned service name without a corresponding fixed port number if their application does not require one, such as applications that use DNS SRV records to look up port numbers dynamically at run time.
Because the port number space is finite (and therefore conservation is an important goal), the alternative of using service names instead of port numbers is RECOMMENDED whenever possible.
Conventions Used in This Document
The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "
SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in "Key words for use in RFCs to Indicate Requirement Levels" [RFC2119].
This document uses the term "assignment" to refer to the procedure by which IANA provides service names and/or port numbers to requesting parties; other RFCs refer to this as "allocation" or "registration".
This document assumes that all these terms have the same meaning, and will use terms other than "assignment" only when quoting from or referring to text in these other documents.
Service Names Service names are the unique key in the Service Name and Transport Protocol Port Number registry.
This unique symbolic name for a service may also be used for other purposes, such as in DNS SRV records [RFC2782].
Within the registry, this unique key ensures that different services can be unambiguously distinguished, thus preventing name collisions and avoiding confusion about who is the Assignee for a particular entry.
There may be more than one service name associated with a particular transport protocol and port.
There are three ways that such port number overloading can occur:
Overloading occurs when one service is an extension of another service, and an in band mechanism exists for determining if the extension is present or not.
One example is port 3478, which has the service name aliases "stun" and "turn".
Traversal Using Relays around NAT (TURN)
[RFC5766] is an extension to the Session Traversal Utilities for NAT (STUN)
TURN  enabled clients wishing to locate TURN servers could attempt to discover "stun" services and then check in band if the server also supports TURN, but this would be inefficient.
Enabling them to directly query for "turn" servers by name is a better approach.
(Note that TURN servers in this case should also be locatable via a "stun" discovery, because every TURN server is also a STUN server.)
By historical accident, the service name "http" has two synonyms "www" and "www http".
When used in SRV records [RFC2782] and similar service discovery mechanisms, only the service name "http" should be used, not these additional names.
If a server were to advertise "www", it would not be discovered by clients browsing for "http".
Advertising or browsing for the aliases as well as the primary service name is inefficient, and achieves nothing that is not already achieved by using the service name "http" exclusively.
As indicated in this document in Section 10.1, overloading has been used to create replacement names that are consistent with the syntax this document prescribes for legacy names that do not conform to this syntax already.
For such cases, only the new name should be used in SRV records, to avoid the same issues as with historical cases of multiple names, and also because the legacy names are incompatible with SRV record use.
Assignment requests for new names for existing registered services will be rejected, as a result.
Implementers are requested to inform IANA if they discover other cases where a single service has multiple names, so that one name may be recorded as the primary name for service discovery purposes.
Service names are assigned on a "first come, first served" basis, as described in Section 8.1.
Names should be brief and informative, avoiding words or abbreviations that are redundant in the context of the registry (e.g., "port", "service", "protocol", etc.)
Service Name Syntax Valid service names are hereby normatively defined as follows:
MUST be at least 1 character and
no more than 15 characters long  MUST contain
MUST NOT begin or end with a hyphen
hyphens MUST NOT be adjacent to other hyphens
The reason for requiring at least one letter is to avoid service names like "23" (could be confused with a numeric port) or "6000  6063" (could be confused with a numeric port range).
Although service names may contain both upper case and lower case letters, case is ignored for comparison purposes, so both "http" and "HTTP" denote the same service.
Service names are purely opaque identifiers, and no semantics are implied by any superficial structure that a given service name may appear to have.
For example, a company called "Example" may choose to register service names "Example Foo" and "Example Bar" for its "Foo" and "Bar" products, but
the "Example" company cannot claim to "own" all service names beginning with "Example "; they cannot prevent someone else from registering "Example Baz" for a different service, and they cannot prevent other developers from using the "Example Foo" and "Example Bar" service types in order to interoperate with the "Foo" and "Bar" products.
Technically speaking, in service discovery protocols, service names are merely a series of byte values on the wire; for the mnemonic convenience of human developers, it can be convenient to interpret those byte values as human readable ASCII characters, but software should treat them as purely opaque identifiers and not attempt to parse them for any additional embedded meaning.
As of August 5, 2009, approximately 98% of the so called "Short Names" [SYSFORM] [USRFORM] for existing port number assignments [PORTREG] already met the rules for legal service names stated in Section 8.1, and hence for these services their service name is exactly the same as their historical "Short Name".
In approximately 2% of cases, the new "service name" is derived based on the old "Short Name" as described below in Section 10.1.
The rules for valid service names, excepting the limit of 15 characters maximum, are also expressed below (as a non normative convenience) using ABNF [RFC5234].
Service Name Usage in DNS SRV Records
The DNS SRV specification [RFC2782] states that the Service Label part of the owner name of a DNS SRV record includes a "Service" element, described as "the symbolic name of the desired service", but as discussed above, it is not clear precisely what this means.
This document clarifies that the Service Label MUST be a service name as defined herein with an underscore prepended.
The service name SHOULD be registered with IANA and recorded in the Service Name and Transport Protocol Port Number registry [PORTREG].
The details of using Service Names in SRV Service Labels are specified in the DNS SRV specification [RFC2782].
Port Number Ranges TCP, UDP, UDP Lite, SCTP, and DCCP use 16 bit namespaces for their port number registries.
The port registries for all of these transport protocols are subdivided into three ranges of numbers [RFC1340], and Section 8.1.2 describes the IANA procedures for each range in detail:  the System Ports, also known as the Well Known Ports, from 0 1023 (assigned by IANA)
the User Ports, also known as the Registered Ports, from 1024  49151 (assigned by IANA)
the Dynamic Ports, also known as the Private or Ephemeral Ports, from 49152 65535 (never assigned)
Of the assignable port ranges (System Ports and User Ports, i.e., port numbers 0 49151), individual port numbers are in one of three states at any given time:
Assigned port numbers are currently assigned to the service indicated in the registry.
Unassigned: Unassigned port numbers are currently available for assignment upon request, as per the procedures outlined in this document.
Reserved: Reserved port numbers are not available for regular assignment; they are "assigned to IANA" for special purposes.
Reserved port numbers include values at the edges of each range, e.g., 0, 1023, 1024, etc., which may be used to extend these ranges or the overall port number space in the future.
In order to keep the size of the registry manageable, IANA typically only records the Assigned and Reserved service names and port numbers in the registry.
Unassigned values are typically not explicitly listed.
(There are very many Unassigned service names and enumerating them all would not be practical.)
As a data point, when this document was written, approximately 76% of the TCP and UDP System Ports were assigned, and approximately 9% of the User Ports were assigned.
(As noted, Dynamic Ports are never assigned.)
Service Names and Port Numbers for Experimentation Of the System Ports, two TCP and UDP port numbers (1021 and 1022), together with their respective service names ("exp1" and "exp2"), have been assigned for experimentation with new applications and application layer protocols that require a port number in the assigned ports range [RFC4727].
Please refer to Sections 1 and 1.1 of "Assigning Experimental and Testing Numbers Considered Useful" [RFC3692] for how these experimental port numbers are to be used.
This document assigns the same two service names and port numbers for experimentation with new application layer protocols over SCTP and DCCP in Section 10.2.
Unfortunately, it can be difficult to limit access to these ports.
Users SHOULD take measures to ensure that experimental ports are connecting to the intended process.
For example, users of these experimental ports might include a 64 bit nonce, once on each segment of a message oriented channel (e.g., UDP), or once at the beginning of a byte stream (e.g., TCP), which is used to confirm that the port is being used as intended.
Such confirmation of intended use is especially important when these ports are associated with privileged (e.g., system or administrator) processes.
Principles for Service Name and Transport Protocol Port Number Registry Management Management procedures for the Service Name and Transport Protocol Port Number registry include assignment of service names and port numbers upon request, as well as management of information about existing assignments.
The latter includes maintaining contact and description information about assignments, revoking abandoned assignments, and redefining assignments when needed.
Of these procedures, careful port number assignment is most critical, in order to continue to conserve the remaining port numbers.
As noted earlier, only about 9% of the User Port space is currently assigned.
The current rate of assignment is approximately 400 ports per year, and has remained steady for the past 8 years.
At that rate, if similar conservation continues, this resource will sustain another 85 years of assignment without the need to resort to reassignment of released values or revocation.
The namespace available for service names is much larger, which allows for simpler management procedures.
The principles for service name and port number management are based on the recommendations of the IANA "Expert Review" team.
Until recently, that team followed a set of informal guidelines developed based on the review experience from previous assignment requests.
These original guidelines, although informal, had never been publicly documented.
They are recorded here for historical purposes only; the current guidelines are described in Section 7.2.
These guidelines previously were:  TCP and UDP ports were simultaneously assigned when either was requested
Port numbers were the primary assignment; service names were informative only, and did not have a well defined syntax  Port numbers were conserved informally, and sometimes inconsistently (e.g., some services were assigned ranges of many port numbers even where not strictly necessary)  SCTP and DCCP service name and port number registries were managed separately from the TCP/UDP registries
Service names could not be assigned in the old ports registry without assigning an associated port number at the same time 7.2.
This section summarizes the current principles by which IANA both handles the Service Name and Transport Protocol Port Number registry and attempts to conserve the port number space.
This description is intended to inform applicants requesting service names and port numbers.
IANA has flexibility beyond these principles when handling assignment requests; other factors may come into play, and exceptions may be made to best serve the needs of the Internet.
Applicants should be aware that IANA decisions are not required to be bound to these principles.
These principles and general advice to users on port use are expected to change over time.
IANA strives to assign service names that do not request an associated port number assignment under a simple
"First Come First Served" policy [RFC5226].
IANA MAY, at its discretion, refer service name requests to "Expert Review" in cases of mass assignment requests or other situations where IANA believes "Expert Review" is advisable [RFC5226]; use of the "Expert Review" helps advise IANA informally in cases where "IETF Review" or "IESG Approval" is used, as with most IETF protocols.
The basic principle of service name and port number registry management is to conserve use of the port space where possible.
Extensions to support larger port number spaces would require changing many core protocols of the current Internet in a way that would not be backward compatible and interfere with both current and legacy applications.
Conservation of the port number space is required because this space is a limited resource, so applications are expected to participate in the traffic demultiplexing process where feasible.
The port numbers are expected to encode as little information as possible that will still enable an application to perform further demultiplexing by itself.
In particular, the principles form a goal that IANA strives to achieve for new applications (with exceptions as deemed appropriate, especially as for extensions to legacy services) as follows:
IANA strives to assign only one assigned port number per service or application.
Note: At the time of writing of this document, there is no IETF consensus on when it is appropriate to use a second port for an insecure version of a protocol.
IANA strives to assign only one assigned port number for all variants of a service (e.g., for updated versions of a service).
IANA strives to encourage the deployment of secure protocols.
IANA strives to assign only one assigned port number for all different types of devices using or participating in the same service.
IANA strives to assign port numbers only for the transport protocol(s)
explicitly named in an assignment request.
IANA may recover unused port numbers, via the new procedures of de assignment, revocation, and transfer.
Where possible, a given service is expected to demultiplex messages if necessary.
For example, applications and protocols are expected to include in band version information, so that future versions of the application or protocol can share the same assigned port.
Applications and protocols are also expected to be able to efficiently use a single assigned port for multiple sessions, either by demultiplexing multiple streams within one port or by using the assigned port to coordinate using dynamic ports for subsequent exchanges (e.g., in the spirit of FTP [RFC0959]).
Ports are used in various ways, notably:  as endpoint process identifiers  as application protocol identifiers  for firewall filtering purposes Both the process identifier and
the protocol identifier uses suggest that anything a single process can demultiplex, or that can be encoded into a single protocol, should be.
The firewall filtering use suggests that some uses that could be multiplexed or encoded could instead be separated to allow for easier firewall management.
Note that this latter use is much less sound, because port numbers have meaning only for the two endpoints involved in a connection, and drawing conclusions about the service that generated a given flow based on observed port numbers is not always reliable.
Effective with the publication of this document, IANA will begin assigning port numbers for only those transport protocols explicitly included in an assignment request.
This ends the long standing practice of automatically assigning a port number to an application for both TCP and UDP, even if the request is for only one of these transport protocols.
The new assignment procedure conserves resources by assigning a port number to an application for only those transport protocols (TCP, UDP, SCTP, and/or DCCP) it actually uses.
The port number will be marked as Reserved   instead of Assigned   in the port number registries of the other transport protocols.
When applications start supporting the use of some of those additional transport protocols, the Assignee for the assignment MUST request that IANA convert these reserved ports into assignments.
An application MUST NOT assume that it can use a port number assigned to it for use with one transport protocol with another transport protocol without IANA converting the reservation into an assignment.
When the available pool of unassigned numbers has run out in a port range, it will be necessary for IANA to consider the Reserved ports for assignment.
This is part of the motivation for not automatically assigning ports for transport protocols other than the requested one(s).
This will allow more ports to be available for assignment at that point.
To help conserve ports, application developers SHOULD request assignment of only those transport protocols that their application currently uses.
Conservation of port numbers is improved by procedures that allow previously assigned port numbers to become Unassigned, either through de assignment or through revocation, and by a procedure that lets application designers transfer an assigned but unused port number to a new application.
Section 8 describes these procedures, which until now were undocumented.
Port number conservation is also improved by recommending that applications that do not require an assigned port should register only a service name without an associated port number.
IANA Procedures for Managing the Service Name and Transport Protocol Port Number Registry
This section describes the process for handling requests associated with IANA's management of the Service Name and Transport Protocol Port Number registry.
Such requests include initial assignment, de  assignment, reuse, and updates to the contact information or description associated with an assignment.
Revocation is an additional process, initiated by IANA.
Service Name and Port Number Assignment Assignment refers to the process of providing service names or port numbers to applicants.
All such assignments are made from service names or port numbers that are Unassigned or Reserved at the time of the assignment.
Unassigned names and numbers are assigned according to the rules described in Section 8.1.2 below.
Reserved numbers and names are generally only assigned by a "Standards Action" or "IESG Approval", and MUST be accompanied by a statement explaining the reason a Reserved number or name is appropriate for this action.
The only exception to this rule is that the current Assignee of a port number MAY request the assignment of the corresponding Reserved port number for other transport protocols when needed.
IANA will initiate an "Expert Review" [RFC5226] for such requests.
When an assignment for one or more transport protocols is approved, the port number for any non requested transport protocol(s) will be marked as Reserved.
IANA SHOULD NOT assign that port number to any other application or service until no other port numbers remain Unassigned in the requested range.
It is anticipated that at such time a new document will be published specifying IANA procedures for assignment of such ports.
General Assignment Procedure A service name or port number assignment request contains the following information.
The service name is the unique identifier of a given service: Service Name (REQUIRED) Transport Protocol(s)
Assignee (REQUIRED) Contact (REQUIRED) Description (REQUIRED)
Service Code (REQUIRED for DCCP only)
A desired unique service name for the service associated with the assignment request MUST be provided.
This name may be used with various service selection and discovery mechanisms (including, but not limited to, DNS SRV records [RFC2782]).
The name MUST be compliant with the syntax defined in Section 5.1.
In order to be unique, they MUST NOT be identical to any currently assigned service name in the IANA registry [PORTREG].
Service names are case insensitive; they may be provided and entered into the registry with mixed case for clarity, but case is ignored otherwise.
The transport protocol(s) for which an assignment is requested MUST be provided.
This field is currently limited to one or more of TCP, UDP, SCTP, and DCCP.
Requests without any port assignment and only a service name are still required to indicate which protocol the service uses.
Assignee: Name and email address of the party to whom the assignment is made.
The Assignee is the organization, company or individual person responsible for the initial assignment.
For assignments done through RFCs published via the "IETF Document Stream" [RFC4844], the Assignee will be the IESG
Contact: Name and email address of the Contact person for the assignment.
The Contact person is the responsible person for the Internet community to send questions to.
This person is also authorized to submit changes on behalf of the Assignee; in cases of conflict between the Assignee and the Contact, the Assignee decisions take precedence.
Additional address information MAY be provided.
For assignments done through RFCs published via the "IETF Document Stream" [RFC4844], the Contact will be the IETF Chair
A short description of the service associated with the assignment request is REQUIRED.
It should avoid all but the most well known acronyms.
A description of (or a reference to a document describing)
the protocol or application using this port.
The description must state whether the protocol uses IP layer broadcast, multicast, or anycast communication.
For assignments requesting only a Service Name, or a Service Name and User Port, a statement that the protocol is proprietary and not publicly documented is also acceptable, provided that the required information regarding the use of IP broadcast, multicast, or anycast is given.
For any assignment request that includes a User Port, the assignment request MUST explain why a port number in the Dynamic Ports range (discovered by clients dynamically at run time) is unsuitable for the given application.
For any assignment request that includes a System Port, the assignment request MUST explain why a port number in the User Ports or Dynamic Ports ranges is unsuitable, and a reference to a stable protocol specification document MUST be provided.
IANA MAY accept early assignment [RFC4020] requests (known as "early allocation" therein) from IETF working groups that reference a sufficiently stable Internet Draft instead of a published Standards Track RFC.
If assignment of a port number is desired, either the port number the requester suggests for assignment or indication of port range (user or system) MUST be provided.
If only a service name is to be assigned, this field is left empty.
If a specific port number is requested, IANA is encouraged to assign the requested number.
If a range is specified, IANA will choose a suitable number from the User or System Ports ranges.
Note that the applicant MUST NOT use the requested port in implementations deployed for use on the public Internet prior to the completion of the assignment, because there is no guarantee that IANA will assign the requested port.
: If the assignment request includes DCCP as a transport protocol, then the request MUST include a desired unique DCCP service code [RFC5595], and MUST NOT include a requested DCCP service code otherwise.
Section 19.8 of the DCCP specification [RFC4340] defines requirements and rules for assignment, updated by this document.
Note that, as per the DCCP Service Codes document [RFC5595], some service codes are not assigned;
zero (absence of a meaningful service code) and 4294967295 (0xFFFFFFFF; invalid service code) are permanently reserved, and the Private service codes 1056964608 1073741823 (0x3F000000 0x3FFFFFFF
A list of uses by applications or organizations who are not the Assignee.
This list may be augmented by IANA after assignment when unauthorized uses are reported.
Indications of owner/name change, or any other assignment process issue.
This list may be updated by IANA after assignment to help track changes to an assignment, e.g., de assignment, owner/name changes, etc.
If the assignment request is for the addition of a new transport protocol to a previously assigned service name and the requester is not the Assignee or Contact for the previously assigned service name, IANA needs to confirm with the Assignee for the existing assignment whether this addition is appropriate.
If the assignment request is for a new service name sharing the same port as a previously assigned service name (see port number overloading in Section 5), IANA needs to confirm with the Assignee for the existing service name and other appropriate experts whether the overloading is appropriate.
When IANA receives an assignment request   containing the above information   that is requesting a port number, IANA SHALL initiate an "Expert Review" [RFC5226] in order to determine whether an assignment should be made.
For requests that are not seeking a port number, IANA SHOULD assign the service name under a simple "First Come First Served" policy [RFC5226].
Specific Port Number Ranges Section 6 describes the different port number ranges.
It is important to note that IANA applies slightly different procedures when managing the different port ranges of the service name and port number registry:
Ports in the Dynamic Ports range (49152 65535) have been specifically set aside for local and dynamic use and cannot be assigned through IANA.
Application software may simply use any dynamic port that is available on the local host, without any sort of assignment.
On the other hand, application software MUST NOT assume that a specific port number in the Dynamic Ports range will always be available for communication at all times, and a port number in that range hence MUST NOT be used as a service identifier.
Ports in the User Ports range (1024 49151) are available for assignment through IANA, and MAY be used as service identifiers upon successful assignment.
Because assigning a port number for a specific application consumes a fraction of the shared resource that is the port number registry, IANA will require the requester to document the intended use of the port number.
For most IETF protocols, ports in the User Ports range will be assigned under the "IETF Review" or "IESG Approval" procedures [RFC5226] and no further documentation is required.
Where these procedures do not apply, then the requester must input the documentation to the "Expert Review" procedure [RFC5226], by which IANA will have a technical expert review the request to determine whether to grant the assignment.
Regardless of the path ("IETF Review", "IESG Approval", or "Expert Review"), the submitted documentation is expected to be the same, as described in this section, and MUST explain why using a port number in the Dynamic Ports range is unsuitable for the given application.
Further, IANA MAY utilize the "Expert Review" process informally to inform their position in participating in "IETF Review" and "IESG Approval".
Ports in the System Ports range (0 1023) are also available for assignment through IANA.
Because the System Ports range is both the smallest and the most densely assigned, the requirements for new assignments are more strict than those for the User Ports range, and will only be granted under the "IETF Review" or "IESG Approval" procedures [RFC5226].
A request for a System Port number MUST document  both  why using a port number from the Dynamic Ports range is unsuitable  and  why using a port number from the User Ports range is unsuitable for that application.
Service Name and Port Number
The Assignee of a granted port number assignment can return the port number to IANA at any time if they no longer have a need for it.
The port number will be de assigned and will be marked as Reserved.
IANA should not reassign port numbers that have been de assigned until all unassigned port numbers in the specific range have been assigned.
Before proceeding with a port number de assignment, IANA needs to reasonably establish that the value is actually no longer in use.
Because there is much less danger of exhausting the service name space compared to the port number space, it is RECOMMENDED that a given service name remain assigned even after all associated port number assignments have become de assigned.
Under this policy, it will appear in the registry as if it had been created through a service name assignment request that did not include any port numbers.
On rare occasions, it may still be useful to de assign a service name.
In such cases, IANA will mark the service name as Reserved.
IANA will involve their IESG appointed expert in such cases.
IANA will include a comment in the registry when de assignment happens to indicate its historic usage.
Service Name and Port Number Reuse
If the Assignee of a granted port number assignment no longer has a need for the assigned number, but would like to reuse it for a different application, they can submit a request to IANA to do so.
Logically, port number reuse is to be thought of as a de assignment (Section 8.2) followed by an immediate (re )assignment (Section 8.1) of the same port number for a new application.
Consequently, the information that needs to be provided about the proposed new use of the port number is identical to what would need to be provided for a new port number assignment for the specific ports range.
Because there is much less danger of exhausting the service name space compared to the port number space, it is RECOMMENDED that the original service name associated with the prior use of the port number remains assigned, and a new service name be created and associated with the port number.
This is again consistent with viewing a reuse request as a de assignment followed by an immediate (re )assignment.
Reusing an assigned service name for a different application is NOT RECOMMENDED.
IANA needs to carefully review such requests before approving them.
In some instances, the Expert Reviewer will determine that the application the port number was assigned to has found usage beyond the original Assignee, or that there is a concern that it may have such users.
This determination MUST be made quickly.
A community call concerning revocation of a port number (see below)
MAY be considered, if a broader use of the port number is suspected.
Service Name and Port Number
Revocation A port number revocation can be thought of as an IANA initiated de  assignment (Section 8.2), and has exactly the same effect on the registry.
Sometimes, it will be clear that a specific port number is no longer in use and that IANA can revoke it and mark it as Reserved.
At other times, it may be unclear whether a given assigned port number is still in use somewhere in the Internet.
In those cases, IANA must carefully consider the consequences of revoking the port number, and SHOULD only do so if there is an overwhelming need.
With the help of their IESG appointed Expert Reviewer, IANA SHALL formulate a request to the IESG to issue a four week community call concerning the pending port number revocation.
The IESG and IANA, with the Expert Reviewer's support, SHALL determine promptly after the end of the community
call whether revocation should proceed, and then communicate their decision to the community.
This procedure typically involves similar steps to de assignment except that it is initiated by IANA.
Because there is much less danger of exhausting the service name space compared to the port number space, revoking service names is NOT RECOMMENDED.
The value of service names and port numbers is defined by their careful management as a shared Internet resource, whereas enabling transfer allows the potential for associated monetary exchanges.
As a result, the IETF does not permit service name or port number assignments to be transferred between parties, even when they are mutually consenting.
The appropriate alternate procedure is a coordinated de assignment and assignment: The new party requests the service name or port number via an assignment and the previous party releases its assignment via the de assignment procedure outlined above.
With the help of their IESG appointed Expert Reviewer, IANA SHALL carefully determine if there is a valid technical, operational, or managerial reason to grant the requested new assignment.
In addition to the formal procedures described above, updates to the Description and Contact information are coordinated by IANA in an informal manner, and may be initiated by either the Assignee or by IANA, e.g., by the latter requesting an update to current Contact information.
(Note that the Assignee cannot be changed as a separate procedure; see instead Section 8.5 above.)
In the case of disagreements around any request, there is the possibility of appeal following the normal appeals process for IANA assignments as defined by Section 7 of "Guidelines for Writing an IANA Considerations Section in RFCs"
The IANA guidelines described in this document do not change the security properties of UDP, TCP, SCTP, or DCCP.
Assignment of a service name or port number does not in any way imply an endorsement of an application or product, and the fact that network traffic is flowing to or from an assigned port number does not mean that it is "good" traffic, or even that it is used by the assigned service.
Firewall and system administrators should choose how to configure their systems based on their knowledge of the traffic in question, not based on whether or not there is an assigned service name or port number.
Services are expected to include support for security, either as default or dynamically negotiated in band.
The use of separate service name or port number assignments for secure and insecure variants of the same service is to be avoided in order to discourage the deployment of insecure services.
This document obsoletes Sections 8 and 9.1 of the March 2000 IANA Allocation Guidelines [RFC2780].
Upon approval of this document for publication as an RFC, IANA worked with Stuart Cheshire, maintainer of the independent service name registry [SRVREG], to merge the contents of that private registry into the official IANA registry.
The independent registry web page has been updated with pointers to the IANA registry and to this RFC.
IANA created a new service name entry in the service name and port number registry [PORTREG] for all entries in the Protocol and Service Names registry [PROTSERVREG] that did not already have one assigned.
IANA also indicates in the Assignment Notes for "www" and "www http" that they are duplicate terms that refer to the "http" service, and should not be used for discovery purposes.
For this conceptual service (human readable web pages served over HTTP), the correct service name to use for service discovery purposes is "http" (
Service Name Consistency Section 8.1 defines which character strings are well formed service names, which until now had not been clearly defined.
The definition in Section 8.1 was chosen to allow maximum compatibility of service names with current and future service discovery mechanisms.
As of August 5, 2009, approximately 98% of the so called "Short Names" from existing port number assignments [PORTREG] met the rules for legal service names stated in Section 8.1, and hence for these services their service name is exactly the same as their "Short Name".
The remaining approximately 2% of the existing "Short Names" are not suitable to be used directly as well formed service names because they contain illegal characters such as asterisks, dots, pluses, slashes, or underscores.
All existing "Short Names" conform to the length requirement of 15 characters or fewer.
For these 96 unsuitable "Short Names", listed in the table below, the service name is the Short Name with any illegal characters replaced by hyphens.
IANA added an entry to the registry that uses the new well formed primary service name for the existing service and that otherwise duplicates the original assignment information.
In the description field of this new entry giving the primary service name, IANA recorded that it has assigned a well formed service name for the previous service and references the original assignment.
In the Assignment Notes field of the original assignment, IANA added a note that this entry is an alias to the new well formed service name, and that the old service name is historic, not usable for use with many common service discovery mechanisms.
In addition to the 96 names listed above, the service name for "whois " is "whoispp", following the example set by the "application/whoispp query" MIME Content Type [RFC2957].
There were four names recorded in IANA's Port Number Registry [PORTREG] that conflicted with names previously recorded in the ad hoc SRV name registry [SRVREG]: esp, hydra, recipe, and xmp.
The name conflicts were resolved amicably: The IANA Port Number Registry Short Name "esp" had been registered by Andrew Chernow, and he informed the authors that the port was no longer in use and the registration was no longer required.
The SRV registry entry for "esp" remains in effect.
The SRV name "hydra" for SubEthaEdit had already been retired in favor of the new SRV name "see".
The IANA Port Number Registry entry for "hydra" remains in effect.
The SRV name "recipe" was in use in an open source project that had not yet been packaged for distribution, and the registrant Daniel Taylor was willing to change to a different service name.
Thanks to Daniel Taylor for accommodating this change.
The IANA Port Number Registry entry for "recipe" remains in effect.
The IANA Port Number Registry Short Name "xmp" had been registered by Bobby Krupczak, but since his registration included an assigned port number (which is still in use and remains unaffected by this change), he was willing to switch to a different service name.
Thanks to Bobby Krupczak for accommodating this change.
The SRV registry entry for "xmp" remains in effect.
Port Numbers for SCTP and DCCP Experimentation Two System UDP and TCP ports, 1021 and 1022, have been reserved for experimental use [RFC4727].
This document assigns the same port numbers for SCTP and DCCP, updates the TCP and UDP assignments, and also instructs IANA to automatically assign these two port numbers for any future transport protocol with a similar 16 bit port number namespace.
Note that these port numbers are meant for temporary experimentation and development in controlled environments.
Before using these port numbers, carefully consider the advice in Section 6.1 in this document, as well as in Sections 1 and 1.1 of "Assigning Experimental and Testing Numbers Considered Useful" [RFC3692].
Most importantly, application developers must request a permanent port number assignment from IANA as described in Section 8.1 before any kind of non experimental deployment.
This document updates the IANA assignment procedures for the DCCP Port Number and DCCP Service Codes Registries [RFC4340].
DCCP Service Code Registry Service codes are assigned on a "first come, first served" basis according to Section 19.8 of the DCCP specification [RFC4340].
This document updates that section by extending the guidelines given there in the following ways:
IANA MAY assign new service codes without seeking "Expert Review" using their discretion, but SHOULD seek "Expert Review" if a request asks for more than five service codes.
IANA should feel free to contact the DCCP Expert Reviewer with any questions related to requests for DCCP related codepoints.
The DCCP ports registry is defined by Section 19.9 of the DCCP specification [RFC4340].
Assignments in this registry require prior assignment of a service code.
Not all service codes require IANA  assigned ports.
This document updates that section by extending the guidelines given there in the following way:  IANA should normally assign a value in the range 1024 49151 to a DCCP server port.
IANA requests to assign port numbers in the System Ports range (0 through 1023) require an "IETF Review" [RFC5226] prior to assignment by IANA [RFC4340].
IANA MUST NOT assign more than one DCCP server port to a single service code value.
The assignment of multiple service codes to the same DCCP port is allowed, but subject to "Expert Review".
The set of service code values associated with a DCCP server port should be recorded in the service name and port number registry.
A request for additional service codes to be associated with an already assigned port number requires "Expert Review".
These requests will normally be accepted when they originate from the contact associated with the port assignment.
In other cases, these applications will be expected to use an unassigned port, when this is available.
The DCCP specification [RFC4340] notes that a short port name MUST be associated with each DCCP server port that has been assigned.
This document clarifies that this short port name is the service name as defined here, and this name MUST be unique.
ah@tr sys.de) and Allison Mankin (mankin@psg.com) have contributed text and ideas to this document.
