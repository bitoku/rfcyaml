- title: __initial_text__
  contents:
  - "                     Universitat Politecnica de Catalunya/Fundacio i2CAT\n  \
    \               Problem Statement and Requirements for\n  IPv6 over Low-Power\
    \ Wireless Personal Area Network (6LoWPAN) Routing\n"
- title: Abstract
  contents:
  - "Abstract\n   IPv6 over Low-Power Wireless Personal Area Networks (6LoWPANs) are\n\
    \   formed by devices that are compatible with the IEEE 802.15.4\n   standard.\
    \  However, neither the IEEE 802.15.4 standard nor the\n   6LoWPAN format specification\
    \ defines how mesh topologies could be\n   obtained and maintained.  Thus, it\
    \ should be considered how 6LoWPAN\n   formation and multi-hop routing could be\
    \ supported.\n   This document provides the problem statement and design space\
    \ for\n   6LoWPAN routing.  It defines the routing requirements for 6LoWPANs,\n\
    \   considering the low-power and other particular characteristics of the\n  \
    \ devices and links.  The purpose of this document is not to recommend\n   specific\
    \ solutions but to provide general, layer-agnostic guidelines\n   about the design\
    \ of 6LoWPAN routing that can lead to further analysis\n   and protocol design.\
    \  This document is intended as input to groups\n   working on routing protocols\
    \ relevant to 6LoWPANs, such as the IETF\n   ROLL WG.\n"
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This document is not an Internet Standards Track specification;\
    \ it is\n   published for informational purposes.\n   This document is a product\
    \ of the Internet Engineering Task Force\n   (IETF).  It represents the consensus\
    \ of the IETF community.  It has\n   received public review and has been approved\
    \ for publication by the\n   Internet Engineering Steering Group (IESG).  Not\
    \ all documents\n   approved by the IESG are a candidate for any level of Internet\n\
    \   Standard; see Section 2 of RFC 5741.\n   Information about the current status\
    \ of this document, any errata,\n   and how to provide feedback on it may be obtained\
    \ at\n   http://www.rfc-editor.org/info/rfc6606.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (c) 2012 IETF Trust and the persons identified\
    \ as the\n   document authors.  All rights reserved.\n   This document is subject\
    \ to BCP 78 and the IETF Trust's Legal\n   Provisions Relating to IETF Documents\n\
    \   (http://trustee.ietf.org/license-info) in effect on the date of\n   publication\
    \ of this document.  Please review these documents\n   carefully, as they describe\
    \ your rights and restrictions with respect\n   to this document.  Code Components\
    \ extracted from this document must\n   include Simplified BSD License text as\
    \ described in Section 4.e of\n   the Trust Legal Provisions and are provided\
    \ without warranty as\n   described in the Simplified BSD License.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1. Problem Statement ...............................................2\n\
    \   2. Terminology .....................................................5\n  \
    \ 3. Design Space ....................................................5\n    \
    \  3.1. Reference Network Model ....................................6\n   4. Scenario\
    \ Considerations and Parameters for 6LoWPAN Routing ......8\n   5. 6LoWPAN Routing\
    \ Requirements ...................................13\n      5.1. Support of 6LoWPAN\
    \ Device Properties ......................13\n      5.2. Support of 6LoWPAN Link\
    \ Properties ........................15\n      5.3. Support of 6LoWPAN Characteristics\
    \ ........................18\n      5.4. Support of Security .......................................22\n\
    \      5.5. Support of Mesh-Under Forwarding ..........................25\n  \
    \    5.6. Support of Management .....................................26\n   6.\
    \ Security Considerations ........................................27\n   7. Acknowledgments\
    \ ................................................27\n   8. References .....................................................28\n\
    \      8.1. Normative References ......................................28\n  \
    \    8.2. Informative References ....................................29\n"
- title: 1.  Problem Statement
  contents:
  - "1.  Problem Statement\n   6LoWPANs are formed by devices that are compatible\
    \ with the\n   IEEE 802.15.4 standard [IEEE802.15.4].  Most of the LoWPAN devices\n\
    \   are distinguished by their low bandwidth, short range, scarce memory\n   capacity,\
    \ limited processing capability, and other attributes of\n   inexpensive hardware.\
    \  The characteristics of nodes participating in\n   LoWPANs are assumed to be\
    \ those described in the 6LoWPAN problem\n   statement [RFC4919], and in the IPv6\
    \ over IEEE 802.15.4 document\n   [RFC4944], which has specified how to carry\
    \ IPv6 packets over\n   IEEE 802.15.4 and similar networks.  Whereas IEEE 802.15.4\n\
    \   distinguishes two types of devices called full-function devices\n   (FFDs)\
    \ and reduced-function devices (RFDs), this distinction is based\n   on some features\
    \ of the Medium Access Control (MAC) layer that are\n   not always in use.  Hence,\
    \ the distinction is not made in this\n   document.  Nevertheless, some 6LoWPAN\
    \ nodes may limit themselves to\n   the role of hosts only, whereas other 6LoWPAN\
    \ nodes may take part in\n   routing.  This host/ router distinction can correlate\
    \ with the\n   processing and storage capabilities of the device and power available\n\
    \   in a similar way to the idea of RFDs and FFDs.\n   IEEE 802.15.4 networks\
    \ support star and mesh topologies.  However,\n   neither the IEEE 802.15.4 standard\
    \ nor the 6LoWPAN format\n   specification ([RFC4944]) define how mesh topologies\
    \ could be\n   obtained and maintained.  Thus, 6LoWPAN formation and multi-hop\n\
    \   routing can be supported either below the IP layer (the adaptation\n   layer\
    \ or Logical Link Control (LLC)) or the IP layer.  (Note that in\n   the IETF,\
    \ the term \"routing\" usually, but not always [RFC5556],\n   refers exclusively\
    \ to the formation of paths and the forwarding at\n   the IP layer.  In this document,\
    \ we distinguish the layer at which\n   these services are performed by the terms\
    \ \"route-over\" and\n   \"mesh-under\".  See Sections 2 and 3.)  A number of\
    \ IP routing\n   protocols have been developed in various IETF working groups.\n\
    \   However, these existing routing protocols may not satisfy the\n   requirements\
    \ of multi-hop routing in 6LoWPANs, for the following\n   reasons:\n   o  6LoWPAN\
    \ nodes have special types and roles, such as nodes drawing\n      their power\
    \ from primary batteries, power-affluent nodes,\n      mains-powered and high-performance\
    \ gateways, data aggregators,\n      etc.  6LoWPAN routing protocols should support\
    \ multiple device\n      types and roles.\n   o  More stringent requirements apply\
    \ to LoWPANs, as opposed to\n      higher-performance or non-battery-operated\
    \ networks.  6LoWPAN\n      nodes are characterized by small memory sizes and\
    \ low processing\n      power, and they run on very limited power supplied by\
    \ primary\n      non-rechargeable batteries (a few KB of RAM, a few dozen KB of\n\
    \      ROM/ flash memory, and a few MHz of CPU is typical).  A node's\n      lifetime\
    \ is usually defined by the lifetime of its battery.\n   o  Handling sleeping\
    \ nodes is very critical in LoWPANs, more so than\n      in traditional ad hoc\
    \ networks.  LoWPAN nodes might stay in sleep\n      mode most of the time.  Taking\
    \ advantage of appropriate times for\n      transmissions is important for efficient\
    \ packet forwarding.\n   o  Routing in 6LoWPANs might possibly translate to a\
    \ simpler problem\n      than routing in higher-performance networks.  LoWPANs\
    \ might be\n      either transit networks or stub networks.  Under the assumption\n\
    \      that LoWPANs are never transit networks (as implied by [RFC4944]),\n  \
    \    routing protocols may be drastically simplified.  This document\n      will\
    \ focus on the requirements for stub networks.  Additional\n      requirements\
    \ may apply to transit networks.\n   o  Routing in LoWPANs might possibly translate\
    \ to a harder problem\n      than routing in higher-performance networks.  Routing\
    \ in LoWPANs\n      requires power optimization, stable operation in lossy\n \
    \     environments, etc.  These requirements are not easily satisfiable\n    \
    \  all at once [ROLL-PROTOCOLS].\n   These properties create new challenges for\
    \ the design of routing\n   within LoWPANs.\n   The 6LoWPAN problem statement\
    \ [RFC4919] briefly mentions four\n   requirements for routing protocols:\n  \
    \    (a) low overhead on data packets\n      (b) low routing overhead\n      (c)\
    \ minimal memory and computation requirements\n      (d) support for sleeping\
    \ nodes (consideration of battery savings)\n   These four high-level requirements\
    \ describe the basic requirements\n   for 6LoWPAN routing.  Based on the fundamental\
    \ features of 6LoWPANs,\n   more detailed routing requirements, which can lead\
    \ to further\n   analysis and protocol design, are presented in this document.\n\
    \   Considering the problems above, detailed 6LoWPAN routing requirements\n  \
    \ must be defined.  Application-specific features affect the design of\n   6LoWPAN\
    \ routing requirements and corresponding solutions.  However,\n   various applications\
    \ can be profiled by similar technical\n   characteristics, although the related\
    \ detailed requirements might\n   differ (e.g., a few dozen nodes in a home lighting\
    \ system need\n   appropriate scalability for the system's applications, while\
    \ millions\n   of nodes for a highway infrastructure system also need appropriate\n\
    \   scalability).\n   This routing requirements document states the routing requirements\
    \ of\n   6LoWPAN applications in general, providing examples for different\n \
    \  cases of routing.  It does not imply that a single routing solution\n   will\
    \ be favorable for all 6LoWPAN applications, and there is no\n   requirement for\
    \ different routing protocols to run simultaneously.\n"
- title: 2.  Terminology
  contents:
  - "2.  Terminology\n   The key words \"MUST\", \"MUST NOT\", \"REQUIRED\", \"SHALL\"\
    , \"SHALL NOT\",\n   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"MAY\", and\
    \ \"OPTIONAL\" in this\n   document are to be interpreted as described in [RFC2119].\n\
    \   Readers are expected to be familiar with all the terms and concepts\n   that\
    \ are discussed in \"IPv6 over Low-Power Wireless Personal Area\n   Networks (6LoWPANs):\
    \ Overview, Assumptions, Problem Statement, and\n   Goals\" [RFC4919] and \"Transmission\
    \ of IPv6 Packets over IEEE 802.15.4\n   Networks\" [RFC4944].\n   This specification\
    \ makes use of the terminology defined in\n   [6LoWPAN-ND].\n"
- title: 3.  Design Space
  contents:
  - "3.  Design Space\n   Apart from a wide variety of conceivable routing algorithms\
    \ for\n   6LoWPANs, it is possible to perform routing in the IP layer (using a\n\
    \   route-over approach) or below IP, as defined by the 6LoWPAN format\n   document\
    \ [RFC4944] (using the mesh-under approach).  See Figure 1.\n   The route-over\
    \ approach relies on IP routing and therefore supports\n   routing over possibly\
    \ various types of interconnected links.\n   Note: The ROLL WG is now working\
    \ on route-over approaches for\n   Low-power and Lossy Networks (LLNs), not specifically\
    \ for 6LoWPANs.\n   This document focuses on 6LoWPAN-specific requirements; it\
    \ may be\n   used in conjunction with the more application-oriented requirements\n\
    \   defined by the ROLL WG.\n   The mesh-under approach performs the multi-hop\
    \ communication below\n   the IP link.  The most significant consequence of the\
    \ mesh-under\n   mechanism is that the characteristics of IEEE 802.15.4 directly\n\
    \   affect the 6LoWPAN routing mechanisms, including the use of 64-bit\n   (or\
    \ 16-bit short) link-layer addresses instead of IP addresses.  A\n   6LoWPAN would\
    \ therefore be seen as a single IP link.\n   Most statements in this document\
    \ consider both the route-over and\n   mesh-under cases.\n   Figure 1 shows the\
    \ place of 6LoWPAN routing in the entire network\n   stack.\n    +---------------------------+\
    \  +-----------------------------+\n    |      Application Layer    |  |     \
    \ Application Layer      |\n    +---------------------------+  +-----------------------------+\n\
    \    | Transport Layer (TCP/UDP) |  |  Transport Layer (TCP/UDP)  |\n    +---------------------------+\
    \  +-----------------------------+\n    |     Network Layer (IPv6)  |  |  Network\
    \       +---------+  |\n    +---------------------------+  |  Layer         |\
    \ Routing |  |\n    |  6LoWPAN                  |  |  (IPv6)        +---------+\
    \  |\n    |  Adaptation               |  +-----------------------------+\n   \
    \ |  Layer       +----------+ |  |  6LoWPAN Adaptation Layer   |\n    +--------------|\
    \ Routing* |-+  +-----------------------------+\n    | 802.15.4 MAC +----------+\
    \ |  |        802.15.4 MAC         |\n    +---------------------------+  +-----------------------------+\n\
    \    |         802.15.4 PHY      |  |        802.15.4 PHY         |\n    +---------------------------+\
    \  +-----------------------------+\n     * Here, \"Routing\" is not equivalent\
    \ to IP routing,\n       but includes the functionalities of path computation\
    \ and\n       forwarding under the IP layer.\n       The term \"Routing\" is used\
    \ in the figure in order to\n       illustrate which layer handles path computation\
    \ and\n       packet forwarding in mesh-under as compared to route-over.\n   \
    \ Figure 1: Mesh-Under Routing (Left) and Route-Over Routing (Right)\n   In order\
    \ to avoid packet fragmentation and the overhead for\n   reassembly, routing packets\
    \ should fit into a single IEEE 802.15.4\n   physical frame, and application data\
    \ should not be expanded to an\n   extent that they no longer fit.\n"
- title: 3.1.  Reference Network Model
  contents:
  - "3.1.  Reference Network Model\n   For multi-hop communication in 6LoWPANs, when\
    \ a route-over mechanism\n   is in use, all routers (i.e., 6LoWPAN Border Routers\
    \ (6LBRs) and\n   6LoWPAN Routers (6LRs)) perform IP routing within the stub network\n\
    \   (see Figure 2).  In this case, the link-local scope covers the set of\n  \
    \ nodes within symmetric radio range of a node.\n   When a LoWPAN follows the\
    \ mesh-under configuration, the 6LBR is the\n   only IPv6 router in the LoWPAN\
    \ (see Figure 3).  This means that the\n   IPv6 link-local scope includes all\
    \ nodes in the LoWPAN.  For this, a\n   mesh-under mechanism MUST be provided\
    \ to support multi-hop\n   transmission.\n        h   h\n       /    |       \
    \              6LBR: 6LoWPAN Border Router\n   6LBR -- 6LR --- 6LR --- h     \
    \  6LR: 6LoWPAN Router\n           / \\                       h: Host\n      \
    \    h  6LR --- h\n              |\n             / \\\n          6LR - 6LR --\
    \ h\n                Figure 2: An Example of a Route-Over LoWPAN\n        h  \
    \ h\n       /    |                    6LBR: 6LoWPAN Border Router\n   6LBR ---\
    \ m --- m --- h           m: mesh-under forwarder\n           / \\           \
    \           h: Host\n          h   m --- h\n              |\n             / \\\
    \n            m - m -- h\n                Figure 3: An Example of a Mesh-Under\
    \ LoWPAN\n   Note than in both mesh-under and route-over networks, there is no\n\
    \   expectation of topologically based address assignment in the 6LoWPAN.\n  \
    \ Instead, addresses are typically assigned based on the EUI-64\n   addresses\
    \ assigned at manufacturing time to nodes, or based on a\n   (from a topological\
    \ point of view) more or less random process\n   assigning 16-bit MAC addresses\
    \ to individual nodes.  Within a\n   6LoWPAN, there is therefore no opportunity\
    \ for aggregation or\n   summarization of IPv6 addresses beyond the sharing of\
    \ (one or more)\n   common prefixes.\n   Not all devices that are within radio\
    \ range of each other need to be\n   part of the same LoWPAN.  When multiple LoWPANs\
    \ are formed with\n   globally unique IPv6 addresses in the 6LoWPANs, and device\
    \ (a) of\n   LoWPAN [A] wants to communicate with device (b) of LoWPAN [B], the\n\
    \   normal IPv6 mechanisms will be employed.  For route-over, the IPv6\n   address\
    \ of (b) is set as the destination of the packets, and the\n   devices perform\
    \ IP routing to the 6LBR for these outgoing packets.\n   For mesh-under, there\
    \ is one IP hop from device (a) to the 6LBR of\n   [A], no matter how many radio\
    \ hops they are apart from each other.\n   This, of course, assumes the existence\
    \ of a mesh-under routing\n   protocol in order to reach the 6LBR.  Note that\
    \ a default route to\n   the 6LBR could be inserted into the 6LoWPAN routing system\
    \ for both\n   route-over and mesh-under.\n"
- title: 4.  Scenario Considerations and Parameters for 6LoWPAN Routing
  contents:
  - "4.  Scenario Considerations and Parameters for 6LoWPAN Routing\n   IP-based LoWPAN\
    \ technology is still in its early stage of\n   development, but the range of\
    \ conceivable usage scenarios is\n   tremendous.  The numerous possible applications\
    \ of sensor networks\n   make it obvious that mesh topologies will be prevalent\
    \ in LoWPAN\n   environments and robust routing will be a necessity for expedient\n\
    \   communication.  Research efforts in the area of sensor networking\n   have\
    \ put forth a large variety of multi-hop routing algorithms\n   [Bulusu].  Most\
    \ related work focuses on optimizing routing for\n   specific application scenarios,\
    \ which can be realized using several\n   modes of communication, including the\
    \ following [Watteyne]:\n   o  Flooding (in very small networks)\n   o  Hierarchical\
    \ routing\n   o  Geographic routing\n   o  Self-organizing coordinate routing\n\
    \   Depending on the topology of a LoWPAN and the application(s) running\n   over\
    \ it, different types of routing may be used.  However, this\n   document abstracts\
    \ from application-specific communication and\n   describes general routing requirements\
    \ valid for overall routing in\n   LoWPANs.\n   The following parameters can be\
    \ used to describe specific scenarios\n   in which the candidate routing protocols\
    \ could be evaluated.\n   a.  Network Properties:\n       *  Number of Devices,\
    \ Density, and Network Diameter:\n          These parameters usually affect the\
    \ routing state directly\n          (e.g., the number of entries in a routing\
    \ table or neighbor\n          list).  Especially in large and dense networks,\
    \ policies must\n          be applied for discarding \"low-quality\" and stale\
    \ routing\n          entries in order to prevent memory overflow.\n       *  Connectivity:\n\
    \          Due to external factors or programmed disconnections, a LoWPAN\n  \
    \        can be in several states of connectivity -- anything in the\n       \
    \   range from \"always connected\" to \"rarely connected\".  This\n         \
    \ poses great challenges to the dynamic discovery of routes\n          across\
    \ a LoWPAN.\n       *  Dynamicity (including mobility):\n          Location changes\
    \ can be induced by unpredictable external\n          factors or by controlled\
    \ motion, which may in turn cause route\n          changes.  Also, nodes may dynamically\
    \ be introduced into a\n          LoWPAN and removed from it later.  The routing\
    \ state and the\n          volume of control messages may heavily depend on the\
    \ number of\n          moving nodes in a LoWPAN and their speed, as well as how\n\
    \          quickly and frequently environmental characteristics\n          influencing\
    \ radio propagation change.\n       *  Deployment:\n          In a LoWPAN, it\
    \ is possible for nodes to be scattered randomly\n          or to be deployed\
    \ in an organized manner.  The deployment can\n          occur at once, or as\
    \ an iterative process, which may also\n          affect the routing state.\n\
    \       *  Spatial Distribution of Nodes and Gateways:\n          Network connectivity\
    \ depends on the spatial distribution of\n          the nodes and on other factors,\
    \ such as device number,\n          density, and transmission range.  For instance,\
    \ nodes can be\n          placed on a grid, or randomly located in an area (as\
    \ can be\n          modeled by a two-dimensional Poisson distribution), etc.\n\
    \          Assuming a random spatial distribution, an average of 7\n         \
    \ neighbors per node are required for approximately 95% network\n          connectivity\
    \ (10 neighbors per node are needed for 99%\n          connectivity) [Kuhn]. \
    \ In addition, if the LoWPAN is connected\n          to other networks through\
    \ infrastructure nodes called\n          gateways, the number and spatial distribution\
    \ of these\n          gateways affect network congestion and available data rate,\n\
    \          among other things.\n       *  Traffic Patterns, Topology, and Applications:\n\
    \          The design of a LoWPAN and the requirements for its\n          application\
    \ have a big impact on the network topology and the\n          most efficient\
    \ routing type to be used.  For different traffic\n          patterns (point-to-point,\
    \ multipoint-to-point, point-to-\n          multipoint) and network architectures,\
    \ various routing\n          mechanisms have been developed, such as data-centric,\
    \ event-\n          driven, address-centric, and geographic routing.\n       *\
    \  Classes of Service:\n          For mixing applications of different criticality\
    \ on one\n          LoWPAN, support of multiple classes of service may be required\n\
    \          in resource-constrained LoWPANs and may require a new routing\n   \
    \       protocol functionality.\n       *  Security:\n          LoWPANs may carry\
    \ sensitive information and require a high\n          level of security support\
    \ where the availability, integrity,\n          and confidentiality of data are\
    \ of prime relevance.  Secured\n          messages cause overhead and affect the\
    \ power consumption of\n          LoWPAN routing protocols.\n   b.  Node Parameters:\n\
    \       *  Processing Speed and Memory Size:\n          These basic parameters\
    \ define the maximum size of the routing\n          state and the maximum complexity\
    \ of its processing.  LoWPAN\n          nodes may have different performance characteristics,\
    \ queuing\n          strategies, and queue buffer sizes.\n       *  Power Consumption\
    \ and Power Source:\n          The number of battery- and mains-powered nodes\
    \ and their\n          positions in the topology created by them in a LoWPAN affect\n\
    \          routing protocols in their selection of paths that optimize\n     \
    \     network lifetime.\n       *  Transmission Range:\n          This parameter\
    \ affects routing.  For example, a high\n          transmission range may cause\
    \ a dense network, which in turn\n          results in more direct neighbors of\
    \ a node, higher\n          connectivity, and a larger routing state.\n      \
    \ *  Traffic Pattern:\n          This parameter affects routing, since highly\
    \ loaded nodes\n          (either because they are the source of packets to be\n\
    \          transmitted or due to forwarding) may contribute to higher\n      \
    \    delivery delays and may consume more energy than lightly\n          loaded\
    \ nodes.  This applies to both data packets and routing\n          control messages.\n\
    \   c.  Link Parameters:\n       This section discusses link parameters that apply\
    \ to\n       IEEE 802.15.4 legacy mode (i.e., not making use of improved\n   \
    \    modulation schemes).\n       *  Throughput:\n          The maximum user data\
    \ throughput of a bulk data transmission\n          between a single sender and\
    \ a single receiver through an\n          unslotted IEEE 802.15.4 2.4 GHz channel\
    \ in ideal conditions is\n          as follows [Latre]:\n          +  16-bit MAC\
    \ addresses, unreliable mode: 151.6 kbit/s\n          +  16-bit MAC addresses,\
    \ reliable mode: 139.0 kbit/s\n          +  64-bit MAC addresses, unreliable mode:\
    \ 135.6 kbit/s\n          +  64-bit MAC addresses, reliable mode: 124.4 kbit/s\n\
    \          Throughput for the 915 MHz band is as follows:\n          +  16-bit\
    \ MAC addresses, unreliable mode: 31.1 kbit/s\n          +  16-bit MAC addresses,\
    \ reliable mode: 28.6 kbit/s\n          +  64-bit MAC addresses, unreliable mode:\
    \ 27.8 kbit/s\n          +  64-bit MAC addresses, reliable mode: 25.6 kbit/s\n\
    \          Throughput for the 868 MHz band is as follows:\n          +  16-bit\
    \ MAC addresses, unreliable mode: 15.5 kbit/s\n          +  16-bit MAC addresses,\
    \ reliable mode: 14.3 kbit/s\n          +  64-bit MAC addresses, unreliable mode:\
    \ 13.9 kbit/s\n          +  64-bit MAC addresses, reliable mode: 12.8 kbit/s\n\
    \       *  Latency:\n          Latency ranges -- depending on payload size --\
    \ of a frame\n          transmission between a single sender and a single receiver\n\
    \          through an unslotted IEEE 802.15.4 2.4 GHz channel in ideal\n     \
    \     conditions are as shown below [Latre].  For unreliable mode,\n         \
    \ the actual latency is provided.  For reliable mode, the round-\n          trip\
    \ time, including transmission of a Layer-2 acknowledgment,\n          is provided:\n\
    \          +  16-bit MAC addresses, unreliable mode: [1.92 ms, 6.02 ms]\n    \
    \      +  16-bit MAC addresses, reliable mode: [2.46 ms, 6.56 ms]\n          +\
    \  64-bit MAC addresses, unreliable mode: [2.75 ms, 6.02 ms]\n          +  64-bit\
    \ MAC addresses, reliable mode: [3.30 ms, 6.56 ms]\n          Latency ranges for\
    \ the 915 MHz band are as follows:\n          +  16-bit MAC addresses, unreliable\
    \ mode: [5.85 ms, 29.35 ms]\n          +  16-bit MAC addresses, reliable mode:\
    \ [8.35 ms, 31.85 ms]\n          +  64-bit MAC addresses, unreliable mode: [8.95\
    \ ms, 29.35 ms]\n          +  64-bit MAC addresses, reliable mode: [11.45 ms,\
    \ 31.82 ms]\n          Latency ranges for the 868 MHz band are as follows:\n \
    \         +  16-bit MAC addresses, unreliable mode: [11.7 ms, 58.7 ms]\n     \
    \     +  16-bit MAC addresses, reliable mode: [16.7 ms, 63.7 ms]\n          +\
    \  64-bit MAC addresses, unreliable mode: [17.9 ms, 58.7 ms]\n          +  64-bit\
    \ MAC addresses, reliable mode: [22.9 ms, 63.7 ms]\n   Note that some of the parameters\
    \ presented in this section may be\n   used as link or node evaluation metrics.\
    \  However, multi-criteria\n   routing may be too expensive for 6LoWPAN nodes.\
    \  Rather, various\n   single-criteria metrics are available and can be selected\
    \ to suit the\n   environment or application.\n"
- title: 5.  6LoWPAN Routing Requirements
  contents:
  - "5.  6LoWPAN Routing Requirements\n   This section defines a list of requirements\
    \ for 6LoWPAN routing.  An\n   important design property specific to low-power\
    \ networks is that\n   LoWPANs have to support multiple device types and roles,\
    \ such as\n   o  host nodes drawing their power from primary batteries or using\n\
    \      energy harvesting (sometimes called \"power-constrained nodes\")\n   o\
    \  mains-powered host nodes (an example of what we call \"power-\n      affluent\
    \ nodes\")\n   o  power-affluent (but not necessarily mains-powered) high-\n \
    \     performance gateway(s)\n   o  nodes with various functionality (data aggregators,\
    \ relays, local\n      manager/coordinators, etc.)\n   Due to these different\
    \ device types and roles, LoWPANs need to\n   consider the following two primary\
    \ attributes:\n   o  Power conservation: some devices are mains-powered, but many\
    \ are\n      battery-operated and need to last several months to a few years\n\
    \      with a single AA battery.  Many devices are mains-powered most of\n   \
    \   the time but still need to function on batteries for possibly\n      extended\
    \ periods (e.g., on a construction site before building\n      power is switched\
    \ on for the first time).\n   o  Low performance: tiny devices, small memory sizes,\
    \ low-performance\n      processors, low bandwidth, high loss rates, etc.\n  \
    \ These fundamental attributes of LoWPANs affect the design of routing\n   solutions.\
    \  Whether existing routing specifications are simplified\n   and modified, or\
    \ new solutions are introduced in order to fit the\n   low-power requirements\
    \ of LoWPANs, they need to meet the requirements\n   described below.\n"
- title: 5.1.  Support of 6LoWPAN Device Properties
  contents:
  - "5.1.  Support of 6LoWPAN Device Properties\n   The general objectives listed\
    \ in this section should be met by\n   6LoWPAN routing protocols.  The importance\
    \ of each requirement is\n   dependent on what node type the protocol is running\
    \ on and what the\n   role of the node is.  The following requirements consider\
    \ the\n   presence of battery-powered nodes in LoWPANs.\n   [R01] 6LoWPAN routing\
    \ protocols SHOULD allow implementation with\n   small code size and require low\
    \ routing state to fit the typical\n   6LoWPAN node capacity.  Generally speaking,\
    \ the code size is bounded\n   by available flash memory size, and the routing\
    \ table is bounded by\n   RAM size, possibly limiting it to less than 32 entries.\n\
    \      The RAM size of LoWPAN nodes often ranges between 4 KB and 10 KB\n    \
    \  (2 KB minimum), and program flash memory normally consists of 48\n      KB\
    \ to 128 KB.  (For example, in the current market, MICAz has 128\n      KB program\
    \ flash, 4 KB EEPROM, and 512 KB external flash ROM;\n      TIP700CM has 48 KB\
    \ program flash, 10 KB RAM, and 1 MB external\n      flash ROM.)\n      Due to\
    \ these hardware restrictions, code SHOULD fit within a small\n      memory size\
    \ -- no more than 48 KB to 128 KB of flash memory,\n      including at least a\
    \ few tens of KB of application code size.  (As\n      a general observation,\
    \ a routing protocol of low complexity may\n      help achieve the goal of reducing\
    \ power consumption, improves\n      robustness, requires lower routing state,\
    \ is easier to analyze,\n      and may be less prone to security attacks.)\n \
    \     In addition, operation with limited amounts of routing state (such\n   \
    \   as routing tables and neighbor lists) SHOULD be maintained, since\n      some\
    \ typical memory sizes preclude storing state of a large number\n      of nodes.\
    \  For instance, industrial monitoring applications may\n      need to support\
    \ a maximum of 20 hops [RFC5673].  Small networks\n      can be designed to support\
    \ a smaller number of hops.  While the\n      need for this is highly dependent\
    \ on the network architecture,\n      there should be at least one mode of operation\
    \ that can function\n      with 32 forwarding entries or less.\n   [R02] 6LoWPAN\
    \ routing protocols SHOULD cause minimal power\n   consumption by efficiently\
    \ using control packets (e.g., minimizing\n   expensive IP multicast, which causes\
    \ link broadcast to the entire\n   LoWPAN) and by efficiently routing data packets.\n\
    \      One way of optimizing battery lifetime is by achieving a minimal\n    \
    \  control message overhead.  Compared to such functions as\n      computational\
    \ operations or taking sensor samples, radio\n      communication is by far the\
    \ dominant factor of power consumption\n      [Doherty].  Power consumption of\
    \ transmission and/or reception\n      depends linearly on the length of data\
    \ units and on the frequency\n      of transmission and reception of the data\
    \ units [Shih].\n      The energy consumption of two example radio frequency (RF)\n\
    \      controllers for low-power nodes is shown in [Hill].  The TR1000\n     \
    \ radio consumes 21 mW when transmitting at 0.75 mW, and 15 mW\n      during reception\
    \ (with a receiver sensitivity of -85 dBm).  The\n      CC1000 consumes 31.6 mW\
    \ when transmitting at 0.75 mW, and 20 mW\n      during reception (with a receiver\
    \ sensitivity of -105 dBm).  Power\n      endurance under the concept of an idealized\
    \ power source is\n      explained in [Hill].  Based on the energy of an idealized\
    \ AA\n      battery, the CC1000 can transmit for approximately 4 days straight\n\
    \      or receive for 9 consecutive days.  Note that availability for\n      reception\
    \ consumes power as well.\n      As multicast may cause flooding in the LoWPAN,\
    \ a 6LoWPAN routing\n      protocol SHOULD minimize the control cost by multicasting\
    \ routing\n      packets.\n      Control cost of routing protocols in low-power\
    \ and lossy networks\n      is discussed in more detail in [ROLL-PROTOCOLS].\n"
- title: 5.2.  Support of 6LoWPAN Link Properties
  contents:
  - "5.2.  Support of 6LoWPAN Link Properties\n   6LoWPAN links have the characteristics\
    \ of low data rate and possibly\n   high loss rates.  The routing requirements\
    \ described in this section\n   are derived from the link properties.\n   [R03]\
    \ 6LoWPAN routing protocol control messages SHOULD NOT exceed a\n   single IEEE\
    \ 802.15.4 frame size, in order to avoid packet\n   fragmentation and the overhead\
    \ for reassembly.\n      In order to save energy, routing overhead should be minimized\
    \ to\n      prevent fragmentation of frames.  Therefore, 6LoWPAN routing\n   \
    \   should not cause packets to exceed the IEEE 802.15.4 frame size.\n      This\
    \ reduces the energy required for transmission, avoids\n      unnecessary waste\
    \ of bandwidth, and prevents the need for packet\n      reassembly.  The [IEEE802.15.4]\
    \ standard specifies an MTU of\n      127 bytes, yielding about 80 octets of actual\
    \ MAC payload with\n      security enabled, some of which is taken for the (typically\n\
    \      compressed) IP header [RFC6282].  Avoiding fragmentation at the\n     \
    \ adaptation layer may imply the use of semantic fragmentation\n      and/or algorithms\
    \ that can work on small increments of routing\n      information.\n   [R04] The\
    \ design of routing protocols for LoWPANs must consider the\n   fact that packets\
    \ are to be delivered with sufficient probability\n   according to application\
    \ requirements.\n      Requirements for a successful end-to-end packet delivery\
    \ ratio\n      (where delivery may be bounded within certain latency levels)\n\
    \      vary, depending on the application.  In industrial applications,\n    \
    \  some non-critical monitoring applications may tolerate a\n      successful\
    \ delivery ratio of less than 90% with hours of latency;\n      in some other\
    \ cases, a delivery ratio of 99.9% is required\n      [RFC5673].  In building\
    \ automation applications, application-layer\n      errors must be below 0.01%\
    \ [RFC5867].\n      Successful end-to-end delivery of packets in an IEEE 802.15.4\
    \ mesh\n      depends on the quality of the path selected by the routing\n   \
    \   protocol and on the ability of the routing protocol to cope with\n      short-term\
    \ and long-term quality variation.  The metric of the\n      routing protocol\
    \ strongly influences performance of the routing\n      protocol in terms of delivery\
    \ ratio.\n      The quality of a given path depends on the individual qualities\
    \ of\n      the links (including the devices) that compose that path.\n      IEEE\
    \ 802.15.4 settings affect the quality perceived at upper\n      layers.  In particular,\
    \ in IEEE 802.15.4 reliable mode, if an\n      acknowledgment frame is not received\
    \ after a given period, the\n      originator retries frame transmission up to\
    \ a maximum number of\n      times.  If an acknowledgment frame is still not received\
    \ by the\n      sender after performing the maximum number of transmission\n \
    \     attempts, the MAC layer assumes that the transmission has failed\n     \
    \ and notifies the next higher layer of the failure.  Note that\n      excessive\
    \ retransmissions may be detrimental; see RFC 3819\n      [RFC3819].\n   [R05]\
    \ The design of routing protocols for LoWPANs must consider the\n   latency requirements\
    \ of applications and IEEE 802.15.4 link latency\n   characteristics.\n      Latency\
    \ requirements may differ -- e.g., from a few hundred\n      milliseconds to minutes\
    \ -- depending on the type of application.\n      Real-time building automation\
    \ applications usually need response\n      times below 500 ms between egress\
    \ and ingress, while forced-entry\n      security alerts must be routed to one\
    \ or more fixed or mobile user\n      devices within 5 seconds [RFC5867].  Non-critical\
    \ closed-loop\n      applications for industrial automation have latency requirements\n\
    \      that can be as low as 100 ms, but many control loops are tolerant\n   \
    \   of latencies above 1 s [RFC5673].  In contrast, urban monitoring\n      applications\
    \ allow latencies smaller than the typical intervals\n      used for reporting\
    \ sensed information -- for instance, on the\n      order of seconds to minutes\
    \ [RFC5548].\n      The range of latencies of a frame transmission between a single\n\
    \      sender and a single receiver through an ideal unslotted\n      IEEE 802.15.4\
    \ 2.4 GHz channel is between 2.46 ms and 6.02 ms with\n      64-bit MAC addresses\
    \ in unreliable mode, and between 2.20 ms and\n      6.56 ms with 64-bit MAC addresses\
    \ in reliable mode.  The range of\n      latencies of the 868 MHz band is from\
    \ 11.7 ms to 63.7 ms,\n      depending on the address type and mode used (reliable\
    \ or\n      unreliable).  Note that the latencies may be larger than that,\n \
    \     depending on channel load, the MAC-layer settings, and the choice\n    \
    \  of reliable or unreliable mode.  Note that MAC approaches other\n      than\
    \ legacy 802.15.4 may be used (e.g., TDMA).  Duty cycling may\n      further affect\
    \ latency (see [R08]).  Depending on the routing path\n      chosen and the network\
    \ diameter, multiple hops may contribute to\n      the end-to-end latency that\
    \ an application may experience.\n      Note that a tradeoff exists between [R05]\
    \ and [R04].\n   [R06] 6LoWPAN routing protocols SHOULD be robust to dynamic loss\n\
    \   caused by link failure or device unavailability either in the short\n   term\
    \ (approx. 30 ms) -- due to Received Signal Strength Indication\n   (RSSI) variation,\
    \ interference variation, noise, and asynchrony -- or\n   in the long term, due\
    \ to a depleted power source, hardware breakdown,\n   operating system misbehavior,\
    \ etc.\n      An important trait of 6LoWPAN devices is their unreliability,\n\
    \      which can be due to limited system capabilities and possibly being\n  \
    \    closely coupled to the physical world with all its unpredictable\n      variations.\
    \  In harsh environments, LoWPANs easily suffer from\n      link failure.  Collisions\
    \ or link failures easily increase send\n      and receive queues and can lead\
    \ to queue overflow and packet\n      losses.\n      For home applications, where\
    \ users expect feedback after carrying\n      out certain actions (such as handling\
    \ a remote control while\n      moving around), routing protocols must converge\
    \ within 2 seconds\n      if the destination node of the packet has moved and\
    \ must converge\n      within 0.5 seconds if only the sender has moved [RFC5826].\
    \  The\n      tolerance of the recovery time can vary, depending on the\n    \
    \  application; however, the routing protocol must provide the\n      detection\
    \ of short-term unavailability and long-term\n      disappearance.  The routing\
    \ protocol has to exploit network\n      resources (e.g., path redundancy) to\
    \ offer good network behavior\n      despite node failure.\n      Different routing\
    \ protocols may exhibit different scaling\n      characteristics with respect\
    \ to the recovery/convergence time and\n      the computational resources to achieve\
    \ recovery after a\n      convergence; see also [R01] and [R10].\n   [R07] 6LoWPAN\
    \ routing protocols SHOULD be designed to correctly\n   operate in the presence\
    \ of link asymmetry.\n      Link asymmetry occurs when the probability of successful\n\
    \      transmission between two nodes is significantly higher in one\n      direction\
    \ than in the other.  This phenomenon has been reported in\n      a large number\
    \ of experimental studies, and it is expected that\n      6LoWPANs will exhibit\
    \ link asymmetry.\n"
- title: 5.3.  Support of 6LoWPAN Characteristics
  contents:
  - "5.3.  Support of 6LoWPAN Characteristics\n   6LoWPANs can be deployed in different\
    \ sizes and topologies, adhere to\n   various models of mobility, be exposed to\
    \ various levels of\n   interference, etc.  In any case, LoWPANs must maintain\
    \ low energy\n   consumption.  The requirements described in this subsection are\n\
    \   derived from the network attributes of 6LoWPANs.\n   [R08] The design of 6LoWPAN\
    \ routing protocols SHOULD take into\n   account that some nodes may be unresponsive\
    \ during certain time\n   intervals, due to periodic hibernation.\n      Many\
    \ nodes in LoWPAN environments might periodically hibernate\n      (i.e., disable\
    \ their transceiver activity) in order to save\n      energy.  Therefore, routing\
    \ protocols must ensure robust packet\n      delivery despite nodes frequently\
    \ shutting off their radio\n      transmission interface.  Feedback from the lower\
    \ IEEE 802.15.4\n      layer may be considered to enhance the power awareness\
    \ of 6LoWPAN\n      routing protocols.\n      CC1000-based nodes must operate\
    \ at a duty cycle of approximately\n      2% to survive for one year from an idealized\
    \ AA battery power\n      source [Hill].  For home automation purposes, it is\
    \ suggested that\n      the devices have to maximize the sleep phase with a duty\
    \ cycle\n      lower than 1% [RFC5826], while in building automation\n      applications,\
    \ batteries must be operational for at least 5 years\n      when the sensing devices\
    \ are transmitting data (e.g., 64 bytes)\n      once per minute [RFC5867].\n \
    \     Depending on the application in use, packet rates may range from\n     \
    \ one per second to one per day, or beyond.  Routing protocols may\n      take\
    \ advantage of knowledge about the packet transmission rate and\n      utilize\
    \ this information in calculating routing paths.  In many\n      IEEE 802.15.4\
    \ deployments, and in other wireless low-power\n      technologies, forwarders\
    \ are mains-powered devices (and hence do\n      not need to sleep).  However,\
    \ it cannot be assumed that all\n      forwarders are mains-powered.  A routing\
    \ protocol that addresses\n      this case SHOULD provide a mode in which power\
    \ consumption is a\n      metric.  In addition, using nodes in power-saving modes\
    \ for\n      forwarding may increase delay and reduce the probability of packet\n\
    \      delivery, which in this case also should be available as an input\n   \
    \   into the path computation.\n   [R09] The metric used by 6LoWPAN routing protocols\
    \ SHOULD provide\n   some flexibility with respect to the inputs provided by the\
    \ lower\n   layers and other measures to optimize path selection, considering\n\
    \   energy balance and link qualities.\n      In homes, buildings, or infrastructure,\
    \ some nodes will be\n      installed with mains power.  Such power-installed\
    \ nodes MUST be\n      considered as relay points for a prominent role in packet\n\
    \      delivery.  6LoWPAN routing protocols MUST know the power\n      constraints\
    \ of the nodes.\n      Simple hop-count-only mechanisms may be inefficient in\
    \ 6LoWPANs.\n      There is a Link Quality Indication (LQI) and/or RSSI from\n\
    \      IEEE 802.15.4 that may be taken into account for better metrics.\n    \
    \  The metric to be used (and its goal) may depend on applications\n      and\
    \ requirements.\n      The numbers in Figure 4 represent the Link Delivery Ratio\
    \ (LDR) of\n      each pair of nodes.  There are studies that show a piecewise\n\
    \      linear dependence between the LQI and the LDR [Chen].\n               \
    \                      0.6\n                                  A-------C\n    \
    \                               \\     /\n                                0.9\
    \ \\   / 0.9\n                                     \\ /\n                    \
    \                  B\n                         Figure 4: An Example Network\n\
    \      In this simple example, there are two options in routing from\n      node\
    \ A to node C, with the following features:\n      A.  Path AC:\n          + \
    \ (1/0.6) = 1.67 avg. transmissions needed for each packet\n             (confirmed\
    \ link-layer delivery with retransmissions and\n             negligible ACK loss\
    \ have been assumed)\n          +  one-hop path\n          +  good energy consumption\
    \ and end-to-end latency of data\n             packets, poor delivery ratio (0.6)\n\
    \          +  poor probability of route reconfigurations\n      B.  Path ABC:\n\
    \          +  (1/0.9)+(1/0.9) = 2.22 avg. transmissions needed for each\n    \
    \         packet (under the same assumptions as above)\n          +  two-hop path\n\
    \          +  poor energy consumption and end-to-end latency of data\n       \
    \      packets, good delivery ratio (0.81)\n      If energy consumption of the\
    \ network must be minimized, path AC is\n      the best (this path would be chosen\
    \ based on a hop-count metric).\n      However, if the delivery ratio in that\
    \ case is not sufficient, the\n      best path is ABC (it would be chosen by an\
    \ LQI-based metric).\n      Combinations of both metrics can be used.\n      The\
    \ metric also affects the probability of route reconfiguration.\n      Route reconfiguration,\
    \ which may be triggered by packet losses,\n      may require transmission of\
    \ routing protocol messages.  It is\n      possible to use a metric aimed at selecting\
    \ the path with a low\n      route reconfiguration rate by using the LQI as an\
    \ input to the\n      metric.  Such a path has good properties, including stability\
    \ and\n      low control message overhead.\n   Note that a tradeoff exists between\
    \ [R09] and [R01].\n   [R10] 6LoWPAN routing protocols SHOULD be designed to achieve\
    \ both\n   scalability -- from a few nodes to maybe millions of nodes -- and\n\
    \   minimal use of system resources.\n      A LoWPAN may consist of just a couple\
    \ of nodes (for instance, in a\n      body-area network), but may also contain\
    \ much higher numbers of\n      devices (e.g., monitoring of a city infrastructure\
    \ or a highway).\n      For home automation applications, it is envisioned that\
    \ the\n      routing protocol must support 250 devices in the network\n      [RFC5826],\
    \ while routing protocols for metropolitan-scale sensor\n      networks must be\
    \ capable of clustering a large number of sensing\n      nodes into regions containing\
    \ on the order of 10^2 to 10^4 sensing\n      nodes each [RFC5548].  It is therefore\
    \ necessary that routing\n      mechanisms are designed to be scalable for operation\
    \ in networks\n      of various sizes.  However, due to a lack of memory size\
    \ and\n      computational power, 6LoWPAN routing might limit forwarding\n   \
    \   entries to a small number, such as a maximum of 32 routing table\n      entries.\
    \  Particularly in large networks, the routing mechanism\n      MUST be designed\
    \ in such a way that the number of routers is\n      smaller than the number of\
    \ hosts.\n   [R11] The procedure of route repair and related control messages\n\
    \   SHOULD NOT harm overall energy consumption from the routing\n   protocols.\n\
    \      Local repair improves throughput and end-to-end latency,\n      especially\
    \ in large networks.  Since routes are repaired quickly,\n      fewer data packets\
    \ are dropped, and a smaller number of routing\n      protocol packet transmissions\
    \ are needed, since routes can be\n      repaired without source-initiated route\
    \ discovery [Lee].  One\n      important consideration here may be to avoid premature\
    \ energy\n      depletion, even if that impairs other requirements.\n   [R12]\
    \ 6LoWPAN routing protocols SHOULD allow for dynamically adaptive\n   topologies\
    \ and mobile nodes.  When supporting dynamic topologies and\n   mobile nodes,\
    \ route maintenance should keep in mind the goal of a\n   minimal routing state\
    \ and routing protocol message overhead.\n      Topological node mobility may\
    \ be the result of physical movement\n      and/or a changing radio environment,\
    \ making it very likely that\n      mobility needs to be handled even in a network\
    \ with physically\n      static nodes.  6LoWPANs do not make use of a separate\
    \ protocol to\n      maintain connectivity to moving nodes but expects the routing\n\
    \      protocol to handle it.\n      In addition, some nodes may move from one\
    \ 6LoWPAN to another and\n      are expected to become functional members of the\
    \ latter 6LoWPAN in\n      a limited amount of time.\n      Building monitoring\
    \ applications, for instance, have a number of\n      requirements with respect\
    \ to recovery and settling time for\n      mobility that range between 5 and 20\
    \ seconds (Section 5.3.1 of\n      [RFC5867]).  For more interactive applications\
    \ such as those used\n      in home automation systems, where users provide input\
    \ and expect\n      instant feedback, mobility requirements are also stricter\
    \ and, for\n      moves within a network, a convergence time below 0.5 seconds\
    \ is\n      commonly required (Section 3.2 of [RFC5826]).  In industrial\n   \
    \   environments, where mobile equipment (e.g., cranes) moves around,\n      the\
    \ routing protocol needs to support vehicular speeds of up to\n      35 km/h [RFC5673].\
    \  Currently, 6LoWPANs are not normally being\n      used for such fast mobility,\
    \ but dynamic association and\n      disassociation MUST be supported in 6LoWPANs.\n\
    \      There are several challenges that should be addressed by a 6LoWPAN\n  \
    \    routing protocol in order to create robust routing in dynamic\n      environments:\n\
    \      *  Mobile Nodes Changing Their Location inside a LoWPAN:\n         If the\
    \ nodes' movement pattern is unknown, mobility cannot\n         easily be detected\
    \ or distinguished by the routing protocols.\n         Mobile nodes can be treated\
    \ as nodes that disappear and\n         reappear in another place.  The tracking\
    \ of movement patterns\n         increases complexity and can be avoided by handling\
    \ moving\n         nodes using reactive route updates.\n      *  Movement of a\
    \ LoWPAN with Respect to Other (Inter)Connected\n         LoWPANs:\n         Within\
    \ each stub network, (one or more) relatively powerful\n         gateway nodes\
    \ (6LBRs) need to be configured to handle moving\n         LoWPANs.\n      * \
    \ Nodes Permanently Joining or Leaving the LoWPAN:\n         In order to ease\
    \ routing table updates, reduce the size of\n         these updates, and minimize\
    \ error control messages, nodes\n         leaving the network may announce their\
    \ disassociation to the\n         closest edge router or to a specific node (if\
    \ any) that takes\n         charge of local association and disassociation.\n\
    \   [R13] A 6LoWPAN routing protocol SHOULD support various traffic\n   patterns\
    \ -- point-to-point, point-to-multipoint, and multipoint-to-\n   point -- while\
    \ avoiding excessive multicast traffic in a LoWPAN.\n      6LoWPANs often have\
    \ point-to-multipoint or multipoint-to-point\n      traffic patterns.  Many emerging\
    \ applications include point-to-\n      point communication as well.  6LoWPAN\
    \ routing protocols should be\n      designed with the consideration of forwarding\
    \ packets from/to\n      multiple sources/destinations.  Current documents of\
    \ the ROLL WG\n      explain that the workload or traffic pattern of use cases\
    \ for\n      LoWPANs tends to be highly structured, unlike the any-to-any data\n\
    \      transfers that dominate typical client and server workloads.  In\n    \
    \  many cases, exploiting such structure may simplify difficult\n      problems\
    \ arising from resource constraints or variation in\n      connectivity.\n"
- title: 5.4.  Support of Security
  contents:
  - "5.4.  Support of Security\n   The routing requirement described in this subsection\
    \ allows secure\n   transmission of routing messages.  As in traditional networks,\n\
    \   routing mechanisms in 6LoWPANs present another window from which an\n   attacker\
    \ might disrupt and significantly degrade the overall\n   performance of the 6LoWPAN.\
    \  Attacks against non-secure routing aim\n   mainly to contaminate WPANs with\
    \ false routing information, resulting\n   in routing inconsistencies.  A malicious\
    \ node can also snoop packets\n   and then launch replay attacks on the 6LoWPAN\
    \ nodes.  These attacks\n   can cause harm, especially when the attacker is a\
    \ high-power device,\n   such as a laptop.  It can also easily drain the batteries\
    \ of 6LoWPAN\n   devices by sending broadcast messages, redirecting routes, etc.\n\
    \   [R14] 6LoWPAN routing protocols MUST support confidentiality,\n   authentication,\
    \ and integrity services as required for secure\n   delivery of control messages.\n\
    \      A general set of requirements that may apply to these services can\n  \
    \    be found in [KARP-THREATS].\n      Security is very important for designing\
    \ robust routing protocols,\n      but it should not cause significant transmission\
    \ overhead.  The\n      security aspect, however, seems to be a bit of a tradeoff\
    \ in a\n      6LoWPAN, since security is always a costly function.  A 6LoWPAN\n\
    \      poses unique challenges to which traditional security techniques\n    \
    \  cannot be applied directly.  For example, public key cryptography\n      primitives\
    \ are typically avoided (as being too expensive), as are\n      relatively heavyweight\
    \ conventional encryption methods.\n      Consequently, it becomes questionable\
    \ whether the 6LoWPAN devices\n      can support IPsec as it is.  While [RFC6434]\
    \ makes support of the\n      IPsec architecture a SHOULD for all IPv6 nodes,\
    \ considering the\n      power constraints and limited processing capabilities\
    \ of\n      IEEE 802.15.4-capable devices, IPsec is computationally expensive.\n\
    \      Internet Key Exchange (IKEv2) messaging as described in RFC 5996\n    \
    \  [RFC5996] will not work well in 6LoWPANs, as we want to minimize\n      the\
    \ amount of signaling in these networks.  IPsec supports the\n      Authentication\
    \ Header (AH) for authenticating the IP header and\n      the Encapsulating Security\
    \ Payload (ESP) for authenticating and\n      encrypting the payload.  The main\
    \ issues of using IPsec are\n      two-fold: (1) processing power and (2) key\
    \ management.  Since\n      these tiny 6LoWPAN devices do not process huge amounts\
    \ of data or\n      communicate with many different nodes, whether complete\n\
    \      implementation of a Security Association Database (SAD), policy\n     \
    \ database, and dynamic key-management protocol are appropriate for\n      these\
    \ small battery-powered devices or not is not well understood.\n      Bandwidth\
    \ is a very scarce resource in 6LoWPAN environments.  The\n      fact that IPsec\
    \ additionally requires another header (AH or ESP)\n      in every packet makes\
    \ its use problematic in 6LoWPAN environments.\n      IPsec requires two communicating\
    \ peers to share a secret key that\n      is typically established dynamically\
    \ with IKEv2.  Thus, it has an\n      additional packet overhead incurred by the\
    \ exchange of IKEv2\n      packets.\n      Given existing constraints in 6LoWPAN\
    \ environments, IPsec may not\n      be suitable for use in such environments,\
    \ especially since a\n      6LoWPAN node may not be capable of operating all IPsec\
    \ algorithms\n      on its own.  Thus, a 6LoWPAN may need to define its own keying\n\
    \      management method(s) that require minimum overhead in packet size\n   \
    \   and in the number of signaling messages that are exchanged.  IPsec\n     \
    \ will provide authentication and confidentiality between end-nodes\n      and\
    \ across multiple LoWPAN links, and may be useful only when two\n      nodes want\
    \ to apply security to all exchanged messages.  However,\n      in most cases,\
    \ the security may be requested at the application\n      layer as needed, while\
    \ other messages can flow in the network\n      without security overhead.\n \
    \     Security threats within LoWPANs may be different from existing\n      threat\
    \ models in ad hoc network environments.  If IEEE 802.15.4\n      security is\
    \ not used, Neighbor Discovery (ND) in IEEE 802.15.4\n      links is susceptible\
    \ to threats.  These include Neighbor\n      Solicitation/Neighbor Advertisement\
    \ (NS/NA) spoofing, a malicious\n      router, a default router that is \"killed\"\
    , a good router that goes\n      bad, a spoofed redirect, replay attacks, and\
    \ remote ND DoS\n      [RFC3756].  However, if IEEE 802.15.4 security is used,\
    \ no other\n      protection is needed for ND, as long as none of the nodes become\n\
    \      compromised, because the Corporate Intranet Model of RFC 3756 can\n   \
    \   be assumed [6LoWPAN-ND].\n      Bootstrapping may also impose additional threats.\
    \  For example, a\n      malicious node can obtain initial configuration information\
    \ in\n      order to appear as a legitimate node and then carry out various\n\
    \      types of attacks.  Such a node can also keep legitimate nodes busy\n  \
    \    by broadcasting authentication/join requests.  One option for\n      mitigating\
    \ such threats is the use of mutual authentication\n      schemes based on the\
    \ use of pre-shared keys [Ikram].\n      The IEEE 802.15.4 MAC provides an AES-based\
    \ security mechanism.\n      Routing protocols may define how this mechanism (in\
    \ conjunction\n      with IPsec whenever available) can be used to obtain the\
    \ intended\n      security, either for the routing protocol alone or in conjunction\n\
    \      with the security used for the data.  Byte overhead of the\n      mechanism,\
    \ which depends on the security services selected, must\n      be considered.\
    \  In the worst case in terms of overhead, the\n      mechanism consumes 21 bytes\
    \ of MAC payload.\n      The IEEE 802.15.4 MAC security is typically supported\
    \ by crypto\n      hardware, even in very simple chips that will be used in a\n\
    \      6LoWPAN.  Even if the IEEE 802.15.4 MAC security mechanisms are\n     \
    \ not used, this crypto hardware is usually available for use by\n      application\
    \ code running on these chips.  A security protocol\n      outside IEEE 802.15.4\
    \ MAC security SHOULD therefore provide a mode\n      of operation that is covered\
    \ by this crypto hardware.\n      IEEE 802.15.4 does not specify protection for\
    \ acknowledgment\n      frames.  Since the sequence numbers of data frames are\
    \ sent in the\n      clear, an adversary can forge an acknowledgment for each\
    \ data\n      frame.  Exploitation of this weakness can be combined with\n   \
    \   targeted jamming to prevent delivery of selected packets.\n      Consequently,\
    \ IEEE 802.15.4 acknowledgments cannot be relied upon.\n      In applications\
    \ that require high security, the routing protocol\n      must not exploit feedback\
    \ from acknowledgments (e.g., to keep\n      track of neighbor connectivity, see\
    \ [R16]).\n"
- title: 5.5.  Support of Mesh-Under Forwarding
  contents:
  - "5.5.  Support of Mesh-Under Forwarding\n   One LoWPAN may be built as one IPv6\
    \ link.  In this case, mesh-under\n   forwarding mechanisms must be supported.\
    \  While this document\n   provides general, layer-agnostic guidelines about the\
    \ design of\n   6LoWPAN routing, the requirements in this section are specifically\n\
    \   related to Layer 2.  These requirements are directed to bodies that\n   might\
    \ consider working on mesh-under routing, such as the IEEE.  The\n   requirements\
    \ described in this subsection allow optimization and\n   correct operation of\
    \ routing solutions, taking into account the\n   specific features of the mesh-under\
    \ configuration.\n   [R15] Mesh-under requires the development of a routing protocol\n\
    \   operating below IP.  This protocol MUST support 16-bit short and\n   64-bit\
    \ extended MAC addresses.\n   [R16] In order to perform discovery and maintenance\
    \ of neighbors\n   (i.e., neighborhood discovery as opposed to ND-style neighbor\n\
    \   discovery), LoWPAN nodes SHOULD avoid sending separate \"Hello\"\n   messages.\
    \  Instead, link-layer mechanisms (such as acknowledgments)\n   MAY be utilized\
    \ to keep track of active neighbors.\n      Reception of an acknowledgment after\
    \ a frame transmission may\n      render unnecessary the transmission of explicit\
    \ Hello messages,\n      for example.  In a more general view, any frame received\
    \ by a node\n      may be used as an input to evaluate the connectivity between\
    \ the\n      sender and receiver of that frame.\n   [R17] If the routing protocol\
    \ functionality includes enabling IP\n   multicast, then it MAY employ structure\
    \ in the network for efficient\n   distribution in order to minimize link-layer\
    \ broadcast.\n"
- title: 5.6.  Support of Management
  contents:
  - "5.6.  Support of Management\n   When a new protocol is designed, the operational\
    \ environment and\n   manageability of the protocol should be considered from\
    \ the start\n   [RFC5706].  This subsection provides a requirement for the\n \
    \  manageability of 6LoWPAN routing protocols.\n   [R18] A 6LoWPAN routing protocol\
    \ SHOULD be designed according to the\n   guidelines for operations and management\
    \ stated in [RFC5706].\n      The management operations that a 6LoWPAN routing\
    \ protocol\n      implementation can support depend on the memory and processing\n\
    \      capabilities of the 6LoWPAN devices used, which are typically\n      constrained.\
    \  However, 6LoWPANs may benefit significantly from\n      supporting such 6LoWPAN\
    \ routing protocol management operations as\n      configuration and performance\
    \ monitoring.\n      The design of 6LoWPAN routing protocols should take into\
    \ account\n      that, according to \"Architectural Principles of the Internet\"\
    \n      [RFC1958], \"options and parameters should be configured or\n      negotiated\
    \ dynamically rather than manually\".  This is especially\n      important for\
    \ 6LoWPANs, which can be composed of a large number of\n      devices (and, in\
    \ addition, these devices may not have an\n      appropriate user interface).\
    \  Therefore, parameter\n      autoconfiguration is a desirable property for a\
    \ 6LoWPAN routing\n      protocol, although some subset of routing protocol parameters\
    \ may\n      allow other forms of configuration as well.\n      In order to verify\
    \ the correct operation of the 6LoWPAN routing\n      protocol and the network\
    \ itself, a 6LoWPAN routing protocol should\n      allow monitoring of the status\
    \ and/or value of 6LoWPAN routing\n      protocol parameters and data structures\
    \ such as routing table\n      entries.  In order to enable fault management,\
    \ further monitoring\n      of the 6LoWPAN routing protocol operation is needed.\
    \  For this,\n      faults can be reported via error log messages.  These messages\
    \ may\n      contain information such as the number of times a packet could not\n\
    \      be sent to a valid next hop, the duration of each period without\n    \
    \  connectivity, memory overflow and its causes, etc.\n      [RFC5706] -- in particular\
    \ its Section 3 -- provides a\n      comprehensive guide to properly designing\
    \ the management solution\n      for a 6LoWPAN routing protocol.\n"
- title: 6.  Security Considerations
  contents:
  - "6.  Security Considerations\n   Security issues are described in Section 5.4.\
    \  The security\n   considerations in RFC 4919 [RFC4919], RFC 4944 [RFC4944],\
    \ and\n   RFC 4593 [RFC4593] apply as well.\n   The use of wireless links renders\
    \ a 6LoWPAN susceptible to attacks\n   like any other wireless network.  In outdoor\
    \ 6LoWPANs, the physical\n   exposure of the nodes allows an adversary to capture,\
    \ clone, or\n   tamper with these devices.  In ad hoc 6LoWPANs that are dynamic\
    \ in\n   both their topology and node memberships, a static security\n   configuration\
    \ does not suffice.  Spoofed, altered, or replayed\n   routing information might\
    \ occur, while multihopping could delay the\n   detection and treatment of attacks.\n\
    \   This specification expects that the link layer is sufficiently\n   protected,\
    \ either by means of physical or IP security for the\n   backbone link, or with\
    \ MAC-sublayer cryptography.  However, link-\n   layer encryption and authentication\
    \ may not be sufficient to provide\n   confidentiality, authentication, integrity,\
    \ and freshness to both\n   data and routing protocol packets.  Time synchronization,\
    \ self-\n   organization, and secure localization for multi-hop routing are also\n\
    \   critical to support.\n   For secure routing protocol operation, it may be\
    \ necessary to\n   consider authenticated broadcast (and multicast) and bidirectional\n\
    \   link verification.  On the other hand, secure end-to-end data\n   delivery\
    \ can be assisted by the routing protocol.  For example,\n   multi-path routing\
    \ could be considered for increasing security to\n   prevent selective forwarding.\
    \  However, the challenge is that\n   6LoWPANs already have high resource constraints,\
    \ so that 6LBR and\n   LoWPAN nodes may require different security solutions.\n"
- title: 7.  Acknowledgments
  contents:
  - "7.  Acknowledgments\n   The authors of this document highly appreciate the authors\
    \ of \"IPv6\n   over Low Power WPAN Security Analysis\" [6LoWPAN-SEC].  Although\
    \ their\n   security analysis work is not ongoing at the time of this writing,\n\
    \   the valuable information and text in that document are used in\n   Section\
    \ 5.4 of this document, per advice received during IESG review\n   procedures.\
    \  Thanks to their work, Section 5.4 is much improved.  The\n   authors also thank\
    \ S. Chakrabarti, who gave valuable comments\n   regarding mesh-under requirements,\
    \ and A. Petrescu for significant\n   review.\n   Carles Gomez has been supported\
    \ in part by FEDER and by the Spanish\n   Government through projects TIC2006-04504\
    \ and TEC2009-11453.\n"
- title: 8.  References
  contents:
  - '8.  References

    '
- title: 8.1.  Normative References
  contents:
  - "8.1.  Normative References\n   [IEEE802.15.4]\n              IEEE Computer Society,\
    \ \"IEEE Standard for Local and\n              Metropolitan Area Networks -- Part\
    \ 15.4: Low-Rate\n              Wireless Personal Area Networks (LR-WPANs)\",\
    \ IEEE\n              Std. 802.15.4-2011, September 2011.\n   [RFC2119]  Bradner,\
    \ S., \"Key words for use in RFCs to Indicate\n              Requirement Levels\"\
    , BCP 14, RFC 2119, March 1997.\n   [RFC3756]  Nikander, P., Ed., Kempf, J., and\
    \ E. Nordmark, \"IPv6\n              Neighbor Discovery (ND) Trust Models and\
    \ Threats\",\n              RFC 3756, May 2004.\n   [RFC3819]  Karn, P., Ed.,\
    \ Bormann, C., Fairhurst, G., Grossman, D.,\n              Ludwig, R., Mahdavi,\
    \ J., Montenegro, G., Touch, J., and L.\n              Wood, \"Advice for Internet\
    \ Subnetwork Designers\", BCP 89,\n              RFC 3819, July 2004.\n   [RFC4593]\
    \  Barbir, A., Murphy, S., and Y. Yang, \"Generic Threats to\n              Routing\
    \ Protocols\", RFC 4593, October 2006.\n   [RFC4919]  Kushalnagar, N., Montenegro,\
    \ G., and C. Schumacher, \"IPv6\n              over Low-Power Wireless Personal\
    \ Area Networks (6LoWPANs):\n              Overview, Assumptions, Problem Statement,\
    \ and Goals\",\n              RFC 4919, August 2007.\n   [RFC4944]  Montenegro,\
    \ G., Kushalnagar, N., Hui, J., and D. Culler,\n              \"Transmission of\
    \ IPv6 Packets over IEEE 802.15.4\n              Networks\", RFC 4944, September\
    \ 2007.\n   [RFC5548]  Dohler, M., Ed., Watteyne, T., Ed., Winter, T., Ed., and\n\
    \              D. Barthel, Ed., \"Routing Requirements for Urban Low-Power\n \
    \             and Lossy Networks\", RFC 5548, May 2009.\n   [RFC5673]  Pister,\
    \ K., Ed., Thubert, P., Ed., Dwars, S., and T.\n              Phinney, \"Industrial\
    \ Routing Requirements in Low-Power and\n              Lossy Networks\", RFC 5673,\
    \ October 2009.\n"
- title: 8.2.  Informative References
  contents:
  - "8.2.  Informative References\n   [6LoWPAN-ND]\n              Shelby, Z., Ed.,\
    \ Chakrabarti, S., and E. Nordmark,\n              \"Neighbor Discovery Optimization\
    \ for Low Power and Lossy\n              Networks (6LoWPAN)\", Work in Progress,\
    \ October 2011.\n   [6LoWPAN-SEC]\n              Park, S., Kim, K., Haddad, W.,\
    \ Ed., Chakrabarti, S., and\n              J. Laganier, \"IPv6 over Low Power\
    \ WPAN Security Analysis\",\n              Work in Progress, March 2011.\n   [Bulusu]\
    \   Bulusu, N., Ed., and S. Jha, Ed., \"Wireless Sensor\n              Networks:\
    \ A Systems Perspective\", Artech House,\n              ISBN 9781580538671, July\
    \ 2005.\n   [Chen]     Chen, B., Muniswamy-Reddy, K., and M. Welsh, \"Ad-Hoc\n\
    \              Multicast Routing on Resource-Limited Sensor Nodes\", Proc.\n \
    \             2nd International Workshop on Multi-hop Ad Hoc Networks,\n     \
    \         May 2006.\n   [Doherty]  Doherty, L., Warneke, B., Boser, B., and K.\
    \ Pister,\n              \"Energy and Performance Considerations for Smart Dust\"\
    ,\n              International Journal of Parallel and Distributed Systems\n \
    \             and Networks, Vol. 4, No. 3, 2001.\n   [Hill]     Hill, J., \"System\
    \ Architecture for Wireless Sensor\n              Networks\", Ph.D. Thesis, UC\
    \ Berkeley, 2003.\n   [Ikram]    Ikram, M., Chowdhury, A., Zafar, B., Cha, H.,\
    \ Kim, K.,\n              Yoo, S., and D. Kim, \"A Simple Lightweight Authentic\n\
    \              Bootstrapping Protocol for IPv6-based Low Rate Wireless\n     \
    \         Personal Area Networks (6LoWPANs)\", Proc. International\n         \
    \     Conference on Wireless Communications and\n              Mobile Computing,\
    \ June 2009.\n   [KARP-THREATS]\n              Lebovitz, G. and M. Bhatia, \"\
    Keying and Authentication for\n              Routing Protocols (KARP) Overview,\
    \ Threats, and\n              Requirements\", Work in Progress, May 2012.\n  \
    \ [Kuhn]     Kuhn, F., Wattenhofer, R., and A. Zollinger, \"Worst-Case\n     \
    \         Optimal and Average-Case Efficient Ad-Hoc Geometric\n              Routing\"\
    , MobiHoc '03: Proceedings of the 4th ACM\n              International Symposium\
    \ on Mobile Ad Hoc Networking and\n              Computing, June 2003.\n   [Latre]\
    \    Latre, B., De Mil, P., Moerman, I., Dhoedt, B., and P.\n              Demeester,\
    \ \"Throughput and Delay Analysis of Unslotted\n              IEEE 802.15.4\"\
    , Journal of Networks, Vol. 1, No. 1,\n              May 2006.\n   [Lee]     \
    \ Lee, S., Belding-Royer, E., and C. Perkins, \"Scalability\n              Study\
    \ of the Ad Hoc On-Demand Distance-Vector Routing\n              Protocol\", International\
    \ Journal of Network Management,\n              Vol. 13, pp. 97-114, March 2003.\n\
    \   [RFC1958]  Carpenter, B., Ed., \"Architectural Principles of the\n       \
    \       Internet\", RFC 1958, June 1996.\n   [RFC5556]  Touch, J. and R. Perlman,\
    \ \"Transparent Interconnection of\n              Lots of Links (TRILL): Problem\
    \ and Applicability\n              Statement\", RFC 5556, May 2009.\n   [RFC5706]\
    \  Harrington, D., \"Guidelines for Considering Operations and\n             \
    \ Management of New Protocols and Protocol Extensions\",\n              RFC 5706,\
    \ November 2009.\n   [RFC5826]  Brandt, A., Buron, J., and G. Porcu, \"Home Automation\n\
    \              Routing Requirements in Low-Power and Lossy Networks\",\n     \
    \         RFC 5826, April 2010.\n   [RFC5867]  Martocci, J., Ed., De Mil, P.,\
    \ Riou, N., and W. Vermeylen,\n              \"Building Automation Routing Requirements\
    \ in Low-Power and\n              Lossy Networks\", RFC 5867, June 2010.\n   [RFC5996]\
    \  Kaufman, C., Hoffman, P., Nir, Y., and P. Eronen,\n              \"Internet\
    \ Key Exchange Protocol Version 2 (IKEv2)\",\n              RFC 5996, September\
    \ 2010.\n   [RFC6282]  Hui, J., Ed., and P. Thubert, \"Compression Format for\
    \ IPv6\n              Datagrams over IEEE 802.15.4-Based Networks\", RFC 6282,\n\
    \              September 2011.\n   [RFC6434]  Jankiewicz, E., Loughney, J., and\
    \ T. Narten, \"IPv6 Node\n              Requirements\", RFC 6434, December 2011.\n\
    \   [ROLL-PROTOCOLS]\n              Levis, P., Tavakoli, A., and S. Dawson-Haggerty,\
    \ \"Overview\n              of Existing Routing Protocols for Low Power and Lossy\n\
    \              Networks\", Work in Progress, April 2009.\n   [Shih]     Shih,\
    \ E., Cho, S., Ickes, N., Min, R., Sinha, A., Wang,\n              A., and A.\
    \ Chandrakasan, \"Physical Layer Driven Protocols\n              and Algorithm\
    \ Design for Energy-Efficient Wireless Sensor\n              Networks\", MobiCom\
    \ '01: Proceedings of the 7th ACM Annual\n              International Conference\
    \ on Mobile Computing and\n              Networking, July 2001.\n   [Watteyne]\
    \ Watteyne, T., Molinaro, A., Richichi, M., and M. Dohler,\n              \"From\
    \ MANET To IETF ROLL Standardization: A Paradigm Shift\n              in WSN Routing\
    \ Protocols\", IEEE Communications Surveys and\n              Tutorials, Vol.\
    \ 13, Issue 4, pp. 688-707, 2011,\n              <http://ieeexplore.ieee.org/xpl/\n\
    \              articleDetails.jsp?arnumber=5581105>.\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Eunsook Eunah Kim\n   ETRI\n   161 Gajeong-dong\n   Yuseong-gu\n\
    \   Daejeon  305-700\n   Korea\n   Phone: +82-42-860-6124\n   EMail: eunah.ietf@gmail.com\n\
    \   Dominik Kaspar\n   Simula Research Laboratory\n   Martin Linges v 17\n   Fornebu\
    \  1364\n   Norway\n   Phone: +47-6782-8223\n   EMail: dokaspar.ietf@gmail.com\n\
    \   Carles Gomez\n   Universitat Politecnica de Catalunya/Fundacio i2CAT\n   Escola\
    \ d'Enginyeria de Telecomunicacio i Aeroespacial\n      de Castelldefels\n   C/Esteve\
    \ Terradas, 7\n   Castelldefels  08860\n   Spain\n   Phone: +34-93-413-7206\n\
    \   EMail: carlesgo@entel.upc.edu\n   Carsten Bormann\n   Universitaet Bremen\
    \ TZI\n   Postfach 330440\n   Bremen  D-28359\n   Germany\n   Phone: +49-421-218-63921\n\
    \   EMail: cabo@tzi.org\n"
