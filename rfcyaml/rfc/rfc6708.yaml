- title: __initial_text__
  contents:
  - '       Application-Layer Traffic Optimization (ALTO) Requirements

    '
- title: Abstract
  contents:
  - "Abstract\n   Many Internet applications are used to access resources, such as\n\
    \   pieces of information or server processes that are available in\n   several\
    \ equivalent replicas on different hosts.  This includes, but\n   is not limited\
    \ to, peer-to-peer file sharing applications.  The goal\n   of Application-Layer\
    \ Traffic Optimization (ALTO) is to provide\n   guidance to applications that\
    \ have to select one or several hosts\n   from a set of candidates capable of\
    \ providing a desired resource.\n   This guidance shall be based on parameters\
    \ that affect performance\n   and efficiency of the data transmission between\
    \ the hosts, e.g., the\n   topological distance.  The ultimate goal is to improve\
    \ performance or\n   Quality of Experience in the application while reducing the\n\
    \   utilization of the underlying network infrastructure.\n   This document enumerates\
    \ requirements for specifying, assessing, or\n   comparing protocols and implementations.\n"
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This document is not an Internet Standards Track specification;\
    \ it is\n   published for informational purposes.\n   This document is a product\
    \ of the Internet Engineering Task Force\n   (IETF).  It represents the consensus\
    \ of the IETF community.  It has\n   received public review and has been approved\
    \ for publication by the\n   Internet Engineering Steering Group (IESG).  Not\
    \ all documents\n   approved by the IESG are a candidate for any level of Internet\n\
    \   Standard; see Section 2 of RFC 5741.\n   Information about the current status\
    \ of this document, any errata,\n   and how to provide feedback on it may be obtained\
    \ at\n   http://www.rfc-editor.org/info/rfc6708.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (c) 2012 IETF Trust and the persons identified\
    \ as the\n   document authors.  All rights reserved.\n   This document is subject\
    \ to BCP 78 and the IETF Trust's Legal\n   Provisions Relating to IETF Documents\n\
    \   (http://trustee.ietf.org/license-info) in effect on the date of\n   publication\
    \ of this document.  Please review these documents\n   carefully, as they describe\
    \ your rights and restrictions with respect\n   to this document.  Code Components\
    \ extracted from this document must\n   include Simplified BSD License text as\
    \ described in Section 4.e of\n   the Trust Legal Provisions and are provided\
    \ without warranty as\n   described in the Simplified BSD License.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1.  Introduction . . . . . . . . . . . . . . . . . . .\
    \ . . . . . .  3\n   2.  Terminology and Architectural Framework  . . . . . .\
    \ . . . . .  3\n     2.1.  Requirements Notation  . . . . . . . . . . . . . .\
    \ . . . .  3\n     2.2.  ALTO Terminology . . . . . . . . . . . . . . . . . .\
    \ . . .  3\n     2.3.  Architectural Framework for ALTO . . . . . . . . . . .\
    \ . .  5\n   3.  ALTO Requirements  . . . . . . . . . . . . . . . . . . . . .\
    \ .  5\n     3.1.  ALTO Client Protocol . . . . . . . . . . . . . . . . . . .\
    \  5\n       3.1.1.  General Requirements . . . . . . . . . . . . . . . . .  5\n\
    \       3.1.2.  Host-Group Descriptor Support  . . . . . . . . . . . .  6\n  \
    \     3.1.3.  Rating Criteria Support  . . . . . . . . . . . . . . .  7\n    \
    \   3.1.4.  Placement of Entities and Timing of Transactions . . .  9\n      \
    \ 3.1.5.  Protocol Extensibility . . . . . . . . . . . . . . . . 11\n       3.1.6.\
    \  Error Handling and Overload Protection . . . . . . . . 11\n     3.2.  ALTO\
    \ Server Discovery  . . . . . . . . . . . . . . . . . . 12\n     3.3.  Security\
    \ and Privacy . . . . . . . . . . . . . . . . . . . 13\n   4.  IANA Considerations\
    \  . . . . . . . . . . . . . . . . . . . . . 14\n   5.  Security Considerations\
    \  . . . . . . . . . . . . . . . . . . . 14\n     5.1.  High-Level Security Considerations\
    \ . . . . . . . . . . . . 14\n     5.2.  Information Disclosure Scenarios . .\
    \ . . . . . . . . . . . 14\n       5.2.1.  Classification of Information Disclosure\
    \ Scenarios . . 14\n       5.2.2.  Discussion of Information Disclosure Scenarios\
    \ . . . . 16\n     5.3.  ALTO Server Discovery  . . . . . . . . . . . . . . .\
    \ . . . 18\n     5.4.  Security Requirements  . . . . . . . . . . . . . . . .\
    \ . . 18\n   6.  References . . . . . . . . . . . . . . . . . . . . . . . . .\
    \ . 18\n     6.1.  Normative References . . . . . . . . . . . . . . . . . . .\
    \ 18\n     6.2.  Informative References . . . . . . . . . . . . . . . . . . 18\n\
    \   Appendix A.  Contributors  . . . . . . . . . . . . . . . . . . . . 19\n  \
    \ Appendix B.  Acknowledgments . . . . . . . . . . . . . . . . . . . 19\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   The motivation for Application-Layer Traffic Optimization\
    \ (ALTO) is\n   described in the ALTO problem statement [RFC5693].\n   The goal\
    \ of ALTO is to provide information that can help peer-to-peer\n   (P2P) applications\
    \ make better decisions with respect to peer\n   selection.  However, ALTO may\
    \ be useful for non-P2P applications as\n   well.  For example, clients of client-server\
    \ applications may use\n   information provided by ALTO to select one of several\
    \ servers or\n   information replicas.  As another example, ALTO information could\
    \ be\n   used to select a media relay needed for NAT traversal.  The goal of\n\
    \   these informed decisions is to improve performance or Quality of\n   Experience\
    \ in the application while reducing the utilization of the\n   underlying network\
    \ infrastructure.\n   Usually, it would be difficult or even impossible for application\n\
    \   entities to acquire this information by other mechanisms, e.g., using\n  \
    \ measurements between the peers of a P2P overlay, because of\n   complexity or\
    \ because it is based on network topology information,\n   network operational\
    \ costs, or network policies, which the respective\n   network provider does not\
    \ want to disclose in detail.\n   The functional entities that provide the ALTO\
    \ service do not take\n   part in the actual user-data transport, i.e., they do\
    \ not implement\n   functions for relaying user data.  These functional entities\
    \ may be\n   placed on various kinds of physical nodes, e.g., on dedicated\n \
    \  servers, as auxiliary processes in routers, on \"trackers\" or \"super\n  \
    \ peers\" of a P2P application, etc.\n"
- title: 2.  Terminology and Architectural Framework
  contents:
  - '2.  Terminology and Architectural Framework

    '
- title: 2.1.  Requirements Notation
  contents:
  - "2.1.  Requirements Notation\n   The key words \"MUST\", \"MUST NOT\", \"REQUIRED\"\
    , \"SHALL\", \"SHALL NOT\",\n   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"\
    MAY\", and \"OPTIONAL\" in this\n   document are to be interpreted as described\
    \ in [RFC2119].\n"
- title: 2.2.  ALTO Terminology
  contents:
  - "2.2.  ALTO Terminology\n   This document uses the following ALTO-related terms,\
    \ which are\n   defined in [RFC5693]:\n   Application, Peer, P2P, Resource, Resource\
    \ Identifier, Resource\n   Provider, Resource Consumer, Transport Address, Overlay\
    \ Network,\n   Resource Directory, ALTO Service, ALTO Server, ALTO Client, ALTO\n\
    \   Query, ALTO Response, ALTO Transaction, Local Traffic, Peering\n   Traffic,\
    \ Transit Traffic, Application Protocol, ALTO Client Protocol,\n   and Provisioning\
    \ Protocol.\n   Furthermore, the following additional terms will be used:\n  \
    \ o  Host-Group Descriptor: Information used to describe one or more\n      Internet\
    \ hosts (such as the resource consumer that seeks ALTO\n      guidance, or one\
    \ or more candidate resource providers) and their\n      location within the network\
    \ topology.  There can be several\n      different types of host-group descriptors,\
    \ for example, a single\n      IP address, an address prefix or address range\
    \ that contains the\n      host(s), or an Autonomous System (AS) number.  Different\
    \ host-\n      group descriptor types may provide different levels of detail.\n\
    \      Depending on the system architecture, this may have implications\n    \
    \  on the quality of the guidance ALTO is able to provide, on whether\n      recommendations\
    \ can be aggregated, and on how much privacy-\n      sensitive information about\
    \ users might be disclosed to additional\n      parties.\n   o  Rating Criterion:\
    \ The condition or relation that defines the\n      \"better\" in \"better-than-random\
    \ peer selection\", which is the\n      ultimate goal of ALTO.  Examples may include\
    \ \"host's Internet\n      access is not subject to volume-based charging (flat\
    \ rate)\" or\n      \"low topological distance\".  Some rating criteria, such\
    \ as \"low\n      topological distance\", need to include a reference point, e.g.,\n\
    \      \"low topological distance from a given resource consumer\".  This\n  \
    \    reference point can be described by means of a host-group\n      descriptor.\n\
    \   o  Host-Characteristics Attribute: Properties of a host, other than\n    \
    \  the host-group descriptor.  It may be evaluated according to one\n      or\
    \ more rating criteria.  This information may be stored in an\n      ALTO server\
    \ and transmitted via an ALTO protocol.  One example for\n      a host-characteristics\
    \ attribute would be a data field indicating\n      whether a host's Internet\
    \ access is subject to volume-based\n      charging or not (flat rate).\n   o\
    \  Target-Aware Query Mode: In this mode of operation, an ALTO client\n      performs\
    \ the ALTO query when the desired resource and a set of\n      candidate resource\
    \ providers are already known, i.e., after\n      Distributed Hash Table (DHT)\
    \ lookups, queries to the resource\n      directory, etc.  To this end, the ALTO\
    \ client transmits a list of\n      host-group descriptors and optionally one\
    \ or more rating criteria\n      to the ALTO server.  The ALTO server evaluates\
    \ the host-group\n      descriptors according to the indicated criteria or a default\n\
    \      criterion.  It returns a list of these host-group descriptors to\n    \
    \  the ALTO client, which is sorted according to the rating criteria\n      and/or\
    \ enriched with host-characteristics attributes.\n   o  Target-Independent Query\
    \ Mode: In this mode of operation, ALTO\n      queries are performed in advance\
    \ or periodically, in order to\n      receive comprehensive guidance.  The ALTO\
    \ client indicates the\n      desired host-characteristics attributes in the ALTO\
    \ query.  The\n      ALTO server answers with a list that indicates for all known\
    \ host-\n      group descriptors (possibly subject to the server's policies) the\n\
    \      desired host-characteristics attributes.  These lists will be\n      cached\
    \ locally and evaluated later, when a resource is to be\n      accessed.\n"
- title: 2.3.  Architectural Framework for ALTO
  contents:
  - "2.3.  Architectural Framework for ALTO\n   There are various architectural options\
    \ for ALTO implementation.\n   Specifying or mandating one specific architecture\
    \ is out of the scope\n   of this document.\n   In addition to the terminology\
    \ (see Section 2 of [RFC5693] and\n   Section 2.2 of this document), [RFC5693]\
    \ presents a figure that gives\n   a high-level overview of protocol interaction\
    \ between these\n   components.\n   This document itemizes requirements for the\
    \ following components:\n   ALTO client protocols, ALTO server discovery mechanisms,\
    \ host-group\n   descriptors, rating criteria, and host-characteristics attributes.\n\
    \   Furthermore, requirements regarding the overall architecture,\n   especially\
    \ with respect to security and privacy issues, are\n   presented.\n   Note that\
    \ the detailed specification of such protocols and mechanisms\n   is out of the\
    \ scope of this document.  In fact, this document does\n   not even assume that\
    \ there will be only one single specification for\n   each of these components,\
    \ respectively.  However, this document\n   enumerates requirements for ALTO to\
    \ be considered when specifying,\n   assessing, or comparing protocols and implementations.\n"
- title: 3.  ALTO Requirements
  contents:
  - '3.  ALTO Requirements

    '
- title: 3.1.  ALTO Client Protocol
  contents:
  - '3.1.  ALTO Client Protocol

    '
- title: 3.1.1.  General Requirements
  contents:
  - "3.1.1.  General Requirements\n   Req. AR-1: The ALTO service is provided by one\
    \ or more ALTO servers.\n   It may be queried by ALTO clients seeking guidance\
    \ for selecting\n   appropriate resource providers.  ALTO clients and ALTO servers\
    \ MUST\n   implement an ALTO client protocol.  An ALTO client protocol MUST be\n\
    \   able to transmit ALTO queries from an ALTO client to an ALTO server,\n   and\
    \ it MUST be able to transmit the corresponding ALTO replies from\n   the ALTO\
    \ server to the ALTO client.\n   The detailed specification of an ALTO client\
    \ protocol is out of the\n   scope of this document.  In fact, this document does\
    \ not even assume\n   that there will be only one single protocol specification.\
    \  However,\n   this document enumerates requirements for ALTO, to be considered\
    \ when\n   specifying, assessing, or comparing protocols and implementations.\n\
    \   Req. AR-2: An ALTO client protocol MUST provide adequate mechanisms\n   for\
    \ operations and management support, as outlined in RFC 5706\n   [RFC5706].\n"
- title: 3.1.2.  Host-Group Descriptor Support
  contents:
  - "3.1.2.  Host-Group Descriptor Support\n   The ALTO guidance is based on the evaluation\
    \ of several resource\n   providers or groups of resource providers, considering\
    \ one or more\n   rating criteria.  The resource providers or groups of resource\n\
    \   providers are characterized by means of host-group descriptors.\n   Req. AR-3:\
    \ An ALTO client protocol MUST support the usage of multiple\n   host-group descriptor\
    \ types.\n   Req. AR-4: ALTO clients and ALTO servers MUST clearly identify the\n\
    \   type of each host-group descriptor sent in ALTO queries or responses.\n  \
    \ An ALTO protocol specification MUST provide appropriate protocol\n   elements.\n\
    \   Req. AR-5: An ALTO client protocol MUST support the host group\n   descriptor\
    \ types \"IPv4 address prefix\" and \"IPv6 address prefix\".\n   They can be used\
    \ to specify the IP address of one host, or an IP\n   address range (in Classless\
    \ Inter-Domain Routing (CIDR) notation)\n   containing all hosts in question.\n\
    \   Req. AR-6: An ALTO client protocol MUST be extensible to enable\n   future\
    \ support of other host-group descriptor types.  An ALTO client\n   protocol specification\
    \ MUST define an appropriate procedure for\n   adding new host-group descriptor\
    \ types, e.g., by establishing an IANA\n   registry.\n   Req. AR-7: For host-group\
    \ descriptor types other than \"IPv4 address\n   prefix\" and \"IPv6 address prefix\"\
    , the host-group descriptor type\n   identification MUST be supplemented by a\
    \ reference to a facility that\n   can be used to translate host-group descriptors\
    \ of this type to IPv4/\n   IPv6 address prefixes, e.g., by means of a mapping\
    \ table or an\n   algorithm.\n   Req. AR-8: Protocol functions for mapping other\
    \ host-group descriptor\n   types to IPv4/IPv6 address prefixes SHOULD be designed\
    \ and specified\n   as part of an ALTO client protocol, and the corresponding\
    \ address\n   mapping information SHOULD be made available by the same entity\
    \ that\n   wants to use these host-group descriptors within an ALTO client\n \
    \  protocol.  However, an ALTO server or an ALTO client MAY also send a\n   reference\
    \ to an external mapping facility, e.g., a translation table\n   to be obtained\
    \ via an alternative mechanism.\n      Rationale for the previous two requirements:\
    \ The preferred type of\n      host-group descriptors are IPv4 and IPv6 prefixes.\
    \  However, in\n      some situations, one party may prefer to use another type,\
    \ e.g.,\n      AS numbers.  Usually, applications seeking ALTO guidance work with\n\
    \      IP addresses, e.g., when establishing connections.  Understanding\n   \
    \   guiding information that is based on other host-group descriptor\n      types,\
    \ i.e., mapping from these other types to IP prefixes and\n      back, may be\
    \ a non-trivial task.  Therefore, before a party may\n      use other host-group\
    \ descriptor types, they must provide a mapping\n      mechanism to IP prefixes.\n\
    \   Req. AR-9: An ALTO client protocol specification MUST define\n   mechanisms\
    \ that can be used by the ALTO server to indicate that a\n   host-group descriptor\
    \ used by the ALTO client is of an unsupported\n   type, or that the indicated\
    \ mapping mechanism could not be used.\n   Req. AR-10: An ALTO client protocol\
    \ specification MUST define\n   mechanisms that can be used by the ALTO client\
    \ to indicate that a\n   host-group descriptor used by the ALTO server is of an\
    \ unsupported\n   type, or that the indicated mapping mechanism could not be used.\n"
- title: 3.1.3.  Rating Criteria Support
  contents:
  - "3.1.3.  Rating Criteria Support\n   Req. AR-11: An ALTO client protocol specification\
    \ MUST define a\n   rating criterion that can be used to express and evaluate\
    \ the\n   \"relative operator's preference\".  This is a relative measure, i.e.,\n\
    \   it is not associated with any unit of measurement.  A preferred\n   rating,\
    \ according to this criterion, indicates that the application\n   should prefer\
    \ the respective candidate resource provider over others\n   with less preferred\
    \ ratings (unless information from non-ALTO sources\n   suggests a different choice,\
    \ such as transmission attempts suggesting\n   that the path is currently congested).\
    \  The operator of the ALTO\n   server does not have to disclose how and based\
    \ on which data the\n   ratings are actually computed.  Examples could be: cost\
    \ for peering\n   or transit traffic, traffic engineering inside the network,\
    \ and other\n   policies.\n   Req. AR-12: An ALTO client protocol MUST be extensible\
    \ to enable\n   future support of other rating criteria types.  An ALTO client\n\
    \   protocol specification MUST define an appropriate procedure for\n   adding\
    \ new rating criteria types, e.g., by establishing an IANA\n   registry.\n   Req.\
    \ AR-13: ALTO client protocol specifications MUST NOT define\n   rating criteria\
    \ closely related to the instantaneous network\n   congestion state, i.e., rating\
    \ criteria that have the primary aim to\n   serve as an alternative to established\
    \ congestion control strategies,\n   such as using TCP-based transport.\n   Req.\
    \ AR-14: Applications using ALTO guidance MUST NOT rely solely on\n   the ALTO\
    \ guidance to avoid causing network congestion.  Instead, they\n   MUST use other\
    \ appropriate means, such as TCP-based transport, to\n   avoid causing excessive\
    \ congestion.\n      Rationale for the previous requirement: One design assumption\
    \ for\n      ALTO is that it is acceptable for the host-characteristics\n    \
    \  attributes, which are stored and processed in the ALTO servers for\n      giving\
    \ guidance, to be updated rather infrequently.  Typical\n      update intervals\
    \ may be several orders of magnitude longer than\n      the typical network-layer\
    \ packet round-trip time (RTT).\n      Therefore, ALTO cannot be a replacement\
    \ for TCP-like congestion\n      control mechanisms.\n   Req. AR-15: In the target-independent\
    \ query mode, the ALTO query\n   message SHOULD allow the ALTO client to express\
    \ which host-\n   characteristics attributes should be returned.\n   Req. AR-16:\
    \ In the target-aware query mode, the ALTO query message\n   SHOULD allow the\
    \ ALTO client to express which rating criteria should\n   be considered by the\
    \ server, as well as their relative relevance for\n   the specific application\
    \ that will eventually make use of the\n   guidance.  The corresponding ALTO response\
    \ message SHOULD allow the\n   ALTO server to express which rating criteria have\
    \ been considered\n   when generating the response.\n   Req. AR-17: An ALTO client\
    \ protocol specification MUST define\n   mechanisms that can be used by the ALTO\
    \ client and the ALTO server to\n   indicate that a rating criteria used by the\
    \ other party is of an\n   unsupported type.\n"
- title: 3.1.4.  Placement of Entities and Timing of Transactions
  contents:
  - "3.1.4.  Placement of Entities and Timing of Transactions\n   With respect to\
    \ the placement of ALTO clients, several modes of\n   operation exist:\n   o \
    \ One mode of ALTO operation is that an ALTO client may be embedded\n      directly\
    \ in the resource consumer, i.e., the application protocol\n      entity that\
    \ will eventually initiate data transmission to/from the\n      selected resource\
    \ provider(s) in order to access the desired\n      resource.  For example, an\
    \ ALTO client could be integrated into\n      the peer of a P2P application that\
    \ uses a distributed algorithm\n      such as \"query flooding\" for resource\
    \ discovery.\n   o  Another mode of operation is to integrate the ALTO client\
    \ into a\n      third party, such as a resource directory.  This third party may\n\
    \      issue ALTO queries to solicit preference on potential resource\n      providers,\
    \ considering the respective resource consumer.  For\n      example, an ALTO client\
    \ could be integrated into the tracker of a\n      tracker-based P2P application,\
    \ in order to request ALTO guidance\n      on behalf of the peers contacting the\
    \ tracker.\n   Req. AR-18: An ALTO client protocol MUST support the mode of\n\
    \   operation in which the ALTO client is directly embedded in the\n   resource\
    \ consumer.\n   Req. AR-19: An ALTO client protocol MUST support the mode of\n\
    \   operation in which the ALTO client is embedded in a third party.\n   This\
    \ third party performs queries on behalf of resource consumers.\n   Req. AR-20:\
    \ An ALTO client protocol MUST be designed in a way that\n   the ALTO service\
    \ can be provided by an entity that is not the\n   operator of the underlying\
    \ IP network.\n   Req. AR-21: An ALTO client protocol MUST be designed in a way\
    \ that\n   different instances of the ALTO service operated by different\n   providers\
    \ can coexist.\n   Req. AR-22: An ALTO client protocol specification MUST specify\
    \ at\n   least one query mode, either the target-aware or the target-\n   independent\
    \ query mode.\n   Note that this requirements document does not assume that there\
    \ will\n   be only one single protocol specification.\n   Req. AR-23: An ALTO\
    \ client protocol specification SHOULD specify both\n   the target-aware and the\
    \ target-independent query mode.  If an ALTO\n   client protocol specification\
    \ specifies more than one query mode, it\n   MUST define at least one of these\
    \ modes as REQUIRED to implement by\n   ALTO clients and ALTO servers.  Furthermore,\
    \ it MUST specify an\n   appropriate protocol mechanism for negotiating between\
    \ the ALTO\n   client and ALTO server, which query mode to use.\n   Req. AR-24:\
    \ An ALTO client protocol SHOULD support version numbering,\n   TTL (time-to-live)\
    \ attributes, and/or similar mechanisms in ALTO\n   transactions, in order to\
    \ enable time validity checking for caching,\n   and to enable comparisons of\
    \ multiple recommendations obtained\n   through redistribution.\n   Req. AR-25:\
    \ An ALTO client protocol SHOULD allow the ALTO server to\n   add information\
    \ about appropriate modes of reuse to its ALTO\n   responses.  Reuse may include\
    \ redistributing an ALTO response to\n   other parties, as well as using the same\
    \ ALTO information in a\n   resource directory to improve the responses to different\
    \ resource\n   consumers within the specified lifetime of the ALTO response. \
    \ The\n   ALTO server SHOULD be able to express that\n   o  no reuse should occur.\n\
    \   o  reuse is appropriate for a specific \"target audience\", i.e., a set\n\
    \      of resource consumers explicitly defined by a list of host-group\n    \
    \  descriptors.  The ALTO server MAY specify a \"target audience\" in\n      the\
    \ ALTO response that is only a subset of the known actual\n      \"target audience\"\
    , e.g., if required by operator policies.\n   o  reuse is appropriate for any\
    \ resource consumer that would send (or\n      cause a third party to send on\
    \ behalf of it) the same ALTO query\n      (i.e., with the same query parameters,\
    \ except for the resource\n      consumer ID, if applicable) to this ALTO server.\n\
    \   o  reuse is appropriate for any resource consumer that would send (or\n  \
    \    cause a third party to send on behalf of it) the same ALTO query\n      (i.e.,\
    \ with the same query parameters, except for the resource\n      consumer ID,\
    \ if applicable) to any other ALTO server that was\n      discovered (using an\
    \ ALTO discovery mechanism) together with this\n      ALTO server.\n   o  reuse\
    \ is appropriate for any resource consumer that would send (or\n      cause a\
    \ third party to send on behalf of it) the same ALTO query\n      (i.e., with\
    \ the same query parameters, except for the resource\n      consumer ID, if applicable)\
    \ to any ALTO server in the whole\n      network.\n   Req. AR-26: An ALTO client\
    \ protocol MUST support the transport of\n   ALTO transactions, even if the ALTO\
    \ client is located in the private\n   address realm behind a network address\
    \ translator (NAT).  There are\n   different types of NAT, see [RFC4787] and [RFC5382].\n"
- title: 3.1.5.  Protocol Extensibility
  contents:
  - "3.1.5.  Protocol Extensibility\n   Req. AR-27: An ALTO client protocol MUST include\
    \ support for adding\n   protocol extensions in a non-disruptive, backward-compatible\
    \ way.\n   Req. AR-28: An ALTO client protocol MUST include protocol versioning\n\
    \   support, in order to clearly distinguish between incompatible\n   versions\
    \ of the protocol.\n"
- title: 3.1.6.  Error Handling and Overload Protection
  contents:
  - "3.1.6.  Error Handling and Overload Protection\n   Req. AR-29: An ALTO client\
    \ protocol MUST use congestion-aware\n   transport, e.g., by using TCP.\n   Req.\
    \ AR-30: An ALTO client protocol specification MUST specify\n   mechanisms for\
    \ an ALTO server to inform clients about an impending or\n   occurring overload\
    \ situation, or how to leverage appropriate\n   mechanisms provided by underlying\
    \ protocol layers.  The mechanisms\n   MUST provide all of the following options\
    \ to the server:\n   o  terminate the conversation with the client,\n   o  redirect\
    \ the client to another ALTO server, and\n   o  request that the client throttle\
    \ its query rate.\n      In particular, a simple form of throttling is to let\
    \ an ALTO\n      server answer a query with an error message advising the client\
    \ to\n      retry the query later (e.g., using a protocol function such as\n \
    \     HTTP's Retry-After header ([RFC2616], Section 14.37)).  Another\n      simple\
    \ option is to actually answer the query with the desired\n      information,\
    \ but adding an indication that the ALTO client should\n      not send further\
    \ queries to this ALTO server before an indicated\n      period of time has elapsed.\n\
    \   Req. AR-31: An ALTO client protocol specification MUST specify\n   mechanisms\
    \ for an ALTO server to inform clients about its inability\n   to answer queries\
    \ due to technical problems or system maintenance, or\n   how to leverage appropriate\
    \ mechanisms provided by underlying\n   protocol layers.  The mechanisms MUST\
    \ provide all of the following\n   options to the server:\n   o  terminate the\
    \ conversation with the client,\n   o  redirect the client to another ALTO server,\
    \ and\n   o  request that the client retry the query later.\n   Note: The existence\
    \ of the above-mentioned protocol mechanisms does\n   not imply that an ALTO server\
    \ must use them when facing an overload,\n   technical problem, or maintenance\
    \ situation, respectively.  Some\n   servers may be unable to use them in that\
    \ situation, or they may\n   prefer to simply refuse the connection or not to\
    \ send any answer at\n   all.\n"
- title: 3.2.  ALTO Server Discovery
  contents:
  - "3.2.  ALTO Server Discovery\n   An ALTO client protocol is supported by one or\
    \ more ALTO server\n   discovery mechanisms, which may be used by ALTO clients\
    \ to determine\n   one or more ALTO servers, to which ALTO requests can be sent.\
    \  This\n   section enumerates requirements for an ALTO client, as well as\n \
    \  general requirements to be fulfilled by the ALTO server discovery\n   mechanisms.\n\
    \   Req. AR-32: An ALTO server discovery mechanism MUST support features\n   allowing\
    \ ALTO clients that are embedded in the resource consumer to\n   find one or several\
    \ ALTO servers that can provide ALTO guidance\n   suitable for the resource consumer,\
    \ using an ALTO protocol version\n   compatible with the ALTO client.  This mode\
    \ of operation is called\n   \"resource consumer initiated ALTO server discovery\"\
    .\n   Req. AR-33: An ALTO server discovery mechanism MUST support features\n \
    \  allowing ALTO clients that are embedded in a resource directory and\n   perform\
    \ third-party ALTO queries on behalf of a remote resource\n   consumer to find\
    \ one or several ALTO servers that can provide ALTO\n   guidance suitable for\
    \ the respective resource consumer, using an ALTO\n   protocol version compatible\
    \ with the ALTO client.  This mode of\n   operation is called \"third-party ALTO\
    \ server discovery\".\n   Req. AR-34: ALTO clients MUST be able to perform resource\
    \ consumer\n   initiated ALTO server discovery, even if they are located behind\
    \ a\n   NAT.\n   Req. AR-35: ALTO clients MUST be able to perform third-party\
    \ ALTO\n   server discovery, even if they are located behind a NAT.\n   Req. AR-36:\
    \ ALTO clients MUST be able to perform third-party ALTO\n   server discovery,\
    \ even if the resource consumer, on behalf of which\n   the ALTO query will be\
    \ sent, is located behind a NAT.\n   Req. AR-37: ALTO server discovery mechanisms\
    \ SHOULD leverage an\n   existing protocol or mechanism, such as DNS-, DHCP-,\
    \ or PPP-based\n   automatic configuration, etc.  A single mechanism with a broad\n\
    \   spectrum of applicability SHOULD be preferred over several different\n   mechanisms\
    \ with narrower scopes.\n   Req. AR-38: Every ALTO server discovery mechanism\
    \ SHOULD be able to\n   return the respective contact information for multiple\
    \ ALTO servers.\n   Req. AR-39: Every ALTO server discovery mechanism SHOULD be\
    \ able to\n   indicate preferences for each returned ALTO server contact\n   information.\n"
- title: 3.3.  Security and Privacy
  contents:
  - "3.3.  Security and Privacy\n   Note: The following requirements mandate the inclusion\
    \ of certain\n   security mechanisms at a protocol specification level.  Whether\
    \ it\n   makes sense to enable these mechanisms in a given deployment scenario\n\
    \   depends on a threat analysis for this specific scenario.  For a\n   classification\
    \ of potential information disclosure risks, refer to\n   Section 5.2.\n   Req.\
    \ AR-40: An ALTO client protocol specification MUST specify\n   mechanisms for\
    \ the authentication of ALTO servers or specify how to\n   leverage appropriate\
    \ mechanisms provided by underlying protocol\n   layers.\n   Req. AR-41: An ALTO\
    \ client protocol specification MUST specify\n   mechanisms for the authentication\
    \ of ALTO clients or specify how to\n   leverage appropriate mechanisms provided\
    \ by underlying protocol\n   layers.\n   Req. AR-42: An ALTO client protocol specification\
    \ MUST specify\n   mechanisms for the encryption of messages or specify how to\
    \ leverage\n   appropriate mechanisms provided by underlying protocol layers.\n\
    \   Req. AR-43: An ALTO client is not required to implement mechanisms or\n  \
    \ to comply with rules that limit its ability to redistribute\n   information\
    \ retrieved from the ALTO server to third parties.\n   Req. AR-44: An ALTO client\
    \ protocol MUST support different levels of\n   detail in queries and responses\
    \ in order to protect the privacy of\n   users, to ensure that the operators of\
    \ ALTO servers and other users\n   of the same application cannot derive sensitive\
    \ information.\n   Req. AR-45: An ALTO client protocol MAY include mechanisms\
    \ that can\n   be used by the ALTO client when requesting guidance to specify\
    \ the\n   resource (e.g., content identifiers) it wants to access.  An ALTO\n\
    \   server MUST provide adequate guidance, even if the ALTO client\n   prefers\
    \ not to specify the desired resource (e.g., keeps the data\n   field empty).\
    \  The mechanism MUST be designed in a way that the\n   operator of the ALTO server\
    \ cannot easily deduce the resource\n   identifier (e.g., file name in P2P file\
    \ sharing) if the ALTO client\n   prefers not to specify it.\n   Req. AR-46: An\
    \ ALTO client protocol specification MUST specify\n   appropriate mechanisms for\
    \ protecting the ALTO service against\n   Denial-of-Service (DoS) attacks or specify\
    \ how to leverage\n   appropriate mechanisms provided by underlying protocol layers.\n"
- title: 4.  IANA Considerations
  contents:
  - "4.  IANA Considerations\n   This requirements document does not mandate any immediate\
    \ IANA\n   actions.  However, such IANA considerations may arise from future\n\
    \   ALTO specification documents that try to meet the requirements given\n   here.\n"
- title: 5.  Security Considerations
  contents:
  - '5.  Security Considerations

    '
- title: 5.1.  High-Level Security Considerations
  contents:
  - "5.1.  High-Level Security Considerations\n   High-level security considerations\
    \ for the ALTO service can be found\n   in the \"Security Considerations\" section\
    \ of the ALTO problem\n   statement document [RFC5693].\n"
- title: 5.2.  Information Disclosure Scenarios
  contents:
  - "5.2.  Information Disclosure Scenarios\n   The unwanted disclosure of information\
    \ is one key concern related to\n   ALTO.  Neither the ALTO server nor a third\
    \ party using or misusing\n   the ALTO service should be able to infer the application\
    \ behavior or\n   correlate data in such a way that would violate user privacy,\
    \ e.g.,\n   who is exchanging which files with whom using a P2P file-sharing\n\
    \   application.  Furthermore, many network operators are concerned about\n  \
    \ the amount of information related to their network infrastructure\n   (e.g.,\
    \ topology information, number of \"premium customers\", or\n   utilization statistics)\
    \ that might be released through ALTO.  This\n   section presents a classification\
    \ and discussion of information\n   disclosure scenarios and potential countermeasures.\n"
- title: 5.2.1.  Classification of Information Disclosure Scenarios
  contents:
  - "5.2.1.  Classification of Information Disclosure Scenarios\n   The following\
    \ issues may be considered a risk for the operator of an\n   ALTO server, depending\
    \ on the specific deployment scenario:\n   (1)  Excess disclosure of the ALTO\
    \ server operator's data to an\n        authorized ALTO client.  The operator\
    \ of an ALTO server has to\n        feed information, such as tables mapping host-group\
    \ descriptors\n        to host-characteristics attributes, into the server, thereby\n\
    \        enabling it to give guidance to ALTO clients.  Some operators\n     \
    \   might consider the full set of this information confidential\n        (e.g.,\
    \ a detailed map of the operator's network topology) and\n        might want to\
    \ disclose only a subset of it or disclose somehow\n        obfuscated information\
    \ to an ALTO client.\n   (2)  Disclosure of the ALTO server operator's data (e.g.,\
    \ network\n        topology information) to an unauthorized third party.  There\
    \ are\n        three subcases here:\n        (2a)  An ALTO server receives and\
    \ answers queries originating\n              from an unauthorized ALTO client.\n\
    \        (2b)  An unauthorized party snoops on the data transmission from\n  \
    \            the ALTO server to an authorized ALTO client.\n        (2c)  An authorized\
    \ ALTO client knowingly forwards the\n              information it has received\
    \ from the ALTO server to an\n              unauthorized party.\n   (3)  Excess\
    \ retrieval of the ALTO server operator's data by\n        collaborating ALTO\
    \ clients.  Several authorized ALTO clients\n        could ask one or more ALTO\
    \ servers for guidance, possibly\n        several times during an extended period\
    \ of time, and\n        redistribute the responses among each other (see also\
    \ case 2c).\n        By aggregating and correlating the ALTO responses, they could\n\
    \        find out more information than intended to be disclosed by the\n    \
    \    ALTO server operator(s).\n   The following issues may be considered a risk\
    \ for the user of an ALTO\n   client, depending on the specific deployment scenario:\n\
    \   (4)  Disclosure of the application behavior or other user private\n      \
    \  data to the (authorized) ALTO server.  The operator of an ALTO\n        server\
    \ could infer the application behavior (e.g., content\n        identifiers in\
    \ P2P file sharing applications, or lists of\n        resource providers that\
    \ are considered for establishing a\n        connection) from the ALTO queries\
    \ sent by an ALTO client.\n   (5)  Disclosure of the application behavior or other\
    \ user private\n        data to an unauthorized third party.  There are three\
    \ subcases\n        here:\n        (5a)  An ALTO client willingly sends queries\
    \ directly to an\n              untrusted or malicious ALTO server, possibly due\
    \ to a\n              forged response of the ALTO server discovery mechanism.\n\
    \        (5b)  An unauthorized party snoops on the data transmission from\n  \
    \            the ALTO client to an authorized ALTO server.\n        (5c)  An authorized\
    \ ALTO server knowingly forwards the\n              information it has received\
    \ from the ALTO client to an\n              unauthorized party.\n   (6)  One or\
    \ several collaborating (see case 5c) ALTO servers could\n        try to infer\
    \ the application behavior or other user private data\n        by aggregating\
    \ and correlating queries from one or more ALTO\n        clients, possibly over\
    \ an extended period of time.\n"
- title: 5.2.2.  Discussion of Information Disclosure Scenarios
  contents:
  - "5.2.2.  Discussion of Information Disclosure Scenarios\n   An ALTO server operator\
    \ should consider:\n   o  Issue (1) may be addressed by the ALTO server operator\
    \ choosing\n      the level of detail of the information to be populated into\
    \ the\n      ALTO server and returned in the responses.  For example, by\n   \
    \   specifying a broader address range (i.e., a shorter prefix length)\n     \
    \ than a group of hosts in question actually uses, an ALTO server\n      operator\
    \ may control to some extent how much information about the\n      network topology\
    \ is disclosed.  Furthermore, access control\n      mechanisms for filtering ALTO\
    \ responses according to the\n      authenticated ALTO client identity might be\
    \ installed in the ALTO\n      server, although this might not be effective given\
    \ the lack of\n      efficient mechanisms for addressing (2c) and (3), see below.\n\
    \   o  (2a) and (2b) may be addressed by authentication, access control,\n   \
    \   and encryption schemes for the ALTO client protocol.  However,\n      deployment\
    \ of encryption schemes might not be effective given the\n      lack of efficient\
    \ mechanisms for addressing (2c) and (3), see\n      below.\n   o  Straightforward\
    \ authentication and encryption schemes will not\n      help solving (2c) and\
    \ (3), and there is no other simple and\n      efficient mechanism known.  The\
    \ cost of complex approaches, e.g.,\n      based on Digital Rights Management\
    \ (DRM), might easily outweigh\n      the benefits of the whole ALTO solution;\
    \ therefore, they are not\n      considered as a viable solution.  That is, ALTO\
    \ server operators\n      must be aware that (2c) and (3) cannot be prevented\
    \ from\n      happening; therefore, they should feed only such data into an ALTO\n\
    \      server that they do not consider sensitive with respect to (2c)\n     \
    \ and (3).\n   A user of an ALTO client should consider:\n   o  Issue (4) can\
    \ and needs to be addressed in several ways: If the\n      ALTO client is embedded\
    \ in the resource consumer, the resource\n      consumer's IP address (or the\
    \ \"public\" IP address of the outermost\n      NAT in front of the resource consumer)\
    \ is disclosed to the ALTO\n      server as a matter of principle, because it\
    \ is in the source\n      address fields of the IP headers.  By using a proxy,\
    \ the\n      disclosure of source addresses to the ALTO server can be avoided\n\
    \      at the cost of disclosing them to said proxy.  If, in contrast,\n     \
    \ the ALTO client is embedded in a third party (e.g., a resource\n      directory),\
    \ which issues ALTO requests on behalf of resource\n      consumers, it is possible\
    \ to hide the exact addresses of the\n      resource consumers from the ALTO server,\
    \ e.g., by zeroing out or\n      randomizing the last few bits of IP addresses.\
    \  However, there is\n      the potential side effect of yielding inaccurate results.\n\
    \      The disclosure of candidate resource providers' addresses to the\n    \
    \  ALTO server can be avoided by allowing ALTO clients to use the\n      target-independent\
    \ query mode.  In this mode of operation, guiding\n      information (e.g., \"\
    maps\") is retrieved from the ALTO server and\n      used entirely locally by\
    \ the ALTO client, i.e., without sending\n      host-location attributes of candidate\
    \ resource providers to the\n      ALTO server.  In the target-aware query mode,\
    \ this issue can be\n      addressed by ALTO clients through obfuscating the identity\
    \ of\n      candidate resource consumers, e.g., by specifying a broader\n    \
    \  address range (i.e., a shorter prefix length) than a group of\n      hosts\
    \ in question actually uses, or by zeroing out or randomizing\n      the last\
    \ few bits of IP addresses.  However, there is the\n      potential side effect\
    \ of yielding inaccurate results.\n   o  (5a) may be addressed by mandating that\
    \ the ALTO server discovery\n      procedure, as a whole, must be secure against\
    \ spoofing.\n      Note: Given that this document does not mandate a specific\
    \ system\n      architecture, it is difficult to specify more details than that\n\
    \      the discovery procedure, as a whole, should be secure against\n      spoofing.\
    \  There are many different architectural options, e.g.,\n      have an insecure\
    \ discovery mechanism and use server certificates\n      to later verify its response\
    \ (cf. the DNS + HTTPS security model\n      widely used in the World Wide Web).\
    \  Therefore, at this\n      requirements stage, it is not mandatory for the discovery\n\
    \      mechanism itself to be secure against spoofing attacks.\n   o  (5b) may\
    \ be addressed by encryption schemes for the ALTO client\n      protocol.  However,\
    \ the effort vs. benefit should be evaluated for\n      any specific deployment\
    \ scenario, while also considering the risks\n      and solution approaches for\
    \ issues (4), (5c), and (6).\n   o  Straightforward authentication and encryption\
    \ schemes will not\n      help solving (5c) and (6).  However, potential risks\
    \ can be\n      mitigated using the same approaches as used for issue (4), see\n\
    \      above.\n   These insights are reflected in the requirements in this document.\n"
- title: 5.3.  ALTO Server Discovery
  contents:
  - "5.3.  ALTO Server Discovery\n   See discussion of (5a) above.\n"
- title: 5.4.  Security Requirements
  contents:
  - "5.4.  Security Requirements\n   For a set of specific security requirements,\
    \ please refer to\n   Section 3.3 of this document.\n"
- title: 6.  References
  contents:
  - '6.  References

    '
- title: 6.1.  Normative References
  contents:
  - "6.1.  Normative References\n   [RFC2119]  Bradner, S., \"Key words for use in\
    \ RFCs to Indicate\n              Requirement Levels\", BCP 14, RFC 2119, March\
    \ 1997.\n   [RFC5693]  Seedorf, J. and E. Burger, \"Application-Layer Traffic\n\
    \              Optimization (ALTO) Problem Statement\", RFC 5693,\n          \
    \    October 2009.\n"
- title: 6.2.  Informative References
  contents:
  - "6.2.  Informative References\n   [RFC2616]  Fielding, R., Gettys, J., Mogul,\
    \ J., Frystyk, H.,\n              Masinter, L., Leach, P., and T. Berners-Lee,\
    \ \"Hypertext\n              Transfer Protocol -- HTTP/1.1\", RFC 2616, June 1999.\n\
    \   [RFC4787]  Audet, F. and C. Jennings, \"Network Address Translation\n    \
    \          (NAT) Behavioral Requirements for Unicast UDP\", BCP 127,\n       \
    \       RFC 4787, January 2007.\n   [RFC5382]  Guha, S., Biswas, K., Ford, B.,\
    \ Sivakumar, S., and P.\n              Srisuresh, \"NAT Behavioral Requirements\
    \ for TCP\", BCP 142,\n              RFC 5382, October 2008.\n   [RFC5706]  Harrington,\
    \ D., \"Guidelines for Considering Operations and\n              Management of\
    \ New Protocols and Protocol Extensions\",\n              RFC 5706, November 2009.\n"
- title: Appendix A.  Contributors
  contents:
  - "Appendix A.  Contributors\n   Early draft versions of this document were co-authored\
    \ by Laird\n   Popkin.\n"
- title: Appendix B.  Acknowledgments
  contents:
  - "Appendix B.  Acknowledgments\n   The authors would like to thank Vijay K. Gurbani\
    \ and Enrico Marocco\n   for fostering discussions that lead to the creation of\
    \ this document,\n   and for giving valuable comments on it.\n   The authors would\
    \ like to thank the members of the P2PI and ALTO\n   mailing lists for contributions\
    \ and feedback, in particular: Richard\n   Alimi, Jason Livingood, Michael Scharf,\
    \ Nico Schwan, and Jan Seedorf.\n   Laird Popkin and Y. Richard Yang are grateful\
    \ to the many\n   contributions made by the members of the P4P working group and\
    \ Yale\n   Laboratory of Networked Systems.  The P4P working group is hosted by\n\
    \   DCIA.\n   Martin Stiemerling is partially supported by the COAST project\n\
    \   (COntent Aware Searching, retrieval and sTreaming,\n   http://www.coast-fp7.eu),\
    \ a research project supported by the\n   European Commission under its 7th Framework\
    \ Program (contract no.\n   248036).  The views and conclusions contained herein\
    \ are those of the\n   authors and should not be interpreted as necessarily representing\
    \ the\n   official policies or endorsements, either expressed or implied, of\n\
    \   the COAST project or the European Commission.\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Sebastian Kiesel (editor)\n   University of Stuttgart\
    \ Computing Center\n   Networks and Communication Systems Department\n   Allmandring\
    \ 30\n   70550 Stuttgart\n   Germany\n   EMail: ietf-alto@skiesel.de\n   URI:\
    \   http://www.rus.uni-stuttgart.de/nks/\n   Stefano Previdi\n   Cisco Systems,\
    \ Inc.\n   EMail: sprevidi@cisco.com\n   Martin Stiemerling\n   NEC Laboratories\
    \ Europe\n   EMail: martin.stiemerling@neclab.eu\n   URI:   http://ietf.stiemerling.org\n\
    \   Richard Woundy\n   Comcast Corporation\n   EMail: Richard_Woundy@cable.comcast.com\n\
    \   Yang Richard Yang\n   Yale University\n   EMail: yry@cs.yale.edu\n"
