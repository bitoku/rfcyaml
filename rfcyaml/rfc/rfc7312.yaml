- title: __initial_text__
  contents:
  - "                 Advanced Stream and Sampling Framework\n                   for\
    \ IP Performance Metrics (IPPM)\n"
- title: Abstract
  contents:
  - "Abstract\n   To obtain repeatable results in modern networks, test descriptions\n\
    \   need an expanded stream parameter framework that also augments\n   aspects\
    \ specified as Type-P for test packets.  This memo updates the\n   IP Performance\
    \ Metrics (IPPM) Framework, RFC 2330, with advanced\n   considerations for measurement\
    \ methodology and testing.  The existing\n   framework mostly assumes deterministic\
    \ connectivity, and that a\n   single test stream will represent the characteristics\
    \ of the path\n   when it is aggregated with other flows.  Networks have evolved\
    \ and\n   test stream descriptions must evolve with them; otherwise, unexpected\n\
    \   network features may dominate the measured performance.  This memo\n   describes\
    \ new stream parameters for both network characterization and\n   support of application\
    \ design using IPPM metrics.\n"
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This document is not an Internet Standards Track specification;\
    \ it is\n   published for informational purposes.\n   This document is a product\
    \ of the Internet Engineering Task Force\n   (IETF).  It represents the consensus\
    \ of the IETF community.  It has\n   received public review and has been approved\
    \ for publication by the\n   Internet Engineering Steering Group (IESG).  Not\
    \ all documents\n   approved by the IESG are a candidate for any level of Internet\n\
    \   Standard; see Section 2 of RFC 5741.\n   Information about the current status\
    \ of this document, any errata,\n   and how to provide feedback on it may be obtained\
    \ at\n   http://www.rfc-editor.org/info/rfc7312.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (c) 2014 IETF Trust and the persons identified\
    \ as the\n   document authors.  All rights reserved.\n   This document is subject\
    \ to BCP 78 and the IETF Trust's Legal\n   Provisions Relating to IETF Documents\n\
    \   (http://trustee.ietf.org/license-info) in effect on the date of\n   publication\
    \ of this document.  Please review these documents\n   carefully, as they describe\
    \ your rights and restrictions with respect\n   to this document.  Code Components\
    \ extracted from this document must\n   include Simplified BSD License text as\
    \ described in Section 4.e of\n   the Trust Legal Provisions and are provided\
    \ without warranty as\n   described in the Simplified BSD License.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1.  Introduction  . . . . . . . . . . . . . . . . . . .\
    \ . . . . .   3\n     1.1.  Definition: Reactive Path Behavior  . . . . . . .\
    \ . . . .   4\n     1.2.  Requirements Language . . . . . . . . . . . . . . .\
    \ . . .   5\n   2.  Scope . . . . . . . . . . . . . . . . . . . . . . . . . .\
    \ . .   5\n   3.  New or Revised Stream Parameters  . . . . . . . . . . . . .\
    \ .   5\n     3.1.  Test Packet Type-P  . . . . . . . . . . . . . . . . . . .\
    \   6\n       3.1.1.  Multiple Test Packet Lengths  . . . . . . . . . . . .  \
    \ 7\n       3.1.2.  Test Packet Payload Content Optimization  . . . . . .   7\n\
    \     3.2.  Packet History  . . . . . . . . . . . . . . . . . . . . .   8\n  \
    \   3.3.  Access Technology Change  . . . . . . . . . . . . . . . .   8\n    \
    \ 3.4.  Time-Slotted Randomness Cancellation  . . . . . . . . . .   9\n   4. \
    \ Quality of Metrics and Methodologies  . . . . . . . . . . . .  10\n     4.1.\
    \  Revised Definition of Repeatability . . . . . . . . . . .  10\n     4.2.  Continuity\
    \ No Longer an Alternative Repeatability\n           Criterion . . . . . . . .\
    \ . . . . . . . . . . . . . . . .  11\n     4.3.  Metrics Should Be Actionable\
    \  . . . . . . . . . . . . . .  12\n     4.4.  It May Not Be Possible To Be Conservative\
    \ . . . . . . . .  13\n     4.5.  Spatial and Temporal Composition Support Unbiased\n\
    \           Sampling  . . . . . . . . . . . . . . . . . . . . . . . .  13\n  \
    \   4.6.  When to Truncate the Poisson Sampling Distribution  . . .  13\n   5.\
    \  Conclusions . . . . . . . . . . . . . . . . . . . . . . . . .  14\n   6.  Security\
    \ Considerations . . . . . . . . . . . . . . . . . . .  14\n   7.  Acknowledgements\
    \  . . . . . . . . . . . . . . . . . . . . . .  14\n   8.  References  . . . .\
    \ . . . . . . . . . . . . . . . . . . . . .  15\n     8.1.  Normative References\
    \  . . . . . . . . . . . . . . . . . .  15\n     8.2.  Informative References\
    \  . . . . . . . . . . . . . . . . .  16\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   The IETF IPPM working group first created a framework for\
    \ metric\n   development in [RFC2330].  This framework has stood the test of time\n\
    \   and enabled development of many fundamental metrics, while only being\n  \
    \ updated once in a specific area [RFC5835].\n   The IPPM framework [RFC2330]\
    \ generally relies on several assumptions,\n   one of which is not explicitly\
    \ stated but assumed: lightly loaded\n   paths conform to the linear \"serialization\
    \ delay = packet size /\n   capacity\" equation, and they are state-less or history-less\
    \ (with\n   some exceptions, e.g., firewalls are mentioned).  However, this does\n\
    \   not hold true for many modern network technologies, such as reactive\n   paths\
    \ (those with demand-driven resource allocation) and links with\n   time-slotted\
    \ operation.  Per-flow state can be observed on test\n   packet streams, and such\
    \ treatment will influence network\n   characterization if it is not taken into\
    \ account.  Flow history will\n   also affect the performance of applications\
    \ and be perceived by their\n   users.\n   Moreover, Sections 4 and 6.2 of [RFC2330]\
    \ explicitly recommend\n   repeatable measurement metrics and methodologies. \
    \ Measurements in\n   today's access networks illustrate that methodological guidelines\
    \ of\n   [RFC2330] must be extended to capture the reactive nature of these\n\
    \   networks.  There are proposed extensions to allow methodologies to\n   fulfill\
    \ the continuity requirement stated in Section 6.2 of\n   [RFC2330], but it is\
    \ impossible to guarantee they can do so.\n   Practical measurements confirm that\
    \ some link types exhibit distinct\n   responses to repeated measurements with\
    \ identical stimulus, i.e.,\n   identical traffic patterns.  If feasible, appropriate\
    \ fine-tuning of\n   measurement traffic patterns can improve measurement continuity\
    \ and\n   repeatability for these link types as shown in [IBD].\n   This memo\
    \ updates the IPPM framework [RFC2330] with advanced\n   considerations for measurement\
    \ methodology and testing.  We note that\n   the scope of IPPM work at the time\
    \ of the publication of [RFC2330]\n   (and during more than a decade that followed)\
    \ was limited to active\n   techniques or those that generate packet streams that\
    \ are dedicated\n   to measurement and do not monitor user traffic.  This memo\
    \ retains\n   that same scope.\n   We stress that this update of [RFC2330] does\
    \ not invalidate or\n   require changes to the analytic metric definitions prepared\
    \ in the\n   IPPM working group to date.  Rather, it adds considerations for\n\
    \   active measurement methodologies and expands the importance of\n   existing\
    \ conventions and notions in [RFC2330], such as \"packets of\n   Type-P\".\n \
    \  Among the evolutionary networking changes is a phenomenon we call\n   \"reactive\
    \ behavior\", as defined below.\n"
- title: '1.1.  Definition: Reactive Path Behavior'
  contents:
  - "1.1.  Definition: Reactive Path Behavior\n   Reactive path behavior will be observable\
    \ by the test packet stream\n   as a repeatable phenomenon where packet transfer\
    \ performance\n   characteristics *change* according to prior observations of\
    \ the\n   packet flow of interest (at the reactive host or link).  Therefore,\n\
    \   reactive path behavior is nominally deterministic with respect to the\n  \
    \ flow of interest.  Other flows or traffic load conditions may result\n   in\
    \ additional performance-affecting reactions, but these are external\n   to the\
    \ characteristics of the flow of interest.\n   In practice, a sender may not have\
    \ absolute control of the ingress\n   packet stream characteristics at a reactive\
    \ host or link, but this\n   does not change the deterministic reactions present\
    \ there.  If we\n   measure a path, the arrival characteristics at the reactive\
    \ host/link\n   are determined by the sending characteristics and the transfer\n\
    \   characteristics of intervening hosts and links.  Identical traffic\n   patterns\
    \ at the sending host might generate different patterns at the\n   input of the\
    \ reactive host/link due to impairments in the\n   intermediate subpath.  The\
    \ reactive host/link is expected to provide\n   a deterministic response on identical\
    \ input patterns (composed of all\n   flows, including the flow of interest).\n\
    \   Other than the size of the payload at the layer of interest and the\n   header\
    \ itself, packet content does not influence the measurement.\n   Reactive behavior\
    \ at the IP layer is not influenced by the TCP ports\n   in use, for example.\
    \  Therefore, the indication of reactive behavior\n   must include the layer at\
    \ which measurements are instituted.\n   Examples include links with Active/Inactive\
    \ state detectors, and\n   hosts or links that revise their traffic serving and\
    \ forwarding rates\n   (up or down) based on packet arrival history.\n   Although\
    \ difficult to handle from a measurement point of view,\n   reactive paths' entities\
    \ are usually designed to improve overall\n   network performance and user experience,\
    \ for example, by making\n   capacity available to an active user.  Reactive behavior\
    \ may be an\n   artifact of solutions to allocate scarce resources according to\
    \ the\n   demands of users; thus, it is an important problem to solve for\n  \
    \ measurement and other disciplines, such as application design.\n"
- title: 1.2.  Requirements Language
  contents:
  - "1.2.  Requirements Language\n   The key words \"MUST\", \"MUST NOT\", \"REQUIRED\"\
    , \"SHALL\", \"SHALL NOT\",\n   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"\
    MAY\", and \"OPTIONAL\" in this\n   document are to be interpreted as described\
    \ in RFC 2119 [RFC2119].\n"
- title: 2.  Scope
  contents:
  - "2.  Scope\n   The purpose of this memo is to foster repeatable measurement results\n\
    \   in modern networks by highlighting the key aspects of test streams\n   and\
    \ packets and making them part of the IPPM framework.\n   The scope is to update\
    \ key sections of [RFC2330], adding\n   considerations that will aid the development\
    \ of new measurement\n   methodologies intended for today's IP networks.  Specifically,\
    \ this\n   memo describes useful stream parameters that complement the\n   parameters\
    \ discussed in Section 11.1 of [RFC2330] and the parameters\n   described in Section\
    \ 4.2 of [RFC3432] for periodic streams.\n   The memo also provides new considerations\
    \ to update the criteria for\n   metrics in Section 4 of [RFC2330], the measurement\
    \ methodology in\n   Section 6.2 of [RFC2330], and other topics related to the\
    \ quality of\n   metrics and methods (see Section 4).\n   Other topics in [RFC2330]\
    \ that might be updated or augmented are\n   deferred to future work.  This includes\
    \ the topics of passive and\n   various forms of hybrid active/passive measurements.\n"
- title: 3.  New or Revised Stream Parameters
  contents:
  - "3.  New or Revised Stream Parameters\n   There are several areas where measurement\
    \ methodology definition and\n   test result interpretation will benefit from\
    \ an increased\n   understanding of the stream characteristics and the (possibly\n\
    \   unknown) network conditions that influence the measured metrics.\n   1.  Network\
    \ treatment depends on the fullest extent on the \"packet of\n       Type-P\"\
    \ definition in [RFC2330], and has for some time.\n       *  State is often maintained\
    \ on the per-flow basis at various\n          points in the path, where \"flows\"\
    \ are determined by IP and\n          other layers.  Significant treatment differences\
    \ occur with\n          the simplest of Type-P parameters: packet length.  Use\
    \ of\n          multiple lengths is RECOMMENDED.\n       *  Payload content optimization\
    \ (compression or format\n          conversion) in intermediate segments breaks\
    \ the convention of\n          payload correspondence when correlating measurements\
    \ are made\n          at different points in a path.\n   2.  Packet history (instantaneous\
    \ or recent test rate or inactivity,\n       also for non-test traffic) profoundly\
    \ influences measured\n       performance, in addition to all the Type-P parameters\
    \ described\n       in [RFC2330].\n   3.  Access technology may change during\
    \ testing.  A range of transfer\n       capacities and access methods may be encountered\
    \ during a test\n       session.  When different interfaces are used, the host\
    \ seeking\n       access will be aware of the technology change, which\n     \
    \  differentiates this form of path change from other changes in\n       network\
    \ state.  Section 14 of [RFC2330] addresses the possibility\n       that a host\
    \ may have more than one attachment to the network, and\n       also that assessment\
    \ of the measurement path (route) is valid for\n       some length of time (in\
    \ Sections 5 and 7 of [RFC2330]).  Here, we\n       combine these two considerations\
    \ under the assumption that\n       changes may be more frequent and possibly\
    \ have greater\n       consequences on performance metrics.\n   4.  Paths including\
    \ links or nodes with time-slotted service\n       opportunities represent several\
    \ challenges to measurement (when\n       the service time period is appreciable):\n\
    \       *  Random/unbiased sampling is not possible beyond one such link\n   \
    \       in the path.\n       *  The above encourages a segmented approach to end-to-end\n\
    \          measurement, as described in [RFC6049] for Network\n          Characterization\
    \ (as defined in [RFC6703]), to understand the\n          full range of delay\
    \ and delay variation on the path.\n          Alternatively, if application performance\
    \ estimation is the\n          goal (also defined in [RFC6703]), then a stream\
    \ with unbiased\n          or known-bias properties [RFC3432] may be sufficient.\n\
    \       *  Multi-modal delay variation makes central statistics\n          unimportant;\
    \ others must be used instead.\n   Each of these topics is treated in detail below.\n"
- title: 3.1.  Test Packet Type-P
  contents:
  - "3.1.  Test Packet Type-P\n   We recommend two Type-P parameters to be added to\
    \ the factors that\n   have impact on path performance measurements, namely packet\
    \ length\n   and payload type.  Carefully choosing these parameters can improve\n\
    \   measurement methodologies in their continuity and repeatability when\n   deployed\
    \ in reactive paths.\n"
- title: 3.1.1.  Multiple Test Packet Lengths
  contents:
  - "3.1.1.  Multiple Test Packet Lengths\n   Many instances of network characterization\
    \ using IPPM metrics have\n   relied on a single test packet length.  When testing\
    \ to assess\n   application performance or an aggregate of traffic, benchmarking\n\
    \   methods have used a range of fixed lengths and frequently augmented\n   fixed-size\
    \ tests with a mixture of sizes, or Internet Mix (IMIX) as\n   described in [RFC6985].\n\
    \   Test packet length influences delay measurements, in that the IPPM\n   one-way\
    \ delay metric [RFC2679] includes serialization time in its\n   first-bit to last-bit\
    \ timestamping requirements.  However, different\n   sizes can have a larger influence\
    \ on link delay and link delay\n   variation than serialization would explain\
    \ alone.  This effect can be\n   non-linear and change the instantaneous network\
    \ performance when a\n   different size is used, or the performance of packets\
    \ following the\n   size change.\n   Repeatability is a main measurement methodology\
    \ goal as stated in\n   Section 6.2 of [RFC2330].  To eliminate packet length\
    \ as a potential\n   measurement uncertainty factor, successive measurements must\
    \ use\n   identical traffic patterns.  In practice, a combination of random\n\
    \   payload and random start time can yield representative results as\n   illustrated\
    \ in [IRR].\n"
- title: 3.1.2.  Test Packet Payload Content Optimization
  contents:
  - "3.1.2.  Test Packet Payload Content Optimization\n   The aim for efficient network\
    \ resource use has resulted in deployment\n   of server-only or client-server\
    \ lossless or lossy payload compression\n   techniques on some links or paths.\
    \  These optimizers attempt to\n   compress high-volume traffic in order to reduce\
    \ network load.  Files\n   are analyzed by application-layer parsers, and parts\
    \ (like comments)\n   might be dropped.  Although typically acting on HTTP or\
    \ JPEG files,\n   compression might affect measurement packets, too.  In particular,\n\
    \   measurement packets are qualified for efficient compression when they\n  \
    \ use standard plain-text payload.  We note that use of transport-layer\n   encryption\
    \ will counteract the deployment of network-based analysis\n   and may reduce\
    \ the adoption of payload optimizations, however.\n   IPPM-conforming measurements\
    \ should add packet payload content as a\n   Type-P parameter, which can help\
    \ to improve measurement determinism.\n   Some packet payloads are more susceptible\
    \ to compression than others,\n   but optimizers in the measurement path can be\
    \ out ruled by using\n   incompressible packet payload.  This payload content\
    \ could be\n   supplied by a pseudo-random sequence generator or by using part\
    \ of a\n   compressed file (e.g., a part of a ZIP compressed archive).\n   Optimization\
    \ can go beyond the scope of one single data or\n   measurement stream.  Many\
    \ more client- or network-centric\n   optimization technologies have been proposed\
    \ or standardized so far,\n   including Robust Header Compression (ROHC) and Voice\
    \ over IP\n   aggregation as presented, for instance, in [EEAW].  Where\n   optimization\
    \ is feasible and valuable, many more of these\n   technologies may follow.  As\
    \ a general observation, the more\n   concurrent flows an intermediate host treats\
    \ and the longer the paths\n   shared by flows are, the higher becomes the incentive\
    \ of hosts to\n   aggregate flows belonging to distinct sources.  Measurements\
    \ should\n   consider this potential additional source of uncertainty with respect\n\
    \   to repeatability.  Aggregation of flows in networking devices can,\n   for\
    \ instance, result in reciprocal timing and performance influence\n   of these\
    \ flows, which may exceed typical reciprocal queueing effects\n   by orders of\
    \ magnitude.\n"
- title: 3.2.  Packet History
  contents:
  - "3.2.  Packet History\n   Recent packet history and instantaneous data rate influence\n\
    \   measurement results for reactive links supporting on-demand capacity\n   allocation.\
    \  Measurement uncertainty may be reduced by knowledge of\n   measurement packet\
    \ history and total host load.  Additionally, small\n   changes in history, e.g.,\
    \ because of lost packets along the path, can\n   be the cause of large performance\
    \ variations.\n   For instance, delay in reactive 3G networks like High Speed\
    \ Packet\n   Access (HSPA) depends to a large extent on the test traffic data\n\
    \   rate.  The reactive resource allocation strategy in these networks\n   affects\
    \ the uplink direction in particular.  Small changes in data\n   rate can be the\
    \ reason of more than a 200% increase in delay,\n   depending on the specific\
    \ packet size.  A detailed theoretical and\n   practical analysis of Radio Resource\
    \ Control (RRC) link transitions,\n   which can cause such behavior in Universal\
    \ Mobile Terrestrial System\n   (UMTS) networks, is presented, e.g., in [RRC].\n"
- title: 3.3.  Access Technology Change
  contents:
  - "3.3.  Access Technology Change\n   [RFC2330] discussed the scenario of multi-homed\
    \ hosts.  If hosts\n   become aware of access technology changes (e.g., because\
    \ of IP\n   address changes or lower-layer information) and make this information\n\
    \   available, measurement methodologies can use this information to\n   improve\
    \ measurement representativeness and relevance.\n   However, today's various access\
    \ network technologies can present the\n   same physical interface to the host.\
    \  A host may or may not become\n   aware when its access technology changes on\
    \ such an interface.\n   Measurements for paths that support on-demand capacity\
    \ allocation\n   are, therefore, challenging in that it is difficult to differentiate\n\
    \   between access technology changes (e.g., because of mobility) and\n   reactive\
    \ path behavior (e.g., because of data rate change).\n"
- title: 3.4.  Time-Slotted Randomness Cancellation
  contents:
  - "3.4.  Time-Slotted Randomness Cancellation\n   Time-slotted operation of path\
    \ entities -- interfaces, routers, or\n   links -- in a network path is a particular\
    \ challenge for\n   measurements, especially if the time-slot period is substantial.\
    \  The\n   central observation as an extension to Poisson stream sampling in\n\
    \   [RFC2330] is that the first such time-slotted component cancels\n   unbiased\
    \ measurement stream sampling.  In the worst case, time-\n   slotted operation\
    \ converts an unbiased, random measurement packet\n   stream into a periodic packet\
    \ stream.  Being heavily biased, these\n   packets may interact with periodic\
    \ behavior of subsequent time-\n   slotted network entities [TSRC].\n   Time-slotted\
    \ randomness cancellation (TSRC) sources can be found in\n   virtually any system,\
    \ network component or path, their impact on\n   measurements being a matter of\
    \ the order of magnitude when compared\n   to the metric under observation.  Examples\
    \ of TSRC sources include,\n   but are not limited to, system clock resolution,\
    \ operating system\n   ticks, time-slotted component or network operation, etc.\
    \  The amount\n   of measurement bias is determined by the particular measurement\n\
    \   stream, relative offset between allocated time slots in subsequent\n   path\
    \ entities, delay variation in these paths, and other sources of\n   variation.\
    \  Measurement results might change over time, depending on\n   how accurately\
    \ the sending host, receiving host, and time-slotted\n   components in the measurement\
    \ path are synchronized to each other and\n   to global time.  If path segments\
    \ maintain flow state, flow parameter\n   change or flow reallocations can cause\
    \ substantial variation in\n   measurement results.\n   Practical measurements\
    \ confirm that such interference limits delay\n   measurement variation to a subset\
    \ of theoretical value range.\n   Measurement samples for such cases can aggregate\
    \ on artificial\n   limits, generating multi-modal distributions as demonstrated\
    \ in\n   [IRR].  In this context, the desirable measurement sample statistics\n\
    \   differentiate between multi-modal delay distributions caused by\n   reactive\
    \ path behavior and the ones due to time-slotted interference.\n   Measurement\
    \ methodology selection for time-slotted paths depends to a\n   large extent on\
    \ the respective viewpoint.  End-to-end metrics can\n   provide accurate measurement\
    \ results for short-term sessions and low\n   likelihood of flow state modifications.\
    \  Applications or services\n   that aim at approximating path performance for\
    \ a short time interval\n   (in the order of minutes) and expect stable path conditions\
    \ should,\n   therefore, prefer end-to-end metrics.  Here, stable path conditions\n\
    \   refer to any kind of global knowledge concerning measurement path\n   flow\
    \ state and flow parameters.\n   However, if long-term forecast of time-slotted\
    \ path performance is\n   the main measurement goal, a segmented approach relying\
    \ on\n   measurement of subpath metrics is preferred.  Regenerating unbiased\n\
    \   measurement traffic at any hop can help to reveal the true range of\n   path\
    \ performance for all path segments.\n"
- title: 4.  Quality of Metrics and Methodologies
  contents:
  - "4.  Quality of Metrics and Methodologies\n   [RFC6808] proposes repeatability\
    \ and continuity as one of the metric\n   and methodology properties to infer\
    \ on measurement quality.\n   Depending mainly on the set of controlled measurement\
    \ parameters,\n   measurements repeated for a specific network path using a specific\n\
    \   methodology may or may not yield repeatable results.  Challenging\n   measurement\
    \ scenarios for adequate parameter control include\n   wireless, reactive, or\
    \ time-slotted networks as discussed earlier in\n   this document.  This section\
    \ presents an expanded definition of\n   \"repeatability\" beyond the definition\
    \ in [RFC2330] and an expanded\n   examination of the concept of \"continuity\"\
    \ in [RFC2330] and its\n   limited applicability.\n"
- title: 4.1.  Revised Definition of Repeatability
  contents:
  - "4.1.  Revised Definition of Repeatability\n   [RFC2330] defines repeatability\
    \ in a general way:\n   \"A methodology for a metric should have the property\
    \ that it is\n   repeatable: if the methodology is used multiple times under identical\n\
    \   conditions, the same measurements should result in the same\n   measurements.\"\
    \n   The challenge is to develop this definition further, such that it\n   becomes\
    \ an objective measurable criterion (and does not depend on the\n   concept of\
    \ continuity discussed below).  Fortunately, this topic has\n   been treated in\
    \ other IPPM work.  In BCP 176 [RFC6576], the criteria\n   of equivalent results\
    \ was agreed as the surrogate for\n   interoperability when assessing metric RFCs\
    \ for Standards Track\n   advancement.  The criteria of equivalence were expressed\
    \ as objective\n   statistical requirements for comparison across the same\n \
    \  implementations and independent implementations in the test plans\n   specific\
    \ to each RFC evaluated ([RFC2679] in the test plan of\n   [RFC6808]).\n   The\
    \ tests of [RFC6808] rely on nearly identical conditions to be\n   present for\
    \ analysis and accept that these conditions cannot be\n   exactly identical in\
    \ the production network paths used.  The test\n   plans allow some correction\
    \ factors to be applied (some statistical\n   tests are hyper-sensitive to differences\
    \ in the mean of\n   distributions) and recognize the original findings of [RFC2330]\n\
    \   regarding excess sample sizes.\n   One way to view the reliance on identical\
    \ conditions is to view it as\n   a challenge: How few parameters and path conditions\
    \ need to be\n   controlled and still produce repeatable methods/measurements?\n\
    \   Although the test plan in [RFC6808] documented numerical criteria for\n  \
    \ equivalence, we cannot specify the exact numerical criteria for\n   repeatability\
    \ *in general*.  The process in the BCP [RFC6576] and\n   statistics in [RFC6808]\
    \ have been used successfully, and the\n   numerical criteria to declare a metric\
    \ repeatable should be agreed by\n   all interested parties prior to measurement.\n\
    \   We revise the definition slightly, as follows:\n      A methodology for a\
    \ metric should have the property that it is\n      repeatable: if the methodology\
    \ is used multiple times under\n      identical conditions, the methods should\
    \ produce equivalent\n      measurement results.\n"
- title: 4.2.  Continuity No Longer an Alternative Repeatability Criterion
  contents:
  - "4.2.  Continuity No Longer an Alternative Repeatability Criterion\n   In the\
    \ original framework [RFC2330], the concept of continuity was\n   introduced to\
    \ provide a relaxed criteria for judging repeatability\n   and was described in\
    \ Section 6.2 of [RFC2330] as follows:\n   \"...a methodology for a given metric\
    \ exhibits continuity if, for\n   small variations in conditions, it results in\
    \ small variations in the\n   resulting measurements.\"\n   Although there are\
    \ conditions where metrics may exhibit continuity,\n   there are others where\
    \ this criteria would fail for both user traffic\n   and active measurement traffic.\
    \  Consider link fragmentation and the\n   non-linear increase in delay when we\
    \ increase packet size just beyond\n   the limit of a single fragment.  An active\
    \ measurement packet would\n   see the same delay increase when exceeding the\
    \ fragment size.\n   The Bulk Transfer Capacity (BTC) [RFC3148] gives another\
    \ example in\n   Section 1, bottom of page 2:\n      There is also evidence that\
    \ most TCP implementations exhibit non-\n      linear performance over some portion\
    \ of their operating region.\n      It is possible to construct simple simulation\
    \ examples where\n      incremental improvements to a path (such as raising the\
    \ link data\n      rate) results in lower overall TCP throughput (or BTC) [Mat98].\n\
    \   Clearly, the time-slotted network elements described in Section 3.4\n   of\
    \ this document also qualify as a new exception to the ideal of\n   continuity.\n\
    \      Therefore, we deprecate continuity as an alternate criterion on\n     \
    \ metrics and prefer the more exact evaluation of repeatability\n      instead.\n"
- title: 4.3.  Metrics Should Be Actionable
  contents:
  - "4.3.  Metrics Should Be Actionable\n   The IP Performance Metrics Framework [RFC2330]\
    \ includes usefulness as\n   a metric criterion:\n   \"...The metrics must be\
    \ useful to users and providers in\n   understanding the performance they experience\
    \ or provide...\".\n   When considering measurements as part of a maintenance\
    \ process,\n   evaluation of measurement results for a path under observation\
    \ can\n   draw attention to potential performance problems \"somewhere\" on the\n\
    \   path.  Anomaly detection is, therefore, an important phase and first\n   step\
    \ that already satisfies the usefulness criterion for many\n   metrics.\n   This\
    \ concept of usefulness can be extended, becoming a subset of what\n   we refer\
    \ to as \"actionable\" criterion in the following.  We note that\n   this is not\
    \ the term from law.\n   Central to maintenance is the isolation of the root cause\
    \ of reported\n   anomalies down to a specific subpath, link or host, and metrics\n\
    \   should support this second step as well.  While detection of path\n   anomaly\
    \ may be the result of an on-going monitoring process, the\n   second step of\
    \ cause isolation consists of specific, directed on-\n   demand measurements on\
    \ components and subpaths.  Metrics must support\n   users in this directed search,\
    \ becoming actionable:\n      Metrics must enable users and operators to understand\
    \ path\n      performance and SHOULD help to direct corrective actions when\n\
    \      warranted, based on the measurement results.\n   Besides characterizing\
    \ metrics, usefulness and actionable properties\n   are also applicable to methodologies\
    \ and measurements.\n"
- title: 4.4.  It May Not Be Possible To Be Conservative
  contents:
  - "4.4.  It May Not Be Possible To Be Conservative\n   [RFC2330] adopts the term\
    \ \"conservative\" for measurement\n   methodologies for which:\n   \"... the\
    \ act of measurement does not modify, or only slightly\n   modifies, the value\
    \ of the performance metric the methodology\n   attempts to measure.\"\n   It\
    \ should be noted that this definition of \"conservative\" in the\n   sense of\
    \ [RFC2330] depends to a large extent on the measurement\n   path's technology\
    \ and characteristics.  In particular, when deployed\n   on reactive paths, subpaths,\
    \ links or hosts conforming to the\n   definition in Section 1.1 of this document,\
    \ measurement packets can\n   originate capacity (re)allocations.  In addition,\
    \ small measurement\n   flow variations can result in other users on the same\
    \ path perceiving\n   significant variations in measurement results.  Therefore:\n\
    \      It is not always possible for the method to be conservative.\n"
- title: 4.5.  Spatial and Temporal Composition Support Unbiased Sampling
  contents:
  - "4.5.  Spatial and Temporal Composition Support Unbiased Sampling\n   Concepts\
    \ related to temporal and spatial composition of metrics in\n   Section 9 of [RFC2330]\
    \ have been extended in [RFC5835].  [RFC5835]\n   defines multiple new types of\
    \ metrics, including Spatial Composition,\n   Temporal Aggregation, and Spatial\
    \ Aggregation.  So far, only the\n   metrics for Spatial Composition have been\
    \ standardized [RFC6049],\n   providing the ability to estimate the performance\
    \ of a complete path\n   from subpath metrics.  Spatial Composition aligns with\
    \ the finding of\n   [TSRC] that unbiased sampling is not possible beyond the\
    \ first time-\n   slotted link within a measurement path.\n      In cases where\
    \ unbiased measurement for all segments of a path is\n      not feasible due to\
    \ the presence of a time-slotted link, restoring\n      randomness of measurement\
    \ samples when necessary is recommended as\n      presented in [TSRC], in combination\
    \ with Spatial Composition\n      [RFC6049].\n"
- title: 4.6.  When to Truncate the Poisson Sampling Distribution
  contents:
  - "4.6.  When to Truncate the Poisson Sampling Distribution\n   Section 11.1.1 of\
    \ [RFC2330] describes Poisson sampling, where the\n   inter-packet send times\
    \ have a Poisson distribution.  A path element\n   with reactive behavior sensitive\
    \ to flow inactivity could change\n   state if the random inter-packet time is\
    \ too long.\n      It is recommended to truncate the tail of Poisson distribution\n\
    \      when needed to avoid reactive element state changes.\n   Tail truncation\
    \ has been used without issue to ensure that minimum\n   sample sizes can be attained\
    \ in a fixed-test interval.\n"
- title: 5.  Conclusions
  contents:
  - "5.  Conclusions\n   Safeguarding repeatability as a key property of measurement\n\
    \   methodologies is highly challenging and sometimes impossible in\n   reactive\
    \ paths.  Measurements in paths with demand-driven allocation\n   strategies must\
    \ use a prototypical application packet stream to infer\n   a specific application's\
    \ performance.  Measurement repetition with\n   unbiased network and flow states\
    \ (e.g., by rebooting measurement\n   hosts) can help to avoid interference with\
    \ periodic network behavior,\n   with randomness being a mandatory feature for\
    \ avoiding correlation\n   with network timing.\n   Inferring the path performance\
    \ between one measurement session or\n   packet stream and other sessions/streams\
    \ with alternate\n   characteristics is generally discouraged with reactive paths\
    \ because\n   of the huge set of global parameters that have influence on\n  \
    \ instantaneous path performance.\n"
- title: 6.  Security Considerations
  contents:
  - "6.  Security Considerations\n   The security considerations that apply to any\
    \ active measurement of\n   live paths are relevant here as well.  See [RFC4656]\
    \ and [RFC5357].\n   When considering privacy of those involved in measurement\
    \ or those\n   whose traffic is measured, the sensitive information available\
    \ to\n   potential observers is greatly reduced when using active techniques\n\
    \   that are within this scope of work.  Passive observations of user\n   traffic\
    \ for measurement purposes raise many privacy issues.  We refer\n   the reader\
    \ to the privacy considerations described in the Large Scale\n   Measurement of\
    \ Broadband Performance (LMAP) Framework [LMAP], which\n   covers active and passive\
    \ techniques.\n"
- title: 7.  Acknowledgements
  contents:
  - "7.  Acknowledgements\n   The authors thank Rudiger Geib, Matt Mathis, Konstantinos\n\
    \   Pentikousis, and Robert Sparks for their helpful comments on this\n   memo,\
    \ Alissa Cooper and Kathleen Moriarty for suggesting ways to\n   \"update the\
    \ update\" for heightened privacy awareness and its\n   consequences, and Ann\
    \ Cerveny for her editorial review and comments\n   that helped to improve readability\
    \ overall.\n"
- title: 8.  References
  contents:
  - '8.  References

    '
- title: 8.1.  Normative References
  contents:
  - "8.1.  Normative References\n   [RFC2119]  Bradner, S., \"Key words for use in\
    \ RFCs to Indicate\n              Requirement Levels\", BCP 14, RFC 2119, March\
    \ 1997.\n   [RFC2330]  Paxson, V., Almes, G., Mahdavi, J., and M. Mathis,\n  \
    \            \"Framework for IP Performance Metrics\", RFC 2330, May\n       \
    \       1998.\n   [RFC2679]  Almes, G., Kalidindi, S., and M. Zekauskas, \"A One-way\n\
    \              Delay Metric for IPPM\", RFC 2679, September 1999.\n   [RFC3432]\
    \  Raisanen, V., Grotefeld, G., and A. Morton, \"Network\n              performance\
    \ measurement with periodic streams\", RFC 3432,\n              November 2002.\n\
    \   [RFC4656]  Shalunov, S., Teitelbaum, B., Karp, A., Boote, J., and M.\n   \
    \           Zekauskas, \"A One-way Active Measurement Protocol\n             \
    \ (OWAMP)\", RFC 4656, September 2006.\n   [RFC5357]  Hedayat, K., Krzanowski,\
    \ R., Morton, A., Yum, K., and J.\n              Babiarz, \"A Two-Way Active Measurement\
    \ Protocol (TWAMP)\",\n              RFC 5357, October 2008.\n   [RFC5835]  Morton,\
    \ A. and S. Van den Berghe, \"Framework for Metric\n              Composition\"\
    , RFC 5835, April 2010.\n   [RFC6049]  Morton, A. and E. Stephan, \"Spatial Composition\
    \ of\n              Metrics\", RFC 6049, January 2011.\n   [RFC6576]  Geib, R.,\
    \ Morton, A., Fardid, R., and A. Steinmitz, \"IP\n              Performance Metrics\
    \ (IPPM) Standard Advancement Testing\",\n              BCP 176, RFC 6576, March\
    \ 2012.\n   [RFC6703]  Morton, A., Ramachandran, G., and G. Maguluri, \"Reporting\n\
    \              IP Network Performance Metrics: Different Points of View\",\n \
    \             RFC 6703, August 2012.\n"
- title: 8.2.  Informative References
  contents:
  - "8.2.  Informative References\n   [EEAW]     Pentikousis, K., Piri, E., Pinola,\
    \ J., Fitzek, F.,\n              Nissilae, T., and I. Harjula, \"Empirical Evaluation\
    \ of\n              VoIP Aggregation over a Fixed WiMAX Testbed\", Proceedings\n\
    \              of the 4th International Conference on Testbeds and\n         \
    \     research infrastructures for the development of networks\n             \
    \ and communities (TridentCom '08), Article No. 19, March\n              2008,\
    \ <http://dl.acm.org/citation.cfm?id=139059>.\n   [IBD]      Fabini, J., Karner,\
    \ W., Wallentin, L., and T. Baumgartner,\n              \"The Illusion of Being\
    \ Deterministic - Application-Level\n              Considerations on Delay in\
    \ 3G HSPA Networks\", Lecture\n              Notes in Computer Science, Volume\
    \ 5550, pp. 301-312 , May\n              2009.\n   [IRR]      Fabini, J., Wallentin,\
    \ L., and P. Reichl, \"The Importance\n              of Being Really Random: Methodological\
    \ Aspects of IP-Layer\n              2G and 3G Network Delay Assessment\", ICC'09\
    \ Proceedings of\n              the 2009 IEEE International Conference on Communications,\n\
    \              doi: 10.1109/ICC.2009.5199514, June 2009.\n   [LMAP]     Eardley,\
    \ P., Morton, A., Bagnulo, M., Burbridge, T.,\n              Aitken, P., and A.\
    \ Akhter, \"A framework for large-scale\n              measurement platforms (LMAP)\"\
    , Work in Progress, June\n              2014.\n   [Mat98]    Mathis, M., \"Empirical\
    \ Bulk Transfer Capacity\", IP\n              Performance Metrics Working Group\
    \ report in Proceedings of\n              the Forty-Third Internet Engineering\
    \ Task Force, Orlando,\n              FL, December 1998,\n              <http://www.ietf.org/proceedings/43/slides/\n\
    \              ippm-mathis-98dec.pdf>.\n   [RFC3148]  Mathis, M. and M. Allman,\
    \ \"A Framework for Defining\n              Empirical Bulk Transfer Capacity Metrics\"\
    , RFC 3148, July\n              2001.\n   [RFC6808]  Ciavattone, L., Geib, R.,\
    \ Morton, A., and M. Wieser, \"Test\n              Plan and Results Supporting\
    \ Advancement of RFC 2679 on the\n              Standards Track\", RFC 6808, December\
    \ 2012.\n   [RFC6985]  Morton, A., \"IMIX Genome: Specification of Variable Packet\n\
    \              Sizes for Additional Testing\", RFC 6985, July 2013.\n   [RRC]\
    \      Peraelae, P., Barbuzzi, A., Boggia, G., and K.\n              Pentikousis,\
    \ \"Theory and Practice of RRC State Transitions\n              in UMTS Networks\"\
    , IEEE Globecom 2009 Workshops, doi:\n              10.1109/GLOCOMW.2009.5360763,\
    \ November 2009.\n   [TSRC]     Fabini, J. and M. Abmayer, \"Delay Measurement\
    \ Methodology\n              Revisited: Time-slotted Randomness Cancellation\"\
    , IEEE\n              Transactions on Instrumentation and Measurement, Volume\n\
    \              62, Issue 10, doi:10.1109/TIM.2013.2263914, October 2013.\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Joachim Fabini\n   Vienna University of Technology\n \
    \  Gusshausstrasse 25/E389\n   Vienna  1040\n   Austria\n   Phone: +43 1 58801\
    \ 38813\n   Fax:   +43 1 58801 38898\n   EMail: Joachim.Fabini@tuwien.ac.at\n\
    \   URI:   http://www.tc.tuwien.ac.at/about-us/staff/joachim-fabini/\n   Al Morton\n\
    \   AT&T Labs\n   200 Laurel Avenue South\n   Middletown, NJ  07748\n   USA\n\
    \   Phone: +1 732 420 1571\n   Fax:   +1 732 368 1192\n   EMail: acmorton@att.com\n\
    \   URI:   http://home.comcast.net/~acmacm/\n"
