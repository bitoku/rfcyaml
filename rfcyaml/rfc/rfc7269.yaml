- title: __initial_text__
  contents:
  - '                NAT64 Deployment Options and Experience

    '
- title: Abstract
  contents:
  - "Abstract\n   This document summarizes NAT64 function deployment scenarios and\n\
    \   operational experience.  Both NAT64 Carrier-Grade NAT (NAT64-CGN) and\n  \
    \ NAT64 server Front End (NAT64-FE) are considered in this document.\n"
- title: Status of This Memo
  contents:
  - "Status of This Memo\n   This document is not an Internet Standards Track specification;\
    \ it is\n   published for informational purposes.\n   This document is a product\
    \ of the Internet Engineering Task Force\n   (IETF).  It represents the consensus\
    \ of the IETF community.  It has\n   received public review and has been approved\
    \ for publication by the\n   Internet Engineering Steering Group (IESG).  Not\
    \ all documents\n   approved by the IESG are a candidate for any level of Internet\n\
    \   Standard; see Section 2 of RFC 5741.\n   Information about the current status\
    \ of this document, any errata,\n   and how to provide feedback on it may be obtained\
    \ at\n   http://www.rfc-editor.org/info/rfc7269.\n"
- title: Copyright Notice
  contents:
  - "Copyright Notice\n   Copyright (c) 2014 IETF Trust and the persons identified\
    \ as the\n   document authors.  All rights reserved.\n   This document is subject\
    \ to BCP 78 and the IETF Trust's Legal\n   Provisions Relating to IETF Documents\n\
    \   (http://trustee.ietf.org/license-info) in effect on the date of\n   publication\
    \ of this document.  Please review these documents\n   carefully, as they describe\
    \ your rights and restrictions with respect\n   to this document.  Code Components\
    \ extracted from this document must\n   include Simplified BSD License text as\
    \ described in Section 4.e of\n   the Trust Legal Provisions and are provided\
    \ without warranty as\n   described in the Simplified BSD License.\n"
- title: Table of Contents
  contents:
  - "Table of Contents\n   1.  Introduction  . . . . . . . . . . . . . . . . . . .\
    \ . . . . .   2\n   2.  Terminology . . . . . . . . . . . . . . . . . . . . .\
    \ . . . .   3\n   3.  NAT64 Networking Experience . . . . . . . . . . . . . .\
    \ . . .   4\n     3.1.  NAT64-CGN Consideration . . . . . . . . . . . . . . .\
    \ . .   4\n       3.1.1.  NAT64-CGN Usages  . . . . . . . . . . . . . . . . .\
    \ .   4\n       3.1.2.  DNS64 Deployment  . . . . . . . . . . . . . . . . . .\
    \   4\n       3.1.3.  NAT64 Placement . . . . . . . . . . . . . . . . . . .  \
    \ 5\n       3.1.4.  Coexistence of NAT64 and NAT44  . . . . . . . . . . .   5\n\
    \     3.2.  NAT64-FE Consideration  . . . . . . . . . . . . . . . . .   6\n  \
    \ 4.  High Availability . . . . . . . . . . . . . . . . . . . . . .   7\n    \
    \ 4.1.  Redundancy Design . . . . . . . . . . . . . . . . . . . .   7\n     4.2.\
    \  Load Balancing  . . . . . . . . . . . . . . . . . . . . .   9\n   5.  Source-Address\
    \ Transparency . . . . . . . . . . . . . . . . .   9\n     5.1.  Traceability\
    \  . . . . . . . . . . . . . . . . . . . . . .   9\n     5.2.  Geolocation . .\
    \ . . . . . . . . . . . . . . . . . . . . .  10\n   6.  Quality of Experience\
    \ . . . . . . . . . . . . . . . . . . . .  11\n     6.1.  Service Reachability\
    \  . . . . . . . . . . . . . . . . . .  11\n     6.2.  Resource Reservation  .\
    \ . . . . . . . . . . . . . . . . .  13\n   7.  MTU Considerations  . . . . .\
    \ . . . . . . . . . . . . . . . .  13\n   8.  ULA Usages  . . . . . . . . . .\
    \ . . . . . . . . . . . . . . .  14\n   9.  Security Considerations . . . . .\
    \ . . . . . . . . . . . . . .  15\n   10. Acknowledgements  . . . . . . . . .\
    \ . . . . . . . . . . . . .  15\n   11. Contributors  . . . . . . . . . . . .\
    \ . . . . . . . . . . . .  16\n   12. References  . . . . . . . . . . . . . .\
    \ . . . . . . . . . . .  16\n     12.1.  Normative References . . . . . . . .\
    \ . . . . . . . . . .  16\n     12.2.  Informative References . . . . . . . .\
    \ . . . . . . . . .  18\n   Appendix A.  Test Results for Application Behavior\
    \  . . . . . . .  21\n"
- title: 1.  Introduction
  contents:
  - "1.  Introduction\n   IPv6 is the only sustainable solution for numbering nodes\
    \ on the\n   Internet due to the IPv4 depletion.  Network operators have to deploy\n\
    \   IPv6-only networks in order to meet the needs of the expanding\n   Internet\
    \ without available IPv4 addresses.\n   Single-stack IPv6 network deployment can\
    \ simplify network\n   provisioning; some justification was provided in 464XLAT\
    \ [RFC6877].\n   IPv6-only connectivity confers some benefits to mobile operators\
    \ as\n   an example.  In the mobile context, IPv6-only usage enables the use\n\
    \   of a single IPv6 Packet Data Protocol (PDP) context or Evolved Packet\n  \
    \ System (EPS) bearer on Long Term Evolution (LTE) networks.  This\n   eliminates\
    \ significant network costs (caused by employing two PDP\n   contexts in some\
    \ cases) and the need for IPv4 addresses to be\n   assigned to customers.  In\
    \ broadband networks overall, it can allow\n   for the scaling of edge-network\
    \ growth to be decoupled from IPv4\n   numbering limitations.\n   In transition\
    \ scenarios, some existing networks are likely to be IPv4\n   only for quite a\
    \ long time.  IPv6 networks and IPv6-only hosts will\n   need to coexist with\
    \ IPv4 numbered resources.  Widespread dual-stack\n   deployments have not materialized\
    \ at the anticipated rate over the\n   last 10 years, one possible conclusion\
    \ being that legacy networks\n   will not make the jump quickly.  The Internet\
    \ will include nodes that\n   are dual stack, nodes that remain IPv4 only, and\
    \ nodes that can be\n   deployed as IPv6-only nodes.  A translation mechanism\
    \ based on a\n   NAT64 function [RFC6145] [RFC6146] is likely to be a key element\
    \ of\n   Internet connectivity for IPv6-IPv4 interoperability.\n   [RFC6036] reports\
    \ at least 30% of operators plan to run some kind of\n   translator (presumably\
    \ NAT64/DNS64).  Advice on NAT64 deployment and\n   operations are therefore of\
    \ some importance.  [RFC6586] documents the\n   implications for IPv6-only networks.\
    \  This document intends to be\n   specific to NAT64 network planning.\n"
- title: 2.  Terminology
  contents:
  - "2.  Terminology\n   Regarding IPv4/IPv6 translation, [RFC6144] has described\
    \ a framework\n   for enabling networks to make interworking possible between\
    \ IPv4 and\n   IPv6 networks.  Two operation modes (i.e., stateful translation\
    \ and\n   stateless translation) have been described in Section 3.2 of\n   [RFC6144].\
    \  This document describes the usage of those two operation\n   modes and has\
    \ further categorized different NAT64 functions,\n   locations, and use cases.\
    \  The principal distinction of location is\n   whether the NAT64 is located in\
    \ a Carrier-Grade NAT or server Front\n   End. The terms \"NAT-CGN\" and \"NAT-FE\"\
    \ are understood to be a\n   topological distinction indicating different features\
    \ employed in a\n   NAT64 deployment.\n   NAT64 Carrier Grade NAT (NAT64-CGN):\
    \  A NAT64-CGN is placed in an ISP\n      network.  IPv6-enabled subscribers leverage\
    \ the NAT64-CGN to\n      access existing IPv4 Internet services.  The ISP as\
    \ an\n      administrative entity takes full control of the IPv6 side, but it\n\
    \      has limited or no control on the IPv4 Internet side.  NAT64-CGN\n     \
    \ deployments may have to consider the IPv4 Internet environment and\n      services,\
    \ and make appropriate configuration choices accordingly.\n   NAT64 server Front\
    \ End (NAT64-FE):  A NAT64-FE is generally a device\n      with NAT64 functionality\
    \ in a content provider or data center\n      network.  It could be, for example,\
    \ a traffic load balancer or a\n      firewall.  The operator of the NAT64-FE\
    \ has full control over the\n      IPv4 network within the data center but only\
    \ limited influence or\n      control over the external Internet IPv6 network.\n"
- title: 3.  NAT64 Networking Experience
  contents:
  - '3.  NAT64 Networking Experience

    '
- title: 3.1.  NAT64-CGN Consideration
  contents:
  - '3.1.  NAT64-CGN Consideration

    '
- title: 3.1.1.  NAT64-CGN Usages
  contents:
  - "3.1.1.  NAT64-CGN Usages\n   Fixed network operators and mobile operators may\
    \ locate NAT64\n   translators in access networks or in mobile core networks.\
    \  NAT64 can\n   be built into various devices, including routers, gateways, or\n\
    \   firewalls, in order to connect IPv6 users to the IPv4 Internet.  With\n  \
    \ regard to the numbers of users and the shortage of public IPv4\n   addresses,\
    \ stateful NAT64 [RFC6146] is more suited to maximize\n   sharing of public IPv4\
    \ addresses.  The usage of stateless NAT64 can\n   provide better transparency\
    \ features [MOTIVATION], but it has to be\n   coordinated with Address plus Port\
    \ (A+P) processes [RFC6346] as\n   specified in [MAP-T] in order to deal with\
    \ an IPv4 address shortage.\n"
- title: 3.1.2.  DNS64 Deployment
  contents:
  - "3.1.2.  DNS64 Deployment\n   DNS64 [RFC6147] is recommended for use in combination\
    \ with stateful\n   NAT64, and it will likely be an essential part of an IPv6\
    \ single-\n   stack network that couples to the IPv4 Internet. 464XLAT [RFC6877]\n\
    \   can enable access of IPv4-only applications or applications that call\n  \
    \ IPv4 literal addresses.  Using DNS64 will help 464XLAT to\n   automatically\
    \ discover NAT64 prefixes through [RFC7050].  Berkeley\n   Internet Name Daemon\
    \ (BIND) software supports that function.  It's\n   important to note that DNS64\
    \ generates the synthetic AAAA reply when\n   services only provide A records.\
    \  Operators should not expect to\n   access IPv4 parts of a dual-stack server\
    \ using NAT64/DNS64.  The\n   traffic is forwarded on IPv6 paths if dual-stack\
    \ servers are\n   targeted.  IPv6 traffic may be routed around rather than going\n\
    \   through NAT64.  Only the traffic going to IPv4-only services would\n   traverse\
    \ the NAT64 translator.  In some sense, it encourages IPv6\n   usage and limits\
    \ NAT translation compared to employing NAT44, where\n   all traffic flows have\
    \ to be translated.  In some cases, NAT64-CGNs\n   may serve double roles, i.e.,\
    \ as a translator and IPv6 forwarder.  In\n   mobile networks, NAT64 may be deployed\
    \ as the default gateway serving\n   all the IPv6 traffic.  The traffic heading\
    \ to a dual-stack server is\n   only forwarded on the NAT64.  Therefore, both\
    \ IPv6 and IPv4 are\n   suggested to be configured on the Internet-facing interfaces\
    \ of\n   NAT64.  We tested on the top 100 websites (referring to [Alexa]\n   statistics).\
    \ 43% of websites are connected and forwarded on NAT64\n   since those websites\
    \ have both AAAA and A records.  With expansion of\n   IPv6 support, the translation\
    \ process on NAT64 will likely become\n   less important over time.  It should\
    \ be noted that the DNS64-DNSSEC\n   interaction [RFC6147] may impact validation\
    \ of Resource Records\n   retrieved from the DNS64 process.  In particular, DNSSEC\
    \ validation\n   will fail when DNS64 synthesizes AAAA records where there is\
    \ a DNS\n   query received with the \"DNSSEC OK\" (DO) bit set and the \"Checking\n\
    \   Disabled\" (CD) bit set.\n"
- title: 3.1.3.  NAT64 Placement
  contents:
  - "3.1.3.  NAT64 Placement\n   All connections to IPv4 services from IPv6-only clients\
    \ must traverse\n   the NAT64-CGN.  It can be advantageous from the viewpoint\
    \ of\n   troubleshooting and traffic engineering to carry the IPv6 traffic\n \
    \  natively for as long as possible within an access network and\n   translate\
    \ packets only at or near the network egress.  NAT64 may be a\n   feature of the\
    \ Autonomous System (AS) border in fixed networks.  It\n   may be deployed in\
    \ an IP node beyond the Gateway GPRS Support Node\n   (GGSN) or Packet Data Network\
    \ Gateway (PDN-GW) in mobile networks or\n   directly as part of the gateway itself\
    \ in some situations.  This\n   allows consistent attribution and traceability\
    \ within the service\n   provider network.  It has been observed that the process\
    \ of\n   correlating log information is problematic from multiple vendors'\n \
    \  equipment due to inconsistent formats of log records.  Placing NAT64\n   in\
    \ a centralized location may reduce diversity of log format and\n   simplify the\
    \ network provisioning.  Moreover, since NAT64 is only\n   targeted at serving\
    \ traffic flows from IPv6 to IPv4-only services,\n   the user traffic volume should\
    \ not be as high as in a NAT44 scenario,\n   and therefore, the gateway's capacity\
    \ in such a location may be less\n   of a concern or a hurdle to deployment. \
    \ On the other hand, placement\n   in a centralized fashion would require more\
    \ strict high-availability\n   (HA) design.  It would also make geolocation based\
    \ on IPv4 addresses\n   rather inaccurate as is currently the case for NAT44 CGNs\
    \ already\n   deployed in ISP networks.  More considerations or workarounds on\
    \ HA\n   and traceability can be found in Sections 4 and 5.\n"
- title: 3.1.4.  Coexistence of NAT64 and NAT44
  contents:
  - "3.1.4.  Coexistence of NAT64 and NAT44\n   NAT64 will likely coexist with NAT44\
    \ in a dual-stack network where\n   IPv4 private addresses are allocated to customers.\
    \  The coexistence\n   has already been observed in mobile networks, in which\
    \ dual-stack\n   mobile phones normally initiate some dual-stack PDN/PDP Type\n\
    \   [RFC6459] to query both IPv4/IPv6 addresses and IPv4-allocated\n   addresses\
    \ (which are very often private ones).  [RFC6724] always\n   prioritizes IPv6\
    \ connections regardless of whether the end-to-end\n   path is native IPv6 or\
    \ IPv6 translated to IPv4 via NAT64/DNS64.\n   Conversely, a \"Happy Eyeballs\"\
    \ [RFC6555] algorithm will direct some\n   IP flows across IPv4 paths.  The selection\
    \ of IPv4/IPv6 paths may\n   depend on particular implementation choices or settings\
    \ on a host-by-\n   host basis, and it may differ from an operator's deterministic\n\
    \   scheme.  Our tests verified that hosts may find themselves switching\n   between\
    \ IPv4 and IPv6 paths as they access identical services, but at\n   different\
    \ times [COEXIST].  Since the topology on each path is\n   potentially different,\
    \ it may cause unstable user experience and some\n   degradation of Quality of\
    \ Experience (QoE) when falling back to the\n   other protocol.  It's also difficult\
    \ for operators to find a solution\n   to make a stable network with optimal resource\
    \ utilization.  In\n   general, it's desirable to figure out the solution that\
    \ will\n   introduce IPv6/IPv4 translation service to IPv6-only hosts connecting\n\
    \   to IPv4 servers, while making sure dual-stack hosts have at least one\n  \
    \ address family accessible via native service if possible.  With the\n   end-to-end\
    \ native IPv6 environment available, hosts should be\n   upgraded aggressively\
    \ to migrate in favor of IPv6 only.  There are\n   ongoing efforts to detect host\
    \ connectivity and propose a new DHCPv6\n   option [CONN-STATUS] to convey appropriate\
    \ configuration information\n   to the hosts.\n"
- title: 3.2.  NAT64-FE Consideration
  contents:
  - "3.2.  NAT64-FE Consideration\n   Some Internet Content Providers (ICPs) may locate\
    \ NAT64 in front of\n   an Internet Data Center (IDC), for example, co-located\
    \ with a load-\n   balancing function.  Load balancers are employed to connect\
    \ different\n   IP family domains and distribute workloads across multiple domains\
    \ or\n   internal servers.  In some cases, IPv4 address exhaustion may not be\n\
    \   a problem in an IDC's internal network.  IPv6 support for some\n   applications\
    \ may require increased investment and workload, so IPv6\n   support may not be\
    \ a priority.  NAT64 can be used to support\n   widespread IPv6 adoption on the\
    \ Internet while maintaining access to\n   IPv4-only applications.\n   Different\
    \ strategies have been described in [RFC6883]; they are\n   referred to as \"\
    inside out\" and \"outside in\".  An IDC operator may\n   implement the following\
    \ practices in the NAT64-FE networking\n   scenario.\n   o  Some ICPs who already\
    \ have satisfactory operational experience\n      might adopt single-stack IPv6\
    \ operation in building data center\n      networks, servers, and applications,\
    \ as it allows new services to\n      be delivered without having to consider\
    \ IPv4 NAT or the address\n      limitations of IPv4 networks.  Stateless NAT64\
    \ [RFC6145] can used\n      to provide services for IPv4-only customers.  [SIIT]\
    \ has provided\n      further descriptions and guidelines.\n   o  ICPs who attempt\
    \ to offer customers IPv6 support in their\n      application farms at an early\
    \ stage will likely run proxies, load\n      balancers, or translators that are\
    \ configured to handle incoming\n      IPv6 flows and proxy them to IPv4 back-end\
    \ systems.  Many load\n      balancers integrate proxy functionality.  IPv4 addresses\n\
    \      configured in the proxy may be multiplexed like a stateful NAT64\n    \
    \  translator.  A similar challenge exists as more users with IPv6\n      connectivity\
    \ access IPv4 networks.  High loads on load balancers\n      may be apt to cause\
    \ additional latency, IPv4 pool exhaustion, etc.\n      Therefore, this approach\
    \ is only reasonable at an early stage.\n      ICPs may employ dual stack or IPv6\
    \ single stack in a further\n      stage, since native IPv6 is frequently more\
    \ desirable than any of\n      the transition solutions.\n   [RFC6144] recommends\
    \ that AAAA records of load balancers or\n   application servers can be directly\
    \ registered in the authoritative\n   DNS servers.  In this case, there is no\
    \ need to deploy DNS64 name\n   servers.  Those AAAA records can point to natively\
    \ assigned IPv6\n   addresses or IPv4-converted IPv6 addresses [RFC6052].  Hosts\
    \ are not\n   aware of the NAT64 translator on the communication path.  For testing\n\
    \   purposes, operators could employ an independent subdomain, e.g.,\n   ipv6exp.example.com,\
    \ to identify experimental IPv6 services to users.\n   How to design the Fully\
    \ Qualified Domain Name (FQDN) for the IPv6\n   service is outside the scope of\
    \ this document.\n"
- title: 4.  High Availability
  contents:
  - '4.  High Availability

    '
- title: 4.1.  Redundancy Design
  contents:
  - "4.1.  Redundancy Design\n   High Availability (HA) is a major requirement for\
    \ every service and\n   network service.  Deploying redundancy mechanisms is essential\
    \ to\n   avoiding failure and significantly increasing the network\n   reliability.\
    \  It's useful not only to stateful NAT64 cases but also\n   to stateless NAT64\
    \ gateways.\n   Three redundancy modes are mainly used: Cold Standby, Warm Standby,\n\
    \   and Hot Standby.\n   o  Cold Standby HA devices do not replicate the NAT64\
    \ states from the\n      primary equipment to the backup.  Administrators switch\
    \ on the\n      backup NAT64 only if the primary NAT64 fails.  As a result, all\n\
    \      existing established sessions through a failed translator will be\n   \
    \   disconnected.  The translated flows will need to be recreated by\n      end\
    \ systems.  Since the backup NAT64 is manually configured to\n      switch over\
    \ to active NAT64, it may have unpredictable impacts to\n      the ongoing services.\n\
    \   o  Warm Standby is a flavor of the Cold Standby mode.  Backup NAT64\n    \
    \  would keep running once the primary NAT64 is working.  This makes\n      Warm\
    \ Standby less time-consuming during the traffic failover.  The\n      Virtual\
    \ Router Redundancy Protocol (VRRP)[RFC5798] can be a\n      solution to enable\
    \ automatic handover during Warm Standby.  During\n      testing, the handover\
    \ took a maximum of 1 minute if the backup\n      NAT64 had to take over routing\
    \ and reconstruct the Binding\n      Information Bases (BIBs) for 30 million sessions.\
    \  In the\n      deployment phase, operators could balance loads on distinct NAT64\n\
    \      devices.  Those NAT64 devices make a warm backup of each other.\n   o \
    \ Hot Standby must synchronize the BIBs between the primary NAT64\n      and backup.\
    \  When the primary NAT64 fails, the backup NAT64 takes\n      over and maintains\
    \ the state of all existing sessions.  The\n      internal hosts don't have to\
    \ reconnect the external hosts.  The\n      handover time is extremely reduced.\
    \  During testing that employed\n      Bidirectional Forwarding Detection (BFD)\
    \ [RFC5880] combined with\n      VRRP, a handover time of only 35 ms for 30 million\
    \ sessions was\n      observed.  Under ideal conditions, Hot Standby deployments\
    \ could\n      guarantee the session continuity for every service.  In order to\n\
    \      transmit session states in a timely manner, operators may have to\n   \
    \   deploy extra transport links between the primary NAT64 and the\n      distant\
    \ backup.  The scale of synchronization of the data instance\n      depends on\
    \ the particular deployment.  For example, if a NAT64-CGN\n      serves 200,000\
    \ users, an average amount of 800,000 sessions per\n      second is a rough estimate\
    \ of the newly created and expired\n      sessions.  A physical 10 Gbit/s transport\
    \ link may have to be\n      deployed for the sync data transmission considering\
    \ the amount of\n      sync sessions at the peak and the capacity redundancy.\n\
    \   In general, Cold Standby and Warm Standby are simpler and less\n   resource\
    \ intensive, but they require clients to re-establish sessions\n   when a failover\
    \ occurs.  Hot Standby increases resource consumption\n   in order to synchronize\
    \ state, but it potentially achieves seamless\n   handover.  For stateless NAT64,\
    \ considerations are simple because\n   state synchronization is unnecessary.\
    \  Regarding stateful NAT64, it\n   may be useful to investigate the performance\
    \ tolerance of\n   applications and the traffic characteristics in a particular\
    \ network.\n   Some test results are shown in the Appendix A.\n   Our statistics\
    \ in a mobile network shown that almost 91.21% of\n   traffic is accounted by\
    \ HTTP/HTTPS services.  These services\n   generally don't require session continuity.\
    \  Hot Standby does not\n   offer much benefit for those sessions on this point.\
    \  In fixed\n   networks, HTTP streaming, P2P, and online games would be the major\n\
    \   traffic beneficiaries of Hot Standby replication [Cisco-VNI].\n   Consideration\
    \ should be given to the importance of maintaining\n   bindings for those sessions\
    \ across failover.  Operators may also\n   consider the Average Revenue Per User\
    \ (ARPU) when deploying a\n   suitable redundancy mode.  Warm Standby may still\
    \ be adopted to cover\n   most services, while Hot Standby could be used to upgrade\
    \ the Quality\n   of Experience (QoE) and using DNS64 to generate different synthetic\n\
    \   responses for limited traffic or destinations.  Further\n   considerations\
    \ are discussed at Section 6.\n"
- title: 4.2.  Load Balancing
  contents:
  - "4.2.  Load Balancing\n   Load balancing is used to accompany redundancy design\
    \ so that better\n   scalability and resiliency can be achieved.  Stateless NAT64s\
    \ allow\n   asymmetric routing, while anycast-based solutions are recommended\
    \ in\n   [MAP-DEPLOY].  The deployment of load balancing may make more sense\n\
    \   to stateful NAT64s for the sake of avoiding single-point failures.\n   Since\
    \ the NAT64-CGN and NAT64-FE have distinct facilities, the\n   following lists\
    \ the considerations for each case.\n   o  NAT64-CGN normally doesn't implement\
    \ load-balancing functions;\n      they may be implemented in other dedicated\
    \ equipment.  Therefore,\n      the gateways have to resort to DNS64 or an internal\
    \ host's\n      behavior.  Once DNS64 is deployed, the load balancing can be\n\
    \      performed by synthesizing the AAAA response with different IPv6\n     \
    \ prefixes.  For the applications not requiring a DNS resolver,\n      internal\
    \ hosts could learn multiple IPv6 prefixes through the\n      approaches defined\
    \ in [RFC7050] and then select one based on a\n      given prefix selection policy.\n\
    \   o  A dedicated load balancer could be deployed at the front of a\n      NAT64-FE\
    \ farm.  The load balancer could use proxy mode to redirect\n      the flows to\
    \ the appropriate NAT64 instance.  Stateful NAT64s\n      require a deterministic\
    \ pattern to arrange the traffic in order to\n      ensure outbound/inbound flows\
    \ traverse the identical NAT64.\n      Therefore, static scheduling algorithms,\
    \ for example, a source-\n      address-based policy, is preferred.  A dynamic\
    \ algorithm, for\n      example, Round-Robin, may have impacts on applications\
    \ seeking\n      session continuity, which are described in Table 1.\n"
- title: 5.  Source-Address Transparency
  contents:
  - '5.  Source-Address Transparency

    '
- title: 5.1.  Traceability
  contents:
  - "5.1.  Traceability\n   Traceability is required in many cases, such as meeting\
    \ accounting\n   requirements and identifying the sources of malicious attacks.\n\
    \   Operators are asked to record the NAT64 log information for specific\n   periods\
    \ of time.  In our lab testing, the log information from\n   200,000 subscribers\
    \ was collected from a stateful NAT64 gateway for\n   60 days.  Syslog [RFC5424]\
    \ has been adopted to transmit log messages\n   from NAT64 to a log station. \
    \ Each log message contains the transport\n   protocol, source IPv6 address:port,\
    \ translated IPv4 address:port, and\n   timestamp.  It takes almost 125 bytes\
    \ in ASCII format.  It has been\n   verified that the rate of traffic flow is\
    \ around 72,000 flows per\n   second, and the volume of recorded information reaches\
    \ up to 42.5\n   terabytes in the raw format.  The volume is 29.07 terabytes in\
    \ a\n   compact format.  At scale, operators have to build up dedicated\n   transport\
    \ links, storage systems, and servers for the purpose of\n   managing such logging.\n\
    \   There are also several improvements that can be made to mitigate the\n   issue.\
    \  For example, stateful NAT64 could be configured with the bulk\n   port allocation\
    \ method.  Once a subscriber creates the first session,\n   a number of ports\
    \ are pre-allocated.  A bulk allocation message is\n   logged indicating this\
    \ allocation.  Subsequent session creations will\n   use one of the pre-allocated\
    \ ports and hence do not require logging.\n   The log volume in this case may\
    \ be only one thousandth of that of\n   dynamic port allocation.  Some implementations\
    \ may adopt static port-\n   range allocations [DET-CGN] that eliminate the need\
    \ for per-\n   subscriber logging.  As a side effect of those methods, the IPv4\n\
    \   multiplexing efficiency is decreased.  For example, the utilization\n   ratio\
    \ of public IPv4 addresses drops to approximately 75% when the\n   NAT64 gateway\
    \ is configured with bulk port allocation.  (The lab\n   testing allocates each\
    \ subscriber with 400 ports.)  In addition,\n   port-range-based allocation should\
    \ consider port randomization as\n   described in [RFC6056].  The trade-off among\
    \ address multiplexing\n   efficiency, logging storage compression, and port allocation\n\
    \   complexity should be considered.  More discussions can be found in\n   [PORT-ALLOC].\
    \  The decision can balance usable IPv4 resources against\n   investments in log\
    \ systems.\n"
- title: 5.2.  Geolocation
  contents:
  - "5.2.  Geolocation\n   IP addresses are usually used as inputs to geolocation\
    \ services.  The\n   use of address sharing prevents these systems from resolving\
    \ the\n   location of a host based on IP address alone.  Applications that\n \
    \  assume such geographic information may not work as intended.  The\n   possible\
    \ solutions listed in [RFC6967] are intended to bridge the\n   gap.  However,\
    \ those solutions can only provide a suboptimal\n   substitution to solve the\
    \ problem of host identification; in\n   particular, it may not solve today's\
    \ problems with source\n   identification through translation.  The following\
    \ lists current\n   practices to mitigate the issue.\n   o  Operators who adopt\
    \ NAT64-FE may leverage the application-layer\n      proxies, e.g., X-Forwarded-For\
    \ (XFF) [RFC7239], to convey the IPv6\n      source address in HTTP headers. \
    \ Those messages would be passed on\n      to web servers.  The log parsing tools\
    \ are required to be able to\n      support IPv6 and may lookup RADIUS servers\
    \ for the target\n      subscribers based on IPv6 addresses included in XFF HTTP\
    \ headers.\n      XFF is the de facto standard that has been integrated in most\
    \ load\n      balancers.  Therefore, it may be superior to use in a NAT-FE\n \
    \     environment.  On the downside, XFF is specific to HTTP.  It\n      restricts\
    \ usage so that the solution can't be applied to requests\n      made over HTTPS.\
    \  This makes geolocation problematic for HTTPS-\n      based services.\n   o\
    \  The NAT64-CGN equipment may not implement XFF.  Geolocation based\n      on\
    \ shared IPv4 addresses is rather inaccurate in that case.\n      Operators could\
    \ subdivide the outside IPv4 address pool so an IPv6\n      address can be translated\
    \ depending on the IPv6 subscriber's\n      geographical locations.  As a consequence,\
    \ location information\n      can be identified from a certain IPv4 address range.\
    \  [RFC6967]\n      also enumerates several options to reveal the host identifier.\n\
    \      Each solution likely has its own specific usage.  For the\n      geolocation\
    \ systems relying on a RADIUS database [RFC5580], we\n      have investigated\
    \ delivering NAT64 BIBs and Session Table Entries\n      (STEs) to a RADIUS server\
    \ [NAT64-RADIUS].  This method could\n      provide a geolocation system with\
    \ an internal IPv6 address to\n      identify each user.  It can be paired with\
    \ [RFC5580] to convey the\n      original source address through the same message\
    \ bus.\n"
- title: 6.  Quality of Experience
  contents:
  - '6.  Quality of Experience

    '
- title: 6.1.  Service Reachability
  contents:
  - "6.1.  Service Reachability\n   NAT64 is providing a translation capability between\
    \ IPv6 and IPv4 end\n   nodes.  In order to provide reachability between two IP\
    \ address\n   families, NAT64-CGN has to implement appropriate application-aware\n\
    \   functions, i.e., Application Layer Gateways (ALGs), where address\n   translation\
    \ is not sufficient and security mechanisms do not render\n   the functions infeasible.\
    \  Most NAT64-CGNs mainly provide FTP-ALG\n   [RFC6384].  NAT64-FEs may have functional\
    \ richness on the load\n   balancer; for example, HTTP-ALG, HTTPS-ALG, RTSP-ALG,\
    \ and SMTP-ALG\n   have been supported.  Those application protocols exchange\
    \ IP address\n   and port parameters within a control session, for example, using\
    \ the\n   \"Via\" field in a HTTP header, \"Transport\" field in an RTSP SETUP\n\
    \   message, or \"Received:\" header in a SMTP message.  ALG functions will\n\
    \   detect those fields and make IP address translations.  It should be\n   noted\
    \ that ALGs may impact the performance on a NAT64 box to some\n   extent.  ISPs\
    \ as well as content providers might choose to avoid\n   situations where the\
    \ imposition of an ALG might be required.  At the\n   same time, it is also important\
    \ to remind customers and application\n   developers that IPv6 end-to-end usage\
    \ does not require ALG imposition\n   and therefore results in a better overall\
    \ user experience.\n   The service reachability is also subject to the IPv6 support\
    \ in the\n   client side.  We tested several kinds of applications as shown in\
    \ the\n   below table to verify the IPv6 support.  The experiences of some\n \
    \  applications are still aligned with [RFC6586].  For example, we\n   tested\
    \ P2P file sharing and streaming applications including eMule\n   v0.50a, Thunder\
    \ v7.9, and PPS TV v3.2.0.  It has been found there are\n   some software issues\
    \ with the support of IPv6 at this time.  The\n   application software would benefit\
    \ from 464XLAT [RFC6877] until the\n   software adds IPv6 support.  A SIP-based\
    \ voice call has been tested\n   in the LTE mobile environment as specified in\
    \ [IR.92].  The voice\n   call failed due to the lack of NAT64 traversal when\
    \ an IPv6 SIP user\n   agent communicates with an IPv4 SIP user agent.  In order\
    \ to address\n   the failure, Interactive Connectivity Establishment (ICE) as\n\
    \   described in [RFC5245] is recommended to be supported for the SIP\n   IPv6\
    \ transition.  [RFC6157] describes both signaling and the media-\n   layer process,\
    \ which should be followed.  In addition, it is worth\n   noting that ICE is not\
    \ only useful for NAT traversal, but also for\n   firewall [RFC6092] traversal\
    \ in a native IPv6 deployment.\n   Different IPsec modes for VPN services have\
    \ been tested, including\n   IPsec Authentication Header (AH) and IPsec Encapsulating\
    \ Security\n   Payload (ESP).  It has been shown that IPsec AH fails because the\n\
    \   destination host detects the IP header changes and invalidates the\n   packets.\
    \  IPsec ESP failed in our testing because the NAT64 does not\n   translate IPsec\
    \ ESP (i.e., protocol 50) packets.  It has been\n   suggested that IPsec ESP would\
    \ succeed if the IPsec client supports\n   NAT traversal in the Internet Key Exchange\
    \ Protocol (IKE) [RFC3947]\n   and uses IPsec ESP over UDP [RFC3948].\n      \
    \              Table 1: The Tested Applications\n +----------------+----------------------------------------------------+\n\
    \ | Application    |            Results and Issues Found                |\n +----------------+----------------------------------------------------+\n\
    \ | Web service    | Mostly pass; some failures due to IPv4 literals    |\n +----------------+----------------------------------------------------+\n\
    \ |Instant Message | Mostly fail; software can't support IPv6           |\n +----------------+----------------------------------------------------+\n\
    \ |     Games      | Mostly pass for web-based games; mostly fail for   |\n |\
    \                | standalone games due to the lack of IPv6 support   |\n |  \
    \              | in software                                        |\n +----------------+----------------------------------------------------+\n\
    \ |  SIP VoIP      | Fail, due to the lack of NAT64 traversal           |\n +----------------+----------------------------------------------------+\n\
    \ |  IPsec VPN     | Fail; the translated IPsec packets are invalidated |\n +----------------+----------------------------------------------------+\n\
    \ |P2P file sharing| Mostly fail; software can't support IPv6,          |\n |and\
    \ streaming   | e.g., eMule, Thunder, and PPS TV                   |\n +----------------+----------------------------------------------------+\n\
    \ |      FTP       | Pass                                               |\n +----------------+----------------------------------------------------+\n\
    \ |     Email      | Pass                                               |\n +----------------+----------------------------------------------------+\n"
- title: 6.2.  Resource Reservation
  contents:
  - "6.2.  Resource Reservation\n   Session status normally is managed by a static\
    \ timer.  For example,\n   the value of the \"established connection idle-timeout\"\
    \ must not be\n   less than 2 hours 4 minutes [RFC5382] for TCP sessions and 5\
    \ minutes\n   for UDP sessions [RFC4787].  In some cases, NAT resources may be\n\
    \   significantly consumed by largely inactive users.  The NAT and other\n   customers\
    \ would suffer from service degradation due to port\n   consumption by other subscribers\
    \ using the same NAT64 device.  A\n   flexible NAT session control is desirable\
    \ to resolve these issues.\n   The Port Control Protocol (PCP) [RFC6887] could\
    \ be a candidate to\n   provide such capability.  A NAT64-CGN should integrate\
    \ with a PCP\n   server to allocate available IPv4 address/port resources.  Resources\n\
    \   could be assigned to PCP clients through PCP MAP/PEER mode.  Doing so\n  \
    \ might improve user experiences, for example, by assigning different\n   sizes\
    \ of port ranges for different subscribers.  Those mechanisms are\n   also helpful\
    \ to minimize terminal battery consumption and reduce the\n   number of keep-alive\
    \ messages sent by mobile terminal devices.\n   Subscribers can also benefit from\
    \ network reliability.  It has been\n   discussed that Hot Standby offers a satisfactory\
    \ experience after\n   outage of the primary NAT64 has occurred.  Operators may\
    \ rightly be\n   concerned about the considerable investment required for NAT64\n\
    \   equipment relative to low ARPU.  For example, transport links may be\n   expensive,\
    \ because the primary NAT64 and the backup are normally\n   located at different\
    \ locations, separated by a relatively large\n   distance.  Additional cost would\
    \ be incurred to ensure the\n   connectivity quality.  However, that may be necessary\
    \ to applications\n   that are delay-sensitive and seek session continuity, for\
    \ example,\n   online games and live streaming.  Operators may be able to get\
    \ added\n   value from those services by offering first-class services.  The\n\
    \   service sessions can be pre-configured on the gateway to Hot Standby\n   mode\
    \ depending on the subscriber's profile.  The rest of the sessions\n   can be\
    \ covered by Cold or Warm Standby.\n"
- title: 7.  MTU Considerations
  contents:
  - "7.  MTU Considerations\n   IPv6 requires that every link in the Internet have\
    \ a Maximum\n   Transmission Unit (MTU) of 1280 octets or greater [RFC2460].\n\
    \   However, if NAT64 translation is deployed, some IPv4 MTU constrained\n   link\
    \ will be used in a communication path and the originating IPv6\n   nodes may\
    \ therefore receive an ICMP Packet Too Big (PTB) message,\n   reporting a Next-Hop\
    \ MTU less than 1280 bytes.  The result would be\n   that IPv6 allows packets\
    \ to contain a fragmentation header, without\n   the packet being fragmented into\
    \ multiple pieces.  A NAT64 would\n   receive IPv6 packets with a fragmentation\
    \ header in which the \"M\"\n   flag is set to 0 and the \"Fragment Offset\" is\
    \ set to 0.  Those\n   packets likely impact other fragments already queued with\
    \ the same\n   set of {IPv6 Source Address, IPv6 Destination Address, Fragment\n\
    \   Identification}.  If the NAT64 box is compliant with [RFC5722], there\n  \
    \ is a risk that all the fragments will have to be dropped.\n   [RFC6946] discusses\
    \ how this situation could be exploited by an\n   attacker to perform fragmentation-based\
    \ attacks and also proposes\n   improved handling of such packets.  It requires\
    \ enhancements on NAT64\n   gateway implementations to isolate the processing\
    \ of packets.  NAT64\n   devices should follow the recommendations and take steps\
    \ to prevent\n   the risks of fragmentation.\n   Another approach that potentially\
    \ avoids this issue is to configure\n   the IPv4 MTU to more than 1260 bytes.\
    \  This would prevent getting a\n   PTB message for an MTU smaller than 1280 bytes.\
    \  Such an operational\n   consideration is hard to universally apply to the legacy\
    \ \"IPv4\n   Internet\" that is bridged by NAT64-CGNs.  However, it's a feasible\n\
    \   approach in NAT64-FE cases, since an IPv4 network NAT64-FE is rather\n   well-organized\
    \ and operated by an IDC operator or content provider.\n   Therefore, the MTU\
    \ of an IPv4 network in NAT64-FE case is strongly\n   recommended to be set to\
    \ more than 1260 bytes.\n"
- title: 8.  ULA Usages
  contents:
  - "8.  ULA Usages\n   Unique Local Addresses (ULAs) are defined in [RFC4193] to\
    \ be\n   renumbered within a network site for local communications.  Operators\n\
    \   may use ULAs as NAT64 prefixes to provide site-local IPv6\n   connectivity.\
    \  Those ULA prefixes are stripped when the packets go to\n   the IPv4 Internet;\
    \ therefore, ULAs are only valid in the IPv6 site.\n   The use of ULAs could help\
    \ in identifying the translation traffic.\n   [ULA-USAGE] provides further guidance\
    \ on using ULAs.\n   We configure ULAs as NAT64 prefixes on a NAT64-CGN.  If a\
    \ host is\n   assigned with only an IPv6 address and connected to a NAT64-CGN,\
    \ when\n   it connects to an IPv4 service, it would receive a AAAA record\n  \
    \ generated by the DNS64 with the ULA prefix.  A Global Unicast Address\n   (GUA)\
    \ will be selected as the source address to the ULA destination\n   address. \
    \ When the host has both IPv4 and IPv6 addresses, it would\n   initiate both A\
    \ and AAAA record lookup, then both the original A\n   record and DNS64-generated\
    \ AAAA record would be received.  A host\n   that is compliant with [RFC6724]\
    \ will never prefer a ULA over an IPv4\n   address.  An IPv4 path will always\
    \ be selected.  It may be\n   undesirable because the NAT64-CGN will never be\
    \ used.  Operators may\n   consider adding additional site-specific rows into\
    \ the default policy\n   table for host address selection in order to steer traffic\
    \ flows\n   through the NAT64-CGN.  However, it involves significant costs to\n\
    \   change a terminal's behavior.  Therefore, it is not suggested that\n   operators\
    \ configure ULAs on a NAT64-CGN.\n   ULAs can't work when hosts transit the Internet\
    \ to connect with\n   NAT64.  Therefore, ULAs are not applicable to the case of\
    \ NAT64-FE.\n"
- title: 9.  Security Considerations
  contents:
  - "9.  Security Considerations\n   This document presents the deployment experiences\
    \ of NAT64 in CGN and\n   FE scenarios.  In general, RFC 6146 [RFC6146] provides\
    \ TCP-tracking,\n   address-dependent filtering mechanisms to protect NAT64 from\n\
    \   Distributed Denial of Service (DDoS).  In NAT64-CGN cases, operators\n   could\
    \ also adopt unicast Reverse Path Forwarding (uRPF) [RFC3704] and\n   blacklisting\
    \ and whitelisting to enhance security by specifying\n   access policies.  For\
    \ example, NAT64-CGN should forbid establishing\n   NAT64 BIB for incoming IPv6\
    \ packets if they do not pass the uRPF\n   check in Strict or Loose mode or if\
    \ their source IPv6 address is\n   blacklisted.\n   Stateful NAT64-FE creates\
    \ state and maps that connection to an\n   internally facing IPv4 address and\
    \ port.  An attacker can consume the\n   resources of the NAT64-FE device by sending\
    \ an excessive number of\n   connection attempts.  Without a DDoS limitation mechanism,\
    \ the\n   NAT64-FE is exposed to attacks.  The load balancer is recommended to\n\
    \   enable the capabilities for line-rate DDOS defense, such as the\n   employment\
    \ of SYN proxy/cookie.  In this case, division of the\n   security domain is necessary\
    \ as well.  Therefore, load balancers\n   could not only optimize the traffic\
    \ distribution but also prevent\n   service from quality deterioration due to\
    \ security attacks.\n   The DNS64 process will potentially interfere with the\
    \ DNSSEC\n   functions [RFC4035], since the DNS response is modified and DNSSEC\n\
    \   intends to prevent such changes.  More detailed discussions can be\n   found\
    \ in [RFC6147].\n"
- title: 10.  Acknowledgements
  contents:
  - "10.  Acknowledgements\n   The authors would like to thank Jari Arkko, Dan Wing,\
    \ Remi Despres,\n   Fred Baker, Hui Deng, Iljitsch van Beijnum, Philip Matthews,\
    \ Randy\n   Bush, Mikael Abrahamsson, Lorenzo Colitti, Sheng Jiang, Nick Heatley,\n\
    \   Tim Chown, Gert Doering, and Simon Perreault for their helpful\n   comments.\n\
    \   Many thanks to Wesley George, Lee Howard, and Satoru Matsushima for\n   their\
    \ detailed reviews.\n   The authors especially thank Joel Jaeggli and Ray Hunter\
    \ for their\n   efforts and contributions on editing, which substantially improved\n\
    \   the readability of the document.\n   Thanks to Cameron Byrne who was an active\
    \ coauthor of some earlier\n   draft versions of this document.\n"
- title: 11.  Contributors
  contents:
  - "11.  Contributors\n   The following individuals contributed extensively to the\
    \ effort:\n     Qiong Sun\n     China Telecom\n     Room 708, No. 118, Xizhimennei\
    \ Street\n     Beijing 100035\n     P.R. China\n     Phone: +86-10-58552936\n\
    \     EMail: sunqiong@ctbri.com.cn\n     QiBo Niu\n     ZTE\n     50 RuanJian\
    \ Road\n     YuHua District,\n     Nan Jing  210012\n     P.R. China\n     EMail:\
    \ niu.qibo@zte.com.cn\n"
- title: 12.  References
  contents:
  - '12.  References

    '
- title: 12.1.  Normative References
  contents:
  - "12.1.  Normative References\n   [RFC2460]  Deering, S. and R. Hinden, \"Internet\
    \ Protocol, Version 6\n              (IPv6) Specification\", RFC 2460, December\
    \ 1998.\n   [RFC3704]  Baker, F. and P. Savola, \"Ingress Filtering for Multihomed\n\
    \              Networks\", BCP 84, RFC 3704, March 2004.\n   [RFC3947]  Kivinen,\
    \ T., Swander, B., Huttunen, A., and V. Volpe,\n              \"Negotiation of\
    \ NAT-Traversal in the IKE\", RFC 3947,\n              January 2005.\n   [RFC3948]\
    \  Huttunen, A., Swander, B., Volpe, V., DiBurro, L., and M.\n              Stenberg,\
    \ \"UDP Encapsulation of IPsec ESP Packets\", RFC\n              3948, January\
    \ 2005.\n   [RFC4035]  Arends, R., Austein, R., Larson, M., Massey, D., and S.\n\
    \              Rose, \"Protocol Modifications for the DNS Security\n         \
    \     Extensions\", RFC 4035, March 2005.\n   [RFC4193]  Hinden, R. and B. Haberman,\
    \ \"Unique Local IPv6 Unicast\n              Addresses\", RFC 4193, October 2005.\n\
    \   [RFC4787]  Audet, F. and C. Jennings, \"Network Address Translation\n    \
    \          (NAT) Behavioral Requirements for Unicast UDP\", BCP 127,\n       \
    \       RFC 4787, January 2007.\n   [RFC5245]  Rosenberg, J., \"Interactive Connectivity\
    \ Establishment\n              (ICE): A Protocol for Network Address Translator\
    \ (NAT)\n              Traversal for Offer/Answer Protocols\", RFC 5245, April\n\
    \              2010.\n   [RFC5382]  Guha, S., Biswas, K., Ford, B., Sivakumar,\
    \ S., and P.\n              Srisuresh, \"NAT Behavioral Requirements for TCP\"\
    , BCP 142,\n              RFC 5382, October 2008.\n   [RFC5424]  Gerhards, R.,\
    \ \"The Syslog Protocol\", RFC 5424, March 2009.\n   [RFC5580]  Tschofenig, H.,\
    \ Adrangi, F., Jones, M., Lior, A., and B.\n              Aboba, \"Carrying Location\
    \ Objects in RADIUS and Diameter\",\n              RFC 5580, August 2009.\n  \
    \ [RFC5722]  Krishnan, S., \"Handling of Overlapping IPv6 Fragments\",\n     \
    \         RFC 5722, December 2009.\n   [RFC5798]  Nadas, S., \"Virtual Router\
    \ Redundancy Protocol (VRRP)\n              Version 3 for IPv4 and IPv6\", RFC\
    \ 5798, March 2010.\n   [RFC5880]  Katz, D. and D. Ward, \"Bidirectional Forwarding\
    \ Detection\n              (BFD)\", RFC 5880, June 2010.\n   [RFC6052]  Bao, C.,\
    \ Huitema, C., Bagnulo, M., Boucadair, M., and X.\n              Li, \"IPv6 Addressing\
    \ of IPv4/IPv6 Translators\", RFC 6052,\n              October 2010.\n   [RFC6145]\
    \  Li, X., Bao, C., and F. Baker, \"IP/ICMP Translation\n              Algorithm\"\
    , RFC 6145, April 2011.\n   [RFC6146]  Bagnulo, M., Matthews, P., and I. van Beijnum,\
    \ \"Stateful\n              NAT64: Network Address and Protocol Translation from\
    \ IPv6\n              Clients to IPv4 Servers\", RFC 6146, April 2011.\n   [RFC6147]\
    \  Bagnulo, M., Sullivan, A., Matthews, P., and I. van\n              Beijnum,\
    \ \"DNS64: DNS Extensions for Network Address\n              Translation from\
    \ IPv6 Clients to IPv4 Servers\", RFC 6147,\n              April 2011.\n   [RFC6157]\
    \  Camarillo, G., El Malki, K., and V. Gurbani, \"IPv6\n              Transition\
    \ in the Session Initiation Protocol (SIP)\", RFC\n              6157, April 2011.\n\
    \   [RFC6384]  van Beijnum, I., \"An FTP Application Layer Gateway (ALG)\n   \
    \           for IPv6-to-IPv4 Translation\", RFC 6384, October 2011.\n   [RFC6555]\
    \  Wing, D. and A. Yourtchenko, \"Happy Eyeballs: Success with\n             \
    \ Dual-Stack Hosts\", RFC 6555, April 2012.\n   [RFC6724]  Thaler, D., Draves,\
    \ R., Matsumoto, A., and T. Chown,\n              \"Default Address Selection\
    \ for Internet Protocol Version 6\n              (IPv6)\", RFC 6724, September\
    \ 2012.\n   [RFC6887]  Wing, D., Cheshire, S., Boucadair, M., Penno, R., and P.\n\
    \              Selkirk, \"Port Control Protocol (PCP)\", RFC 6887, April\n   \
    \           2013.\n   [RFC6946]  Gont, F., \"Processing of IPv6 \"Atomic\" Fragments\"\
    , RFC\n              6946, May 2013.\n   [RFC7050]  Savolainen, T., Korhonen,\
    \ J., and D. Wing, \"Discovery of\n              the IPv6 Prefix Used for IPv6\
    \ Address Synthesis\", RFC\n              7050, November 2013.\n   [RFC7239] \
    \ Petersson, A. and M. Nilsson, \"Forwarded HTTP Extension\",\n              RFC\
    \ 7239, June 2014.\n"
- title: 12.2.  Informative References
  contents:
  - "12.2.  Informative References\n   [Alexa]    Alexa, \"Top 500 Global Sites\"\
    , April 2013,\n              <http://www.alexa.com/topsites>.\n   [COEXIST]  Kaliwoda,\
    \ A. and D. Binet, \"Co-existence of both dual-\n              stack and IPv6-only\
    \ hosts\", Work in Progress, October\n              2012.\n   [CONN-STATUS]\n\
    \              Patil, P., Boucadair, M., Wing, D., and T. Reddy, \"IP\n      \
    \        Connectivity Status Notifications for DHCPv6\", Work in\n           \
    \   Progress, February 2014.\n   [Cisco-VNI]\n              Cisco, \"Cisco VNI\
    \ Global Mobile Data Traffic Forecast,\n              2012-2018\", February 2014,\n\
    \              <http://ciscovni.com/forecast-widget/index.html>.\n   [DET-CGN]\
    \  Donley, C., Grundemann, C., Sarawat, V., Sundaresan, K.,\n              and\
    \ O. Vautrin, \"Deterministic Address Mapping to Reduce\n              Logging\
    \ in Carrier Grade NAT Deployments\", Work in\n              Progress, January\
    \ 2014.\n   [IR.92]    Global System for Mobile Communications Association\n \
    \             (GSMA), \"IMS Profile for Voice and SMS Version 7.0\", March\n \
    \             2013.\n   [MAP-DEPLOY]\n              Qiong, Q., Chen, M., Chen,\
    \ G., Tsou, T., and S. Perreault,\n              \"Mapping of Address and Port\
    \ (MAP) - Deployment\n              Considerations\", Work in Progress, April\
    \ 2014.\n   [MAP-T]    Li, X., Bao, C., Dec, W., Troan, O., Matsushima, S., and\n\
    \              T. Murakami, \"Mapping of Address and Port using\n            \
    \  Translation (MAP-T)\", Work in Progress, February 2014.\n   [MOTIVATION]\n\
    \              Boucadair, M., Matsushima, S., Lee, Y., Bonness, O.,\n        \
    \      Borges, I., and G. Chen, \"Motivations for Carrier-side\n             \
    \ Stateless IPv4 over IPv6 Migration Solutions\", Work in\n              Progress,\
    \ November 2012.\n   [NAT64-RADIUS]\n              Chen, G. and D. Binet, \"Radius\
    \ Attributes for Stateful\n              NAT64\", Work in Progress, July 2013.\n\
    \   [PORT-ALLOC]\n              Chen, G., Tsou, T., Donley, C., and T. Taylor,\
    \ \"Analysis\n              of NAT64 Port Allocation Methods for Shared IPv4\n\
    \              Addresses\", Work in Progress, April 2014.\n   [RFC6036]  Carpenter,\
    \ B. and S. Jiang, \"Emerging Service Provider\n              Scenarios for IPv6\
    \ Deployment\", RFC 6036, October 2010.\n   [RFC6056]  Larsen, M. and F. Gont,\
    \ \"Recommendations for Transport-\n              Protocol Port Randomization\"\
    , BCP 156, RFC 6056, January\n              2011.\n   [RFC6092]  Woodyatt, J.,\
    \ \"Recommended Simple Security Capabilities in\n              Customer Premises\
    \ Equipment (CPE) for Providing\n              Residential IPv6 Internet Service\"\
    , RFC 6092, January\n              2011.\n   [RFC6144]  Baker, F., Li, X., Bao,\
    \ C., and K. Yin, \"Framework for\n              IPv4/IPv6 Translation\", RFC\
    \ 6144, April 2011.\n   [RFC6346]  Bush, R., \"The Address plus Port (A+P) Approach\
    \ to the\n              IPv4 Address Shortage\", RFC 6346, August 2011.\n   [RFC6459]\
    \  Korhonen, J., Soininen, J., Patil, B., Savolainen, T.,\n              Bajko,\
    \ G., and K. Iisakkila, \"IPv6 in 3rd Generation\n              Partnership Project\
    \ (3GPP) Evolved Packet System (EPS)\",\n              RFC 6459, January 2012.\n\
    \   [RFC6586]  Arkko, J. and A. Keranen, \"Experiences from an IPv6-Only\n   \
    \           Network\", RFC 6586, April 2012.\n   [RFC6877]  Mawatari, M., Kawashima,\
    \ M., and C. Byrne, \"464XLAT:\n              Combination of Stateful and Stateless\
    \ Translation\", RFC\n              6877, April 2013.\n   [RFC6883]  Carpenter,\
    \ B. and S. Jiang, \"IPv6 Guidance for Internet\n              Content Providers\
    \ and Application Service Providers\", RFC\n              6883, March 2013.\n\
    \   [RFC6967]  Boucadair, M., Touch, J., Levis, P., and R. Penno,\n          \
    \    \"Analysis of Potential Solutions for Revealing a Host\n              Identifier\
    \ (HOST_ID) in Shared Address Deployments\", RFC\n              6967, June 2013.\n\
    \   [SIIT]     Anderson, T., \"Stateless IP/ICMP Translation in IPv6 Data\n  \
    \            Centre Environments\", Work in Progress, November 2012.\n   [ULA-USAGE]\n\
    \              Liu, B. and S. Jiang, \"Recommendations of Using Unique\n     \
    \         Local Addresses\", Work in Progress, February 2014.\n"
- title: Appendix A.  Test Results for Application Behavior
  contents:
  - "Appendix A.  Test Results for Application Behavior\n   We tested several application\
    \ behaviors in a lab environment to\n   evaluate the impact when a primary NAT64\
    \ is out of service.  In this\n   testing, participants were asked to connect\
    \ an IPv6-only WiFi network\n   using laptops, tablets, or mobile phones.  NAT64\
    \ was deployed as the\n   gateway to provide Internet service.  The tested applications\
    \ are\n   shown in the table below.  Cold Standby, Warm Standby, and Hot\n   Standby\
    \ were each tested.  The participants may have experienced\n   service interruption\
    \ due to the NAT64 handover.  Different\n   interruption intervals were tested\
    \ to gauge application behaviors.\n   The results are shown below.\n         \
    \         Table 2: The Acceptable Delay of Applications\n   +----------------+------------------------+-------------------------+\n\
    \   | Application    | Acceptable Interrupt   |   Session Continuity    |\n  \
    \ |                |        Recovery        |                         |\n   +----------------+------------------------+-------------------------+\n\
    \   | Web browsing   | Maximum of 6 s         |  No                     |\n  \
    \ +----------------+------------------------+-------------------------+\n   |\
    \ HTTP streaming | Maximum of 10 s (cache)|  Yes                    |\n   +----------------+------------------------+-------------------------+\n\
    \   | Games          | 200-400 ms             |  Yes                    |\n  \
    \ +----------------+------------------------+-------------------------+\n   |P2P\
    \ file sharing| 10-16 s                |  Yes                    |\n   |and streaming\
    \   |                        |                         |\n   +----------------+------------------------+-------------------------+\n\
    \   | Instant Message| 1 minute               |  Yes                    |\n  \
    \ +----------------+------------------------+-------------------------+\n   |\
    \ Email          | 30 s                   |  No                     |\n   +----------------+------------------------+-------------------------+\n\
    \   | Downloading    | 1 minute               |  No                     |\n  \
    \ +----------------+------------------------+-------------------------+\n"
- title: Authors' Addresses
  contents:
  - "Authors' Addresses\n   Gang Chen\n   China Mobile\n   Xuanwumenxi Ave. No. 32\n\
    \   Xuanwu District\n   Beijing  100053\n   P.R. China\n   EMail: chengang@chinamobile.com,\
    \ phdgang@gmail.com\n   Zhen Cao\n   China Mobile\n   Xuanwumenxi Ave. No. 32\n\
    \   Xuanwu District\n   Beijing  100053\n   P.R. China\n   EMail: caozhen@chinamobile.com,\
    \ zehn.cao@gmail.com\n   Chongfeng Xie\n   China Telecom\n   Room 708, No. 118,\
    \ Xizhimennei Street\n   Beijing  100035\n   P.R. China\n   EMail: xiechf@ctbri.com.cn\n\
    \   David Binet\n   France Telecom-Orange\n   Rennes\n   35000\n   France\n  \
    \ EMail: david.binet@orange.com\n"
